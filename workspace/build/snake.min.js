/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 6);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(global) {

module.exports = global["PIXI"] = __webpack_require__(7);
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(1)))

/***/ }),
/* 1 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

var g;

// This works in non-strict mode
g = function () {
	return this;
}();

try {
	// This works if eval is allowed (see CSP)
	g = g || Function("return this")() || (1, eval)("this");
} catch (e) {
	// This works if the window reference is available
	if ((typeof window === "undefined" ? "undefined" : _typeof(window)) === "object") g = window;
}

// g can still be undefined, but nothing to do about it...
// We return undefined, instead of nothing here, so it's
// easier to handle this case. if(!global) { ...}

module.exports = g;

/***/ }),
/* 2 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(global) {

module.exports = global["p2"] = __webpack_require__(8);
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(1)))

/***/ }),
/* 3 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(global) {

module.exports = global["Phaser"] = __webpack_require__(9);
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(1)))

/***/ }),
/* 4 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

/** Die Schlange soll ihre Körperteile wie die Liste ihre Nodes verwalten */
var Schlange = function Schlange() {
    _classCallCheck(this, Schlange);

    //this.first = new Object();
    //this.first.typ = 'spieler';

    //this.last = new Object();
    //this.last.typ = 'verfolger';

    this.lvl1 = [{ first: new Object(), typ: 'spieler' }, { second: new Object(), typ: 'verfolger' }, { third: new Object(), typ: 'verfolger' }];
}

/** Körperteil zur Schlange hinzufügen
add(){
    first.add();
}

/** Körperteil aus Schlange entfernen 
delete(anzahl){
    if(anzahl < getLength()){
        first.delete(anzahl);
    }
    else{
        first.delete(getLength()-1);
    }
}

/** Gibt die Länge der Schlange in Form eines Zahlenwertes zurück 
getLength(){
    return first.count();
}

/** Weist dem Schlangenkopf eine neue Position zu 
move(newX, newY){
    this.first.move(first.positionX + newX, first.positionY + newY);
}
/** gibt die informationen über alle Körperteile als Array zurück 
getInfo(){
var info = new Array(this.getLength());
	for(var i = 0; i < this.getLength(); i++){
var currentNode = this.first;
info[0] = currentNode;
if(currentNode.naechster != undefined){
currentNode = currentNode.naechster;
} else { break; }
}
}*/

;

exports.default = Schlange;

/***/ }),
/* 5 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

__webpack_require__(0);

__webpack_require__(2);

__webpack_require__(3);

var _schlange = __webpack_require__(4);

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

//Kontrollerklasse für die Implementation des Views
var View = function () {
    function View(game, canvasWidth, canvasHeight, schlange) {
        _classCallCheck(this, View);

        this.game = game;

        this.canvasWidth = canvasWidth;
        this.canvasHeight = canvasHeight;

        this.spielergroesse = 60;
        this.startX = this.spielergroesse;
        this.startY = this.spielergroesse;

        this.einheitX = this.canvasWidth / 15; //60px
        this.einheitY = this.canvasHeight / 11; //60px

        this.schlange = schlange;
        this.i = 0;
    }

    /** 
    * Startschlange
    * bisher 1 Kopf mit 2 Verfolgern
    */


    _createClass(View, [{
        key: 'zeichneSchlange_LVL1',
        value: function zeichneSchlange_LVL1() {

            this.schlange.lvl1[2].image = this.game.add.image(this.startX, this.startY, 'verfolger');
            this.schlange.lvl1[1].image = this.game.add.image(this.startX + this.spielergroesse, this.startY, 'verfolger');

            //this.schlange.lvl1[0].image = this.game.add.image(this.startX + (2 * this.spielergroesse), this.startY, 'spieler');

            this.schlange.lvl1[0].image = this.game.add.sprite(this.startX + 2 * this.spielergroesse, this.startY, 'spieler');
            this.schlange.lvl1[0].image.frame = 3; // sprite schaut nach rechts
        }

        /*addAnimation() {
            for(var i = 0; i < this.schlange.lvl1.length; i++) {
                this.schlange.lvl1[i].image.animations.add('walk', [1, 2], 5, true);
            }
        }*/

        /** 
        * Bewegt die Schlange 
        * an der übergebenen Position
        */

    }, {
        key: 'bewegeSpieler',
        value: function bewegeSpieler(x, y, changeId) {

            var last_x = this.schlange.lvl1[1].image.world.x;
            var last_y = this.schlange.lvl1[1].image.world.y;

            var x_alt = this.schlange.lvl1[0].image.world.x;
            var y_alt = this.schlange.lvl1[0].image.world.y;

            for (var i = 0; i < this.schlange.lvl1.length; i++) {
                this.schlange.lvl1[i].image.destroy();

                switch (i) {
                    case 0:
                        this.schlange.lvl1[i].image = this.game.add.sprite(x, y, 'spieler');
                        switch (changeId) {
                            case 0:
                                this.schlange.lvl1[i].image.animations.add('walk', [4, 5], 5, true);
                                break;
                            case 1:
                                this.schlange.lvl1[i].image.animations.add('walk', [10, 11], 5, true);
                                break;
                            case 2:
                                this.schlange.lvl1[i].image.animations.add('walk', [1, 2], 5, true);
                                break;
                            case 3:
                                this.schlange.lvl1[i].image.animations.add('walk', [7, 8], 5, true);
                                break;
                        }
                        this.schlange.lvl1[i].image.animations.play('walk');
                        break;
                    case 1:
                        this.schlange.lvl1[i].image = this.game.add.image(x_alt, y_alt, 'verfolger');
                        break;
                    case 2:
                        this.schlange.lvl1[i].image = this.game.add.image(last_x, last_y, 'verfolger');
                }
            }
        }
    }]);

    return View;
}();

exports.default = View;

/***/ }),
/* 6 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

__webpack_require__(0);

__webpack_require__(2);

__webpack_require__(3);

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

/////////////////////////////////////////////////////////////////////////////
/////////////////////////////** HAUPTKLASSE *////////////////////////////////
/////////////////////////////////////////////////////////////////////////////
var Main = function () {
    function Main(game, canvasWidth, canvasHeight) {
        _classCallCheck(this, Main);

        this.game = game; // Referenz zum Phaser.Game-Objekt
        this.canvasWidth = canvasWidth;
        this.canvasHeight = canvasHeight;

        this.gameText; // Test

        this.frameCounter = 0;
        this.spielgeschwindigkeit = 20;

        // Klassenimport
        var Schlange = __webpack_require__(4).default; // klassen import
        this.schlange = new Schlange();

        var View = __webpack_require__(5).default; // klassen import
        this.view = new View(this.game, this.canvasWidth, this.canvasHeight, this.schlange);

        var Controller = __webpack_require__(11).default; // klassen import
        this.controller = new Controller(this.game, this.view, this.canvasWidth, this.canvasHeight);

        this.laufrichtung;
    }

    /** 
    * PHASER-Methode SPRITES/DATEIEN LADEN
    * Canvas-Einstellungen und Bild-/Audio-Dateien
    */


    _createClass(Main, [{
        key: 'preload',
        value: function preload() {
            this.game.stage.backgroundColor = "#FFF";

            //this.game.load.image('spieler', '../images/spieler.png');
            this.game.load.spritesheet('spieler', '../images/spieler.png', 60, 60, 12);
            this.game.load.image('verfolger', '../images/verfolger.jpg');
            this.game.load.image('stein', '../images/stein.jpg');
        }

        /** 
        * PHASER-Methode OBJEKTE ERZEUGEN 
        * Hier werden die benötigten Objekte und die Steuerung erzeugt.
        */

    }, {
        key: 'create',
        value: function create() {

            // Schlange aus Kopf und Verfolger erzeugen
            this.view.zeichneSchlange_LVL1();

            // Mauer aus Steinen (Model) erzeugen

            // random pickup (Model) erzeugen

            // Text zum Test (Damit habe ich getestet ob die Steuerung funktioniert)
            // der Text bisher nur eine 0
            this.gameText = this.game.add.text(this.canvasWidth, this.canvasHeight, "0", {
                font: "28px Arial",
                fill: "#000"
            });
            // Platzierung des Textes an die rechte untere Ecke des Feldes
            this.gameText.anchor.setTo(1, 1);
        }

        /** 
        * PHASER-Methode GAMELOOP
        * Hier wird die Spiele-Logik durchlaufen!!!
        */

    }, {
        key: 'update',
        value: function update() {

            this.controller.updateLaufrichtung(); // Laufrichtung aktualisieren

            this.frameCounter++;

            /** 
            * Diese if-Abfrage regelt die Geschwindigkeit des Spiels, da die 
            * update()-Methode aus Phaser ein sehr schneller und unendlicher Loop ist.
            *
            * Diese update()-Loop läuft also durch unendlich viele "Frames" und durch frameCounter und spielgeschwindigkeit wird es 
            * nun so eingestellt das alle 20 Frames 1 Aktion ausgeführt wird und der Loop dann wieder von vorne beginnt.
            */
            if (this.frameCounter == this.spielgeschwindigkeit) {

                // HIER WIRD DIE SCHLANGE MIT DEM CURSOR BEWEGT
                // die Schlange wird dadurch bewegt, das ein neuer Kopf vorne drangesetzt wird und das hinterste objekt gelöscht
                this.controller.bewegeSpieler();

                // HIER WERDEN KOLLISIONEN ABGEFRAGT

                //this.controllerTest(); // testet on der Controller funktioniert, wenn ja wird aus der 0 bei up-taste eine 9

                this.frameCounter = 0;
            }
        }

        /** 
        * Test-Methoden 
        */

    }, {
        key: 'controllerTest',
        value: function controllerTest() {

            if (this.controller.getCursor().up.isDown) {
                this.gameText.text = 9;
            }
        }
    }]);

    return Main;
}();

/////////////////////////////////////////////////////////////////////////////
/////////////////** Start sobald Browserfenster geladen *////////////////////
/////////////////////////////////////////////////////////////////////////////


exports.default = Main;
window.addEventListener('load', function () {

    /** Einstellungen für das Canvas */
    var canvasWidth = 900;
    var canvasHeight = 660;

    /** 
    * PHASER.GAME OBJEKT
    * Erzeugt das Canvas und die Phaser-Methoden die 
    * implementiert werden müssen für den Spieleablauf
    */
    var game = new Phaser.Game(canvasWidth, // canvas breite
    canvasHeight, // canvas höhe
    Phaser.CANVAS, // rendering-typ
    'game-box', // id des elternknotens in dem canvas erzeugt werden soll
    {
        // Funktionen die implementiert werden MÜSSEN 
        preload: preload, // Dateien laden
        create: create, // Objekte erzeugen
        update: update // Gameloop
    });

    /** Hauptklasse */
    var main = new Main(game, canvasWidth, canvasHeight);

    /** PHASER-Methode SPRITES/DATEIEN LADEN */
    function preload() {
        main.preload();
    }

    /** PHASER-Methode OBJEKTE ERZEUGEN */
    function create() {
        main.create();
    }

    /** PHASER-Methode GAMELOOP */
    function update() {
        main.update();
    }

    /** Testausgabe */
    main.toString();
});

/***/ }),
/* 7 */
/***/ (function(module, exports, __webpack_require__) {

/* Phaser v2.9.2 PIXI Build - http://phaser.io - @photonstorm - (c) 2016 Photon Storm Ltd. */

(function(){function e(e,t,r,s){var o=e.createTexture();return e.bindTexture(e.TEXTURE_2D,o),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,s===i.scaleModes.LINEAR?e.LINEAR:e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,s===i.scaleModes.LINEAR?e.LINEAR:e.NEAREST),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,t,r,0,e.RGBA,e.UNSIGNED_BYTE,null),o}function t(t,r,i,o,a){var n=t.createFramebuffer(),h=t.createRenderbuffer(),l=null,u=0;return t.activeTexture(t.TEXTURE0+a),t.bindFramebuffer(t.FRAMEBUFFER,n),t.bindRenderbuffer(t.RENDERBUFFER,h),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,this.renderBuffer),l=e(t,r,i,o),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,l,0),(u=t.checkFramebufferStatus(t.FRAMEBUFFER))!==t.FRAMEBUFFER_COMPLETE&&console.error("Incomplete GL framebuffer. ",s[u]),n.width=r,n.height=i,n.targetTexture=l,n.renderBuffer=h,n}var r=this,i=i||{};i.DisplayObject=function(){this.position=new i.Point(0,0),this.scale=new i.Point(1,1),this.pivot=new i.Point(0,0),this.rotation=0,this.alpha=1,this.visible=!0,this.hitArea=null,this.renderable=!1,this.parent=null,this.worldAlpha=1,this.worldTransform=new Phaser.Matrix,this.worldPosition=new i.Point(0,0),this.worldScale=new i.Point(1,1),this.worldRotation=0,this.filterArea=null,this._sr=0,this._cr=1,this._bounds=new i.Rectangle(0,0,0,0),this._currentBounds=null,this._mask=null,this._cacheAsBitmap=!1,this._cacheIsDirty=!1},i.DisplayObject.prototype={constructor:i.DisplayObject,destroy:function(){if(this.children){for(var e=this.children.length;e--;)this.children[e].destroy();this.children=[]}this.hitArea=null,this.parent=null,this.worldTransform=null,this.filterArea=null,this.renderable=!1,this._bounds=null,this._currentBounds=null,this._mask=null,this._destroyCachedSprite()},updateTransform:function(e){if(!e&&!this.parent&&!this.game)return this;var t=this.parent;e?t=e:this.parent||(t=this.game.world);var r,i,s,o,a,n,h=t.worldTransform,l=this.worldTransform;this.rotation%Phaser.Math.PI2?(this.rotation!==this.rotationCache&&(this.rotationCache=this.rotation,this._sr=Math.sin(this.rotation),this._cr=Math.cos(this.rotation)),r=this._cr*this.scale.x,i=this._sr*this.scale.x,s=-this._sr*this.scale.y,o=this._cr*this.scale.y,a=this.position.x,n=this.position.y,(this.pivot.x||this.pivot.y)&&(a-=this.pivot.x*r+this.pivot.y*s,n-=this.pivot.x*i+this.pivot.y*o),l.a=r*h.a+i*h.c,l.b=r*h.b+i*h.d,l.c=s*h.a+o*h.c,l.d=s*h.b+o*h.d,l.tx=a*h.a+n*h.c+h.tx,l.ty=a*h.b+n*h.d+h.ty):(r=this.scale.x,i=0,s=0,o=this.scale.y,a=this.position.x-this.pivot.x*r,n=this.position.y-this.pivot.y*o,l.a=r*h.a,l.b=r*h.b,l.c=o*h.c,l.d=o*h.d,l.tx=a*h.a+n*h.c+h.tx,l.ty=a*h.b+n*h.d+h.ty),r=l.a,i=l.b,s=l.c;var u=r*(o=l.d)-i*s;if(r||i){var d=Math.sqrt(r*r+i*i);this.worldRotation=i>0?Math.acos(r/d):-Math.acos(r/d),this.worldScale.x=d,this.worldScale.y=u/d}else if(s||o){var c=Math.sqrt(s*s+o*o);this.worldRotation=Phaser.Math.HALF_PI-(o>0?Math.acos(-s/c):-Math.acos(s/c)),this.worldScale.x=u/c,this.worldScale.y=c}else this.worldScale.x=0,this.worldScale.y=0;return this.worldAlpha=this.alpha*t.worldAlpha,this.worldPosition.x=l.tx,this.worldPosition.y=l.ty,this._currentBounds=null,this.transformCallback&&this.transformCallback.call(this.transformCallbackContext,l,h),this},preUpdate:function(){},generateTexture:function(e,t,r){var s=this.getLocalBounds(),o=new Phaser.RenderTexture(this.game,0|s.width,0|s.height,r,t,e);return i.DisplayObject._tempMatrix.tx=-s.x,i.DisplayObject._tempMatrix.ty=-s.y,o.render(this,i.DisplayObject._tempMatrix),o},updateCache:function(){return this._generateCachedSprite(),this},toGlobal:function(e){return this.updateTransform(),this.worldTransform.apply(e)},toLocal:function(e,t){return t&&(e=t.toGlobal(e)),this.updateTransform(),this.worldTransform.applyInverse(e)},_renderCachedSprite:function(e){this._cachedSprite.worldAlpha=this.worldAlpha,e.gl?i.Sprite.prototype._renderWebGL.call(this._cachedSprite,e):i.Sprite.prototype._renderCanvas.call(this._cachedSprite,e)},_generateCachedSprite:function(){this._cacheAsBitmap=!1;var e=this.getLocalBounds();if(e.width=Math.max(1,Math.ceil(e.width)),e.height=Math.max(1,Math.ceil(e.height)),this.updateTransform(),this._cachedSprite)this._cachedSprite.texture.resize(e.width,e.height);else{var t=0;this.texture&&this.texture.baseTexture&&i._enableMultiTextureToggle&&(t=this.texture.baseTexture.textureIndex);var r=new Phaser.RenderTexture(this.game,e.width,e.height,void 0,void 0,void 0,void 0,t);this._cachedSprite=new i.Sprite(r),this._cachedSprite.worldTransform=this.worldTransform}var s=this._filters;this._filters=null,this._cachedSprite.filters=s,i.DisplayObject._tempMatrix.tx=-e.x,i.DisplayObject._tempMatrix.ty=-e.y,this._cachedSprite.texture.render(this,i.DisplayObject._tempMatrix,!0),this._cachedSprite.anchor.x=-e.x/e.width,this._cachedSprite.anchor.y=-e.y/e.height,this._filters=s,this._cacheAsBitmap=!0},_destroyCachedSprite:function(){this._cachedSprite&&(this._cachedSprite.texture.destroy(!0),this._cachedSprite=null)}},i.DisplayObject.prototype.displayObjectUpdateTransform=i.DisplayObject.prototype.updateTransform,Object.defineProperties(i.DisplayObject.prototype,{x:{get:function(){return this.position.x},set:function(e){this.position.x=e}},y:{get:function(){return this.position.y},set:function(e){this.position.y=e}},worldVisible:{get:function(){if(this.visible){var e=this.parent;if(!e)return this.visible;do{if(!e.visible)return!1;e=e.parent}while(e);return!0}return!1}},mask:{get:function(){return this._mask},set:function(e){this._mask&&(this._mask.isMask=!1),this._mask=e,e&&(this._mask.isMask=!0)}},filters:{get:function(){return this._filters},set:function(e){if(Array.isArray(e)){for(var t=[],r=0;r<e.length;r++)for(var s=e[r].passes,o=0;o<s.length;o++)t.push(s[o]);this._filterBlock={target:this,filterPasses:t}}this._filters=e,this.blendMode&&this.blendMode===i.blendModes.MULTIPLY&&(this.blendMode=i.blendModes.NORMAL)}},cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(e){this._cacheAsBitmap!==e&&(e?this._generateCachedSprite():this._destroyCachedSprite(),this._cacheAsBitmap=e)}}}),i.DisplayObjectContainer=function(){i.DisplayObject.call(this),this.children=[],this.ignoreChildInput=!1},i.DisplayObjectContainer.prototype=Object.create(i.DisplayObject.prototype),i.DisplayObjectContainer.prototype.constructor=i.DisplayObjectContainer,i.DisplayObjectContainer.prototype.addChild=function(e){return this.addChildAt(e,this.children.length)},i.DisplayObjectContainer.prototype.addChildAt=function(e,t){if(t>=0&&t<=this.children.length)return e.parent&&e.parent.removeChild(e),e.parent=this,this.children.splice(t,0,e),e;throw new Error(e+"addChildAt: The index "+t+" supplied is out of bounds "+this.children.length)},i.DisplayObjectContainer.prototype.swapChildren=function(e,t){if(e!==t){var r=this.getChildIndex(e),i=this.getChildIndex(t);if(r<0||i<0)throw new Error("swapChildren: Both the supplied DisplayObjects must be a child of the caller.");this.children[r]=t,this.children[i]=e}},i.DisplayObjectContainer.prototype.getChildIndex=function(e){var t=this.children.indexOf(e);if(-1===t)throw new Error("The supplied DisplayObject must be a child of the caller");return t},i.DisplayObjectContainer.prototype.setChildIndex=function(e,t){if(t<0||t>=this.children.length)throw new Error("The supplied index is out of bounds");var r=this.getChildIndex(e);this.children.splice(r,1),this.children.splice(t,0,e)},i.DisplayObjectContainer.prototype.getChildAt=function(e){if(e<0||e>=this.children.length)throw new Error("getChildAt: Supplied index "+e+" does not exist in the child list, or the supplied DisplayObject must be a child of the caller");return this.children[e]},i.DisplayObjectContainer.prototype.removeChild=function(e){var t=this.children.indexOf(e);if(-1!==t)return this.removeChildAt(t)},i.DisplayObjectContainer.prototype.removeChildAt=function(e){var t=this.getChildAt(e);return t&&(t.parent=void 0,this.children.splice(e,1)),t},i.DisplayObjectContainer.prototype.removeChildren=function(e,t){void 0===e&&(e=0),void 0===t&&(t=this.children.length);var r=t-e;if(r>0&&r<=t){for(var i=this.children.splice(e,r),s=0;s<i.length;s++)i[s].parent=void 0;return i}if(0===r&&0===this.children.length)return[];throw new Error("removeChildren: Range Error, numeric values are outside the acceptable range")},i.DisplayObjectContainer.prototype.updateTransform=function(){if(this.visible&&(this.displayObjectUpdateTransform(),!this._cacheAsBitmap))for(var e=0;e<this.children.length;e++)this.children[e].updateTransform()},i.DisplayObjectContainer.prototype.displayObjectContainerUpdateTransform=i.DisplayObjectContainer.prototype.updateTransform,i.DisplayObjectContainer.prototype.getBounds=function(e){var t=e&&e instanceof i.DisplayObject,r=!0;t?r=e instanceof i.DisplayObjectContainer&&e.contains(this):e=this;var s;if(t){var o=e.worldTransform;for(e.worldTransform=Phaser.identityMatrix,s=0;s<e.children.length;s++)e.children[s].updateTransform()}var a,n,h,l=1/0,u=1/0,d=-1/0,c=-1/0,f=!1;for(s=0;s<this.children.length;s++)this.children[s].visible&&(f=!0,l=l<(a=this.children[s].getBounds()).x?l:a.x,u=u<a.y?u:a.y,n=a.width+a.x,h=a.height+a.y,d=d>n?d:n,c=c>h?c:h);var x=this._bounds;if(!f){var p=(x=new i.Rectangle).x,g=x.width+x.x,v=x.y,T=x.height+x.y,m=this.worldTransform,E=m.a,_=m.b,S=m.c,y=m.d,b=m.tx,A=m.ty,R=E*g+S*T+b,M=y*T+_*g+A,C=E*p+S*T+b,L=y*T+_*p+A,B=E*p+S*v+b,P=y*v+_*p+A,w=E*g+S*v+b,U=y*v+_*g+A;d=R,c=M,u=M,l=w<(l=B<(l=C<(l=R)?C:l)?B:l)?w:l,u=U<(u=P<(u=L<u?L:u)?P:u)?U:u,d=w>(d=B>(d=C>d?C:d)?B:d)?w:d,c=U>(c=P>(c=L>c?L:c)?P:c)?U:c}if(x.x=l,x.y=u,x.width=d-l,x.height=c-u,t)for(e.worldTransform=o,s=0;s<e.children.length;s++)e.children[s].updateTransform();if(!r){var F=e.getBounds();x.x-=F.x,x.y-=F.y}return x},i.DisplayObjectContainer.prototype.getLocalBounds=function(){return this.getBounds(this)},i.DisplayObjectContainer.prototype.contains=function(e){return!!e&&(e===this||this.contains(e.parent))},i.DisplayObjectContainer.prototype._renderWebGL=function(e){if(this.visible&&!(this.alpha<=0))if(this._cacheAsBitmap)this._renderCachedSprite(e);else{var t;if(this._mask||this._filters){for(this._filters&&(e.spriteBatch.flush(),e.filterManager.pushFilter(this._filterBlock)),this._mask&&(e.spriteBatch.stop(),e.maskManager.pushMask(this.mask,e),e.spriteBatch.start()),t=0;t<this.children.length;t++)this.children[t]._renderWebGL(e);e.spriteBatch.stop(),this._mask&&e.maskManager.popMask(this._mask,e),this._filters&&e.filterManager.popFilter(),e.spriteBatch.start()}else for(t=0;t<this.children.length;t++)this.children[t]._renderWebGL(e)}},i.DisplayObjectContainer.prototype._renderCanvas=function(e){if(!1!==this.visible&&0!==this.alpha)if(this._cacheAsBitmap)this._renderCachedSprite(e);else{this._mask&&e.maskManager.pushMask(this._mask,e);for(var t=0;t<this.children.length;t++)this.children[t]._renderCanvas(e);this._mask&&e.maskManager.popMask(e)}},Object.defineProperty(i.DisplayObjectContainer.prototype,"width",{get:function(){return this.getLocalBounds().width*this.scale.x},set:function(e){var t=this.getLocalBounds().width;this.scale.x=0!==t?e/t:1,this._width=e}}),Object.defineProperty(i.DisplayObjectContainer.prototype,"height",{get:function(){return this.getLocalBounds().height*this.scale.y},set:function(e){var t=this.getLocalBounds().height;this.scale.y=0!==t?e/t:1,this._height=e}}),i.Sprite=function(e){i.DisplayObjectContainer.call(this),this.anchor=new i.Point(i.Sprite.defaultAnchor.x,i.Sprite.defaultAnchor.y),this.texture=e||i.Texture.emptyTexture,this._width=0,this._height=0,this.tint=16777215,this.cachedTint=-1,this.tintedTexture=null,this.blendMode=i.blendModes.NORMAL,this.shader=null,this.exists=!0,this.texture.baseTexture.hasLoaded&&this.onTextureUpdate(),this.renderable=!0},i.Sprite.defaultAnchor={x:0,y:0},i.Sprite.prototype=Object.create(i.DisplayObjectContainer.prototype),i.Sprite.prototype.constructor=i.Sprite,Object.defineProperty(i.Sprite.prototype,"width",{get:function(){return this.scale.x*this.texture.frame.width},set:function(e){this.scale.x=e/this.texture.frame.width,this._width=e}}),Object.defineProperty(i.Sprite.prototype,"height",{get:function(){return this.scale.y*this.texture.frame.height},set:function(e){this.scale.y=e/this.texture.frame.height,this._height=e}}),i.Sprite.prototype.setTexture=function(e,t){t&&this.texture.baseTexture.destroy(),this.texture.baseTexture.skipRender=!1,this.texture=e,this.texture.valid=!0,this.cachedTint=-1},i.Sprite.prototype.onTextureUpdate=function(){this._width&&(this.scale.x=this._width/this.texture.frame.width),this._height&&(this.scale.y=this._height/this.texture.frame.height)},i.Sprite.prototype.getBounds=function(e){var t=this.texture.frame.width,r=this.texture.frame.height,i=t*(1-this.anchor.x),s=t*-this.anchor.x,o=r*(1-this.anchor.y),a=r*-this.anchor.y,n=e||this.worldTransform,h=n.a,l=n.b,u=n.c,d=n.d,c=n.tx,f=n.ty,x=-1/0,p=-1/0,g=1/0,v=1/0;if(0===l&&0===u){if(h<0){h*=-1;T=i;i=-s,s=-T}if(d<0){d*=-1;var T=o;o=-a,a=-T}g=h*s+c,x=h*i+c,v=d*a+f,p=d*o+f}else{var m=h*s+u*a+c,E=d*a+l*s+f,_=h*i+u*a+c,S=d*a+l*i+f,y=h*i+u*o+c,b=d*o+l*i+f,A=h*s+u*o+c,R=d*o+l*s+f;g=A<(g=y<(g=_<(g=m<g?m:g)?_:g)?y:g)?A:g,v=R<(v=b<(v=S<(v=E<v?E:v)?S:v)?b:v)?R:v,x=A>(x=y>(x=_>(x=m>x?m:x)?_:x)?y:x)?A:x,p=R>(p=b>(p=S>(p=E>p?E:p)?S:p)?b:p)?R:p}var M=this._bounds;return M.x=g,M.width=x-g,M.y=v,M.height=p-v,this._currentBounds=M,M},i.Sprite.prototype.getLocalBounds=function(){var e=this.worldTransform;this.worldTransform=Phaser.identityMatrix;for(var t=0;t<this.children.length;t++)this.children[t].updateTransform();var r=this.getBounds();for(this.worldTransform=e,t=0;t<this.children.length;t++)this.children[t].updateTransform();return r},i.Sprite.prototype._renderWebGL=function(e,t){if(this.visible&&!(this.alpha<=0)&&this.renderable){var r=this.worldTransform;if(t&&(r=t),this._mask||this._filters){var i=e.spriteBatch;this._filters&&(i.flush(),e.filterManager.pushFilter(this._filterBlock)),this._mask&&(i.stop(),e.maskManager.pushMask(this.mask,e),i.start()),i.render(this);for(s=0;s<this.children.length;s++)this.children[s]._renderWebGL(e);i.stop(),this._mask&&e.maskManager.popMask(this._mask,e),this._filters&&e.filterManager.popFilter(),i.start()}else{e.spriteBatch.render(this);for(var s=0;s<this.children.length;s++)this.children[s]._renderWebGL(e,r)}}},i.Sprite.prototype._renderCanvas=function(e,t){if(!(!this.visible||0===this.alpha||!this.renderable||this.texture.crop.width<=0||this.texture.crop.height<=0)){var r=this.worldTransform;if(t&&(r=t),this.blendMode!==e.currentBlendMode&&(e.currentBlendMode=this.blendMode,e.context.globalCompositeOperation=i.blendModesCanvas[e.currentBlendMode]),this._mask&&e.maskManager.pushMask(this._mask,e),this.texture.valid){var s=this.texture.baseTexture.resolution/e.resolution;e.context.globalAlpha=this.worldAlpha,e.smoothProperty&&e.scaleMode!==this.texture.baseTexture.scaleMode&&(e.scaleMode=this.texture.baseTexture.scaleMode,e.context[e.smoothProperty]=e.scaleMode===i.scaleModes.LINEAR);var o=this.texture.trim?this.texture.trim.x-this.anchor.x*this.texture.trim.width:this.anchor.x*-this.texture.frame.width,a=this.texture.trim?this.texture.trim.y-this.anchor.y*this.texture.trim.height:this.anchor.y*-this.texture.frame.height,n=r.tx*e.resolution+e.shakeX,h=r.ty*e.resolution+e.shakeY,l=this.texture.crop.width,u=this.texture.crop.height;if(this.texture.rotated){var d=r.a,c=r.b,f=r.c,x=r.d,p=l;n=r.c*u+n,h=r.d*u+h,r.a=6.123233995736766e-17*d-f,r.b=6.123233995736766e-17*c-x,r.c=d+6.123233995736766e-17*f,r.d=c+6.123233995736766e-17*x,l=u,u=p}if(e.roundPixels?(e.context.setTransform(r.a,r.b,r.c,r.d,0|n,0|h),o|=0,a|=0):e.context.setTransform(r.a,r.b,r.c,r.d,n,h),o/=s,a/=s,16777215!==this.tint)(this.texture.requiresReTint||this.cachedTint!==this.tint)&&(this.tintedTexture=i.CanvasTinter.getTintedTexture(this,this.tint),this.cachedTint=this.tint,this.texture.requiresReTint=!1),e.context.drawImage(this.tintedTexture,0,0,l,u,o,a,l/s,u/s);else{var g=this.texture.crop.x,v=this.texture.crop.y;l=Math.floor(l),u=Math.floor(u),e.context.drawImage(this.texture.baseTexture.source,g,v,l,u,o,a,l/s,u/s)}for(T=0;T<this.children.length;T++)this.children[T]._renderCanvas(e);this._mask&&e.maskManager.popMask(e)}else{for(var T=0;T<this.children.length;T++)this.children[T]._renderCanvas(e);this._mask&&e.maskManager.popMask(e)}}},i.initDefaultShaders=function(){},i.CompileVertexShader=function(e,t){return i._CompileShader(e,t,e.VERTEX_SHADER)},i.CompileFragmentShader=function(e,t){return i._CompileShader(e,t,e.FRAGMENT_SHADER)},i._CompileShader=function(e,t,r){var i=t;Array.isArray(t)&&(i=t.join("\n"));var s=e.createShader(r);return e.shaderSource(s,i),e.compileShader(s),e.getShaderParameter(s,e.COMPILE_STATUS)?s:(window.console.log(e.getShaderInfoLog(s)),null)},i.compileProgram=function(e,t,r){var s=i.CompileFragmentShader(e,r),o=i.CompileVertexShader(e,t),a=e.createProgram();return e.attachShader(a,o),e.attachShader(a,s),e.linkProgram(a),e.getProgramParameter(a,e.LINK_STATUS)||(window.console.log(e.getProgramInfoLog(a)),window.console.log("Could not initialise shaders")),a},i.PixiShader=function(e){this._UID=Phaser._UID++,this.gl=e,this.program=null,this.fragmentSrc=null,this.textureCount=0,this.firstRun=!0,this.dirty=!0,this.attributes=[],this.init()},i.PixiShader.prototype.constructor=i.PixiShader,i.PixiShader.prototype.initMultitexShader=function(){var e=this.gl;this.MAX_TEXTURES=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);for(var t="\tif (vTextureIndex == 0.0) { gl_FragColor = texture2D(uSamplerArray[0], vTextureCoord) * vColor;return;}\n",r=1;r<this.MAX_TEXTURES;++r)t+="\tif (vTextureIndex == "+r+".0) {gl_FragColor = texture2D(uSamplerArray["+r+"], vTextureCoord) * vColor;return;}\n";this.fragmentSrc=["// PixiShader Fragment Shader.","precision lowp float;","bool isnan( float val ) {  return ( val < 0.0 || 0.0 < val || val == 0.0 ) ? false : true; }","varying vec2 vTextureCoord;","varying vec4 vColor;","varying float vTextureIndex;","uniform sampler2D uSamplerArray["+this.MAX_TEXTURES+"];","const vec4 BLUE = vec4(1.0, 0.0, 1.0, 1.0);","const vec4 RED = vec4(1.0, 0.0, 0.0, 1.0);","void main(void) {",t,"   if(vTextureIndex >= "+this.MAX_TEXTURES+".0) { gl_FragColor = BLUE;return;}","   if(isnan(vTextureIndex)) { gl_FragColor = RED;return;}","}"];var s=i.compileProgram(e,this.vertexSrc||i.PixiShader.defaultVertexSrc,this.fragmentSrc);e.useProgram(s),this.uSamplerArray=e.getUniformLocation(s,"uSamplerArray[0]"),this.projectionVector=e.getUniformLocation(s,"projectionVector"),this.offsetVector=e.getUniformLocation(s,"offsetVector"),this.dimensions=e.getUniformLocation(s,"dimensions"),this.aVertexPosition=e.getAttribLocation(s,"aVertexPosition"),this.aTextureCoord=e.getAttribLocation(s,"aTextureCoord"),this.colorAttribute=e.getAttribLocation(s,"aColor"),this.aTextureIndex=e.getAttribLocation(s,"aTextureIndex");var o=[],a=e.createTexture();e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,a),e.texImage2D(e.TEXTURE_2D,0,e.RGB,1,1,0,e.RGB,e.UNSIGNED_BYTE,null);for(var n=0;n<this.MAX_TEXTURES;++n)e.activeTexture(e.TEXTURE0+n),e.bindTexture(e.TEXTURE_2D,a),o.push(n);e.activeTexture(e.TEXTURE0),e.uniform1iv(this.uSamplerArray,o),-1===this.colorAttribute&&(this.colorAttribute=2),this.attributes=[this.aVertexPosition,this.aTextureCoord,this.colorAttribute,this.aTextureIndex];for(var h in this.uniforms)this.uniforms[h].uniformLocation=e.getUniformLocation(s,h);this.initUniforms(),this.program=s},i.PixiShader.prototype.initDefaultShader=function(){null===this.fragmentSrc&&(this.fragmentSrc=["precision lowp float;","varying vec2 vTextureCoord;","varying vec4 vColor;","varying float vTextureIndex;","uniform sampler2D uSampler;","void main(void) {","   gl_FragColor = texture2D(uSampler, vTextureCoord) * vColor ;","}"]);var e=this.gl,t=i.compileProgram(e,this.vertexSrc||i.PixiShader.defaultVertexSrc,this.fragmentSrc);e.useProgram(t),this.uSampler=e.getUniformLocation(t,"uSampler"),this.projectionVector=e.getUniformLocation(t,"projectionVector"),this.offsetVector=e.getUniformLocation(t,"offsetVector"),this.dimensions=e.getUniformLocation(t,"dimensions"),this.aVertexPosition=e.getAttribLocation(t,"aVertexPosition"),this.aTextureCoord=e.getAttribLocation(t,"aTextureCoord"),this.colorAttribute=e.getAttribLocation(t,"aColor"),this.aTextureIndex=e.getAttribLocation(t,"aTextureIndex"),-1===this.colorAttribute&&(this.colorAttribute=2),this.attributes=[this.aVertexPosition,this.aTextureCoord,this.colorAttribute,this.aTextureIndex];for(var r in this.uniforms)this.uniforms[r].uniformLocation=e.getUniformLocation(t,r);this.initUniforms(),this.program=t},i.PixiShader.prototype.init=function(e){i._enableMultiTextureToggle&&!e?this.initMultitexShader():this.initDefaultShader()},i.PixiShader.prototype.initUniforms=function(){this.textureCount=1;var e,t=this.gl;for(var r in this.uniforms){var i=(e=this.uniforms[r]).type;"sampler2D"===i?(e._init=!1,null!==e.value&&this.initSampler2D(e)):"mat2"===i||"mat3"===i||"mat4"===i?(e.glMatrix=!0,e.glValueLength=1,"mat2"===i?e.glFunc=t.uniformMatrix2fv:"mat3"===i?e.glFunc=t.uniformMatrix3fv:"mat4"===i&&(e.glFunc=t.uniformMatrix4fv)):(e.glFunc=t["uniform"+i],e.glValueLength="2f"===i||"2i"===i?2:"3f"===i||"3i"===i?3:"4f"===i||"4i"===i?4:1)}},i.PixiShader.prototype.initSampler2D=function(e){if(e.value&&e.value.baseTexture&&e.value.baseTexture.hasLoaded){var t=this.gl;if(t.activeTexture(t.TEXTURE0+this.textureCount),t.bindTexture(t.TEXTURE_2D,e.value.baseTexture._glTextures[t.id]),e.textureData){var r=e.textureData,i=r.magFilter?r.magFilter:t.LINEAR,s=r.minFilter?r.minFilter:t.LINEAR,o=r.wrapS?r.wrapS:t.CLAMP_TO_EDGE,a=r.wrapT?r.wrapT:t.CLAMP_TO_EDGE,n=r.luminance?t.LUMINANCE:t.RGBA;if(r.repeat&&(o=t.REPEAT,a=t.REPEAT),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,!!r.flipY),r.width){var h=r.width?r.width:512,l=r.height?r.height:2,u=r.border?r.border:0;t.texImage2D(t.TEXTURE_2D,0,n,h,l,u,n,t.UNSIGNED_BYTE,null)}else t.texImage2D(t.TEXTURE_2D,0,n,t.RGBA,t.UNSIGNED_BYTE,e.value.baseTexture.source);t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,i),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,s),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,o),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,a)}t.uniform1i(e.uniformLocation,this.textureCount),e._init=!0,this.textureCount++}},i.PixiShader.prototype.syncUniforms=function(){this.textureCount=1;var e,t=this.gl;for(var r in this.uniforms)1===(e=this.uniforms[r]).glValueLength?!0===e.glMatrix?e.glFunc.call(t,e.uniformLocation,e.transpose,e.value):e.glFunc.call(t,e.uniformLocation,e.value):2===e.glValueLength?e.glFunc.call(t,e.uniformLocation,e.value.x,e.value.y):3===e.glValueLength?e.glFunc.call(t,e.uniformLocation,e.value.x,e.value.y,e.value.z):4===e.glValueLength?e.glFunc.call(t,e.uniformLocation,e.value.x,e.value.y,e.value.z,e.value.w):"sampler2D"===e.type&&(e._init?(t.activeTexture(t["TEXTURE"+this.textureCount]),e.value.baseTexture._dirty[t.id]?i.instances[t.id].updateTexture(e.value.baseTexture):t.bindTexture(t.TEXTURE_2D,e.value.baseTexture._glTextures[t.id]),t.uniform1i(e.uniformLocation,this.textureCount),this.textureCount++):this.initSampler2D(e))},i.PixiShader.prototype.destroy=function(){this.gl.deleteProgram(this.program),this.uniforms=null,this.gl=null,this.attributes=null},i.PixiShader.defaultVertexSrc=["// PixiShader Vertex Shader","// With multi-texture rendering","attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","attribute vec4 aColor;","attribute float aTextureIndex;","uniform vec2 projectionVector;","uniform vec2 offsetVector;","varying vec2 vTextureCoord;","varying vec4 vColor;","varying float vTextureIndex;","const vec2 center = vec2(-1.0, 1.0);","void main(void) {","   if (aTextureIndex > 0.0) gl_Position = vec4(0.0);","   gl_Position = vec4( ((aVertexPosition + offsetVector) / projectionVector) + center , 0.0, 1.0);","   vTextureCoord = aTextureCoord;","   vColor = vec4(aColor.rgb * aColor.a, aColor.a);","   vTextureIndex = aTextureIndex;","}"],i.PixiFastShader=function(e){if(this._UID=Phaser._UID++,this.gl=e,this.program=null,i._enableMultiTextureToggle){var e=this.gl;this.MAX_TEXTURES=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);for(var t="\tif (vTextureIndex == 0.0) { gl_FragColor = texture2D(uSamplerArray[0], vTextureCoord) * vColor;return;}\n",r=1;r<this.MAX_TEXTURES;++r)t+="\tif (vTextureIndex == "+r+".0) { gl_FragColor = texture2D(uSamplerArray["+r+"], vTextureCoord) * vColor;return;}\n";this.fragmentSrc=["// PixiFastShader Fragment Shader.","precision lowp float;","bool isnan( float val ) {  return ( val < 0.0 || 0.0 < val || val == 0.0 ) ? false : true; }","varying vec2 vTextureCoord;","varying float vColor;","varying float vTextureIndex;","uniform sampler2D uSamplerArray["+this.MAX_TEXTURES+"];","const vec4 BLUE = vec4(1.0, 0.0, 1.0, 1.0);","const vec4 RED = vec4(1.0, 0.0, 0.0, 1.0);","void main(void) {",t,"   if(vTextureIndex >= "+this.MAX_TEXTURES+".0) { gl_FragColor = BLUE;return;}","   if(isnan(vTextureIndex)) {gl_FragColor = RED;return;}","}"]}else this.fragmentSrc=["// PixiFastShader Fragment Shader.","precision lowp float;","varying vec2 vTextureCoord;","varying float vColor;","varying float vTextureIndex;","uniform sampler2D uSampler;","void main(void) {","   gl_FragColor = texture2D(uSampler, vTextureCoord) * vColor;","}"];this.vertexSrc=["// PixiFastShader Vertex Shader.","attribute vec2 aVertexPosition;","attribute vec2 aPositionCoord;","attribute vec2 aScale;","attribute float aRotation;","attribute vec2 aTextureCoord;","attribute float aColor;","attribute float aTextureIndex;","uniform vec2 projectionVector;","uniform vec2 offsetVector;","uniform mat3 uMatrix;","varying vec2 vTextureCoord;","varying float vColor;","varying float vTextureIndex;","const vec2 center = vec2(-1.0, 1.0);","void main(void) {","   vec2 v;","   vec2 sv = aVertexPosition * aScale;","   v.x = (sv.x) * cos(aRotation) - (sv.y) * sin(aRotation);","   v.y = (sv.x) * sin(aRotation) + (sv.y) * cos(aRotation);","   v = ( uMatrix * vec3(v + aPositionCoord , 1.0) ).xy ;","   gl_Position = vec4( ( v / projectionVector) + center , 0.0, 1.0);","   vTextureCoord = aTextureCoord;","   vTextureIndex = aTextureIndex;","   vColor = aColor;","}"],this.textureCount=0,this.init()},i.PixiFastShader.prototype.constructor=i.PixiFastShader,i.PixiFastShader.prototype.init=function(){var e=this.gl,t=i.compileProgram(e,this.vertexSrc,this.fragmentSrc);if(e.useProgram(t),this.uSampler=i._enableMultiTextureToggle?e.getUniformLocation(t,"uSamplerArray[0]"):e.getUniformLocation(t,"uSampler"),i._enableMultiTextureToggle){var r=[],s=e.createTexture();e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,s),e.texImage2D(e.TEXTURE_2D,0,e.RGB,1,1,0,e.RGB,e.UNSIGNED_BYTE,null);for(var o=0;o<this.MAX_TEXTURES;++o)e.activeTexture(e.TEXTURE0+o),e.bindTexture(e.TEXTURE_2D,s),r.push(o);e.activeTexture(e.TEXTURE0),e.uniform1iv(this.uSampler,r)}this.projectionVector=e.getUniformLocation(t,"projectionVector"),this.offsetVector=e.getUniformLocation(t,"offsetVector"),this.dimensions=e.getUniformLocation(t,"dimensions"),this.uMatrix=e.getUniformLocation(t,"uMatrix"),this.aVertexPosition=e.getAttribLocation(t,"aVertexPosition"),this.aPositionCoord=e.getAttribLocation(t,"aPositionCoord"),this.aScale=e.getAttribLocation(t,"aScale"),this.aRotation=e.getAttribLocation(t,"aRotation"),this.aTextureCoord=e.getAttribLocation(t,"aTextureCoord"),this.colorAttribute=e.getAttribLocation(t,"aColor"),this.aTextureIndex=e.getAttribLocation(t,"aTextureIndex"),-1===this.colorAttribute&&(this.colorAttribute=2),this.attributes=[this.aVertexPosition,this.aPositionCoord,this.aScale,this.aRotation,this.aTextureCoord,this.colorAttribute,this.aTextureIndex],this.program=t},i.PixiFastShader.prototype.destroy=function(){this.gl.deleteProgram(this.program),this.uniforms=null,this.gl=null,this.attributes=null},i.StripShader=function(e){if(this._UID=Phaser._UID++,this.gl=e,this.program=null,i._enableMultiTextureToggle){var e=this.gl;this.MAX_TEXTURES=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);for(var t="\tif (vTextureIndex == 0.0) { gl_FragColor = texture2D(uSamplerArray[0], vTextureCoord);return;}\n",r=1;r<this.MAX_TEXTURES;++r)t+="\tif (vTextureIndex == "+r+".0) { gl_FragColor = texture2D(uSamplerArray["+r+"], vTextureCoord) ;return;}\n";this.fragmentSrc=["//StripShader Fragment Shader.","precision mediump float;","bool isnan( float val ) {  return ( val < 0.0 || 0.0 < val || val == 0.0 ) ? false : true; }","varying vec2 vTextureCoord;","varying float vTextureIndex;","uniform float alpha;","uniform sampler2D uSamplerArray["+this.MAX_TEXTURES+"];","const vec4 BLUE = vec4(1.0, 0.0, 1.0, 1.0);","const vec4 RED = vec4(1.0, 0.0, 0.0, 1.0);","void main(void) {",t,"   if(vTextureIndex >= "+this.MAX_TEXTURES+".0) { gl_FragColor = BLUE;return;}","   if(isnan(vTextureIndex)) {gl_FragColor = RED;return;}","}"]}else this.fragmentSrc=["//StripShader Fragment Shader.","precision mediump float;","varying vec2 vTextureCoord;","varying float vTextureIndex;","uniform float alpha;","uniform sampler2D uSampler;","void main(void) {","   gl_FragColor = texture2D(uSampler, vTextureCoord);","}"];this.vertexSrc=["//StripShader Vertex Shader.","attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","attribute float aTextureIndex;","uniform mat3 translationMatrix;","uniform vec2 projectionVector;","uniform vec2 offsetVector;","varying vec2 vTextureCoord;","varying float vTextureIndex;","void main(void) {","   vec3 v = translationMatrix * vec3(aVertexPosition , 1.0);","   v -= offsetVector.xyx;","   gl_Position = vec4( v.x / projectionVector.x -1.0, v.y / -projectionVector.y + 1.0 , 0.0, 1.0);","   vTextureCoord = aTextureCoord;","   vTextureIndex = aTextureIndex;","}"],this.init()},i.StripShader.prototype.constructor=i.StripShader,i.StripShader.prototype.init=function(){var e=this.gl,t=i.compileProgram(e,this.vertexSrc,this.fragmentSrc);if(e.useProgram(t),this.uSampler=i._enableMultiTextureToggle?e.getUniformLocation(t,"uSamplerArray[0]"):e.getUniformLocation(t,"uSampler"),i._enableMultiTextureToggle){var r=[],s=e.createTexture();e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,s),e.texImage2D(e.TEXTURE_2D,0,e.RGB,1,1,0,e.RGB,e.UNSIGNED_BYTE,null);for(var o=0;o<this.MAX_TEXTURES;++o)e.activeTexture(e.TEXTURE0+o),e.bindTexture(e.TEXTURE_2D,s),r.push(o);e.activeTexture(e.TEXTURE0),e.uniform1iv(this.uSampler,r)}this.projectionVector=e.getUniformLocation(t,"projectionVector"),this.offsetVector=e.getUniformLocation(t,"offsetVector"),this.colorAttribute=e.getAttribLocation(t,"aColor"),this.aTextureIndex=e.getAttribLocation(t,"aTextureIndex"),this.aVertexPosition=e.getAttribLocation(t,"aVertexPosition"),this.aTextureCoord=e.getAttribLocation(t,"aTextureCoord"),this.attributes=[this.aVertexPosition,this.aTextureCoord,this.aTextureIndex],this.translationMatrix=e.getUniformLocation(t,"translationMatrix"),this.alpha=e.getUniformLocation(t,"alpha"),this.program=t},i.StripShader.prototype.destroy=function(){this.gl.deleteProgram(this.program),this.uniforms=null,this.gl=null,this.attribute=null},i.PrimitiveShader=function(e){this._UID=Phaser._UID++,this.gl=e,this.program=null,this.fragmentSrc=["precision mediump float;","varying vec4 vColor;","void main(void) {","   gl_FragColor = vColor;","}"],this.vertexSrc=["attribute vec2 aVertexPosition;","attribute vec4 aColor;","uniform mat3 translationMatrix;","uniform vec2 projectionVector;","uniform vec2 offsetVector;","uniform float alpha;","uniform float flipY;","uniform vec3 tint;","varying vec4 vColor;","void main(void) {","   vec3 v = translationMatrix * vec3(aVertexPosition , 1.0);","   v -= offsetVector.xyx;","   gl_Position = vec4( v.x / projectionVector.x -1.0, (v.y / projectionVector.y * -flipY) + flipY , 0.0, 1.0);","   vColor = aColor * vec4(tint * alpha, alpha);","}"],this.init()},i.PrimitiveShader.prototype.constructor=i.PrimitiveShader,i.PrimitiveShader.prototype.init=function(){var e=this.gl,t=i.compileProgram(e,this.vertexSrc,this.fragmentSrc);e.useProgram(t),this.projectionVector=e.getUniformLocation(t,"projectionVector"),this.offsetVector=e.getUniformLocation(t,"offsetVector"),this.tintColor=e.getUniformLocation(t,"tint"),this.flipY=e.getUniformLocation(t,"flipY"),this.aVertexPosition=e.getAttribLocation(t,"aVertexPosition"),this.colorAttribute=e.getAttribLocation(t,"aColor"),this.attributes=[this.aVertexPosition,this.colorAttribute],this.translationMatrix=e.getUniformLocation(t,"translationMatrix"),this.alpha=e.getUniformLocation(t,"alpha"),this.program=t},i.PrimitiveShader.prototype.destroy=function(){this.gl.deleteProgram(this.program),this.uniforms=null,this.gl=null,this.attributes=null},i.ComplexPrimitiveShader=function(e){this._UID=Phaser._UID++,this.gl=e,this.program=null,this.fragmentSrc=["precision mediump float;","varying vec4 vColor;","void main(void) {","   gl_FragColor = vColor;","}"],this.vertexSrc=["attribute vec2 aVertexPosition;","uniform mat3 translationMatrix;","uniform vec2 projectionVector;","uniform vec2 offsetVector;","uniform vec3 tint;","uniform float alpha;","uniform vec3 color;","uniform float flipY;","varying vec4 vColor;","void main(void) {","   vec3 v = translationMatrix * vec3(aVertexPosition , 1.0);","   v -= offsetVector.xyx;","   gl_Position = vec4( v.x / projectionVector.x -1.0, (v.y / projectionVector.y * -flipY) + flipY , 0.0, 1.0);","   vColor = vec4(color * alpha * tint, alpha);","}"],this.init()},i.ComplexPrimitiveShader.prototype.constructor=i.ComplexPrimitiveShader,i.ComplexPrimitiveShader.prototype.init=function(){var e=this.gl,t=i.compileProgram(e,this.vertexSrc,this.fragmentSrc);e.useProgram(t),this.projectionVector=e.getUniformLocation(t,"projectionVector"),this.offsetVector=e.getUniformLocation(t,"offsetVector"),this.tintColor=e.getUniformLocation(t,"tint"),this.color=e.getUniformLocation(t,"color"),this.flipY=e.getUniformLocation(t,"flipY"),this.aVertexPosition=e.getAttribLocation(t,"aVertexPosition"),this.attributes=[this.aVertexPosition,this.colorAttribute],this.translationMatrix=e.getUniformLocation(t,"translationMatrix"),this.alpha=e.getUniformLocation(t,"alpha"),this.program=t},i.ComplexPrimitiveShader.prototype.destroy=function(){this.gl.deleteProgram(this.program),this.uniforms=null,this.gl=null,this.attribute=null},i.glContexts=[],i.instances=[],i._enableMultiTextureToggle=!1,i.WebGLRenderer=function(e){this.game=e,i.defaultRenderer||(i.defaultRenderer=this),this.extensions={},this.type=Phaser.WEBGL,this.resolution=e.resolution,this.transparent=e.transparent,this.autoResize=!1,this.preserveDrawingBuffer=e.preserveDrawingBuffer,this.clearBeforeRender=e.clearBeforeRender,this.width=e.width,this.height=e.height,this.view=e.canvas,this._contextOptions={alpha:this.transparent,antialias:e.antialias,premultipliedAlpha:this.transparent&&"notMultiplied"!==this.transparent,stencil:!0,preserveDrawingBuffer:this.preserveDrawingBuffer},this.projection=new i.Point,this.offset=new i.Point,this.shaderManager=new i.WebGLShaderManager,this.spriteBatch=new i.WebGLSpriteBatch(e),this.maskManager=new i.WebGLMaskManager,this.filterManager=new i.WebGLFilterManager,this.stencilManager=new i.WebGLStencilManager,this.blendModeManager=new i.WebGLBlendModeManager,this.renderSession={},this.currentBatchedTextures=[],this.renderSession.game=this.game,this.renderSession.gl=this.gl,this.renderSession.drawCount=0,this.renderSession.shaderManager=this.shaderManager,this.renderSession.maskManager=this.maskManager,this.renderSession.filterManager=this.filterManager,this.renderSession.blendModeManager=this.blendModeManager,this.renderSession.spriteBatch=this.spriteBatch,this.renderSession.stencilManager=this.stencilManager,this.renderSession.renderer=this,this.renderSession.resolution=this.resolution,this.renderSession.roundPixels=!1,this.renderSession.maxTextureAvailableSpace=null,this.initContext(),this.mapBlendModes()},i.WebGLRenderer.prototype.constructor=i.WebGLRenderer,i.WebGLRenderer.prototype.initContext=function(){var e=this.view.getContext("webgl",this._contextOptions)||this.view.getContext("experimental-webgl",this._contextOptions);if(this.gl=e,!e)throw new Error("This browser does not support webGL. Try using the canvas renderer");this.maxTextures=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),this.maxTextureSize=this.gl.getParameter(e.MAX_TEXTURE_SIZE),this.glContextId=e.id=i.WebGLRenderer.glContextId++,i.glContexts[this.glContextId]=e,i.instances[this.glContextId]=this,e.disable(e.DEPTH_TEST),e.disable(e.CULL_FACE),e.enable(e.BLEND),this.shaderManager.setContext(e),this.spriteBatch.setContext(e),this.maskManager.setContext(e),this.filterManager.setContext(e),this.blendModeManager.setContext(e),this.stencilManager.setContext(e),this.renderSession.gl=this.gl,this.resize(this.width,this.height),this.extensions.compression={};var t=e.getExtension("WEBGL_compressed_texture_etc1")||e.getExtension("WEBKIT_WEBGL_compressed_texture_etc1"),r=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),s=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");t&&(this.extensions.compression.ETC1=t),r&&(this.extensions.compression.PVRTC=r),s&&(this.extensions.compression.S3TC=s)},i.WebGLRenderer.prototype.setTexturePriority=function(e){if(i._enableMultiTextureToggle){for(var t=function(e){return--e,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,++e},r=this.gl,s=r.getParameter(r.MAX_TEXTURE_IMAGE_UNITS),o=r.getParameter(r.MAX_TEXTURE_SIZE),a=this.game.cache._cache.image,n=null,h=0;h<this.currentBatchedTextures.length;h++)(n=this.currentBatchedTextures[h])in a?a[n].base.textureIndex=0:console.warn('setTexturePriority: There is no image "%s" in the image cache.',n);var l=o-t(Math.max(this.width,this.height));this.currentBatchedTextures.length=0;for(var u=0;u<e.length;++u)if((n=e[u])in a){var d=a[n].base;(l-=t(Math.max(d.width,d.height)))<=0?(d.textureIndex=0,console.warn('setTexturePriority: Image "%s" was given textureIndex=0 because there is no available texture space (%s).',n,l)):d.textureIndex=1+u%(s-1),this.currentBatchedTextures.push(n)}else console.warn('setTexturePriority: There is no image "%s" in the image cache.',n);return this.renderSession.maxTextureAvailableSpace=l,this.currentBatchedTextures}console.warn("setTexturePriority error: Multi Texture support hasn't been enabled in the Phaser Game Config.")},i.WebGLRenderer.prototype.render=function(e){if(!this.contextLost){var t=this.gl;t.viewport(0,0,this.width,this.height),t.bindFramebuffer(t.FRAMEBUFFER,null),this.game.clearBeforeRender&&(t.clearColor(e._bgColor.r,e._bgColor.g,e._bgColor.b,e._bgColor.a),t.clear(t.COLOR_BUFFER_BIT)),this.offset.x=this.game.camera._shake.x,this.offset.y=this.game.camera._shake.y,this.renderDisplayObject(e,this.projection)}},i.WebGLRenderer.prototype.renderDisplayObject=function(e,t,r,s){this.renderSession.blendModeManager.setBlendMode(i.blendModes.NORMAL),this.renderSession.drawCount=0,this.renderSession.flipY=r?-1:1,this.renderSession.projection=t,this.renderSession.offset=this.offset,this.spriteBatch.begin(this.renderSession),this.filterManager.begin(this.renderSession,r),e._renderWebGL(this.renderSession,s),this.spriteBatch.end()},i.WebGLRenderer.prototype.resize=function(e,t){this.width=e*this.resolution,this.height=t*this.resolution,this.view.width=this.width,this.view.height=this.height,this.autoResize&&(this.view.style.width=this.width/this.resolution+"px",this.view.style.height=this.height/this.resolution+"px"),this.gl.viewport(0,0,this.width,this.height),this.projection.x=this.width/2/this.resolution,this.projection.y=-this.height/2/this.resolution},i.WebGLRenderer.prototype.updateCompressedTexture=function(e){if(!e.hasLoaded)return!1;var t=this.gl,r=e.source;return e._glTextures[t.id]||(e._glTextures[t.id]=t.createTexture()),t.activeTexture(t.TEXTURE0+e.textureIndex),t.bindTexture(t.TEXTURE_2D,e._glTextures[t.id]),t.compressedTexImage2D(t.TEXTURE_2D,0,r.glExtensionFormat,r.width,r.height,0,r.textureData),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,e.scaleMode===i.scaleModes.LINEAR?t.LINEAR:t.NEAREST),e.mipmap&&Phaser.Math.isPowerOfTwo(e.width,e.height)?(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,e.scaleMode===i.scaleModes.LINEAR?t.LINEAR_MIPMAP_LINEAR:t.NEAREST_MIPMAP_NEAREST),t.generateMipmap(t.TEXTURE_2D)):t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,e.scaleMode===i.scaleModes.LINEAR?t.LINEAR:t.NEAREST),e._powerOf2?(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT)):(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE)),e._dirty[t.id]=!1,!0},i.WebGLRenderer.prototype.updateTexture=function(e){if(!e.hasLoaded)return!1;if(e.source.compressionAlgorithm)return this.updateCompressedTexture(e);var t=this.gl;return e._glTextures[t.id]||(e._glTextures[t.id]=t.createTexture()),t.activeTexture(t.TEXTURE0+e.textureIndex),t.bindTexture(t.TEXTURE_2D,e._glTextures[t.id]),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.premultipliedAlpha),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e.source),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,e.scaleMode===i.scaleModes.LINEAR?t.LINEAR:t.NEAREST),e.mipmap&&Phaser.Math.isPowerOfTwo(e.width,e.height)?(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,e.scaleMode===i.scaleModes.LINEAR?t.LINEAR_MIPMAP_LINEAR:t.NEAREST_MIPMAP_NEAREST),t.generateMipmap(t.TEXTURE_2D)):t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,e.scaleMode===i.scaleModes.LINEAR?t.LINEAR:t.NEAREST),e._powerOf2?(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT)):(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE)),e._dirty[t.id]=!1,!0},i.WebGLRenderer.prototype.destroy=function(){i.glContexts[this.glContextId]=null,this.projection=null,this.offset=null,this.shaderManager.destroy(),this.spriteBatch.destroy(),this.maskManager.destroy(),this.filterManager.destroy(),this.shaderManager=null,this.spriteBatch=null,this.maskManager=null,this.filterManager=null,this.gl=null,this.renderSession=null,Phaser.CanvasPool.remove(this),i.instances[this.glContextId]=null,i.WebGLRenderer.glContextId--},i.WebGLRenderer.prototype.mapBlendModes=function(){var e=this.gl;if(!i.blendModesWebGL){var t=[],r=i.blendModes;t[r.NORMAL]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[r.ADD]=[e.SRC_ALPHA,e.DST_ALPHA],t[r.MULTIPLY]=[e.DST_COLOR,e.ONE_MINUS_SRC_ALPHA],t[r.SCREEN]=[e.SRC_ALPHA,e.ONE],t[r.OVERLAY]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[r.DARKEN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[r.LIGHTEN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[r.COLOR_DODGE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[r.COLOR_BURN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[r.HARD_LIGHT]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[r.SOFT_LIGHT]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[r.DIFFERENCE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[r.EXCLUSION]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[r.HUE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[r.SATURATION]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[r.COLOR]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[r.LUMINOSITY]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],i.blendModesWebGL=t}},i.WebGLRenderer.prototype.getMaxTextureUnit=function(){var e=this.gl;return e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS)},i.enableMultiTexture=function(){i._enableMultiTextureToggle=!0},i.WebGLRenderer.glContextId=0,i.WebGLRenderer.textureArray=[],i.WebGLBlendModeManager=function(){this.currentBlendMode=99999},i.WebGLBlendModeManager.prototype.constructor=i.WebGLBlendModeManager,i.WebGLBlendModeManager.prototype.setContext=function(e){this.gl=e},i.WebGLBlendModeManager.prototype.setBlendMode=function(e){if(this.currentBlendMode===e)return!1;this.currentBlendMode=e;var t=i.blendModesWebGL[this.currentBlendMode];return t&&this.gl.blendFunc(t[0],t[1]),!0},i.WebGLBlendModeManager.prototype.destroy=function(){this.gl=null},i.WebGLMaskManager=function(){},i.WebGLMaskManager.prototype.constructor=i.WebGLMaskManager,i.WebGLMaskManager.prototype.setContext=function(e){this.gl=e},i.WebGLMaskManager.prototype.pushMask=function(e,t){var r=t.gl;e.dirty&&i.WebGLGraphics.updateGraphics(e,r),void 0!==e._webGL[r.id]&&void 0!==e._webGL[r.id].data&&0!==e._webGL[r.id].data.length&&t.stencilManager.pushStencil(e,e._webGL[r.id].data[0],t)},i.WebGLMaskManager.prototype.popMask=function(e,t){var r=this.gl;void 0!==e._webGL[r.id]&&void 0!==e._webGL[r.id].data&&0!==e._webGL[r.id].data.length&&t.stencilManager.popStencil(e,e._webGL[r.id].data[0],t)},i.WebGLMaskManager.prototype.destroy=function(){this.gl=null},i.WebGLStencilManager=function(){this.stencilStack=[],this.reverse=!0,this.count=0},i.WebGLStencilManager.prototype.setContext=function(e){this.gl=e},i.WebGLStencilManager.prototype.pushStencil=function(e,t,r){var i=this.gl;this.bindGraphics(e,t,r),0===this.stencilStack.length&&(i.enable(i.STENCIL_TEST),i.clear(i.STENCIL_BUFFER_BIT),this.reverse=!0,this.count=0),this.stencilStack.push(t);var s=this.count;i.colorMask(!1,!1,!1,!1),i.stencilFunc(i.ALWAYS,0,255),i.stencilOp(i.KEEP,i.KEEP,i.INVERT),1===t.mode?(i.drawElements(i.TRIANGLE_FAN,t.indices.length-4,i.UNSIGNED_SHORT,0),this.reverse?(i.stencilFunc(i.EQUAL,255-s,255),i.stencilOp(i.KEEP,i.KEEP,i.DECR)):(i.stencilFunc(i.EQUAL,s,255),i.stencilOp(i.KEEP,i.KEEP,i.INCR)),i.drawElements(i.TRIANGLE_FAN,4,i.UNSIGNED_SHORT,2*(t.indices.length-4)),this.reverse?i.stencilFunc(i.EQUAL,255-(s+1),255):i.stencilFunc(i.EQUAL,s+1,255),this.reverse=!this.reverse):(this.reverse?(i.stencilFunc(i.EQUAL,s,255),i.stencilOp(i.KEEP,i.KEEP,i.INCR)):(i.stencilFunc(i.EQUAL,255-s,255),i.stencilOp(i.KEEP,i.KEEP,i.DECR)),i.drawElements(i.TRIANGLE_STRIP,t.indices.length,i.UNSIGNED_SHORT,0),this.reverse?i.stencilFunc(i.EQUAL,s+1,255):i.stencilFunc(i.EQUAL,255-(s+1),255)),i.colorMask(!0,!0,!0,!0),i.stencilOp(i.KEEP,i.KEEP,i.KEEP),this.count++},i.WebGLStencilManager.prototype.bindGraphics=function(e,t,r){this._currentGraphics=e;var i,s=this.gl,o=r.projection,a=r.offset;1===t.mode?(i=r.shaderManager.complexPrimitiveShader,r.shaderManager.setShader(i),s.uniform1f(i.flipY,r.flipY),s.uniformMatrix3fv(i.translationMatrix,!1,e.worldTransform.toArray(!0)),s.uniform2f(i.projectionVector,o.x,-o.y),s.uniform2f(i.offsetVector,-a.x,-a.y),s.uniform3fv(i.tintColor,Phaser.Color.hexToRGBArray(e.tint)),s.uniform3fv(i.color,t.color),s.uniform1f(i.alpha,e.worldAlpha*t.alpha),s.bindBuffer(s.ARRAY_BUFFER,t.buffer),s.vertexAttribPointer(i.aVertexPosition,2,s.FLOAT,!1,8,0),s.bindBuffer(s.ELEMENT_ARRAY_BUFFER,t.indexBuffer)):(i=r.shaderManager.primitiveShader,r.shaderManager.setShader(i),s.uniformMatrix3fv(i.translationMatrix,!1,e.worldTransform.toArray(!0)),s.uniform1f(i.flipY,r.flipY),s.uniform2f(i.projectionVector,o.x,-o.y),s.uniform2f(i.offsetVector,-a.x,-a.y),s.uniform3fv(i.tintColor,Phaser.Color.hexToRGBArray(e.tint)),s.uniform1f(i.alpha,e.worldAlpha),s.bindBuffer(s.ARRAY_BUFFER,t.buffer),s.vertexAttribPointer(i.aVertexPosition,2,s.FLOAT,!1,24,0),s.vertexAttribPointer(i.colorAttribute,4,s.FLOAT,!1,24,8),s.bindBuffer(s.ELEMENT_ARRAY_BUFFER,t.indexBuffer))},i.WebGLStencilManager.prototype.popStencil=function(e,t,r){var i=this.gl;if(this.stencilStack.pop(),this.count--,0===this.stencilStack.length)i.disable(i.STENCIL_TEST);else{var s=this.count;this.bindGraphics(e,t,r),i.colorMask(!1,!1,!1,!1),1===t.mode?(this.reverse=!this.reverse,this.reverse?(i.stencilFunc(i.EQUAL,255-(s+1),255),i.stencilOp(i.KEEP,i.KEEP,i.INCR)):(i.stencilFunc(i.EQUAL,s+1,255),i.stencilOp(i.KEEP,i.KEEP,i.DECR)),i.drawElements(i.TRIANGLE_FAN,4,i.UNSIGNED_SHORT,2*(t.indices.length-4)),i.stencilFunc(i.ALWAYS,0,255),i.stencilOp(i.KEEP,i.KEEP,i.INVERT),i.drawElements(i.TRIANGLE_FAN,t.indices.length-4,i.UNSIGNED_SHORT,0),this.reverse?i.stencilFunc(i.EQUAL,s,255):i.stencilFunc(i.EQUAL,255-s,255)):(this.reverse?(i.stencilFunc(i.EQUAL,s+1,255),i.stencilOp(i.KEEP,i.KEEP,i.DECR)):(i.stencilFunc(i.EQUAL,255-(s+1),255),i.stencilOp(i.KEEP,i.KEEP,i.INCR)),i.drawElements(i.TRIANGLE_STRIP,t.indices.length,i.UNSIGNED_SHORT,0),this.reverse?i.stencilFunc(i.EQUAL,s,255):i.stencilFunc(i.EQUAL,255-s,255)),i.colorMask(!0,!0,!0,!0),i.stencilOp(i.KEEP,i.KEEP,i.KEEP)}},i.WebGLStencilManager.prototype.destroy=function(){this.stencilStack=null,this.gl=null},i.WebGLShaderManager=function(){this.maxAttibs=10,this.attribState=[],this.tempAttribState=[];for(var e=0;e<this.maxAttibs;e++)this.attribState[e]=!1;this.stack=[]},i.WebGLShaderManager.prototype.constructor=i.WebGLShaderManager,i.WebGLShaderManager.prototype.setContext=function(e){this.gl=e,this.primitiveShader=new i.PrimitiveShader(e),this.complexPrimitiveShader=new i.ComplexPrimitiveShader(e),this.defaultShader=new i.PixiShader(e),this.fastShader=new i.PixiFastShader(e),this.stripShader=new i.StripShader(e),this.creatureShader=i.CreatureShader?new i.CreatureShader(e):null,this.setShader(this.defaultShader)},i.WebGLShaderManager.prototype.setAttribs=function(e){var t;for(t=0;t<this.tempAttribState.length;t++)this.tempAttribState[t]=!1;for(t=0;t<e.length;t++){var r=e[t];this.tempAttribState[r]=!0}var i=this.gl;for(t=0;t<this.attribState.length;t++)this.attribState[t]!==this.tempAttribState[t]&&(this.attribState[t]=this.tempAttribState[t],this.tempAttribState[t]?i.enableVertexAttribArray(t):i.disableVertexAttribArray(t))},i.WebGLShaderManager.prototype.setShader=function(e){return this._currentId!==e._UID&&(this._currentId=e._UID,this.currentShader=e,this.gl.useProgram(e.program),this.setAttribs(e.attributes),!0)},i.WebGLShaderManager.prototype.destroy=function(){this.attribState=null,this.tempAttribState=null,this.primitiveShader.destroy(),this.complexPrimitiveShader.destroy(),this.defaultShader.destroy(),this.fastShader.destroy(),this.stripShader.destroy(),this.creatureShader&&this.creatureShader.destroy(),this.gl=null},i.WebGLSpriteBatch=function(e){this.game=e,this.vertSize=5,this.size=2e3,this.vertexSize=24;var t=this.vertexSize*this.size*4,r=6*this.size;this.vertices=new ArrayBuffer(t),this.positions=new Float32Array(this.vertices),this.colors=new Uint32Array(this.vertices),this.indices=new Uint16Array(r),this.lastIndexCount=0;for(var i=0,s=0;i<r;i+=6,s+=4)this.indices[i+0]=s+0,this.indices[i+1]=s+1,this.indices[i+2]=s+2,this.indices[i+3]=s+0,this.indices[i+4]=s+2,this.indices[i+5]=s+3;this.drawing=!1,this.currentBatchSize=0,this.currentBaseTexture=null,this.dirty=!0,this.textures=[],this.blendModes=[],this.shaders=[],this.sprites=[],this.defaultShader=null},i.WebGLSpriteBatch.prototype.setContext=function(e){if(this.MAX_TEXTURES=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),this.gl=e,i._enableMultiTextureToggle){for(var t="\tif (vTextureIndex == 0.0) {gl_FragColor = texture2D(uSamplerArray[0], vTextureCoord) * vColor;return;}\n",r=1;r<this.MAX_TEXTURES;++r)t+="\tif (vTextureIndex == "+r+".0) {gl_FragColor = texture2D(uSamplerArray["+r+"], vTextureCoord) * vColor;return;}\n";this.defaultShader=new Phaser.Filter(this.game,void 0,["//WebGLSpriteBatch Fragment Shader.","precision lowp float;","varying vec2 vTextureCoord;","varying vec4 vColor;","varying float vTextureIndex;","uniform sampler2D uSamplerArray["+this.MAX_TEXTURES+"];","void main(void) {",t,"\tgl_FragColor = texture2D(uSamplerArray[0], vTextureCoord) * vColor;","}"])}else this.defaultShader=new Phaser.Filter(this.game,void 0,["//WebGLSpriteBatch Fragment Shader.","precision lowp float;","varying vec2 vTextureCoord;","varying vec4 vColor;","varying float vTextureIndex;","uniform sampler2D uSampler;","void main(void) {","   gl_FragColor = texture2D(uSampler, vTextureCoord) * vColor;","}"]);this.vertexBuffer=e.createBuffer(),this.indexBuffer=e.createBuffer(),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this.indexBuffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,this.indices,e.STATIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,this.vertexBuffer),e.bufferData(e.ARRAY_BUFFER,this.vertices,e.DYNAMIC_DRAW),this.currentBlendMode=99999;var s=new i.PixiShader(e);s.fragmentSrc=this.defaultShader.fragmentSrc,s.uniforms={},s.init(),this.defaultShader.shaders[e.id]=s},i.WebGLSpriteBatch.prototype.begin=function(e){this.renderSession=e,this.shader=this.renderSession.shaderManager.defaultShader,this.start()},i.WebGLSpriteBatch.prototype.end=function(){this.flush()},i.WebGLSpriteBatch.prototype.render=function(e,t){var r=e.texture,s=r.baseTexture,o=this.gl;i.WebGLRenderer.textureArray[s.textureIndex]!=s&&(this.flush(),o.activeTexture(o.TEXTURE0+s.textureIndex),o.bindTexture(o.TEXTURE_2D,s._glTextures[o.id]),i.WebGLRenderer.textureArray[s.textureIndex]=s);var a=e.worldTransform;t&&(a=t),this.currentBatchSize>=this.size&&(this.flush(),this.currentBaseTexture=r.baseTexture);var n=r._uvs;if(n){var h,l,u,d,c=e.anchor.x,f=e.anchor.y;if(r.trim){var x=r.trim;h=(l=x.x-c*x.width)+r.crop.width,u=(d=x.y-f*x.height)+r.crop.height}else h=r.frame.width*(1-c),l=r.frame.width*-c,u=r.frame.height*(1-f),d=r.frame.height*-f;var p=this.currentBatchSize*this.vertexSize,g=(this.currentBatchSize,r.baseTexture.resolution),v=r.baseTexture.textureIndex,T=a.a/g,m=a.b/g,E=a.c/g,_=a.d/g,S=a.tx,y=a.ty,b=(r.crop.width,r.crop.height);if(r.rotated){var A=a.a,R=a.b,M=a.c,C=a.d,L=l,B=h;S=a.c*b+S,y=a.d*b+y,T=6.123233995736766e-17*A-M,m=6.123233995736766e-17*R-C,E=A+6.123233995736766e-17*M,_=R+6.123233995736766e-17*C,r._updateUvsInverted(),h=u,l=d,u=B,d=L}var P=this.colors,w=this.positions,U=e.tint,F=(U>>16)+(65280&U)+((255&U)<<16)+(255*e.worldAlpha<<24);this.renderSession.roundPixels?(w[p++]=T*l+E*d+S|0,w[p++]=_*d+m*l+y|0,w[p++]=n.x0,w[p++]=n.y0,P[p++]=F,w[p++]=v,w[p++]=T*h+E*d+S|0,w[p++]=_*d+m*h+y|0,w[p++]=n.x1,w[p++]=n.y1,P[p++]=F,w[p++]=v,w[p++]=T*h+E*u+S|0,w[p++]=_*u+m*h+y|0,w[p++]=n.x2,w[p++]=n.y2,P[p++]=F,w[p++]=v,w[p++]=T*l+E*u+S|0,w[p++]=_*u+m*l+y|0,w[p++]=n.x3,w[p++]=n.y3,P[p++]=F,w[p++]=v):(w[p++]=T*l+E*d+S,w[p++]=_*d+m*l+y,w[p++]=n.x0,w[p++]=n.y0,P[p++]=F,w[p++]=v,w[p++]=T*h+E*d+S,w[p++]=_*d+m*h+y,w[p++]=n.x1,w[p++]=n.y1,P[p++]=F,w[p++]=v,w[p++]=T*h+E*u+S,w[p++]=_*u+m*h+y,w[p++]=n.x2,w[p++]=n.y2,P[p++]=F,w[p++]=v,w[p++]=T*l+E*u+S,w[p++]=_*u+m*l+y,w[p++]=n.x3,w[p++]=n.y3,P[p++]=F,w[p++]=v),this.sprites[this.currentBatchSize++]=e}},i.WebGLSpriteBatch.prototype.renderTilingSprite=function(e){var t=e.tilingTexture,r=t.baseTexture,s=this.gl,o=e.texture.baseTexture.textureIndex;i.WebGLRenderer.textureArray[o]!=r&&(this.flush(),s.activeTexture(s.TEXTURE0+o),s.bindTexture(s.TEXTURE_2D,r._glTextures[s.id]),i.WebGLRenderer.textureArray[o]=r),this.currentBatchSize>=this.size&&(this.flush(),this.currentBaseTexture=t.baseTexture),e._uvs||(e._uvs=new i.TextureUvs);var a=e._uvs,n=t.baseTexture.width,h=t.baseTexture.height;e.tilePosition.x%=n*e.tileScaleOffset.x,e.tilePosition.y%=h*e.tileScaleOffset.y;var l=e.tilePosition.x/(n*e.tileScaleOffset.x),u=e.tilePosition.y/(h*e.tileScaleOffset.y),d=e.width/n/(e.tileScale.x*e.tileScaleOffset.x),c=e.height/h/(e.tileScale.y*e.tileScaleOffset.y);a.x0=0-l,a.y0=0-u,a.x1=1*d-l,a.y1=0-u,a.x2=1*d-l,a.y2=1*c-u,a.x3=0-l,a.y3=1*c-u;var f=e.tint,x=(f>>16)+(65280&f)+((255&f)<<16)+(255*e.worldAlpha<<24),p=this.positions,g=this.colors,v=e.width,T=e.height,m=e.anchor.x,E=e.anchor.y,_=v*(1-m),S=v*-m,y=T*(1-E),b=T*-E,A=this.currentBatchSize*this.vertexSize,R=t.baseTexture.resolution,M=e.worldTransform,C=M.a/R,L=M.b/R,B=M.c/R,P=M.d/R,w=M.tx,U=M.ty;p[A++]=C*S+B*b+w,p[A++]=P*b+L*S+U,p[A++]=a.x0,p[A++]=a.y0,g[A++]=x,p[A++]=o,p[A++]=C*_+B*b+w,p[A++]=P*b+L*_+U,p[A++]=a.x1,p[A++]=a.y1,g[A++]=x,p[A++]=o,p[A++]=C*_+B*y+w,p[A++]=P*y+L*_+U,p[A++]=a.x2,p[A++]=a.y2,g[A++]=x,p[A++]=o,p[A++]=C*S+B*y+w,p[A++]=P*y+L*S+U,p[A++]=a.x3,p[A++]=a.y3,g[A++]=x,p[A++]=o,this.sprites[this.currentBatchSize++]=e},i.WebGLSpriteBatch.prototype.flush=function(){if(0!==this.currentBatchSize){var e,t=this.gl;if(this.dirty){this.dirty=!1,e=this.defaultShader.shaders[t.id],t.activeTexture(t.TEXTURE0),t.bindBuffer(t.ARRAY_BUFFER,this.vertexBuffer),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer);var r=this.vertexSize;t.vertexAttribPointer(e.aVertexPosition,2,t.FLOAT,!1,r,0),t.vertexAttribPointer(e.aTextureCoord,2,t.FLOAT,!1,r,8),t.vertexAttribPointer(e.colorAttribute,4,t.UNSIGNED_BYTE,!0,r,16),t.vertexAttribPointer(e.aTextureIndex,1,t.FLOAT,!1,r,20)}if(this.currentBatchSize>.5*this.size)t.bufferSubData(t.ARRAY_BUFFER,0,this.vertices);else{t.bindBuffer(t.ARRAY_BUFFER,this.vertexBuffer);var s=this.positions.subarray(0,this.currentBatchSize*this.vertexSize);t.bufferSubData(t.ARRAY_BUFFER,0,s)}for(var o,a,n,h,l=0,u=0,d=null,c=this.renderSession.blendModeManager.currentBlendMode,f=null,x=!1,p=!1,g=0,v=this.currentBatchSize;g<v;g++){o=(h=this.sprites[g]).tilingTexture?h.tilingTexture.baseTexture:h.texture.baseTexture,x=c!==(a=h.blendMode),p=f!==(n=h.shader||this.defaultShader);var T=o.skipRender;if(T&&h.children.length>0&&(T=!1),(x||p)&&(this.renderBatch(d,l,u),u=g,l=0,d=o,x&&(c=a,this.renderSession.blendModeManager.setBlendMode(c)),p)){(e=(f=n).shaders[t.id])||((e=new i.PixiShader(t)).fragmentSrc=f.fragmentSrc,e.uniforms=f.uniforms,e.init(),f.shaders[t.id]=e),this.renderSession.shaderManager.setShader(e),e.dirty&&e.syncUniforms();var m=this.renderSession.projection;t.uniform2f(e.projectionVector,m.x,m.y);var E=this.renderSession.offset;t.uniform2f(e.offsetVector,E.x,E.y)}l++}this.renderBatch(d,l,u),this.currentBatchSize=0}},i.WebGLSpriteBatch.prototype.renderBatch=function(e,t,r){if(0!==t){var i=this.gl;if(e._dirty[i.id]){if(!this.renderSession.renderer.updateTexture(e))return}else i.bindTexture(i.TEXTURE_2D,e._glTextures[i.id]);i.drawElements(i.TRIANGLES,6*t,i.UNSIGNED_SHORT,6*r*2),this.renderSession.drawCount++}},i.WebGLSpriteBatch.prototype.stop=function(){this.flush(),this.dirty=!0},i.WebGLSpriteBatch.prototype.start=function(){this.dirty=!0},i.WebGLSpriteBatch.prototype.destroy=function(){this.vertices=null,this.indices=null,this.gl.deleteBuffer(this.vertexBuffer),this.gl.deleteBuffer(this.indexBuffer),this.currentBaseTexture=null,this.gl=null},i.WebGLFastSpriteBatch=function(e){this.vertSize=11,this.maxSize=6e3,this.size=this.maxSize;var t=4*this.size*this.vertSize,r=6*this.maxSize;this.vertices=new Float32Array(t),this.indices=new Uint16Array(r),this.vertexBuffer=null,this.indexBuffer=null,this.lastIndexCount=0;for(var i=0,s=0;i<r;i+=6,s+=4)this.indices[i+0]=s+0,this.indices[i+1]=s+1,this.indices[i+2]=s+2,this.indices[i+3]=s+0,this.indices[i+4]=s+2,this.indices[i+5]=s+3;this.drawing=!1,this.currentBatchSize=0,this.currentBaseTexture=null,this.currentBlendMode=0,this.renderSession=null,this.shader=null,this.matrix=null,this.setContext(e)},i.WebGLFastSpriteBatch.prototype.constructor=i.WebGLFastSpriteBatch,i.WebGLFastSpriteBatch.prototype.setContext=function(e){this.gl=e,this.vertexBuffer=e.createBuffer(),this.indexBuffer=e.createBuffer(),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this.indexBuffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,this.indices,e.STATIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,this.vertexBuffer),e.bufferData(e.ARRAY_BUFFER,this.vertices,e.DYNAMIC_DRAW)},i.WebGLFastSpriteBatch.prototype.begin=function(e,t){this.renderSession=t,this.shader=this.renderSession.shaderManager.fastShader,this.matrix=e.worldTransform.toArray(!0),this.start()},i.WebGLFastSpriteBatch.prototype.end=function(){this.flush()},i.WebGLFastSpriteBatch.prototype.render=function(e){var t=e.children,r=t[0];if(r.texture._uvs){this.currentBaseTexture=r.texture.baseTexture,r.blendMode!==this.renderSession.blendModeManager.currentBlendMode&&(this.flush(),this.renderSession.blendModeManager.setBlendMode(r.blendMode));for(var i=0,s=t.length;i<s;i++)this.renderSprite(t[i]);this.flush()}},i.WebGLFastSpriteBatch.prototype.renderSprite=function(e){var t=e.texture.baseTexture,r=this.gl,s=e.texture.baseTexture.textureIndex;if((i.WebGLRenderer.textureArray[s]==t||!t._glTextures[r.id]||e.texture.baseTexture.skipRender||(this.flush(),r.activeTexture(r.TEXTURE0+s),r.bindTexture(r.TEXTURE_2D,t._glTextures[r.id]),i.WebGLRenderer.textureArray[s]=t,e.texture._uvs))&&e.visible){var o,a,n,h,l,u,d=this.vertices;if(o=e.texture._uvs,e.texture.frame.width,e.texture.frame.height,e.texture.trim){var c=e.texture.trim;a=(n=c.x-e.anchor.x*c.width)+e.texture.crop.width,h=(l=c.y-e.anchor.y*c.height)+e.texture.crop.height}else a=e.texture.frame.width*(1-e.anchor.x),n=e.texture.frame.width*-e.anchor.x,h=e.texture.frame.height*(1-e.anchor.y),l=e.texture.frame.height*-e.anchor.y;u=4*this.currentBatchSize*this.vertSize,d[u++]=n,d[u++]=l,d[u++]=e.position.x,d[u++]=e.position.y,d[u++]=e.scale.x,d[u++]=e.scale.y,d[u++]=e.rotation,d[u++]=o.x0,d[u++]=o.y1,d[u++]=e.alpha,d[u++]=s,d[u++]=a,d[u++]=l,d[u++]=e.position.x,d[u++]=e.position.y,d[u++]=e.scale.x,d[u++]=e.scale.y,d[u++]=e.rotation,d[u++]=o.x1,d[u++]=o.y1,d[u++]=e.alpha,d[u++]=s,d[u++]=a,d[u++]=h,d[u++]=e.position.x,d[u++]=e.position.y,d[u++]=e.scale.x,d[u++]=e.scale.y,d[u++]=e.rotation,d[u++]=o.x2,d[u++]=o.y2,d[u++]=e.alpha,d[u++]=s,d[u++]=n,d[u++]=h,d[u++]=e.position.x,d[u++]=e.position.y,d[u++]=e.scale.x,d[u++]=e.scale.y,d[u++]=e.rotation,d[u++]=o.x3,d[u++]=o.y3,d[u++]=e.alpha,d[u++]=s,++this.currentBatchSize>=this.size&&this.flush()}},i.WebGLFastSpriteBatch.prototype.flush=function(){if(0!==this.currentBatchSize){var e=this.gl;if(this.currentBaseTexture._glTextures[e.id]){if(this.currentBatchSize>.5*this.size)e.bufferSubData(e.ARRAY_BUFFER,0,this.vertices);else{var t=this.vertices.subarray(0,4*this.currentBatchSize*this.vertSize);e.bufferSubData(e.ARRAY_BUFFER,0,t)}e.drawElements(e.TRIANGLES,6*this.currentBatchSize,e.UNSIGNED_SHORT,0),this.currentBatchSize=0,this.renderSession.drawCount++}else this.renderSession.renderer.updateTexture(this.currentBaseTexture,e)}},i.WebGLFastSpriteBatch.prototype.stop=function(){this.flush()},i.WebGLFastSpriteBatch.prototype.start=function(){var e=this.gl;e.activeTexture(e.TEXTURE0),e.bindBuffer(e.ARRAY_BUFFER,this.vertexBuffer),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this.indexBuffer);var t=this.renderSession.projection;e.uniform2f(this.shader.projectionVector,t.x,t.y),e.uniformMatrix3fv(this.shader.uMatrix,!1,this.matrix);var r=4*this.vertSize;e.vertexAttribPointer(this.shader.aVertexPosition,2,e.FLOAT,!1,r,0),e.vertexAttribPointer(this.shader.aPositionCoord,2,e.FLOAT,!1,r,8),e.vertexAttribPointer(this.shader.aScale,2,e.FLOAT,!1,r,16),e.vertexAttribPointer(this.shader.aRotation,1,e.FLOAT,!1,r,24),e.vertexAttribPointer(this.shader.aTextureCoord,2,e.FLOAT,!1,r,28),e.vertexAttribPointer(this.shader.colorAttribute,1,e.FLOAT,!1,r,36),e.vertexAttribPointer(this.shader.aTextureIndex,1,e.FLOAT,!1,r,40)},i.WebGLFilterManager=function(){this.filterStack=[],this.offsetX=0,this.offsetY=0},i.WebGLFilterManager.prototype.constructor=i.WebGLFilterManager,i.WebGLFilterManager.prototype.setContext=function(e){this.gl=e,this.texturePool=[],this.initShaderBuffers()},i.WebGLFilterManager.prototype.begin=function(e,t){this.renderSession=e,this.defaultShader=e.shaderManager.defaultShader;var r=this.renderSession.projection;this.width=2*r.x,this.height=2*-r.y,this.buffer=t},i.WebGLFilterManager.prototype.pushFilter=function(e){var t=this.gl,r=this.renderSession.projection,s=this.renderSession.offset;e._filterArea=e.target.filterArea||e.target.getBounds(),e._previous_stencil_mgr=this.renderSession.stencilManager,this.renderSession.stencilManager=new i.WebGLStencilManager,this.renderSession.stencilManager.setContext(t),t.disable(t.STENCIL_TEST),this.filterStack.push(e);var o=e.filterPasses[0];this.offsetX+=e._filterArea.x,this.offsetY+=e._filterArea.y;var a=this.texturePool.pop();a?a.resize(this.width*this.renderSession.resolution,this.height*this.renderSession.resolution):a=new i.FilterTexture(this.gl,this.width*this.renderSession.resolution,this.height*this.renderSession.resolution),t.bindTexture(t.TEXTURE_2D,a.texture);var n=e._filterArea,h=o.padding;n.x-=h,n.y-=h,n.width+=2*h,n.height+=2*h,n.x<0&&(n.x=0),n.width>this.width&&(n.width=this.width),n.y<0&&(n.y=0),n.height>this.height&&(n.height=this.height),t.bindFramebuffer(t.FRAMEBUFFER,a.frameBuffer),t.viewport(0,0,n.width*this.renderSession.resolution,n.height*this.renderSession.resolution),r.x=n.width/2,r.y=-n.height/2,s.x=-n.x,s.y=-n.y,t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT),e._glFilterTexture=a},i.WebGLFilterManager.prototype.popFilter=function(){var e=this.gl,t=this.filterStack.pop(),r=t._filterArea,s=t._glFilterTexture,o=this.renderSession.projection,a=this.renderSession.offset;if(t.filterPasses.length>1){e.viewport(0,0,r.width*this.renderSession.resolution,r.height*this.renderSession.resolution),e.bindBuffer(e.ARRAY_BUFFER,this.vertexBuffer),this.vertexArray[0]=0,this.vertexArray[1]=r.height,this.vertexArray[2]=r.width,this.vertexArray[3]=r.height,this.vertexArray[4]=0,this.vertexArray[5]=0,this.vertexArray[6]=r.width,this.vertexArray[7]=0,e.bufferSubData(e.ARRAY_BUFFER,0,this.vertexArray),e.bindBuffer(e.ARRAY_BUFFER,this.uvBuffer),this.uvArray[2]=r.width/this.width,this.uvArray[5]=r.height/this.height,this.uvArray[6]=r.width/this.width,this.uvArray[7]=r.height/this.height,e.bufferSubData(e.ARRAY_BUFFER,0,this.uvArray);var n=s,h=this.texturePool.pop();h||(h=new i.FilterTexture(this.gl,this.width*this.renderSession.resolution,this.height*this.renderSession.resolution)),h.resize(this.width*this.renderSession.resolution,this.height*this.renderSession.resolution),e.bindFramebuffer(e.FRAMEBUFFER,h.frameBuffer),e.clear(e.COLOR_BUFFER_BIT),e.disable(e.BLEND);for(var l=0;l<t.filterPasses.length-1;l++){var u=t.filterPasses[l];e.bindFramebuffer(e.FRAMEBUFFER,h.frameBuffer),e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,n.texture),this.applyFilterPass(u,r,r.width,r.height);var d=n;n=h,h=d}e.enable(e.BLEND),s=n,this.texturePool.push(h)}var c=t.filterPasses[t.filterPasses.length-1];this.offsetX-=r.x,this.offsetY-=r.y;var f=this.width,x=this.height,p=0,g=0,v=this.buffer;if(0===this.filterStack.length)e.colorMask(!0,!0,!0,!0);else{var T=this.filterStack[this.filterStack.length-1];f=(r=T._filterArea).width,x=r.height,p=r.x,g=r.y,v=T._glFilterTexture.frameBuffer}o.x=f/2,o.y=-x/2,a.x=p,a.y=g;var m=(r=t._filterArea).x-p,E=r.y-g;e.bindBuffer(e.ARRAY_BUFFER,this.vertexBuffer),this.vertexArray[0]=m,this.vertexArray[1]=E+r.height,this.vertexArray[2]=m+r.width,this.vertexArray[3]=E+r.height,this.vertexArray[4]=m,this.vertexArray[5]=E,this.vertexArray[6]=m+r.width,this.vertexArray[7]=E,e.bufferSubData(e.ARRAY_BUFFER,0,this.vertexArray),e.bindBuffer(e.ARRAY_BUFFER,this.uvBuffer),this.uvArray[2]=r.width/this.width,this.uvArray[5]=r.height/this.height,this.uvArray[6]=r.width/this.width,this.uvArray[7]=r.height/this.height,e.bufferSubData(e.ARRAY_BUFFER,0,this.uvArray),e.viewport(0,0,f*this.renderSession.resolution,x*this.renderSession.resolution),e.bindFramebuffer(e.FRAMEBUFFER,v),e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,s.texture),this.renderSession.stencilManager&&this.renderSession.stencilManager.destroy(),this.renderSession.stencilManager=t._previous_stencil_mgr,t._previous_stencil_mgr=null,this.renderSession.stencilManager.count>0?e.enable(e.STENCIL_TEST):e.disable(e.STENCIL_TEST),this.applyFilterPass(c,r,f,x),this.texturePool.push(s),t._glFilterTexture=null},i.WebGLFilterManager.prototype.applyFilterPass=function(e,t,r,s){var o=this.gl,a=e.shaders[o.id];a||((a=new i.PixiShader(o)).fragmentSrc=e.fragmentSrc,a.uniforms=e.uniforms,a.init(!0),e.shaders[o.id]=a),this.renderSession.shaderManager.setShader(a),o.uniform2f(a.projectionVector,r/2,-s/2),o.uniform2f(a.offsetVector,0,0),e.uniforms.dimensions&&(e.uniforms.dimensions.value[0]=this.width,e.uniforms.dimensions.value[1]=this.height,e.uniforms.dimensions.value[2]=this.vertexArray[0],e.uniforms.dimensions.value[3]=this.vertexArray[5]),a.syncUniforms(),o.bindBuffer(o.ARRAY_BUFFER,this.vertexBuffer),o.vertexAttribPointer(a.aVertexPosition,2,o.FLOAT,!1,0,0),o.bindBuffer(o.ARRAY_BUFFER,this.uvBuffer),o.vertexAttribPointer(a.aTextureCoord,2,o.FLOAT,!1,0,0),o.bindBuffer(o.ARRAY_BUFFER,this.colorBuffer),o.vertexAttribPointer(a.colorAttribute,2,o.FLOAT,!1,0,0),o.bindBuffer(o.ELEMENT_ARRAY_BUFFER,this.indexBuffer),o.drawElements(o.TRIANGLES,6,o.UNSIGNED_SHORT,0),this.renderSession.drawCount++},i.WebGLFilterManager.prototype.initShaderBuffers=function(){var e=this.gl;this.vertexBuffer=e.createBuffer(),this.uvBuffer=e.createBuffer(),this.colorBuffer=e.createBuffer(),this.indexBuffer=e.createBuffer(),this.vertexArray=new Float32Array([0,0,1,0,0,1,1,1]),e.bindBuffer(e.ARRAY_BUFFER,this.vertexBuffer),e.bufferData(e.ARRAY_BUFFER,this.vertexArray,e.STATIC_DRAW),this.uvArray=new Float32Array([0,0,1,0,0,1,1,1]),e.bindBuffer(e.ARRAY_BUFFER,this.uvBuffer),e.bufferData(e.ARRAY_BUFFER,this.uvArray,e.STATIC_DRAW),this.colorArray=new Float32Array([1,16777215,1,16777215,1,16777215,1,16777215]),e.bindBuffer(e.ARRAY_BUFFER,this.colorBuffer),e.bufferData(e.ARRAY_BUFFER,this.colorArray,e.STATIC_DRAW),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this.indexBuffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,new Uint16Array([0,1,2,1,3,2]),e.STATIC_DRAW)},i.WebGLFilterManager.prototype.destroy=function(){var e=this.gl;this.filterStack=null,this.offsetX=0,this.offsetY=0;for(var t=0;t<this.texturePool.length;t++)this.texturePool[t].destroy();this.texturePool=null,e.deleteBuffer(this.vertexBuffer),e.deleteBuffer(this.uvBuffer),e.deleteBuffer(this.colorBuffer),e.deleteBuffer(this.indexBuffer)};var s={36054:"Incomplete attachment",36055:"Missing attachment",36057:"Incomplete dimensions",36061:"Framebuffer unsupported"};return i.FilterTexture=function(e,r,s,o,a){a="number"==typeof a?a:0,this.gl=e,this.frameBuffer=t(e,r,s,o||i.scaleModes.DEFAULT,a),this.texture=this.frameBuffer.targetTexture,this.width=r,this.height=s,this.renderBuffer=this.frameBuffer.renderBuffer},i.FilterTexture.prototype.constructor=i.FilterTexture,i.FilterTexture.prototype.clear=function(){var e=this.gl;e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT)},i.FilterTexture.prototype.resize=function(e,t){if(this.width!==e||this.height!==t){this.width=e,this.height=t;var r=this.gl;r.bindTexture(r.TEXTURE_2D,this.texture),r.texImage2D(r.TEXTURE_2D,0,r.RGBA,e,t,0,r.RGBA,r.UNSIGNED_BYTE,null),r.bindRenderbuffer(r.RENDERBUFFER,this.renderBuffer),r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,e,t)}},i.FilterTexture.prototype.destroy=function(){var e=this.gl;e.deleteFramebuffer(this.frameBuffer),e.deleteTexture(this.texture),this.frameBuffer=null,this.texture=null},i.CanvasBuffer=function(e,t){this.width=e,this.height=t,this.canvas=Phaser.CanvasPool.create(this,this.width,this.height),this.context=this.canvas.getContext("2d"),this.canvas.width=e,this.canvas.height=t},i.CanvasBuffer.prototype.constructor=i.CanvasBuffer,i.CanvasBuffer.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.width,this.height)},i.CanvasBuffer.prototype.resize=function(e,t){this.width=this.canvas.width=e,this.height=this.canvas.height=t},i.CanvasBuffer.prototype.destroy=function(){Phaser.CanvasPool.remove(this)},i.CanvasMaskManager=function(){},i.CanvasMaskManager.prototype.constructor=i.CanvasMaskManager,i.CanvasMaskManager.prototype.pushMask=function(e,t){var r=t.context;r.save();var s=e.alpha,o=e.worldTransform,a=t.resolution;r.setTransform(o.a*a,o.b*a,o.c*a,o.d*a,o.tx*a,o.ty*a),i.CanvasGraphics.renderGraphicsMask(e,r),r.clip(),e.worldAlpha=s},i.CanvasMaskManager.prototype.popMask=function(e){e.context.restore()},i.CanvasTinter=function(){},i.CanvasTinter.getTintedTexture=function(e,t){var r=e.tintedTexture||Phaser.CanvasPool.create(this);return i.CanvasTinter.tintMethod(e.texture,t,r),r},i.CanvasTinter.tintWithMultiply=function(e,t,r){var i=r.getContext("2d"),s=e.crop,o=s.width,a=s.height;e.rotated&&(o=a,a=s.width),r.width===o&&r.height===a||(r.width=o,r.height=a),i.clearRect(0,0,o,a),i.fillStyle="#"+("00000"+(0|t).toString(16)).substr(-6),i.fillRect(0,0,o,a),i.globalCompositeOperation="multiply",i.drawImage(e.baseTexture.source,s.x,s.y,o,a,0,0,o,a),i.globalCompositeOperation="destination-atop",i.drawImage(e.baseTexture.source,s.x,s.y,o,a,0,0,o,a)},i.CanvasTinter.tintWithPerPixel=function(e,t,r){var s=r.getContext("2d"),o=e.crop,a=o.width,n=o.height;e.rotated&&(a=n,n=o.width),r.width===a&&r.height===n||(r.width=a,r.height=n),s.globalCompositeOperation="copy",s.drawImage(e.baseTexture.source,o.x,o.y,a,n,0,0,a,n);for(var h=Phaser.Color.hexToRGBArray(t),l=h[0],u=h[1],d=h[2],c=s.getImageData(0,0,a,n),f=c.data,x=0;x<f.length;x+=4)if(f[x+0]*=l,f[x+1]*=u,f[x+2]*=d,!i.CanvasTinter.canHandleAlpha){var p=f[x+3];f[x+0]/=255/p,f[x+1]/=255/p,f[x+2]/=255/p}s.putImageData(c,0,0)},i.CanvasRenderer=function(e){this.game=e,i.defaultRenderer||(i.defaultRenderer=this),this.type=Phaser.CANVAS,this.resolution=e.resolution,this.clearBeforeRender=e.clearBeforeRender,this.transparent=e.transparent,this.autoResize=!1,this.width=e.width*this.resolution,this.height=e.height*this.resolution,this.view=e.canvas,this.context=this.view.getContext("2d",{alpha:this.transparent}),this.refresh=!0,this.count=0,this.maskManager=new i.CanvasMaskManager,this.renderSession={context:this.context,maskManager:this.maskManager,scaleMode:null,smoothProperty:Phaser.Canvas.getSmoothingPrefix(this.context),roundPixels:!1},this.mapBlendModes(),this.resize(this.width,this.height)},i.CanvasRenderer.prototype.constructor=i.CanvasRenderer,i.CanvasRenderer.prototype.render=function(e){this.context.setTransform(1,0,0,1,0,0),this.context.globalAlpha=1,this.renderSession.currentBlendMode=0,this.renderSession.shakeX=this.game.camera._shake.x,this.renderSession.shakeY=this.game.camera._shake.y,this.context.globalCompositeOperation="source-over",navigator.isCocoonJS&&this.view.screencanvas&&(this.context.fillStyle="black",this.context.clear()),this.clearBeforeRender&&(this.transparent?this.context.clearRect(0,0,this.width,this.height):e._bgColor&&(this.context.fillStyle=e._bgColor.rgba,this.context.fillRect(0,0,this.width,this.height))),this.renderDisplayObject(e)},i.CanvasRenderer.prototype.setTexturePriority=function(e){},i.CanvasRenderer.prototype.destroy=function(e){void 0===e&&(e=!0),e&&this.view.parent&&this.view.parent.removeChild(this.view),this.view=null,this.context=null,this.maskManager=null,this.renderSession=null},i.CanvasRenderer.prototype.resize=function(e,t){this.width=e*this.resolution,this.height=t*this.resolution,this.view.width=this.width,this.view.height=this.height,this.autoResize&&(this.view.style.width=this.width/this.resolution+"px",this.view.style.height=this.height/this.resolution+"px"),this.renderSession.smoothProperty&&(this.context[this.renderSession.smoothProperty]=this.renderSession.scaleMode===i.scaleModes.LINEAR)},i.CanvasRenderer.prototype.renderDisplayObject=function(e,t,r){this.renderSession.context=t||this.context,this.renderSession.resolution=this.resolution,e._renderCanvas(this.renderSession,r)},i.CanvasRenderer.prototype.mapBlendModes=function(){if(!i.blendModesCanvas){var e=[],t=i.blendModes,r=this.game.device.canUseMultiply;e[t.NORMAL]="source-over",e[t.ADD]="lighter",e[t.MULTIPLY]=r?"multiply":"source-over",e[t.SCREEN]=r?"screen":"source-over",e[t.OVERLAY]=r?"overlay":"source-over",e[t.DARKEN]=r?"darken":"source-over",e[t.LIGHTEN]=r?"lighten":"source-over",e[t.COLOR_DODGE]=r?"color-dodge":"source-over",e[t.COLOR_BURN]=r?"color-burn":"source-over",e[t.HARD_LIGHT]=r?"hard-light":"source-over",e[t.SOFT_LIGHT]=r?"soft-light":"source-over",e[t.DIFFERENCE]=r?"difference":"source-over",e[t.EXCLUSION]=r?"exclusion":"source-over",e[t.HUE]=r?"hue":"source-over",e[t.SATURATION]=r?"saturation":"source-over",e[t.COLOR]=r?"color":"source-over",e[t.LUMINOSITY]=r?"luminosity":"source-over",i.blendModesCanvas=e}},i.BaseTexture=function(e,t,r){this.resolution=r||1,this.width=100,this.height=100,this.scaleMode=t||i.scaleModes.DEFAULT,this.hasLoaded=!1,this.source=e,this.premultipliedAlpha=!0,this._glTextures=[],this.mipmap=!1,this.textureIndex=0,this._dirty=[!0,!0,!0,!0],e&&((this.source.complete||this.source.getContext)&&this.source.width&&this.source.height&&(this.hasLoaded=!0,this.width=this.source.naturalWidth||this.source.width,this.height=this.source.naturalHeight||this.source.height,this.dirty()),this.skipRender=!1,this._powerOf2=!1)},i.BaseTexture.prototype.constructor=i.BaseTexture,i.BaseTexture.prototype.forceLoaded=function(e,t){this.hasLoaded=!0,this.width=e,this.height=t,this.dirty()},i.BaseTexture.prototype.destroy=function(){this.source&&Phaser.CanvasPool.removeByCanvas(this.source),this.source=null,this.unloadFromGPU()},i.BaseTexture.prototype.updateSourceImage=function(e){console.warn("PIXI.BaseTexture.updateSourceImage is deprecated. Use Phaser.Sprite.loadTexture instead.")},i.BaseTexture.prototype.dirty=function(){for(var e=0;e<this._glTextures.length;e++)this._dirty[e]=!0},i.BaseTexture.prototype.unloadFromGPU=function(){this.dirty();for(var e=this._glTextures.length-1;e>=0;e--){var t=this._glTextures[e],r=i.glContexts[e];r&&t&&r.deleteTexture(t)}this._glTextures.length=0,this.dirty()},i.BaseTexture.fromCanvas=function(e,t,r){return 0===e.width&&(e.width=1),0===e.height&&(e.height=1),r=r||1,new i.BaseTexture(e,t,r)},i.TextureSilentFail=!1,i.Texture=function(e,t,r,s){this.noFrame=!1,t||(this.noFrame=!0,t=new i.Rectangle(0,0,1,1)),e instanceof i.Texture&&(e=e.baseTexture),this.baseTexture=e,this.frame=t,this.trim=s,this.valid=!1,this.isTiling=!1,this.requiresUpdate=!1,this.requiresReTint=!1,this._uvs=null,this.width=0,this.height=0,this.crop=r||new i.Rectangle(0,0,1,1),this.rotated=!1,e.hasLoaded&&(this.noFrame&&(t=new i.Rectangle(0,0,e.width,e.height)),this.setFrame(t))},i.Texture.prototype.constructor=i.Texture,i.Texture.prototype.onBaseTextureLoaded=function(){var e=this.baseTexture;this.noFrame&&(this.frame=new i.Rectangle(0,0,e.width,e.height)),this.setFrame(this.frame)},i.Texture.prototype.destroy=function(e){e&&this.baseTexture.destroy(),this.valid=!1},i.Texture.prototype.setFrame=function(e){if(this.noFrame=!1,this.frame=e,this.width=e.width,this.height=e.height,this.crop.x=e.x,this.crop.y=e.y,this.crop.width=e.width,this.crop.height=e.height,this.trim||!(e.x+e.width>this.baseTexture.width||e.y+e.height>this.baseTexture.height))this.valid=e&&e.width&&e.height&&this.baseTexture.source&&this.baseTexture.hasLoaded,this.trim&&(this.width=this.trim.width,this.height=this.trim.height,this.frame.width=this.trim.width,this.frame.height=this.trim.height),this.valid&&this._updateUvs();else{if(!i.TextureSilentFail)throw new Error("Texture Error: frame does not fit inside the base Texture dimensions "+this);this.valid=!1}},i.Texture.prototype._updateUvs=function(){this._uvs||(this._uvs=new i.TextureUvs);var e=this.crop,t=this.baseTexture.width,r=this.baseTexture.height;this._uvs.x0=e.x/t,this._uvs.y0=e.y/r,this._uvs.x1=(e.x+e.width)/t,this._uvs.y1=e.y/r,this._uvs.x2=(e.x+e.width)/t,this._uvs.y2=(e.y+e.height)/r,this._uvs.x3=e.x/t,this._uvs.y3=(e.y+e.height)/r},i.Texture.prototype._updateUvsInverted=function(){this._uvs||(this._uvs=new i.TextureUvs);var e=this.crop,t=this.baseTexture.width,r=this.baseTexture.height;this._uvs.x0=e.x/t,this._uvs.y0=e.y/r,this._uvs.x1=(e.x+e.height)/t,this._uvs.y1=e.y/r,this._uvs.x2=(e.x+e.height)/t,this._uvs.y2=(e.y+e.width)/r,this._uvs.x3=e.x/t,this._uvs.y3=(e.y+e.width)/r},i.Texture.fromCanvas=function(e,t){var r=i.BaseTexture.fromCanvas(e,t);return new i.Texture(r)},i.TextureUvs=function(){this.x0=0,this.y0=0,this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.x3=0,this.y3=0}, true?("undefined"!=typeof module&&module.exports&&(exports=module.exports=i),exports.PIXI=i):"undefined"!=typeof define&&define.amd?define("PIXI",r.PIXI=i):r.PIXI=i,i}).call(this);
//# sourceMappingURL=pixi.map

/***/ }),
/* 8 */
/***/ (function(module, exports, __webpack_require__) {

var require;var require;/* Phaser v2.9.2 P2.JS Build - http://phaser.io - @photonstorm - (c) 2016 Photon Storm Ltd. */

!function(t){if(true)module.exports=t();else{var e;"undefined"!=typeof window?e=window:"undefined"!=typeof global?e=global:"undefined"!=typeof self&&(e=self),e.p2=t()}}(function(){return function t(e,o,i){function n(a,r){if(!o[a]){if(!e[a]){var c="function"==typeof require&&require;if(!r&&c)return require(a,!0);if(s)return s(a,!0);throw new Error("Cannot find module '"+a+"'")}var h=o[a]={exports:{}};e[a][0].call(h.exports,function(t){var o=e[a][1][t];return n(o||t)},h,h.exports,t,e,o,i)}return o[a].exports}for(var s="function"==typeof require&&require,a=0;a<i.length;a++)n(i[a]);return n}({1:[function(t,e,o){function i(){}var n=t("./Scalar");e.exports=i,i.lineInt=function(t,e,o){o=o||0;var i,s,a,r,c,h,l,p=[0,0];return i=t[1][1]-t[0][1],s=t[0][0]-t[1][0],a=i*t[0][0]+s*t[0][1],r=e[1][1]-e[0][1],c=e[0][0]-e[1][0],h=r*e[0][0]+c*e[0][1],l=i*c-r*s,n.eq(l,0,o)||(p[0]=(c*a-s*h)/l,p[1]=(i*h-r*a)/l),p},i.segmentsIntersect=function(t,e,o,i){var n=e[0]-t[0],s=e[1]-t[1],a=i[0]-o[0],r=i[1]-o[1];if(a*s-r*n==0)return!1;var c=(n*(o[1]-t[1])+s*(t[0]-o[0]))/(a*s-r*n),h=(a*(t[1]-o[1])+r*(o[0]-t[0]))/(r*n-a*s);return c>=0&&c<=1&&h>=0&&h<=1}},{"./Scalar":4}],2:[function(t,e,o){function i(){}e.exports=i,i.area=function(t,e,o){return(e[0]-t[0])*(o[1]-t[1])-(o[0]-t[0])*(e[1]-t[1])},i.left=function(t,e,o){return i.area(t,e,o)>0},i.leftOn=function(t,e,o){return i.area(t,e,o)>=0},i.right=function(t,e,o){return i.area(t,e,o)<0},i.rightOn=function(t,e,o){return i.area(t,e,o)<=0};var n=[],s=[];i.collinear=function(t,e,o,a){if(a){var r=n,c=s;r[0]=e[0]-t[0],r[1]=e[1]-t[1],c[0]=o[0]-e[0],c[1]=o[1]-e[1];var h=r[0]*c[0]+r[1]*c[1],l=Math.sqrt(r[0]*r[0]+r[1]*r[1]),p=Math.sqrt(c[0]*c[0]+c[1]*c[1]);return Math.acos(h/(l*p))<a}return 0==i.area(t,e,o)},i.sqdist=function(t,e){var o=e[0]-t[0],i=e[1]-t[1];return o*o+i*i}},{}],3:[function(t,e,o){function i(){this.vertices=[]}function n(t,e,o,i,n){n=n||0;var s=e[1]-t[1],a=t[0]-e[0],c=s*t[0]+a*t[1],h=i[1]-o[1],l=o[0]-i[0],p=h*o[0]+l*o[1],u=s*l-h*a;return r.eq(u,0,n)?[0,0]:[(l*c-a*p)/u,(s*p-h*c)/u]}var s=t("./Line"),a=t("./Point"),r=t("./Scalar");e.exports=i,i.prototype.at=function(t){var e=this.vertices,o=e.length;return e[t<0?t%o+o:t%o]},i.prototype.first=function(){return this.vertices[0]},i.prototype.last=function(){return this.vertices[this.vertices.length-1]},i.prototype.clear=function(){this.vertices.length=0},i.prototype.append=function(t,e,o){if(void 0===e)throw new Error("From is not given!");if(void 0===o)throw new Error("To is not given!");if(o-1<e)throw new Error("lol1");if(o>t.vertices.length)throw new Error("lol2");if(e<0)throw new Error("lol3");for(var i=e;i<o;i++)this.vertices.push(t.vertices[i])},i.prototype.makeCCW=function(){for(var t=0,e=this.vertices,o=1;o<this.vertices.length;++o)(e[o][1]<e[t][1]||e[o][1]==e[t][1]&&e[o][0]>e[t][0])&&(t=o);a.left(this.at(t-1),this.at(t),this.at(t+1))||this.reverse()},i.prototype.reverse=function(){for(var t=[],e=0,o=this.vertices.length;e!==o;e++)t.push(this.vertices.pop());this.vertices=t},i.prototype.isReflex=function(t){return a.right(this.at(t-1),this.at(t),this.at(t+1))};var c=[],h=[];i.prototype.canSee=function(t,e){var o,i,n=c,r=h;if(a.leftOn(this.at(t+1),this.at(t),this.at(e))&&a.rightOn(this.at(t-1),this.at(t),this.at(e)))return!1;i=a.sqdist(this.at(t),this.at(e));for(var l=0;l!==this.vertices.length;++l)if((l+1)%this.vertices.length!==t&&l!==t&&a.leftOn(this.at(t),this.at(e),this.at(l+1))&&a.rightOn(this.at(t),this.at(e),this.at(l))&&(n[0]=this.at(t),n[1]=this.at(e),r[0]=this.at(l),r[1]=this.at(l+1),o=s.lineInt(n,r),a.sqdist(this.at(t),o)<i))return!1;return!0},i.prototype.copy=function(t,e,o){var n=o||new i;if(n.clear(),t<e)for(s=t;s<=e;s++)n.vertices.push(this.vertices[s]);else{for(s=0;s<=e;s++)n.vertices.push(this.vertices[s]);for(var s=t;s<this.vertices.length;s++)n.vertices.push(this.vertices[s])}return n},i.prototype.getCutEdges=function(){for(var t=[],e=[],o=[],n=new i,s=Number.MAX_VALUE,a=0;a<this.vertices.length;++a)if(this.isReflex(a))for(var r=0;r<this.vertices.length;++r)if(this.canSee(a,r)){e=this.copy(a,r,n).getCutEdges(),o=this.copy(r,a,n).getCutEdges();for(var c=0;c<o.length;c++)e.push(o[c]);e.length<s&&(t=e,s=e.length,t.push([this.at(a),this.at(r)]))}return t},i.prototype.decomp=function(){var t=this.getCutEdges();return t.length>0?this.slice(t):[this]},i.prototype.slice=function(t){if(0==t.length)return[this];if(t instanceof Array&&t.length&&t[0]instanceof Array&&2==t[0].length&&t[0][0]instanceof Array){for(var e=[this],o=0;o<t.length;o++)for(var i=t[o],n=0;n<e.length;n++){var s=e[n].slice(i);if(s){e.splice(n,1),e.push(s[0],s[1]);break}}return e}var i=t,o=this.vertices.indexOf(i[0]),n=this.vertices.indexOf(i[1]);return-1!=o&&-1!=n&&[this.copy(o,n),this.copy(n,o)]},i.prototype.isSimple=function(){for(var t=this.vertices,e=0;e<t.length-1;e++)for(var o=0;o<e-1;o++)if(s.segmentsIntersect(t[e],t[e+1],t[o],t[o+1]))return!1;for(e=1;e<t.length-2;e++)if(s.segmentsIntersect(t[0],t[t.length-1],t[e],t[e+1]))return!1;return!0},i.prototype.quickDecomp=function(t,e,o,s,r,c){r=r||100,c=c||0,s=s||25,t=void 0!==t?t:[],e=e||[],o=o||[];var h=[0,0],l=[0,0],p=[0,0],u=0,d=0,f=0,v=0,y=0,m=0,g=0,A=new i,b=new i,E=this,B=this.vertices;if(B.length<3)return t;if(++c>r)return console.warn("quickDecomp: max level ("+r+") reached."),t;for(var q=0;q<this.vertices.length;++q)if(E.isReflex(q)){e.push(E.vertices[q]),u=d=Number.MAX_VALUE;for(P=0;P<this.vertices.length;++P)a.left(E.at(q-1),E.at(q),E.at(P))&&a.rightOn(E.at(q-1),E.at(q),E.at(P-1))&&(p=n(E.at(q-1),E.at(q),E.at(P),E.at(P-1)),a.right(E.at(q+1),E.at(q),p)&&(f=a.sqdist(E.vertices[q],p))<d&&(d=f,l=p,m=P)),a.left(E.at(q+1),E.at(q),E.at(P+1))&&a.rightOn(E.at(q+1),E.at(q),E.at(P))&&(p=n(E.at(q+1),E.at(q),E.at(P),E.at(P+1)),a.left(E.at(q-1),E.at(q),p)&&(f=a.sqdist(E.vertices[q],p))<u&&(u=f,h=p,y=P));if(m==(y+1)%this.vertices.length)p[0]=(l[0]+h[0])/2,p[1]=(l[1]+h[1])/2,o.push(p),q<y?(A.append(E,q,y+1),A.vertices.push(p),b.vertices.push(p),0!=m&&b.append(E,m,E.vertices.length),b.append(E,0,q+1)):(0!=q&&A.append(E,q,E.vertices.length),A.append(E,0,y+1),A.vertices.push(p),b.vertices.push(p),b.append(E,m,q+1));else{if(m>y&&(y+=this.vertices.length),v=Number.MAX_VALUE,y<m)return t;for(var P=m;P<=y;++P)a.leftOn(E.at(q-1),E.at(q),E.at(P))&&a.rightOn(E.at(q+1),E.at(q),E.at(P))&&(f=a.sqdist(E.at(q),E.at(P)))<v&&(v=f,g=P%this.vertices.length);q<g?(A.append(E,q,g+1),0!=g&&b.append(E,g,B.length),b.append(E,0,q+1)):(0!=q&&A.append(E,q,B.length),A.append(E,0,g+1),b.append(E,g,q+1))}return A.vertices.length<b.vertices.length?(A.quickDecomp(t,e,o,s,r,c),b.quickDecomp(t,e,o,s,r,c)):(b.quickDecomp(t,e,o,s,r,c),A.quickDecomp(t,e,o,s,r,c)),t}return t.push(this),t},i.prototype.removeCollinearPoints=function(t){for(var e=0,o=this.vertices.length-1;this.vertices.length>3&&o>=0;--o)a.collinear(this.at(o-1),this.at(o),this.at(o+1),t)&&(this.vertices.splice(o%this.vertices.length,1),o--,e++);return e}},{"./Line":1,"./Point":2,"./Scalar":4}],4:[function(t,e,o){function i(){}e.exports=i,i.eq=function(t,e,o){return o=o||0,Math.abs(t-e)<o}},{}],5:[function(t,e,o){e.exports={Polygon:t("./Polygon"),Point:t("./Point")}},{"./Point":2,"./Polygon":3}],6:[function(t,e,o){e.exports={name:"p2",version:"0.7.1",description:"A JavaScript 2D physics engine.",author:"Stefan Hedman <schteppe@gmail.com> (http://steffe.se)",keywords:["p2.js","p2","physics","engine","2d"],main:"./src/p2.js",engines:{node:"*"},repository:{type:"git",url:"https://github.com/schteppe/p2.js.git"},bugs:{url:"https://github.com/schteppe/p2.js/issues"},licenses:[{type:"MIT"}],devDependencies:{grunt:"^0.4.5","grunt-contrib-jshint":"^0.11.2","grunt-contrib-nodeunit":"^0.4.1","grunt-contrib-uglify":"~0.4.0","grunt-contrib-watch":"~0.5.0","grunt-browserify":"~2.0.1","grunt-contrib-concat":"^0.4.0"},dependencies:{"poly-decomp":"0.1.1"}}},{}],7:[function(t,e,o){function i(t){this.lowerBound=n.create(),t&&t.lowerBound&&n.copy(this.lowerBound,t.lowerBound),this.upperBound=n.create(),t&&t.upperBound&&n.copy(this.upperBound,t.upperBound)}var n=t("../math/vec2");t("../utils/Utils");e.exports=i;var s=n.create();i.prototype.setFromPoints=function(t,e,o,i){var a=this.lowerBound,r=this.upperBound;"number"!=typeof o&&(o=0),0!==o?n.rotate(a,t[0],o):n.copy(a,t[0]),n.copy(r,a);for(var c=Math.cos(o),h=Math.sin(o),l=1;l<t.length;l++){var p=t[l];if(0!==o){var u=p[0],d=p[1];s[0]=c*u-h*d,s[1]=h*u+c*d,p=s}for(var f=0;f<2;f++)p[f]>r[f]&&(r[f]=p[f]),p[f]<a[f]&&(a[f]=p[f])}e&&(n.add(this.lowerBound,this.lowerBound,e),n.add(this.upperBound,this.upperBound,e)),i&&(this.lowerBound[0]-=i,this.lowerBound[1]-=i,this.upperBound[0]+=i,this.upperBound[1]+=i)},i.prototype.copy=function(t){n.copy(this.lowerBound,t.lowerBound),n.copy(this.upperBound,t.upperBound)},i.prototype.extend=function(t){for(var e=2;e--;){var o=t.lowerBound[e];this.lowerBound[e]>o&&(this.lowerBound[e]=o);var i=t.upperBound[e];this.upperBound[e]<i&&(this.upperBound[e]=i)}},i.prototype.overlaps=function(t){var e=this.lowerBound,o=this.upperBound,i=t.lowerBound,n=t.upperBound;return(i[0]<=o[0]&&o[0]<=n[0]||e[0]<=n[0]&&n[0]<=o[0])&&(i[1]<=o[1]&&o[1]<=n[1]||e[1]<=n[1]&&n[1]<=o[1])},i.prototype.containsPoint=function(t){var e=this.lowerBound,o=this.upperBound;return e[0]<=t[0]&&t[0]<=o[0]&&e[1]<=t[1]&&t[1]<=o[1]},i.prototype.overlapsRay=function(t){var e=1/t.direction[0],o=1/t.direction[1],i=(this.lowerBound[0]-t.from[0])*e,n=(this.upperBound[0]-t.from[0])*e,s=(this.lowerBound[1]-t.from[1])*o,a=(this.upperBound[1]-t.from[1])*o,r=Math.max(Math.max(Math.min(i,n),Math.min(s,a))),c=Math.min(Math.min(Math.max(i,n),Math.max(s,a)));return c<0?-1:r>c?-1:r}},{"../math/vec2":30,"../utils/Utils":57}],8:[function(t,e,o){function i(t){this.type=t,this.result=[],this.world=null,this.boundingVolumeType=i.AABB}var n=t("../math/vec2"),s=t("../objects/Body");e.exports=i,i.AABB=1,i.BOUNDING_CIRCLE=2,i.prototype.setWorld=function(t){this.world=t},i.prototype.getCollisionPairs=function(t){};var a=n.create();i.boundingRadiusCheck=function(t,e){n.sub(a,t.position,e.position);var o=n.squaredLength(a),i=t.boundingRadius+e.boundingRadius;return o<=i*i},i.aabbCheck=function(t,e){return t.getAABB().overlaps(e.getAABB())},i.prototype.boundingVolumeCheck=function(t,e){var o;switch(this.boundingVolumeType){case i.BOUNDING_CIRCLE:o=i.boundingRadiusCheck(t,e);break;case i.AABB:o=i.aabbCheck(t,e);break;default:throw new Error("Bounding volume type not recognized: "+this.boundingVolumeType)}return o},i.canCollide=function(t,e){var o=s.KINEMATIC,i=s.STATIC;return(t.type!==i||e.type!==i)&&(!(t.type===o&&e.type===i||t.type===i&&e.type===o)&&((t.type!==o||e.type!==o)&&((t.sleepState!==s.SLEEPING||e.sleepState!==s.SLEEPING)&&!(t.sleepState===s.SLEEPING&&e.type===i||e.sleepState===s.SLEEPING&&t.type===i))))},i.NAIVE=1,i.SAP=2},{"../math/vec2":30,"../objects/Body":31}],9:[function(t,e,o){function i(){n.call(this,n.NAIVE)}t("../shapes/Circle"),t("../shapes/Plane"),t("../shapes/Shape"),t("../shapes/Particle");var n=t("../collision/Broadphase");t("../math/vec2");e.exports=i,(i.prototype=new n).constructor=i,i.prototype.getCollisionPairs=function(t){var e=t.bodies,o=this.result;o.length=0;for(var i=0,s=e.length;i!==s;i++)for(var a=e[i],r=0;r<i;r++){var c=e[r];n.canCollide(a,c)&&this.boundingVolumeCheck(a,c)&&o.push(a,c)}return o},i.prototype.aabbQuery=function(t,e,o){o=o||[];for(var i=t.bodies,n=0;n<i.length;n++){var s=i[n];s.aabbNeedsUpdate&&s.updateAABB(),s.aabb.overlaps(e)&&o.push(s)}return o}},{"../collision/Broadphase":8,"../math/vec2":30,"../shapes/Circle":39,"../shapes/Particle":43,"../shapes/Plane":44,"../shapes/Shape":45}],10:[function(t,e,o){function i(){this.contactEquations=[],this.frictionEquations=[],this.enableFriction=!0,this.enabledEquations=!0,this.slipForce=10,this.frictionCoefficient=.3,this.surfaceVelocity=0,this.contactEquationPool=new l({size:32}),this.frictionEquationPool=new p({size:64}),this.restitution=0,this.stiffness=d.DEFAULT_STIFFNESS,this.relaxation=d.DEFAULT_RELAXATION,this.frictionStiffness=d.DEFAULT_STIFFNESS,this.frictionRelaxation=d.DEFAULT_RELAXATION,this.enableFrictionReduction=!0,this.collidingBodiesLastStep=new u,this.contactSkinSize=.01}function n(t,e){a.set(t.vertices[0],.5*-e.length,-e.radius),a.set(t.vertices[1],.5*e.length,-e.radius),a.set(t.vertices[2],.5*e.length,e.radius),a.set(t.vertices[3],.5*-e.length,e.radius)}function s(t,e,o,i){for(var n=X,s=z,h=Y,l=K,p=t,u=e.vertices,d=null,f=0;f!==u.length+1;f++){var v=u[f%u.length],y=u[(f+1)%u.length];a.rotate(n,v,i),a.rotate(s,y,i),c(n,n,o),c(s,s,o),r(h,n,p),r(l,s,p);var m=a.crossLength(h,l);if(null===d&&(d=m),m*d<=0)return!1;d=m}return!0}var a=t("../math/vec2"),r=a.sub,c=a.add,h=a.dot,l=(t("../utils/Utils"),t("../utils/ContactEquationPool")),p=t("../utils/FrictionEquationPool"),u=t("../utils/TupleDictionary"),d=t("../equations/Equation"),f=(t("../equations/ContactEquation"),t("../equations/FrictionEquation"),t("../shapes/Circle")),v=t("../shapes/Convex"),y=t("../shapes/Shape"),m=(t("../objects/Body"),t("../shapes/Box"));e.exports=i;var g=a.fromValues(0,1),A=a.fromValues(0,0),b=a.fromValues(0,0),E=a.fromValues(0,0),B=a.fromValues(0,0),q=a.fromValues(0,0),P=a.fromValues(0,0),w=a.fromValues(0,0),S=a.fromValues(0,0),C=a.fromValues(0,0),L=a.fromValues(0,0),x=a.fromValues(0,0),F=a.fromValues(0,0),M=a.fromValues(0,0),I=a.fromValues(0,0),R=a.fromValues(0,0),V=a.fromValues(0,0),T=a.fromValues(0,0),N=a.fromValues(0,0),G=[],O=a.create(),U=a.create();i.prototype.bodiesOverlap=function(t,e){for(var o=O,i=U,n=0,s=t.shapes.length;n!==s;n++){var a=t.shapes[n];t.toWorldFrame(o,a.position);for(var r=0,c=e.shapes.length;r!==c;r++){var h=e.shapes[r];if(e.toWorldFrame(i,h.position),this[a.type|h.type](t,a,o,a.angle+t.angle,e,h,i,h.angle+e.angle,!0))return!0}}return!1},i.prototype.collidedLastStep=function(t,e){var o=0|t.id,i=0|e.id;return!!this.collidingBodiesLastStep.get(o,i)},i.prototype.reset=function(){this.collidingBodiesLastStep.reset();for(var t=this.contactEquations,e=t.length;e--;){var o=t[e],i=o.bodyA.id,n=o.bodyB.id;this.collidingBodiesLastStep.set(i,n,!0)}for(var s=this.contactEquations,a=this.frictionEquations,r=0;r<s.length;r++)this.contactEquationPool.release(s[r]);for(r=0;r<a.length;r++)this.frictionEquationPool.release(a[r]);this.contactEquations.length=this.frictionEquations.length=0},i.prototype.createContactEquation=function(t,e,o,i){var n=this.contactEquationPool.get();return n.bodyA=t,n.bodyB=e,n.shapeA=o,n.shapeB=i,n.restitution=this.restitution,n.firstImpact=!this.collidedLastStep(t,e),n.stiffness=this.stiffness,n.relaxation=this.relaxation,n.needsUpdate=!0,n.enabled=this.enabledEquations,n.offset=this.contactSkinSize,n},i.prototype.createFrictionEquation=function(t,e,o,i){var n=this.frictionEquationPool.get();return n.bodyA=t,n.bodyB=e,n.shapeA=o,n.shapeB=i,n.setSlipForce(this.slipForce),n.frictionCoefficient=this.frictionCoefficient,n.relativeVelocity=this.surfaceVelocity,n.enabled=this.enabledEquations,n.needsUpdate=!0,n.stiffness=this.frictionStiffness,n.relaxation=this.frictionRelaxation,n.contactEquations.length=0,n},i.prototype.createFrictionFromContact=function(t){var e=this.createFrictionEquation(t.bodyA,t.bodyB,t.shapeA,t.shapeB);return a.copy(e.contactPointA,t.contactPointA),a.copy(e.contactPointB,t.contactPointB),a.rotate90cw(e.t,t.normalA),e.contactEquations.push(t),e},i.prototype.createFrictionFromAverage=function(t){var e=this.contactEquations[this.contactEquations.length-1],o=this.createFrictionEquation(e.bodyA,e.bodyB,e.shapeA,e.shapeB),i=e.bodyA;e.bodyB;a.set(o.contactPointA,0,0),a.set(o.contactPointB,0,0),a.set(o.t,0,0);for(var n=0;n!==t;n++)(e=this.contactEquations[this.contactEquations.length-1-n]).bodyA===i?(a.add(o.t,o.t,e.normalA),a.add(o.contactPointA,o.contactPointA,e.contactPointA),a.add(o.contactPointB,o.contactPointB,e.contactPointB)):(a.sub(o.t,o.t,e.normalA),a.add(o.contactPointA,o.contactPointA,e.contactPointB),a.add(o.contactPointB,o.contactPointB,e.contactPointA)),o.contactEquations.push(e);var s=1/t;return a.scale(o.contactPointA,o.contactPointA,s),a.scale(o.contactPointB,o.contactPointB,s),a.normalize(o.t,o.t),a.rotate90cw(o.t,o.t),o},i.prototype[y.LINE|y.CONVEX]=i.prototype.convexLine=function(t,e,o,i,n,s,a,r,c){return!c&&0},i.prototype[y.LINE|y.BOX]=i.prototype.lineBox=function(t,e,o,i,n,s,a,r,c){return!c&&0};var k=new m({width:1,height:1}),_=a.create();i.prototype[y.CAPSULE|y.CONVEX]=i.prototype[y.CAPSULE|y.BOX]=i.prototype.convexCapsule=function(t,e,o,i,s,r,c,h,l){var p=_;a.set(p,r.length/2,0),a.rotate(p,p,h),a.add(p,p,c);var u=this.circleConvex(s,r,p,h,t,e,o,i,l,r.radius);a.set(p,-r.length/2,0),a.rotate(p,p,h),a.add(p,p,c);var d=this.circleConvex(s,r,p,h,t,e,o,i,l,r.radius);if(l&&(u||d))return!0;var f=k;return n(f,r),this.convexConvex(t,e,o,i,s,f,c,h,l)+u+d},i.prototype[y.CAPSULE|y.LINE]=i.prototype.lineCapsule=function(t,e,o,i,n,s,a,r,c){return!c&&0};var D=a.create(),W=a.create(),j=new m({width:1,height:1});i.prototype[y.CAPSULE|y.CAPSULE]=i.prototype.capsuleCapsule=function(t,e,o,i,s,r,c,h,l){for(var p=D,u=W,d=0,f=0;f<2;f++){a.set(p,(0===f?-1:1)*e.length/2,0),a.rotate(p,p,i),a.add(p,p,o);for(var v=0;v<2;v++){a.set(u,(0===v?-1:1)*r.length/2,0),a.rotate(u,u,h),a.add(u,u,c),this.enableFrictionReduction&&(A=this.enableFriction,this.enableFriction=!1);var y=this.circleCircle(t,e,p,i,s,r,u,h,l,e.radius,r.radius);if(this.enableFrictionReduction&&(this.enableFriction=A),l&&y)return!0;d+=y}}this.enableFrictionReduction&&(A=this.enableFriction,this.enableFriction=!1);var m=j;n(m,e);var g=this.convexCapsule(t,m,o,i,s,r,c,h,l);if(this.enableFrictionReduction&&(this.enableFriction=A),l&&g)return!0;if(d+=g,this.enableFrictionReduction){var A=this.enableFriction;this.enableFriction=!1}n(m,r);var b=this.convexCapsule(s,m,c,h,t,e,o,i,l);return this.enableFrictionReduction&&(this.enableFriction=A),!(!l||!b)||(d+=b,this.enableFrictionReduction&&d&&this.enableFriction&&this.frictionEquations.push(this.createFrictionFromAverage(d)),d)},i.prototype[y.LINE|y.LINE]=i.prototype.lineLine=function(t,e,o,i,n,s,a,r,c){return!c&&0},i.prototype[y.PLANE|y.LINE]=i.prototype.planeLine=function(t,e,o,i,n,s,l,p,u){var d=A,f=b,v=E,y=B,m=q,L=P,x=w,F=S,M=C,I=G,R=0;a.set(d,-s.length/2,0),a.set(f,s.length/2,0),a.rotate(v,d,p),a.rotate(y,f,p),c(v,v,l),c(y,y,l),a.copy(d,v),a.copy(f,y),r(m,f,d),a.normalize(L,m),a.rotate90cw(M,L),a.rotate(F,g,i),I[0]=d,I[1]=f;for(var V=0;V<I.length;V++){var T=I[V];r(x,T,o);var N=h(x,F);if(N<0){if(u)return!0;var O=this.createContactEquation(t,n,e,s);R++,a.copy(O.normalA,F),a.normalize(O.normalA,O.normalA),a.scale(x,F,N),r(O.contactPointA,T,x),r(O.contactPointA,O.contactPointA,t.position),r(O.contactPointB,T,l),c(O.contactPointB,O.contactPointB,l),r(O.contactPointB,O.contactPointB,n.position),this.contactEquations.push(O),this.enableFrictionReduction||this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(O))}}return!u&&(this.enableFrictionReduction||R&&this.enableFriction&&this.frictionEquations.push(this.createFrictionFromAverage(R)),R)},i.prototype[y.PARTICLE|y.CAPSULE]=i.prototype.particleCapsule=function(t,e,o,i,n,s,a,r,c){return this.circleLine(t,e,o,i,n,s,a,r,c,s.radius,0)},i.prototype[y.CIRCLE|y.LINE]=i.prototype.circleLine=function(t,e,o,i,n,s,l,p,u,d,f){var d=d||0,f=void 0!==f?f:e.radius,v=A,y=b,m=E,g=B,R=q,V=P,T=w,N=S,O=C,U=L,k=x,_=F,D=M,W=I,j=G;a.set(N,-s.length/2,0),a.set(O,s.length/2,0),a.rotate(U,N,p),a.rotate(k,O,p),c(U,U,l),c(k,k,l),a.copy(N,U),a.copy(O,k),r(V,O,N),a.normalize(T,V),a.rotate90cw(R,T),r(_,o,N);var X=h(_,R);r(g,N,l),r(D,o,l);var z=f+d;if(Math.abs(X)<z){a.scale(v,R,X),r(m,o,v),a.scale(y,R,h(R,D)),a.normalize(y,y),a.scale(y,y,d),c(m,m,y);var Y=h(T,m),K=h(T,N),H=h(T,O);if(Y>K&&Y<H){if(u)return!0;Q=this.createContactEquation(t,n,e,s);return a.scale(Q.normalA,v,-1),a.normalize(Q.normalA,Q.normalA),a.scale(Q.contactPointA,Q.normalA,f),c(Q.contactPointA,Q.contactPointA,o),r(Q.contactPointA,Q.contactPointA,t.position),r(Q.contactPointB,m,l),c(Q.contactPointB,Q.contactPointB,l),r(Q.contactPointB,Q.contactPointB,n.position),this.contactEquations.push(Q),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(Q)),1}}j[0]=N,j[1]=O;for(var Z=0;Z<j.length;Z++){var J=j[Z];if(r(_,J,o),a.squaredLength(_)<Math.pow(z,2)){if(u)return!0;var Q=this.createContactEquation(t,n,e,s);return a.copy(Q.normalA,_),a.normalize(Q.normalA,Q.normalA),a.scale(Q.contactPointA,Q.normalA,f),c(Q.contactPointA,Q.contactPointA,o),r(Q.contactPointA,Q.contactPointA,t.position),r(Q.contactPointB,J,l),a.scale(W,Q.normalA,-d),c(Q.contactPointB,Q.contactPointB,W),c(Q.contactPointB,Q.contactPointB,l),r(Q.contactPointB,Q.contactPointB,n.position),this.contactEquations.push(Q),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(Q)),1}}return 0},i.prototype[y.CIRCLE|y.CAPSULE]=i.prototype.circleCapsule=function(t,e,o,i,n,s,a,r,c){return this.circleLine(t,e,o,i,n,s,a,r,c,s.radius)},i.prototype[y.CIRCLE|y.CONVEX]=i.prototype[y.CIRCLE|y.BOX]=i.prototype.circleConvex=function(t,e,o,i,n,h,l,p,u,d){for(var d="number"==typeof d?d:e.radius,f=A,v=b,y=E,m=B,g=q,P=L,w=x,S=M,C=I,F=R,T=V,N=!1,G=Number.MAX_VALUE,O=h.vertices,U=0;U!==O.length+1;U++){var k=O[U%O.length],_=O[(U+1)%O.length];if(a.rotate(f,k,p),a.rotate(v,_,p),c(f,f,l),c(v,v,l),r(y,v,f),a.normalize(m,y),a.rotate90cw(g,m),a.scale(C,g,-e.radius),c(C,C,o),s(C,h,l,p)){a.sub(F,f,C);var D=Math.abs(a.dot(F,g));D<G&&(a.copy(T,C),G=D,a.scale(S,g,D),a.add(S,S,C),N=!0)}}if(N){if(u)return!0;j=this.createContactEquation(t,n,e,h);return a.sub(j.normalA,T,o),a.normalize(j.normalA,j.normalA),a.scale(j.contactPointA,j.normalA,d),c(j.contactPointA,j.contactPointA,o),r(j.contactPointA,j.contactPointA,t.position),r(j.contactPointB,S,l),c(j.contactPointB,j.contactPointB,l),r(j.contactPointB,j.contactPointB,n.position),this.contactEquations.push(j),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(j)),1}if(d>0)for(U=0;U<O.length;U++){var W=O[U];if(a.rotate(w,W,p),c(w,w,l),r(P,w,o),a.squaredLength(P)<Math.pow(d,2)){if(u)return!0;var j=this.createContactEquation(t,n,e,h);return a.copy(j.normalA,P),a.normalize(j.normalA,j.normalA),a.scale(j.contactPointA,j.normalA,d),c(j.contactPointA,j.contactPointA,o),r(j.contactPointA,j.contactPointA,t.position),r(j.contactPointB,w,l),c(j.contactPointB,j.contactPointB,l),r(j.contactPointB,j.contactPointB,n.position),this.contactEquations.push(j),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(j)),1}}return 0};var X=a.create(),z=a.create(),Y=a.create(),K=a.create();i.prototype[y.PARTICLE|y.CONVEX]=i.prototype[y.PARTICLE|y.BOX]=i.prototype.particleConvex=function(t,e,o,i,n,l,p,u,d){var f=A,v=b,y=E,m=B,g=q,S=P,C=w,x=L,F=M,I=T,R=N,V=Number.MAX_VALUE,G=!1,O=l.vertices;if(!s(o,l,p,u))return 0;if(d)return!0;for(var U=0;U!==O.length+1;U++){var k=O[U%O.length],_=O[(U+1)%O.length];a.rotate(f,k,u),a.rotate(v,_,u),c(f,f,p),c(v,v,p),r(y,v,f),a.normalize(m,y),a.rotate90cw(g,m),r(x,o,f);h(x,g);r(S,f,p),r(C,o,p),a.sub(I,f,o);var D=Math.abs(a.dot(I,g));D<V&&(V=D,a.scale(F,g,D),a.add(F,F,o),a.copy(R,g),G=!0)}if(G){var W=this.createContactEquation(t,n,e,l);return a.scale(W.normalA,R,-1),a.normalize(W.normalA,W.normalA),a.set(W.contactPointA,0,0),c(W.contactPointA,W.contactPointA,o),r(W.contactPointA,W.contactPointA,t.position),r(W.contactPointB,F,p),c(W.contactPointB,W.contactPointB,p),r(W.contactPointB,W.contactPointB,n.position),this.contactEquations.push(W),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(W)),1}return 0},i.prototype[y.CIRCLE]=i.prototype.circleCircle=function(t,e,o,i,n,s,h,l,p,u,d){var f=A,u=u||e.radius,d=d||s.radius;r(f,o,h);var v=u+d;if(a.squaredLength(f)>Math.pow(v,2))return 0;if(p)return!0;var y=this.createContactEquation(t,n,e,s);return r(y.normalA,h,o),a.normalize(y.normalA,y.normalA),a.scale(y.contactPointA,y.normalA,u),a.scale(y.contactPointB,y.normalA,-d),c(y.contactPointA,y.contactPointA,o),r(y.contactPointA,y.contactPointA,t.position),c(y.contactPointB,y.contactPointB,h),r(y.contactPointB,y.contactPointB,n.position),this.contactEquations.push(y),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(y)),1},i.prototype[y.PLANE|y.CONVEX]=i.prototype[y.PLANE|y.BOX]=i.prototype.planeConvex=function(t,e,o,i,n,s,l,p,u){var d=A,f=b,v=E,y=0;a.rotate(f,g,i);for(var m=0;m!==s.vertices.length;m++){var B=s.vertices[m];if(a.rotate(d,B,p),c(d,d,l),r(v,d,o),h(v,f)<=0){if(u)return!0;y++;var q=this.createContactEquation(t,n,e,s);r(v,d,o),a.copy(q.normalA,f);var P=h(v,q.normalA);a.scale(v,q.normalA,P),r(q.contactPointB,d,n.position),r(q.contactPointA,d,v),r(q.contactPointA,q.contactPointA,t.position),this.contactEquations.push(q),this.enableFrictionReduction||this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(q))}}return this.enableFrictionReduction&&this.enableFriction&&y&&this.frictionEquations.push(this.createFrictionFromAverage(y)),y},i.prototype[y.PARTICLE|y.PLANE]=i.prototype.particlePlane=function(t,e,o,i,n,s,c,l,p){var u=A,d=b;l=l||0,r(u,o,c),a.rotate(d,g,l);var f=h(u,d);if(f>0)return 0;if(p)return!0;var v=this.createContactEquation(n,t,s,e);return a.copy(v.normalA,d),a.scale(u,v.normalA,f),r(v.contactPointA,o,u),r(v.contactPointA,v.contactPointA,n.position),r(v.contactPointB,o,t.position),this.contactEquations.push(v),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(v)),1},i.prototype[y.CIRCLE|y.PARTICLE]=i.prototype.circleParticle=function(t,e,o,i,n,s,h,l,p){var u=A;if(r(u,h,o),a.squaredLength(u)>Math.pow(e.radius,2))return 0;if(p)return!0;var d=this.createContactEquation(t,n,e,s);return a.copy(d.normalA,u),a.normalize(d.normalA,d.normalA),a.scale(d.contactPointA,d.normalA,e.radius),c(d.contactPointA,d.contactPointA,o),r(d.contactPointA,d.contactPointA,t.position),r(d.contactPointB,h,n.position),this.contactEquations.push(d),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(d)),1};var H=new f({radius:1}),Z=a.create(),J=a.create();a.create();i.prototype[y.PLANE|y.CAPSULE]=i.prototype.planeCapsule=function(t,e,o,i,n,s,r,h,l){var p=Z,u=J,d=H;a.set(p,-s.length/2,0),a.rotate(p,p,h),c(p,p,r),a.set(u,s.length/2,0),a.rotate(u,u,h),c(u,u,r),d.radius=s.radius;var f;this.enableFrictionReduction&&(f=this.enableFriction,this.enableFriction=!1);var v=this.circlePlane(n,d,p,0,t,e,o,i,l),y=this.circlePlane(n,d,u,0,t,e,o,i,l);if(this.enableFrictionReduction&&(this.enableFriction=f),l)return v||y;var m=v+y;return this.enableFrictionReduction&&m&&this.frictionEquations.push(this.createFrictionFromAverage(m)),m},i.prototype[y.CIRCLE|y.PLANE]=i.prototype.circlePlane=function(t,e,o,i,n,s,l,p,u){var d=t,f=e,v=o,y=n,m=l,B=p;B=B||0;var q=A,P=b,w=E;r(q,v,m),a.rotate(P,g,B);var S=h(P,q);if(S>f.radius)return 0;if(u)return!0;var C=this.createContactEquation(y,d,s,e);return a.copy(C.normalA,P),a.scale(C.contactPointB,C.normalA,-f.radius),c(C.contactPointB,C.contactPointB,v),r(C.contactPointB,C.contactPointB,d.position),a.scale(w,C.normalA,S),r(C.contactPointA,q,w),c(C.contactPointA,C.contactPointA,m),r(C.contactPointA,C.contactPointA,y.position),this.contactEquations.push(C),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(C)),1},i.prototype[y.CONVEX]=i.prototype[y.CONVEX|y.BOX]=i.prototype[y.BOX]=i.prototype.convexConvex=function(t,e,o,n,s,l,p,u,d,f){var v=A,y=b,m=E,g=B,P=q,L=w,x=S,F=C,M=0,f="number"==typeof f?f:0;if(!i.findSeparatingAxis(e,o,n,l,p,u,v))return 0;r(x,p,o),h(v,x)>0&&a.scale(v,v,-1);var I=i.getClosestEdge(e,n,v,!0),R=i.getClosestEdge(l,u,v);if(-1===I||-1===R)return 0;for(var V=0;V<2;V++){var T=I,N=R,G=e,O=l,U=o,k=p,_=n,D=u,W=t,j=s;if(0===V){var X;X=T,T=N,N=X,X=G,G=O,O=X,X=U,U=k,k=X,X=_,_=D,D=X,X=W,W=j,j=X}for(var z=N;z<N+2;z++){var Y=O.vertices[(z+O.vertices.length)%O.vertices.length];a.rotate(y,Y,D),c(y,y,k);for(var K=0,H=T-1;H<T+2;H++){var Z=G.vertices[(H+G.vertices.length)%G.vertices.length],J=G.vertices[(H+1+G.vertices.length)%G.vertices.length];a.rotate(m,Z,_),a.rotate(g,J,_),c(m,m,U),c(g,g,U),r(P,g,m),a.rotate90cw(F,P),a.normalize(F,F),r(x,y,m);$=h(F,x);(H===T&&$<=f||H!==T&&$<=0)&&K++}if(K>=3){if(d)return!0;var Q=this.createContactEquation(W,j,G,O);M++;var Z=G.vertices[T%G.vertices.length],J=G.vertices[(T+1)%G.vertices.length];a.rotate(m,Z,_),a.rotate(g,J,_),c(m,m,U),c(g,g,U),r(P,g,m),a.rotate90cw(Q.normalA,P),a.normalize(Q.normalA,Q.normalA),r(x,y,m);var $=h(Q.normalA,x);a.scale(L,Q.normalA,$),r(Q.contactPointA,y,U),r(Q.contactPointA,Q.contactPointA,L),c(Q.contactPointA,Q.contactPointA,U),r(Q.contactPointA,Q.contactPointA,W.position),r(Q.contactPointB,y,k),c(Q.contactPointB,Q.contactPointB,k),r(Q.contactPointB,Q.contactPointB,j.position),this.contactEquations.push(Q),this.enableFrictionReduction||this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(Q))}}}return this.enableFrictionReduction&&this.enableFriction&&M&&this.frictionEquations.push(this.createFrictionFromAverage(M)),M};var Q=a.fromValues(0,0);i.projectConvexOntoAxis=function(t,e,o,i,n){var s,r,c=null,l=null,p=Q;a.rotate(p,i,-o);for(var u=0;u<t.vertices.length;u++)s=t.vertices[u],r=h(s,p),(null===c||r>c)&&(c=r),(null===l||r<l)&&(l=r);if(l>c){var d=l;l=c,c=d}var f=h(e,i);a.set(n,l+f,c+f)};var $=a.fromValues(0,0),tt=a.fromValues(0,0),et=a.fromValues(0,0),ot=a.fromValues(0,0),it=a.fromValues(0,0),nt=a.fromValues(0,0);i.findSeparatingAxis=function(t,e,o,n,s,c,h){var l=null,p=!1,u=!1,d=$,f=tt,v=et,y=ot,g=it,A=nt;if(t instanceof m&&n instanceof m)for(P=0;2!==P;P++){var b=t,E=o;1===P&&(b=n,E=c);for(w=0;2!==w;w++){0===w?a.set(y,0,1):1===w&&a.set(y,1,0),0!==E&&a.rotate(y,y,E),i.projectConvexOntoAxis(t,e,o,y,g),i.projectConvexOntoAxis(n,s,c,y,A);var B=g,q=A;g[0]>A[0]&&(q=g,B=A,!0),p=(S=q[0]-B[1])<=0,(null===l||S>l)&&(a.copy(h,y),l=S,u=p)}}else for(var P=0;2!==P;P++){var b=t,E=o;1===P&&(b=n,E=c);for(var w=0;w!==b.vertices.length;w++){a.rotate(f,b.vertices[w],E),a.rotate(v,b.vertices[(w+1)%b.vertices.length],E),r(d,v,f),a.rotate90cw(y,d),a.normalize(y,y),i.projectConvexOntoAxis(t,e,o,y,g),i.projectConvexOntoAxis(n,s,c,y,A);var B=g,q=A;g[0]>A[0]&&(q=g,B=A,!0);var S=q[0]-B[1];p=S<=0,(null===l||S>l)&&(a.copy(h,y),l=S,u=p)}}return u};var st=a.fromValues(0,0),at=a.fromValues(0,0),rt=a.fromValues(0,0);i.getClosestEdge=function(t,e,o,i){var n=st,s=at,c=rt;a.rotate(n,o,-e),i&&a.scale(n,n,-1);for(var l=-1,p=t.vertices.length,u=-1,d=0;d!==p;d++){r(s,t.vertices[(d+1)%p],t.vertices[d%p]),a.rotate90cw(c,s),a.normalize(c,c);var f=h(c,n);(-1===l||f>u)&&(l=d%p,u=f)}return l};var ct=a.create(),ht=a.create(),lt=a.create(),pt=a.create(),ut=a.create(),dt=a.create(),ft=a.create();i.prototype[y.CIRCLE|y.HEIGHTFIELD]=i.prototype.circleHeightfield=function(t,e,o,i,n,s,h,l,p,u){var d=s.heights,u=u||e.radius,f=s.elementWidth,v=ht,y=ct,m=ut,g=ft,A=dt,b=lt,E=pt,B=Math.floor((o[0]-u-h[0])/f),q=Math.ceil((o[0]+u-h[0])/f);B<0&&(B=0),q>=d.length&&(q=d.length-1);for(var P=d[B],w=d[q],S=B;S<q;S++)d[S]<w&&(w=d[S]),d[S]>P&&(P=d[S]);if(o[1]-u>P)return!p&&0;for(var C=!1,S=B;S<q;S++){a.set(b,S*f,d[S]),a.set(E,(S+1)*f,d[S+1]),a.add(b,b,h),a.add(E,E,h),a.sub(A,E,b),a.rotate(A,A,Math.PI/2),a.normalize(A,A),a.scale(y,A,-u),a.add(y,y,o),a.sub(v,y,b);var L=a.dot(v,A);if(y[0]>=b[0]&&y[0]<E[0]&&L<=0){if(p)return!0;C=!0,a.scale(v,A,-L),a.add(m,y,v),a.copy(g,A);x=this.createContactEquation(n,t,s,e);a.copy(x.normalA,g),a.scale(x.contactPointB,x.normalA,-u),c(x.contactPointB,x.contactPointB,o),r(x.contactPointB,x.contactPointB,t.position),a.copy(x.contactPointA,m),a.sub(x.contactPointA,x.contactPointA,n.position),this.contactEquations.push(x),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(x))}}if(C=!1,u>0)for(S=B;S<=q;S++)if(a.set(b,S*f,d[S]),a.add(b,b,h),a.sub(v,o,b),a.squaredLength(v)<Math.pow(u,2)){if(p)return!0;C=!0;var x=this.createContactEquation(n,t,s,e);a.copy(x.normalA,v),a.normalize(x.normalA,x.normalA),a.scale(x.contactPointB,x.normalA,-u),c(x.contactPointB,x.contactPointB,o),r(x.contactPointB,x.contactPointB,t.position),r(x.contactPointA,b,h),c(x.contactPointA,x.contactPointA,h),r(x.contactPointA,x.contactPointA,n.position),this.contactEquations.push(x),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(x))}return C?1:0};var vt=a.create(),yt=a.create(),mt=a.create(),gt=new v({vertices:[a.create(),a.create(),a.create(),a.create()]});i.prototype[y.BOX|y.HEIGHTFIELD]=i.prototype[y.CONVEX|y.HEIGHTFIELD]=i.prototype.convexHeightfield=function(t,e,o,i,n,s,r,c,h){var l=s.heights,p=s.elementWidth,u=vt,d=yt,f=mt,v=gt,y=Math.floor((t.aabb.lowerBound[0]-r[0])/p),m=Math.ceil((t.aabb.upperBound[0]-r[0])/p);y<0&&(y=0),m>=l.length&&(m=l.length-1);for(var g=l[y],A=l[m],b=y;b<m;b++)l[b]<A&&(A=l[b]),l[b]>g&&(g=l[b]);if(t.aabb.lowerBound[1]>g)return!h&&0;for(var E=0,b=y;b<m;b++){a.set(u,b*p,l[b]),a.set(d,(b+1)*p,l[b+1]),a.add(u,u,r),a.add(d,d,r);a.set(f,.5*(d[0]+u[0]),.5*(d[1]+u[1]-100)),a.sub(v.vertices[0],d,f),a.sub(v.vertices[1],u,f),a.copy(v.vertices[2],v.vertices[1]),a.copy(v.vertices[3],v.vertices[0]),v.vertices[2][1]-=100,v.vertices[3][1]-=100,E+=this.convexConvex(t,e,o,i,n,v,f,0,h)}return E}},{"../equations/ContactEquation":21,"../equations/Equation":22,"../equations/FrictionEquation":23,"../math/vec2":30,"../objects/Body":31,"../shapes/Box":37,"../shapes/Circle":39,"../shapes/Convex":40,"../shapes/Shape":45,"../utils/ContactEquationPool":48,"../utils/FrictionEquationPool":49,"../utils/TupleDictionary":56,"../utils/Utils":57}],11:[function(t,e,o){function i(t){t=t||{},this.from=t.from?s.fromValues(t.from[0],t.from[1]):s.create(),this.to=t.to?s.fromValues(t.to[0],t.to[1]):s.create(),this.checkCollisionResponse=void 0===t.checkCollisionResponse||t.checkCollisionResponse,this.skipBackfaces=!!t.skipBackfaces,this.collisionMask=void 0!==t.collisionMask?t.collisionMask:-1,this.collisionGroup=void 0!==t.collisionGroup?t.collisionGroup:-1,this.mode=void 0!==t.mode?t.mode:i.ANY,this.callback=t.callback||function(t){},this.direction=s.create(),this.length=1,this.update()}function n(t,e,o){s.sub(r,o,t);var i=s.dot(r,e);return s.scale(c,e,i),s.add(c,c,t),s.squaredDistance(o,c)}e.exports=i;var s=t("../math/vec2");t("../collision/RaycastResult"),t("../shapes/Shape"),t("../collision/AABB");i.prototype.constructor=i,i.CLOSEST=1,i.ANY=2,i.ALL=4,i.prototype.update=function(){var t=this.direction;s.sub(t,this.to,this.from),this.length=s.length(t),s.normalize(t,t)},i.prototype.intersectBodies=function(t,e){for(var o=0,i=e.length;!t.shouldStop(this)&&o<i;o++){var n=e[o],s=n.getAABB();(s.overlapsRay(this)>=0||s.containsPoint(this.from))&&this.intersectBody(t,n)}};var a=s.create();i.prototype.intersectBody=function(t,e){var o=this.checkCollisionResponse;if(!o||e.collisionResponse)for(var i=a,n=0,r=e.shapes.length;n<r;n++){var c=e.shapes[n];if((!o||c.collisionResponse)&&(0!=(this.collisionGroup&c.collisionMask)&&0!=(c.collisionGroup&this.collisionMask))){s.rotate(i,c.position,e.angle),s.add(i,i,e.position);var h=c.angle+e.angle;if(this.intersectShape(t,c,h,i,e),t.shouldStop(this))break}}},i.prototype.intersectShape=function(t,e,o,i,s){n(this.from,this.direction,i)>e.boundingRadius*e.boundingRadius||(this._currentBody=s,this._currentShape=e,e.raycast(t,this,i,o),this._currentBody=this._currentShape=null)},i.prototype.getAABB=function(t){var e=this.to,o=this.from;s.set(t.lowerBound,Math.min(e[0],o[0]),Math.min(e[1],o[1])),s.set(t.upperBound,Math.max(e[0],o[0]),Math.max(e[1],o[1]))};s.create();i.prototype.reportIntersection=function(t,e,o,n){this.from,this.to;var a=this._currentShape,r=this._currentBody;if(!(this.skipBackfaces&&s.dot(o,this.direction)>0))switch(this.mode){case i.ALL:t.set(o,a,r,e,n),this.callback(t);break;case i.CLOSEST:(e<t.fraction||!t.hasHit())&&t.set(o,a,r,e,n);break;case i.ANY:t.set(o,a,r,e,n)}};var r=s.create(),c=s.create()},{"../collision/AABB":7,"../collision/RaycastResult":12,"../math/vec2":30,"../shapes/Shape":45}],12:[function(t,e,o){function i(){this.normal=n.create(),this.shape=null,this.body=null,this.faceIndex=-1,this.fraction=-1,this.isStopped=!1}var n=t("../math/vec2"),s=t("../collision/Ray");e.exports=i,i.prototype.reset=function(){n.set(this.normal,0,0),this.shape=null,this.body=null,this.faceIndex=-1,this.fraction=-1,this.isStopped=!1},i.prototype.getHitDistance=function(t){return n.distance(t.from,t.to)*this.fraction},i.prototype.hasHit=function(){return-1!==this.fraction},i.prototype.getHitPoint=function(t,e){n.lerp(t,e.from,e.to,this.fraction)},i.prototype.stop=function(){this.isStopped=!0},i.prototype.shouldStop=function(t){return this.isStopped||-1!==this.fraction&&t.mode===s.ANY},i.prototype.set=function(t,e,o,i,s){n.copy(this.normal,t),this.shape=e,this.body=o,this.fraction=i,this.faceIndex=s}},{"../collision/Ray":11,"../math/vec2":30}],13:[function(t,e,o){function i(){s.call(this,s.SAP),this.axisList=[],this.axisIndex=0;var t=this;this._addBodyHandler=function(e){t.axisList.push(e.body)},this._removeBodyHandler=function(e){var o=t.axisList.indexOf(e.body);-1!==o&&t.axisList.splice(o,1)}}var n=t("../utils/Utils"),s=t("../collision/Broadphase");e.exports=i,(i.prototype=new s).constructor=i,i.prototype.setWorld=function(t){this.axisList.length=0,n.appendArray(this.axisList,t.bodies),t.off("addBody",this._addBodyHandler).off("removeBody",this._removeBodyHandler),t.on("addBody",this._addBodyHandler).on("removeBody",this._removeBodyHandler),this.world=t},i.sortAxisList=function(t,e){e|=0;for(var o=1,i=t.length;o<i;o++){for(var n=t[o],s=o-1;s>=0&&!(t[s].aabb.lowerBound[e]<=n.aabb.lowerBound[e]);s--)t[s+1]=t[s];t[s+1]=n}return t},i.prototype.sortList=function(){var t=this.axisList,e=this.axisIndex;i.sortAxisList(t,e)},i.prototype.getCollisionPairs=function(t){var e=this.axisList,o=this.result,i=this.axisIndex;o.length=0;for(var n=e.length;n--;){var a=e[n];a.aabbNeedsUpdate&&a.updateAABB()}this.sortList();for(var r=0,c=0|e.length;r!==c;r++)for(var h=e[r],l=r+1;l<c;l++){var p=e[l];if(!(p.aabb.lowerBound[i]<=h.aabb.upperBound[i]))break;s.canCollide(h,p)&&this.boundingVolumeCheck(h,p)&&o.push(h,p)}return o},i.prototype.aabbQuery=function(t,e,o){o=o||[],this.sortList();var i=this.axisIndex,n="x";1===i&&(n="y"),2===i&&(n="z");for(var s=this.axisList,a=(e.lowerBound[n],e.upperBound[n],0);a<s.length;a++){var r=s[a];r.aabbNeedsUpdate&&r.updateAABB(),r.aabb.overlaps(e)&&o.push(r)}return o}},{"../collision/Broadphase":8,"../utils/Utils":57}],14:[function(t,e,o){function i(t,e,o,i){this.type=o,i=n.defaults(i,{collideConnected:!0,wakeUpBodies:!0}),this.equations=[],this.bodyA=t,this.bodyB=e,this.collideConnected=i.collideConnected,i.wakeUpBodies&&(t&&t.wakeUp(),e&&e.wakeUp())}e.exports=i;var n=t("../utils/Utils");i.prototype.update=function(){throw new Error("method update() not implmemented in this Constraint subclass!")},i.DISTANCE=1,i.GEAR=2,i.LOCK=3,i.PRISMATIC=4,i.REVOLUTE=5,i.prototype.setStiffness=function(t){for(var e=this.equations,o=0;o!==e.length;o++){var i=e[o];i.stiffness=t,i.needsUpdate=!0}},i.prototype.setRelaxation=function(t){for(var e=this.equations,o=0;o!==e.length;o++){var i=e[o];i.relaxation=t,i.needsUpdate=!0}}},{"../utils/Utils":57}],15:[function(t,e,o){function i(t,e,o){o=r.defaults(o,{localAnchorA:[0,0],localAnchorB:[0,0]}),n.call(this,t,e,n.DISTANCE,o),this.localAnchorA=a.fromValues(o.localAnchorA[0],o.localAnchorA[1]),this.localAnchorB=a.fromValues(o.localAnchorB[0],o.localAnchorB[1]);var i=this.localAnchorA,c=this.localAnchorB;if(this.distance=0,"number"==typeof o.distance)this.distance=o.distance;else{var h=a.create(),l=a.create(),p=a.create();a.rotate(h,i,t.angle),a.rotate(l,c,e.angle),a.add(p,e.position,l),a.sub(p,p,h),a.sub(p,p,t.position),this.distance=a.length(p)}var u;u=void 0===o.maxForce?Number.MAX_VALUE:o.maxForce;var d=new s(t,e,-u,u);this.equations=[d],this.maxForce=u;var p=a.create(),f=a.create(),v=a.create(),y=this;d.computeGq=function(){var t=this.bodyA,e=this.bodyB,o=t.position,n=e.position;return a.rotate(f,i,t.angle),a.rotate(v,c,e.angle),a.add(p,n,v),a.sub(p,p,f),a.sub(p,p,o),a.length(p)-y.distance},this.setMaxForce(u),this.upperLimitEnabled=!1,this.upperLimit=1,this.lowerLimitEnabled=!1,this.lowerLimit=0,this.position=0}var n=t("./Constraint"),s=t("../equations/Equation"),a=t("../math/vec2"),r=t("../utils/Utils");e.exports=i,(i.prototype=new n).constructor=i;var c=a.create(),h=a.create(),l=a.create();i.prototype.update=function(){var t=this.equations[0],e=this.bodyA,o=this.bodyB,i=(this.distance,e.position),n=o.position,s=this.equations[0],r=t.G;a.rotate(h,this.localAnchorA,e.angle),a.rotate(l,this.localAnchorB,o.angle),a.add(c,n,l),a.sub(c,c,h),a.sub(c,c,i),this.position=a.length(c);var p=!1;if(this.upperLimitEnabled&&this.position>this.upperLimit&&(s.maxForce=0,s.minForce=-this.maxForce,this.distance=this.upperLimit,p=!0),this.lowerLimitEnabled&&this.position<this.lowerLimit&&(s.maxForce=this.maxForce,s.minForce=0,this.distance=this.lowerLimit,p=!0),!this.lowerLimitEnabled&&!this.upperLimitEnabled||p){s.enabled=!0,a.normalize(c,c);var u=a.crossLength(h,c),d=a.crossLength(l,c);r[0]=-c[0],r[1]=-c[1],r[2]=-u,r[3]=c[0],r[4]=c[1],r[5]=d}else s.enabled=!1},i.prototype.setMaxForce=function(t){var e=this.equations[0];e.minForce=-t,e.maxForce=t},i.prototype.getMaxForce=function(){return this.equations[0].maxForce}},{"../equations/Equation":22,"../math/vec2":30,"../utils/Utils":57,"./Constraint":14}],16:[function(t,e,o){function i(t,e,o){o=o||{},n.call(this,t,e,n.GEAR,o),this.ratio=void 0!==o.ratio?o.ratio:1,this.angle=void 0!==o.angle?o.angle:e.angle-this.ratio*t.angle,o.angle=this.angle,o.ratio=this.ratio,this.equations=[new s(t,e,o)],void 0!==o.maxTorque&&this.setMaxTorque(o.maxTorque)}var n=t("./Constraint"),s=(t("../equations/Equation"),t("../equations/AngleLockEquation"));t("../math/vec2");e.exports=i,(i.prototype=new n).constructor=i,i.prototype.update=function(){var t=this.equations[0];t.ratio!==this.ratio&&t.setRatio(this.ratio),t.angle=this.angle},i.prototype.setMaxTorque=function(t){this.equations[0].setMaxTorque(t)},i.prototype.getMaxTorque=function(t){return this.equations[0].maxForce}},{"../equations/AngleLockEquation":20,"../equations/Equation":22,"../math/vec2":30,"./Constraint":14}],17:[function(t,e,o){function i(t,e,o){o=o||{},n.call(this,t,e,n.LOCK,o);var i=void 0===o.maxForce?Number.MAX_VALUE:o.maxForce,r=(o.localAngleB,new a(t,e,-i,i)),c=new a(t,e,-i,i),h=new a(t,e,-i,i),l=s.create(),p=s.create(),u=this;r.computeGq=function(){return s.rotate(l,u.localOffsetB,t.angle),s.sub(p,e.position,t.position),s.sub(p,p,l),p[0]},c.computeGq=function(){return s.rotate(l,u.localOffsetB,t.angle),s.sub(p,e.position,t.position),s.sub(p,p,l),p[1]};var d=s.create(),f=s.create();h.computeGq=function(){return s.rotate(d,u.localOffsetB,e.angle-u.localAngleB),s.scale(d,d,-1),s.sub(p,t.position,e.position),s.add(p,p,d),s.rotate(f,d,-Math.PI/2),s.normalize(f,f),s.dot(p,f)},this.localOffsetB=s.create(),o.localOffsetB?s.copy(this.localOffsetB,o.localOffsetB):(s.sub(this.localOffsetB,e.position,t.position),s.rotate(this.localOffsetB,this.localOffsetB,-t.angle)),this.localAngleB=0,"number"==typeof o.localAngleB?this.localAngleB=o.localAngleB:this.localAngleB=e.angle-t.angle,this.equations.push(r,c,h),this.setMaxForce(i)}var n=t("./Constraint"),s=t("../math/vec2"),a=t("../equations/Equation");e.exports=i,(i.prototype=new n).constructor=i,i.prototype.setMaxForce=function(t){for(var e=this.equations,o=0;o<this.equations.length;o++)e[o].maxForce=t,e[o].minForce=-t},i.prototype.getMaxForce=function(){return this.equations[0].maxForce};var r=s.create(),c=s.create(),h=s.create(),l=s.fromValues(1,0),p=s.fromValues(0,1);i.prototype.update=function(){var t=this.equations[0],e=this.equations[1],o=this.equations[2],i=this.bodyA,n=this.bodyB;s.rotate(r,this.localOffsetB,i.angle),s.rotate(c,this.localOffsetB,n.angle-this.localAngleB),s.scale(c,c,-1),s.rotate(h,c,Math.PI/2),s.normalize(h,h),t.G[0]=-1,t.G[1]=0,t.G[2]=-s.crossLength(r,l),t.G[3]=1,e.G[0]=0,e.G[1]=-1,e.G[2]=-s.crossLength(r,p),e.G[4]=1,o.G[0]=-h[0],o.G[1]=-h[1],o.G[3]=h[0],o.G[4]=h[1],o.G[5]=s.crossLength(c,h)}},{"../equations/Equation":22,"../math/vec2":30,"./Constraint":14}],18:[function(t,e,o){function i(t,e,o){o=o||{},n.call(this,t,e,n.PRISMATIC,o);var i=r.fromValues(0,0),h=r.fromValues(1,0),l=r.fromValues(0,0);o.localAnchorA&&r.copy(i,o.localAnchorA),o.localAxisA&&r.copy(h,o.localAxisA),o.localAnchorB&&r.copy(l,o.localAnchorB),this.localAnchorA=i,this.localAnchorB=l,this.localAxisA=h;var p=this.maxForce=void 0!==o.maxForce?o.maxForce:Number.MAX_VALUE,u=new a(t,e,-p,p),d=new r.create,f=new r.create,v=new r.create,y=new r.create;if(u.computeGq=function(){return r.dot(v,y)},u.updateJacobian=function(){var o=this.G,n=t.position,s=e.position;r.rotate(d,i,t.angle),r.rotate(f,l,e.angle),r.add(v,s,f),r.sub(v,v,n),r.sub(v,v,d),r.rotate(y,h,t.angle+Math.PI/2),o[0]=-y[0],o[1]=-y[1],o[2]=-r.crossLength(d,y)+r.crossLength(y,v),o[3]=y[0],o[4]=y[1],o[5]=r.crossLength(f,y)},this.equations.push(u),!o.disableRotationalLock){var m=new c(t,e,-p,p);this.equations.push(m)}this.position=0,this.velocity=0,this.lowerLimitEnabled=void 0!==o.lowerLimit,this.upperLimitEnabled=void 0!==o.upperLimit,this.lowerLimit=void 0!==o.lowerLimit?o.lowerLimit:0,this.upperLimit=void 0!==o.upperLimit?o.upperLimit:1,this.upperLimitEquation=new s(t,e),this.lowerLimitEquation=new s(t,e),this.upperLimitEquation.minForce=this.lowerLimitEquation.minForce=0,this.upperLimitEquation.maxForce=this.lowerLimitEquation.maxForce=p,this.motorEquation=new a(t,e),this.motorEnabled=!1,this.motorSpeed=0;var g=this,A=this.motorEquation;A.computeGW;A.computeGq=function(){return 0},A.computeGW=function(){var t=this.G,e=this.bodyA,o=this.bodyB,i=e.velocity,n=o.velocity,s=e.angularVelocity,a=o.angularVelocity;return this.gmult(t,i,s,n,a)+g.motorSpeed}}var n=t("./Constraint"),s=t("../equations/ContactEquation"),a=t("../equations/Equation"),r=t("../math/vec2"),c=t("../equations/RotationalLockEquation");e.exports=i,(i.prototype=new n).constructor=i;var h=r.create(),l=r.create(),p=r.create(),u=r.create(),d=r.create(),f=r.create();i.prototype.update=function(){var t=this.equations,e=t[0],o=this.upperLimit,i=this.lowerLimit,n=this.upperLimitEquation,s=this.lowerLimitEquation,a=this.bodyA,c=this.bodyB,v=this.localAxisA,y=this.localAnchorA,m=this.localAnchorB;e.updateJacobian(),r.rotate(h,v,a.angle),r.rotate(u,y,a.angle),r.add(l,u,a.position),r.rotate(d,m,c.angle),r.add(p,d,c.position);var g=this.position=r.dot(p,h)-r.dot(l,h);if(this.motorEnabled){var A=this.motorEquation.G;A[0]=h[0],A[1]=h[1],A[2]=r.crossLength(h,d),A[3]=-h[0],A[4]=-h[1],A[5]=-r.crossLength(h,u)}if(this.upperLimitEnabled&&g>o?(r.scale(n.normalA,h,-1),r.sub(n.contactPointA,l,a.position),r.sub(n.contactPointB,p,c.position),r.scale(f,h,o),r.add(n.contactPointA,n.contactPointA,f),-1===t.indexOf(n)&&t.push(n)):-1!==(b=t.indexOf(n))&&t.splice(b,1),this.lowerLimitEnabled&&g<i)r.scale(s.normalA,h,1),r.sub(s.contactPointA,l,a.position),r.sub(s.contactPointB,p,c.position),r.scale(f,h,i),r.sub(s.contactPointB,s.contactPointB,f),-1===t.indexOf(s)&&t.push(s);else{var b=t.indexOf(s);-1!==b&&t.splice(b,1)}},i.prototype.enableMotor=function(){this.motorEnabled||(this.equations.push(this.motorEquation),this.motorEnabled=!0)},i.prototype.disableMotor=function(){if(this.motorEnabled){var t=this.equations.indexOf(this.motorEquation);this.equations.splice(t,1),this.motorEnabled=!1}},i.prototype.setLimits=function(t,e){"number"==typeof t?(this.lowerLimit=t,this.lowerLimitEnabled=!0):(this.lowerLimit=t,this.lowerLimitEnabled=!1),"number"==typeof e?(this.upperLimit=e,this.upperLimitEnabled=!0):(this.upperLimit=e,this.upperLimitEnabled=!1)}},{"../equations/ContactEquation":21,"../equations/Equation":22,"../equations/RotationalLockEquation":24,"../math/vec2":30,"./Constraint":14}],19:[function(t,e,o){function i(t,e,o){o=o||{},n.call(this,t,e,n.REVOLUTE,o);var i=this.maxForce=void 0!==o.maxForce?o.maxForce:Number.MAX_VALUE;this.pivotA=c.create(),this.pivotB=c.create(),o.worldPivot?(c.sub(this.pivotA,o.worldPivot,t.position),c.sub(this.pivotB,o.worldPivot,e.position),c.rotate(this.pivotA,this.pivotA,-t.angle),c.rotate(this.pivotB,this.pivotB,-e.angle)):(c.copy(this.pivotA,o.localPivotA),c.copy(this.pivotB,o.localPivotB));var f=this.equations=[new s(t,e,-i,i),new s(t,e,-i,i)],v=f[0],y=f[1],m=this;v.computeGq=function(){return c.rotate(h,m.pivotA,t.angle),c.rotate(l,m.pivotB,e.angle),c.add(d,e.position,l),c.sub(d,d,t.position),c.sub(d,d,h),c.dot(d,p)},y.computeGq=function(){return c.rotate(h,m.pivotA,t.angle),c.rotate(l,m.pivotB,e.angle),c.add(d,e.position,l),c.sub(d,d,t.position),c.sub(d,d,h),c.dot(d,u)},y.minForce=v.minForce=-i,y.maxForce=v.maxForce=i,this.motorEquation=new a(t,e),this.motorEnabled=!1,this.angle=0,this.lowerLimitEnabled=!1,this.upperLimitEnabled=!1,this.lowerLimit=0,this.upperLimit=0,this.upperLimitEquation=new r(t,e),this.lowerLimitEquation=new r(t,e),this.upperLimitEquation.minForce=0,this.lowerLimitEquation.maxForce=0}var n=t("./Constraint"),s=t("../equations/Equation"),a=t("../equations/RotationalVelocityEquation"),r=t("../equations/RotationalLockEquation"),c=t("../math/vec2");e.exports=i;var h=c.create(),l=c.create(),p=c.fromValues(1,0),u=c.fromValues(0,1),d=c.create();(i.prototype=new n).constructor=i,i.prototype.setLimits=function(t,e){"number"==typeof t?(this.lowerLimit=t,this.lowerLimitEnabled=!0):(this.lowerLimit=t,this.lowerLimitEnabled=!1),"number"==typeof e?(this.upperLimit=e,this.upperLimitEnabled=!0):(this.upperLimit=e,this.upperLimitEnabled=!1)},i.prototype.update=function(){var t=this.bodyA,e=this.bodyB,o=this.pivotA,i=this.pivotB,n=this.equations,s=(n[0],n[1],n[0]),a=n[1],r=this.upperLimit,d=this.lowerLimit,f=this.upperLimitEquation,v=this.lowerLimitEquation,y=this.angle=e.angle-t.angle;if(this.upperLimitEnabled&&y>r?(f.angle=r,-1===n.indexOf(f)&&n.push(f)):-1!==(m=n.indexOf(f))&&n.splice(m,1),this.lowerLimitEnabled&&y<d)v.angle=d,-1===n.indexOf(v)&&n.push(v);else{var m=n.indexOf(v);-1!==m&&n.splice(m,1)}c.rotate(h,o,t.angle),c.rotate(l,i,e.angle),s.G[0]=-1,s.G[1]=0,s.G[2]=-c.crossLength(h,p),s.G[3]=1,s.G[4]=0,s.G[5]=c.crossLength(l,p),a.G[0]=0,a.G[1]=-1,a.G[2]=-c.crossLength(h,u),a.G[3]=0,a.G[4]=1,a.G[5]=c.crossLength(l,u)},i.prototype.enableMotor=function(){this.motorEnabled||(this.equations.push(this.motorEquation),this.motorEnabled=!0)},i.prototype.disableMotor=function(){if(this.motorEnabled){var t=this.equations.indexOf(this.motorEquation);this.equations.splice(t,1),this.motorEnabled=!1}},i.prototype.motorIsEnabled=function(){return!!this.motorEnabled},i.prototype.setMotorSpeed=function(t){if(this.motorEnabled){var e=this.equations.indexOf(this.motorEquation);this.equations[e].relativeVelocity=t}},i.prototype.getMotorSpeed=function(){return!!this.motorEnabled&&this.motorEquation.relativeVelocity}},{"../equations/Equation":22,"../equations/RotationalLockEquation":24,"../equations/RotationalVelocityEquation":25,"../math/vec2":30,"./Constraint":14}],20:[function(t,e,o){function i(t,e,o){o=o||{},n.call(this,t,e,-Number.MAX_VALUE,Number.MAX_VALUE),this.angle=o.angle||0,this.ratio="number"==typeof o.ratio?o.ratio:1,this.setRatio(this.ratio)}var n=t("./Equation");t("../math/vec2");e.exports=i,(i.prototype=new n).constructor=i,i.prototype.computeGq=function(){return this.ratio*this.bodyA.angle-this.bodyB.angle+this.angle},i.prototype.setRatio=function(t){var e=this.G;e[2]=t,e[5]=-1,this.ratio=t},i.prototype.setMaxTorque=function(t){this.maxForce=t,this.minForce=-t}},{"../math/vec2":30,"./Equation":22}],21:[function(t,e,o){function i(t,e){n.call(this,t,e,0,Number.MAX_VALUE),this.contactPointA=s.create(),this.penetrationVec=s.create(),this.contactPointB=s.create(),this.normalA=s.create(),this.restitution=0,this.firstImpact=!1,this.shapeA=null,this.shapeB=null}var n=t("./Equation"),s=t("../math/vec2");e.exports=i,(i.prototype=new n).constructor=i,i.prototype.computeB=function(t,e,o){var i=this.bodyA,n=this.bodyB,a=this.contactPointA,r=this.contactPointB,c=i.position,h=n.position,l=this.penetrationVec,p=this.normalA,u=this.G,d=s.crossLength(a,p),f=s.crossLength(r,p);u[0]=-p[0],u[1]=-p[1],u[2]=-d,u[3]=p[0],u[4]=p[1],u[5]=f,s.add(l,h,r),s.sub(l,l,c),s.sub(l,l,a);var v,y;return this.firstImpact&&0!==this.restitution?(y=0,v=1/e*(1+this.restitution)*this.computeGW()):(y=s.dot(p,l)+this.offset,v=this.computeGW()),-y*t-v*e-o*this.computeGiMf()};var a=s.create(),r=s.create(),c=s.create();i.prototype.getVelocityAlongNormal=function(){return this.bodyA.getVelocityAtPoint(a,this.contactPointA),this.bodyB.getVelocityAtPoint(r,this.contactPointB),s.subtract(c,a,r),s.dot(this.normalA,c)}},{"../math/vec2":30,"./Equation":22}],22:[function(t,e,o){function i(t,e,o,n){this.minForce=void 0===o?-Number.MAX_VALUE:o,this.maxForce=void 0===n?Number.MAX_VALUE:n,this.bodyA=t,this.bodyB=e,this.stiffness=i.DEFAULT_STIFFNESS,this.relaxation=i.DEFAULT_RELAXATION,this.G=new s.ARRAY_TYPE(6);for(var a=0;a<6;a++)this.G[a]=0;this.offset=0,this.a=0,this.b=0,this.epsilon=0,this.timeStep=1/60,this.needsUpdate=!0,this.multiplier=0,this.relativeVelocity=0,this.enabled=!0}e.exports=i;var n=t("../math/vec2"),s=t("../utils/Utils");t("../objects/Body");i.prototype.constructor=i,i.DEFAULT_STIFFNESS=1e6,i.DEFAULT_RELAXATION=4,i.prototype.update=function(){var t=this.stiffness,e=this.relaxation,o=this.timeStep;this.a=4/(o*(1+4*e)),this.b=4*e/(1+4*e),this.epsilon=4/(o*o*t*(1+4*e)),this.needsUpdate=!1},i.prototype.gmult=function(t,e,o,i,n){return t[0]*e[0]+t[1]*e[1]+t[2]*o+t[3]*i[0]+t[4]*i[1]+t[5]*n},i.prototype.computeB=function(t,e,o){var i=this.computeGW();return-this.computeGq()*t-i*e-this.computeGiMf()*o};var a=n.create(),r=n.create();i.prototype.computeGq=function(){var t=this.G,e=this.bodyA,o=this.bodyB,i=(e.position,o.position,e.angle),n=o.angle;return this.gmult(t,a,i,r,n)+this.offset},i.prototype.computeGW=function(){var t=this.G,e=this.bodyA,o=this.bodyB,i=e.velocity,n=o.velocity,s=e.angularVelocity,a=o.angularVelocity;return this.gmult(t,i,s,n,a)+this.relativeVelocity},i.prototype.computeGWlambda=function(){var t=this.G,e=this.bodyA,o=this.bodyB,i=e.vlambda,n=o.vlambda,s=e.wlambda,a=o.wlambda;return this.gmult(t,i,s,n,a)};var c=n.create(),h=n.create();i.prototype.computeGiMf=function(){var t=this.bodyA,e=this.bodyB,o=t.force,i=t.angularForce,s=e.force,a=e.angularForce,r=t.invMassSolve,l=e.invMassSolve,p=t.invInertiaSolve,u=e.invInertiaSolve,d=this.G;return n.scale(c,o,r),n.multiply(c,t.massMultiplier,c),n.scale(h,s,l),n.multiply(h,e.massMultiplier,h),this.gmult(d,c,i*p,h,a*u)},i.prototype.computeGiMGt=function(){var t=this.bodyA,e=this.bodyB,o=t.invMassSolve,i=e.invMassSolve,n=t.invInertiaSolve,s=e.invInertiaSolve,a=this.G;return a[0]*a[0]*o*t.massMultiplier[0]+a[1]*a[1]*o*t.massMultiplier[1]+a[2]*a[2]*n+a[3]*a[3]*i*e.massMultiplier[0]+a[4]*a[4]*i*e.massMultiplier[1]+a[5]*a[5]*s};var l=n.create(),p=n.create(),u=n.create();n.create(),n.create(),n.create();i.prototype.addToWlambda=function(t){var e=this.bodyA,o=this.bodyB,i=l,s=p,a=u,r=e.invMassSolve,c=o.invMassSolve,h=e.invInertiaSolve,d=o.invInertiaSolve,f=this.G;s[0]=f[0],s[1]=f[1],a[0]=f[3],a[1]=f[4],n.scale(i,s,r*t),n.multiply(i,i,e.massMultiplier),n.add(e.vlambda,e.vlambda,i),e.wlambda+=h*f[2]*t,n.scale(i,a,c*t),n.multiply(i,i,o.massMultiplier),n.add(o.vlambda,o.vlambda,i),o.wlambda+=d*f[5]*t},i.prototype.computeInvC=function(t){return 1/(this.computeGiMGt()+t)}},{"../math/vec2":30,"../objects/Body":31,"../utils/Utils":57}],23:[function(t,e,o){function i(t,e,o){s.call(this,t,e,-o,o),this.contactPointA=n.create(),this.contactPointB=n.create(),this.t=n.create(),this.contactEquations=[],this.shapeA=null,this.shapeB=null,this.frictionCoefficient=.3}var n=t("../math/vec2"),s=t("./Equation");t("../utils/Utils");e.exports=i,(i.prototype=new s).constructor=i,i.prototype.setSlipForce=function(t){this.maxForce=t,this.minForce=-t},i.prototype.getSlipForce=function(){return this.maxForce},i.prototype.computeB=function(t,e,o){this.bodyA,this.bodyB;var i=this.contactPointA,s=this.contactPointB,a=this.t,r=this.G;return r[0]=-a[0],r[1]=-a[1],r[2]=-n.crossLength(i,a),r[3]=a[0],r[4]=a[1],r[5]=n.crossLength(s,a),-this.computeGW()*e-o*this.computeGiMf()}},{"../math/vec2":30,"../utils/Utils":57,"./Equation":22}],24:[function(t,e,o){function i(t,e,o){o=o||{},n.call(this,t,e,-Number.MAX_VALUE,Number.MAX_VALUE),this.angle=o.angle||0;var i=this.G;i[2]=1,i[5]=-1}var n=t("./Equation"),s=t("../math/vec2");e.exports=i,(i.prototype=new n).constructor=i;var a=s.create(),r=s.create(),c=s.fromValues(1,0),h=s.fromValues(0,1);i.prototype.computeGq=function(){return s.rotate(a,c,this.bodyA.angle+this.angle),s.rotate(r,h,this.bodyB.angle),s.dot(a,r)}},{"../math/vec2":30,"./Equation":22}],25:[function(t,e,o){function i(t,e){n.call(this,t,e,-Number.MAX_VALUE,Number.MAX_VALUE),this.relativeVelocity=1,this.ratio=1}var n=t("./Equation");t("../math/vec2");e.exports=i,(i.prototype=new n).constructor=i,i.prototype.computeB=function(t,e,o){var i=this.G;i[2]=-1,i[5]=this.ratio;var n=this.computeGiMf();return-this.computeGW()*e-o*n}},{"../math/vec2":30,"./Equation":22}],26:[function(t,e,o){var i=function(){};e.exports=i,i.prototype={constructor:i,on:function(t,e,o){e.context=o||this,void 0===this._listeners&&(this._listeners={});var i=this._listeners;return void 0===i[t]&&(i[t]=[]),-1===i[t].indexOf(e)&&i[t].push(e),this},has:function(t,e){if(void 0===this._listeners)return!1;var o=this._listeners;if(e){if(void 0!==o[t]&&-1!==o[t].indexOf(e))return!0}else if(void 0!==o[t])return!0;return!1},off:function(t,e){if(void 0===this._listeners)return this;var o=this._listeners,i=o[t].indexOf(e);return-1!==i&&o[t].splice(i,1),this},emit:function(t){if(void 0===this._listeners)return this;var e=this._listeners[t.type];if(void 0!==e){t.target=this;for(var o=0,i=e.length;o<i;o++){var n=e[o];n.call(n.context,t)}}return this}}},{}],27:[function(t,e,o){function i(t,e,o){if(o=o||{},!(t instanceof n&&e instanceof n))throw new Error("First two arguments must be Material instances.");this.id=i.idCounter++,this.materialA=t,this.materialB=e,this.friction=void 0!==o.friction?Number(o.friction):.3,this.restitution=void 0!==o.restitution?Number(o.restitution):0,this.stiffness=void 0!==o.stiffness?Number(o.stiffness):s.DEFAULT_STIFFNESS,this.relaxation=void 0!==o.relaxation?Number(o.relaxation):s.DEFAULT_RELAXATION,this.frictionStiffness=void 0!==o.frictionStiffness?Number(o.frictionStiffness):s.DEFAULT_STIFFNESS,this.frictionRelaxation=void 0!==o.frictionRelaxation?Number(o.frictionRelaxation):s.DEFAULT_RELAXATION,this.surfaceVelocity=void 0!==o.surfaceVelocity?Number(o.surfaceVelocity):0,this.contactSkinSize=.005}var n=t("./Material"),s=t("../equations/Equation");e.exports=i,i.idCounter=0},{"../equations/Equation":22,"./Material":28}],28:[function(t,e,o){function i(t){this.id=t||i.idCounter++}e.exports=i,i.idCounter=0},{}],29:[function(t,e,o){var i={};i.GetArea=function(t){if(t.length<6)return 0;for(var e=t.length-2,o=0,i=0;i<e;i+=2)o+=(t[i+2]-t[i])*(t[i+1]+t[i+3]);return.5*-(o+=(t[0]-t[e])*(t[e+1]+t[1]))},i.Triangulate=function(t){var e=t.length>>1;if(e<3)return[];for(var o=[],n=[],s=0;s<e;s++)n.push(s);for(var s=0,a=e;a>3;){var r=n[(s+0)%a],c=n[(s+1)%a],h=n[(s+2)%a],l=t[2*r],p=t[2*r+1],u=t[2*c],d=t[2*c+1],f=t[2*h],v=t[2*h+1],y=!1;if(i._convex(l,p,u,d,f,v)){y=!0;for(var m=0;m<a;m++){var g=n[m];if(g!=r&&g!=c&&g!=h&&i._PointInTriangle(t[2*g],t[2*g+1],l,p,u,d,f,v)){y=!1;break}}}if(y)o.push(r,c,h),n.splice((s+1)%a,1),a--,s=0;else if(s++>3*a)break}return o.push(n[0],n[1],n[2]),o},i._PointInTriangle=function(t,e,o,i,n,s,a,r){var c=a-o,h=r-i,l=n-o,p=s-i,u=t-o,d=e-i,f=c*c+h*h,v=c*l+h*p,y=c*u+h*d,m=l*l+p*p,g=l*u+p*d,A=1/(f*m-v*v),b=(m*y-v*g)*A,E=(f*g-v*y)*A;return b>=0&&E>=0&&b+E<1},i._convex=function(t,e,o,i,n,s){return(e-i)*(n-o)+(o-t)*(s-i)>=0},e.exports=i},{}],30:[function(t,e,o){var i=e.exports={},n=t("../utils/Utils");i.crossLength=function(t,e){return t[0]*e[1]-t[1]*e[0]},i.crossVZ=function(t,e,o){return i.rotate(t,e,-Math.PI/2),i.scale(t,t,o),t},i.crossZV=function(t,e,o){return i.rotate(t,o,Math.PI/2),i.scale(t,t,e),t},i.rotate=function(t,e,o){if(0!==o){var i=Math.cos(o),n=Math.sin(o),s=e[0],a=e[1];t[0]=i*s-n*a,t[1]=n*s+i*a}else t[0]=e[0],t[1]=e[1]},i.rotate90cw=function(t,e){var o=e[0],i=e[1];t[0]=i,t[1]=-o},i.toLocalFrame=function(t,e,o,n){i.copy(t,e),i.sub(t,t,o),i.rotate(t,t,-n)},i.toGlobalFrame=function(t,e,o,n){i.copy(t,e),i.rotate(t,t,n),i.add(t,t,o)},i.vectorToLocalFrame=function(t,e,o){i.rotate(t,e,-o)},i.vectorToGlobalFrame=function(t,e,o){i.rotate(t,e,o)},i.centroid=function(t,e,o,n){return i.add(t,e,o),i.add(t,t,n),i.scale(t,t,1/3),t},i.create=function(){var t=new n.ARRAY_TYPE(2);return t[0]=0,t[1]=0,t},i.clone=function(t){var e=new n.ARRAY_TYPE(2);return e[0]=t[0],e[1]=t[1],e},i.fromValues=function(t,e){var o=new n.ARRAY_TYPE(2);return o[0]=t,o[1]=e,o},i.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t},i.set=function(t,e,o){return t[0]=e,t[1]=o,t},i.add=function(t,e,o){return t[0]=e[0]+o[0],t[1]=e[1]+o[1],t},i.subtract=function(t,e,o){return t[0]=e[0]-o[0],t[1]=e[1]-o[1],t},i.sub=i.subtract,i.multiply=function(t,e,o){return t[0]=e[0]*o[0],t[1]=e[1]*o[1],t},i.mul=i.multiply,i.divide=function(t,e,o){return t[0]=e[0]/o[0],t[1]=e[1]/o[1],t},i.div=i.divide,i.scale=function(t,e,o){return t[0]=e[0]*o,t[1]=e[1]*o,t},i.distance=function(t,e){var o=e[0]-t[0],i=e[1]-t[1];return Math.sqrt(o*o+i*i)},i.dist=i.distance,i.squaredDistance=function(t,e){var o=e[0]-t[0],i=e[1]-t[1];return o*o+i*i},i.sqrDist=i.squaredDistance,i.length=function(t){var e=t[0],o=t[1];return Math.sqrt(e*e+o*o)},i.len=i.length,i.squaredLength=function(t){var e=t[0],o=t[1];return e*e+o*o},i.sqrLen=i.squaredLength,i.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t},i.normalize=function(t,e){var o=e[0],i=e[1],n=o*o+i*i;return n>0&&(n=1/Math.sqrt(n),t[0]=e[0]*n,t[1]=e[1]*n),t},i.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]},i.str=function(t){return"vec2("+t[0]+", "+t[1]+")"},i.lerp=function(t,e,o,i){var n=e[0],s=e[1];return t[0]=n+i*(o[0]-n),t[1]=s+i*(o[1]-s),t},i.reflect=function(t,e,o){var i=e[0]*o[0]+e[1]*o[1];t[0]=e[0]-2*o[0]*i,t[1]=e[1]-2*o[1]*i},i.getLineSegmentsIntersection=function(t,e,o,n,s){var a=i.getLineSegmentsIntersectionFraction(e,o,n,s);return!(a<0)&&(t[0]=e[0]+a*(o[0]-e[0]),t[1]=e[1]+a*(o[1]-e[1]),!0)},i.getLineSegmentsIntersectionFraction=function(t,e,o,i){var n,s,a=e[0]-t[0],r=e[1]-t[1],c=i[0]-o[0],h=i[1]-o[1];return n=(-r*(t[0]-o[0])+a*(t[1]-o[1]))/(-c*r+a*h),s=(c*(t[1]-o[1])-h*(t[0]-o[0]))/(-c*r+a*h),n>=0&&n<=1&&s>=0&&s<=1?s:-1}},{"../utils/Utils":57}],31:[function(t,e,o){function i(t){t=t||{},l.call(this),this.id=t.id||++i._idCounter,this.world=null,this.shapes=[],this.mass=t.mass||0,this.invMass=0,this.inertia=0,this.invInertia=0,this.invMassSolve=0,this.invInertiaSolve=0,this.fixedRotation=!!t.fixedRotation,this.fixedX=!!t.fixedX,this.fixedY=!!t.fixedY,this.massMultiplier=n.create(),this.position=n.fromValues(0,0),t.position&&n.copy(this.position,t.position),this.interpolatedPosition=n.fromValues(0,0),this.interpolatedAngle=0,this.previousPosition=n.fromValues(0,0),this.previousAngle=0,this.velocity=n.fromValues(0,0),t.velocity&&n.copy(this.velocity,t.velocity),this.vlambda=n.fromValues(0,0),this.wlambda=0,this.angle=t.angle||0,this.angularVelocity=t.angularVelocity||0,this.force=n.create(),t.force&&n.copy(this.force,t.force),this.angularForce=t.angularForce||0,this.damping="number"==typeof t.damping?t.damping:.1,this.angularDamping="number"==typeof t.angularDamping?t.angularDamping:.1,this.type=i.STATIC,void 0!==t.type?this.type=t.type:t.mass?this.type=i.DYNAMIC:this.type=i.STATIC,this.boundingRadius=0,this.aabb=new h,this.aabbNeedsUpdate=!0,this.allowSleep=void 0===t.allowSleep||t.allowSleep,this.wantsToSleep=!1,this.sleepState=i.AWAKE,this.sleepSpeedLimit=void 0!==t.sleepSpeedLimit?t.sleepSpeedLimit:.2,this.sleepTimeLimit=void 0!==t.sleepTimeLimit?t.sleepTimeLimit:1,this.gravityScale=void 0!==t.gravityScale?t.gravityScale:1,this.collisionResponse=void 0===t.collisionResponse||t.collisionResponse,this.idleTime=0,this.timeLastSleepy=0,this.ccdSpeedThreshold=void 0!==t.ccdSpeedThreshold?t.ccdSpeedThreshold:-1,this.ccdIterations=void 0!==t.ccdIterations?t.ccdIterations:10,this.concavePath=null,this._wakeUpAfterNarrowphase=!1,this.updateMassProperties()}var n=t("../math/vec2"),s=t("poly-decomp"),a=t("../shapes/Convex"),r=t("../collision/RaycastResult"),c=t("../collision/Ray"),h=t("../collision/AABB"),l=t("../events/EventEmitter");e.exports=i,i.prototype=new l,i.prototype.constructor=i,i._idCounter=0,i.prototype.updateSolveMassProperties=function(){this.sleepState===i.SLEEPING||this.type===i.KINEMATIC?(this.invMassSolve=0,this.invInertiaSolve=0):(this.invMassSolve=this.invMass,this.invInertiaSolve=this.invInertia)},i.prototype.setDensity=function(t){var e=this.getArea();this.mass=e*t,this.updateMassProperties()},i.prototype.getArea=function(){for(var t=0,e=0;e<this.shapes.length;e++)t+=this.shapes[e].area;return t},i.prototype.getAABB=function(){return this.aabbNeedsUpdate&&this.updateAABB(),this.aabb};var p=new h,u=n.create();i.prototype.updateAABB=function(){for(var t=this.shapes,e=t.length,o=u,i=this.angle,s=0;s!==e;s++){var a=t[s],r=a.angle+i;n.rotate(o,a.position,i),n.add(o,o,this.position),a.computeAABB(p,o,r),0===s?this.aabb.copy(p):this.aabb.extend(p)}this.aabbNeedsUpdate=!1},i.prototype.updateBoundingRadius=function(){for(var t=this.shapes,e=t.length,o=0,i=0;i!==e;i++){var s=t[i],a=n.length(s.position),r=s.boundingRadius;a+r>o&&(o=a+r)}this.boundingRadius=o},i.prototype.addShape=function(t,e,o){if(t.body)throw new Error("A shape can only be added to one body.");t.body=this,e?n.copy(t.position,e):n.set(t.position,0,0),t.angle=o||0,this.shapes.push(t),this.updateMassProperties(),this.updateBoundingRadius(),this.aabbNeedsUpdate=!0},i.prototype.removeShape=function(t){var e=this.shapes.indexOf(t);return-1!==e&&(this.shapes.splice(e,1),this.aabbNeedsUpdate=!0,t.body=null,!0)},i.prototype.updateMassProperties=function(){if(this.type===i.STATIC||this.type===i.KINEMATIC)this.mass=Number.MAX_VALUE,this.invMass=0,this.inertia=Number.MAX_VALUE,this.invInertia=0;else{var t=this.shapes,e=t.length,o=this.mass/e,s=0;if(this.fixedRotation)this.inertia=Number.MAX_VALUE,this.invInertia=0;else{for(var a=0;a<e;a++){var r=t[a],c=n.squaredLength(r.position);s+=r.computeMomentOfInertia(o)+o*c}this.inertia=s,this.invInertia=s>0?1/s:0}this.invMass=1/this.mass,n.set(this.massMultiplier,this.fixedX?0:1,this.fixedY?0:1)}};n.create();i.prototype.applyForce=function(t,e){if(n.add(this.force,this.force,t),e){var o=n.crossLength(e,t);this.angularForce+=o}};var d=n.create(),f=n.create(),v=n.create();i.prototype.applyForceLocal=function(t,e){e=e||v;var o=d,i=f;this.vectorToWorldFrame(o,t),this.vectorToWorldFrame(i,e),this.applyForce(o,i)};var y=n.create();i.prototype.applyImpulse=function(t,e){if(this.type===i.DYNAMIC){var o=y;if(n.scale(o,t,this.invMass),n.multiply(o,this.massMultiplier,o),n.add(this.velocity,o,this.velocity),e){var s=n.crossLength(e,t);s*=this.invInertia,this.angularVelocity+=s}}};var m=n.create(),g=n.create(),A=n.create();i.prototype.applyImpulseLocal=function(t,e){e=e||A;var o=m,i=g;this.vectorToWorldFrame(o,t),this.vectorToWorldFrame(i,e),this.applyImpulse(o,i)},i.prototype.toLocalFrame=function(t,e){n.toLocalFrame(t,e,this.position,this.angle)},i.prototype.toWorldFrame=function(t,e){n.toGlobalFrame(t,e,this.position,this.angle)},i.prototype.vectorToLocalFrame=function(t,e){n.vectorToLocalFrame(t,e,this.angle)},i.prototype.vectorToWorldFrame=function(t,e){n.vectorToGlobalFrame(t,e,this.angle)},i.prototype.fromPolygon=function(t,e){e=e||{};for(c=this.shapes.length;c>=0;--c)this.removeShape(this.shapes[c]);var o=new s.Polygon;if(o.vertices=t,o.makeCCW(),"number"==typeof e.removeCollinearPoints&&o.removeCollinearPoints(e.removeCollinearPoints),void 0===e.skipSimpleCheck&&!o.isSimple())return!1;this.concavePath=o.vertices.slice(0);for(c=0;c<this.concavePath.length;c++){p=[0,0];n.copy(p,this.concavePath[c]),this.concavePath[c]=p}var i;i=e.optimalDecomp?o.decomp():o.quickDecomp();for(var r=n.create(),c=0;c!==i.length;c++){for(var h=new a({vertices:i[c].vertices}),l=0;l!==h.vertices.length;l++){var p=h.vertices[l];n.sub(p,p,h.centerOfMass)}n.scale(r,h.centerOfMass,1),h.updateTriangles(),h.updateCenterOfMass(),h.updateBoundingRadius(),this.addShape(h,r)}return this.adjustCenterOfMass(),this.aabbNeedsUpdate=!0,!0};n.fromValues(0,0);var b=n.fromValues(0,0),E=n.fromValues(0,0),B=n.fromValues(0,0);i.prototype.adjustCenterOfMass=function(){var t=b,e=E,o=B,i=0;n.set(e,0,0);for(a=0;a!==this.shapes.length;a++){s=this.shapes[a];n.scale(t,s.position,s.area),n.add(e,e,t),i+=s.area}n.scale(o,e,1/i);for(a=0;a!==this.shapes.length;a++){var s=this.shapes[a];n.sub(s.position,s.position,o)}n.add(this.position,this.position,o);for(var a=0;this.concavePath&&a<this.concavePath.length;a++)n.sub(this.concavePath[a],this.concavePath[a],o);this.updateMassProperties(),this.updateBoundingRadius()},i.prototype.setZeroForce=function(){n.set(this.force,0,0),this.angularForce=0},i.prototype.resetConstraintVelocity=function(){var t=this,e=t.vlambda;n.set(e,0,0),t.wlambda=0},i.prototype.addConstraintVelocity=function(){var t=this,e=t.velocity;n.add(e,e,t.vlambda),t.angularVelocity+=t.wlambda},i.prototype.applyDamping=function(t){if(this.type===i.DYNAMIC){var e=this.velocity;n.scale(e,e,Math.pow(1-this.damping,t)),this.angularVelocity*=Math.pow(1-this.angularDamping,t)}},i.prototype.wakeUp=function(){var t=this.sleepState;this.sleepState=i.AWAKE,this.idleTime=0,t!==i.AWAKE&&this.emit(i.wakeUpEvent)},i.prototype.sleep=function(){this.sleepState=i.SLEEPING,this.angularVelocity=0,this.angularForce=0,n.set(this.velocity,0,0),n.set(this.force,0,0),this.emit(i.sleepEvent)},i.prototype.sleepTick=function(t,e,o){if(this.allowSleep&&this.type!==i.SLEEPING){this.wantsToSleep=!1;this.sleepState;n.squaredLength(this.velocity)+Math.pow(this.angularVelocity,2)>=Math.pow(this.sleepSpeedLimit,2)?(this.idleTime=0,this.sleepState=i.AWAKE):(this.idleTime+=o,this.sleepState=i.SLEEPY),this.idleTime>this.sleepTimeLimit&&(e?this.wantsToSleep=!0:this.sleep())}},i.prototype.overlaps=function(t){return this.world.overlapKeeper.bodiesAreOverlapping(this,t)};var q=n.create(),P=n.create();i.prototype.integrate=function(t){var e=this.invMass,o=this.force,i=this.position,s=this.velocity;n.copy(this.previousPosition,this.position),this.previousAngle=this.angle,this.fixedRotation||(this.angularVelocity+=this.angularForce*this.invInertia*t),n.scale(q,o,t*e),n.multiply(q,this.massMultiplier,q),n.add(s,q,s),this.integrateToTimeOfImpact(t)||(n.scale(P,s,t),n.add(i,i,P),this.fixedRotation||(this.angle+=this.angularVelocity*t)),this.aabbNeedsUpdate=!0};var w=new r,S=new c({mode:c.ALL}),C=n.create(),L=n.create(),x=n.create(),F=n.create();i.prototype.integrateToTimeOfImpact=function(t){if(this.ccdSpeedThreshold<0||n.squaredLength(this.velocity)<Math.pow(this.ccdSpeedThreshold,2))return!1;n.normalize(C,this.velocity),n.scale(L,this.velocity,t),n.add(L,L,this.position),n.sub(x,L,this.position);var e,o=this.angularVelocity*t,i=n.length(x),s=1,a=this;if(w.reset(),S.callback=function(t){t.body!==a&&(e=t.body,t.getHitPoint(L,S),n.sub(x,L,a.position),s=n.length(x)/i,t.stop())},n.copy(S.from,this.position),n.copy(S.to,L),S.update(),this.world.raycast(w,S),!e)return!1;var r=this.angle;n.copy(F,this.position);for(var c=0,h=0,l=0,p=s;p>=h&&c<this.ccdIterations;)c++,l=(p-h)/2,n.scale(P,x,s),n.add(this.position,F,P),this.angle=r+o*s,this.updateAABB(),this.aabb.overlaps(e.aabb)&&this.world.narrowphase.bodiesOverlap(this,e)?h=l:p=l;return s=l,n.copy(this.position,F),this.angle=r,n.scale(P,x,s),n.add(this.position,this.position,P),this.fixedRotation||(this.angle+=o*s),!0},i.prototype.getVelocityAtPoint=function(t,e){return n.crossVZ(t,e,this.angularVelocity),n.subtract(t,this.velocity,t),t},i.sleepyEvent={type:"sleepy"},i.sleepEvent={type:"sleep"},i.wakeUpEvent={type:"wakeup"},i.DYNAMIC=1,i.STATIC=2,i.KINEMATIC=4,i.AWAKE=0,i.SLEEPY=1,i.SLEEPING=2},{"../collision/AABB":7,"../collision/Ray":11,"../collision/RaycastResult":12,"../events/EventEmitter":26,"../math/vec2":30,"../shapes/Convex":40,"poly-decomp":5}],32:[function(t,e,o){function i(t,e,o){o=o||{},s.call(this,t,e,o),this.localAnchorA=n.fromValues(0,0),this.localAnchorB=n.fromValues(0,0),o.localAnchorA&&n.copy(this.localAnchorA,o.localAnchorA),o.localAnchorB&&n.copy(this.localAnchorB,o.localAnchorB),o.worldAnchorA&&this.setWorldAnchorA(o.worldAnchorA),o.worldAnchorB&&this.setWorldAnchorB(o.worldAnchorB);var i=n.create(),a=n.create();this.getWorldAnchorA(i),this.getWorldAnchorB(a);var r=n.distance(i,a);this.restLength="number"==typeof o.restLength?o.restLength:r}var n=t("../math/vec2"),s=t("./Spring");t("../utils/Utils");e.exports=i,(i.prototype=new s).constructor=i,i.prototype.setWorldAnchorA=function(t){this.bodyA.toLocalFrame(this.localAnchorA,t)},i.prototype.setWorldAnchorB=function(t){this.bodyB.toLocalFrame(this.localAnchorB,t)},i.prototype.getWorldAnchorA=function(t){this.bodyA.toWorldFrame(t,this.localAnchorA)},i.prototype.getWorldAnchorB=function(t){this.bodyB.toWorldFrame(t,this.localAnchorB)};var a=n.create(),r=n.create(),c=n.create(),h=n.create(),l=n.create(),p=n.create(),u=n.create(),d=n.create(),f=n.create();i.prototype.applyForce=function(){var t=this.stiffness,e=this.damping,o=this.restLength,i=this.bodyA,s=this.bodyB,v=a,y=r,m=c,g=h,A=f,b=l,E=p,B=u,q=d;this.getWorldAnchorA(b),this.getWorldAnchorB(E),n.sub(B,b,i.position),n.sub(q,E,s.position),n.sub(v,E,b);var P=n.len(v);n.normalize(y,v),n.sub(m,s.velocity,i.velocity),n.crossZV(A,s.angularVelocity,q),n.add(m,m,A),n.crossZV(A,i.angularVelocity,B),n.sub(m,m,A),n.scale(g,y,-t*(P-o)-e*n.dot(m,y)),n.sub(i.force,i.force,g),n.add(s.force,s.force,g);var w=n.crossLength(B,g),S=n.crossLength(q,g);i.angularForce-=w,s.angularForce+=S}},{"../math/vec2":30,"../utils/Utils":57,"./Spring":34}],33:[function(t,e,o){function i(t,e,o){o=o||{},n.call(this,t,e,o),this.restAngle="number"==typeof o.restAngle?o.restAngle:e.angle-t.angle}t("../math/vec2");var n=t("./Spring");e.exports=i,(i.prototype=new n).constructor=i,i.prototype.applyForce=function(){var t=this.stiffness,e=this.damping,o=this.restAngle,i=this.bodyA,n=this.bodyB,s=-t*(n.angle-i.angle-o)-e*(n.angularVelocity-i.angularVelocity)*0;i.angularForce-=s,n.angularForce+=s}},{"../math/vec2":30,"./Spring":34}],34:[function(t,e,o){function i(t,e,o){o=n.defaults(o,{stiffness:100,damping:1}),this.stiffness=o.stiffness,this.damping=o.damping,this.bodyA=t,this.bodyB=e}t("../math/vec2");var n=t("../utils/Utils");e.exports=i,i.prototype.applyForce=function(){}},{"../math/vec2":30,"../utils/Utils":57}],35:[function(t,e,o){function i(t,e){e=e||{},this.chassisBody=t,this.wheels=[],this.groundBody=new c({mass:0}),this.world=null;var o=this;this.preStepCallback=function(){o.update()}}function n(t,e){e=e||{},this.vehicle=t,this.forwardEquation=new r(t.chassisBody,t.groundBody),this.sideEquation=new r(t.chassisBody,t.groundBody),this.steerValue=0,this.engineForce=0,this.setSideFriction(void 0!==e.sideFriction?e.sideFriction:5),this.localForwardVector=s.fromValues(0,1),e.localForwardVector&&s.copy(this.localForwardVector,e.localForwardVector),this.localPosition=s.fromValues(0,0),e.localPosition&&s.copy(this.localPosition,e.localPosition),a.apply(this,t.chassisBody,t.groundBody),this.equations.push(this.forwardEquation,this.sideEquation),this.setBrakeForce(0)}var s=t("../math/vec2"),a=(t("../utils/Utils"),t("../constraints/Constraint")),r=t("../equations/FrictionEquation"),c=t("../objects/Body");e.exports=i,i.prototype.addToWorld=function(t){this.world=t,t.addBody(this.groundBody),t.on("preStep",this.preStepCallback);for(var e=0;e<this.wheels.length;e++){var o=this.wheels[e];t.addConstraint(o)}},i.prototype.removeFromWorld=function(){var t=this.world;t.removeBody(this.groundBody),t.off("preStep",this.preStepCallback);for(var e=0;e<this.wheels.length;e++){var o=this.wheels[e];t.removeConstraint(o)}this.world=null},i.prototype.addWheel=function(t){var e=new n(this,t);return this.wheels.push(e),e},i.prototype.update=function(){for(var t=0;t<this.wheels.length;t++)this.wheels[t].update()},(n.prototype=new a).setBrakeForce=function(t){this.forwardEquation.setSlipForce(t)},n.prototype.setSideFriction=function(t){this.sideEquation.setSlipForce(t)};var h=s.create(),l=s.create();n.prototype.getSpeed=function(){return this.vehicle.chassisBody.vectorToWorldFrame(l,this.localForwardVector),this.vehicle.chassisBody.getVelocityAtPoint(h,l),s.dot(h,l)};var p=s.create();n.prototype.update=function(){this.vehicle.chassisBody.vectorToWorldFrame(this.forwardEquation.t,this.localForwardVector),s.rotate(this.sideEquation.t,this.localForwardVector,Math.PI/2),this.vehicle.chassisBody.vectorToWorldFrame(this.sideEquation.t,this.sideEquation.t),s.rotate(this.forwardEquation.t,this.forwardEquation.t,this.steerValue),s.rotate(this.sideEquation.t,this.sideEquation.t,this.steerValue),this.vehicle.chassisBody.toWorldFrame(this.forwardEquation.contactPointB,this.localPosition),s.copy(this.sideEquation.contactPointB,this.forwardEquation.contactPointB),this.vehicle.chassisBody.vectorToWorldFrame(this.forwardEquation.contactPointA,this.localPosition),s.copy(this.sideEquation.contactPointA,this.forwardEquation.contactPointA),s.normalize(p,this.forwardEquation.t),s.scale(p,p,this.engineForce),this.vehicle.chassisBody.applyForce(p,this.forwardEquation.contactPointA)}},{"../constraints/Constraint":14,"../equations/FrictionEquation":23,"../math/vec2":30,"../objects/Body":31,"../utils/Utils":57}],36:[function(t,e,o){var i=e.exports={AABB:t("./collision/AABB"),AngleLockEquation:t("./equations/AngleLockEquation"),Body:t("./objects/Body"),Broadphase:t("./collision/Broadphase"),Capsule:t("./shapes/Capsule"),Circle:t("./shapes/Circle"),Constraint:t("./constraints/Constraint"),ContactEquation:t("./equations/ContactEquation"),ContactEquationPool:t("./utils/ContactEquationPool"),ContactMaterial:t("./material/ContactMaterial"),Convex:t("./shapes/Convex"),DistanceConstraint:t("./constraints/DistanceConstraint"),Equation:t("./equations/Equation"),EventEmitter:t("./events/EventEmitter"),FrictionEquation:t("./equations/FrictionEquation"),FrictionEquationPool:t("./utils/FrictionEquationPool"),GearConstraint:t("./constraints/GearConstraint"),GSSolver:t("./solver/GSSolver"),Heightfield:t("./shapes/Heightfield"),Line:t("./shapes/Line"),LockConstraint:t("./constraints/LockConstraint"),Material:t("./material/Material"),Narrowphase:t("./collision/Narrowphase"),NaiveBroadphase:t("./collision/NaiveBroadphase"),Particle:t("./shapes/Particle"),Plane:t("./shapes/Plane"),Pool:t("./utils/Pool"),RevoluteConstraint:t("./constraints/RevoluteConstraint"),PrismaticConstraint:t("./constraints/PrismaticConstraint"),Ray:t("./collision/Ray"),RaycastResult:t("./collision/RaycastResult"),Box:t("./shapes/Box"),RotationalVelocityEquation:t("./equations/RotationalVelocityEquation"),SAPBroadphase:t("./collision/SAPBroadphase"),Shape:t("./shapes/Shape"),Solver:t("./solver/Solver"),Spring:t("./objects/Spring"),TopDownVehicle:t("./objects/TopDownVehicle"),LinearSpring:t("./objects/LinearSpring"),RotationalSpring:t("./objects/RotationalSpring"),Utils:t("./utils/Utils"),World:t("./world/World"),vec2:t("./math/vec2"),version:t("../package.json").version};Object.defineProperty(i,"Rectangle",{get:function(){return console.warn("The Rectangle class has been renamed to Box."),this.Box}})},{"../package.json":6,"./collision/AABB":7,"./collision/Broadphase":8,"./collision/NaiveBroadphase":9,"./collision/Narrowphase":10,"./collision/Ray":11,"./collision/RaycastResult":12,"./collision/SAPBroadphase":13,"./constraints/Constraint":14,"./constraints/DistanceConstraint":15,"./constraints/GearConstraint":16,"./constraints/LockConstraint":17,"./constraints/PrismaticConstraint":18,"./constraints/RevoluteConstraint":19,"./equations/AngleLockEquation":20,"./equations/ContactEquation":21,"./equations/Equation":22,"./equations/FrictionEquation":23,"./equations/RotationalVelocityEquation":25,"./events/EventEmitter":26,"./material/ContactMaterial":27,"./material/Material":28,"./math/vec2":30,"./objects/Body":31,"./objects/LinearSpring":32,"./objects/RotationalSpring":33,"./objects/Spring":34,"./objects/TopDownVehicle":35,"./shapes/Box":37,"./shapes/Capsule":38,"./shapes/Circle":39,"./shapes/Convex":40,"./shapes/Heightfield":41,"./shapes/Line":42,"./shapes/Particle":43,"./shapes/Plane":44,"./shapes/Shape":45,"./solver/GSSolver":46,"./solver/Solver":47,"./utils/ContactEquationPool":48,"./utils/FrictionEquationPool":49,"./utils/Pool":55,"./utils/Utils":57,"./world/World":61}],37:[function(t,e,o){function i(t){"number"==typeof arguments[0]&&"number"==typeof arguments[1]&&(t={width:arguments[0],height:arguments[1]},console.warn("The Rectangle has been renamed to Box and its constructor signature has changed. Please use the following format: new Box({ width: 1, height: 1, ... })")),t=t||{};var e=this.width=t.width||1,o=this.height=t.height||1,i=[n.fromValues(-e/2,-o/2),n.fromValues(e/2,-o/2),n.fromValues(e/2,o/2),n.fromValues(-e/2,o/2)],r=[n.fromValues(1,0),n.fromValues(0,1)];t.vertices=i,t.axes=r,t.type=s.BOX,a.call(this,t)}var n=t("../math/vec2"),s=t("./Shape"),a=t("./Convex");e.exports=i,(i.prototype=new a).constructor=i,i.prototype.computeMomentOfInertia=function(t){var e=this.width,o=this.height;return t*(o*o+e*e)/12},i.prototype.updateBoundingRadius=function(){var t=this.width,e=this.height;this.boundingRadius=Math.sqrt(t*t+e*e)/2};n.create(),n.create(),n.create(),n.create();i.prototype.computeAABB=function(t,e,o){t.setFromPoints(this.vertices,e,o,0)},i.prototype.updateArea=function(){this.area=this.width*this.height}},{"../math/vec2":30,"./Convex":40,"./Shape":45}],38:[function(t,e,o){function i(t){"number"==typeof arguments[0]&&"number"==typeof arguments[1]&&(t={length:arguments[0],radius:arguments[1]},console.warn("The Capsule constructor signature has changed. Please use the following format: new Capsule({ radius: 1, length: 1 })")),t=t||{},this.length=t.length||1,this.radius=t.radius||1,t.type=n.CAPSULE,n.call(this,t)}var n=t("./Shape"),s=t("../math/vec2");e.exports=i,(i.prototype=new n).constructor=i,i.prototype.computeMomentOfInertia=function(t){var e=this.radius,o=this.length+e,i=2*e;return t*(i*i+o*o)/12},i.prototype.updateBoundingRadius=function(){this.boundingRadius=this.radius+this.length/2},i.prototype.updateArea=function(){this.area=Math.PI*this.radius*this.radius+2*this.radius*this.length};var a=s.create();i.prototype.computeAABB=function(t,e,o){var i=this.radius;s.set(a,this.length/2,0),0!==o&&s.rotate(a,a,o),s.set(t.upperBound,Math.max(a[0]+i,-a[0]+i),Math.max(a[1]+i,-a[1]+i)),s.set(t.lowerBound,Math.min(a[0]-i,-a[0]-i),Math.min(a[1]-i,-a[1]-i)),s.add(t.lowerBound,t.lowerBound,e),s.add(t.upperBound,t.upperBound,e)};var r=s.create(),c=s.create(),h=s.create(),l=s.create(),p=s.fromValues(0,1);i.prototype.raycast=function(t,e,o,i){for(var n=e.from,a=e.to,u=(e.direction,r),d=c,f=h,v=l,y=this.length/2,m=0;m<2;m++){var g=this.radius*(2*m-1);if(s.set(f,-y,g),s.set(v,y,g),s.toGlobalFrame(f,f,o,i),s.toGlobalFrame(v,v,o,i),(q=s.getLineSegmentsIntersectionFraction(n,a,f,v))>=0&&(s.rotate(d,p,i),s.scale(d,d,2*m-1),e.reportIntersection(t,q,d,-1),t.shouldStop(e)))return}for(var A=Math.pow(this.radius,2)+Math.pow(y,2),m=0;m<2;m++){s.set(f,y*(2*m-1),0),s.toGlobalFrame(f,f,o,i);var b=Math.pow(a[0]-n[0],2)+Math.pow(a[1]-n[1],2),E=2*((a[0]-n[0])*(n[0]-f[0])+(a[1]-n[1])*(n[1]-f[1])),B=Math.pow(n[0]-f[0],2)+Math.pow(n[1]-f[1],2)-Math.pow(this.radius,2),q=Math.pow(E,2)-4*b*B;if(!(q<0))if(0===q){if(s.lerp(u,n,a,q),s.squaredDistance(u,o)>A&&(s.sub(d,u,f),s.normalize(d,d),e.reportIntersection(t,q,d,-1),t.shouldStop(e)))return}else{var P=Math.sqrt(q),w=1/(2*b),S=(-E-P)*w,C=(-E+P)*w;if(S>=0&&S<=1&&(s.lerp(u,n,a,S),s.squaredDistance(u,o)>A&&(s.sub(d,u,f),s.normalize(d,d),e.reportIntersection(t,S,d,-1),t.shouldStop(e))))return;if(C>=0&&C<=1&&(s.lerp(u,n,a,C),s.squaredDistance(u,o)>A&&(s.sub(d,u,f),s.normalize(d,d),e.reportIntersection(t,C,d,-1),t.shouldStop(e))))return}}}},{"../math/vec2":30,"./Shape":45}],39:[function(t,e,o){function i(t){"number"==typeof arguments[0]&&(t={radius:arguments[0]},console.warn("The Circle constructor signature has changed. Please use the following format: new Circle({ radius: 1 })")),t=t||{},this.radius=t.radius||1,t.type=n.CIRCLE,n.call(this,t)}var n=t("./Shape"),s=t("../math/vec2");e.exports=i,(i.prototype=new n).constructor=i,i.prototype.computeMomentOfInertia=function(t){var e=this.radius;return t*e*e/2},i.prototype.updateBoundingRadius=function(){this.boundingRadius=this.radius},i.prototype.updateArea=function(){this.area=Math.PI*this.radius*this.radius},i.prototype.computeAABB=function(t,e,o){var i=this.radius;s.set(t.upperBound,i,i),s.set(t.lowerBound,-i,-i),e&&(s.add(t.lowerBound,t.lowerBound,e),s.add(t.upperBound,t.upperBound,e))};var a=s.create(),r=s.create();i.prototype.raycast=function(t,e,o,i){var n=e.from,c=e.to,h=this.radius,l=Math.pow(c[0]-n[0],2)+Math.pow(c[1]-n[1],2),p=2*((c[0]-n[0])*(n[0]-o[0])+(c[1]-n[1])*(n[1]-o[1])),u=Math.pow(n[0]-o[0],2)+Math.pow(n[1]-o[1],2)-Math.pow(h,2),d=Math.pow(p,2)-4*l*u,f=a,v=r;if(!(d<0))if(0===d)s.lerp(f,n,c,d),s.sub(v,f,o),s.normalize(v,v),e.reportIntersection(t,d,v,-1);else{var y=Math.sqrt(d),m=1/(2*l),g=(-p-y)*m,A=(-p+y)*m;if(g>=0&&g<=1&&(s.lerp(f,n,c,g),s.sub(v,f,o),s.normalize(v,v),e.reportIntersection(t,g,v,-1),t.shouldStop(e)))return;A>=0&&A<=1&&(s.lerp(f,n,c,A),s.sub(v,f,o),s.normalize(v,v),e.reportIntersection(t,A,v,-1))}}},{"../math/vec2":30,"./Shape":45}],40:[function(t,e,o){function i(t){Array.isArray(arguments[0])&&(t={vertices:arguments[0],axes:arguments[1]},console.warn("The Convex constructor signature has changed. Please use the following format: new Convex({ vertices: [...], ... })")),t=t||{},this.vertices=[];for(var e=void 0!==t.vertices?t.vertices:[],o=0;o<e.length;o++){var i=s.create();s.copy(i,e[o]),this.vertices.push(i)}if(this.axes=[],t.axes)for(o=0;o<t.axes.length;o++){var a=s.create();s.copy(a,t.axes[o]),this.axes.push(a)}else for(o=0;o<this.vertices.length;o++){var r=this.vertices[o],c=this.vertices[(o+1)%this.vertices.length],h=s.create();s.sub(h,c,r),s.rotate90cw(h,h),s.normalize(h,h),this.axes.push(h)}if(this.centerOfMass=s.fromValues(0,0),this.triangles=[],this.vertices.length&&(this.updateTriangles(),this.updateCenterOfMass()),this.boundingRadius=0,t.type=n.CONVEX,n.call(this,t),this.updateBoundingRadius(),this.updateArea(),this.area<0)throw new Error("Convex vertices must be given in conter-clockwise winding.")}var n=t("./Shape"),s=t("../math/vec2"),a=t("../math/polyk");t("poly-decomp");e.exports=i,(i.prototype=new n).constructor=i;var r=s.create(),c=s.create();i.prototype.projectOntoLocalAxis=function(t,e){for(var o,i,n=null,a=null,t=r,c=0;c<this.vertices.length;c++)o=this.vertices[c],i=s.dot(o,t),(null===n||i>n)&&(n=i),(null===a||i<a)&&(a=i);if(a>n){var h=a;a=n,n=h}s.set(e,a,n)},i.prototype.projectOntoWorldAxis=function(t,e,o,i){var n=c;this.projectOntoLocalAxis(t,i),0!==o?s.rotate(n,t,o):n=t;var a=s.dot(e,n);s.set(i,i[0]+a,i[1]+a)},i.prototype.updateTriangles=function(){this.triangles.length=0;for(var t=[],e=0;e<this.vertices.length;e++){var o=this.vertices[e];t.push(o[0],o[1])}for(var i=a.Triangulate(t),e=0;e<i.length;e+=3){var n=i[e],s=i[e+1],r=i[e+2];this.triangles.push([n,s,r])}};var h=s.create(),l=s.create(),p=s.create(),u=s.create(),d=s.create();s.create(),s.create(),s.create(),s.create();i.prototype.updateCenterOfMass=function(){var t=this.triangles,e=this.vertices,o=this.centerOfMass,n=h,a=p,r=u,c=d,f=l;s.set(o,0,0);for(var v=0,y=0;y!==t.length;y++){var m=t[y],a=e[m[0]],r=e[m[1]],c=e[m[2]];s.centroid(n,a,r,c);var g=i.triangleArea(a,r,c);v+=g,s.scale(f,n,g),s.add(o,o,f)}s.scale(o,o,1/v)},i.prototype.computeMomentOfInertia=function(t){for(var e=0,o=0,i=this.vertices.length,n=i-1,a=0;a<i;n=a,a++){var r=this.vertices[n],c=this.vertices[a],h=Math.abs(s.crossLength(r,c));e+=h*(s.dot(c,c)+s.dot(c,r)+s.dot(r,r)),o+=h}return t/6*(e/o)},i.prototype.updateBoundingRadius=function(){for(var t=this.vertices,e=0,o=0;o!==t.length;o++){var i=s.squaredLength(t[o]);i>e&&(e=i)}this.boundingRadius=Math.sqrt(e)},i.triangleArea=function(t,e,o){return.5*((e[0]-t[0])*(o[1]-t[1])-(o[0]-t[0])*(e[1]-t[1]))},i.prototype.updateArea=function(){this.updateTriangles(),this.area=0;for(var t=this.triangles,e=this.vertices,o=0;o!==t.length;o++){var n=t[o],s=e[n[0]],a=e[n[1]],r=e[n[2]],c=i.triangleArea(s,a,r);this.area+=c}},i.prototype.computeAABB=function(t,e,o){t.setFromPoints(this.vertices,e,o,0)};var f=s.create(),v=s.create(),y=s.create();i.prototype.raycast=function(t,e,o,i){var n=f,a=v,r=y,c=this.vertices;s.toLocalFrame(n,e.from,o,i),s.toLocalFrame(a,e.to,o,i);for(var h=c.length,l=0;l<h&&!t.shouldStop(e);l++){var p=c[l],u=c[(l+1)%h],d=s.getLineSegmentsIntersectionFraction(n,a,p,u);d>=0&&(s.sub(r,u,p),s.rotate(r,r,-Math.PI/2+i),s.normalize(r,r),e.reportIntersection(t,d,r,l))}}},{"../math/polyk":29,"../math/vec2":30,"./Shape":45,"poly-decomp":5}],41:[function(t,e,o){function i(t){if(Array.isArray(arguments[0])){if(t={heights:arguments[0]},"object"==typeof arguments[1])for(var e in arguments[1])t[e]=arguments[1][e];console.warn("The Heightfield constructor signature has changed. Please use the following format: new Heightfield({ heights: [...], ... })")}t=t||{},this.heights=t.heights?t.heights.slice(0):[],this.maxValue=t.maxValue||null,this.minValue=t.minValue||null,this.elementWidth=t.elementWidth||.1,void 0!==t.maxValue&&void 0!==t.minValue||this.updateMaxMinValues(),t.type=n.HEIGHTFIELD,n.call(this,t)}var n=t("./Shape"),s=t("../math/vec2");t("../utils/Utils");e.exports=i,(i.prototype=new n).constructor=i,i.prototype.updateMaxMinValues=function(){for(var t=this.heights,e=t[0],o=t[0],i=0;i!==t.length;i++){var n=t[i];n>e&&(e=n),n<o&&(o=n)}this.maxValue=e,this.minValue=o},i.prototype.computeMomentOfInertia=function(t){return Number.MAX_VALUE},i.prototype.updateBoundingRadius=function(){this.boundingRadius=Number.MAX_VALUE},i.prototype.updateArea=function(){for(var t=this.heights,e=0,o=0;o<t.length-1;o++)e+=(t[o]+t[o+1])/2*this.elementWidth;this.area=e};var a=[s.create(),s.create(),s.create(),s.create()];i.prototype.computeAABB=function(t,e,o){s.set(a[0],0,this.maxValue),s.set(a[1],this.elementWidth*this.heights.length,this.maxValue),s.set(a[2],this.elementWidth*this.heights.length,this.minValue),s.set(a[3],0,this.minValue),t.setFromPoints(a,e,o)},i.prototype.getLineSegment=function(t,e,o){var i=this.heights,n=this.elementWidth;s.set(t,o*n,i[o]),s.set(e,(o+1)*n,i[o+1])},i.prototype.getSegmentIndex=function(t){return Math.floor(t[0]/this.elementWidth)},i.prototype.getClampedSegmentIndex=function(t){var e=this.getSegmentIndex(t);return e=Math.min(this.heights.length,Math.max(e,0))};s.create();var r=s.create(),c=s.create(),h=s.create(),l=s.create(),p=s.create();s.fromValues(0,1);i.prototype.raycast=function(t,e,o,i){var n=e.from,a=e.to,u=(e.direction,r),d=c,f=h,v=l,y=p;s.toLocalFrame(v,n,o,i),s.toLocalFrame(y,a,o,i);var m=this.getClampedSegmentIndex(v),g=this.getClampedSegmentIndex(y);if(m>g){var A=m;m=g,g=A}for(var b=0;b<this.heights.length-1;b++){this.getLineSegment(d,f,b);var E=s.getLineSegmentsIntersectionFraction(v,y,d,f);if(E>=0&&(s.sub(u,f,d),s.rotate(u,u,i+Math.PI/2),s.normalize(u,u),e.reportIntersection(t,E,u,-1),t.shouldStop(e)))return}}},{"../math/vec2":30,"../utils/Utils":57,"./Shape":45}],42:[function(t,e,o){function i(t){"number"==typeof arguments[0]&&(t={length:arguments[0]},console.warn("The Line constructor signature has changed. Please use the following format: new Line({ length: 1, ... })")),t=t||{},this.length=t.length||1,t.type=n.LINE,n.call(this,t)}var n=t("./Shape"),s=t("../math/vec2");e.exports=i,(i.prototype=new n).constructor=i,i.prototype.computeMomentOfInertia=function(t){return t*Math.pow(this.length,2)/12},i.prototype.updateBoundingRadius=function(){this.boundingRadius=this.length/2};var a=[s.create(),s.create()];i.prototype.computeAABB=function(t,e,o){var i=this.length/2;s.set(a[0],-i,0),s.set(a[1],i,0),t.setFromPoints(a,e,o,0)};s.create();var r=s.create(),c=s.create(),h=s.create(),l=s.fromValues(0,1);i.prototype.raycast=function(t,e,o,i){var n=e.from,a=e.to,p=c,u=h,d=this.length/2;s.set(p,-d,0),s.set(u,d,0),s.toGlobalFrame(p,p,o,i),s.toGlobalFrame(u,u,o,i);var f=s.getLineSegmentsIntersectionFraction(p,u,n,a);if(f>=0){var v=r;s.rotate(v,l,i),e.reportIntersection(t,f,v,-1)}}},{"../math/vec2":30,"./Shape":45}],43:[function(t,e,o){function i(t){(t=t||{}).type=n.PARTICLE,n.call(this,t)}var n=t("./Shape"),s=t("../math/vec2");e.exports=i,(i.prototype=new n).constructor=i,i.prototype.computeMomentOfInertia=function(t){return 0},i.prototype.updateBoundingRadius=function(){this.boundingRadius=0},i.prototype.computeAABB=function(t,e,o){s.copy(t.lowerBound,e),s.copy(t.upperBound,e)}},{"../math/vec2":30,"./Shape":45}],44:[function(t,e,o){function i(t){(t=t||{}).type=n.PLANE,n.call(this,t)}var n=t("./Shape"),s=t("../math/vec2");t("../utils/Utils");e.exports=i,(i.prototype=new n).constructor=i,i.prototype.computeMomentOfInertia=function(t){return 0},i.prototype.updateBoundingRadius=function(){this.boundingRadius=Number.MAX_VALUE},i.prototype.computeAABB=function(t,e,o){var i=o%(2*Math.PI),n=s.set,a=t.lowerBound,r=t.upperBound;n(a,-1e7,-1e7),n(r,1e7,1e7),0===i?r[1]=0:i===Math.PI/2?a[0]=0:i===Math.PI?a[1]=0:i===3*Math.PI/2&&(r[0]=0)},i.prototype.updateArea=function(){this.area=Number.MAX_VALUE};var a=s.create(),r=(s.create(),s.create(),s.create()),c=s.create();i.prototype.raycast=function(t,e,o,i){var n=e.from,h=e.to,l=e.direction,p=a,u=r,d=c;s.set(u,0,1),s.rotate(u,u,i),s.sub(d,n,o);var f=s.dot(d,u);if(s.sub(d,h,o),!(f*s.dot(d,u)>0||s.squaredDistance(n,h)<f*f)){var v=s.dot(u,l);s.sub(p,n,o);var y=-s.dot(u,p)/v/e.length;e.reportIntersection(t,y,u,-1)}}},{"../math/vec2":30,"../utils/Utils":57,"./Shape":45}],45:[function(t,e,o){function i(t){t=t||{},this.body=null,this.position=n.fromValues(0,0),t.position&&n.copy(this.position,t.position),this.angle=t.angle||0,this.type=t.type||0,this.id=i.idCounter++,this.boundingRadius=0,this.collisionGroup=void 0!==t.collisionGroup?t.collisionGroup:1,this.collisionResponse=void 0===t.collisionResponse||t.collisionResponse,this.collisionMask=void 0!==t.collisionMask?t.collisionMask:1,this.material=t.material||null,this.area=0,this.sensor=void 0!==t.sensor&&t.sensor,this.type&&this.updateBoundingRadius(),this.updateArea()}e.exports=i;var n=t("../math/vec2");i.idCounter=0,i.CIRCLE=1,i.PARTICLE=2,i.PLANE=4,i.CONVEX=8,i.LINE=16,i.BOX=32,Object.defineProperty(i,"RECTANGLE",{get:function(){return console.warn("Shape.RECTANGLE is deprecated, use Shape.BOX instead."),i.BOX}}),i.CAPSULE=64,i.HEIGHTFIELD=128,i.prototype.computeMomentOfInertia=function(t){},i.prototype.updateBoundingRadius=function(){},i.prototype.updateArea=function(){},i.prototype.computeAABB=function(t,e,o){},i.prototype.raycast=function(t,e,o,i){}},{"../math/vec2":30}],46:[function(t,e,o){function i(t){a.call(this,t,a.GS),t=t||{},this.iterations=t.iterations||10,this.tolerance=t.tolerance||1e-7,this.arrayStep=30,this.lambda=new r.ARRAY_TYPE(this.arrayStep),this.Bs=new r.ARRAY_TYPE(this.arrayStep),this.invCs=new r.ARRAY_TYPE(this.arrayStep),this.useZeroRHS=!1,this.frictionIterations=void 0!==t.frictionIterations?0:t.frictionIterations,this.usedIterations=0}function n(t){for(var e=t.length;e--;)t[e]=0}var s=t("../math/vec2"),a=t("./Solver"),r=t("../utils/Utils"),c=t("../equations/FrictionEquation");e.exports=i,(i.prototype=new a).constructor=i,i.prototype.solve=function(t,e){this.sortEquations();var o=0,a=this.iterations,h=this.frictionIterations,l=this.equations,p=l.length,u=Math.pow(this.tolerance*p,2),d=e.bodies,f=e.bodies.length,v=(s.add,s.set,this.useZeroRHS),y=this.lambda;if(this.usedIterations=0,p)for(A=0;A!==f;A++)(q=d[A]).updateSolveMassProperties();y.length<p&&(y=this.lambda=new r.ARRAY_TYPE(p+this.arrayStep),this.Bs=new r.ARRAY_TYPE(p+this.arrayStep),this.invCs=new r.ARRAY_TYPE(p+this.arrayStep)),n(y);for(var m=this.invCs,g=this.Bs,y=this.lambda,A=0;A!==l.length;A++)((b=l[A]).timeStep!==t||b.needsUpdate)&&(b.timeStep=t,b.update()),g[A]=b.computeB(b.a,b.b,t),m[A]=b.computeInvC(b.epsilon);var b,E,B;if(0!==p){for(A=0;A!==f;A++){var q=d[A];q.resetConstraintVelocity()}if(h){for(o=0;o!==h;o++){for(E=0,B=0;B!==p;B++){b=l[B];C=i.iterateEquation(B,b,b.epsilon,g,m,y,v,t,o);E+=Math.abs(C)}if(this.usedIterations++,E*E<=u)break}for(i.updateMultipliers(l,y,1/t),B=0;B!==p;B++){var P=l[B];if(P instanceof c){for(var w=0,S=0;S!==P.contactEquations.length;S++)w+=P.contactEquations[S].multiplier;w*=P.frictionCoefficient/P.contactEquations.length,P.maxForce=w,P.minForce=-w}}}for(o=0;o!==a;o++){for(E=0,B=0;B!==p;B++){b=l[B];var C=i.iterateEquation(B,b,b.epsilon,g,m,y,v,t,o);E+=Math.abs(C)}if(this.usedIterations++,E*E<=u)break}for(A=0;A!==f;A++)d[A].addConstraintVelocity();i.updateMultipliers(l,y,1/t)}},i.updateMultipliers=function(t,e,o){for(var i=t.length;i--;)t[i].multiplier=e[i]*o},i.iterateEquation=function(t,e,o,i,n,s,a,r,c){var h=i[t],l=n[t],p=s[t],u=e.computeGWlambda(),d=e.maxForce,f=e.minForce;a&&(h=0);var v=l*(h-u-o*p),y=p+v;return y<f*r?v=f*r-p:y>d*r&&(v=d*r-p),s[t]+=v,e.addToWlambda(v),v}},{"../equations/FrictionEquation":23,"../math/vec2":30,"../utils/Utils":57,"./Solver":47}],47:[function(t,e,o){function i(t,e){t=t||{},n.call(this),this.type=e,this.equations=[],this.equationSortFunction=t.equationSortFunction||!1}t("../utils/Utils");var n=t("../events/EventEmitter");e.exports=i,(i.prototype=new n).constructor=i,i.prototype.solve=function(t,e){throw new Error("Solver.solve should be implemented by subclasses!")};var s={bodies:[]};i.prototype.solveIsland=function(t,e){this.removeAllEquations(),e.equations.length&&(this.addEquations(e.equations),s.bodies.length=0,e.getBodies(s.bodies),s.bodies.length&&this.solve(t,s))},i.prototype.sortEquations=function(){this.equationSortFunction&&this.equations.sort(this.equationSortFunction)},i.prototype.addEquation=function(t){t.enabled&&this.equations.push(t)},i.prototype.addEquations=function(t){for(var e=0,o=t.length;e!==o;e++){var i=t[e];i.enabled&&this.equations.push(i)}},i.prototype.removeEquation=function(t){var e=this.equations.indexOf(t);-1!==e&&this.equations.splice(e,1)},i.prototype.removeAllEquations=function(){this.equations.length=0},i.GS=1,i.ISLAND=2},{"../events/EventEmitter":26,"../utils/Utils":57}],48:[function(t,e,o){function i(){s.apply(this,arguments)}var n=t("../equations/ContactEquation"),s=t("./Pool");e.exports=i,(i.prototype=new s).constructor=i,i.prototype.create=function(){return new n},i.prototype.destroy=function(t){return t.bodyA=t.bodyB=null,this}},{"../equations/ContactEquation":21,"./Pool":55}],49:[function(t,e,o){function i(){s.apply(this,arguments)}var n=t("../equations/FrictionEquation"),s=t("./Pool");e.exports=i,(i.prototype=new s).constructor=i,i.prototype.create=function(){return new n},i.prototype.destroy=function(t){return t.bodyA=t.bodyB=null,this}},{"../equations/FrictionEquation":23,"./Pool":55}],50:[function(t,e,o){function i(){s.apply(this,arguments)}var n=t("../world/IslandNode"),s=t("./Pool");e.exports=i,(i.prototype=new s).constructor=i,i.prototype.create=function(){return new n},i.prototype.destroy=function(t){return t.reset(),this}},{"../world/IslandNode":60,"./Pool":55}],51:[function(t,e,o){function i(){s.apply(this,arguments)}var n=t("../world/Island"),s=t("./Pool");e.exports=i,(i.prototype=new s).constructor=i,i.prototype.create=function(){return new n},i.prototype.destroy=function(t){return t.reset(),this}},{"../world/Island":58,"./Pool":55}],52:[function(t,e,o){function i(){this.overlappingShapesLastState=new n,this.overlappingShapesCurrentState=new n,this.recordPool=new s({size:16}),this.tmpDict=new n,this.tmpArray1=[]}var n=t("./TupleDictionary"),s=(t("./OverlapKeeperRecord"),t("./OverlapKeeperRecordPool"));t("./Utils");e.exports=i,i.prototype.tick=function(){for(var t=this.overlappingShapesLastState,e=this.overlappingShapesCurrentState,o=t.keys.length;o--;){var i=t.keys[o],n=t.getByKey(i);e.getByKey(i);n&&this.recordPool.release(n)}t.reset(),t.copy(e),e.reset()},i.prototype.setOverlapping=function(t,e,o,i){this.overlappingShapesLastState;var n=this.overlappingShapesCurrentState;if(!n.get(e.id,i.id)){var s=this.recordPool.get();s.set(t,e,o,i),n.set(e.id,i.id,s)}},i.prototype.getNewOverlaps=function(t){return this.getDiff(this.overlappingShapesLastState,this.overlappingShapesCurrentState,t)},i.prototype.getEndOverlaps=function(t){return this.getDiff(this.overlappingShapesCurrentState,this.overlappingShapesLastState,t)},i.prototype.bodiesAreOverlapping=function(t,e){for(var o=this.overlappingShapesCurrentState,i=o.keys.length;i--;){var n=o.keys[i],s=o.data[n];if(s.bodyA===t&&s.bodyB===e||s.bodyA===e&&s.bodyB===t)return!0}return!1},i.prototype.getDiff=function(t,e,o){var i=t,n=e;(o=o||[]).length=0;for(var s=n.keys.length;s--;){var a=n.keys[s],r=n.data[a];if(!r)throw new Error("Key "+a+" had no data!");i.data[a]||o.push(r)}return o},i.prototype.isNewOverlap=function(t,e){var o=0|t.id,i=0|e.id,n=this.overlappingShapesLastState,s=this.overlappingShapesCurrentState;return!n.get(o,i)&&!!s.get(o,i)},i.prototype.getNewBodyOverlaps=function(t){this.tmpArray1.length=0;var e=this.getNewOverlaps(this.tmpArray1);return this.getBodyDiff(e,t)},i.prototype.getEndBodyOverlaps=function(t){this.tmpArray1.length=0;var e=this.getEndOverlaps(this.tmpArray1);return this.getBodyDiff(e,t)},i.prototype.getBodyDiff=function(t,e){e=e||[];for(var o=this.tmpDict,i=t.length;i--;){var n=t[i];o.set(0|n.bodyA.id,0|n.bodyB.id,n)}for(i=o.keys.length;i--;)(n=o.getByKey(o.keys[i]))&&e.push(n.bodyA,n.bodyB);return o.reset(),e}},{"./OverlapKeeperRecord":53,"./OverlapKeeperRecordPool":54,"./TupleDictionary":56,"./Utils":57}],53:[function(t,e,o){function i(t,e,o,i){this.shapeA=e,this.shapeB=i,this.bodyA=t,this.bodyB=o}e.exports=i,i.prototype.set=function(t,e,o,n){i.call(this,t,e,o,n)}},{}],54:[function(t,e,o){function i(){s.apply(this,arguments)}var n=t("./OverlapKeeperRecord"),s=t("./Pool");e.exports=i,(i.prototype=new s).constructor=i,i.prototype.create=function(){return new n},i.prototype.destroy=function(t){return t.bodyA=t.bodyB=t.shapeA=t.shapeB=null,this}},{"./OverlapKeeperRecord":53,"./Pool":55}],55:[function(t,e,o){function i(t){t=t||{},this.objects=[],void 0!==t.size&&this.resize(t.size)}e.exports=i,i.prototype.resize=function(t){for(var e=this.objects;e.length>t;)e.pop();for(;e.length<t;)e.push(this.create());return this},i.prototype.get=function(){var t=this.objects;return t.length?t.pop():this.create()},i.prototype.release=function(t){return this.destroy(t),this.objects.push(t),this}},{}],56:[function(t,e,o){function i(){this.data={},this.keys=[]}var n=t("./Utils");e.exports=i,i.prototype.getKey=function(t,e){return t|=0,e|=0,(0|t)==(0|e)?-1:0|((0|t)>(0|e)?t<<16|65535&e:e<<16|65535&t)},i.prototype.getByKey=function(t){return t|=0,this.data[t]},i.prototype.get=function(t,e){return this.data[this.getKey(t,e)]},i.prototype.set=function(t,e,o){if(!o)throw new Error("No data!");var i=this.getKey(t,e);return this.data[i]||this.keys.push(i),this.data[i]=o,i},i.prototype.reset=function(){for(var t=this.data,e=this.keys,o=e.length;o--;)delete t[e[o]];e.length=0},i.prototype.copy=function(t){this.reset(),n.appendArray(this.keys,t.keys);for(var e=t.keys.length;e--;){var o=t.keys[e];this.data[o]=t.data[o]}}},{"./Utils":57}],57:[function(t,e,o){function i(){}e.exports=i,i.appendArray=function(t,e){if(e.length<15e4)t.push.apply(t,e);else for(var o=0,i=e.length;o!==i;++o)t.push(e[o])},i.splice=function(t,e,o){o=o||1;for(var i=e,n=t.length-o;i<n;i++)t[i]=t[i+o];t.length=n},i.ARRAY_TYPE="undefined"!=typeof P2_ARRAY_TYPE?P2_ARRAY_TYPE:"undefined"!=typeof Float32Array?Float32Array:Array,i.extend=function(t,e){for(var o in e)t[o]=e[o]},i.defaults=function(t,e){t=t||{};for(var o in e)o in t||(t[o]=e[o]);return t}},{}],58:[function(t,e,o){function i(){this.equations=[],this.bodies=[]}var n=t("../objects/Body");e.exports=i,i.prototype.reset=function(){this.equations.length=this.bodies.length=0};var s=[];i.prototype.getBodies=function(t){var e=t||[],o=this.equations;s.length=0;for(var i=0;i!==o.length;i++){var n=o[i];-1===s.indexOf(n.bodyA.id)&&(e.push(n.bodyA),s.push(n.bodyA.id)),-1===s.indexOf(n.bodyB.id)&&(e.push(n.bodyB),s.push(n.bodyB.id))}return e},i.prototype.wantsToSleep=function(){for(var t=0;t<this.bodies.length;t++){var e=this.bodies[t];if(e.type===n.DYNAMIC&&!e.wantsToSleep)return!1}return!0},i.prototype.sleep=function(){for(var t=0;t<this.bodies.length;t++)this.bodies[t].sleep();return!0}},{"../objects/Body":31}],59:[function(t,e,o){function i(t){this.nodePool=new n({size:16}),this.islandPool=new s({size:8}),this.equations=[],this.islands=[],this.nodes=[],this.queue=[]}t("../math/vec2"),t("./Island"),t("./IslandNode");var n=t("./../utils/IslandNodePool"),s=t("./../utils/IslandPool"),a=t("../objects/Body");e.exports=i,i.getUnvisitedNode=function(t){for(var e=t.length,o=0;o!==e;o++){var i=t[o];if(!i.visited&&i.body.type===a.DYNAMIC)return i}return!1},i.prototype.visit=function(t,e,o){e.push(t.body);for(var i=t.equations.length,n=0;n!==i;n++){var s=t.equations[n];-1===o.indexOf(s)&&o.push(s)}},i.prototype.bfs=function(t,e,o){var n=this.queue;for(n.length=0,n.push(t),t.visited=!0,this.visit(t,e,o);n.length;)for(var s,r=n.pop();s=i.getUnvisitedNode(r.neighbors);)s.visited=!0,this.visit(s,e,o),s.body.type===a.DYNAMIC&&n.push(s)},i.prototype.split=function(t){for(var e=t.bodies,o=this.nodes,n=this.equations;o.length;)this.nodePool.release(o.pop());for(c=0;c!==e.length;c++){var s=this.nodePool.get();s.body=e[c],o.push(s)}for(var a=0;a!==n.length;a++){var r=n[a],c=e.indexOf(r.bodyA),h=e.indexOf(r.bodyB),l=o[c],p=o[h];l.neighbors.push(p),p.neighbors.push(l),l.equations.push(r),p.equations.push(r)}for(var u=this.islands,c=0;c<u.length;c++)this.islandPool.release(u[c]);u.length=0;for(var d;d=i.getUnvisitedNode(o);){var f=this.islandPool.get();this.bfs(d,f.bodies,f.equations),u.push(f)}return u}},{"../math/vec2":30,"../objects/Body":31,"./../utils/IslandNodePool":50,"./../utils/IslandPool":51,"./Island":58,"./IslandNode":60}],60:[function(t,e,o){function i(t){this.body=t,this.neighbors=[],this.equations=[],this.visited=!1}e.exports=i,i.prototype.reset=function(){this.equations.length=0,this.neighbors.length=0,this.visited=!1,this.body=null}},{}],61:[function(t,e,o){function i(t){p.apply(this),t=t||{},this.springs=[],this.bodies=[],this.disabledBodyCollisionPairs=[],this.solver=t.solver||new n,this.narrowphase=new m(this),this.islandManager=new b,this.gravity=s.fromValues(0,-9.78),t.gravity&&s.copy(this.gravity,t.gravity),this.frictionGravity=s.length(this.gravity)||10,this.useWorldGravityAsFrictionGravity=!0,this.useFrictionGravityOnZeroGravity=!0,this.broadphase=t.broadphase||new y,this.broadphase.setWorld(this),this.constraints=[],this.defaultMaterial=new d,this.defaultContactMaterial=new f(this.defaultMaterial,this.defaultMaterial),this.lastTimeStep=1/60,this.applySpringForces=!0,this.applyDamping=!0,this.applyGravity=!0,this.solveConstraints=!0,this.contactMaterials=[],this.time=0,this.accumulator=0,this.stepping=!1,this.bodiesToBeRemoved=[],this.islandSplit=void 0===t.islandSplit||!!t.islandSplit,this.emitImpactEvent=!0,this._constraintIdCounter=0,this._bodyIdCounter=0,this.postStepEvent={type:"postStep"},this.addBodyEvent={type:"addBody",body:null},this.removeBodyEvent={type:"removeBody",body:null},this.addSpringEvent={type:"addSpring",spring:null},this.impactEvent={type:"impact",bodyA:null,bodyB:null,shapeA:null,shapeB:null,contactEquation:null},this.postBroadphaseEvent={type:"postBroadphase",pairs:null},this.sleepMode=i.NO_SLEEPING,this.beginContactEvent={type:"beginContact",shapeA:null,shapeB:null,bodyA:null,bodyB:null,contactEquations:[]},this.endContactEvent={type:"endContact",shapeA:null,shapeB:null,bodyA:null,bodyB:null},this.preSolveEvent={type:"preSolve",contactEquations:null,frictionEquations:null},this.overlappingShapesLastState={keys:[]},this.overlappingShapesCurrentState={keys:[]},this.overlapKeeper=new A}var n=t("../solver/GSSolver"),s=(t("../solver/Solver"),t("../collision/Ray"),t("../math/vec2")),a=t("../shapes/Circle"),r=t("../shapes/Convex"),c=(t("../shapes/Line"),t("../shapes/Plane")),h=t("../shapes/Capsule"),l=t("../shapes/Particle"),p=t("../events/EventEmitter"),u=t("../objects/Body"),d=(t("../shapes/Shape"),t("../objects/LinearSpring"),t("../material/Material")),f=t("../material/ContactMaterial"),v=(t("../constraints/DistanceConstraint"),t("../constraints/Constraint"),t("../constraints/LockConstraint"),t("../constraints/RevoluteConstraint"),t("../constraints/PrismaticConstraint"),t("../constraints/GearConstraint"),t("../../package.json"),t("../collision/Broadphase"),t("../collision/AABB")),y=t("../collision/SAPBroadphase"),m=t("../collision/Narrowphase"),g=t("../utils/Utils"),A=t("../utils/OverlapKeeper"),b=t("./IslandManager");t("../objects/RotationalSpring");e.exports=i,i.prototype=new Object(p.prototype),i.prototype.constructor=i,i.NO_SLEEPING=1,i.BODY_SLEEPING=2,i.ISLAND_SLEEPING=4,i.prototype.addConstraint=function(t){this.constraints.push(t)},i.prototype.addContactMaterial=function(t){this.contactMaterials.push(t)},i.prototype.removeContactMaterial=function(t){var e=this.contactMaterials.indexOf(t);-1!==e&&g.splice(this.contactMaterials,e,1)},i.prototype.getContactMaterial=function(t,e){for(var o=this.contactMaterials,i=0,n=o.length;i!==n;i++){var s=o[i];if(s.materialA.id===t.id&&s.materialB.id===e.id||s.materialA.id===e.id&&s.materialB.id===t.id)return s}return!1},i.prototype.removeConstraint=function(t){var e=this.constraints.indexOf(t);-1!==e&&g.splice(this.constraints,e,1)};s.create(),s.create(),s.create(),s.create(),s.create(),s.create();var E=s.create(),B=s.fromValues(0,0),q=s.fromValues(0,0);s.fromValues(0,0),s.fromValues(0,0);i.prototype.step=function(t,e,o){if(o=o||10,0===(e=e||0))this.internalStep(t),this.time+=t;else{this.accumulator+=e;for(var i=0;this.accumulator>=t&&i<o;)this.internalStep(t),this.time+=t,this.accumulator-=t,i++;for(var n=this.accumulator%t/t,a=0;a!==this.bodies.length;a++){var r=this.bodies[a];s.lerp(r.interpolatedPosition,r.previousPosition,r.position,n),r.interpolatedAngle=r.previousAngle+n*(r.angle-r.previousAngle)}}};var P=[];i.prototype.internalStep=function(t){this.stepping=!0;var e=this.springs.length,o=this.springs,n=this.bodies,a=this.gravity,r=this.solver,c=this.bodies.length,h=this.broadphase,l=this.narrowphase,p=this.constraints,d=E,f=(s.scale,s.add),v=(s.rotate,this.islandManager);if(this.overlapKeeper.tick(),this.lastTimeStep=t,this.useWorldGravityAsFrictionGravity){var y=s.length(this.gravity);0===y&&this.useFrictionGravityOnZeroGravity||(this.frictionGravity=y)}if(this.applyGravity)for(q=0;q!==c;q++){var m=(A=n[q]).force;A.type===u.DYNAMIC&&A.sleepState!==u.SLEEPING&&(s.scale(d,a,A.mass*A.gravityScale),f(m,m,d))}if(this.applySpringForces)for(q=0;q!==e;q++)o[q].applyForce();if(this.applyDamping)for(q=0;q!==c;q++){var A=n[q];A.type===u.DYNAMIC&&A.applyDamping(t)}for(var b=h.getCollisionPairs(this),B=this.disabledBodyCollisionPairs,q=B.length-2;q>=0;q-=2)for(S=b.length-2;S>=0;S-=2)(B[q]===b[S]&&B[q+1]===b[S+1]||B[q+1]===b[S]&&B[q]===b[S+1])&&b.splice(S,2);X=p.length;for(q=0;q!==X;q++){var w=p[q];if(!w.collideConnected)for(var S=b.length-2;S>=0;S-=2)(w.bodyA===b[S]&&w.bodyB===b[S+1]||w.bodyB===b[S]&&w.bodyA===b[S+1])&&b.splice(S,2)}this.postBroadphaseEvent.pairs=b,this.emit(this.postBroadphaseEvent),this.postBroadphaseEvent.pairs=null,l.reset(this);for(var q=0,C=b.length;q!==C;q+=2)for(var L=b[q],x=b[q+1],F=0,M=L.shapes.length;F!==M;F++)for(var I=L.shapes[F],R=I.position,V=I.angle,T=0,N=x.shapes.length;T!==N;T++){var G=x.shapes[T],O=G.position,U=G.angle,k=this.defaultContactMaterial;if(I.material&&G.material){var _=this.getContactMaterial(I.material,G.material);_&&(k=_)}this.runNarrowphase(l,L,I,R,V,x,G,O,U,k,this.frictionGravity)}for(q=0;q!==c;q++)(z=n[q])._wakeUpAfterNarrowphase&&(z.wakeUp(),z._wakeUpAfterNarrowphase=!1);if(this.has("endContact")){this.overlapKeeper.getEndOverlaps(P);for(var D=this.endContactEvent,T=P.length;T--;){var W=P[T];D.shapeA=W.shapeA,D.shapeB=W.shapeB,D.bodyA=W.bodyA,D.bodyB=W.bodyB,this.emit(D)}P.length=0}var j=this.preSolveEvent;j.contactEquations=l.contactEquations,j.frictionEquations=l.frictionEquations,this.emit(j),j.contactEquations=j.frictionEquations=null;var X=p.length;for(q=0;q!==X;q++)p[q].update();if(l.contactEquations.length||l.frictionEquations.length||X)if(this.islandSplit){for(v.equations.length=0,g.appendArray(v.equations,l.contactEquations),g.appendArray(v.equations,l.frictionEquations),q=0;q!==X;q++)g.appendArray(v.equations,p[q].equations);v.split(this);for(q=0;q!==v.islands.length;q++)(H=v.islands[q]).equations.length&&r.solveIsland(t,H)}else{for(r.addEquations(l.contactEquations),r.addEquations(l.frictionEquations),q=0;q!==X;q++)r.addEquations(p[q].equations);this.solveConstraints&&r.solve(t,this),r.removeAllEquations()}for(q=0;q!==c;q++){var z=n[q];z.integrate(t)}for(q=0;q!==c;q++)n[q].setZeroForce();if(this.emitImpactEvent&&this.has("impact"))for(var Y=this.impactEvent,q=0;q!==l.contactEquations.length;q++){var K=l.contactEquations[q];K.firstImpact&&(Y.bodyA=K.bodyA,Y.bodyB=K.bodyB,Y.shapeA=K.shapeA,Y.shapeB=K.shapeB,Y.contactEquation=K,this.emit(Y))}if(this.sleepMode===i.BODY_SLEEPING)for(q=0;q!==c;q++)n[q].sleepTick(this.time,!1,t);else if(this.sleepMode===i.ISLAND_SLEEPING&&this.islandSplit){for(q=0;q!==c;q++)n[q].sleepTick(this.time,!0,t);for(q=0;q<this.islandManager.islands.length;q++){var H=this.islandManager.islands[q];H.wantsToSleep()&&H.sleep()}}this.stepping=!1;for(var Z=this.bodiesToBeRemoved,q=0;q!==Z.length;q++)this.removeBody(Z[q]);Z.length=0,this.emit(this.postStepEvent)},i.prototype.runNarrowphase=function(t,e,o,i,n,a,r,c,h,l,p){if(0!=(o.collisionGroup&r.collisionMask)&&0!=(r.collisionGroup&o.collisionMask)){s.rotate(B,i,e.angle),s.rotate(q,c,a.angle),s.add(B,B,e.position),s.add(q,q,a.position);var d=n+e.angle,f=h+a.angle;t.enableFriction=l.friction>0,t.frictionCoefficient=l.friction;var v;v=e.type===u.STATIC||e.type===u.KINEMATIC?a.mass:a.type===u.STATIC||a.type===u.KINEMATIC?e.mass:e.mass*a.mass/(e.mass+a.mass),t.slipForce=l.friction*p*v,t.restitution=l.restitution,t.surfaceVelocity=l.surfaceVelocity,t.frictionStiffness=l.frictionStiffness,t.frictionRelaxation=l.frictionRelaxation,t.stiffness=l.stiffness,t.relaxation=l.relaxation,t.contactSkinSize=l.contactSkinSize,t.enabledEquations=e.collisionResponse&&a.collisionResponse&&o.collisionResponse&&r.collisionResponse;var y=t[o.type|r.type],m=0;if(y){var g=o.sensor||r.sensor,A=t.frictionEquations.length;m=o.type<r.type?y.call(t,e,o,B,d,a,r,q,f,g):y.call(t,a,r,q,f,e,o,B,d,g);var b=t.frictionEquations.length-A;if(m){if(e.allowSleep&&e.type===u.DYNAMIC&&e.sleepState===u.SLEEPING&&a.sleepState===u.AWAKE&&a.type!==u.STATIC&&s.squaredLength(a.velocity)+Math.pow(a.angularVelocity,2)>=2*Math.pow(a.sleepSpeedLimit,2)&&(e._wakeUpAfterNarrowphase=!0),a.allowSleep&&a.type===u.DYNAMIC&&a.sleepState===u.SLEEPING&&e.sleepState===u.AWAKE&&e.type!==u.STATIC&&s.squaredLength(e.velocity)+Math.pow(e.angularVelocity,2)>=2*Math.pow(e.sleepSpeedLimit,2)&&(a._wakeUpAfterNarrowphase=!0),this.overlapKeeper.setOverlapping(e,o,a,r),this.has("beginContact")&&this.overlapKeeper.isNewOverlap(o,r)){var E=this.beginContactEvent;if(E.shapeA=o,E.shapeB=r,E.bodyA=e,E.bodyB=a,E.contactEquations.length=0,"number"==typeof m)for(P=t.contactEquations.length-m;P<t.contactEquations.length;P++)E.contactEquations.push(t.contactEquations[P]);this.emit(E)}if("number"==typeof m&&b>1)for(var P=t.frictionEquations.length-b;P<t.frictionEquations.length;P++){var w=t.frictionEquations[P];w.setSlipForce(w.getSlipForce()/b)}}}}},i.prototype.addSpring=function(t){this.springs.push(t);var e=this.addSpringEvent;e.spring=t,this.emit(e),e.spring=null},i.prototype.removeSpring=function(t){var e=this.springs.indexOf(t);-1!==e&&g.splice(this.springs,e,1)},i.prototype.addBody=function(t){if(-1===this.bodies.indexOf(t)){this.bodies.push(t),t.world=this;var e=this.addBodyEvent;e.body=t,this.emit(e),e.body=null}},i.prototype.removeBody=function(t){if(this.stepping)this.bodiesToBeRemoved.push(t);else{t.world=null;var e=this.bodies.indexOf(t);-1!==e&&(g.splice(this.bodies,e,1),this.removeBodyEvent.body=t,t.resetConstraintVelocity(),this.emit(this.removeBodyEvent),this.removeBodyEvent.body=null)}},i.prototype.getBodyById=function(t){for(var e=this.bodies,o=0;o<e.length;o++){var i=e[o];if(i.id===t)return i}return!1},i.prototype.disableBodyCollision=function(t,e){this.disabledBodyCollisionPairs.push(t,e)},i.prototype.enableBodyCollision=function(t,e){for(var o=this.disabledBodyCollisionPairs,i=0;i<o.length;i+=2)if(o[i]===t&&o[i+1]===e||o[i+1]===t&&o[i]===e)return void o.splice(i,2)},i.prototype.clear=function(){this.time=0,this.solver&&this.solver.equations.length&&this.solver.removeAllEquations();for(var t=this.constraints,e=t.length-1;e>=0;e--)this.removeConstraint(t[e]);for(var o=this.bodies,e=o.length-1;e>=0;e--)this.removeBody(o[e]);for(var n=this.springs,e=n.length-1;e>=0;e--)this.removeSpring(n[e]);for(var s=this.contactMaterials,e=s.length-1;e>=0;e--)this.removeContactMaterial(s[e]);i.apply(this)};var w=s.create(),S=(s.fromValues(0,0),s.fromValues(0,0));i.prototype.hitTest=function(t,e,o){o=o||0;var i=new u({position:t}),n=new l,p=t,d=w,f=S;i.addShape(n);for(var v=this.narrowphase,y=[],m=0,g=e.length;m!==g;m++)for(var A=e[m],b=0,E=A.shapes.length;b!==E;b++){var B=A.shapes[b];s.rotate(d,B.position,A.angle),s.add(d,d,A.position);var q=B.angle+A.angle;(B instanceof a&&v.circleParticle(A,B,d,q,i,n,p,0,!0)||B instanceof r&&v.particleConvex(i,n,p,0,A,B,d,q,!0)||B instanceof c&&v.particlePlane(i,n,p,0,A,B,d,q,!0)||B instanceof h&&v.particleCapsule(i,n,p,0,A,B,d,q,!0)||B instanceof l&&s.squaredLength(s.sub(f,d,t))<o*o)&&y.push(A)}return y},i.prototype.setGlobalStiffness=function(t){for(var e=this.constraints,o=0;o!==e.length;o++)for(var i=e[o],n=0;n!==i.equations.length;n++){var s=i.equations[n];s.stiffness=t,s.needsUpdate=!0}for(var a=this.contactMaterials,o=0;o!==a.length;o++)(i=a[o]).stiffness=i.frictionStiffness=t;(i=this.defaultContactMaterial).stiffness=i.frictionStiffness=t},i.prototype.setGlobalRelaxation=function(t){for(n=0;n!==this.constraints.length;n++)for(var e=this.constraints[n],o=0;o!==e.equations.length;o++){var i=e.equations[o];i.relaxation=t,i.needsUpdate=!0}for(var n=0;n!==this.contactMaterials.length;n++)(e=this.contactMaterials[n]).relaxation=e.frictionRelaxation=t;(e=this.defaultContactMaterial).relaxation=e.frictionRelaxation=t};var C=new v,L=[];i.prototype.raycast=function(t,e){return e.getAABB(C),this.broadphase.aabbQuery(this,C,L),e.intersectBodies(t,L),L.length=0,t.hasHit()}},{"../../package.json":6,"../collision/AABB":7,"../collision/Broadphase":8,"../collision/Narrowphase":10,"../collision/Ray":11,"../collision/SAPBroadphase":13,"../constraints/Constraint":14,"../constraints/DistanceConstraint":15,"../constraints/GearConstraint":16,"../constraints/LockConstraint":17,"../constraints/PrismaticConstraint":18,"../constraints/RevoluteConstraint":19,"../events/EventEmitter":26,"../material/ContactMaterial":27,"../material/Material":28,"../math/vec2":30,"../objects/Body":31,"../objects/LinearSpring":32,"../objects/RotationalSpring":33,"../shapes/Capsule":38,"../shapes/Circle":39,"../shapes/Convex":40,"../shapes/Line":42,"../shapes/Particle":43,"../shapes/Plane":44,"../shapes/Shape":45,"../solver/GSSolver":46,"../solver/Solver":47,"../utils/OverlapKeeper":52,"../utils/Utils":57,"./IslandManager":59}]},{},[36])(36)});
//# sourceMappingURL=p2.map

/***/ }),
/* 9 */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(process) {/* Phaser v2.9.2 - http://phaser.io - @photonstorm - (c) 2016 Photon Storm Ltd. */

(function(){function t(t,e){this._scaleFactor=t,this._deltaMode=e,this.originalEvent=null}var e=this,i=i||{VERSION:"2.9.2",GAMES:[],AUTO:0,CANVAS:1,WEBGL:2,HEADLESS:3,WEBGL_MULTI:4,NONE:0,LEFT:1,RIGHT:2,UP:3,DOWN:4,SPRITE:0,BUTTON:1,IMAGE:2,GRAPHICS:3,TEXT:4,TILESPRITE:5,BITMAPTEXT:6,GROUP:7,RENDERTEXTURE:8,TILEMAP:9,TILEMAPLAYER:10,EMITTER:11,POLYGON:12,BITMAPDATA:13,CANVAS_FILTER:14,WEBGL_FILTER:15,ELLIPSE:16,SPRITEBATCH:17,RETROFONT:18,POINTER:19,ROPE:20,CIRCLE:21,RECTANGLE:22,LINE:23,MATRIX:24,POINT:25,ROUNDEDRECTANGLE:26,CREATURE:27,VIDEO:28,PENDING_ATLAS:-1,HORIZONTAL:0,VERTICAL:1,LANDSCAPE:0,PORTRAIT:1,ANGLE_UP:270,ANGLE_DOWN:90,ANGLE_LEFT:180,ANGLE_RIGHT:0,ANGLE_NORTH_EAST:315,ANGLE_NORTH_WEST:225,ANGLE_SOUTH_EAST:45,ANGLE_SOUTH_WEST:135,TOP_LEFT:0,TOP_CENTER:1,TOP_RIGHT:2,LEFT_TOP:3,LEFT_CENTER:4,LEFT_BOTTOM:5,CENTER:6,RIGHT_TOP:7,RIGHT_CENTER:8,RIGHT_BOTTOM:9,BOTTOM_LEFT:10,BOTTOM_CENTER:11,BOTTOM_RIGHT:12,blendModes:{NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16},scaleModes:{DEFAULT:0,LINEAR:0,NEAREST:1},PIXI:PIXI||{},_UID:0};if(Math.trunc||(Math.trunc=function(t){return t<0?Math.ceil(t):Math.floor(t)}),Function.prototype.bind||(Function.prototype.bind=function(){var t=Array.prototype.slice;return function(e){function i(){var o=n.concat(t.call(arguments));s.apply(this instanceof i?this:e,o)}var s=this,n=t.call(arguments,1);if("function"!=typeof s)throw new TypeError;return i.prototype=function t(e){if(e&&(t.prototype=e),!(this instanceof t))return new t}(s.prototype),i}}()),Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),Array.prototype.forEach||(Array.prototype.forEach=function(t){"use strict";if(void 0===this||null===this)throw new TypeError;var e=Object(this),i=e.length>>>0;if("function"!=typeof t)throw new TypeError;for(var s=arguments.length>=2?arguments[1]:void 0,n=0;n<i;n++)n in e&&t.call(s,e[n],n,e)}),"function"!=typeof window.Uint32Array&&"object"!=typeof window.Uint32Array){var s=function(t){var e=new Array;window[t]=function(t){if("number"==typeof t){Array.call(this,t),this.length=t;for(e=0;e<this.length;e++)this[e]=0}else{Array.call(this,t.length),this.length=t.length;for(var e=0;e<this.length;e++)this[e]=t[e]}},window[t].prototype=e,window[t].constructor=window[t]};s("Float32Array"),s("Uint32Array"),s("Uint16Array"),s("Int16Array"),s("ArrayBuffer")}window.console||(window.console={},window.console.log=window.console.assert=function(){},window.console.warn=window.console.assert=function(){}),Object.assign||(Object.assign=function(t,e){"use strict";if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(t),s=Object.prototype.hasOwnProperty,n=1;n<arguments.length;n++){var o=arguments[n];if(null!=o)for(var r in o)s.call(o,r)&&(i[r]=o[r])}return i}),i.Utils={reverseString:function(t){return t.split("").reverse().join("")},getProperty:function(t,e){for(var i=e.split("."),s=i.length,n=0,o=t;n<s;){var r=i[n];if(null==o)return;o=o[r],n++}return o},setProperties:function(t,e){for(var i in e)this.setProperty(t,i,e[i]);return t},setProperty:function(t,e,i){var s=e.split(".");switch(s.length){case 1:t[e]=i;break;case 2:t[s[0]][s[1]]=i;break;case 3:t[s[0]][s[1]][s[2]]=i;break;case 4:t[s[0]][s[1]][s[2]][s[3]]=i;break;default:this._setProperty(t,e,i)}},_setProperty:function(t,e,i){var s=e.split("."),n=s.length,o=0,r=t,a=s[0];if(1===n)t[e]=i;else{for(;o<n-1;)r=r[a],a=s[++o];r[a]=i}return t},chanceRoll:function(t){return void 0===t&&(t=50),t>0&&100*Math.random()<=t},randomChoice:function(t,e){return Math.random()<.5?t:e},parseDimension:function(t,e){var i=0,s=0;return"string"==typeof t?"%"===t.substr(-1)?(i=parseInt(t,10)/100,s=0===e?window.innerWidth*i:window.innerHeight*i):s=parseInt(t,10):s=t,s},pad:function(t,e,i,s){if(void 0===e)var e=0;if(void 0===i)var i=" ";if(void 0===s)var s=3;var n=0;if(e+1>=(t=t.toString()).length)switch(s){case 1:t=new Array(e+1-t.length).join(i)+t;break;case 3:var o=Math.ceil((n=e-t.length)/2),r=n-o;t=new Array(r+1).join(i)+t+new Array(o+1).join(i);break;default:t+=new Array(e+1-t.length).join(i)}return t},isPlainObject:function(t){if("object"!=typeof t||t.nodeType||t===t.window)return!1;try{if(t.constructor&&!{}.hasOwnProperty.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(t){return!1}return!0},extend:function(){var t,e,s,n,o,r,a=arguments[0]||{},h=1,l=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[1]||{},h=2),l===h&&(a=this,--h);h<l;h++)if(null!=(t=arguments[h]))for(e in t)s=a[e],a!==(n=t[e])&&(c&&n&&(i.Utils.isPlainObject(n)||(o=Array.isArray(n)))?(o?(o=!1,r=s&&Array.isArray(s)?s:[]):r=s&&i.Utils.isPlainObject(s)?s:{},a[e]=i.Utils.extend(c,r,n)):void 0!==n&&(a[e]=n));return a},mixinPrototype:function(t,e,i){void 0===i&&(i=!1);for(var s=Object.keys(e),n=0;n<s.length;n++){var o=s[n],r=e[o];!i&&o in t||(!r||"function"!=typeof r.get&&"function"!=typeof r.set?t[o]=r:"function"==typeof r.clone?t[o]=r.clone():Object.defineProperty(t,o,r))}},mixin:function(t,e){if(!t||"object"!=typeof t)return e;for(var s in t){var n=t[s];if(!n.childNodes&&!n.cloneNode){var o=typeof t[s];t[s]&&"object"===o?typeof e[s]===o?e[s]=i.Utils.mixin(t[s],e[s]):e[s]=i.Utils.mixin(t[s],new n.constructor):e[s]=t[s]}}return e}},i.Circle=function(t,e,s){t=t||0,e=e||0,s=s||0,this.x=t,this.y=e,this._diameter=s,this._radius=0,s>0&&(this._radius=.5*s),this.type=i.CIRCLE},i.Circle.prototype={circumference:function(){return Math.PI*this._radius*2},random:function(t){void 0===t&&(t=new i.Point);var e=2*Math.PI*Math.random(),s=Math.random()+Math.random(),n=s>1?2-s:s,o=n*Math.cos(e),r=n*Math.sin(e);return t.x=this.x+o*this.radius,t.y=this.y+r*this.radius,t},getBounds:function(){return new i.Rectangle(this.x-this.radius,this.y-this.radius,this.diameter,this.diameter)},setTo:function(t,e,i){return this.x=t,this.y=e,this._diameter=i,this._radius=.5*i,this},copyFrom:function(t){return this.setTo(t.x,t.y,t.diameter)},copyTo:function(t){return t.x=this.x,t.y=this.y,t.diameter=this._diameter,t},distance:function(t,e){var s=i.Math.distance(this.x,this.y,t.x,t.y);return e?Math.round(s):s},clone:function(t){return void 0===t||null===t?t=new i.Circle(this.x,this.y,this.diameter):t.setTo(this.x,this.y,this.diameter),t},contains:function(t,e){return i.Circle.contains(this,t,e)},circumferencePoint:function(t,e,s){return i.Circle.circumferencePoint(this,t,e,s)},sample:function(t,e,s,n,o){t||(t=60),null==e&&(e=0),null==s&&(s=i.Math.PI2),o||(o=[]);for(var r=0;r<t;)this.circumferencePoint(i.Math.linear(e,s,r/t),n,o[r]||(o[r]=new i.Point)),r+=1;return o},offset:function(t,e){return this.x+=t,this.y+=e,this},offsetPoint:function(t){return this.offset(t.x,t.y)},toString:function(){return"[{Phaser.Circle (x="+this.x+" y="+this.y+" diameter="+this.diameter+" radius="+this.radius+")}]"}},i.Circle.prototype.constructor=i.Circle,Object.defineProperty(i.Circle.prototype,"diameter",{get:function(){return this._diameter},set:function(t){t>0&&(this._diameter=t,this._radius=.5*t)}}),Object.defineProperty(i.Circle.prototype,"radius",{get:function(){return this._radius},set:function(t){t>0&&(this._radius=t,this._diameter=2*t)}}),Object.defineProperty(i.Circle.prototype,"left",{get:function(){return this.x-this._radius},set:function(t){t>this.x?(this._radius=0,this._diameter=0):this.radius=this.x-t}}),Object.defineProperty(i.Circle.prototype,"right",{get:function(){return this.x+this._radius},set:function(t){t<this.x?(this._radius=0,this._diameter=0):this.radius=t-this.x}}),Object.defineProperty(i.Circle.prototype,"top",{get:function(){return this.y-this._radius},set:function(t){t>this.y?(this._radius=0,this._diameter=0):this.radius=this.y-t}}),Object.defineProperty(i.Circle.prototype,"bottom",{get:function(){return this.y+this._radius},set:function(t){t<this.y?(this._radius=0,this._diameter=0):this.radius=t-this.y}}),Object.defineProperty(i.Circle.prototype,"area",{get:function(){return this._radius>0?Math.PI*this._radius*this._radius:0}}),Object.defineProperty(i.Circle.prototype,"empty",{get:function(){return 0===this._diameter},set:function(t){!0===t&&this.setTo(0,0,0)}}),i.Circle.contains=function(t,e,i){return t.radius>0&&e>=t.left&&e<=t.right&&i>=t.top&&i<=t.bottom&&(t.x-e)*(t.x-e)+(t.y-i)*(t.y-i)<=t.radius*t.radius},i.Circle.equals=function(t,e){return t.x===e.x&&t.y===e.y&&t.diameter===e.diameter},i.Circle.intersects=function(t,e){return i.Math.distance(t.x,t.y,e.x,e.y)<=t.radius+e.radius},i.Circle.circumferencePoint=function(t,e,s,n){return void 0===s&&(s=!1),void 0===n&&(n=new i.Point),!0===s&&(e=i.Math.degToRad(e)),n.x=t.x+t.radius*Math.cos(e),n.y=t.y+t.radius*Math.sin(e),n},i.Circle.intersectsRectangle=function(t,e){var i=Math.abs(t.x-e.x-e.halfWidth);if(i>e.halfWidth+t.radius)return!1;var s=Math.abs(t.y-e.y-e.halfHeight);if(s>e.halfHeight+t.radius)return!1;if(i<=e.halfWidth||s<=e.halfHeight)return!0;var n=i-e.halfWidth,o=s-e.halfHeight;return n*n+o*o<=t.radius*t.radius},i.Circle.intersectsLine=function(t,e,s){var n=t.x,o=t.y,r=(e.end.y-e.start.y)/(e.end.x-e.start.x),a=e.end.y-r*e.end.x,h=t.radius,l=t.radius,c=a+r*n,u=(n*(l*l)-r*(h*h)*(a-o)+h*l*Math.sqrt(h*h*(r*r)+l*l-c*c-o*o+2*c*o))/(h*h*(r*r)+l*l),d=(n*(l*l)-r*(h*h)*(a-o)-h*l*Math.sqrt(h*h*(r*r)+l*l-c*c-o*o+2*c*o))/(h*h*(r*r)+l*l),p=r*u+a,f=r*d+a,m=new i.Point(u,p),g=new i.Point(d,f),y=e.pointOnSegment(m.x,m.y,.01),v=e.pointOnSegment(g.x,g.y,.01);return y&&v?!s||[m,g]:y?!s||[m]:v?!s||[g]:!!s&&[]},PIXI.Circle=i.Circle,i.Ellipse=function(t,e,s,n){t=t||0,e=e||0,s=s||0,n=n||0,this.x=t,this.y=e,this.width=s,this.height=n,this.type=i.ELLIPSE},i.Ellipse.prototype={setTo:function(t,e,i,s){return this.x=t,this.y=e,this.width=i,this.height=s,this},getBounds:function(){return new i.Rectangle(this.x-this.width,this.y-this.height,this.width,this.height)},copyFrom:function(t){return this.setTo(t.x,t.y,t.width,t.height)},copyTo:function(t){return t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t},clone:function(t){return void 0===t||null===t?t=new i.Ellipse(this.x,this.y,this.width,this.height):t.setTo(this.x,this.y,this.width,this.height),t},contains:function(t,e){return i.Ellipse.contains(this,t,e)},random:function(t){void 0===t&&(t=new i.Point);var e=Math.random()*Math.PI*2,s=Math.random();return t.x=Math.sqrt(s)*Math.cos(e),t.y=Math.sqrt(s)*Math.sin(e),t.x=this.x+t.x*this.width/2,t.y=this.y+t.y*this.height/2,t},toString:function(){return"[{Phaser.Ellipse (x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+")}]"}},i.Ellipse.prototype.constructor=i.Ellipse,Object.defineProperty(i.Ellipse.prototype,"left",{get:function(){return this.x},set:function(t){this.x=t}}),Object.defineProperty(i.Ellipse.prototype,"right",{get:function(){return this.x+this.width},set:function(t){t<this.x?this.width=0:this.width=t-this.x}}),Object.defineProperty(i.Ellipse.prototype,"top",{get:function(){return this.y},set:function(t){this.y=t}}),Object.defineProperty(i.Ellipse.prototype,"bottom",{get:function(){return this.y+this.height},set:function(t){t<this.y?this.height=0:this.height=t-this.y}}),Object.defineProperty(i.Ellipse.prototype,"empty",{get:function(){return 0===this.width||0===this.height},set:function(t){!0===t&&this.setTo(0,0,0,0)}}),i.Ellipse.contains=function(t,e,i){if(t.width<=0||t.height<=0)return!1;var s=(e-t.x)/t.width-.5,n=(i-t.y)/t.height-.5;return s*=s,n*=n,s+n<.25},i.Ellipse.intersectsLine=function(t,e,s){var n=t.x,o=t.y,r=(e.end.y-e.start.y)/(e.end.x-e.start.x),a=e.end.y-r*e.end.x,h=t.width/2,l=t.height/2,c=a+r*n,u=(n*(l*l)-r*(h*h)*(a-o)+h*l*Math.sqrt(h*h*(r*r)+l*l-c*c-o*o+2*c*o))/(h*h*(r*r)+l*l),d=(n*(l*l)-r*(h*h)*(a-o)-h*l*Math.sqrt(h*h*(r*r)+l*l-c*c-o*o+2*c*o))/(h*h*(r*r)+l*l),p=r*u+a,f=r*d+a,m=new i.Point(u,p),g=new i.Point(d,f),y=e.pointOnSegment(m.x,m.y,.01),v=e.pointOnSegment(g.x,g.y,.01);return y&&v?!s||[m,g]:y?!s||[m]:v?!s||[g]:!!s&&[]},PIXI.Ellipse=i.Ellipse,i.Line=function(t,e,s,n){t=t||0,e=e||0,s=s||0,n=n||0,this.start=new i.Point(t,e),this.end=new i.Point(s,n),this.type=i.LINE},i.Line.prototype={setTo:function(t,e,i,s){return this.start.setTo(t,e),this.end.setTo(i,s),this},fromSprite:function(t,e,i){return void 0===i&&(i=!1),i?this.setTo(t.centerX,t.centerY,e.centerX,e.centerY):this.setTo(t.x,t.y,e.x,e.y)},fromAngle:function(t,e,i,s){return this.start.setTo(t,e),this.end.setTo(t+Math.cos(i)*s,e+Math.sin(i)*s),this},rotate:function(t,e){var i=(this.start.x+this.end.x)/2,s=(this.start.y+this.end.y)/2;return this.start.rotate(i,s,t,e),this.end.rotate(i,s,t,e),this},rotateAround:function(t,e,i,s){return this.start.rotate(t,e,i,s),this.end.rotate(t,e,i,s),this},intersects:function(t,e,s){return i.Line.intersectsPoints(this.start,this.end,t.start,t.end,e,s)},reflect:function(t){return i.Line.reflect(this,t)},midPoint:function(t){return void 0===t&&(t=new i.Point),t.x=(this.start.x+this.end.x)/2,t.y=(this.start.y+this.end.y)/2,t},centerOn:function(t,e){var i=t-(this.start.x+this.end.x)/2,s=e-(this.start.y+this.end.y)/2;this.start.add(i,s),this.end.add(i,s)},pointOnLine:function(t,e,s){return i.Math.fuzzyEqual((t-this.start.x)*(this.end.y-this.start.y),(this.end.x-this.start.x)*(e-this.start.y),s||0)},pointOnSegment:function(t,e,i){var s=Math.min(this.start.x,this.end.x),n=Math.max(this.start.x,this.end.x),o=Math.min(this.start.y,this.end.y),r=Math.max(this.start.y,this.end.y);return this.pointOnLine(t,e,i)&&t>=s&&t<=n&&e>=o&&e<=r},random:function(t){void 0===t&&(t=new i.Point);var e=Math.random();return t.x=this.start.x+e*(this.end.x-this.start.x),t.y=this.start.y+e*(this.end.y-this.start.y),t},coordinatesOnLine:function(t,e){void 0===t&&(t=1),void 0===e&&(e=[]);var i=Math.round(this.start.x),s=Math.round(this.start.y),n=Math.round(this.end.x),o=Math.round(this.end.y),r=Math.abs(n-i),a=Math.abs(o-s),h=i<n?1:-1,l=s<o?1:-1,c=r-a;e.push([i,s]);for(var u=1;i!==n||s!==o;){var d=c<<1;d>-a&&(c-=a,i+=h),d<r&&(c+=r,s+=l),u%t==0&&e.push([i,s]),u++}return e},clone:function(t){return void 0===t||null===t?t=new i.Line(this.start.x,this.start.y,this.end.x,this.end.y):t.setTo(this.start.x,this.start.y,this.end.x,this.end.y),t}},Object.defineProperty(i.Line.prototype,"length",{get:function(){return Math.sqrt((this.end.x-this.start.x)*(this.end.x-this.start.x)+(this.end.y-this.start.y)*(this.end.y-this.start.y))}}),Object.defineProperty(i.Line.prototype,"angle",{get:function(){return Math.atan2(this.end.y-this.start.y,this.end.x-this.start.x)}}),Object.defineProperty(i.Line.prototype,"slope",{get:function(){return(this.end.y-this.start.y)/(this.end.x-this.start.x)}}),Object.defineProperty(i.Line.prototype,"perpSlope",{get:function(){return-(this.end.x-this.start.x)/(this.end.y-this.start.y)}}),Object.defineProperty(i.Line.prototype,"x",{get:function(){return Math.min(this.start.x,this.end.x)}}),Object.defineProperty(i.Line.prototype,"y",{get:function(){return Math.min(this.start.y,this.end.y)}}),Object.defineProperty(i.Line.prototype,"left",{get:function(){return Math.min(this.start.x,this.end.x)}}),Object.defineProperty(i.Line.prototype,"right",{get:function(){return Math.max(this.start.x,this.end.x)}}),Object.defineProperty(i.Line.prototype,"top",{get:function(){return Math.min(this.start.y,this.end.y)}}),Object.defineProperty(i.Line.prototype,"bottom",{get:function(){return Math.max(this.start.y,this.end.y)}}),Object.defineProperty(i.Line.prototype,"width",{get:function(){return Math.abs(this.start.x-this.end.x)}}),Object.defineProperty(i.Line.prototype,"height",{get:function(){return Math.abs(this.start.y-this.end.y)}}),Object.defineProperty(i.Line.prototype,"normalX",{get:function(){return Math.cos(this.angle-1.5707963267948966)}}),Object.defineProperty(i.Line.prototype,"normalY",{get:function(){return Math.sin(this.angle-1.5707963267948966)}}),Object.defineProperty(i.Line.prototype,"normalAngle",{get:function(){return i.Math.wrap(this.angle-1.5707963267948966,-Math.PI,Math.PI)}}),i.Line.intersectsPoints=function(t,e,s,n,o,r){void 0===o&&(o=!0),void 0===r&&(r=new i.Point);var a=e.y-t.y,h=n.y-s.y,l=t.x-e.x,c=s.x-n.x,u=e.x*t.y-t.x*e.y,d=n.x*s.y-s.x*n.y,p=a*c-h*l;if(0===p)return null;if(r.x=(l*d-c*u)/p,r.y=(h*u-a*d)/p,o){var f=(n.y-s.y)*(e.x-t.x)-(n.x-s.x)*(e.y-t.y),m=((n.x-s.x)*(t.y-s.y)-(n.y-s.y)*(t.x-s.x))/f,g=((e.x-t.x)*(t.y-s.y)-(e.y-t.y)*(t.x-s.x))/f;return m>=0&&m<=1&&g>=0&&g<=1?r:null}return r},i.Line.intersects=function(t,e,s,n){return i.Line.intersectsPoints(t.start,t.end,e.start,e.end,s,n)},i.Line.intersectsRectangle=function(t,e){if(0===t.length||e.empty)return!1;var i=t.start.x,s=t.start.y,n=t.end.x,o=t.end.y,r=e.x,a=e.y,h=e.right,l=e.bottom,c=0;if(i>=r&&i<=h&&s>=a&&s<=l||n>=r&&n<=h&&o>=a&&o<=l)return!0;if(i<r&&n>=r){if((c=s+(o-s)*(r-i)/(n-i))>a&&c<=l)return!0}else if(i>h&&n<=h&&(c=s+(o-s)*(h-i)/(n-i))>=a&&c<=l)return!0;if(s<a&&o>=a){if((c=i+(n-i)*(a-s)/(o-s))>=r&&c<=h)return!0}else if(s>l&&o<=l&&(c=i+(n-i)*(l-s)/(o-s))>=r&&c<=h)return!0;return!1},i.Line.intersectionWithRectangle=function(t,e,s){var n=i.Line.intersectionWithRectangle;s||(s=new i.Point),n.edges||(n.edges=[new i.Line,new i.Line,new i.Line,new i.Line]),n.edgeIntersection||(n.edgeIntersection=new i.Point);var o=n.edges,r=n.edgeIntersection.set(0),a=e.x,h=e.y,l=e.right,c=e.bottom,u=1/0;o[0].setTo(a,h,l,h),o[1].setTo(a,c,l,c),o[2].setTo(a,h,a,c),o[3].setTo(l,h,l,c);for(var d,p=0;d=o[p];p++)if(t.intersects(d,!0,r)){var f=t.start.distance(r);f<u&&(u=f,s.copyFrom(r))}return null!=f?s:null},i.Line.reflect=function(t,e){return 2*e.normalAngle-3.141592653589793-t.angle},i.Matrix=function(t,e,s,n,o,r){void 0!==t&&null!==t||(t=1),void 0!==e&&null!==e||(e=0),void 0!==s&&null!==s||(s=0),void 0!==n&&null!==n||(n=1),void 0!==o&&null!==o||(o=0),void 0!==r&&null!==r||(r=0),this.a=t,this.b=e,this.c=s,this.d=n,this.tx=o,this.ty=r,this.type=i.MATRIX},i.Matrix.prototype={fromArray:function(t){return this.setTo(t[0],t[1],t[3],t[4],t[2],t[5])},setTo:function(t,e,i,s,n,o){return this.a=t,this.b=e,this.c=i,this.d=s,this.tx=n,this.ty=o,this},clone:function(t){return void 0===t||null===t?t=new i.Matrix(this.a,this.b,this.c,this.d,this.tx,this.ty):(t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty),t},copyTo:function(t){return t.copyFrom(this),t},copyFrom:function(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this},toArray:function(t,e){return void 0===e&&(e=new Float32Array(9)),t?(e[0]=this.a,e[1]=this.b,e[2]=0,e[3]=this.c,e[4]=this.d,e[5]=0,e[6]=this.tx,e[7]=this.ty,e[8]=1):(e[0]=this.a,e[1]=this.c,e[2]=this.tx,e[3]=this.b,e[4]=this.d,e[5]=this.ty,e[6]=0,e[7]=0,e[8]=1),e},apply:function(t,e){return void 0===e&&(e=new i.Point),e.x=this.a*t.x+this.c*t.y+this.tx,e.y=this.b*t.x+this.d*t.y+this.ty,e},applyInverse:function(t,e){void 0===e&&(e=new i.Point);var s=1/(this.a*this.d+this.c*-this.b),n=t.x,o=t.y;return e.x=this.d*s*n+-this.c*s*o+(this.ty*this.c-this.tx*this.d)*s,e.y=this.a*s*o+-this.b*s*n+(-this.ty*this.a+this.tx*this.b)*s,e},translate:function(t,e){return this.tx+=t,this.ty+=e,this},scale:function(t,e){return this.a*=t,this.d*=e,this.c*=t,this.b*=e,this.tx*=t,this.ty*=e,this},rotate:function(t){var e=Math.cos(t),i=Math.sin(t),s=this.a,n=this.c,o=this.tx;return this.a=s*e-this.b*i,this.b=s*i+this.b*e,this.c=n*e-this.d*i,this.d=n*i+this.d*e,this.tx=o*e-this.ty*i,this.ty=o*i+this.ty*e,this},append:function(t){var e=this.a,i=this.b,s=this.c,n=this.d;return this.a=t.a*e+t.b*s,this.b=t.a*i+t.b*n,this.c=t.c*e+t.d*s,this.d=t.c*i+t.d*n,this.tx=t.tx*e+t.ty*s+this.tx,this.ty=t.tx*i+t.ty*n+this.ty,this},identity:function(){return this.setTo(1,0,0,1,0,0)}},i.identityMatrix=new i.Matrix,i.Point=function(t,e){t=t||0,e=e||0,this.x=t,this.y=e,this.type=i.POINT},i.Point.prototype={copyFrom:function(t){return this.setTo(t.x,t.y)},invert:function(){return this.setTo(this.y,this.x)},setTo:function(t,e){return i.Point.set(this,t,e)},set:function(t,e){return i.Point.set(this,t,e)},setToPolar:function(t,e,s){return null==e&&(e=1),s&&(t=i.Math.degToRad(t)),this.setTo(Math.cos(t)*e,Math.sin(t)*e)},add:function(t,e){return this.x+=t,this.y+=e,this},subtract:function(t,e){return this.x-=t,this.y-=e,this},multiply:function(t,e){return this.x*=t,this.y*=e,this},divide:function(t,e){return this.x/=t,this.y/=e,this},clampX:function(t,e){return this.x=i.Math.clamp(this.x,t,e),this},clampY:function(t,e){return this.y=i.Math.clamp(this.y,t,e),this},clamp:function(t,e){return this.x=i.Math.clamp(this.x,t,e),this.y=i.Math.clamp(this.y,t,e),this},clip:function(t){var e=t.left,i=t.top,s=t.right,n=t.bottom;return this.x<e?this.x=e:this.x>s&&(this.x=s),this.y<i?this.y=i:this.y>n&&(this.y=n),this},clone:function(t){return void 0===t||null===t?t=new i.Point(this.x,this.y):t.setTo(this.x,this.y),t},copyTo:function(t){return t.x=this.x,t.y=this.y,t},distance:function(t,e){return i.Point.distance(this,t,e)},equals:function(t){return t.x===this.x&&t.y===this.y},equalsXY:function(t,e){return this.x===t&&this.y===e},fuzzyEquals:function(t,e){return i.Point.fuzzyEquals(this,t,e)},fuzzyEqualsXY:function(t,e,s){return i.Point.fuzzyEqualsXY(this,t,e,s)},angle:function(t,e){return void 0===e&&(e=!1),e?i.Math.radToDeg(Math.atan2(t.y-this.y,t.x-this.x)):Math.atan2(t.y-this.y,t.x-this.x)},rotate:function(t,e,s,n,o){return i.Point.rotate(this,t,e,s,n,o)},getMagnitude:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},getMagnitudeSq:function(){return this.x*this.x+this.y*this.y},setMagnitude:function(t){return this.normalize().multiply(t,t)},normalize:function(){if(!this.isZero()){var t=this.getMagnitude();this.x/=t,this.y/=t}return this},limit:function(t){return this.getMagnitudeSq()>t*t&&this.setMagnitude(t),this},isZero:function(){return 0===this.x&&0===this.y},dot:function(t){return this.x*t.x+this.y*t.y},cross:function(t){return this.x*t.y-this.y*t.x},perp:function(){return this.setTo(-this.y,this.x)},rperp:function(){return this.setTo(this.y,-this.x)},normalRightHand:function(){return this.setTo(-1*this.y,this.x)},floor:function(){return this.setTo(Math.floor(this.x),Math.floor(this.y))},ceil:function(){return this.setTo(Math.ceil(this.x),Math.ceil(this.y))},toString:function(){return"[{Point (x="+this.x+" y="+this.y+")}]"}},i.Point.prototype.constructor=i.Point,i.Point.add=function(t,e,s){return void 0===s&&(s=new i.Point),s.x=t.x+e.x,s.y=t.y+e.y,s},i.Point.subtract=function(t,e,s){return void 0===s&&(s=new i.Point),s.x=t.x-e.x,s.y=t.y-e.y,s},i.Point.multiply=function(t,e,s){return void 0===s&&(s=new i.Point),s.x=t.x*e.x,s.y=t.y*e.y,s},i.Point.divide=function(t,e,s){return void 0===s&&(s=new i.Point),s.x=t.x/e.x,s.y=t.y/e.y,s},i.Point.equals=function(t,e){return t.x===e.x&&t.y===e.y},i.Point.equalsXY=function(t,e,i){return t.x===e&&t.y===i},i.Point.fuzzyEquals=function(t,e,s){return i.Math.fuzzyEquals(t.x,e.x,s)&&i.Math.fuzzyEquals(t.y,e.y,s)},i.Point.fuzzyEqualsXY=function(t,e,s,n){return i.Math.fuzzyEquals(t.x,e,n)&&i.Math.fuzzyEquals(t.y,s,n)},i.Point.angle=function(t,e){return Math.atan2(t.y-e.y,t.x-e.x)},i.Point.negative=function(t,e){return void 0===e&&(e=new i.Point),e.setTo(-t.x,-t.y)},i.Point.multiplyAdd=function(t,e,s,n){return void 0===n&&(n=new i.Point),n.setTo(t.x+e.x*s,t.y+e.y*s)},i.Point.interpolate=function(t,e,s,n){return void 0===n&&(n=new i.Point),n.setTo(t.x+(e.x-t.x)*s,t.y+(e.y-t.y)*s)},i.Point.perp=function(t,e){return void 0===e&&(e=new i.Point),e.setTo(-t.y,t.x)},i.Point.rperp=function(t,e){return void 0===e&&(e=new i.Point),e.setTo(t.y,-t.x)},i.Point.distance=function(t,e,s){var n=i.Math.distance(t.x,t.y,e.x,e.y);return s?Math.round(n):n},i.Point.project=function(t,e,s){void 0===s&&(s=new i.Point);var n=t.dot(e)/e.getMagnitudeSq();return 0!==n&&s.setTo(n*e.x,n*e.y),s},i.Point.projectUnit=function(t,e,s){void 0===s&&(s=new i.Point);var n=t.dot(e);return 0!==n&&s.setTo(n*e.x,n*e.y),s},i.Point.normalRightHand=function(t,e){return void 0===e&&(e=new i.Point),e.setTo(-1*t.y,t.x)},i.Point.normalize=function(t,e){void 0===e&&(e=new i.Point);var s=t.getMagnitude();return 0!==s&&e.setTo(t.x/s,t.y/s),e},i.Point.rotate=function(t,e,s,n,o,r){if(o&&(n=i.Math.degToRad(n)),void 0===r){t.subtract(e,s);var a=Math.sin(n),h=Math.cos(n),l=h*t.x-a*t.y,c=a*t.x+h*t.y;t.x=l+e,t.y=c+s}else{var u=n+Math.atan2(t.y-s,t.x-e);t.x=e+r*Math.cos(u),t.y=s+r*Math.sin(u)}return t},i.Point.centroid=function(t,e){if(void 0===e&&(e=new i.Point),"[object Array]"!==Object.prototype.toString.call(t))throw new Error("Phaser.Point. Parameter 'points' must be an array");var s=t.length;if(s<1)throw new Error("Phaser.Point. Parameter 'points' array must not be empty");if(1===s)return e.copyFrom(t[0]),e;for(var n=0;n<s;n++)i.Point.add(e,t[n],e);return e.divide(s,s),e},i.Point.parse=function(t,e,s){e=e||"x",s=s||"y";var n=new i.Point;return t[e]&&(n.x=parseInt(t[e],10)),t[s]&&(n.y=parseInt(t[s],10)),n},i.Point.isPoint=function(t){return null!=t&&"number"==typeof t.x&&"number"==typeof t.y},i.Point.set=function(t,e,i){return t.x=e||0,t.y=i||(0!==i?t.x:0),t},PIXI.Point=i.Point,i.Polygon=function(){this.area=0,this._points=[],arguments.length>0&&this.setTo.apply(this,arguments),this.closed=!0,this.flattened=!1,this.type=i.POLYGON},i.Polygon.prototype={toNumberArray:function(t){void 0===t&&(t=[]);for(var e=0;e<this._points.length;e++)"number"==typeof this._points[e]?(t.push(this._points[e]),t.push(this._points[e+1]),e++):(t.push(this._points[e].x),t.push(this._points[e].y));return t},flatten:function(){return this._points=this.toNumberArray(),this.flattened=!0,this},clone:function(t){var e=this._points.slice();return void 0===t||null===t?t=new i.Polygon(e):t.setTo(e),t},contains:function(t,e){var i=!1;if(this.flattened)for(var s=-2,n=this._points.length-2;(s+=2)<this._points.length;n=s){var o=this._points[s],r=this._points[s+1],a=this._points[n],h=this._points[n+1];(r<=e&&e<h||h<=e&&e<r)&&t<(a-o)*(e-r)/(h-r)+o&&(i=!i)}else for(var s=-1,n=this._points.length-1;++s<this._points.length;n=s){var o=this._points[s].x,r=this._points[s].y,a=this._points[n].x,h=this._points[n].y;(r<=e&&e<h||h<=e&&e<r)&&t<(a-o)*(e-r)/(h-r)+o&&(i=!i)}return i},setTo:function(t){if(this.area=0,this._points=[],arguments.length>0){Array.isArray(t)||(t=Array.prototype.slice.call(arguments));for(var e=Number.MAX_VALUE,i=0,s=t.length;i<s;i++){if("number"==typeof t[i]){n=new PIXI.Point(t[i],t[i+1]);i++}else if(Array.isArray(t[i]))n=new PIXI.Point(t[i][0],t[i][1]);else var n=new PIXI.Point(t[i].x,t[i].y);this._points.push(n),n.y<e&&(e=n.y)}this.calculateArea(e)}return this},calculateArea:function(t){for(var e,i,s,n,o=0,r=this._points.length;o<r;o++)e=this._points[o],i=o===r-1?this._points[0]:this._points[o+1],s=(e.y-t+(i.y-t))/2,n=e.x-i.x,this.area+=s*n;return this.area}},i.Polygon.prototype.constructor=i.Polygon,Object.defineProperty(i.Polygon.prototype,"points",{get:function(){return this._points},set:function(t){null!=t?this.setTo(t):this.setTo()}}),PIXI.Polygon=i.Polygon,i.Rectangle=function(t,e,s,n){t=t||0,e=e||0,s=s||0,n=n||0,this.x=t,this.y=e,this.width=s,this.height=n,this.type=i.RECTANGLE},i.Rectangle.prototype={offset:function(t,e){return this.x+=t,this.y+=e,this},offsetPoint:function(t){return this.offset(t.x,t.y)},setTo:function(t,e,i,s){return this.x=t,this.y=e,this.width=i,this.height=s,this},scale:function(t,e){return void 0===e&&(e=t),this.width*=t,this.height*=e,this},centerOn:function(t,e){return this.centerX=t,this.centerY=e,this},floor:function(){this.x=Math.floor(this.x),this.y=Math.floor(this.y)},floorAll:function(){this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.width=Math.floor(this.width),this.height=Math.floor(this.height)},ceil:function(){this.x=Math.ceil(this.x),this.y=Math.ceil(this.y)},ceilAll:function(){this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.width=Math.ceil(this.width),this.height=Math.ceil(this.height)},copyFrom:function(t){return this.setTo(t.x,t.y,t.width,t.height)},copyFromBounds:function(t){return this.setTo(t.left,t.top,t.width,t.height)},copyTo:function(t){return t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t},inflate:function(t,e){return i.Rectangle.inflate(this,t,e)},size:function(t){return i.Rectangle.size(this,t)},resize:function(t,e){return this.width=t,this.height=e,this},clone:function(t){return i.Rectangle.clone(this,t)},contains:function(t,e){return i.Rectangle.contains(this,t,e)},containsRect:function(t){return i.Rectangle.containsRect(t,this)},equals:function(t){return i.Rectangle.equals(this,t)},intersection:function(t,e){return i.Rectangle.intersection(this,t,e)},intersects:function(t){return i.Rectangle.intersects(this,t)},intersectsRaw:function(t,e,s,n,o){return i.Rectangle.intersectsRaw(this,t,e,s,n,o)},union:function(t,e){return i.Rectangle.union(this,t,e)},random:function(t){return void 0===t&&(t=new i.Point),t.x=this.randomX,t.y=this.randomY,t},getPoint:function(t,e){switch(void 0===e&&(e=new i.Point),t){default:case i.TOP_LEFT:return e.set(this.x,this.y);case i.TOP_CENTER:return e.set(this.centerX,this.y);case i.TOP_RIGHT:return e.set(this.right,this.y);case i.LEFT_CENTER:return e.set(this.x,this.centerY);case i.CENTER:return e.set(this.centerX,this.centerY);case i.RIGHT_CENTER:return e.set(this.right,this.centerY);case i.BOTTOM_LEFT:return e.set(this.x,this.bottom);case i.BOTTOM_CENTER:return e.set(this.centerX,this.bottom);case i.BOTTOM_RIGHT:return e.set(this.right,this.bottom)}},sides:function(t,e,s,n){arguments.length||(t=new i.Line,e=new i.Line,s=new i.Line,n=new i.Line);var o=this.x,r=this.y,a=this.right,h=this.bottom;return t.setTo(o,r,a,r),e.setTo(a,r,a,h),s.setTo(o,h,a,h),n.setTo(o,r,o,h),arguments.length?null:[t,e,s,n]},toString:function(){return"[{Rectangle (x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+" empty="+this.empty+")}]"}},Object.defineProperty(i.Rectangle.prototype,"halfWidth",{get:function(){return Math.round(this.width/2)}}),Object.defineProperty(i.Rectangle.prototype,"halfHeight",{get:function(){return Math.round(this.height/2)}}),Object.defineProperty(i.Rectangle.prototype,"bottom",{get:function(){return this.y+this.height},set:function(t){t<=this.y?this.height=0:this.height=t-this.y}}),Object.defineProperty(i.Rectangle.prototype,"bottomLeft",{get:function(){return new i.Point(this.x,this.bottom)},set:function(t){this.x=t.x,this.bottom=t.y}}),Object.defineProperty(i.Rectangle.prototype,"bottomRight",{get:function(){return new i.Point(this.right,this.bottom)},set:function(t){this.right=t.x,this.bottom=t.y}}),Object.defineProperty(i.Rectangle.prototype,"left",{get:function(){return this.x},set:function(t){t>=this.right?this.width=0:this.width=this.right-t,this.x=t}}),Object.defineProperty(i.Rectangle.prototype,"right",{get:function(){return this.x+this.width},set:function(t){t<=this.x?this.width=0:this.width=t-this.x}}),Object.defineProperty(i.Rectangle.prototype,"volume",{get:function(){return this.width*this.height}}),Object.defineProperty(i.Rectangle.prototype,"perimeter",{get:function(){return 2*this.width+2*this.height}}),Object.defineProperty(i.Rectangle.prototype,"centerX",{get:function(){return this.x+this.halfWidth},set:function(t){this.x=t-this.halfWidth}}),Object.defineProperty(i.Rectangle.prototype,"centerY",{get:function(){return this.y+this.halfHeight},set:function(t){this.y=t-this.halfHeight}}),Object.defineProperty(i.Rectangle.prototype,"randomX",{get:function(){return this.x+Math.random()*this.width}}),Object.defineProperty(i.Rectangle.prototype,"randomY",{get:function(){return this.y+Math.random()*this.height}}),Object.defineProperty(i.Rectangle.prototype,"top",{get:function(){return this.y},set:function(t){t>=this.bottom?(this.height=0,this.y=t):this.height=this.bottom-t}}),Object.defineProperty(i.Rectangle.prototype,"topLeft",{get:function(){return new i.Point(this.x,this.y)},set:function(t){this.x=t.x,this.y=t.y}}),Object.defineProperty(i.Rectangle.prototype,"topRight",{get:function(){return new i.Point(this.x+this.width,this.y)},set:function(t){this.right=t.x,this.y=t.y}}),Object.defineProperty(i.Rectangle.prototype,"empty",{get:function(){return!this.width||!this.height},set:function(t){!0===t&&this.setTo(0,0,0,0)}}),i.Rectangle.prototype.constructor=i.Rectangle,i.Rectangle.inflate=function(t,e,i){return t.x-=e,t.width+=2*e,t.y-=i,t.height+=2*i,t},i.Rectangle.inflatePoint=function(t,e){return i.Rectangle.inflate(t,e.x,e.y)},i.Rectangle.size=function(t,e){return void 0===e||null===e?e=new i.Point(t.width,t.height):e.setTo(t.width,t.height),e},i.Rectangle.clone=function(t,e){return void 0===e||null===e?e=new i.Rectangle(t.x,t.y,t.width,t.height):e.setTo(t.x,t.y,t.width,t.height),e},i.Rectangle.createFromBounds=function(t,e){return void 0!==e&&null!==e||(e=new i.Rectangle(t.x,t.y,t.width,t.height)),e.copyFromBounds(t)},i.Rectangle.contains=function(t,e,i){return!(t.width<=0||t.height<=0)&&(e>=t.x&&e<t.right&&i>=t.y&&i<t.bottom)},i.Rectangle.containsRaw=function(t,e,i,s,n,o){return n>=t&&n<t+i&&o>=e&&o<e+s},i.Rectangle.containsPoint=function(t,e){return i.Rectangle.contains(t,e.x,e.y)},i.Rectangle.containsRect=function(t,e){return!(t.volume>e.volume)&&(t.x>=e.x&&t.y>=e.y&&t.right<e.right&&t.bottom<e.bottom)},i.Rectangle.equals=function(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height},i.Rectangle.sameDimensions=function(t,e){return t.width===e.width&&t.height===e.height},i.Rectangle.intersection=function(t,e,s){return void 0===s&&(s=new i.Rectangle),i.Rectangle.intersects(t,e)&&(s.x=Math.max(t.x,e.x),s.y=Math.max(t.y,e.y),s.width=Math.min(t.right,e.right)-s.x,s.height=Math.min(t.bottom,e.bottom)-s.y),s},i.Rectangle.intersects=function(t,e){return!(t.width<=0||t.height<=0||e.width<=0||e.height<=0)&&!(t.right<e.x||t.bottom<e.y||t.x>e.right||t.y>e.bottom)},i.Rectangle.intersectsRaw=function(t,e,i,s,n,o){return void 0===o&&(o=0),!(e>t.right+o||i<t.left-o||s>t.bottom+o||n<t.top-o)},i.Rectangle.union=function(t,e,s){return void 0===s&&(s=new i.Rectangle),s.setTo(Math.min(t.x,e.x),Math.min(t.y,e.y),Math.max(t.right,e.right)-Math.min(t.left,e.left),Math.max(t.bottom,e.bottom)-Math.min(t.top,e.top))},i.Rectangle.aabb=function(t,e){void 0===e&&(e=new i.Rectangle);var s=Number.NEGATIVE_INFINITY,n=Number.POSITIVE_INFINITY,o=Number.NEGATIVE_INFINITY,r=Number.POSITIVE_INFINITY;return t.forEach(function(t){t.x>s&&(s=t.x),t.x<n&&(n=t.x),t.y>o&&(o=t.y),t.y<r&&(r=t.y)}),e.setTo(n,r,s-n,o-r),e},PIXI.Rectangle=i.Rectangle,PIXI.EmptyRectangle=new i.Rectangle(0,0,0,0),i.RoundedRectangle=function(t,e,s,n,o){void 0===t&&(t=0),void 0===e&&(e=0),void 0===s&&(s=0),void 0===n&&(n=0),void 0===o&&(o=20),this.x=t,this.y=e,this.width=s,this.height=n,this.radius=o||20,this.type=i.ROUNDEDRECTANGLE},i.RoundedRectangle.prototype={clone:function(){return new i.RoundedRectangle(this.x,this.y,this.width,this.height,this.radius)},contains:function(t,e){if(this.width<=0||this.height<=0)return!1;var i=this.x;if(t>=i&&t<=i+this.width){var s=this.y;if(e>=s&&e<=s+this.height)return!0}return!1}},i.RoundedRectangle.prototype.constructor=i.RoundedRectangle,PIXI.RoundedRectangle=i.RoundedRectangle,i.Camera=function(t,e,s,n,o,r){this.game=t,this.world=t.world,this.id=0,this.view=new i.Rectangle(s,n,o,r),this.bounds=new i.Rectangle(s,n,o,r),this.deadzone=null,this.visible=!0,this.roundPx=!0,this.atLimit={x:!1,y:!1},this.target=null,this.displayObject=null,this.scale=null,this.totalInView=0,this.lerp=new i.Point(1,1),this.onShakeComplete=new i.Signal,this.onFlashComplete=new i.Signal,this.onFadeComplete=new i.Signal,this.fx=null,this._targetPosition=new i.Point,this._edge=0,this._position=new i.Point,this._shake={intensity:0,duration:0,horizontal:!1,vertical:!1,shakeBounds:!0,x:0,y:0},this._fxDuration=0,this._fxType=0,this._fixedView=new i.Rectangle},i.Camera.FOLLOW_LOCKON=0,i.Camera.FOLLOW_PLATFORMER=1,i.Camera.FOLLOW_TOPDOWN=2,i.Camera.FOLLOW_TOPDOWN_TIGHT=3,i.Camera.SHAKE_BOTH=4,i.Camera.SHAKE_HORIZONTAL=5,i.Camera.SHAKE_VERTICAL=6,i.Camera.ENABLE_FX=!0,i.Camera.prototype={boot:function(){this.displayObject=this.game.world,this.scale=this.game.world.scale,this.game.camera=this,i.Graphics&&i.Camera.ENABLE_FX&&(this.fx=new i.Graphics(this.game),this.game.stage.addChild(this.fx))},preUpdate:function(){this.totalInView=0},follow:function(t,e,s,n){void 0===e&&(e=i.Camera.FOLLOW_LOCKON),void 0===s&&(s=1),void 0===n&&(n=1),this.target=t,this.lerp.set(s,n);var o;switch(e){case i.Camera.FOLLOW_PLATFORMER:var r=this.width/8,a=this.height/3;this.deadzone=new i.Rectangle((this.width-r)/2,(this.height-a)/2-.25*a,r,a);break;case i.Camera.FOLLOW_TOPDOWN:o=Math.max(this.width,this.height)/4,this.deadzone=new i.Rectangle((this.width-o)/2,(this.height-o)/2,o,o);break;case i.Camera.FOLLOW_TOPDOWN_TIGHT:o=Math.max(this.width,this.height)/8,this.deadzone=new i.Rectangle((this.width-o)/2,(this.height-o)/2,o,o);break;case i.Camera.FOLLOW_LOCKON:default:this.deadzone=null}},unfollow:function(){this.target=null},focusOn:function(t){this.setPosition(Math.round(t.x-this.view.halfWidth),Math.round(t.y-this.view.halfHeight))},focusOnXY:function(t,e){this.setPosition(Math.round(t-this.view.halfWidth),Math.round(e-this.view.halfHeight))},shake:function(t,e,s,n,o){return void 0===t&&(t=.05),void 0===e&&(e=500),void 0===s&&(s=!0),void 0===n&&(n=i.Camera.SHAKE_BOTH),void 0===o&&(o=!0),!(!s&&this._shake.duration>0)&&(this._shake.intensity=t,this._shake.duration=e,this._shake.shakeBounds=o,this._shake.x=0,this._shake.y=0,this._shake.horizontal=n===i.Camera.SHAKE_BOTH||n===i.Camera.SHAKE_HORIZONTAL,this._shake.vertical=n===i.Camera.SHAKE_BOTH||n===i.Camera.SHAKE_VERTICAL,!0)},flash:function(t,e,i,s){return void 0===t&&(t=16777215),void 0===e&&(e=500),void 0===i&&(i=!1),void 0===s&&(s=1),!(!this.fx||!i&&this._fxDuration>0)&&(this.fx.clear(),this.fx.beginFill(t,s),this.fx.drawRect(0,0,this.width,this.height),this.fx.endFill(),this.fx.alpha=1,this._fxDuration=e,this._fxType=0,!0)},fade:function(t,e,i,s){return void 0===t&&(t=0),void 0===e&&(e=500),void 0===i&&(i=!1),void 0===s&&(s=1),!(!this.fx||!i&&this._fxDuration>0)&&(this.fx.clear(),this.fx.beginFill(t,s),this.fx.drawRect(0,0,this.width,this.height),this.fx.endFill(),this.fx.alpha=0,this._fxDuration=e,this._fxType=1,!0)},update:function(){this._fxDuration>0&&this.updateFX(),this._shake.duration>0&&this.updateShake(),this.bounds&&this.checkBounds(),this.roundPx&&(this.view.floor(),this._shake.x=Math.floor(this._shake.x),this._shake.y=Math.floor(this._shake.y)),this.displayObject.position.x=-this.view.x,this.displayObject.position.y=-this.view.y},updateFX:function(){0===this._fxType?(this.fx.alpha-=this.game.time.elapsedMS/this._fxDuration,this.fx.alpha<=0&&(this._fxDuration=0,this.fx.alpha=0,this.onFlashComplete.dispatch())):(this.fx.alpha+=this.game.time.elapsedMS/this._fxDuration,this.fx.alpha>=1&&(this._fxDuration=0,this.fx.alpha=1,this.onFadeComplete.dispatch()))},updateShake:function(){this._shake.duration-=this.game.time.elapsedMS,this._shake.duration<=0?(this.onShakeComplete.dispatch(),this._shake.x=0,this._shake.y=0):(this._shake.horizontal&&(this._shake.x=this.game.rnd.frac()*this._shake.intensity*this.view.width*2-this._shake.intensity*this.view.width),this._shake.vertical&&(this._shake.y=this.game.rnd.frac()*this._shake.intensity*this.view.height*2-this._shake.intensity*this.view.height))},updateTarget:function(){this._targetPosition.x=this.view.x+this.target.worldPosition.x,this._targetPosition.y=this.view.y+this.target.worldPosition.y,this.deadzone?(this._edge=this._targetPosition.x-this.view.x,this._edge<this.deadzone.left?this.view.x=this.game.math.linear(this.view.x,this._targetPosition.x-this.deadzone.left,this.lerp.x):this._edge>this.deadzone.right&&(this.view.x=this.game.math.linear(this.view.x,this._targetPosition.x-this.deadzone.right,this.lerp.x)),this._edge=this._targetPosition.y-this.view.y,this._edge<this.deadzone.top?this.view.y=this.game.math.linear(this.view.y,this._targetPosition.y-this.deadzone.top,this.lerp.y):this._edge>this.deadzone.bottom&&(this.view.y=this.game.math.linear(this.view.y,this._targetPosition.y-this.deadzone.bottom,this.lerp.y))):(this.view.x=this.game.math.linear(this.view.x,this._targetPosition.x-this.view.halfWidth,this.lerp.x),this.view.y=this.game.math.linear(this.view.y,this._targetPosition.y-this.view.halfHeight,this.lerp.y)),this.bounds&&this.checkBounds(),this.roundPx&&this.view.floor(),this.displayObject.position.x=-this.view.x,this.displayObject.position.y=-this.view.y},setBoundsToWorld:function(){this.bounds&&this.bounds.copyFrom(this.game.world.bounds)},checkBounds:function(){this.atLimit.x=!1,this.atLimit.y=!1;var t=this.view.x+this._shake.x,e=this.view.right+this._shake.x,i=this.view.y+this._shake.y,s=this.view.bottom+this._shake.y;t<=this.bounds.x*this.scale.x?(this.atLimit.x=!0,this.view.x=this.bounds.x*this.scale.x,this._shake.shakeBounds||(this._shake.x=0)):e>=this.bounds.right*this.scale.x&&(this.atLimit.x=!0,this.view.x=this.bounds.right*this.scale.x-this.width,this._shake.shakeBounds||(this._shake.x=0)),i<=this.bounds.top*this.scale.y?(this.atLimit.y=!0,this.view.y=this.bounds.top*this.scale.y,this._shake.shakeBounds||(this._shake.y=0)):s>=this.bounds.bottom*this.scale.y&&(this.atLimit.y=!0,this.view.y=this.bounds.bottom*this.scale.y-this.height,this._shake.shakeBounds||(this._shake.y=0))},setPosition:function(t,e){this.view.x=t,this.view.y=e,this.bounds&&this.checkBounds()},setSize:function(t,e){this.view.width=t,this.view.height=e},reset:function(){this.target=null,this.view.x=0,this.view.y=0,this._shake.duration=0,this._shake.x=0,this._shake.y=0,this.resetFX()},resetFX:function(){this.fx&&(this.fx.clear(),this.fx.alpha=0),this._fxDuration=0}},i.Camera.prototype.constructor=i.Camera,Object.defineProperty(i.Camera.prototype,"x",{get:function(){return this.view.x},set:function(t){this.view.x=t,this.bounds&&this.checkBounds()}}),Object.defineProperty(i.Camera.prototype,"y",{get:function(){return this.view.y},set:function(t){this.view.y=t,this.bounds&&this.checkBounds()}}),Object.defineProperty(i.Camera.prototype,"position",{get:function(){return this._position.set(this.view.x,this.view.y),this._position},set:function(t){void 0!==t.x&&(this.view.x=t.x),void 0!==t.y&&(this.view.y=t.y),this.bounds&&this.checkBounds()}}),Object.defineProperty(i.Camera.prototype,"width",{get:function(){return this.view.width},set:function(t){this.view.width=t}}),Object.defineProperty(i.Camera.prototype,"height",{get:function(){return this.view.height},set:function(t){this.view.height=t}}),Object.defineProperty(i.Camera.prototype,"shakeIntensity",{get:function(){return this._shake.intensity},set:function(t){this._shake.intensity=t}}),Object.defineProperty(i.Camera.prototype,"fixedView",{get:function(){return this._fixedView.setTo(0,0,this.view.width,this.view.height),this._fixedView}}),i.State=function(){this.game=null,this.key="",this.add=null,this.make=null,this.camera=null,this.cache=null,this.input=null,this.load=null,this.math=null,this.sound=null,this.scale=null,this.stage=null,this.state=null,this.time=null,this.tweens=null,this.world=null,this.particles=null,this.physics=null,this.rnd=null},i.State.prototype={init:function(){},preload:function(){},loadUpdate:function(){},loadRender:function(){},create:function(){},update:function(){},preRender:function(){},render:function(){},resize:function(){},paused:function(){},resumed:function(){},pauseUpdate:function(){},shutdown:function(){}},i.State.prototype.constructor=i.State,i.StateManager=function(t,e){this.game=t,this.states={},this._pendingState=null,void 0!==e&&null!==e&&(this._pendingState=e),this._clearWorld=!1,this._clearCache=!1,this._created=!1,this._args=[],this.current="",this.onStateChange=new i.Signal,this.onInitCallback=null,this.onPreloadCallback=null,this.onCreateCallback=null,this.onUpdateCallback=null,this.onRenderCallback=null,this.onResizeCallback=null,this.onPreRenderCallback=null,this.onLoadUpdateCallback=null,this.onLoadRenderCallback=null,this.onPausedCallback=null,this.onResumedCallback=null,this.onPauseUpdateCallback=null,this.onShutDownCallback=null},i.StateManager.prototype={boot:function(){this.game.onPause.add(this.pause,this),this.game.onResume.add(this.resume,this),null!==this._pendingState&&"string"!=typeof this._pendingState&&this.add("default",this._pendingState,!0)},add:function(t,e,s){void 0===s&&(s=!1);var n;return e instanceof i.State?n=e:"object"==typeof e?(n=e).game=this.game:"function"==typeof e&&(n=new e(this.game)),this.states[t]=n,s&&(this.game.isBooted?this.start(t):this._pendingState=t),n},remove:function(t){this.current===t&&(this.callbackContext=null,this.onInitCallback=null,this.onShutDownCallback=null,this.onPreloadCallback=null,this.onLoadRenderCallback=null,this.onLoadUpdateCallback=null,this.onCreateCallback=null,this.onUpdateCallback=null,this.onPreRenderCallback=null,this.onRenderCallback=null,this.onResizeCallback=null,this.onPausedCallback=null,this.onResumedCallback=null,this.onPauseUpdateCallback=null),delete this.states[t]},start:function(t,e,i){void 0===e&&(e=!0),void 0===i&&(i=!1),this.checkState(t)&&(this._pendingState=t,this._clearWorld=e,this._clearCache=i,arguments.length>3&&(this._args=Array.prototype.splice.call(arguments,3)))},restart:function(t,e){void 0===t&&(t=!0),void 0===e&&(e=!1),this._pendingState=this.current,this._clearWorld=t,this._clearCache=e,arguments.length>2&&(this._args=Array.prototype.slice.call(arguments,2))},dummy:function(){},preUpdate:function(){if(this._pendingState&&this.game.isBooted){var t=this.current;if(this.clearCurrentState(),this.setCurrentState(this._pendingState),this.onStateChange.dispatch(this.current,t),this.current!==this._pendingState)return;this._pendingState=null,this.onPreloadCallback?(this.game.load.reset(!0),this.onPreloadCallback.call(this.callbackContext,this.game),0===this.game.load.totalQueuedFiles()&&0===this.game.load.totalQueuedPacks()?this.loadComplete():this.game.load.start()):this.loadComplete()}},clearCurrentState:function(){this.current&&(this.onShutDownCallback&&this.onShutDownCallback.call(this.callbackContext,this.game),this.game.tweens.removeAll(),this.game.camera.reset(),this.game.input.reset(!0),this.game.physics.clear(),this.game.time.removeAll(),this.game.scale.reset(this._clearWorld),this.game.debug&&this.game.debug.reset(),this._clearWorld&&(this.game.world.shutdown(),this._clearCache&&this.game.cache.destroy()))},checkState:function(t){var e=this.states[t];return e?!!(e.preload||e.create||e.update||e.render)||(console.warn("Invalid Phaser State object given. Must contain at least one of the required functions: preload, create, update or render"),!1):(console.warn("Phaser.StateManager - No state found with the key: "+t),!1)},link:function(t){this.states[t].game=this.game,this.states[t].add=this.game.add,this.states[t].make=this.game.make,this.states[t].camera=this.game.camera,this.states[t].cache=this.game.cache,this.states[t].input=this.game.input,this.states[t].load=this.game.load,this.states[t].math=this.game.math,this.states[t].sound=this.game.sound,this.states[t].scale=this.game.scale,this.states[t].state=this,this.states[t].stage=this.game.stage,this.states[t].time=this.game.time,this.states[t].tweens=this.game.tweens,this.states[t].world=this.game.world,this.states[t].particles=this.game.particles,this.states[t].rnd=this.game.rnd,this.states[t].physics=this.game.physics,this.states[t].key=t},unlink:function(t){this.states[t]&&(this.states[t].game=null,this.states[t].add=null,this.states[t].make=null,this.states[t].camera=null,this.states[t].cache=null,this.states[t].input=null,this.states[t].load=null,this.states[t].math=null,this.states[t].sound=null,this.states[t].scale=null,this.states[t].state=null,this.states[t].stage=null,this.states[t].time=null,this.states[t].tweens=null,this.states[t].world=null,this.states[t].particles=null,this.states[t].rnd=null,this.states[t].physics=null)},setCurrentState:function(t){this.callbackContext=this.states[t],this.link(t),this.onInitCallback=this.states[t].init||this.dummy,this.onPreloadCallback=this.states[t].preload||null,this.onLoadRenderCallback=this.states[t].loadRender||null,this.onLoadUpdateCallback=this.states[t].loadUpdate||null,this.onCreateCallback=this.states[t].create||null,this.onUpdateCallback=this.states[t].update||null,this.onPreRenderCallback=this.states[t].preRender||null,this.onRenderCallback=this.states[t].render||null,this.onResizeCallback=this.states[t].resize||null,this.onPausedCallback=this.states[t].paused||null,this.onResumedCallback=this.states[t].resumed||null,this.onPauseUpdateCallback=this.states[t].pauseUpdate||null,this.onShutDownCallback=this.states[t].shutdown||this.dummy,""!==this.current&&this.game.physics.reset(),this.current=t,this._created=!1,this.onInitCallback.apply(this.callbackContext,this._args),t===this._pendingState&&(this._args=[]),this.game._kickstart=!0},getCurrentState:function(){return this.states[this.current]},loadComplete:function(){!1===this._created&&this.onLoadUpdateCallback&&this.onLoadUpdateCallback.call(this.callbackContext,this.game),!1===this._created&&this.onCreateCallback?(this._created=!0,this.onCreateCallback.call(this.callbackContext,this.game)):this._created=!0},pause:function(){this._created&&this.onPausedCallback&&this.onPausedCallback.call(this.callbackContext,this.game)},resume:function(){this._created&&this.onResumedCallback&&this.onResumedCallback.call(this.callbackContext,this.game)},update:function(){this._created?this.onUpdateCallback&&this.onUpdateCallback.call(this.callbackContext,this.game):this.onLoadUpdateCallback&&this.onLoadUpdateCallback.call(this.callbackContext,this.game)},pauseUpdate:function(){this._created?this.onPauseUpdateCallback&&this.onPauseUpdateCallback.call(this.callbackContext,this.game):this.onLoadUpdateCallback&&this.onLoadUpdateCallback.call(this.callbackContext,this.game)},preRender:function(t){this._created&&this.onPreRenderCallback&&this.onPreRenderCallback.call(this.callbackContext,this.game,t)},resize:function(t,e){this.onResizeCallback&&this.onResizeCallback.call(this.callbackContext,t,e)},render:function(){this._created?this.onRenderCallback&&(this.game.renderType===i.CANVAS?(this.game.context.save(),this.game.context.setTransform(1,0,0,1,0,0),this.onRenderCallback.call(this.callbackContext,this.game),this.game.context.restore()):this.onRenderCallback.call(this.callbackContext,this.game)):this.onLoadRenderCallback&&this.onLoadRenderCallback.call(this.callbackContext,this.game)},destroy:function(){this._clearWorld=!0,this._clearCache=!0,this.clearCurrentState(),this.callbackContext=null,this.onInitCallback=null,this.onShutDownCallback=null,this.onPreloadCallback=null,this.onLoadRenderCallback=null,this.onLoadUpdateCallback=null,this.onCreateCallback=null,this.onUpdateCallback=null,this.onRenderCallback=null,this.onPausedCallback=null,this.onResumedCallback=null,this.onPauseUpdateCallback=null,this.game=null,this.states={},this._pendingState=null,this.current=""}},i.StateManager.prototype.constructor=i.StateManager,Object.defineProperty(i.StateManager.prototype,"created",{get:function(){return this._created}}),i.Signal=function(){},i.Signal.prototype={_bindings:null,_prevParams:null,memorize:!1,_shouldPropagate:!0,active:!0,_boundDispatch:!1,validateListener:function(t,e){if("function"!=typeof t)throw new Error("Phaser.Signal: listener is a required param of {fn}() and should be a Function.".replace("{fn}",e))},_registerListener:function(t,e,s,n,o){var r,a=this._indexOfListener(t,s);if(-1!==a){if((r=this._bindings[a]).isOnce()!==e)throw new Error("You cannot add"+(e?"":"Once")+"() then add"+(e?"Once":"")+"() the same listener without removing the relationship first.")}else r=new i.SignalBinding(this,t,e,s,n,o),this._addBinding(r);return this.memorize&&this._prevParams&&r.execute(this._prevParams),r},_addBinding:function(t){this._bindings||(this._bindings=[]);var e=this._bindings.length;do{e--}while(this._bindings[e]&&t._priority<=this._bindings[e]._priority);this._bindings.splice(e+1,0,t)},_indexOfListener:function(t,e){if(!this._bindings)return-1;void 0===e&&(e=null);for(var i,s=this._bindings.length;s--;)if((i=this._bindings[s])._listener===t&&i.context===e)return s;return-1},has:function(t,e){return-1!==this._indexOfListener(t,e)},add:function(t,e,i){this.validateListener(t,"add");var s=[];if(arguments.length>3)for(var n=3;n<arguments.length;n++)s.push(arguments[n]);return this._registerListener(t,!1,e,i,s)},addOnce:function(t,e,i){this.validateListener(t,"addOnce");var s=[];if(arguments.length>3)for(var n=3;n<arguments.length;n++)s.push(arguments[n]);return this._registerListener(t,!0,e,i,s)},remove:function(t,e){this.validateListener(t,"remove");var i=this._indexOfListener(t,e);return-1!==i&&(this._bindings[i]._destroy(),this._bindings.splice(i,1)),t},removeAll:function(t){if(void 0===t&&(t=null),this._bindings){for(var e=this._bindings.length;e--;)t?this._bindings[e].context===t&&(this._bindings[e]._destroy(),this._bindings.splice(e,1)):this._bindings[e]._destroy();t||(this._bindings.length=0)}},getNumListeners:function(){return this._bindings?this._bindings.length:0},halt:function(){this._shouldPropagate=!1},dispatch:function(){if(this.active&&this._bindings){var t,e=Array.prototype.slice.call(arguments),i=this._bindings.length;if(this.memorize&&(this._prevParams=e),i){t=this._bindings.slice(),this._shouldPropagate=!0;do{i--}while(t[i]&&this._shouldPropagate&&!1!==t[i].execute(e))}}},forget:function(){this._prevParams&&(this._prevParams=null)},dispose:function(){this.removeAll(),this._bindings=null,this._prevParams&&(this._prevParams=null)},toString:function(){return"[Phaser.Signal active:"+this.active+" numListeners:"+this.getNumListeners()+"]"}},Object.defineProperty(i.Signal.prototype,"boundDispatch",{get:function(){var t=this;return this._boundDispatch||(this._boundDispatch=function(){return t.dispatch.apply(t,arguments)})}}),i.Signal.prototype.constructor=i.Signal,i.SignalBinding=function(t,e,i,s,n,o){this._listener=e,i&&(this._isOnce=!0),null!=s&&(this.context=s),this._signal=t,n&&(this._priority=n),o&&o.length&&(this._args=o)},i.SignalBinding.prototype={context:null,_isOnce:!1,_priority:0,_args:null,callCount:0,active:!0,params:null,execute:function(t){var e,i;return this.active&&this._listener&&(i=this.params?this.params.concat(t):t,this._args&&(i=i.concat(this._args)),e=this._listener.apply(this.context,i),this.callCount++,this._isOnce&&this.detach()),e},detach:function(){return this.isBound()?this._signal.remove(this._listener,this.context):null},isBound:function(){return!!this._signal&&!!this._listener},isOnce:function(){return this._isOnce},getListener:function(){return this._listener},getSignal:function(){return this._signal},_destroy:function(){delete this._signal,delete this._listener,delete this.context},toString:function(){return"[Phaser.SignalBinding isOnce:"+this._isOnce+", isBound:"+this.isBound()+", active:"+this.active+"]"}},i.SignalBinding.prototype.constructor=i.SignalBinding,i.Filter=function(t,e,s){this.game=t,this.type=i.WEBGL_FILTER,this.passes=[this],this.shaders=[],this.dirty=!0,this.padding=0,this.prevPoint=new i.Point;var n=new Date;if(this.uniforms={resolution:{type:"2f",value:{x:256,y:256}},time:{type:"1f",value:0},mouse:{type:"2f",value:{x:0,y:0}},date:{type:"4fv",value:[n.getFullYear(),n.getMonth(),n.getDate(),60*n.getHours()*60+60*n.getMinutes()+n.getSeconds()]},sampleRate:{type:"1f",value:44100},iChannel0:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel1:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel2:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel3:{type:"sampler2D",value:null,textureData:{repeat:!0}}},e)for(var o in e)this.uniforms[o]=e[o];"string"==typeof s&&(s=s.split("\n")),this.fragmentSrc=s||[]},i.Filter.prototype={init:function(){},setResolution:function(t,e){this.uniforms.resolution.value.x=t,this.uniforms.resolution.value.y=e},update:function(t){if(t){var e=t.x/this.game.width,i=1-t.y/this.game.height;e===this.prevPoint.x&&i===this.prevPoint.y||(this.uniforms.mouse.value.x=e.toFixed(2),this.uniforms.mouse.value.y=i.toFixed(2),this.prevPoint.set(e,i))}this.uniforms.time.value=this.game.time.totalElapsedSeconds()},addToWorld:function(t,e,s,n,o,r){void 0===o&&(o=0),void 0===r&&(r=0),void 0!==s&&null!==s?this.width=s:s=this.width,void 0!==n&&null!==n?this.height=n:n=this.height;var a=this.game.add.image(t,e,i.Cache.DEFAULT);return a.width=s,a.height=n,a.anchor.set(o,r),a.filters=[this],a},syncUniforms:function(){for(var t=0;t<this.shaders.length;t++)this.shaders[t].dirty=!0},destroy:function(){this.passes.length=0,this.shaders.length=0,this.fragmentSrc.length=0,this.game=null,this.uniforms=null,this.prevPoint=null}},i.Filter.prototype.constructor=i.Filter,Object.defineProperty(i.Filter.prototype,"width",{get:function(){return this.uniforms.resolution.value.x},set:function(t){this.uniforms.resolution.value.x=t}}),Object.defineProperty(i.Filter.prototype,"height",{get:function(){return this.uniforms.resolution.value.y},set:function(t){this.uniforms.resolution.value.y=t}}),i.Plugin=function(t,e){void 0===e&&(e=null),this.game=t,this.parent=e,this.active=!1,this.visible=!1,this.hasPreUpdate=!1,this.hasUpdate=!1,this.hasPostUpdate=!1,this.hasRender=!1,this.hasPostRender=!1},i.Plugin.prototype={preUpdate:function(){},update:function(){},render:function(){},postRender:function(){},destroy:function(){this.game=null,this.parent=null,this.active=!1,this.visible=!1}},i.Plugin.prototype.constructor=i.Plugin,i.PluginManager=function(t){this.game=t,this.plugins=[],this._len=0,this._i=0},i.PluginManager.prototype={add:function(t){var e=Array.prototype.slice.call(arguments,1),i=!1;return"function"==typeof t?t=new t(this.game,this):(t.game=this.game,t.parent=this),"function"==typeof t.preUpdate&&(t.hasPreUpdate=!0,i=!0),"function"==typeof t.update&&(t.hasUpdate=!0,i=!0),"function"==typeof t.postUpdate&&(t.hasPostUpdate=!0,i=!0),"function"==typeof t.render&&(t.hasRender=!0,i=!0),"function"==typeof t.postRender&&(t.hasPostRender=!0,i=!0),i?((t.hasPreUpdate||t.hasUpdate||t.hasPostUpdate)&&(t.active=!0),(t.hasRender||t.hasPostRender)&&(t.visible=!0),this._len=this.plugins.push(t),"function"==typeof t.init&&t.init.apply(t,e),t):null},remove:function(t,e){for(void 0===e&&(e=!0),this._i=this._len;this._i--;)if(this.plugins[this._i]===t)return e&&t.destroy(),this.plugins.splice(this._i,1),void this._len--},removeAll:function(){for(this._i=this._len;this._i--;)this.plugins[this._i].destroy();this.plugins.length=0,this._len=0},preUpdate:function(){for(this._i=this._len;this._i--;)this.plugins[this._i].active&&this.plugins[this._i].hasPreUpdate&&this.plugins[this._i].preUpdate()},update:function(){for(this._i=this._len;this._i--;)this.plugins[this._i].active&&this.plugins[this._i].hasUpdate&&this.plugins[this._i].update()},postUpdate:function(){for(this._i=this._len;this._i--;)this.plugins[this._i].active&&this.plugins[this._i].hasPostUpdate&&this.plugins[this._i].postUpdate()},render:function(){for(this._i=this._len;this._i--;)this.plugins[this._i].visible&&this.plugins[this._i].hasRender&&this.plugins[this._i].render()},postRender:function(){for(this._i=this._len;this._i--;)this.plugins[this._i].visible&&this.plugins[this._i].hasPostRender&&this.plugins[this._i].postRender()},destroy:function(){this.removeAll(),this.game=null}},i.PluginManager.prototype.constructor=i.PluginManager,i.Stage=function(t){this.game=t,PIXI.DisplayObjectContainer.call(this),this.name="_stage_root",this.disableVisibilityChange=!1,this.exists=!0,this.worldTransform=new i.Matrix,this.stage=this,this.currentRenderOrderID=0,this._hiddenVar="hidden",this._onChange=null,this._bgColor={r:0,g:0,b:0,a:0,color:0,rgba:"#000000"},this.game.transparent||(this._bgColor.a=1),t.config&&this.parseConfig(t.config)},i.Stage.prototype=Object.create(PIXI.DisplayObjectContainer.prototype),i.Stage.prototype.constructor=i.Stage,i.Stage.prototype.parseConfig=function(t){t.disableVisibilityChange&&(this.disableVisibilityChange=t.disableVisibilityChange),t.backgroundColor&&this.setBackgroundColor(t.backgroundColor)},i.Stage.prototype.boot=function(){i.DOM.getOffset(this.game.canvas,this.offset),i.Canvas.setUserSelect(this.game.canvas,"none"),i.Canvas.setTouchAction(this.game.canvas,"none"),this.checkVisibility()},i.Stage.prototype.preUpdate=function(){this.currentRenderOrderID=0;for(var t=0;t<this.children.length;){var e=this.children[t];e.preUpdate(),this===e.parent&&t++}},i.Stage.prototype.update=function(){for(var t=this.children.length;t--;)this.children[t].update()},i.Stage.prototype.postUpdate=function(){this.game.camera.update(),this.game.camera.target&&(this.game.camera.target.postUpdate(),this.updateTransform(),this.game.camera.updateTarget());for(var t=0;t<this.children.length;t++)this.children[t].postUpdate();this.updateTransform()},i.Stage.prototype.updateTransform=function(){this.worldAlpha=1;for(var t=0;t<this.children.length;t++)this.children[t].updateTransform()},i.Stage.prototype.checkVisibility=function(){void 0!==document.hidden?this._hiddenVar="visibilitychange":void 0!==document.webkitHidden?this._hiddenVar="webkitvisibilitychange":void 0!==document.mozHidden?this._hiddenVar="mozvisibilitychange":void 0!==document.msHidden?this._hiddenVar="msvisibilitychange":this._hiddenVar=null;var t=this;this._onChange=function(e){return t.visibilityChange(e)},this._onClick=function(e){void 0===document.hasFocus||document.hasFocus()||t.visibilityChange(e)},this._hiddenVar&&document.addEventListener(this._hiddenVar,this._onChange,!1),window.onblur=this._onChange,window.onfocus=this._onChange,window.onpagehide=this._onChange,window.onpageshow=this._onChange,window.addEventListener("click",this._onClick),this.game.device.cocoonJSApp&&(CocoonJS.App.onSuspended.addEventListener(function(){i.Stage.prototype.visibilityChange.call(t,{type:"pause"})}),CocoonJS.App.onActivated.addEventListener(function(){i.Stage.prototype.visibilityChange.call(t,{type:"resume"})}))},i.Stage.prototype.visibilityChange=function(t){switch(t.type){case"blur":case"pagehide":return void this.game.focusLoss(t);case"click":case"focus":case"pageshow":return void this.game.focusGain(t)}this.disableVisibilityChange||(document.hidden||document.mozHidden||document.msHidden||document.webkitHidden||"pause"===t.type?this.game.gamePaused(t):this.game.gameResumed(t))},i.Stage.prototype.setBackgroundColor=function(t){this.game.transparent||(i.Color.valueToColor(t,this._bgColor),i.Color.updateColor(this._bgColor),this._bgColor.r/=255,this._bgColor.g/=255,this._bgColor.b/=255,this._bgColor.a=1)},i.Stage.prototype.destroy=function(){this._hiddenVar&&document.removeEventListener(this._hiddenVar,this._onChange,!1),window.onpagehide=null,window.onpageshow=null,window.onblur=null,window.onfocus=null,window.removeEventListener("click",this._onClick)},Object.defineProperty(i.Stage.prototype,"backgroundColor",{get:function(){return this._bgColor.color},set:function(t){this.setBackgroundColor(t)}}),Object.defineProperty(i.Stage.prototype,"smoothed",{get:function(){return PIXI.scaleModes.DEFAULT===PIXI.scaleModes.LINEAR},set:function(t){PIXI.scaleModes.DEFAULT=t?PIXI.scaleModes.LINEAR:PIXI.scaleModes.NEAREST}}),i.Group=function(t,e,s,n,o,r){void 0===n&&(n=!1),void 0===o&&(o=!1),void 0===r&&(r=i.Physics.ARCADE),this.game=t,void 0===e&&(e=t.world),this.name=s||"group",this.z=0,PIXI.DisplayObjectContainer.call(this),n?(this.game.stage.addChild(this),this.z=this.game.stage.children.length):e&&(e.addChild(this),this.z=e.children.length),this.type=i.GROUP,this.physicsType=i.GROUP,this.alive=!0,this.exists=!0,this.ignoreDestroy=!1,this.pendingDestroy=!1,this.classType=i.Sprite,this.cursor=null,this.inputEnableChildren=!1,this.updateOnlyExistingChildren=!1,this.onChildInputDown=new i.Signal,this.onChildInputUp=new i.Signal,this.onChildInputOver=new i.Signal,this.onChildInputOut=new i.Signal,this.enableBody=o,this.enableBodyDebug=!1,this.physicsBodyType=r,this.physicsSortDirection=null,this.onDestroy=new i.Signal,this.cursorIndex=0,this.fixedToCamera=!1,this.cameraOffset=new i.Point,this.hash=[],this._sortProperty="z"},i.Group.prototype=Object.create(PIXI.DisplayObjectContainer.prototype),i.Group.prototype.constructor=i.Group,i.Group.RETURN_NONE=0,i.Group.RETURN_TOTAL=1,i.Group.RETURN_CHILD=2,i.Group.RETURN_ALL=3,i.Group.SORT_ASCENDING=-1,i.Group.SORT_DESCENDING=1,i.Group.prototype.add=function(t,e,i){return void 0===e&&(e=!1),t.parent===this?t:(t.body&&t.parent&&t.parent.hash&&t.parent.removeFromHash(t),void 0===i?(t.z=this.children.length,this.addChild(t)):(this.addChildAt(t,i),this.updateZ()),this.enableBody&&t.hasOwnProperty("body")&&null===t.body?this.game.physics.enable(t,this.physicsBodyType):t.body&&this.addToHash(t),!this.inputEnableChildren||t.input&&!t.inputEnabled||(t.inputEnabled=!0),!e&&t.events&&t.events.onAddedToGroup$dispatch(t,this),null===this.cursor&&(this.cursor=t),t)},i.Group.prototype.addAt=function(t,e,i){return this.add(t,i,e)},i.Group.prototype.addToHash=function(t){return t.parent===this&&-1===this.hash.indexOf(t)&&(this.hash.push(t),!0)},i.Group.prototype.removeFromHash=function(t){if(t){var e=this.hash.indexOf(t);if(-1!==e)return this.hash.splice(e,1),!0}return!1},i.Group.prototype.addMultiple=function(t,e){if(t instanceof i.Group)t.moveAll(this,e);else if(Array.isArray(t))for(var s=0;s<t.length;s++)this.add(t[s],e);return t},i.Group.prototype.getAt=function(t){return t<0||t>=this.children.length?-1:this.getChildAt(t)},i.Group.prototype.create=function(t,e,i,s,n,o){void 0===n&&(n=!0);var r=new this.classType(this.game,t,e,i,s);return r.exists=n,r.visible=n,r.alive=n,this.add(r,!1,o)},i.Group.prototype.createMultiple=function(t,e,i,s,n,o){void 0===i&&(i=0),void 0===s&&(s=!1),Array.isArray(e)||(e=[e]),Array.isArray(i)||(i=[i]);var r=this,a=[];return e.forEach(function(e){i.forEach(function(i){for(var h=0;h<t;h++){var l=r.create(0,0,e,i,s);n&&n.call(o||l,l,h),a.push(l)}})}),a},i.Group.prototype.updateZ=function(){for(var t=this.children.length;t--;)this.children[t].z=t},i.Group.prototype.align=function(t,e,s,n,o,r){if(void 0===o&&(o=i.TOP_LEFT),void 0===r&&(r=0),0===this.children.length||r>this.children.length||-1===t&&-1===e)return!1;for(var a=new i.Rectangle(0,0,s,n),h=t*s,l=e*n,c=r;c<this.children.length;c++){var u=this.children[c];if(u.alignIn)if(u.alignIn(a,o),-1===t)a.y+=n,a.y===l&&(a.x+=s,a.y=0);else if(-1===e)a.x+=s,a.x===h&&(a.x=0,a.y+=n);else if(a.x+=s,a.x===h&&(a.x=0,a.y+=n,a.y===l))return!0}return!0},i.Group.prototype.resetCursor=function(t){if(void 0===t&&(t=0),t>this.children.length-1&&(t=0),this.cursor)return this.cursorIndex=t,this.cursor=this.children[this.cursorIndex],this.cursor},i.Group.prototype.next=function(){if(this.cursor)return this.cursorIndex>=this.children.length-1?this.cursorIndex=0:this.cursorIndex++,this.cursor=this.children[this.cursorIndex],this.cursor},i.Group.prototype.previous=function(){if(this.cursor)return 0===this.cursorIndex?this.cursorIndex=this.children.length-1:this.cursorIndex--,this.cursor=this.children[this.cursorIndex],this.cursor},i.Group.prototype.swap=function(t,e){this.swapChildren(t,e),this.updateZ()},i.Group.prototype.bringToTop=function(t){return t.parent===this&&this.getIndex(t)<this.children.length&&(this.remove(t,!1,!0),this.add(t,!0)),t},i.Group.prototype.sendToBack=function(t){return t.parent===this&&this.getIndex(t)>0&&(this.remove(t,!1,!0),this.addAt(t,0,!0)),t},i.Group.prototype.moveUp=function(t){if(t.parent===this&&this.getIndex(t)<this.children.length-1){var e=this.getIndex(t),i=this.getAt(e+1);i&&this.swap(t,i)}return t},i.Group.prototype.moveDown=function(t){if(t.parent===this&&this.getIndex(t)>0){var e=this.getIndex(t),i=this.getAt(e-1);i&&this.swap(t,i)}return t},i.Group.prototype.xy=function(t,e,i){if(t<0||t>this.children.length)return-1;this.getChildAt(t).x=e,this.getChildAt(t).y=i},i.Group.prototype.reverse=function(){this.children.reverse(),this.updateZ()},i.Group.prototype.getIndex=function(t){return this.children.indexOf(t)},i.Group.prototype.getByName=function(t){for(var e=0;e<this.children.length;e++)if(this.children[e].name===t)return this.children[e];return null},i.Group.prototype.replace=function(t,e){var s=this.getIndex(t);if(-1!==s)return e.parent&&(e.parent instanceof i.Group?e.parent.remove(e):e.parent.removeChild(e)),this.remove(t),this.addAt(e,s),t},i.Group.prototype.hasProperty=function(t,e){var i=e.length;return 1===i&&e[0]in t||(2===i&&e[0]in t&&e[1]in t[e[0]]||(3===i&&e[0]in t&&e[1]in t[e[0]]&&e[2]in t[e[0]][e[1]]||4===i&&e[0]in t&&e[1]in t[e[0]]&&e[2]in t[e[0]][e[1]]&&e[3]in t[e[0]][e[1]][e[2]]))},i.Group.prototype.setProperty=function(t,e,i,s,n){if(void 0===n&&(n=!1),s=s||0,!this.hasProperty(t,e)&&(!n||s>0))return!1;var o=e.length;return 1===o?0===s?t[e[0]]=i:1===s?t[e[0]]+=i:2===s?t[e[0]]-=i:3===s?t[e[0]]*=i:4===s&&(t[e[0]]/=i):2===o?0===s?t[e[0]][e[1]]=i:1===s?t[e[0]][e[1]]+=i:2===s?t[e[0]][e[1]]-=i:3===s?t[e[0]][e[1]]*=i:4===s&&(t[e[0]][e[1]]/=i):3===o?0===s?t[e[0]][e[1]][e[2]]=i:1===s?t[e[0]][e[1]][e[2]]+=i:2===s?t[e[0]][e[1]][e[2]]-=i:3===s?t[e[0]][e[1]][e[2]]*=i:4===s&&(t[e[0]][e[1]][e[2]]/=i):4===o&&(0===s?t[e[0]][e[1]][e[2]][e[3]]=i:1===s?t[e[0]][e[1]][e[2]][e[3]]+=i:2===s?t[e[0]][e[1]][e[2]][e[3]]-=i:3===s?t[e[0]][e[1]][e[2]][e[3]]*=i:4===s&&(t[e[0]][e[1]][e[2]][e[3]]/=i)),!0},i.Group.prototype.checkProperty=function(t,e,s,n){if(void 0===n&&(n=!1),this!==t.parent)return!1;var o=i.Utils.getProperty(t,e);return!(void 0===o&&n||o!==s)},i.Group.prototype.set=function(t,e,i,s,n,o,r){if(void 0===r&&(r=!1),e=e.split("."),void 0===s&&(s=!1),void 0===n&&(n=!1),(!1===s||s&&t.alive)&&(!1===n||n&&t.visible))return this.setProperty(t,e,i,o,r)},i.Group.prototype.setAll=function(t,e,i,s,n,o){void 0===i&&(i=!1),void 0===s&&(s=!1),void 0===o&&(o=!1),t=t.split("."),n=n||0;for(var r=0;r<this.children.length;r++)(!i||i&&this.children[r].alive)&&(!s||s&&this.children[r].visible)&&this.setProperty(this.children[r],t,e,n,o)},i.Group.prototype.setAllChildren=function(t,e,s,n,o,r){void 0===s&&(s=!1),void 0===n&&(n=!1),void 0===r&&(r=!1),o=o||0;for(var a=0;a<this.children.length;a++)(!s||s&&this.children[a].alive)&&(!n||n&&this.children[a].visible)&&(this.children[a]instanceof i.Group?this.children[a].setAllChildren(t,e,s,n,o,r):this.setProperty(this.children[a],t.split("."),e,o,r))},i.Group.prototype.checkAll=function(t,e,i,s,n){void 0===i&&(i=!1),void 0===s&&(s=!1),void 0===n&&(n=!1);for(var o=0;o<this.children.length;o++){var r=this.children[o];if((!i||i&&r.alive)&&(!s||s&&r.visible)&&!this.checkProperty(r,t,e,n))return!1}return!0},i.Group.prototype.checkAny=function(t,e,i,s){void 0===i&&(i=!1),void 0===s&&(s=!1);for(var n=0;n<this.children.length;n++){var o=this.children[n];if((!i||i&&o.alive)&&(!s||s&&o.visible)&&this.checkProperty(o,t,e))return!0}return!1},i.Group.prototype.addAll=function(t,e,i,s){this.setAll(t,e,i,s,1)},i.Group.prototype.subAll=function(t,e,i,s){this.setAll(t,e,i,s,2)},i.Group.prototype.multiplyAll=function(t,e,i,s){this.setAll(t,e,i,s,3)},i.Group.prototype.divideAll=function(t,e,i,s){this.setAll(t,e,i,s,4)},i.Group.prototype.kill=function(){this.alive=!1,this.exists=!1,this.visible=!1},i.Group.prototype.killAll=function(){this.callAllExists("kill",!0)},i.Group.prototype.revive=function(){this.alive=!0,this.exists=!0,this.visible=!0},i.Group.prototype.reviveAll=function(){this.callAllExists("revive",!1)},i.Group.prototype.resetAll=function(t,e,i,s,n){this.forEach(this.resetChild,this,n,t,e,i,s)},i.Group.prototype.callAllExists=function(t,e){var i;if(arguments.length>2){i=[];for(s=2;s<arguments.length;s++)i.push(arguments[s])}for(var s=0;s<this.children.length;s++)this.children[s].exists===e&&this.children[s][t]&&this.children[s][t].apply(this.children[s],i)},i.Group.prototype.callbackFromArray=function(t,e,i){if(1===i){if(t[e[0]])return t[e[0]]}else if(2===i){if(t[e[0]][e[1]])return t[e[0]][e[1]]}else if(3===i){if(t[e[0]][e[1]][e[2]])return t[e[0]][e[1]][e[2]]}else if(4===i){if(t[e[0]][e[1]][e[2]][e[3]])return t[e[0]][e[1]][e[2]][e[3]]}else if(t[e])return t[e];return!1},i.Group.prototype.callAll=function(t,e){if(void 0!==t){var i=(t=t.split(".")).length;if(void 0===e||null===e||""===e)e=null;else if("string"==typeof e)var s=(e=e.split(".")).length;var n;if(arguments.length>2){n=[];for(a=2;a<arguments.length;a++)n.push(arguments[a])}for(var o=null,r=null,a=0;a<this.children.length;a++)o=this.callbackFromArray(this.children[a],t,i),e&&o?(r=this.callbackFromArray(this.children[a],e,s),o&&o.apply(r,n)):o&&o.apply(this.children[a],n)}},i.Group.prototype.preUpdate=function(){if(this.pendingDestroy)return this.destroy(),!1;if(!this.exists||!this.parent.exists)return this.renderOrderID=-1,!1;for(var t=0;t<this.children.length;){var e=this.children[t];e.preUpdate(),this===e.parent&&t++}return!0},i.Group.prototype.update=function(){for(var t=this.children.length;t--;){var e=this.children.length;t>=e&&(t=e-1);var i=this.children[t];this.updateOnlyExistingChildren&&!i.exists||i.update()}},i.Group.prototype.postUpdate=function(){this.fixedToCamera&&(this.x=(this.game.camera.view.x+this.cameraOffset.x)/this.game.camera.scale.x,this.y=(this.game.camera.view.y+this.cameraOffset.y)/this.game.camera.scale.y);for(var t=0;t<this.children.length;t++)this.children[t].postUpdate()},i.Group.prototype.filter=function(t,e){for(var s=-1,n=this.children.length,o=[];++s<n;){var r=this.children[s];(!e||e&&r.exists)&&t(r,s,this.children)&&o.push(r)}return new i.ArraySet(o)},i.Group.prototype.forEach=function(t,e,i){if(void 0===i&&(i=!1),arguments.length<=3)for(n=0;n<this.children.length;n++)(!i||i&&this.children[n].exists)&&t.call(e,this.children[n]);else{for(var s=[null],n=3;n<arguments.length;n++)s.push(arguments[n]);for(n=0;n<this.children.length;n++)(!i||i&&this.children[n].exists)&&(s[0]=this.children[n],t.apply(e,s))}},i.Group.prototype.forEachExists=function(t,e){var s;if(arguments.length>2){s=[null];for(var n=2;n<arguments.length;n++)s.push(arguments[n])}this.iterate("exists",!0,i.Group.RETURN_TOTAL,t,e,s)},i.Group.prototype.forEachAlive=function(t,e){var s;if(arguments.length>2){s=[null];for(var n=2;n<arguments.length;n++)s.push(arguments[n])}this.iterate("alive",!0,i.Group.RETURN_TOTAL,t,e,s)},i.Group.prototype.forEachDead=function(t,e){var s;if(arguments.length>2){s=[null];for(var n=2;n<arguments.length;n++)s.push(arguments[n])}this.iterate("alive",!1,i.Group.RETURN_TOTAL,t,e,s)},i.Group.prototype.sort=function(t,e){this.children.length<2||(void 0===t&&(t="z"),void 0===e&&(e=i.Group.SORT_ASCENDING),this._sortProperty=t,e===i.Group.SORT_ASCENDING?this.children.sort(this.ascendingSortHandler.bind(this)):this.children.sort(this.descendingSortHandler.bind(this)),this.updateZ())},i.Group.prototype.customSort=function(t,e){this.children.length<2||(this.children.sort(t.bind(e)),this.updateZ())},i.Group.prototype.ascendingSortHandler=function(t,e){return t[this._sortProperty]<e[this._sortProperty]?-1:t[this._sortProperty]>e[this._sortProperty]?1:t.z<e.z?-1:1},i.Group.prototype.descendingSortHandler=function(t,e){return t[this._sortProperty]<e[this._sortProperty]?1:t[this._sortProperty]>e[this._sortProperty]?-1:0},i.Group.prototype.iterate=function(t,e,s,n,o,r){if(0===this.children.length){if(s===i.Group.RETURN_TOTAL)return 0;if(s===i.Group.RETURN_ALL)return[]}var a=0;if(s===i.Group.RETURN_ALL)var h=[];for(var l=0;l<this.children.length;l++)if(this.children[l][t]===e){if(a++,n&&(r?(r[0]=this.children[l],n.apply(o,r)):n.call(o,this.children[l])),s===i.Group.RETURN_CHILD)return this.children[l];s===i.Group.RETURN_ALL&&h.push(this.children[l])}return s===i.Group.RETURN_TOTAL?a:s===i.Group.RETURN_ALL?h:null},i.Group.prototype.getFirst=function(t,e){return this.iterate(t,e,i.Group.RETURN_CHILD)},i.Group.prototype.getFirstExists=function(t,e,i,s,n,o){void 0===e&&(e=!1),"boolean"!=typeof t&&(t=!0);var r=this.getFirst("exists",t);return null===r&&e?this.create(i,s,n,o):this.resetChild(r,i,s,n,o)},i.Group.prototype.getFirstAlive=function(t,e,i,s,n){void 0===t&&(t=!1);var o=this.getFirst("alive",!0);return null===o&&t?this.create(e,i,s,n):this.resetChild(o,e,i,s,n)},i.Group.prototype.getFirstDead=function(t,e,i,s,n){void 0===t&&(t=!1);var o=this.getFirst("alive",!1);return null===o&&t?this.create(e,i,s,n):this.resetChild(o,e,i,s,n)},i.Group.prototype.resetChild=function(t,e,i,s,n){return null===t?null:(void 0===e&&(e=null),void 0===i&&(i=null),null!==e&&null!==i&&t.reset(e,i),void 0!==s&&t.loadTexture(s,n),t)},i.Group.prototype.getTop=function(){if(this.children.length>0)return this.children[this.children.length-1]},i.Group.prototype.getBottom=function(){if(this.children.length>0)return this.children[0]},i.Group.prototype.getClosestTo=function(t,e,s){for(var n=Number.MAX_VALUE,o=0,r=null,a=0;a<this.children.length;a++){var h=this.children[a];h.exists&&(o=Math.abs(i.Point.distance(t,h)))<n&&(!e||e.call(s,h,o))&&(n=o,r=h)}return r},i.Group.prototype.getFurthestFrom=function(t,e,s){for(var n=0,o=0,r=null,a=0;a<this.children.length;a++){var h=this.children[a];h.exists&&(o=Math.abs(i.Point.distance(t,h)))>n&&(!e||e.call(s,h,o))&&(n=o,r=h)}return r},i.Group.prototype.count=function(t,e){return this.iterate(t,e,i.Group.RETURN_TOTAL)},i.Group.prototype.countLiving=function(){return this.count("alive",!0)},i.Group.prototype.countDead=function(){return this.count("alive",!1)},i.Group.prototype.getRandom=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=this.children.length),0===e?null:i.ArrayUtils.getRandomItem(this.children,t,e)},i.Group.prototype.getRandomExists=function(t,e){var i=this.getAll("exists",!0,t,e);return this.game.rnd.pick(i)},i.Group.prototype.getAll=function(t,e,i,s){void 0===i&&(i=0),void 0===s&&(s=this.children.length);for(var n=[],o=i;o<s;o++){var r=this.children[o];t?r[t]===e&&n.push(r):n.push(r)}return n},i.Group.prototype.remove=function(t,e,i){if(void 0===e&&(e=!1),void 0===i&&(i=!1),0===this.children.length||-1===this.children.indexOf(t))return!1;i||!t.events||t.destroyPhase||t.events.onRemovedFromGroup$dispatch(t,this);var s=this.removeChild(t);return this.removeFromHash(t),this.updateZ(),this.cursor===t&&this.next(),e&&s&&s.destroy(!0),!0},i.Group.prototype.moveAll=function(t,e){if(void 0===e&&(e=!1),this.children.length>0&&t instanceof i.Group){do{t.add(this.children[0],e)}while(this.children.length>0);this.hash=[],this.cursor=null}return t},i.Group.prototype.removeAll=function(t,e,i){if(void 0===t&&(t=!1),void 0===e&&(e=!1),void 0===i&&(i=!1),0!==this.children.length){do{!e&&this.children[0].events&&this.children[0].events.onRemovedFromGroup$dispatch(this.children[0],this);var s=this.removeChild(this.children[0]);this.removeFromHash(s),t&&s&&s.destroy(!0,i)}while(this.children.length>0);this.hash=[],this.cursor=null}},i.Group.prototype.removeBetween=function(t,e,i,s){if(void 0===e&&(e=this.children.length-1),void 0===i&&(i=!1),void 0===s&&(s=!1),0!==this.children.length){if(t>e||t<0||e>this.children.length)return!1;for(var n=e;n>=t;){!s&&this.children[n].events&&this.children[n].events.onRemovedFromGroup$dispatch(this.children[n],this);var o=this.removeChild(this.children[n]);this.removeFromHash(o),i&&o&&o.destroy(!0),this.cursor===this.children[n]&&(this.cursor=null),n--}this.updateZ()}},i.Group.prototype.scatter=function(t,e){null==t&&(t=this.game.world.bounds),this.forEach(function(e){e.position.set(t.randomX,t.randomY)},null,e)},i.Group.prototype.shuffle=function(){i.ArrayUtils.shuffle(this.children),this.updateZ()},i.Group.prototype.destroy=function(t,e){null===this.game||this.ignoreDestroy||(void 0===t&&(t=!0),void 0===e&&(e=!1),this.onDestroy.dispatch(this,t,e),this.removeAll(t),this.cursor=null,this.filters=null,this.pendingDestroy=!1,e||(this.parent&&this.parent.removeChild(this),this.game=null,this.exists=!1))},Object.defineProperty(i.Group.prototype,"total",{get:function(){return this.iterate("exists",!0,i.Group.RETURN_TOTAL)}}),Object.defineProperty(i.Group.prototype,"length",{get:function(){return this.children.length}}),Object.defineProperty(i.Group.prototype,"angle",{get:function(){return i.Math.radToDeg(this.rotation)},set:function(t){this.rotation=i.Math.degToRad(t)}}),Object.defineProperty(i.Group.prototype,"centerX",{get:function(){return this.getBounds(this.parent).centerX},set:function(t){var e=this.getBounds(this.parent),i=this.x-e.x;this.x=t+i-e.halfWidth}}),Object.defineProperty(i.Group.prototype,"centerY",{get:function(){return this.getBounds(this.parent).centerY},set:function(t){var e=this.getBounds(this.parent),i=this.y-e.y;this.y=t+i-e.halfHeight}}),Object.defineProperty(i.Group.prototype,"left",{get:function(){return this.getBounds(this.parent).left},set:function(t){var e=this.getBounds(this.parent),i=this.x-e.x;this.x=t+i}}),Object.defineProperty(i.Group.prototype,"right",{get:function(){return this.getBounds(this.parent).right},set:function(t){var e=this.getBounds(this.parent),i=this.x-e.x;this.x=t+i-e.width}}),Object.defineProperty(i.Group.prototype,"top",{get:function(){return this.getBounds(this.parent).top},set:function(t){var e=this.getBounds(this.parent),i=this.y-e.y;this.y=t+i}}),Object.defineProperty(i.Group.prototype,"bottom",{get:function(){return this.getBounds(this.parent).bottom},set:function(t){var e=this.getBounds(this.parent),i=this.y-e.y;this.y=t+i-e.height}}),i.World=function(t){i.Group.call(this,t,null,"__world",!1),this.bounds=new i.Rectangle(0,0,t.width,t.height),this.camera=null,this._definedSize=!1,this._width=t.width,this._height=t.height,this.game.state.onStateChange.add(this.stateChange,this)},i.World.prototype=Object.create(i.Group.prototype),i.World.prototype.constructor=i.World,i.World.prototype.boot=function(){this.camera=new i.Camera(this.game,0,0,0,this.game.width,this.game.height),this.game.stage.addChild(this),this.camera.boot()},i.World.prototype.stateChange=function(){this.x=0,this.y=0,this.camera.reset()},i.World.prototype.setBounds=function(t,e,i,s){this._definedSize=!0,this._width=i,this._height=s,this.bounds.setTo(t,e,i,s),this.x=t,this.y=e,this.camera.bounds&&this.camera.bounds.setTo(t,e,Math.max(i,this.game.width),Math.max(s,this.game.height)),this.game.physics.setBoundsToWorld()},i.World.prototype.resize=function(t,e){this._definedSize&&(t<this._width&&(t=this._width),e<this._height&&(e=this._height)),this.bounds.width=t,this.bounds.height=e,this.game.camera.setBoundsToWorld(),this.game.physics.setBoundsToWorld()},i.World.prototype.shutdown=function(){this.destroy(!0,!0)},i.World.prototype.wrap=function(t,e,i,s,n){void 0===e&&(e=0),void 0===i&&(i=!1),void 0===s&&(s=!0),void 0===n&&(n=!0),i?(t.getBounds(),s&&(t.x+t._currentBounds.width<this.bounds.x?t.x=this.bounds.right:t.x>this.bounds.right&&(t.x=this.bounds.left)),n&&(t.y+t._currentBounds.height<this.bounds.top?t.y=this.bounds.bottom:t.y>this.bounds.bottom&&(t.y=this.bounds.top))):(s&&t.x+e<this.bounds.x?t.x=this.bounds.right+e:s&&t.x-e>this.bounds.right&&(t.x=this.bounds.left-e),n&&t.y+e<this.bounds.top?t.y=this.bounds.bottom+e:n&&t.y-e>this.bounds.bottom&&(t.y=this.bounds.top-e))},Object.defineProperty(i.World.prototype,"width",{get:function(){return this.bounds.width},set:function(t){t<this.game.width&&(t=this.game.width),this.bounds.width=t,this._width=t,this._definedSize=!0}}),Object.defineProperty(i.World.prototype,"height",{get:function(){return this.bounds.height},set:function(t){t<this.game.height&&(t=this.game.height),this.bounds.height=t,this._height=t,this._definedSize=!0}}),Object.defineProperty(i.World.prototype,"centerX",{get:function(){return this.bounds.halfWidth+this.bounds.x}}),Object.defineProperty(i.World.prototype,"centerY",{get:function(){return this.bounds.halfHeight+this.bounds.y}}),Object.defineProperty(i.World.prototype,"randomX",{get:function(){return this.bounds.x<0?this.game.rnd.between(this.bounds.x,this.bounds.width-Math.abs(this.bounds.x)):this.game.rnd.between(this.bounds.x,this.bounds.width)}}),Object.defineProperty(i.World.prototype,"randomY",{get:function(){return this.bounds.y<0?this.game.rnd.between(this.bounds.y,this.bounds.height-Math.abs(this.bounds.y)):this.game.rnd.between(this.bounds.y,this.bounds.height)}}),i.Game=function(t,e,s,n,o,r,a,h){return this.id=i.GAMES.push(this)-1,this.config=null,this.physicsConfig=h,this.parent="",this.width=800,this.height=600,this.resolution=1,this._width=800,this._height=600,this.transparent=!1,this.antialias=!0,this.multiTexture=!1,this.preserveDrawingBuffer=!1,this.clearBeforeRender=!0,this.renderer=null,this.renderType=i.AUTO,this.state=null,this.isBooted=!1,this.isRunning=!1,this.raf=null,this.add=null,this.make=null,this.cache=null,this.input=null,this.load=null,this.math=null,this.net=null,this.scale=null,this.sound=null,this.stage=null,this.time=null,this.tweens=null,this.world=null,this.physics=null,this.plugins=null,this.rnd=null,this.device=i.Device,this.camera=null,this.canvas=null,this.context=null,this.debug=null,this.particles=null,this.create=null,this.lockRender=!1,this.stepping=!1,this.pendingStep=!1,this.stepCount=0,this.onPause=null,this.onResume=null,this.onBlur=null,this.onFocus=null,this._paused=!1,this._codePaused=!1,this.currentUpdateID=0,this.updatesThisFrame=1,this._deltaTime=0,this._lastCount=0,this._spiraling=0,this._kickstart=!0,this.fpsProblemNotifier=new i.Signal,this.forceSingleUpdate=!0,this._nextFpsNotification=0,1===arguments.length&&"object"==typeof arguments[0]?this.parseConfig(arguments[0]):(this.config={enableDebug:!0},void 0!==t&&(this._width=t),void 0!==e&&(this._height=e),void 0!==s&&(this.renderType=s),void 0!==n&&(this.parent=n),void 0!==r&&(this.transparent=r),void 0!==a&&(this.antialias=a),this.rnd=new i.RandomDataGenerator([(Date.now()*Math.random()).toString()]),this.state=new i.StateManager(this,o)),this.device.whenReady(this.boot,this),this},i.Game.prototype={parseConfig:function(t){this.config=t,void 0===t.enableDebug&&(this.config.enableDebug=!0),t.width&&(this._width=t.width),t.height&&(this._height=t.height),t.renderer&&(this.renderType=t.renderer),t.parent&&(this.parent=t.parent),void 0!==t.transparent&&(this.transparent=t.transparent),void 0!==t.antialias&&(this.antialias=t.antialias),void 0!==t.multiTexture&&(this.multiTexture=t.multiTexture),t.resolution&&(this.resolution=t.resolution),void 0!==t.preserveDrawingBuffer&&(this.preserveDrawingBuffer=t.preserveDrawingBuffer),t.physicsConfig&&(this.physicsConfig=t.physicsConfig);var e=[(Date.now()*Math.random()).toString()];t.seed&&(e=t.seed),this.rnd=new i.RandomDataGenerator(e);var s=null;t.state&&(s=t.state),this.state=new i.StateManager(this,s)},boot:function(){this.isBooted||(this.onPause=new i.Signal,this.onResume=new i.Signal,this.onBlur=new i.Signal,this.onFocus=new i.Signal,this.isBooted=!0,PIXI.game=this,this.math=i.Math,this.scale=new i.ScaleManager(this,this._width,this._height),this.stage=new i.Stage(this),this.setUpRenderer(),this.world=new i.World(this),this.add=new i.GameObjectFactory(this),this.make=new i.GameObjectCreator(this),this.cache=new i.Cache(this),this.load=new i.Loader(this),this.time=new i.Time(this),this.tweens=new i.TweenManager(this),this.input=new i.Input(this),this.sound=new i.SoundManager(this),this.physics=new i.Physics(this,this.physicsConfig),this.particles=new i.Particles(this),this.create=new i.Create(this),this.plugins=new i.PluginManager(this),this.net=new i.Net(this),this.time.boot(),this.stage.boot(),this.world.boot(),this.scale.boot(),this.input.boot(),this.sound.boot(),this.state.boot(),this.config.enableDebug?(this.debug=new i.Utils.Debug(this),this.debug.boot()):this.debug={preUpdate:function(){},update:function(){},reset:function(){},isDisabled:!0},this.showDebugHeader(),this.isRunning=!0,this.config&&this.config.forceSetTimeOut?this.raf=new i.RequestAnimationFrame(this,this.config.forceSetTimeOut):this.raf=new i.RequestAnimationFrame(this,!1),this._kickstart=!0,window.focus&&(!window.PhaserGlobal||window.PhaserGlobal&&!window.PhaserGlobal.stopFocus)&&window.focus(),this.cache.isReady?this.raf.start():this.cache.onReady.addOnce(function(){this.raf.start()},this))},showDebugHeader:function(){if(!window.PhaserGlobal||!window.PhaserGlobal.hideBanner){var t=i.VERSION,e="Canvas",s="HTML Audio",n=1;if(this.renderType===i.WEBGL?(e="WebGL",n++):this.renderType===i.HEADLESS&&(e="Headless"),this.device.webAudio&&(s="WebAudio",n++),this.device.ie)window.console&&console.log("Phaser v"+t+" | Pixi.js | "+e+" | "+s+" | http://phaser.io");else{for(var o=["%c %c %c Phaser CE v"+t+" | Pixi.js | "+e+" | "+s+"  %c %c %c http://phaser.io %c♥%c♥%c♥","background: #fb8cb3","background: #d44a52","color: #ffffff; background: #871905;","background: #d44a52","background: #fb8cb3","background: #ffffff"],r=0;r<3;r++)r<n?o.push("color: #ff2424; background: #fff"):o.push("color: #959595; background: #fff");console.log.apply(console,o)}}},setUpRenderer:function(){if(this.config.canvas?this.canvas=this.config.canvas:this.canvas=i.Canvas.create(this,this.width,this.height,this.config.canvasID,!0),this.config.canvasStyle?this.canvas.style=this.config.canvasStyle:this.canvas.style["-webkit-full-screen"]="width: 100%; height: 100%",this.renderType===i.HEADLESS||this.renderType===i.CANVAS||this.renderType===i.AUTO&&!this.device.webGL){if(!this.device.canvas)throw new Error("Phaser.Game - Cannot create Canvas or WebGL context, aborting.");this.renderer=new PIXI.CanvasRenderer(this),this.context=this.renderer.context,this.renderType===i.AUTO&&(this.renderType=i.CANVAS)}else(this.multiTexture||this.renderType===i.WEBGL_MULTI)&&(PIXI.enableMultiTexture(),this.multiTexture=!0),this.renderType=i.WEBGL,this.renderer=new PIXI.WebGLRenderer(this),this.context=null,this.canvas.addEventListener("webglcontextlost",this.contextLost.bind(this),!1),this.canvas.addEventListener("webglcontextrestored",this.contextRestored.bind(this),!1);this.device.cocoonJS&&(this.canvas.screencanvas=this.renderType===i.CANVAS),this.renderType!==i.HEADLESS&&(this.stage.smoothed=this.antialias,i.Canvas.addToDOM(this.canvas,this.parent,!1),i.Canvas.setTouchAction(this.canvas))},contextLost:function(t){t.preventDefault(),this.renderer.contextLost=!0},contextRestored:function(){this.renderer.initContext(),this.cache.clearGLTextures(),this.renderer.contextLost=!1},update:function(t){if(this.time.update(t),this._kickstart)return this.updateLogic(this.time.desiredFpsMult),this.updateRender(this.time.slowMotion*this.time.desiredFps),void(this._kickstart=!1);if(this._spiraling>1&&!this.forceSingleUpdate)this.time.time>this._nextFpsNotification&&(this._nextFpsNotification=this.time.time+1e4,this.fpsProblemNotifier.dispatch()),this._deltaTime=0,this._spiraling=0,this.updateRender(this.time.slowMotion*this.time.desiredFps);else{var e=1e3*this.time.slowMotion/this.time.desiredFps;this._deltaTime+=Math.max(Math.min(3*e,this.time.elapsed),0);var i=0;for(this.updatesThisFrame=Math.floor(this._deltaTime/e),this.forceSingleUpdate&&(this.updatesThisFrame=Math.min(1,this.updatesThisFrame));this._deltaTime>=e&&(this._deltaTime-=e,this.currentUpdateID=i,this.updateLogic(this.time.desiredFpsMult),i++,!this.forceSingleUpdate||1!==i);)this.time.refresh();i>this._lastCount?this._spiraling++:i<this._lastCount&&(this._spiraling=0),this._lastCount=i,this.updateRender(this._deltaTime/e)}},updateLogic:function(t){this._paused||this.pendingStep?(this.scale.pauseUpdate(),this.state.pauseUpdate(t),this.debug.preUpdate()):(this.stepping&&(this.pendingStep=!0),this.scale.preUpdate(),this.debug.preUpdate(),this.camera.preUpdate(),this.physics.preUpdate(),this.state.preUpdate(t),this.plugins.preUpdate(t),this.stage.preUpdate(),this.state.update(),this.stage.update(),this.tweens.update(),this.sound.update(),this.input.update(),this.physics.update(),this.plugins.update(),this.stage.postUpdate(),this.plugins.postUpdate()),this.stage.updateTransform()},updateRender:function(t){this.lockRender||(this.state.preRender(t),this.renderType!==i.HEADLESS&&(this.renderer.render(this.stage),this.plugins.render(t),this.state.render(t)),this.plugins.postRender(t))},enableStep:function(){this.stepping=!0,this.pendingStep=!1,this.stepCount=0},disableStep:function(){this.stepping=!1,this.pendingStep=!1},step:function(){this.pendingStep=!1,this.stepCount++},destroy:function(){this.raf.stop(),this.debug.destroy&&this.debug.destroy(),this.state.destroy(),this.sound.destroy(),this.scale.destroy(),this.stage.destroy(),this.input.destroy(),this.physics.destroy(),this.plugins.destroy(),this.debug=null,this.state=null,this.sound=null,this.scale=null,this.stage=null,this.input=null,this.physics=null,this.plugins=null,this.cache=null,this.load=null,this.time=null,this.world=null,this.isBooted=!1,this.renderer.destroy(!1),i.Canvas.removeFromDOM(this.canvas),PIXI.defaultRenderer=null,i.GAMES[this.id]=null},gamePaused:function(t){this._paused||(this._paused=!0,this.time.gamePaused(),this.sound.muteOnPause&&this.sound.setMute(),this.onPause.dispatch(t),this.device.cordova&&this.device.iOS&&(this.lockRender=!0))},gameResumed:function(t){this._paused&&!this._codePaused&&(this._paused=!1,this.time.gameResumed(),this.input.reset(),this.sound.muteOnPause&&this.sound.unsetMute(),this.onResume.dispatch(t),this.device.cordova&&this.device.iOS&&(this.lockRender=!1))},focusLoss:function(t){this.onBlur.dispatch(t),this.stage.disableVisibilityChange||this.gamePaused(t)},focusGain:function(t){this.onFocus.dispatch(t),this.stage.disableVisibilityChange||this.gameResumed(t)}},i.Game.prototype.constructor=i.Game,Object.defineProperty(i.Game.prototype,"paused",{get:function(){return this._paused},set:function(t){!0===t?(!1===this._paused&&(this._paused=!0,this.sound.setMute(),this.time.gamePaused(),this.onPause.dispatch(this)),this._codePaused=!0):(this._paused&&(this._paused=!1,this.input.reset(),this.sound.unsetMute(),this.time.gameResumed(),this.onResume.dispatch(this)),this._codePaused=!1)}}),i.Input=function(t){this.game=t,this.hitCanvas=null,this.hitContext=null,this.moveCallbacks=[],this.customCandidateHandler=null,this.customCandidateHandlerContext=null,this.pollRate=0,this.enabled=!0,this.multiInputOverride=i.Input.MOUSE_TOUCH_COMBINE,this.position=null,this.speed=null,this.circle=null,this.scale=null,this.maxPointers=-1,this.tapRate=200,this.doubleTapRate=300,this.holdRate=2e3,this.justPressedRate=200,this.justReleasedRate=200,this.recordPointerHistory=!1,this.recordRate=100,this.recordLimit=100,this.touchLockCallbacks=[],this.pointer1=null,this.pointer2=null,this.pointer3=null,this.pointer4=null,this.pointer5=null,this.pointer6=null,this.pointer7=null,this.pointer8=null,this.pointer9=null,this.pointer10=null,this.pointers=[],this.activePointer=null,this.mousePointer=null,this.mouse=null,this.keyboard=null,this.touch=null,this.mspointer=null,this.gamepad=null,this.resetLocked=!1,this.onDown=null,this.onUp=null,this.onTap=null,this.onHold=null,this.minPriorityID=0,this.interactiveItems=new i.ArraySet,this._localPoint=new i.Point,this._pollCounter=0,this._oldPosition=null,this._x=0,this._y=0},i.Input.MOUSE_OVERRIDES_TOUCH=0,i.Input.TOUCH_OVERRIDES_MOUSE=1,i.Input.MOUSE_TOUCH_COMBINE=2,i.Input.MAX_POINTERS=10,i.Input.prototype={boot:function(){this.mousePointer=new i.Pointer(this.game,0,i.PointerMode.CURSOR),this.addPointer(),this.addPointer(),this.mouse=new i.Mouse(this.game),this.touch=new i.Touch(this.game),this.mspointer=new i.MSPointer(this.game),i.Keyboard&&(this.keyboard=new i.Keyboard(this.game)),i.Gamepad&&(this.gamepad=new i.Gamepad(this.game)),this.onDown=new i.Signal,this.onUp=new i.Signal,this.onTap=new i.Signal,this.onHold=new i.Signal,this.scale=new i.Point(1,1),this.speed=new i.Point,this.position=new i.Point,this._oldPosition=new i.Point,this.circle=new i.Circle(0,0,44),this.activePointer=this.mousePointer,this.hitCanvas=i.CanvasPool.create(this,1,1),this.hitContext=this.hitCanvas.getContext("2d"),this.mouse.start(),this.game.device.mspointer||this.touch.start(),this.mspointer.start(),this.mousePointer.active=!0,this.keyboard&&this.keyboard.start();var t=this;this._onClickTrampoline=function(e){t.onClickTrampoline(e)},this.game.canvas.addEventListener("click",this._onClickTrampoline,!1)},destroy:function(){this.mouse.stop(),this.touch.stop(),this.mspointer.stop(),this.keyboard&&this.keyboard.stop(),this.gamepad&&this.gamepad.stop(),this.moveCallbacks=[],i.CanvasPool.remove(this),this.game.canvas.removeEventListener("click",this._onClickTrampoline)},setInteractiveCandidateHandler:function(t,e){this.customCandidateHandler=t,this.customCandidateHandlerContext=e},addMoveCallback:function(t,e){this.moveCallbacks.push({callback:t,context:e})},addTouchLockCallback:function(t,e,i){void 0===i&&(i=!1),this.touchLockCallbacks.push({callback:t,context:e,onEnd:i})},removeTouchLockCallback:function(t,e){for(var i=this.touchLockCallbacks.length;i--;)if(this.touchLockCallbacks[i].callback===t&&this.touchLockCallbacks[i].context===e)return this.touchLockCallbacks.splice(i,1),!0;return!1},executeTouchLockCallbacks:function(t,e){for(var i=this.touchLockCallbacks.length;i--;){var s=this.touchLockCallbacks[i];s.onEnd===t&&s.callback.call(s.context,this,e)&&this.touchLockCallbacks.splice(i,1)}},deleteMoveCallback:function(t,e){for(var i=this.moveCallbacks.length;i--;)if(this.moveCallbacks[i].callback===t&&this.moveCallbacks[i].context===e)return void this.moveCallbacks.splice(i,1)},addPointer:function(){if(this.pointers.length>=i.Input.MAX_POINTERS)return console.warn("Phaser.Input.addPointer: Maximum limit of "+i.Input.MAX_POINTERS+" pointers reached."),null;var t=this.pointers.length+1,e=new i.Pointer(this.game,t,i.PointerMode.CONTACT);return this.pointers.push(e),this["pointer"+t]=e,e},update:function(){if(this.keyboard&&this.keyboard.update(),this.pollRate>0&&this._pollCounter<this.pollRate)this._pollCounter++;else{this.speed.x=this.position.x-this._oldPosition.x,this.speed.y=this.position.y-this._oldPosition.y,this._oldPosition.copyFrom(this.position),this.mousePointer.update(),this.gamepad&&this.gamepad.active&&this.gamepad.update();for(var t=0;t<this.pointers.length;t++)this.pointers[t].update();this._pollCounter=0}},reset:function(t){if(this.game.isBooted&&!this.resetLocked){void 0===t&&(t=!1),this.mousePointer.reset(),this.keyboard&&this.keyboard.reset(t),this.gamepad&&this.gamepad.reset();for(var e=0;e<this.pointers.length;e++)this.pointers[e].reset();"none"!==this.game.canvas.style.cursor&&(this.game.canvas.style.cursor=""),t&&(this.onDown.dispose(),this.onUp.dispose(),this.onTap.dispose(),this.onHold.dispose(),this.onDown=new i.Signal,this.onUp=new i.Signal,this.onTap=new i.Signal,this.onHold=new i.Signal,this.moveCallbacks=[]),this._pollCounter=0}},resetSpeed:function(t,e){this._oldPosition.setTo(t,e),this.speed.setTo(0,0)},startPointer:function(t){if(this.maxPointers>=0&&this.countActivePointers(this.maxPointers)>=this.maxPointers)return null;if(!this.pointer1.active)return this.pointer1.start(t);if(!this.pointer2.active)return this.pointer2.start(t);for(var e=2;e<this.pointers.length;e++){var i=this.pointers[e];if(!i.active)return i.start(t)}return null},updatePointer:function(t){if(this.pointer1.active&&this.pointer1.identifier===t.identifier)return this.pointer1.move(t);if(this.pointer2.active&&this.pointer2.identifier===t.identifier)return this.pointer2.move(t);for(var e=2;e<this.pointers.length;e++){var i=this.pointers[e];if(i.active&&i.identifier===t.identifier)return i.move(t)}return null},stopPointer:function(t){if(this.pointer1.active&&this.pointer1.identifier===t.identifier)return this.pointer1.stop(t);if(this.pointer2.active&&this.pointer2.identifier===t.identifier)return this.pointer2.stop(t);for(var e=2;e<this.pointers.length;e++){var i=this.pointers[e];if(i.active&&i.identifier===t.identifier)return i.stop(t)}return null},countActivePointers:function(t){void 0===t&&(t=this.pointers.length);for(var e=t,i=0;i<this.pointers.length&&e>0;i++)this.pointers[i].active&&e--;return t-e},getPointer:function(t){void 0===t&&(t=!1);for(var e=0;e<this.pointers.length;e++){var i=this.pointers[e];if(i.active===t)return i}return null},getPointerFromIdentifier:function(t){for(var e=0;e<this.pointers.length;e++){var i=this.pointers[e];if(i.identifier===t)return i}return null},getPointerFromId:function(t){for(var e=0;e<this.pointers.length;e++){var i=this.pointers[e];if(i.pointerId===t)return i}return null},getLocalPosition:function(t,e,s){void 0===s&&(s=new i.Point);var n=t.worldTransform,o=1/(n.a*n.d+n.c*-n.b);return s.setTo(n.d*o*e.x+-n.c*o*e.y+(n.ty*n.c-n.tx*n.d)*o,n.a*o*e.y+-n.b*o*e.x+(-n.ty*n.a+n.tx*n.b)*o)},hitTest:function(t,e,s){if(!t.worldVisible)return!1;if(this.getLocalPosition(t,e,this._localPoint),s.copyFrom(this._localPoint),t.hitArea&&t.hitArea.contains)return t.hitArea.contains(this._localPoint.x,this._localPoint.y);if(i.Creature&&t instanceof i.Creature){var n=Math.abs(t.width),o=Math.abs(t.height),r=t.x-n*t.anchorX;if(this.game.camera.x+e.x>=r&&this.game.camera.x+e.x<r+n){a=t.y-o*t.anchorY;if(this.game.camera.y+e.y>=a&&this.game.camera.y+e.y<a+o)return!0}}else if(t instanceof i.TileSprite){var n=t.width,o=t.height,r=-n*t.anchor.x;if(this._localPoint.x>=r&&this._localPoint.x<r+n){a=-o*t.anchor.y;if(this._localPoint.y>=a&&this._localPoint.y<a+o)return!0}}else if(t instanceof PIXI.Sprite){var n=t.texture.frame.width/t.texture.baseTexture.resolution,o=t.texture.frame.height/t.texture.baseTexture.resolution,r=-n*t.anchor.x;if(this._localPoint.x>=r&&this._localPoint.x<r+n){var a=-o*t.anchor.y;if(this._localPoint.y>=a&&this._localPoint.y<a+o)return!0}}else if(t instanceof i.Graphics)for(l=0;l<t.graphicsData.length;l++){var h=t.graphicsData[l];if(h.fill&&(h.shape&&h.shape.contains(this._localPoint.x,this._localPoint.y)))return!0}for(var l=0;l<t.children.length;l++)if(this.hitTest(t.children[l],e,s))return!0;return!1},onClickTrampoline:function(){this.activePointer.processClickTrampolines()}},i.Input.prototype.constructor=i.Input,Object.defineProperty(i.Input.prototype,"x",{get:function(){return this._x},set:function(t){this._x=Math.floor(t)}}),Object.defineProperty(i.Input.prototype,"y",{get:function(){return this._y},set:function(t){this._y=Math.floor(t)}}),Object.defineProperty(i.Input.prototype,"pollLocked",{get:function(){return this.pollRate>0&&this._pollCounter<this.pollRate}}),Object.defineProperty(i.Input.prototype,"totalInactivePointers",{get:function(){return this.pointers.length-this.countActivePointers()}}),Object.defineProperty(i.Input.prototype,"totalActivePointers",{get:function(){return this.countActivePointers()}}),Object.defineProperty(i.Input.prototype,"worldX",{get:function(){return this.game.camera.view.x+this.x}}),Object.defineProperty(i.Input.prototype,"worldY",{get:function(){return this.game.camera.view.y+this.y}}),i.Mouse=function(t){this.game=t,this.input=t.input,this.callbackContext=this.game,this.mouseDownCallback=null,this.mouseUpCallback=null,this.mouseOutCallback=null,this.mouseOverCallback=null,this.mouseWheelCallback=null,this.capture=!1,this.button=-1,this.wheelDelta=0,this.enabled=!0,this.locked=!1,this.stopOnGameOut=!1,this.pointerLock=new i.Signal,this.event=null,this._onMouseDown=null,this._onMouseMove=null,this._onMouseUp=null,this._onMouseOut=null,this._onMouseOver=null,this._onMouseWheel=null,this._wheelEvent=null},i.Mouse.NO_BUTTON=-1,i.Mouse.LEFT_BUTTON=0,i.Mouse.MIDDLE_BUTTON=1,i.Mouse.RIGHT_BUTTON=2,i.Mouse.BACK_BUTTON=3,i.Mouse.FORWARD_BUTTON=4,i.Mouse.WHEEL_UP=1,i.Mouse.WHEEL_DOWN=-1,i.Mouse.prototype={start:function(){if((!this.game.device.android||!1!==this.game.device.chrome)&&null===this._onMouseDown){var e=this;this._onMouseDown=function(t){return e.onMouseDown(t)},this._onMouseMove=function(t){return e.onMouseMove(t)},this._onMouseUp=function(t){return e.onMouseUp(t)},this._onMouseUpGlobal=function(t){return e.onMouseUpGlobal(t)},this._onMouseOutGlobal=function(t){return e.onMouseOutGlobal(t)},this._onMouseOut=function(t){return e.onMouseOut(t)},this._onMouseOver=function(t){return e.onMouseOver(t)},this._onMouseWheel=function(t){return e.onMouseWheel(t)};var i=this.game.canvas;i.addEventListener("mousedown",this._onMouseDown,!0),i.addEventListener("mousemove",this._onMouseMove,!0),i.addEventListener("mouseup",this._onMouseUp,!0),this.game.device.cocoonJS||(window.addEventListener("mouseup",this._onMouseUpGlobal,!0),window.addEventListener("mouseout",this._onMouseOutGlobal,!0),i.addEventListener("mouseover",this._onMouseOver,!0),i.addEventListener("mouseout",this._onMouseOut,!0));var s=this.game.device.wheelEvent;s&&(i.addEventListener(s,this._onMouseWheel,!0),"mousewheel"===s?this._wheelEvent=new t(-.025,1):"DOMMouseScroll"===s&&(this._wheelEvent=new t(1,1)))}},onMouseDown:function(t){this.event=t,this.capture&&t.preventDefault(),this.mouseDownCallback&&this.mouseDownCallback.call(this.callbackContext,t),this.input.enabled&&this.enabled&&(t.identifier=0,this.input.mousePointer.start(t))},onMouseMove:function(t){this.event=t,this.capture&&t.preventDefault(),this.mouseMoveCallback&&this.mouseMoveCallback.call(this.callbackContext,t),this.input.enabled&&this.enabled&&(t.identifier=0,this.input.mousePointer.move(t))},onMouseUp:function(t){this.event=t,this.capture&&t.preventDefault(),this.mouseUpCallback&&this.mouseUpCallback.call(this.callbackContext,t),this.input.enabled&&this.enabled&&(t.identifier=0,this.input.mousePointer.stop(t))},onMouseUpGlobal:function(t){this.input.mousePointer.withinGame||(this.mouseUpCallback&&this.mouseUpCallback.call(this.callbackContext,t),t.identifier=0,this.input.mousePointer.stop(t))},onMouseOutGlobal:function(t){this.event=t,this.capture&&t.preventDefault(),this.input.mousePointer.withinGame=!1,this.input.enabled&&this.enabled&&(this.input.mousePointer.stop(t),this.input.mousePointer.resetButtons())},onMouseOut:function(t){this.event=t,this.capture&&t.preventDefault(),this.input.mousePointer.withinGame=!1,this.mouseOutCallback&&this.mouseOutCallback.call(this.callbackContext,t),this.input.enabled&&this.enabled&&this.stopOnGameOut&&(t.identifier=0,this.input.mousePointer.stop(t))},onMouseOver:function(t){this.event=t,this.capture&&t.preventDefault(),this.input.mousePointer.withinGame=!0,this.mouseOverCallback&&this.mouseOverCallback.call(this.callbackContext,t)},onMouseWheel:function(t){this._wheelEvent&&(t=this._wheelEvent.bindEvent(t)),this.event=t,this.capture&&t.preventDefault(),this.wheelDelta=i.Math.clamp(-t.deltaY,-1,1),this.mouseWheelCallback&&this.mouseWheelCallback.call(this.callbackContext,t)},requestPointerLock:function(){if(this.game.device.pointerLock){var t=this.game.canvas;t.requestPointerLock=t.requestPointerLock||t.mozRequestPointerLock||t.webkitRequestPointerLock,t.requestPointerLock();var e=this;this._pointerLockChange=function(t){return e.pointerLockChange(t)},document.addEventListener("pointerlockchange",this._pointerLockChange,!0),document.addEventListener("mozpointerlockchange",this._pointerLockChange,!0),document.addEventListener("webkitpointerlockchange",this._pointerLockChange,!0)}},pointerLockChange:function(t){var e=this.game.canvas;document.pointerLockElement===e||document.mozPointerLockElement===e||document.webkitPointerLockElement===e?(this.locked=!0,this.pointerLock.dispatch(!0,t)):(this.locked=!1,this.pointerLock.dispatch(!1,t))},releasePointerLock:function(){document.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock,document.exitPointerLock(),document.removeEventListener("pointerlockchange",this._pointerLockChange,!0),document.removeEventListener("mozpointerlockchange",this._pointerLockChange,!0),document.removeEventListener("webkitpointerlockchange",this._pointerLockChange,!0)},stop:function(){var t=this.game.canvas;t.removeEventListener("mousedown",this._onMouseDown,!0),t.removeEventListener("mousemove",this._onMouseMove,!0),t.removeEventListener("mouseup",this._onMouseUp,!0),t.removeEventListener("mouseover",this._onMouseOver,!0),t.removeEventListener("mouseout",this._onMouseOut,!0);var e=this.game.device.wheelEvent;e&&t.removeEventListener(e,this._onMouseWheel,!0),window.removeEventListener("mouseup",this._onMouseUpGlobal,!0),window.removeEventListener("mouseout",this._onMouseOutGlobal,!0),document.removeEventListener("pointerlockchange",this._pointerLockChange,!0),document.removeEventListener("mozpointerlockchange",this._pointerLockChange,!0),document.removeEventListener("webkitpointerlockchange",this._pointerLockChange,!0)}},i.Mouse.prototype.constructor=i.Mouse,(t.prototype={}).constructor=t,t.prototype.bindEvent=function(e){if(!t._stubsGenerated&&e){for(var i in e)i in t.prototype||Object.defineProperty(t.prototype,i,{get:function(t){return function(){var e=this.originalEvent[t];return"function"!=typeof e?e:e.bind(this.originalEvent)}}(i)});t._stubsGenerated=!0}return this.originalEvent=e,this},Object.defineProperties(t.prototype,{type:{value:"wheel"},deltaMode:{get:function(){return this._deltaMode}},deltaY:{get:function(){return this._scaleFactor*(this.originalEvent.wheelDelta||this.originalEvent.detail)||0}},deltaX:{get:function(){return this._scaleFactor*this.originalEvent.wheelDeltaX||0}},deltaZ:{value:0}}),i.MSPointer=function(t){this.game=t,this.input=t.input,this.callbackContext=this.game,this.pointerDownCallback=null,this.pointerMoveCallback=null,this.pointerUpCallback=null,this.capture=!0,this.button=-1,this.event=null,this.enabled=!0,this._onMSPointerDown=null,this._onMSPointerMove=null,this._onMSPointerUp=null,this._onMSPointerUpGlobal=null,this._onMSPointerOut=null,this._onMSPointerOver=null},i.MSPointer.prototype={start:function(){if(null===this._onMSPointerDown){var t=this;if(this.game.device.mspointer){this._onMSPointerDown=function(e){return t.onPointerDown(e)},this._onMSPointerMove=function(e){return t.onPointerMove(e)},this._onMSPointerUp=function(e){return t.onPointerUp(e)},this._onMSPointerUpGlobal=function(e){return t.onPointerUpGlobal(e)},this._onMSPointerOut=function(e){return t.onPointerOut(e)},this._onMSPointerOver=function(e){return t.onPointerOver(e)};var e=this.game.canvas;e.addEventListener("MSPointerDown",this._onMSPointerDown,!1),e.addEventListener("MSPointerMove",this._onMSPointerMove,!1),e.addEventListener("MSPointerUp",this._onMSPointerUp,!1),e.addEventListener("pointerdown",this._onMSPointerDown,!1),e.addEventListener("pointermove",this._onMSPointerMove,!1),e.addEventListener("pointerup",this._onMSPointerUp,!1),e.style["-ms-content-zooming"]="none",e.style["-ms-touch-action"]="none",this.game.device.cocoonJS||(window.addEventListener("MSPointerUp",this._onMSPointerUpGlobal,!0),e.addEventListener("MSPointerOver",this._onMSPointerOver,!0),e.addEventListener("MSPointerOut",this._onMSPointerOut,!0),window.addEventListener("pointerup",this._onMSPointerUpGlobal,!0),e.addEventListener("pointerover",this._onMSPointerOver,!0),e.addEventListener("pointerout",this._onMSPointerOut,!0))}}},onPointerDown:function(t){this.game.input.executeTouchLockCallbacks(!1,t),this.event=t,this.capture&&t.preventDefault(),this.pointerDownCallback&&this.pointerDownCallback.call(this.callbackContext,t),this.input.enabled&&this.enabled&&(t.identifier=t.pointerId,"mouse"===t.pointerType||4===t.pointerType?this.input.mousePointer.start(t):this.input.startPointer(t))},onPointerMove:function(t){this.event=t,this.capture&&t.preventDefault(),this.pointerMoveCallback&&this.pointerMoveCallback.call(this.callbackContext,t),this.input.enabled&&this.enabled&&(t.identifier=t.pointerId,"mouse"===t.pointerType||4===t.pointerType?this.input.mousePointer.move(t):this.input.updatePointer(t))},onPointerUp:function(t){this.game.input.executeTouchLockCallbacks(!0,t),this.event=t,this.capture&&t.preventDefault(),this.pointerUpCallback&&this.pointerUpCallback.call(this.callbackContext,t),this.input.enabled&&this.enabled&&(t.identifier=t.pointerId,"mouse"===t.pointerType||4===t.pointerType?this.input.mousePointer.stop(t):this.input.stopPointer(t))},onPointerUpGlobal:function(t){if("mouse"!==t.pointerType&&4!==t.pointerType||this.input.mousePointer.withinGame){var e=this.input.getPointerFromIdentifier(t.identifier);e&&e.withinGame&&this.onPointerUp(t)}else this.onPointerUp(t)},onPointerOut:function(t){if(this.event=t,this.capture&&t.preventDefault(),"mouse"===t.pointerType||4===t.pointerType)this.input.mousePointer.withinGame=!1;else{var e=this.input.getPointerFromIdentifier(t.identifier);e&&(e.withinGame=!1)}this.input.mouse.mouseOutCallback&&this.input.mouse.mouseOutCallback.call(this.input.mouse.callbackContext,t),this.input.enabled&&this.enabled&&this.input.mouse.stopOnGameOut&&(t.identifier=0,e?e.stop(t):this.input.mousePointer.stop(t))},onPointerOver:function(t){if(this.event=t,this.capture&&t.preventDefault(),"mouse"===t.pointerType||4===t.pointerType)this.input.mousePointer.withinGame=!0;else{var e=this.input.getPointerFromIdentifier(t.identifier);e&&(e.withinGame=!0)}this.input.mouse.mouseOverCallback&&this.input.mouse.mouseOverCallback.call(this.input.mouse.callbackContext,t)},stop:function(){var t=this.game.canvas;t.removeEventListener("MSPointerDown",this._onMSPointerDown,!1),t.removeEventListener("MSPointerMove",this._onMSPointerMove,!1),t.removeEventListener("MSPointerUp",this._onMSPointerUp,!1),t.removeEventListener("pointerdown",this._onMSPointerDown,!1),t.removeEventListener("pointermove",this._onMSPointerMove,!1),t.removeEventListener("pointerup",this._onMSPointerUp,!1),window.removeEventListener("MSPointerUp",this._onMSPointerUpGlobal,!0),t.removeEventListener("MSPointerOver",this._onMSPointerOver,!0),t.removeEventListener("MSPointerOut",this._onMSPointerOut,!0),window.removeEventListener("pointerup",this._onMSPointerUpGlobal,!0),t.removeEventListener("pointerover",this._onMSPointerOver,!0),t.removeEventListener("pointerout",this._onMSPointerOut,!0)}},i.MSPointer.prototype.constructor=i.MSPointer,i.DeviceButton=function(t,e){this.parent=t,this.game=t.game,this.event=null,this.isDown=!1,this.isUp=!0,this.timeDown=0,this.timeUp=0,this.repeats=0,this.altKey=!1,this.shiftKey=!1,this.ctrlKey=!1,this.value=0,this.buttonCode=e,this.onDown=new i.Signal,this.onUp=new i.Signal,this.onFloat=new i.Signal},i.DeviceButton.prototype={start:function(t,e){this.isDown||(this.isDown=!0,this.isUp=!1,this.timeDown=this.game.time.time,this.repeats=0,this.event=t,this.value=e,t&&(this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.ctrlKey=t.ctrlKey),this.onDown.dispatch(this,e))},stop:function(t,e){this.isUp||(this.isDown=!1,this.isUp=!0,this.timeUp=this.game.time.time,this.event=t,this.value=e,t&&(this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.ctrlKey=t.ctrlKey),this.onUp.dispatch(this,e))},startStop:function(t,e,i){t?this.start(e,i):this.stop(e,i)},padFloat:function(t){this.isDown=!1,this.isUp=!1,this.value=t,this.onFloat.dispatch(this,t)},justPressed:function(t){return t=t||250,this.isDown&&this.timeDown+t>this.game.time.time},justReleased:function(t){return t=t||250,this.isUp&&this.timeUp+t>this.game.time.time},reset:function(){this.isDown=!1,this.isUp=!0,this.timeDown=this.game.time.time,this.repeats=0,this.altKey=!1,this.shiftKey=!1,this.ctrlKey=!1},destroy:function(){this.onDown.dispose(),this.onUp.dispose(),this.onFloat.dispose(),this.parent=null,this.game=null}},i.DeviceButton.prototype.constructor=i.DeviceButton,Object.defineProperty(i.DeviceButton.prototype,"duration",{get:function(){return this.isUp?-1:this.game.time.time-this.timeDown}}),i.Pointer=function(t,e,s){this.game=t,this.id=e,this.type=i.POINTER,this.exists=!0,this.identifier=0,this.pointerId=null,this.pointerMode=s||i.PointerMode.CURSOR|i.PointerMode.CONTACT,this.target=null,this.button=null,this.leftButton=new i.DeviceButton(this,i.Pointer.LEFT_BUTTON),this.middleButton=new i.DeviceButton(this,i.Pointer.MIDDLE_BUTTON),this.rightButton=new i.DeviceButton(this,i.Pointer.RIGHT_BUTTON),this.backButton=new i.DeviceButton(this,i.Pointer.BACK_BUTTON),this.forwardButton=new i.DeviceButton(this,i.Pointer.FORWARD_BUTTON),this.eraserButton=new i.DeviceButton(this,i.Pointer.ERASER_BUTTON),this._holdSent=!1,this._history=[],this._nextDrop=0,this._stateReset=!1,this.withinGame=!1,this.clientX=-1,this.clientY=-1,this.pageX=-1,this.pageY=-1,this.screenX=-1,this.screenY=-1,this.rawMovementX=0,this.rawMovementY=0,this.movementX=0,this.movementY=0,this.x=-1,this.y=-1,this.isMouse=0===e,this.isDown=!1,this.isUp=!0,this.timeDown=0,this.timeUp=0,this.previousTapTime=0,this.totalTouches=0,this.msSinceLastClick=Number.MAX_VALUE,this.targetObject=null,this.interactiveCandidates=[],this.active=!1,this.dirty=!1,this.position=new i.Point,this.positionDown=new i.Point,this.positionUp=new i.Point,this.circle=new i.Circle(0,0,44),this._clickTrampolines=null,this._trampolineTargetObject=null},i.Pointer.NO_BUTTON=0,i.Pointer.LEFT_BUTTON=1,i.Pointer.RIGHT_BUTTON=2,i.Pointer.MIDDLE_BUTTON=4,i.Pointer.BACK_BUTTON=8,i.Pointer.FORWARD_BUTTON=16,i.Pointer.ERASER_BUTTON=32,i.Pointer.prototype={resetButtons:function(){this.isDown=!1,this.isUp=!0,this.isMouse&&(this.leftButton.reset(),this.middleButton.reset(),this.rightButton.reset(),this.backButton.reset(),this.forwardButton.reset(),this.eraserButton.reset())},processButtonsDown:function(t,e){t===i.Mouse.LEFT_BUTTON&&this.leftButton.start(e),t===i.Mouse.RIGHT_BUTTON&&this.rightButton.start(e),t===i.Mouse.MIDDLE_BUTTON&&this.middleButton.start(e),t===i.Mouse.BACK_BUTTON&&this.backButton.start(e),t===i.Mouse.FORWARD_BUTTON&&this.forwardButton.start(e)},processButtonsUp:function(t,e){t===i.Mouse.LEFT_BUTTON&&this.leftButton.stop(e),t===i.Mouse.RIGHT_BUTTON&&this.rightButton.stop(e),t===i.Mouse.MIDDLE_BUTTON&&this.middleButton.stop(e),t===i.Mouse.BACK_BUTTON&&this.backButton.stop(e),t===i.Mouse.FORWARD_BUTTON&&this.forwardButton.stop(e)},processButtonsUpDown:function(t,e){var s="down"===e.type.toLowerCase().substr(-4),n="move"===e.type.toLowerCase().substr(-4);void 0!==t?(s&&1===t&&e.ctrlKey&&(t=2),this.leftButton.startStop(i.Pointer.LEFT_BUTTON&t,e),this.rightButton.startStop(i.Pointer.RIGHT_BUTTON&t,e),this.middleButton.startStop(i.Pointer.MIDDLE_BUTTON&t,e),this.backButton.startStop(i.Pointer.BACK_BUTTON&t,e),this.forwardButton.startStop(i.Pointer.FORWARD_BUTTON&t,e),this.eraserButton.startStop(i.Pointer.ERASER_BUTTON&t,e)):void 0!==e.button?s&&e.ctrlKey&&0===e.button?this.rightButton.start(e):s?this.processButtonsDown(e.button,e):n||this.processButtonsUp(e.button,e):s?e.ctrlKey?this.rightButton.start(e):this.leftButton.start(e):(this.leftButton.stop(e),this.rightButton.stop(e))},updateButtons:function(t){this.button=t.button,this.processButtonsUpDown(t.buttons,t),this.isUp=!0,this.isDown=!1,(this.leftButton.isDown||this.rightButton.isDown||this.middleButton.isDown||this.backButton.isDown||this.forwardButton.isDown||this.eraserButton.isDown)&&(this.isUp=!1,this.isDown=!0)},start:function(t){var e=this.game.input;return t.pointerId&&(this.pointerId=t.pointerId),this.identifier=t.identifier,this.target=t.target,this.isMouse?this.updateButtons(t):(this.isDown=!0,this.isUp=!1),this.active=!0,this.withinGame=!0,this.dirty=!1,this._history=[],this._clickTrampolines=null,this._trampolineTargetObject=null,this.msSinceLastClick=this.game.time.time-this.timeDown,this.timeDown=this.game.time.time,this._holdSent=!1,this.move(t,!0),this.positionDown.setTo(this.x,this.y),(e.multiInputOverride===i.Input.MOUSE_OVERRIDES_TOUCH||e.multiInputOverride===i.Input.MOUSE_TOUCH_COMBINE||e.multiInputOverride===i.Input.TOUCH_OVERRIDES_MOUSE&&0===e.totalActivePointers)&&(e.x=this.x,e.y=this.y,e.position.setTo(this.x,this.y),e.onDown.dispatch(this,t),e.resetSpeed(this.x,this.y)),this._stateReset=!1,this.totalTouches++,null!==this.targetObject&&this.targetObject._touchedHandler(this),this},update:function(){var t=this.game.input;this.active&&(this.dirty&&(t.interactiveItems.total>0&&this.processInteractiveObjects(!1),this.dirty=!1),!1===this._holdSent&&this.duration>=t.holdRate&&((t.multiInputOverride===i.Input.MOUSE_OVERRIDES_TOUCH||t.multiInputOverride===i.Input.MOUSE_TOUCH_COMBINE||t.multiInputOverride===i.Input.TOUCH_OVERRIDES_MOUSE&&0===t.totalActivePointers)&&t.onHold.dispatch(this),this._holdSent=!0),t.recordPointerHistory&&this.game.time.time>=this._nextDrop&&(this._nextDrop=this.game.time.time+t.recordRate,this._history.push({x:this.position.x,y:this.position.y}),this._history.length>t.recordLimit&&this._history.shift()))},move:function(t,e){var s=this.game.input;if(!s.pollLocked){void 0===e&&(e=!1),void 0!==t.button&&(this.button=t.button),this.isMouse&&this.updateButtons(t),this.clientX=t.clientX,this.clientY=t.clientY,this.pageX=t.pageX,this.pageY=t.pageY,this.screenX=t.screenX,this.screenY=t.screenY,this.isMouse&&s.mouse.locked&&!e&&(this.rawMovementX=t.movementX||t.mozMovementX||t.webkitMovementX||0,this.rawMovementY=t.movementY||t.mozMovementY||t.webkitMovementY||0,this.movementX+=this.rawMovementX,this.movementY+=this.rawMovementY),this.x=(this.pageX-this.game.scale.offset.x)*s.scale.x,this.y=(this.pageY-this.game.scale.offset.y)*s.scale.y,this.position.setTo(this.x,this.y),this.circle.x=this.x,this.circle.y=this.y,(s.multiInputOverride===i.Input.MOUSE_OVERRIDES_TOUCH||s.multiInputOverride===i.Input.MOUSE_TOUCH_COMBINE||s.multiInputOverride===i.Input.TOUCH_OVERRIDES_MOUSE&&0===s.totalActivePointers)&&(s.activePointer=this,s.x=this.x,s.y=this.y,s.position.setTo(s.x,s.y),s.circle.x=s.x,s.circle.y=s.y),this.withinGame=this.game.scale.bounds.contains(this.pageX,this.pageY);for(var n=s.moveCallbacks.length;n--;)s.moveCallbacks[n].callback.call(s.moveCallbacks[n].context,this,this.x,this.y,e);return null===this.targetObject||this.game.paused&&!this.targetObject.noPause||!0!==this.targetObject.isDragged?s.interactiveItems.total>0&&this.processInteractiveObjects(e):!1===this.targetObject.update(this)&&(this.targetObject=null),this}},processInteractiveObjects:function(t){var e=0,i=-1,s=null,n=this.game.input.interactiveItems.first;for(this.interactiveCandidates=[];n;)n.checked=!1,!n.validForInput(i,e,!1)||this.game.paused&&!n.sprite.noPause||(n.checked=!0,(t&&n.checkPointerDown(this,!0)||!t&&n.checkPointerOver(this,!0))&&(e=n.sprite.renderOrderID,i=n.priorityID,s=n,this.interactiveCandidates.push(n))),n=this.game.input.interactiveItems.next;for(n=this.game.input.interactiveItems.first;n;)!n.checked&&n.validForInput(i,e,!0)&&(t&&n.checkPointerDown(this,!1)||!t&&n.checkPointerOver(this,!1))&&(e=n.sprite.renderOrderID,i=n.priorityID,s=n,this.interactiveCandidates.push(n)),n=this.game.input.interactiveItems.next;return this.game.input.customCandidateHandler&&(s=this.game.input.customCandidateHandler.call(this.game.input.customCandidateHandlerContext,this,this.interactiveCandidates,s)),this.swapTarget(s,!1),null!==this.targetObject},swapTarget:function(t,e){void 0===e&&(e=!1),null===t?this.targetObject&&(this.targetObject._pointerOutHandler(this,e),this.targetObject=null):null===this.targetObject?(this.targetObject=t,t._pointerOverHandler(this,e)):this.targetObject===t?!1===t.update(this)&&(this.targetObject=null):(this.targetObject._pointerOutHandler(this,e),this.targetObject=t,this.targetObject._pointerOverHandler(this,e))},leave:function(t){this.withinGame=!1,this.move(t,!1)},stop:function(t){var e=this.game.input;{if(!this._stateReset||!this.withinGame)return this.timeUp=this.game.time.time,(e.multiInputOverride===i.Input.MOUSE_OVERRIDES_TOUCH||e.multiInputOverride===i.Input.MOUSE_TOUCH_COMBINE||e.multiInputOverride===i.Input.TOUCH_OVERRIDES_MOUSE&&0===e.totalActivePointers)&&(e.onUp.dispatch(this,t),this.duration>=0&&this.duration<=e.tapRate&&(this.timeUp-this.previousTapTime<e.doubleTapRate?e.onTap.dispatch(this,!0):e.onTap.dispatch(this,!1),this.previousTapTime=this.timeUp)),this.isMouse?this.updateButtons(t):(this.isDown=!1,this.isUp=!0),this.id>0&&(this.active=!1),this.withinGame=this.game.scale.bounds.contains(t.pageX,t.pageY),this.pointerId=null,this.identifier=null,this.positionUp.setTo(this.x,this.y),!1===this.isMouse&&e.currentPointers--,e.interactiveItems.callAll("_releasedHandler",this),this._clickTrampolines&&(this._trampolineTargetObject=this.targetObject),this.targetObject=null,this;t.preventDefault()}},justPressed:function(t){return t=t||this.game.input.justPressedRate,!0===this.isDown&&this.timeDown+t>this.game.time.time},justReleased:function(t){return t=t||this.game.input.justReleasedRate,this.isUp&&this.timeUp+t>this.game.time.time},addClickTrampoline:function(t,e,i,s){if(this.isDown){for(var n=this._clickTrampolines=this._clickTrampolines||[],o=0;o<n.length;o++)if(n[o].name===t){n.splice(o,1);break}n.push({name:t,targetObject:this.targetObject,callback:e,callbackContext:i,callbackArgs:s})}},processClickTrampolines:function(){var t=this._clickTrampolines;if(t){for(var e=0;e<t.length;e++){var i=t[e];i.targetObject===this._trampolineTargetObject&&i.callback.apply(i.callbackContext,i.callbackArgs)}this._clickTrampolines=null,this._trampolineTargetObject=null}},reset:function(){!1===this.isMouse&&(this.active=!1),this.pointerId=null,this.identifier=null,this.dirty=!1,this.totalTouches=0,this._holdSent=!1,this._history.length=0,this._stateReset=!0,this.resetButtons(),this.targetObject&&this.targetObject._releasedHandler(this),this.targetObject=null},resetMovement:function(){this.movementX=0,this.movementY=0}},i.Pointer.prototype.constructor=i.Pointer,Object.defineProperty(i.Pointer.prototype,"duration",{get:function(){return this.isUp?-1:this.game.time.time-this.timeDown}}),Object.defineProperty(i.Pointer.prototype,"worldX",{get:function(){return this.game.world.camera.x+this.x}}),Object.defineProperty(i.Pointer.prototype,"worldY",{get:function(){return this.game.world.camera.y+this.y}}),i.PointerMode={CURSOR:1,CONTACT:2},i.Touch=function(t){this.game=t,this.enabled=!0,this.callbackContext=this.game,this.touchStartCallback=null,this.touchMoveCallback=null,this.touchEndCallback=null,this.touchEnterCallback=null,this.touchLeaveCallback=null,this.touchCancelCallback=null,this.preventDefault=!0,this.event=null,this._onTouchStart=null,this._onTouchMove=null,this._onTouchEnd=null,this._onTouchEnter=null,this._onTouchLeave=null,this._onTouchCancel=null,this._onTouchMove=null},i.Touch.prototype={start:function(){if(null===this._onTouchStart){var t=this;this.game.device.touch&&(this._onTouchStart=function(e){return t.onTouchStart(e)},this._onTouchMove=function(e){return t.onTouchMove(e)},this._onTouchEnd=function(e){return t.onTouchEnd(e)},this._onTouchEnter=function(e){return t.onTouchEnter(e)},this._onTouchLeave=function(e){return t.onTouchLeave(e)},this._onTouchCancel=function(e){return t.onTouchCancel(e)},this.game.canvas.addEventListener("touchstart",this._onTouchStart,!1),this.game.canvas.addEventListener("touchmove",this._onTouchMove,!1),this.game.canvas.addEventListener("touchend",this._onTouchEnd,!1),this.game.canvas.addEventListener("touchcancel",this._onTouchCancel,!1),this.game.device.cocoonJS||(this.game.canvas.addEventListener("touchenter",this._onTouchEnter,!1),this.game.canvas.addEventListener("touchleave",this._onTouchLeave,!1))),this.addTouchLockCallback=this.game.input.addTouchLockCallback.bind(this.game.input),this.removeTouchLockCallback=this.game.input.removeTouchLockCallback.bind(this.game.input)}},consumeDocumentTouches:function(){this._documentTouchMove=function(t){t.preventDefault()},document.addEventListener("touchmove",this._documentTouchMove,!1)},onTouchStart:function(t){if(this.game.input.executeTouchLockCallbacks(!1,t),this.event=t,this.game.input.enabled&&this.enabled){this.touchStartCallback&&this.touchStartCallback.call(this.callbackContext,t),this.preventDefault&&t.preventDefault();for(var e=0;e<t.changedTouches.length;e++)this.game.input.startPointer(t.changedTouches[e])}},onTouchCancel:function(t){if(this.event=t,this.touchCancelCallback&&this.touchCancelCallback.call(this.callbackContext,t),this.game.input.enabled&&this.enabled){this.preventDefault&&t.preventDefault();for(var e=0;e<t.changedTouches.length;e++)this.game.input.stopPointer(t.changedTouches[e])}},onTouchEnter:function(t){this.event=t,this.touchEnterCallback&&this.touchEnterCallback.call(this.callbackContext,t),this.game.input.enabled&&this.enabled&&this.preventDefault&&t.preventDefault()},onTouchLeave:function(t){this.event=t,this.touchLeaveCallback&&this.touchLeaveCallback.call(this.callbackContext,t),this.preventDefault&&t.preventDefault()},onTouchMove:function(t){this.event=t,this.touchMoveCallback&&this.touchMoveCallback.call(this.callbackContext,t),this.preventDefault&&t.preventDefault();for(var e=0;e<t.changedTouches.length;e++)this.game.input.updatePointer(t.changedTouches[e])},onTouchEnd:function(t){this.game.input.executeTouchLockCallbacks(!0,t),this.event=t,this.touchEndCallback&&this.touchEndCallback.call(this.callbackContext,t),this.preventDefault&&t.preventDefault();for(var e=0;e<t.changedTouches.length;e++)this.game.input.stopPointer(t.changedTouches[e])},stop:function(){this.game.device.touch&&(this.game.canvas.removeEventListener("touchstart",this._onTouchStart),this.game.canvas.removeEventListener("touchmove",this._onTouchMove),this.game.canvas.removeEventListener("touchend",this._onTouchEnd),this.game.canvas.removeEventListener("touchenter",this._onTouchEnter),this.game.canvas.removeEventListener("touchleave",this._onTouchLeave),this.game.canvas.removeEventListener("touchcancel",this._onTouchCancel))}},i.Touch.prototype.constructor=i.Touch,i.InputHandler=function(t){this.sprite=t,this.game=t.game,this.enabled=!1,this.checked=!1,this.priorityID=0,this.useHandCursor=!1,this._setHandCursor=!1,this.isDragged=!1,this.allowHorizontalDrag=!0,this.allowVerticalDrag=!0,this.bringToTop=!1,this.snapOffset=null,this.snapOnDrag=!1,this.snapOnRelease=!1,this.snapX=0,this.snapY=0,this.snapOffsetX=0,this.snapOffsetY=0,this.pixelPerfectOver=!1,this.pixelPerfectClick=!1,this.pixelPerfectAlpha=255,this.draggable=!1,this.boundsRect=null,this.boundsSprite=null,this.scaleLayer=!1,this.dragOffset=new i.Point,this.dragFromCenter=!1,this.dragStopBlocksInputUp=!1,this.dragStartPoint=new i.Point,this.dragDistanceThreshold=0,this.dragTimeThreshold=0,this.downPoint=new i.Point,this.snapPoint=new i.Point,this._dragPoint=new i.Point,this._dragPhase=!1,this._pendingDrag=!1,this._dragTimePass=!1,this._dragDistancePass=!1,this._wasEnabled=!1,this._tempPoint=new i.Point,this._pointerData=[],this._pointerData.push({id:0,x:0,y:0,camX:0,camY:0,isDown:!1,isUp:!1,isOver:!1,isOut:!1,timeOver:0,timeOut:0,timeDown:0,timeUp:0,downDuration:0,isDragged:!1})},i.InputHandler.prototype={start:function(t,e){if(t=t||0,void 0===e&&(e=!1),!1===this.enabled){this.game.input.interactiveItems.add(this),this.useHandCursor=e,this.priorityID=t;for(var s=0;s<10;s++)this._pointerData[s]={id:s,x:0,y:0,isDown:!1,isUp:!1,isOver:!1,isOut:!1,timeOver:0,timeOut:0,timeDown:0,timeUp:0,downDuration:0,isDragged:!1};this.snapOffset=new i.Point,this.enabled=!0,this._wasEnabled=!0}return this.sprite.events.onAddedToGroup.add(this.addedToGroup,this),this.sprite.events.onRemovedFromGroup.add(this.removedFromGroup,this),this.sprite},addedToGroup:function(){this._dragPhase||this._wasEnabled&&!this.enabled&&this.start()},removedFromGroup:function(){this._dragPhase||(this.enabled?(this._wasEnabled=!0,this.stop()):this._wasEnabled=!1)},reset:function(){this.enabled=!1;for(var t=0;t<10;t++)this._pointerData[t]={id:t,x:0,y:0,isDown:!1,isUp:!1,isOver:!1,isOut:!1,timeOver:0,timeOut:0,timeDown:0,timeUp:0,downDuration:0,isDragged:!1}},stop:function(){!1!==this.enabled&&(this.enabled=!1,this.game.input.interactiveItems.remove(this))},destroy:function(){this.sprite&&(this._setHandCursor&&(this.game.canvas.style.cursor="",this._setHandCursor=!1),this.enabled=!1,this.game.input.interactiveItems.remove(this),this._pointerData.length=0,this.boundsRect=null,this.boundsSprite=null,this.sprite=null)},validForInput:function(t,e,i){return void 0===i&&(i=!0),!(!this.enabled||0===this.sprite.scale.x||0===this.sprite.scale.y||this.priorityID<this.game.input.minPriorityID||this.sprite.parent&&this.sprite.parent.ignoreChildInput)&&(!(!i&&(this.pixelPerfectClick||this.pixelPerfectOver))&&(this.priorityID>t||this.priorityID===t&&this.sprite.renderOrderID>e))},isPixelPerfect:function(){return this.pixelPerfectClick||this.pixelPerfectOver},pointerX:function(t){return t=t||0,this._pointerData[t].x},pointerY:function(t){return t=t||0,this._pointerData[t].y},pointerDown:function(t){return t=t||0,this._pointerData[t].isDown},pointerUp:function(t){return t=t||0,this._pointerData[t].isUp},pointerTimeDown:function(t){return t=t||0,this._pointerData[t].timeDown},pointerTimeUp:function(t){return t=t||0,this._pointerData[t].timeUp},pointerOver:function(t){if(!this.enabled)return!1;if(void 0===t){for(var e=0;e<10;e++)if(this._pointerData[e].isOver)return!0;return!1}return this._pointerData[t].isOver},pointerOut:function(t){if(!this.enabled)return!1;if(void 0!==t)return this._pointerData[t].isOut;for(var e=0;e<10;e++)if(this._pointerData[e].isOut)return!0},pointerTimeOver:function(t){return t=t||0,this._pointerData[t].timeOver},pointerTimeOut:function(t){return t=t||0,this._pointerData[t].timeOut},pointerDragged:function(t){return t=t||0,this._pointerData[t].isDragged},checkPointerDown:function(t,e){return!!(t.isDown&&this.enabled&&this.sprite&&this.sprite.parent&&this.sprite.visible&&this.sprite.parent.visible&&0!==this.sprite.worldScale.x&&0!==this.sprite.worldScale.y)&&(!!this.game.input.hitTest(this.sprite,t,this._tempPoint)&&(void 0===e&&(e=!1),!(!e&&this.pixelPerfectClick)||this.checkPixel(this._tempPoint.x,this._tempPoint.y)))},checkPointerOver:function(t,e){return!!(this.enabled&&this.sprite&&this.sprite.parent&&this.sprite.visible&&this.sprite.parent.visible&&0!==this.sprite.worldScale.x&&0!==this.sprite.worldScale.y)&&(!!this.game.input.hitTest(this.sprite,t,this._tempPoint)&&(void 0===e&&(e=!1),!(!e&&this.pixelPerfectOver)||this.checkPixel(this._tempPoint.x,this._tempPoint.y)))},checkPixel:function(t,e,i){if(this.sprite.texture.baseTexture.source){if(null===t&&null===e){this.game.input.getLocalPosition(this.sprite,i,this._tempPoint);var t=this._tempPoint.x,e=this._tempPoint.y}if(0!==this.sprite.anchor.x&&(t-=-this.sprite.texture.frame.width*this.sprite.anchor.x),0!==this.sprite.anchor.y&&(e-=-this.sprite.texture.frame.height*this.sprite.anchor.y),t+=this.sprite.texture.frame.x,e+=this.sprite.texture.frame.y,this.sprite.texture.trim&&(t-=this.sprite.texture.trim.x,e-=this.sprite.texture.trim.y,t<this.sprite.texture.crop.x||t>this.sprite.texture.crop.right||e<this.sprite.texture.crop.y||e>this.sprite.texture.crop.bottom))return this._dx=t,this._dy=e,!1;if(this._dx=t,this._dy=e,this.game.input.hitContext.clearRect(0,0,1,1),this.game.input.hitContext.drawImage(this.sprite.texture.baseTexture.source,t,e,1,1,0,0,1,1),this.game.input.hitContext.getImageData(0,0,1,1).data[3]>=this.pixelPerfectAlpha)return!0}return!1},update:function(t){if(null!==this.sprite&&void 0!==this.sprite.parent)return this.enabled&&this.sprite.visible&&this.sprite.parent.visible?this._pendingDrag?(this._dragDistancePass||(this._dragDistancePass=i.Math.distance(t.x,t.y,this.downPoint.x,this.downPoint.y)>=this.dragDistanceThreshold),this._dragDistancePass&&this._dragTimePass&&this.startDrag(t),!0):this.draggable&&this._draggedPointerID===t.id?this.updateDrag(t,!1):this._pointerData[t.id].isOver?this.checkPointerOver(t)?(this._pointerData[t.id].x=t.x-this.sprite.x,this._pointerData[t.id].y=t.y-this.sprite.y,!0):(this._pointerOutHandler(t),!1):void 0:(this._pointerOutHandler(t),!1)},_pointerOverHandler:function(t,e){if(null!==this.sprite){var i=this._pointerData[t.id];if(!1===i.isOver||t.dirty){var s=!1===i.isOver;i.isOver=!0,i.isOut=!1,i.timeOver=this.game.time.time,i.x=t.x-this.sprite.x,i.y=t.y-this.sprite.y,this.useHandCursor&&!1===i.isDragged&&(this.game.canvas.style.cursor="pointer",this._setHandCursor=!0),!e&&s&&this.sprite&&this.sprite.events&&this.sprite.events.onInputOver$dispatch(this.sprite,t),this.sprite.parent&&this.sprite.parent.onChildInputOver&&this.sprite.parent.onChildInputOver.dispatch(this.sprite,t)}}},_pointerOutHandler:function(t,e){if(null!==this.sprite){var i=this._pointerData[t.id];i.isOver=!1,i.isOut=!0,i.timeOut=this.game.time.time,this.useHandCursor&&!1===i.isDragged&&(this.game.canvas.style.cursor="",this._setHandCursor=!1),!e&&this.sprite&&this.sprite.events&&(this.sprite.events.onInputOut$dispatch(this.sprite,t),this.sprite&&this.sprite.parent&&this.sprite.parent.onChildInputOut&&this.sprite.parent.onChildInputOut.dispatch(this.sprite,t))}},_touchedHandler:function(t){if(null!==this.sprite){var e=this._pointerData[t.id];if(!e.isDown&&e.isOver){if(this.pixelPerfectClick&&!this.checkPixel(null,null,t))return;if(e.isDown=!0,e.isUp=!1,e.timeDown=this.game.time.time,this.downPoint.set(t.x,t.y),t.dirty=!0,this.sprite&&this.sprite.events&&(this.sprite.events.onInputDown$dispatch(this.sprite,t),this.sprite&&this.sprite.parent&&this.sprite.parent.onChildInputDown&&this.sprite.parent.onChildInputDown.dispatch(this.sprite,t),null===this.sprite))return;this.draggable&&!1===this.isDragged&&(0===this.dragTimeThreshold&&0===this.dragDistanceThreshold?this.startDrag(t):(this._pendingDrag=!0,this._dragDistancePass=0===this.dragDistanceThreshold,this.dragTimeThreshold>0?(this._dragTimePass=!1,this.game.time.events.add(this.dragTimeThreshold,this.dragTimeElapsed,this,t)):this._dragTimePass=!0)),this.bringToTop&&this.sprite.bringToTop()}}},dragTimeElapsed:function(t){this._dragTimePass=!0,this._pendingDrag&&this.sprite&&this._dragDistancePass&&this.startDrag(t)},_releasedHandler:function(t){if(null!==this.sprite){var e=this._pointerData[t.id];if(e.isDown&&t.isUp){e.isDown=!1,e.isUp=!0,e.timeUp=this.game.time.time,e.downDuration=e.timeUp-e.timeDown;var i=this.checkPointerOver(t);this.sprite&&this.sprite.events&&(this.dragStopBlocksInputUp&&(!this.dragStopBlocksInputUp||this.draggable&&this.isDragged&&this._draggedPointerID===t.id)||this.sprite.events.onInputUp$dispatch(this.sprite,t,i),this.sprite&&this.sprite.parent&&this.sprite.parent.onChildInputUp&&this.sprite.parent.onChildInputUp.dispatch(this.sprite,t,i),i&&(i=this.checkPointerOver(t))),e.isOver=i,!i&&this.useHandCursor&&(this.game.canvas.style.cursor="default",this._setHandCursor=!1),t.dirty=!0,this._pendingDrag=!1,this.draggable&&this.isDragged&&this._draggedPointerID===t.id&&this.stopDrag(t)}}},updateDrag:function(t,e){if(void 0===e&&(e=!1),t.isUp)return this.stopDrag(t),!1;var i=this.globalToLocal(t),s=i.x+this._dragPoint.x+this.dragOffset.x,n=i.y+this._dragPoint.y+this.dragOffset.y;if(this.sprite.fixedToCamera)this.allowHorizontalDrag&&(this.sprite.cameraOffset.x=s-this.game.camera.x),this.allowVerticalDrag&&(this.sprite.cameraOffset.y=n-this.game.camera.y),this.boundsRect&&this.checkBoundsRect(),this.boundsSprite&&this.checkBoundsSprite(),this.snapOnDrag&&(this.sprite.cameraOffset.x=Math.round((this.sprite.cameraOffset.x-this.snapOffsetX%this.snapX)/this.snapX)*this.snapX+this.snapOffsetX%this.snapX,this.sprite.cameraOffset.y=Math.round((this.sprite.cameraOffset.y-this.snapOffsetY%this.snapY)/this.snapY)*this.snapY+this.snapOffsetY%this.snapY,this.snapPoint.set(this.sprite.cameraOffset.x,this.sprite.cameraOffset.y));else{var o=this.game.camera.x-this._pointerData[t.id].camX,r=this.game.camera.y-this._pointerData[t.id].camY;this.allowHorizontalDrag&&(this.sprite.x=s+o),this.allowVerticalDrag&&(this.sprite.y=n+r),this.boundsRect&&this.checkBoundsRect(),this.boundsSprite&&this.checkBoundsSprite(),this.snapOnDrag&&(this.sprite.x=Math.round((this.sprite.x-this.snapOffsetX%this.snapX)/this.snapX)*this.snapX+this.snapOffsetX%this.snapX,this.sprite.y=Math.round((this.sprite.y-this.snapOffsetY%this.snapY)/this.snapY)*this.snapY+this.snapOffsetY%this.snapY,this.snapPoint.set(this.sprite.x,this.sprite.y))}return this.sprite.events.onDragUpdate.dispatch(this.sprite,t,s,n,this.snapPoint,e),!0},justOver:function(t,e){return t=t||0,e=e||500,this._pointerData[t].isOver&&this.overDuration(t)<e},justOut:function(t,e){return t=t||0,e=e||500,this._pointerData[t].isOut&&this.game.time.time-this._pointerData[t].timeOut<e},justPressed:function(t,e){return t=t||0,e=e||500,this._pointerData[t].isDown&&this.downDuration(t)<e},justReleased:function(t,e){return t=t||0,e=e||500,this._pointerData[t].isUp&&this.game.time.time-this._pointerData[t].timeUp<e},overDuration:function(t){return t=t||0,this._pointerData[t].isOver?this.game.time.time-this._pointerData[t].timeOver:-1},downDuration:function(t){return t=t||0,this._pointerData[t].isDown?this.game.time.time-this._pointerData[t].timeDown:-1},enableDrag:function(t,e,s,n,o,r){void 0===t&&(t=!1),void 0===e&&(e=!1),void 0===s&&(s=!1),void 0===n&&(n=255),void 0===o&&(o=null),void 0===r&&(r=null),this._dragPoint=new i.Point,this.draggable=!0,this.bringToTop=e,this.dragOffset=new i.Point,this.dragFromCenter=t,this.pixelPerfectClick=s,this.pixelPerfectAlpha=n,o&&(this.boundsRect=o),r&&(this.boundsSprite=r)},disableDrag:function(){if(this._pointerData)for(var t=0;t<10;t++)this._pointerData[t].isDragged=!1;this.draggable=!1,this.isDragged=!1,this._draggedPointerID=-1,this._pendingDrag=!1},startDrag:function(t){var e=this.sprite.x,s=this.sprite.y,n=this.globalToLocal(t);if(this.isDragged=!0,this._draggedPointerID=t.id,this._pointerData[t.id].camX=this.game.camera.x,this._pointerData[t.id].camY=this.game.camera.y,this._pointerData[t.id].isDragged=!0,this.sprite.fixedToCamera){if(this.dragFromCenter){var o=this.sprite.getBounds(),r=this.globalToLocal(new i.Point(o.centerX,o.centerY));this.sprite.cameraOffset.x=n.x+(this.sprite.cameraOffset.x-r.x),this.sprite.cameraOffset.y=n.y+(this.sprite.cameraOffset.y-r.y)}this._dragPoint.setTo(this.sprite.cameraOffset.x-t.x,this.sprite.cameraOffset.y-t.y)}else{if(this.dragFromCenter){var o=this.sprite.getBounds(),r=this.globalToLocal(new i.Point(o.centerX,o.centerY));this.sprite.x=n.x+(this.sprite.x-r.x),this.sprite.y=n.y+(this.sprite.y-r.y)}this._dragPoint.setTo(this.sprite.x-n.x,this.sprite.y-n.y)}this.updateDrag(t,!0),this.bringToTop&&(this._dragPhase=!0,this.sprite.bringToTop()),this.dragStartPoint.set(e,s),this.sprite.events.onDragStart$dispatch(this.sprite,t,e,s),this._pendingDrag=!1},globalToLocalX:function(t){return this.scaleLayer&&(t-=this.game.scale.grid.boundsFluid.x,t*=this.game.scale.grid.scaleFluidInversed.x),t},globalToLocalY:function(t){return this.scaleLayer&&(t-=this.game.scale.grid.boundsFluid.y,t*=this.game.scale.grid.scaleFluidInversed.y),t},globalToLocal:function(t){return this.sprite.parent?this.game.input.getLocalPosition(this.sprite.parent,{x:t.x,y:t.y}):t},stopDrag:function(t){this.isDragged=!1,this._draggedPointerID=-1,this._pointerData[t.id].isDragged=!1,this._dragPhase=!1,this._pendingDrag=!1,this.snapOnRelease&&(this.sprite.fixedToCamera?(this.sprite.cameraOffset.x=Math.round((this.sprite.cameraOffset.x-this.snapOffsetX%this.snapX)/this.snapX)*this.snapX+this.snapOffsetX%this.snapX,this.sprite.cameraOffset.y=Math.round((this.sprite.cameraOffset.y-this.snapOffsetY%this.snapY)/this.snapY)*this.snapY+this.snapOffsetY%this.snapY):(this.sprite.x=Math.round((this.sprite.x-this.snapOffsetX%this.snapX)/this.snapX)*this.snapX+this.snapOffsetX%this.snapX,this.sprite.y=Math.round((this.sprite.y-this.snapOffsetY%this.snapY)/this.snapY)*this.snapY+this.snapOffsetY%this.snapY)),this.sprite.events.onDragStop$dispatch(this.sprite,t),!1===this.checkPointerOver(t)&&this._pointerOutHandler(t)},setDragLock:function(t,e){void 0===t&&(t=!0),void 0===e&&(e=!0),this.allowHorizontalDrag=t,this.allowVerticalDrag=e},enableSnap:function(t,e,i,s,n,o){void 0===i&&(i=!0),void 0===s&&(s=!1),void 0===n&&(n=0),void 0===o&&(o=0),this.snapX=t,this.snapY=e,this.snapOffsetX=n,this.snapOffsetY=o,this.snapOnDrag=i,this.snapOnRelease=s},disableSnap:function(){this.snapOnDrag=!1,this.snapOnRelease=!1},checkBoundsRect:function(){this.sprite.fixedToCamera?(this.sprite.cameraOffset.x<this.boundsRect.left?this.sprite.cameraOffset.x=this.boundsRect.left:this.sprite.cameraOffset.x+this.sprite.width>this.boundsRect.right&&(this.sprite.cameraOffset.x=this.boundsRect.right-this.sprite.width),this.sprite.cameraOffset.y<this.boundsRect.top?this.sprite.cameraOffset.y=this.boundsRect.top:this.sprite.cameraOffset.y+this.sprite.height>this.boundsRect.bottom&&(this.sprite.cameraOffset.y=this.boundsRect.bottom-this.sprite.height)):(this.sprite.left<this.boundsRect.left?this.sprite.x=this.boundsRect.x+this.sprite.offsetX:this.sprite.right>this.boundsRect.right&&(this.sprite.x=this.boundsRect.right-(this.sprite.width-this.sprite.offsetX)),this.sprite.top<this.boundsRect.top?this.sprite.y=this.boundsRect.top+this.sprite.offsetY:this.sprite.bottom>this.boundsRect.bottom&&(this.sprite.y=this.boundsRect.bottom-(this.sprite.height-this.sprite.offsetY)))},checkBoundsSprite:function(){this.sprite.fixedToCamera&&this.boundsSprite.fixedToCamera?(this.sprite.cameraOffset.x<this.boundsSprite.cameraOffset.x?this.sprite.cameraOffset.x=this.boundsSprite.cameraOffset.x:this.sprite.cameraOffset.x+this.sprite.width>this.boundsSprite.cameraOffset.x+this.boundsSprite.width&&(this.sprite.cameraOffset.x=this.boundsSprite.cameraOffset.x+this.boundsSprite.width-this.sprite.width),this.sprite.cameraOffset.y<this.boundsSprite.cameraOffset.y?this.sprite.cameraOffset.y=this.boundsSprite.cameraOffset.y:this.sprite.cameraOffset.y+this.sprite.height>this.boundsSprite.cameraOffset.y+this.boundsSprite.height&&(this.sprite.cameraOffset.y=this.boundsSprite.cameraOffset.y+this.boundsSprite.height-this.sprite.height)):(this.sprite.left<this.boundsSprite.left?this.sprite.x=this.boundsSprite.left+this.sprite.offsetX:this.sprite.right>this.boundsSprite.right&&(this.sprite.x=this.boundsSprite.right-(this.sprite.width-this.sprite.offsetX)),this.sprite.top<this.boundsSprite.top?this.sprite.y=this.boundsSprite.top+this.sprite.offsetY:this.sprite.bottom>this.boundsSprite.bottom&&(this.sprite.y=this.boundsSprite.bottom-(this.sprite.height-this.sprite.offsetY)))}},i.InputHandler.prototype.constructor=i.InputHandler,i.Gamepad=function(t){this.game=t,this._gamepadIndexMap={},this._rawPads=[],this._active=!1,this.enabled=!0,this._gamepadSupportAvailable=!!navigator.webkitGetGamepads||!!navigator.webkitGamepads||-1!==navigator.userAgent.indexOf("Firefox/")||!!navigator.getGamepads,this._prevRawGamepadTypes=[],this._prevTimestamps=[],this.callbackContext=this,this.onConnectCallback=null,this.onDisconnectCallback=null,this.onDownCallback=null,this.onUpCallback=null,this.onAxisCallback=null,this.onFloatCallback=null,this._ongamepadconnected=null,this._gamepaddisconnected=null,this._gamepads=[new i.SinglePad(t,this),new i.SinglePad(t,this),new i.SinglePad(t,this),new i.SinglePad(t,this)]},i.Gamepad.prototype={addCallbacks:function(t,e){void 0!==e&&(this.onConnectCallback="function"==typeof e.onConnect?e.onConnect:this.onConnectCallback,this.onDisconnectCallback="function"==typeof e.onDisconnect?e.onDisconnect:this.onDisconnectCallback,this.onDownCallback="function"==typeof e.onDown?e.onDown:this.onDownCallback,this.onUpCallback="function"==typeof e.onUp?e.onUp:this.onUpCallback,this.onAxisCallback="function"==typeof e.onAxis?e.onAxis:this.onAxisCallback,this.onFloatCallback="function"==typeof e.onFloat?e.onFloat:this.onFloatCallback,this.callbackContext=t)},start:function(){if(!this._active){this._active=!0;var t=this;this._onGamepadConnected=function(e){return t.onGamepadConnected(e)},this._onGamepadDisconnected=function(e){return t.onGamepadDisconnected(e)},window.addEventListener("gamepadconnected",this._onGamepadConnected,!1),window.addEventListener("gamepaddisconnected",this._onGamepadDisconnected,!1)}},onGamepadConnected:function(t){var e=t.gamepad;this._rawPads.push(e),this._gamepads[e.index].connect(e)},onGamepadDisconnected:function(t){var e=t.gamepad;for(var i in this._rawPads)this._rawPads[i].index===e.index&&this._rawPads.splice(i,1);this._gamepads[e.index].disconnect()},update:function(){this._pollGamepads(),this.pad1.pollStatus(),this.pad2.pollStatus(),this.pad3.pollStatus(),this.pad4.pollStatus()},_pollGamepads:function(){if(this._active){if(navigator.getGamepads)t=navigator.getGamepads();else if(navigator.webkitGetGamepads)t=navigator.webkitGetGamepads();else if(navigator.webkitGamepads)var t=navigator.webkitGamepads();if(t){this._rawPads=[];for(var e=!1,i=0;i<t.length&&(typeof t[i]!==this._prevRawGamepadTypes[i]&&(e=!0,this._prevRawGamepadTypes[i]=typeof t[i]),t[i]&&this._rawPads.push(t[i]),3!==i);i++);for(var s=0;s<this._gamepads.length;s++)this._gamepads[s]._rawPad=this._rawPads[s];if(e){for(var n,o={rawIndices:{},padIndices:{}},r=0;r<this._gamepads.length;r++)if((n=this._gamepads[r]).connected)for(var a=0;a<this._rawPads.length;a++)this._rawPads[a].index===n.index&&(o.rawIndices[n.index]=!0,o.padIndices[r]=!0);for(var h=0;h<this._gamepads.length;h++)if(n=this._gamepads[h],!o.padIndices[h]){this._rawPads.length<1&&n.disconnect();for(var l=0;l<this._rawPads.length&&!o.padIndices[h];l++){var c=this._rawPads[l];if(c){if(o.rawIndices[c.index]){n.disconnect();continue}n.connect(c),o.rawIndices[c.index]=!0,o.padIndices[h]=!0}else n.disconnect()}}}}}},setDeadZones:function(t){for(var e=0;e<this._gamepads.length;e++)this._gamepads[e].deadZone=t},stop:function(){this._active=!1,window.removeEventListener("gamepadconnected",this._onGamepadConnected),window.removeEventListener("gamepaddisconnected",this._onGamepadDisconnected)},reset:function(){this.update();for(var t=0;t<this._gamepads.length;t++)this._gamepads[t].reset()},justPressed:function(t,e){for(var i=0;i<this._gamepads.length;i++)if(!0===this._gamepads[i].justPressed(t,e))return!0;return!1},justReleased:function(t,e){for(var i=0;i<this._gamepads.length;i++)if(!0===this._gamepads[i].justReleased(t,e))return!0;return!1},isDown:function(t){for(var e=0;e<this._gamepads.length;e++)if(!0===this._gamepads[e].isDown(t))return!0;return!1},destroy:function(){this.stop();for(var t=0;t<this._gamepads.length;t++)this._gamepads[t].destroy()}},i.Gamepad.prototype.constructor=i.Gamepad,Object.defineProperty(i.Gamepad.prototype,"active",{get:function(){return this._active}}),Object.defineProperty(i.Gamepad.prototype,"supported",{get:function(){return this._gamepadSupportAvailable}}),Object.defineProperty(i.Gamepad.prototype,"padsConnected",{get:function(){return this._rawPads.length}}),Object.defineProperty(i.Gamepad.prototype,"pad1",{get:function(){return this._gamepads[0]}}),Object.defineProperty(i.Gamepad.prototype,"pad2",{get:function(){return this._gamepads[1]}}),Object.defineProperty(i.Gamepad.prototype,"pad3",{get:function(){return this._gamepads[2]}}),Object.defineProperty(i.Gamepad.prototype,"pad4",{get:function(){return this._gamepads[3]}}),i.Gamepad.BUTTON_0=0,i.Gamepad.BUTTON_1=1,i.Gamepad.BUTTON_2=2,i.Gamepad.BUTTON_3=3,i.Gamepad.BUTTON_4=4,i.Gamepad.BUTTON_5=5,i.Gamepad.BUTTON_6=6,i.Gamepad.BUTTON_7=7,i.Gamepad.BUTTON_8=8,i.Gamepad.BUTTON_9=9,i.Gamepad.BUTTON_10=10,i.Gamepad.BUTTON_11=11,i.Gamepad.BUTTON_12=12,i.Gamepad.BUTTON_13=13,i.Gamepad.BUTTON_14=14,i.Gamepad.BUTTON_15=15,i.Gamepad.AXIS_0=0,i.Gamepad.AXIS_1=1,i.Gamepad.AXIS_2=2,i.Gamepad.AXIS_3=3,i.Gamepad.AXIS_4=4,i.Gamepad.AXIS_5=5,i.Gamepad.AXIS_6=6,i.Gamepad.AXIS_7=7,i.Gamepad.AXIS_8=8,i.Gamepad.AXIS_9=9,i.Gamepad.XBOX360_A=0,i.Gamepad.XBOX360_B=1,i.Gamepad.XBOX360_X=2,i.Gamepad.XBOX360_Y=3,i.Gamepad.XBOX360_LEFT_BUMPER=4,i.Gamepad.XBOX360_RIGHT_BUMPER=5,i.Gamepad.XBOX360_LEFT_TRIGGER=6,i.Gamepad.XBOX360_RIGHT_TRIGGER=7,i.Gamepad.XBOX360_BACK=8,i.Gamepad.XBOX360_START=9,i.Gamepad.XBOX360_STICK_LEFT_BUTTON=10,i.Gamepad.XBOX360_STICK_RIGHT_BUTTON=11,i.Gamepad.XBOX360_DPAD_LEFT=14,i.Gamepad.XBOX360_DPAD_RIGHT=15,i.Gamepad.XBOX360_DPAD_UP=12,i.Gamepad.XBOX360_DPAD_DOWN=13,i.Gamepad.XBOX360_STICK_LEFT_X=0,i.Gamepad.XBOX360_STICK_LEFT_Y=1,i.Gamepad.XBOX360_STICK_RIGHT_X=2,i.Gamepad.XBOX360_STICK_RIGHT_Y=3,i.Gamepad.PS3XC_X=0,i.Gamepad.PS3XC_CIRCLE=1,i.Gamepad.PS3XC_SQUARE=2,i.Gamepad.PS3XC_TRIANGLE=3,i.Gamepad.PS3XC_L1=4,i.Gamepad.PS3XC_R1=5,i.Gamepad.PS3XC_L2=6,i.Gamepad.PS3XC_R2=7,i.Gamepad.PS3XC_SELECT=8,i.Gamepad.PS3XC_START=9,i.Gamepad.PS3XC_STICK_LEFT_BUTTON=10,i.Gamepad.PS3XC_STICK_RIGHT_BUTTON=11,i.Gamepad.PS3XC_DPAD_UP=12,i.Gamepad.PS3XC_DPAD_DOWN=13,i.Gamepad.PS3XC_DPAD_LEFT=14,i.Gamepad.PS3XC_DPAD_RIGHT=15,i.Gamepad.PS3XC_STICK_LEFT_X=0,i.Gamepad.PS3XC_STICK_LEFT_Y=1,i.Gamepad.PS3XC_STICK_RIGHT_X=2,i.Gamepad.PS3XC_STICK_RIGHT_Y=3,i.SinglePad=function(t,e){this.game=t,this.index=null,this.connected=!1,this.callbackContext=this,this.onConnectCallback=null,this.onDisconnectCallback=null,this.onDownCallback=null,this.onUpCallback=null,this.onAxisCallback=null,this.onFloatCallback=null,this.deadZone=.26,this._padParent=e,this._rawPad=null,this._prevTimestamp=null,this._buttons=[],this._buttonsLen=0,this._axes=[],this._axesLen=0},i.SinglePad.prototype={addCallbacks:function(t,e){void 0!==e&&(this.onConnectCallback="function"==typeof e.onConnect?e.onConnect:this.onConnectCallback,this.onDisconnectCallback="function"==typeof e.onDisconnect?e.onDisconnect:this.onDisconnectCallback,this.onDownCallback="function"==typeof e.onDown?e.onDown:this.onDownCallback,this.onUpCallback="function"==typeof e.onUp?e.onUp:this.onUpCallback,this.onAxisCallback="function"==typeof e.onAxis?e.onAxis:this.onAxisCallback,this.onFloatCallback="function"==typeof e.onFloat?e.onFloat:this.onFloatCallback,this.callbackContext=t)},getButton:function(t){return this._buttons[t]?this._buttons[t]:null},pollStatus:function(){if(this.connected&&this.game.input.enabled&&this.game.input.gamepad.enabled&&(!this._rawPad.timestamp||this._rawPad.timestamp!==this._prevTimestamp)){for(var t=0;t<this._buttonsLen;t++){var e=isNaN(this._rawPad.buttons[t])?this._rawPad.buttons[t].value:this._rawPad.buttons[t];e!==this._buttons[t].value&&(1===e?this.processButtonDown(t,e):0===e?this.processButtonUp(t,e):this.processButtonFloat(t,e))}for(var i=0;i<this._axesLen;i++){var s=this._rawPad.axes[i];s>0&&s>this.deadZone||s<0&&s<-this.deadZone?this.processAxisChange(i,s):this.processAxisChange(i,0)}this._prevTimestamp=this._rawPad.timestamp}},connect:function(t){var e=!this.connected;this.connected=!0,this.index=t.index,this._rawPad=t,this._buttons=[],this._buttonsLen=t.buttons.length,this._axes=[],this._axesLen=t.axes.length;for(var s=0;s<this._axesLen;s++)this._axes[s]=t.axes[s];for(var n in t.buttons)n=parseInt(n,10),this._buttons[n]=new i.DeviceButton(this,n);e&&this._padParent.onConnectCallback&&this._padParent.onConnectCallback.call(this._padParent.callbackContext,this.index),e&&this.onConnectCallback&&this.onConnectCallback.call(this.callbackContext)},disconnect:function(){var t=this.connected,e=this.index;this.connected=!1,this.index=null,this._rawPad=void 0;for(var i=0;i<this._buttonsLen;i++)this._buttons[i].destroy();this._buttons=[],this._buttonsLen=0,this._axes=[],this._axesLen=0,t&&this._padParent.onDisconnectCallback&&this._padParent.onDisconnectCallback.call(this._padParent.callbackContext,e),t&&this.onDisconnectCallback&&this.onDisconnectCallback.call(this.callbackContext)},destroy:function(){this._rawPad=void 0;for(var t=0;t<this._buttonsLen;t++)this._buttons[t].destroy();this._buttons=[],this._buttonsLen=0,this._axes=[],this._axesLen=0,this.onConnectCallback=null,this.onDisconnectCallback=null,this.onDownCallback=null,this.onUpCallback=null,this.onAxisCallback=null,this.onFloatCallback=null},processAxisChange:function(t,e){this._axes[t]!==e&&(this._axes[t]=e,this._padParent.onAxisCallback&&this._padParent.onAxisCallback.call(this._padParent.callbackContext,this,t,e),this.onAxisCallback&&this.onAxisCallback.call(this.callbackContext,this,t,e))},processButtonDown:function(t,e){this._buttons[t]&&this._buttons[t].start(null,e),this._padParent.onDownCallback&&this._padParent.onDownCallback.call(this._padParent.callbackContext,t,e,this.index),this.onDownCallback&&this.onDownCallback.call(this.callbackContext,t,e)},processButtonUp:function(t,e){this._padParent.onUpCallback&&this._padParent.onUpCallback.call(this._padParent.callbackContext,t,e,this.index),this.onUpCallback&&this.onUpCallback.call(this.callbackContext,t,e),this._buttons[t]&&this._buttons[t].stop(null,e)},processButtonFloat:function(t,e){this._padParent.onFloatCallback&&this._padParent.onFloatCallback.call(this._padParent.callbackContext,t,e,this.index),this.onFloatCallback&&this.onFloatCallback.call(this.callbackContext,t,e),this._buttons[t]&&this._buttons[t].padFloat(e)},axis:function(t){return!!this._axes[t]&&this._axes[t]},isDown:function(t){return!!this._buttons[t]&&this._buttons[t].isDown},isUp:function(t){return!!this._buttons[t]&&this._buttons[t].isUp},justReleased:function(t,e){if(this._buttons[t])return this._buttons[t].justReleased(e)},justPressed:function(t,e){if(this._buttons[t])return this._buttons[t].justPressed(e)},buttonValue:function(t){return this._buttons[t]?this._buttons[t].value:null},reset:function(){for(var t=0;t<this._axes.length;t++)this._axes[t]=0}},i.SinglePad.prototype.constructor=i.SinglePad,i.Key=function(t,e){this.game=t,this._enabled=!0,this.event=null,this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.timeDown=0,this.duration=0,this.timeUp=-2500,this.durationUp=-2500,this.repeats=0,this.keyCode=e,this.onDown=new i.Signal,this.onHoldCallback=null,this.onHoldContext=null,this.onUp=new i.Signal,this._justDown=!1,this._justUp=!1},i.Key.prototype={update:function(){this._enabled&&(this.isDown?(this.duration=this.game.time.time-this.timeDown,this.repeats++,this.onHoldCallback&&this.onHoldCallback.call(this.onHoldContext,this)):this.durationUp=this.game.time.time-this.timeUp)},processKeyDown:function(t){this._enabled&&(this.event=t,this.isDown||(this.altKey=t.altKey,this.ctrlKey=t.ctrlKey,this.shiftKey=t.shiftKey,this.isDown=!0,this.isUp=!1,this.timeDown=this.game.time.time,this.duration=0,this.durationUp=this.game.time.time-this.timeUp,this.repeats=0,this._justDown=!0,this.onDown.dispatch(this)))},processKeyUp:function(t){this._enabled&&(this.event=t,this.isUp||(this.isDown=!1,this.isUp=!0,this.timeUp=this.game.time.time,this.duration=this.game.time.time-this.timeDown,this.durationUp=0,this._justUp=!0,this.onUp.dispatch(this)))},reset:function(t){void 0===t&&(t=!0),this.isDown=!1,this.isUp=!0,this.timeUp=this.game.time.time,this.duration=0,this.durationUp=-2500,this._enabled=!0,this._justDown=!1,this._justUp=!1,t&&(this.onDown.removeAll(),this.onUp.removeAll(),this.onHoldCallback=null,this.onHoldContext=null)},downDuration:function(t){return void 0===t&&(t=50),this.isDown&&this.duration<t},upDuration:function(t){return void 0===t&&(t=50),!this.isDown&&this.game.time.time-this.timeUp<t},justPressed:function(){return this.isDown&&0===this.duration},justReleased:function(){return!this.isDown&&0===this.durationUp}},Object.defineProperty(i.Key.prototype,"justDown",{get:function(){var t=this._justDown;return this._justDown=!1,t}}),Object.defineProperty(i.Key.prototype,"justUp",{get:function(){var t=this._justUp;return this._justUp=!1,t}}),Object.defineProperty(i.Key.prototype,"enabled",{get:function(){return this._enabled},set:function(t){(t=!!t)!==this._enabled&&(t||this.reset(!1),this._enabled=t)}}),i.Key.prototype.constructor=i.Key,i.Keyboard=function(t){this.game=t,this.enabled=!0,this.event=null,this.pressEvent=null,this.callbackContext=this,this.onDownCallback=null,this.onPressCallback=null,this.onUpCallback=null,this._keys=[],this._capture=[],this._onKeyDown=null,this._onKeyPress=null,this._onKeyUp=null,this._i=0,this._k=0},i.Keyboard.prototype={addCallbacks:function(t,e,i,s){this.callbackContext=t,void 0!==e&&null!==e&&(this.onDownCallback=e),void 0!==i&&null!==i&&(this.onUpCallback=i),void 0!==s&&null!==s&&(this.onPressCallback=s)},addKey:function(t){return this._keys[t]||(this._keys[t]=new i.Key(this.game,t),this.addKeyCapture(t)),this._keys[t]},addKeys:function(t){var e={};for(var i in t)e[i]=this.addKey(t[i]);return e},removeKey:function(t){this._keys[t]&&(this._keys[t]=null,this.removeKeyCapture(t))},createCursorKeys:function(){return this.addKeys({up:i.KeyCode.UP,down:i.KeyCode.DOWN,left:i.KeyCode.LEFT,right:i.KeyCode.RIGHT})},start:function(){if(!this.game.device.cocoonJS&&null===this._onKeyDown){var t=this;this._onKeyDown=function(e){return t.processKeyDown(e)},this._onKeyUp=function(e){return t.processKeyUp(e)},this._onKeyPress=function(e){return t.processKeyPress(e)},window.addEventListener("keydown",this._onKeyDown,!1),window.addEventListener("keyup",this._onKeyUp,!1),window.addEventListener("keypress",this._onKeyPress,!1)}},stop:function(){window.removeEventListener("keydown",this._onKeyDown),window.removeEventListener("keyup",this._onKeyUp),window.removeEventListener("keypress",this._onKeyPress),this._onKeyDown=null,this._onKeyUp=null,this._onKeyPress=null},destroy:function(){this.stop(),this.clearCaptures(),this._keys.length=0,this._i=0},addKeyCapture:function(t){if("object"==typeof t)for(var e in t)this._capture[t[e]]=!0;else this._capture[t]=!0},removeKeyCapture:function(t){delete this._capture[t]},clearCaptures:function(){this._capture={}},update:function(){for(this._i=this._keys.length;this._i--;)this._keys[this._i]&&this._keys[this._i].update()},processKeyDown:function(t){if(this.event=t,this.game.input.enabled&&this.enabled){var e=t.keyCode;this._capture[e]&&t.preventDefault(),this._keys[e]||(this._keys[e]=new i.Key(this.game,e)),this._keys[e].processKeyDown(t),this._k=e,this.onDownCallback&&this.onDownCallback.call(this.callbackContext,t)}},processKeyPress:function(t){this.pressEvent=t,this.game.input.enabled&&this.enabled&&this.onPressCallback&&this.onPressCallback.call(this.callbackContext,String.fromCharCode(t.charCode),t)},processKeyUp:function(t){if(this.event=t,this.game.input.enabled&&this.enabled){var e=t.keyCode;this._capture[e]&&t.preventDefault(),this._keys[e]||(this._keys[e]=new i.Key(this.game,e)),this._keys[e].processKeyUp(t),this.onUpCallback&&this.onUpCallback.call(this.callbackContext,t)}},reset:function(t){void 0===t&&(t=!0),this.event=null;for(var e=this._keys.length;e--;)this._keys[e]&&this._keys[e].reset(t)},downDuration:function(t,e){return this._keys[t]?this._keys[t].downDuration(e):null},upDuration:function(t,e){return this._keys[t]?this._keys[t].upDuration(e):null},justPressed:function(t){return this._keys[t]?this._keys[t].justPressed():null},justReleased:function(t){return this._keys[t]?this._keys[t].justReleased():null},isDown:function(t){return this._keys[t]?this._keys[t].isDown:null}},Object.defineProperty(i.Keyboard.prototype,"lastChar",{get:function(){return this.event&&32===this.event.charCode?"":this.pressEvent?String.fromCharCode(this.pressEvent.charCode):null}}),Object.defineProperty(i.Keyboard.prototype,"lastKey",{get:function(){return this._keys[this._k]}}),i.Keyboard.prototype.constructor=i.Keyboard,i.KeyCode={A:"A".charCodeAt(0),B:"B".charCodeAt(0),C:"C".charCodeAt(0),D:"D".charCodeAt(0),E:"E".charCodeAt(0),F:"F".charCodeAt(0),G:"G".charCodeAt(0),H:"H".charCodeAt(0),I:"I".charCodeAt(0),J:"J".charCodeAt(0),K:"K".charCodeAt(0),L:"L".charCodeAt(0),M:"M".charCodeAt(0),N:"N".charCodeAt(0),O:"O".charCodeAt(0),P:"P".charCodeAt(0),Q:"Q".charCodeAt(0),R:"R".charCodeAt(0),S:"S".charCodeAt(0),T:"T".charCodeAt(0),U:"U".charCodeAt(0),V:"V".charCodeAt(0),W:"W".charCodeAt(0),X:"X".charCodeAt(0),Y:"Y".charCodeAt(0),Z:"Z".charCodeAt(0),ZERO:"0".charCodeAt(0),ONE:"1".charCodeAt(0),TWO:"2".charCodeAt(0),THREE:"3".charCodeAt(0),FOUR:"4".charCodeAt(0),FIVE:"5".charCodeAt(0),SIX:"6".charCodeAt(0),SEVEN:"7".charCodeAt(0),EIGHT:"8".charCodeAt(0),NINE:"9".charCodeAt(0),NUMPAD_0:96,NUMPAD_1:97,NUMPAD_2:98,NUMPAD_3:99,NUMPAD_4:100,NUMPAD_5:101,NUMPAD_6:102,NUMPAD_7:103,NUMPAD_8:104,NUMPAD_9:105,NUMPAD_MULTIPLY:106,NUMPAD_ADD:107,NUMPAD_ENTER:108,NUMPAD_SUBTRACT:109,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,COLON:186,EQUALS:187,COMMA:188,UNDERSCORE:189,PERIOD:190,QUESTION_MARK:191,TILDE:192,OPEN_BRACKET:219,BACKWARD_SLASH:220,CLOSED_BRACKET:221,QUOTES:222,BACKSPACE:8,TAB:9,CLEAR:12,ENTER:13,SHIFT:16,CONTROL:17,ALT:18,CAPS_LOCK:20,ESC:27,SPACEBAR:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PLUS:43,MINUS:44,INSERT:45,DELETE:46,HELP:47,NUM_LOCK:144};for(var n in i.KeyCode)i.KeyCode.hasOwnProperty(n)&&!n.match(/[a-z]/)&&(i.Keyboard[n]=i.KeyCode[n]);i.Component=function(){},i.Component.Angle=function(){},i.Component.Angle.prototype={angle:{get:function(){return i.Math.wrapAngle(i.Math.radToDeg(this.rotation))},set:function(t){this.rotation=i.Math.degToRad(i.Math.wrapAngle(t))}}},i.Component.Animation=function(){},i.Component.Animation.prototype={play:function(t,e,i,s){if(this.animations)return this.animations.play(t,e,i,s)}},i.Component.AutoCull=function(){},i.Component.AutoCull.prototype={autoCull:!1,inCamera:{get:function(){return this.autoCull||this.checkWorldBounds||(this._bounds.copyFrom(this.getBounds()),this._bounds.x+=this.game.camera.view.x,this._bounds.y+=this.game.camera.view.y),this.game.world.camera.view.intersects(this._bounds)}}},i.Component.Bounds=function(){},i.Component.Bounds.prototype={offsetX:{get:function(){return this.anchor.x*this.width}},offsetY:{get:function(){return this.anchor.y*this.height}},centerX:{get:function(){return this.x-this.offsetX+.5*this.width},set:function(t){this.x=t+this.offsetX-.5*this.width}},centerY:{get:function(){return this.y-this.offsetY+.5*this.height},set:function(t){this.y=t+this.offsetY-.5*this.height}},left:{get:function(){return this.x-this.offsetX},set:function(t){this.x=t+this.offsetX}},right:{get:function(){return this.x+this.width-this.offsetX},set:function(t){this.x=t-this.width+this.offsetX}},top:{get:function(){return this.y-this.offsetY},set:function(t){this.y=t+this.offsetY}},bottom:{get:function(){return this.y+this.height-this.offsetY},set:function(t){this.y=t-this.height+this.offsetY}},alignIn:function(t,e,s,n){switch(void 0===s&&(s=0),void 0===n&&(n=0),e){default:case i.TOP_LEFT:this.left=t.left-s,this.top=t.top-n;break;case i.TOP_CENTER:this.centerX=t.centerX+s,this.top=t.top-n;break;case i.TOP_RIGHT:this.right=t.right+s,this.top=t.top-n;break;case i.LEFT_CENTER:this.left=t.left-s,this.centerY=t.centerY+n;break;case i.CENTER:this.centerX=t.centerX+s,this.centerY=t.centerY+n;break;case i.RIGHT_CENTER:this.right=t.right+s,this.centerY=t.centerY+n;break;case i.BOTTOM_LEFT:this.left=t.left-s,this.bottom=t.bottom+n;break;case i.BOTTOM_CENTER:this.centerX=t.centerX+s,this.bottom=t.bottom+n;break;case i.BOTTOM_RIGHT:this.right=t.right+s,this.bottom=t.bottom+n}return this},alignTo:function(t,e,s,n){switch(void 0===s&&(s=0),void 0===n&&(n=0),e){default:case i.TOP_LEFT:this.left=t.left-s,this.bottom=t.top-n;break;case i.TOP_CENTER:this.centerX=t.centerX+s,this.bottom=t.top-n;break;case i.TOP_RIGHT:this.right=t.right+s,this.bottom=t.top-n;break;case i.LEFT_TOP:this.right=t.left-s,this.top=t.top-n;break;case i.LEFT_CENTER:this.right=t.left-s,this.centerY=t.centerY+n;break;case i.LEFT_BOTTOM:this.right=t.left-s,this.bottom=t.bottom+n;break;case i.RIGHT_TOP:this.left=t.right+s,this.top=t.top-n;break;case i.RIGHT_CENTER:this.left=t.right+s,this.centerY=t.centerY+n;break;case i.RIGHT_BOTTOM:this.left=t.right+s,this.bottom=t.bottom+n;break;case i.BOTTOM_LEFT:this.left=t.left-s,this.top=t.bottom+n;break;case i.BOTTOM_CENTER:this.centerX=t.centerX+s,this.top=t.bottom+n;break;case i.BOTTOM_RIGHT:this.right=t.right+s,this.top=t.bottom+n}return this}},i.Group.prototype.alignIn=i.Component.Bounds.prototype.alignIn,i.Group.prototype.alignTo=i.Component.Bounds.prototype.alignTo,i.Component.BringToTop=function(){},i.Component.BringToTop.prototype.bringToTop=function(){return this.parent&&this.parent.bringToTop(this),this},i.Component.BringToTop.prototype.sendToBack=function(){return this.parent&&this.parent.sendToBack(this),this},i.Component.BringToTop.prototype.moveUp=function(){return this.parent&&this.parent.moveUp(this),this},i.Component.BringToTop.prototype.moveDown=function(){return this.parent&&this.parent.moveDown(this),this},i.Component.Core=function(){},i.Component.Core.skipTypeChecks=!1,i.Component.Core.install=function(t){i.Utils.mixinPrototype(this,i.Component.Core.prototype),this.components={};for(var e=0;e<t.length;e++){var s=t[e],n=!1;"Destroy"===s&&(n=!0),i.Utils.mixinPrototype(this,i.Component[s].prototype,n),this.components[s]=!0}},i.Component.Core.init=function(t,e,s,n,o){if(!i.Component.Core.skipTypeChecks){if(!(t instanceof i.Game))throw new Error("The value passed as the `game` argument ("+t+") is not an instance of Phaser.Game.");"number"!=typeof e&&(console.warn("The `x` argument value (%s) should be a number.",e),e=0),"number"!=typeof s&&(console.warn("The `y` argument value (%s) should be a number.",s),s=0)}this.game=t,this.key=n,this.data={},this.position.set(e,s),this.world=new i.Point(e,s),this.previousPosition=new i.Point(e,s),this.events=new i.Events(this),this._bounds=new i.Rectangle,this.components.PhysicsBody&&(this.body=this.body),this.components.Animation&&(this.animations=new i.AnimationManager(this)),this.components.LoadTexture&&null!==n&&this.loadTexture(n,o),this.components.FixedToCamera&&(this.cameraOffset=new i.Point(e,s))},i.Component.Core.preUpdate=function(){return this.pendingDestroy?(this.destroy(),!1):(this.previousPosition.set(this.world.x,this.world.y),this.previousRotation=this.rotation,this.exists&&this.parent.exists?(this.world.setTo(this.game.camera.x+this.worldTransform.tx,this.game.camera.y+this.worldTransform.ty),this.visible&&(this.renderOrderID=this.game.stage.currentRenderOrderID++),this.animations&&this.animations.update(),this.body&&this.body.preUpdate(),this.preUpdateChildren(),!0):(this.renderOrderID=-1,!1))},i.Component.Core.prototype={game:null,name:"",data:{},components:{},z:0,events:void 0,animations:void 0,key:"",world:null,debug:!1,previousPosition:null,previousRotation:0,renderOrderID:0,fresh:!0,pendingDestroy:!1,_bounds:null,_exists:!0,exists:{get:function(){return this._exists},set:function(t){t?(this._exists=!0,this.body&&this.body.type===i.Physics.P2JS&&this.body.addToWorld(),this.visible=!0):(this._exists=!1,this.body&&this.body.type===i.Physics.P2JS&&this.body.removeFromWorld(),this.visible=!1)}},preUpdateChildren:function(){for(var t=0;t<this.children.length;){var e=this.children[t];e.preUpdate(),this===e.parent&&t++}},update:function(){},postUpdate:function(){this.customRender&&this.key.render(),this.components.PhysicsBody&&i.Component.PhysicsBody.postUpdate.call(this),this.components.FixedToCamera&&i.Component.FixedToCamera.postUpdate.call(this);for(var t=0;t<this.children.length;t++)this.children[t].postUpdate()}},i.Component.Crop=function(){},i.Component.Crop.prototype={cropRect:null,_crop:null,crop:function(t,e){void 0===e&&(e=!1),t?(e&&null!==this.cropRect?this.cropRect.setTo(t.x,t.y,t.width,t.height):e&&null===this.cropRect?this.cropRect=new i.Rectangle(t.x,t.y,t.width,t.height):this.cropRect=t,this.updateCrop()):(this._crop=null,this.cropRect=null,this.resetFrame())},updateCrop:function(){if(this.cropRect){var t=this.texture.crop.x,e=this.texture.crop.y,s=this.texture.crop.width,n=this.texture.crop.height;this._crop=i.Rectangle.clone(this.cropRect,this._crop),this._crop.x+=this._frame.x,this._crop.y+=this._frame.y;var o=Math.max(this._frame.x,this._crop.x),r=Math.max(this._frame.y,this._crop.y),a=Math.min(this._frame.right,this._crop.right)-o,h=Math.min(this._frame.bottom,this._crop.bottom)-r;this.texture.crop.x=o,this.texture.crop.y=r,this.texture.crop.width=a,this.texture.crop.height=h,this.texture.frame.width=Math.min(a,this.cropRect.width),this.texture.frame.height=Math.min(h,this.cropRect.height),this.texture.width=this.texture.frame.width,this.texture.height=this.texture.frame.height,this.texture._updateUvs(),16777215===this.tint||t===o&&e===r&&s===a&&n===h||(this.texture.requiresReTint=!0)}}},i.Component.Delta=function(){},i.Component.Delta.prototype={deltaX:{get:function(){return this.world.x-this.previousPosition.x}},deltaY:{get:function(){return this.world.y-this.previousPosition.y}},deltaZ:{get:function(){return this.rotation-this.previousRotation}}},i.Component.Destroy=function(){},i.Component.Destroy.prototype={destroyPhase:!1,destroy:function(t,e){if(null!==this.game&&!this.destroyPhase){void 0===t&&(t=!0),void 0===e&&(e=!1),this.destroyPhase=!0,this.events&&this.events.onDestroy$dispatch(this),this.parent&&(this.parent instanceof i.Group?this.parent.remove(this):this.parent.removeChild(this)),this.input&&this.input.destroy(),this.animations&&this.animations.destroy(),this.body&&this.body.destroy(),this.events&&this.events.destroy(),this.game.tweens.removeFrom(this);var s=this.children.length;if(t)for(;s--;)this.children[s].destroy(t);else for(;s--;)this.removeChild(this.children[s]);this._crop&&(this._crop=null,this.cropRect=null),this._frame&&(this._frame=null),i.Video&&this.key instanceof i.Video&&this.key.onChangeSource.remove(this.resizeFrame,this),i.BitmapText&&this._glyphs&&(this._glyphs=[]),this.alive=!1,this.exists=!1,this.visible=!1,this.filters=null,this.mask=null,this.game=null,this.data={},this.renderable=!1,this.transformCallback&&(this.transformCallback=null,this.transformCallbackContext=null),this.hitArea=null,this.parent=null,this.stage=null,this.worldTransform=null,this.filterArea=null,this._bounds=null,this._currentBounds=null,this._mask=null,this._destroyCachedSprite(),e&&this.texture.destroy(!0),this.destroyPhase=!1,this.pendingDestroy=!1}}},i.Events=function(t){this.parent=t},i.Events.prototype={destroy:function(){this._parent=null,this._onDestroy&&this._onDestroy.dispose(),this._onAddedToGroup&&this._onAddedToGroup.dispose(),this._onRemovedFromGroup&&this._onRemovedFromGroup.dispose(),this._onKilled&&this._onKilled.dispose(),this._onRevived&&this._onRevived.dispose(),this._onEnterBounds&&this._onEnterBounds.dispose(),this._onOutOfBounds&&this._onOutOfBounds.dispose(),this._onInputOver&&this._onInputOver.dispose(),this._onInputOut&&this._onInputOut.dispose(),this._onInputDown&&this._onInputDown.dispose(),this._onInputUp&&this._onInputUp.dispose(),this._onDragStart&&this._onDragStart.dispose(),this._onDragUpdate&&this._onDragUpdate.dispose(),this._onDragStop&&this._onDragStop.dispose(),this._onAnimationStart&&this._onAnimationStart.dispose(),this._onAnimationComplete&&this._onAnimationComplete.dispose(),this._onAnimationLoop&&this._onAnimationLoop.dispose()},onAddedToGroup:null,onRemovedFromGroup:null,onDestroy:null,onKilled:null,onRevived:null,onOutOfBounds:null,onEnterBounds:null,onInputOver:null,onInputOut:null,onInputDown:null,onInputUp:null,onDragStart:null,onDragUpdate:null,onDragStop:null,onAnimationStart:null,onAnimationComplete:null,onAnimationLoop:null},i.Events.prototype.constructor=i.Events;for(var o in i.Events.prototype)i.Events.prototype.hasOwnProperty(o)&&0===o.indexOf("on")&&null===i.Events.prototype[o]&&function(t,e){"use strict";Object.defineProperty(i.Events.prototype,t,{get:function(){return this[e]||(this[e]=new i.Signal)}}),i.Events.prototype[t+"$dispatch"]=function(){return this[e]?this[e].dispatch.apply(this[e],arguments):null}}(o,"_"+o);i.Component.FixedToCamera=function(){},i.Component.FixedToCamera.postUpdate=function(){this.fixedToCamera&&(this.position.x=(this.game.camera.view.x+this.cameraOffset.x)/this.game.camera.scale.x,this.position.y=(this.game.camera.view.y+this.cameraOffset.y)/this.game.camera.scale.y)},i.Component.FixedToCamera.prototype={_fixedToCamera:!1,fixedToCamera:{get:function(){return this._fixedToCamera},set:function(t){t?(this._fixedToCamera=!0,this.cameraOffset.set(this.x,this.y)):this._fixedToCamera=!1}},cameraOffset:new i.Point},i.Component.Health=function(){},i.Component.Health.prototype={health:1,maxHealth:100,damage:function(t){return this.alive&&(this.health-=t,this.health<=0&&this.kill()),this},setHealth:function(t){return this.health=t,this.health>this.maxHealth&&(this.health=this.maxHealth),this},heal:function(t){return this.alive&&(this.health+=t,this.health>this.maxHealth&&(this.health=this.maxHealth)),this}},i.Component.InCamera=function(){},i.Component.InCamera.prototype={inCamera:{get:function(){return this.game.world.camera.view.intersects(this._bounds)}}},i.Component.InputEnabled=function(){},i.Component.InputEnabled.prototype={input:null,inputEnabled:{get:function(){return this.input&&this.input.enabled},set:function(t){t?null===this.input?(this.input=new i.InputHandler(this),this.input.start()):this.input&&!this.input.enabled&&this.input.start():this.input&&this.input.enabled&&this.input.stop()}}},i.Component.InWorld=function(){},i.Component.InWorld.preUpdate=function(){if(this.pendingDestroy)return this.destroy(),!1;if(this.autoCull||this.checkWorldBounds){if(this._bounds.copyFrom(this.getBounds()),this._bounds.x+=this.game.camera.view.x,this._bounds.y+=this.game.camera.view.y,this.autoCull)if(this.game.world.camera.view.intersects(this._bounds))this.renderable=!0,this.game.world.camera.totalInView++;else if(this.renderable=!1,this.outOfCameraBoundsKill)return this.kill(),!1;if(this.checkWorldBounds)if(this._outOfBoundsFired&&this.game.world.bounds.intersects(this._bounds))this._outOfBoundsFired=!1,this.events.onEnterBounds$dispatch(this);else if(!this._outOfBoundsFired&&!this.game.world.bounds.intersects(this._bounds)&&(this._outOfBoundsFired=!0,this.events.onOutOfBounds$dispatch(this),this.outOfBoundsKill))return this.kill(),!1}return!0},i.Component.InWorld.prototype={checkWorldBounds:!1,outOfBoundsKill:!1,outOfCameraBoundsKill:!1,_outOfBoundsFired:!1,inWorld:{get:function(){return this.game.world.bounds.intersects(this.getBounds())}}},i.Component.LifeSpan=function(){},i.Component.LifeSpan.preUpdate=function(){return this.pendingDestroy?(this.destroy(),!1):!(this.lifespan>0&&(this.lifespan-=this.game.time.physicsElapsedMS,this.lifespan<=0))||(this.kill(),!1)},i.Component.LifeSpan.prototype={alive:!0,lifespan:0,revive:function(t){return void 0===t&&(t=100),this.alive=!0,this.exists=!0,this.visible=!0,"function"==typeof this.setHealth&&this.setHealth(t),this.events&&this.events.onRevived$dispatch(this),this},kill:function(){return this.alive=!1,this.exists=!1,this.visible=!1,this.events&&this.events.onKilled$dispatch(this),this}},i.Component.LoadTexture=function(){},i.Component.LoadTexture.prototype={customRender:!1,_frame:null,loadTexture:function(t,e,s){t===i.PENDING_ATLAS?(t=e,e=0):e=e||0,(s||void 0===s)&&this.animations&&this.animations.stop(),this.key=t,this.customRender=!1;var n=this.game.cache,o=!0,r=!this.texture.baseTexture.scaleMode;if(i.RenderTexture&&t instanceof i.RenderTexture)this.key=t.key,this.setTexture(t);else if(i.BitmapData&&t instanceof i.BitmapData)this.customRender=!0,this.setTexture(t.texture),o=n.hasFrameData(t.key,i.Cache.BITMAPDATA)?!this.animations.loadFrameData(n.getFrameData(t.key,i.Cache.BITMAPDATA),e):!this.animations.loadFrameData(t.frameData,0);else if(i.Video&&t instanceof i.Video){this.customRender=!0;var a=t.texture.valid;this.setTexture(t.texture),this.setFrame(t.texture.frame.clone()),t.onChangeSource.add(this.resizeFrame,this),this.texture.valid=a}else if(i.Tilemap&&t instanceof i.TilemapLayer)this.setTexture(PIXI.Texture.fromCanvas(t.canvas));else if(t instanceof PIXI.Texture)this.setTexture(t);else{var h=n.getImage(t,!0);this.key=h.key,this.setTexture(new PIXI.Texture(h.base)),this.texture.baseTexture.skipRender="__default"===t,o=!this.animations.loadFrameData(h.frameData,e)}o&&(this._frame=i.Rectangle.clone(this.texture.frame)),r||(this.texture.baseTexture.scaleMode=1)},setFrame:function(t){this._frame=t,this.texture.frame.x=t.x,this.texture.frame.y=t.y,this.texture.frame.width=t.width,this.texture.frame.height=t.height,this.texture.crop.x=t.x,this.texture.crop.y=t.y,this.texture.crop.width=t.width,this.texture.crop.height=t.height,t.trimmed?(this.texture.trim?(this.texture.trim.x=t.spriteSourceSizeX,this.texture.trim.y=t.spriteSourceSizeY,this.texture.trim.width=t.sourceSizeW,this.texture.trim.height=t.sourceSizeH):this.texture.trim={x:t.spriteSourceSizeX,y:t.spriteSourceSizeY,width:t.sourceSizeW,height:t.sourceSizeH},this.texture.width=t.sourceSizeW,this.texture.height=t.sourceSizeH,this.texture.frame.width=t.sourceSizeW,this.texture.frame.height=t.sourceSizeH):!t.trimmed&&this.texture.trim&&(this.texture.trim=null),t.rotated&&(this.texture.rotated=!0),this.cropRect&&this.updateCrop(),this.texture.requiresReTint=!0,this.texture._updateUvs(),this.tilingTexture&&(this.refreshTexture=!0)},resizeFrame:function(t,e,i){this.texture.frame.resize(e,i),this.texture.setFrame(this.texture.frame)},resetFrame:function(){this._frame&&this.setFrame(this._frame)},frame:{get:function(){return this.animations.frame},set:function(t){this.animations.frame=t}},frameName:{get:function(){return this.animations.frameName},set:function(t){this.animations.frameName=t}}},i.Component.Overlap=function(){},i.Component.Overlap.prototype={overlap:function(t){return i.Rectangle.intersects(this.getBounds(),t.getBounds())}},i.Component.PhysicsBody=function(){},i.Component.PhysicsBody.preUpdate=function(){return this.pendingDestroy?(this.destroy(),!1):this.fresh&&this.exists?(this.world.setTo(this.parent.position.x+this.position.x,this.parent.position.y+this.position.y),this.worldTransform.tx=this.world.x,this.worldTransform.ty=this.world.y,this.previousPosition.set(this.world.x,this.world.y),this.previousRotation=this.rotation,this.body&&this.body.preUpdate(),this.fresh=!1,this.preUpdateChildren(),!1):(this.previousPosition.set(this.world.x,this.world.y),this.previousRotation=this.rotation,!(!this._exists||!this.parent.exists)||(this.renderOrderID=-1,!1))},i.Component.PhysicsBody.postUpdate=function(){this.exists&&this.body&&this.body.postUpdate()},i.Component.PhysicsBody.prototype={body:null,x:{get:function(){return this.position.x},set:function(t){this.position.x=t,this.body&&!this.body.dirty&&(this.body._reset=!0)}},y:{get:function(){return this.position.y},set:function(t){this.position.y=t,this.body&&!this.body.dirty&&(this.body._reset=!0)}}},i.Component.Reset=function(){},i.Component.Reset.prototype.reset=function(t,e,i){return void 0===i&&(i=1),this.world.set(t,e),this.position.set(t,e),this.fresh=!0,this.exists=!0,this.visible=!0,this.renderable=!0,this.components.InWorld&&(this._outOfBoundsFired=!1),this.components.LifeSpan&&(this.alive=!0,this.health=i),this.components.PhysicsBody&&this.body&&this.body.reset(t,e,!1,!1),this},i.Component.ScaleMinMax=function(){},i.Component.ScaleMinMax.prototype={transformCallback:null,transformCallbackContext:this,scaleMin:null,scaleMax:null,checkTransform:function(t){this.scaleMin&&(t.a<this.scaleMin.x&&(t.a=this.scaleMin.x),t.d<this.scaleMin.y&&(t.d=this.scaleMin.y)),this.scaleMax&&(t.a>this.scaleMax.x&&(t.a=this.scaleMax.x),t.d>this.scaleMax.y&&(t.d=this.scaleMax.y))},setScaleMinMax:function(t,e,s,n){void 0===e?e=s=n=t:void 0===s&&(s=n=e,e=t),null===t?this.scaleMin=null:this.scaleMin?this.scaleMin.set(t,e):this.scaleMin=new i.Point(t,e),null===s?this.scaleMax=null:this.scaleMax?this.scaleMax.set(s,n):this.scaleMax=new i.Point(s,n),null===this.scaleMin?this.transformCallback=null:(this.transformCallback=this.checkTransform,this.transformCallbackContext=this)}},i.Component.Smoothed=function(){},i.Component.Smoothed.prototype={smoothed:{get:function(){return!this.texture.baseTexture.scaleMode},set:function(t){t?this.texture&&(this.texture.baseTexture.scaleMode=0):this.texture&&(this.texture.baseTexture.scaleMode=1)}}},i.GameObjectFactory=function(t){this.game=t,this.world=this.game.world},i.GameObjectFactory.prototype={existing:function(t){return this.world.add(t)},weapon:function(t,e,s,n,o){var r=this.game.plugins.add(i.Weapon);return o&&(r.bulletClass=o),r.createBullets(t,e,s,n),r},image:function(t,e,s,n,o){return void 0===o&&(o=this.world),o.add(new i.Image(this.game,t,e,s,n))},sprite:function(t,e,i,s,n){return void 0===n&&(n=this.world),n.create(t,e,i,s)},creature:function(t,e,s,n,o){void 0===o&&(o=this.world);var r=new i.Creature(this.game,t,e,s,n);return o.add(r),r},tween:function(t){return this.game.tweens.create(t)},group:function(t,e,s,n,o){return new i.Group(this.game,t,e,s,n,o)},physicsGroup:function(t,e,s,n){return new i.Group(this.game,e,s,n,!0,t)},spriteBatch:function(t,e,s){return void 0===t&&(t=null),void 0===e&&(e="group"),void 0===s&&(s=!1),new i.SpriteBatch(this.game,t,e,s)},audio:function(t,e,i,s){return this.game.sound.add(t,e,i,s)},sound:function(t,e,i,s){return this.game.sound.add(t,e,i,s)},audioSprite:function(t){return this.game.sound.addSprite(t)},tileSprite:function(t,e,s,n,o,r,a){return void 0===a&&(a=this.world),a.add(new i.TileSprite(this.game,t,e,s,n,o,r))},rope:function(t,e,s,n,o,r){return void 0===r&&(r=this.world),r.add(new i.Rope(this.game,t,e,s,n,o))},text:function(t,e,s,n,o){return void 0===o&&(o=this.world),o.add(new i.Text(this.game,t,e,s,n))},button:function(t,e,s,n,o,r,a,h,l,c){return void 0===c&&(c=this.world),c.add(new i.Button(this.game,t,e,s,n,o,r,a,h,l))},graphics:function(t,e,s){return void 0===s&&(s=this.world),s.add(new i.Graphics(this.game,t,e))},emitter:function(t,e,s){return this.game.particles.add(new i.Particles.Arcade.Emitter(this.game,t,e,s))},retroFont:function(t,e,s,n,o,r,a,h,l){return new i.RetroFont(this.game,t,e,s,n,o,r,a,h,l)},bitmapText:function(t,e,s,n,o,r){return void 0===r&&(r=this.world),r.add(new i.BitmapText(this.game,t,e,s,n,o))},tilemap:function(t,e,s,n,o){return new i.Tilemap(this.game,t,e,s,n,o)},renderTexture:function(t,e,s,n){void 0!==s&&""!==s||(s=this.game.rnd.uuid()),void 0===n&&(n=!1);var o=new i.RenderTexture(this.game,t,e,s);return n&&this.game.cache.addRenderTexture(s,o),o},video:function(t,e){return new i.Video(this.game,t,e)},bitmapData:function(t,e,s,n){void 0===n&&(n=!1),void 0!==s&&""!==s||(s=this.game.rnd.uuid());var o=new i.BitmapData(this.game,s,t,e);return n&&this.game.cache.addBitmapData(s,o),o},filter:function(t){var e=Array.prototype.slice.call(arguments,1);return(t=new i.Filter[t](this.game)).init.apply(t,e),t},plugin:function(t){return this.game.plugins.add(t)}},i.GameObjectFactory.prototype.constructor=i.GameObjectFactory,i.GameObjectCreator=function(t){this.game=t,this.world=this.game.world},i.GameObjectCreator.prototype={image:function(t,e,s,n){return new i.Image(this.game,t,e,s,n)},sprite:function(t,e,s,n){return new i.Sprite(this.game,t,e,s,n)},tween:function(t){return new i.Tween(t,this.game,this.game.tweens)},group:function(t,e,s,n,o){return new i.Group(this.game,t,e,s,n,o)},spriteBatch:function(t,e,s){return void 0===e&&(e="group"),void 0===s&&(s=!1),new i.SpriteBatch(this.game,t,e,s)},audio:function(t,e,i,s){return this.game.sound.add(t,e,i,s)},audioSprite:function(t){return this.game.sound.addSprite(t)},sound:function(t,e,i,s){return this.game.sound.add(t,e,i,s)},tileSprite:function(t,e,s,n,o,r){return new i.TileSprite(this.game,t,e,s,n,o,r)},rope:function(t,e,s,n,o){return new i.Rope(this.game,t,e,s,n,o)},text:function(t,e,s,n){return new i.Text(this.game,t,e,s,n)},button:function(t,e,s,n,o,r,a,h,l){return new i.Button(this.game,t,e,s,n,o,r,a,h,l)},graphics:function(t,e){return new i.Graphics(this.game,t,e)},emitter:function(t,e,s){return new i.Particles.Arcade.Emitter(this.game,t,e,s)},retroFont:function(t,e,s,n,o,r,a,h,l){return new i.RetroFont(this.game,t,e,s,n,o,r,a,h,l)},bitmapText:function(t,e,s,n,o,r){return new i.BitmapText(this.game,t,e,s,n,o,r)},tilemap:function(t,e,s,n,o){return new i.Tilemap(this.game,t,e,s,n,o)},renderTexture:function(t,e,s,n){void 0!==s&&""!==s||(s=this.game.rnd.uuid()),void 0===n&&(n=!1);var o=new i.RenderTexture(this.game,t,e,s);return n&&this.game.cache.addRenderTexture(s,o),o},bitmapData:function(t,e,s,n){void 0===n&&(n=!1),void 0!==s&&""!==s||(s=this.game.rnd.uuid());var o=new i.BitmapData(this.game,s,t,e);return n&&this.game.cache.addBitmapData(s,o),o},filter:function(t){var e=Array.prototype.slice.call(arguments,1);return(t=new i.Filter[t](this.game)).init.apply(t,e),t}},i.GameObjectCreator.prototype.constructor=i.GameObjectCreator,i.Sprite=function(t,e,s,n,o){e=e||0,s=s||0,n=n||null,o=o||null,this.type=i.SPRITE,this.physicsType=i.SPRITE,PIXI.Sprite.call(this,i.Cache.DEFAULT),i.Component.Core.init.call(this,t,e,s,n,o)},i.Sprite.prototype=Object.create(PIXI.Sprite.prototype),i.Sprite.prototype.constructor=i.Sprite,i.Component.Core.install.call(i.Sprite.prototype,["Angle","Animation","AutoCull","Bounds","BringToTop","Crop","Delta","Destroy","FixedToCamera","Health","InCamera","InputEnabled","InWorld","LifeSpan","LoadTexture","Overlap","PhysicsBody","Reset","ScaleMinMax","Smoothed"]),i.Sprite.prototype.preUpdatePhysics=i.Component.PhysicsBody.preUpdate,i.Sprite.prototype.preUpdateLifeSpan=i.Component.LifeSpan.preUpdate,i.Sprite.prototype.preUpdateInWorld=i.Component.InWorld.preUpdate,i.Sprite.prototype.preUpdateCore=i.Component.Core.preUpdate,i.Sprite.prototype.preUpdate=function(){return!!(this.preUpdatePhysics()&&this.preUpdateLifeSpan()&&this.preUpdateInWorld())&&this.preUpdateCore()},i.Image=function(t,e,s,n,o){e=e||0,s=s||0,n=n||null,o=o||null,this.type=i.IMAGE,PIXI.Sprite.call(this,i.Cache.DEFAULT),i.Component.Core.init.call(this,t,e,s,n,o)},i.Image.prototype=Object.create(PIXI.Sprite.prototype),i.Image.prototype.constructor=i.Image,i.Component.Core.install.call(i.Image.prototype,["Angle","Animation","AutoCull","Bounds","BringToTop","Crop","Destroy","FixedToCamera","InputEnabled","LifeSpan","LoadTexture","Overlap","Reset","ScaleMinMax","Smoothed"]),i.Image.prototype.preUpdateLifeSpan=i.Component.LifeSpan.preUpdate,i.Image.prototype.preUpdateInWorld=i.Component.InWorld.preUpdate,i.Image.prototype.preUpdateCore=i.Component.Core.preUpdate,i.Image.prototype.preUpdate=function(){return!(!this.preUpdateInWorld()||!this.preUpdateLifeSpan())&&this.preUpdateCore()},i.Button=function(t,e,s,n,o,r,a,h,l,c){e=e||0,s=s||0,n=n||null,o=o||null,r=r||this,i.Image.call(this,t,e,s,n,h),this.type=i.BUTTON,this.physicsType=i.SPRITE,this._onOverFrame=null,this._onOutFrame=null,this._onDownFrame=null,this._onUpFrame=null,this.onOverSound=null,this.onOutSound=null,this.onDownSound=null,this.onUpSound=null,this.onOverSoundMarker="",this.onOutSoundMarker="",this.onDownSoundMarker="",this.onUpSoundMarker="",this.onInputOver=new i.Signal,this.onInputOut=new i.Signal,this.onInputDown=new i.Signal,this.onInputUp=new i.Signal,this.onOverMouseOnly=!0,this.justReleasedPreventsOver=i.PointerMode.CONTACT,this.freezeFrames=!1,this.forceOut=!1,this.inputEnabled=!0,this.input.start(0,!0),this.input.useHandCursor=!0,this.setFrames(a,h,l,c),null!==o&&this.onInputUp.add(o,r),this.events.onInputOver.add(this.onInputOverHandler,this),this.events.onInputOut.add(this.onInputOutHandler,this),this.events.onInputDown.add(this.onInputDownHandler,this),this.events.onInputUp.add(this.onInputUpHandler,this)},i.Button.prototype=Object.create(i.Image.prototype),i.Button.prototype.constructor=i.Button;return i.Button.prototype.clearFrames=function(){this.setFrames(null,null,null,null)},i.Button.prototype.setStateFrame=function(t,e,i){var s="_on"+t+"Frame";null!==e?(this[s]=e,i&&this.changeStateFrame(t)):this[s]=null},i.Button.prototype.changeStateFrame=function(t){if(this.freezeFrames)return!1;var e=this["_on"+t+"Frame"];return"string"==typeof e?(this.frameName=e,!0):"number"==typeof e&&(this.frame=e,!0)},i.Button.prototype.setFrames=function(t,e,i,s){this.setStateFrame("Over",t,this.input.pointerOver()),this.setStateFrame("Out",e,!this.input.pointerOver()),this.setStateFrame("Down",i,this.input.pointerDown()),this.setStateFrame("Up",s,this.input.pointerUp())},i.Button.prototype.setStateSound=function(t,e,s){var n="on"+t+"Sound",o="on"+t+"SoundMarker";e instanceof i.Sound||e instanceof i.AudioSprite?(this[n]=e,this[o]="string"==typeof s?s:""):(this[n]=null,this[o]="")},i.Button.prototype.playStateSound=function(t){var e=this["on"+t+"Sound"];if(e){var i=this["on"+t+"SoundMarker"];return e.play(i),!0}return!1},i.Button.prototype.setSounds=function(t,e,i,s,n,o,r,a){this.setStateSound("Over",t,e),this.setStateSound("Out",n,o),this.setStateSound("Down",i,s),this.setStateSound("Up",r,a)},i.Button.prototype.setOverSound=function(t,e){this.setStateSound("Over",t,e)},i.Button.prototype.setOutSound=function(t,e){this.setStateSound("Out",t,e)},i.Button.prototype.setDownSound=function(t,e){this.setStateSound("Down",t,e)},i.Button.prototype.setUpSound=function(t,e){this.setStateSound("Up",t,e)},i.Button.prototype.onInputOverHandler=function(t,e){e.justReleased()&&(this.justReleasedPreventsOver&e.pointerMode)===e.pointerMode||(this.changeStateFrame("Over"),this.onOverMouseOnly&&!e.isMouse||(this.playStateSound("Over"),this.onInputOver&&this.onInputOver.dispatch(this,e)))},i.Button.prototype.onInputOutHandler=function(t,e){this.changeStateFrame("Out"),this.playStateSound("Out"),this.onInputOut&&this.onInputOut.dispatch(this,e)},i.Button.prototype.onInputDownHandler=function(t,e){this.changeStateFrame("Down"),this.playStateSound("Down"),this.onInputDown&&this.onInputDown.dispatch(this,e)},i.Button.prototype.onInputUpHandler=function(t,e,i){this.playStateSound("Up"),this.onInputUp&&this.onInputUp.dispatch(this,e,i),this.freezeFrames||(!0===this.forceOut||(this.forceOut&e.pointerMode)===e.pointerMode?this.changeStateFrame("Out"):this.changeStateFrame("Up")||(i?this.changeStateFrame("Over"):this.changeStateFrame("Out")))},i.SpriteBatch=function(t,e,s,n){void 0!==e&&null!==e||(e=t.world),i.Group.call(this,t,e,s,n),this.type=i.SPRITEBATCH,this.fastSpriteBatch=null,this.ready=!1},i.SpriteBatch.prototype=Object.create(i.Group.prototype),i.SpriteBatch.prototype.constructor=i.SpriteBatch,i.SpriteBatch.prototype._renderWebGL=function(t){!this.visible||this.alpha<=0||!this.children.length||(this.ready||(this.fastSpriteBatch=new PIXI.WebGLFastSpriteBatch(t.gl),this.ready=!0),this.fastSpriteBatch.gl!==t.gl&&this.fastSpriteBatch.setContext(t.gl),t.spriteBatch.stop(),t.shaderManager.setShader(t.shaderManager.fastShader),this.fastSpriteBatch.begin(this,t),this.fastSpriteBatch.render(this),t.spriteBatch.start())},i.SpriteBatch.prototype._renderCanvas=function(t){if(this.visible&&!(this.alpha<=0)&&this.children.length){var e=t.context;e.globalAlpha=this.worldAlpha,this.displayObjectUpdateTransform();for(var i=this.worldTransform,s=!0,n=0;n<this.children.length;n++){var o=this.children[n];if(o.visible){var r=o.texture,a=r.frame;if(e.globalAlpha=this.worldAlpha*o.alpha,o.rotation%(2*Math.PI)==0)s&&(e.setTransform(i.a,i.b,i.c,i.d,i.tx,i.ty),s=!1),e.drawImage(r.baseTexture.source,a.x,a.y,a.width,a.height,o.anchor.x*(-a.width*o.scale.x)+o.position.x+.5+t.shakeX|0,o.anchor.y*(-a.height*o.scale.y)+o.position.y+.5+t.shakeY|0,a.width*o.scale.x,a.height*o.scale.y);else{s||(s=!0),o.displayObjectUpdateTransform();var h=o.worldTransform,l=h.tx*t.resolution+t.shakeX,c=h.ty*t.resolution+t.shakeY;t.roundPixels?e.setTransform(h.a,h.b,h.c,h.d,0|l,0|c):e.setTransform(h.a,h.b,h.c,h.d,l,c),e.drawImage(r.baseTexture.source,a.x,a.y,a.width,a.height,o.anchor.x*-a.width+.5|0,o.anchor.y*-a.height+.5|0,a.width,a.height)}}}}},i.BitmapData=function(t,e,s,n,o){void 0!==s&&0!==s||(s=256),void 0!==n&&0!==n||(n=256),void 0===o&&(o=!1),this.game=t,this.key=e,this.width=s,this.height=n,this.canvas=i.Canvas.create(this,s,n,null,o),this.context=this.canvas.getContext("2d",{alpha:!0}),this.ctx=this.context,this.smoothProperty=t.renderType===i.CANVAS?t.renderer.renderSession.smoothProperty:i.Canvas.getSmoothingPrefix(this.context),this.imageData=this.context.getImageData(0,0,s,n),this.data=null,this.imageData&&(this.data=this.imageData.data),this.pixels=null,this.data&&(this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data),this.baseTexture=new PIXI.BaseTexture(this.canvas,null,this.game.resolution),this.texture=new PIXI.Texture(this.baseTexture),this.frameData=new i.FrameData,this.textureFrame=this.frameData.addFrame(new i.Frame(0,0,0,s,n,"bitmapData")),this.texture.frame=this.textureFrame,this.type=i.BITMAPDATA,this.disableTextureUpload=!1,this.dirty=!1,this.cls=this.clear,this._image=null,this._pos=new i.Point,this._size=new i.Point,this._scale=new i.Point,this._rotate=0,this._alpha={prev:1,current:1},this._anchor=new i.Point,this._tempR=0,this._tempG=0,this._tempB=0,this._circle=new i.Circle,this._swapCanvas=void 0},i.BitmapData.prototype={move:function(t,e,i){return 0!==t&&this.moveH(t,i),0!==e&&this.moveV(e,i),this},moveH:function(t,e){void 0===e&&(e=!0),void 0===this._swapCanvas&&(this._swapCanvas=i.CanvasPool.create(this,this.width,this.height));var s=this._swapCanvas.getContext("2d"),n=this.height,o=this.canvas;if(s.clearRect(0,0,this.width,this.height),t<0){t=Math.abs(t);r=this.width-t;e&&s.drawImage(o,0,0,t,n,r,0,t,n),s.drawImage(o,t,0,r,n,0,0,r,n)}else{var r=this.width-t;e&&s.drawImage(o,r,0,t,n,0,0,t,n),s.drawImage(o,0,0,r,n,t,0,r,n)}return this.clear(),this.copy(this._swapCanvas)},moveV:function(t,e){void 0===e&&(e=!0),void 0===this._swapCanvas&&(this._swapCanvas=i.CanvasPool.create(this,this.width,this.height));var s=this._swapCanvas.getContext("2d"),n=this.width,o=this.canvas;if(s.clearRect(0,0,this.width,this.height),t<0){t=Math.abs(t);r=this.height-t;e&&s.drawImage(o,0,0,n,t,0,r,n,t),s.drawImage(o,0,t,n,r,0,0,n,r)}else{var r=this.height-t;e&&s.drawImage(o,0,r,n,t,0,0,n,t),s.drawImage(o,0,0,n,r,0,t,n,r)}return this.clear(),this.copy(this._swapCanvas)},add:function(t){if(Array.isArray(t))for(var e=0;e<t.length;e++)t[e].loadTexture&&t[e].loadTexture(this);else t.loadTexture(this);return this},load:function(t){if("string"==typeof t&&(t=this.game.cache.getImage(t)),t)return this.resize(t.width,t.height),this.cls(),this.draw(t),this.update(),this},clear:function(t,e,i,s){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=this.width),void 0===s&&(s=this.height),this.context.clearRect(t,e,i,s),this.dirty=!0,this},fill:function(t,e,i,s){return void 0===s&&(s=1),this.context.fillStyle="rgba("+t+","+e+","+i+","+s+")",this.context.fillRect(0,0,this.width,this.height),this.dirty=!0,this},generateTexture:function(t,e,i){var s=this.game.cache,n=new Image;if(e&&(n.onload=function(){var o=s.addImage(t,"",n),r=new PIXI.Texture(o.base);e.call(i||null,r),n.onload=null}),n.src=this.canvas.toDataURL("image/png"),!e){var o=s.addImage(t,"",n);return new PIXI.Texture(o.base)}return null},resize:function(t,e){return t===this.width&&e===this.height||(this.width=t,this.height=e,this.canvas.width=t,this.canvas.height=e,void 0!==this._swapCanvas&&(this._swapCanvas.width=t,this._swapCanvas.height=e),this.baseTexture.width=t,this.baseTexture.height=e,this.textureFrame.width=t,this.textureFrame.height=e,this.texture.width=t,this.texture.height=e,this.texture.crop.width=t,this.texture.crop.height=e,this.update(),this.dirty=!0),this},update:function(t,e,i,s){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=Math.max(1,this.width)),void 0===s&&(s=Math.max(1,this.height)),this.imageData=this.context.getImageData(t,e,i,s),this.data=this.imageData.data,this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data,this},processPixelRGB:function(t,e,s,n,o,r){void 0===s&&(s=0),void 0===n&&(n=0),void 0===o&&(o=this.width),void 0===r&&(r=this.height);for(var a=s+o,h=n+r,l=i.Color.createColor(),c={r:0,g:0,b:0,a:0},u=!1,d=n;d<h;d++)for(var p=s;p<a;p++)i.Color.unpackPixel(this.getPixel32(p,d),l),!1!==(c=t.call(e,l,p,d))&&null!==c&&void 0!==c&&(this.setPixel32(p,d,c.r,c.g,c.b,c.a,!1),u=!0);return u&&(this.context.putImageData(this.imageData,0,0),this.dirty=!0),this},processPixel:function(t,e,i,s,n,o){void 0===i&&(i=0),void 0===s&&(s=0),void 0===n&&(n=this.width),void 0===o&&(o=this.height);for(var r=i+n,a=s+o,h=0,l=0,c=!1,u=s;u<a;u++)for(var d=i;d<r;d++)h=this.getPixel32(d,u),(l=t.call(e,h,d,u))!==h&&(this.pixels[u*this.width+d]=l,c=!0);return c&&(this.context.putImageData(this.imageData,0,0),this.dirty=!0),this},replaceRGB:function(t,e,s,n,o,r,a,h,l){var c=0,u=0,d=this.width,p=this.height,f=i.Color.packPixel(t,e,s,n);void 0!==l&&l instanceof i.Rectangle&&(c=l.x,u=l.y,d=l.width,p=l.height);for(var m=0;m<p;m++)for(var g=0;g<d;g++)this.getPixel32(c+g,u+m)===f&&this.setPixel32(c+g,u+m,o,r,a,h,!1);return this.context.putImageData(this.imageData,0,0),this.dirty=!0,this},setHSL:function(t,e,s,n){var o=t||0===t,r=e||0===e,a=s||0===s;if(o||r||a){void 0===n&&(n=new i.Rectangle(0,0,this.width,this.height));for(var h=i.Color.createColor(),l=n.y;l<n.bottom;l++)for(var c=n.x;c<n.right;c++)i.Color.unpackPixel(this.getPixel32(c,l),h,!0),o&&(h.h=t),r&&(h.s=e),a&&(h.l=s),i.Color.HSLtoRGB(h.h,h.s,h.l,h),this.setPixel32(c,l,h.r,h.g,h.b,h.a,!1);return this.context.putImageData(this.imageData,0,0),this.dirty=!0,this}},shiftHSL:function(t,e,s,n){if(void 0!==t&&null!==t||(t=!1),void 0!==e&&null!==e||(e=!1),void 0!==s&&null!==s||(s=!1),t||e||s){void 0===n&&(n=new i.Rectangle(0,0,this.width,this.height));for(var o=i.Color.createColor(),r=n.y;r<n.bottom;r++)for(var a=n.x;a<n.right;a++)i.Color.unpackPixel(this.getPixel32(a,r),o,!0),t&&(o.h=this.game.math.wrap(o.h+t,0,1)),e&&(o.s=this.game.math.clamp(o.s+e,0,1)),s&&(o.l=this.game.math.clamp(o.l+s,0,1)),i.Color.HSLtoRGB(o.h,o.s,o.l,o),this.setPixel32(a,r,o.r,o.g,o.b,o.a,!1);return this.context.putImageData(this.imageData,0,0),this.dirty=!0,this}},setPixel32:function(t,e,s,n,o,r,a){return void 0===a&&(a=!0),t>=0&&t<=this.width&&e>=0&&e<=this.height&&(i.Device.LITTLE_ENDIAN?this.pixels[e*this.width+t]=r<<24|o<<16|n<<8|s:this.pixels[e*this.width+t]=s<<24|n<<16|o<<8|r,a&&(this.context.putImageData(this.imageData,0,0),this.dirty=!0)),this},setPixel:function(t,e,i,s,n,o){return this.setPixel32(t,e,i,s,n,255,o)},getPixel:function(t,e,s){s||(s=i.Color.createColor());var n=~~(t+e*this.width);return n*=4,s.r=this.data[n],s.g=this.data[++n],s.b=this.data[++n],s.a=this.data[++n],s},getPixel32:function(t,e){if(t>=0&&t<=this.width&&e>=0&&e<=this.height)return this.pixels[e*this.width+t]},getPixelRGB:function(t,e,s,n,o){return i.Color.unpackPixel(this.getPixel32(t,e),s,n,o)},getPixels:function(t){return this.context.getImageData(t.x,t.y,t.width,t.height)},getFirstPixel:function(t){void 0===t&&(t=0);var e=i.Color.createColor(),s=0,n=0,o=1,r=!1;1===t?(o=-1,n=this.height):3===t&&(o=-1,s=this.width);do{i.Color.unpackPixel(this.getPixel32(s,n),e),0===t||1===t?++s===this.width&&(s=0,((n+=o)>=this.height||n<=0)&&(r=!0)):2!==t&&3!==t||++n===this.height&&(n=0,((s+=o)>=this.width||s<=0)&&(r=!0))}while(0===e.a&&!r);return e.x=s,e.y=n,e},getBounds:function(t){return void 0===t&&(t=new i.Rectangle),t.x=this.getFirstPixel(2).x,t.x===this.width?t.setTo(0,0,0,0):(t.y=this.getFirstPixel(0).y,t.width=this.getFirstPixel(3).x-t.x+1,t.height=this.getFirstPixel(1).y-t.y+1,t)},addToWorld:function(t,e,i,s,n,o){n=n||1,o=o||1;var r=this.game.add.image(t,e,this);return r.anchor.set(i,s),r.scale.set(n,o),r},copy:function(t,e,s,n,o,r,a,h,l,c,u,d,p,f,m,g,y){if(void 0!==t&&null!==t||(t=this),t instanceof i.RenderTexture&&(t=t.getCanvas()),this._image=t,t instanceof i.Sprite||t instanceof i.Image||t instanceof i.Text||t instanceof PIXI.Sprite)this._pos.set(t.texture.crop.x,t.texture.crop.y),this._size.set(t.texture.crop.width,t.texture.crop.height),this._scale.set(t.scale.x,t.scale.y),this._anchor.set(t.anchor.x,t.anchor.y),this._rotate=t.rotation,this._alpha.current=t.alpha,t.texture instanceof i.RenderTexture?this._image=t.texture.getCanvas():this._image=t.texture.baseTexture.source,void 0!==r&&null!==r||(r=t.x),void 0!==a&&null!==a||(a=t.y),t.texture.trim&&(r+=t.texture.trim.x-t.anchor.x*t.texture.trim.width,a+=t.texture.trim.y-t.anchor.y*t.texture.trim.height),16777215!==t.tint&&(t.cachedTint!==t.tint&&(t.cachedTint=t.tint,t.tintedTexture=PIXI.CanvasTinter.getTintedTexture(t,t.tint)),this._image=t.tintedTexture,this._pos.set(0));else{if(this._pos.set(0),this._scale.set(1),this._anchor.set(0),this._rotate=0,this._alpha.current=1,t instanceof i.BitmapData)this._image=t.canvas;else if("string"==typeof t){if(null===(t=this.game.cache.getImage(t)))return;this._image=t}this._size.set(this._image.width,this._image.height)}if(void 0!==e&&null!==e||(e=0),void 0!==s&&null!==s||(s=0),n&&(this._size.x=n),o&&(this._size.y=o),void 0!==r&&null!==r||(r=e),void 0!==a&&null!==a||(a=s),void 0!==h&&null!==h||(h=this._size.x),void 0!==l&&null!==l||(l=this._size.y),"number"==typeof c&&(this._rotate=c),"number"==typeof u&&(this._anchor.x=u),"number"==typeof d&&(this._anchor.y=d),"number"==typeof p&&(this._scale.x=p),"number"==typeof f&&(this._scale.y=f),"number"==typeof m&&(this._alpha.current=m),void 0===g&&(g=null),void 0===y&&(y=!1),!(this._alpha.current<=0||0===this._scale.x||0===this._scale.y||0===this._size.x||0===this._size.y)){var v=this.context;return this._alpha.prev=v.globalAlpha,v.save(),v.globalAlpha=this._alpha.current,g&&(this.op=g),y&&(r|=0,a|=0),v.translate(r,a),v.scale(this._scale.x,this._scale.y),v.rotate(this._rotate),v.drawImage(this._image,this._pos.x+e,this._pos.y+s,this._size.x,this._size.y,-h*this._anchor.x,-l*this._anchor.y,h,l),v.restore(),v.globalAlpha=this._alpha.prev,this.dirty=!0,this}},copyTransform:function(t,e,s){if(void 0===e&&(e=null),void 0===s&&(s=!1),!t.hasOwnProperty("worldTransform")||!t.worldVisible||0===t.worldAlpha)return this;var n=t.worldTransform;if(this._pos.set(t.texture.crop.x,t.texture.crop.y),this._size.set(t.texture.crop.width,t.texture.crop.height),0===n.a||0===n.d||0===this._size.x||0===this._size.y)return this;t.texture instanceof i.RenderTexture?this._image=t.texture.getCanvas():this._image=t.texture.baseTexture.source;var o=n.tx,r=n.ty;t.texture.trim&&(o+=t.texture.trim.x-t.anchor.x*t.texture.trim.width,r+=t.texture.trim.y-t.anchor.y*t.texture.trim.height),16777215!==t.tint&&(t.cachedTint!==t.tint&&(t.cachedTint=t.tint,t.tintedTexture=PIXI.CanvasTinter.getTintedTexture(t,t.tint)),this._image=t.tintedTexture,this._pos.set(0)),s&&(o|=0,r|=0);var a=this.context;return this._alpha.prev=a.globalAlpha,a.save(),a.globalAlpha=this._alpha.current,e&&(this.op=e),a[this.smoothProperty]=t.texture.baseTexture.scaleMode===PIXI.scaleModes.LINEAR,a.setTransform(n.a,n.b,n.c,n.d,o,r),a.drawImage(this._image,this._pos.x,this._pos.y,this._size.x,this._size.y,-this._size.x*t.anchor.x,-this._size.y*t.anchor.y,this._size.x,this._size.y),a.restore(),a.globalAlpha=this._alpha.prev,this.dirty=!0,this},copyRect:function(t,e,i,s,n,o,r){return this.copy(t,e.x,e.y,e.width,e.height,i,s,e.width,e.height,0,0,0,1,1,n,o,r)},draw:function(t,e,i,s,n,o,r){return this.copy(t,null,null,null,null,e,i,s,n,null,null,null,null,null,null,o,r)},drawGroup:function(t,e,i){return t.total>0&&t.forEachExists(this.drawGroupProxy,this,e,i),this},drawGroupProxy:function(t,e,s){if(t.hasOwnProperty("texture")&&this.copyTransform(t,e,s),t.type===i.GROUP&&t.exists)this.drawGroup(t,e,s);else if(t.hasOwnProperty("children")&&t.children.length>0)for(var n=0;n<t.children.length;n++)t.children[n].exists&&this.copyTransform(t.children[n],e,s)},drawFull:function(t,e,s){if(!1===t.worldVisible||0===t.worldAlpha||t.hasOwnProperty("exists")&&!1===t.exists)return this;if(t.type!==i.GROUP&&t.type!==i.EMITTER&&t.type!==i.BITMAPTEXT)if(t.type===i.GRAPHICS){var n=t.getBounds();this.ctx.save(),this.ctx.translate(n.x,n.y),PIXI.CanvasGraphics.renderGraphics(t,this.ctx),this.ctx.restore()}else this.copy(t,null,null,null,null,t.worldPosition.x,t.worldPosition.y,null,null,t.worldRotation,null,null,t.worldScale.x,t.worldScale.y,t.worldAlpha,e,s);if(t.children)for(var o=0;o<t.children.length;o++)this.drawFull(t.children[o],e,s);return this},shadow:function(t,e,i,s){var n=this.context;return void 0===t||null===t?n.shadowColor="rgba(0,0,0,0)":(n.shadowColor=t,n.shadowBlur=e||5,n.shadowOffsetX=i||10,n.shadowOffsetY=s||10),this},alphaMask:function(t,e,i,s){return void 0===s||null===s?this.draw(e).blendSourceAtop():this.draw(e,s.x,s.y,s.width,s.height).blendSourceAtop(),void 0===i||null===i?this.draw(t).blendReset():this.draw(t,i.x,i.y,i.width,i.height).blendReset(),this},extract:function(t,e,i,s,n,o,r,a,h){return void 0===n&&(n=255),void 0===o&&(o=!1),void 0===r&&(r=e),void 0===a&&(a=i),void 0===h&&(h=s),o&&t.resize(this.width,this.height),this.processPixelRGB(function(o,l,c){return o.r===e&&o.g===i&&o.b===s&&t.setPixel32(l,c,r,a,h,n,!1),!1},this),t.context.putImageData(t.imageData,0,0),t.dirty=!0,t},rect:function(t,e,i,s,n){return void 0!==n&&(this.context.fillStyle=n),this.context.fillRect(t,e,i,s),this},text:function(t,e,i,s,n,o){void 0===e&&(e=0),void 0===i&&(i=0),void 0===s&&(s="14px Courier"),void 0===n&&(n="rgb(255,255,255)"),void 0===o&&(o=!0);var r=this.context,a=r.font;return r.font=s,o&&(r.fillStyle="rgb(0,0,0)",r.fillText(t,e+1,i+1)),r.fillStyle=n,r.fillText(t,e,i),r.font=a,this},circle:function(t,e,i,s){var n=this.context;return void 0!==s&&(n.fillStyle=s),n.beginPath(),n.arc(t,e,i,0,2*Math.PI,!1),n.closePath(),n.fill(),this},line:function(t,e,i,s,n,o){void 0===n&&(n="#fff"),void 0===o&&(o=1);var r=this.context;return r.beginPath(),r.moveTo(t,e),r.lineTo(i,s),r.lineWidth=o,r.strokeStyle=n,r.stroke(),r.closePath(),this},textureLine:function(t,e,s){if(void 0===s&&(s="repeat-x"),"string"!=typeof e||(e=this.game.cache.getImage(e))){var n=t.length;"no-repeat"===s&&n>e.width&&(n=e.width);var o=this.context;return o.fillStyle=o.createPattern(e,s),this._circle=new i.Circle(t.start.x,t.start.y,e.height),this._circle.circumferencePoint(t.angle-1.5707963267948966,!1,this._pos),o.save(),o.translate(this._pos.x,this._pos.y),o.rotate(t.angle),o.fillRect(0,0,n,e.height),o.restore(),this.dirty=!0,this}},render:function(){return!this.disableTextureUpload&&this.dirty&&(this.baseTexture.dirty(),this.dirty=!1),this},destroy:function(){this.frameData.destroy(),this.texture.destroy(!0),i.CanvasPool.remove(this)},blendReset:function(){return this.op="source-over",this},blendSourceOver:function(){return this.op="source-over",this},blendSourceIn:function(){return this.op="source-in",this},blendSourceOut:function(){return this.op="source-out",this},blendSourceAtop:function(){return this.op="source-atop",this},blendDestinationOver:function(){return this.op="destination-over",this},blendDestinationIn:function(){return this.op="destination-in",this},blendDestinationOut:function(){return this.op="destination-out",this},blendDestinationAtop:function(){return this.op="destination-atop",this},blendXor:function(){return this.op="xor",this},blendAdd:function(){return this.op="lighter",this},blendMultiply:function(){return this.op="multiply",this},blendScreen:function(){return this.op="screen",this},blendOverlay:function(){return this.op="overlay",this},blendDarken:function(){return this.op="darken",this},blendLighten:function(){return this.op="lighten",this},blendColorDodge:function(){return this.op="color-dodge",this},blendColorBurn:function(){return this.op="color-burn",this},blendHardLight:function(){return this.op="hard-light",this},blendSoftLight:function(){return this.op="soft-light",this},blendDifference:function(){return this.op="difference",this},blendExclusion:function(){return this.op="exclusion",this},blendHue:function(){return this.op="hue",this},blendSaturation:function(){return this.op="saturation",this},blendColor:function(){return this.op="color",this},blendLuminosity:function(){return this.op="luminosity",this},copyBitmapData:function(t,e,i){t.update();for(var s,n=0;n<t.height;n++){s=(i+n)*this.width+e;for(var o=0;o<t.width;o++)this.pixels[s+o]=t.pixels[n*t.width+o]}return this}},Object.defineProperty(i.BitmapData.prototype,"smoothed",{get:function(){i.Canvas.getSmoothingEnabled(this.context)},set:function(t){i.Canvas.setSmoothingEnabled(this.context,t)}}),Object.defineProperty(i.BitmapData.prototype,"op",{get:function(){return this.context.globalCompositeOperation},set:function(t){this.context.globalCompositeOperation=t}}),i.BitmapData.getTransform=function(t,e,i,s,n,o){return"number"!=typeof t&&(t=0),"number"!=typeof e&&(e=0),"number"!=typeof i&&(i=1),"number"!=typeof s&&(s=1),"number"!=typeof n&&(n=0),"number"!=typeof o&&(o=0),{sx:i,sy:s,scaleX:i,scaleY:s,skewX:n,skewY:o,translateX:t,translateY:e,tx:t,ty:e}},i.BitmapData.prototype.constructor=i.BitmapData,i.EarCut={},i.EarCut.Triangulate=function(t,e,s){s=s||2;var n=e&&e.length,o=n?e[0]*s:t.length,r=i.EarCut.linkedList(t,0,o,s,!0),a=[];if(!r)return a;var h,l,c,u,d,p,f;if(n&&(r=i.EarCut.eliminateHoles(t,e,r,s)),t.length>80*s){h=c=t[0],l=u=t[1];for(var m=s;m<o;m+=s)d=t[m],p=t[m+1],d<h&&(h=d),p<l&&(l=p),d>c&&(c=d),p>u&&(u=p);f=Math.max(c-h,u-l)}return i.EarCut.earcutLinked(r,a,s,h,l,f),a},i.EarCut.linkedList=function(t,e,s,n,o){var r,a,h,l=0;for(r=e,a=s-n;r<s;r+=n)l+=(t[a]-t[r])*(t[r+1]+t[a+1]),a=r;if(o===l>0)for(r=e;r<s;r+=n)h=i.EarCut.insertNode(r,t[r],t[r+1],h);else for(r=s-n;r>=e;r-=n)h=i.EarCut.insertNode(r,t[r],t[r+1],h);return h},i.EarCut.filterPoints=function(t,e){if(!t)return t;e||(e=t);var s,n=t;do{if(s=!1,n.steiner||!i.EarCut.equals(n,n.next)&&0!==i.EarCut.area(n.prev,n,n.next))n=n.next;else{if(i.EarCut.removeNode(n),(n=e=n.prev)===n.next)return null;s=!0}}while(s||n!==e);return e},i.EarCut.earcutLinked=function(t,e,s,n,o,r,a){if(t){!a&&r&&i.EarCut.indexCurve(t,n,o,r);for(var h,l,c=t;t.prev!==t.next;)if(h=t.prev,l=t.next,r?i.EarCut.isEarHashed(t,n,o,r):i.EarCut.isEar(t))e.push(h.i/s),e.push(t.i/s),e.push(l.i/s),i.EarCut.removeNode(t),t=l.next,c=l.next;else if((t=l)===c){a?1===a?(t=i.EarCut.cureLocalIntersections(t,e,s),i.EarCut.earcutLinked(t,e,s,n,o,r,2)):2===a&&i.EarCut.splitEarcut(t,e,s,n,o,r):i.EarCut.earcutLinked(i.EarCut.filterPoints(t),e,s,n,o,r,1);break}}},i.EarCut.isEar=function(t){var e=t.prev,s=t,n=t.next;if(i.EarCut.area(e,s,n)>=0)return!1;for(var o=t.next.next;o!==t.prev;){if(i.EarCut.pointInTriangle(e.x,e.y,s.x,s.y,n.x,n.y,o.x,o.y)&&i.EarCut.area(o.prev,o,o.next)>=0)return!1;o=o.next}return!0},i.EarCut.isEarHashed=function(t,e,s,n){var o=t.prev,r=t,a=t.next;if(i.EarCut.area(o,r,a)>=0)return!1;for(var h=o.x<r.x?o.x<a.x?o.x:a.x:r.x<a.x?r.x:a.x,l=o.y<r.y?o.y<a.y?o.y:a.y:r.y<a.y?r.y:a.y,c=o.x>r.x?o.x>a.x?o.x:a.x:r.x>a.x?r.x:a.x,u=o.y>r.y?o.y>a.y?o.y:a.y:r.y>a.y?r.y:a.y,d=i.EarCut.zOrder(h,l,e,s,n),p=i.EarCut.zOrder(c,u,e,s,n),f=t.nextZ;f&&f.z<=p;){if(f!==t.prev&&f!==t.next&&i.EarCut.pointInTriangle(o.x,o.y,r.x,r.y,a.x,a.y,f.x,f.y)&&i.EarCut.area(f.prev,f,f.next)>=0)return!1;f=f.nextZ}for(f=t.prevZ;f&&f.z>=d;){if(f!==t.prev&&f!==t.next&&i.EarCut.pointInTriangle(o.x,o.y,r.x,r.y,a.x,a.y,f.x,f.y)&&i.EarCut.area(f.prev,f,f.next)>=0)return!1;f=f.prevZ}return!0},i.EarCut.cureLocalIntersections=function(t,e,s){var n=t;do{var o=n.prev,r=n.next.next;i.EarCut.intersects(o,n,n.next,r)&&i.EarCut.locallyInside(o,r)&&i.EarCut.locallyInside(r,o)&&(e.push(o.i/s),e.push(n.i/s),e.push(r.i/s),i.EarCut.removeNode(n),i.EarCut.removeNode(n.next),n=t=r),n=n.next}while(n!==t);return n},i.EarCut.splitEarcut=function(t,e,s,n,o,r){var a=t;do{for(var h=a.next.next;h!==a.prev;){if(a.i!==h.i&&i.EarCut.isValidDiagonal(a,h)){var l=i.EarCut.splitPolygon(a,h);return a=i.EarCut.filterPoints(a,a.next),l=i.EarCut.filterPoints(l,l.next),i.EarCut.earcutLinked(a,e,s,n,o,r),void i.EarCut.earcutLinked(l,e,s,n,o,r)}h=h.next}a=a.next}while(a!==t)},i.EarCut.eliminateHoles=function(t,e,s,n){var o,r,a,h,l,c=[];for(o=0,r=e.length;o<r;o++)a=e[o]*n,h=o<r-1?e[o+1]*n:t.length,(l=i.EarCut.linkedList(t,a,h,n,!1))===l.next&&(l.steiner=!0),c.push(i.EarCut.getLeftmost(l));for(c.sort(compareX),o=0;o<c.length;o++)i.EarCut.eliminateHole(c[o],s),s=i.EarCut.filterPoints(s,s.next);return s},i.EarCut.compareX=function(t,e){return t.x-e.x},i.EarCut.eliminateHole=function(t,e){if(e=i.EarCut.findHoleBridge(t,e)){var s=i.EarCut.splitPolygon(e,t);i.EarCut.filterPoints(s,s.next)}},i.EarCut.findHoleBridge=function(t,e){var s,n=e,o=t.x,r=t.y,a=-1/0;do{if(r<=n.y&&r>=n.next.y){var h=n.x+(r-n.y)*(n.next.x-n.x)/(n.next.y-n.y);h<=o&&h>a&&(a=h,s=n.x<n.next.x?n:n.next)}n=n.next}while(n!==e);if(!s)return null;if(t.x===s.x)return s.prev;var l,c=s,u=1/0;for(n=s.next;n!==c;)o>=n.x&&n.x>=s.x&&i.EarCut.pointInTriangle(r<s.y?o:a,r,s.x,s.y,r<s.y?a:o,r,n.x,n.y)&&((l=Math.abs(r-n.y)/(o-n.x))<u||l===u&&n.x>s.x)&&i.EarCut.locallyInside(n,t)&&(s=n,u=l),n=n.next;return s},i.EarCut.indexCurve=function(t,e,s,n){var o=t;do{null===o.z&&(o.z=i.EarCut.zOrder(o.x,o.y,e,s,n)),o.prevZ=o.prev,o.nextZ=o.next,o=o.next}while(o!==t);o.prevZ.nextZ=null,o.prevZ=null,i.EarCut.sortLinked(o)},i.EarCut.sortLinked=function(t){var e,i,s,n,o,r,a,h,l=1;do{for(i=t,t=null,o=null,r=0;i;){for(r++,s=i,a=0,e=0;e<l&&(a++,s=s.nextZ);e++);for(h=l;a>0||h>0&&s;)0===a?(n=s,s=s.nextZ,h--):0!==h&&s?i.z<=s.z?(n=i,i=i.nextZ,a--):(n=s,s=s.nextZ,h--):(n=i,i=i.nextZ,a--),o?o.nextZ=n:t=n,n.prevZ=o,o=n;i=s}o.nextZ=null,l*=2}while(r>1);return t},i.EarCut.zOrder=function(t,e,i,s,n){return t=32767*(t-i)/n,e=32767*(e-s)/n,t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),t|e<<1},i.EarCut.getLeftmost=function(t){var e=t,i=t;do{e.x<i.x&&(i=e),e=e.next}while(e!==t);return i},i.EarCut.pointInTriangle=function(t,e,i,s,n,o,r,a){return(n-r)*(e-a)-(t-r)*(o-a)>=0&&(t-r)*(s-a)-(i-r)*(e-a)>=0&&(i-r)*(o-a)-(n-r)*(s-a)>=0},i.EarCut.isValidDiagonal=function(t,e){return i.EarCut.equals(t,e)||t.next.i!==e.i&&t.prev.i!==e.i&&!i.EarCut.intersectsPolygon(t,e)&&i.EarCut.locallyInside(t,e)&&i.EarCut.locallyInside(e,t)&&i.EarCut.middleInside(t,e)},i.EarCut.area=function(t,e,i){return(e.y-t.y)*(i.x-e.x)-(e.x-t.x)*(i.y-e.y)},i.EarCut.equals=function(t,e){return t.x===e.x&&t.y===e.y},i.EarCut.intersects=function(t,e,s,n){return i.EarCut.area(t,e,s)>0!=i.EarCut.area(t,e,n)>0&&i.EarCut.area(s,n,t)>0!=i.EarCut.area(s,n,e)>0},i.EarCut.intersectsPolygon=function(t,e){var s=t;do{if(s.i!==t.i&&s.next.i!==t.i&&s.i!==e.i&&s.next.i!==e.i&&i.EarCut.intersects(s,s.next,t,e))return!0;s=s.next}while(s!==t);return!1},i.EarCut.locallyInside=function(t,e){return i.EarCut.area(t.prev,t,t.next)<0?i.EarCut.area(t,e,t.next)>=0&&i.EarCut.area(t,t.prev,e)>=0:i.EarCut.area(t,e,t.prev)<0||i.EarCut.area(t,t.next,e)<0},i.EarCut.middleInside=function(t,e){var i=t,s=!1,n=(t.x+e.x)/2,o=(t.y+e.y)/2;do{i.y>o!=i.next.y>o&&n<(i.next.x-i.x)*(o-i.y)/(i.next.y-i.y)+i.x&&(s=!s),i=i.next}while(i!==t);return s},i.EarCut.splitPolygon=function(t,e){var s=new i.EarCut.Node(t.i,t.x,t.y),n=new i.EarCut.Node(e.i,e.x,e.y),o=t.next,r=e.prev;return t.next=e,e.prev=t,s.next=o,o.prev=s,n.next=s,s.prev=n,r.next=n,n.prev=r,n},i.EarCut.insertNode=function(t,e,s,n){var o=new i.EarCut.Node(t,e,s);return n?(o.next=n.next,o.prev=n,n.next.prev=o,n.next=o):(o.prev=o,o.next=o),o},i.EarCut.removeNode=function(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)},i.EarCut.Node=function(t,e,i){this.i=t,this.x=e,this.y=i,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1},PIXI.WebGLGraphics=function(){},PIXI.WebGLGraphics.stencilBufferLimit=6,PIXI.WebGLGraphics.renderGraphics=function(t,e){var s,n=e.gl,o=e.projection,r=e.offset,a=e.shaderManager.primitiveShader;t.dirty&&PIXI.WebGLGraphics.updateGraphics(t,n);var h=t._webGL[n.id];if(h)for(var l=0;l<h.data.length;l++)1===h.data[l].mode?(s=h.data[l],e.stencilManager.pushStencil(t,s,e),n.drawElements(n.TRIANGLE_FAN,4,n.UNSIGNED_SHORT,2*(s.indices.length-4)),e.stencilManager.popStencil(t,s,e)):(s=h.data[l],e.shaderManager.setShader(a),a=e.shaderManager.primitiveShader,n.uniformMatrix3fv(a.translationMatrix,!1,t.worldTransform.toArray(!0)),n.uniform1f(a.flipY,1),n.uniform2f(a.projectionVector,o.x,-o.y),n.uniform2f(a.offsetVector,-r.x,-r.y),n.uniform3fv(a.tintColor,i.Color.hexToRGBArray(t.tint)),n.uniform1f(a.alpha,t.worldAlpha),n.bindBuffer(n.ARRAY_BUFFER,s.buffer),n.vertexAttribPointer(a.aVertexPosition,2,n.FLOAT,!1,24,0),n.vertexAttribPointer(a.colorAttribute,4,n.FLOAT,!1,24,8),n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,s.indexBuffer),n.drawElements(n.TRIANGLE_STRIP,s.indices.length,n.UNSIGNED_SHORT,0))},PIXI.WebGLGraphics.updateGraphics=function(t,e){var s=t._webGL[e.id];s||(s=t._webGL[e.id]={lastIndex:0,data:[],gl:e}),t.dirty=!1;var n;if(t.clearDirty){for(t.clearDirty=!1,n=0;n<s.data.length;n++){var o=s.data[n];o.reset(),PIXI.WebGLGraphics.graphicsDataPool.push(o)}s.data=[],s.lastIndex=0}var r;for(n=s.lastIndex;n<t.graphicsData.length;n++){var a=t.graphicsData[n];a.type===i.POLYGON?(a.points=a.shape.points.slice(),a.shape.closed&&(a.points[0]===a.points[a.points.length-2]&&a.points[1]===a.points[a.points.length-1]||a.points.push(a.points[0],a.points[1])),a.fill&&a.points.length>=PIXI.WebGLGraphics.stencilBufferLimit&&(a.points.length<2*PIXI.WebGLGraphics.stencilBufferLimit?(r=PIXI.WebGLGraphics.switchMode(s,0),PIXI.WebGLGraphics.buildPoly(a,r)||(r=PIXI.WebGLGraphics.switchMode(s,1),PIXI.WebGLGraphics.buildComplexPoly(a,r))):(r=PIXI.WebGLGraphics.switchMode(s,1),PIXI.WebGLGraphics.buildComplexPoly(a,r))),a.lineWidth>0&&(r=PIXI.WebGLGraphics.switchMode(s,0),PIXI.WebGLGraphics.buildLine(a,r))):(r=PIXI.WebGLGraphics.switchMode(s,0),a.type===i.RECTANGLE?PIXI.WebGLGraphics.buildRectangle(a,r):a.type===i.CIRCLE||a.type===i.ELLIPSE?PIXI.WebGLGraphics.buildCircle(a,r):a.type===i.ROUNDEDRECTANGLE&&PIXI.WebGLGraphics.buildRoundedRectangle(a,r)),s.lastIndex++}for(n=0;n<s.data.length;n++)(r=s.data[n]).dirty&&r.upload()},PIXI.WebGLGraphics.switchMode=function(t,e){var i;return t.data.length?(i=t.data[t.data.length-1]).mode===e&&1!==e||((i=PIXI.WebGLGraphics.graphicsDataPool.pop()||new PIXI.WebGLGraphicsData(t.gl)).mode=e,t.data.push(i)):((i=PIXI.WebGLGraphics.graphicsDataPool.pop()||new PIXI.WebGLGraphicsData(t.gl)).mode=e,t.data.push(i)),i.dirty=!0,i},PIXI.WebGLGraphics.buildRectangle=function(t,e){var s=t.shape,n=s.x,o=s.y,r=s.width,a=s.height;if(t.fill){var h=i.Color.hexToRGBArray(t.fillColor),l=t.fillAlpha,c=h[0]*l,u=h[1]*l,d=h[2]*l,p=e.points,f=e.indices,m=p.length/6;p.push(n,o),p.push(c,u,d,l),p.push(n+r,o),p.push(c,u,d,l),p.push(n,o+a),p.push(c,u,d,l),p.push(n+r,o+a),p.push(c,u,d,l),f.push(m,m,m+1,m+2,m+3,m+3)}if(t.lineWidth){var g=t.points;t.points=[n,o,n+r,o,n+r,o+a,n,o+a,n,o],PIXI.WebGLGraphics.buildLine(t,e),t.points=g}},PIXI.WebGLGraphics.buildRoundedRectangle=function(t,e){var s=t.shape,n=s.x,o=s.y,r=s.width,a=s.height,h=s.radius,l=[];if(l.push(n,o+h),l=l.concat(PIXI.WebGLGraphics.quadraticBezierCurve(n,o+a-h,n,o+a,n+h,o+a)),l=l.concat(PIXI.WebGLGraphics.quadraticBezierCurve(n+r-h,o+a,n+r,o+a,n+r,o+a-h)),l=l.concat(PIXI.WebGLGraphics.quadraticBezierCurve(n+r,o+h,n+r,o,n+r-h,o)),l=l.concat(PIXI.WebGLGraphics.quadraticBezierCurve(n+h,o,n,o,n,o+h)),t.fill){var c=i.Color.hexToRGBArray(t.fillColor),u=t.fillAlpha,d=c[0]*u,p=c[1]*u,f=c[2]*u,m=e.points,g=e.indices,y=m.length/6,v=i.EarCut.Triangulate(l,null,2),x=0;for(x=0;x<v.length;x+=3)g.push(v[x]+y),g.push(v[x]+y),g.push(v[x+1]+y),g.push(v[x+2]+y),g.push(v[x+2]+y);for(x=0;x<l.length;x++)m.push(l[x],l[++x],d,p,f,u)}if(t.lineWidth){var b=t.points;t.points=l,PIXI.WebGLGraphics.buildLine(t,e),t.points=b}},PIXI.WebGLGraphics.quadraticBezierCurve=function(t,e,i,s,n,o){function r(t,e,i){return t+(e-t)*i}for(var a,h,l,c,u,d,p=[],f=0,m=0;m<=20;m++)a=r(t,i,f=m/20),h=r(e,s,f),l=r(i,n,f),c=r(s,o,f),u=r(a,l,f),d=r(h,c,f),p.push(u,d);return p},PIXI.WebGLGraphics.buildCircle=function(t,e){var s,n,o=t.shape,r=o.x,a=o.y;t.type===i.CIRCLE?(s=o.radius,n=o.radius):(s=o.width,n=o.height);var h=2*Math.PI/40,l=0;if(t.fill){var c=i.Color.hexToRGBArray(t.fillColor),u=t.fillAlpha,d=c[0]*u,p=c[1]*u,f=c[2]*u,m=e.points,g=e.indices,y=m.length/6;for(g.push(y),l=0;l<41;l++)m.push(r,a,d,p,f,u),m.push(r+Math.sin(h*l)*s,a+Math.cos(h*l)*n,d,p,f,u),g.push(y++,y++);g.push(y-1)}if(t.lineWidth){var v=t.points;for(t.points=[],l=0;l<41;l++)t.points.push(r+Math.sin(h*l)*s,a+Math.cos(h*l)*n);PIXI.WebGLGraphics.buildLine(t,e),t.points=v}},PIXI.WebGLGraphics.buildLine=function(t,e){var s=0,n=t.points;if(0!==n.length){if(t.lineWidth%2)for(s=0;s<n.length;s++)n[s]+=.5;var o=new PIXI.Point(n[0],n[1]),r=new PIXI.Point(n[n.length-2],n[n.length-1]);if(o.x===r.x&&o.y===r.y){(n=n.slice()).pop(),n.pop();var a=(r=new PIXI.Point(n[n.length-2],n[n.length-1])).x+.5*(o.x-r.x),h=r.y+.5*(o.y-r.y);n.unshift(a,h),n.push(a,h)}var l,c,u,d,p,f,m,g,y,v,x,b,_,w,T,P,C,S,k,A,M,O,I=e.points,E=e.indices,R=n.length/2,L=n.length,D=I.length/6,B=t.lineWidth/2,F=i.Color.hexToRGBArray(t.lineColor),U=t.lineAlpha,G=F[0]*U,N=F[1]*U,X=F[2]*U;for(u=n[0],d=n[1],p=n[2],y=-(d-(f=n[3])),v=u-p,y/=O=Math.sqrt(y*y+v*v),v/=O,y*=B,v*=B,I.push(u-y,d-v,G,N,X,U),I.push(u+y,d+v,G,N,X,U),s=1;s<R-1;s++)u=n[2*(s-1)],d=n[2*(s-1)+1],p=n[2*s],f=n[2*s+1],m=n[2*(s+1)],g=n[2*(s+1)+1],y=-(d-f),v=u-p,y/=O=Math.sqrt(y*y+v*v),v/=O,y*=B,v*=B,x=-(f-g),b=p-m,x/=O=Math.sqrt(x*x+b*b),b/=O,C=(-y+u)*(-v+f)-(-y+p)*(-v+d),A=(-(x*=B)+m)*(-(b*=B)+f)-(-x+p)*(-b+g),M=(T=-v+d-(-v+f))*(k=-x+p-(-x+m))-(S=-b+g-(-b+f))*(P=-y+p-(-y+u)),Math.abs(M)<.1?(M+=10.1,I.push(p-y,f-v,G,N,X,U),I.push(p+y,f+v,G,N,X,U)):((l=(P*A-k*C)/M)-p)*(l-p)+((c=(S*C-T*A)/M)-f)+(c-f)>19600?(_=y-x,w=v-b,_/=O=Math.sqrt(_*_+w*w),w/=O,_*=B,w*=B,I.push(p-_,f-w),I.push(G,N,X,U),I.push(p+_,f+w),I.push(G,N,X,U),I.push(p-_,f-w),I.push(G,N,X,U),L++):(I.push(l,c),I.push(G,N,X,U),I.push(p-(l-p),f-(c-f)),I.push(G,N,X,U));for(u=n[2*(R-2)],d=n[2*(R-2)+1],p=n[2*(R-1)],y=-(d-(f=n[2*(R-1)+1])),v=u-p,y/=O=Math.sqrt(y*y+v*v),v/=O,y*=B,v*=B,I.push(p-y,f-v),I.push(G,N,X,U),I.push(p+y,f+v),I.push(G,N,X,U),E.push(D),s=0;s<L;s++)E.push(D++);E.push(D-1)}},PIXI.WebGLGraphics.buildComplexPoly=function(t,e){var s=t.points.slice();if(!(s.length<6)){var n=e.indices;e.points=s,e.alpha=t.fillAlpha,e.color=i.Color.hexToRGBArray(t.fillColor);for(var o,r,a=1/0,h=-1/0,l=1/0,c=-1/0,u=0;u<s.length;u+=2)o=s[u],r=s[u+1],a=o<a?o:a,h=o>h?o:h,l=r<l?r:l,c=r>c?r:c;s.push(a,l,h,l,h,c,a,c);var d=s.length/2;for(u=0;u<d;u++)n.push(u)}},PIXI.WebGLGraphics.buildPoly=function(t,e){var s=t.points;if(!(s.length<6)){var n=e.points,o=e.indices,r=s.length/2,a=i.Color.hexToRGBArray(t.fillColor),h=t.fillAlpha,l=a[0]*h,c=a[1]*h,u=a[2]*h,d=i.EarCut.Triangulate(s,null,2);if(!d)return!1;var p=n.length/6,f=0;for(f=0;f<d.length;f+=3)o.push(d[f]+p),o.push(d[f]+p),o.push(d[f+1]+p),o.push(d[f+2]+p),o.push(d[f+2]+p);for(f=0;f<r;f++)n.push(s[2*f],s[2*f+1],l,c,u,h);return!0}},PIXI.WebGLGraphics.graphicsDataPool=[],PIXI.WebGLGraphicsData=function(t){this.gl=t,this.color=[0,0,0],this.points=[],this.indices=[],this.buffer=t.createBuffer(),this.indexBuffer=t.createBuffer(),this.mode=1,this.alpha=1,this.dirty=!0},PIXI.WebGLGraphicsData.prototype.reset=function(){this.points=[],this.indices=[]},PIXI.WebGLGraphicsData.prototype.upload=function(){var t=this.gl;this.glPoints=new Float32Array(this.points),t.bindBuffer(t.ARRAY_BUFFER,this.buffer),t.bufferData(t.ARRAY_BUFFER,this.glPoints,t.STATIC_DRAW),this.glIndicies=new Uint16Array(this.indices),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,this.glIndicies,t.STATIC_DRAW),this.dirty=!1},PIXI.CanvasGraphics=function(){},PIXI.CanvasGraphics.renderGraphics=function(t,e){var s=t.worldAlpha;t.dirty&&(this.updateGraphicsTint(t),t.dirty=!1);for(var n=0;n<t.graphicsData.length;n++){var o=t.graphicsData[n],r=o.shape,a=o._fillTint,h=o._lineTint;if(e.lineWidth=o.lineWidth,o.type===i.POLYGON){e.beginPath();var l=r.points;e.moveTo(l[0],l[1]);for(var c=1;c<l.length/2;c++)e.lineTo(l[2*c],l[2*c+1]);r.closed&&e.lineTo(l[0],l[1]),l[0]===l[l.length-2]&&l[1]===l[l.length-1]&&e.closePath(),o.fill&&(e.globalAlpha=o.fillAlpha*s,e.fillStyle="#"+("00000"+(0|a).toString(16)).substr(-6),e.fill()),o.lineWidth&&(e.globalAlpha=o.lineAlpha*s,e.strokeStyle="#"+("00000"+(0|h).toString(16)).substr(-6),e.stroke())}else if(o.type===i.RECTANGLE)(o.fillColor||0===o.fillColor)&&(e.globalAlpha=o.fillAlpha*s,e.fillStyle="#"+("00000"+(0|a).toString(16)).substr(-6),e.fillRect(r.x,r.y,r.width,r.height)),o.lineWidth&&(e.globalAlpha=o.lineAlpha*s,e.strokeStyle="#"+("00000"+(0|h).toString(16)).substr(-6),e.strokeRect(r.x,r.y,r.width,r.height));else if(o.type===i.CIRCLE)e.beginPath(),e.arc(r.x,r.y,r.radius,0,2*Math.PI),e.closePath(),o.fill&&(e.globalAlpha=o.fillAlpha*s,e.fillStyle="#"+("00000"+(0|a).toString(16)).substr(-6),e.fill()),o.lineWidth&&(e.globalAlpha=o.lineAlpha*s,e.strokeStyle="#"+("00000"+(0|h).toString(16)).substr(-6),e.stroke());else if(o.type===i.ELLIPSE){var u=2*r.width,d=2*r.height,p=r.x-u/2,f=r.y-d/2;e.beginPath();var m=u/2*.5522848,g=d/2*.5522848,y=p+u,v=f+d,x=p+u/2,b=f+d/2;e.moveTo(p,b),e.bezierCurveTo(p,b-g,x-m,f,x,f),e.bezierCurveTo(x+m,f,y,b-g,y,b),e.bezierCurveTo(y,b+g,x+m,v,x,v),e.bezierCurveTo(x-m,v,p,b+g,p,b),e.closePath(),o.fill&&(e.globalAlpha=o.fillAlpha*s,e.fillStyle="#"+("00000"+(0|a).toString(16)).substr(-6),e.fill()),o.lineWidth&&(e.globalAlpha=o.lineAlpha*s,e.strokeStyle="#"+("00000"+(0|h).toString(16)).substr(-6),e.stroke())}else if(o.type===i.ROUNDEDRECTANGLE){var _=r.x,w=r.y,T=r.width,P=r.height,C=r.radius,S=Math.min(T,P)/2|0;C=C>S?S:C,e.beginPath(),e.moveTo(_,w+C),e.lineTo(_,w+P-C),e.quadraticCurveTo(_,w+P,_+C,w+P),e.lineTo(_+T-C,w+P),e.quadraticCurveTo(_+T,w+P,_+T,w+P-C),e.lineTo(_+T,w+C),e.quadraticCurveTo(_+T,w,_+T-C,w),e.lineTo(_+C,w),e.quadraticCurveTo(_,w,_,w+C),e.closePath(),(o.fillColor||0===o.fillColor)&&(e.globalAlpha=o.fillAlpha*s,e.fillStyle="#"+("00000"+(0|a).toString(16)).substr(-6),e.fill()),o.lineWidth&&(e.globalAlpha=o.lineAlpha*s,e.strokeStyle="#"+("00000"+(0|h).toString(16)).substr(-6),e.stroke())}}},PIXI.CanvasGraphics.renderGraphicsMask=function(t,e){var s=t.graphicsData.length;if(0!==s){e.beginPath();for(var n=0;n<s;n++){var o=t.graphicsData[n],r=o.shape;if(o.type===i.POLYGON){var a=r.points;e.moveTo(a[0],a[1]);for(var h=1;h<a.length/2;h++)e.lineTo(a[2*h],a[2*h+1]);a[0]===a[a.length-2]&&a[1]===a[a.length-1]&&e.closePath()}else if(o.type===i.RECTANGLE)e.rect(r.x,r.y,r.width,r.height),e.closePath();else if(o.type===i.CIRCLE)e.arc(r.x,r.y,r.radius,0,2*Math.PI),e.closePath();else if(o.type===i.ELLIPSE){var l=2*r.width,c=2*r.height,u=r.x-l/2,d=r.y-c/2,p=l/2*.5522848,f=c/2*.5522848,m=u+l,g=d+c,y=u+l/2,v=d+c/2;e.moveTo(u,v),e.bezierCurveTo(u,v-f,y-p,d,y,d),e.bezierCurveTo(y+p,d,m,v-f,m,v),e.bezierCurveTo(m,v+f,y+p,g,y,g),e.bezierCurveTo(y-p,g,u,v+f,u,v),e.closePath()}else if(o.type===i.ROUNDEDRECTANGLE){var x=r.x,b=r.y,_=r.width,w=r.height,T=r.radius,P=Math.min(_,w)/2|0;T=T>P?P:T,e.moveTo(x,b+T),e.lineTo(x,b+w-T),e.quadraticCurveTo(x,b+w,x+T,b+w),e.lineTo(x+_-T,b+w),e.quadraticCurveTo(x+_,b+w,x+_,b+w-T),e.lineTo(x+_,b+T),e.quadraticCurveTo(x+_,b,x+_-T,b),e.lineTo(x+T,b),e.quadraticCurveTo(x,b,x,b+T),e.closePath()}}}},PIXI.CanvasGraphics.updateGraphicsTint=function(t){if(16777215!==t.tint)for(var e=(t.tint>>16&255)/255,i=(t.tint>>8&255)/255,s=(255&t.tint)/255,n=0;n<t.graphicsData.length;n++){var o=t.graphicsData[n],r=0|o.fillColor,a=0|o.lineColor;o._fillTint=((r>>16&255)/255*e*255<<16)+((r>>8&255)/255*i*255<<8)+(255&r)/255*s*255,o._lineTint=((a>>16&255)/255*e*255<<16)+((a>>8&255)/255*i*255<<8)+(255&a)/255*s*255}},i.GraphicsData=function(t,e,i,s,n,o,r){this.lineWidth=t,this.lineColor=e,this.lineAlpha=i,this._lineTint=e,this.fillColor=s,this.fillAlpha=n,this._fillTint=s,this.fill=o,this.shape=r,this.type=r.type},i.GraphicsData.prototype.constructor=i.GraphicsData,i.GraphicsData.prototype.clone=function(){return new i.GraphicsData(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.fill,this.shape)},i.Graphics=function(t,e,s){void 0===e&&(e=0),void 0===s&&(s=0),this.type=i.GRAPHICS,this.physicsType=i.SPRITE,this.anchor=new i.Point,PIXI.DisplayObjectContainer.call(this),this.renderable=!0,this.fillAlpha=1,this.lineWidth=0,this.lineColor=0,this.graphicsData=[],this.tint=16777215,this.blendMode=PIXI.blendModes.NORMAL,this.currentPath=null,this._webGL=[],this.isMask=!1,this.boundsPadding=0,this._localBounds=new i.Rectangle(0,0,1,1),this.dirty=!0,this._boundsDirty=!1,this.webGLDirty=!1,this.cachedSpriteDirty=!1,i.Component.Core.init.call(this,t,e,s,"",null)},i.Graphics.prototype=Object.create(PIXI.DisplayObjectContainer.prototype),i.Graphics.prototype.constructor=i.Graphics,i.Component.Core.install.call(i.Graphics.prototype,["Angle","AutoCull","Bounds","Destroy","FixedToCamera","InputEnabled","InWorld","LifeSpan","PhysicsBody","Reset"]),i.Graphics.prototype.preUpdatePhysics=i.Component.PhysicsBody.preUpdate,i.Graphics.prototype.preUpdateLifeSpan=i.Component.LifeSpan.preUpdate,i.Graphics.prototype.preUpdateInWorld=i.Component.InWorld.preUpdate,i.Graphics.prototype.preUpdateCore=i.Component.Core.preUpdate,i.Graphics.prototype.preUpdate=function(){return!!(this.preUpdatePhysics()&&this.preUpdateLifeSpan()&&this.preUpdateInWorld())&&this.preUpdateCore()},i.Graphics.prototype.postUpdate=function(){i.Component.PhysicsBody.postUpdate.call(this),i.Component.FixedToCamera.postUpdate.call(this),this._boundsDirty&&(this.updateLocalBounds(),this._boundsDirty=!1);for(var t=0;t<this.children.length;t++)this.children[t].postUpdate()},i.Graphics.prototype.destroy=function(t){this.clear(),i.Component.Destroy.prototype.destroy.call(this,t)},i.Graphics.prototype.drawTriangle=function(t,e){void 0===e&&(e=!1);var s=new i.Polygon(t);if(e){var n=new i.Point(this.game.camera.x-t[0].x,this.game.camera.y-t[0].y),o=new i.Point(t[1].x-t[0].x,t[1].y-t[0].y),r=new i.Point(t[1].x-t[2].x,t[1].y-t[2].y).cross(o);n.dot(r)>0&&this.drawPolygon(s)}else this.drawPolygon(s)},i.Graphics.prototype.drawTriangles=function(t,e,s){void 0===s&&(s=!1);var n,o=new i.Point,r=new i.Point,a=new i.Point,h=[];if(e)if(t[0]instanceof i.Point)for(n=0;n<e.length/3;n++)h.push(t[e[3*n]]),h.push(t[e[3*n+1]]),h.push(t[e[3*n+2]]),3===h.length&&(this.drawTriangle(h,s),h=[]);else for(n=0;n<e.length;n++)o.x=t[2*e[n]],o.y=t[2*e[n]+1],h.push(o.copyTo({})),3===h.length&&(this.drawTriangle(h,s),h=[]);else if(t[0]instanceof i.Point)for(n=0;n<t.length/3;n++)this.drawTriangle([t[3*n],t[3*n+1],t[3*n+2]],s);else for(n=0;n<t.length/6;n++)o.x=t[6*n+0],o.y=t[6*n+1],r.x=t[6*n+2],r.y=t[6*n+3],a.x=t[6*n+4],a.y=t[6*n+5],this.drawTriangle([o,r,a],s)},i.Graphics.prototype.lineStyle=function(t,e,s){return this.lineWidth=t||0,this.lineColor=e||0,this.lineAlpha=void 0===s?1:s,this.currentPath&&(this.currentPath.shape.points.length?this.drawShape(new i.Polygon(this.currentPath.shape.points.slice(-2))):(this.currentPath.lineWidth=this.lineWidth,this.currentPath.lineColor=this.lineColor,this.currentPath.lineAlpha=this.lineAlpha)),this},i.Graphics.prototype.moveTo=function(t,e){return this.drawShape(new i.Polygon([t,e])),this},i.Graphics.prototype.lineTo=function(t,e){return this.currentPath||this.moveTo(0,0),this.currentPath.shape.points.push(t,e),this.dirty=!0,this._boundsDirty=!0,this},i.Graphics.prototype.quadraticCurveTo=function(t,e,i,s){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var n,o,r=this.currentPath.shape.points;0===r.length&&this.moveTo(0,0);for(var a=r[r.length-2],h=r[r.length-1],l=0,c=1;c<=20;++c)n=a+(t-a)*(l=c/20),o=h+(e-h)*l,r.push(n+(t+(i-t)*l-n)*l,o+(e+(s-e)*l-o)*l);return this.dirty=!0,this._boundsDirty=!0,this},i.Graphics.prototype.bezierCurveTo=function(t,e,i,s,n,o){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);for(var r,a,h,l,c,u=this.currentPath.shape.points,d=u[u.length-2],p=u[u.length-1],f=0,m=1;m<=20;++m)h=(a=(r=1-(f=m/20))*r)*r,c=(l=f*f)*f,u.push(h*d+3*a*f*t+3*r*l*i+c*n,h*p+3*a*f*e+3*r*l*s+c*o);return this.dirty=!0,this._boundsDirty=!0,this},i.Graphics.prototype.arcTo=function(t,e,i,s,n){this.currentPath?0===this.currentPath.shape.points.length&&this.currentPath.shape.points.push(t,e):this.moveTo(t,e);var o=this.currentPath.shape.points,r=o[o.length-2],a=o[o.length-1]-e,h=r-t,l=s-e,c=i-t,u=Math.abs(a*c-h*l);if(u<1e-8||0===n)o[o.length-2]===t&&o[o.length-1]===e||o.push(t,e);else{var d=a*a+h*h,p=l*l+c*c,f=a*l+h*c,m=n*Math.sqrt(d)/u,g=n*Math.sqrt(p)/u,y=m*f/d,v=g*f/p,x=m*c+g*h,b=m*l+g*a,_=h*(g+y),w=a*(g+y),T=c*(m+v),P=l*(m+v),C=Math.atan2(w-b,_-x),S=Math.atan2(P-b,T-x);this.arc(x+t,b+e,n,C,S,h*l>c*a)}return this.dirty=!0,this._boundsDirty=!0,this},i.Graphics.prototype.arc=function(t,e,i,s,n,o,r){if(s===n)return this;void 0===o&&(o=!1),void 0===r&&(r=40),!o&&n<=s?n+=2*Math.PI:o&&s<=n&&(s+=2*Math.PI);var a=o?-1*(s-n):n-s,h=Math.ceil(Math.abs(a)/(2*Math.PI))*r;if(0===a)return this;var l=t+Math.cos(s)*i,c=e+Math.sin(s)*i;o&&this.filling?this.moveTo(t,e):this.moveTo(l,c);for(var u=this.currentPath.shape.points,d=a/(2*h),p=2*d,f=Math.cos(d),m=Math.sin(d),g=h-1,y=g%1/g,v=0;v<=g;v++){var x=d+s+p*(v+y*v),b=Math.cos(x),_=-Math.sin(x);u.push((f*b+m*_)*i+t,(f*-_+m*b)*i+e)}return this.dirty=!0,this._boundsDirty=!0,this},i.Graphics.prototype.beginFill=function(t,e){return this.filling=!0,this.fillColor=t||0,this.fillAlpha=void 0===e?1:e,this.currentPath&&this.currentPath.shape.points.length<=2&&(this.currentPath.fill=this.filling,this.currentPath.fillColor=this.fillColor,this.currentPath.fillAlpha=this.fillAlpha),this},i.Graphics.prototype.endFill=function(){return this.filling=!1,this.fillColor=null,this.fillAlpha=1,this},i.Graphics.prototype.drawRect=function(t,e,s,n){return this.drawShape(new i.Rectangle(t,e,s,n)),this},i.Graphics.prototype.drawRoundedRect=function(t,e,s,n,o){return this.drawShape(new i.RoundedRectangle(t,e,s,n,o)),this},i.Graphics.prototype.drawCircle=function(t,e,s){return this.drawShape(new i.Circle(t,e,s)),this},i.Graphics.prototype.drawEllipse=function(t,e,s,n){return this.drawShape(new i.Ellipse(t,e,s,n)),this},i.Graphics.prototype.drawPolygon=function(t){t instanceof i.Polygon&&(t=t.points);var e=t;if(!Array.isArray(e)){e=new Array(arguments.length);for(var s=0;s<e.length;++s)e[s]=arguments[s]}return this.drawShape(new i.Polygon(e)),this},i.Graphics.prototype.clear=function(){return this.lineWidth=0,this.filling=!1,this.dirty=!0,this._boundsDirty=!0,this.clearDirty=!0,this.graphicsData=[],this.updateLocalBounds(),this},i.Graphics.prototype.generateTexture=function(t,e,i){void 0===t&&(t=1),void 0===e&&(e=PIXI.scaleModes.DEFAULT),void 0===i&&(i=0);var s=this.getBounds();s.width+=i,s.height+=i;var n=new PIXI.CanvasBuffer(s.width*t,s.height*t),o=PIXI.Texture.fromCanvas(n.canvas,e);return o.baseTexture.resolution=t,n.context.scale(t,t),n.context.translate(-s.x,-s.y),PIXI.CanvasGraphics.renderGraphics(this,n.context),o},i.Graphics.prototype._renderWebGL=function(t){if(!1!==this.visible&&0!==this.alpha&&!0!==this.isMask){if(this._cacheAsBitmap)return(this.dirty||this.cachedSpriteDirty)&&(this._generateCachedSprite(),this.updateCachedSpriteTexture(),this.cachedSpriteDirty=!1,this.dirty=!1),this._cachedSprite.worldAlpha=this.worldAlpha,void PIXI.Sprite.prototype._renderWebGL.call(this._cachedSprite,t);if(t.spriteBatch.stop(),t.blendModeManager.setBlendMode(this.blendMode),this._mask&&t.maskManager.pushMask(this._mask,t),this._filters&&t.filterManager.pushFilter(this._filterBlock),this.blendMode!==t.spriteBatch.currentBlendMode){t.spriteBatch.currentBlendMode=this.blendMode;var e=PIXI.blendModesWebGL[t.spriteBatch.currentBlendMode];t.spriteBatch.gl.blendFunc(e[0],e[1])}if(this.webGLDirty&&(this.dirty=!0,this.webGLDirty=!1),PIXI.WebGLGraphics.renderGraphics(this,t),this.children.length){t.spriteBatch.start();for(var i=0;i<this.children.length;i++)this.children[i]._renderWebGL(t);t.spriteBatch.stop()}this._filters&&t.filterManager.popFilter(),this._mask&&t.maskManager.popMask(this.mask,t),t.drawCount++,t.spriteBatch.start()}},i.Graphics.prototype._renderCanvas=function(t){if(!1!==this.visible&&0!==this.alpha&&!0!==this.isMask){if(this._prevTint!==this.tint&&(this.dirty=!0,this._prevTint=this.tint),this._cacheAsBitmap)return(this.dirty||this.cachedSpriteDirty)&&(this._generateCachedSprite(),this.updateCachedSpriteTexture(),this.cachedSpriteDirty=!1,this.dirty=!1),this._cachedSprite.alpha=this.alpha,void PIXI.Sprite.prototype._renderCanvas.call(this._cachedSprite,t);var e=t.context,i=this.worldTransform;this.blendMode!==t.currentBlendMode&&(t.currentBlendMode=this.blendMode,e.globalCompositeOperation=PIXI.blendModesCanvas[t.currentBlendMode]),this._mask&&t.maskManager.pushMask(this._mask,t);var s=t.resolution,n=i.tx*t.resolution+t.shakeX,o=i.ty*t.resolution+t.shakeY;e.setTransform(i.a*s,i.b*s,i.c*s,i.d*s,n,o),PIXI.CanvasGraphics.renderGraphics(this,e);for(var r=0;r<this.children.length;r++)this.children[r]._renderCanvas(t);this._mask&&t.maskManager.popMask(t)}},i.Graphics.prototype.getBounds=function(t){if(this._currentBounds)return this._currentBounds;if(!this.renderable)return i.EmptyRectangle;this.dirty&&(this.updateLocalBounds(),this.webGLDirty=!0,this.cachedSpriteDirty=!0,this.dirty=!1);var e=this._localBounds,s=e.x,n=e.width+e.x,o=e.y,r=e.height+e.y,a=t||this.worldTransform,h=a.a,l=a.b,c=a.c,u=a.d,d=a.tx,p=a.ty,f=h*n+c*r+d,m=u*r+l*n+p,g=h*s+c*r+d,y=u*r+l*s+p,v=h*s+c*o+d,x=u*o+l*s+p,b=h*n+c*o+d,_=u*o+l*n+p,w=f,T=m,P=f,C=m;return P=g<P?g:P,P=v<P?v:P,P=b<P?b:P,C=y<C?y:C,C=x<C?x:C,C=_<C?_:C,w=g>w?g:w,w=v>w?v:w,w=b>w?b:w,T=y>T?y:T,T=x>T?x:T,T=_>T?_:T,this._bounds.x=P,this._bounds.width=w-P,this._bounds.y=C,this._bounds.height=T-C,this._currentBounds=this._bounds,this._currentBounds},i.Graphics.prototype.getLocalBounds=function(){var t=this.worldTransform;this.worldTransform=i.identityMatrix;for(var e=0;e<this.children.length;e++)this.children[e].updateTransform();var s=this.getBounds();for(this.worldTransform=t,e=0;e<this.children.length;e++)this.children[e].updateTransform();return s},i.Graphics.prototype.containsPoint=function(t,e){void 0===e&&(e=new i.Point),this.worldTransform.applyInverse(t,e);for(var s=this.graphicsData,n=0;n<s.length;n++){var o=s[n];if(o.fill&&(o.shape&&o.shape.contains(e.x,e.y)))return!0}return!1},i.Graphics.prototype.updateLocalBounds=function(){var t=1/0,e=-1/0,s=1/0,n=-1/0;if(this.graphicsData.length)for(var o,r,a,h,l,c,u=0;u<this.graphicsData.length;u++){var d=this.graphicsData[u],p=d.type,f=d.lineWidth;if(o=d.shape,p===i.RECTANGLE||p===i.ROUNDEDRECTANGLE)a=o.x-f/2,h=o.y-f/2,l=o.width+f,c=o.height+f,t=a<t?a:t,e=a+l>e?a+l:e,s=h<s?h:s,n=h+c>n?h+c:n;else if(p===i.CIRCLE)a=o.x,h=o.y,l=o.radius+f/2,c=o.radius+f/2,t=a-l<t?a-l:t,e=a+l>e?a+l:e,s=h-c<s?h-c:s,n=h+c>n?h+c:n;else if(p===i.ELLIPSE)a=o.x,h=o.y,l=o.width+f/2,c=o.height+f/2,t=a-l<t?a-l:t,e=a+l>e?a+l:e,s=h-c<s?h-c:s,n=h+c>n?h+c:n;else{r=o.points;for(var m=0;m<r.length;m++)r[m]instanceof i.Point?(a=r[m].x,h=r[m].y):(a=r[m],h=r[m+1],m<r.length-1&&m++),t=a-f<t?a-f:t,e=a+f>e?a+f:e,s=h-f<s?h-f:s,n=h+f>n?h+f:n}}else t=0,e=0,s=0,n=0;var g=this.boundsPadding;this._localBounds.x=t-g,this._localBounds.width=e-t+2*g,this._localBounds.y=s-g,this._localBounds.height=n-s+2*g},i.Graphics.prototype._generateCachedSprite=function(){var t=this.getLocalBounds();if(this._cachedSprite)this._cachedSprite.buffer.resize(t.width,t.height);else{var e=new PIXI.CanvasBuffer(t.width,t.height),i=PIXI.Texture.fromCanvas(e.canvas);this._cachedSprite=new PIXI.Sprite(i),this._cachedSprite.buffer=e,this._cachedSprite.worldTransform=this.worldTransform}this._cachedSprite.anchor.x=-t.x/t.width,this._cachedSprite.anchor.y=-t.y/t.height,this._cachedSprite.buffer.context.translate(-t.x,-t.y),this.worldAlpha=1,PIXI.CanvasGraphics.renderGraphics(this,this._cachedSprite.buffer.context),this._cachedSprite.alpha=this.alpha},i.Graphics.prototype.updateCachedSpriteTexture=function(){var t=this._cachedSprite,e=t.texture,i=t.buffer.canvas;e.baseTexture.width=i.width,e.baseTexture.height=i.height,e.crop.width=e.frame.width=i.width,e.crop.height=e.frame.height=i.height,t._width=i.width,t._height=i.height,e.baseTexture.dirty()},i.Graphics.prototype.destroyCachedSprite=function(){this._cachedSprite.texture.destroy(!0),this._cachedSprite=null},i.Graphics.prototype.drawShape=function(t){this.currentPath&&this.currentPath.shape.points.length<=2&&this.graphicsData.pop(),this.currentPath=null,t instanceof i.Polygon&&(t=t.clone()).flatten();var e=new i.GraphicsData(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.filling,t);return this.graphicsData.push(e),e.type===i.POLYGON&&(e.shape.closed=this.filling,this.currentPath=e),this.dirty=!0,this._boundsDirty=!0,e},Object.defineProperty(i.Graphics.prototype,"cacheAsBitmap",{get:function(){return this._cacheAsBitmap},set:function(t){this._cacheAsBitmap=t,this._cacheAsBitmap?this._generateCachedSprite():this.destroyCachedSprite(),this.dirty=!0,this.webGLDirty=!0}}),i.RenderTexture=function(t,e,s,n,o,r,a,h){if(void 0===e&&(e=100),void 0===s&&(s=100),void 0===n&&(n=""),void 0===o&&(o=i.scaleModes.DEFAULT),void 0===r&&(r=1),void 0===a&&(a=PIXI.defaultRenderer),void 0===h&&(h=0),this.game=t,this.key=n,this.type=i.RENDERTEXTURE,this._tempMatrix=new i.Matrix,this.width=e,this.height=s,this.resolution=r,this.frame=new i.Rectangle(0,0,this.width*this.resolution,this.height*this.resolution),this.crop=this.frame.clone(),this.baseTexture=new PIXI.BaseTexture,this.baseTexture.width=this.width*this.resolution,this.baseTexture.height=this.height*this.resolution,this.baseTexture._glTextures=[],this.baseTexture.resolution=this.resolution,this.baseTexture.scaleMode=o,this.baseTexture.hasLoaded=!0,PIXI.Texture.call(this,this.baseTexture,this.frame.clone()),this.renderer=a,this.renderer.type===i.WEBGL){var l=this.renderer.gl;this.baseTexture.textureIndex=h,this.baseTexture._dirty[l.id]=!1,this.textureBuffer=new PIXI.FilterTexture(l,this.width,this.height,this.baseTexture.scaleMode,h),this.baseTexture._glTextures[l.id]=this.textureBuffer.texture,this.projection=new i.Point(.5*this.width,.5*-this.height)}else this.textureBuffer=new PIXI.CanvasBuffer(this.width*this.resolution,this.height*this.resolution),this.baseTexture.source=this.textureBuffer.canvas;this.valid=!0,this.tempMatrix=new i.Matrix,this._updateUvs()},i.RenderTexture.prototype=Object.create(PIXI.Texture.prototype),i.RenderTexture.prototype.constructor=i.RenderTexture,i.RenderTexture.prototype.renderXY=function(t,e,s,n){t.updateTransform(),this._tempMatrix.copyFrom(t.worldTransform),this._tempMatrix.tx=e,this._tempMatrix.ty=s,this.renderer.type===i.WEBGL?this._renderWebGL(t,this._tempMatrix,n):this._renderCanvas(t,this._tempMatrix,n)},i.RenderTexture.prototype.renderRawXY=function(t,e,s,n){this._tempMatrix.identity().translate(e,s),this.renderer.type===i.WEBGL?this._renderWebGL(t,this._tempMatrix,n):this._renderCanvas(t,this._tempMatrix,n)},i.RenderTexture.prototype.render=function(t,e,s){void 0===e||null===e?this._tempMatrix.copyFrom(t.worldTransform):this._tempMatrix.copyFrom(e),this.renderer.type===i.WEBGL?this._renderWebGL(t,this._tempMatrix,s):this._renderCanvas(t,this._tempMatrix,s)},i.RenderTexture.prototype.resize=function(t,e,s){t===this.width&&e===this.height||(this.valid=t>0&&e>0,this.width=t,this.height=e,this.frame.width=this.crop.width=t*this.resolution,this.frame.height=this.crop.height=e*this.resolution,s&&(this.baseTexture.width=this.width*this.resolution,this.baseTexture.height=this.height*this.resolution),this.renderer.type===i.WEBGL&&(this.projection.x=this.width/2,this.projection.y=-this.height/2),this.valid&&this.textureBuffer.resize(this.width,this.height))},i.RenderTexture.prototype.clear=function(){this.valid&&(this.renderer.type===i.WEBGL&&this.renderer.gl.bindFramebuffer(this.renderer.gl.FRAMEBUFFER,this.textureBuffer.frameBuffer),this.textureBuffer.clear())},i.RenderTexture.prototype._renderWebGL=function(t,e,i){if(this.valid&&0!==t.alpha){var s=t.worldTransform;s.identity(),s.translate(0,2*this.projection.y),e&&s.append(e),s.scale(1,-1);for(var n=0;n<t.children.length;n++)t.children[n].updateTransform();var o=this.renderer.gl;o.viewport(0,0,this.width*this.resolution,this.height*this.resolution),o.bindFramebuffer(o.FRAMEBUFFER,this.textureBuffer.frameBuffer),i&&this.textureBuffer.clear(),this.renderer.spriteBatch.dirty=!0,this.renderer.renderDisplayObject(t,this.projection,this.textureBuffer.frameBuffer,e),this.renderer.spriteBatch.dirty=!0,o.bindFramebuffer(o.FRAMEBUFFER,null)}},i.RenderTexture.prototype._renderCanvas=function(t,e,i){if(this.valid&&0!==t.alpha){var s=t.worldTransform;s.identity(),e&&s.append(e);for(var n=0;n<t.children.length;n++)t.children[n].updateTransform();i&&this.textureBuffer.clear();var o=this.renderer.resolution;this.renderer.resolution=this.resolution,this.renderer.renderDisplayObject(t,this.textureBuffer.context,e),this.renderer.resolution=o}},i.RenderTexture.prototype.getImage=function(){var t=new Image;return t.src=this.getBase64(),t},i.RenderTexture.prototype.getBase64=function(){return this.getCanvas().toDataURL()},i.RenderTexture.prototype.getCanvas=function(){if(this.renderer.type===i.WEBGL){var t=this.renderer.gl,e=this.textureBuffer.width,s=this.textureBuffer.height,n=new Uint8Array(4*e*s);t.bindFramebuffer(t.FRAMEBUFFER,this.textureBuffer.frameBuffer),t.readPixels(0,0,e,s,t.RGBA,t.UNSIGNED_BYTE,n),t.bindFramebuffer(t.FRAMEBUFFER,null);var o=new PIXI.CanvasBuffer(e,s),r=o.context.getImageData(0,0,e,s);return r.data.set(n),o.context.putImageData(r,0,0),o.canvas}return this.textureBuffer.canvas},i.Text=function(t,e,s,n,o){e=e||0,s=s||0,n=void 0===n||null===n?"":n.toString(),o=i.Utils.extend({},o),this.type=i.TEXT,this.physicsType=i.SPRITE,this.padding=new i.Point,this.textBounds=null,this.canvas=i.CanvasPool.create(this),this.context=this.canvas.getContext("2d"),this.colors=[],this.strokeColors=[],this.fontStyles=[],this.fontWeights=[],this.autoRound=!1,this.useAdvancedWrap=!1,this.splitRegExp=/(?:\r\n|\r|\n)/,this.characterLimitSize=-1,this.characterLimitSuffix="",this._res=t.renderer.resolution,this._text=n,this._fontComponents=null,this._lineSpacing=0,this._charCount=0,this._width=0,this._height=0,i.Sprite.call(this,t,e,s,PIXI.Texture.fromCanvas(this.canvas)),this.setStyle(o),""!==n&&this.updateText()},i.Text.prototype=Object.create(i.Sprite.prototype),i.Text.prototype.constructor=i.Text,i.Text.prototype.preUpdate=function(){return!!(this.preUpdatePhysics()&&this.preUpdateLifeSpan()&&this.preUpdateInWorld())&&this.preUpdateCore()},i.Text.prototype.update=function(){},i.Text.prototype.destroy=function(t){this.texture.destroy(!0),i.Component.Destroy.prototype.destroy.call(this,t)},i.Text.prototype.setShadow=function(t,e,i,s,n,o){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i="rgba(0, 0, 0, 1)"),void 0===s&&(s=0),void 0===n&&(n=!0),void 0===o&&(o=!0),this.style.shadowOffsetX=t,this.style.shadowOffsetY=e,this.style.shadowColor=i,this.style.shadowBlur=s,this.style.shadowStroke=n,this.style.shadowFill=o,this.dirty=!0,this},i.Text.prototype.setStyle=function(t,e){void 0===e&&(e=!1);var i=Object.assign({},t);i.font=t.font||"bold 20pt Arial",i.backgroundColor=t.backgroundColor||null,i.fill=t.fill||"black",i.align=(t.align||"left").toLowerCase(),i.boundsAlignH=(t.boundsAlignH||"left").toLowerCase(),i.boundsAlignV=(t.boundsAlignV||"top").toLowerCase(),i.stroke=t.stroke||"black",i.strokeThickness=Number(t.strokeThickness)||0,i.wordWrap=t.wordWrap||!1,i.wordWrapWidth=t.wordWrapWidth||100,i.maxLines=t.maxLines||0,i.shadowOffsetX=t.shadowOffsetX||0,i.shadowOffsetY=t.shadowOffsetY||0,i.shadowColor=t.shadowColor||"rgba(0,0,0,0)",i.shadowBlur=t.shadowBlur||0,i.tabs=t.tabs||0;var s=this.fontToComponents(i.font);return i.fontStyle&&(s.fontStyle=i.fontStyle),i.fontVariant&&(s.fontVariant=i.fontVariant),i.fontWeight&&(s.fontWeight=i.fontWeight),i.fontSize&&("number"==typeof i.fontSize&&(i.fontSize=i.fontSize+"px"),s.fontSize=i.fontSize),this._fontComponents=s,i.font=this.componentsToFont(this._fontComponents),this.style=i,this.dirty=!0,e&&this.updateText(),this},i.Text.prototype.updateText=function(){this.texture.baseTexture.resolution=this._res,this.context.font=this.style.font;var t=this.text;this.characterLimitSize>-1&&this.characterLimitSize<t.length&&(t=this.text.substring(0,this.characterLimitSize)+this.characterLimitSuffix),this.style.wordWrap&&(t=this.runWordWrap(this.text));var e=t.split(this.splitRegExp),i=this.style.tabs,s=[],n=0,o=this.determineFontProperties(this.style.font),r=e.length;this.style.maxLines>0&&this.style.maxLines<e.length&&(r=this.style.maxLines),this._charCount=0;for(var a=0;a<r;a++){if(0===i){l=this.style.strokeThickness+this.padding.x;this.colors.length>0||this.strokeColors.length>0||this.fontWeights.length>0||this.fontStyles.length>0?l+=this.measureLine(e[a]):l+=this.context.measureText(e[a]).width,this.style.wordWrap&&(l-=this.context.measureText(" ").width)}else{var h=e[a].split(/(?:\t)/),l=this.padding.x+this.style.strokeThickness;if(Array.isArray(i))for(var c=0,u=0;u<h.length;u++){var d=0;d=this.colors.length>0||this.strokeColors.length>0||this.fontWeights.length>0||this.fontStyles.length>0?this.measureLine(h[u]):Math.ceil(this.context.measureText(h[u]).width),u>0&&(c+=i[u-1]),l=c+d}else for(u=0;u<h.length;u++)this.colors.length>0||this.strokeColors.length>0||this.fontWeights.length>0||this.fontStyles.length>0?l+=this.measureLine(h[u]):l+=Math.ceil(this.context.measureText(h[u]).width),l+=this.game.math.snapToCeil(l,i)-l}s[a]=Math.ceil(l),n=Math.max(n,s[a])}this.canvas.width=n*this._res;var p=o.fontSize+this.style.strokeThickness+this.padding.y,f=p*r,m=this._lineSpacing;m<0&&Math.abs(m)>p&&(m=-p),0!==m&&(f+=m>0?m*e.length:m*(e.length-1)),this.canvas.height=f*this._res,this.context.scale(this._res,this._res),navigator.isCocoonJS&&this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.style.backgroundColor&&(this.context.fillStyle=this.style.backgroundColor,this.context.fillRect(0,0,this.canvas.width,this.canvas.height)),this.context.fillStyle=this.style.fill,this.context.font=this.style.font,this.context.strokeStyle=this.style.stroke,this.context.textBaseline="alphabetic",this.context.lineWidth=this.style.strokeThickness,this.context.lineCap="round",this.context.lineJoin="round";var g,y;for(this._charCount=0,a=0;a<r;a++)g=this.style.strokeThickness/2,y=this.style.strokeThickness/2+a*p+o.ascent,a>0&&(y+=m*a),"right"===this.style.align?g+=n-s[a]:"center"===this.style.align&&(g+=(n-s[a])/2),this.autoRound&&(g=Math.round(g),y=Math.round(y)),this.colors.length>0||this.strokeColors.length>0||this.fontWeights.length>0||this.fontStyles.length>0?this.updateLine(e[a],g,y):(this.style.stroke&&this.style.strokeThickness&&(this.updateShadow(this.style.shadowStroke),0===i?this.context.strokeText(e[a],g,y):this.renderTabLine(e[a],g,y,!1)),this.style.fill&&(this.updateShadow(this.style.shadowFill),0===i?this.context.fillText(e[a],g,y):this.renderTabLine(e[a],g,y,!0)));this.updateTexture(),this.dirty=!1},i.Text.prototype.renderTabLine=function(t,e,i,s){var n=t.split(/(?:\t)/),o=this.style.tabs,r=0;if(Array.isArray(o))for(var a=0,h=0;h<n.length;h++)h>0&&(a+=o[h-1]),r=e+a,s?this.context.fillText(n[h],r,i):this.context.strokeText(n[h],r,i);else for(h=0;h<n.length;h++){var l=Math.ceil(this.context.measureText(n[h]).width);r=this.game.math.snapToCeil(e,o),s?this.context.fillText(n[h],r,i):this.context.strokeText(n[h],r,i),e=r+l}},i.Text.prototype.updateShadow=function(t){t?(this.context.shadowOffsetX=this.style.shadowOffsetX,this.context.shadowOffsetY=this.style.shadowOffsetY,this.context.shadowColor=this.style.shadowColor,this.context.shadowBlur=this.style.shadowBlur):(this.context.shadowOffsetX=0,this.context.shadowOffsetY=0,this.context.shadowColor=0,this.context.shadowBlur=0)},i.Text.prototype.measureLine=function(t){for(var e=0,i=0;i<t.length;i++){var s=t[i];if(this.fontWeights.length>0||this.fontStyles.length>0){var n=this.fontToComponents(this.context.font);this.fontStyles[this._charCount]&&(n.fontStyle=this.fontStyles[this._charCount]),this.fontWeights[this._charCount]&&(n.fontWeight=this.fontWeights[this._charCount]),this.context.font=this.componentsToFont(n)}this.style.stroke&&this.style.strokeThickness&&(this.strokeColors[this._charCount]&&(this.context.strokeStyle=this.strokeColors[this._charCount]),this.updateShadow(this.style.shadowStroke)),this.style.fill&&(this.colors[this._charCount]&&(this.context.fillStyle=this.colors[this._charCount]),this.updateShadow(this.style.shadowFill)),e+=this.context.measureText(s).width,this._charCount++}return Math.ceil(e)},i.Text.prototype.updateLine=function(t,e,i){for(var s=0;s<t.length;s++){var n=t[s];if(this.fontWeights.length>0||this.fontStyles.length>0){var o=this.fontToComponents(this.context.font);this.fontStyles[this._charCount]&&(o.fontStyle=this.fontStyles[this._charCount]),this.fontWeights[this._charCount]&&(o.fontWeight=this.fontWeights[this._charCount]),this.context.font=this.componentsToFont(o)}this.style.stroke&&this.style.strokeThickness&&(this.strokeColors[this._charCount]&&(this.context.strokeStyle=this.strokeColors[this._charCount]),this.updateShadow(this.style.shadowStroke),this.context.strokeText(n,e,i)),this.style.fill&&(this.colors[this._charCount]&&(this.context.fillStyle=this.colors[this._charCount]),this.updateShadow(this.style.shadowFill),this.context.fillText(n,e,i)),e+=this.context.measureText(n).width,this._charCount++}},i.Text.prototype.clearColors=function(){return this.colors=[],this.strokeColors=[],this.dirty=!0,this},i.Text.prototype.clearFontValues=function(){return this.fontStyles=[],this.fontWeights=[],this.dirty=!0,this},i.Text.prototype.addColor=function(t,e){return this.colors[e]=t,this.dirty=!0,this},i.Text.prototype.addStrokeColor=function(t,e){return this.strokeColors[e]=t,this.dirty=!0,this},i.Text.prototype.addFontStyle=function(t,e){return this.fontStyles[e]=t,this.dirty=!0,this},i.Text.prototype.addFontWeight=function(t,e){return this.fontWeights[e]=t,this.dirty=!0,this},i.Text.prototype.precalculateWordWrap=function(t){return this.texture.baseTexture.resolution=this._res,this.context.font=this.style.font,this.runWordWrap(t).split(/(?:\r\n|\r|\n)/)},i.Text.prototype.runWordWrap=function(t){return this.useAdvancedWrap?this.advancedWordWrap(t):this.basicWordWrap(t)},i.Text.prototype.advancedWordWrap=function(t){for(var e=this.context,i=this.style.wordWrapWidth,s="",n=t.replace(/ +/gi," ").split(/\r?\n/gi),o=n.length,r=0;r<o;r++){var a=n[r],h="";if(a=a.replace(/^ *|\s*$/gi,""),e.measureText(a).width<i)s+=a+"\n";else{for(var l=i,c=a.split(" "),u=0;u<c.length;u++){var d=c[u],p=d+" ",f=e.measureText(p).width;if(f>l){if(0===u){for(var m=p;m.length&&(m=m.slice(0,-1),!((f=e.measureText(m).width)<=l)););if(!m.length)throw new Error("This text's wordWrapWidth setting is less than a single character!");var g=d.substr(m.length);c[u]=g,h+=m}var y=c[u].length?u:u+1,v=c.slice(y).join(" ").replace(/[ \n]*$/gi,"");n[r+1]=v+" "+(n[r+1]||""),o=n.length;break}h+=p,l-=f}s+=h.replace(/[ \n]*$/gi,"")+"\n"}}return s=s.replace(/[\s|\n]*$/gi,"")},i.Text.prototype.basicWordWrap=function(t){for(var e="",i=t.split("\n"),s=0;s<i.length;s++){for(var n=this.style.wordWrapWidth,o=i[s].split(" "),r=0;r<o.length;r++){var a=this.context.measureText(o[r]).width,h=a+this.context.measureText(" ").width;h>n?(r>0&&(e+="\n"),e+=o[r]+" ",n=this.style.wordWrapWidth-a):(n-=h,e+=o[r]+" ")}s<i.length-1&&(e+="\n")}return e},i.Text.prototype.updateFont=function(t){var e=this.componentsToFont(t);this.style.font!==e&&(this.style.font=e,this.dirty=!0,this.parent&&this.updateTransform())},i.Text.prototype.fontToComponents=function(t){var e=t.match(/^\s*(?:\b(normal|italic|oblique|inherit)?\b)\s*(?:\b(normal|small-caps|inherit)?\b)\s*(?:\b(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900|inherit)?\b)\s*(?:\b(xx-small|x-small|small|medium|large|x-large|xx-large|larger|smaller|0|\d*(?:[.]\d*)?(?:%|[a-z]{2,5}))?\b)\s*(.*)\s*$/);if(e){var i=e[5].trim();return/^(?:inherit|serif|sans-serif|cursive|fantasy|monospace)$/.exec(i)||/['",]/.exec(i)||(i="'"+i+"'"),{font:t,fontStyle:e[1]||"normal",fontVariant:e[2]||"normal",fontWeight:e[3]||"normal",fontSize:e[4]||"medium",fontFamily:i}}return console.warn("Phaser.Text - unparsable CSS font: "+t),{font:t}},i.Text.prototype.componentsToFont=function(t){var e,i=[];return(e=t.fontStyle)&&"normal"!==e&&i.push(e),(e=t.fontVariant)&&"normal"!==e&&i.push(e),(e=t.fontWeight)&&"normal"!==e&&i.push(e),(e=t.fontSize)&&"medium"!==e&&i.push(e),(e=t.fontFamily)&&i.push(e),i.length||i.push(t.font),i.join(" ")},i.Text.prototype.setText=function(t,e){return void 0===e&&(e=!1),this.text=t.toString()||"",e?this.updateText():this.dirty=!0,this},i.Text.prototype.parseList=function(t){if(!Array.isArray(t))return this;for(var e="",i=0;i<t.length;i++)Array.isArray(t[i])?(e+=t[i].join("\t"),i<t.length-1&&(e+="\n")):(e+=t[i],i<t.length-1&&(e+="\t"));return this.text=e,this.dirty=!0,this},i.Text.prototype.setTextBounds=function(t,e,s,n){return void 0===t?this.textBounds=null:(this.textBounds?this.textBounds.setTo(t,e,s,n):this.textBounds=new i.Rectangle(t,e,s,n),this.style.wordWrapWidth>s&&(this.style.wordWrapWidth=s)),this.updateTexture(),this},i.Text.prototype.updateTexture=function(){var t=this.texture.baseTexture,e=this.texture.crop,i=this.texture.frame,s=this.canvas.width,n=this.canvas.height;if(t.width=s,t.height=n,e.width=s,e.height=n,i.width=s,i.height=n,this.texture.width=s,this.texture.height=n,this._width=s,this._height=n,this.textBounds){var o=this.textBounds.x,r=this.textBounds.y;"right"===this.style.boundsAlignH?o+=this.textBounds.width-this.canvas.width/this.resolution:"center"===this.style.boundsAlignH&&(o+=this.textBounds.halfWidth-this.canvas.width/this.resolution/2),"bottom"===this.style.boundsAlignV?r+=this.textBounds.height-this.canvas.height/this.resolution:"middle"===this.style.boundsAlignV&&(r+=this.textBounds.halfHeight-this.canvas.height/this.resolution/2),this.pivot.x=-o,this.pivot.y=-r}this.renderable=0!==s&&0!==n,this.texture.requiresReTint=!0,this.texture.baseTexture.dirty()},i.Text.prototype._renderWebGL=function(t){this.dirty&&(this.updateText(),this.dirty=!1),PIXI.Sprite.prototype._renderWebGL.call(this,t)},i.Text.prototype._renderCanvas=function(t){this.dirty&&(this.updateText(),this.dirty=!1),PIXI.Sprite.prototype._renderCanvas.call(this,t)},i.Text.prototype.determineFontProperties=function(t){var e=i.Text.fontPropertiesCache[t];if(!e){e={};var s=i.Text.fontPropertiesCanvas,n=i.Text.fontPropertiesContext;n.font=t;var o=Math.ceil(n.measureText("|MÉq").width),r=Math.ceil(n.measureText("|MÉq").width),a=2*r;if(r=1.4*r|0,s.width=o,s.height=a,n.fillStyle="#f00",n.fillRect(0,0,o,a),n.font=t,n.textBaseline="alphabetic",n.fillStyle="#000",n.fillText("|MÉq",0,r),!n.getImageData(0,0,o,a))return e.ascent=r,e.descent=r+6,e.fontSize=e.ascent+e.descent,i.Text.fontPropertiesCache[t]=e,e;var h,l,c=n.getImageData(0,0,o,a).data,u=c.length,d=4*o,p=0,f=!1;for(h=0;h<r;h++){for(l=0;l<d;l+=4)if(255!==c[p+l]){f=!0;break}if(f)break;p+=d}for(e.ascent=r-h,p=u-d,f=!1,h=a;h>r;h--){for(l=0;l<d;l+=4)if(255!==c[p+l]){f=!0;break}if(f)break;p-=d}e.descent=h-r,e.descent+=6,e.fontSize=e.ascent+e.descent,i.Text.fontPropertiesCache[t]=e}return e},i.Text.prototype.getBounds=function(t){return this.dirty&&(this.updateText(),this.dirty=!1),PIXI.Sprite.prototype.getBounds.call(this,t)},i.Text.prototype.setCharacterLimit=function(t,e){this.characterLimitSuffix=void 0===e?"":e,this.characterLimitSize=t,this.updateText()},Object.defineProperty(i.Text.prototype,"text",{get:function(){return this._text},set:function(t){t!==this._text&&(this._text=t.toString()||"",this.dirty=!0,this.parent&&this.updateTransform())}}),Object.defineProperty(i.Text.prototype,"cssFont",{get:function(){return this.componentsToFont(this._fontComponents)},set:function(t){t=t||"bold 20pt Arial",this._fontComponents=this.fontToComponents(t),this.updateFont(this._fontComponents)}}),Object.defineProperty(i.Text.prototype,"font",{get:function(){return this._fontComponents.fontFamily},set:function(t){t=(t=t||"Arial").trim(),/^(?:inherit|serif|sans-serif|cursive|fantasy|monospace)$/.exec(t)||/['",]/.exec(t)||(t="'"+t+"'"),this._fontComponents.fontFamily=t,this.updateFont(this._fontComponents)}}),Object.defineProperty(i.Text.prototype,"fontSize",{get:function(){var t=this._fontComponents.fontSize;return t&&/(?:^0$|px$)/.exec(t)?parseInt(t,10):t},set:function(t){"number"==typeof(t=t||"0")&&(t+="px"),this._fontComponents.fontSize=t,this.updateFont(this._fontComponents)}}),Object.defineProperty(i.Text.prototype,"fontWeight",{get:function(){return this._fontComponents.fontWeight||"normal"},set:function(t){t=t||"normal",this._fontComponents.fontWeight=t,this.updateFont(this._fontComponents)}}),Object.defineProperty(i.Text.prototype,"fontStyle",{get:function(){return this._fontComponents.fontStyle||"normal"},set:function(t){t=t||"normal",this._fontComponents.fontStyle=t,this.updateFont(this._fontComponents)}}),Object.defineProperty(i.Text.prototype,"fontVariant",{get:function(){return this._fontComponents.fontVariant||"normal"},set:function(t){t=t||"normal",this._fontComponents.fontVariant=t,this.updateFont(this._fontComponents)}}),Object.defineProperty(i.Text.prototype,"fill",{get:function(){return this.style.fill},set:function(t){t!==this.style.fill&&(this.style.fill=t,this.dirty=!0)}}),Object.defineProperty(i.Text.prototype,"align",{get:function(){return this.style.align},set:function(t){(t=t.toLowerCase())!==this.style.align&&(this.style.align=t,this.dirty=!0)}}),Object.defineProperty(i.Text.prototype,"resolution",{get:function(){return this._res},set:function(t){t!==this._res&&(this._res=t,this.dirty=!0)}}),Object.defineProperty(i.Text.prototype,"tabs",{get:function(){return this.style.tabs},set:function(t){t!==this.style.tabs&&(this.style.tabs=t,this.dirty=!0)}}),Object.defineProperty(i.Text.prototype,"boundsAlignH",{get:function(){return this.style.boundsAlignH},set:function(t){(t=t.toLowerCase())!==this.style.boundsAlignH&&(this.style.boundsAlignH=t,this.dirty=!0)}}),Object.defineProperty(i.Text.prototype,"boundsAlignV",{get:function(){return this.style.boundsAlignV},set:function(t){(t=t.toLowerCase())!==this.style.boundsAlignV&&(this.style.boundsAlignV=t,this.dirty=!0)}}),Object.defineProperty(i.Text.prototype,"stroke",{get:function(){return this.style.stroke},set:function(t){t!==this.style.stroke&&(this.style.stroke=t,this.dirty=!0)}}),Object.defineProperty(i.Text.prototype,"strokeThickness",{get:function(){return this.style.strokeThickness},set:function(t){t!==this.style.strokeThickness&&(this.style.strokeThickness=Number(t),this.dirty=!0)}}),Object.defineProperty(i.Text.prototype,"wordWrap",{get:function(){return this.style.wordWrap},set:function(t){t!==this.style.wordWrap&&(this.style.wordWrap=t,this.dirty=!0)}}),Object.defineProperty(i.Text.prototype,"wordWrapWidth",{get:function(){return this.style.wordWrapWidth},set:function(t){t!==this.style.wordWrapWidth&&(this.style.wordWrapWidth=t,this.dirty=!0)}}),Object.defineProperty(i.Text.prototype,"lineSpacing",{get:function(){return this._lineSpacing},set:function(t){t!==this._lineSpacing&&(this._lineSpacing=parseFloat(t),this.dirty=!0,this.parent&&this.updateTransform())}}),Object.defineProperty(i.Text.prototype,"shadowOffsetX",{get:function(){return this.style.shadowOffsetX},set:function(t){t!==this.style.shadowOffsetX&&(this.style.shadowOffsetX=t,this.dirty=!0)}}),Object.defineProperty(i.Text.prototype,"shadowOffsetY",{get:function(){return this.style.shadowOffsetY},set:function(t){t!==this.style.shadowOffsetY&&(this.style.shadowOffsetY=t,this.dirty=!0)}}),Object.defineProperty(i.Text.prototype,"shadowColor",{get:function(){return this.style.shadowColor},set:function(t){t!==this.style.shadowColor&&(this.style.shadowColor=t,this.dirty=!0)}}),Object.defineProperty(i.Text.prototype,"shadowBlur",{get:function(){return this.style.shadowBlur},set:function(t){t!==this.style.shadowBlur&&(this.style.shadowBlur=t,this.dirty=!0)}}),Object.defineProperty(i.Text.prototype,"shadowStroke",{get:function(){return this.style.shadowStroke},set:function(t){t!==this.style.shadowStroke&&(this.style.shadowStroke=t,this.dirty=!0)}}),Object.defineProperty(i.Text.prototype,"shadowFill",{get:function(){return this.style.shadowFill},set:function(t){t!==this.style.shadowFill&&(this.style.shadowFill=t,this.dirty=!0)}}),Object.defineProperty(i.Text.prototype,"width",{get:function(){return this.dirty&&(this.updateText(),this.dirty=!1),this.scale.x*(this.texture.frame.width/this.resolution)},set:function(t){this.scale.x=t/this.texture.frame.width,this._width=t}}),Object.defineProperty(i.Text.prototype,"height",{get:function(){return this.dirty&&(this.updateText(),this.dirty=!1),this.scale.y*(this.texture.frame.height/this.resolution)},set:function(t){this.scale.y=t/this.texture.frame.height,this._height=t}}),i.Text.fontPropertiesCache={},i.Text.fontPropertiesCanvas=document.createElement("canvas"),i.Text.fontPropertiesContext=i.Text.fontPropertiesCanvas.getContext("2d"),i.BitmapText=function(t,e,s,n,o,r,a){e=e||0,s=s||0,n=n||"",o=o||"",r=r||32,a=a||"left",PIXI.DisplayObjectContainer.call(this),this.type=i.BITMAPTEXT,this.physicsType=i.SPRITE,this.textWidth=0,this.textHeight=0,this.anchor=new i.Point,this._prevAnchor=new i.Point,this._glyphs=[],this._maxWidth=0,this._text=o.toString()||"",this._data=t.cache.getBitmapFont(n),this._font=n,this._fontSize=r,this._align=a,this._tint=16777215,this.updateText(),this.dirty=!1,i.Component.Core.init.call(this,t,e,s,"",null)},i.BitmapText.prototype=Object.create(PIXI.DisplayObjectContainer.prototype),i.BitmapText.prototype.constructor=i.BitmapText,i.Component.Core.install.call(i.BitmapText.prototype,["Angle","AutoCull","Bounds","Destroy","FixedToCamera","InputEnabled","InWorld","LifeSpan","PhysicsBody","Reset"]),i.BitmapText.prototype.preUpdatePhysics=i.Component.PhysicsBody.preUpdate,i.BitmapText.prototype.preUpdateLifeSpan=i.Component.LifeSpan.preUpdate,i.BitmapText.prototype.preUpdateInWorld=i.Component.InWorld.preUpdate,i.BitmapText.prototype.preUpdateCore=i.Component.Core.preUpdate,i.BitmapText.prototype.preUpdate=function(){return!!(this.preUpdatePhysics()&&this.preUpdateLifeSpan()&&this.preUpdateInWorld())&&this.preUpdateCore()},i.BitmapText.prototype.postUpdate=function(){i.Component.PhysicsBody.postUpdate.call(this),i.Component.FixedToCamera.postUpdate.call(this),this.body&&this.body.type===i.Physics.ARCADE&&(this.textWidth===this.body.sourceWidth&&this.textHeight===this.body.sourceHeight||this.body.setSize(this.textWidth,this.textHeight))},i.BitmapText.prototype.setText=function(t){this.text=t},i.BitmapText.prototype.scanLine=function(t,e,i){for(var s=0,n=0,o=-1,r=0,a=null,h=this._maxWidth>0?this._maxWidth:null,l=[],c=0;c<i.length;c++){var u=c===i.length-1;if(/(?:\r\n|\r|\n)/.test(i.charAt(c)))return{width:n,text:i.substr(0,c),end:u,chars:l};var d=i.charCodeAt(c),p=t.chars[d],f=0;void 0===p&&(d=32,p=t.chars[d]);var m=a&&p.kerning[a]?p.kerning[a]:0;if(/(\s)/.test(i.charAt(c))&&(o=c,r=n),f=(m+p.texture.width+p.xOffset)*e,h&&n+f>=h&&o>-1)return{width:r||n,text:i.substr(0,c-(c-o)),end:!1,chars:l};n+=(p.xAdvance+m)*e,l.push(s+(p.xOffset+m)*e),s+=(p.xAdvance+m)*e,a=d}return{width:n,text:i,end:u,chars:l}},i.BitmapText.prototype.cleanText=function(t,e){void 0===e&&(e="");var i=this._data.font;if(!i)return"";for(var s=/\r\n|\n\r|\n|\r/g,n=t.replace(s,"\n").split("\n"),o=0;o<n.length;o++){for(var r="",a=n[o],h=0;h<a.length;h++)r=i.chars[a.charCodeAt(h)]?r.concat(a[h]):r.concat(e);n[o]=r}return n.join("\n")},i.BitmapText.prototype.updateText=function(){var t=this._data.font;if(t){var e=this.text,i=this._fontSize/t.size,s=[],n=0;this.textWidth=0;do{(c=this.scanLine(t,i,e)).y=n,s.push(c),c.width>this.textWidth&&(this.textWidth=c.width),n+=t.lineHeight*i,e=e.substr(c.text.length+1)}while(!1===c.end);this.textHeight=n;for(var o=0,r=0,a=this.textWidth*this.anchor.x,h=this.textHeight*this.anchor.y,l=0;l<s.length;l++){var c=s[l];"right"===this._align?r=this.textWidth-c.width:"center"===this._align&&(r=(this.textWidth-c.width)/2);for(var u=0;u<c.text.length;u++){var d=c.text.charCodeAt(u),p=t.chars[d];void 0===p&&(d=32,p=t.chars[d]);var f=this._glyphs[o];f?f.texture=p.texture:((f=new PIXI.Sprite(p.texture)).name=c.text[u],this._glyphs.push(f)),f.position.x=c.chars[u]+r-a,f.position.y=c.y+p.yOffset*i-h,f.scale.set(i),f.tint=this.tint,f.texture.requiresReTint=!0,f.cachedTint=16777215,f.parent||this.addChild(f),o++}}for(l=o;l<this._glyphs.length;l++)this.removeChild(this._glyphs[l])}},i.BitmapText.prototype.purgeGlyphs=function(){for(var t=this._glyphs.length,e=[],i=0;i<this._glyphs.length;i++)this._glyphs[i].parent!==this?this._glyphs[i].destroy():e.push(this._glyphs[i]);return this._glyphs=[],this._glyphs=e,this.updateText(),t-e.length},i.BitmapText.prototype.updateTransform=function(){!this.dirty&&this.anchor.equals(this._prevAnchor)||(this.updateText(),this.dirty=!1,this._prevAnchor.copyFrom(this.anchor)),PIXI.DisplayObjectContainer.prototype.updateTransform.call(this)},Object.defineProperty(i.BitmapText.prototype,"align",{get:function(){return this._align},set:function(t){t===this._align||"left"!==t&&"center"!==t&&"right"!==t||(this._align=t,this.updateText())}}),Object.defineProperty(i.BitmapText.prototype,"tint",{get:function(){return this._tint},set:function(t){t!==this._tint&&(this._tint=t,this.updateText())}}),Object.defineProperty(i.BitmapText.prototype,"font",{get:function(){return this._font},set:function(t){t!==this._font&&(this._font=t.trim(),this._data=this.game.cache.getBitmapFont(this._font),this.updateText())}}),Object.defineProperty(i.BitmapText.prototype,"fontSize",{get:function(){return this._fontSize},set:function(t){(t=parseInt(t,10))!==this._fontSize&&t>0&&(this._fontSize=t,this.updateText())}}),Object.defineProperty(i.BitmapText.prototype,"text",{get:function(){return this._text},set:function(t){t!==this._text&&(this._text=t.toString()||"",this.updateText())}}),Object.defineProperty(i.BitmapText.prototype,"maxWidth",{get:function(){return this._maxWidth},set:function(t){t!==this._maxWidth&&(this._maxWidth=t,this.updateText())}}),Object.defineProperty(i.BitmapText.prototype,"smoothed",{get:function(){return!this._data.base.scaleMode},set:function(t){this._data.base.scaleMode=t?0:1}}),i.RetroFont=function(t,e,s,n,o,r,a,h,l,c){if(!t.cache.checkImageKey(e))return!1;void 0!==r&&null!==r||(r=t.cache.getImage(e).width/s),this.characterWidth=s,this.characterHeight=n,this.characterSpacingX=a||0,this.characterSpacingY=h||0,this.characterPerRow=r,this.offsetX=l||0,this.offsetY=c||0,this.align="left",this.multiLine=!1,this.autoUpperCase=!0,this.customSpacingX=0,this.customSpacingY=0,this.fixedWidth=0,this.fontSet=t.cache.getImage(e),this._text="",this.grabData=[],this.frameData=new i.FrameData;for(var u=this.offsetX,d=this.offsetY,p=0,f=0;f<o.length;f++){var m=this.frameData.addFrame(new i.Frame(f,u,d,this.characterWidth,this.characterHeight));this.grabData[o.charCodeAt(f)]=m.index,++p===this.characterPerRow?(p=0,u=this.offsetX,d+=this.characterHeight+this.characterSpacingY):u+=this.characterWidth+this.characterSpacingX}t.cache.updateFrameData(e,this.frameData),this.stamp=new i.Image(t,0,0,e,0),i.RenderTexture.call(this,t,100,100,"",i.scaleModes.NEAREST),this.type=i.RETROFONT},i.RetroFont.prototype=Object.create(i.RenderTexture.prototype),i.RetroFont.prototype.constructor=i.RetroFont,i.RetroFont.ALIGN_LEFT="left",i.RetroFont.ALIGN_RIGHT="right",i.RetroFont.ALIGN_CENTER="center",i.RetroFont.TEXT_SET1=" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",i.RetroFont.TEXT_SET2=" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ",i.RetroFont.TEXT_SET3="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ",i.RetroFont.TEXT_SET4="ABCDEFGHIJKLMNOPQRSTUVWXYZ 0123456789",i.RetroFont.TEXT_SET5="ABCDEFGHIJKLMNOPQRSTUVWXYZ.,/() '!?-*:0123456789",i.RetroFont.TEXT_SET6="ABCDEFGHIJKLMNOPQRSTUVWXYZ!?:;0123456789\"(),-.' ",i.RetroFont.TEXT_SET7="AGMSY+:4BHNTZ!;5CIOU.?06DJPV,(17EKQW\")28FLRX-'39",i.RetroFont.TEXT_SET8="0123456789 .ABCDEFGHIJKLMNOPQRSTUVWXYZ",i.RetroFont.TEXT_SET9="ABCDEFGHIJKLMNOPQRSTUVWXYZ()-0123456789.:,'\"?!",i.RetroFont.TEXT_SET10="ABCDEFGHIJKLMNOPQRSTUVWXYZ",i.RetroFont.TEXT_SET11="ABCDEFGHIJKLMNOPQRSTUVWXYZ.,\"-+!?()':;0123456789",i.RetroFont.prototype.setFixedWidth=function(t,e){void 0===e&&(e="left"),this.fixedWidth=t,this.align=e},i.RetroFont.prototype.setText=function(t,e,i,s,n,o){this.multiLine=e||!1,this.customSpacingX=i||0,this.customSpacingY=s||0,this.align=n||"left",this.autoUpperCase=!o,t.length>0&&(this.text=t)},i.RetroFont.prototype.buildRetroFontText=function(){var t=0,e=0;if(this.clear(),this.multiLine){var s=this._text.split("\n");this.fixedWidth>0?this.resize(this.fixedWidth,s.length*(this.characterHeight+this.customSpacingY)-this.customSpacingY,!0):this.resize(this.getLongestLine()*(this.characterWidth+this.customSpacingX),s.length*(this.characterHeight+this.customSpacingY)-this.customSpacingY,!0);for(var n=0;n<s.length;n++)t=0,this.align===i.RetroFont.ALIGN_RIGHT?t=this.width-s[n].length*(this.characterWidth+this.customSpacingX):this.align===i.RetroFont.ALIGN_CENTER&&(t=this.width/2-s[n].length*(this.characterWidth+this.customSpacingX)/2,t+=this.customSpacingX/2),t<0&&(t=0),this.pasteLine(s[n],t,e,this.customSpacingX),e+=this.characterHeight+this.customSpacingY}else this.fixedWidth>0?this.resize(this.fixedWidth,this.characterHeight,!0):this.resize(this._text.length*(this.characterWidth+this.customSpacingX),this.characterHeight,!0),t=0,this.align===i.RetroFont.ALIGN_RIGHT?t=this.width-this._text.length*(this.characterWidth+this.customSpacingX):this.align===i.RetroFont.ALIGN_CENTER&&(t=this.width/2-this._text.length*(this.characterWidth+this.customSpacingX)/2,t+=this.customSpacingX/2),t<0&&(t=0),this.pasteLine(this._text,t,0,this.customSpacingX);this.requiresReTint=!0},i.RetroFont.prototype.pasteLine=function(t,e,i,s){for(var n=0;n<t.length;n++)if(" "===t.charAt(n))e+=this.characterWidth+s;else if(this.grabData[t.charCodeAt(n)]>=0&&(this.stamp.frame=this.grabData[t.charCodeAt(n)],this.renderXY(this.stamp,e,i,!1),(e+=this.characterWidth+s)>this.width))break},i.RetroFont.prototype.getLongestLine=function(){var t=0;if(this._text.length>0)for(var e=this._text.split("\n"),i=0;i<e.length;i++)e[i].length>t&&(t=e[i].length);return t},i.RetroFont.prototype.removeUnsupportedCharacters=function(t){for(var e="",i=0;i<this._text.length;i++){var s=this._text[i],n=s.charCodeAt(0);(this.grabData[n]>=0||!t&&"\n"===s)&&(e=e.concat(s))}return e},i.RetroFont.prototype.updateOffset=function(t,e){if(this.offsetX!==t||this.offsetY!==e){for(var i=t-this.offsetX,s=e-this.offsetY,n=this.game.cache.getFrameData(this.stamp.key).getFrames(),o=n.length;o--;)n[o].x+=i,n[o].y+=s;this.buildRetroFontText()}},Object.defineProperty(i.RetroFont.prototype,"text",{get:function(){return this._text},set:function(t){var e;(e=this.autoUpperCase?t.toUpperCase():t)!==this._text&&(this._text=e,this.removeUnsupportedCharacters(this.multiLine),this.buildRetroFontText())}}),Object.defineProperty(i.RetroFont.prototype,"smoothed",{get:function(){return this.stamp.smoothed},set:function(t){this.stamp.smoothed=t,this.buildRetroFontText()}}),i.Rope=function(t,e,s,n,o,r){this.points=[],this.points=r,this._hasUpdateAnimation=!1,this._updateAnimationCallback=null,e=e||0,s=s||0,n=n||null,o=o||null,this.type=i.ROPE,this.points=r,PIXI.DisplayObjectContainer.call(this),this.texture=i.Cache.DEFAULT,this.uvs=new Float32Array([0,1,1,1,1,0,0,1]),this.vertices=new Float32Array([0,0,100,0,100,100,0,100]),this.colors=new Float32Array([1,1,1,1]),this.indices=new Uint16Array([0,1,2,3]),r&&(this.vertices=new Float32Array(4*r.length),this.uvs=new Float32Array(4*r.length),this.colors=new Float32Array(2*r.length),this.indices=new Uint16Array(2*r.length)),this.dirty=!0,this.canvasPadding=0,this.drawMode=i.Rope.TRIANGLE_STRIP,i.Component.Core.init.call(this,t,e,s,n,o),this.refresh()},i.Rope.prototype=Object.create(PIXI.DisplayObjectContainer.prototype),i.Rope.prototype.constructor=i.Rope,i.Component.Core.install.call(i.Rope.prototype,["Angle","Animation","AutoCull","Bounds","BringToTop","Crop","Delta","Destroy","FixedToCamera","InWorld","LifeSpan","LoadTexture","Overlap","PhysicsBody","Reset","ScaleMinMax","Smoothed"]),i.Rope.prototype.preUpdatePhysics=i.Component.PhysicsBody.preUpdate,i.Rope.prototype.preUpdateLifeSpan=i.Component.LifeSpan.preUpdate,i.Rope.prototype.preUpdateInWorld=i.Component.InWorld.preUpdate,i.Rope.prototype.preUpdateCore=i.Component.Core.preUpdate,i.Rope.TRIANGLE_STRIP=0,i.Rope.TRIANGLES=1,i.Rope.prototype.preUpdate=function(){return!!(this.preUpdatePhysics()&&this.preUpdateLifeSpan()&&this.preUpdateInWorld())&&this.preUpdateCore()},i.Rope.prototype.update=function(){this._hasUpdateAnimation&&this.updateAnimation.call(this)},i.Rope.prototype.reset=function(t,e){return i.Component.Reset.prototype.reset.call(this,t,e),this},i.Rope.prototype.refresh=function(){var t=this.points;if(!(t.length<1)){var e=this.uvs,i=this.indices,s=this.colors;this.count-=.2,e[0]=0,e[1]=0,e[2]=0,e[3]=1,s[0]=1,s[1]=1,i[0]=0,i[1]=1;for(var n,o,r=t.length,a=1;a<r;a++)o=a/(r-1),e[n=4*a]=o,e[n+1]=0,e[n+2]=o,e[n+3]=1,s[n=2*a]=1,s[n+1]=1,i[n=2*a]=n,i[n+1]=n+1}},i.Rope.prototype.updateTransform=function(){var t=this.points;if(!(t.length<1)){var e,i=t[0],s={x:0,y:0};this.count-=.2;for(var n,o,r,a,h=this.vertices,l=t.length,c=0;c<l;c++)n=t[c],o=4*c,e=c<t.length-1?t[c+1]:n,s.y=-(e.x-i.x),s.x=e.y-i.y,10*(1-c/(l-1))>1&&1,r=Math.sqrt(s.x*s.x+s.y*s.y),a=this.texture.height/2,s.x/=r,s.y/=r,s.x*=a,s.y*=a,h[o]=n.x+s.x,h[o+1]=n.y+s.y,h[o+2]=n.x-s.x,h[o+3]=n.y-s.y,i=n;PIXI.DisplayObjectContainer.prototype.updateTransform.call(this)}},i.Rope.prototype.setTexture=function(t){this.texture=t},i.Rope.prototype._renderWebGL=function(t){!this.visible||this.alpha<=0||(t.spriteBatch.stop(),this._vertexBuffer||this._initWebGL(t),t.shaderManager.setShader(t.shaderManager.stripShader),this._renderStrip(t),t.spriteBatch.start())},i.Rope.prototype._initWebGL=function(t){var e=t.gl;this._vertexBuffer=e.createBuffer(),this._indexBuffer=e.createBuffer(),this._uvBuffer=e.createBuffer(),this._colorBuffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,this._vertexBuffer),e.bufferData(e.ARRAY_BUFFER,this.vertices,e.DYNAMIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,this._uvBuffer),e.bufferData(e.ARRAY_BUFFER,this.uvs,e.STATIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,this._colorBuffer),e.bufferData(e.ARRAY_BUFFER,this.colors,e.STATIC_DRAW),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this._indexBuffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,this.indices,e.STATIC_DRAW)},i.Rope.prototype._renderStrip=function(t){var e=t.gl,s=t.projection,n=t.offset,o=t.shaderManager.stripShader,r=this.drawMode===i.Rope.TRIANGLE_STRIP?e.TRIANGLE_STRIP:e.TRIANGLES;t.blendModeManager.setBlendMode(this.blendMode),e.uniformMatrix3fv(o.translationMatrix,!1,this.worldTransform.toArray(!0)),e.uniform2f(o.projectionVector,s.x,-s.y),e.uniform2f(o.offsetVector,-n.x,-n.y),e.uniform1f(o.alpha,this.worldAlpha),this.dirty?(this.dirty=!1,e.bindBuffer(e.ARRAY_BUFFER,this._vertexBuffer),e.bufferData(e.ARRAY_BUFFER,this.vertices,e.STATIC_DRAW),e.vertexAttribPointer(o.aVertexPosition,2,e.FLOAT,!1,0,0),e.bindBuffer(e.ARRAY_BUFFER,this._uvBuffer),e.bufferData(e.ARRAY_BUFFER,this.uvs,e.STATIC_DRAW),e.vertexAttribPointer(o.aTextureCoord,2,e.FLOAT,!1,0,0),e.activeTexture(e.TEXTURE0),this.texture.baseTexture._dirty[e.id]?t.renderer.updateTexture(this.texture.baseTexture):e.bindTexture(e.TEXTURE_2D,this.texture.baseTexture._glTextures[e.id]),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this._indexBuffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,this.indices,e.STATIC_DRAW)):(e.bindBuffer(e.ARRAY_BUFFER,this._vertexBuffer),e.bufferSubData(e.ARRAY_BUFFER,0,this.vertices),e.vertexAttribPointer(o.aVertexPosition,2,e.FLOAT,!1,0,0),e.bindBuffer(e.ARRAY_BUFFER,this._uvBuffer),e.vertexAttribPointer(o.aTextureCoord,2,e.FLOAT,!1,0,0),e.activeTexture(e.TEXTURE0),this.texture.baseTexture._dirty[e.id]?t.renderer.updateTexture(this.texture.baseTexture):e.bindTexture(e.TEXTURE_2D,this.texture.baseTexture._glTextures[e.id]),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this._indexBuffer)),e.drawElements(r,this.indices.length,e.UNSIGNED_SHORT,0)},i.Rope.prototype._renderCanvas=function(t){var e=t.context,s=this.worldTransform,n=s.tx*t.resolution+t.shakeX,o=s.ty*t.resolution+t.shakeY;t.roundPixels?e.setTransform(s.a,s.b,s.c,s.d,0|n,0|o):e.setTransform(s.a,s.b,s.c,s.d,n,o),this.drawMode===i.Rope.TRIANGLE_STRIP?this._renderCanvasTriangleStrip(e):this._renderCanvasTriangles(e)},i.Rope.prototype._renderCanvasTriangleStrip=function(t){var e=this.vertices,i=this.uvs,s=e.length/2;this.count++;for(var n=0;n<s-2;n++){var o=2*n;this._renderCanvasDrawTriangle(t,e,i,o,o+2,o+4)}},i.Rope.prototype._renderCanvasTriangles=function(t){var e=this.vertices,i=this.uvs,s=this.indices,n=s.length;this.count++;for(var o=0;o<n;o+=3){var r=2*s[o],a=2*s[o+1],h=2*s[o+2];this._renderCanvasDrawTriangle(t,e,i,r,a,h)}},i.Rope.prototype._renderCanvasDrawTriangle=function(t,e,i,s,n,o){var r=this.texture.baseTexture.source,a=this.texture.width,h=this.texture.height,l=e[s],c=e[n],u=e[o],d=e[s+1],p=e[n+1],f=e[o+1],m=i[s]*a,g=i[n]*a,y=i[o]*a,v=i[s+1]*h,x=i[n+1]*h,b=i[o+1]*h;if(this.canvasPadding>0){var _=this.canvasPadding/this.worldTransform.a,w=this.canvasPadding/this.worldTransform.d,T=(l+c+u)/3,P=(d+p+f)/3,C=l-T,S=d-P,k=Math.sqrt(C*C+S*S);l=T+C/k*(k+_),d=P+S/k*(k+w),S=p-P,c=T+(C=c-T)/(k=Math.sqrt(C*C+S*S))*(k+_),p=P+S/k*(k+w),S=f-P,u=T+(C=u-T)/(k=Math.sqrt(C*C+S*S))*(k+_),f=P+S/k*(k+w)}t.save(),t.beginPath(),t.moveTo(l,d),t.lineTo(c,p),t.lineTo(u,f),t.closePath(),t.clip();var A=m*x+v*y+g*b-x*y-v*g-m*b,M=l*x+v*u+c*b-x*u-v*c-l*b,O=m*c+l*y+g*u-c*y-l*g-m*u,I=m*x*u+v*c*y+l*g*b-l*x*y-v*g*u-m*c*b,E=d*x+v*f+p*b-x*f-v*p-d*b,R=m*p+d*y+g*f-p*y-d*g-m*f,L=m*x*f+v*p*y+d*g*b-d*x*y-v*g*f-m*p*b;t.transform(M/A,E/A,O/A,R/A,I/A,L/A),t.drawImage(r,0,0),t.restore()},i.Rope.prototype.renderStripFlat=function(t){var e=this.context,i=t.vertices,s=i.length/2;this.count++,e.beginPath();for(var n=1;n<s-2;n++){var o=2*n,r=i[o],a=i[o+2],h=i[o+4],l=i[o+1],c=i[o+3],u=i[o+5];e.moveTo(r,l),e.lineTo(a,c),e.lineTo(h,u)}e.fillStyle="#FF0000",e.fill(),e.closePath()},i.Rope.prototype.getBounds=function(t){for(var e=t||this.worldTransform,i=e.a,s=e.b,n=e.c,o=e.d,r=e.tx,a=e.ty,h=-1/0,l=-1/0,c=1/0,u=1/0,d=this.vertices,p=0;p<d.length;p+=2){var f=d[p],m=d[p+1],g=i*f+n*m+r,y=o*m+s*f+a;c=g<c?g:c,u=y<u?y:u,h=g>h?g:h,l=y>l?y:l}if(c===-1/0||l===1/0)return PIXI.EmptyRectangle;var v=this._bounds;return v.x=c,v.width=h-c,v.y=u,v.height=l-u,this._currentBounds=v,v},Object.defineProperty(i.Rope.prototype,"updateAnimation",{get:function(){return this._updateAnimation},set:function(t){t&&"function"==typeof t?(this._hasUpdateAnimation=!0,this._updateAnimation=t):(this._hasUpdateAnimation=!1,this._updateAnimation=null)}}),Object.defineProperty(i.Rope.prototype,"segments",{get:function(){for(var t,e,s,n,o,r,a,h,l=[],c=0;c<this.points.length;c++)t=4*c,e=this.vertices[t]*this.scale.x,s=this.vertices[t+1]*this.scale.y,n=this.vertices[t+4]*this.scale.x,o=this.vertices[t+3]*this.scale.y,r=i.Math.difference(e,n),a=i.Math.difference(s,o),e+=this.world.x,s+=this.world.y,h=new i.Rectangle(e,s,r,a),l.push(h);return l}}),i.TileSprite=function(t,e,s,n,o,r,a){e=e||0,s=s||0,n=n||256,o=o||256,r=r||null,a=a||null,PIXI.Sprite.call(this,new PIXI.Texture(i.Cache.DEFAULT.baseTexture),n,o),this.type=i.TILESPRITE,this.physicsType=i.SPRITE,this._scroll=new i.Point,this.tileScale=new i.Point(1,1),this.tileScaleOffset=new i.Point(1,1),this.tilePosition=new i.Point,this.textureDebug=!1,this.canvasBuffer=null,this.tilingTexture=null,this.tilePattern=null,this.refreshTexture=!0,this.frameWidth=0,this.frameHeight=0,this._width=n,this._height=o,i.Component.Core.init.call(this,t,e,s,r,a)},i.TileSprite.prototype=Object.create(PIXI.Sprite.prototype),i.TileSprite.prototype.constructor=i.TileSprite,i.Component.Core.install.call(i.TileSprite.prototype,["Angle","Animation","AutoCull","Bounds","BringToTop","Destroy","FixedToCamera","Health","InCamera","InputEnabled","InWorld","LifeSpan","LoadTexture","Overlap","PhysicsBody","Reset","Smoothed"]),i.TileSprite.prototype.preUpdatePhysics=i.Component.PhysicsBody.preUpdate,i.TileSprite.prototype.preUpdateLifeSpan=i.Component.LifeSpan.preUpdate,i.TileSprite.prototype.preUpdateInWorld=i.Component.InWorld.preUpdate,i.TileSprite.prototype.preUpdateCore=i.Component.Core.preUpdate,i.TileSprite.prototype.preUpdate=function(){return 0!==this._scroll.x&&(this.tilePosition.x+=this._scroll.x*this.game.time.physicsElapsed),0!==this._scroll.y&&(this.tilePosition.y+=this._scroll.y*this.game.time.physicsElapsed),!!(this.preUpdatePhysics()&&this.preUpdateLifeSpan()&&this.preUpdateInWorld())&&this.preUpdateCore()},i.TileSprite.prototype.autoScroll=function(t,e){return this._scroll.set(t,e),this},i.TileSprite.prototype.stopScroll=function(){return this._scroll.set(0,0),this},i.TileSprite.prototype.destroy=function(t){i.Component.Destroy.prototype.destroy.call(this,t),PIXI.Sprite.prototype.destroy.call(this),this.canvasBuffer&&(this.canvasBuffer.destroy(),this.canvasBuffer=null),this.tileScale=null,this.tileScaleOffset=null,this.tilePosition=null,this.tilingTexture&&(this.tilingTexture.destroy(!0),this.tilingTexture=null)},i.TileSprite.prototype.reset=function(t,e){return i.Component.Reset.prototype.reset.call(this,t,e),this.tilePosition.x=0,this.tilePosition.y=0,this},i.TileSprite.prototype.setTexture=function(t){return this.texture!==t&&(this.texture=t,this.refreshTexture=!0,this.cachedTint=16777215),this},i.TileSprite.prototype._renderWebGL=function(t){if(this.visible&&this.renderable&&0!==this.alpha){if(this._mask&&(t.spriteBatch.stop(),t.maskManager.pushMask(this.mask,t),t.spriteBatch.start()),this._filters&&(t.spriteBatch.flush(),t.filterManager.pushFilter(this._filterBlock)),this.refreshTexture){if(this.generateTilingTexture(!0,t),!this.tilingTexture)return;this.tilingTexture.needsUpdate&&(this.tilingTexture.baseTexture.textureIndex=this.texture.baseTexture.textureIndex,t.renderer.updateTexture(this.tilingTexture.baseTexture),this.tilingTexture.needsUpdate=!1)}t.spriteBatch.renderTilingSprite(this);for(var e=0;e<this.children.length;e++)this.children[e]._renderWebGL(t);var i=!1;this._filters&&(i=!0,t.spriteBatch.stop(),t.filterManager.popFilter()),this._mask&&(i||t.spriteBatch.stop(),t.maskManager.popMask(this._mask,t)),i&&t.spriteBatch.start()}},i.TileSprite.prototype._renderCanvas=function(t){if(this.visible&&this.renderable&&0!==this.alpha){var e=t.context;this._mask&&t.maskManager.pushMask(this._mask,t),e.globalAlpha=this.worldAlpha;var i=this.worldTransform,s=t.resolution,n=i.tx*s+t.shakeX,o=i.ty*s+t.shakeY;if(e.setTransform(i.a*s,i.b*s,i.c*s,i.d*s,n,o),16777215===this.tint||!this.texture.requiresReTint&&this.cachedTint===this.tint||(this.tintedTexture=PIXI.CanvasTinter.getTintedTexture(this,this.tint),this.cachedTint=this.tint,this.texture.requiresReTint=!1,this.refreshTexture=!0),this.refreshTexture){if(this.generateTilingTexture(!1,t),!this.tilingTexture)return;this.tilePattern=e.createPattern(this.tilingTexture.baseTexture.source,"repeat")}var r=t.currentBlendMode;this.blendMode!==t.currentBlendMode&&(t.currentBlendMode=this.blendMode,e.globalCompositeOperation=PIXI.blendModesCanvas[t.currentBlendMode]);var a=this.tilePosition,h=this.tileScale;a.x%=this.tilingTexture.baseTexture.width,a.y%=this.tilingTexture.baseTexture.height,e.scale(h.x,h.y),e.translate(a.x+this.anchor.x*-this._width,a.y+this.anchor.y*-this._height),e.fillStyle=this.tilePattern,n=-a.x,o=-a.y;var l=this._width/h.x,c=this._height/h.y;t.roundPixels&&(n|=0,o|=0,l|=0,c|=0),e.fillRect(n,o,l,c),e.scale(1/h.x,1/h.y),e.translate(-a.x+this.anchor.x*this._width,-a.y+this.anchor.y*this._height),this._mask&&t.maskManager.popMask(t);for(var u=0;u<this.children.length;u++)this.children[u]._renderCanvas(t);r!==this.blendMode&&(t.currentBlendMode=r,e.globalCompositeOperation=PIXI.blendModesCanvas[r])}},i.TileSprite.prototype.onTextureUpdate=function(){},i.TileSprite.prototype.generateTilingTexture=function(t){if(this.texture.baseTexture.hasLoaded){var e=this.texture,s=e.frame,n=this._frame.sourceSizeW||this._frame.width,o=this._frame.sourceSizeH||this._frame.height,r=0,a=0;this._frame.trimmed&&(r=this._frame.spriteSourceSizeX,a=this._frame.spriteSourceSizeY),t&&(n=i.Math.getNextPowerOfTwo(n),o=i.Math.getNextPowerOfTwo(o)),this.canvasBuffer?(this.canvasBuffer.resize(n,o),this.tilingTexture.baseTexture.width=n,this.tilingTexture.baseTexture.height=o,this.tilingTexture.needsUpdate=!0):(this.canvasBuffer=new PIXI.CanvasBuffer(n,o),this.tilingTexture=PIXI.Texture.fromCanvas(this.canvasBuffer.canvas),this.tilingTexture.isTiling=!0,this.tilingTexture.needsUpdate=!0),this.textureDebug&&(this.canvasBuffer.context.strokeStyle="#00ff00",this.canvasBuffer.context.strokeRect(0,0,n,o));var h=e.crop.width,l=e.crop.height;h===n&&l===o||(h=n,l=o);var c=this.tintedTexture?this.tintedTexture:e.baseTexture.source;this.canvasBuffer.context.drawImage(c,e.crop.x,e.crop.y,e.crop.width,e.crop.height,r,a,h,l),this.tileScaleOffset.x=s.width/n,this.tileScaleOffset.y=s.height/o,this.refreshTexture=!1,this.tilingTexture.baseTexture._powerOf2=!0}},i.TileSprite.prototype.getBounds=function(){var t=this._width,e=this._height,i=t*(1-this.anchor.x),s=t*-this.anchor.x,n=e*(1-this.anchor.y),o=e*-this.anchor.y,r=this.worldTransform,a=r.a,h=r.b,l=r.c,c=r.d,u=r.tx,d=r.ty,p=a*s+l*o+u,f=c*o+h*s+d,m=a*i+l*o+u,g=c*o+h*i+d,y=a*i+l*n+u,v=c*n+h*i+d,x=a*s+l*n+u,b=c*n+h*s+d,_=-1/0,w=-1/0,T=1/0,P=1/0;T=x<(T=y<(T=m<(T=p<T?p:T)?m:T)?y:T)?x:T,P=b<(P=v<(P=g<(P=f<P?f:P)?g:P)?v:P)?b:P,_=x>(_=y>(_=m>(_=p>_?p:_)?m:_)?y:_)?x:_,w=b>(w=v>(w=g>(w=f>w?f:w)?g:w)?v:w)?b:w;var C=this._bounds;return C.x=T,C.width=_-T,C.y=P,C.height=w-P,this._currentBounds=C,C},Object.defineProperty(i.TileSprite.prototype,"width",{get:function(){return this._width},set:function(t){this._width=t}}),Object.defineProperty(i.TileSprite.prototype,"height",{get:function(){return this._height},set:function(t){this._height=t}}),i.CanvasPool={create:function(t,e,s){var n,o=i.CanvasPool.getFirst();if(-1===o){var r={parent:t,canvas:document.createElement("canvas")};i.CanvasPool.pool.push(r),n=r.canvas}else i.CanvasPool.pool[o].parent=t,n=i.CanvasPool.pool[o].canvas;return void 0!==e&&(n.width=e,n.height=s),n},getFirst:function(){for(var t=i.CanvasPool.pool,e=0;e<t.length;e++)if(!t[e].parent)return e;return-1},remove:function(t){for(var e=i.CanvasPool.pool,s=0;s<e.length;s++)e[s].parent===t&&(e[s].parent=null,e[s].canvas.width=1,e[s].canvas.height=1)},removeByCanvas:function(t){for(var e=i.CanvasPool.pool,s=0;s<e.length;s++)e[s].canvas===t&&(e[s].parent=null,e[s].canvas.width=1,e[s].canvas.height=1)},getTotal:function(){for(var t=i.CanvasPool.pool,e=0,s=0;s<t.length;s++)t[s].parent&&e++;return e},getFree:function(){for(var t=i.CanvasPool.pool,e=0,s=0;s<t.length;s++)t[s].parent||e++;return e},log:function(){console.log("CanvasPool: %s used, %s free, %s total",this.getTotal(),this.getFree(),this.pool.length)}},i.CanvasPool.pool=[],Object.defineProperty(i.CanvasPool,"length",{get:function(){return this.pool.length}}),i.Device=function(){this.deviceReadyAt=0,this.initialized=!1,this.desktop=!1,this.iOS=!1,this.iOSVersion=0,this.cocoonJS=!1,this.cocoonJSApp=!1,this.cordova=!1,this.node=!1,this.nodeWebkit=!1,this.electron=!1,this.ejecta=!1,this.crosswalk=!1,this.android=!1,this.chromeOS=!1,this.linux=!1,this.macOS=!1,this.windows=!1,this.windowsPhone=!1,this.canvas=!1,this.canvasBitBltShift=null,this.canHandleAlpha=!1,this.canUseMultiply=!1,this.webGL=!1,this.file=!1,this.fileSystem=!1,this.localStorage=!1,this.worker=!1,this.css3D=!1,this.pointerLock=!1,this.typedArray=!1,this.vibration=!1,this.getUserMedia=!0,this.quirksMode=!1,this.touch=!1,this.mspointer=!1,this.wheelEvent=null,this.arora=!1,this.chrome=!1,this.chromeVersion=0,this.epiphany=!1,this.firefox=!1,this.firefoxVersion=0,this.ie=!1,this.ieVersion=0,this.trident=!1,this.tridentVersion=0,this.edge=!1,this.mobileSafari=!1,this.midori=!1,this.opera=!1,this.safari=!1,this.safariVersion=0,this.webApp=!1,this.silk=!1,this.audioData=!1,this.webAudio=!1,this.ogg=!1,this.opus=!1,this.mp3=!1,this.wav=!1,this.m4a=!1,this.webm=!1,this.dolby=!1,this.oggVideo=!1,this.h264Video=!1,this.mp4Video=!1,this.webmVideo=!1,this.vp9Video=!1,this.hlsVideo=!1,this.iPhone=!1,this.iPhone4=!1,this.iPad=!1,this.pixelRatio=0,this.littleEndian=!1,this.LITTLE_ENDIAN=!1,this.support32bit=!1,this.fullscreen=!1,this.requestFullscreen="",this.cancelFullscreen="",this.fullscreenKeyboard=!1},i.Device=new i.Device,i.Device.onInitialized=new i.Signal,i.Device.whenReady=function(t,e,i){var s=this._readyCheck;if(this.deviceReadyAt||!s)t.call(e,this);else if(s._monitor||i)s._queue=s._queue||[],s._queue.push([t,e]);else{s._monitor=s.bind(this),s._queue=s._queue||[],s._queue.push([t,e]);var n=void 0!==window.cordova,o=navigator.isCocoonJS;"complete"===document.readyState||"interactive"===document.readyState?window.setTimeout(s._monitor,0):n&&!o?document.addEventListener("deviceready",s._monitor,!1):(document.addEventListener("DOMContentLoaded",s._monitor,!1),window.addEventListener("load",s._monitor,!1))}},i.Device._readyCheck=function(){var t=this._readyCheck;if(document.body){if(!this.deviceReadyAt){this.deviceReadyAt=Date.now(),document.removeEventListener("deviceready",t._monitor),document.removeEventListener("DOMContentLoaded",t._monitor),window.removeEventListener("load",t._monitor),this._initialize(),this.initialized=!0,this.onInitialized.dispatch(this);for(var e;e=t._queue.shift();){var i=e[0],s=e[1];i.call(s,this)}this._readyCheck=null,this._initialize=null,this.onInitialized=null}}else window.setTimeout(t._monitor,20)},i.Device._initialize=function(){function t(){var t=new ArrayBuffer(4),e=new Uint8Array(t),i=new Uint32Array(t);return e[0]=161,e[1]=178,e[2]=195,e[3]=212,3569595041===i[0]||2712847316!==i[0]&&null}function e(){if(void 0===Uint8ClampedArray)return!1;var t=i.CanvasPool.create(this,1,1).getContext("2d");if(!t)return!1;var e=t.createImageData(1,1);return i.CanvasPool.remove(this),e.data instanceof Uint8ClampedArray}var s=this;!function(){var t=navigator.userAgent;/Playstation Vita/.test(t)?s.vita=!0:/Kindle/.test(t)||/\bKF[A-Z][A-Z]+/.test(t)||/Silk.*Mobile Safari/.test(t)?s.kindle=!0:/Android/.test(t)?s.android=!0:/CrOS/.test(t)?s.chromeOS=!0:/iP[ao]d|iPhone/i.test(t)?(s.iOS=!0,navigator.appVersion.match(/OS (\d+)/),s.iOSVersion=parseInt(RegExp.$1,10)):/Linux/.test(t)?s.linux=!0:/Mac OS/.test(t)?s.macOS=!0:/Windows/.test(t)&&(s.windows=!0),(/Windows Phone/i.test(t)||/IEMobile/i.test(t))&&(s.android=!1,s.iOS=!1,s.macOS=!1,s.windows=!0,s.windowsPhone=!0);var e=/Silk/.test(t);(s.windows||s.macOS||s.linux&&!e||s.chromeOS)&&(s.desktop=!0),(s.windowsPhone||/Windows NT/i.test(t)&&/Touch/i.test(t))&&(s.desktop=!1)}(),function(){var t=navigator.userAgent;if(/Arora/.test(t)?s.arora=!0:/Edge\/\d+/.test(t)?s.edge=!0:/Chrome\/(\d+)/.test(t)&&!s.windowsPhone?(s.chrome=!0,s.chromeVersion=parseInt(RegExp.$1,10)):/Epiphany/.test(t)?s.epiphany=!0:/Firefox\D+(\d+)/.test(t)?(s.firefox=!0,s.firefoxVersion=parseInt(RegExp.$1,10)):/AppleWebKit/.test(t)&&s.iOS?s.mobileSafari=!0:/MSIE (\d+\.\d+);/.test(t)?(s.ie=!0,s.ieVersion=parseInt(RegExp.$1,10)):/Midori/.test(t)?s.midori=!0:/Opera/.test(t)?s.opera=!0:/Safari\/(\d+)/.test(t)&&!s.windowsPhone?(s.safari=!0,/Version\/(\d+)\./.test(t)&&(s.safariVersion=parseInt(RegExp.$1,10))):/Trident\/(\d+\.\d+)(.*)rv:(\d+\.\d+)/.test(t)&&(s.ie=!0,s.trident=!0,s.tridentVersion=parseInt(RegExp.$1,10),s.ieVersion=parseInt(RegExp.$3,10)),/Silk/.test(t)&&(s.silk=!0),navigator.standalone&&(s.webApp=!0),void 0!==window.cordova&&(s.cordova=!0),"undefined"!=typeof process&&"undefined"!="function"&&(s.node=!0),s.node&&"object"==typeof process.versions&&(s.nodeWebkit=!!process.versions["node-webkit"],s.electron=!!process.versions.electron),navigator.isCocoonJS&&(s.cocoonJS=!0),s.cocoonJS)try{s.cocoonJSApp="undefined"!=typeof CocoonJS}catch(t){s.cocoonJSApp=!1}void 0!==window.ejecta&&(s.ejecta=!0),/Crosswalk/.test(t)&&(s.crosswalk=!0)}(),function(){s.audioData=!!window.Audio,s.webAudio=!(!window.AudioContext&&!window.webkitAudioContext);var t=document.createElement("audio");try{if(t.canPlayType&&(t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,"")&&(s.ogg=!0),(t.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,"")||t.canPlayType("audio/opus;").replace(/^no$/,""))&&(s.opus=!0),t.canPlayType("audio/mpeg;").replace(/^no$/,"")&&(s.mp3=!0),t.canPlayType('audio/wav; codecs="1"').replace(/^no$/,"")&&(s.wav=!0),(t.canPlayType("audio/x-m4a;")||t.canPlayType("audio/aac;").replace(/^no$/,""))&&(s.m4a=!0),t.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")&&(s.webm=!0),""!==t.canPlayType('audio/mp4;codecs="ec-3"')))if(s.edge)s.dolby=!0;else if(s.safari&&s.safariVersion>=9&&/Mac OS X (\d+)_(\d+)/.test(navigator.userAgent)){var e=parseInt(RegExp.$1,10),i=parseInt(RegExp.$2,10);(10===e&&i>=11||e>10)&&(s.dolby=!0)}}catch(t){}}(),function(){var t=document.createElement("video");try{!!t.canPlayType&&(t.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,"")&&(s.oggVideo=!0),t.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,"")&&(s.h264Video=!0,s.mp4Video=!0),t.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,"")&&(s.webmVideo=!0),t.canPlayType('video/webm; codecs="vp9"').replace(/^no$/,"")&&(s.vp9Video=!0),t.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(/^no$/,"")&&(s.hlsVideo=!0))}catch(t){}}(),function(){var t,e=document.createElement("p"),i={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};document.body.insertBefore(e,null);for(var n in i)void 0!==e.style[n]&&(e.style[n]="translate3d(1px,1px,1px)",t=window.getComputedStyle(e).getPropertyValue(i[n]));document.body.removeChild(e),s.css3D=void 0!==t&&t.length>0&&"none"!==t}(),s.pixelRatio=window.devicePixelRatio||1,s.iPhone=-1!==navigator.userAgent.toLowerCase().indexOf("iphone"),s.iPhone4=2===s.pixelRatio&&s.iPhone,s.iPad=-1!==navigator.userAgent.toLowerCase().indexOf("ipad"),"undefined"!=typeof Int8Array?s.typedArray=!0:s.typedArray=!1,"undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint32Array&&(s.littleEndian=t(),s.LITTLE_ENDIAN=s.littleEndian),s.support32bit="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof Int32Array&&null!==s.littleEndian&&e(),navigator.vibrate=navigator.vibrate||navigator.webkitVibrate||navigator.mozVibrate||navigator.msVibrate,navigator.vibrate&&(s.vibration=!0),function(){s.canvas=!!window.CanvasRenderingContext2D||s.cocoonJS;try{s.localStorage=!!localStorage.getItem}catch(t){s.localStorage=!1}s.file=!!(window.File&&window.FileReader&&window.FileList&&window.Blob),s.fileSystem=!!window.requestFileSystem,s.webGL=function(){try{var t=document.createElement("canvas");return t.screencanvas=!1,!!window.WebGLRenderingContext&&(t.getContext("webgl")||t.getContext("experimental-webgl"))}catch(t){return!1}}(),s.webGL=!!s.webGL,s.worker=!!window.Worker,s.pointerLock="pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document,s.quirksMode="CSS1Compat"!==document.compatMode,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||navigator.oGetUserMedia,window.URL=window.URL||window.webkitURL||window.mozURL||window.msURL,s.getUserMedia=s.getUserMedia&&!!navigator.getUserMedia&&!!window.URL,s.firefox&&s.firefoxVersion<21&&(s.getUserMedia=!1),!s.iOS&&(s.ie||s.firefox||s.chrome)&&(s.canvasBitBltShift=!0),(s.safari||s.mobileSafari)&&(s.canvasBitBltShift=!1)}(),function(){var t=i.CanvasPool.create(this,6,1),e=t.getContext("2d");e.fillStyle="rgba(10, 20, 30, 0.5)",e.fillRect(0,0,1,1);var n=e.getImageData(0,0,1,1);if(n){e.putImageData(n,1,0);var o=e.getImageData(1,0,1,1);s.canHandleAlpha=o.data[0]===n.data[0]&&o.data[1]===n.data[1]&&o.data[2]===n.data[2]&&o.data[3]===n.data[3]}e.globalCompositeOperation="multiply",s.canUseMultiply="multiply"===e.globalCompositeOperation,i.CanvasPool.removeByCanvas(t),PIXI.CanvasTinter.tintMethod=s.canUseMultiply?PIXI.CanvasTinter.tintWithMultiply:PIXI.CanvasTinter.tintWithPerPixel}(),function(){for(var t=["requestFullscreen","requestFullScreen","webkitRequestFullscreen","webkitRequestFullScreen","msRequestFullscreen","msRequestFullScreen","mozRequestFullScreen","mozRequestFullscreen"],e=document.createElement("div"),i=0;i<t.length;i++)if(e[t[i]]){s.fullscreen=!0,s.requestFullscreen=t[i];break}var n=["cancelFullScreen","exitFullscreen","webkitCancelFullScreen","webkitExitFullscreen","msCancelFullScreen","msExitFullscreen","mozCancelFullScreen","mozExitFullscreen"];if(s.fullscreen)for(i=0;i<n.length;i++)if(document[n[i]]){s.cancelFullscreen=n[i];break}window.Element&&Element.ALLOW_KEYBOARD_INPUT&&(s.fullscreenKeyboard=!0)}(),("ontouchstart"in document.documentElement||window.navigator.maxTouchPoints&&window.navigator.maxTouchPoints>=1)&&(s.touch=!0),(window.PointerEvent||window.MSPointerEvent||window.navigator.msPointerEnabled||window.navigator.pointerEnabled)&&(s.mspointer=!0),s.cocoonJS||("onwheel"in window||s.ie&&"WheelEvent"in window?s.wheelEvent="wheel":"onmousewheel"in window?s.wheelEvent="mousewheel":s.firefox&&"MouseScrollEvent"in window&&(s.wheelEvent="DOMMouseScroll"))},i.Device.canPlayAudio=function(t){return!("mp3"!==t||!this.mp3)||(!("ogg"!==t||!this.ogg&&!this.opus)||(!("m4a"!==t||!this.m4a)||(!("opus"!==t||!this.opus)||(!("wav"!==t||!this.wav)||(!("webm"!==t||!this.webm)||!("mp4"!==t||!this.dolby))))))},i.Device.canPlayVideo=function(t){return!("webm"!==t||!this.webmVideo&&!this.vp9Video)||(!("mp4"!==t||!this.mp4Video&&!this.h264Video)||(!("ogg"!==t&&"ogv"!==t||!this.oggVideo)||!("mpeg"!==t||!this.hlsVideo)))},i.Device.needsTouchUnlock=function(){return!!(!this.cocoonJS&&(this.iOS||this.android)||window.PhaserGlobal&&window.PhaserGlobal.fakeiOSTouchLock)},i.Device.isConsoleOpen=function(){return console.warn("Phaser.Device.isConsoleOpen is deprecated and will be removed."),!1},i.Device.isAndroidStockBrowser=function(){var t=window.navigator.userAgent.match(/Android.*AppleWebKit\/([\d.]+)/);return t&&t[1]<537},i.Canvas={create:function(t,e,s,n,o){e=e||256,s=s||256;var r=o?document.createElement("canvas"):i.CanvasPool.create(t,e,s);return"string"==typeof n&&""!==n&&(r.id=n),r.width=e,r.height=s,r.style.display="block",r},setBackgroundColor:function(t,e){return e=e||"rgb(0,0,0)",t.style.backgroundColor=e,t},setTouchAction:function(t,e){return e=e||"none",t.style.msTouchAction=e,t.style["ms-touch-action"]=e,t.style["touch-action"]=e,t},setUserSelect:function(t,e){return e=e||"none",t.style["-webkit-touch-callout"]=e,t.style["-webkit-user-select"]=e,t.style["-khtml-user-select"]=e,t.style["-moz-user-select"]=e,t.style["-ms-user-select"]=e,t.style["user-select"]=e,t.style["-webkit-tap-highlight-color"]="rgba(0, 0, 0, 0)",t},addToDOM:function(t,e,i){var s;return void 0===i&&(i=!0),e&&("string"==typeof e?s=document.getElementById(e):"object"==typeof e&&1===e.nodeType&&(s=e)),s||(s=document.body),i&&s.style&&(s.style.overflow="hidden"),s.appendChild(t),t},removeFromDOM:function(t){t.parentNode&&t.parentNode.removeChild(t)},setTransform:function(t,e,i,s,n,o,r){return t.setTransform(s,o,r,n,e,i),t},setSmoothingEnabled:function(t,e){var s=i.Canvas.getSmoothingPrefix(t);return s&&(t[s]=e),t},getSmoothingPrefix:function(t){var e=["i","webkitI","msI","mozI","oI"];for(var i in e){var s=e[i]+"mageSmoothingEnabled";if(s in t)return s}return null},getSmoothingEnabled:function(t){var e=i.Canvas.getSmoothingPrefix(t);if(e)return t[e]},setImageRenderingCrisp:function(t){for(var e=["optimizeSpeed","crisp-edges","-moz-crisp-edges","-webkit-optimize-contrast","optimize-contrast","pixelated"],i=0;i<e.length;i++)t.style["image-rendering"]=e[i];return t.style.msInterpolationMode="nearest-neighbor",t},setImageRenderingBicubic:function(t){return t.style["image-rendering"]="auto",t.style.msInterpolationMode="bicubic",t}},i.RequestAnimationFrame=function(t,e){void 0===e&&(e=!1),this.game=t,this.isRunning=!1,this.forceSetTimeOut=e;for(var i=["ms","moz","webkit","o"],s=0;s<i.length&&!window.requestAnimationFrame;s++)window.requestAnimationFrame=window[i[s]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[i[s]+"CancelAnimationFrame"]||window[i[s]+"CancelRequestAnimationFrame"];this._isSetTimeOut=!1,this._onLoop=null,this._timeOutID=null},i.RequestAnimationFrame.prototype={start:function(){this.isRunning=!0;var t=this;!window.requestAnimationFrame||this.forceSetTimeOut?(this._isSetTimeOut=!0,this._onLoop=function(){return t.updateSetTimeout()},this._timeOutID=window.setTimeout(this._onLoop,0)):(this._isSetTimeOut=!1,this._onLoop=function(e){return t.updateRAF(e)},this._timeOutID=window.requestAnimationFrame(this._onLoop))},updateRAF:function(t){this.isRunning&&(this.game.update(Math.floor(t)),this._timeOutID=window.requestAnimationFrame(this._onLoop))},updateSetTimeout:function(){this.isRunning&&(this.game.update(Date.now()),this._timeOutID=window.setTimeout(this._onLoop,this.game.time.timeToCall))},stop:function(){this._isSetTimeOut?clearTimeout(this._timeOutID):window.cancelAnimationFrame(this._timeOutID),this.isRunning=!1},isSetTimeOut:function(){return this._isSetTimeOut},isRAF:function(){return!1===this._isSetTimeOut}},i.RequestAnimationFrame.prototype.constructor=i.RequestAnimationFrame,i.Math={PI2:2*Math.PI,HALF_PI:.5*Math.PI,DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,degToRad:function(t){return t*i.Math.DEG_TO_RAD},radToDeg:function(t){return t*i.Math.RAD_TO_DEG},getNextPowerOfTwo:function(t){if(t>0&&0==(t&t-1))return t;for(var e=1;e<t;)e<<=1;return e},isPowerOfTwo:function(t,e){return t>0&&0==(t&t-1)&&e>0&&0==(e&e-1)},random:function(t,e){if(void 0===t&&(t=0),void 0===e&&(e=1),t===e)return t;if(t>e){var i=t;t=e,e=i}return Math.random()*(e-t)+t},between:function(t,e){if(void 0===t&&(t=0),void 0===e&&(e=1),t===e)return t;if(t>e){var i=t;t=e,e=i}return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t+1))+t},fuzzyEqual:function(t,e,i){return void 0===i&&(i=1e-4),Math.abs(t-e)<i},fuzzyLessThan:function(t,e,i){return void 0===i&&(i=1e-4),t<e+i},fuzzyGreaterThan:function(t,e,i){return void 0===i&&(i=1e-4),t>e-i},fuzzyCeil:function(t,e){return void 0===e&&(e=1e-4),Math.ceil(t-e)},fuzzyFloor:function(t,e){return void 0===e&&(e=1e-4),Math.floor(t+e)},average:function(){for(var t=0,e=arguments.length,i=0;i<e;i++)t+=+arguments[i];return t/e},shear:function(t){return t%1},snapTo:function(t,e,i){return void 0===i&&(i=0),0===e?t:(t-=i,t=e*Math.round(t/e),i+t)},snapToFloor:function(t,e,i){return void 0===i&&(i=0),0===e?t:(t-=i,t=e*Math.floor(t/e),i+t)},snapToCeil:function(t,e,i){return void 0===i&&(i=0),0===e?t:(t-=i,t=e*Math.ceil(t/e),i+t)},roundTo:function(t,e,i){void 0===e&&(e=0),void 0===i&&(i=10);var s=Math.pow(i,-e);return Math.round(t*s)/s},floorTo:function(t,e,i){void 0===e&&(e=0),void 0===i&&(i=10);var s=Math.pow(i,-e);return Math.floor(t*s)/s},ceilTo:function(t,e,i){void 0===e&&(e=0),void 0===i&&(i=10);var s=Math.pow(i,-e);return Math.ceil(t*s)/s},rotateToAngle:function(t,e,s){return void 0===s&&(s=.05),t===e?t:(Math.abs(e-t)<=s||Math.abs(e-t)>=i.Math.PI2-s?t=e:(Math.abs(e-t)>Math.PI&&(e<t?e+=i.Math.PI2:e-=i.Math.PI2),e>t?t+=s:e<t&&(t-=s)),t)},getShortestAngle:function(t,e){var i=e-t;return 0===i?0:i-360*Math.floor((i- -180)/360)},angleBetween:function(t,e,i,s){return Math.atan2(s-e,i-t)},angleBetweenY:function(t,e,i,s){return Math.atan2(i-t,s-e)},angleBetweenPoints:function(t,e){return Math.atan2(e.y-t.y,e.x-t.x)},angleBetweenPointsY:function(t,e){return Math.atan2(e.x-t.x,e.y-t.y)},reverseAngle:function(t){return this.normalizeAngle(t+Math.PI,!0)},normalizeAngle:function(t){return(t%=2*Math.PI)>=0?t:t+2*Math.PI},maxAdd:function(t,e,i){return Math.min(t+e,i)},minSub:function(t,e,i){return Math.max(t-e,i)},wrap:function(t,e,i){var s=i-e;if(s<=0)return 0;var n=(t-e)%s;return n<0&&(n+=s),n+e},wrapValue:function(t,e,i){return t=Math.abs(t),e=Math.abs(e),i=Math.abs(i),(t+e)%i},isOdd:function(t){return!!(1&t)},isEven:function(t){return!(1&t)},min:function(){if(1===arguments.length&&"object"==typeof arguments[0])t=arguments[0];else var t=arguments;for(var e=1,i=0,s=t.length;e<s;e++)t[e]<t[i]&&(i=e);return t[i]},max:function(){if(1===arguments.length&&"object"==typeof arguments[0])t=arguments[0];else var t=arguments;for(var e=1,i=0,s=t.length;e<s;e++)t[e]>t[i]&&(i=e);return t[i]},minProperty:function(t){if(2===arguments.length&&"object"==typeof arguments[1])e=arguments[1];else var e=arguments.slice(1);for(var i=1,s=0,n=e.length;i<n;i++)e[i][t]<e[s][t]&&(s=i);return e[s][t]},maxProperty:function(t){if(2===arguments.length&&"object"==typeof arguments[1])e=arguments[1];else var e=arguments.slice(1);for(var i=1,s=0,n=e.length;i<n;i++)e[i][t]>e[s][t]&&(s=i);return e[s][t]},wrapAngle:function(t,e){return e?this.wrap(t,-Math.PI,Math.PI):this.wrap(t,-180,180)},linearInterpolation:function(t,e){var i=t.length-1,s=i*e,n=Math.floor(s);return e<0?this.linear(t[0],t[1],s):e>1?this.linear(t[i],t[i-1],i-s):this.linear(t[n],t[n+1>i?i:n+1],s-n)},bezierInterpolation:function(t,e){for(var i=0,s=t.length-1,n=0;n<=s;n++)i+=Math.pow(1-e,s-n)*Math.pow(e,n)*t[n]*this.bernstein(s,n);return i},catmullRomInterpolation:function(t,e){var i=t.length-1,s=i*e,n=Math.floor(s);return t[0]===t[i]?(e<0&&(n=Math.floor(s=i*(1+e))),this.catmullRom(t[(n-1+i)%i],t[n],t[(n+1)%i],t[(n+2)%i],s-n)):e<0?t[0]-(this.catmullRom(t[0],t[0],t[1],t[1],-s)-t[0]):e>1?t[i]-(this.catmullRom(t[i],t[i],t[i-1],t[i-1],s-i)-t[i]):this.catmullRom(t[n?n-1:0],t[n],t[i<n+1?i:n+1],t[i<n+2?i:n+2],s-n)},linear:function(t,e,i){return(e-t)*i+t},bernstein:function(t,e){return this.factorial(t)/this.factorial(e)/this.factorial(t-e)},factorial:function(t){if(0===t)return 1;for(var e=t;--t;)e*=t;return e},catmullRom:function(t,e,i,s,n){var o=.5*(i-t),r=.5*(s-e),a=n*n;return(2*e-2*i+o+r)*(n*a)+(-3*e+3*i-2*o-r)*a+o*n+e},difference:function(t,e){return Math.abs(t-e)},roundAwayFromZero:function(t){return t>0?Math.ceil(t):Math.floor(t)},sinCosGenerator:function(t,e,i,s){void 0===e&&(e=1),void 0===i&&(i=1),void 0===s&&(s=1);for(var n=e,o=i,r=s*Math.PI/t,a=[],h=[],l=0;l<t;l++)n+=(o-=n*r)*r,a[l]=o,h[l]=n;return{sin:h,cos:a,length:t}},hypot:function(t,e){return Math.sqrt(t*t+e*e)},distance:function(t,e,i,s){var n=t-i,o=e-s;return Math.sqrt(n*n+o*o)},distanceSq:function(t,e,i,s){var n=t-i,o=e-s;return n*n+o*o},distancePow:function(t,e,i,s,n){return void 0===n&&(n=2),Math.sqrt(Math.pow(i-t,n)+Math.pow(s-e,n))},clamp:function(t,e,i){return t<e?e:i<t?i:t},clampBottom:function(t,e){return t<e?e:t},within:function(t,e,i){return Math.abs(t-e)<=i},mapLinear:function(t,e,i,s,n){return s+(t-e)*(n-s)/(i-e)},smoothstep:function(t,e,i){return(t=Math.max(0,Math.min(1,(t-e)/(i-e))))*t*(3-2*t)},smootherstep:function(t,e,i){return(t=Math.max(0,Math.min(1,(t-e)/(i-e))))*t*t*(t*(6*t-15)+10)},sign:function(t){return t<0?-1:t>0?1:0},percent:function(t,e,i){return void 0===i&&(i=0),t>e||i>e?1:t<i||i>t?0:(t-i)/e}},i.RandomDataGenerator=function(t){void 0===t&&(t=[]),this.c=1,this.s0=0,this.s1=0,this.s2=0,"string"==typeof t?this.state(t):this.sow(t)},i.RandomDataGenerator.prototype={rnd:function(){var t=2091639*this.s0+2.3283064365386963e-10*this.c;return this.c=0|t,this.s0=this.s1,this.s1=this.s2,this.s2=t-this.c,this.s2},sow:function(t){if(this.s0=this.hash(" "),this.s1=this.hash(this.s0),this.s2=this.hash(this.s1),this.c=1,t)for(var e=0;e<t.length&&null!=t[e];e++){var i=t[e];this.s0-=this.hash(i),this.s0+=~~(this.s0<0),this.s1-=this.hash(i),this.s1+=~~(this.s1<0),this.s2-=this.hash(i),this.s2+=~~(this.s2<0)}},hash:function(t){var e,i,s;for(s=4022871197,t=t.toString(),i=0;i<t.length;i++)e=.02519603282416938*(s+=t.charCodeAt(i)),e-=s=e>>>0,s=(e*=s)>>>0,s+=4294967296*(e-=s);return 2.3283064365386963e-10*(s>>>0)},integer:function(){return 4294967296*this.rnd.apply(this)},frac:function(){return this.rnd.apply(this)+1.1102230246251565e-16*(2097152*this.rnd.apply(this)|0)},real:function(){return this.integer()+this.frac()},integerInRange:function(t,e){return Math.floor(this.realInRange(0,e-t+1)+t)},between:function(t,e){return this.integerInRange(t,e)},realInRange:function(t,e){return this.frac()*(e-t)+t},normal:function(){return 1-2*this.frac()},uuid:function(){var t="",e="";for(e=t="";t++<36;e+=~t%5|3*t&4?(15^t?8^this.frac()*(20^t?16:4):4).toString(16):"-");return e},pick:function(t){return t[this.integerInRange(0,t.length-1)]},sign:function(){return this.pick([-1,1])},weightedPick:function(t){return t[~~(Math.pow(this.frac(),2)*(t.length-1)+.5)]},timestamp:function(t,e){return this.realInRange(t||9466848e5,e||1577862e6)},angle:function(){return this.integerInRange(-180,180)},state:function(t){return"string"==typeof t&&t.match(/^!rnd/)&&(t=t.split(","),this.c=parseFloat(t[1]),this.s0=parseFloat(t[2]),this.s1=parseFloat(t[3]),this.s2=parseFloat(t[4])),["!rnd",this.c,this.s0,this.s1,this.s2].join(",")}},i.RandomDataGenerator.prototype.constructor=i.RandomDataGenerator,i.QuadTree=function(t,e,i,s,n,o,r){this.maxObjects=10,this.maxLevels=4,this.level=0,this.bounds={},this.objects=[],this.nodes=[],this._empty=[],this.reset(t,e,i,s,n,o,r)},i.QuadTree.prototype={reset:function(t,e,i,s,n,o,r){this.maxObjects=n||10,this.maxLevels=o||4,this.level=r||0,this.bounds={x:Math.round(t),y:Math.round(e),width:i,height:s,subWidth:Math.floor(i/2),subHeight:Math.floor(s/2),right:Math.round(t)+Math.floor(i/2),bottom:Math.round(e)+Math.floor(s/2)},this.objects.length=0,this.nodes.length=0},populate:function(t){t.forEach(this.populateHandler,this,!0)},populateHandler:function(t){t.body&&t.exists&&this.insert(t.body)},split:function(){this.nodes[0]=new i.QuadTree(this.bounds.right,this.bounds.y,this.bounds.subWidth,this.bounds.subHeight,this.maxObjects,this.maxLevels,this.level+1),this.nodes[1]=new i.QuadTree(this.bounds.x,this.bounds.y,this.bounds.subWidth,this.bounds.subHeight,this.maxObjects,this.maxLevels,this.level+1),this.nodes[2]=new i.QuadTree(this.bounds.x,this.bounds.bottom,this.bounds.subWidth,this.bounds.subHeight,this.maxObjects,this.maxLevels,this.level+1),this.nodes[3]=new i.QuadTree(this.bounds.right,this.bounds.bottom,this.bounds.subWidth,this.bounds.subHeight,this.maxObjects,this.maxLevels,this.level+1)},insert:function(t){var e,i=0;if(null==this.nodes[0]||-1===(e=this.getIndex(t))){if(this.objects.push(t),this.objects.length>this.maxObjects&&this.level<this.maxLevels)for(null==this.nodes[0]&&this.split();i<this.objects.length;)-1!==(e=this.getIndex(this.objects[i]))?this.nodes[e].insert(this.objects.splice(i,1)[0]):i++}else this.nodes[e].insert(t)},getIndex:function(t){var e=-1;return t.x<this.bounds.right&&t.right<this.bounds.right?t.y<this.bounds.bottom&&t.bottom<this.bounds.bottom?e=1:t.y>this.bounds.bottom&&(e=2):t.x>this.bounds.right&&(t.y<this.bounds.bottom&&t.bottom<this.bounds.bottom?e=0:t.y>this.bounds.bottom&&(e=3)),e},retrieve:function(t){if(t instanceof i.Rectangle)var e=this.objects,s=this.getIndex(t);else{if(!t.body)return this._empty;var e=this.objects,s=this.getIndex(t.body)}return this.nodes[0]&&(e=-1!==s?e.concat(this.nodes[s].retrieve(t)):(e=(e=(e=e.concat(this.nodes[0].retrieve(t))).concat(this.nodes[1].retrieve(t))).concat(this.nodes[2].retrieve(t))).concat(this.nodes[3].retrieve(t))),e},clear:function(){this.objects.length=0;for(var t=this.nodes.length;t--;)this.nodes[t].clear(),this.nodes.splice(t,1);this.nodes.length=0}},i.QuadTree.prototype.constructor=i.QuadTree,i.Net=function(t){this.game=t},i.Net.prototype={getHostName:function(){return window.location&&window.location.hostname?window.location.hostname:null},checkDomainName:function(t){return-1!==window.location.hostname.indexOf(t)},updateQueryString:function(t,e,i,s){void 0===i&&(i=!1),void 0!==s&&""!==s||(s=window.location.href);var n="",o=new RegExp("([?|&])"+t+"=.*?(&|#|$)(.*)","gi");if(o.test(s))n=void 0!==e&&null!==e?s.replace(o,"$1"+t+"="+e+"$2$3"):s.replace(o,"$1$3").replace(/(&|\?)$/,"");else if(void 0!==e&&null!==e){var r=-1!==s.indexOf("?")?"&":"?",a=s.split("#");s=a[0]+r+t+"="+e,a[1]&&(s+="#"+a[1]),n=s}else n=s;if(!i)return n;window.location.href=n},getQueryString:function(t){void 0===t&&(t="");var e={},i=location.search.substring(1).split("&");for(var s in i){var n=i[s].split("=");if(n.length>1){if(t&&t===this.decodeURI(n[0]))return this.decodeURI(n[1]);e[this.decodeURI(n[0])]=this.decodeURI(n[1])}}return e},decodeURI:function(t){return decodeURIComponent(t.replace(/\+/g," "))}},i.Net.prototype.constructor=i.Net,i.TweenManager=function(t){this.game=t,this.frameBased=!1,this._tweens=[],this._add=[],this.easeMap={Power0:i.Easing.Power0,Power1:i.Easing.Power1,Power2:i.Easing.Power2,Power3:i.Easing.Power3,Power4:i.Easing.Power4,Linear:i.Easing.Linear.None,Quad:i.Easing.Quadratic.Out,Cubic:i.Easing.Cubic.Out,Quart:i.Easing.Quartic.Out,Quint:i.Easing.Quintic.Out,Sine:i.Easing.Sinusoidal.Out,Expo:i.Easing.Exponential.Out,Circ:i.Easing.Circular.Out,Elastic:i.Easing.Elastic.Out,Back:i.Easing.Back.Out,Bounce:i.Easing.Bounce.Out,"Quad.easeIn":i.Easing.Quadratic.In,"Cubic.easeIn":i.Easing.Cubic.In,"Quart.easeIn":i.Easing.Quartic.In,"Quint.easeIn":i.Easing.Quintic.In,"Sine.easeIn":i.Easing.Sinusoidal.In,"Expo.easeIn":i.Easing.Exponential.In,"Circ.easeIn":i.Easing.Circular.In,"Elastic.easeIn":i.Easing.Elastic.In,"Back.easeIn":i.Easing.Back.In,"Bounce.easeIn":i.Easing.Bounce.In,"Quad.easeOut":i.Easing.Quadratic.Out,"Cubic.easeOut":i.Easing.Cubic.Out,"Quart.easeOut":i.Easing.Quartic.Out,"Quint.easeOut":i.Easing.Quintic.Out,"Sine.easeOut":i.Easing.Sinusoidal.Out,"Expo.easeOut":i.Easing.Exponential.Out,"Circ.easeOut":i.Easing.Circular.Out,"Elastic.easeOut":i.Easing.Elastic.Out,"Back.easeOut":i.Easing.Back.Out,"Bounce.easeOut":i.Easing.Bounce.Out,"Quad.easeInOut":i.Easing.Quadratic.InOut,"Cubic.easeInOut":i.Easing.Cubic.InOut,"Quart.easeInOut":i.Easing.Quartic.InOut,"Quint.easeInOut":i.Easing.Quintic.InOut,"Sine.easeInOut":i.Easing.Sinusoidal.InOut,"Expo.easeInOut":i.Easing.Exponential.InOut,"Circ.easeInOut":i.Easing.Circular.InOut,"Elastic.easeInOut":i.Easing.Elastic.InOut,"Back.easeInOut":i.Easing.Back.InOut,"Bounce.easeInOut":i.Easing.Bounce.InOut},this.game.onPause.add(this._pauseAll,this),this.game.onResume.add(this._resumeAll,this)},i.TweenManager.prototype={getAll:function(){return this._tweens},removeAll:function(){for(var t=0;t<this._tweens.length;t++)this._tweens[t].pendingDelete=!0;this._add=[]},removeFrom:function(t,e){void 0===e&&(e=!0);if(Array.isArray(t))for(s=0,n=t.length;s<n;s++)this.removeFrom(t[s]);else if(t.type===i.GROUP&&e)for(var s=0,n=t.children.length;s<n;s++)this.removeFrom(t.children[s]);else{for(s=0,n=this._tweens.length;s<n;s++)t===this._tweens[s].target&&this.remove(this._tweens[s]);for(s=0,n=this._add.length;s<n;s++)t===this._add[s].target&&this.remove(this._add[s])}},add:function(t){t._manager=this,this._add.push(t)},create:function(t){return new i.Tween(t,this.game,this)},remove:function(t){var e=this._tweens.indexOf(t);-1!==e?this._tweens[e].pendingDelete=!0:-1!==(e=this._add.indexOf(t))&&(this._add[e].pendingDelete=!0)},update:function(){var t=this._add.length,e=this._tweens.length;if(0===e&&0===t)return!1;for(var i=0;i<e;)this._tweens[i].update(this.game.time.time)?i++:(this._tweens.splice(i,1),e--);return t>0&&(this._tweens=this._tweens.concat(this._add),this._add.length=0),!0},isTweening:function(t){return this._tweens.some(function(e){return e.target===t})},_pauseAll:function(){for(var t=this._tweens.length-1;t>=0;t--)this._tweens[t]._pause()},_resumeAll:function(){for(var t=this._tweens.length-1;t>=0;t--)this._tweens[t]._resume()},pauseAll:function(){for(var t=this._tweens.length-1;t>=0;t--)this._tweens[t].pause()},resumeAll:function(){for(var t=this._tweens.length-1;t>=0;t--)this._tweens[t].resume(!0)}},i.TweenManager.prototype.constructor=i.TweenManager,i.Tween=function(t,e,s){this.game=e,this.target=t,this.manager=s,this.timeline=[],this.reverse=!1,this.timeScale=1,this.repeatCounter=0,this.pendingDelete=!1,this.onStart=new i.Signal,this.onLoop=new i.Signal,this.onRepeat=new i.Signal,this.onChildComplete=new i.Signal,this.onComplete=new i.Signal,this.isRunning=!1,this.current=0,this.properties={},this.chainedTween=null,this.isPaused=!1,this.frameBased=s.frameBased,this._onUpdateCallback=null,this._onUpdateCallbackContext=null,this._pausedTime=0,this._codePaused=!1,this._hasStarted=!1},i.Tween.updateColor=function(t){i.Color.updateColor(t.target)},i.Tween.prototype={to:function(t,e,s,n,o,r,a){return(void 0===e||e<=0)&&(e=1e3),void 0!==s&&null!==s||(s=i.Easing.Default),void 0===n&&(n=!1),void 0===o&&(o=0),void 0===r&&(r=0),void 0===a&&(a=!1),"string"==typeof s&&this.manager.easeMap[s]&&(s=this.manager.easeMap[s]),this.isRunning?(console.warn("Phaser.Tween.to cannot be called after Tween.start"),this):(this.timeline.push(new i.TweenData(this).to(t,e,s,o,r,a)),n&&this.start(),this)},from:function(t,e,s,n,o,r,a){return void 0===e&&(e=1e3),void 0!==s&&null!==s||(s=i.Easing.Default),void 0===n&&(n=!1),void 0===o&&(o=0),void 0===r&&(r=0),void 0===a&&(a=!1),"string"==typeof s&&this.manager.easeMap[s]&&(s=this.manager.easeMap[s]),this.isRunning?(console.warn("Phaser.Tween.from cannot be called after Tween.start"),this):(this.timeline.push(new i.TweenData(this).from(t,e,s,o,r,a)),n&&this.start(),this)},start:function(t){if(void 0===t&&(t=0),null===this.game||null===this.target||0===this.timeline.length||this.isRunning)return this;for(i=0;i<this.timeline.length;i++)for(var e in this.timeline[i].vEnd)this.properties[e]=this.target[e]||0,Array.isArray(this.properties[e])||(this.properties[e]*=1);for(var i=0;i<this.timeline.length;i++)this.timeline[i].loadValues();return this.manager.add(this),this.isRunning=!0,(t<0||t>this.timeline.length-1)&&(t=0),this.current=t,this.timeline[this.current].start(),this},stop:function(t){return void 0===t&&(t=!1),this.isRunning=!1,this._onUpdateCallback=null,this._onUpdateCallbackContext=null,t&&(this.onComplete.dispatch(this.target,this),this._hasStarted=!1,this.chainedTween&&this.chainedTween.start()),this.manager.remove(this),this},updateTweenData:function(t,e,i){if(0===this.timeline.length)return this;if(void 0===i&&(i=0),-1===i)for(var s=0;s<this.timeline.length;s++)this.timeline[s][t]=e;else this.timeline[i][t]=e;return this},delay:function(t,e){return this.updateTweenData("delay",t,e)},repeat:function(t,e,i){return void 0===e&&(e=0),this.updateTweenData("repeatCounter",t,i),this.updateTweenData("repeatDelay",e,i)},repeatDelay:function(t,e){return this.updateTweenData("repeatDelay",t,e)},yoyo:function(t,e,i){return void 0===e&&(e=0),this.updateTweenData("yoyo",t,i),this.updateTweenData("yoyoDelay",e,i)},yoyoDelay:function(t,e){return this.updateTweenData("yoyoDelay",t,e)},easing:function(t,e){return"string"==typeof t&&this.manager.easeMap[t]&&(t=this.manager.easeMap[t]),this.updateTweenData("easingFunction",t,e)},interpolation:function(t,e,s){return void 0===e&&(e=i.Math),this.updateTweenData("interpolationFunction",t,s),this.updateTweenData("interpolationContext",e,s)},repeatAll:function(t){return void 0===t&&(t=0),this.repeatCounter=t,this},chain:function(){for(var t=arguments.length;t--;)t>0?arguments[t-1].chainedTween=arguments[t]:this.chainedTween=arguments[t];return this},loop:function(t){return void 0===t&&(t=!0),this.repeatCounter=t?-1:0,this},onUpdateCallback:function(t,e){return this._onUpdateCallback=t,this._onUpdateCallbackContext=e,this},pause:function(){this.isPaused=!0,this._codePaused=!0,this._pausedTime=this.game.time.time},_pause:function(){this._codePaused||(this.isPaused=!0,this._pausedTime=this.game.time.time)},resume:function(){if(this.isPaused){this.isPaused=!1,this._codePaused=!1;for(var t=0;t<this.timeline.length;t++)this.timeline[t].isRunning||(this.timeline[t].startTime+=this.game.time.time-this._pausedTime)}},_resume:function(){this._codePaused||this.resume()},update:function(t){if(this.pendingDelete||!this.target)return!1;if(this.isPaused)return!0;var e=this.timeline[this.current].update(t);if(e===i.TweenData.PENDING)return!0;if(e===i.TweenData.RUNNING)return this._hasStarted||(this.onStart.dispatch(this.target,this),this._hasStarted=!0),null!==this._onUpdateCallback&&this._onUpdateCallback.call(this._onUpdateCallbackContext,this,this.timeline[this.current].value,this.timeline[this.current]),this.isRunning;if(e===i.TweenData.LOOPED)return-1===this.timeline[this.current].repeatCounter?this.onLoop.dispatch(this.target,this):this.onRepeat.dispatch(this.target,this),!0;if(e===i.TweenData.COMPLETE){var s=!1;return this.reverse?--this.current<0&&(this.current=this.timeline.length-1,s=!0):++this.current===this.timeline.length&&(this.current=0,s=!0),s?-1===this.repeatCounter?(this.timeline[this.current].start(),this.onLoop.dispatch(this.target,this),!0):this.repeatCounter>0?(this.repeatCounter--,this.timeline[this.current].start(),this.onRepeat.dispatch(this.target,this),!0):(this.isRunning=!1,this.onComplete.dispatch(this.target,this),this._hasStarted=!1,this.chainedTween&&this.chainedTween.start(),!1):(this.onChildComplete.dispatch(this.target,this),this.timeline[this.current].start(),!0)}},generateData:function(t,e){if(null===this.game||null===this.target)return null;void 0===t&&(t=60),void 0===e&&(e=[]);for(s=0;s<this.timeline.length;s++)for(var i in this.timeline[s].vEnd)this.properties[i]=this.target[i]||0,Array.isArray(this.properties[i])||(this.properties[i]*=1);for(s=0;s<this.timeline.length;s++)this.timeline[s].loadValues();for(var s=0;s<this.timeline.length;s++)e=e.concat(this.timeline[s].generateData(t));return e}},Object.defineProperty(i.Tween.prototype,"totalDuration",{get:function(){for(var t=0,e=0;e<this.timeline.length;e++)t+=this.timeline[e].duration;return t}}),i.Tween.prototype.constructor=i.Tween,i.TweenData=function(t){this.parent=t,this.game=t.game,this.vStart={},this.vStartCache={},this.vEnd={},this.vEndCache={},this.duration=1e3,this.percent=0,this.value=0,this.repeatCounter=0,this.repeatDelay=0,this.repeatTotal=0,this.interpolate=!1,this.yoyo=!1,this.yoyoDelay=0,this.inReverse=!1,this.delay=0,this.dt=0,this.startTime=null,this.easingFunction=i.Easing.Default,this.interpolationFunction=i.Math.linearInterpolation,this.interpolationContext=i.Math,this.isRunning=!1,this.isFrom=!1},i.TweenData.PENDING=0,i.TweenData.RUNNING=1,i.TweenData.LOOPED=2,i.TweenData.COMPLETE=3,i.TweenData.prototype={to:function(t,e,i,s,n,o){return this.vEnd=t,this.duration=e,this.easingFunction=i,this.delay=s,this.repeatTotal=n,this.yoyo=o,this.isFrom=!1,this},from:function(t,e,i,s,n,o){return this.vEnd=t,this.duration=e,this.easingFunction=i,this.delay=s,this.repeatTotal=n,this.yoyo=o,this.isFrom=!0,this},start:function(){if(this.startTime=this.game.time.time+this.delay,this.parent.reverse?this.dt=this.duration:this.dt=0,this.delay>0?this.isRunning=!1:this.isRunning=!0,this.isFrom)for(var t in this.vStartCache)this.vStart[t]=this.vEndCache[t],this.vEnd[t]=this.vStartCache[t],this.parent.target[t]=this.vStart[t];return this.value=0,this.yoyoCounter=0,this.repeatCounter=this.repeatTotal,this},loadValues:function(){for(var t in this.parent.properties){if(this.vStart[t]=this.parent.properties[t],Array.isArray(this.vEnd[t])){if(0===this.vEnd[t].length)continue;0===this.percent&&(this.vEnd[t]=[this.vStart[t]].concat(this.vEnd[t]))}void 0!==this.vEnd[t]?("string"==typeof this.vEnd[t]&&(this.vEnd[t]=this.vStart[t]+parseFloat(this.vEnd[t],10)),this.parent.properties[t]=this.vEnd[t]):this.vEnd[t]=this.vStart[t],this.vStartCache[t]=this.vStart[t],this.vEndCache[t]=this.vEnd[t]}return this},update:function(t){if(this.isRunning){if(t<this.startTime)return i.TweenData.RUNNING}else{if(!(t>=this.startTime))return i.TweenData.PENDING;this.isRunning=!0}var e=this.parent.frameBased?this.game.time.physicsElapsedMS:this.game.time.elapsedMS;this.parent.reverse?(this.dt-=e*this.parent.timeScale,this.dt=Math.max(this.dt,0)):(this.dt+=e*this.parent.timeScale,this.dt=Math.min(this.dt,this.duration)),this.percent=this.dt/this.duration,this.value=this.easingFunction(this.percent);for(var s in this.vEnd){var n=this.vStart[s],o=this.vEnd[s];Array.isArray(o)?this.parent.target[s]=this.interpolationFunction.call(this.interpolationContext,o,this.value):this.parent.target[s]=n+(o-n)*this.value}return!this.parent.reverse&&1===this.percent||this.parent.reverse&&0===this.percent?this.repeat():i.TweenData.RUNNING},generateData:function(t){this.parent.reverse?this.dt=this.duration:this.dt=0;var e=[],i=!1,s=1/t*1e3;do{this.parent.reverse?(this.dt-=s,this.dt=Math.max(this.dt,0)):(this.dt+=s,this.dt=Math.min(this.dt,this.duration)),this.percent=this.dt/this.duration,this.value=this.easingFunction(this.percent);var n={};for(var o in this.vEnd){var r=this.vStart[o],a=this.vEnd[o];Array.isArray(a)?n[o]=this.interpolationFunction.call(this.interpolationContext,a,this.value):n[o]=r+(a-r)*this.value}e.push(n),(!this.parent.reverse&&1===this.percent||this.parent.reverse&&0===this.percent)&&(i=!0)}while(!i);if(this.yoyo){var h=e.slice();h.reverse(),e=e.concat(h)}return e},repeat:function(){if(this.yoyo){if(this.inReverse&&0===this.repeatCounter){for(var t in this.vStartCache)this.vStart[t]=this.vStartCache[t],this.vEnd[t]=this.vEndCache[t];return this.inReverse=!1,i.TweenData.COMPLETE}this.inReverse=!this.inReverse}else if(0===this.repeatCounter)return i.TweenData.COMPLETE;if(this.inReverse)for(var t in this.vStartCache)this.vStart[t]=this.vEndCache[t],this.vEnd[t]=this.vStartCache[t];else{for(var t in this.vStartCache)this.vStart[t]=this.vStartCache[t],this.vEnd[t]=this.vEndCache[t];this.repeatCounter>0&&this.repeatCounter--}return this.startTime=this.game.time.time,this.yoyo&&this.inReverse?this.startTime+=this.yoyoDelay:this.inReverse||(this.startTime+=this.repeatDelay),this.parent.reverse?this.dt=this.duration:this.dt=0,i.TweenData.LOOPED}},i.TweenData.prototype.constructor=i.TweenData,i.Easing={Linear:{None:function(t){return t}},Quadratic:{In:function(t){return t*t},Out:function(t){return t*(2-t)},InOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)}},Cubic:{In:function(t){return t*t*t},Out:function(t){return--t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)}},Quartic:{In:function(t){return t*t*t*t},Out:function(t){return 1- --t*t*t*t},InOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)}},Quintic:{In:function(t){return t*t*t*t*t},Out:function(t){return--t*t*t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)}},Sinusoidal:{In:function(t){return 0===t?0:1===t?1:1-Math.cos(t*Math.PI/2)},Out:function(t){return 0===t?0:1===t?1:Math.sin(t*Math.PI/2)},InOut:function(t){return 0===t?0:1===t?1:.5*(1-Math.cos(Math.PI*t))}},Exponential:{In:function(t){return 0===t?0:Math.pow(1024,t-1)},Out:function(t){return 1===t?1:1-Math.pow(2,-10*t)},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))}},Circular:{In:function(t){return 1-Math.sqrt(1-t*t)},Out:function(t){return Math.sqrt(1- --t*t)},InOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}},Elastic:{In:function(t){var e,i=.1;return 0===t?0:1===t?1:(!i||i<1?(i=1,e=.1):e=.4*Math.asin(1/i)/(2*Math.PI),-i*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/.4))},Out:function(t){var e,i=.1;return 0===t?0:1===t?1:(!i||i<1?(i=1,e=.1):e=.4*Math.asin(1/i)/(2*Math.PI),i*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/.4)+1)},InOut:function(t){var e,i=.1;return 0===t?0:1===t?1:(!i||i<1?(i=1,e=.1):e=.4*Math.asin(1/i)/(2*Math.PI),(t*=2)<1?i*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/.4)*-.5:i*Math.pow(2,-10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/.4)*.5+1)}},Back:{In:function(t){var e=1.70158;return t*t*((e+1)*t-e)},Out:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},InOut:function(t){var e=2.5949095;return(t*=2)<1?t*t*((e+1)*t-e)*.5:.5*((t-=2)*t*((e+1)*t+e)+2)}},Bounce:{In:function(t){return 1-i.Easing.Bounce.Out(1-t)},Out:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},InOut:function(t){return t<.5?.5*i.Easing.Bounce.In(2*t):.5*i.Easing.Bounce.Out(2*t-1)+.5}}},i.Easing.Default=i.Easing.Linear.None,i.Easing.Power0=i.Easing.Linear.None,i.Easing.Power1=i.Easing.Quadratic.Out,i.Easing.Power2=i.Easing.Cubic.Out,i.Easing.Power3=i.Easing.Quartic.Out,i.Easing.Power4=i.Easing.Quintic.Out,i.Time=function(t){this.game=t,this.time=0,this.prevTime=0,this.now=0,this.elapsed=0,this.elapsedMS=0,this.physicsElapsed=1/60,this.physicsElapsedMS=1/60*1e3,this.desiredFpsMult=1/60,this._desiredFps=60,this.suggestedFps=this.desiredFps,this.slowMotion=1,this.advancedTiming=!1,this.frames=0,this.fps=0,this.fpsMin=1e3,this.fpsMax=0,this.msMin=1e3,this.msMax=0,this.pauseDuration=0,this.timeToCall=0,this.timeExpected=0,this.events=new i.Timer(this.game,!1),this._frameCount=0,this._elapsedAccumulator=0,this._started=0,this._timeLastSecond=0,this._pauseStarted=0,this._justResumed=!1,this._timers=[]},i.Time.prototype={boot:function(){this._started=Date.now(),this.time=Date.now(),this.events.start(),this.timeExpected=this.time},add:function(t){return this._timers.push(t),t},create:function(t){void 0===t&&(t=!0);var e=new i.Timer(this.game,t);return this._timers.push(e),e},removeAll:function(){for(var t=0;t<this._timers.length;t++)this._timers[t].destroy();this._timers=[],this.events.removeAll()},refresh:function(){var t=this.time;this.time=Date.now(),this.elapsedMS=this.time-t},update:function(t){var e=this.time;this.time=Date.now(),this.elapsedMS=this.time-e,this.prevTime=this.now,this.now=t,this.elapsed=this.now-this.prevTime,this.game.raf._isSetTimeOut&&(this.timeToCall=Math.floor(Math.max(0,1e3/this._desiredFps-(this.timeExpected-t))),this.timeExpected=t+this.timeToCall),this.advancedTiming&&this.updateAdvancedTiming(),this.game.paused||(this.events.update(this.time),this._timers.length&&this.updateTimers())},updateTimers:function(){for(var t=0,e=this._timers.length;t<e;)this._timers[t].update(this.time)?t++:(this._timers.splice(t,1),e--)},updateAdvancedTiming:function(){this._frameCount++,this._elapsedAccumulator+=this.elapsed,this._frameCount>=2*this._desiredFps&&(this.suggestedFps=5*Math.floor(200/(this._elapsedAccumulator/this._frameCount)),this._frameCount=0,this._elapsedAccumulator=0),this.msMin=Math.min(this.msMin,this.elapsed),this.msMax=Math.max(this.msMax,this.elapsed),this.frames++,this.now>this._timeLastSecond+1e3&&(this.fps=Math.round(1e3*this.frames/(this.now-this._timeLastSecond)),this.fpsMin=Math.min(this.fpsMin,this.fps),this.fpsMax=Math.max(this.fpsMax,this.fps),this._timeLastSecond=this.now,this.frames=0)},gamePaused:function(){this._pauseStarted=Date.now(),this.events.pause();for(var t=this._timers.length;t--;)this._timers[t]._pause()},gameResumed:function(){this.time=Date.now(),this.pauseDuration=this.time-this._pauseStarted,this.events.resume();for(var t=this._timers.length;t--;)this._timers[t]._resume()},totalElapsedSeconds:function(){return.001*(this.time-this._started)},elapsedSince:function(t){return this.time-t},elapsedSecondsSince:function(t){return.001*(this.time-t)},reset:function(){this._started=this.time,this.removeAll()}},Object.defineProperty(i.Time.prototype,"desiredFps",{get:function(){return this._desiredFps},set:function(t){this._desiredFps=t,this.physicsElapsed=1/t,this.physicsElapsedMS=1e3*this.physicsElapsed,this.desiredFpsMult=1/t}}),i.Time.prototype.constructor=i.Time,i.Timer=function(t,e){void 0===e&&(e=!0),this.game=t,this.running=!1,this.autoDestroy=e,this.expired=!1,this.elapsed=0,this.events=[],this.onComplete=new i.Signal,this.nextTick=0,this.timeCap=1e3,this.paused=!1,this._codePaused=!1,this._started=0,this._pauseStarted=0,this._pauseTotal=0,this._now=Date.now(),this._len=0,this._marked=0,this._i=0,this._diff=0,this._newTick=0},i.Timer.MINUTE=6e4,i.Timer.SECOND=1e3,i.Timer.HALF=500,i.Timer.QUARTER=250,i.Timer.prototype={create:function(t,e,s,n,o,r){var a=t=Math.round(t);0===this._now?a+=this.game.time.time:a+=this._now;var h=new i.TimerEvent(this,t,a,s,e,n,o,r);return this.events.push(h),this.order(),this.expired=!1,h},add:function(t,e,i){return this.create(t,!1,0,e,i,Array.prototype.slice.call(arguments,3))},repeat:function(t,e,i,s){return this.create(t,!1,e,i,s,Array.prototype.slice.call(arguments,4))},loop:function(t,e,i){return this.create(t,!0,0,e,i,Array.prototype.slice.call(arguments,3))},start:function(t){if(!this.running){this._started=this.game.time.time+(t||0),this.running=!0;for(var e=0;e<this.events.length;e++)this.events[e].tick=this.events[e].delay+this._started}},stop:function(t){this.running=!1,void 0===t&&(t=!0),t&&(this.events.length=0)},remove:function(t){for(var e=0;e<this.events.length;e++)if(this.events[e]===t)return this.events[e].pendingDelete=!0,!0;return!1},order:function(){this.events.length>0&&(this.events.sort(this.sortHandler),this.nextTick=this.events[0].tick)},sortHandler:function(t,e){return t.tick<e.tick?-1:t.tick>e.tick?1:0},clearPendingEvents:function(){for(this._i=this.events.length;this._i--;)this.events[this._i].pendingDelete&&this.events.splice(this._i,1);this._len=this.events.length,this._i=0},update:function(t){if(this.paused)return!0;if(this.elapsed=t-this._now,this._now=t,this.elapsed>this.timeCap&&this.adjustEvents(t-this.elapsed),this._marked=0,this.clearPendingEvents(),this.running&&this._now>=this.nextTick&&this._len>0){for(;this._i<this._len&&this.running;){var e=this.events[this._i];if(!(this._now>=e.tick)||e.pendingDelete)break;this._newTick=this._now+e.delay-(this._now-e.tick),this._newTick<0&&(this._newTick=this._now+e.delay),!0===e.loop?(e.tick=this._newTick,e.callback.apply(e.callbackContext,e.args)):e.repeatCount>0?(e.repeatCount--,e.tick=this._newTick,e.callback.apply(e.callbackContext,e.args)):(this._marked++,e.pendingDelete=!0,e.callback.apply(e.callbackContext,e.args)),this._i++}this.events.length>this._marked?this.order():(this.expired=!0,this.onComplete.dispatch(this))}return!this.expired||!this.autoDestroy},pause:function(){this.running&&(this._codePaused=!0,this.paused||(this._pauseStarted=this.game.time.time,this.paused=!0))},_pause:function(){!this.paused&&this.running&&(this._pauseStarted=this.game.time.time,this.paused=!0)},adjustEvents:function(t){for(var e=0;e<this.events.length;e++)if(!this.events[e].pendingDelete){var i=this.events[e].tick-t;i<0&&(i=0),this.events[e].tick=this._now+i}var s=this.nextTick-t;this.nextTick=s<0?this._now:this._now+s},resume:function(){if(this.paused){var t=this.game.time.time;this._pauseTotal+=t-this._now,this._now=t,this.adjustEvents(this._pauseStarted),this.paused=!1,this._codePaused=!1}},_resume:function(){this._codePaused||this.resume()},removeAll:function(){this.onComplete.removeAll(),this.events.length=0,this._len=0,this._i=0},destroy:function(){this.onComplete.removeAll(),this.running=!1,this.expired=!0,this.events=[],this._len=0,this._i=0}},Object.defineProperty(i.Timer.prototype,"next",{get:function(){return this.nextTick}}),Object.defineProperty(i.Timer.prototype,"duration",{get:function(){return this.running&&this.nextTick>this._now?this.nextTick-this._now:0}}),Object.defineProperty(i.Timer.prototype,"length",{get:function(){return this.events.length}}),Object.defineProperty(i.Timer.prototype,"ms",{get:function(){return this.running?this._now-this._started-this._pauseTotal:0}}),Object.defineProperty(i.Timer.prototype,"seconds",{get:function(){return this.running?.001*this.ms:0}}),i.Timer.prototype.constructor=i.Timer,i.TimerEvent=function(t,e,i,s,n,o,r,a){this.timer=t,this.delay=e,this.tick=i,this.repeatCount=s-1,this.loop=n,this.callback=o,this.callbackContext=r,this.args=a,this.pendingDelete=!1},i.TimerEvent.prototype.constructor=i.TimerEvent,i.AnimationManager=function(t){this.sprite=t,this.game=t.game,this.currentFrame=null,this.currentAnim=null,this.updateIfVisible=!0,this.isLoaded=!1,this._frameData=null,this._anims={},this._outputFrames=[]},i.AnimationManager.prototype={loadFrameData:function(t,e){if(void 0===t)return!1;if(this.isLoaded)for(var i in this._anims)this._anims[i].updateFrameData(t);return this._frameData=t,void 0===e||null===e?this.frame=0:"string"==typeof e?this.frameName=e:this.frame=e,this.isLoaded=!0,!0},copyFrameData:function(t,e){if(this._frameData=t.clone(),this.isLoaded)for(var i in this._anims)this._anims[i].updateFrameData(this._frameData);return void 0===e||null===e?this.frame=0:"string"==typeof e?this.frameName=e:this.frame=e,this.isLoaded=!0,!0},add:function(t,e,s,n,o){return e=e||[],s=s||60,void 0===n&&(n=!1),void 0===o&&(o=!(!e||"number"!=typeof e[0])),this._outputFrames=[],this._frameData.getFrameIndexes(e,o,this._outputFrames),this._anims[t]=new i.Animation(this.game,this.sprite,t,this._frameData,this._outputFrames,s,n),this.currentAnim=this._anims[t],this.sprite.tilingTexture&&(this.sprite.refreshTexture=!0),this._anims[t]},validateFrames:function(t,e){void 0===e&&(e=!0);for(var i=0;i<t.length;i++)if(!0===e){if(t[i]>this._frameData.total)return!1}else if(!1===this._frameData.checkFrameName(t[i]))return!1;return!0},play:function(t,e,i,s){if(this._anims[t])return this.currentAnim===this._anims[t]?!1===this.currentAnim.isPlaying?(this.currentAnim.paused=!1,this.currentAnim.play(e,i,s)):this.currentAnim:(this.currentAnim&&this.currentAnim.isPlaying&&this.currentAnim.stop(),this.currentAnim=this._anims[t],this.currentAnim.paused=!1,this.currentFrame=this.currentAnim.currentFrame,this.currentAnim.play(e,i,s))},stop:function(t,e){void 0===e&&(e=!1),!this.currentAnim||"string"==typeof t&&t!==this.currentAnim.name||this.currentAnim.stop(e)},update:function(){return!(this.updateIfVisible&&!this.sprite.visible)&&(!(!this.currentAnim||!this.currentAnim.update())&&(this.currentFrame=this.currentAnim.currentFrame,!0))},next:function(t){this.currentAnim&&(this.currentAnim.next(t),this.currentFrame=this.currentAnim.currentFrame)},previous:function(t){this.currentAnim&&(this.currentAnim.previous(t),this.currentFrame=this.currentAnim.currentFrame)},getAnimation:function(t){return"string"==typeof t&&this._anims[t]?this._anims[t]:null},refreshFrame:function(){},destroy:function(){t=null;for(var t in this._anims)this._anims.hasOwnProperty(t)&&this._anims[t].destroy();this._anims={},this._outputFrames=[],this._frameData=null,this.currentAnim=null,this.currentFrame=null,this.sprite=null,this.game=null}},i.AnimationManager.prototype.constructor=i.AnimationManager,Object.defineProperty(i.AnimationManager.prototype,"frameData",{get:function(){return this._frameData}}),Object.defineProperty(i.AnimationManager.prototype,"frameTotal",{get:function(){return this._frameData.total}}),Object.defineProperty(i.AnimationManager.prototype,"paused",{get:function(){return this.currentAnim.isPaused},set:function(t){this.currentAnim.paused=t}}),Object.defineProperty(i.AnimationManager.prototype,"name",{get:function(){if(this.currentAnim)return this.currentAnim.name}}),Object.defineProperty(i.AnimationManager.prototype,"frame",{get:function(){if(this.currentFrame)return this.currentFrame.index},set:function(t){var e;"number"==typeof t&&this._frameData&&(e=this._frameData.getFrame(t))&&(this.currentFrame=e,this.sprite.setFrame(this.currentFrame))}}),Object.defineProperty(i.AnimationManager.prototype,"frameName",{get:function(){if(this.currentFrame)return this.currentFrame.name},set:function(t){var e;"string"==typeof t&&this._frameData&&(e=this._frameData.getFrameByName(t))?(this.currentFrame=e,this._frameIndex=this.currentFrame.index,this.sprite.setFrame(this.currentFrame)):console.warn("Cannot set frameName: "+t)}}),i.Animation=function(t,e,s,n,o,r,a){void 0===a&&(a=!1),this.game=t,this._parent=e,this._frameData=n,this.name=s,this._frames=[],this._frames=this._frames.concat(o),this.delay=1e3/r,this.loop=a,this.loopCount=0,this.killOnComplete=!1,this.isFinished=!1,this.isPlaying=!1,this.isPaused=!1,this._pauseStartTime=0,this._frameIndex=0,this._frameDiff=0,this._frameSkip=1,this.currentFrame=this._frameData.getFrame(this._frames[this._frameIndex]),this.onStart=new i.Signal,this.onUpdate=null,this.onComplete=new i.Signal,this.onLoop=new i.Signal,this.isReversed=!1,this.game.onPause.add(this.onPause,this),this.game.onResume.add(this.onResume,this)},i.Animation.prototype={play:function(t,e,i){return"number"==typeof t&&(this.delay=1e3/t),"boolean"==typeof e&&(this.loop=e),void 0!==i&&(this.killOnComplete=i),this.isPlaying=!0,this.isFinished=!1,this.paused=!1,this.loopCount=0,this._timeLastFrame=this.game.time.time,this._timeNextFrame=this.game.time.time+this.delay,this._frameIndex=this.isReversed?this._frames.length-1:0,this.updateCurrentFrame(!1,!0),this._parent.events.onAnimationStart$dispatch(this._parent,this),this.onStart.dispatch(this._parent,this),this._parent.animations.currentAnim=this,this._parent.animations.currentFrame=this.currentFrame,this},restart:function(){this.isPlaying=!0,this.isFinished=!1,this.paused=!1,this.loopCount=0,this._timeLastFrame=this.game.time.time,this._timeNextFrame=this.game.time.time+this.delay,this._frameIndex=0,this.currentFrame=this._frameData.getFrame(this._frames[this._frameIndex]),this._parent.setFrame(this.currentFrame),this._parent.animations.currentAnim=this,this._parent.animations.currentFrame=this.currentFrame,this.onStart.dispatch(this._parent,this)},reverse:function(){return this.reversed=!this.reversed,this},reverseOnce:function(){return this.onComplete.addOnce(this.reverse,this),this.reverse()},setFrame:function(t,e){var i;if(void 0===e&&(e=!1),"string"==typeof t)for(s=0;s<this._frames.length;s++)this._frameData.getFrame(this._frames[s]).name===t&&(i=s);else if("number"==typeof t)if(e)i=t;else for(var s=0;s<this._frames.length;s++)this._frames[s]===t&&(i=s);if(i){var n=this.isReversed?-1:1;this._frameIndex=i-n,this._timeNextFrame=this.game.time.time,this.update()}},stop:function(t,e){void 0===t&&(t=!1),void 0===e&&(e=!1),this.isPlaying=!1,this.isFinished=!0,this.paused=!1,t&&(this.currentFrame=this._frameData.getFrame(this._frames[0]),this._parent.setFrame(this.currentFrame)),e&&(this._parent.events.onAnimationComplete$dispatch(this._parent,this),this.onComplete.dispatch(this._parent,this))},onPause:function(){this.isPlaying&&(this._frameDiff=this._timeNextFrame-this.game.time.time)},onResume:function(){this.isPlaying&&(this._timeNextFrame=this.game.time.time+this._frameDiff)},update:function(){return!this.isPaused&&(!!(this.isPlaying&&this.game.time.time>=this._timeNextFrame)&&(this._frameSkip=1,this._frameDiff=this.game.time.time-this._timeNextFrame,this._timeLastFrame=this.game.time.time,this._frameDiff>this.delay?(this._frameSkip=Math.floor(this._frameDiff/this.delay),this._frameDiff-=this._frameSkip*this.delay):this._frameDiff=0,this._timeNextFrame=this.game.time.time+(this.delay-this._frameDiff),this.isReversed?this._frameIndex-=this._frameSkip:this._frameIndex+=this._frameSkip,!this.isReversed&&this._frameIndex>=this._frames.length||this.isReversed&&this._frameIndex<=-1?this.loop?(this._frameIndex=Math.abs(this._frameIndex)%this._frames.length,this.isReversed&&(this._frameIndex=this._frames.length-1-this._frameIndex),this.currentFrame=this._frameData.getFrame(this._frames[this._frameIndex]),this.currentFrame&&this._parent.setFrame(this.currentFrame),this.loopCount++,this._parent.events.onAnimationLoop$dispatch(this._parent,this),this.onLoop.dispatch(this._parent,this),!this.onUpdate||(this.onUpdate.dispatch(this,this.currentFrame),!!this._frameData)):(this.complete(),!1):this.updateCurrentFrame(!0)))},updateCurrentFrame:function(t,e){if(void 0===e&&(e=!1),!this._frameData)return!1;var i=this.currentFrame.index;return this.currentFrame=this._frameData.getFrame(this._frames[this._frameIndex]),this.currentFrame&&(e||!e&&i!==this.currentFrame.index)&&this._parent.setFrame(this.currentFrame),!this.onUpdate||!t||(this.onUpdate.dispatch(this,this.currentFrame),!!this._frameData)},next:function(t){void 0===t&&(t=1);var e=this._frameIndex+t;e>=this._frames.length&&(this.loop?e%=this._frames.length:e=this._frames.length-1),e!==this._frameIndex&&(this._frameIndex=e,this.updateCurrentFrame(!0))},previous:function(t){void 0===t&&(t=1);var e=this._frameIndex-t;e<0&&(this.loop?e=this._frames.length+e:e++),e!==this._frameIndex&&(this._frameIndex=e,this.updateCurrentFrame(!0))},updateFrameData:function(t){this._frameData=t,this.currentFrame=this._frameData?this._frameData.getFrame(this._frames[this._frameIndex%this._frames.length]):null},destroy:function(){this._frameData&&(this.game.onPause.remove(this.onPause,this),this.game.onResume.remove(this.onResume,this),this.game=null,this._parent=null,this._frames=null,this._frameData=null,this.currentFrame=null,this.isPlaying=!1,this.onStart.dispose(),this.onLoop.dispose(),this.onComplete.dispose(),this.onUpdate&&this.onUpdate.dispose())},complete:function(){this._frameIndex=this._frames.length-1,this.currentFrame=this._frameData.getFrame(this._frames[this._frameIndex]),this.isPlaying=!1,this.isFinished=!0,this.paused=!1,this._parent.events.onAnimationComplete$dispatch(this._parent,this),this.onComplete.dispatch(this._parent,this),this.killOnComplete&&this._parent.kill()}},i.Animation.prototype.constructor=i.Animation,Object.defineProperty(i.Animation.prototype,"paused",{get:function(){return this.isPaused},set:function(t){this.isPaused=t,t?this._pauseStartTime=this.game.time.time:this.isPlaying&&(this._timeNextFrame=this.game.time.time+this.delay)}}),Object.defineProperty(i.Animation.prototype,"reversed",{get:function(){return this.isReversed},set:function(t){this.isReversed=t}}),Object.defineProperty(i.Animation.prototype,"frameTotal",{get:function(){return this._frames.length}}),Object.defineProperty(i.Animation.prototype,"frame",{get:function(){return null!==this.currentFrame?this.currentFrame.index:this._frameIndex},set:function(t){this.currentFrame=this._frameData.getFrame(this._frames[t]),null!==this.currentFrame&&(this._frameIndex=t,this._parent.setFrame(this.currentFrame),this.onUpdate&&this.onUpdate.dispatch(this,this.currentFrame))}}),Object.defineProperty(i.Animation.prototype,"speed",{get:function(){return 1e3/this.delay},set:function(t){t>0&&(this.delay=1e3/t)}}),Object.defineProperty(i.Animation.prototype,"enableUpdate",{get:function(){return null!==this.onUpdate},set:function(t){t&&null===this.onUpdate?this.onUpdate=new i.Signal:t||null===this.onUpdate||(this.onUpdate.dispose(),this.onUpdate=null)}}),i.Animation.generateFrameNames=function(t,e,s,n,o){void 0===n&&(n="");var r=[],a="";if(e<s)for(h=e;h<=s;h++)a=t+(a="number"==typeof o?i.Utils.pad(h.toString(),o,"0",1):h.toString())+n,r.push(a);else for(var h=e;h>=s;h--)a=t+(a="number"==typeof o?i.Utils.pad(h.toString(),o,"0",1):h.toString())+n,r.push(a);return r},i.Frame=function(t,e,s,n,o,r){this.index=t,this.x=e,this.y=s,this.width=n,this.height=o,0!==this.width&&0!==this.height||console.warn('Phaser.Frame: Frame "'+this.name+'" has a width or height of zero'),this.name=r,this.centerX=Math.floor(n/2),this.centerY=Math.floor(o/2),this.distance=i.Math.distance(0,0,n,o),this.rotated=!1,this.trimmed=!1,this.sourceSizeW=n,this.sourceSizeH=o,this.spriteSourceSizeX=0,this.spriteSourceSizeY=0,this.spriteSourceSizeW=0,this.spriteSourceSizeH=0,this.right=this.x+this.width,this.bottom=this.y+this.height},i.Frame.prototype={resize:function(t,e){this.width=t,this.height=e,this.centerX=Math.floor(t/2),this.centerY=Math.floor(e/2),this.distance=i.Math.distance(0,0,t,e),this.sourceSizeW=t,this.sourceSizeH=e,this.right=this.x+t,this.bottom=this.y+e},setTrim:function(t,e,i,s,n,o,r){this.trimmed=t,t&&(this.sourceSizeW=e,this.sourceSizeH=i,this.centerX=Math.floor(e/2),this.centerY=Math.floor(i/2),this.spriteSourceSizeX=s,this.spriteSourceSizeY=n,this.spriteSourceSizeW=o,this.spriteSourceSizeH=r)},clone:function(){var t=new i.Frame(this.index,this.x,this.y,this.width,this.height,this.name);for(var e in this)this.hasOwnProperty(e)&&(t[e]=this[e]);return t},getRect:function(t){return void 0===t?t=new i.Rectangle(this.x,this.y,this.width,this.height):t.setTo(this.x,this.y,this.width,this.height),t}},i.Frame.prototype.constructor=i.Frame,i.FrameData=function(){this._frames=[],this._frameNames=[]},i.FrameData.prototype={addFrame:function(t){return t.index=this._frames.length,this._frames.push(t),""!==t.name&&(this._frameNames[t.name]=t.index),t},getFrame:function(t){return t>=this._frames.length&&(t=0),this._frames[t]},getFrameByName:function(t){return"number"==typeof this._frameNames[t]?this._frames[this._frameNames[t]]:null},checkFrameName:function(t){return null!=this._frameNames[t]},clone:function(){for(var t=new i.FrameData,e=0;e<this._frames.length;e++)t._frames.push(this._frames[e].clone());for(var s in this._frameNames)this._frameNames.hasOwnProperty(s)&&t._frameNames.push(this._frameNames[s]);return t},getFrameRange:function(t,e,i){void 0===i&&(i=[]);for(var s=t;s<=e;s++)i.push(this._frames[s]);return i},getFrames:function(t,e,i){if(void 0===e&&(e=!0),void 0===i&&(i=[]),void 0===t||0===t.length)for(s=0;s<this._frames.length;s++)i.push(this._frames[s]);else for(var s=0;s<t.length;s++)e?i.push(this.getFrame(t[s])):i.push(this.getFrameByName(t[s]));return i},getFrameIndexes:function(t,e,i){if(void 0===e&&(e=!0),void 0===i&&(i=[]),void 0===t||0===t.length)for(s=0;s<this._frames.length;s++)i.push(this._frames[s].index);else for(var s=0;s<t.length;s++)e&&this._frames[t[s]]?i.push(this._frames[t[s]].index):this.getFrameByName(t[s])&&i.push(this.getFrameByName(t[s]).index);return i},destroy:function(){this._frames=null,this._frameNames=null}},i.FrameData.prototype.constructor=i.FrameData,Object.defineProperty(i.FrameData.prototype,"total",{get:function(){return this._frames.length}}),i.AnimationParser={spriteSheet:function(t,e,s,n,o,r,a,h){void 0===o&&(o=-1),void 0===r&&(r=0),void 0===a&&(a=0),void 0===h&&(h=0);var l=e;if("string"==typeof e&&(l=t.cache.getImage(e)),null===l)return null;var c=l.width,u=l.height;s<=0&&(s=Math.floor(-c/Math.min(-1,s))),n<=0&&(n=Math.floor(-u/Math.min(-1,n)));var d=Math.floor((c-r)/(s+a))*Math.floor((u-r)/(n+a));if(h>d||h<-d)return console.warn("Phaser.AnimationParser.spriteSheet: skipFrames = "+h.toString()+" is larger than total sprite number "+d.toString()),null;if(h<0&&(h=d+h),-1!==o&&(d=h+o),0===c||0===u||c<s||u<n||0===d)return console.warn("Phaser.AnimationParser.spriteSheet: '"+e+"'s width/height zero or width/height < given frameWidth/frameHeight"),null;for(var p=new i.FrameData,f=r,m=r,g=0;g<d;g++)p.addFrame(new i.Frame(g,f,m,s,n,"")),(f+=s+a)+s>c&&(f=r,m+=n+a);return p},JSONData:function(t,e){if(!e.frames)return console.warn("Phaser.AnimationParser.JSONData: Invalid Texture Atlas JSON given, missing 'frames' array"),void console.log(e);for(var s,n=new i.FrameData,o=e.frames,r=0;r<o.length;r++)s=n.addFrame(new i.Frame(r,o[r].frame.x,o[r].frame.y,o[r].frame.w,o[r].frame.h,o[r].filename)),o[r].trimmed&&s.setTrim(o[r].trimmed,o[r].sourceSize.w,o[r].sourceSize.h,o[r].spriteSourceSize.x,o[r].spriteSourceSize.y,o[r].spriteSourceSize.w,o[r].spriteSourceSize.h),o[r].rotated&&(s.rotated=!0);return n},JSONDataPyxel:function(t,e){if(["layers","tilewidth","tileheight","tileswide","tileshigh"].forEach(function(t){if(!e[t])return console.warn('Phaser.AnimationParser.JSONDataPyxel: Invalid Pyxel Tilemap JSON given, missing "'+t+'" key.'),void console.log(e)}),1!==e.layers.length)return console.warn("Phaser.AnimationParser.JSONDataPyxel: Too many layers, this parser only supports flat Tilemaps."),void console.log(e);for(var s=new i.FrameData,n=e.tileheight,o=e.tilewidth,r=e.layers[0].tiles,a=0;a<r.length;a++)s.addFrame(new i.Frame(a,r[a].x,r[a].y,o,n,"frame_"+a)).setTrim(!1);return s},JSONDataHash:function(t,e){if(!e.frames)return console.warn("Phaser.AnimationParser.JSONDataHash: Invalid Texture Atlas JSON given, missing 'frames' object"),void console.log(e);var s,n=new i.FrameData,o=e.frames,r=0;for(var a in o)s=n.addFrame(new i.Frame(r,o[a].frame.x,o[a].frame.y,o[a].frame.w,o[a].frame.h,a)),o[a].trimmed&&s.setTrim(o[a].trimmed,o[a].sourceSize.w,o[a].sourceSize.h,o[a].spriteSourceSize.x,o[a].spriteSourceSize.y,o[a].spriteSourceSize.w,o[a].spriteSourceSize.h),o[a].rotated&&(s.rotated=!0),r++;return n},XMLData:function(t,e){if(e.getElementsByTagName("TextureAtlas")){for(var s,n,o,r,a,h,l,c,u,d,p,f=new i.FrameData,m=e.getElementsByTagName("SubTexture"),g=0;g<m.length;g++)n=(o=m[g].attributes).name.value,r=parseInt(o.x.value,10),a=parseInt(o.y.value,10),h=parseInt(o.width.value,10),l=parseInt(o.height.value,10),c=null,u=null,o.frameX&&(c=Math.abs(parseInt(o.frameX.value,10)),u=Math.abs(parseInt(o.frameY.value,10)),d=parseInt(o.frameWidth.value,10),p=parseInt(o.frameHeight.value,10)),s=f.addFrame(new i.Frame(g,r,a,h,l,n)),null===c&&null===u||s.setTrim(!0,h,l,c,u,d,p);return f}console.warn("Phaser.AnimationParser.XMLData: Invalid Texture Atlas XML given, missing <TextureAtlas> tag")}},i.Cache=function(t){this.game=t,this.autoResolveURL=!1,this._cache={canvas:{},image:{},texture:{},sound:{},video:{},text:{},json:{},xml:{},physics:{},tilemap:{},binary:{},bitmapData:{},bitmapFont:{},shader:{},renderTexture:{},compressedTexture:{}},this._urlMap={},this._urlResolver=new Image,this._urlTemp=null,this.onSoundUnlock=new i.Signal,this._cacheMap=[],this._cacheMap[i.Cache.CANVAS]=this._cache.canvas,this._cacheMap[i.Cache.IMAGE]=this._cache.image,this._cacheMap[i.Cache.TEXTURE]=this._cache.texture,this._cacheMap[i.Cache.SOUND]=this._cache.sound,this._cacheMap[i.Cache.TEXT]=this._cache.text,this._cacheMap[i.Cache.PHYSICS]=this._cache.physics,this._cacheMap[i.Cache.TILEMAP]=this._cache.tilemap,this._cacheMap[i.Cache.BINARY]=this._cache.binary,this._cacheMap[i.Cache.BITMAPDATA]=this._cache.bitmapData,this._cacheMap[i.Cache.BITMAPFONT]=this._cache.bitmapFont,this._cacheMap[i.Cache.JSON]=this._cache.json,this._cacheMap[i.Cache.XML]=this._cache.xml,this._cacheMap[i.Cache.VIDEO]=this._cache.video,this._cacheMap[i.Cache.SHADER]=this._cache.shader,this._cacheMap[i.Cache.RENDER_TEXTURE]=this._cache.renderTexture,this._pendingCount=0,this.onReady=new i.Signal,this._addImages()},i.Cache.CANVAS=1,i.Cache.IMAGE=2,i.Cache.TEXTURE=3,i.Cache.SOUND=4,i.Cache.TEXT=5,i.Cache.PHYSICS=6,i.Cache.TILEMAP=7,i.Cache.BINARY=8,i.Cache.BITMAPDATA=9,i.Cache.BITMAPFONT=10,i.Cache.JSON=11,i.Cache.XML=12,i.Cache.VIDEO=13,i.Cache.SHADER=14,i.Cache.RENDER_TEXTURE=15,i.Cache.DEFAULT=null,i.Cache.DEFAULT_KEY="__default",i.Cache.DEFAULT_SRC="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgAQMAAABJtOi3AAAAA1BMVEX///+nxBvIAAAAAXRSTlMAQObYZgAAABVJREFUeF7NwIEAAAAAgKD9qdeocAMAoAABm3DkcAAAAABJRU5ErkJggg==",i.Cache.MISSING=null,i.Cache.MISSING_KEY="__missing",i.Cache.MISSING_SRC="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAIAAAD8GO2jAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJ9JREFUeNq01ssOwyAMRFG46v//Mt1ESmgh+DFmE2GPOBARKb2NVjo+17PXLD8a1+pl5+A+wSgFygymWYHBb0FtsKhJDdZlncG2IzJ4ayoMDv20wTmSMzClEgbWYNTAkQ0Z+OJ+A/eWnAaR9+oxCF4Os0H8htsMUp+pwcgBBiMNnAwF8GqIgL2hAzaGFFgZauDPKABmowZ4GL369/0rwACp2yA/ttmvsQAAAABJRU5ErkJggg==",i.Cache.READY_TIMEOUT=1e3,i.Cache.prototype={addCompressedTextureMetaData:function(t,e,s,n){this.checkImageKey(t)&&this.removeImage(t);var o=s in i.LoaderParser?i.LoaderParser[s](n):n,r={key:t,url:e,data:o,base:new PIXI.BaseTexture(o,null,this.game.resolution),frame:new i.Frame(0,0,0,o.width,o.height,t),frameData:new i.FrameData,fileFormat:s};return r.frameData.addFrame(new i.Frame(0,0,0,o.width,o.height,e)),this._cache.image[t]=r,this._resolveURL(e,r),r},addCanvas:function(t,e,i){void 0===i&&(i=e.getContext("2d")),this._cache.canvas[t]={canvas:e,context:i}},addImage:function(t,e,s){this.checkImageKey(t)&&this.removeImage(t),!1===s.complete&&console.warn('Phaser.Cache.addImage: Image "'+t+"\" hasn't been retrieved yet");var n={key:t,url:e,data:s,base:new PIXI.BaseTexture(s,null,this.game.resolution),frame:new i.Frame(0,0,0,s.width,s.height,t),frameData:new i.FrameData};return n.frameData.addFrame(new i.Frame(0,0,0,s.width,s.height,e)),this._cache.image[t]=n,this._resolveURL(e,n),"__default"===t?i.Cache.DEFAULT=new PIXI.Texture(n.base):"__missing"===t&&(i.Cache.MISSING=new PIXI.Texture(n.base)),n},addImageAsync:function(t,e,i){var s=this,n=new Image;n.onload=function(){i.call(this,s.addImage(t,null,n)),s._removePending(),n.onload=null},this._addPending(),n.src=e},addDefaultImage:function(){this.addImageAsync(i.Cache.DEFAULT_KEY,i.Cache.DEFAULT_SRC,function(t){t.base.skipRender=!0,i.Cache.DEFAULT=new PIXI.Texture(t.base)})},addMissingImage:function(){this.addImageAsync(i.Cache.MISSING_KEY,i.Cache.MISSING_SRC,function(t){i.Cache.MISSING=new PIXI.Texture(t.base)})},addSound:function(t,e,i,s,n){void 0===s&&(s=!0,n=!1),void 0===n&&(s=!1,n=!0);var o=!1;n&&(o=!0),this._cache.sound[t]={url:e,data:i,isDecoding:!1,decoded:o,webAudio:s,audioTag:n,locked:this.game.sound.touchLocked},this._resolveURL(e,this._cache.sound[t])},addText:function(t,e,i){this._cache.text[t]={url:e,data:i},this._resolveURL(e,this._cache.text[t])},addPhysicsData:function(t,e,i,s){this._cache.physics[t]={url:e,data:i,format:s},this._resolveURL(e,this._cache.physics[t])},addTilemap:function(t,e,i,s){this._cache.tilemap[t]={url:e,data:i,format:s},this._resolveURL(e,this._cache.tilemap[t])},addBinary:function(t,e){this._cache.binary[t]=e},addBitmapData:function(t,e,s){return e.key=t,void 0===s&&(s=new i.FrameData).addFrame(e.textureFrame),this._cache.bitmapData[t]={data:e,frameData:s},e},addBitmapFont:function(t,e,s,n,o,r,a){var h={url:e,data:s,font:null,base:new PIXI.BaseTexture(s,null,this.game.resolution)};void 0===r&&(r=0),void 0===a&&(a=0),h.font="json"===o?i.LoaderParser.jsonBitmapFont(n,h.base,r,a,!1,this.game.resolution):i.LoaderParser.xmlBitmapFont(n,h.base,r,a,!1,this.game.resolution),this._cache.bitmapFont[t]=h,this._resolveURL(e,h)},addBitmapFontFromAtlas:function(t,e,s,n,o,r,a){var h=this.getFrameByName(e,s);if(h){var l={font:null,base:this.getBaseTexture(e),frame:h};void 0===r&&(r=0),void 0===a&&(a=0);var c;"json"===o?(c=this.getJSON(n),l.font=i.LoaderParser.jsonBitmapFont(c,l.base,r,a,h,this.game.resolution)):(c=this.getXML(n),l.font=i.LoaderParser.xmlBitmapFont(c,l.base,r,a,h,this.game.resolution)),this._cache.bitmapFont[t]=l}},addJSON:function(t,e,i){this._cache.json[t]={url:e,data:i},this._resolveURL(e,this._cache.json[t])},addXML:function(t,e,i){this._cache.xml[t]={url:e,data:i},this._resolveURL(e,this._cache.xml[t])},addVideo:function(t,e,i,s){this._cache.video[t]={url:e,data:i,isBlob:s,locked:!0},this._resolveURL(e,this._cache.video[t])},addShader:function(t,e,i){this._cache.shader[t]={url:e,data:i},this._resolveURL(e,this._cache.shader[t])},addRenderTexture:function(t,e){this._cache.renderTexture[t]={texture:e,frame:new i.Frame(0,0,0,e.width,e.height,"","")}},addSpriteSheet:function(t,e,s,n,o,r,a,h,l){void 0===r&&(r=-1),void 0===a&&(a=0),void 0===h&&(h=0);var c={key:t,url:e,data:s,frameWidth:n,frameHeight:o,margin:a,spacing:h,base:new PIXI.BaseTexture(s,null,this.game.resolution),frameData:i.AnimationParser.spriteSheet(this.game,s,n,o,r,a,h,l)};this._cache.image[t]=c,this._resolveURL(e,c)},addTextureAtlas:function(t,e,s,n,o){var r={key:t,url:e,data:s,base:new PIXI.BaseTexture(s,null,this.game.resolution)};o===i.Loader.TEXTURE_ATLAS_XML_STARLING?r.frameData=i.AnimationParser.XMLData(this.game,n,t):o===i.Loader.TEXTURE_ATLAS_JSON_PYXEL?r.frameData=i.AnimationParser.JSONDataPyxel(this.game,n,t):Array.isArray(n.frames)?r.frameData=i.AnimationParser.JSONData(this.game,n,t):r.frameData=i.AnimationParser.JSONDataHash(this.game,n,t),this._cache.image[t]=r,this._resolveURL(e,r)},reloadSound:function(t){var e=this,i=this.getSound(t);i&&(i.data.src=i.url,i.data.addEventListener("canplaythrough",function(){return e.reloadSoundComplete(t)},!1),i.data.load())},reloadSoundComplete:function(t){var e=this.getSound(t);e&&(e.locked=!1,this.onSoundUnlock.dispatch(t))},updateSound:function(t,e,i){var s=this.getSound(t);s&&(s[e]=i)},decodedSound:function(t,e){var i=this.getSound(t);i.data=e,i.decoded=!0,i.isDecoding=!1},isSoundDecoded:function(t){var e=this.getItem(t,i.Cache.SOUND,"isSoundDecoded");if(e)return e.decoded},isSoundReady:function(t){var e=this.getItem(t,i.Cache.SOUND,"isSoundDecoded");if(e)return e.decoded&&!this.game.sound.touchLocked},checkKey:function(t,e){return!!this._cacheMap[t][e]},checkURL:function(t){return!!this._urlMap[this._resolveURL(t)]},checkCanvasKey:function(t){return this.checkKey(i.Cache.CANVAS,t)},checkImageKey:function(t){return this.checkKey(i.Cache.IMAGE,t)},checkTextureKey:function(t){return this.checkKey(i.Cache.TEXTURE,t)},checkSoundKey:function(t){return this.checkKey(i.Cache.SOUND,t)},checkTextKey:function(t){return this.checkKey(i.Cache.TEXT,t)},checkPhysicsKey:function(t){return this.checkKey(i.Cache.PHYSICS,t)},checkTilemapKey:function(t){return this.checkKey(i.Cache.TILEMAP,t)},checkBinaryKey:function(t){return this.checkKey(i.Cache.BINARY,t)},checkBitmapDataKey:function(t){return this.checkKey(i.Cache.BITMAPDATA,t)},checkBitmapFontKey:function(t){return this.checkKey(i.Cache.BITMAPFONT,t)},checkJSONKey:function(t){return this.checkKey(i.Cache.JSON,t)},checkXMLKey:function(t){return this.checkKey(i.Cache.XML,t)},checkVideoKey:function(t){return this.checkKey(i.Cache.VIDEO,t)},checkShaderKey:function(t){return this.checkKey(i.Cache.SHADER,t)},checkRenderTextureKey:function(t){return this.checkKey(i.Cache.RENDER_TEXTURE,t)},getItem:function(t,e,i,s){return this.checkKey(e,t)?void 0===s?this._cacheMap[e][t]:this._cacheMap[e][t][s]:(i&&console.warn("Phaser.Cache."+i+': Key "'+t+'" not found in Cache.'),null)},getCanvas:function(t){return this.getItem(t,i.Cache.CANVAS,"getCanvas","canvas")},getImage:function(t,e){void 0!==t&&null!==t||(t="__default"),void 0===e&&(e=!1);var s=this.getItem(t,i.Cache.IMAGE,"getImage");return null===s&&(s=this.getItem("__missing",i.Cache.IMAGE,"getImage")),e?s:s.data},getTextureFrame:function(t){return this.getItem(t,i.Cache.TEXTURE,"getTextureFrame","frame")},getSound:function(t){return this.getItem(t,i.Cache.SOUND,"getSound")},getSoundData:function(t){return this.getItem(t,i.Cache.SOUND,"getSoundData","data")},getText:function(t){return this.getItem(t,i.Cache.TEXT,"getText","data")},getPhysicsData:function(t,e,s){var n=this.getItem(t,i.Cache.PHYSICS,"getPhysicsData","data");if(null===n||void 0===e||null===e)return n;if(n[e]){var o=n[e];if(!o||!s)return o;for(var r in o)if((r=o[r]).fixtureKey===s)return r;console.warn('Phaser.Cache.getPhysicsData: Could not find given fixtureKey: "'+s+" in "+t+'"')}else console.warn('Phaser.Cache.getPhysicsData: Invalid key/object: "'+t+" / "+e+'"');return null},getTilemapData:function(t){return this.getItem(t,i.Cache.TILEMAP,"getTilemapData")},getBinary:function(t){return this.getItem(t,i.Cache.BINARY,"getBinary")},getBitmapData:function(t){return this.getItem(t,i.Cache.BITMAPDATA,"getBitmapData","data")},getBitmapFont:function(t){return this.getItem(t,i.Cache.BITMAPFONT,"getBitmapFont")},getJSON:function(t,e){var s=this.getItem(t,i.Cache.JSON,"getJSON","data");return s?e?i.Utils.extend(!0,Array.isArray(s)?[]:{},s):s:null},getXML:function(t){return this.getItem(t,i.Cache.XML,"getXML","data")},getVideo:function(t){return this.getItem(t,i.Cache.VIDEO,"getVideo")},getShader:function(t){return this.getItem(t,i.Cache.SHADER,"getShader","data")},getRenderTexture:function(t){return this.getItem(t,i.Cache.RENDER_TEXTURE,"getRenderTexture")},getBaseTexture:function(t,e){return void 0===e&&(e=i.Cache.IMAGE),this.getItem(t,e,"getBaseTexture","base")},getFrame:function(t,e){return void 0===e&&(e=i.Cache.IMAGE),this.getItem(t,e,"getFrame","frame")},getFrameCount:function(t,e){var i=this.getFrameData(t,e);return i?i.total:0},getFrameData:function(t,e){return void 0===e&&(e=i.Cache.IMAGE),this.getItem(t,e,"getFrameData","frameData")},hasFrameData:function(t,e){return void 0===e&&(e=i.Cache.IMAGE),null!==this.getItem(t,e,"","frameData")},updateFrameData:function(t,e,s){void 0===s&&(s=i.Cache.IMAGE),this._cacheMap[s][t]&&(this._cacheMap[s][t].frameData=e)},getFrameByIndex:function(t,e,i){var s=this.getFrameData(t,i);return s?s.getFrame(e):null},getFrameByName:function(t,e,i){var s=this.getFrameData(t,i);return s?s.getFrameByName(e):null},getURL:function(t){return(t=this._resolveURL(t))?this._urlMap[t]:(console.warn('Phaser.Cache.getUrl: Invalid url: "'+t+'" or Cache.autoResolveURL was false'),null)},getKeys:function(t){void 0===t&&(t=i.Cache.IMAGE);var e=[];if(this._cacheMap[t])for(var s in this._cacheMap[t])"__default"!==s&&"__missing"!==s&&e.push(s);return e},removeCanvas:function(t){delete this._cache.canvas[t]},removeImage:function(t,e){void 0===e&&(e=!0);var i=this.getImage(t,!0);e&&i.base&&i.base.destroy(),delete this._cache.image[t]},removeSound:function(t){delete this._cache.sound[t]},removeText:function(t){delete this._cache.text[t]},removePhysics:function(t){delete this._cache.physics[t]},removeTilemap:function(t){delete this._cache.tilemap[t]},removeBinary:function(t){delete this._cache.binary[t]},removeBitmapData:function(t){delete this._cache.bitmapData[t]},removeBitmapFont:function(t){delete this._cache.bitmapFont[t]},removeJSON:function(t){delete this._cache.json[t]},removeXML:function(t){delete this._cache.xml[t]},removeVideo:function(t){delete this._cache.video[t]},removeShader:function(t){delete this._cache.shader[t]},removeRenderTexture:function(t){delete this._cache.renderTexture[t]},removeSpriteSheet:function(t){delete this._cache.spriteSheet[t]},removeTextureAtlas:function(t){delete this._cache.image[t]},clearGLTextures:function(){for(var t in this._cache.image)this._cache.image[t].base._glTextures=[]},_resolveURL:function(t,e){return this.autoResolveURL?(this._urlResolver.src=this.game.load.baseURL+t,this._urlTemp=this._urlResolver.src,this._urlResolver.src="",e&&(this._urlMap[this._urlTemp]=e),this._urlTemp):null},destroy:function(){for(var t=0;t<this._cacheMap.length;t++){var e=this._cacheMap[t];for(var i in e)"__default"!==i&&"__missing"!==i&&(this.destroyItem(e[i]),delete e[i])}this._urlMap=null,this._urlResolver=null,this._urlTemp=null},destroyItem:function(t){t.destroy?t.destroy():(t.base&&t.base.destroy&&t.base.destroy(),t.data&&t.data.destroy&&t.data.destroy(),t.frameData&&t.frameData.destroy&&t.frameData.destroy(),t.texture&&t.texture.destroy&&t.texture.destroy(!0))},_addImages:function(){this._pendingCount=0,this.addDefaultImage(),this.addMissingImage();var t=this,e=i.Cache.READY_TIMEOUT;i.Cache.READY_TIMEOUT>0?setTimeout(function(){t.isReady||(console.warn("Phaser.Cache: Still waiting for images after %s ms.",e),t._ready())},i.Cache.READY_TIMEOUT):this._ready()},_addPending:function(){this._pendingCount+=1},_removePending:function(){this._pendingCount-=1,this._checkReady()},_checkReady:function(){this.isReady&&this._ready()},_ready:function(){this._pendingCount=0,this.onReady.dispatch(this)}},i.Cache.prototype.constructor=i.Cache,Object.defineProperty(i.Cache.prototype,"isReady",{get:function(){return this._pendingCount<=0}}),i.Loader=function(t){this.game=t,this.cache=t.cache,this.resetLocked=!1,this.isLoading=!1,this.hasLoaded=!1,this.preloadSprite=null,this.crossOrigin=!1,this.baseURL="",this.path="",this.headers={requestedWith:!1,json:"application/json",xml:"application/xml"},this.onLoadStart=new i.Signal,this.onLoadComplete=new i.Signal,this.onPackComplete=new i.Signal,this.onFileStart=new i.Signal,this.onFileComplete=new i.Signal,this.onFileError=new i.Signal,this.useXDomainRequest=!1,this._warnedAboutXDomainRequest=!1,this.enableParallel=!0,this.maxParallelDownloads=4,this._withSyncPointDepth=0,this._fileList=[],this._flightQueue=[],this._processingHead=0,this._fileLoadStarted=!1,this._totalPackCount=0,this._totalFileCount=0,this._loadedPackCount=0,this._loadedFileCount=0},i.Loader.TEXTURE_ATLAS_JSON_ARRAY=0,i.Loader.TEXTURE_ATLAS_JSON_HASH=1,i.Loader.TEXTURE_ATLAS_XML_STARLING=2,i.Loader.PHYSICS_LIME_CORONA_JSON=3,i.Loader.PHYSICS_PHASER_JSON=4,i.Loader.TEXTURE_ATLAS_JSON_PYXEL=5,i.Loader.prototype={setPreloadSprite:function(t,e){e=e||0,this.preloadSprite={sprite:t,direction:e,width:t.width,height:t.height,rect:null},this.preloadSprite.rect=0===e?new i.Rectangle(0,0,1,t.height):new i.Rectangle(0,0,t.width,1),t.crop(this.preloadSprite.rect),t.visible=!0},resize:function(){this.preloadSprite&&this.preloadSprite.height!==this.preloadSprite.sprite.height&&(this.preloadSprite.rect.height=this.preloadSprite.sprite.height)},checkKeyExists:function(t,e){return this.getAssetIndex(t,e)>-1},getAssetIndex:function(t,e){for(var i=-1,s=0;s<this._fileList.length;s++){var n=this._fileList[s];if(n.type===t&&n.key===e&&(i=s,!n.loaded&&!n.loading))break}return i},getAsset:function(t,e){var i=this.getAssetIndex(t,e);return i>-1&&{index:i,file:this._fileList[i]}},reset:function(t,e){void 0===e&&(e=!1),this.resetLocked||(t&&(this.preloadSprite=null),this.isLoading=!1,this._processingHead=0,this._fileList.length=0,this._flightQueue.length=0,this._fileLoadStarted=!1,this._totalFileCount=0,this._totalPackCount=0,this._loadedPackCount=0,this._loadedFileCount=0,e&&(this.onLoadStart.removeAll(),this.onLoadComplete.removeAll(),this.onPackComplete.removeAll(),this.onFileStart.removeAll(),this.onFileComplete.removeAll(),this.onFileError.removeAll()))},addToFileList:function(t,e,i,s,n,o){if(void 0===n&&(n=!1),void 0===e||""===e)return console.warn("Phaser.Loader: Invalid or no key given of type "+t),this;if(void 0===i||null===i){if(!o)return console.warn("Phaser.Loader: No URL given for file type: "+t+" key: "+e),this;i=e+o}var r={type:t,key:e,path:this.path,url:i,syncPoint:this._withSyncPointDepth>0,data:null,loading:!1,loaded:!1,error:!1};if(s)for(var a in s)r[a]=s[a];var h=this.getAssetIndex(t,e);if(n&&h>-1){var l=this._fileList[h];l.loading||l.loaded?(this._fileList.push(r),this._totalFileCount++):this._fileList[h]=r}else-1===h&&(this._fileList.push(r),this._totalFileCount++);return this},replaceInFileList:function(t,e,i,s){return this.addToFileList(t,e,i,s,!0)},pack:function(t,e,i,s){if(void 0===e&&(e=null),void 0===i&&(i=null),void 0===s&&(s=null),!e&&!i)return console.warn("Phaser.Loader.pack - Both url and data are null. One must be set."),this;var n={type:"packfile",key:t,url:e,path:this.path,syncPoint:!0,data:null,loading:!1,loaded:!1,error:!1,callbackContext:s};i&&("string"==typeof i&&(i=JSON.parse(i)),n.data=i||{},n.loaded=!0);for(var o=0;o<this._fileList.length+1;o++){var r=this._fileList[o];if(!r||!r.loaded&&!r.loading&&"packfile"!==r.type){this._fileList.splice(o,0,n),this._totalPackCount++;break}}return this},image:function(t,e,i){return"object"==typeof e?this.texture(t,e,i):this.addToFileList("image",t,e,void 0,i,".png")},imageFromBitmapData:function(t,e,i){return this.image(t,e.canvas.toDataURL("image/png"),i)},texture:function(t,e,s){if(this.game.renderType===i.WEBGL){var n,o=this.game.renderer.extensions.compression;for(n in e)if(n.toUpperCase()in o)return this.addToFileList("texture",t,e[n],void 0,s,".pvr")}return e.truecolor&&this.addToFileList("image",t,e.truecolor,void 0,s,".png"),this},images:function(t,e){if(Array.isArray(e))for(i=0;i<t.length;i++)this.image(t[i],e[i]);else for(var i=0;i<t.length;i++)this.image(t[i]);return this},text:function(t,e,i){return this.addToFileList("text",t,e,void 0,i,".txt")},json:function(t,e,i){return this.addToFileList("json",t,e,void 0,i,".json")},shader:function(t,e,i){return this.addToFileList("shader",t,e,void 0,i,".frag")},xml:function(t,e,i){return this.addToFileList("xml",t,e,void 0,i,".xml")},script:function(t,e,i,s){return void 0===i&&(i=!1),!1!==i&&void 0===s&&(s=this),this.addToFileList("script",t,e,{syncPoint:!0,callback:i,callbackContext:s},!1,".js")},binary:function(t,e,i,s){return void 0===i&&(i=!1),!1!==i&&void 0===s&&(s=i),this.addToFileList("binary",t,e,{callback:i,callbackContext:s},!1,".bin")},spritesheet:function(t,e,i,s,n,o,r,a){return void 0===n&&(n=-1),void 0===o&&(o=0),void 0===r&&(r=0),void 0===a&&(a=0),this.addToFileList("spritesheet",t,e,{frameWidth:i,frameHeight:s,frameMax:n,margin:o,spacing:r,skipFrames:a},!1,".png")},audio:function(t,e,i){return this.game.sound.noAudio?this:(void 0===i&&(i=!0),"string"==typeof e&&(e=[e]),this.addToFileList("audio",t,e,{buffer:null,autoDecode:i}))},audioSprite:function(t,e,i,s,n){return this.game.sound.noAudio?this:(void 0===i&&(i=null),void 0===s&&(s=null),void 0===n&&(n=!0),this.audio(t,e,n),i?this.json(t+"-audioatlas",i):s?("string"==typeof s&&(s=JSON.parse(s)),this.cache.addJSON(t+"-audioatlas","",s)):console.warn("Phaser.Loader.audiosprite - You must specify either a jsonURL or provide a jsonData object"),this)},audiosprite:function(t,e,i,s,n){return this.audioSprite(t,e,i,s,n)},video:function(t,e,i,s){return void 0===i&&(i=this.game.device.firefox?"loadeddata":"canplaythrough"),void 0===s&&(s=!1),"string"==typeof e&&(e=[e]),this.addToFileList("video",t,e,{buffer:null,asBlob:s,loadEvent:i})},tilemap:function(t,e,s,n){if(void 0===e&&(e=null),void 0===s&&(s=null),void 0===n&&(n=i.Tilemap.CSV),e||s||(e=n===i.Tilemap.CSV?t+".csv":t+".json"),s){switch(n){case i.Tilemap.CSV:break;case i.Tilemap.TILED_JSON:"string"==typeof s&&(s=JSON.parse(s))}this.cache.addTilemap(t,null,s,n)}else this.addToFileList("tilemap",t,e,{format:n});return this},physics:function(t,e,s,n){return void 0===e&&(e=null),void 0===s&&(s=null),void 0===n&&(n=i.Physics.LIME_CORONA_JSON),e||s||(e=t+".json"),s?("string"==typeof s&&(s=JSON.parse(s)),this.cache.addPhysicsData(t,null,s,n)):this.addToFileList("physics",t,e,{format:n}),this},bitmapFont:function(t,e,i,s,n,o){if(void 0!==e&&null!==e||(e=t+".png"),void 0===i&&(i=null),void 0===s&&(s=null),null===i&&null===s&&(i=t+".xml"),void 0===n&&(n=0),void 0===o&&(o=0),i)this.addToFileList("bitmapfont",t,e,{atlasURL:i,xSpacing:n,ySpacing:o});else if("string"==typeof s){var r,a;try{r=JSON.parse(s)}catch(t){a=this.parseXml(s)}if(!a&&!r)throw new Error("Phaser.Loader. Invalid Bitmap Font atlas given");this.addToFileList("bitmapfont",t,e,{atlasURL:null,atlasData:r||a,atlasType:r?"json":"xml",xSpacing:n,ySpacing:o})}return this},atlasJSONArray:function(t,e,s,n){return this.atlas(t,e,s,n,i.Loader.TEXTURE_ATLAS_JSON_ARRAY)},atlasJSONHash:function(t,e,s,n){return this.atlas(t,e,s,n,i.Loader.TEXTURE_ATLAS_JSON_HASH)},atlasXML:function(t,e,s,n){return void 0===s&&(s=null),void 0===n&&(n=null),s||n||(s=t+".xml"),this.atlas(t,e,s,n,i.Loader.TEXTURE_ATLAS_XML_STARLING)},atlas:function(t,e,s,n,o){if(void 0!==e&&null!==e||(e=t+".png"),void 0===s&&(s=null),void 0===n&&(n=null),void 0===o&&(o=i.Loader.TEXTURE_ATLAS_JSON_ARRAY),s||n||(s=o===i.Loader.TEXTURE_ATLAS_XML_STARLING?t+".xml":t+".json"),s)this.addToFileList("textureatlas",t,e,{atlasURL:s,format:o});else{switch(o){case i.Loader.TEXTURE_ATLAS_JSON_ARRAY:"string"==typeof n&&(n=JSON.parse(n));break;case i.Loader.TEXTURE_ATLAS_XML_STARLING:if("string"==typeof n){var r=this.parseXml(n);if(!r)throw new Error("Phaser.Loader. Invalid Texture Atlas XML given");n=r}}this.addToFileList("textureatlas",t,e,{atlasURL:null,atlasData:n,format:o})}return this},withSyncPoint:function(t,e){this._withSyncPointDepth++;try{t.call(e||this,this)}finally{this._withSyncPointDepth--}return this},addSyncPoint:function(t,e){var i=this.getAsset(t,e);return i&&(i.file.syncPoint=!0),this},removeFile:function(t,e){var i=this.getAsset(t,e);i&&(i.loaded||i.loading||this._fileList.splice(i.index,1))},removeAll:function(){this._fileList.length=0,this._flightQueue.length=0},start:function(){this.isLoading||(this.hasLoaded=!1,this.isLoading=!0,this.updateProgress(),this.processLoadQueue())},processLoadQueue:function(){if(!this.isLoading)return console.warn("Phaser.Loader - active loading canceled / reset"),void this.finishedLoading(!0);for(i=0;i<this._flightQueue.length;i++)((s=this._flightQueue[i]).loaded||s.error)&&(this._flightQueue.splice(i,1),i--,s.loading=!1,s.requestUrl=null,s.requestObject=null,s.error&&this.onFileError.dispatch(s.key,s),"packfile"!==s.type?(this._loadedFileCount++,this.onFileComplete.dispatch(this.progress,s.key,!s.error,this._loadedFileCount,this._totalFileCount)):"packfile"===s.type&&s.error&&(this._loadedPackCount++,this.onPackComplete.dispatch(s.key,!s.error,this._loadedPackCount,this._totalPackCount)));for(var t=!1,e=this.enableParallel?Math.max(1,this.maxParallelDownloads):1,i=this._processingHead;i<this._fileList.length;i++){var s=this._fileList[i];if("packfile"===s.type&&!s.error&&s.loaded&&i===this._processingHead&&(this.processPack(s),this._loadedPackCount++,this.onPackComplete.dispatch(s.key,!s.error,this._loadedPackCount,this._totalPackCount)),s.loaded||s.error?i===this._processingHead&&(this._processingHead=i+1):!s.loading&&this._flightQueue.length<e&&("packfile"!==s.type||s.data?t||(this._fileLoadStarted||(this._fileLoadStarted=!0,this.onLoadStart.dispatch()),this._flightQueue.push(s),s.loading=!0,this.onFileStart.dispatch(this.progress,s.key,s.url),this.loadFile(s)):(this._flightQueue.push(s),s.loading=!0,this.loadFile(s))),!s.loaded&&s.syncPoint&&(t=!0),this._flightQueue.length>=e||t&&this._loadedPackCount===this._totalPackCount)break}if(this.updateProgress(),this._processingHead>=this._fileList.length)this.finishedLoading();else if(!this._flightQueue.length){console.warn("Phaser.Loader - aborting: processing queue empty, loading may have stalled");var n=this;setTimeout(function(){n.finishedLoading(!0)},2e3)}},finishedLoading:function(t){this.hasLoaded||(this.hasLoaded=!0,this.isLoading=!1,t||this._fileLoadStarted||(this._fileLoadStarted=!0,this.onLoadStart.dispatch()),this.reset(),this.onLoadComplete.dispatch(),this.game.state.loadComplete())},asyncComplete:function(t,e){void 0===e&&(e=""),t.loaded=!0,t.error=!!e,e&&(t.errorMessage=e,console.warn("Phaser.Loader - "+t.type+"["+t.key+"]: "+e)),this.processLoadQueue()},processPack:function(t){var e=t.data[t.key];if(e)for(var s=0;s<e.length;s++){var n=e[s];switch(n.type){case"image":this.image(n.key,n.url,n.overwrite);break;case"text":this.text(n.key,n.url,n.overwrite);break;case"json":this.json(n.key,n.url,n.overwrite);break;case"xml":this.xml(n.key,n.url,n.overwrite);break;case"script":this.script(n.key,n.url,n.callback,t.callbackContext||this);break;case"binary":this.binary(n.key,n.url,n.callback,t.callbackContext||this);break;case"spritesheet":this.spritesheet(n.key,n.url,n.frameWidth,n.frameHeight,n.frameMax,n.margin,n.spacing,n.skipFrames);break;case"video":this.video(n.key,n.urls);break;case"audio":this.audio(n.key,n.urls,n.autoDecode);break;case"audiosprite":this.audiosprite(n.key,n.urls,n.jsonURL,n.jsonData,n.autoDecode);break;case"tilemap":this.tilemap(n.key,n.url,n.data,i.Tilemap[n.format]);break;case"physics":this.physics(n.key,n.url,n.data,i.Loader[n.format]);break;case"bitmapFont":this.bitmapFont(n.key,n.textureURL,n.atlasURL,n.atlasData,n.xSpacing,n.ySpacing);break;case"atlasJSONArray":this.atlasJSONArray(n.key,n.textureURL,n.atlasURL,n.atlasData);break;case"atlasJSONHash":this.atlasJSONHash(n.key,n.textureURL,n.atlasURL,n.atlasData);break;case"atlasXML":this.atlasXML(n.key,n.textureURL,n.atlasURL,n.atlasData);break;case"atlas":this.atlas(n.key,n.textureURL,n.atlasURL,n.atlasData,i.Loader[n.format]);break;case"shader":this.shader(n.key,n.url,n.overwrite)}}else console.warn("Phaser.Loader - "+t.key+": pack has data, but not for pack key")},transformUrl:function(t,e){return!!t&&(t.match(/^(?:blob:|data:|http:\/\/|https:\/\/|\/\/)/)?t:this.baseURL+e.path+t)},loadFile:function(t){switch(t.type){case"packfile":this.xhrLoad(t,this.transformUrl(t.url,t),"text",this.fileComplete);break;case"image":case"spritesheet":case"textureatlas":case"bitmapfont":this.loadImageTag(t);break;case"audio":t.url=this.getAudioURL(t.url),t.url?this.game.sound.usingWebAudio?this.xhrLoad(t,this.transformUrl(t.url,t),"arraybuffer",this.fileComplete):this.game.sound.usingAudioTag&&this.loadAudioTag(t):this.fileError(t,null,"No supported audio URL specified or device does not have audio playback support");break;case"video":t.url=this.getVideoURL(t.url),t.url?t.asBlob?this.xhrLoad(t,this.transformUrl(t.url,t),"blob",this.fileComplete):this.loadVideoTag(t):this.fileError(t,null,"No supported video URL specified or device does not have video playback support");break;case"json":this.xhrLoad(t,this.transformUrl(t.url,t),"text",this.jsonLoadComplete);break;case"xml":this.xhrLoad(t,this.transformUrl(t.url,t),"text",this.xmlLoadComplete);break;case"tilemap":t.format===i.Tilemap.TILED_JSON?this.xhrLoad(t,this.transformUrl(t.url,t),"text",this.jsonLoadComplete):t.format===i.Tilemap.CSV?this.xhrLoad(t,this.transformUrl(t.url,t),"text",this.csvLoadComplete):this.asyncComplete(t,"invalid Tilemap format: "+t.format);break;case"text":case"script":case"shader":case"physics":this.xhrLoad(t,this.transformUrl(t.url,t),"text",this.fileComplete);break;case"texture":"truecolor"===t.key.split("_").pop()?this.loadImageTag(t):this.xhrLoad(t,this.transformUrl(t.url,t),"arraybuffer",this.fileComplete);break;case"binary":this.xhrLoad(t,this.transformUrl(t.url,t),"arraybuffer",this.fileComplete)}},loadImageTag:function(t){var e=this;t.data=new Image,t.data.name=t.key,this.crossOrigin&&(t.data.crossOrigin=this.crossOrigin),t.data.onload=function(){t.data.onload&&(t.data.onload=null,t.data.onerror=null,e.fileComplete(t))},t.data.onerror=function(){t.data.onload&&(t.data.onload=null,t.data.onerror=null,e.fileError(t))},t.data.src=this.transformUrl(t.url,t),!this.game.device.firefox&&t.data.complete&&t.data.width&&t.data.height&&(t.data.onload=null,t.data.onerror=null,this.fileComplete(t))},loadVideoTag:function(t){var e=this;t.data=document.createElement("video"),t.data.name=t.key,t.data.controls=!1,t.data.autoplay=!1;var s=function(){t.data.removeEventListener(t.loadEvent,s,!1),t.data.onerror=null,t.data.canplay=!0,i.GAMES[e.game.id].load.fileComplete(t)};t.data.onerror=function(){t.data.removeEventListener(t.loadEvent,s,!1),t.data.onerror=null,t.data.canplay=!1,e.fileError(t)},t.data.addEventListener(t.loadEvent,s,!1),t.data.src=this.transformUrl(t.url,t),t.data.load()},loadAudioTag:function(t){var e=this;if(this.game.sound.touchLocked)t.data=new Audio,t.data.name=t.key,t.data.preload="auto",t.data.src=this.transformUrl(t.url,t),this.fileComplete(t);else{t.data=new Audio,t.data.name=t.key;var i=function(){t.data.removeEventListener("canplaythrough",i,!1),t.data.onerror=null,e.fileComplete(t)};t.data.onerror=function(){t.data.removeEventListener("canplaythrough",i,!1),t.data.onerror=null,e.fileError(t)},t.data.preload="auto",t.data.src=this.transformUrl(t.url,t),t.data.addEventListener("canplaythrough",i,!1),t.data.load()}},xhrLoad:function(t,e,i,s,n){if(this.useXDomainRequest&&window.XDomainRequest)this.xhrLoadWithXDR(t,e,i,s,n);else{var o=new XMLHttpRequest;o.open("GET",e,!0),o.responseType=i,!1!==this.headers.requestedWith&&o.setRequestHeader("X-Requested-With",this.headers.requestedWith),this.headers[t.type]&&o.setRequestHeader("Accept",this.headers[t.type]),n=n||this.fileError;var r=this;o.onload=function(){try{return 4===o.readyState&&o.status>=400&&o.status<=599?n.call(r,t,o):s.call(r,t,o)}catch(e){r.hasLoaded?window.console&&console.error(e):r.asyncComplete(t,e.message||"Exception")}},o.onerror=function(){try{return n.call(r,t,o)}catch(e){r.hasLoaded?window.console&&console.error(e):r.asyncComplete(t,e.message||"Exception")}},t.requestObject=o,t.requestUrl=e,o.send()}},xhrLoadWithXDR:function(t,e,i,s,n){this._warnedAboutXDomainRequest||this.game.device.ie&&!(this.game.device.ieVersion>=10)||(this._warnedAboutXDomainRequest=!0,console.warn("Phaser.Loader - using XDomainRequest outside of IE 9"));var o=new window.XDomainRequest;o.open("GET",e,!0),o.responseType=i,o.timeout=3e3,n=n||this.fileError;var r=this;o.onerror=function(){try{return n.call(r,t,o)}catch(e){r.asyncComplete(t,e.message||"Exception")}},o.ontimeout=function(){try{return n.call(r,t,o)}catch(e){r.asyncComplete(t,e.message||"Exception")}},o.onprogress=function(){},o.onload=function(){try{return 4===o.readyState&&o.status>=400&&o.status<=599?n.call(r,t,o):s.call(r,t,o)}catch(e){r.asyncComplete(t,e.message||"Exception")}},t.requestObject=o,t.requestUrl=e,setTimeout(function(){o.send()},0)},getVideoURL:function(t){for(var e=0;e<t.length;e++){var i,s=t[e];if(s.uri){if(i=s.type,s=s.uri,this.game.device.canPlayVideo(i))return s}else{if(0===s.indexOf("blob:")||0===s.indexOf("data:"))return s;if(s.indexOf("?")>=0&&(s=s.substr(0,s.indexOf("?"))),i=s.substr((Math.max(0,s.lastIndexOf("."))||1/0)+1).toLowerCase(),this.game.device.canPlayVideo(i))return t[e]}}return null},getAudioURL:function(t){if(this.game.sound.noAudio)return null;for(var e=0;e<t.length;e++){var i,s=t[e];if(s.uri){if(i=s.type,s=s.uri,this.game.device.canPlayAudio(i))return s}else{if(0===s.indexOf("blob:")||0===s.indexOf("data:"))return s;if(s.indexOf("?")>=0&&(s=s.substr(0,s.indexOf("?"))),i=s.substr((Math.max(0,s.lastIndexOf("."))||1/0)+1).toLowerCase(),this.game.device.canPlayAudio(i))return t[e]}}return null},fileError:function(t,e,i){var s="error loading asset from URL "+(t.requestUrl||this.transformUrl(t.url,t));!i&&e&&(i=e.status),i&&(s=s+" ("+i+")"),this.asyncComplete(t,s)},fileComplete:function(t,e){var s=!0;switch(t.type){case"packfile":o=JSON.parse(e.responseText);t.data=o||{};break;case"texture":var n=/\.([^.]+)$/.exec(t.url.split("?",1)[0])[1].toLowerCase();null!==t.data?this.cache.addCompressedTextureMetaData(t.key,t.url,n,t.data):this.cache.addCompressedTextureMetaData(t.key,t.url,n,e.response);break;case"image":this.cache.addImage(t.key,t.url,t.data);break;case"spritesheet":this.cache.addSpriteSheet(t.key,t.url,t.data,t.frameWidth,t.frameHeight,t.frameMax,t.margin,t.spacing,t.skipFrames);break;case"textureatlas":if(null==t.atlasURL)this.cache.addTextureAtlas(t.key,t.url,t.data,t.atlasData,t.format);else if(s=!1,t.format===i.Loader.TEXTURE_ATLAS_JSON_ARRAY||t.format===i.Loader.TEXTURE_ATLAS_JSON_HASH||t.format===i.Loader.TEXTURE_ATLAS_JSON_PYXEL)this.xhrLoad(t,this.transformUrl(t.atlasURL,t),"text",this.jsonLoadComplete);else{if(t.format!==i.Loader.TEXTURE_ATLAS_XML_STARLING)throw new Error("Phaser.Loader. Invalid Texture Atlas format: "+t.format);this.xhrLoad(t,this.transformUrl(t.atlasURL,t),"text",this.xmlLoadComplete)}break;case"bitmapfont":t.atlasURL?(s=!1,this.xhrLoad(t,this.transformUrl(t.atlasURL,t),"text",function(t,e){var i;try{i=JSON.parse(e.responseText)}catch(t){}i?(t.atlasType="json",this.jsonLoadComplete(t,e)):(t.atlasType="xml",this.xmlLoadComplete(t,e))})):this.cache.addBitmapFont(t.key,t.url,t.data,t.atlasData,t.atlasType,t.xSpacing,t.ySpacing);break;case"video":if(t.asBlob)try{t.data=e.response}catch(e){throw new Error("Phaser.Loader. Unable to parse video file as Blob: "+t.key)}this.cache.addVideo(t.key,t.url,t.data,t.asBlob);break;case"audio":this.game.sound.usingWebAudio?(t.data=e.response,this.cache.addSound(t.key,t.url,t.data,!0,!1),t.autoDecode&&this.game.sound.decode(t.key)):this.cache.addSound(t.key,t.url,t.data,!1,!0);break;case"text":t.data=e.responseText,this.cache.addText(t.key,t.url,t.data);break;case"shader":t.data=e.responseText,this.cache.addShader(t.key,t.url,t.data);break;case"physics":var o=JSON.parse(e.responseText);this.cache.addPhysicsData(t.key,t.url,o,t.format);break;case"script":t.data=document.createElement("script"),t.data.language="javascript",t.data.type="text/javascript",t.data.defer=!1,t.data.text=e.responseText,document.head.appendChild(t.data),t.callback&&(t.data=t.callback.call(t.callbackContext,t.key,e.responseText));break;case"binary":t.callback?t.data=t.callback.call(t.callbackContext,t.key,e.response):t.data=e.response,this.cache.addBinary(t.key,t.data)}s&&this.asyncComplete(t)},jsonLoadComplete:function(t,e){var i=JSON.parse(e.responseText);"tilemap"===t.type?this.cache.addTilemap(t.key,t.url,i,t.format):"bitmapfont"===t.type?this.cache.addBitmapFont(t.key,t.url,t.data,i,t.atlasType,t.xSpacing,t.ySpacing):"json"===t.type?this.cache.addJSON(t.key,t.url,i):this.cache.addTextureAtlas(t.key,t.url,t.data,i,t.format),this.asyncComplete(t)},csvLoadComplete:function(t,e){var i=e.responseText;this.cache.addTilemap(t.key,t.url,i,t.format),this.asyncComplete(t)},xmlLoadComplete:function(t,e){var i=e.responseText,s=this.parseXml(i);if(!s){var n=e.responseType||e.contentType;return console.warn("Phaser.Loader - "+t.key+": invalid XML ("+n+")"),void this.asyncComplete(t,"invalid XML")}"bitmapfont"===t.type?this.cache.addBitmapFont(t.key,t.url,t.data,s,t.atlasType,t.xSpacing,t.ySpacing):"textureatlas"===t.type?this.cache.addTextureAtlas(t.key,t.url,t.data,s,t.format):"xml"===t.type&&this.cache.addXML(t.key,t.url,s),this.asyncComplete(t)},parseXml:function(t){var e;try{if(window.DOMParser){var i=new DOMParser;e=i.parseFromString(t,"text/xml")}else(e=new ActiveXObject("Microsoft.XMLDOM")).async="false",e.loadXML(t)}catch(t){e=null}return e&&e.documentElement&&!e.getElementsByTagName("parsererror").length?e:null},updateProgress:function(){this.preloadSprite&&(0===this.preloadSprite.direction?this.preloadSprite.rect.width=Math.floor(this.preloadSprite.width/100*this.progress):this.preloadSprite.rect.height=Math.floor(this.preloadSprite.height/100*this.progress),this.preloadSprite.sprite?this.preloadSprite.sprite.updateCrop():this.preloadSprite=null)},totalLoadedFiles:function(){return this._loadedFileCount},totalQueuedFiles:function(){return this._totalFileCount-this._loadedFileCount},totalLoadedPacks:function(){return this._totalPackCount},totalQueuedPacks:function(){return this._totalPackCount-this._loadedPackCount}},Object.defineProperty(i.Loader.prototype,"progressFloat",{get:function(){var t=this._loadedFileCount/this._totalFileCount*100;return i.Math.clamp(t||0,0,100)}}),Object.defineProperty(i.Loader.prototype,"progress",{get:function(){return Math.round(this.progressFloat)}}),i.Loader.prototype.constructor=i.Loader,i.LoaderParser={bitmapFont:function(t,e,i,s,n,o){return this.xmlBitmapFont(t,e,i,s,n,o)},xmlBitmapFont:function(t,e,i,s,n,o){null==o&&(o=1);var r={},a=t.getElementsByTagName("info")[0],h=t.getElementsByTagName("common")[0];r.font=a.getAttribute("face"),r.size=parseInt(a.getAttribute("size"),10),r.lineHeight=parseInt(h.getAttribute("lineHeight"),10)+s,r.chars={};for(var l=t.getElementsByTagName("char"),c=n?n.x:0,u=n?n.y:0,d=0;d<l.length;d++){var p=parseInt(l[d].getAttribute("id"),10);r.chars[p]={x:c+parseInt(l[d].getAttribute("x"),10),y:u+parseInt(l[d].getAttribute("y"),10),width:parseInt(l[d].getAttribute("width"),10),height:parseInt(l[d].getAttribute("height"),10),xOffset:parseInt(l[d].getAttribute("xoffset"),10)/o,yOffset:parseInt(l[d].getAttribute("yoffset"),10)/o,xAdvance:(parseInt(l[d].getAttribute("xadvance"),10)+i)/o,kerning:{}}}var f=t.getElementsByTagName("kerning");for(d=0;d<f.length;d++){var m=parseInt(f[d].getAttribute("first"),10),g=parseInt(f[d].getAttribute("second"),10),y=parseInt(f[d].getAttribute("amount"),10)/o;r.chars[g].kerning[m]=y}return this.finalizeBitmapFont(e,r)},jsonBitmapFont:function(t,e,i,s,n,o){null==o&&(o=1);var r={font:t.font.info._face,size:parseInt(t.font.info._size,10),lineHeight:parseInt(t.font.common._lineHeight,10)+s,chars:{}},a=n?n.x:0,h=n?n.y:0;return t.font.chars.char.forEach(function(t){var e=parseInt(t._id,10);r.chars[e]={x:a+parseInt(t._x,10),y:h+parseInt(t._y,10),width:parseInt(t._width,10),height:parseInt(t._height,10),xOffset:parseInt(t._xoffset,10)/o,yOffset:parseInt(t._yoffset,10)/o,xAdvance:(parseInt(t._xadvance,10)+i)/o,kerning:{}}}),t.font.kernings&&t.font.kernings.kerning&&t.font.kernings.kerning.forEach(function(t){r.chars[t._second].kerning[t._first]=parseInt(t._amount,10)/o}),this.finalizeBitmapFont(e,r)},finalizeBitmapFont:function(t,e){return Object.keys(e.chars).forEach(function(s){var n=e.chars[s];n.texture=new PIXI.Texture(t,new i.Rectangle(n.x,n.y,n.width,n.height))}),e},pvr:function(t){var e,i=new Uint32Array(t.slice(0,52)),s=new Uint8Array(t),n=null,o=i[3]<<32|i[2],r=0;if(55727696===i[0]&&[0,1,2,3,6,7,9,11].indexOf(o)>=0){switch(o>=0&&o<=3?e="PVRTC":o>=7&&o<=11?e="S3TC":6===o&&(e="ETC1"),o){case 0:r=35841;break;case 1:r=35843;break;case 2:r=35840;break;case 3:r=35842;break;case 6:r=36196;break;case 7:r=33777;break;case 9:r=33778;break;case 11:r=33779;break;default:r=-1}n={complete:!0,fileFormat:"PVR",compressionAlgorithm:e,flags:i[1],pixelFormat:o,colorSpace:i[4],channelType:i[5],height:i[6],width:i[7],depth:i[8],numberOfSurfaces:i[9],numberOfFaces:i[10],numberOfMipmaps:i[11],metaDataSize:i[12],textureData:s.subarray(52+i[12],s.byteLength),glExtensionFormat:r}}return n},dds:function(t){var e=new Uint8Array(t),i=new Uint32Array(t),s=null;return 68===e[0]&&68===e[1]&&83===e[2]&&32===e[3]&&"DX10"===(s={complete:!0,fileFormat:"DDS",compressionAlgorithm:"S3TC",size:i[1],flags:i[2],height:i[3],width:i[4],pitch:i[5],depth:i[6],mipmapCount:i[7],formatSize:i[19],formatFlag:i[19],formatFourCC:[String.fromCharCode(e[84]),String.fromCharCode(e[85]),String.fromCharCode(e[86]),String.fromCharCode(e[87])].join(""),formatBitCount:i[21],formatRBitMask:i[22],formatGBitMask:i[23],formatBBitMask:i[24],formatABitMask:i[25],caps1:i[26],caps2:i[27],caps3:i[28],caps4:i[29],reserved2:i[30],DXGIFormat:null,resourceDimension:null,miscFlag:null,arraySize:null,textureData:e.subarray(i[1]+4,e.byteLength)}).formatFourCC&&(s.DXGIFormat=i[31],s.resourceDimension=i[32],s.miscFlag=i[33],s.arraySize=i[34],s.miscFlag=i[35]),s},ktx:function(t){var e=new Uint8Array(t),i=new Uint32Array(t),s=null,n=16+i[15]/4|0,o=i[n],r=i[7],a=0;if(171===e[0]&&75===e[1]&&84===e[2]&&88===e[3]&&32===e[4]&&49===e[5]&&49===e[6]&&187===e[7]&&13===e[8]&&10===e[9]&&26===e[10]&&10===e[11]&&[36196,35840,35841,35842,35843,33776,33777,33778,33779].indexOf(r)>=0){switch(r){case 36196:a="ETC1";break;case 35840:case 35841:case 35842:case 35843:a="PVRTC";break;case 33776:case 33777:case 33778:case 33779:a="S3TC"}s={complete:!0,fileFormat:"KTX",compressionAlgorithm:a,endianness:i[3],glType:i[4],glTypeSize:i[5],glFormat:i[6],glInternalFormat:i[7],glBaseInternalFormat:i[8],width:i[9],height:i[10],pixelDepth:i[11],numberOfArrayElements:i[12],numberOfFaces:i[13],numberOfMipmapLevels:i[14],bytesOfKeyValueData:i[15],keyAndValueByteSize:i[16],imageSize:o,textureData:e.subarray(4*(n+1),o+100)}}return s},pkm:function(t){var e=new Uint8Array(t),i=null;return 80===e[0]&&75===e[1]&&77===e[2]&&32===e[3]&&(i={complete:!0,fileFormat:"PKM",compressionAlgorithm:"ETC1",format:65535&(e[6]<<8|e[7]),width:65535&(e[8]<<8|e[9]),height:65535&(e[10]<<8|e[11]),originalWidth:65535&(e[12]<<8|e[13]),originalHeight:65535&(e[14]<<8|e[15]),textureData:e.subarray(16,e.length)}),i}},i.AudioSprite=function(t,e){this.game=t,this.key=e,this.config=this.game.cache.getJSON(e+"-audioatlas"),this.autoplayKey=null,this.autoplay=!1,this.sounds={};for(var i in this.config.spritemap){var s=this.config.spritemap[i],n=this.game.add.sound(this.key);n.addMarker(i,s.start,s.end-s.start,null,s.loop),this.sounds[i]=n}this.config.autoplay&&(this.autoplayKey=this.config.autoplay,this.play(this.autoplayKey),this.autoplay=this.sounds[this.autoplayKey])},i.AudioSprite.prototype={play:function(t,e){return void 0===e&&(e=1),this.sounds[t].play(t,null,e)},stop:function(t){if(t)this.sounds[t].stop();else for(var e in this.sounds)this.sounds[e].stop()},get:function(t){return this.sounds[t]}},i.AudioSprite.prototype.constructor=i.AudioSprite,i.Sound=function(t,e,s,n,o){void 0===s&&(s=1),void 0===n&&(n=!1),void 0===o&&(o=t.sound.connectToMaster),this.game=t,this.name=e,this.key=e,this.loop=n,this.markers={},this.context=null,this.autoplay=!1,this.totalDuration=0,this.startTime=0,this.currentTime=0,this.duration=0,this.durationMS=0,this.position=0,this.stopTime=0,this.paused=!1,this.pausedPosition=0,this.pausedTime=0,this.isPlaying=!1,this.currentMarker="",this.fadeTween=null,this.pendingPlayback=!1,this.override=!1,this.allowMultiple=!1,this.usingWebAudio=this.game.sound.usingWebAudio,this.usingAudioTag=this.game.sound.usingAudioTag,this.externalNode=null,this.masterGainNode=null,this.gainNode=null,this._sound=null,this._globalVolume=1,this._markedToDelete=!1,this._removeFromSoundManager=!1,this.usingWebAudio?(this.context=this.game.sound.context,this.masterGainNode=this.game.sound.masterGain,void 0===this.context.createGain?this.gainNode=this.context.createGainNode():this.gainNode=this.context.createGain(),this.gainNode.gain.value=s*this.game.sound.volume,o&&this.gainNode.connect(this.masterGainNode)):this.usingAudioTag&&(this.game.cache.getSound(e)&&this.game.cache.isSoundReady(e)?(this._sound=this.game.cache.getSoundData(e),this.totalDuration=0,this._sound.duration&&(this.totalDuration=this._sound.duration)):this.game.cache.onSoundUnlock.add(this.soundHasUnlocked,this)),this.onDecoded=new i.Signal,this.onPlay=new i.Signal,this.onPause=new i.Signal,this.onResume=new i.Signal,this.onLoop=new i.Signal,this.onStop=new i.Signal,this.onMute=new i.Signal,this.onMarkerComplete=new i.Signal,this.onFadeComplete=new i.Signal,this._volume=s,this._buffer=null,this._muted=!1,this._tempMarker=0,this._tempPosition=0,this._tempVolume=0,this._tempPause=0,this._muteVolume=0,this._tempLoop=0,this._paused=!1,this._onDecodedEventDispatched=!1},i.Sound.prototype={soundHasUnlocked:function(t){t===this.key&&(this._sound=this.game.cache.getSoundData(this.key),this.totalDuration=this._sound.duration)},addMarker:function(t,e,i,s,n){void 0!==i&&null!==i||(i=1),void 0!==s&&null!==s||(s=1),void 0===n&&(n=!1),this.markers[t]={name:t,start:e,stop:e+i,volume:s,duration:i,durationMS:1e3*i,loop:n}},removeMarker:function(t){delete this.markers[t]},onEndedHandler:function(){this._sound.onended=null,this.isPlaying=!1,this.currentTime=this.durationMS,this.stop(),this._markedToDelete&&(this.externalNode?this._sound.disconnect(this.externalNode):this.gainNode&&this._sound.disconnect(this.gainNode),this._removeFromSoundManager?this.game.sound.remove(this):(this.markers={},this.context=null,this._buffer=null,this.externalNode=null,this.onDecoded.dispose(),this.onPlay.dispose(),this.onPause.dispose(),this.onResume.dispose(),this.onLoop.dispose(),this.onStop.dispose(),this.onMute.dispose(),this.onMarkerComplete.dispose()))},update:function(){this.game.cache.checkSoundKey(this.key)?(this.isDecoded&&!this._onDecodedEventDispatched&&(this.onDecoded.dispatch(this),this._onDecodedEventDispatched=!0),this.pendingPlayback&&this.game.cache.isSoundReady(this.key)&&(this.pendingPlayback=!1,this.play(this._tempMarker,this._tempPosition,this._tempVolume,this._tempLoop)),this.isPlaying&&(this.currentTime=this.game.time.time-this.startTime,this.currentTime>=this.durationMS&&(this.usingWebAudio?this.loop?(this.onLoop.dispatch(this),this.isPlaying=!1,""===this.currentMarker?(this.currentTime=0,this.startTime=this.game.time.time,this.isPlaying=!0):(this.onMarkerComplete.dispatch(this.currentMarker,this),this.play(this.currentMarker,0,this.volume,!0,!0))):""!==this.currentMarker&&this.stop():this.loop?(this.onLoop.dispatch(this),""===this.currentMarker&&(this.currentTime=0,this.startTime=this.game.time.time),this.isPlaying=!1,this.play(this.currentMarker,0,this.volume,!0,!0)):this.stop()))):this.destroy()},loopFull:function(t){return this.play(null,0,t,!0)},play:function(t,e,i,s,n){if(void 0!==t&&!1!==t&&null!==t||(t=""),void 0===n&&(n=!0),this.isPlaying&&!this.allowMultiple&&!n&&!this.override)return this;if(this._sound&&this.isPlaying&&!this.allowMultiple&&(this.override||n)){if(this.usingWebAudio){if(void 0===this._sound.stop)this._sound.noteOff(0);else try{this._sound.stop(0)}catch(t){}this.externalNode?this._sound.disconnect(this.externalNode):this.gainNode&&this._sound.disconnect(this.gainNode)}else this.usingAudioTag&&(this._sound.pause(),this._sound.currentTime=0);this.isPlaying=!1}if(""===t&&Object.keys(this.markers).length>0)return this;if(""!==t){if(!this.markers[t])return console.warn("Phaser.Sound.play: audio marker "+t+" doesn't exist"),this;this.currentMarker=t,this.position=this.markers[t].start,this.volume=this.markers[t].volume,this.loop=this.markers[t].loop,this.duration=this.markers[t].duration,this.durationMS=this.markers[t].durationMS,void 0!==i&&(this.volume=i),void 0!==s&&(this.loop=s),this._tempMarker=t,this._tempPosition=this.position,this._tempVolume=this.volume,this._tempLoop=this.loop}else e=e||0,void 0===i&&(i=this._volume),void 0===s&&(s=this.loop),this.position=Math.max(0,e),this.volume=i,this.loop=s,this.duration=0,this.durationMS=0,this._tempMarker=t,this._tempPosition=e,this._tempVolume=i,this._tempLoop=s;return this.usingWebAudio?this.game.cache.isSoundDecoded(this.key)?(this._sound=this.context.createBufferSource(),this.externalNode?this._sound.connect(this.externalNode):this._sound.connect(this.gainNode),this._buffer=this.game.cache.getSoundData(this.key),this._sound.buffer=this._buffer,this.loop&&""===t&&(this._sound.loop=!0),this.loop||""!==t||(this._sound.onended=this.onEndedHandler.bind(this)),this.totalDuration=this._sound.buffer.duration,0===this.duration&&(this.duration=this.totalDuration,this.durationMS=Math.ceil(1e3*this.totalDuration)),void 0===this._sound.start?this._sound.noteGrainOn(0,this.position,this.duration):this.loop&&""===t?this._sound.start(0,0):this._sound.start(0,this.position,this.duration),this.isPlaying=!0,this.startTime=this.game.time.time,this.currentTime=0,this.stopTime=this.startTime+this.durationMS,this.onPlay.dispatch(this)):(this.pendingPlayback=!0,this.game.cache.getSound(this.key)&&!1===this.game.cache.getSound(this.key).isDecoding&&this.game.sound.decode(this.key,this)):this.game.cache.getSound(this.key)&&this.game.cache.getSound(this.key).locked?(this.game.cache.reloadSound(this.key),this.pendingPlayback=!0):this._sound&&(this.game.device.cocoonJS||4===this._sound.readyState)?(this._sound.play(),this.totalDuration=this._sound.duration,0===this.duration&&(this.duration=this.totalDuration,this.durationMS=1e3*this.totalDuration),this._sound.currentTime=this.position,this._sound.muted=this._muted,this._muted||this.game.sound.mute?this._sound.volume=0:this._sound.volume=this._volume,this.isPlaying=!0,this.startTime=this.game.time.time,this.currentTime=0,this.stopTime=this.startTime+this.durationMS,this.onPlay.dispatch(this)):this.pendingPlayback=!0,this},restart:function(t,e,i,s){t=t||"",e=e||0,i=i||1,void 0===s&&(s=!1),this.play(t,e,i,s,!0)},pause:function(){this.isPlaying&&this._sound&&(this.paused=!0,this.pausedPosition=this.currentTime,this.pausedTime=this.game.time.time,this._tempPause=this._sound.currentTime,this.onPause.dispatch(this),this.stop())},resume:function(){if(this.paused&&this._sound){if(this.usingWebAudio){var t=Math.max(0,this.position+this.pausedPosition/1e3);this._sound=this.context.createBufferSource(),this._sound.buffer=this._buffer,this.externalNode?this._sound.connect(this.externalNode):this._sound.connect(this.gainNode),this.loop&&(this._sound.loop=!0),this.loop||""!==this.currentMarker||(this._sound.onended=this.onEndedHandler.bind(this));var e=this.duration-this.pausedPosition/1e3;void 0===this._sound.start?this._sound.noteGrainOn(0,t,e):this.loop&&this.game.device.chrome?42===this.game.device.chromeVersion?this._sound.start(0):this._sound.start(0,t):this._sound.start(0,t,e)}else this._sound.currentTime=this._tempPause,this._sound.play();this.isPlaying=!0,this.paused=!1,this.startTime+=this.game.time.time-this.pausedTime,this.onResume.dispatch(this)}},stop:function(){if(this.isPlaying&&this._sound)if(this.usingWebAudio){if(void 0===this._sound.stop)this._sound.noteOff(0);else try{this._sound.stop(0)}catch(t){}this.externalNode?this._sound.disconnect(this.externalNode):this.gainNode&&this._sound.disconnect(this.gainNode)}else this.usingAudioTag&&(this._sound.pause(),this._sound.currentTime=0);if(this.pendingPlayback=!1,this.isPlaying=!1,!this.paused){var t=this.currentMarker;""!==this.currentMarker&&this.onMarkerComplete.dispatch(this.currentMarker,this),this.currentMarker="",null!==this.fadeTween&&this.fadeTween.stop(),this.onStop.dispatch(this,t)}},fadeIn:function(t,e,i){void 0===e&&(e=!1),void 0===i&&(i=this.currentMarker),this.paused||(this.play(i,0,0,e),this.fadeTo(t,1))},fadeOut:function(t){this.fadeTo(t,0)},fadeTo:function(t,e){this.isPlaying&&!this.paused&&e!==this.volume&&(void 0===t&&(t=1e3),void 0!==e?(this.fadeTween=this.game.add.tween(this).to({volume:e},t,i.Easing.Linear.None,!0),this.fadeTween.onComplete.add(this.fadeComplete,this)):console.warn("Phaser.Sound.fadeTo: No Volume Specified."))},fadeComplete:function(){this.onFadeComplete.dispatch(this,this.volume),0===this.volume&&this.stop()},updateGlobalVolume:function(t){this.usingAudioTag&&this._sound&&(this._globalVolume=t,this._sound.volume=this._globalVolume*this._volume)},destroy:function(t){void 0===t&&(t=!0),this._markedToDelete=!0,this._removeFromSoundManager=t,this.stop(),t?this.game.sound.remove(this):(this.markers={},this.context=null,this._buffer=null,this.externalNode=null,this.onDecoded.dispose(),this.onPlay.dispose(),this.onPause.dispose(),this.onResume.dispose(),this.onLoop.dispose(),this.onStop.dispose(),this.onMute.dispose(),this.onMarkerComplete.dispose())}},i.Sound.prototype.constructor=i.Sound,Object.defineProperty(i.Sound.prototype,"isDecoding",{get:function(){return this.game.cache.getSound(this.key).isDecoding}}),Object.defineProperty(i.Sound.prototype,"isDecoded",{get:function(){return this.game.cache.isSoundDecoded(this.key)}}),Object.defineProperty(i.Sound.prototype,"mute",{get:function(){return this._muted||this.game.sound.mute},set:function(t){(t=t||!1)!==this._muted&&(t?(this._muted=!0,this._muteVolume=this._tempVolume,this.usingWebAudio?this.gainNode.gain.value=0:this.usingAudioTag&&this._sound&&(this._sound.volume=0)):(this._muted=!1,this.usingWebAudio?this.gainNode.gain.value=this._muteVolume:this.usingAudioTag&&this._sound&&(this._sound.volume=this._muteVolume)),this.onMute.dispatch(this))}}),Object.defineProperty(i.Sound.prototype,"volume",{get:function(){return this._volume},set:function(t){this.usingAudioTag&&(t=this.game.math.clamp(t,0,1)),this._muted?this._muteVolume=t:(this._tempVolume=t,this._volume=t,this.usingWebAudio?this.gainNode.gain.value=t:this.usingAudioTag&&this._sound&&(this._sound.volume=this._globalVolume*t))}}),i.SoundManager=function(t){this.game=t,this.onSoundDecode=new i.Signal,this.onVolumeChange=new i.Signal,this.onMute=new i.Signal,this.onUnMute=new i.Signal,this.context=null,this.usingWebAudio=!1,this.usingAudioTag=!1,this.noAudio=!1,this.connectToMaster=!0,this.touchLocked=!1,this.channels=32,this.muteOnPause=!0,this._codeMuted=!1,this._muted=!1,this._unlockSource=null,this._volume=1,this._sounds=[],this._watchList=new i.ArraySet,this._watching=!1,this._watchCallback=null,this._watchContext=null},i.SoundManager.prototype={boot:function(){if(this.game.device.iOS&&!1===this.game.device.webAudio&&(this.channels=1),window.PhaserGlobal){if(!0===window.PhaserGlobal.disableAudio)return this.noAudio=!0,void(this.touchLocked=!1);if(!0===window.PhaserGlobal.disableWebAudio)return this.usingAudioTag=!0,void(this.touchLocked=!1)}if(window.PhaserGlobal&&window.PhaserGlobal.audioContext)this.context=window.PhaserGlobal.audioContext;else if(window.AudioContext)try{this.context=new window.AudioContext}catch(t){this.context=null,this.usingWebAudio=!1,this.touchLocked=!1}else if(window.webkitAudioContext)try{this.context=new window.webkitAudioContext}catch(t){this.context=null,this.usingWebAudio=!1,this.touchLocked=!1}if(null===this.context){if(void 0===window.Audio)return void(this.noAudio=!0);this.usingAudioTag=!0}else this.usingWebAudio=!0,void 0===this.context.createGain?this.masterGain=this.context.createGainNode():this.masterGain=this.context.createGain(),this._setGain(1),this.masterGain.connect(this.context.destination);this.noAudio||this.game.device.needsTouchUnlock()&&this.setTouchLock()},setTouchLock:function(){this.noAudio||window.PhaserGlobal&&!0===window.PhaserGlobal.disableAudio||(this.game.device.iOSVersion>8||this.game.device.chromeVersion>=55?this.game.input.addTouchLockCallback(this.unlock,this,!0):this.game.input.addTouchLockCallback(this.unlock,this),this.touchLocked=!0)},unlock:function(){if(this.noAudio||!this.touchLocked||null!==this._unlockSource)return!0;if(this.usingAudioTag)this.touchLocked=!1,this._unlockSource=null;else if(this.usingWebAudio){var t=this.context.createBuffer(1,1,22050);this._unlockSource=this.context.createBufferSource(),this._unlockSource.buffer=t,this._unlockSource.connect(this.context.destination),void 0===this._unlockSource.start?this._unlockSource.noteOn(0):this._unlockSource.start(0),"suspended"===this._unlockSource.context.state&&this._unlockSource.context.resume()}return!0},stopAll:function(){if(!this.noAudio)for(var t=0;t<this._sounds.length;t++)this._sounds[t]&&this._sounds[t].stop()},pauseAll:function(){if(!this.noAudio)for(var t=0;t<this._sounds.length;t++)this._sounds[t]&&this._sounds[t].pause()},resumeAll:function(){if(!this.noAudio)for(var t=0;t<this._sounds.length;t++)this._sounds[t]&&this._sounds[t].resume()},decode:function(t,e){e=e||null;var i=this.game.cache.getSoundData(t);if(i&&!1===this.game.cache.isSoundDecoded(t)){this.game.cache.updateSound(t,"isDecoding",!0);var s=this;try{this.context.decodeAudioData(i,function(i){i&&(s.game.cache.decodedSound(t,i),s.onSoundDecode.dispatch(t,e))})}catch(t){}}},setDecodedCallback:function(t,e,s){"string"==typeof t&&(t=[t]),this._watchList.reset();for(var n=0;n<t.length;n++)t[n]instanceof i.Sound?this.game.cache.isSoundDecoded(t[n].key)||this._watchList.add(t[n].key):this.game.cache.isSoundDecoded(t[n])||this._watchList.add(t[n]);0===this._watchList.total?(this._watching=!1,e.call(s)):(this._watching=!0,this._watchCallback=e,this._watchContext=s)},update:function(){if(!this.noAudio){!this.touchLocked||null===this._unlockSource||this._unlockSource.playbackState!==this._unlockSource.PLAYING_STATE&&this._unlockSource.playbackState!==this._unlockSource.FINISHED_STATE||(this.touchLocked=!1,this._unlockSource=null);for(var t=0;t<this._sounds.length;t++)this._sounds[t].update();if(this._watching){for(var e=this._watchList.first;e;)this.game.cache.isSoundDecoded(e)&&this._watchList.remove(e),e=this._watchList.next;0===this._watchList.total&&(this._watching=!1,this._watchCallback.call(this._watchContext))}}},add:function(t,e,s,n){void 0===e&&(e=1),void 0===s&&(s=!1),void 0===n&&(n=this.connectToMaster);var o=new i.Sound(this.game,t,e,s,n);return this._sounds.push(o),o},addSprite:function(t){return new i.AudioSprite(this.game,t)},remove:function(t){for(var e=this._sounds.length;e--;)if(this._sounds[e]===t)return this._sounds[e].destroy(!1),this._sounds.splice(e,1),!0;return!1},removeByKey:function(t){for(var e=this._sounds.length,i=0;e--;)this._sounds[e].key===t&&(this._sounds[e].destroy(!1),this._sounds.splice(e,1),i++);return i},play:function(t,e,i){if(!this.noAudio){var s=this.add(t,e,i);return s.play(),s}},setMute:function(){if(!this._muted){this._muted=!0,this.usingWebAudio&&(this._muteVolume=this.masterGain.gain.value,this._setGain(0));for(var t=0;t<this._sounds.length;t++)this._sounds[t].usingAudioTag&&(this._sounds[t].mute=!0);this.onMute.dispatch()}},unsetMute:function(){if(this._muted&&!this._codeMuted){this._muted=!1,this.usingWebAudio&&this._setGain(this._muteVolume);for(var t=0;t<this._sounds.length;t++)this._sounds[t].usingAudioTag&&(this._sounds[t].mute=!1);this.onUnMute.dispatch()}},destroy:function(){this.stopAll();for(var t=0;t<this._sounds.length;t++)this._sounds[t]&&this._sounds[t].destroy();this._sounds=[],this.onSoundDecode.dispose(),this.context&&(window.PhaserGlobal?window.PhaserGlobal.audioContext=this.context:this.context.close&&this.context.close())},_setGain:function(t){this.masterGain.gain.setTargetAtTime(t,0,.01)}},i.SoundManager.prototype.constructor=i.SoundManager,Object.defineProperty(i.SoundManager.prototype,"mute",{get:function(){return this._muted},set:function(t){if(t=t||!1){if(this._muted)return;this._codeMuted=!0,this.setMute()}else{if(!this._muted)return;this._codeMuted=!1,this.unsetMute()}}}),Object.defineProperty(i.SoundManager.prototype,"volume",{get:function(){return this._volume},set:function(t){if(t<0?t=0:t>1&&(t=1),this._volume!==t){if(this._volume=t,this.usingWebAudio)this._setGain(t);else for(var e=0;e<this._sounds.length;e++)this._sounds[e].usingAudioTag&&this._sounds[e].updateGlobalVolume(t);this.onVolumeChange.dispatch(t)}}}),i.ScaleManager=function(t,e,s){this.game=t,this.dom=i.DOM,this.grid=null,this.width=0,this.height=0,this.minWidth=null,this.maxWidth=null,this.minHeight=null,this.maxHeight=null,this.offset=new i.Point,this.forceLandscape=!1,this.forcePortrait=!1,this.incorrectOrientation=!1,this._pageAlignHorizontally=!1,this._pageAlignVertically=!1,this.onOrientationChange=new i.Signal,this.enterIncorrectOrientation=new i.Signal,this.leaveIncorrectOrientation=new i.Signal,this.hasPhaserSetFullScreen=!1,this.fullScreenTarget=null,this._createdFullScreenTarget=null,this.onFullScreenInit=new i.Signal,this.onFullScreenChange=new i.Signal,this.onFullScreenError=new i.Signal,this.screenOrientation=this.dom.getScreenOrientation(),this.scaleFactor=new i.Point(1,1),this.scaleFactorInversed=new i.Point(1,1),this.margin={left:0,top:0,right:0,bottom:0,x:0,y:0},this.bounds=new i.Rectangle,this.aspectRatio=0,this.sourceAspectRatio=0,this.event=null,this.windowConstraints={right:"layout",bottom:""},this.compatibility={supportsFullScreen:!1,orientationFallback:null,noMargins:!1,scrollTo:null,forceMinimumDocumentHeight:!1,canExpandParent:!0,clickTrampoline:""},this._scaleMode=i.ScaleManager.NO_SCALE,this._fullScreenScaleMode=i.ScaleManager.NO_SCALE,this.parentIsWindow=!1,this.parentNode=null,this.parentScaleFactor=new i.Point(1,1),this.trackParentInterval=2e3,this.onSizeChange=new i.Signal,this.onResize=null,this.onResizeContext=null,this._pendingScaleMode=null,this._fullScreenRestore=null,this._gameSize=new i.Rectangle,this._userScaleFactor=new i.Point(1,1),this._userScaleTrim=new i.Point(0,0),this._lastUpdate=0,this._updateThrottle=0,this._updateThrottleReset=100,this._parentBounds=new i.Rectangle,this._tempBounds=new i.Rectangle,this._lastReportedCanvasSize=new i.Rectangle,this._lastReportedGameSize=new i.Rectangle,this._booted=!1,t.config&&this.parseConfig(t.config),this.setupScale(e,s)},i.ScaleManager.EXACT_FIT=0,i.ScaleManager.NO_SCALE=1,i.ScaleManager.SHOW_ALL=2,i.ScaleManager.RESIZE=3,i.ScaleManager.USER_SCALE=4,i.ScaleManager.prototype={boot:function(){var t=this.compatibility;t.supportsFullScreen=this.game.device.fullscreen&&!this.game.device.cocoonJS,this.game.device.iPad||this.game.device.webApp||this.game.device.desktop||(this.game.device.android&&!this.game.device.chrome?t.scrollTo=new i.Point(0,1):t.scrollTo=new i.Point(0,0)),this.game.device.desktop?(t.orientationFallback="screen",t.clickTrampoline="when-not-mouse"):(t.orientationFallback="",t.clickTrampoline="");var e=this;this._orientationChange=function(t){return e.orientationChange(t)},this._windowResize=function(t){return e.windowResize(t)},window.addEventListener("orientationchange",this._orientationChange,!1),window.addEventListener("resize",this._windowResize,!1),this.compatibility.supportsFullScreen&&(this._fullScreenChange=function(t){return e.fullScreenChange(t)},this._fullScreenError=function(t){return e.fullScreenError(t)},document.addEventListener("webkitfullscreenchange",this._fullScreenChange,!1),document.addEventListener("mozfullscreenchange",this._fullScreenChange,!1),document.addEventListener("MSFullscreenChange",this._fullScreenChange,!1),document.addEventListener("fullscreenchange",this._fullScreenChange,!1),document.addEventListener("webkitfullscreenerror",this._fullScreenError,!1),document.addEventListener("mozfullscreenerror",this._fullScreenError,!1),document.addEventListener("MSFullscreenError",this._fullScreenError,!1),document.addEventListener("fullscreenerror",this._fullScreenError,!1)),this.game.onResume.add(this._gameResumed,this),this.dom.getOffset(this.game.canvas,this.offset),this.bounds.setTo(this.offset.x,this.offset.y,this.width,this.height),this.setGameSize(this.game.width,this.game.height),this.screenOrientation=this.dom.getScreenOrientation(this.compatibility.orientationFallback),i.FlexGrid&&(this.grid=new i.FlexGrid(this,this.width,this.height)),this._booted=!0,null!==this._pendingScaleMode&&(this.scaleMode=this._pendingScaleMode,this._pendingScaleMode=null)},parseConfig:function(t){void 0!==t.scaleMode&&(this._booted?this.scaleMode=t.scaleMode:this._pendingScaleMode=t.scaleMode),void 0!==t.fullScreenScaleMode&&(this.fullScreenScaleMode=t.fullScreenScaleMode),t.fullScreenTarget&&(this.fullScreenTarget=t.fullScreenTarget)},setupScale:function(t,e){var s,n=new i.Rectangle;""!==this.game.parent&&("string"==typeof this.game.parent?s=document.getElementById(this.game.parent):this.game.parent&&1===this.game.parent.nodeType&&(s=this.game.parent)),s?(this.parentNode=s,this.parentIsWindow=!1,this.getParentBounds(this._parentBounds),n.width=this._parentBounds.width,n.height=this._parentBounds.height,this.offset.set(this._parentBounds.x,this._parentBounds.y)):(this.parentNode=null,this.parentIsWindow=!0,n.width=this.dom.visualBounds.width,n.height=this.dom.visualBounds.height,this.offset.set(0,0));var o=0,r=0;"number"==typeof t?o=t:(this.parentScaleFactor.x=parseInt(t,10)/100,o=n.width*this.parentScaleFactor.x),"number"==typeof e?r=e:(this.parentScaleFactor.y=parseInt(e,10)/100,r=n.height*this.parentScaleFactor.y),o=Math.floor(o),r=Math.floor(r),this._gameSize.setTo(0,0,o,r),this.updateDimensions(o,r,!1)},_gameResumed:function(){this.queueUpdate(!0)},setGameSize:function(t,e){this._gameSize.setTo(0,0,t,e),this.currentScaleMode!==i.ScaleManager.RESIZE&&this.updateDimensions(t,e,!0),this.queueUpdate(!0)},setUserScale:function(t,e,i,s,n,o){this._userScaleFactor.setTo(t,e),this._userScaleTrim.setTo(0|i,0|s),void 0===n&&(n=!0),void 0===o&&(o=!0),n&&this.queueUpdate(o)},setResizeCallback:function(t,e){this.onResize=t,this.onResizeContext=e},signalSizeChange:function(){if(!i.Rectangle.sameDimensions(this,this._lastReportedCanvasSize)||!i.Rectangle.sameDimensions(this.game,this._lastReportedGameSize)){var t=this.width,e=this.height;this._lastReportedCanvasSize.setTo(0,0,t,e),this._lastReportedGameSize.setTo(0,0,this.game.width,this.game.height),this.grid&&this.grid.onResize(t,e),this.onSizeChange.dispatch(this,t,e),this.currentScaleMode===i.ScaleManager.RESIZE&&(this.game.state.resize(t,e),this.game.load.resize(t,e))}},setMinMax:function(t,e,i,s){this.minWidth=t,this.minHeight=e,void 0!==i&&(this.maxWidth=i),void 0!==s&&(this.maxHeight=s)},preUpdate:function(){if(!(this.game.time.time<this._lastUpdate+this._updateThrottle)){var t=this._updateThrottle;this._updateThrottleReset=t>=400?0:100,this.dom.getOffset(this.game.canvas,this.offset);var e=this._parentBounds.width,s=this._parentBounds.height,n=this.getParentBounds(this._parentBounds),o=n.width!==e||n.height!==s,r=this.updateOrientationState();(o||r)&&(this.onResize&&this.onResize.call(this.onResizeContext,this,n),this.updateLayout(),this.signalSizeChange());var a=2*this._updateThrottle;this._updateThrottle<t&&(a=Math.min(t,this._updateThrottleReset)),this._updateThrottle=i.Math.clamp(a,25,this.trackParentInterval),this._lastUpdate=this.game.time.time}},pauseUpdate:function(){this.preUpdate(),this._updateThrottle=this.trackParentInterval},updateDimensions:function(t,e,i){this.width=t*this.parentScaleFactor.x,this.height=e*this.parentScaleFactor.y,this.game.width=this.width,this.game.height=this.height,this.sourceAspectRatio=this.width/this.height,this.updateScalingAndBounds(),i&&(this.game.renderer.resize(this.width,this.height),this.game.camera.setSize(this.width,this.height),this.game.world.resize(this.width,this.height))},updateScalingAndBounds:function(){this.scaleFactor.x=this.game.width/this.width,this.scaleFactor.y=this.game.height/this.height,this.scaleFactorInversed.x=this.width/this.game.width,this.scaleFactorInversed.y=this.height/this.game.height,this.aspectRatio=this.width/this.height,this.game.canvas&&this.dom.getOffset(this.game.canvas,this.offset),this.bounds.setTo(this.offset.x,this.offset.y,this.width,this.height),this.game.input&&this.game.input.scale&&this.game.input.scale.setTo(this.scaleFactor.x,this.scaleFactor.y)},forceOrientation:function(t,e){void 0===e&&(e=!1),!0!==t||!0!==e?(this.forceLandscape=t,this.forcePortrait=e,this.queueUpdate(!0)):console.warn("Phaser.ScaleManager: forceLandscape and forcePortrait cannot both be true.")},classifyOrientation:function(t){return"portrait-primary"===t||"portrait-secondary"===t?"portrait":"landscape-primary"===t||"landscape-secondary"===t?"landscape":null},updateOrientationState:function(){var t=this.screenOrientation,e=this.incorrectOrientation;this.screenOrientation=this.dom.getScreenOrientation(this.compatibility.orientationFallback),this.incorrectOrientation=this.forceLandscape&&!this.isLandscape||this.forcePortrait&&!this.isPortrait;var i=t!==this.screenOrientation,s=e!==this.incorrectOrientation;return s&&(this.incorrectOrientation?this.enterIncorrectOrientation.dispatch():this.leaveIncorrectOrientation.dispatch()),(i||s)&&this.onOrientationChange.dispatch(this,t,e),i||s},orientationChange:function(t){this.event=t,this.queueUpdate(!0)},windowResize:function(t){this.event=t,this.queueUpdate(!0)},scrollTop:function(){var t=this.compatibility.scrollTo;t&&window.scrollTo(t.x,t.y)},refresh:function(){this.scrollTop(),this.queueUpdate(!0)},updateLayout:function(){var t=this.currentScaleMode;if(t!==i.ScaleManager.RESIZE){if(this.scrollTop(),this.compatibility.forceMinimumDocumentHeight&&(document.documentElement.style.minHeight=window.innerHeight+"px"),this.incorrectOrientation?this.setMaximum():t===i.ScaleManager.EXACT_FIT?this.setExactFit():t===i.ScaleManager.SHOW_ALL?!this.isFullScreen&&this.boundingParent&&this.compatibility.canExpandParent?(this.setShowAll(!0),this.resetCanvas(),this.setShowAll()):this.setShowAll():t===i.ScaleManager.NO_SCALE?(this.width=this.game.width,this.height=this.game.height):t===i.ScaleManager.USER_SCALE&&(this.width=this.game.width*this._userScaleFactor.x-this._userScaleTrim.x,this.height=this.game.height*this._userScaleFactor.y-this._userScaleTrim.y),!this.compatibility.canExpandParent&&(t===i.ScaleManager.SHOW_ALL||t===i.ScaleManager.USER_SCALE)){var e=this.getParentBounds(this._tempBounds);this.width=Math.min(this.width,e.width),this.height=Math.min(this.height,e.height)}this.width=0|this.width,this.height=0|this.height,this.reflowCanvas()}else this.reflowGame()},getParentBounds:function(t){var e=t||new i.Rectangle,s=this.boundingParent,n=this.dom.visualBounds,o=this.dom.layoutBounds;if(s){var r=s.getBoundingClientRect(),a=s.offsetParent?s.offsetParent.getBoundingClientRect():s.getBoundingClientRect();e.setTo(r.left-a.left,r.top-a.top,r.width,r.height);var h=this.windowConstraints;if(h.right){l="layout"===h.right?o:n;e.right=Math.min(e.right,l.width)}if(h.bottom){var l="layout"===h.bottom?o:n;e.bottom=Math.min(e.bottom,l.height)}}else e.setTo(0,0,n.width,n.height);return e.setTo(Math.round(e.x),Math.round(e.y),Math.round(e.width),Math.round(e.height)),e},align:function(t,e){null!=t&&(this.pageAlignHorizontally=t),null!=e&&(this.pageAlignVertically=e)},alignCanvas:function(t,e){var i=this.getParentBounds(this._tempBounds),s=this.game.canvas,n=this.margin;if(t){n.left=n.right=0;h=s.getBoundingClientRect();if(this.width<i.width&&!this.incorrectOrientation){var o=h.left-i.x,r=i.width/2-this.width/2,a=(r=Math.max(r,0))-o;n.left=Math.round(a)}s.style.marginLeft=n.left+"px",0!==n.left&&(n.right=-(i.width-h.width-n.left),s.style.marginRight=n.right+"px")}if(e){n.top=n.bottom=0;var h=s.getBoundingClientRect();if(this.height<i.height&&!this.incorrectOrientation){var o=h.top-i.y,r=i.height/2-this.height/2,a=(r=Math.max(r,0))-o;n.top=Math.round(a)}s.style.marginTop=n.top+"px",0!==n.top&&(n.bottom=-(i.height-h.height-n.top),s.style.marginBottom=n.bottom+"px")}n.x=n.left,n.y=n.top},reflowGame:function(){this.resetCanvas("","");var t=this.getParentBounds(this._tempBounds);this.updateDimensions(t.width,t.height,!0)},reflowCanvas:function(){this.incorrectOrientation||(this.width=i.Math.clamp(this.width,this.minWidth||0,this.maxWidth||this.width),this.height=i.Math.clamp(this.height,this.minHeight||0,this.maxHeight||this.height)),this.resetCanvas(),this.compatibility.noMargins||(this.isFullScreen&&this._createdFullScreenTarget?this.alignCanvas(!0,!0):this.alignCanvas(this.pageAlignHorizontally,this.pageAlignVertically)),this.updateScalingAndBounds()},resetCanvas:function(t,e){void 0===t&&(t=this.width+"px"),void 0===e&&(e=this.height+"px");var i=this.game.canvas;this.compatibility.noMargins||(i.style.marginLeft="",i.style.marginTop="",i.style.marginRight="",i.style.marginBottom=""),i.style.width=t,i.style.height=e},queueUpdate:function(t){t&&(this._parentBounds.width=0,this._parentBounds.height=0),this._updateThrottle=this._updateThrottleReset},reset:function(t){t&&this.grid&&this.grid.reset()},setMaximum:function(){this.width=this.dom.visualBounds.width,this.height=this.dom.visualBounds.height},setShowAll:function(t){var e,i=this.getParentBounds(this._tempBounds),s=i.width,n=i.height;e=t?Math.max(n/this.game.height,s/this.game.width):Math.min(n/this.game.height,s/this.game.width),this.width=Math.round(this.game.width*e),this.height=Math.round(this.game.height*e)},setExactFit:function(){var t=this.getParentBounds(this._tempBounds);this.width=t.width,this.height=t.height,this.isFullScreen||(this.maxWidth&&(this.width=Math.min(this.width,this.maxWidth)),this.maxHeight&&(this.height=Math.min(this.height,this.maxHeight)))},createFullScreenTarget:function(){var t=document.createElement("div");return t.style.margin="0",t.style.padding="0",t.style.background="#000",t},startFullScreen:function(t,e){if(this.isFullScreen)return!1;{if(this.compatibility.supportsFullScreen){if("when-not-mouse"===this.compatibility.clickTrampoline){var s=this.game.input;if(s.activePointer&&s.activePointer!==s.mousePointer&&(e||!1!==e))return void s.activePointer.addClickTrampoline("startFullScreen",this.startFullScreen,this,[t,!1])}void 0!==t&&this.game.renderType===i.CANVAS&&(this.game.stage.smoothed=t);var n=this.fullScreenTarget;n||(this.cleanupCreatedTarget(),this._createdFullScreenTarget=this.createFullScreenTarget(),n=this._createdFullScreenTarget);var o={targetElement:n};if(this.hasPhaserSetFullScreen=!0,this.onFullScreenInit.dispatch(this,o),this._createdFullScreenTarget){var r=this.game.canvas;r.parentNode.insertBefore(n,r),n.appendChild(r)}return this.game.device.fullscreenKeyboard?n[this.game.device.requestFullscreen](Element.ALLOW_KEYBOARD_INPUT):n[this.game.device.requestFullscreen](),!0}var a=this;setTimeout(function(){a.fullScreenError()},10)}},stopFullScreen:function(){return!(!this.isFullScreen||!this.compatibility.supportsFullScreen)&&(this.hasPhaserSetFullScreen=!1,document[this.game.device.cancelFullscreen](),!0)},cleanupCreatedTarget:function(){var t=this._createdFullScreenTarget;if(t&&t.parentNode){var e=t.parentNode;e.insertBefore(this.game.canvas,t),e.removeChild(t)}this._createdFullScreenTarget=null},prepScreenMode:function(t){var e=!!this._createdFullScreenTarget,s=this._createdFullScreenTarget||this.fullScreenTarget;t?(e||this.fullScreenScaleMode===i.ScaleManager.EXACT_FIT)&&s!==this.game.canvas&&(this._fullScreenRestore={targetWidth:s.style.width,targetHeight:s.style.height},s.style.width="100%",s.style.height="100%"):(this._fullScreenRestore&&(s.style.width=this._fullScreenRestore.targetWidth,s.style.height=this._fullScreenRestore.targetHeight,this._fullScreenRestore=null),this.updateDimensions(this._gameSize.width,this._gameSize.height,!0),this.resetCanvas())},fullScreenChange:function(t){this.event=t,this.isFullScreen?(this.prepScreenMode(!0),this.updateLayout(),this.queueUpdate(!0)):(this.prepScreenMode(!1),this.cleanupCreatedTarget(),this.updateLayout(),this.queueUpdate(!0)),this.onFullScreenChange.dispatch(this,this.width,this.height)},fullScreenError:function(t){this.event=t,this.cleanupCreatedTarget(),console.warn("Phaser.ScaleManager: requestFullscreen failed or device does not support the Fullscreen API"),this.onFullScreenError.dispatch(this)},scaleSprite:function(t,e,i,s){if(void 0===e&&(e=this.width),void 0===i&&(i=this.height),void 0===s&&(s=!1),!t||!t.scale)return t;if(t.scale.x=1,t.scale.y=1,t.width<=0||t.height<=0||e<=0||i<=0)return t;var n=e,o=t.height*e/t.width,r=t.width*i/t.height,a=i,h=r>e;return(h=h?s:!s)?(t.width=Math.floor(n),t.height=Math.floor(o)):(t.width=Math.floor(r),t.height=Math.floor(a)),t},destroy:function(){this.game.onResume.remove(this._gameResumed,this),window.removeEventListener("orientationchange",this._orientationChange,!1),window.removeEventListener("resize",this._windowResize,!1),this.compatibility.supportsFullScreen&&(document.removeEventListener("webkitfullscreenchange",this._fullScreenChange,!1),document.removeEventListener("mozfullscreenchange",this._fullScreenChange,!1),document.removeEventListener("MSFullscreenChange",this._fullScreenChange,!1),document.removeEventListener("fullscreenchange",this._fullScreenChange,!1),document.removeEventListener("webkitfullscreenerror",this._fullScreenError,!1),document.removeEventListener("mozfullscreenerror",this._fullScreenError,!1),document.removeEventListener("MSFullscreenError",this._fullScreenError,!1),document.removeEventListener("fullscreenerror",this._fullScreenError,!1))}},i.ScaleManager.prototype.constructor=i.ScaleManager,Object.defineProperty(i.ScaleManager.prototype,"boundingParent",{get:function(){return this.parentIsWindow||this.isFullScreen&&this.hasPhaserSetFullScreen&&!this._createdFullScreenTarget?null:this.game.canvas&&this.game.canvas.parentNode||null}}),Object.defineProperty(i.ScaleManager.prototype,"scaleMode",{get:function(){return this._scaleMode},set:function(t){return t!==this._scaleMode&&(this.isFullScreen||(this.updateDimensions(this._gameSize.width,this._gameSize.height,!0),this.queueUpdate(!0)),this._scaleMode=t),this._scaleMode}}),Object.defineProperty(i.ScaleManager.prototype,"fullScreenScaleMode",{get:function(){return this._fullScreenScaleMode},set:function(t){return t!==this._fullScreenScaleMode&&(this.isFullScreen?(this.prepScreenMode(!1),this._fullScreenScaleMode=t,this.prepScreenMode(!0),this.queueUpdate(!0)):this._fullScreenScaleMode=t),this._fullScreenScaleMode}}),Object.defineProperty(i.ScaleManager.prototype,"currentScaleMode",{get:function(){return this.isFullScreen?this._fullScreenScaleMode:this._scaleMode}}),Object.defineProperty(i.ScaleManager.prototype,"pageAlignHorizontally",{get:function(){return this._pageAlignHorizontally},set:function(t){t!==this._pageAlignHorizontally&&(this._pageAlignHorizontally=t,this.queueUpdate(!0))}}),Object.defineProperty(i.ScaleManager.prototype,"pageAlignVertically",{get:function(){return this._pageAlignVertically},set:function(t){t!==this._pageAlignVertically&&(this._pageAlignVertically=t,this.queueUpdate(!0))}}),Object.defineProperty(i.ScaleManager.prototype,"isFullScreen",{get:function(){return!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)}}),Object.defineProperty(i.ScaleManager.prototype,"isPortrait",{get:function(){return"portrait"===this.classifyOrientation(this.screenOrientation)}}),Object.defineProperty(i.ScaleManager.prototype,"isLandscape",{get:function(){return"landscape"===this.classifyOrientation(this.screenOrientation)}}),Object.defineProperty(i.ScaleManager.prototype,"isGamePortrait",{get:function(){return this.height>this.width}}),Object.defineProperty(i.ScaleManager.prototype,"isGameLandscape",{get:function(){return this.width>this.height}}),i.Utils.Debug=function(t){this.game=t,this.sprite=null,this.bmd=null,this.canvas=null,this.context=null,this.font="14px Courier",this.columnWidth=100,this.lineHeight=16,this.lineWidth=1,this.renderShadow=!0,this.currentX=0,this.currentY=0,this.currentAlpha=1,this.dirty=!1,this.isDisabled=!1,this._line=null,this._rect=null},i.Utils.Debug.prototype={boot:function(){this.game.renderType===i.CANVAS?this.context=this.game.context:(this.bmd=new i.BitmapData(this.game,"__DEBUG",this.game.width,this.game.height,!0),this.sprite=this.game.make.image(0,0,this.bmd),this.game.stage.addChild(this.sprite),this.game.scale.onSizeChange.add(this.resize,this),this.canvas=i.CanvasPool.create(this,this.game.width,this.game.height),this.context=this.canvas.getContext("2d")),this._line=new i.Line,this._rect=new i.Rectangle},resize:function(){this.bmd.resize(this.game.width,this.game.height),this.canvas.width=this.game.width,this.canvas.height=this.game.height},preUpdate:function(){this.dirty&&this.sprite&&(this.bmd.clear(),this.bmd.draw(this.canvas,0,0),this.context.clearRect(0,0,this.game.width,this.game.height),this.dirty=!1)},reset:function(){this.context&&this.context.clearRect(0,0,this.game.width,this.game.height),this.sprite&&this.bmd.clear()},start:function(t,e,i,s){"number"!=typeof t&&(t=0),"number"!=typeof e&&(e=0),i=i||"rgb(255,255,255)",void 0===s&&(s=0),this.currentX=t,this.currentY=e,this.currentColor=i,this.columnWidth=s,this.dirty=!0,this.context.save(),this.context.setTransform(1,0,0,1,0,0),this.context.strokeStyle=i,this.context.fillStyle=i,this.context.font=this.font,this.context.globalAlpha=this.currentAlpha},stop:function(){this.context.restore()},line:function(){for(var t=this.currentX,e=0;e<arguments.length;e++)this.renderShadow&&(this.context.fillStyle="rgb(0,0,0)",this.context.fillText(arguments[e],t+1,this.currentY+1),this.context.fillStyle=this.currentColor),this.context.fillText(arguments[e],t,this.currentY),t+=this.columnWidth;this.currentY+=this.lineHeight},soundInfo:function(t,e,i,s){this.start(e,i,s),this.line("Sound: "+t.key+" Locked: "+t.game.sound.touchLocked),this.line("Is Ready?: "+this.game.cache.isSoundReady(t.key)+" Pending Playback: "+t.pendingPlayback),this.line("Decoded: "+t.isDecoded+" Decoding: "+t.isDecoding),this.line("Total Duration: "+t.totalDuration+" Playing: "+t.isPlaying),this.line("Time: "+t.currentTime),this.line("Volume: "+t.volume+" Muted: "+t.mute),this.line("WebAudio: "+t.usingWebAudio+" Audio: "+t.usingAudioTag),""!==t.currentMarker&&(this.line("Marker: "+t.currentMarker+" Duration: "+t.duration+" (ms: "+t.durationMS+")"),this.line("Start: "+t.markers[t.currentMarker].start+" Stop: "+t.markers[t.currentMarker].stop),this.line("Position: "+t.position)),this.stop()},camera:function(t,e,i){var s=t.deadzone,n=t.target,o=t.view;s&&(this._rect.setTo(o.x+s.x,o.y+s.y,s.width,s.height),this.rectangle(this._rect,e,i)),n&&(this._line.setTo(o.centerX,o.centerY,n.x,n.y),this.geom(this._line,e,i),this.geom(n,e,!1,3))},cameraInfo:function(t,e,i,s){var n=t.bounds,o=t.deadzone,r=t.target,a=t.view;this.start(e,i,s),this.line("Camera ("+t.width+" x "+t.height+")"),this.line("x: "+t.x+" y: "+t.y),n&&this.line("Bounds x: "+n.x+" y: "+n.y+" w: "+n.width+" h: "+n.height),this.line("View x: "+a.x+" y: "+a.y+" w: "+a.width+" h: "+a.height),this.line("Deadzone: "+(o?"x: "+o.x+" y: "+o.y+" w: "+o.width+" h: "+o.height:o)),this.line("Total in view: "+t.totalInView),this.line("At limit: x: "+t.atLimit.x+" y: "+t.atLimit.y),this.line("Target: "+(r?r.name||r:r)),this.stop()},timer:function(t,e,i,s){this.start(e,i,s),this.line("Timer (running: "+t.running+" expired: "+t.expired+")"),this.line("Next Tick: "+t.next+" Duration: "+t.duration),this.line("Paused: "+t.paused+" Length: "+t.length),this.stop()},pointer:function(t,e,i,s,n){null!=t&&(void 0===e&&(e=!1),i=i||"rgba(0,255,0,0.5)",s=s||"rgba(255,0,0,0.5)",!0===e&&!0===t.isUp||(this.start(t.x,t.y-100,n),this.context.beginPath(),this.context.arc(t.x,t.y,t.circle.radius,0,2*Math.PI),t.active?this.context.fillStyle=i:this.context.fillStyle=s,this.context.fill(),this.context.closePath(),this.context.beginPath(),this.context.moveTo(t.positionDown.x,t.positionDown.y),this.context.lineTo(t.position.x,t.position.y),this.context.lineWidth=2,this.context.stroke(),this.context.closePath(),this.line("ID: "+t.id+" Active: "+t.active),this.line("World X: "+t.worldX+" World Y: "+t.worldY),this.line("Screen X: "+t.x+" Screen Y: "+t.y+" In: "+t.withinGame),this.line("Duration: "+t.duration+" ms"),this.line("is Down: "+t.isDown+" is Up: "+t.isUp),this.stop()))},spriteInputInfo:function(t,e,i,s){this.start(e,i,s),this.line("Sprite Input: ("+t.width+" x "+t.height+")"),this.line("x: "+t.input.pointerX().toFixed(1)+" y: "+t.input.pointerY().toFixed(1)),this.line("over: "+t.input.pointerOver()+" duration: "+t.input.overDuration().toFixed(0)),this.line("down: "+t.input.pointerDown()+" duration: "+t.input.downDuration().toFixed(0)),this.line("just over: "+t.input.justOver()+" just out: "+t.input.justOut()),this.stop()},key:function(t,e,i,s){this.start(e,i,s,150),this.line("Key:",t.keyCode,"isDown:",t.isDown),this.line("justDown:",t.justDown,"justUp:",t.justUp),this.line("Time Down:",t.timeDown.toFixed(0),"duration:",t.duration.toFixed(0)),this.stop()},inputInfo:function(t,e,i){this.start(t,e,i),this.line("Input"),this.line("X: "+this.game.input.x+" Y: "+this.game.input.y),this.line("World X: "+this.game.input.worldX+" World Y: "+this.game.input.worldY),this.line("Scale X: "+this.game.input.scale.x.toFixed(1)+" Scale Y: "+this.game.input.scale.x.toFixed(1)),this.line("Screen X: "+this.game.input.activePointer.screenX+" Screen Y: "+this.game.input.activePointer.screenY),this.stop()},spriteBounds:function(t,e,i){var s=t.getBounds();s.x+=this.game.camera.x,s.y+=this.game.camera.y,this.rectangle(s,e,i)},ropeSegments:function(t,e,i){var s=this;t.segments.forEach(function(t){s.rectangle(t,e,i)},this)},spriteInfo:function(t,e,i,s){this.start(e,i,s),this.line("Sprite:  ("+t.width+" x "+t.height+") anchor: "+t.anchor.x+" x "+t.anchor.y),this.line("x: "+t.x.toFixed(1)+" y: "+t.y.toFixed(1)),this.line("angle: "+t.angle.toFixed(1)+" rotation: "+t.rotation.toFixed(1)),this.line("visible: "+t.visible+" in camera: "+t.inCamera),this.line("bounds x: "+t._bounds.x.toFixed(1)+" y: "+t._bounds.y.toFixed(1)+" w: "+t._bounds.width.toFixed(1)+" h: "+t._bounds.height.toFixed(1)),this.stop()},spriteCoords:function(t,e,i,s){this.start(e,i,s,100),t.name&&this.line(t.name),this.line("x:",t.x.toFixed(2),"y:",t.y.toFixed(2)),this.line("pos x:",t.position.x.toFixed(2),"pos y:",t.position.y.toFixed(2)),this.line("world x:",t.world.x.toFixed(2),"world y:",t.world.y.toFixed(2)),this.stop()},lineInfo:function(t,e,i,s){this.start(e,i,s,80),this.line("start.x:",t.start.x.toFixed(2),"start.y:",t.start.y.toFixed(2)),this.line("end.x:",t.end.x.toFixed(2),"end.y:",t.end.y.toFixed(2)),this.line("length:",t.length.toFixed(2),"angle:",t.angle),this.stop()},pixel:function(t,e,i,s){s=s||2,this.start(),this.context.fillStyle=i,this.context.fillRect(t,e,s,s),this.stop()},geom:function(t,e,s,n){void 0===s&&(s=!0),void 0===n&&(n=0),e=e||"rgba(0,255,0,0.4)",this.start(),this.context.fillStyle=e,this.context.strokeStyle=e,this.context.lineWidth=this.lineWidth,t instanceof i.Rectangle||1===n?s?this.context.fillRect(t.x-this.game.camera.x,t.y-this.game.camera.y,t.width,t.height):this.context.strokeRect(t.x-this.game.camera.x,t.y-this.game.camera.y,t.width,t.height):t instanceof i.Circle||2===n?(this.context.beginPath(),this.context.arc(t.x-this.game.camera.x,t.y-this.game.camera.y,t.radius,0,2*Math.PI,!1),this.context.closePath(),s?this.context.fill():this.context.stroke()):t instanceof i.Point||3===n?this.context.fillRect(t.x-this.game.camera.x,t.y-this.game.camera.y,4,4):t instanceof i.Line||4===n?(this.context.beginPath(),this.context.moveTo(t.start.x+.5-this.game.camera.x,t.start.y+.5-this.game.camera.y),this.context.lineTo(t.end.x+.5-this.game.camera.x,t.end.y+.5-this.game.camera.y),this.context.closePath(),this.context.stroke()):(t instanceof i.Ellipse||5===n)&&(this.context.beginPath(),this.context.ellipse(t.x-this.game.camera.x,t.y-this.game.camera.y,t.width/2,t.height/2,0,2*Math.PI,!1),this.context.closePath(),s?this.context.fill():this.context.stroke()),this.stop()},rectangle:function(t,e,i){void 0===i&&(i=!0),e=e||"rgba(0, 255, 0, 0.4)",this.start(),i?(this.context.fillStyle=e,this.context.fillRect(t.x-this.game.camera.x,t.y-this.game.camera.y,t.width,t.height)):(this.context.lineWidth=this.lineWidth,this.context.strokeStyle=e,this.context.strokeRect(t.x-this.game.camera.x,t.y-this.game.camera.y,t.width,t.height)),this.stop()},text:function(t,e,i,s,n){s=s||"rgb(255,255,255)",n=n||"16px Courier",this.start(),this.context.font=n,this.renderShadow&&(this.context.fillStyle="rgb(0,0,0)",this.context.fillText(t,e+1,i+1)),this.context.fillStyle=s,this.context.fillText(t,e,i),this.stop()},quadTree:function(t,e){e=e||"rgba(255,0,0,0.3)",this.start();var i=t.bounds;if(0===t.nodes.length){this.context.strokeStyle=e,this.context.strokeRect(i.x,i.y,i.width,i.height),this.text("size: "+t.objects.length,i.x+4,i.y+16,"rgb(0,200,0)","12px Courier"),this.context.strokeStyle="rgb(0,255,0)";for(s=0;s<t.objects.length;s++)this.context.strokeRect(t.objects[s].x,t.objects[s].y,t.objects[s].width,t.objects[s].height)}else for(var s=0;s<t.nodes.length;s++)this.quadTree(t.nodes[s]);this.stop()},body:function(t,e,s){t.body&&(this.start(),t.body.type===i.Physics.ARCADE?i.Physics.Arcade.Body.render(this.context,t.body,e,s,this.lineWidth):t.body.type===i.Physics.NINJA?i.Physics.Ninja.Body.render(this.context,t.body,e,s):t.body.type===i.Physics.BOX2D&&i.Physics.Box2D.renderBody(this.context,t.body,e),this.stop())},bodyInfo:function(t,e,s,n){t.body&&(this.start(e,s,n,210),t.body.type===i.Physics.ARCADE?i.Physics.Arcade.Body.renderBodyInfo(this,t.body):t.body.type===i.Physics.BOX2D&&this.game.physics.box2d.renderBodyInfo(this,t.body),this.stop())},box2dWorld:function(){this.start(),this.context.translate(-this.game.camera.view.x,-this.game.camera.view.y,0),this.game.physics.box2d.renderDebugDraw(this.context),this.stop()},box2dBody:function(t,e){this.start(),i.Physics.Box2D.renderBody(this.context,t,e),this.stop()},displayList:function(t){if(void 0===t&&(t=this.game.world),t.hasOwnProperty("renderOrderID")?console.log("["+t.renderOrderID+"]",t):console.log("[]",t),t.children&&t.children.length>0)for(var e=0;e<t.children.length;e++)this.game.debug.displayList(t.children[e])},renderer:function(t,e,i){var s=this.game.renderer,n=s.renderSession;if(this.start(t,e,i),this.line((s.gl?"WebGL":"Canvas")+" Renderer ("+s.width+" x "+s.height+")"),this.line("autoResize: "+s.autoResize),this.line("clearBeforeRender: "+s.clearBeforeRender),this.line("resolution: "+s.resolution),this.line("transparent: "+s.transparent),this.line("renderSession:"),s.gl){this.line("  currentBatchedTextures: ("+s.currentBatchedTextures.length+")");for(var o=0;o<s.currentBatchedTextures.length;o++)this.line("    "+s.currentBatchedTextures[o]);this.line("  drawCount: "+n.drawCount),this.line("  maxTextures: "+s.maxTextures),this.line("  maxTextureSize: "+s.maxTextureSize),this.line("  maxTextureAvailableSpace: "+n.maxTextureAvailableSpace),this.line("  roundPixels: "+n.roundPixels)}else this.line("  roundPixels: "+n.roundPixels),this.line("  scaleMode: "+(0===n.scaleMode?"LINEAR":1===n.scaleMode?"NEAREST":n.scaleMode));this.stop()},canvasPool:function(t,e,s,n){var o=i.CanvasPool;this.start(t,e,s,n||100),this.line("Canvas Pool"),this.line("Used:",o.getTotal()),this.line("Free:",o.getFree()),this.line("Total:",o.length),this.stop()},physicsGroup:function(t,e,i,s){t.forEach(this.body,this,s,e,i)},phaser:function(t,e,s){this.text("Phaser v"+i.VERSION+" "+(this.game.renderType===i.WEBGL?"WebGL":"Canvas")+" "+(this.game.device.webAudio?"WebAudio":"HTML Audio"),t,e,s,this.font)},destroy:function(){i.CanvasPool.remove(this)}},i.Utils.Debug.prototype.constructor=i.Utils.Debug,i.DOM={getOffset:function(t,e){e=e||new i.Point;var s=t.getBoundingClientRect(),n=i.DOM.scrollY,o=i.DOM.scrollX,r=document.documentElement.clientTop,a=document.documentElement.clientLeft;return e.x=s.left+o-a,e.y=s.top+n-r,e},getBounds:function(t,e){return void 0===e&&(e=0),!(!(t=t&&!t.nodeType?t[0]:t)||1!==t.nodeType)&&this.calibrate(t.getBoundingClientRect(),e)},calibrate:function(t,e){e=+e||0;var i={width:0,height:0,left:0,right:0,top:0,bottom:0};return i.width=(i.right=t.right+e)-(i.left=t.left-e),i.height=(i.bottom=t.bottom+e)-(i.top=t.top-e),i},getAspectRatio:function(t){var e=(t=null==t?this.visualBounds:1===t.nodeType?this.getBounds(t):t).width,i=t.height;return"function"==typeof e&&(e=e.call(t)),"function"==typeof i&&(i=i.call(t)),e/i},inLayoutViewport:function(t,e){var i=this.getBounds(t,e);return!!i&&i.bottom>=0&&i.right>=0&&i.top<=this.layoutBounds.width&&i.left<=this.layoutBounds.height},getScreenOrientation:function(t){var e=window.screen,i=e.orientation||e.mozOrientation||e.msOrientation;if(i&&"string"==typeof i.type)return i.type;if("string"==typeof i)return i;var s="portrait-primary",n="landscape-primary";if("screen"===t)return e.height>e.width?s:n;if("viewport"===t)return this.visualBounds.height>this.visualBounds.width?s:n;if("window.orientation"===t&&"number"==typeof window.orientation)return 0===window.orientation||180===window.orientation?s:n;if(window.matchMedia){if(window.matchMedia("(orientation: portrait)").matches)return s;if(window.matchMedia("(orientation: landscape)").matches)return n}return this.visualBounds.height>this.visualBounds.width?s:n},visualBounds:new i.Rectangle,layoutBounds:new i.Rectangle,documentBounds:new i.Rectangle},i.Device.whenReady(function(t){var e=window&&"pageXOffset"in window?function(){return window.pageXOffset}:function(){return document.documentElement.scrollLeft},s=window&&"pageYOffset"in window?function(){return window.pageYOffset}:function(){return document.documentElement.scrollTop};if(Object.defineProperty(i.DOM,"scrollX",{get:e}),Object.defineProperty(i.DOM,"scrollY",{get:s}),Object.defineProperty(i.DOM.visualBounds,"x",{get:e}),Object.defineProperty(i.DOM.visualBounds,"y",{get:s}),Object.defineProperty(i.DOM.layoutBounds,"x",{value:0}),Object.defineProperty(i.DOM.layoutBounds,"y",{value:0}),t.desktop&&document.documentElement.clientWidth<=window.innerWidth&&document.documentElement.clientHeight<=window.innerHeight){var n=function(){return Math.max(window.innerWidth,document.documentElement.clientWidth)},o=function(){return Math.max(window.innerHeight,document.documentElement.clientHeight)};Object.defineProperty(i.DOM.visualBounds,"width",{get:n}),Object.defineProperty(i.DOM.visualBounds,"height",{get:o}),Object.defineProperty(i.DOM.layoutBounds,"width",{get:n}),Object.defineProperty(i.DOM.layoutBounds,"height",{get:o})}else Object.defineProperty(i.DOM.visualBounds,"width",{get:function(){return window.innerWidth}}),Object.defineProperty(i.DOM.visualBounds,"height",{get:function(){return window.innerHeight}}),Object.defineProperty(i.DOM.layoutBounds,"width",{get:function(){var t=document.documentElement.clientWidth,e=window.innerWidth;return t<e?e:t}}),Object.defineProperty(i.DOM.layoutBounds,"height",{get:function(){var t=document.documentElement.clientHeight,e=window.innerHeight;return t<e?e:t}});Object.defineProperty(i.DOM.documentBounds,"x",{value:0}),Object.defineProperty(i.DOM.documentBounds,"y",{value:0}),Object.defineProperty(i.DOM.documentBounds,"width",{get:function(){var t=document.documentElement;return Math.max(t.clientWidth,t.offsetWidth,t.scrollWidth)}}),Object.defineProperty(i.DOM.documentBounds,"height",{get:function(){var t=document.documentElement;return Math.max(t.clientHeight,t.offsetHeight,t.scrollHeight)}})},null,!0),i.ArraySet=function(t){this.position=0,this.list=t||[]},i.ArraySet.prototype={add:function(t){return this.exists(t)||this.list.push(t),t},getIndex:function(t){return this.list.indexOf(t)},getByKey:function(t,e){for(var i=this.list.length;i--;)if(this.list[i][t]===e)return this.list[i];return null},exists:function(t){return this.list.indexOf(t)>-1},reset:function(){this.list.length=0},remove:function(t){var e=this.list.indexOf(t);if(e>-1)return this.list.splice(e,1),t},setAll:function(t,e){for(var i=this.list.length;i--;)this.list[i]&&(this.list[i][t]=e)},callAll:function(t){for(var e=Array.prototype.slice.call(arguments,1),i=this.list.length;i--;)this.list[i]&&this.list[i][t]&&this.list[i][t].apply(this.list[i],e)},removeAll:function(t){void 0===t&&(t=!1);for(var e=this.list.length;e--;)if(this.list[e]){var i=this.remove(this.list[e]);t&&i.destroy()}this.position=0,this.list=[]}},Object.defineProperty(i.ArraySet.prototype,"total",{get:function(){return this.list.length}}),Object.defineProperty(i.ArraySet.prototype,"first",{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}}),Object.defineProperty(i.ArraySet.prototype,"next",{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}}),i.ArraySet.prototype.constructor=i.ArraySet,i.ArrayUtils={getRandomItem:function(t,e,i){if(null===t)return null;void 0===e&&(e=0),void 0===i&&(i=t.length);var s=e+Math.floor(Math.random()*i);return void 0===t[s]?null:t[s]},removeRandomItem:function(t,e,i){if(null==t)return null;void 0===e&&(e=0),void 0===i&&(i=t.length);var s=e+Math.floor(Math.random()*i);if(s<t.length){var n=t.splice(s,1);return void 0===n[0]?null:n[0]}return null},remove:function(t,e,i){var s=t.length;if(!(e>=s||0===i)){null==i&&(i=1);for(var n=s-i,o=e;o<n;++o)t[o]=t[o+i];t.length=n}},shuffle:function(t){for(var e=t.length-1;e>0;e--){var i=Math.floor(Math.random()*(e+1)),s=t[e];t[e]=t[i],t[i]=s}return t},transposeMatrix:function(t){for(var e=t.length,i=t[0].length,s=new Array(i),n=0;n<i;n++){s[n]=new Array(e);for(var o=e-1;o>-1;o--)s[n][o]=t[o][n]}return s},rotateMatrix:function(t,e){if("string"!=typeof e&&(e=(e%360+360)%360),90===e||-270===e||"rotateLeft"===e)t=(t=i.ArrayUtils.transposeMatrix(t)).reverse();else if(-90===e||270===e||"rotateRight"===e)t=t.reverse(),t=i.ArrayUtils.transposeMatrix(t);else if(180===Math.abs(e)||"rotate180"===e){for(var s=0;s<t.length;s++)t[s].reverse();t=t.reverse()}return t},findClosest:function(t,e){if(!e.length)return NaN;if(1===e.length||t<e[0])return e[0];for(var i=1;e[i]<t;)i++;var s=e[i-1],n=i<e.length?e[i]:Number.POSITIVE_INFINITY;return n-t<=t-s?n:s},rotateRight:function(t){var e=t.pop();return t.unshift(e),e},rotateLeft:function(t){var e=t.shift();return t.push(e),e},rotate:function(t){var e=t.shift();return t.push(e),e},numberArray:function(t,e){void 0!==e&&null!==e||(e=t,t=0);for(var i=[],s=t;s<=e;s++)i.push(s);return i},numberArrayStep:function(t,e,s){void 0!==t&&null!==t||(t=0),void 0!==e&&null!==e||(e=t,t=0),void 0===s&&(s=1);for(var n=[],o=Math.max(i.Math.roundAwayFromZero((e-t)/(s||1)),0),r=0;r<o;r++)n.push(t),t+=s;return n}},i.LinkedList=function(){this.next=null,this.prev=null,this.first=null,this.last=null,this.total=0},i.LinkedList.prototype={add:function(t){return 0===this.total&&null===this.first&&null===this.last?(this.first=t,this.last=t,this.next=t,t.prev=this,this.total++,t):(this.last.next=t,t.prev=this.last,this.last=t,this.total++,t)},reset:function(){this.first=null,this.last=null,this.next=null,this.prev=null,this.total=0},remove:function(t){if(1===this.total)return this.reset(),void(t.next=t.prev=null);t===this.first?this.first=this.first.next:t===this.last&&(this.last=this.last.prev),t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),t.next=t.prev=null,null===this.first&&(this.last=null),this.total--},callAll:function(t){if(this.first&&this.last){var e=this.first;do{e&&e[t]&&e[t].call(e),e=e.next}while(e!==this.last.next)}}},i.LinkedList.prototype.constructor=i.LinkedList,i.Create=function(t){this.game=t,this.bmd=null,this.canvas=null,this.ctx=null,this.palettes=[{0:"#000",1:"#9D9D9D",2:"#FFF",3:"#BE2633",4:"#E06F8B",5:"#493C2B",6:"#A46422",7:"#EB8931",8:"#F7E26B",9:"#2F484E",A:"#44891A",B:"#A3CE27",C:"#1B2632",D:"#005784",E:"#31A2F2",F:"#B2DCEF"},{0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#f5f4eb"},{0:"#000",1:"#2234d1",2:"#0c7e45",3:"#44aacc",4:"#8a3622",5:"#5c2e78",6:"#aa5c3d",7:"#b5b5b5",8:"#5e606e",9:"#4c81fb",A:"#6cd947",B:"#7be2f9",C:"#eb8a60",D:"#e23d69",E:"#ffd93f",F:"#fff"},{0:"#000",1:"#fff",2:"#8b4131",3:"#7bbdc5",4:"#8b41ac",5:"#6aac41",6:"#3931a4",7:"#d5de73",8:"#945a20",9:"#5a4100",A:"#bd736a",B:"#525252",C:"#838383",D:"#acee8b",E:"#7b73de",F:"#acacac"},{0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#fff"}]},i.Create.PALETTE_ARNE=0,i.Create.PALETTE_JMP=1,i.Create.PALETTE_CGA=2,i.Create.PALETTE_C64=3,i.Create.PALETTE_JAPANESE_MACHINE=4,i.Create.prototype={texture:function(t,e,i,s,n,o,r,a){void 0===i&&(i=8),void 0===s&&(s=i),void 0===n&&(n=0),void 0===o&&(o=!0);var h=e[0].length*i,l=e.length*s;null===this.bmd&&(this.bmd=this.game.make.bitmapData(),this.canvas=this.bmd.canvas,this.ctx=this.bmd.context),this.bmd.resize(h,l),this.bmd.clear();for(var c=0;c<e.length;c++)for(var u=e[c],d=0;d<u.length;d++){var p=u[d];"."!==p&&" "!==p&&(this.ctx.fillStyle=this.palettes[n][p],this.ctx.fillRect(d*i,c*s,i,s))}return o?this.bmd.generateTexture(t,r,a):this.copy()},grid:function(t,e,i,s,n,o,r,a,h){void 0===r&&(r=!0),null===this.bmd&&(this.bmd=this.game.make.bitmapData(),this.canvas=this.bmd.canvas,this.ctx=this.bmd.context),this.bmd.resize(e,i),this.ctx.fillStyle=o;for(var l=0;l<i;l+=n)this.ctx.fillRect(0,l,e,1);for(var c=0;c<e;c+=s)this.ctx.fillRect(c,0,1,i);return r?this.bmd.generateTexture(t,a,h):this.copy()},copy:function(t,e,i,s,n,o,r){return null==t&&(t=this.game.make.bitmapData()),t.resize(this.bmd.width,this.bmd.height),t.draw(this.bmd,e,i,s,n,o,r)}},i.Create.prototype.constructor=i.Create,i.FlexGrid=function(t,e,s){this.game=t.game,this.manager=t,this.width=e,this.height=s,this.boundsCustom=new i.Rectangle(0,0,e,s),this.boundsFluid=new i.Rectangle(0,0,e,s),this.boundsFull=new i.Rectangle(0,0,e,s),this.boundsNone=new i.Rectangle(0,0,e,s),this.positionCustom=new i.Point(0,0),this.positionFluid=new i.Point(0,0),this.positionFull=new i.Point(0,0),this.positionNone=new i.Point(0,0),this.scaleCustom=new i.Point(1,1),this.scaleFluid=new i.Point(1,1),this.scaleFluidInversed=new i.Point(1,1),this.scaleFull=new i.Point(1,1),this.scaleNone=new i.Point(1,1),this.customWidth=0,this.customHeight=0,this.customOffsetX=0,this.customOffsetY=0,this.ratioH=e/s,this.ratioV=s/e,this.multiplier=0,this.layers=[]},i.FlexGrid.prototype={setSize:function(t,e){this.width=t,this.height=e,this.ratioH=t/e,this.ratioV=e/t,this.scaleNone=new i.Point(1,1),this.boundsNone.width=this.width,this.boundsNone.height=this.height,this.refresh()},createCustomLayer:function(t,e,s,n){void 0===n&&(n=!0),this.customWidth=t,this.customHeight=e,this.boundsCustom.width=t,this.boundsCustom.height=e;var o=new i.FlexLayer(this,this.positionCustom,this.boundsCustom,this.scaleCustom);return n&&this.game.world.add(o),this.layers.push(o),void 0!==s&&null!==typeof s&&o.addMultiple(s),o},createFluidLayer:function(t,e){void 0===e&&(e=!0);var s=new i.FlexLayer(this,this.positionFluid,this.boundsFluid,this.scaleFluid);return e&&this.game.world.add(s),this.layers.push(s),void 0!==t&&null!==typeof t&&s.addMultiple(t),s},createFullLayer:function(t){var e=new i.FlexLayer(this,this.positionFull,this.boundsFull,this.scaleFluid);return this.game.world.add(e),this.layers.push(e),void 0!==t&&e.addMultiple(t),e},createFixedLayer:function(t){var e=new i.FlexLayer(this,this.positionNone,this.boundsNone,this.scaleNone);return this.game.world.add(e),this.layers.push(e),void 0!==t&&e.addMultiple(t),e},reset:function(){for(var t=this.layers.length;t--;)this.layers[t].persist||(this.layers[t].position=null,this.layers[t].scale=null,this.layers.slice(t,1))},onResize:function(t,e){this.ratioH=t/e,this.ratioV=e/t,this.refresh(t,e)},refresh:function(){this.multiplier=Math.min(this.manager.height/this.height,this.manager.width/this.width),this.boundsFluid.width=Math.round(this.width*this.multiplier),this.boundsFluid.height=Math.round(this.height*this.multiplier),this.scaleFluid.set(this.boundsFluid.width/this.width,this.boundsFluid.height/this.height),this.scaleFluidInversed.set(this.width/this.boundsFluid.width,this.height/this.boundsFluid.height),this.scaleFull.set(this.boundsFull.width/this.width,this.boundsFull.height/this.height),this.boundsFull.width=Math.round(this.manager.width*this.scaleFluidInversed.x),this.boundsFull.height=Math.round(this.manager.height*this.scaleFluidInversed.y),this.boundsFluid.centerOn(this.manager.bounds.centerX,this.manager.bounds.centerY),this.boundsNone.centerOn(this.manager.bounds.centerX,this.manager.bounds.centerY),this.positionFluid.set(this.boundsFluid.x,this.boundsFluid.y),this.positionNone.set(this.boundsNone.x,this.boundsNone.y)},fitSprite:function(t){this.manager.scaleSprite(t),t.x=this.manager.bounds.centerX,t.y=this.manager.bounds.centerY},debug:function(){this.game.debug.text(this.boundsFluid.width+" x "+this.boundsFluid.height,this.boundsFluid.x+4,this.boundsFluid.y+16),this.game.debug.geom(this.boundsFluid,"rgba(255,0,0,0.9",!1)}},i.FlexGrid.prototype.constructor=i.FlexGrid,i.FlexLayer=function(t,e,s,n){i.Group.call(this,t.game,null,"__flexLayer"+t.game.rnd.uuid(),!1),this.manager=t.manager,this.grid=t,this.persist=!1,this.position=e,this.bounds=s,this.scale=n,this.topLeft=s.topLeft,this.topMiddle=new i.Point(s.halfWidth,0),this.topRight=s.topRight,this.bottomLeft=s.bottomLeft,this.bottomMiddle=new i.Point(s.halfWidth,s.bottom),this.bottomRight=s.bottomRight},i.FlexLayer.prototype=Object.create(i.Group.prototype),i.FlexLayer.prototype.constructor=i.FlexLayer,i.FlexLayer.prototype.resize=function(){},i.FlexLayer.prototype.debug=function(){this.game.debug.text(this.bounds.width+" x "+this.bounds.height,this.bounds.x+4,this.bounds.y+16),this.game.debug.geom(this.bounds,"rgba(0,0,255,0.9",!1),this.game.debug.geom(this.topLeft,"rgba(255,255,255,0.9"),this.game.debug.geom(this.topMiddle,"rgba(255,255,255,0.9"),this.game.debug.geom(this.topRight,"rgba(255,255,255,0.9")},i.Color={packPixel:function(t,e,s,n){return i.Device.LITTLE_ENDIAN?(n<<24|s<<16|e<<8|t)>>>0:(t<<24|e<<16|s<<8|n)>>>0},unpackPixel:function(t,e,s,n){return void 0!==e&&null!==e||(e=i.Color.createColor()),void 0!==s&&null!==s||(s=!1),void 0!==n&&null!==n||(n=!1),i.Device.LITTLE_ENDIAN?(e.a=(4278190080&t)>>>24,e.b=(16711680&t)>>>16,e.g=(65280&t)>>>8,e.r=255&t):(e.r=(4278190080&t)>>>24,e.g=(16711680&t)>>>16,e.b=(65280&t)>>>8,e.a=255&t),e.color=t,e.rgba="rgba("+e.r+","+e.g+","+e.b+","+e.a/255+")",s&&i.Color.RGBtoHSL(e.r,e.g,e.b,e),n&&i.Color.RGBtoHSV(e.r,e.g,e.b,e),e},fromRGBA:function(t,e){return e||(e=i.Color.createColor()),e.r=(4278190080&t)>>>24,e.g=(16711680&t)>>>16,e.b=(65280&t)>>>8,e.a=255&t,e.rgba="rgba("+e.r+","+e.g+","+e.b+","+e.a+")",e},toRGBA:function(t,e,i,s){return t<<24|e<<16|i<<8|s},toABGR:function(t,e,i,s){return(s<<24|i<<16|e<<8|t)>>>0},hexToRGBArray:function(t){return[(t>>16&255)/255,(t>>8&255)/255,(255&t)/255]},RGBArrayToHex:function(t){return(255*t[0]<<16)+(255*t[1]<<8)+255*t[2]},RGBtoHSL:function(t,e,s,n){n||(n=i.Color.createColor(t,e,s,1)),t/=255,e/=255,s/=255;var o=Math.min(t,e,s),r=Math.max(t,e,s);if(n.h=0,n.s=0,n.l=(r+o)/2,r!==o){var a=r-o;n.s=n.l>.5?a/(2-r-o):a/(r+o),r===t?n.h=(e-s)/a+(e<s?6:0):r===e?n.h=(s-t)/a+2:r===s&&(n.h=(t-e)/a+4),n.h/=6}return n},HSLtoRGB:function(t,e,s,n){if(n?(n.r=s,n.g=s,n.b=s):n=i.Color.createColor(s,s,s),0!==e){var o=s<.5?s*(1+e):s+e-s*e,r=2*s-o;n.r=i.Color.hueToColor(r,o,t+1/3),n.g=i.Color.hueToColor(r,o,t),n.b=i.Color.hueToColor(r,o,t-1/3)}return n.r=Math.floor(255*n.r|0),n.g=Math.floor(255*n.g|0),n.b=Math.floor(255*n.b|0),i.Color.updateColor(n),n},RGBtoHSV:function(t,e,s,n){n||(n=i.Color.createColor(t,e,s,255)),t/=255,e/=255,s/=255;var o=Math.min(t,e,s),r=Math.max(t,e,s),a=r-o;return n.h=0,n.s=0===r?0:a/r,n.v=r,r!==o&&(r===t?n.h=(e-s)/a+(e<s?6:0):r===e?n.h=(s-t)/a+2:r===s&&(n.h=(t-e)/a+4),n.h/=6),n},HSVtoRGB:function(t,e,s,n){void 0===n&&(n=i.Color.createColor(0,0,0,1,t,e,0,s));var o,r,a,h=Math.floor(6*t),l=6*t-h,c=s*(1-e),u=s*(1-l*e),d=s*(1-(1-l)*e);switch(h%6){case 0:o=s,r=d,a=c;break;case 1:o=u,r=s,a=c;break;case 2:o=c,r=s,a=d;break;case 3:o=c,r=u,a=s;break;case 4:o=d,r=c,a=s;break;case 5:o=s,r=c,a=u}return n.r=Math.floor(255*o),n.g=Math.floor(255*r),n.b=Math.floor(255*a),i.Color.updateColor(n),n},hueToColor:function(t,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+6*(e-t)*i:i<.5?e:i<2/3?t+(e-t)*(2/3-i)*6:t},createColor:function(t,e,s,n,o,r,a,h){var l={r:t||0,g:e||0,b:s||0,a:n||1,h:o||0,s:r||0,l:a||0,v:h||0,color:0,color32:0,rgba:""};return i.Color.updateColor(l)},updateColor:function(t){return t.rgba="rgba("+t.r.toFixed()+","+t.g.toFixed()+","+t.b.toFixed()+","+t.a.toString()+")",t.color=i.Color.getColor(t.r,t.g,t.b),t.color32=i.Color.getColor32(255*t.a,t.r,t.g,t.b),t},getColor32:function(t,e,i,s){return t<<24|e<<16|i<<8|s},getColor:function(t,e,i){return t<<16|e<<8|i},RGBtoString:function(t,e,s,n,o){return void 0===n&&(n=255),void 0===o&&(o="#"),"#"===o?"#"+((1<<24)+(t<<16)+(e<<8)+s).toString(16).slice(1):"0x"+i.Color.componentToHex(n)+i.Color.componentToHex(t)+i.Color.componentToHex(e)+i.Color.componentToHex(s)},hexToRGB:function(t){var e=i.Color.hexToColor(t);if(e)return i.Color.getColor32(e.a,e.r,e.g,e.b)},hexToColor:function(t,e){t=t.replace(/^(?:#|0x)?([a-f\d])([a-f\d])([a-f\d])$/i,function(t,e,i,s){return e+e+i+i+s+s});var s=/^(?:#|0x)?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);if(s){var n=parseInt(s[1],16),o=parseInt(s[2],16),r=parseInt(s[3],16);e?(e.r=n,e.g=o,e.b=r):e=i.Color.createColor(n,o,r)}return e},webToColor:function(t,e){e||(e=i.Color.createColor());var s=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d+(?:\.\d+)?))?\s*\)$/.exec(t);return s&&(e.r=~~Number(s[1]),e.g=~~Number(s[2]),e.b=~~Number(s[3]),e.a=void 0!==s[4]?Number(s[4]):1,i.Color.updateColor(e)),e},valueToColor:function(t,e){if(e||(e=i.Color.createColor()),"string"==typeof t)return 0===t.indexOf("rgb")?i.Color.webToColor(t,e):(e.a=1,i.Color.hexToColor(t,e));if("number"==typeof t){var s=i.Color.getRGB(t);return e.r=s.r,e.g=s.g,e.b=s.b,e.a=s.a/255,e}return e},componentToHex:function(t){var e=t.toString(16);return 1===e.length?"0"+e:e},HSVColorWheel:function(t,e){void 0===t&&(t=1),void 0===e&&(e=1);for(var s=[],n=0;n<=359;n++)s.push(i.Color.HSVtoRGB(n/359,t,e));return s},HSLColorWheel:function(t,e){void 0===t&&(t=.5),void 0===e&&(e=.5);for(var s=[],n=0;n<=359;n++)s.push(i.Color.HSLtoRGB(n/359,t,e));return s},interpolateColor:function(t,e,s,n,o,r){void 0===o&&(o=255),void 0===r&&(r=0);var a=i.Color.getRGB(t),h=i.Color.getRGB(e);if(0===r)var l=(h.red-a.red)*n/s+a.red,c=(h.green-a.green)*n/s+a.green,u=(h.blue-a.blue)*n/s+a.blue;if(1===r){var d,p=i.Color.RGBtoHSV(a.r,a.g,a.b),f=i.Color.RGBtoHSV(h.r,h.g,h.b),m=f.h-p.h;if(p.h>f.h){var g=f.h;f.h=p.h,p.h=g,m=-m,n=s-n}m>.5&&(p.h=p.h+1,d=((f.h-p.h)*n/s+p.h)%1),m<=.5&&(d=(f.h-p.h)*n/s+p.h);var y=(f.s-p.s)*n/s+p.s,v=(f.v-p.v)*n/s+p.v,x=i.Color.HSVtoRGB(d,y,v,x),l=x.r,c=x.g,u=x.b}return i.Color.getColor32(o,l,c,u)},interpolateColorWithRGB:function(t,e,s,n,o,r){var a=i.Color.getRGB(t),h=(e-a.red)*r/o+a.red,l=(s-a.green)*r/o+a.green,c=(n-a.blue)*r/o+a.blue;return i.Color.getColor(h,l,c)},interpolateRGB:function(t,e,s,n,o,r,a,h){var l=(n-t)*h/a+t,c=(o-e)*h/a+e,u=(r-s)*h/a+s;return i.Color.getColor(l,c,u)},linear:function(t,e,i){return this.interpolateColor(t,e,1,i)},linearInterpolation:function(t,e){var s=i.Math.linear(0,t.length-1,e),n=t[Math.floor(s)],o=t[Math.ceil(s)];return this.linear(n,o,s%1)},getRandomColor:function(t,e,s){if(void 0===t&&(t=0),void 0===e&&(e=255),void 0===s&&(s=255),e>255||t>e)return i.Color.getColor(255,255,255);var n=t+Math.round(Math.random()*(e-t)),o=t+Math.round(Math.random()*(e-t)),r=t+Math.round(Math.random()*(e-t));return i.Color.getColor32(s,n,o,r)},getRGB:function(t){return t>16777215?{alpha:t>>>24,red:t>>16&255,green:t>>8&255,blue:255&t,a:t>>>24,r:t>>16&255,g:t>>8&255,b:255&t}:{alpha:255,red:t>>16&255,green:t>>8&255,blue:255&t,a:255,r:t>>16&255,g:t>>8&255,b:255&t}},getWebRGB:function(t){if("object"==typeof t)return"rgba("+t.r.toString()+","+t.g.toString()+","+t.b.toString()+","+(t.a/255).toString()+")";var e=i.Color.getRGB(t);return"rgba("+e.r.toString()+","+e.g.toString()+","+e.b.toString()+","+(e.a/255).toString()+")"},getAlpha:function(t){return t>>>24},getAlphaFloat:function(t){return(t>>>24)/255},getRed:function(t){return t>>16&255},getGreen:function(t){return t>>8&255},getBlue:function(t){return 255&t},blendNormal:function(t){return t},blendLighten:function(t,e){return e>t?e:t},blendDarken:function(t,e){return e>t?t:e},blendMultiply:function(t,e){return t*e/255},blendAverage:function(t,e){return(t+e)/2},blendAdd:function(t,e){return Math.min(255,t+e)},blendSubtract:function(t,e){return Math.max(0,t+e-255)},blendDifference:function(t,e){return Math.abs(t-e)},blendNegation:function(t,e){return 255-Math.abs(255-t-e)},blendScreen:function(t,e){return 255-((255-t)*(255-e)>>8)},blendExclusion:function(t,e){return t+e-2*t*e/255},blendOverlay:function(t,e){return e<128?2*t*e/255:255-2*(255-t)*(255-e)/255},blendSoftLight:function(t,e){return e<128?2*(64+(t>>1))*(e/255):255-2*(255-(64+(t>>1)))*(255-e)/255},blendHardLight:function(t,e){return i.Color.blendOverlay(e,t)},blendColorDodge:function(t,e){return 255===e?e:Math.min(255,(t<<8)/(255-e))},blendColorBurn:function(t,e){return 0===e?e:Math.max(0,255-(255-t<<8)/e)},blendLinearDodge:function(t,e){return i.Color.blendAdd(t,e)},blendLinearBurn:function(t,e){return i.Color.blendSubtract(t,e)},blendLinearLight:function(t,e){return e<128?i.Color.blendLinearBurn(t,2*e):i.Color.blendLinearDodge(t,2*(e-128))},blendVividLight:function(t,e){return e<128?i.Color.blendColorBurn(t,2*e):i.Color.blendColorDodge(t,2*(e-128))},blendPinLight:function(t,e){return e<128?i.Color.blendDarken(t,2*e):i.Color.blendLighten(t,2*(e-128))},blendHardMix:function(t,e){return i.Color.blendVividLight(t,e)<128?0:255},blendReflect:function(t,e){return 255===e?e:Math.min(255,t*t/(255-e))},blendGlow:function(t,e){return i.Color.blendReflect(e,t)},blendPhoenix:function(t,e){return Math.min(t,e)-Math.max(t,e)+255}},i.Physics=function(t,e){e=e||{},this.game=t,this.config=e,this.arcade=null,this.p2=null,this.ninja=null,this.box2d=null,this.chipmunk=null,this.matter=null,this.parseConfig()},i.Physics.ARCADE=0,i.Physics.P2JS=1,i.Physics.NINJA=2,i.Physics.BOX2D=3,i.Physics.CHIPMUNK=4,i.Physics.MATTERJS=5,i.Physics.prototype={parseConfig:function(){this.config.hasOwnProperty("arcade")&&!0!==this.config.arcade||!i.Physics.hasOwnProperty("Arcade")||(this.arcade=new i.Physics.Arcade(this.game)),this.config.hasOwnProperty("ninja")&&!0===this.config.ninja&&i.Physics.hasOwnProperty("Ninja")&&(this.ninja=new i.Physics.Ninja(this.game)),this.config.hasOwnProperty("p2")&&!0===this.config.p2&&i.Physics.hasOwnProperty("P2")&&(this.p2=new i.Physics.P2(this.game,this.config)),this.config.hasOwnProperty("box2d")&&!0===this.config.box2d&&i.Physics.hasOwnProperty("BOX2D")&&(this.box2d=new i.Physics.BOX2D(this.game,this.config)),this.config.hasOwnProperty("matter")&&!0===this.config.matter&&i.Physics.hasOwnProperty("Matter")&&(this.matter=new i.Physics.Matter(this.game,this.config))},startSystem:function(t){t===i.Physics.ARCADE?this.arcade=new i.Physics.Arcade(this.game):t===i.Physics.P2JS?null===this.p2?this.p2=new i.Physics.P2(this.game,this.config):this.p2.reset():t===i.Physics.NINJA?this.ninja=new i.Physics.Ninja(this.game):t===i.Physics.BOX2D?null===this.box2d?this.box2d=new i.Physics.Box2D(this.game,this.config):this.box2d.reset():t===i.Physics.MATTERJS&&(null===this.matter?this.matter=new i.Physics.Matter(this.game,this.config):this.matter.reset())},enable:function(t,e,s){void 0===e&&(e=i.Physics.ARCADE),void 0===s&&(s=!1),e===i.Physics.ARCADE?this.arcade.enable(t):e===i.Physics.P2JS&&this.p2?this.p2.enable(t,s):e===i.Physics.NINJA&&this.ninja?this.ninja.enableAABB(t):e===i.Physics.BOX2D&&this.box2d?this.box2d.enable(t):e===i.Physics.MATTERJS&&this.matter?this.matter.enable(t):console.warn(t.key+" is attempting to enable a physics body using an unknown physics system.")},preUpdate:function(){this.p2&&this.p2.preUpdate(),this.box2d&&this.box2d.preUpdate(),this.matter&&this.matter.preUpdate()},update:function(){this.p2&&this.p2.update(),this.box2d&&this.box2d.update(),this.matter&&this.matter.update()},setBoundsToWorld:function(){this.arcade&&this.arcade.setBoundsToWorld(),this.ninja&&this.ninja.setBoundsToWorld(),this.p2&&this.p2.setBoundsToWorld(),this.box2d&&this.box2d.setBoundsToWorld(),this.matter&&this.matter.setBoundsToWorld()},clear:function(){this.p2&&this.p2.clear(),this.box2d&&this.box2d.clear(),this.matter&&this.matter.clear()},reset:function(){this.p2&&this.p2.reset(),this.box2d&&this.box2d.reset(),this.matter&&this.matter.reset()},destroy:function(){this.p2&&this.p2.destroy(),this.box2d&&this.box2d.destroy(),this.matter&&this.matter.destroy(),this.arcade=null,this.ninja=null,this.p2=null,this.box2d=null,this.matter=null}},i.Physics.prototype.constructor=i.Physics,i.Physics.Arcade=function(t){this.game=t,this.gravity=new i.Point,this.bounds=new i.Rectangle(0,0,t.world.width,t.world.height),this.checkCollision={up:!0,down:!0,left:!0,right:!0},this.maxObjects=10,this.maxLevels=4,this.OVERLAP_BIAS=4,this.forceX=!1,this.sortDirection=i.Physics.Arcade.LEFT_RIGHT,this.skipQuadTree=!0,this.isPaused=!1,this.quadTree=new i.QuadTree(this.game.world.bounds.x,this.game.world.bounds.y,this.game.world.bounds.width,this.game.world.bounds.height,this.maxObjects,this.maxLevels),this._total=0,this.setBoundsToWorld()},i.Physics.Arcade.prototype.constructor=i.Physics.Arcade,i.Physics.Arcade.SORT_NONE=0,i.Physics.Arcade.LEFT_RIGHT=1,i.Physics.Arcade.RIGHT_LEFT=2,i.Physics.Arcade.TOP_BOTTOM=3,i.Physics.Arcade.BOTTOM_TOP=4,i.Physics.Arcade.prototype={setBounds:function(t,e,i,s){this.bounds.setTo(t,e,i,s)},setBoundsToWorld:function(){this.bounds.copyFrom(this.game.world.bounds)},enable:function(t,e){void 0===e&&(e=!0);var s=1;if(Array.isArray(t))for(s=t.length;s--;)t[s]instanceof i.Group?this.enable(t[s].children,e):(this.enableBody(t[s]),e&&t[s].hasOwnProperty("children")&&t[s].children.length>0&&this.enable(t[s],!0));else t instanceof i.Group?this.enable(t.children,e):(this.enableBody(t),e&&t.hasOwnProperty("children")&&t.children.length>0&&this.enable(t.children,!0))},enableBody:function(t){t.hasOwnProperty("body")&&null===t.body&&(t.body=new i.Physics.Arcade.Body(t),t.parent&&t.parent instanceof i.Group&&t.parent.addToHash(t))},updateMotion:function(t){if(t.allowRotation){var e=this.computeVelocity(0,t,t.angularVelocity,t.angularAcceleration,t.angularDrag,t.maxAngular)-t.angularVelocity;t.angularVelocity+=e,t.rotation+=t.angularVelocity*this.game.time.physicsElapsed}t.velocity.x=this.computeVelocity(1,t,t.velocity.x,t.acceleration.x,t.drag.x,t.maxVelocity.x),t.velocity.y=this.computeVelocity(2,t,t.velocity.y,t.acceleration.y,t.drag.y,t.maxVelocity.y)},computeVelocity:function(t,e,i,s,n,o){return void 0===o&&(o=1e4),1===t&&e.allowGravity?i+=(this.gravity.x+e.gravity.x)*this.game.time.physicsElapsed:2===t&&e.allowGravity&&(i+=(this.gravity.y+e.gravity.y)*this.game.time.physicsElapsed),s?i+=s*this.game.time.physicsElapsed:n&&e.allowDrag&&(i-(n*=this.game.time.physicsElapsed)>0?i-=n:i+n<0?i+=n:i=0),i>o?i=o:i<-o&&(i=-o),i},overlap:function(t,e,i,s,n){return i=i||null,s=s||null,n=n||i,this._total=0,this.collideObjects(t,e,i,s,n,!0),this._total>0},collide:function(t,e,i,s,n){return i=i||null,s=s||null,n=n||i,this._total=0,this.collideObjects(t,e,i,s,n,!1),this._total>0},sortLeftRight:function(t,e){return t.body&&e.body?t.body.x-e.body.x:0},sortRightLeft:function(t,e){return t.body&&e.body?e.body.x-t.body.x:0},sortTopBottom:function(t,e){return t.body&&e.body?t.body.y-e.body.y:0},sortBottomTop:function(t,e){return t.body&&e.body?e.body.y-t.body.y:0},sort:function(t,e){null!==t.physicsSortDirection?e=t.physicsSortDirection:void 0===e&&(e=this.sortDirection),e===i.Physics.Arcade.LEFT_RIGHT?t.hash.sort(this.sortLeftRight):e===i.Physics.Arcade.RIGHT_LEFT?t.hash.sort(this.sortRightLeft):e===i.Physics.Arcade.TOP_BOTTOM?t.hash.sort(this.sortTopBottom):e===i.Physics.Arcade.BOTTOM_TOP&&t.hash.sort(this.sortBottomTop)},collideObjects:function(t,e,i,s,n,o){if(!Array.isArray(t)&&Array.isArray(e))for(r=0;r<e.length;r++)e[r]&&this.collideHandler(t,e[r],i,s,n,o);else if(Array.isArray(t)&&!Array.isArray(e))for(r=0;r<t.length;r++)t[r]&&this.collideHandler(t[r],e,i,s,n,o);else if(Array.isArray(t)&&Array.isArray(e)){for(var r=0;r<t.length;r++)if(t[r])for(var a=0;a<e.length;a++)e[a]&&this.collideHandler(t[r],e[a],i,s,n,o)}else this.collideHandler(t,e,i,s,n,o)},collideHandler:function(t,e,s,n,o,r){if(void 0===e&&t.physicsType===i.GROUP)return this.sort(t),void this.collideGroupVsSelf(t,s,n,o,r);t&&e&&t.exists&&e.exists&&(this.sortDirection!==i.Physics.Arcade.SORT_NONE&&(t.physicsType===i.GROUP&&this.sort(t),e.physicsType===i.GROUP&&this.sort(e)),t.physicsType===i.SPRITE?e.physicsType===i.SPRITE?this.collideSpriteVsSprite(t,e,s,n,o,r):e.physicsType===i.GROUP?this.collideSpriteVsGroup(t,e,s,n,o,r):e.physicsType===i.TILEMAPLAYER&&this.collideSpriteVsTilemapLayer(t,e,s,n,o,r):t.physicsType===i.GROUP?e.physicsType===i.SPRITE?this.collideSpriteVsGroup(e,t,s,n,o,r):e.physicsType===i.GROUP?this.collideGroupVsGroup(t,e,s,n,o,r):e.physicsType===i.TILEMAPLAYER&&this.collideGroupVsTilemapLayer(t,e,s,n,o,r):t.physicsType===i.TILEMAPLAYER&&(e.physicsType===i.SPRITE?this.collideSpriteVsTilemapLayer(e,t,s,n,o,r):e.physicsType===i.GROUP&&this.collideGroupVsTilemapLayer(e,t,s,n,o,r)))},collideSpriteVsSprite:function(t,e,i,s,n,o){return!(!t.body||!e.body)&&(this.separate(t.body,e.body,s,n,o)&&(i&&i.call(n,t,e),this._total++),!0)},collideSpriteVsGroup:function(t,e,s,n,o,r){if(0!==e.length&&t.body)if(this.skipQuadTree||t.body.skipQuadTree)for(var a={},h=0;h<e.hash.length;h++){var l=e.hash[h];if(l&&l.exists&&l.body){if(a=l.body.getBounds(a),this.sortDirection===i.Physics.Arcade.LEFT_RIGHT){if(t.body.right<a.x)break;if(a.right<t.body.x)continue}else if(this.sortDirection===i.Physics.Arcade.RIGHT_LEFT){if(t.body.x>a.right)break;if(a.x>t.body.right)continue}else if(this.sortDirection===i.Physics.Arcade.TOP_BOTTOM){if(t.body.bottom<a.y)break;if(a.bottom<t.body.y)continue}else if(this.sortDirection===i.Physics.Arcade.BOTTOM_TOP){if(t.body.y>a.bottom)break;if(a.y>t.body.bottom)continue}this.collideSpriteVsSprite(t,l,s,n,o,r)}}else{this.quadTree.clear(),this.quadTree.reset(this.game.world.bounds.x,this.game.world.bounds.y,this.game.world.bounds.width,this.game.world.bounds.height,this.maxObjects,this.maxLevels),this.quadTree.populate(e);for(var c=this.quadTree.retrieve(t),h=0;h<c.length;h++)this.separate(t.body,c[h],n,o,r)&&(s&&s.call(o,t,c[h].sprite),this._total++)}},collideGroupVsSelf:function(t,e,s,n,o){if(0!==t.length)for(var r=0;r<t.hash.length;r++){var a={},h=t.hash[r];if(h&&h.exists&&h.body){a=h.body.getBounds(a);for(var l=r+1;l<t.hash.length;l++){var c={},u=t.hash[l];if(u&&u.exists&&u.body){if(c=u.body.getBounds(c),this.sortDirection===i.Physics.Arcade.LEFT_RIGHT){if(a.right<c.x)break;if(c.right<a.x)continue}else if(this.sortDirection===i.Physics.Arcade.RIGHT_LEFT){if(a.x>c.right)continue;if(c.x>a.right)break}else if(this.sortDirection===i.Physics.Arcade.TOP_BOTTOM){if(a.bottom<c.y)continue;if(c.bottom<a.y)break}else if(this.sortDirection===i.Physics.Arcade.BOTTOM_TOP){if(a.y>c.bottom)continue;if(c.y>h.body.bottom)break}this.collideSpriteVsSprite(h,u,e,s,n,o)}}}}},collideGroupVsGroup:function(t,e,s,n,o,r){if(0!==t.length&&0!==e.length)for(var a=0;a<t.children.length;a++)t.children[a].exists&&(t.children[a].physicsType===i.GROUP?this.collideGroupVsGroup(t.children[a],e,s,n,o,r):this.collideSpriteVsGroup(t.children[a],e,s,n,o,r))},separate:function(t,e,i,s,n){if(!t.enable||!e.enable||t.checkCollision.none||e.checkCollision.none||!this.intersects(t,e))return!1;if(i&&!1===i.call(s,t.sprite,e.sprite))return!1;if(t.isCircle&&e.isCircle)return this.separateCircle(t,e,n);if(t.isCircle!==e.isCircle){var o=t.isCircle?e:t,r=t.isCircle?t:e,a={x:o.x,y:o.y,right:o.right,bottom:o.bottom},h=r.center;if((h.y<a.y||h.y>a.bottom)&&(h.x<a.x||h.x>a.right))return this.separateCircle(t,e,n)}var l=!1,c=!1;this.forceX||Math.abs(this.gravity.y+t.gravity.y)<Math.abs(this.gravity.x+t.gravity.x)?(l=this.separateX(t,e,n),this.intersects(t,e)&&(c=this.separateY(t,e,n))):(c=this.separateY(t,e,n),this.intersects(t,e)&&(l=this.separateX(t,e,n)));var u=l||c;return u&&(n?(t.onOverlap&&t.onOverlap.dispatch(t.sprite,e.sprite),e.onOverlap&&e.onOverlap.dispatch(e.sprite,t.sprite)):(t.onCollide&&t.onCollide.dispatch(t.sprite,e.sprite),e.onCollide&&e.onCollide.dispatch(e.sprite,t.sprite))),u},intersects:function(t,e){return t!==e&&(t.isCircle?e.isCircle?i.Math.distance(t.center.x,t.center.y,e.center.x,e.center.y)<=t.halfWidth+e.halfWidth:this.circleBodyIntersects(t,e):e.isCircle?this.circleBodyIntersects(e,t):!(t.right<=e.position.x)&&(!(t.bottom<=e.position.y)&&(!(t.position.x>=e.right)&&!(t.position.y>=e.bottom))))},circleBodyIntersects:function(t,e){var s=i.Math.clamp(t.center.x,e.left,e.right),n=i.Math.clamp(t.center.y,e.top,e.bottom);return(t.center.x-s)*(t.center.x-s)+(t.center.y-n)*(t.center.y-n)<=t.halfWidth*t.halfWidth},separateCircle:function(t,e,s){this.getOverlapX(t,e),this.getOverlapY(t,e);var n=e.center.x-t.center.x,o=e.center.y-t.center.y,r=Math.atan2(o,n),a=0;if(t.isCircle!==e.isCircle){var h={x:e.isCircle?t.position.x:e.position.x,y:e.isCircle?t.position.y:e.position.y,right:e.isCircle?t.right:e.right,bottom:e.isCircle?t.bottom:e.bottom},l={x:t.isCircle?t.center.x:e.center.x,y:t.isCircle?t.center.y:e.center.y,radius:t.isCircle?t.halfWidth:e.halfWidth};l.y<h.y?l.x<h.x?a=i.Math.distance(l.x,l.y,h.x,h.y)-l.radius:l.x>h.right&&(a=i.Math.distance(l.x,l.y,h.right,h.y)-l.radius):l.y>h.bottom&&(l.x<h.x?a=i.Math.distance(l.x,l.y,h.x,h.bottom)-l.radius:l.x>h.right&&(a=i.Math.distance(l.x,l.y,h.right,h.bottom)-l.radius)),a*=-1}else a=t.halfWidth+e.halfWidth-i.Math.distance(t.center.x,t.center.y,e.center.x,e.center.y);if(s||0===a||t.immovable&&e.immovable||t.customSeparateX||e.customSeparateX)return 0!==a&&(t.onOverlap&&t.onOverlap.dispatch(t.sprite,e.sprite),e.onOverlap&&e.onOverlap.dispatch(e.sprite,t.sprite)),0!==a;var c={x:t.velocity.x*Math.cos(r)+t.velocity.y*Math.sin(r),y:t.velocity.x*Math.sin(r)-t.velocity.y*Math.cos(r)},u={x:e.velocity.x*Math.cos(r)+e.velocity.y*Math.sin(r),y:e.velocity.x*Math.sin(r)-e.velocity.y*Math.cos(r)},d=((t.mass-e.mass)*c.x+2*e.mass*u.x)/(t.mass+e.mass),p=(2*t.mass*c.x+(e.mass-t.mass)*u.x)/(t.mass+e.mass);return t.immovable||(t.velocity.x=(d*Math.cos(r)-c.y*Math.sin(r))*t.bounce.x,t.velocity.y=(c.y*Math.cos(r)+d*Math.sin(r))*t.bounce.y),e.immovable||(e.velocity.x=(p*Math.cos(r)-u.y*Math.sin(r))*e.bounce.x,e.velocity.y=(u.y*Math.cos(r)+p*Math.sin(r))*e.bounce.y),Math.abs(r)<Math.PI/2?t.velocity.x>0&&!t.immovable&&e.velocity.x>t.velocity.x?t.velocity.x*=-1:e.velocity.x<0&&!e.immovable&&t.velocity.x<e.velocity.x?e.velocity.x*=-1:t.velocity.y>0&&!t.immovable&&e.velocity.y>t.velocity.y?t.velocity.y*=-1:e.velocity.y<0&&!e.immovable&&t.velocity.y<e.velocity.y&&(e.velocity.y*=-1):Math.abs(r)>Math.PI/2&&(t.velocity.x<0&&!t.immovable&&e.velocity.x<t.velocity.x?t.velocity.x*=-1:e.velocity.x>0&&!e.immovable&&t.velocity.x>e.velocity.x?e.velocity.x*=-1:t.velocity.y<0&&!t.immovable&&e.velocity.y<t.velocity.y?t.velocity.y*=-1:e.velocity.y>0&&!e.immovable&&t.velocity.x>e.velocity.y&&(e.velocity.y*=-1)),t.immovable||(t.x+=t.velocity.x*this.game.time.physicsElapsed-a*Math.cos(r),t.y+=t.velocity.y*this.game.time.physicsElapsed-a*Math.sin(r)),e.immovable||(e.x+=e.velocity.x*this.game.time.physicsElapsed+a*Math.cos(r),e.y+=e.velocity.y*this.game.time.physicsElapsed+a*Math.sin(r)),t.onCollide&&t.onCollide.dispatch(t.sprite,e.sprite),e.onCollide&&e.onCollide.dispatch(e.sprite,t.sprite),!0},getOverlapX:function(t,e,i){var s=0,n=t.deltaAbsX()+e.deltaAbsX()+this.OVERLAP_BIAS;return 0===t.deltaX()&&0===e.deltaX()?(t.embedded=!0,e.embedded=!0):t.deltaX()>e.deltaX()?(s=t.right-e.x)>n&&!i||!1===t.checkCollision.right||!1===e.checkCollision.left?s=0:(t.touching.none=!1,t.touching.right=!0,e.touching.none=!1,e.touching.left=!0):t.deltaX()<e.deltaX()&&(-(s=t.x-e.width-e.x)>n&&!i||!1===t.checkCollision.left||!1===e.checkCollision.right?s=0:(t.touching.none=!1,t.touching.left=!0,e.touching.none=!1,e.touching.right=!0)),t.overlapX=s,e.overlapX=s,s},getOverlapY:function(t,e,i){var s=0,n=t.deltaAbsY()+e.deltaAbsY()+this.OVERLAP_BIAS;return 0===t.deltaY()&&0===e.deltaY()?(t.embedded=!0,e.embedded=!0):t.deltaY()>e.deltaY()?(s=t.bottom-e.y)>n&&!i||!1===t.checkCollision.down||!1===e.checkCollision.up?s=0:(t.touching.none=!1,t.touching.down=!0,e.touching.none=!1,e.touching.up=!0):t.deltaY()<e.deltaY()&&(-(s=t.y-e.bottom)>n&&!i||!1===t.checkCollision.up||!1===e.checkCollision.down?s=0:(t.touching.none=!1,t.touching.up=!0,e.touching.none=!1,e.touching.down=!0)),t.overlapY=s,e.overlapY=s,s},separateX:function(t,e,i){var s=this.getOverlapX(t,e,i);if(i||0===s||t.immovable&&e.immovable||t.customSeparateX||e.customSeparateX)return 0!==s||t.embedded&&e.embedded;var n=t.velocity.x,o=e.velocity.x;if(t.immovable||e.immovable)t.immovable?(e.x+=s,e.velocity.x=n-o*e.bounce.x,t.moves&&(e.y+=(t.y-t.prev.y)*t.friction.y)):(t.x-=s,t.velocity.x=o-n*t.bounce.x,e.moves&&(t.y+=(e.y-e.prev.y)*e.friction.y));else{s*=.5,t.x-=s,e.x+=s;var r=Math.sqrt(o*o*e.mass/t.mass)*(o>0?1:-1),a=Math.sqrt(n*n*t.mass/e.mass)*(n>0?1:-1),h=.5*(r+a);r-=h,a-=h,t.velocity.x=h+r*t.bounce.x,e.velocity.x=h+a*e.bounce.x}return!0},separateY:function(t,e,i){var s=this.getOverlapY(t,e,i);if(i||0===s||t.immovable&&e.immovable||t.customSeparateY||e.customSeparateY)return 0!==s||t.embedded&&e.embedded;var n=t.velocity.y,o=e.velocity.y;if(t.immovable||e.immovable)t.immovable?(e.y+=s,e.velocity.y=n-o*e.bounce.y,t.moves&&(e.x+=(t.x-t.prev.x)*t.friction.x)):(t.y-=s,t.velocity.y=o-n*t.bounce.y,e.moves&&(t.x+=(e.x-e.prev.x)*e.friction.x));else{s*=.5,t.y-=s,e.y+=s;var r=Math.sqrt(o*o*e.mass/t.mass)*(o>0?1:-1),a=Math.sqrt(n*n*t.mass/e.mass)*(n>0?1:-1),h=.5*(r+a);r-=h,a-=h,t.velocity.y=h+r*t.bounce.y,e.velocity.y=h+a*e.bounce.y}return!0},getObjectsUnderPointer:function(t,e,i,s){if(0!==e.length&&t.exists)return this.getObjectsAtLocation(t.x,t.y,e,i,s,t)},getObjectsAtLocation:function(t,e,s,n,o,r){this.quadTree.clear(),this.quadTree.reset(this.game.world.bounds.x,this.game.world.bounds.y,this.game.world.bounds.width,this.game.world.bounds.height,this.maxObjects,this.maxLevels),this.quadTree.populate(s);for(var a=new i.Rectangle(t,e,1,1),h=[],l=this.quadTree.retrieve(a),c=0;c<l.length;c++)l[c].hitTest(t,e)&&(n&&n.call(o,r,l[c].sprite),h.push(l[c].sprite));return h},moveToObject:function(t,e,i,s){void 0===i&&(i=60),void 0===s&&(s=0);var n=Math.atan2(e.y-t.y,e.x-t.x);return s>0&&(i=this.distanceBetween(t,e)/(s/1e3)),t.body.velocity.setToPolar(n,i),n},moveToPointer:function(t,e,i,s){void 0===e&&(e=60),i=i||this.game.input.activePointer,void 0===s&&(s=0);var n=this.angleToPointer(t,i);return s>0&&(e=this.distanceToPointer(t,i)/(s/1e3)),t.body.velocity.setToPolar(n,e),n},moveToXY:function(t,e,i,s,n){void 0===s&&(s=60),void 0===n&&(n=0);var o=Math.atan2(i-t.y,e-t.x);return n>0&&(s=this.distanceToXY(t,e,i)/(n/1e3)),t.body.velocity.setToPolar(o,s),o},velocityFromAngle:function(t,e,s){return void 0===e&&(e=60),(s=s||new i.Point).setToPolar(t,e,!0)},velocityFromRotation:function(t,e,s){return void 0===e&&(e=60),(s=s||new i.Point).setToPolar(t,e)},accelerationFromRotation:function(t,e,s){return void 0===e&&(e=60),(s=s||new i.Point).setToPolar(t,e)},accelerateToObject:function(t,e,i,s,n){void 0===i&&(i=60),void 0===s&&(s=1e3),void 0===n&&(n=1e3);var o=this.angleBetween(t,e);return t.body.acceleration.setToPolar(o,i),t.body.maxVelocity.setTo(s,n),o},accelerateToPointer:function(t,e,i,s,n){void 0===i&&(i=60),void 0===e&&(e=this.game.input.activePointer),void 0===s&&(s=1e3),void 0===n&&(n=1e3);var o=this.angleToPointer(t,e);return t.body.acceleration.setToPolar(o,i),t.body.maxVelocity.setTo(s,n),o},accelerateToXY:function(t,e,i,s,n,o){void 0===s&&(s=60),void 0===n&&(n=1e3),void 0===o&&(o=1e3);var r=this.angleToXY(t,e,i);return t.body.acceleration.setTo(r,s),t.body.maxVelocity.setTo(n,o),r},distanceBetween:function(t,e,i){void 0===i&&(i=!1);var s=i?t.world.x-e.world.x:t.x-e.x,n=i?t.world.y-e.world.y:t.y-e.y;return Math.sqrt(s*s+n*n)},distanceToXY:function(t,e,i,s){void 0===s&&(s=!1);var n=s?t.world.x-e:t.x-e,o=s?t.world.y-i:t.y-i;return Math.sqrt(n*n+o*o)},distanceToPointer:function(t,e,i){void 0===e&&(e=this.game.input.activePointer),void 0===i&&(i=!1);var s=i?t.world.x-e.worldX:t.x-e.worldX,n=i?t.world.y-e.worldY:t.y-e.worldY;return Math.sqrt(s*s+n*n)},closest:function(t,e,i){for(var s=1/0,n=null,o=0,r=e.length;o<r;o++){var a=e[o],h=this.distanceBetween(t,a,i);h<s&&(n=a,s=h)}return n},farthest:function(t,e,i){for(var s=-1,n=null,o=0,r=e.length;o<r;o++){var a=e[o],h=this.distanceBetween(t,a,i);h>s&&(n=a,s=h)}return n},angleBetween:function(t,e,i){return void 0===i&&(i=!1),i?Math.atan2(e.world.y-t.world.y,e.world.x-t.world.x):Math.atan2(e.y-t.y,e.x-t.x)},angleBetweenCenters:function(t,e){var i=e.centerX-t.centerX,s=e.centerY-t.centerY;return Math.atan2(s,i)},angleToXY:function(t,e,i,s){return void 0===s&&(s=!1),s?Math.atan2(i-t.world.y,e-t.world.x):Math.atan2(i-t.y,e-t.x)},angleToPointer:function(t,e,i){return void 0===e&&(e=this.game.input.activePointer),void 0===i&&(i=!1),i?Math.atan2(e.worldY-t.world.y,e.worldX-t.world.x):Math.atan2(e.worldY-t.y,e.worldX-t.x)},worldAngleToPointer:function(t,e){return this.angleToPointer(t,e,!0)}},i.Physics.Arcade.Body=function(t){this.sprite=t,this.game=t.game,this.type=i.Physics.ARCADE,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new i.Point,this.position=new i.Point(t.x,t.y),this.prev=new i.Point(this.position.x,this.position.y),this.allowRotation=!0,this.rotation=t.angle,this.preRotation=t.angle,this.width=t.width,this.height=t.height,this.sourceWidth=t.width,this.sourceHeight=t.height,t.texture&&(this.sourceWidth=t.texture.frame.width,this.sourceHeight=t.texture.frame.height),this.halfWidth=Math.abs(t.width/2),this.halfHeight=Math.abs(t.height/2),this.center=new i.Point(t.x+this.halfWidth,t.y+this.halfHeight),this.velocity=new i.Point,this.newVelocity=new i.Point,this.deltaMax=new i.Point,this.acceleration=new i.Point,this.allowDrag=!0,this.drag=new i.Point,this.allowGravity=!0,this.gravity=new i.Point,this.bounce=new i.Point,this.worldBounce=null,this.onWorldBounds=null,this.onCollide=null,this.onOverlap=null,this.maxVelocity=new i.Point(1e4,1e4),this.friction=new i.Point(1,0),this.angularVelocity=0,this.angularAcceleration=0,this.angularDrag=0,this.maxAngular=1e3,this.mass=1,this.angle=0,this.speed=0,this.facing=i.NONE,this.immovable=!1,this.moves=!0,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision={none:!1,up:!0,down:!0,left:!0,right:!0},this.touching={none:!0,up:!1,down:!1,left:!1,right:!1},this.wasTouching={none:!0,up:!1,down:!1,left:!1,right:!1},this.blocked={none:!0,up:!1,down:!1,left:!1,right:!1},this.tilePadding=new i.Point,this.dirty=!1,this.skipQuadTree=!1,this.syncBounds=!1,this.isMoving=!1,this.stopVelocityOnCollide=!0,this.moveTimer=0,this.moveDistance=0,this.moveDuration=0,this.moveTarget=null,this.moveEnd=null,this.onMoveComplete=new i.Signal,this.movementCallback=null,this.movementCallbackContext=null,this._reset=!0,this._sx=t.scale.x,this._sy=t.scale.y,this._dx=0,this._dy=0},i.Physics.Arcade.Body.prototype={updateBounds:function(){if(this.syncBounds){var t=this.sprite.getBounds();t.ceilAll(),t.width===this.width&&t.height===this.height||(this.width=t.width,this.height=t.height,this._reset=!0)}else{var e=Math.abs(this.sprite.scale.x),i=Math.abs(this.sprite.scale.y);e===this._sx&&i===this._sy||(this.width=this.sourceWidth*e,this.height=this.sourceHeight*i,this._sx=e,this._sy=i,this._reset=!0)}this._reset&&(this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter())},updateCenter:function(){this.center.setTo(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},preUpdate:function(){this.enable&&!this.game.physics.arcade.isPaused&&(this.dirty=!0,this.wasTouching.none=this.touching.none,this.wasTouching.up=this.touching.up,this.wasTouching.down=this.touching.down,this.wasTouching.left=this.touching.left,this.wasTouching.right=this.touching.right,this.touching.none=!0,this.touching.up=!1,this.touching.down=!1,this.touching.left=!1,this.touching.right=!1,this.blocked.none=!0,this.blocked.up=!1,this.blocked.down=!1,this.blocked.left=!1,this.blocked.right=!1,this.overlapR=0,this.overlapX=0,this.overlapY=0,this.embedded=!1,this.updateBounds(),this.position.x=this.sprite.world.x-this.sprite.anchor.x*this.sprite.width+this.sprite.scale.x*this.offset.x,this.position.x-=this.sprite.scale.x<0?this.width:0,this.position.y=this.sprite.world.y-this.sprite.anchor.y*this.sprite.height+this.sprite.scale.y*this.offset.y,this.position.y-=this.sprite.scale.y<0?this.height:0,this.updateCenter(),this.rotation=this.sprite.angle,this.preRotation=this.rotation,(this._reset||this.sprite.fresh)&&(this.prev.x=this.position.x,this.prev.y=this.position.y),this.moves&&(this.game.physics.arcade.updateMotion(this),this.newVelocity.set(this.velocity.x*this.game.time.physicsElapsed,this.velocity.y*this.game.time.physicsElapsed),this.position.x+=this.newVelocity.x,this.position.y+=this.newVelocity.y,this.updateCenter(),this.position.x===this.prev.x&&this.position.y===this.prev.y||(this.angle=Math.atan2(this.velocity.y,this.velocity.x)),this.speed=Math.sqrt(this.velocity.x*this.velocity.x+this.velocity.y*this.velocity.y),this.collideWorldBounds&&this.checkWorldBounds()&&this.onWorldBounds&&this.onWorldBounds.dispatch(this.sprite,this.blocked.up,this.blocked.down,this.blocked.left,this.blocked.right)),this._dx=this.deltaX(),this._dy=this.deltaY(),this._reset=!1)},updateMovement:function(){var t=0,e=0!==this.overlapX||0!==this.overlapY;if(this.moveDuration>0?(this.moveTimer+=this.game.time.elapsedMS,t=this.moveTimer/this.moveDuration):(this.moveTarget.end.set(this.position.x,this.position.y),t=this.moveTarget.length/this.moveDistance),this.movementCallback)var i=this.movementCallback.call(this.movementCallbackContext,this,this.velocity,t);return!(e||t>=1||void 0!==i&&!0!==i)||(this.stopMovement(t>=1||this.stopVelocityOnCollide&&e),!1)},stopMovement:function(t){this.isMoving&&(this.isMoving=!1,t&&this.velocity.set(0),this.onMoveComplete.dispatch(this.sprite,0!==this.overlapX||0!==this.overlapY))},postUpdate:function(){this.enable&&this.dirty&&(this.isMoving&&this.updateMovement(),this.dirty=!1,this.deltaX()<0?this.facing=i.LEFT:this.deltaX()>0&&(this.facing=i.RIGHT),this.deltaY()<0?this.facing=i.UP:this.deltaY()>0&&(this.facing=i.DOWN),this.moves&&(this._dx=this.deltaX(),this._dy=this.deltaY(),0!==this.deltaMax.x&&0!==this._dx&&(this._dx<0&&this._dx<-this.deltaMax.x?this._dx=-this.deltaMax.x:this._dx>0&&this._dx>this.deltaMax.x&&(this._dx=this.deltaMax.x)),0!==this.deltaMax.y&&0!==this._dy&&(this._dy<0&&this._dy<-this.deltaMax.y?this._dy=-this.deltaMax.y:this._dy>0&&this._dy>this.deltaMax.y&&(this._dy=this.deltaMax.y)),this.sprite.position.x+=this._dx,this.sprite.position.y+=this._dy,this._reset=!0),this.updateCenter(),this.allowRotation&&(this.sprite.angle+=this.deltaZ()),this.prev.x=this.position.x,this.prev.y=this.position.y)},checkWorldBounds:function(){var t=this.position,e=this.game.physics.arcade.bounds,i=this.game.physics.arcade.checkCollision,s=this.worldBounce?-this.worldBounce.x:-this.bounce.x,n=this.worldBounce?-this.worldBounce.y:-this.bounce.y;return t.x<e.x&&i.left?(t.x=e.x,this.velocity.x*=s,this.blocked.left=!0,this.blocked.none=!1):this.right>e.right&&i.right&&(t.x=e.right-this.width,this.velocity.x*=s,this.blocked.right=!0,this.blocked.none=!1),t.y<e.y&&i.up?(t.y=e.y,this.velocity.y*=n,this.blocked.up=!0,this.blocked.none=!1):this.bottom>e.bottom&&i.down&&(t.y=e.bottom-this.height,this.velocity.y*=n,this.blocked.down=!0,this.blocked.none=!1),!this.blocked.none},moveFrom:function(t,e,i){if(void 0===e&&(e=this.speed),0===e)return!1;var s;return void 0===i?(s=this.angle,i=this.game.math.radToDeg(s)):s=this.game.math.degToRad(i),this.moveTimer=0,this.moveDuration=t,0===i||180===i?this.velocity.set(Math.cos(s)*e,0):90===i||270===i?this.velocity.set(0,Math.sin(s)*e):this.velocity.setToPolar(s,e),this.isMoving=!0,!0},moveTo:function(t,e,s){var n=e/(t/1e3);if(0===n)return!1;var o;return void 0===s?(o=this.angle,s=this.game.math.radToDeg(o)):o=this.game.math.degToRad(s),e=Math.abs(e),this.moveDuration=0,this.moveDistance=e,null===this.moveTarget&&(this.moveTarget=new i.Line,this.moveEnd=new i.Point),this.moveTarget.fromAngle(this.x,this.y,o,e),this.moveEnd.set(this.moveTarget.end.x,this.moveTarget.end.y),this.moveTarget.setTo(this.x,this.y,this.x,this.y),0===s||180===s?this.velocity.set(Math.cos(o)*n,0):90===s||270===s?this.velocity.set(0,Math.sin(o)*n):this.velocity.setToPolar(o,n),this.isMoving=!0,!0},setSize:function(t,e,i,s){void 0===i&&(i=this.offset.x),void 0===s&&(s=this.offset.y),this.sourceWidth=t,this.sourceHeight=e,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.setTo(i,s),this.updateCenter(),this.isCircle=!1,this.radius=0},setCircle:function(t,e,i){void 0===e&&(e=this.offset.x),void 0===i&&(i=this.offset.y),t>0?(this.isCircle=!0,this.radius=t,this.sourceWidth=2*t,this.sourceHeight=2*t,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.setTo(e,i),this.updateCenter()):this.isCircle=!1},reset:function(t,e){this.stop(),this.position.x=t-this.sprite.anchor.x*this.sprite.width+this.sprite.scale.x*this.offset.x,this.position.x-=this.sprite.scale.x<0?this.width:0,this.position.y=e-this.sprite.anchor.y*this.sprite.height+this.sprite.scale.y*this.offset.y,this.position.y-=this.sprite.scale.y<0?this.height:0,this.prev.x=this.position.x,this.prev.y=this.position.y,this.rotation=this.sprite.angle,this.preRotation=this.rotation,this.updateBounds(),this.updateCenter()},stop:function(){this.velocity.set(0),this.acceleration.set(0),this.speed=0,this.angularVelocity=0,this.angularAcceleration=0},getBounds:function(t){return t.x=this.x,t.y=this.y,t.right=this.right,t.bottom=this.bottom,t},hitTest:function(t,e){return this.isCircle?i.Circle.contains(this,t,e):i.Rectangle.contains(this,t,e)},onFloor:function(){return this.blocked.down},onCeiling:function(){return this.blocked.up},onWall:function(){return this.blocked.left||this.blocked.right},deltaAbsX:function(){return this.deltaX()>0?this.deltaX():-this.deltaX()},deltaAbsY:function(){return this.deltaY()>0?this.deltaY():-this.deltaY()},deltaX:function(){return this.position.x-this.prev.x},deltaY:function(){return this.position.y-this.prev.y},deltaZ:function(){return this.rotation-this.preRotation},destroy:function(){this.sprite.parent&&this.sprite.parent instanceof i.Group&&this.sprite.parent.removeFromHash(this.sprite),this.sprite.body=null,this.sprite=null}},Object.defineProperty(i.Physics.Arcade.Body.prototype,"left",{get:function(){return this.position.x}}),Object.defineProperty(i.Physics.Arcade.Body.prototype,"right",{get:function(){return this.position.x+this.width}}),Object.defineProperty(i.Physics.Arcade.Body.prototype,"top",{get:function(){return this.position.y}}),Object.defineProperty(i.Physics.Arcade.Body.prototype,"bottom",{get:function(){return this.position.y+this.height}}),Object.defineProperty(i.Physics.Arcade.Body.prototype,"x",{get:function(){return this.position.x},set:function(t){this.position.x=t}}),Object.defineProperty(i.Physics.Arcade.Body.prototype,"y",{get:function(){return this.position.y},set:function(t){this.position.y=t}}),i.Physics.Arcade.Body.render=function(t,e,i,s,n){void 0===s&&(s=!0),i=i||"rgba(0,255,0,0.4)",t.fillStyle=i,t.strokeStyle=i,t.lineWidth=n||1,e.isCircle?(t.beginPath(),t.arc(e.center.x-e.game.camera.x,e.center.y-e.game.camera.y,e.halfWidth,0,2*Math.PI),s?t.fill():t.stroke()):s?t.fillRect(e.position.x-e.game.camera.x,e.position.y-e.game.camera.y,e.width,e.height):t.strokeRect(e.position.x-e.game.camera.x,e.position.y-e.game.camera.y,e.width,e.height)},i.Physics.Arcade.Body.renderBodyInfo=function(t,e){t.line("x: "+e.x.toFixed(2),"y: "+e.y.toFixed(2),"width: "+e.width,"height: "+e.height),t.line("velocity x: "+e.velocity.x.toFixed(2),"y: "+e.velocity.y.toFixed(2),"deltaX: "+e._dx.toFixed(2),"deltaY: "+e._dy.toFixed(2)),t.line("acceleration x: "+e.acceleration.x.toFixed(2),"y: "+e.acceleration.y.toFixed(2),"speed: "+e.speed.toFixed(2),"angle: "+e.angle.toFixed(2)),t.line("gravity x: "+e.gravity.x,"y: "+e.gravity.y,"bounce x: "+e.bounce.x.toFixed(2),"y: "+e.bounce.y.toFixed(2)),t.line("touching left: "+e.touching.left,"right: "+e.touching.right,"up: "+e.touching.up,"down: "+e.touching.down),t.line("blocked left: "+e.blocked.left,"right: "+e.blocked.right,"up: "+e.blocked.up,"down: "+e.blocked.down)},i.Physics.Arcade.Body.prototype.constructor=i.Physics.Arcade.Body,i.Physics.Arcade.TilemapCollision=function(){},i.Physics.Arcade.TilemapCollision.prototype={TILE_BIAS:16,collideSpriteVsTilemapLayer:function(t,e,i,s,n,o){if(t.body){var r=e.getTiles(t.body.position.x-t.body.tilePadding.x-e.getTileOffsetX(),t.body.position.y-t.body.tilePadding.y-e.getTileOffsetY(),t.body.width+t.body.tilePadding.x,t.body.height+t.body.tilePadding.y,!1,!1);if(0!==r.length)for(var a=0;a<r.length;a++)s?s.call(n,t,r[a])&&this.separateTile(a,t.body,r[a],e,o)&&(this._total++,i&&i.call(n,t,r[a])):this.separateTile(a,t.body,r[a],e,o)&&(this._total++,i&&i.call(n,t,r[a]))}},collideGroupVsTilemapLayer:function(t,e,i,s,n,o){if(0!==t.length)for(var r=0;r<t.children.length;r++)t.children[r].exists&&this.collideSpriteVsTilemapLayer(t.children[r],e,i,s,n,o)},separateTile:function(t,e,i,s,n){if(!e.enable)return!1;var o=s.getTileOffsetX(),r=s.getTileOffsetY();if(!i.intersects(e.position.x-o,e.position.y-r,e.right-o,e.bottom-r))return!1;if(n)return!0;if(i.collisionCallback&&!i.collisionCallback.call(i.collisionCallbackContext,e.sprite,i))return!1;if(void 0!==i.layer.callbacks&&i.layer.callbacks[i.index]&&!i.layer.callbacks[i.index].callback.call(i.layer.callbacks[i.index].callbackContext,e.sprite,i))return!1;if(!(i.faceLeft||i.faceRight||i.faceTop||i.faceBottom))return!1;var a=0,h=0,l=0,c=1;if(e.deltaAbsX()>e.deltaAbsY()?l=-1:e.deltaAbsX()<e.deltaAbsY()&&(c=-1),0!==e.deltaX()&&0!==e.deltaY()&&(i.faceLeft||i.faceRight)&&(i.faceTop||i.faceBottom)&&(l=Math.min(Math.abs(e.position.x-o-i.right),Math.abs(e.right-o-i.left)),c=Math.min(Math.abs(e.position.y-r-i.bottom),Math.abs(e.bottom-r-i.top))),l<c){if((i.faceLeft||i.faceRight)&&0!==(a=this.tileCheckX(e,i,s))&&!i.intersects(e.position.x-o,e.position.y-r,e.right-o,e.bottom-r))return!0;(i.faceTop||i.faceBottom)&&(h=this.tileCheckY(e,i,s))}else{if((i.faceTop||i.faceBottom)&&0!==(h=this.tileCheckY(e,i,s))&&!i.intersects(e.position.x-o,e.position.y-r,e.right-o,e.bottom-r))return!0;(i.faceLeft||i.faceRight)&&(a=this.tileCheckX(e,i,s))}return 0!==a||0!==h},tileCheckX:function(t,e,i){var s=0,n=i.getTileOffsetX();return t.deltaX()<0&&!t.blocked.left&&e.collideRight&&t.checkCollision.left?e.faceRight&&t.x-n<e.right&&(s=t.x-n-e.right)<-this.TILE_BIAS&&(s=0):t.deltaX()>0&&!t.blocked.right&&e.collideLeft&&t.checkCollision.right&&e.faceLeft&&t.right-n>e.left&&(s=t.right-n-e.left)>this.TILE_BIAS&&(s=0),0!==s&&(t.customSeparateX?t.overlapX=s:this.processTileSeparationX(t,s)),s},tileCheckY:function(t,e,i){var s=0,n=i.getTileOffsetY();return t.deltaY()<0&&!t.blocked.up&&e.collideDown&&t.checkCollision.up?e.faceBottom&&t.y-n<e.bottom&&(s=t.y-n-e.bottom)<-this.TILE_BIAS&&(s=0):t.deltaY()>0&&!t.blocked.down&&e.collideUp&&t.checkCollision.down&&e.faceTop&&t.bottom-n>e.top&&(s=t.bottom-n-e.top)>this.TILE_BIAS&&(s=0),0!==s&&(t.customSeparateY?t.overlapY=s:this.processTileSeparationY(t,s)),s},processTileSeparationX:function(t,e){e<0?(t.blocked.left=!0,t.blocked.none=!1):e>0&&(t.blocked.right=!0,t.blocked.none=!1),t.position.x-=e,0===t.bounce.x?t.velocity.x=0:t.velocity.x=-t.velocity.x*t.bounce.x},processTileSeparationY:function(t,e){e<0?(t.blocked.up=!0,t.blocked.none=!1):e>0&&(t.blocked.down=!0,t.blocked.none=!1),t.position.y-=e,0===t.bounce.y?t.velocity.y=0:t.velocity.y=-t.velocity.y*t.bounce.y}},i.Utils.mixinPrototype(i.Physics.Arcade.prototype,i.Physics.Arcade.TilemapCollision.prototype),p2.Body.prototype.parent=null,p2.Spring.prototype.parent=null,i.Physics.P2=function(t,e){this.game=t,void 0===e?e={gravity:[0,0],broadphase:new p2.SAPBroadphase}:(e.hasOwnProperty("gravity")||(e.gravity=[0,0]),e.hasOwnProperty("broadphase")||(e.broadphase=new p2.SAPBroadphase)),this.config=e,this.world=new p2.World(this.config),this.frameRate=1/60,this.useElapsedTime=!1,this.paused=!1,this.materials=[],this.gravity=new i.Physics.P2.InversePointProxy(this,this.world.gravity),this.walls={left:null,right:null,top:null,bottom:null},this.onBodyAdded=new i.Signal,this.onBodyRemoved=new i.Signal,this.onSpringAdded=new i.Signal,this.onSpringRemoved=new i.Signal,this.onConstraintAdded=new i.Signal,this.onConstraintRemoved=new i.Signal,this.onContactMaterialAdded=new i.Signal,this.onContactMaterialRemoved=new i.Signal,this.postBroadphaseCallback=null,this.callbackContext=null,this.onBeginContact=new i.Signal,this.onEndContact=new i.Signal,e.hasOwnProperty("mpx")&&e.hasOwnProperty("pxm")&&e.hasOwnProperty("mpxi")&&e.hasOwnProperty("pxmi")&&(this.mpx=e.mpx,this.mpxi=e.mpxi,this.pxm=e.pxm,this.pxmi=e.pxmi),this.world.on("beginContact",this.beginContactHandler,this),this.world.on("endContact",this.endContactHandler,this),this.collisionGroups=[],this.nothingCollisionGroup=new i.Physics.P2.CollisionGroup(1),this.boundsCollisionGroup=new i.Physics.P2.CollisionGroup(2),this.everythingCollisionGroup=new i.Physics.P2.CollisionGroup(2147483648),this.boundsCollidesWith=[],this._toRemove=[],this._collisionGroupID=2,this._boundsLeft=!0,this._boundsRight=!0,this._boundsTop=!0,this._boundsBottom=!0,this._boundsOwnGroup=!1,this.setBoundsToWorld(!0,!0,!0,!0,!1)},i.Physics.P2.prototype={removeBodyNextStep:function(t){this._toRemove.push(t)},preUpdate:function(){for(var t=this._toRemove.length;t--;)this.removeBody(this._toRemove[t]);this._toRemove.length=0},enable:function(t,e,s){void 0===e&&(e=!1),void 0===s&&(s=!0);var n=1;if(Array.isArray(t))for(n=t.length;n--;)t[n]instanceof i.Group?this.enable(t[n].children,e,s):(this.enableBody(t[n],e),s&&t[n].hasOwnProperty("children")&&t[n].children.length>0&&this.enable(t[n],e,!0));else t instanceof i.Group?this.enable(t.children,e,s):(this.enableBody(t,e),s&&t.hasOwnProperty("children")&&t.children.length>0&&this.enable(t.children,e,!0))},enableBody:function(t,e){t.hasOwnProperty("body")&&null===t.body&&(t.body=new i.Physics.P2.Body(this.game,t,t.x,t.y,1),t.body.debug=e,void 0!==t.anchor&&t.anchor.set(.5))},setImpactEvents:function(t){t?this.world.on("impact",this.impactHandler,this):this.world.off("impact",this.impactHandler,this)},setPostBroadphaseCallback:function(t,e){this.postBroadphaseCallback=t,this.callbackContext=e,null!==t?this.world.on("postBroadphase",this.postBroadphaseHandler,this):this.world.off("postBroadphase",this.postBroadphaseHandler,this)},postBroadphaseHandler:function(t){if(this.postBroadphaseCallback&&0!==t.pairs.length)for(var e=t.pairs.length-2;e>=0;e-=2)t.pairs[e].parent&&t.pairs[e+1].parent&&!this.postBroadphaseCallback.call(this.callbackContext,t.pairs[e].parent,t.pairs[e+1].parent)&&t.pairs.splice(e,2)},impactHandler:function(t){if(t.bodyA.parent&&t.bodyB.parent){var e=t.bodyA.parent,i=t.bodyB.parent;e._bodyCallbacks[t.bodyB.id]&&e._bodyCallbacks[t.bodyB.id].call(e._bodyCallbackContext[t.bodyB.id],e,i,t.shapeA,t.shapeB),i._bodyCallbacks[t.bodyA.id]&&i._bodyCallbacks[t.bodyA.id].call(i._bodyCallbackContext[t.bodyA.id],i,e,t.shapeB,t.shapeA),e._groupCallbacks[t.shapeB.collisionGroup]&&e._groupCallbacks[t.shapeB.collisionGroup].call(e._groupCallbackContext[t.shapeB.collisionGroup],e,i,t.shapeA,t.shapeB),i._groupCallbacks[t.shapeA.collisionGroup]&&i._groupCallbacks[t.shapeA.collisionGroup].call(i._groupCallbackContext[t.shapeA.collisionGroup],i,e,t.shapeB,t.shapeA)}},beginContactHandler:function(t){t.bodyA&&t.bodyB&&(this.onBeginContact.dispatch(t.bodyA,t.bodyB,t.shapeA,t.shapeB,t.contactEquations),t.bodyA.parent&&t.bodyA.parent.onBeginContact.dispatch(t.bodyB.parent,t.bodyB,t.shapeA,t.shapeB,t.contactEquations),t.bodyB.parent&&t.bodyB.parent.onBeginContact.dispatch(t.bodyA.parent,t.bodyA,t.shapeB,t.shapeA,t.contactEquations))},endContactHandler:function(t){t.bodyA&&t.bodyB&&(this.onEndContact.dispatch(t.bodyA,t.bodyB,t.shapeA,t.shapeB),t.bodyA.parent&&t.bodyA.parent.onEndContact.dispatch(t.bodyB.parent,t.bodyB,t.shapeA,t.shapeB),t.bodyB.parent&&t.bodyB.parent.onEndContact.dispatch(t.bodyA.parent,t.bodyA,t.shapeB,t.shapeA))},setBoundsToWorld:function(t,e,i,s,n){this.setBounds(this.game.world.bounds.x,this.game.world.bounds.y,this.game.world.bounds.width,this.game.world.bounds.height,t,e,i,s,n)},setWorldMaterial:function(t,e,i,s,n){void 0===e&&(e=!0),void 0===i&&(i=!0),void 0===s&&(s=!0),void 0===n&&(n=!0),e&&this.walls.left&&(this.walls.left.shapes[0].material=t),i&&this.walls.right&&(this.walls.right.shapes[0].material=t),s&&this.walls.top&&(this.walls.top.shapes[0].material=t),n&&this.walls.bottom&&(this.walls.bottom.shapes[0].material=t)},updateBoundsCollisionGroup:function(t){void 0===t&&(t=!0);var e=t?this.boundsCollisionGroup.mask:this.everythingCollisionGroup.mask;this.walls.left&&(this.walls.left.shapes[0].collisionGroup=e),this.walls.right&&(this.walls.right.shapes[0].collisionGroup=e),this.walls.top&&(this.walls.top.shapes[0].collisionGroup=e),this.walls.bottom&&(this.walls.bottom.shapes[0].collisionGroup=e),this._boundsOwnGroup=t},setBounds:function(t,e,i,s,n,o,r,a,h){void 0===n&&(n=this._boundsLeft),void 0===o&&(o=this._boundsRight),void 0===r&&(r=this._boundsTop),void 0===a&&(a=this._boundsBottom),void 0===h&&(h=this._boundsOwnGroup),this.setupWall(n,"left",t,e,1.5707963267948966,h),this.setupWall(o,"right",t+i,e,-1.5707963267948966,h),this.setupWall(r,"top",t,e,-3.141592653589793,h),this.setupWall(a,"bottom",t,e+s,0,h),this._boundsLeft=n,this._boundsRight=o,this._boundsTop=r,this._boundsBottom=a,this._boundsOwnGroup=h},setupWall:function(t,e,i,s,n,o){t?(this.walls[e]?this.walls[e].position=[this.pxmi(i),this.pxmi(s)]:(this.walls[e]=new p2.Body({mass:0,position:[this.pxmi(i),this.pxmi(s)],angle:n}),this.walls[e].addShape(new p2.Plane),this.world.addBody(this.walls[e])),o&&(this.walls[e].shapes[0].collisionGroup=this.boundsCollisionGroup.mask)):this.walls[e]&&(this.world.removeBody(this.walls[e]),this.walls[e]=null)},pause:function(){this.paused=!0},resume:function(){this.paused=!1},update:function(){this.paused||(this.useElapsedTime?this.world.step(this.game.time.physicsElapsed):this.world.step(this.frameRate))},reset:function(){this.world.on("beginContact",this.beginContactHandler,this),this.world.on("endContact",this.endContactHandler,this),this.nothingCollisionGroup=new i.Physics.P2.CollisionGroup(1),this.boundsCollisionGroup=new i.Physics.P2.CollisionGroup(2),this.everythingCollisionGroup=new i.Physics.P2.CollisionGroup(2147483648),this._collisionGroupID=2,this.setBoundsToWorld(!0,!0,!0,!0,!1)},clear:function(){this.world.time=0,this.world.fixedStepTime=0,this.world.solver&&this.world.solver.equations.length&&this.world.solver.removeAllEquations();for(var t=this.world.constraints,e=t.length-1;e>=0;e--)this.world.removeConstraint(t[e]);for(var i=this.world.bodies,e=i.length-1;e>=0;e--)this.world.removeBody(i[e]);for(var s=this.world.springs,e=s.length-1;e>=0;e--)this.world.removeSpring(s[e]);for(var n=this.world.contactMaterials,e=n.length-1;e>=0;e--)this.world.removeContactMaterial(n[e]);this.world.off("beginContact",this.beginContactHandler,this),this.world.off("endContact",this.endContactHandler,this),this.postBroadphaseCallback=null,this.callbackContext=null,this.impactCallback=null,this.collisionGroups=[],this._toRemove=[],this.boundsCollidesWith=[],this.walls={left:null,right:null,top:null,bottom:null}},destroy:function(){this.clear(),this.game=null},addBody:function(t){return!t.data.world&&(this.world.addBody(t.data),this.onBodyAdded.dispatch(t),!0)},removeBody:function(t){return t.data.world===this.world&&(this.world.removeBody(t.data),this.onBodyRemoved.dispatch(t)),t},addSpring:function(t){return t instanceof i.Physics.P2.Spring||t instanceof i.Physics.P2.RotationalSpring?this.world.addSpring(t.data):this.world.addSpring(t),this.onSpringAdded.dispatch(t),t},removeSpring:function(t){return t instanceof i.Physics.P2.Spring||t instanceof i.Physics.P2.RotationalSpring?this.world.removeSpring(t.data):this.world.removeSpring(t),this.onSpringRemoved.dispatch(t),t},createDistanceConstraint:function(t,e,s,n,o,r){if(t=this.getBody(t),e=this.getBody(e),t&&e)return this.addConstraint(new i.Physics.P2.DistanceConstraint(this,t,e,s,n,o,r));console.warn("Cannot create Constraint, invalid body objects given")},createGearConstraint:function(t,e,s,n){if(t=this.getBody(t),e=this.getBody(e),t&&e)return this.addConstraint(new i.Physics.P2.GearConstraint(this,t,e,s,n));console.warn("Cannot create Constraint, invalid body objects given")},createRevoluteConstraint:function(t,e,s,n,o,r){if(t=this.getBody(t),s=this.getBody(s),t&&s)return this.addConstraint(new i.Physics.P2.RevoluteConstraint(this,t,e,s,n,o,r));console.warn("Cannot create Constraint, invalid body objects given")},createLockConstraint:function(t,e,s,n,o){if(t=this.getBody(t),e=this.getBody(e),t&&e)return this.addConstraint(new i.Physics.P2.LockConstraint(this,t,e,s,n,o));console.warn("Cannot create Constraint, invalid body objects given")},createPrismaticConstraint:function(t,e,s,n,o,r,a){if(t=this.getBody(t),e=this.getBody(e),t&&e)return this.addConstraint(new i.Physics.P2.PrismaticConstraint(this,t,e,s,n,o,r,a));console.warn("Cannot create Constraint, invalid body objects given")},addConstraint:function(t){return this.world.addConstraint(t),this.onConstraintAdded.dispatch(t),t},removeConstraint:function(t){return this.world.removeConstraint(t),this.onConstraintRemoved.dispatch(t),t},addContactMaterial:function(t){return this.world.addContactMaterial(t),this.onContactMaterialAdded.dispatch(t),t},removeContactMaterial:function(t){return this.world.removeContactMaterial(t),this.onContactMaterialRemoved.dispatch(t),t},getContactMaterial:function(t,e){return this.world.getContactMaterial(t,e)},setMaterial:function(t,e){for(var i=e.length;i--;)e[i].setMaterial(t)},createMaterial:function(t,e){t=t||"";var s=new i.Physics.P2.Material(t);return this.materials.push(s),void 0!==e&&e.setMaterial(s),s},createContactMaterial:function(t,e,s){void 0===t&&(t=this.createMaterial()),void 0===e&&(e=this.createMaterial());var n=new i.Physics.P2.ContactMaterial(t,e,s);return this.addContactMaterial(n)},getBodies:function(){for(var t=[],e=this.world.bodies.length;e--;)t.push(this.world.bodies[e].parent);return t},getBody:function(t){return t instanceof p2.Body?t:t instanceof i.Physics.P2.Body?t.data:t.body&&t.body.type===i.Physics.P2JS?t.body.data:null},getSprings:function(){for(var t=[],e=this.world.springs.length;e--;)t.push(this.world.springs[e].parent);return t},getConstraints:function(){for(var t=[],e=this.world.constraints.length;e--;)t.push(this.world.constraints[e]);return t},hitTest:function(t,e,s,n){void 0===e&&(e=this.world.bodies),void 0===s&&(s=5),void 0===n&&(n=!1);for(var o=[this.pxmi(t.x),this.pxmi(t.y)],r=[],a=e.length;a--;)e[a]instanceof i.Physics.P2.Body&&(!n||e[a].data.type!==p2.Body.STATIC)?r.push(e[a].data):e[a]instanceof p2.Body&&e[a].parent&&(!n||e[a].type!==p2.Body.STATIC)?r.push(e[a]):e[a]instanceof i.Sprite&&e[a].hasOwnProperty("body")&&(!n||e[a].body.data.type!==p2.Body.STATIC)&&r.push(e[a].body.data);return this.world.hitTest(o,r,s)},toJSON:function(){return this.world.toJSON()},createCollisionGroup:function(t){var e=Math.pow(2,this._collisionGroupID);this.walls.left&&(this.walls.left.shapes[0].collisionMask=this.walls.left.shapes[0].collisionMask|e),this.walls.right&&(this.walls.right.shapes[0].collisionMask=this.walls.right.shapes[0].collisionMask|e),this.walls.top&&(this.walls.top.shapes[0].collisionMask=this.walls.top.shapes[0].collisionMask|e),this.walls.bottom&&(this.walls.bottom.shapes[0].collisionMask=this.walls.bottom.shapes[0].collisionMask|e),this._collisionGroupID++;var s=new i.Physics.P2.CollisionGroup(e);return this.collisionGroups.push(s),t&&this.setCollisionGroup(t,s),s},setCollisionGroup:function(t,e){if(t instanceof i.Group)for(var s=0;s<t.total;s++)t.children[s].body&&t.children[s].body.type===i.Physics.P2JS&&t.children[s].body.setCollisionGroup(e);else t.body.setCollisionGroup(e)},createSpring:function(t,e,s,n,o,r,a,h,l){if(t=this.getBody(t),e=this.getBody(e),t&&e)return this.addSpring(new i.Physics.P2.Spring(this,t,e,s,n,o,r,a,h,l));console.warn("Cannot create Spring, invalid body objects given")},createRotationalSpring:function(t,e,s,n,o){if(t=this.getBody(t),e=this.getBody(e),t&&e)return this.addSpring(new i.Physics.P2.RotationalSpring(this,t,e,s,n,o));console.warn("Cannot create Rotational Spring, invalid body objects given")},createBody:function(t,e,s,n,o,r){void 0===n&&(n=!1);var a=new i.Physics.P2.Body(this.game,null,t,e,s);return!(r&&!a.addPolygon(o,r))&&(n&&this.world.addBody(a.data),a)},createParticle:function(t,e,s,n,o,r){void 0===n&&(n=!1);var a=new i.Physics.P2.Body(this.game,null,t,e,s);return!(r&&!a.addPolygon(o,r))&&(n&&this.world.addBody(a.data),a)},convertCollisionObjects:function(t,e,i){void 0===i&&(i=!0);for(var s=[],n=0,o=t.collision[e].length;n<o;n++){var r=t.collision[e][n],a=r.polyline||r.polygon;if(a)var h=this.createBody(r.x,r.y,0,i,{},a);else r.rectangle&&(h=this.createBody(r.x,r.y,0,i)).addRectangle(r.width,r.height,r.width/2,r.height/2);h&&s.push(h)}return s},clearTilemapLayerBodies:function(t,e){e=t.getLayer(e);for(var i=t.layers[e].bodies.length;i--;)t.layers[e].bodies[i].destroy();t.layers[e].bodies.length=0},convertTilemap:function(t,e,i,s){e=t.getLayer(e),void 0===i&&(i=!0),void 0===s&&(s=!0),this.clearTilemapLayerBodies(t,e);for(var n=0,o=0,r=0,a=0,h=t.layers[e].height;a<h;a++){n=0;for(var l=0,c=t.layers[e].width;l<c;l++){var u=t.layers[e].data[a][l];if(u&&u.index>-1&&u.collides)if(s){var d=t.getTileRight(e,l,a);0===n&&(o=u.x*u.width,r=u.y*u.height,n=u.width),d&&d.collides?n+=u.width:((p=this.createBody(o,r,0,!1)).addRectangle(n,u.height,n/2,u.height/2,0),i&&this.addBody(p),t.layers[e].bodies.push(p),n=0)}else{var p=this.createBody(u.x*u.width,u.y*u.height,0,!1);p.addRectangle(u.width,u.height,u.width/2,u.height/2,0),i&&this.addBody(p),t.layers[e].bodies.push(p)}}}return t.layers[e].bodies},mpx:function(t){return t*=20},pxm:function(t){return.05*t},mpxi:function(t){return t*=-20},pxmi:function(t){return-.05*t}},Object.defineProperty(i.Physics.P2.prototype,"friction",{get:function(){return this.world.defaultContactMaterial.friction},set:function(t){this.world.defaultContactMaterial.friction=t}}),Object.defineProperty(i.Physics.P2.prototype,"restitution",{get:function(){return this.world.defaultContactMaterial.restitution},set:function(t){this.world.defaultContactMaterial.restitution=t}}),Object.defineProperty(i.Physics.P2.prototype,"contactMaterial",{get:function(){return this.world.defaultContactMaterial},set:function(t){this.world.defaultContactMaterial=t}}),Object.defineProperty(i.Physics.P2.prototype,"applySpringForces",{get:function(){return this.world.applySpringForces},set:function(t){this.world.applySpringForces=t}}),Object.defineProperty(i.Physics.P2.prototype,"applyDamping",{get:function(){return this.world.applyDamping},set:function(t){this.world.applyDamping=t}}),Object.defineProperty(i.Physics.P2.prototype,"applyGravity",{get:function(){return this.world.applyGravity},set:function(t){this.world.applyGravity=t}}),Object.defineProperty(i.Physics.P2.prototype,"solveConstraints",{get:function(){return this.world.solveConstraints},set:function(t){this.world.solveConstraints=t}}),Object.defineProperty(i.Physics.P2.prototype,"time",{get:function(){return this.world.time}}),Object.defineProperty(i.Physics.P2.prototype,"emitImpactEvent",{get:function(){return this.world.emitImpactEvent},set:function(t){this.world.emitImpactEvent=t}}),Object.defineProperty(i.Physics.P2.prototype,"sleepMode",{get:function(){return this.world.sleepMode},set:function(t){this.world.sleepMode=t}}),Object.defineProperty(i.Physics.P2.prototype,"total",{get:function(){return this.world.bodies.length}}),i.Physics.P2.FixtureList=function(t){Array.isArray(t)||(t=[t]),this.rawList=t,this.init(),this.parse(this.rawList)},i.Physics.P2.FixtureList.prototype={init:function(){this.namedFixtures={},this.groupedFixtures=[],this.allFixtures=[]},setCategory:function(t,e){this.getFixtures(e).forEach(function(e){e.collisionGroup=t})},setMask:function(t,e){this.getFixtures(e).forEach(function(e){e.collisionMask=t})},setSensor:function(t,e){this.getFixtures(e).forEach(function(e){e.sensor=t})},setMaterial:function(t,e){this.getFixtures(e).forEach(function(e){e.material=t})},getFixtures:function(t){var e=[];if(t){t instanceof Array||(t=[t]);var i=this;return t.forEach(function(t){i.namedFixtures[t]&&e.push(i.namedFixtures[t])}),this.flatten(e)}return this.allFixtures},getFixtureByKey:function(t){return this.namedFixtures[t]},getGroup:function(t){return this.groupedFixtures[t]},parse:function(){var t,e,i,s;i=this.rawList,s=[];for(t in i)e=i[t],isNaN(t-0)?this.namedFixtures[t]=this.flatten(e):(this.groupedFixtures[t]=this.groupedFixtures[t]||[],this.groupedFixtures[t]=this.groupedFixtures[t].concat(e)),s.push(this.allFixtures=this.flatten(this.groupedFixtures))},flatten:function(t){var e,i;return e=[],i=arguments.callee,t.forEach(function(t){return Array.prototype.push.apply(e,Array.isArray(t)?i(t):[t])}),e}},i.Physics.P2.PointProxy=function(t,e){this.world=t,this.destination=e},i.Physics.P2.PointProxy.prototype.constructor=i.Physics.P2.PointProxy,Object.defineProperty(i.Physics.P2.PointProxy.prototype,"x",{get:function(){return this.world.mpx(this.destination[0])},set:function(t){this.destination[0]=this.world.pxm(t)}}),Object.defineProperty(i.Physics.P2.PointProxy.prototype,"y",{get:function(){return this.world.mpx(this.destination[1])},set:function(t){this.destination[1]=this.world.pxm(t)}}),Object.defineProperty(i.Physics.P2.PointProxy.prototype,"mx",{get:function(){return this.destination[0]},set:function(t){this.destination[0]=t}}),Object.defineProperty(i.Physics.P2.PointProxy.prototype,"my",{get:function(){return this.destination[1]},set:function(t){this.destination[1]=t}}),i.Physics.P2.InversePointProxy=function(t,e){this.world=t,this.destination=e},i.Physics.P2.InversePointProxy.prototype.constructor=i.Physics.P2.InversePointProxy,Object.defineProperty(i.Physics.P2.InversePointProxy.prototype,"x",{get:function(){return this.world.mpxi(this.destination[0])},set:function(t){this.destination[0]=this.world.pxmi(t)}}),Object.defineProperty(i.Physics.P2.InversePointProxy.prototype,"y",{get:function(){return this.world.mpxi(this.destination[1])},set:function(t){this.destination[1]=this.world.pxmi(t)}}),Object.defineProperty(i.Physics.P2.InversePointProxy.prototype,"mx",{get:function(){return this.destination[0]},set:function(t){this.destination[0]=-t}}),Object.defineProperty(i.Physics.P2.InversePointProxy.prototype,"my",{get:function(){return this.destination[1]},set:function(t){this.destination[1]=-t}}),i.Physics.P2.Body=function(t,e,s,n,o){e=e||null,s=s||0,n=n||0,void 0===o&&(o=1),this.game=t,this.world=t.physics.p2,this.sprite=e,this.type=i.Physics.P2JS,this.offset=new i.Point,this.data=new p2.Body({position:[this.world.pxmi(s),this.world.pxmi(n)],mass:o}),this.data.parent=this,this.velocity=new i.Physics.P2.InversePointProxy(this.world,this.data.velocity),this.force=new i.Physics.P2.InversePointProxy(this.world,this.data.force),this.gravity=new i.Point,this.onBeginContact=new i.Signal,this.onEndContact=new i.Signal,this.collidesWith=[],this.removeNextStep=!1,this.debugBody=null,this.dirty=!1,this._collideWorldBounds=!0,this._bodyCallbacks={},this._bodyCallbackContext={},this._groupCallbacks={},this._groupCallbackContext={},this._reset=!1,e&&(this.setRectangleFromSprite(e),e.exists&&this.game.physics.p2.addBody(this))},i.Physics.P2.Body.prototype={createBodyCallback:function(t,e,i){var s=-1;t.id?s=t.id:t.body&&(s=t.body.id),s>-1&&(null===e?(delete this._bodyCallbacks[s],delete this._bodyCallbackContext[s]):(this._bodyCallbacks[s]=e,this._bodyCallbackContext[s]=i))},createGroupCallback:function(t,e,i){null===e?(delete this._groupCallbacks[t.mask],delete this._groupCallbackContext[t.mask]):(this._groupCallbacks[t.mask]=e,this._groupCallbackContext[t.mask]=i)},getCollisionMask:function(){var t=0;this._collideWorldBounds&&(t=this.game.physics.p2.boundsCollisionGroup.mask);for(var e=0;e<this.collidesWith.length;e++)t|=this.collidesWith[e].mask;return t},updateCollisionMask:function(t){var e=this.getCollisionMask();if(void 0===t)for(var i=this.data.shapes.length-1;i>=0;i--)this.data.shapes[i].collisionMask=e;else t.collisionMask=e},setCollisionGroup:function(t,e){var i=this.getCollisionMask();if(void 0===e)for(var s=this.data.shapes.length-1;s>=0;s--)this.data.shapes[s].collisionGroup=t.mask,this.data.shapes[s].collisionMask=i;else e.collisionGroup=t.mask,e.collisionMask=i},clearCollision:function(t,e,i){if(void 0===t&&(t=!0),void 0===e&&(e=!0),void 0===i)for(var s=this.data.shapes.length-1;s>=0;s--)t&&(this.data.shapes[s].collisionGroup=null),e&&(this.data.shapes[s].collisionMask=null);else t&&(i.collisionGroup=null),e&&(i.collisionMask=null);t&&(this.collidesWith.length=0)},removeCollisionGroup:function(t,e,i){void 0===e&&(e=!0);var s;if(Array.isArray(t))for(o=0;o<t.length;o++)(s=this.collidesWith.indexOf(t[o]))>-1&&(this.collidesWith.splice(s,1),e&&(delete this._groupCallbacks[t.mask],delete this._groupCallbackContext[t.mask]));else(s=this.collidesWith.indexOf(t))>-1&&(this.collidesWith.splice(s,1),e&&(delete this._groupCallbacks[t.mask],delete this._groupCallbackContext[t.mask]));var n=this.getCollisionMask();if(void 0===i)for(var o=this.data.shapes.length-1;o>=0;o--)this.data.shapes[o].collisionMask=n;else i.collisionMask=n},collides:function(t,e,i,s){if(Array.isArray(t))for(o=0;o<t.length;o++)-1===this.collidesWith.indexOf(t[o])&&(this.collidesWith.push(t[o]),e&&this.createGroupCallback(t[o],e,i));else-1===this.collidesWith.indexOf(t)&&(this.collidesWith.push(t),e&&this.createGroupCallback(t,e,i));var n=this.getCollisionMask();if(void 0===s)for(var o=this.data.shapes.length-1;o>=0;o--)this.data.shapes[o].collisionMask=n;else s.collisionMask=n},adjustCenterOfMass:function(){this.data.adjustCenterOfMass(),this.shapeChanged()},getVelocityAtPoint:function(t,e){return this.data.getVelocityAtPoint(t,e)},applyDamping:function(t){this.data.applyDamping(t)},applyImpulse:function(t,e,i){this.data.applyImpulse(t,[this.world.pxmi(e),this.world.pxmi(i)])},applyImpulseLocal:function(t,e,i){this.data.applyImpulseLocal(t,[this.world.pxmi(e),this.world.pxmi(i)])},applyForce:function(t,e,i){this.data.applyForce(t,[this.world.pxmi(e),this.world.pxmi(i)])},setZeroForce:function(){this.data.setZeroForce()},setZeroRotation:function(){this.data.angularVelocity=0},setZeroVelocity:function(){this.data.velocity[0]=0,this.data.velocity[1]=0},setZeroDamping:function(){this.data.damping=0,this.data.angularDamping=0},toLocalFrame:function(t,e){return this.data.toLocalFrame(t,e)},toWorldFrame:function(t,e){return this.data.toWorldFrame(t,e)},rotateLeft:function(t){this.data.angularVelocity=this.world.pxm(-t)},rotateRight:function(t){this.data.angularVelocity=this.world.pxm(t)},moveForward:function(t){var e=this.world.pxmi(-t),i=this.data.angle+Math.PI/2;this.data.velocity[0]=e*Math.cos(i),this.data.velocity[1]=e*Math.sin(i)},moveBackward:function(t){var e=this.world.pxmi(-t),i=this.data.angle+Math.PI/2;this.data.velocity[0]=-e*Math.cos(i),this.data.velocity[1]=-e*Math.sin(i)},thrust:function(t){var e=this.world.pxmi(-t),i=this.data.angle+Math.PI/2;this.data.force[0]+=e*Math.cos(i),this.data.force[1]+=e*Math.sin(i)},thrustLeft:function(t){var e=this.world.pxmi(-t),i=this.data.angle;this.data.force[0]+=e*Math.cos(i),this.data.force[1]+=e*Math.sin(i)},thrustRight:function(t){var e=this.world.pxmi(-t),i=this.data.angle;this.data.force[0]-=e*Math.cos(i),this.data.force[1]-=e*Math.sin(i)},reverse:function(t){var e=this.world.pxmi(-t),i=this.data.angle+Math.PI/2;this.data.force[0]-=e*Math.cos(i),this.data.force[1]-=e*Math.sin(i)},moveLeft:function(t){this.data.velocity[0]=this.world.pxmi(-t)},moveRight:function(t){this.data.velocity[0]=this.world.pxmi(t)},moveUp:function(t){this.data.velocity[1]=this.world.pxmi(-t)},moveDown:function(t){this.data.velocity[1]=this.world.pxmi(t)},preUpdate:function(){this.dirty=!0,this.removeNextStep&&(this.removeFromWorld(),this.removeNextStep=!1)},postUpdate:function(){this.sprite.x=this.world.mpxi(this.data.position[0])+this.offset.x,this.sprite.y=this.world.mpxi(this.data.position[1])+this.offset.y,this.fixedRotation||(this.sprite.rotation=this.data.angle),this.debugBody&&this.debugBody.updateSpriteTransform(),this.dirty=!1},reset:function(t,e,i,s){void 0===i&&(i=!1),void 0===s&&(s=!1),this.setZeroForce(),this.setZeroVelocity(),this.setZeroRotation(),i&&this.setZeroDamping(),s&&(this.mass=1),this.x=t,this.y=e},addToWorld:function(){if(this.game.physics.p2._toRemove)for(var t=0;t<this.game.physics.p2._toRemove.length;t++)this.game.physics.p2._toRemove[t]===this&&this.game.physics.p2._toRemove.splice(t,1);this.data.world!==this.game.physics.p2.world&&this.game.physics.p2.addBody(this)},removeFromWorld:function(){this.data.world===this.game.physics.p2.world&&this.game.physics.p2.removeBodyNextStep(this)},destroy:function(){this.removeFromWorld(),this.clearShapes(),this._bodyCallbacks={},this._bodyCallbackContext={},this._groupCallbacks={},this._groupCallbackContext={},this.debugBody&&this.debugBody.destroy(!0,!0),this.debugBody=null,this.sprite&&(this.sprite.body=null,this.sprite=null)},clearShapes:function(){for(var t=this.data.shapes.length;t--;)this.data.removeShape(this.data.shapes[t]);this.shapeChanged()},addShape:function(t,e,i,s){return void 0===e&&(e=0),void 0===i&&(i=0),void 0===s&&(s=0),this.data.addShape(t,[this.world.pxmi(e),this.world.pxmi(i)],s),this.shapeChanged(),t},addCircle:function(t,e,i,s){var n=new p2.Circle({radius:this.world.pxm(t)});return this.addShape(n,e,i,s)},addRectangle:function(t,e,i,s,n){var o=new p2.Box({width:this.world.pxm(t),height:this.world.pxm(e)});return this.addShape(o,i,s,n)},addPlane:function(t,e,i){var s=new p2.Plane;return this.addShape(s,t,e,i)},addParticle:function(t,e,i){var s=new p2.Particle;return this.addShape(s,t,e,i)},addLine:function(t,e,i,s){var n=new p2.Line({length:this.world.pxm(t)});return this.addShape(n,e,i,s)},addCapsule:function(t,e,i,s,n){var o=new p2.Capsule({length:this.world.pxm(t),radius:this.world.pxm(e)});return this.addShape(o,i,s,n)},addPolygon:function(t,e){t=t||{},Array.isArray(e)||(e=Array.prototype.slice.call(arguments,1));var i=[];if(1===e.length&&Array.isArray(e[0]))i=e[0].slice(0);else if(Array.isArray(e[0]))i=e.slice();else if("number"==typeof e[0])for(var s=0,n=e.length;s<n;s+=2)i.push([e[s],e[s+1]]);var o=i.length-1;i[o][0]===i[0][0]&&i[o][1]===i[0][1]&&i.pop();for(var r=0;r<i.length;r++)i[r][0]=this.world.pxmi(i[r][0]),i[r][1]=this.world.pxmi(i[r][1]);var a=this.data.fromPolygon(i,t);return this.shapeChanged(),a},removeShape:function(t){var e=this.data.removeShape(t);return this.shapeChanged(),e},setCircle:function(t,e,i,s){return this.clearShapes(),this.addCircle(t,e,i,s)},setRectangle:function(t,e,i,s,n){return void 0===t&&(t=16),void 0===e&&(e=16),this.clearShapes(),this.addRectangle(t,e,i,s,n)},setRectangleFromSprite:function(t){return void 0===t&&(t=this.sprite),this.clearShapes(),this.addRectangle(t.width,t.height,0,0,t.rotation)},setMaterial:function(t,e){if(void 0===e)for(var i=this.data.shapes.length-1;i>=0;i--)this.data.shapes[i].material=t;else e.material=t},shapeChanged:function(){this.debugBody&&this.debugBody.draw()},addPhaserPolygon:function(t,e){for(var i=this.game.cache.getPhysicsData(t,e),s=[],n=0;n<i.length;n++){var o=i[n],r=this.addFixture(o);s[o.filter.group]=s[o.filter.group]||[],s[o.filter.group]=s[o.filter.group].concat(r),o.fixtureKey&&(s[o.fixtureKey]=r)}return this.data.aabbNeedsUpdate=!0,this.shapeChanged(),s},addFixture:function(t){var e=[];if(t.circle){(l=new p2.Circle({radius:this.world.pxm(t.circle.radius)})).collisionGroup=t.filter.categoryBits,l.collisionMask=t.filter.maskBits,l.sensor=t.isSensor;var i=p2.vec2.create();i[0]=this.world.pxmi(t.circle.position[0]-this.sprite.width/2),i[1]=this.world.pxmi(t.circle.position[1]-this.sprite.height/2),this.data.addShape(l,i),e.push(l)}else for(var s=t.polygons,n=p2.vec2.create(),o=0;o<s.length;o++){for(var r=s[o],a=[],h=0;h<r.length;h+=2)a.push([this.world.pxmi(r[h]),this.world.pxmi(r[h+1])]);for(var l=new p2.Convex({vertices:a}),c=0;c!==l.vertices.length;c++){var u=l.vertices[c];p2.vec2.sub(u,u,l.centerOfMass)}p2.vec2.scale(n,l.centerOfMass,1),n[0]-=this.world.pxmi(this.sprite.width/2),n[1]-=this.world.pxmi(this.sprite.height/2),l.updateTriangles(),l.updateCenterOfMass(),l.updateBoundingRadius(),l.collisionGroup=t.filter.categoryBits,l.collisionMask=t.filter.maskBits,l.sensor=t.isSensor,this.data.addShape(l,n),e.push(l)}return e},loadPolygon:function(t,e,i){if(null===t)s=e;else var s=this.game.cache.getPhysicsData(t,e);"number"!=typeof i&&(i=1);for(var n=p2.vec2.create(),o=0;o<s.length;o++){for(var r=[],a=0;a<s[o].shape.length;a+=2)r.push([this.world.pxmi(s[o].shape[a]*i),this.world.pxmi(s[o].shape[a+1]*i)]);for(var h=new p2.Convex({vertices:r}),l=0;l!==h.vertices.length;l++){var c=h.vertices[l];p2.vec2.sub(c,c,h.centerOfMass)}p2.vec2.scale(n,h.centerOfMass,1),n[0]-=this.world.pxmi(this.sprite.width/2),n[1]-=this.world.pxmi(this.sprite.height/2),h.updateTriangles(),h.updateCenterOfMass(),h.updateBoundingRadius(),this.data.addShape(h,n)}return this.data.aabbNeedsUpdate=!0,this.shapeChanged(),!0}},i.Physics.P2.Body.prototype.constructor=i.Physics.P2.Body,i.Physics.P2.Body.DYNAMIC=1,i.Physics.P2.Body.STATIC=2,i.Physics.P2.Body.KINEMATIC=4,Object.defineProperty(i.Physics.P2.Body.prototype,"static",{get:function(){return this.data.type===i.Physics.P2.Body.STATIC},set:function(t){t&&this.data.type!==i.Physics.P2.Body.STATIC?(this.data.type=i.Physics.P2.Body.STATIC,this.mass=0):t||this.data.type!==i.Physics.P2.Body.STATIC||(this.data.type=i.Physics.P2.Body.DYNAMIC,this.mass=1)}}),Object.defineProperty(i.Physics.P2.Body.prototype,"dynamic",{get:function(){return this.data.type===i.Physics.P2.Body.DYNAMIC},set:function(t){t&&this.data.type!==i.Physics.P2.Body.DYNAMIC?(this.data.type=i.Physics.P2.Body.DYNAMIC,this.mass=1):t||this.data.type!==i.Physics.P2.Body.DYNAMIC||(this.data.type=i.Physics.P2.Body.STATIC,this.mass=0)}}),Object.defineProperty(i.Physics.P2.Body.prototype,"kinematic",{get:function(){return this.data.type===i.Physics.P2.Body.KINEMATIC},set:function(t){t&&this.data.type!==i.Physics.P2.Body.KINEMATIC?(this.data.type=i.Physics.P2.Body.KINEMATIC,this.mass=4):t||this.data.type!==i.Physics.P2.Body.KINEMATIC||(this.data.type=i.Physics.P2.Body.STATIC,this.mass=0)}}),Object.defineProperty(i.Physics.P2.Body.prototype,"allowSleep",{get:function(){return this.data.allowSleep},set:function(t){t!==this.data.allowSleep&&(this.data.allowSleep=t)}}),Object.defineProperty(i.Physics.P2.Body.prototype,"angle",{get:function(){return i.Math.wrapAngle(i.Math.radToDeg(this.data.angle))},set:function(t){this.data.angle=i.Math.degToRad(i.Math.wrapAngle(t))}}),Object.defineProperty(i.Physics.P2.Body.prototype,"angularDamping",{get:function(){return this.data.angularDamping},set:function(t){this.data.angularDamping=t}}),Object.defineProperty(i.Physics.P2.Body.prototype,"angularForce",{get:function(){return this.data.angularForce},set:function(t){this.data.angularForce=t}}),Object.defineProperty(i.Physics.P2.Body.prototype,"angularVelocity",{get:function(){return this.data.angularVelocity},set:function(t){this.data.angularVelocity=t}}),Object.defineProperty(i.Physics.P2.Body.prototype,"damping",{get:function(){return this.data.damping},set:function(t){this.data.damping=t}}),Object.defineProperty(i.Physics.P2.Body.prototype,"fixedRotation",{get:function(){return this.data.fixedRotation},set:function(t){t!==this.data.fixedRotation&&(this.data.fixedRotation=t)}}),Object.defineProperty(i.Physics.P2.Body.prototype,"inertia",{get:function(){return this.data.inertia},set:function(t){this.data.inertia=t}}),Object.defineProperty(i.Physics.P2.Body.prototype,"mass",{get:function(){return this.data.mass},set:function(t){t!==this.data.mass&&(this.data.mass=t,this.data.updateMassProperties())}}),Object.defineProperty(i.Physics.P2.Body.prototype,"motionState",{get:function(){return this.data.type},set:function(t){t!==this.data.type&&(this.data.type=t)}}),Object.defineProperty(i.Physics.P2.Body.prototype,"rotation",{get:function(){return this.data.angle},set:function(t){this.data.angle=t}}),Object.defineProperty(i.Physics.P2.Body.prototype,"sleepSpeedLimit",{get:function(){return this.data.sleepSpeedLimit},set:function(t){this.data.sleepSpeedLimit=t}}),Object.defineProperty(i.Physics.P2.Body.prototype,"x",{get:function(){return this.world.mpxi(this.data.position[0])},set:function(t){this.data.position[0]=this.world.pxmi(t)}}),Object.defineProperty(i.Physics.P2.Body.prototype,"y",{get:function(){return this.world.mpxi(this.data.position[1])},set:function(t){this.data.position[1]=this.world.pxmi(t)}}),Object.defineProperty(i.Physics.P2.Body.prototype,"id",{get:function(){return this.data.id}}),Object.defineProperty(i.Physics.P2.Body.prototype,"debug",{get:function(){return null!==this.debugBody},set:function(t){t&&!this.debugBody?this.debugBody=new i.Physics.P2.BodyDebug(this.game,this.data):!t&&this.debugBody&&(this.debugBody.destroy(),this.debugBody=null)}}),Object.defineProperty(i.Physics.P2.Body.prototype,"collideWorldBounds",{get:function(){return this._collideWorldBounds},set:function(t){t&&!this._collideWorldBounds?(this._collideWorldBounds=!0,this.updateCollisionMask()):!t&&this._collideWorldBounds&&(this._collideWorldBounds=!1,this.updateCollisionMask())}}),i.Physics.P2.BodyDebug=function(t,e,s){i.Group.call(this,t);var n={pixelsPerLengthUnit:t.physics.p2.mpx(1),debugPolygons:!1,lineWidth:1,alpha:.5};this.settings=i.Utils.extend(n,s),this.ppu=this.settings.pixelsPerLengthUnit,this.ppu=-1*this.ppu,this.body=e,this.canvas=new i.Graphics(t),this.canvas.alpha=this.settings.alpha,this.add(this.canvas),this.draw(),this.updateSpriteTransform()},i.Physics.P2.BodyDebug.prototype=Object.create(i.Group.prototype),i.Physics.P2.BodyDebug.prototype.constructor=i.Physics.P2.BodyDebug,i.Utils.extend(i.Physics.P2.BodyDebug.prototype,{updateSpriteTransform:function(){this.position.x=this.body.position[0]*this.ppu,this.position.y=this.body.position[1]*this.ppu,this.rotation=this.body.angle},draw:function(){var t,e,i,s,n,o,r,a,h,l,c,u,d,p;if(r=this.body,(h=this.canvas).clear(),i=parseInt(this.randomPastelHex(),16),16711680,o=this.lineWidth,r instanceof p2.Body&&r.shapes.length){var f=r.shapes.length;for(s=0;s!==f;){if(e=r.shapes[s],a=e.position||0,t=e.angle||0,e instanceof p2.Circle)this.drawCircle(h,a[0]*this.ppu,a[1]*this.ppu,t,e.radius*this.ppu,i,o);else if(e instanceof p2.Capsule)this.drawCapsule(h,a[0]*this.ppu,a[1]*this.ppu,t,e.length*this.ppu,e.radius*this.ppu,16711680,i,o);else if(e instanceof p2.Plane)this.drawPlane(h,a[0]*this.ppu,-a[1]*this.ppu,i,16711680,5*o,10*o,10*o,100*this.ppu,t);else if(e instanceof p2.Line)this.drawLine(h,e.length*this.ppu,16711680,o);else if(e instanceof p2.Box)this.drawRectangle(h,a[0]*this.ppu,a[1]*this.ppu,t,e.width*this.ppu,e.height*this.ppu,16711680,i,o);else if(e instanceof p2.Convex){for(c=[],u=p2.vec2.create(),n=d=0,p=e.vertices.length;0<=p?d<p:d>p;n=0<=p?++d:--d)l=e.vertices[n],p2.vec2.rotate(u,l,t),c.push([(u[0]+a[0])*this.ppu,-(u[1]+a[1])*this.ppu]);this.drawConvex(h,c,e.triangles,16711680,i,o,this.settings.debugPolygons,[a[0]*this.ppu,-a[1]*this.ppu])}s++}}},drawRectangle:function(t,e,i,s,n,o,r,a,h){void 0===h&&(h=1),void 0===r&&(r=0),t.lineStyle(h,r,1),t.beginFill(a),t.drawRect(e-n/2,i-o/2,n,o)},drawCircle:function(t,e,i,s,n,o,r){void 0===r&&(r=1),void 0===o&&(o=16777215),t.lineStyle(r,0,1),t.beginFill(o,1),t.drawCircle(e,i,2*-n),t.endFill(),t.moveTo(e,i),t.lineTo(e+n*Math.cos(-s),i+n*Math.sin(-s))},drawLine:function(t,e,i,s){void 0===s&&(s=1),void 0===i&&(i=0),t.lineStyle(5*s,i,1),t.moveTo(-e/2,0),t.lineTo(e/2,0)},drawConvex:function(t,e,i,s,n,o,r,a){var h,l,c,u,d,p,f,m,g,y,v;if(void 0===o&&(o=1),void 0===s&&(s=0),r){for(h=[16711680,65280,255],l=0;l!==e.length+1;)u=e[l%e.length],d=e[(l+1)%e.length],f=u[0],y=u[1],m=d[0],v=d[1],t.lineStyle(o,h[l%h.length],1),t.moveTo(f,-y),t.lineTo(m,-v),t.drawCircle(f,-y,2*o),l++;return t.lineStyle(o,0,1),t.drawCircle(a[0],a[1],2*o)}for(t.lineStyle(o,s,1),t.beginFill(n),l=0;l!==e.length;)p=(c=e[l])[0],g=c[1],0===l?t.moveTo(p,-g):t.lineTo(p,-g),l++;if(t.endFill(),e.length>2)return t.moveTo(e[e.length-1][0],-e[e.length-1][1]),t.lineTo(e[0][0],-e[0][1])},drawPath:function(t,e,i,s,n){var o,r,a,h,l,c,u,d,p,f,m;for(void 0===n&&(n=1),void 0===i&&(i=0),t.lineStyle(n,i,1),"number"==typeof s&&t.beginFill(s),r=null,a=null,o=0;o<e.length;)f=(p=e[o])[0],m=p[1],f===r&&m===a||(0===o?t.moveTo(f,m):(h=r,l=a,c=f,u=m,d=e[(o+1)%e.length][0],0!==(c-h)*(e[(o+1)%e.length][1]-l)-(d-h)*(u-l)&&t.lineTo(f,m)),r=f,a=m),o++;"number"==typeof s&&t.endFill(),e.length>2&&"number"==typeof s&&(t.moveTo(e[e.length-1][0],e[e.length-1][1]),t.lineTo(e[0][0],e[0][1]))},drawPlane:function(t,e,i,s,n,o,r,a,h,l){var c,u;void 0===o&&(o=1),void 0===s&&(s=16777215),t.lineStyle(o,n,11),t.beginFill(s),t.moveTo(e,-i),c=e+Math.cos(l)*this.game.width,u=i+Math.sin(l)*this.game.height,t.lineTo(c,-u),t.moveTo(e,-i),c=e+Math.cos(l)*-this.game.width,u=i+Math.sin(l)*-this.game.height,t.lineTo(c,-u)},drawCapsule:function(t,e,i,s,n,o,r,a,h){void 0===h&&(h=1),void 0===r&&(r=0),t.lineStyle(h,r,1);var l=Math.cos(s),c=Math.sin(s);t.beginFill(a,1),t.drawCircle(-n/2*l+e,-n/2*c+i,2*-o),t.drawCircle(n/2*l+e,n/2*c+i,2*-o),t.endFill(),t.lineStyle(h,r,0),t.beginFill(a,1),t.moveTo(-n/2*l+o*c+e,-n/2*c+o*l+i),t.lineTo(n/2*l+o*c+e,n/2*c+o*l+i),t.lineTo(n/2*l-o*c+e,n/2*c-o*l+i),t.lineTo(-n/2*l-o*c+e,-n/2*c-o*l+i),t.endFill(),t.lineStyle(h,r,1),t.moveTo(-n/2*l+o*c+e,-n/2*c+o*l+i),t.lineTo(n/2*l+o*c+e,n/2*c+o*l+i),t.moveTo(-n/2*l-o*c+e,-n/2*c-o*l+i),t.lineTo(n/2*l-o*c+e,n/2*c-o*l+i)},randomPastelHex:function(){var t,e,i,s;return i=[255,255,255],s=Math.floor(256*Math.random()),e=Math.floor(256*Math.random()),t=Math.floor(256*Math.random()),s=Math.floor((s+3*i[0])/4),e=Math.floor((e+3*i[1])/4),t=Math.floor((t+3*i[2])/4),this.rgbToHex(s,e,t)},rgbToHex:function(t,e,i){return this.componentToHex(t)+this.componentToHex(e)+this.componentToHex(i)},componentToHex:function(t){var e;return 2===(e=t.toString(16)).length?e:e+"0"}}),i.Physics.P2.Spring=function(t,e,i,s,n,o,r,a,h,l){this.game=t.game,this.world=t,void 0===s&&(s=1),void 0===n&&(n=100),void 0===o&&(o=1);var c={restLength:s=t.pxm(s),stiffness:n,damping:o};void 0!==r&&null!==r&&(c.worldAnchorA=[t.pxm(r[0]),t.pxm(r[1])]),void 0!==a&&null!==a&&(c.worldAnchorB=[t.pxm(a[0]),t.pxm(a[1])]),void 0!==h&&null!==h&&(c.localAnchorA=[t.pxm(h[0]),t.pxm(h[1])]),void 0!==l&&null!==l&&(c.localAnchorB=[t.pxm(l[0]),t.pxm(l[1])]),this.data=new p2.LinearSpring(e,i,c),this.data.parent=this},i.Physics.P2.Spring.prototype.constructor=i.Physics.P2.Spring,i.Physics.P2.RotationalSpring=function(t,e,i,s,n,o){this.game=t.game,this.world=t,void 0===s&&(s=null),void 0===n&&(n=100),void 0===o&&(o=1),s&&(s=t.pxm(s));var r={restAngle:s,stiffness:n,damping:o};this.data=new p2.RotationalSpring(e,i,r),this.data.parent=this},i.Physics.P2.Spring.prototype.constructor=i.Physics.P2.Spring,i.Physics.P2.Material=function(t){this.name=t,p2.Material.call(this)},i.Physics.P2.Material.prototype=Object.create(p2.Material.prototype),i.Physics.P2.Material.prototype.constructor=i.Physics.P2.Material,i.Physics.P2.ContactMaterial=function(t,e,i){p2.ContactMaterial.call(this,t,e,i)},i.Physics.P2.ContactMaterial.prototype=Object.create(p2.ContactMaterial.prototype),i.Physics.P2.ContactMaterial.prototype.constructor=i.Physics.P2.ContactMaterial,i.Physics.P2.CollisionGroup=function(t){this.mask=t},i.Physics.P2.DistanceConstraint=function(t,e,i,s,n,o,r){void 0===s&&(s=100),void 0===n&&(n=[0,0]),void 0===o&&(o=[0,0]),void 0===r&&(r=Number.MAX_VALUE),this.game=t.game,this.world=t;var a={distance:s=t.pxm(s),localAnchorA:n=[t.pxmi(n[0]),t.pxmi(n[1])],localAnchorB:o=[t.pxmi(o[0]),t.pxmi(o[1])],maxForce:r};p2.DistanceConstraint.call(this,e,i,a)},i.Physics.P2.DistanceConstraint.prototype=Object.create(p2.DistanceConstraint.prototype),i.Physics.P2.DistanceConstraint.prototype.constructor=i.Physics.P2.DistanceConstraint,i.Physics.P2.GearConstraint=function(t,e,i,s,n){void 0===s&&(s=0),void 0===n&&(n=1),this.game=t.game,this.world=t;var o={angle:s,ratio:n};p2.GearConstraint.call(this,e,i,o)},i.Physics.P2.GearConstraint.prototype=Object.create(p2.GearConstraint.prototype),i.Physics.P2.GearConstraint.prototype.constructor=i.Physics.P2.GearConstraint,i.Physics.P2.LockConstraint=function(t,e,i,s,n,o){void 0===s&&(s=[0,0]),void 0===n&&(n=0),void 0===o&&(o=Number.MAX_VALUE),this.game=t.game,this.world=t;var r={localOffsetB:s=[t.pxm(s[0]),t.pxm(s[1])],localAngleB:n,maxForce:o};p2.LockConstraint.call(this,e,i,r)},i.Physics.P2.LockConstraint.prototype=Object.create(p2.LockConstraint.prototype),i.Physics.P2.LockConstraint.prototype.constructor=i.Physics.P2.LockConstraint,i.Physics.P2.PrismaticConstraint=function(t,e,i,s,n,o,r,a){void 0===s&&(s=!0),void 0===n&&(n=[0,0]),void 0===o&&(o=[0,0]),void 0===r&&(r=[0,0]),void 0===a&&(a=Number.MAX_VALUE),this.game=t.game,this.world=t;var h={localAnchorA:n=[t.pxmi(n[0]),t.pxmi(n[1])],localAnchorB:o=[t.pxmi(o[0]),t.pxmi(o[1])],localAxisA:r,maxForce:a,disableRotationalLock:!s};p2.PrismaticConstraint.call(this,e,i,h)},i.Physics.P2.PrismaticConstraint.prototype=Object.create(p2.PrismaticConstraint.prototype),i.Physics.P2.PrismaticConstraint.prototype.constructor=i.Physics.P2.PrismaticConstraint,i.Physics.P2.RevoluteConstraint=function(t,e,i,s,n,o,r){void 0===o&&(o=Number.MAX_VALUE),void 0===r&&(r=null),this.game=t.game,this.world=t,i=[t.pxmi(i[0]),t.pxmi(i[1])],n=[t.pxmi(n[0]),t.pxmi(n[1])],r&&(r=[t.pxmi(r[0]),t.pxmi(r[1])]);var a={worldPivot:r,localPivotA:i,localPivotB:n,maxForce:o};p2.RevoluteConstraint.call(this,e,s,a)},i.Physics.P2.RevoluteConstraint.prototype=Object.create(p2.RevoluteConstraint.prototype),i.Physics.P2.RevoluteConstraint.prototype.constructor=i.Physics.P2.RevoluteConstraint,i.ImageCollection=function(t,e,i,s,n,o,r){(void 0===i||i<=0)&&(i=32),(void 0===s||s<=0)&&(s=32),void 0===n&&(n=0),void 0===o&&(o=0),this.name=t,this.firstgid=0|e,this.imageWidth=0|i,this.imageHeight=0|s,this.imageMargin=0|n,this.imageSpacing=0|o,this.properties=r||{},this.images=[],this.total=0},i.ImageCollection.prototype={containsImageIndex:function(t){return t>=this.firstgid&&t<this.firstgid+this.total},addImage:function(t,e){this.images.push({gid:t,image:e}),this.total++}},i.ImageCollection.prototype.constructor=i.ImageCollection,i.Tile=function(t,e,i,s,n,o){this.layer=t,this.index=e,this.x=i,this.y=s,this.rotation=0,this.flipped=!1,this.worldX=i*n,this.worldY=s*o,this.width=n,this.height=o,this.centerX=Math.abs(n/2),this.centerY=Math.abs(o/2),this.alpha=1,this.properties={},this.scanned=!1,this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.collisionCallback=null,this.collisionCallbackContext=this},i.Tile.prototype={containsPoint:function(t,e){return!(t<this.worldX||e<this.worldY||t>this.right||e>this.bottom)},intersects:function(t,e,i,s){return!(i<=this.worldX)&&(!(s<=this.worldY)&&(!(t>=this.worldX+this.width)&&!(e>=this.worldY+this.height)))},setCollisionCallback:function(t,e){this.collisionCallback=t,this.collisionCallbackContext=e},destroy:function(){this.collisionCallback=null,this.collisionCallbackContext=null,this.properties=null},setCollision:function(t,e,i,s){this.collideLeft=t,this.collideRight=e,this.collideUp=i,this.collideDown=s,this.faceLeft=t,this.faceRight=e,this.faceTop=i,this.faceBottom=s},resetCollision:function(){this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1},isInteresting:function(t,e){return t&&e?this.collideLeft||this.collideRight||this.collideUp||this.collideDown||this.faceTop||this.faceBottom||this.faceLeft||this.faceRight||this.collisionCallback:t?this.collideLeft||this.collideRight||this.collideUp||this.collideDown:!!e&&(this.faceTop||this.faceBottom||this.faceLeft||this.faceRight)},copy:function(t){this.index=t.index,this.alpha=t.alpha,this.properties=t.properties,this.collideUp=t.collideUp,this.collideDown=t.collideDown,this.collideLeft=t.collideLeft,this.collideRight=t.collideRight,this.collisionCallback=t.collisionCallback,this.collisionCallbackContext=t.collisionCallbackContext}},i.Tile.prototype.constructor=i.Tile,Object.defineProperty(i.Tile.prototype,"collides",{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown}}),Object.defineProperty(i.Tile.prototype,"canCollide",{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown||this.collisionCallback}}),Object.defineProperty(i.Tile.prototype,"left",{get:function(){return this.worldX}}),Object.defineProperty(i.Tile.prototype,"right",{get:function(){return this.worldX+this.width}}),Object.defineProperty(i.Tile.prototype,"top",{get:function(){return this.worldY}}),Object.defineProperty(i.Tile.prototype,"bottom",{get:function(){return this.worldY+this.height}}),i.Tilemap=function(t,e,s,n,o,r){this.game=t,this.key=e;var a=i.TilemapParser.parse(this.game,e,s,n,o,r);null!==a&&(this.width=a.width,this.height=a.height,this.tileWidth=a.tileWidth,this.tileHeight=a.tileHeight,this.orientation=a.orientation,this.format=a.format,this.version=a.version,this.properties=a.properties,this.widthInPixels=a.widthInPixels,this.heightInPixels=a.heightInPixels,this.layers=a.layers,this.tilesets=a.tilesets,this.imagecollections=a.imagecollections,this.tiles=a.tiles,this.objects=a.objects,this.collideIndexes=[],this.collision=a.collision,this.images=a.images,this.enableDebug=!1,this.currentLayer=0,this.debugMap=[],this._results=[],this._tempA=0,this._tempB=0)},i.Tilemap.CSV=0,i.Tilemap.TILED_JSON=1,i.Tilemap.NORTH=0,i.Tilemap.EAST=1,i.Tilemap.SOUTH=2,i.Tilemap.WEST=3,i.Tilemap.prototype={create:function(t,e,i,s,n,o){return void 0===o&&(o=this.game.world),this.width=e,this.height=i,this.setTileSize(s,n),this.layers.length=0,this.createBlankLayer(t,e,i,s,n,o)},setTileSize:function(t,e){this.tileWidth=t,this.tileHeight=e,this.widthInPixels=this.width*t,this.heightInPixels=this.height*e},addTilesetImage:function(t,e,s,n,o,r,a){if(void 0===t)return null;void 0===s&&(s=this.tileWidth),void 0===n&&(n=this.tileHeight),void 0===o&&(o=0),void 0===r&&(r=0),void 0===a&&(a=0),0===s&&(s=32),0===n&&(n=32);var h=null;if(void 0!==e&&null!==e||(e=t),e instanceof i.BitmapData)h=e.canvas;else{if(!this.game.cache.checkImageKey(e))return console.warn('Phaser.Tilemap.addTilesetImage: Invalid image key given: "'+e+'"'),null;h=this.game.cache.getImage(e)}var l=this.getTilesetIndex(t);if(null===l&&this.format===i.Tilemap.TILED_JSON)return console.warn('Phaser.Tilemap.addTilesetImage: No data found in the JSON matching the tileset name: "'+t+'"'),null;if(this.tilesets[l])return this.tilesets[l].setImage(h),this.tilesets[l];var c=new i.Tileset(t,a,s,n,o,r,{});c.setImage(h),this.tilesets.push(c);for(var u=this.tilesets.length-1,d=o,p=o,f=0,m=0,g=0,y=a;y<a+c.total&&(this.tiles[y]=[d,p,u],d+=s+r,++f!==c.total)&&(++m!==c.columns||(d=o,p+=n+r,m=0,++g!==c.rows));y++);return c},createFromObjects:function(t,e,s,n,o,r,a,h,l,c){if(void 0===o&&(o=!0),void 0===r&&(r=!1),void 0===a&&(a=this.game.world),void 0===h&&(h=i.Sprite),void 0===l&&(l=!0),void 0===c&&(c=!0),this.objects[t])for(var u=0;u<this.objects[t].length;u++){var d=!1,p=this.objects[t][u];if(void 0!==p.gid&&"number"==typeof e&&p.gid===e?d=!0:void 0!==p.id&&"number"==typeof e&&p.id===e?d=!0:void 0!==p.name&&"string"==typeof e&&p.name===e&&(d=!0),d){var f=new h(this.game,parseFloat(p.x,10),parseFloat(p.y,10),s,n);f.name=p.name,f.autoCull=r,f.exists=o,f.visible=p.visible,c&&(p.width&&(f.width=p.width),p.height&&(f.height=p.height)),p.rotation&&(f.angle=p.rotation),l&&(f.y-=f.height),a.add(f);for(var m in p.properties)a.set(f,m,p.properties[m],!1,!1,0,!0)}}else console.warn("Tilemap.createFromObjects: Invalid objectgroup name given: "+t)},createFromTiles:function(t,e,s,n,o,r){"number"==typeof t&&(t=[t]),void 0===e||null===e?e=[]:"number"==typeof e&&(e=[e]),n=this.getLayer(n),void 0===o&&(o=this.game.world),void 0===r&&(r={}),void 0===r.customClass&&(r.customClass=i.Sprite),void 0===r.adjustY&&(r.adjustY=!0);var a=this.layers[n].width,h=this.layers[n].height;if(this.copy(0,0,a,h,n),this._results.length<2)return 0;for(var l,c=0,u=1,d=this._results.length;u<d;u++)if(-1!==t.indexOf(this._results[u].index)){l=new r.customClass(this.game,this._results[u].worldX,this._results[u].worldY,s);for(var p in r)l[p]=r[p];o.add(l),c++}if(1===e.length)for(u=0;u<t.length;u++)this.replace(t[u],e[0],0,0,a,h,n);else if(e.length>1)for(u=0;u<t.length;u++)this.replace(t[u],e[u],0,0,a,h,n);return c},createLayer:function(t,e,s,n){void 0===e&&(e=this.game.width),void 0===s&&(s=this.game.height),void 0===n&&(n=this.game.world);var o=t;if("string"==typeof t&&(o=this.getLayerIndex(t)),!(null===o||o>this.layers.length)){void 0===e||e<=0?e=Math.min(this.game.width,this.layers[o].widthInPixels):e>this.game.width&&(e=this.game.width),void 0===s||s<=0?s=Math.min(this.game.height,this.layers[o].heightInPixels):s>this.game.height&&(s=this.game.height),this.enableDebug&&(console.group("Tilemap.createLayer"),console.log("Name:",this.layers[o].name),console.log("Size:",e,"x",s),console.log("Tileset:",this.tilesets[0].name,"index:",o));var r=n.add(new i.TilemapLayer(this.game,this,o,e,s));return this.enableDebug&&console.groupEnd(),r}console.warn('Tilemap.createLayer: Invalid layer ID given: "'+t+'"')},createBlankLayer:function(t,e,s,n,o,r){void 0===r&&(r=this.game.world);{if(null===this.getLayerIndex(t)){for(var a,h={name:t,x:0,y:0,width:e,height:s,widthInPixels:e*n,heightInPixels:s*o,alpha:1,visible:!0,properties:{},indexes:[],callbacks:[],bodies:[],data:null},l=[],c=0;c<s;c++){a=[];for(var u=0;u<e;u++)a.push(new i.Tile(h,-1,u,c,n,o));l.push(a)}h.data=l,this.layers.push(h),this.currentLayer=this.layers.length-1;var d=h.widthInPixels,p=h.heightInPixels;return d>this.game.width&&(d=this.game.width),p>this.game.height&&(p=this.game.height),(l=new i.TilemapLayer(this.game,this,this.layers.length-1,d,p)).name=t,r.add(l)}console.warn("Tilemap.createBlankLayer: Layer with matching name already exists: "+t)}},getIndex:function(t,e){for(var i=0;i<t.length;i++)if(t[i].name===e)return i;return null},getLayerIndex:function(t){return this.getIndex(this.layers,t)},getTilesetIndex:function(t){return this.getIndex(this.tilesets,t)},getImageIndex:function(t){return this.getIndex(this.images,t)},setTileIndexCallback:function(t,e,i,s){if(s=this.getLayer(s),"number"==typeof t)null===e?delete this.layers[s].callbacks[t]:this.layers[s].callbacks[t]={callback:e,callbackContext:i};else for(var n=0,o=t.length;n<o;n++)null===e?delete this.layers[s].callbacks[t[n]]:this.layers[s].callbacks[t[n]]={callback:e,callbackContext:i}},setTileLocationCallback:function(t,e,i,s,n,o,r){if(r=this.getLayer(r),this.copy(t,e,i,s,r),!(this._results.length<2))for(var a=1;a<this._results.length;a++)this._results[a].setCollisionCallback(n,o)},setCollision:function(t,e,i,s){if(void 0===e&&(e=!0),void 0===s&&(s=!0),i=this.getLayer(i),"number"==typeof t)return this.setCollisionByIndex(t,e,i,!0);if(Array.isArray(t)){for(var n=0;n<t.length;n++)this.setCollisionByIndex(t[n],e,i,!1);s&&this.calculateFaces(i)}},setCollisionBetween:function(t,e,i,s,n){if(void 0===i&&(i=!0),void 0===n&&(n=!0),s=this.getLayer(s),!(t>e)){for(var o=t;o<=e;o++)this.setCollisionByIndex(o,i,s,!1);n&&this.calculateFaces(s)}},setCollisionByExclusion:function(t,e,i,s){void 0===e&&(e=!0),void 0===s&&(s=!0),i=this.getLayer(i);for(var n=0,o=this.tiles.length;n<o;n++)-1===t.indexOf(n)&&this.setCollisionByIndex(n,e,i,!1);s&&this.calculateFaces(i)},setCollisionByIndex:function(t,e,i,s){if(void 0===e&&(e=!0),void 0===i&&(i=this.currentLayer),void 0===s&&(s=!0),e)this.collideIndexes.push(t);else{var n=this.collideIndexes.indexOf(t);n>-1&&this.collideIndexes.splice(n,1)}for(var o=0;o<this.layers[i].height;o++)for(var r=0;r<this.layers[i].width;r++){var a=this.layers[i].data[o][r];a&&a.index===t&&(e?a.setCollision(!0,!0,!0,!0):a.resetCollision(),a.faceTop=e,a.faceBottom=e,a.faceLeft=e,a.faceRight=e)}return s&&this.calculateFaces(i),i},getLayer:function(t){return void 0===t?t=this.currentLayer:"string"==typeof t?t=this.getLayerIndex(t):t instanceof i.TilemapLayer&&(t=t.index),t},setPreventRecalculate:function(t){if(!0===t&&!0!==this.preventingRecalculate&&(this.preventingRecalculate=!0,this.needToRecalculate={}),!1===t&&!0===this.preventingRecalculate){this.preventingRecalculate=!1;for(var e in this.needToRecalculate)this.calculateFaces(e);this.needToRecalculate=!1}},calculateFaces:function(t){if(this.preventingRecalculate)this.needToRecalculate[t]=!0;else for(var e=null,i=null,s=null,n=null,o=0,r=this.layers[t].height;o<r;o++)for(var a=0,h=this.layers[t].width;a<h;a++){var l=this.layers[t].data[o][a];l&&(e=this.getTileAbove(t,a,o),i=this.getTileBelow(t,a,o),s=this.getTileLeft(t,a,o),n=this.getTileRight(t,a,o),l.collides&&(l.faceTop=!0,l.faceBottom=!0,l.faceLeft=!0,l.faceRight=!0),e&&e.collides&&(l.faceTop=!1),i&&i.collides&&(l.faceBottom=!1),s&&s.collides&&(l.faceLeft=!1),n&&n.collides&&(l.faceRight=!1))}},getTileAbove:function(t,e,i){return i>0?this.layers[t].data[i-1][e]:null},getTileBelow:function(t,e,i){return i<this.layers[t].height-1?this.layers[t].data[i+1][e]:null},getTileLeft:function(t,e,i){return e>0?this.layers[t].data[i][e-1]:null},getTileRight:function(t,e,i){return e<this.layers[t].width-1?this.layers[t].data[i][e+1]:null},setLayer:function(t){t=this.getLayer(t),this.layers[t]&&(this.currentLayer=t)},hasTile:function(t,e,i){return i=this.getLayer(i),void 0!==this.layers[i].data[e]&&void 0!==this.layers[i].data[e][t]&&this.layers[i].data[e][t].index>-1},removeTile:function(t,e,s){if(s=this.getLayer(s),t>=0&&t<this.layers[s].width&&e>=0&&e<this.layers[s].height&&this.hasTile(t,e,s)){var n=this.layers[s].data[e][t];return this.layers[s].data[e][t]=new i.Tile(this.layers[s],-1,t,e,this.tileWidth,this.tileHeight),this.layers[s].dirty=!0,this.calculateFaces(s),n}},removeTileWorldXY:function(t,e,i,s,n){return n=this.getLayer(n),t=this.game.math.snapToFloor(t,i)/i,e=this.game.math.snapToFloor(e,s)/s,this.removeTile(t,e,n)},putTile:function(t,e,s,n){if(null===t)return this.removeTile(e,s,n);if(n=this.getLayer(n),e>=0&&e<this.layers[n].width&&s>=0&&s<this.layers[n].height){var o;return t instanceof i.Tile?(o=t.index,this.hasTile(e,s,n)?this.layers[n].data[s][e].copy(t):this.layers[n].data[s][e]=new i.Tile(n,o,e,s,t.width,t.height)):(o=t,this.hasTile(e,s,n)?this.layers[n].data[s][e].index=o:this.layers[n].data[s][e]=new i.Tile(this.layers[n],o,e,s,this.tileWidth,this.tileHeight)),this.collideIndexes.indexOf(o)>-1?this.layers[n].data[s][e].setCollision(!0,!0,!0,!0):this.layers[n].data[s][e].resetCollision(),this.layers[n].dirty=!0,this.calculateFaces(n),this.layers[n].data[s][e]}return null},putTileWorldXY:function(t,e,i,s,n,o){return o=this.getLayer(o),e=this.game.math.snapToFloor(e,s)/s,i=this.game.math.snapToFloor(i,n)/n,this.putTile(t,e,i,o)},searchTileIndex:function(t,e,i,s){void 0===e&&(e=0),void 0===i&&(i=!1),s=this.getLayer(s);var n=0;if(i){for(o=this.layers[s].height-1;o>=0;o--)for(r=this.layers[s].width-1;r>=0;r--)if(this.layers[s].data[o][r].index===t){if(n===e)return this.layers[s].data[o][r];n++}}else for(var o=0;o<this.layers[s].height;o++)for(var r=0;r<this.layers[s].width;r++)if(this.layers[s].data[o][r].index===t){if(n===e)return this.layers[s].data[o][r];n++}return null},getTile:function(t,e,i,s){return void 0===s&&(s=!1),i=this.getLayer(i),t>=0&&t<this.layers[i].width&&e>=0&&e<this.layers[i].height?-1===this.layers[i].data[e][t].index?s?this.layers[i].data[e][t]:null:this.layers[i].data[e][t]:null},getTileWorldXY:function(t,e,i,s,n,o){return void 0===i&&(i=this.tileWidth),void 0===s&&(s=this.tileHeight),n=this.getLayer(n),t=this.game.math.snapToFloor(t,i)/i,e=this.game.math.snapToFloor(e,s)/s,this.getTile(t,e,n,o)},copy:function(t,e,i,s,n){n=this.getLayer(n);{if(this.layers[n]){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=this.layers[n].width),void 0===s&&(s=this.layers[n].height),t<0&&(t=0),e<0&&(e=0),i>this.layers[n].width&&(i=this.layers[n].width),s>this.layers[n].height&&(s=this.layers[n].height),this._results.length=0,this._results.push({x:t,y:e,width:i,height:s,layer:n});for(var o=e;o<e+s;o++)for(var r=t;r<t+i;r++)this._results.push(this.layers[n].data[o][r]);return this._results}this._results.length=0}},paste:function(t,e,i,s){if(void 0===t&&(t=0),void 0===e&&(e=0),s=this.getLayer(s),i&&!(i.length<2)){for(var n=t-i[1].x,o=e-i[1].y,r=1;r<i.length;r++)this.layers[s].data[o+i[r].y][n+i[r].x].copy(i[r]);this.layers[s].dirty=!0,this.calculateFaces(s)}},swap:function(t,e,i,s,n,o,r){r=this.getLayer(r),this.copy(i,s,n,o,r),this._results.length<2||(this._tempA=t,this._tempB=e,this._results.forEach(this.swapHandler,this),this.paste(i,s,this._results,r))},swapHandler:function(t){t.index===this._tempA?t.index=this._tempB:t.index===this._tempB&&(t.index=this._tempA)},forEach:function(t,e,i,s,n,o,r){r=this.getLayer(r),this.copy(i,s,n,o,r),this._results.length<2||(this._results.forEach(t,e),this.paste(i,s,this._results,r))},replace:function(t,e,i,s,n,o,r){if(r=this.getLayer(r),this.copy(i,s,n,o,r),!(this._results.length<2)){for(var a=1;a<this._results.length;a++)this._results[a].index===t&&(this._results[a].index=e);this.paste(i,s,this._results,r)}},random:function(t,e,i,s,n){if(n=this.getLayer(n),this.copy(t,e,i,s,n),!(this._results.length<2)){for(var o=[],r=1;r<this._results.length;r++)if(this._results[r].index){var a=this._results[r].index;-1===o.indexOf(a)&&o.push(a)}for(var h=1;h<this._results.length;h++)this._results[h].index=this.game.rnd.pick(o);this.paste(t,e,this._results,n)}},shuffle:function(t,e,s,n,o){if(o=this.getLayer(o),this.copy(t,e,s,n,o),!(this._results.length<2)){for(var r=[],a=1;a<this._results.length;a++)this._results[a].index&&r.push(this._results[a].index);i.ArrayUtils.shuffle(r);for(var h=1;h<this._results.length;h++)this._results[h].index=r[h-1];this.paste(t,e,this._results,o)}},fill:function(t,e,i,s,n,o){if(o=this.getLayer(o),this.copy(e,i,s,n,o),!(this._results.length<2)){for(var r=1;r<this._results.length;r++)this._results[r].index=t;this.paste(e,i,this._results,o)}},removeAllLayers:function(){this.layers.length=0,this.currentLayer=0},dump:function(){for(var t="",e=[""],i=0;i<this.layers[this.currentLayer].height;i++){for(var s=0;s<this.layers[this.currentLayer].width;s++)t+="%c  ",this.layers[this.currentLayer].data[i][s]>1?this.debugMap[this.layers[this.currentLayer].data[i][s]]?e.push("background: "+this.debugMap[this.layers[this.currentLayer].data[i][s]]):e.push("background: #ffffff"):e.push("background: rgb(0, 0, 0)");t+="\n"}e[0]=t,console.log.apply(console,e)},destroy:function(){this.removeAllLayers(),this.data=[],this.game=null}},i.Tilemap.prototype.constructor=i.Tilemap,Object.defineProperty(i.Tilemap.prototype,"layer",{get:function(){return this.layers[this.currentLayer]},set:function(t){t!==this.currentLayer&&this.setLayer(t)}}),i.TilemapLayer=function(t,e,s,n,o){n|=0,o|=0,i.Sprite.call(this,t,0,0),this.map=e,this.index=s,this.layer=e.layers[s],this.canvas=i.CanvasPool.create(this,n,o),this.context=this.canvas.getContext("2d"),this.setTexture(new PIXI.Texture(new PIXI.BaseTexture(this.canvas,null,this.game.resolution))),this.type=i.TILEMAPLAYER,this.physicsType=i.TILEMAPLAYER,this.renderSettings={enableScrollDelta:!0,overdrawRatio:.2,copyCanvas:null},this.debug=!1,this.exists=!0,this.debugSettings={missingImageFill:"rgb(255,255,255)",debuggedTileOverfill:"rgba(0,255,0,0.4)",forceFullRedraw:!0,debugAlpha:.5,facingEdgeStroke:"rgba(0,255,0,1)",collidingTileOverfill:"rgba(0,255,0,0.2)"},this.scrollFactorX=1,this.scrollFactorY=1,this.dirty=!0,this.rayStepRate=4,this._wrap=!1,this._mc={scrollX:0,scrollY:0,renderWidth:0,renderHeight:0,tileWidth:e.tileWidth,tileHeight:e.tileHeight,cw:e.tileWidth,ch:e.tileHeight,tilesets:[]},this._scrollX=0,this._scrollY=0,this.tileOffset=new i.Point(this.layer.offsetX||0,this.layer.offsetY||0),this._results=[],t.device.canvasBitBltShift||(this.renderSettings.copyCanvas=i.TilemapLayer.ensureSharedCopyCanvas()),this.fixedToCamera=!0},i.TilemapLayer.prototype=Object.create(i.Sprite.prototype),i.TilemapLayer.prototype.constructor=i.TilemapLayer,i.TilemapLayer.prototype.preUpdateCore=i.Component.Core.preUpdate,i.TilemapLayer.sharedCopyCanvas=null,i.TilemapLayer.ensureSharedCopyCanvas=function(){return this.sharedCopyCanvas||(this.sharedCopyCanvas=i.CanvasPool.create(this,2,2)),this.sharedCopyCanvas},i.TilemapLayer.prototype.preUpdate=function(){return this.preUpdateCore()},i.TilemapLayer.prototype.postUpdate=function(){this.fixedToCamera&&(this.position.x=(this.game.camera.view.x+this.cameraOffset.x)/this.game.camera.scale.x,this.position.y=(this.game.camera.view.y+this.cameraOffset.y)/this.game.camera.scale.y),this._scrollX=(this.game.camera.view.x-this.tileOffset.x)*this.scrollFactorX/this.scale.x,this._scrollY=(this.game.camera.view.y-this.tileOffset.y)*this.scrollFactorY/this.scale.y},i.TilemapLayer.prototype._renderCanvas=function(t){this.fixedToCamera&&(this.position.x=(this.game.camera.view.x+this.cameraOffset.x)/this.game.camera.scale.x,this.position.y=(this.game.camera.view.y+this.cameraOffset.y)/this.game.camera.scale.y),this._scrollX=(this.game.camera.view.x-this.tileOffset.x)*this.scrollFactorX/this.scale.x,this._scrollY=(this.game.camera.view.y-this.tileOffset.y)*this.scrollFactorY/this.scale.y,this.render(),PIXI.Sprite.prototype._renderCanvas.call(this,t)},i.TilemapLayer.prototype._renderWebGL=function(t){this.fixedToCamera&&(this.position.x=(this.game.camera.view.x+this.cameraOffset.x)/this.game.camera.scale.x,this.position.y=(this.game.camera.view.y+this.cameraOffset.y)/this.game.camera.scale.y),this._scrollX=(this.game.camera.view.x-this.tileOffset.x)*this.scrollFactorX/this.scale.x,this._scrollY=(this.game.camera.view.y-this.tileOffset.y)*this.scrollFactorY/this.scale.y,this.render(),PIXI.Sprite.prototype._renderWebGL.call(this,t)},i.TilemapLayer.prototype.destroy=function(){i.CanvasPool.remove(this),i.Component.Destroy.prototype.destroy.call(this)},i.TilemapLayer.prototype.resize=function(t,e){this.canvas.width=t,this.canvas.height=e,this.texture.frame.resize(t,e),this.texture.width=t,this.texture.height=e,this.texture.crop.width=t,this.texture.crop.height=e,this.texture.baseTexture.width=t,this.texture.baseTexture.height=e,this.texture.baseTexture.dirty(),this.texture.requiresUpdate=!0,this.texture._updateUvs(),this.dirty=!0},i.TilemapLayer.prototype.resizeWorld=function(){this.game.world.setBounds(0,0,this.layer.widthInPixels*this.scale.x,this.layer.heightInPixels*this.scale.y)},i.TilemapLayer.prototype.getTileOffsetX=function(){return this.tileOffset.x||(this.fixedToCamera?0:this.position.x)},i.TilemapLayer.prototype.getTileOffsetY=function(){return this.tileOffset.y||(this.fixedToCamera?0:this.position.y)},i.TilemapLayer.prototype._fixX=function(t){return 1===this.scrollFactorX||0===this.scrollFactorX&&0===this.position.x?t:0===this.scrollFactorX&&0!==this.position.x?t-this.position.x:this._scrollX+(t-this._scrollX/this.scrollFactorX)},i.TilemapLayer.prototype._unfixX=function(t){return 1===this.scrollFactorX?t:this._scrollX/this.scrollFactorX+(t-this._scrollX)},i.TilemapLayer.prototype._fixY=function(t){return 1===this.scrollFactorY||0===this.scrollFactorY&&0===this.position.y?t:0===this.scrollFactorY&&0!==this.position.y?t-this.position.y:this._scrollY+(t-this._scrollY/this.scrollFactorY)},i.TilemapLayer.prototype._unfixY=function(t){return 1===this.scrollFactorY?t:this._scrollY/this.scrollFactorY+(t-this._scrollY)},i.TilemapLayer.prototype.getTileX=function(t){return Math.floor(this._fixX(t)/this._mc.tileWidth)},i.TilemapLayer.prototype.getTileY=function(t){return Math.floor(this._fixY(t)/this._mc.tileHeight)},i.TilemapLayer.prototype.getTileXY=function(t,e,i){return i.x=this.getTileX(t),i.y=this.getTileY(e),i},i.TilemapLayer.prototype.getRayCastTiles=function(t,e,i,s){e||(e=this.rayStepRate),void 0===i&&(i=!1),void 0===s&&(s=!1);var n=this.getTiles(t.x,t.y,t.width,t.height,i,s);if(0===n.length)return[];for(var o=t.coordinatesOnLine(e),r=[],a=0;a<n.length;a++)for(var h=0;h<o.length;h++){var l=n[a],c=o[h];if(l.containsPoint(c[0],c[1])){r.push(l);break}}return r},i.TilemapLayer.prototype.getTiles=function(t,e,i,s,n,o){void 0===n&&(n=!1),void 0===o&&(o=!1);var r=!(n||o);t=this._fixX(t),e=this._fixY(e);for(var a=Math.floor(t/(this._mc.cw*this.scale.x)),h=Math.floor(e/(this._mc.ch*this.scale.y)),l=Math.ceil((t+i)/(this._mc.cw*this.scale.x))-a,c=Math.ceil((e+s)/(this._mc.ch*this.scale.y))-h;this._results.length;)this._results.pop();for(var u=h;u<h+c;u++)for(var d=a;d<a+l;d++){var p=this.layer.data[u];p&&p[d]&&(r||p[d].isInteresting(n,o))&&this._results.push(p[d])}return this._results.slice()},i.TilemapLayer.prototype.resolveTileset=function(t){var e=this._mc.tilesets;if(t<2e3)for(;e.length<t;)e.push(void 0);var i=this.map.tiles[t]&&this.map.tiles[t][2];if(null!==i){var s=this.map.tilesets[i];if(s&&s.containsTileIndex(t))return e[t]=s}return e[t]=null},i.TilemapLayer.prototype.resetTilesetCache=function(){for(var t=this._mc.tilesets;t.length;)t.pop()},i.TilemapLayer.prototype.setScale=function(t,e){t=t||1,e=e||t;for(var i=0;i<this.layer.data.length;i++)for(var s=this.layer.data[i],n=0;n<s.length;n++){var o=s[n];o.width=this.map.tileWidth*t,o.height=this.map.tileHeight*e,o.worldX=o.x*o.width,o.worldY=o.y*o.height}this.scale.setTo(t,e)},i.TilemapLayer.prototype.shiftCanvas=function(t,e,i){var s=t.canvas,n=s.width-Math.abs(e),o=s.height-Math.abs(i),r=0,a=0,h=e,l=i;e<0&&(r=-e,h=0),i<0&&(a=-i,l=0);var c=this.renderSettings.copyCanvas;if(c){(c.width<n||c.height<o)&&(c.width=n,c.height=o);var u=c.getContext("2d");u.clearRect(0,0,n,o),u.drawImage(s,r,a,n,o,0,0,n,o),t.clearRect(h,l,n,o),t.drawImage(c,0,0,n,o,h,l,n,o)}else t.save(),t.globalCompositeOperation="copy",t.drawImage(s,r,a,n,o,h,l,n,o),t.restore()},i.TilemapLayer.prototype.renderRegion=function(t,e,i,s,n,o){var r=this.context,a=this.layer.width,h=this.layer.height,l=this._mc.tileWidth,c=this._mc.tileHeight,u=this._mc.tilesets,d=NaN;this._wrap||(i<=n&&(i=Math.max(0,i),n=Math.min(a-1,n)),s<=o&&(s=Math.max(0,s),o=Math.min(h-1,o)));var p,f,m,g,y,v,x=i*l-t,b=(i+(1<<20)*a)%a;for(g=(s+(1<<20)*h)%h,v=o-s,f=s*c-e;v>=0;g++,v--,f+=c){g>=h&&(g-=h);var _=this.layer.data[g];for(m=b,y=n-i,p=x;y>=0;m++,y--,p+=l){m>=a&&(m-=a);var w=_[m];if(w&&!(w.index<0)){var T=w.index,P=u[T];void 0===P&&(P=this.resolveTileset(T)),w.alpha===d||this.debug||(r.globalAlpha=w.alpha,d=w.alpha),P?w.rotation||w.flipped?(r.save(),r.translate(p+w.centerX,f+w.centerY),r.rotate(w.rotation),w.flipped&&r.scale(-1,1),P.draw(r,-w.centerX,-w.centerY,T),r.restore()):P.draw(r,p,f,T):this.debugSettings.missingImageFill&&(r.fillStyle=this.debugSettings.missingImageFill,r.fillRect(p,f,l,c)),w.debug&&this.debugSettings.debuggedTileOverfill&&(r.fillStyle=this.debugSettings.debuggedTileOverfill,r.fillRect(p,f,l,c))}}}},i.TilemapLayer.prototype.renderDeltaScroll=function(t,e){var i=this._mc.scrollX,s=this._mc.scrollY,n=this.canvas.width,o=this.canvas.height,r=this._mc.tileWidth,a=this._mc.tileHeight,h=0,l=-r,c=0,u=-a;if(t<0?(h=n+t,l=n-1):t>0&&(l=t),e<0?(c=o+e,u=o-1):e>0&&(u=e),this.shiftCanvas(this.context,t,e),h=Math.floor((h+i)/r),l=Math.floor((l+i)/r),c=Math.floor((c+s)/a),u=Math.floor((u+s)/a),h<=l){this.context.clearRect(h*r-i,0,(l-h+1)*r,o);var d=Math.floor((0+s)/a),p=Math.floor((o-1+s)/a);this.renderRegion(i,s,h,d,l,p)}if(c<=u){this.context.clearRect(0,c*a-s,n,(u-c+1)*a);var f=Math.floor((0+i)/r),m=Math.floor((n-1+i)/r);this.renderRegion(i,s,f,c,m,u)}},i.TilemapLayer.prototype.renderFull=function(){var t=this._mc.scrollX,e=this._mc.scrollY,i=this.canvas.width,s=this.canvas.height,n=this._mc.tileWidth,o=this._mc.tileHeight,r=Math.floor(t/n),a=Math.floor((i-1+t)/n),h=Math.floor(e/o),l=Math.floor((s-1+e)/o);this.context.clearRect(0,0,i,s),this.renderRegion(t,e,r,h,a,l)},i.TilemapLayer.prototype.render=function(){var t=!1;if(this.visible){(this.dirty||this.layer.dirty)&&(this.layer.dirty=!1,t=!0);var e=this.canvas.width,i=this.canvas.height,s=0|this._scrollX,n=0|this._scrollY,o=this._mc,r=o.scrollX-s,a=o.scrollY-n;if(t||0!==r||0!==a||o.renderWidth!==e||o.renderHeight!==i)return this.context.save(),o.scrollX=s,o.scrollY=n,o.renderWidth===e&&o.renderHeight===i||(o.renderWidth=e,o.renderHeight=i),this.debug&&(this.context.globalAlpha=this.debugSettings.debugAlpha,this.debugSettings.forceFullRedraw&&(t=!0)),!t&&this.renderSettings.enableScrollDelta&&Math.abs(r)+Math.abs(a)<Math.min(e,i)?this.renderDeltaScroll(r,a):this.renderFull(),this.debug&&(this.context.globalAlpha=1,this.renderDebug()),this.texture.baseTexture.dirty(),this.dirty=!1,this.context.restore(),!0}},i.TilemapLayer.prototype.renderDebug=function(){var t,e,i,s,n,o,r=this._mc.scrollX,a=this._mc.scrollY,h=this.context,l=this.canvas.width,c=this.canvas.height,u=this.layer.width,d=this.layer.height,p=this._mc.tileWidth,f=this._mc.tileHeight,m=Math.floor(r/p),g=Math.floor((l-1+r)/p),y=Math.floor(a/f),v=Math.floor((c-1+a)/f),x=m*p-r,b=y*f-a,_=(m+(1<<20)*u)%u,w=(y+(1<<20)*d)%d;for(h.strokeStyle=this.debugSettings.facingEdgeStroke,s=w,o=v-y,e=b;o>=0;s++,o--,e+=f){s>=d&&(s-=d);var T=this.layer.data[s];for(i=_,n=g-m,t=x;n>=0;i++,n--,t+=p){i>=u&&(i-=u);var P=T[i];!P||P.index<0||!P.collides||(this.debugSettings.collidingTileOverfill&&(h.fillStyle=this.debugSettings.collidingTileOverfill,h.fillRect(t,e,this._mc.cw,this._mc.ch)),this.debugSettings.facingEdgeStroke&&(h.beginPath(),P.faceTop&&(h.moveTo(t,e),h.lineTo(t+this._mc.cw,e)),P.faceBottom&&(h.moveTo(t,e+this._mc.ch),h.lineTo(t+this._mc.cw,e+this._mc.ch)),P.faceLeft&&(h.moveTo(t,e),h.lineTo(t,e+this._mc.ch)),P.faceRight&&(h.moveTo(t+this._mc.cw,e),h.lineTo(t+this._mc.cw,e+this._mc.ch)),h.closePath(),h.stroke()))}}},Object.defineProperty(i.TilemapLayer.prototype,"wrap",{get:function(){return this._wrap},set:function(t){this._wrap=t,this.dirty=!0}}),Object.defineProperty(i.TilemapLayer.prototype,"scrollX",{get:function(){return this._scrollX},set:function(t){this._scrollX=t}}),Object.defineProperty(i.TilemapLayer.prototype,"scrollY",{get:function(){return this._scrollY},set:function(t){this._scrollY=t}}),Object.defineProperty(i.TilemapLayer.prototype,"collisionWidth",{get:function(){return this._mc.cw},set:function(t){this._mc.cw=0|t,this.dirty=!0}}),Object.defineProperty(i.TilemapLayer.prototype,"collisionHeight",{get:function(){return this._mc.ch},set:function(t){this._mc.ch=0|t,this.dirty=!0}}),i.TilemapParser={INSERT_NULL:!1,parse:function(t,e,s,n,o,r){if(void 0===s&&(s=32),void 0===n&&(n=32),void 0===o&&(o=10),void 0===r&&(r=10),void 0===e)return this.getEmptyData();if(null===e)return this.getEmptyData(s,n,o,r);var a=t.cache.getTilemapData(e);if(a){if(a.format===i.Tilemap.CSV)return this.parseCSV(e,a.data,s,n);if(!a.format||a.format===i.Tilemap.TILED_JSON)return this.parseTiledJSON(a.data)}else console.warn("Phaser.TilemapParser.parse - No map data found for key "+e)},parseCSV:function(t,e,s,n){for(var o=this.getEmptyData(),r=[],a=(e=e.trim()).split("\n"),h=a.length,l=0,c=0;c<a.length;c++){r[c]=[];for(var u=a[c].split(","),d=0;d<u.length;d++)r[c][d]=new i.Tile(o.layers[0],parseInt(u[d],10),d,c,s,n);0===l&&(l=u.length)}return o.format=i.Tilemap.CSV,o.name=t,o.width=l,o.height=h,o.tileWidth=s,o.tileHeight=n,o.widthInPixels=l*s,o.heightInPixels=h*n,o.layers[0].width=l,o.layers[0].height=h,o.layers[0].widthInPixels=o.widthInPixels,o.layers[0].heightInPixels=o.heightInPixels,o.layers[0].data=r,o},getEmptyData:function(t,e,i,s){return{width:void 0!==i&&null!==i?i:0,height:void 0!==s&&null!==s?s:0,tileWidth:void 0!==t&&null!==t?t:0,tileHeight:void 0!==e&&null!==e?e:0,orientation:"orthogonal",version:"1",properties:{},widthInPixels:0,heightInPixels:0,layers:[{name:"layer",x:0,y:0,width:0,height:0,widthInPixels:0,heightInPixels:0,alpha:1,visible:!0,properties:{},indexes:[],callbacks:[],bodies:[],data:[]}],images:[],objects:{},collision:{},tilesets:[],tiles:[]}},_slice:function(t,e){var i={};for(var s in e){var n=e[s];void 0!==t[n]&&(i[n]=t[n])}return i},parseObjectGroup:function(t,e,i,s,n){var s=s||t.name,n=n||{x:0,y:0},o=this._slice;s||console.warn("No name found for objectGroup",t),void 0!==n.x&&void 0!==n.y||console.warn("Malformed xy properties in relativePosition",n),e[s]=e[s]||[],i[s]=i[s]||[];for(var r=0,a=t.objects.length;r<a;r++){var h=t.objects[r];if(h.gid){l={gid:h.gid,name:h.name,type:h.type||"",x:h.x+n.x,y:h.y+n.y,width:h.width,height:h.height,visible:h.visible,properties:h.properties};h.rotation&&(l.rotation=h.rotation),e[s].push(l)}else if(h.polyline){var l={name:h.name,type:h.type,x:h.x+n.x,y:h.y+n.y,width:h.width,height:h.height,visible:h.visible,properties:h.properties};h.rotation&&(l.rotation=h.rotation),l.polyline=[];for(c=0;c<h.polyline.length;c++)l.polyline.push([h.polyline[c].x,h.polyline[c].y]);i[s].push(l),e[s].push(l)}else if(h.polygon){(l=o(h,["name","type","x","y","visible","rotation","properties"])).x+=n.x,l.y+=n.y,l.polygon=[];for(var c=0;c<h.polygon.length;c++)l.polygon.push([h.polygon[c].x,h.polygon[c].y]);i[s].push(l),e[s].push(l)}else h.ellipse?((l=o(h,["name","type","ellipse","x","y","width","height","visible","rotation","properties"])).x+=n.x,l.y+=n.y,i[s].push(l),e[s].push(l)):((l=o(h,["name","type","x","y","width","height","visible","rotation","properties"])).x+=n.x,l.y+=n.y,l.rectangle=!0,i[s].push(l),e[s].push(l))}return{objectsCollection:e,collisionCollection:i}},parseTiledJSON:function(t){if("orthogonal"!==t.orientation)return console.warn("TilemapParser.parseTiledJSON - Only orthogonal map types are supported in this version of Phaser"),null;for(var e={width:t.width,height:t.height,tileWidth:t.tilewidth,tileHeight:t.tileheight,orientation:t.orientation,format:i.Tilemap.TILED_JSON,version:t.version,properties:t.properties,widthInPixels:t.width*t.tilewidth,heightInPixels:t.height*t.tileheight},s=[],n=0;n<t.layers.length;n++)if("tilelayer"===t.layers[n].type){var o=t.layers[n];if(!o.compression&&o.encoding&&"base64"===o.encoding){for(var r=window.atob(o.data),a=r.length,h=new Array(a),l=0;l<a;l+=4)h[l/4]=(r.charCodeAt(l)|r.charCodeAt(l+1)<<8|r.charCodeAt(l+2)<<16|r.charCodeAt(l+3)<<24)>>>0;o.data=h,delete o.encoding}else if(o.compression){console.warn("TilemapParser.parseTiledJSON - Layer compression is unsupported, skipping layer '"+o.name+"'");continue}D={name:o.name,x:o.x,y:o.y,width:o.width,height:o.height,widthInPixels:o.width*t.tilewidth,heightInPixels:o.height*t.tileheight,alpha:o.opacity,offsetX:o.offsetx,offsetY:o.offsety,visible:o.visible,properties:{},indexes:[],callbacks:[],bodies:[]};o.properties&&(D.properties=o.properties);for(var c,u,d,p=0,f=[],m=[],g=0,a=o.data.length;g<a;g++){if(c=0,u=!1,k=o.data[g],d=0,k>536870912)switch(k>2147483648&&(k-=2147483648,d+=4),k>1073741824&&(k-=1073741824,d+=2),k>536870912&&(k-=536870912,d+=1),d){case 5:c=Math.PI/2;break;case 6:c=Math.PI;break;case 3:c=3*Math.PI/2;break;case 4:c=0,u=!0;break;case 7:c=Math.PI/2,u=!0;break;case 2:c=Math.PI,u=!0;break;case 1:c=3*Math.PI/2,u=!0}k>0?((B=new i.Tile(D,k,p,m.length,t.tilewidth,t.tileheight)).rotation=c,B.flipped=u,0!==d&&(B.flippedVal=d),f.push(B)):i.TilemapParser.INSERT_NULL?f.push(null):f.push(new i.Tile(D,-1,p,m.length,t.tilewidth,t.tileheight)),++p===o.width&&(m.push(f),p=0,f=[])}D.data=m,s.push(D)}e.layers=s;for(var y=[],n=0;n<t.layers.length;n++)if("imagelayer"===t.layers[n].type){var v=t.layers[n],x={name:v.name,image:v.image,x:v.x,y:v.y,alpha:v.opacity,visible:v.visible,properties:{}};v.properties&&(x.properties=v.properties),y.push(x)}e.images=y;for(var b=[],_={},w=[],T=null,n=0;n<t.tilesets.length;n++){if((U=t.tilesets[n]).source)console.warn("Phaser.TilemapParser - Phaser can't load external tilesets (%s). Use the Embed Tileset button and then export the map again.",U.source);else if(U.image){var P=new i.Tileset(U.name,U.firstgid,U.tilewidth,U.tileheight,U.margin,U.spacing,U.properties);U.tileproperties&&(P.tileProperties=U.tileproperties),P.updateTileData(U.imagewidth,U.imageheight),b.push(P)}else{if(!U.tiles)throw new Error("Tileset "+U.name+" has no `image` or `tiles` property.");var C=new i.ImageCollection(U.name,U.firstgid,U.tilewidth,U.tileheight,U.margin,U.spacing,U.properties);for(var S in U.tiles){var x=U.tiles[S].image,k=U.firstgid+parseInt(S,10);C.addImage(k,x)}w.push(C)}for(var S in U.tiles)(O=U.tiles[S].objectgroup)&&(_[parseInt(S,10)+U.firstgid]=O);T&&(T.lastgid=U.firstgid-1),T=U}if(0===b.length&&0===w.length)throw new Error("This tilemap has no tilesets.");e.tilesets=b,e.imagecollections=w;for(var A={},M={},n=0;n<t.layers.length;n++)if("objectgroup"===t.layers[n].type){var O=t.layers[n];this.parseObjectGroup(O,A,M)}e.objects=A,e.collision=M,e.tiles=[];for(n=0;n<e.tilesets.length;n++)for(var p=(U=e.tilesets[n]).tileMargin,I=U.tileMargin,E=0,R=0,L=0,g=U.firstgid;g<U.firstgid+U.total&&(e.tiles[g]=[p,I,n],p+=U.tileWidth+U.tileSpacing,++E!==U.total)&&(++R!==U.columns||(p=U.tileMargin,I+=U.tileHeight+U.tileSpacing,R=0,++L!==U.rows));g++);for(var D,B,F,U,n=0;n<e.layers.length;n++){M[(D=e.layers[n]).name]=[],U=null;for(l=0;l<D.data.length;l++){f=D.data[l];for(var G=0;G<f.length;G++)null===(B=f[G])||B.index<0||(F=e.tiles[B.index][2],(U=e.tilesets[F]).tileProperties&&U.tileProperties[B.index-U.firstgid]&&(B.properties=i.Utils.mixin(U.tileProperties[B.index-U.firstgid],B.properties)),(O=_[B.index])&&this.parseObjectGroup(O,e.objects,e.collision,B.layer.name,{x:B.worldX+O.x,y:B.worldY+O.y}))}}return e}},i.Tileset=function(t,e,i,s,n,o,r){(void 0===i||i<=0)&&(i=32),(void 0===s||s<=0)&&(s=32),void 0===n&&(n=0),void 0===o&&(o=0),this.name=t,this.firstgid=0|e,this.tileWidth=0|i,this.tileHeight=0|s,this.tileMargin=0|n,this.tileSpacing=0|o,this.properties=r||{},this.image=null,this.rows=0,this.columns=0,this.total=0,this.drawCoords=[]},i.Tileset.prototype={draw:function(t,e,i,s){var n=s-this.firstgid<<1;n>=0&&n+1<this.drawCoords.length&&t.drawImage(this.image,this.drawCoords[n],this.drawCoords[n+1],this.tileWidth,this.tileHeight,e,i,this.tileWidth,this.tileHeight)},containsTileIndex:function(t){return t>=this.firstgid&&t<this.firstgid+this.total},setImage:function(t){this.image=t,this.updateTileData(t.width,t.height)},setSpacing:function(t,e){this.tileMargin=0|t,this.tileSpacing=0|e,this.image&&this.updateTileData(this.image.width,this.image.height)},updateTileData:function(t,e){var i=(e-2*this.tileMargin+this.tileSpacing)/(this.tileHeight+this.tileSpacing),s=(t-2*this.tileMargin+this.tileSpacing)/(this.tileWidth+this.tileSpacing);i%1==0&&s%1==0||console.warn("Phaser.Tileset - "+this.name+" image tile area is not an even multiple of tile size"),i=Math.floor(i),s=Math.floor(s),(this.rows&&this.rows!==i||this.columns&&this.columns!==s)&&console.warn("Phaser.Tileset - actual and expected number of tile rows and columns differ"),this.rows=i,this.columns=s,this.total=i*s,this.drawCoords.length=0;for(var n=this.tileMargin,o=this.tileMargin,r=0;r<this.rows;r++){for(var a=0;a<this.columns;a++)this.drawCoords.push(n),this.drawCoords.push(o),n+=this.tileWidth+this.tileSpacing;n=this.tileMargin,o+=this.tileHeight+this.tileSpacing}}},i.Tileset.prototype.constructor=i.Tileset,i.Particle=function(t,e,s,n,o){i.Sprite.call(this,t,e,s,n,o),this.autoScale=!1,this.scaleData=null,this._s=0,this.autoAlpha=!1,this.alphaData=null,this._a=0},i.Particle.prototype=Object.create(i.Sprite.prototype),i.Particle.prototype.constructor=i.Particle,i.Particle.prototype.update=function(){this.autoScale&&(--this._s?this.scale.set(this.scaleData[this._s].x,this.scaleData[this._s].y):this.autoScale=!1),this.autoAlpha&&(--this._a?this.alpha=this.alphaData[this._a].v:this.autoAlpha=!1)},i.Particle.prototype.onEmit=function(){},i.Particle.prototype.setAlphaData=function(t){this.alphaData=t,this._a=t.length-1,this.alpha=this.alphaData[this._a].v,this.autoAlpha=!0},i.Particle.prototype.setScaleData=function(t){this.scaleData=t,this._s=t.length-1,this.scale.set(this.scaleData[this._s].x,this.scaleData[this._s].y),this.autoScale=!0},i.Particle.prototype.reset=function(t,e,s){return i.Component.Reset.prototype.reset.call(this,t,e,s),this.alpha=1,this.scale.set(1),this.autoScale=!1,this.autoAlpha=!1,this},i.Particles=function(t){this.game=t,this.emitters={},this.ID=0},i.Particles.prototype={add:function(t){return this.emitters[t.id]=t,t},remove:function(t){delete this.emitters[t.id]},update:function(){for(var t in this.emitters)this.emitters[t].exists&&this.emitters[t].update()}},i.Particles.prototype.constructor=i.Particles,i.Particles.Arcade={},i.Particles.Arcade.Emitter=function(t,e,s,n){this.maxParticles=n||50,i.Group.call(this,t),this._id=this.game.particles.ID++,this.name="emitter"+this.id,this.type=i.EMITTER,this.physicsType=i.GROUP,this.area=new i.Rectangle(e,s,1,1),this.minAngle=null,this.maxAngle=null,this.minSpeed=0,this.maxSpeed=100,this.minParticleSpeed=new i.Point(-100,-100),this.maxParticleSpeed=new i.Point(100,100),this.minParticleScale=1,this.maxParticleScale=1,this.scaleData=null,this.minRotation=-360,this.maxRotation=360,this.minParticleAlpha=1,this.maxParticleAlpha=1,this.alphaData=null,this.particleClass=i.Particle,this.particleDrag=new i.Point,this.angularDrag=0,this.frequency=100,this.lifespan=2e3,this.bounce=new i.Point,this.on=!1,this.particleAnchor=new i.Point(.5,.5),this.blendMode=i.blendModes.NORMAL,this.emitX=e,this.emitY=s,this.autoScale=!1,this.autoAlpha=!1,this.particleBringToTop=!1,this.particleSendToBack=!1,this.counts={emitted:0,failed:0,totalEmitted:0,totalFailed:0},this._gravity=new i.Point(0,100),this._minParticleScale=new i.Point(1,1),this._maxParticleScale=new i.Point(1,1),this._total=0,this._timer=0,this._counter=0,this._flowQuantity=0,this._flowTotal=0,this._explode=!0,this._frames=null},i.Particles.Arcade.Emitter.prototype=Object.create(i.Group.prototype),i.Particles.Arcade.Emitter.prototype.constructor=i.Particles.Arcade.Emitter,i.Particles.Arcade.Emitter.prototype.update=function(){if(this.counts.emitted=0,this.counts.failed=0,this.on&&this.game.time.time>=this._timer)if(this._timer=this.game.time.time+this.frequency*this.game.time.slowMotion,0!==this._flowTotal)if(this._flowQuantity>0){for(t=0;t<this._flowQuantity;t++)if(this.emitParticle()&&(this._counter++,-1!==this._flowTotal&&this._counter>=this._flowTotal)){this.on=!1;break}}else this.emitParticle()&&(this._counter++,-1!==this._flowTotal&&this._counter>=this._flowTotal&&(this.on=!1));else this.emitParticle()&&(this._counter++,this._total>0&&this._counter>=this._total&&(this.on=!1));for(var t=this.children.length;t--;)this.children[t].exists&&this.children[t].update()},i.Particles.Arcade.Emitter.prototype.makeParticles=function(t,e,i,s,n,o){void 0===e&&(e=0),void 0===i&&(i=this.maxParticles),void 0===s&&(s=!1),void 0===n&&(n=!1),void 0===o&&(o=null);var r,a=0,h=t,l=e;for(this._frames=e,i>this.maxParticles&&(this.maxParticles=i);a<i;)Array.isArray(t)&&(h=this.game.rnd.pick(t)),Array.isArray(e)&&(l=this.game.rnd.pick(e)),r=new this.particleClass(this.game,0,0,h,l,o),this.game.physics.arcade.enable(r,!1),r.body.checkCollision.none=!s,r.body.collideWorldBounds=n,r.body.skipQuadTree=!0,r.exists=!1,r.visible=!1,r.anchor.copyFrom(this.particleAnchor),this.add(r),a++;return this},i.Particles.Arcade.Emitter.prototype.kill=function(){return this.on=!1,this.alive=!1,this.exists=!1,this},i.Particles.Arcade.Emitter.prototype.revive=function(){return this.alive=!0,this.exists=!0,this},i.Particles.Arcade.Emitter.prototype.explode=function(t,e){return void 0===e&&(e=this.maxParticles),this._flowTotal=0,this.start(!0,t,0,e,!1),this},i.Particles.Arcade.Emitter.prototype.flow=function(t,e,i,s,n){return void 0!==e&&null!==e||(e=250),void 0!==i&&0!==i||(i=1),void 0===s&&(s=-1),void 0===n&&(n=!0),i>this.maxParticles&&(i=this.maxParticles),this._counter=0,this._flowQuantity=i,this._flowTotal=s,n?(this.start(!0,t,e,i),this._counter+=i,this.on=!0,this._timer=this.game.time.time+e*this.game.time.slowMotion):this.start(!1,t,e,i),this},i.Particles.Arcade.Emitter.prototype.start=function(t,e,i,s,n){if(void 0===t&&(t=!0),void 0===e&&(e=0),void 0!==i&&null!==i||(i=250),void 0===s&&(s=0),void 0===n&&(n=!1),s>this.maxParticles&&(s=this.maxParticles),this.revive(),this.visible=!0,this.lifespan=e,this.frequency=i,t||n)for(var o=0;o<s;o++)this.emitParticle();else this.on=!0,this._total=s,this._counter=0,this._timer=this.game.time.time+i*this.game.time.slowMotion;return this},i.Particles.Arcade.Emitter.prototype.emitParticle=function(t,e,i,s){void 0===t&&(t=null),void 0===e&&(e=null);var n=this.getNextParticle();if(null===n)return this.counts.failed++,this.counts.totalFailed++,!1;this.counts.emitted++,this.counts.totalEmitted++;var o=this.game.rnd;void 0!==i&&void 0!==s?n.loadTexture(i,s):void 0!==i&&(n.loadTexture(i),n.frame=Array.isArray(this._frames)?o.pick(this._frames):this._frames);var r=this.emitX,a=this.emitY;return null!==t?r=t:this.width>1&&(r=o.between(this.left,this.right)),null!==e?a=e:this.height>1&&(a=o.between(this.top,this.bottom)),this.resetParticle(n,r,a),!0},i.Particles.Arcade.Emitter.prototype.getNextParticle=function(){for(var t=this.length;t--;){var e=this.next();if(!e.exists)return e}return null},i.Particles.Arcade.Emitter.prototype.resetParticle=function(t,e,i){var s=this.game.rnd;t.reset(e,i),t.angle=0,t.lifespan=this.lifespan,this.particleBringToTop?this.bringToTop(t):this.particleSendToBack&&this.sendToBack(t),this.autoScale?t.setScaleData(this.scaleData):1!==this.minParticleScale||1!==this.maxParticleScale?t.scale.set(s.realInRange(this.minParticleScale,this.maxParticleScale)):this._minParticleScale.x!==this._maxParticleScale.x||this._minParticleScale.y!==this._maxParticleScale.y?t.scale.set(s.realInRange(this._minParticleScale.x,this._maxParticleScale.x),s.realInRange(this._minParticleScale.y,this._maxParticleScale.y)):t.scale.set(this._minParticleScale.x,this._minParticleScale.y),this.autoAlpha?t.setAlphaData(this.alphaData):t.alpha=s.realInRange(this.minParticleAlpha,this.maxParticleAlpha),t.blendMode=this.blendMode;var n=t.body;n.updateBounds(),n.bounce.copyFrom(this.bounce),n.drag.copyFrom(this.particleDrag),null!=this.minAngle&&null!=this.maxAngle?this.game.physics.arcade.velocityFromAngle(this.minAngle===this.maxAngle?this.minAngle:s.between(this.minAngle,this.maxAngle),this.minSpeed===this.maxSpeed?this.minSpeed:s.between(this.minSpeed,this.maxSpeed),n.velocity):(n.velocity.x=s.between(this.minParticleSpeed.x,this.maxParticleSpeed.x),n.velocity.y=s.between(this.minParticleSpeed.y,this.maxParticleSpeed.y)),n.angularVelocity=s.between(this.minRotation,this.maxRotation),n.gravity.copyFrom(this.gravity),n.angularDrag=this.angularDrag,t.onEmit()},i.Particles.Arcade.Emitter.prototype.destroy=function(){this.game.particles.remove(this),i.Group.prototype.destroy.call(this,!0,!1)},i.Particles.Arcade.Emitter.prototype.setSize=function(t,e){return this.area.width=t,this.area.height=e,this},i.Particles.Arcade.Emitter.prototype.setXSpeed=function(t,e){return t=t||0,e=e||0,this.minParticleSpeed.x=t,this.maxParticleSpeed.x=e,this},i.Particles.Arcade.Emitter.prototype.setYSpeed=function(t,e){return t=t||0,e=e||0,this.minParticleSpeed.y=t,this.maxParticleSpeed.y=e,this},i.Particles.Arcade.Emitter.prototype.setRotation=function(t,e){return t=t||0,e=e||0,this.minRotation=t,this.maxRotation=e,this},i.Particles.Arcade.Emitter.prototype.setAlpha=function(t,e,s,n,o){if(void 0===t&&(t=1),void 0===e&&(e=1),void 0===s&&(s=0),void 0===n&&(n=i.Easing.Linear.None),void 0===o&&(o=!1),this.minParticleAlpha=t,this.maxParticleAlpha=e,this.autoAlpha=!1,s>0&&t!==e){var r={v:t},a=this.game.make.tween(r).to({v:e},s,n);a.yoyo(o),this.alphaData=a.generateData(60),this.alphaData.reverse(),this.autoAlpha=!0}return this},i.Particles.Arcade.Emitter.prototype.setScale=function(t,e,s,n,o,r,a){if(void 0===t&&(t=1),void 0===e&&(e=1),void 0===s&&(s=1),void 0===n&&(n=1),void 0===o&&(o=0),void 0===r&&(r=i.Easing.Linear.None),void 0===a&&(a=!1),this.minParticleScale=1,this.maxParticleScale=1,this._minParticleScale.set(t,s),this._maxParticleScale.set(e,n),this.autoScale=!1,o>0&&(t!==e||s!==n)){var h={x:t,y:s},l=this.game.make.tween(h).to({x:e,y:n},o,r);l.yoyo(a),this.scaleData=l.generateData(60),this.scaleData.reverse(),this.autoScale=!0}return this},i.Particles.Arcade.Emitter.prototype.setAngle=function(t,e,i,s){return this.minAngle=t,this.maxAngle=e,null!=i&&(this.minSpeed=i),null!=s&&(this.maxSpeed=s),this},i.Particles.Arcade.Emitter.prototype.at=function(t){return t.center?(this.emitX=t.center.x,this.emitY=t.center.y):(this.emitX=t.world.x+t.anchor.x*t.width,this.emitY=t.world.y+t.anchor.y*t.height),this},Object.defineProperty(i.Particles.Arcade.Emitter.prototype,"gravity",{get:function(){return this._gravity},set:function(t){"number"==typeof t?this._gravity.y=t:this._gravity=t}}),Object.defineProperty(i.Particles.Arcade.Emitter.prototype,"id",{get:function(){return this._id}}),Object.defineProperty(i.Particles.Arcade.Emitter.prototype,"width",{get:function(){return this.area.width},set:function(t){this.area.width=t}}),Object.defineProperty(i.Particles.Arcade.Emitter.prototype,"height",{get:function(){return this.area.height},set:function(t){this.area.height=t}}),Object.defineProperty(i.Particles.Arcade.Emitter.prototype,"x",{get:function(){return this.emitX},set:function(t){this.emitX=t}}),Object.defineProperty(i.Particles.Arcade.Emitter.prototype,"y",{get:function(){return this.emitY},set:function(t){this.emitY=t}}),Object.defineProperty(i.Particles.Arcade.Emitter.prototype,"left",{get:function(){return Math.floor(this.x-this.area.width/2)}}),Object.defineProperty(i.Particles.Arcade.Emitter.prototype,"right",{get:function(){return Math.floor(this.x+this.area.width/2)}}),Object.defineProperty(i.Particles.Arcade.Emitter.prototype,"top",{get:function(){return Math.floor(this.y-this.area.height/2)}}),Object.defineProperty(i.Particles.Arcade.Emitter.prototype,"bottom",{get:function(){return Math.floor(this.y+this.area.height/2)}}),Object.defineProperty(i.Particles.Arcade.Emitter.prototype,"output",{get:function(){return 1e3*this._flowQuantity/this.frequency}}),Object.defineProperty(i.Particles.Arcade.Emitter.prototype,"lifespanOutput",{get:function(){return(0===this.lifespan?1/0:this.lifespan)*this._flowQuantity/this.frequency}}),Object.defineProperty(i.Particles.Arcade.Emitter.prototype,"remainder",{get:function(){return this.maxParticles-this.lifespanOutput}}),i.Weapon=function(t,e){i.Plugin.call(this,t,e),this.bullets=null,this.autoExpandBulletsGroup=!1,this.autofire=!1,this.shots=0,this.fireLimit=0,this.fireRate=100,this.fireRateVariance=0,this.fireFrom=new i.Rectangle(0,0,1,1),this.fireAngle=i.ANGLE_UP,this.bulletInheritSpriteSpeed=!1,this.bulletAnimation="",this.bulletFrameRandom=!1,this.bulletFrameCycle=!1,this.bulletWorldWrap=!1,this.bulletWorldWrapPadding=0,this.bulletAngleOffset=0,this.bulletAngleVariance=0,this.bulletSpeed=200,this.bulletSpeedVariance=0,this.bulletLifespan=0,this.bulletKillDistance=0,this.bulletGravity=new i.Point(0,0),this.bulletRotateToVelocity=!1,this.bulletKey="",this.bulletFrame="",this._bulletClass=i.Bullet,this._bulletCollideWorldBounds=!1,this._bulletKillType=i.Weapon.KILL_WORLD_BOUNDS,this._data={customBody:!1,width:0,height:0,offsetX:0,offsetY:0},this.bounds=new i.Rectangle,this.bulletBounds=t.world.bounds,this.bulletFrames=[],this.bulletFrameIndex=0,this.anims={},this.onFire=new i.Signal,this.onKill=new i.Signal,this.onFireLimit=new i.Signal,this.trackedSprite=null,this.trackedPointer=null,this.multiFire=!1,this._hasFired=!1,this.trackRotation=!1,this.trackOffset=new i.Point,this._nextFire=0,this._tempNextFire=0,this._rotatedPoint=new i.Point},i.Weapon.prototype=Object.create(i.Plugin.prototype),i.Weapon.prototype.constructor=i.Weapon,i.Weapon.KILL_NEVER=0,i.Weapon.KILL_LIFESPAN=1,i.Weapon.KILL_DISTANCE=2,i.Weapon.KILL_WEAPON_BOUNDS=3,i.Weapon.KILL_CAMERA_BOUNDS=4,i.Weapon.KILL_WORLD_BOUNDS=5,i.Weapon.KILL_STATIC_BOUNDS=6,i.Weapon.prototype.createBullets=function(t,e,s,n){return void 0===t&&(t=1),void 0===n&&(n=this.game.world),this.bullets||(this.bullets=this.game.add.physicsGroup(i.Physics.ARCADE,n),this.bullets.classType=this._bulletClass),0!==t&&(-1===t&&(this.autoExpandBulletsGroup=!0,t=1),this.bullets.createMultiple(t,e,s),this.bullets.setAll("data.bulletManager",this),this.bulletKey=e,this.bulletFrame=s),this},i.Weapon.prototype.forEach=function(t,e){return this.bullets.forEachExists(t,e,arguments),this},i.Weapon.prototype.pauseAll=function(){return this.bullets.setAll("body.enable",!1),this},i.Weapon.prototype.resumeAll=function(){return this.bullets.setAll("body.enable",!0),this},i.Weapon.prototype.killAll=function(){return this.bullets.callAllExists("kill",!0),this.bullets.setAll("body.enable",!0),this},i.Weapon.prototype.resetShots=function(t){return this.shots=0,void 0!==t&&(this.fireLimit=t),this},i.Weapon.prototype.destroy=function(){this.parent.remove(this,!1),this.bullets.destroy(),this.game=null,this.parent=null,this.active=!1,this.visible=!1},i.Weapon.prototype.update=function(){this._bulletKillType===i.Weapon.KILL_WEAPON_BOUNDS&&(this.trackedSprite?(this.trackedSprite.updateTransform(),this.bounds.centerOn(this.trackedSprite.worldPosition.x,this.trackedSprite.worldPosition.y)):this.trackedPointer&&this.bounds.centerOn(this.trackedPointer.worldX,this.trackedPointer.worldY)),this.autofire&&this.fire()},i.Weapon.prototype.postRender=function(){this.multiFire&&this._hasFired&&(this._hasFired=!1,this._nextFire=this._tempNextFire)},i.Weapon.prototype.trackSprite=function(t,e,i,s){return void 0===e&&(e=0),void 0===i&&(i=0),void 0===s&&(s=!1),this.trackedPointer=null,this.trackedSprite=t,this.trackRotation=s,this.trackOffset.set(e,i),this},i.Weapon.prototype.trackPointer=function(t,e,i){return void 0===t&&(t=this.game.input.activePointer),void 0===e&&(e=0),void 0===i&&(i=0),this.trackedPointer=t,this.trackedSprite=null,this.trackRotation=!1,this.trackOffset.set(e,i),this},i.Weapon.prototype.fireMany=function(t,e){this.multiFire=!0;var i=[],s=this;return e||this.trackedSprite||this.trackedPointer?t.forEach(function(t){i.push(s.fire(e,null,null,t.x,t.y))}):t.forEach(function(t){i.push(s.fire(t))}),i},i.Weapon.prototype.fireOffset=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=0),this.fire(null,null,null,t,e)},i.Weapon.prototype.fire=function(t,e,s,n,o){if(void 0===e&&(e=null),void 0===s&&(s=null),this.game.time.now<this._nextFire||this.fireLimit>0&&this.shots===this.fireLimit)return null;var r=this.bulletSpeed;0!==this.bulletSpeedVariance&&(r+=i.Math.between(-this.bulletSpeedVariance,this.bulletSpeedVariance)),t?this.fireFrom.width>1?this.fireFrom.centerOn(t.x,t.y):(this.fireFrom.x=t.x,this.fireFrom.y=t.y):this.trackedSprite?(this.trackRotation?(this._rotatedPoint.set(this.trackedSprite.world.x+this.trackOffset.x,this.trackedSprite.world.y+this.trackOffset.y),this._rotatedPoint.rotate(this.trackedSprite.world.x,this.trackedSprite.world.y,this.trackedSprite.worldRotation),this.fireFrom.width>1?this.fireFrom.centerOn(this._rotatedPoint.x,this._rotatedPoint.y):(this.fireFrom.x=this._rotatedPoint.x,this.fireFrom.y=this._rotatedPoint.y)):this.fireFrom.width>1?this.fireFrom.centerOn(this.trackedSprite.world.x+this.trackOffset.x,this.trackedSprite.world.y+this.trackOffset.y):(this.fireFrom.x=this.trackedSprite.world.x+this.trackOffset.x,this.fireFrom.y=this.trackedSprite.world.y+this.trackOffset.y),this.bulletInheritSpriteSpeed&&(r+=this.trackedSprite.body.speed)):this.trackedPointer&&(this.fireFrom.width>1?this.fireFrom.centerOn(this.trackedPointer.world.x+this.trackOffset.x,this.trackedPointer.world.y+this.trackOffset.y):(this.fireFrom.x=this.trackedPointer.world.x+this.trackOffset.x,this.fireFrom.y=this.trackedPointer.world.y+this.trackOffset.y)),void 0!==n&&(this.fireFrom.x+=n),void 0!==o&&(this.fireFrom.y+=o);var a=this.fireFrom.width>1?this.fireFrom.randomX:this.fireFrom.x,h=this.fireFrom.height>1?this.fireFrom.randomY:this.fireFrom.y,l=this.trackRotation?this.trackedSprite.angle:this.fireAngle;null!==e&&null!==s&&(l=this.game.math.radToDeg(Math.atan2(s-h,e-a))),0!==this.bulletAngleVariance&&(l+=i.Math.between(-this.bulletAngleVariance,this.bulletAngleVariance));var c=0,u=0;0===l||180===l?c=Math.cos(this.game.math.degToRad(l))*r:90===l||270===l?u=Math.sin(this.game.math.degToRad(l))*r:(c=Math.cos(this.game.math.degToRad(l))*r,u=Math.sin(this.game.math.degToRad(l))*r);var d=null;if(this.autoExpandBulletsGroup?(d=this.bullets.getFirstExists(!1,!0,a,h,this.bulletKey,this.bulletFrame)).data.bulletManager=this:d=this.bullets.getFirstExists(!1),d){if(d.reset(a,h),d.data.fromX=a,d.data.fromY=h,d.data.killType=this.bulletKillType,d.data.killDistance=this.bulletKillDistance,d.data.rotateToVelocity=this.bulletRotateToVelocity,this.bulletKillType===i.Weapon.KILL_LIFESPAN&&(d.lifespan=this.bulletLifespan),d.angle=l+this.bulletAngleOffset,""!==this.bulletAnimation){if(null===d.animations.getAnimation(this.bulletAnimation)){var p=this.anims[this.bulletAnimation];d.animations.add(p.name,p.frames,p.frameRate,p.loop,p.useNumericIndex)}d.animations.play(this.bulletAnimation)}else this.bulletFrameCycle?(d.frame=this.bulletFrames[this.bulletFrameIndex],++this.bulletFrameIndex>=this.bulletFrames.length&&(this.bulletFrameIndex=0)):this.bulletFrameRandom&&(d.frame=this.bulletFrames[Math.floor(Math.random()*this.bulletFrames.length)]);d.data.bodyDirty&&(this._data.customBody&&d.body.setSize(this._data.width,this._data.height,this._data.offsetX,this._data.offsetY),d.body.collideWorldBounds=this.bulletCollideWorldBounds,d.data.bodyDirty=!1),d.body.velocity.set(c,u),d.body.gravity.set(this.bulletGravity.x,this.bulletGravity.y);var f=0;if(0!==this.bulletSpeedVariance){var m=this.fireRate;(m+=i.Math.between(-this.fireRateVariance,this.fireRateVariance))<0&&(m=0),f=this.game.time.now+m}else f=this.game.time.now+this.fireRate;this.multiFire?this._hasFired||(this._hasFired=!0,this._tempNextFire=f,this.shots++):(this._nextFire=f,this.shots++),this.onFire.dispatch(d,this,r),this.fireLimit>0&&this.shots===this.fireLimit&&this.onFireLimit.dispatch(this,this.fireLimit)}return d},i.Weapon.prototype.fireAtPointer=function(t){return void 0===t&&(t=this.game.input.activePointer),this.fire(null,t.worldX,t.worldY)},i.Weapon.prototype.fireAtSprite=function(t){return this.fire(null,t.world.x,t.world.y)},i.Weapon.prototype.fireAtXY=function(t,e){return this.fire(null,t,e)},i.Weapon.prototype.setBulletBodyOffset=function(t,e,i,s){return void 0===i&&(i=0),void 0===s&&(s=0),this._data.customBody=!0,this._data.width=t,this._data.height=e,this._data.offsetX=i,this._data.offsetY=s,this.bullets.callAll("body.setSize","body",t,e,i,s),this.bullets.setAll("data.bodyDirty",!1),this},i.Weapon.prototype.setBulletFrames=function(t,e,s,n){return void 0===s&&(s=!0),void 0===n&&(n=!1),this.bulletFrames=i.ArrayUtils.numberArray(t,e),this.bulletFrameIndex=0,this.bulletFrameCycle=s,this.bulletFrameRandom=n,this},i.Weapon.prototype.addBulletAnimation=function(t,e,i,s,n){return this.anims[t]={name:t,frames:e,frameRate:i,loop:s,useNumericIndex:n},this.bullets.callAll("animations.add","animations",t,e,i,s,n),this.bulletAnimation=t,this},i.Weapon.prototype.debug=function(t,e,i){void 0===t&&(t=16),void 0===e&&(e=32),void 0===i&&(i=!1),this.game.debug.text("Weapon Plugin",t,e),this.game.debug.text("Bullets Alive: "+this.bullets.total+" - Total: "+this.bullets.length,t,e+24),i&&this.bullets.forEachExists(this.game.debug.body,this.game.debug,"rgba(255, 0, 255, 0.8)")},Object.defineProperty(i.Weapon.prototype,"bulletClass",{get:function(){return this._bulletClass},set:function(t){this._bulletClass=t,this.bullets&&(this.bullets.classType=this._bulletClass)}}),Object.defineProperty(i.Weapon.prototype,"bulletKillType",{get:function(){return this._bulletKillType},set:function(t){switch(t){case i.Weapon.KILL_STATIC_BOUNDS:case i.Weapon.KILL_WEAPON_BOUNDS:this.bulletBounds=this.bounds;break;case i.Weapon.KILL_CAMERA_BOUNDS:this.bulletBounds=this.game.camera.view;break;case i.Weapon.KILL_WORLD_BOUNDS:this.bulletBounds=this.game.world.bounds}this._bulletKillType=t}}),Object.defineProperty(i.Weapon.prototype,"bulletCollideWorldBounds",{get:function(){return this._bulletCollideWorldBounds},set:function(t){this._bulletCollideWorldBounds=t,this.bullets.setAll("body.collideWorldBounds",t),this.bullets.setAll("data.bodyDirty",!1)}}),Object.defineProperty(i.Weapon.prototype,"x",{get:function(){return this.fireFrom.x},set:function(t){this.fireFrom.x=t}}),Object.defineProperty(i.Weapon.prototype,"y",{get:function(){return this.fireFrom.y},set:function(t){this.fireFrom.y=t}}),i.Bullet=function(t,e,s,n,o){i.Sprite.call(this,t,e,s,n,o),this.anchor.set(.5),this.data={bulletManager:null,fromX:0,fromY:0,bodyDirty:!0,rotateToVelocity:!1,killType:0,killDistance:0}},i.Bullet.prototype=Object.create(i.Sprite.prototype),i.Bullet.prototype.constructor=i.Bullet,i.Bullet.prototype.kill=function(){return this.alive=!1,this.exists=!1,this.visible=!1,this.data.bulletManager.onKill.dispatch(this),this},i.Bullet.prototype.update=function(){this.exists&&(this.data.killType>i.Weapon.KILL_LIFESPAN&&(this.data.killType===i.Weapon.KILL_DISTANCE?this.game.physics.arcade.distanceToXY(this,this.data.fromX,this.data.fromY,!0)>this.data.killDistance&&this.kill():this.data.bulletManager.bulletBounds.intersects(this)||this.kill()),this.data.rotateToVelocity&&(this.rotation=Math.atan2(this.body.velocity.y,this.body.velocity.x)),this.data.bulletManager.bulletWorldWrap&&this.game.world.wrap(this,this.data.bulletManager.bulletWorldWrapPadding))},i.Video=function(t,e,s){if(void 0===e&&(e=null),void 0===s&&(s=null),this.game=t,this.key=e,this.width=0,this.height=0,this.type=i.VIDEO,this.disableTextureUpload=!1,this.touchLocked=!1,this.onPlay=new i.Signal,this.onChangeSource=new i.Signal,this.onComplete=new i.Signal,this.onAccess=new i.Signal,this.onError=new i.Signal,this.onTimeout=new i.Signal,this.timeout=15e3,this._timeOutID=null,this.video=null,this.videoStream=null,this.isStreaming=!1,this.retryLimit=20,this.retry=0,this.retryInterval=500,this._retryID=null,this._codeMuted=!1,this._muted=!1,this._codePaused=!1,this._paused=!1,this._pending=!1,this._pendingChangeSource=!1,this._autoplay=!1,this._endCallback=null,this._playCallback=null,e&&this.game.cache.checkVideoKey(e)){var n=this.game.cache.getVideo(e);n.isBlob?this.createVideoFromBlob(n.data):this.video=n.data,this.width=this.video.videoWidth,this.height=this.video.videoHeight}else s&&this.createVideoFromURL(s,!1);this.video&&!s?(this.baseTexture=new PIXI.BaseTexture(this.video,null,this.game.resolution),this.baseTexture.forceLoaded(this.width,this.height)):(this.baseTexture=new PIXI.BaseTexture(i.Cache.DEFAULT.baseTexture.source,null,this.game.resolution),this.baseTexture.forceLoaded(this.width,this.height)),this.texture=new PIXI.Texture(this.baseTexture),this.textureFrame=new i.Frame(0,0,0,this.width,this.height,"video"),this.texture.setFrame(this.textureFrame),this.texture.valid=!1,null!==e&&this.video&&(this.texture.valid=this.video.canplay),this.snapshot=null,i.BitmapData&&(this.snapshot=new i.BitmapData(this.game,"",this.width,this.height)),this.game.device.needsTouchUnlock()?this.setTouchLock():n&&(n.locked=!1)},i.Video.prototype={connectToMediaStream:function(t,e){return t&&e&&(this.video=t,this.videoStream=e,this.isStreaming=!0,this.baseTexture.source=this.video,this.updateTexture(null,this.video.videoWidth,this.video.videoHeight),this.onAccess.dispatch(this)),this},startMediaStream:function(t,e,i){if(void 0===t&&(t=!1),void 0===e&&(e=null),void 0===i&&(i=null),!this.game.device.getUserMedia)return this.onError.dispatch(this,"No getUserMedia"),!1;null!==this.videoStream&&(this.videoStream.active?this.videoStream.active=!1:this.videoStream.stop()),this.removeVideoElement(),this.video=document.createElement("video"),this.video.setAttribute("autoplay","autoplay"),null!==e&&(this.video.width=e),null!==i&&(this.video.height=i),this._timeOutID=window.setTimeout(this.getUserMediaTimeout.bind(this),this.timeout);try{navigator.getUserMedia({audio:t,video:!0},this.getUserMediaSuccess.bind(this),this.getUserMediaError.bind(this))}catch(t){this.getUserMediaError(t)}return this},getUserMediaTimeout:function(){clearTimeout(this._timeOutID),this.onTimeout.dispatch(this)},getUserMediaError:function(t){clearTimeout(this._timeOutID),this.onError.dispatch(this,t)},getUserMediaSuccess:function(t){clearTimeout(this._timeOutID),this.videoStream=t,void 0!==this.video.mozSrcObject?this.video.mozSrcObject=t:this.video.src=window.URL&&window.URL.createObjectURL(t)||t;var e=this;this.video.onloadeddata=function(){function t(){if(i>0)if(e.video.videoWidth>0){var s=e.video.videoWidth,n=e.video.videoHeight;isNaN(e.video.videoHeight)&&(n=s/(4/3)),e.video.play(),e.isStreaming=!0,e.baseTexture.source=e.video,e.updateTexture(null,s,n),e.onAccess.dispatch(e)}else window.setTimeout(t,500);else console.warn("Unable to connect to video stream. Webcam error?");i--}var i=10;t()}},createVideoFromBlob:function(t){var e=this;return this.video=document.createElement("video"),this.video.controls=!1,this.video.setAttribute("autoplay","autoplay"),this.video.addEventListener("loadeddata",function(t){e.updateTexture(t)},!0),this.video.src=window.URL.createObjectURL(t),this.video.canplay=!0,this},createVideoFromURL:function(t,e){return void 0===e&&(e=!1),this.texture&&(this.texture.valid=!1),this.video=document.createElement("video"),this.video.controls=!1,e&&this.video.setAttribute("autoplay","autoplay"),this.video.src=t,this.video.canplay=!0,this.video.load(),this.retry=this.retryLimit,this._retryID=window.setTimeout(this.checkVideoProgress.bind(this),this.retryInterval),this.key=t,this},updateTexture:function(t,e,i){var s=!1;void 0!==e&&null!==e||(e=this.video.videoWidth,s=!0),void 0!==i&&null!==i||(i=this.video.videoHeight),this.width=e,this.height=i,this.baseTexture.source!==this.video&&(this.baseTexture.source=this.video),this.baseTexture.forceLoaded(e,i),this.texture.frame.resize(e,i),this.texture.width=e,this.texture.height=i,this.texture.valid=!0,this.snapshot&&this.snapshot.resize(e,i),s&&null!==this.key&&(this.onChangeSource.dispatch(this,e,i),this._autoplay&&(this.video.play(),this.onPlay.dispatch(this,this.loop,this.playbackRate)))},complete:function(){this.onComplete.dispatch(this)},play:function(t,e){return this._pendingChangeSource?this:(void 0===t&&(t=!1),void 0===e&&(e=1),this.game.sound.onMute&&(this.game.sound.onMute.add(this.setMute,this),this.game.sound.onUnMute.add(this.unsetMute,this),this.game.sound.mute&&this.setMute()),this.game.onPause.add(this.setPause,this),this.game.onResume.add(this.setResume,this),this._endCallback=this.complete.bind(this),this.video.addEventListener("ended",this._endCallback,!0),this.video.addEventListener("webkitendfullscreen",this._endCallback,!0),this.video.loop=t?"loop":"",this.video.playbackRate=e,this.touchLocked?this._pending=!0:(this._pending=!1,null!==this.key&&(4!==this.video.readyState?(this.retry=this.retryLimit,this._retryID=window.setTimeout(this.checkVideoProgress.bind(this),this.retryInterval)):(this._playCallback=this.playHandler.bind(this),this.video.addEventListener("playing",this._playCallback,!0))),this.video.play(),this.onPlay.dispatch(this,t,e)),this)},playHandler:function(){this.video.removeEventListener("playing",this._playCallback,!0),this.updateTexture()},stop:function(){return this.game.sound.onMute&&(this.game.sound.onMute.remove(this.setMute,this),this.game.sound.onUnMute.remove(this.unsetMute,this)),this.game.onPause.remove(this.setPause,this),this.game.onResume.remove(this.setResume,this),this.isStreaming?(this.video.mozSrcObject?(this.video.mozSrcObject.stop(),this.video.src=null):(this.video.src="",this.videoStream.active?this.videoStream.active=!1:this.videoStream.getTracks?this.videoStream.getTracks().forEach(function(t){t.stop()}):this.videoStream.stop()),this.videoStream=null,this.isStreaming=!1):(this.video.removeEventListener("ended",this._endCallback,!0),this.video.removeEventListener("webkitendfullscreen",this._endCallback,!0),this.video.removeEventListener("playing",this._playCallback,!0),this.touchLocked?this._pending=!1:this.video.pause()),this},add:function(t){if(Array.isArray(t))for(var e=0;e<t.length;e++)t[e].loadTexture&&t[e].loadTexture(this);else t.loadTexture(this);return this},addToWorld:function(t,e,i,s,n,o){n=n||1,o=o||1;var r=this.game.add.image(t,e,this);return r.anchor.set(i,s),r.scale.set(n,o),r},render:function(){!this.disableTextureUpload&&this.playing&&this.baseTexture.dirty()},setMute:function(){this._muted||(this._muted=!0,this.video.muted=!0)},unsetMute:function(){this._muted&&!this._codeMuted&&(this._muted=!1,this.video.muted=!1)},setPause:function(){this._paused||this.touchLocked||(this._paused=!0,this.video.pause())},setResume:function(){!this._paused||this._codePaused||this.touchLocked||(this._paused=!1,this.video.ended||this.video.play())},changeSource:function(t,e){return void 0===e&&(e=!0),this.texture.valid=!1,this.video.pause(),this._pendingChangeSource=!0,this.retry=this.retryLimit,this._retryID=window.setTimeout(this.checkVideoProgress.bind(this),this.retryInterval),this.video.src=t,this.video.load(),this._autoplay=e,e||(this.paused=!0),this},checkVideoProgress:function(){4===this.video.readyState?(this._pendingChangeSource=!1,this.updateTexture()):--this.retry>0?this._retryID=window.setTimeout(this.checkVideoProgress.bind(this),this.retryInterval):console.warn("Phaser.Video: Unable to start downloading video in time",this.isStreaming)},setTouchLock:function(){this.game.input.addTouchLockCallback(this.unlock,this),this.touchLocked=!0},unlock:function(){if(this.touchLocked=!1,this.video.play(),this.onPlay.dispatch(this,this.loop,this.playbackRate),this.key){var t=this.game.cache.getVideo(this.key);t&&!t.isBlob&&(t.locked=!1)}return!0},grab:function(t,e,i){if(void 0===t&&(t=!1),void 0===e&&(e=1),void 0===i&&(i=null),null!==this.snapshot)return t&&this.snapshot.cls(),this.snapshot.copy(this.video,0,0,this.width,this.height,0,0,this.width,this.height,0,0,0,1,1,e,i),this.snapshot;console.warn("Video.grab cannot run because Phaser.BitmapData is unavailable")},removeVideoElement:function(){if(this.video){for(this.video.parentNode&&this.video.parentNode.removeChild(this.video);this.video.hasChildNodes();)this.video.removeChild(this.video.firstChild);this.video.removeAttribute("autoplay"),this.video.removeAttribute("src"),this.video=null}},destroy:function(){this.stop(),this.removeVideoElement(),this.touchLocked&&this.game.input.touch.removeTouchLockCallback(this.unlock,this),this._retryID&&window.clearTimeout(this._retryID)}},Object.defineProperty(i.Video.prototype,"currentTime",{get:function(){return this.video?this.video.currentTime:0},set:function(t){this.video.currentTime=t}}),Object.defineProperty(i.Video.prototype,"duration",{get:function(){return this.video?this.video.duration:0}}),Object.defineProperty(i.Video.prototype,"progress",{get:function(){return this.video?this.video.currentTime/this.video.duration:0}}),Object.defineProperty(i.Video.prototype,"mute",{get:function(){return this._muted},set:function(t){if(t=t||null){if(this._muted)return;this._codeMuted=!0,this.setMute()}else{if(!this._muted)return;this._codeMuted=!1,this.unsetMute()}}}),Object.defineProperty(i.Video.prototype,"paused",{get:function(){return this._paused},set:function(t){if(t=t||null,!this.touchLocked)if(t){if(this._paused)return;this._codePaused=!0,this.setPause()}else{if(!this._paused)return;this._codePaused=!1,this.setResume()}}}),Object.defineProperty(i.Video.prototype,"volume",{get:function(){return this.video?this.video.volume:1},set:function(t){t<0?t=0:t>1&&(t=1),this.video&&(this.video.volume=t)}}),Object.defineProperty(i.Video.prototype,"playbackRate",{get:function(){return this.video?this.video.playbackRate:1},set:function(t){this.video&&(this.video.playbackRate=t)}}),Object.defineProperty(i.Video.prototype,"loop",{get:function(){return!!this.video&&this.video.loop},set:function(t){t&&this.video?this.video.loop="loop":this.video&&(this.video.loop="")}}),Object.defineProperty(i.Video.prototype,"playing",{get:function(){return!!this.video&&!(this.video.paused&&this.video.ended)}}),i.Video.prototype.constructor=i.Video,void 0===PIXI.blendModes&&(PIXI.blendModes=i.blendModes),void 0===PIXI.scaleModes&&(PIXI.scaleModes=i.scaleModes),void 0===PIXI.Texture.emptyTexture&&(PIXI.Texture.emptyTexture=new PIXI.Texture(new PIXI.BaseTexture)),void 0===PIXI.DisplayObject._tempMatrix&&(PIXI.DisplayObject._tempMatrix=new i.Matrix),PIXI.TextureSilentFail=!0,PIXI.canUseNewCanvasBlendModes=function(){return i.Device.canUseMultiply}, true?("undefined"!=typeof module&&module.exports&&(exports=module.exports=i),exports.Phaser=i):"undefined"!=typeof define&&define.amd?define("Phaser",e.Phaser=i):e.Phaser=i,i}).call(this);
//# sourceMappingURL=phaser-split.map
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(10)))

/***/ }),
/* 10 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


// shim for using process in browser
var process = module.exports = {};

// cached from whatever global is present so that test runners that stub it
// don't break things.  But we need to wrap it in a try catch in case it is
// wrapped in strict mode code which doesn't define any globals.  It's inside a
// function because try/catches deoptimize in certain engines.

var cachedSetTimeout;
var cachedClearTimeout;

function defaultSetTimout() {
    throw new Error('setTimeout has not been defined');
}
function defaultClearTimeout() {
    throw new Error('clearTimeout has not been defined');
}
(function () {
    try {
        if (typeof setTimeout === 'function') {
            cachedSetTimeout = setTimeout;
        } else {
            cachedSetTimeout = defaultSetTimout;
        }
    } catch (e) {
        cachedSetTimeout = defaultSetTimout;
    }
    try {
        if (typeof clearTimeout === 'function') {
            cachedClearTimeout = clearTimeout;
        } else {
            cachedClearTimeout = defaultClearTimeout;
        }
    } catch (e) {
        cachedClearTimeout = defaultClearTimeout;
    }
})();
function runTimeout(fun) {
    if (cachedSetTimeout === setTimeout) {
        //normal enviroments in sane situations
        return setTimeout(fun, 0);
    }
    // if setTimeout wasn't available but was latter defined
    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {
        cachedSetTimeout = setTimeout;
        return setTimeout(fun, 0);
    }
    try {
        // when when somebody has screwed with setTimeout but no I.E. maddness
        return cachedSetTimeout(fun, 0);
    } catch (e) {
        try {
            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally
            return cachedSetTimeout.call(null, fun, 0);
        } catch (e) {
            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error
            return cachedSetTimeout.call(this, fun, 0);
        }
    }
}
function runClearTimeout(marker) {
    if (cachedClearTimeout === clearTimeout) {
        //normal enviroments in sane situations
        return clearTimeout(marker);
    }
    // if clearTimeout wasn't available but was latter defined
    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {
        cachedClearTimeout = clearTimeout;
        return clearTimeout(marker);
    }
    try {
        // when when somebody has screwed with setTimeout but no I.E. maddness
        return cachedClearTimeout(marker);
    } catch (e) {
        try {
            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally
            return cachedClearTimeout.call(null, marker);
        } catch (e) {
            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.
            // Some versions of I.E. have different rules for clearTimeout vs setTimeout
            return cachedClearTimeout.call(this, marker);
        }
    }
}
var queue = [];
var draining = false;
var currentQueue;
var queueIndex = -1;

function cleanUpNextTick() {
    if (!draining || !currentQueue) {
        return;
    }
    draining = false;
    if (currentQueue.length) {
        queue = currentQueue.concat(queue);
    } else {
        queueIndex = -1;
    }
    if (queue.length) {
        drainQueue();
    }
}

function drainQueue() {
    if (draining) {
        return;
    }
    var timeout = runTimeout(cleanUpNextTick);
    draining = true;

    var len = queue.length;
    while (len) {
        currentQueue = queue;
        queue = [];
        while (++queueIndex < len) {
            if (currentQueue) {
                currentQueue[queueIndex].run();
            }
        }
        queueIndex = -1;
        len = queue.length;
    }
    currentQueue = null;
    draining = false;
    runClearTimeout(timeout);
}

process.nextTick = function (fun) {
    var args = new Array(arguments.length - 1);
    if (arguments.length > 1) {
        for (var i = 1; i < arguments.length; i++) {
            args[i - 1] = arguments[i];
        }
    }
    queue.push(new Item(fun, args));
    if (queue.length === 1 && !draining) {
        runTimeout(drainQueue);
    }
};

// v8 likes predictible objects
function Item(fun, array) {
    this.fun = fun;
    this.array = array;
}
Item.prototype.run = function () {
    this.fun.apply(null, this.array);
};
process.title = 'browser';
process.browser = true;
process.env = {};
process.argv = [];
process.version = ''; // empty string to avoid regexp issues
process.versions = {};

function noop() {}

process.on = noop;
process.addListener = noop;
process.once = noop;
process.off = noop;
process.removeListener = noop;
process.removeAllListeners = noop;
process.emit = noop;
process.prependListener = noop;
process.prependOnceListener = noop;

process.listeners = function (name) {
    return [];
};

process.binding = function (name) {
    throw new Error('process.binding is not supported');
};

process.cwd = function () {
    return '/';
};
process.chdir = function (dir) {
    throw new Error('process.chdir is not supported');
};
process.umask = function () {
    return 0;
};

/***/ }),
/* 11 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

__webpack_require__(0);

__webpack_require__(2);

__webpack_require__(3);

var _view = __webpack_require__(5);

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

//Kontrollerklasse des Spiels
var Controller = function () {
    function Controller(game, view, canvasWidth, canvasHeight) {
        _classCallCheck(this, Controller);

        this.game = game;
        this.view = view;
        this.canvasWidth = canvasWidth;
        this.canvasHeight = canvasHeight;

        this.cursor;
        this.richtung = Object.freeze({ up: 0, down: 1, right: 2, left: 3 }); // freeze: verhindert das Hinzufügen von neuen Eigenschaften zum Objekt
        this.laufrichtung;
        this.spielergroesse = 60; // increment um 60

        this.x = this.view.startX + 2 * this.spielergroesse;
        this.y = this.view.startY;

        this.changeId;
    }

    /** Getter für die Cursor Keys */


    _createClass(Controller, [{
        key: 'getCursor',
        value: function getCursor() {
            return this.game.input.keyboard.createCursorKeys();
        }

        /** Ändert die Laufrichtung */

    }, {
        key: 'updateLaufrichtung',
        value: function updateLaufrichtung() {

            if (this.getCursor().right.isDown && this.laufrichtung != this.richtung.left) {

                this.laufrichtung = this.richtung.right; // richtung rechts
            }
            if (this.getCursor().left.isDown && this.laufrichtung != this.richtung.right) {

                this.laufrichtung = this.richtung.left; // richtung links
            }
            if (this.getCursor().up.isDown && this.laufrichtung != this.richtung.down) {

                this.laufrichtung = this.richtung.up; // richtung oben
            }
            if (this.getCursor().down.isDown && this.laufrichtung != this.richtung.up) {

                this.laufrichtung = this.richtung.down; // richtung unten
            }
        }

        /** 
        * Aus der derzeitigen Position werden neue Koordinaten berechnet (von 1 Schritt weiter)
        * und an der neu berechneten Position ein neuer Kopf erzeugt.
        */

    }, {
        key: 'bewegeSpieler',
        value: function bewegeSpieler() {

            if (this.laufrichtung == this.richtung.right) {
                // wenn richtung rechts ist

                this.x += this.spielergroesse; // position x + breite des spielers
                this.changeId = 0;
            } else if (this.laufrichtung == this.richtung.left) {
                // wenn richtung links ist

                this.x -= this.spielergroesse; // position x - breite des spielers
                this.changeId = 1;
            } else if (this.laufrichtung == this.richtung.up) {
                // wenn richtung oben ist

                this.y -= this.spielergroesse; // position y - höhe des spielers
                this.changeId = 2;
            } else if (this.laufrichtung == this.richtung.down) {
                // wenn richtung unten ist

                this.y += this.spielergroesse; // position y + höhe des spielers
                this.changeId = 3;
            }

            /**
            * Schlange läuft gegen den Rand des Canvas und kommt 
            * an der anderen Seite wieder raus.
            * Brauchen wir nicht wenn wir eine Wand machen, 
            * dann wird eine Kollision stattdesen implementiert.
            */
            if (this.x <= 0 - this.spielergroesse) {
                // wenn x position kleiner/gleich 0 - spielerbreite ist

                this.x = this.canvasWidth - this.spielergroesse; // position x = canvas-breite - spielerbreite
            } else if (this.x >= this.canvasWidth) {
                // wenn position x größer als canvas-breite

                this.x = 0; // x = 0
            } else if (this.y <= 0 - this.spielergroesse) {
                // wenn position y kleiner/gleich 0 - spielerhöhe ist

                this.y = this.canvasHeight - this.spielergroesse; // position y = canvas höhe - spielerhöhe
            } else if (this.y >= this.canvasHeight) {
                // wenn position y größer als canvas-höhe ist

                this.y = 0; // y = 0
            }

            if (this.laufrichtung != undefined) {
                // wenn spieler richtung bestimmt ist

                this.view.bewegeSpieler(this.x, this.y, this.changeId); // neuen kopf erzeugen und letzten löschen
            }
        }
    }]);

    return Controller;
}();

exports.default = Controller;

/***/ })
/******/ ]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAgYTcwZGQ3YzQxNzNkYTMxOGFkYTEiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BoYXNlci1jZS9idWlsZC9jdXN0b20vcGl4aS5taW4uanMiLCJ3ZWJwYWNrOi8vLyh3ZWJwYWNrKS9idWlsZGluL2dsb2JhbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGhhc2VyLWNlL2J1aWxkL2N1c3RvbS9wMi5taW4uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BoYXNlci1jZS9idWlsZC9jdXN0b20vcGhhc2VyLXNwbGl0Lm1pbi5qcyIsIndlYnBhY2s6Ly8vLi9qc1Byb3RvL3NjaGxhbmdlLmpzIiwid2VicGFjazovLy8uL2pzUHJvdG8vdmlldy5qcyIsIndlYnBhY2s6Ly8vLi9qc1Byb3RvL21haW4uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Byb2Nlc3MvYnJvd3Nlci5qcyIsIndlYnBhY2s6Ly8vLi9qc1Byb3RvL2NvbnRyb2xsZXIuanMiXSwibmFtZXMiOlsibW9kdWxlIiwiZXhwb3J0cyIsImdsb2JhbCIsInJlcXVpcmUiLCJnIiwiRnVuY3Rpb24iLCJldmFsIiwiZSIsIndpbmRvdyIsIlNjaGxhbmdlIiwibHZsMSIsImZpcnN0IiwiT2JqZWN0IiwidHlwIiwic2Vjb25kIiwidGhpcmQiLCJWaWV3IiwiZ2FtZSIsImNhbnZhc1dpZHRoIiwiY2FudmFzSGVpZ2h0Iiwic2NobGFuZ2UiLCJzcGllbGVyZ3JvZXNzZSIsInN0YXJ0WCIsInN0YXJ0WSIsImVpbmhlaXRYIiwiZWluaGVpdFkiLCJpIiwiaW1hZ2UiLCJhZGQiLCJzcHJpdGUiLCJmcmFtZSIsIngiLCJ5IiwiY2hhbmdlSWQiLCJsYXN0X3giLCJ3b3JsZCIsImxhc3RfeSIsInhfYWx0IiwieV9hbHQiLCJsZW5ndGgiLCJkZXN0cm95IiwiYW5pbWF0aW9ucyIsInBsYXkiLCJNYWluIiwiZ2FtZVRleHQiLCJmcmFtZUNvdW50ZXIiLCJzcGllbGdlc2Nod2luZGlna2VpdCIsImRlZmF1bHQiLCJ2aWV3IiwiQ29udHJvbGxlciIsImNvbnRyb2xsZXIiLCJsYXVmcmljaHR1bmciLCJzdGFnZSIsImJhY2tncm91bmRDb2xvciIsImxvYWQiLCJzcHJpdGVzaGVldCIsInplaWNobmVTY2hsYW5nZV9MVkwxIiwidGV4dCIsImZvbnQiLCJmaWxsIiwiYW5jaG9yIiwic2V0VG8iLCJ1cGRhdGVMYXVmcmljaHR1bmciLCJiZXdlZ2VTcGllbGVyIiwiZ2V0Q3Vyc29yIiwidXAiLCJpc0Rvd24iLCJhZGRFdmVudExpc3RlbmVyIiwiUGhhc2VyIiwiR2FtZSIsIkNBTlZBUyIsInByZWxvYWQiLCJjcmVhdGUiLCJ1cGRhdGUiLCJtYWluIiwidG9TdHJpbmciLCJwcm9jZXNzIiwiY2FjaGVkU2V0VGltZW91dCIsImNhY2hlZENsZWFyVGltZW91dCIsImRlZmF1bHRTZXRUaW1vdXQiLCJFcnJvciIsImRlZmF1bHRDbGVhclRpbWVvdXQiLCJzZXRUaW1lb3V0IiwiY2xlYXJUaW1lb3V0IiwicnVuVGltZW91dCIsImZ1biIsImNhbGwiLCJydW5DbGVhclRpbWVvdXQiLCJtYXJrZXIiLCJxdWV1ZSIsImRyYWluaW5nIiwiY3VycmVudFF1ZXVlIiwicXVldWVJbmRleCIsImNsZWFuVXBOZXh0VGljayIsImNvbmNhdCIsImRyYWluUXVldWUiLCJ0aW1lb3V0IiwibGVuIiwicnVuIiwibmV4dFRpY2siLCJhcmdzIiwiQXJyYXkiLCJhcmd1bWVudHMiLCJwdXNoIiwiSXRlbSIsImFycmF5IiwicHJvdG90eXBlIiwiYXBwbHkiLCJ0aXRsZSIsImJyb3dzZXIiLCJlbnYiLCJhcmd2IiwidmVyc2lvbiIsInZlcnNpb25zIiwibm9vcCIsIm9uIiwiYWRkTGlzdGVuZXIiLCJvbmNlIiwib2ZmIiwicmVtb3ZlTGlzdGVuZXIiLCJyZW1vdmVBbGxMaXN0ZW5lcnMiLCJlbWl0IiwicHJlcGVuZExpc3RlbmVyIiwicHJlcGVuZE9uY2VMaXN0ZW5lciIsImxpc3RlbmVycyIsIm5hbWUiLCJiaW5kaW5nIiwiY3dkIiwiY2hkaXIiLCJkaXIiLCJ1bWFzayIsImN1cnNvciIsInJpY2h0dW5nIiwiZnJlZXplIiwiZG93biIsInJpZ2h0IiwibGVmdCIsImlucHV0Iiwia2V5Ym9hcmQiLCJjcmVhdGVDdXJzb3JLZXlzIiwidW5kZWZpbmVkIl0sIm1hcHBpbmdzIjoiO0FBQUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLG1DQUEyQiwwQkFBMEIsRUFBRTtBQUN2RCx5Q0FBaUMsZUFBZTtBQUNoRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQSw4REFBc0QsK0RBQStEOztBQUVySDtBQUNBOztBQUVBO0FBQ0E7Ozs7Ozs7Ozs7QUM3REFBLE9BQU9DLE9BQVAsR0FBaUJDLE9BQU8sTUFBUCxJQUFpQixtQkFBQUMsQ0FBUSxDQUFSLENBQWxDLEM7Ozs7Ozs7Ozs7OztBQ0FBLElBQUlDLENBQUo7O0FBRUE7QUFDQUEsSUFBSyxZQUFXO0FBQ2YsUUFBTyxJQUFQO0FBQ0EsQ0FGRyxFQUFKOztBQUlBLElBQUk7QUFDSDtBQUNBQSxLQUFJQSxLQUFLQyxTQUFTLGFBQVQsR0FBTCxJQUFrQyxDQUFDLEdBQUVDLElBQUgsRUFBUyxNQUFULENBQXRDO0FBQ0EsQ0FIRCxDQUdFLE9BQU1DLENBQU4sRUFBUztBQUNWO0FBQ0EsS0FBRyxRQUFPQyxNQUFQLHlDQUFPQSxNQUFQLE9BQWtCLFFBQXJCLEVBQ0NKLElBQUlJLE1BQUo7QUFDRDs7QUFFRDtBQUNBO0FBQ0E7O0FBRUFSLE9BQU9DLE9BQVAsR0FBaUJHLENBQWpCLEM7Ozs7Ozs7OztBQ3BCQUosT0FBT0MsT0FB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VCxDQUZvQyxDQUV4QjtBQUVmOztBQUVELGdCQUFJLEtBQUttQixZQUFMLElBQXFCeUYsU0FBekIsRUFBb0M7QUFBRTs7QUFFbEMscUJBQUs1RixJQUFMLENBQVVlLGFBQVYsQ0FBd0IsS0FBS2hDLENBQTdCLEVBQWdDLEtBQUtDLENBQXJDLEVBQXdDLEtBQUtDLFFBQTdDLEVBRmdDLENBRXdCO0FBRTNEO0FBRUo7Ozs7OztrQkE1R2dCZ0IsVSIsImZpbGUiOiJzbmFrZS5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHtcbiBcdFx0XHRcdGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gXHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuIFx0XHRcdFx0Z2V0OiBnZXR0ZXJcbiBcdFx0XHR9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSA2KTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrL2Jvb3RzdHJhcCBhNzBkZDdjNDE3M2RhMzE4YWRhMSIsIi8qIFBoYXNlciB2Mi45LjIgUElYSSBCdWlsZCAtIGh0dHA6Ly9waGFzZXIuaW8gLSBAcGhvdG9uc3Rvcm0gLSAoYykgMjAxNiBQaG90b24gU3Rvcm0gTHRkLiAqL1xyXG5cclxuKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQscixzKXt2YXIgbz1lLmNyZWF0ZVRleHR1cmUoKTtyZXR1cm4gZS5iaW5kVGV4dHVyZShlLlRFWFRVUkVfMkQsbyksZS50ZXhQYXJhbWV0ZXJpKGUuVEVYVFVSRV8yRCxlLlRFWFRVUkVfV1JBUF9TLGUuQ0xBTVBfVE9fRURHRSksZS50ZXhQYXJhbWV0ZXJpKGUuVEVYVFVSRV8yRCxlLlRFWFRVUkVfV1JBUF9ULGUuQ0xBTVBfVE9fRURHRSksZS50ZXhQYXJhbWV0ZXJpKGUuVEVYVFVSRV8yRCxlLlRFWFRVUkVfTUFHX0ZJTFRFUixzPT09aS5zY2FsZU1vZGVzLkxJTkVBUj9lLkxJTkVBUjplLk5FQVJFU1QpLGUudGV4UGFyYW1ldGVyaShlLlRFWFRVUkVfMkQsZS5URVhUVVJFX01JTl9GSUxURVIscz09PWkuc2NhbGVNb2Rlcy5MSU5FQVI/ZS5MSU5FQVI6ZS5ORUFSRVNUKSxlLnRleEltYWdlMkQoZS5URVhUVVJFXzJELDAsZS5SR0JBLHQsciwwLGUuUkdCQSxlLlVOU0lHTkVEX0JZVEUsbnVsbCksb31mdW5jdGlvbiB0KHQscixpLG8sYSl7dmFyIG49dC5jcmVhdGVGcmFtZWJ1ZmZlcigpLGg9dC5jcmVhdGVSZW5kZXJidWZmZXIoKSxsPW51bGwsdT0wO3JldHVybiB0LmFjdGl2ZVRleHR1cmUodC5URVhUVVJFMCthKSx0LmJpbmRGcmFtZWJ1ZmZlcih0LkZSQU1FQlVGRkVSLG4pLHQuYmluZFJlbmRlcmJ1ZmZlcih0LlJFTkRFUkJVRkZFUixoKSx0LmZyYW1lYnVmZmVyUmVuZGVyYnVmZmVyKHQuRlJBTUVCVUZGRVIsdC5ERVBUSF9TVEVOQ0lMX0FUVEFDSE1FTlQsdC5SRU5ERVJCVUZGRVIsdGhpcy5yZW5kZXJCdWZmZXIpLGw9ZSh0LHIsaSxvKSx0LmZyYW1lYnVmZmVyVGV4dHVyZTJEKHQuRlJBTUVCVUZGRVIsdC5DT0xPUl9BVFRBQ0hNRU5UMCx0LlRFWFRVUkVfMkQsbCwwKSwodT10LmNoZWNrRnJhbWVidWZmZXJTdGF0dXModC5GUkFNRUJVRkZFUikpIT09dC5GUkFNRUJVRkZFUl9DT01QTEVURSYmY29uc29sZS5lcnJvcihcIkluY29tcGxldGUgR0wgZnJhbWVidWZmZXIuIFwiLHNbdV0pLG4ud2lkdGg9cixuLmhlaWdodD1pLG4udGFyZ2V0VGV4dHVyZT1sLG4ucmVuZGVyQnVmZmVyPWgsbn12YXIgcj10aGlzLGk9aXx8e307aS5EaXNwbGF5T2JqZWN0PWZ1bmN0aW9uKCl7dGhpcy5wb3NpdGlvbj1uZXcgaS5Qb2ludCgwLDApLHRoaXMuc2NhbGU9bmV3IGkuUG9pbnQoMSwxKSx0aGlzLnBpdm90PW5ldyBpLlBvaW50KDAsMCksdGhpcy5yb3RhdGlvbj0wLHRoaXMuYWxwaGE9MSx0aGlzLnZpc2libGU9ITAsdGhpcy5oaXRBcmVhPW51bGwsdGhpcy5yZW5kZXJhYmxlPSExLHRoaXMucGFyZW50PW51bGwsdGhpcy53b3JsZEFscGhhPTEsdGhpcy53b3JsZFRyYW5zZm9ybT1uZXcgUGhhc2VyLk1hdHJpeCx0aGlzLndvcmxkUG9zaXRpb249bmV3IGkuUG9pbnQoMCwwKSx0aGlzLndvcmxkU2NhbGU9bmV3IGkuUG9pbnQoMSwxKSx0aGlzLndvcmxkUm90YXRpb249MCx0aGlzLmZpbHRlckFyZWE9bnVsbCx0aGlzLl9zcj0wLHRoaXMuX2NyPTEsdGhpcy5fYm91bmRzPW5ldyBpLlJlY3RhbmdsZSgwLDAsMCwwKSx0aGlzLl9jdXJyZW50Qm91bmRzPW51bGwsdGhpcy5fbWFzaz1udWxsLHRoaXMuX2NhY2hlQXNCaXRtYXA9ITEsdGhpcy5fY2FjaGVJc0RpcnR5PSExfSxpLkRpc3BsYXlPYmplY3QucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjppLkRpc3BsYXlPYmplY3QsZGVzdHJveTpmdW5jdGlvbigpe2lmKHRoaXMuY2hpbGRyZW4pe2Zvcih2YXIgZT10aGlzLmNoaWxkcmVuLmxlbmd0aDtlLS07KXRoaXMuY2hpbGRyZW5bZV0uZGVzdHJveSgpO3RoaXMuY2hpbGRyZW49W119dGhpcy5oaXRBcmVhPW51bGwsdGhpcy5wYXJlbnQ9bnVsbCx0aGlzLndvcmxkVHJhbnNmb3JtPW51bGwsdGhpcy5maWx0ZXJBcmVhPW51bGwsdGhpcy5yZW5kZXJhYmxlPSExLHRoaXMuX2JvdW5kcz1udWxsLHRoaXMuX2N1cnJlbnRCb3VuZHM9bnVsbCx0aGlzLl9tYXNrPW51bGwsdGhpcy5fZGVzdHJveUNhY2hlZFNwcml0ZSgpfSx1cGRhdGVUcmFuc2Zvcm06ZnVuY3Rpb24oZSl7aWYoIWUmJiF0aGlzLnBhcmVudCYmIXRoaXMuZ2FtZSlyZXR1cm4gdGhpczt2YXIgdD10aGlzLnBhcmVudDtlP3Q9ZTp0aGlzLnBhcmVudHx8KHQ9dGhpcy5nYW1lLndvcmxkKTt2YXIgcixpLHMsbyxhLG4saD10LndvcmxkVHJhbnNmb3JtLGw9dGhpcy53b3JsZFRyYW5zZm9ybTt0aGlzLnJvdGF0aW9uJVBoYXNlci5NYXRoLlBJMj8odGhpcy5yb3RhdGlvbiE9PXRoaXMucm90YXRpb25DYWNoZSYmKHRoaXMucm90YXRpb25DYWNoZT10aGlzLnJvdGF0aW9uLHRoaXMuX3NyPU1hdGguc2luKHRoaXMucm90YXRpb24pLHRoaXMuX2NyPU1hdGguY29zKHRoaXMucm90YXRpb24pKSxyPXRoaXMuX2NyKnRoaXMuc2NhbGUueCxpPXRoaXMuX3NyKnRoaXMuc2NhbGUueCxzPS10aGlzLl9zcip0aGlzLnNjYWxlLnksbz10aGlzLl9jcip0aGlzLnNjYWxlLnksYT10aGlzLnBvc2l0aW9uLngsbj10aGlzLnBvc2l0aW9uLnksKHRoaXMucGl2b3QueHx8dGhpcy5waXZvdC55KSYmKGEtPXRoaXMucGl2b3QueCpyK3RoaXMucGl2b3QueSpzLG4tPXRoaXMucGl2b3QueCppK3RoaXMucGl2b3QueSpvKSxsLmE9cipoLmEraSpoLmMsbC5iPXIqaC5iK2kqaC5kLGwuYz1zKmguYStvKmguYyxsLmQ9cypoLmIrbypoLmQsbC50eD1hKmguYStuKmguYytoLnR4LGwudHk9YSpoLmIrbipoLmQraC50eSk6KHI9dGhpcy5zY2FsZS54LGk9MCxzPTAsbz10aGlzLnNjYWxlLnksYT10aGlzLnBvc2l0aW9uLngtdGhpcy5waXZvdC54KnIsbj10aGlzLnBvc2l0aW9uLnktdGhpcy5waXZvdC55Km8sbC5hPXIqaC5hLGwuYj1yKmguYixsLmM9bypoLmMsbC5kPW8qaC5kLGwudHg9YSpoLmErbipoLmMraC50eCxsLnR5PWEqaC5iK24qaC5kK2gudHkpLHI9bC5hLGk9bC5iLHM9bC5jO3ZhciB1PXIqKG89bC5kKS1pKnM7aWYocnx8aSl7dmFyIGQ9TWF0aC5zcXJ0KHIqcitpKmkpO3RoaXMud29ybGRSb3RhdGlvbj1pPjA/TWF0aC5hY29zKHIvZCk6LU1hdGguYWNvcyhyL2QpLHRoaXMud29ybGRTY2FsZS54PWQsdGhpcy53b3JsZFNjYWxlLnk9dS9kfWVsc2UgaWYoc3x8byl7dmFyIGM9TWF0aC5zcXJ0KHMqcytvKm8pO3RoaXMud29ybGRSb3RhdGlvbj1QaGFzZXIuTWF0aC5IQUxGX1BJLShvPjA/TWF0aC5hY29zKC1zL2MpOi1NYXRoLmFjb3Mocy9jKSksdGhpcy53b3JsZFNjYWxlLng9dS9jLHRoaXMud29ybGRTY2FsZS55PWN9ZWxzZSB0aGlzLndvcmxkU2NhbGUueD0wLHRoaXMud29ybGRTY2FsZS55PTA7cmV0dXJuIHRoaXMud29ybGRBbHBoYT10aGlzLmFscGhhKnQud29ybGRBbHBoYSx0aGlzLndvcmxkUG9zaXRpb24ueD1sLnR4LHRoaXMud29ybGRQb3NpdGlvbi55PWwudHksdGhpcy5fY3VycmVudEJvdW5kcz1udWxsLHRoaXMudHJhbnNmb3JtQ2FsbGJhY2smJnRoaXMudHJhbnNmb3JtQ2FsbGJhY2suY2FsbCh0aGlzLnRyYW5zZm9ybUNhbGxiYWNrQ29udGV4dCxsLGgpLHRoaXN9LHByZVVwZGF0ZTpmdW5jdGlvbigpe30sZ2VuZXJhdGVUZXh0dXJlOmZ1bmN0aW9uKGUsdCxyKXt2YXIgcz10aGlzLmdldExvY2FsQm91bmRzKCksbz1uZXcgUGhhc2VyLlJlbmRlclRleHR1cmUodGhpcy5nYW1lLDB8cy53aWR0aCwwfHMuaGVpZ2h0LHIsdCxlKTtyZXR1cm4gaS5EaXNwbGF5T2JqZWN0Ll90ZW1wTWF0cml4LnR4PS1zLngsaS5EaXNwbGF5T2JqZWN0Ll90ZW1wTWF0cml4LnR5PS1zLnksby5yZW5kZXIodGhpcyxpLkRpc3BsYXlPYmplY3QuX3RlbXBNYXRyaXgpLG99LHVwZGF0ZUNhY2hlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dlbmVyYXRlQ2FjaGVkU3ByaXRlKCksdGhpc30sdG9HbG9iYWw6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMudXBkYXRlVHJhbnNmb3JtKCksdGhpcy53b3JsZFRyYW5zZm9ybS5hcHBseShlKX0sdG9Mb2NhbDpmdW5jdGlvbihlLHQpe3JldHVybiB0JiYoZT10LnRvR2xvYmFsKGUpKSx0aGlzLnVwZGF0ZVRyYW5zZm9ybSgpLHRoaXMud29ybGRUcmFuc2Zvcm0uYXBwbHlJbnZlcnNlKGUpfSxfcmVuZGVyQ2FjaGVkU3ByaXRlOmZ1bmN0aW9uKGUpe3RoaXMuX2NhY2hlZFNwcml0ZS53b3JsZEFscGhhPXRoaXMud29ybGRBbHBoYSxlLmdsP2kuU3ByaXRlLnByb3RvdHlwZS5fcmVuZGVyV2ViR0wuY2FsbCh0aGlzLl9jYWNoZWRTcHJpdGUsZSk6aS5TcHJpdGUucHJvdG90eXBlLl9yZW5kZXJDYW52YXMuY2FsbCh0aGlzLl9jYWNoZWRTcHJpdGUsZSl9LF9nZW5lcmF0ZUNhY2hlZFNwcml0ZTpmdW5jdGlvbigpe3RoaXMuX2NhY2hlQXNCaXRtYXA9ITE7dmFyIGU9dGhpcy5nZXRMb2NhbEJvdW5kcygpO2lmKGUud2lkdGg9TWF0aC5tYXgoMSxNYXRoLmNlaWwoZS53aWR0aCkpLGUuaGVpZ2h0PU1hdGgubWF4KDEsTWF0aC5jZWlsKGUuaGVpZ2h0KSksdGhpcy51cGRhdGVUcmFuc2Zvcm0oKSx0aGlzLl9jYWNoZWRTcHJpdGUpdGhpcy5fY2FjaGVkU3ByaXRlLnRleHR1cmUucmVzaXplKGUud2lkdGgsZS5oZWlnaHQpO2Vsc2V7dmFyIHQ9MDt0aGlzLnRleHR1cmUmJnRoaXMudGV4dHVyZS5iYXNlVGV4dHVyZSYmaS5fZW5hYmxlTXVsdGlUZXh0dXJlVG9nZ2xlJiYodD10aGlzLnRleHR1cmUuYmFzZVRleHR1cmUudGV4dHVyZUluZGV4KTt2YXIgcj1uZXcgUGhhc2VyLlJlbmRlclRleHR1cmUodGhpcy5nYW1lLGUud2lkdGgsZS5oZWlnaHQsdm9pZCAwLHZvaWQgMCx2b2lkIDAsdm9pZCAwLHQpO3RoaXMuX2NhY2hlZFNwcml0ZT1uZXcgaS5TcHJpdGUociksdGhpcy5fY2FjaGVkU3ByaXRlLndvcmxkVHJhbnNmb3JtPXRoaXMud29ybGRUcmFuc2Zvcm19dmFyIHM9dGhpcy5fZmlsdGVyczt0aGlzLl9maWx0ZXJzPW51bGwsdGhpcy5fY2FjaGVkU3ByaXRlLmZpbHRlcnM9cyxpLkRpc3BsYXlPYmplY3QuX3RlbXBNYXRyaXgudHg9LWUueCxpLkRpc3BsYXlPYmplY3QuX3RlbXBNYXRyaXgudHk9LWUueSx0aGlzLl9jYWNoZWRTcHJpdGUudGV4dHVyZS5yZW5kZXIodGhpcyxpLkRpc3BsYXlPYmplY3QuX3RlbXBNYXRyaXgsITApLHRoaXMuX2NhY2hlZFNwcml0ZS5hbmNob3IueD0tZS54L2Uud2lkdGgsdGhpcy5fY2FjaGVkU3ByaXRlLmFuY2hvci55PS1lLnkvZS5oZWlnaHQsdGhpcy5fZmlsdGVycz1zLHRoaXMuX2NhY2hlQXNCaXRtYXA9ITB9LF9kZXN0cm95Q2FjaGVkU3ByaXRlOmZ1bmN0aW9uKCl7dGhpcy5fY2FjaGVkU3ByaXRlJiYodGhpcy5fY2FjaGVkU3ByaXRlLnRleHR1cmUuZGVzdHJveSghMCksdGhpcy5fY2FjaGVkU3ByaXRlPW51bGwpfX0saS5EaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5kaXNwbGF5T2JqZWN0VXBkYXRlVHJhbnNmb3JtPWkuRGlzcGxheU9iamVjdC5wcm90b3R5cGUudXBkYXRlVHJhbnNmb3JtLE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGkuRGlzcGxheU9iamVjdC5wcm90b3R5cGUse3g6e2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnBvc2l0aW9uLnh9LHNldDpmdW5jdGlvbihlKXt0aGlzLnBvc2l0aW9uLng9ZX19LHk6e2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnBvc2l0aW9uLnl9LHNldDpmdW5jdGlvbihlKXt0aGlzLnBvc2l0aW9uLnk9ZX19LHdvcmxkVmlzaWJsZTp7Z2V0OmZ1bmN0aW9uKCl7aWYodGhpcy52aXNpYmxlKXt2YXIgZT10aGlzLnBhcmVudDtpZighZSlyZXR1cm4gdGhpcy52aXNpYmxlO2Rve2lmKCFlLnZpc2libGUpcmV0dXJuITE7ZT1lLnBhcmVudH13aGlsZShlKTtyZXR1cm4hMH1yZXR1cm4hMX19LG1hc2s6e2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9tYXNrfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fbWFzayYmKHRoaXMuX21hc2suaXNNYXNrPSExKSx0aGlzLl9tYXNrPWUsZSYmKHRoaXMuX21hc2suaXNNYXNrPSEwKX19LGZpbHRlcnM6e2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9maWx0ZXJzfSxzZXQ6ZnVuY3Rpb24oZSl7aWYoQXJyYXkuaXNBcnJheShlKSl7Zm9yKHZhciB0PVtdLHI9MDtyPGUubGVuZ3RoO3IrKylmb3IodmFyIHM9ZVtyXS5wYXNzZXMsbz0wO288cy5sZW5ndGg7bysrKXQucHVzaChzW29dKTt0aGlzLl9maWx0ZXJCbG9jaz17dGFyZ2V0OnRoaXMsZmlsdGVyUGFzc2VzOnR9fXRoaXMuX2ZpbHRlcnM9ZSx0aGlzLmJsZW5kTW9kZSYmdGhpcy5ibGVuZE1vZGU9PT1pLmJsZW5kTW9kZXMuTVVMVElQTFkmJih0aGlzLmJsZW5kTW9kZT1pLmJsZW5kTW9kZXMuTk9STUFMKX19LGNhY2hlQXNCaXRtYXA6e2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jYWNoZUFzQml0bWFwfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fY2FjaGVBc0JpdG1hcCE9PWUmJihlP3RoaXMuX2dlbmVyYXRlQ2FjaGVkU3ByaXRlKCk6dGhpcy5fZGVzdHJveUNhY2hlZFNwcml0ZSgpLHRoaXMuX2NhY2hlQXNCaXRtYXA9ZSl9fX0pLGkuRGlzcGxheU9iamVjdENvbnRhaW5lcj1mdW5jdGlvbigpe2kuRGlzcGxheU9iamVjdC5jYWxsKHRoaXMpLHRoaXMuY2hpbGRyZW49W10sdGhpcy5pZ25vcmVDaGlsZElucHV0PSExfSxpLkRpc3BsYXlPYmplY3RDb250YWluZXIucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoaS5EaXNwbGF5T2JqZWN0LnByb3RvdHlwZSksaS5EaXNwbGF5T2JqZWN0Q29udGFpbmVyLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1pLkRpc3BsYXlPYmplY3RDb250YWluZXIsaS5EaXNwbGF5T2JqZWN0Q29udGFpbmVyLnByb3RvdHlwZS5hZGRDaGlsZD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5hZGRDaGlsZEF0KGUsdGhpcy5jaGlsZHJlbi5sZW5ndGgpfSxpLkRpc3BsYXlPYmplY3RDb250YWluZXIucHJvdG90eXBlLmFkZENoaWxkQXQ9ZnVuY3Rpb24oZSx0KXtpZih0Pj0wJiZ0PD10aGlzLmNoaWxkcmVuLmxlbmd0aClyZXR1cm4gZS5wYXJlbnQmJmUucGFyZW50LnJlbW92ZUNoaWxkKGUpLGUucGFyZW50PXRoaXMsdGhpcy5jaGlsZHJlbi5zcGxpY2UodCwwLGUpLGU7dGhyb3cgbmV3IEVycm9yKGUrXCJhZGRDaGlsZEF0OiBUaGUgaW5kZXggXCIrdCtcIiBzdXBwbGllZCBpcyBvdXQgb2YgYm91bmRzIFwiK3RoaXMuY2hpbGRyZW4ubGVuZ3RoKX0saS5EaXNwbGF5T2JqZWN0Q29udGFpbmVyLnByb3RvdHlwZS5zd2FwQ2hpbGRyZW49ZnVuY3Rpb24oZSx0KXtpZihlIT09dCl7dmFyIHI9dGhpcy5nZXRDaGlsZEluZGV4KGUpLGk9dGhpcy5nZXRDaGlsZEluZGV4KHQpO2lmKHI8MHx8aTwwKXRocm93IG5ldyBFcnJvcihcInN3YXBDaGlsZHJlbjogQm90aCB0aGUgc3VwcGxpZWQgRGlzcGxheU9iamVjdHMgbXVzdCBiZSBhIGNoaWxkIG9mIHRoZSBjYWxsZXIuXCIpO3RoaXMuY2hpbGRyZW5bcl09dCx0aGlzLmNoaWxkcmVuW2ldPWV9fSxpLkRpc3BsYXlPYmplY3RDb250YWluZXIucHJvdG90eXBlLmdldENoaWxkSW5kZXg9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5jaGlsZHJlbi5pbmRleE9mKGUpO2lmKC0xPT09dCl0aHJvdyBuZXcgRXJyb3IoXCJUaGUgc3VwcGxpZWQgRGlzcGxheU9iamVjdCBtdXN0IGJlIGEgY2hpbGQgb2YgdGhlIGNhbGxlclwiKTtyZXR1cm4gdH0saS5EaXNwbGF5T2JqZWN0Q29udGFpbmVyLnByb3RvdHlwZS5zZXRDaGlsZEluZGV4PWZ1bmN0aW9uKGUsdCl7aWYodDwwfHx0Pj10aGlzLmNoaWxkcmVuLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJUaGUgc3VwcGxpZWQgaW5kZXggaXMgb3V0IG9mIGJvdW5kc1wiKTt2YXIgcj10aGlzLmdldENoaWxkSW5kZXgoZSk7dGhpcy5jaGlsZHJlbi5zcGxpY2UociwxKSx0aGlzLmNoaWxkcmVuLnNwbGljZSh0LDAsZSl9LGkuRGlzcGxheU9iamVjdENvbnRhaW5lci5wcm90b3R5cGUuZ2V0Q2hpbGRBdD1mdW5jdGlvbihlKXtpZihlPDB8fGU+PXRoaXMuY2hpbGRyZW4ubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcImdldENoaWxkQXQ6IFN1cHBsaWVkIGluZGV4IFwiK2UrXCIgZG9lcyBub3QgZXhpc3QgaW4gdGhlIGNoaWxkIGxpc3QsIG9yIHRoZSBzdXBwbGllZCBEaXNwbGF5T2JqZWN0IG11c3QgYmUgYSBjaGlsZCBvZiB0aGUgY2FsbGVyXCIpO3JldHVybiB0aGlzLmNoaWxkcmVuW2VdfSxpLkRpc3BsYXlPYmplY3RDb250YWluZXIucHJvdG90eXBlLnJlbW92ZUNoaWxkPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuY2hpbGRyZW4uaW5kZXhPZihlKTtpZigtMSE9PXQpcmV0dXJuIHRoaXMucmVtb3ZlQ2hpbGRBdCh0KX0saS5EaXNwbGF5T2JqZWN0Q29udGFpbmVyLnByb3RvdHlwZS5yZW1vdmVDaGlsZEF0PWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuZ2V0Q2hpbGRBdChlKTtyZXR1cm4gdCYmKHQucGFyZW50PXZvaWQgMCx0aGlzLmNoaWxkcmVuLnNwbGljZShlLDEpKSx0fSxpLkRpc3BsYXlPYmplY3RDb250YWluZXIucHJvdG90eXBlLnJlbW92ZUNoaWxkcmVuPWZ1bmN0aW9uKGUsdCl7dm9pZCAwPT09ZSYmKGU9MCksdm9pZCAwPT09dCYmKHQ9dGhpcy5jaGlsZHJlbi5sZW5ndGgpO3ZhciByPXQtZTtpZihyPjAmJnI8PXQpe2Zvcih2YXIgaT10aGlzLmNoaWxkcmVuLnNwbGljZShlLHIpLHM9MDtzPGkubGVuZ3RoO3MrKylpW3NdLnBhcmVudD12b2lkIDA7cmV0dXJuIGl9aWYoMD09PXImJjA9PT10aGlzLmNoaWxkcmVuLmxlbmd0aClyZXR1cm5bXTt0aHJvdyBuZXcgRXJyb3IoXCJyZW1vdmVDaGlsZHJlbjogUmFuZ2UgRXJyb3IsIG51bWVyaWMgdmFsdWVzIGFyZSBvdXRzaWRlIHRoZSBhY2NlcHRhYmxlIHJhbmdlXCIpfSxpLkRpc3BsYXlPYmplY3RDb250YWluZXIucHJvdG90eXBlLnVwZGF0ZVRyYW5zZm9ybT1mdW5jdGlvbigpe2lmKHRoaXMudmlzaWJsZSYmKHRoaXMuZGlzcGxheU9iamVjdFVwZGF0ZVRyYW5zZm9ybSgpLCF0aGlzLl9jYWNoZUFzQml0bWFwKSlmb3IodmFyIGU9MDtlPHRoaXMuY2hpbGRyZW4ubGVuZ3RoO2UrKyl0aGlzLmNoaWxkcmVuW2VdLnVwZGF0ZVRyYW5zZm9ybSgpfSxpLkRpc3BsYXlPYmplY3RDb250YWluZXIucHJvdG90eXBlLmRpc3BsYXlPYmplY3RDb250YWluZXJVcGRhdGVUcmFuc2Zvcm09aS5EaXNwbGF5T2JqZWN0Q29udGFpbmVyLnByb3RvdHlwZS51cGRhdGVUcmFuc2Zvcm0saS5EaXNwbGF5T2JqZWN0Q29udGFpbmVyLnByb3RvdHlwZS5nZXRCb3VuZHM9ZnVuY3Rpb24oZSl7dmFyIHQ9ZSYmZSBpbnN0YW5jZW9mIGkuRGlzcGxheU9iamVjdCxyPSEwO3Q/cj1lIGluc3RhbmNlb2YgaS5EaXNwbGF5T2JqZWN0Q29udGFpbmVyJiZlLmNvbnRhaW5zKHRoaXMpOmU9dGhpczt2YXIgcztpZih0KXt2YXIgbz1lLndvcmxkVHJhbnNmb3JtO2ZvcihlLndvcmxkVHJhbnNmb3JtPVBoYXNlci5pZGVudGl0eU1hdHJpeCxzPTA7czxlLmNoaWxkcmVuLmxlbmd0aDtzKyspZS5jaGlsZHJlbltzXS51cGRhdGVUcmFuc2Zvcm0oKX12YXIgYSxuLGgsbD0xLzAsdT0xLzAsZD0tMS8wLGM9LTEvMCxmPSExO2ZvcihzPTA7czx0aGlzLmNoaWxkcmVuLmxlbmd0aDtzKyspdGhpcy5jaGlsZHJlbltzXS52aXNpYmxlJiYoZj0hMCxsPWw8KGE9dGhpcy5jaGlsZHJlbltzXS5nZXRCb3VuZHMoKSkueD9sOmEueCx1PXU8YS55P3U6YS55LG49YS53aWR0aCthLngsaD1hLmhlaWdodCthLnksZD1kPm4/ZDpuLGM9Yz5oP2M6aCk7dmFyIHg9dGhpcy5fYm91bmRzO2lmKCFmKXt2YXIgcD0oeD1uZXcgaS5SZWN0YW5nbGUpLngsZz14LndpZHRoK3gueCx2PXgueSxUPXguaGVpZ2h0K3gueSxtPXRoaXMud29ybGRUcmFuc2Zvcm0sRT1tLmEsXz1tLmIsUz1tLmMseT1tLmQsYj1tLnR4LEE9bS50eSxSPUUqZytTKlQrYixNPXkqVCtfKmcrQSxDPUUqcCtTKlQrYixMPXkqVCtfKnArQSxCPUUqcCtTKnYrYixQPXkqditfKnArQSx3PUUqZytTKnYrYixVPXkqditfKmcrQTtkPVIsYz1NLHU9TSxsPXc8KGw9QjwobD1DPChsPVIpP0M6bCk/QjpsKT93OmwsdT1VPCh1PVA8KHU9TDx1P0w6dSk/UDp1KT9VOnUsZD13PihkPUI+KGQ9Qz5kP0M6ZCk/QjpkKT93OmQsYz1VPihjPVA+KGM9TD5jP0w6Yyk/UDpjKT9VOmN9aWYoeC54PWwseC55PXUseC53aWR0aD1kLWwseC5oZWlnaHQ9Yy11LHQpZm9yKGUud29ybGRUcmFuc2Zvcm09byxzPTA7czxlLmNoaWxkcmVuLmxlbmd0aDtzKyspZS5jaGlsZHJlbltzXS51cGRhdGVUcmFuc2Zvcm0oKTtpZighcil7dmFyIEY9ZS5nZXRCb3VuZHMoKTt4LngtPUYueCx4LnktPUYueX1yZXR1cm4geH0saS5EaXNwbGF5T2JqZWN0Q29udGFpbmVyLnByb3RvdHlwZS5nZXRMb2NhbEJvdW5kcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldEJvdW5kcyh0aGlzKX0saS5EaXNwbGF5T2JqZWN0Q29udGFpbmVyLnByb3RvdHlwZS5jb250YWlucz1mdW5jdGlvbihlKXtyZXR1cm4hIWUmJihlPT09dGhpc3x8dGhpcy5jb250YWlucyhlLnBhcmVudCkpfSxpLkRpc3BsYXlPYmplY3RDb250YWluZXIucHJvdG90eXBlLl9yZW5kZXJXZWJHTD1mdW5jdGlvbihlKXtpZih0aGlzLnZpc2libGUmJiEodGhpcy5hbHBoYTw9MCkpaWYodGhpcy5fY2FjaGVBc0JpdG1hcCl0aGlzLl9yZW5kZXJDYWNoZWRTcHJpdGUoZSk7ZWxzZXt2YXIgdDtpZih0aGlzLl9tYXNrfHx0aGlzLl9maWx0ZXJzKXtmb3IodGhpcy5fZmlsdGVycyYmKGUuc3ByaXRlQmF0Y2guZmx1c2goKSxlLmZpbHRlck1hbmFnZXIucHVzaEZpbHRlcih0aGlzLl9maWx0ZXJCbG9jaykpLHRoaXMuX21hc2smJihlLnNwcml0ZUJhdGNoLnN0b3AoKSxlLm1hc2tNYW5hZ2VyLnB1c2hNYXNrKHRoaXMubWFzayxlKSxlLnNwcml0ZUJhdGNoLnN0YXJ0KCkpLHQ9MDt0PHRoaXMuY2hpbGRyZW4ubGVuZ3RoO3QrKyl0aGlzLmNoaWxkcmVuW3RdLl9yZW5kZXJXZWJHTChlKTtlLnNwcml0ZUJhdGNoLnN0b3AoKSx0aGlzLl9tYXNrJiZlLm1hc2tNYW5hZ2VyLnBvcE1hc2sodGhpcy5fbWFzayxlKSx0aGlzLl9maWx0ZXJzJiZlLmZpbHRlck1hbmFnZXIucG9wRmlsdGVyKCksZS5zcHJpdGVCYXRjaC5zdGFydCgpfWVsc2UgZm9yKHQ9MDt0PHRoaXMuY2hpbGRyZW4ubGVuZ3RoO3QrKyl0aGlzLmNoaWxkcmVuW3RdLl9yZW5kZXJXZWJHTChlKX19LGkuRGlzcGxheU9iamVjdENvbnRhaW5lci5wcm90b3R5cGUuX3JlbmRlckNhbnZhcz1mdW5jdGlvbihlKXtpZighMSE9PXRoaXMudmlzaWJsZSYmMCE9PXRoaXMuYWxwaGEpaWYodGhpcy5fY2FjaGVBc0JpdG1hcCl0aGlzLl9yZW5kZXJDYWNoZWRTcHJpdGUoZSk7ZWxzZXt0aGlzLl9tYXNrJiZlLm1hc2tNYW5hZ2VyLnB1c2hNYXNrKHRoaXMuX21hc2ssZSk7Zm9yKHZhciB0PTA7dDx0aGlzLmNoaWxkcmVuLmxlbmd0aDt0KyspdGhpcy5jaGlsZHJlblt0XS5fcmVuZGVyQ2FudmFzKGUpO3RoaXMuX21hc2smJmUubWFza01hbmFnZXIucG9wTWFzayhlKX19LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLkRpc3BsYXlPYmplY3RDb250YWluZXIucHJvdG90eXBlLFwid2lkdGhcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0TG9jYWxCb3VuZHMoKS53aWR0aCp0aGlzLnNjYWxlLnh9LHNldDpmdW5jdGlvbihlKXt2YXIgdD10aGlzLmdldExvY2FsQm91bmRzKCkud2lkdGg7dGhpcy5zY2FsZS54PTAhPT10P2UvdDoxLHRoaXMuX3dpZHRoPWV9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuRGlzcGxheU9iamVjdENvbnRhaW5lci5wcm90b3R5cGUsXCJoZWlnaHRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0TG9jYWxCb3VuZHMoKS5oZWlnaHQqdGhpcy5zY2FsZS55fSxzZXQ6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5nZXRMb2NhbEJvdW5kcygpLmhlaWdodDt0aGlzLnNjYWxlLnk9MCE9PXQ/ZS90OjEsdGhpcy5faGVpZ2h0PWV9fSksaS5TcHJpdGU9ZnVuY3Rpb24oZSl7aS5EaXNwbGF5T2JqZWN0Q29udGFpbmVyLmNhbGwodGhpcyksdGhpcy5hbmNob3I9bmV3IGkuUG9pbnQoaS5TcHJpdGUuZGVmYXVsdEFuY2hvci54LGkuU3ByaXRlLmRlZmF1bHRBbmNob3IueSksdGhpcy50ZXh0dXJlPWV8fGkuVGV4dHVyZS5lbXB0eVRleHR1cmUsdGhpcy5fd2lkdGg9MCx0aGlzLl9oZWlnaHQ9MCx0aGlzLnRpbnQ9MTY3NzcyMTUsdGhpcy5jYWNoZWRUaW50PS0xLHRoaXMudGludGVkVGV4dHVyZT1udWxsLHRoaXMuYmxlbmRNb2RlPWkuYmxlbmRNb2Rlcy5OT1JNQUwsdGhpcy5zaGFkZXI9bnVsbCx0aGlzLmV4aXN0cz0hMCx0aGlzLnRleHR1cmUuYmFzZVRleHR1cmUuaGFzTG9hZGVkJiZ0aGlzLm9uVGV4dHVyZVVwZGF0ZSgpLHRoaXMucmVuZGVyYWJsZT0hMH0saS5TcHJpdGUuZGVmYXVsdEFuY2hvcj17eDowLHk6MH0saS5TcHJpdGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoaS5EaXNwbGF5T2JqZWN0Q29udGFpbmVyLnByb3RvdHlwZSksaS5TcHJpdGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWkuU3ByaXRlLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLlNwcml0ZS5wcm90b3R5cGUsXCJ3aWR0aFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zY2FsZS54KnRoaXMudGV4dHVyZS5mcmFtZS53aWR0aH0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuc2NhbGUueD1lL3RoaXMudGV4dHVyZS5mcmFtZS53aWR0aCx0aGlzLl93aWR0aD1lfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLlNwcml0ZS5wcm90b3R5cGUsXCJoZWlnaHRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2NhbGUueSp0aGlzLnRleHR1cmUuZnJhbWUuaGVpZ2h0fSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5zY2FsZS55PWUvdGhpcy50ZXh0dXJlLmZyYW1lLmhlaWdodCx0aGlzLl9oZWlnaHQ9ZX19KSxpLlNwcml0ZS5wcm90b3R5cGUuc2V0VGV4dHVyZT1mdW5jdGlvbihlLHQpe3QmJnRoaXMudGV4dHVyZS5iYXNlVGV4dHVyZS5kZXN0cm95KCksdGhpcy50ZXh0dXJlLmJhc2VUZXh0dXJlLnNraXBSZW5kZXI9ITEsdGhpcy50ZXh0dXJlPWUsdGhpcy50ZXh0dXJlLnZhbGlkPSEwLHRoaXMuY2FjaGVkVGludD0tMX0saS5TcHJpdGUucHJvdG90eXBlLm9uVGV4dHVyZVVwZGF0ZT1mdW5jdGlvbigpe3RoaXMuX3dpZHRoJiYodGhpcy5zY2FsZS54PXRoaXMuX3dpZHRoL3RoaXMudGV4dHVyZS5mcmFtZS53aWR0aCksdGhpcy5faGVpZ2h0JiYodGhpcy5zY2FsZS55PXRoaXMuX2hlaWdodC90aGlzLnRleHR1cmUuZnJhbWUuaGVpZ2h0KX0saS5TcHJpdGUucHJvdG90eXBlLmdldEJvdW5kcz1mdW5jdGlvbihlKXt2YXIgdD10aGlzLnRleHR1cmUuZnJhbWUud2lkdGgscj10aGlzLnRleHR1cmUuZnJhbWUuaGVpZ2h0LGk9dCooMS10aGlzLmFuY2hvci54KSxzPXQqLXRoaXMuYW5jaG9yLngsbz1yKigxLXRoaXMuYW5jaG9yLnkpLGE9ciotdGhpcy5hbmNob3IueSxuPWV8fHRoaXMud29ybGRUcmFuc2Zvcm0saD1uLmEsbD1uLmIsdT1uLmMsZD1uLmQsYz1uLnR4LGY9bi50eSx4PS0xLzAscD0tMS8wLGc9MS8wLHY9MS8wO2lmKDA9PT1sJiYwPT09dSl7aWYoaDwwKXtoKj0tMTtUPWk7aT0tcyxzPS1UfWlmKGQ8MCl7ZCo9LTE7dmFyIFQ9bztvPS1hLGE9LVR9Zz1oKnMrYyx4PWgqaStjLHY9ZCphK2YscD1kKm8rZn1lbHNle3ZhciBtPWgqcyt1KmErYyxFPWQqYStsKnMrZixfPWgqaSt1KmErYyxTPWQqYStsKmkrZix5PWgqaSt1Km8rYyxiPWQqbytsKmkrZixBPWgqcyt1Km8rYyxSPWQqbytsKnMrZjtnPUE8KGc9eTwoZz1fPChnPW08Zz9tOmcpP186Zyk/eTpnKT9BOmcsdj1SPCh2PWI8KHY9Uzwodj1FPHY/RTp2KT9TOnYpP2I6dik/Ujp2LHg9QT4oeD15Pih4PV8+KHg9bT54P206eCk/Xzp4KT95OngpP0E6eCxwPVI+KHA9Yj4ocD1TPihwPUU+cD9FOnApP1M6cCk/YjpwKT9SOnB9dmFyIE09dGhpcy5fYm91bmRzO3JldHVybiBNLng9ZyxNLndpZHRoPXgtZyxNLnk9dixNLmhlaWdodD1wLXYsdGhpcy5fY3VycmVudEJvdW5kcz1NLE19LGkuU3ByaXRlLnByb3RvdHlwZS5nZXRMb2NhbEJvdW5kcz1mdW5jdGlvbigpe3ZhciBlPXRoaXMud29ybGRUcmFuc2Zvcm07dGhpcy53b3JsZFRyYW5zZm9ybT1QaGFzZXIuaWRlbnRpdHlNYXRyaXg7Zm9yKHZhciB0PTA7dDx0aGlzLmNoaWxkcmVuLmxlbmd0aDt0KyspdGhpcy5jaGlsZHJlblt0XS51cGRhdGVUcmFuc2Zvcm0oKTt2YXIgcj10aGlzLmdldEJvdW5kcygpO2Zvcih0aGlzLndvcmxkVHJhbnNmb3JtPWUsdD0wO3Q8dGhpcy5jaGlsZHJlbi5sZW5ndGg7dCsrKXRoaXMuY2hpbGRyZW5bdF0udXBkYXRlVHJhbnNmb3JtKCk7cmV0dXJuIHJ9LGkuU3ByaXRlLnByb3RvdHlwZS5fcmVuZGVyV2ViR0w9ZnVuY3Rpb24oZSx0KXtpZih0aGlzLnZpc2libGUmJiEodGhpcy5hbHBoYTw9MCkmJnRoaXMucmVuZGVyYWJsZSl7dmFyIHI9dGhpcy53b3JsZFRyYW5zZm9ybTtpZih0JiYocj10KSx0aGlzLl9tYXNrfHx0aGlzLl9maWx0ZXJzKXt2YXIgaT1lLnNwcml0ZUJhdGNoO3RoaXMuX2ZpbHRlcnMmJihpLmZsdXNoKCksZS5maWx0ZXJNYW5hZ2VyLnB1c2hGaWx0ZXIodGhpcy5fZmlsdGVyQmxvY2spKSx0aGlzLl9tYXNrJiYoaS5zdG9wKCksZS5tYXNrTWFuYWdlci5wdXNoTWFzayh0aGlzLm1hc2ssZSksaS5zdGFydCgpKSxpLnJlbmRlcih0aGlzKTtmb3Iocz0wO3M8dGhpcy5jaGlsZHJlbi5sZW5ndGg7cysrKXRoaXMuY2hpbGRyZW5bc10uX3JlbmRlcldlYkdMKGUpO2kuc3RvcCgpLHRoaXMuX21hc2smJmUubWFza01hbmFnZXIucG9wTWFzayh0aGlzLl9tYXNrLGUpLHRoaXMuX2ZpbHRlcnMmJmUuZmlsdGVyTWFuYWdlci5wb3BGaWx0ZXIoKSxpLnN0YXJ0KCl9ZWxzZXtlLnNwcml0ZUJhdGNoLnJlbmRlcih0aGlzKTtmb3IodmFyIHM9MDtzPHRoaXMuY2hpbGRyZW4ubGVuZ3RoO3MrKyl0aGlzLmNoaWxkcmVuW3NdLl9yZW5kZXJXZWJHTChlLHIpfX19LGkuU3ByaXRlLnByb3RvdHlwZS5fcmVuZGVyQ2FudmFzPWZ1bmN0aW9uKGUsdCl7aWYoISghdGhpcy52aXNpYmxlfHwwPT09dGhpcy5hbHBoYXx8IXRoaXMucmVuZGVyYWJsZXx8dGhpcy50ZXh0dXJlLmNyb3Aud2lkdGg8PTB8fHRoaXMudGV4dHVyZS5jcm9wLmhlaWdodDw9MCkpe3ZhciByPXRoaXMud29ybGRUcmFuc2Zvcm07aWYodCYmKHI9dCksdGhpcy5ibGVuZE1vZGUhPT1lLmN1cnJlbnRCbGVuZE1vZGUmJihlLmN1cnJlbnRCbGVuZE1vZGU9dGhpcy5ibGVuZE1vZGUsZS5jb250ZXh0Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbj1pLmJsZW5kTW9kZXNDYW52YXNbZS5jdXJyZW50QmxlbmRNb2RlXSksdGhpcy5fbWFzayYmZS5tYXNrTWFuYWdlci5wdXNoTWFzayh0aGlzLl9tYXNrLGUpLHRoaXMudGV4dHVyZS52YWxpZCl7dmFyIHM9dGhpcy50ZXh0dXJlLmJhc2VUZXh0dXJlLnJlc29sdXRpb24vZS5yZXNvbHV0aW9uO2UuY29udGV4dC5nbG9iYWxBbHBoYT10aGlzLndvcmxkQWxwaGEsZS5zbW9vdGhQcm9wZXJ0eSYmZS5zY2FsZU1vZGUhPT10aGlzLnRleHR1cmUuYmFzZVRleHR1cmUuc2NhbGVNb2RlJiYoZS5zY2FsZU1vZGU9dGhpcy50ZXh0dXJlLmJhc2VUZXh0dXJlLnNjYWxlTW9kZSxlLmNvbnRleHRbZS5zbW9vdGhQcm9wZXJ0eV09ZS5zY2FsZU1vZGU9PT1pLnNjYWxlTW9kZXMuTElORUFSKTt2YXIgbz10aGlzLnRleHR1cmUudHJpbT90aGlzLnRleHR1cmUudHJpbS54LXRoaXMuYW5jaG9yLngqdGhpcy50ZXh0dXJlLnRyaW0ud2lkdGg6dGhpcy5hbmNob3IueCotdGhpcy50ZXh0dXJlLmZyYW1lLndpZHRoLGE9dGhpcy50ZXh0dXJlLnRyaW0/dGhpcy50ZXh0dXJlLnRyaW0ueS10aGlzLmFuY2hvci55KnRoaXMudGV4dHVyZS50cmltLmhlaWdodDp0aGlzLmFuY2hvci55Ki10aGlzLnRleHR1cmUuZnJhbWUuaGVpZ2h0LG49ci50eCplLnJlc29sdXRpb24rZS5zaGFrZVgsaD1yLnR5KmUucmVzb2x1dGlvbitlLnNoYWtlWSxsPXRoaXMudGV4dHVyZS5jcm9wLndpZHRoLHU9dGhpcy50ZXh0dXJlLmNyb3AuaGVpZ2h0O2lmKHRoaXMudGV4dHVyZS5yb3RhdGVkKXt2YXIgZD1yLmEsYz1yLmIsZj1yLmMseD1yLmQscD1sO249ci5jKnUrbixoPXIuZCp1K2gsci5hPTYuMTIzMjMzOTk1NzM2NzY2ZS0xNypkLWYsci5iPTYuMTIzMjMzOTk1NzM2NzY2ZS0xNypjLXgsci5jPWQrNi4xMjMyMzM5OTU3MzY3NjZlLTE3KmYsci5kPWMrNi4xMjMyMzM5OTU3MzY3NjZlLTE3KngsbD11LHU9cH1pZihlLnJvdW5kUGl4ZWxzPyhlLmNvbnRleHQuc2V0VHJhbnNmb3JtKHIuYSxyLmIsci5jLHIuZCwwfG4sMHxoKSxvfD0wLGF8PTApOmUuY29udGV4dC5zZXRUcmFuc2Zvcm0oci5hLHIuYixyLmMsci5kLG4saCksby89cyxhLz1zLDE2Nzc3MjE1IT09dGhpcy50aW50KSh0aGlzLnRleHR1cmUucmVxdWlyZXNSZVRpbnR8fHRoaXMuY2FjaGVkVGludCE9PXRoaXMudGludCkmJih0aGlzLnRpbnRlZFRleHR1cmU9aS5DYW52YXNUaW50ZXIuZ2V0VGludGVkVGV4dHVyZSh0aGlzLHRoaXMudGludCksdGhpcy5jYWNoZWRUaW50PXRoaXMudGludCx0aGlzLnRleHR1cmUucmVxdWlyZXNSZVRpbnQ9ITEpLGUuY29udGV4dC5kcmF3SW1hZ2UodGhpcy50aW50ZWRUZXh0dXJlLDAsMCxsLHUsbyxhLGwvcyx1L3MpO2Vsc2V7dmFyIGc9dGhpcy50ZXh0dXJlLmNyb3AueCx2PXRoaXMudGV4dHVyZS5jcm9wLnk7bD1NYXRoLmZsb29yKGwpLHU9TWF0aC5mbG9vcih1KSxlLmNvbnRleHQuZHJhd0ltYWdlKHRoaXMudGV4dHVyZS5iYXNlVGV4dHVyZS5zb3VyY2UsZyx2LGwsdSxvLGEsbC9zLHUvcyl9Zm9yKFQ9MDtUPHRoaXMuY2hpbGRyZW4ubGVuZ3RoO1QrKyl0aGlzLmNoaWxkcmVuW1RdLl9yZW5kZXJDYW52YXMoZSk7dGhpcy5fbWFzayYmZS5tYXNrTWFuYWdlci5wb3BNYXNrKGUpfWVsc2V7Zm9yKHZhciBUPTA7VDx0aGlzLmNoaWxkcmVuLmxlbmd0aDtUKyspdGhpcy5jaGlsZHJlbltUXS5fcmVuZGVyQ2FudmFzKGUpO3RoaXMuX21hc2smJmUubWFza01hbmFnZXIucG9wTWFzayhlKX19fSxpLmluaXREZWZhdWx0U2hhZGVycz1mdW5jdGlvbigpe30saS5Db21waWxlVmVydGV4U2hhZGVyPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGkuX0NvbXBpbGVTaGFkZXIoZSx0LGUuVkVSVEVYX1NIQURFUil9LGkuQ29tcGlsZUZyYWdtZW50U2hhZGVyPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGkuX0NvbXBpbGVTaGFkZXIoZSx0LGUuRlJBR01FTlRfU0hBREVSKX0saS5fQ29tcGlsZVNoYWRlcj1mdW5jdGlvbihlLHQscil7dmFyIGk9dDtBcnJheS5pc0FycmF5KHQpJiYoaT10LmpvaW4oXCJcXG5cIikpO3ZhciBzPWUuY3JlYXRlU2hhZGVyKHIpO3JldHVybiBlLnNoYWRlclNvdXJjZShzLGkpLGUuY29tcGlsZVNoYWRlcihzKSxlLmdldFNoYWRlclBhcmFtZXRlcihzLGUuQ09NUElMRV9TVEFUVVMpP3M6KHdpbmRvdy5jb25zb2xlLmxvZyhlLmdldFNoYWRlckluZm9Mb2cocykpLG51bGwpfSxpLmNvbXBpbGVQcm9ncmFtPWZ1bmN0aW9uKGUsdCxyKXt2YXIgcz1pLkNvbXBpbGVGcmFnbWVudFNoYWRlcihlLHIpLG89aS5Db21waWxlVmVydGV4U2hhZGVyKGUsdCksYT1lLmNyZWF0ZVByb2dyYW0oKTtyZXR1cm4gZS5hdHRhY2hTaGFkZXIoYSxvKSxlLmF0dGFjaFNoYWRlcihhLHMpLGUubGlua1Byb2dyYW0oYSksZS5nZXRQcm9ncmFtUGFyYW1ldGVyKGEsZS5MSU5LX1NUQVRVUyl8fCh3aW5kb3cuY29uc29sZS5sb2coZS5nZXRQcm9ncmFtSW5mb0xvZyhhKSksd2luZG93LmNvbnNvbGUubG9nKFwiQ291bGQgbm90IGluaXRpYWxpc2Ugc2hhZGVyc1wiKSksYX0saS5QaXhpU2hhZGVyPWZ1bmN0aW9uKGUpe3RoaXMuX1VJRD1QaGFzZXIuX1VJRCsrLHRoaXMuZ2w9ZSx0aGlzLnByb2dyYW09bnVsbCx0aGlzLmZyYWdtZW50U3JjPW51bGwsdGhpcy50ZXh0dXJlQ291bnQ9MCx0aGlzLmZpcnN0UnVuPSEwLHRoaXMuZGlydHk9ITAsdGhpcy5hdHRyaWJ1dGVzPVtdLHRoaXMuaW5pdCgpfSxpLlBpeGlTaGFkZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yPWkuUGl4aVNoYWRlcixpLlBpeGlTaGFkZXIucHJvdG90eXBlLmluaXRNdWx0aXRleFNoYWRlcj1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2w7dGhpcy5NQVhfVEVYVFVSRVM9ZS5nZXRQYXJhbWV0ZXIoZS5NQVhfVEVYVFVSRV9JTUFHRV9VTklUUyk7Zm9yKHZhciB0PVwiXFx0aWYgKHZUZXh0dXJlSW5kZXggPT0gMC4wKSB7IGdsX0ZyYWdDb2xvciA9IHRleHR1cmUyRCh1U2FtcGxlckFycmF5WzBdLCB2VGV4dHVyZUNvb3JkKSAqIHZDb2xvcjtyZXR1cm47fVxcblwiLHI9MTtyPHRoaXMuTUFYX1RFWFRVUkVTOysrcil0Kz1cIlxcdGlmICh2VGV4dHVyZUluZGV4ID09IFwiK3IrXCIuMCkge2dsX0ZyYWdDb2xvciA9IHRleHR1cmUyRCh1U2FtcGxlckFycmF5W1wiK3IrXCJdLCB2VGV4dHVyZUNvb3JkKSAqIHZDb2xvcjtyZXR1cm47fVxcblwiO3RoaXMuZnJhZ21lbnRTcmM9W1wiLy8gUGl4aVNoYWRlciBGcmFnbWVudCBTaGFkZXIuXCIsXCJwcmVjaXNpb24gbG93cCBmbG9hdDtcIixcImJvb2wgaXNuYW4oIGZsb2F0IHZhbCApIHsgIHJldHVybiAoIHZhbCA8IDAuMCB8fCAwLjAgPCB2YWwgfHwgdmFsID09IDAuMCApID8gZmFsc2UgOiB0cnVlOyB9XCIsXCJ2YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcIixcInZhcnlpbmcgdmVjNCB2Q29sb3I7XCIsXCJ2YXJ5aW5nIGZsb2F0IHZUZXh0dXJlSW5kZXg7XCIsXCJ1bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlckFycmF5W1wiK3RoaXMuTUFYX1RFWFRVUkVTK1wiXTtcIixcImNvbnN0IHZlYzQgQkxVRSA9IHZlYzQoMS4wLCAwLjAsIDEuMCwgMS4wKTtcIixcImNvbnN0IHZlYzQgUkVEID0gdmVjNCgxLjAsIDAuMCwgMC4wLCAxLjApO1wiLFwidm9pZCBtYWluKHZvaWQpIHtcIix0LFwiICAgaWYodlRleHR1cmVJbmRleCA+PSBcIit0aGlzLk1BWF9URVhUVVJFUytcIi4wKSB7IGdsX0ZyYWdDb2xvciA9IEJMVUU7cmV0dXJuO31cIixcIiAgIGlmKGlzbmFuKHZUZXh0dXJlSW5kZXgpKSB7IGdsX0ZyYWdDb2xvciA9IFJFRDtyZXR1cm47fVwiLFwifVwiXTt2YXIgcz1pLmNvbXBpbGVQcm9ncmFtKGUsdGhpcy52ZXJ0ZXhTcmN8fGkuUGl4aVNoYWRlci5kZWZhdWx0VmVydGV4U3JjLHRoaXMuZnJhZ21lbnRTcmMpO2UudXNlUHJvZ3JhbShzKSx0aGlzLnVTYW1wbGVyQXJyYXk9ZS5nZXRVbmlmb3JtTG9jYXRpb24ocyxcInVTYW1wbGVyQXJyYXlbMF1cIiksdGhpcy5wcm9qZWN0aW9uVmVjdG9yPWUuZ2V0VW5pZm9ybUxvY2F0aW9uKHMsXCJwcm9qZWN0aW9uVmVjdG9yXCIpLHRoaXMub2Zmc2V0VmVjdG9yPWUuZ2V0VW5pZm9ybUxvY2F0aW9uKHMsXCJvZmZzZXRWZWN0b3JcIiksdGhpcy5kaW1lbnNpb25zPWUuZ2V0VW5pZm9ybUxvY2F0aW9uKHMsXCJkaW1lbnNpb25zXCIpLHRoaXMuYVZlcnRleFBvc2l0aW9uPWUuZ2V0QXR0cmliTG9jYXRpb24ocyxcImFWZXJ0ZXhQb3NpdGlvblwiKSx0aGlzLmFUZXh0dXJlQ29vcmQ9ZS5nZXRBdHRyaWJMb2NhdGlvbihzLFwiYVRleHR1cmVDb29yZFwiKSx0aGlzLmNvbG9yQXR0cmlidXRlPWUuZ2V0QXR0cmliTG9jYXRpb24ocyxcImFDb2xvclwiKSx0aGlzLmFUZXh0dXJlSW5kZXg9ZS5nZXRBdHRyaWJMb2NhdGlvbihzLFwiYVRleHR1cmVJbmRleFwiKTt2YXIgbz1bXSxhPWUuY3JlYXRlVGV4dHVyZSgpO2UuYWN0aXZlVGV4dHVyZShlLlRFWFRVUkUwKSxlLmJpbmRUZXh0dXJlKGUuVEVYVFVSRV8yRCxhKSxlLnRleEltYWdlMkQoZS5URVhUVVJFXzJELDAsZS5SR0IsMSwxLDAsZS5SR0IsZS5VTlNJR05FRF9CWVRFLG51bGwpO2Zvcih2YXIgbj0wO248dGhpcy5NQVhfVEVYVFVSRVM7KytuKWUuYWN0aXZlVGV4dHVyZShlLlRFWFRVUkUwK24pLGUuYmluZFRleHR1cmUoZS5URVhUVVJFXzJELGEpLG8ucHVzaChuKTtlLmFjdGl2ZVRleHR1cmUoZS5URVhUVVJFMCksZS51bmlmb3JtMWl2KHRoaXMudVNhbXBsZXJBcnJheSxvKSwtMT09PXRoaXMuY29sb3JBdHRyaWJ1dGUmJih0aGlzLmNvbG9yQXR0cmlidXRlPTIpLHRoaXMuYXR0cmlidXRlcz1bdGhpcy5hVmVydGV4UG9zaXRpb24sdGhpcy5hVGV4dHVyZUNvb3JkLHRoaXMuY29sb3JBdHRyaWJ1dGUsdGhpcy5hVGV4dHVyZUluZGV4XTtmb3IodmFyIGggaW4gdGhpcy51bmlmb3Jtcyl0aGlzLnVuaWZvcm1zW2hdLnVuaWZvcm1Mb2NhdGlvbj1lLmdldFVuaWZvcm1Mb2NhdGlvbihzLGgpO3RoaXMuaW5pdFVuaWZvcm1zKCksdGhpcy5wcm9ncmFtPXN9LGkuUGl4aVNoYWRlci5wcm90b3R5cGUuaW5pdERlZmF1bHRTaGFkZXI9ZnVuY3Rpb24oKXtudWxsPT09dGhpcy5mcmFnbWVudFNyYyYmKHRoaXMuZnJhZ21lbnRTcmM9W1wicHJlY2lzaW9uIGxvd3AgZmxvYXQ7XCIsXCJ2YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcIixcInZhcnlpbmcgdmVjNCB2Q29sb3I7XCIsXCJ2YXJ5aW5nIGZsb2F0IHZUZXh0dXJlSW5kZXg7XCIsXCJ1bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjtcIixcInZvaWQgbWFpbih2b2lkKSB7XCIsXCIgICBnbF9GcmFnQ29sb3IgPSB0ZXh0dXJlMkQodVNhbXBsZXIsIHZUZXh0dXJlQ29vcmQpICogdkNvbG9yIDtcIixcIn1cIl0pO3ZhciBlPXRoaXMuZ2wsdD1pLmNvbXBpbGVQcm9ncmFtKGUsdGhpcy52ZXJ0ZXhTcmN8fGkuUGl4aVNoYWRlci5kZWZhdWx0VmVydGV4U3JjLHRoaXMuZnJhZ21lbnRTcmMpO2UudXNlUHJvZ3JhbSh0KSx0aGlzLnVTYW1wbGVyPWUuZ2V0VW5pZm9ybUxvY2F0aW9uKHQsXCJ1U2FtcGxlclwiKSx0aGlzLnByb2plY3Rpb25WZWN0b3I9ZS5nZXRVbmlmb3JtTG9jYXRpb24odCxcInByb2plY3Rpb25WZWN0b3JcIiksdGhpcy5vZmZzZXRWZWN0b3I9ZS5nZXRVbmlmb3JtTG9jYXRpb24odCxcIm9mZnNldFZlY3RvclwiKSx0aGlzLmRpbWVuc2lvbnM9ZS5nZXRVbmlmb3JtTG9jYXRpb24odCxcImRpbWVuc2lvbnNcIiksdGhpcy5hVmVydGV4UG9zaXRpb249ZS5nZXRBdHRyaWJMb2NhdGlvbih0LFwiYVZlcnRleFBvc2l0aW9uXCIpLHRoaXMuYVRleHR1cmVDb29yZD1lLmdldEF0dHJpYkxvY2F0aW9uKHQsXCJhVGV4dHVyZUNvb3JkXCIpLHRoaXMuY29sb3JBdHRyaWJ1dGU9ZS5nZXRBdHRyaWJMb2NhdGlvbih0LFwiYUNvbG9yXCIpLHRoaXMuYVRleHR1cmVJbmRleD1lLmdldEF0dHJpYkxvY2F0aW9uKHQsXCJhVGV4dHVyZUluZGV4XCIpLC0xPT09dGhpcy5jb2xvckF0dHJpYnV0ZSYmKHRoaXMuY29sb3JBdHRyaWJ1dGU9MiksdGhpcy5hdHRyaWJ1dGVzPVt0aGlzLmFWZXJ0ZXhQb3NpdGlvbix0aGlzLmFUZXh0dXJlQ29vcmQsdGhpcy5jb2xvckF0dHJpYnV0ZSx0aGlzLmFUZXh0dXJlSW5kZXhdO2Zvcih2YXIgciBpbiB0aGlzLnVuaWZvcm1zKXRoaXMudW5pZm9ybXNbcl0udW5pZm9ybUxvY2F0aW9uPWUuZ2V0VW5pZm9ybUxvY2F0aW9uKHQscik7dGhpcy5pbml0VW5pZm9ybXMoKSx0aGlzLnByb2dyYW09dH0saS5QaXhpU2hhZGVyLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKGUpe2kuX2VuYWJsZU11bHRpVGV4dHVyZVRvZ2dsZSYmIWU/dGhpcy5pbml0TXVsdGl0ZXhTaGFkZXIoKTp0aGlzLmluaXREZWZhdWx0U2hhZGVyKCl9LGkuUGl4aVNoYWRlci5wcm90b3R5cGUuaW5pdFVuaWZvcm1zPWZ1bmN0aW9uKCl7dGhpcy50ZXh0dXJlQ291bnQ9MTt2YXIgZSx0PXRoaXMuZ2w7Zm9yKHZhciByIGluIHRoaXMudW5pZm9ybXMpe3ZhciBpPShlPXRoaXMudW5pZm9ybXNbcl0pLnR5cGU7XCJzYW1wbGVyMkRcIj09PWk/KGUuX2luaXQ9ITEsbnVsbCE9PWUudmFsdWUmJnRoaXMuaW5pdFNhbXBsZXIyRChlKSk6XCJtYXQyXCI9PT1pfHxcIm1hdDNcIj09PWl8fFwibWF0NFwiPT09aT8oZS5nbE1hdHJpeD0hMCxlLmdsVmFsdWVMZW5ndGg9MSxcIm1hdDJcIj09PWk/ZS5nbEZ1bmM9dC51bmlmb3JtTWF0cml4MmZ2OlwibWF0M1wiPT09aT9lLmdsRnVuYz10LnVuaWZvcm1NYXRyaXgzZnY6XCJtYXQ0XCI9PT1pJiYoZS5nbEZ1bmM9dC51bmlmb3JtTWF0cml4NGZ2KSk6KGUuZ2xGdW5jPXRbXCJ1bmlmb3JtXCIraV0sZS5nbFZhbHVlTGVuZ3RoPVwiMmZcIj09PWl8fFwiMmlcIj09PWk/MjpcIjNmXCI9PT1pfHxcIjNpXCI9PT1pPzM6XCI0ZlwiPT09aXx8XCI0aVwiPT09aT80OjEpfX0saS5QaXhpU2hhZGVyLnByb3RvdHlwZS5pbml0U2FtcGxlcjJEPWZ1bmN0aW9uKGUpe2lmKGUudmFsdWUmJmUudmFsdWUuYmFzZVRleHR1cmUmJmUudmFsdWUuYmFzZVRleHR1cmUuaGFzTG9hZGVkKXt2YXIgdD10aGlzLmdsO2lmKHQuYWN0aXZlVGV4dHVyZSh0LlRFWFRVUkUwK3RoaXMudGV4dHVyZUNvdW50KSx0LmJpbmRUZXh0dXJlKHQuVEVYVFVSRV8yRCxlLnZhbHVlLmJhc2VUZXh0dXJlLl9nbFRleHR1cmVzW3QuaWRdKSxlLnRleHR1cmVEYXRhKXt2YXIgcj1lLnRleHR1cmVEYXRhLGk9ci5tYWdGaWx0ZXI/ci5tYWdGaWx0ZXI6dC5MSU5FQVIscz1yLm1pbkZpbHRlcj9yLm1pbkZpbHRlcjp0LkxJTkVBUixvPXIud3JhcFM/ci53cmFwUzp0LkNMQU1QX1RPX0VER0UsYT1yLndyYXBUP3Iud3JhcFQ6dC5DTEFNUF9UT19FREdFLG49ci5sdW1pbmFuY2U/dC5MVU1JTkFOQ0U6dC5SR0JBO2lmKHIucmVwZWF0JiYobz10LlJFUEVBVCxhPXQuUkVQRUFUKSx0LnBpeGVsU3RvcmVpKHQuVU5QQUNLX0ZMSVBfWV9XRUJHTCwhIXIuZmxpcFkpLHIud2lkdGgpe3ZhciBoPXIud2lkdGg/ci53aWR0aDo1MTIsbD1yLmhlaWdodD9yLmhlaWdodDoyLHU9ci5ib3JkZXI/ci5ib3JkZXI6MDt0LnRleEltYWdlMkQodC5URVhUVVJFXzJELDAsbixoLGwsdSxuLHQuVU5TSUdORURfQllURSxudWxsKX1lbHNlIHQudGV4SW1hZ2UyRCh0LlRFWFRVUkVfMkQsMCxuLHQuUkdCQSx0LlVOU0lHTkVEX0JZVEUsZS52YWx1ZS5iYXNlVGV4dHVyZS5zb3VyY2UpO3QudGV4UGFyYW1ldGVyaSh0LlRFWFRVUkVfMkQsdC5URVhUVVJFX01BR19GSUxURVIsaSksdC50ZXhQYXJhbWV0ZXJpKHQuVEVYVFVSRV8yRCx0LlRFWFRVUkVfTUlOX0ZJTFRFUixzKSx0LnRleFBhcmFtZXRlcmkodC5URVhUVVJFXzJELHQuVEVYVFVSRV9XUkFQX1MsbyksdC50ZXhQYXJhbWV0ZXJpKHQuVEVYVFVSRV8yRCx0LlRFWFRVUkVfV1JBUF9ULGEpfXQudW5pZm9ybTFpKGUudW5pZm9ybUxvY2F0aW9uLHRoaXMudGV4dHVyZUNvdW50KSxlLl9pbml0PSEwLHRoaXMudGV4dHVyZUNvdW50Kyt9fSxpLlBpeGlTaGFkZXIucHJvdG90eXBlLnN5bmNVbmlmb3Jtcz1mdW5jdGlvbigpe3RoaXMudGV4dHVyZUNvdW50PTE7dmFyIGUsdD10aGlzLmdsO2Zvcih2YXIgciBpbiB0aGlzLnVuaWZvcm1zKTE9PT0oZT10aGlzLnVuaWZvcm1zW3JdKS5nbFZhbHVlTGVuZ3RoPyEwPT09ZS5nbE1hdHJpeD9lLmdsRnVuYy5jYWxsKHQsZS51bmlmb3JtTG9jYXRpb24sZS50cmFuc3Bvc2UsZS52YWx1ZSk6ZS5nbEZ1bmMuY2FsbCh0LGUudW5pZm9ybUxvY2F0aW9uLGUudmFsdWUpOjI9PT1lLmdsVmFsdWVMZW5ndGg/ZS5nbEZ1bmMuY2FsbCh0LGUudW5pZm9ybUxvY2F0aW9uLGUudmFsdWUueCxlLnZhbHVlLnkpOjM9PT1lLmdsVmFsdWVMZW5ndGg/ZS5nbEZ1bmMuY2FsbCh0LGUudW5pZm9ybUxvY2F0aW9uLGUudmFsdWUueCxlLnZhbHVlLnksZS52YWx1ZS56KTo0PT09ZS5nbFZhbHVlTGVuZ3RoP2UuZ2xGdW5jLmNhbGwodCxlLnVuaWZvcm1Mb2NhdGlvbixlLnZhbHVlLngsZS52YWx1ZS55LGUudmFsdWUueixlLnZhbHVlLncpOlwic2FtcGxlcjJEXCI9PT1lLnR5cGUmJihlLl9pbml0Pyh0LmFjdGl2ZVRleHR1cmUodFtcIlRFWFRVUkVcIit0aGlzLnRleHR1cmVDb3VudF0pLGUudmFsdWUuYmFzZVRleHR1cmUuX2RpcnR5W3QuaWRdP2kuaW5zdGFuY2VzW3QuaWRdLnVwZGF0ZVRleHR1cmUoZS52YWx1ZS5iYXNlVGV4dHVyZSk6dC5iaW5kVGV4dHVyZSh0LlRFWFRVUkVfMkQsZS52YWx1ZS5iYXNlVGV4dHVyZS5fZ2xUZXh0dXJlc1t0LmlkXSksdC51bmlmb3JtMWkoZS51bmlmb3JtTG9jYXRpb24sdGhpcy50ZXh0dXJlQ291bnQpLHRoaXMudGV4dHVyZUNvdW50KyspOnRoaXMuaW5pdFNhbXBsZXIyRChlKSl9LGkuUGl4aVNoYWRlci5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuZ2wuZGVsZXRlUHJvZ3JhbSh0aGlzLnByb2dyYW0pLHRoaXMudW5pZm9ybXM9bnVsbCx0aGlzLmdsPW51bGwsdGhpcy5hdHRyaWJ1dGVzPW51bGx9LGkuUGl4aVNoYWRlci5kZWZhdWx0VmVydGV4U3JjPVtcIi8vIFBpeGlTaGFkZXIgVmVydGV4IFNoYWRlclwiLFwiLy8gV2l0aCBtdWx0aS10ZXh0dXJlIHJlbmRlcmluZ1wiLFwiYXR0cmlidXRlIHZlYzIgYVZlcnRleFBvc2l0aW9uO1wiLFwiYXR0cmlidXRlIHZlYzIgYVRleHR1cmVDb29yZDtcIixcImF0dHJpYnV0ZSB2ZWM0IGFDb2xvcjtcIixcImF0dHJpYnV0ZSBmbG9hdCBhVGV4dHVyZUluZGV4O1wiLFwidW5pZm9ybSB2ZWMyIHByb2plY3Rpb25WZWN0b3I7XCIsXCJ1bmlmb3JtIHZlYzIgb2Zmc2V0VmVjdG9yO1wiLFwidmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XCIsXCJ2YXJ5aW5nIHZlYzQgdkNvbG9yO1wiLFwidmFyeWluZyBmbG9hdCB2VGV4dHVyZUluZGV4O1wiLFwiY29uc3QgdmVjMiBjZW50ZXIgPSB2ZWMyKC0xLjAsIDEuMCk7XCIsXCJ2b2lkIG1haW4odm9pZCkge1wiLFwiICAgaWYgKGFUZXh0dXJlSW5kZXggPiAwLjApIGdsX1Bvc2l0aW9uID0gdmVjNCgwLjApO1wiLFwiICAgZ2xfUG9zaXRpb24gPSB2ZWM0KCAoKGFWZXJ0ZXhQb3NpdGlvbiArIG9mZnNldFZlY3RvcikgLyBwcm9qZWN0aW9uVmVjdG9yKSArIGNlbnRlciAsIDAuMCwgMS4wKTtcIixcIiAgIHZUZXh0dXJlQ29vcmQgPSBhVGV4dHVyZUNvb3JkO1wiLFwiICAgdkNvbG9yID0gdmVjNChhQ29sb3IucmdiICogYUNvbG9yLmEsIGFDb2xvci5hKTtcIixcIiAgIHZUZXh0dXJlSW5kZXggPSBhVGV4dHVyZUluZGV4O1wiLFwifVwiXSxpLlBpeGlGYXN0U2hhZGVyPWZ1bmN0aW9uKGUpe2lmKHRoaXMuX1VJRD1QaGFzZXIuX1VJRCsrLHRoaXMuZ2w9ZSx0aGlzLnByb2dyYW09bnVsbCxpLl9lbmFibGVNdWx0aVRleHR1cmVUb2dnbGUpe3ZhciBlPXRoaXMuZ2w7dGhpcy5NQVhfVEVYVFVSRVM9ZS5nZXRQYXJhbWV0ZXIoZS5NQVhfVEVYVFVSRV9JTUFHRV9VTklUUyk7Zm9yKHZhciB0PVwiXFx0aWYgKHZUZXh0dXJlSW5kZXggPT0gMC4wKSB7IGdsX0ZyYWdDb2xvciA9IHRleHR1cmUyRCh1U2FtcGxlckFycmF5WzBdLCB2VGV4dHVyZUNvb3JkKSAqIHZDb2xvcjtyZXR1cm47fVxcblwiLHI9MTtyPHRoaXMuTUFYX1RFWFRVUkVTOysrcil0Kz1cIlxcdGlmICh2VGV4dHVyZUluZGV4ID09IFwiK3IrXCIuMCkgeyBnbF9GcmFnQ29sb3IgPSB0ZXh0dXJlMkQodVNhbXBsZXJBcnJheVtcIityK1wiXSwgdlRleHR1cmVDb29yZCkgKiB2Q29sb3I7cmV0dXJuO31cXG5cIjt0aGlzLmZyYWdtZW50U3JjPVtcIi8vIFBpeGlGYXN0U2hhZGVyIEZyYWdtZW50IFNoYWRlci5cIixcInByZWNpc2lvbiBsb3dwIGZsb2F0O1wiLFwiYm9vbCBpc25hbiggZmxvYXQgdmFsICkgeyAgcmV0dXJuICggdmFsIDwgMC4wIHx8IDAuMCA8IHZhbCB8fCB2YWwgPT0gMC4wICkgPyBmYWxzZSA6IHRydWU7IH1cIixcInZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1wiLFwidmFyeWluZyBmbG9hdCB2Q29sb3I7XCIsXCJ2YXJ5aW5nIGZsb2F0IHZUZXh0dXJlSW5kZXg7XCIsXCJ1bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlckFycmF5W1wiK3RoaXMuTUFYX1RFWFRVUkVTK1wiXTtcIixcImNvbnN0IHZlYzQgQkxVRSA9IHZlYzQoMS4wLCAwLjAsIDEuMCwgMS4wKTtcIixcImNvbnN0IHZlYzQgUkVEID0gdmVjNCgxLjAsIDAuMCwgMC4wLCAxLjApO1wiLFwidm9pZCBtYWluKHZvaWQpIHtcIix0LFwiICAgaWYodlRleHR1cmVJbmRleCA+PSBcIit0aGlzLk1BWF9URVhUVVJFUytcIi4wKSB7IGdsX0ZyYWdDb2xvciA9IEJMVUU7cmV0dXJuO31cIixcIiAgIGlmKGlzbmFuKHZUZXh0dXJlSW5kZXgpKSB7Z2xfRnJhZ0NvbG9yID0gUkVEO3JldHVybjt9XCIsXCJ9XCJdfWVsc2UgdGhpcy5mcmFnbWVudFNyYz1bXCIvLyBQaXhpRmFzdFNoYWRlciBGcmFnbWVudCBTaGFkZXIuXCIsXCJwcmVjaXNpb24gbG93cCBmbG9hdDtcIixcInZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1wiLFwidmFyeWluZyBmbG9hdCB2Q29sb3I7XCIsXCJ2YXJ5aW5nIGZsb2F0IHZUZXh0dXJlSW5kZXg7XCIsXCJ1bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjtcIixcInZvaWQgbWFpbih2b2lkKSB7XCIsXCIgICBnbF9GcmFnQ29sb3IgPSB0ZXh0dXJlMkQodVNhbXBsZXIsIHZUZXh0dXJlQ29vcmQpICogdkNvbG9yO1wiLFwifVwiXTt0aGlzLnZlcnRleFNyYz1bXCIvLyBQaXhpRmFzdFNoYWRlciBWZXJ0ZXggU2hhZGVyLlwiLFwiYXR0cmlidXRlIHZlYzIgYVZlcnRleFBvc2l0aW9uO1wiLFwiYXR0cmlidXRlIHZlYzIgYVBvc2l0aW9uQ29vcmQ7XCIsXCJhdHRyaWJ1dGUgdmVjMiBhU2NhbGU7XCIsXCJhdHRyaWJ1dGUgZmxvYXQgYVJvdGF0aW9uO1wiLFwiYXR0cmlidXRlIHZlYzIgYVRleHR1cmVDb29yZDtcIixcImF0dHJpYnV0ZSBmbG9hdCBhQ29sb3I7XCIsXCJhdHRyaWJ1dGUgZmxvYXQgYVRleHR1cmVJbmRleDtcIixcInVuaWZvcm0gdmVjMiBwcm9qZWN0aW9uVmVjdG9yO1wiLFwidW5pZm9ybSB2ZWMyIG9mZnNldFZlY3RvcjtcIixcInVuaWZvcm0gbWF0MyB1TWF0cml4O1wiLFwidmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XCIsXCJ2YXJ5aW5nIGZsb2F0IHZDb2xvcjtcIixcInZhcnlpbmcgZmxvYXQgdlRleHR1cmVJbmRleDtcIixcImNvbnN0IHZlYzIgY2VudGVyID0gdmVjMigtMS4wLCAxLjApO1wiLFwidm9pZCBtYWluKHZvaWQpIHtcIixcIiAgIHZlYzIgdjtcIixcIiAgIHZlYzIgc3YgPSBhVmVydGV4UG9zaXRpb24gKiBhU2NhbGU7XCIsXCIgICB2LnggPSAoc3YueCkgKiBjb3MoYVJvdGF0aW9uKSAtIChzdi55KSAqIHNpbihhUm90YXRpb24pO1wiLFwiICAgdi55ID0gKHN2LngpICogc2luKGFSb3RhdGlvbikgKyAoc3YueSkgKiBjb3MoYVJvdGF0aW9uKTtcIixcIiAgIHYgPSAoIHVNYXRyaXggKiB2ZWMzKHYgKyBhUG9zaXRpb25Db29yZCAsIDEuMCkgKS54eSA7XCIsXCIgICBnbF9Qb3NpdGlvbiA9IHZlYzQoICggdiAvIHByb2plY3Rpb25WZWN0b3IpICsgY2VudGVyICwgMC4wLCAxLjApO1wiLFwiICAgdlRleHR1cmVDb29yZCA9IGFUZXh0dXJlQ29vcmQ7XCIsXCIgICB2VGV4dHVyZUluZGV4ID0gYVRleHR1cmVJbmRleDtcIixcIiAgIHZDb2xvciA9IGFDb2xvcjtcIixcIn1cIl0sdGhpcy50ZXh0dXJlQ291bnQ9MCx0aGlzLmluaXQoKX0saS5QaXhpRmFzdFNoYWRlci5wcm90b3R5cGUuY29uc3RydWN0b3I9aS5QaXhpRmFzdFNoYWRlcixpLlBpeGlGYXN0U2hhZGVyLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nbCx0PWkuY29tcGlsZVByb2dyYW0oZSx0aGlzLnZlcnRleFNyYyx0aGlzLmZyYWdtZW50U3JjKTtpZihlLnVzZVByb2dyYW0odCksdGhpcy51U2FtcGxlcj1pLl9lbmFibGVNdWx0aVRleHR1cmVUb2dnbGU/ZS5nZXRVbmlmb3JtTG9jYXRpb24odCxcInVTYW1wbGVyQXJyYXlbMF1cIik6ZS5nZXRVbmlmb3JtTG9jYXRpb24odCxcInVTYW1wbGVyXCIpLGkuX2VuYWJsZU11bHRpVGV4dHVyZVRvZ2dsZSl7dmFyIHI9W10scz1lLmNyZWF0ZVRleHR1cmUoKTtlLmFjdGl2ZVRleHR1cmUoZS5URVhUVVJFMCksZS5iaW5kVGV4dHVyZShlLlRFWFRVUkVfMkQscyksZS50ZXhJbWFnZTJEKGUuVEVYVFVSRV8yRCwwLGUuUkdCLDEsMSwwLGUuUkdCLGUuVU5TSUdORURfQllURSxudWxsKTtmb3IodmFyIG89MDtvPHRoaXMuTUFYX1RFWFRVUkVTOysrbyllLmFjdGl2ZVRleHR1cmUoZS5URVhUVVJFMCtvKSxlLmJpbmRUZXh0dXJlKGUuVEVYVFVSRV8yRCxzKSxyLnB1c2gobyk7ZS5hY3RpdmVUZXh0dXJlKGUuVEVYVFVSRTApLGUudW5pZm9ybTFpdih0aGlzLnVTYW1wbGVyLHIpfXRoaXMucHJvamVjdGlvblZlY3Rvcj1lLmdldFVuaWZvcm1Mb2NhdGlvbih0LFwicHJvamVjdGlvblZlY3RvclwiKSx0aGlzLm9mZnNldFZlY3Rvcj1lLmdldFVuaWZvcm1Mb2NhdGlvbih0LFwib2Zmc2V0VmVjdG9yXCIpLHRoaXMuZGltZW5zaW9ucz1lLmdldFVuaWZvcm1Mb2NhdGlvbih0LFwiZGltZW5zaW9uc1wiKSx0aGlzLnVNYXRyaXg9ZS5nZXRVbmlmb3JtTG9jYXRpb24odCxcInVNYXRyaXhcIiksdGhpcy5hVmVydGV4UG9zaXRpb249ZS5nZXRBdHRyaWJMb2NhdGlvbih0LFwiYVZlcnRleFBvc2l0aW9uXCIpLHRoaXMuYVBvc2l0aW9uQ29vcmQ9ZS5nZXRBdHRyaWJMb2NhdGlvbih0LFwiYVBvc2l0aW9uQ29vcmRcIiksdGhpcy5hU2NhbGU9ZS5nZXRBdHRyaWJMb2NhdGlvbih0LFwiYVNjYWxlXCIpLHRoaXMuYVJvdGF0aW9uPWUuZ2V0QXR0cmliTG9jYXRpb24odCxcImFSb3RhdGlvblwiKSx0aGlzLmFUZXh0dXJlQ29vcmQ9ZS5nZXRBdHRyaWJMb2NhdGlvbih0LFwiYVRleHR1cmVDb29yZFwiKSx0aGlzLmNvbG9yQXR0cmlidXRlPWUuZ2V0QXR0cmliTG9jYXRpb24odCxcImFDb2xvclwiKSx0aGlzLmFUZXh0dXJlSW5kZXg9ZS5nZXRBdHRyaWJMb2NhdGlvbih0LFwiYVRleHR1cmVJbmRleFwiKSwtMT09PXRoaXMuY29sb3JBdHRyaWJ1dGUmJih0aGlzLmNvbG9yQXR0cmlidXRlPTIpLHRoaXMuYXR0cmlidXRlcz1bdGhpcy5hVmVydGV4UG9zaXRpb24sdGhpcy5hUG9zaXRpb25Db29yZCx0aGlzLmFTY2FsZSx0aGlzLmFSb3RhdGlvbix0aGlzLmFUZXh0dXJlQ29vcmQsdGhpcy5jb2xvckF0dHJpYnV0ZSx0aGlzLmFUZXh0dXJlSW5kZXhdLHRoaXMucHJvZ3JhbT10fSxpLlBpeGlGYXN0U2hhZGVyLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5nbC5kZWxldGVQcm9ncmFtKHRoaXMucHJvZ3JhbSksdGhpcy51bmlmb3Jtcz1udWxsLHRoaXMuZ2w9bnVsbCx0aGlzLmF0dHJpYnV0ZXM9bnVsbH0saS5TdHJpcFNoYWRlcj1mdW5jdGlvbihlKXtpZih0aGlzLl9VSUQ9UGhhc2VyLl9VSUQrKyx0aGlzLmdsPWUsdGhpcy5wcm9ncmFtPW51bGwsaS5fZW5hYmxlTXVsdGlUZXh0dXJlVG9nZ2xlKXt2YXIgZT10aGlzLmdsO3RoaXMuTUFYX1RFWFRVUkVTPWUuZ2V0UGFyYW1ldGVyKGUuTUFYX1RFWFRVUkVfSU1BR0VfVU5JVFMpO2Zvcih2YXIgdD1cIlxcdGlmICh2VGV4dHVyZUluZGV4ID09IDAuMCkgeyBnbF9GcmFnQ29sb3IgPSB0ZXh0dXJlMkQodVNhbXBsZXJBcnJheVswXSwgdlRleHR1cmVDb29yZCk7cmV0dXJuO31cXG5cIixyPTE7cjx0aGlzLk1BWF9URVhUVVJFUzsrK3IpdCs9XCJcXHRpZiAodlRleHR1cmVJbmRleCA9PSBcIityK1wiLjApIHsgZ2xfRnJhZ0NvbG9yID0gdGV4dHVyZTJEKHVTYW1wbGVyQXJyYXlbXCIrcitcIl0sIHZUZXh0dXJlQ29vcmQpIDtyZXR1cm47fVxcblwiO3RoaXMuZnJhZ21lbnRTcmM9W1wiLy9TdHJpcFNoYWRlciBGcmFnbWVudCBTaGFkZXIuXCIsXCJwcmVjaXNpb24gbWVkaXVtcCBmbG9hdDtcIixcImJvb2wgaXNuYW4oIGZsb2F0IHZhbCApIHsgIHJldHVybiAoIHZhbCA8IDAuMCB8fCAwLjAgPCB2YWwgfHwgdmFsID09IDAuMCApID8gZmFsc2UgOiB0cnVlOyB9XCIsXCJ2YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcIixcInZhcnlpbmcgZmxvYXQgdlRleHR1cmVJbmRleDtcIixcInVuaWZvcm0gZmxvYXQgYWxwaGE7XCIsXCJ1bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlckFycmF5W1wiK3RoaXMuTUFYX1RFWFRVUkVTK1wiXTtcIixcImNvbnN0IHZlYzQgQkxVRSA9IHZlYzQoMS4wLCAwLjAsIDEuMCwgMS4wKTtcIixcImNvbnN0IHZlYzQgUkVEID0gdmVjNCgxLjAsIDAuMCwgMC4wLCAxLjApO1wiLFwidm9pZCBtYWluKHZvaWQpIHtcIix0LFwiICAgaWYodlRleHR1cmVJbmRleCA+PSBcIit0aGlzLk1BWF9URVhUVVJFUytcIi4wKSB7IGdsX0ZyYWdDb2xvciA9IEJMVUU7cmV0dXJuO31cIixcIiAgIGlmKGlzbmFuKHZUZXh0dXJlSW5kZXgpKSB7Z2xfRnJhZ0NvbG9yID0gUkVEO3JldHVybjt9XCIsXCJ9XCJdfWVsc2UgdGhpcy5mcmFnbWVudFNyYz1bXCIvL1N0cmlwU2hhZGVyIEZyYWdtZW50IFNoYWRlci5cIixcInByZWNpc2lvbiBtZWRpdW1wIGZsb2F0O1wiLFwidmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XCIsXCJ2YXJ5aW5nIGZsb2F0IHZUZXh0dXJlSW5kZXg7XCIsXCJ1bmlmb3JtIGZsb2F0IGFscGhhO1wiLFwidW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXI7XCIsXCJ2b2lkIG1haW4odm9pZCkge1wiLFwiICAgZ2xfRnJhZ0NvbG9yID0gdGV4dHVyZTJEKHVTYW1wbGVyLCB2VGV4dHVyZUNvb3JkKTtcIixcIn1cIl07dGhpcy52ZXJ0ZXhTcmM9W1wiLy9TdHJpcFNoYWRlciBWZXJ0ZXggU2hhZGVyLlwiLFwiYXR0cmlidXRlIHZlYzIgYVZlcnRleFBvc2l0aW9uO1wiLFwiYXR0cmlidXRlIHZlYzIgYVRleHR1cmVDb29yZDtcIixcImF0dHJpYnV0ZSBmbG9hdCBhVGV4dHVyZUluZGV4O1wiLFwidW5pZm9ybSBtYXQzIHRyYW5zbGF0aW9uTWF0cml4O1wiLFwidW5pZm9ybSB2ZWMyIHByb2plY3Rpb25WZWN0b3I7XCIsXCJ1bmlmb3JtIHZlYzIgb2Zmc2V0VmVjdG9yO1wiLFwidmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XCIsXCJ2YXJ5aW5nIGZsb2F0IHZUZXh0dXJlSW5kZXg7XCIsXCJ2b2lkIG1haW4odm9pZCkge1wiLFwiICAgdmVjMyB2ID0gdHJhbnNsYXRpb25NYXRyaXggKiB2ZWMzKGFWZXJ0ZXhQb3NpdGlvbiAsIDEuMCk7XCIsXCIgICB2IC09IG9mZnNldFZlY3Rvci54eXg7XCIsXCIgICBnbF9Qb3NpdGlvbiA9IHZlYzQoIHYueCAvIHByb2plY3Rpb25WZWN0b3IueCAtMS4wLCB2LnkgLyAtcHJvamVjdGlvblZlY3Rvci55ICsgMS4wICwgMC4wLCAxLjApO1wiLFwiICAgdlRleHR1cmVDb29yZCA9IGFUZXh0dXJlQ29vcmQ7XCIsXCIgICB2VGV4dHVyZUluZGV4ID0gYVRleHR1cmVJbmRleDtcIixcIn1cIl0sdGhpcy5pbml0KCl9LGkuU3RyaXBTaGFkZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yPWkuU3RyaXBTaGFkZXIsaS5TdHJpcFNoYWRlci5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2wsdD1pLmNvbXBpbGVQcm9ncmFtKGUsdGhpcy52ZXJ0ZXhTcmMsdGhpcy5mcmFnbWVudFNyYyk7aWYoZS51c2VQcm9ncmFtKHQpLHRoaXMudVNhbXBsZXI9aS5fZW5hYmxlTXVsdGlUZXh0dXJlVG9nZ2xlP2UuZ2V0VW5pZm9ybUxvY2F0aW9uKHQsXCJ1U2FtcGxlckFycmF5WzBdXCIpOmUuZ2V0VW5pZm9ybUxvY2F0aW9uKHQsXCJ1U2FtcGxlclwiKSxpLl9lbmFibGVNdWx0aVRleHR1cmVUb2dnbGUpe3ZhciByPVtdLHM9ZS5jcmVhdGVUZXh0dXJlKCk7ZS5hY3RpdmVUZXh0dXJlKGUuVEVYVFVSRTApLGUuYmluZFRleHR1cmUoZS5URVhUVVJFXzJELHMpLGUudGV4SW1hZ2UyRChlLlRFWFRVUkVfMkQsMCxlLlJHQiwxLDEsMCxlLlJHQixlLlVOU0lHTkVEX0JZVEUsbnVsbCk7Zm9yKHZhciBvPTA7bzx0aGlzLk1BWF9URVhUVVJFUzsrK28pZS5hY3RpdmVUZXh0dXJlKGUuVEVYVFVSRTArbyksZS5iaW5kVGV4dHVyZShlLlRFWFRVUkVfMkQscyksci5wdXNoKG8pO2UuYWN0aXZlVGV4dHVyZShlLlRFWFRVUkUwKSxlLnVuaWZvcm0xaXYodGhpcy51U2FtcGxlcixyKX10aGlzLnByb2plY3Rpb25WZWN0b3I9ZS5nZXRVbmlmb3JtTG9jYXRpb24odCxcInByb2plY3Rpb25WZWN0b3JcIiksdGhpcy5vZmZzZXRWZWN0b3I9ZS5nZXRVbmlmb3JtTG9jYXRpb24odCxcIm9mZnNldFZlY3RvclwiKSx0aGlzLmNvbG9yQXR0cmlidXRlPWUuZ2V0QXR0cmliTG9jYXRpb24odCxcImFDb2xvclwiKSx0aGlzLmFUZXh0dXJlSW5kZXg9ZS5nZXRBdHRyaWJMb2NhdGlvbih0LFwiYVRleHR1cmVJbmRleFwiKSx0aGlzLmFWZXJ0ZXhQb3NpdGlvbj1lLmdldEF0dHJpYkxvY2F0aW9uKHQsXCJhVmVydGV4UG9zaXRpb25cIiksdGhpcy5hVGV4dHVyZUNvb3JkPWUuZ2V0QXR0cmliTG9jYXRpb24odCxcImFUZXh0dXJlQ29vcmRcIiksdGhpcy5hdHRyaWJ1dGVzPVt0aGlzLmFWZXJ0ZXhQb3NpdGlvbix0aGlzLmFUZXh0dXJlQ29vcmQsdGhpcy5hVGV4dHVyZUluZGV4XSx0aGlzLnRyYW5zbGF0aW9uTWF0cml4PWUuZ2V0VW5pZm9ybUxvY2F0aW9uKHQsXCJ0cmFuc2xhdGlvbk1hdHJpeFwiKSx0aGlzLmFscGhhPWUuZ2V0VW5pZm9ybUxvY2F0aW9uKHQsXCJhbHBoYVwiKSx0aGlzLnByb2dyYW09dH0saS5TdHJpcFNoYWRlci5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuZ2wuZGVsZXRlUHJvZ3JhbSh0aGlzLnByb2dyYW0pLHRoaXMudW5pZm9ybXM9bnVsbCx0aGlzLmdsPW51bGwsdGhpcy5hdHRyaWJ1dGU9bnVsbH0saS5QcmltaXRpdmVTaGFkZXI9ZnVuY3Rpb24oZSl7dGhpcy5fVUlEPVBoYXNlci5fVUlEKyssdGhpcy5nbD1lLHRoaXMucHJvZ3JhbT1udWxsLHRoaXMuZnJhZ21lbnRTcmM9W1wicHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7XCIsXCJ2YXJ5aW5nIHZlYzQgdkNvbG9yO1wiLFwidm9pZCBtYWluKHZvaWQpIHtcIixcIiAgIGdsX0ZyYWdDb2xvciA9IHZDb2xvcjtcIixcIn1cIl0sdGhpcy52ZXJ0ZXhTcmM9W1wiYXR0cmlidXRlIHZlYzIgYVZlcnRleFBvc2l0aW9uO1wiLFwiYXR0cmlidXRlIHZlYzQgYUNvbG9yO1wiLFwidW5pZm9ybSBtYXQzIHRyYW5zbGF0aW9uTWF0cml4O1wiLFwidW5pZm9ybSB2ZWMyIHByb2plY3Rpb25WZWN0b3I7XCIsXCJ1bmlmb3JtIHZlYzIgb2Zmc2V0VmVjdG9yO1wiLFwidW5pZm9ybSBmbG9hdCBhbHBoYTtcIixcInVuaWZvcm0gZmxvYXQgZmxpcFk7XCIsXCJ1bmlmb3JtIHZlYzMgdGludDtcIixcInZhcnlpbmcgdmVjNCB2Q29sb3I7XCIsXCJ2b2lkIG1haW4odm9pZCkge1wiLFwiICAgdmVjMyB2ID0gdHJhbnNsYXRpb25NYXRyaXggKiB2ZWMzKGFWZXJ0ZXhQb3NpdGlvbiAsIDEuMCk7XCIsXCIgICB2IC09IG9mZnNldFZlY3Rvci54eXg7XCIsXCIgICBnbF9Qb3NpdGlvbiA9IHZlYzQoIHYueCAvIHByb2plY3Rpb25WZWN0b3IueCAtMS4wLCAodi55IC8gcHJvamVjdGlvblZlY3Rvci55ICogLWZsaXBZKSArIGZsaXBZICwgMC4wLCAxLjApO1wiLFwiICAgdkNvbG9yID0gYUNvbG9yICogdmVjNCh0aW50ICogYWxwaGEsIGFscGhhKTtcIixcIn1cIl0sdGhpcy5pbml0KCl9LGkuUHJpbWl0aXZlU2hhZGVyLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1pLlByaW1pdGl2ZVNoYWRlcixpLlByaW1pdGl2ZVNoYWRlci5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2wsdD1pLmNvbXBpbGVQcm9ncmFtKGUsdGhpcy52ZXJ0ZXhTcmMsdGhpcy5mcmFnbWVudFNyYyk7ZS51c2VQcm9ncmFtKHQpLHRoaXMucHJvamVjdGlvblZlY3Rvcj1lLmdldFVuaWZvcm1Mb2NhdGlvbih0LFwicHJvamVjdGlvblZlY3RvclwiKSx0aGlzLm9mZnNldFZlY3Rvcj1lLmdldFVuaWZvcm1Mb2NhdGlvbih0LFwib2Zmc2V0VmVjdG9yXCIpLHRoaXMudGludENvbG9yPWUuZ2V0VW5pZm9ybUxvY2F0aW9uKHQsXCJ0aW50XCIpLHRoaXMuZmxpcFk9ZS5nZXRVbmlmb3JtTG9jYXRpb24odCxcImZsaXBZXCIpLHRoaXMuYVZlcnRleFBvc2l0aW9uPWUuZ2V0QXR0cmliTG9jYXRpb24odCxcImFWZXJ0ZXhQb3NpdGlvblwiKSx0aGlzLmNvbG9yQXR0cmlidXRlPWUuZ2V0QXR0cmliTG9jYXRpb24odCxcImFDb2xvclwiKSx0aGlzLmF0dHJpYnV0ZXM9W3RoaXMuYVZlcnRleFBvc2l0aW9uLHRoaXMuY29sb3JBdHRyaWJ1dGVdLHRoaXMudHJhbnNsYXRpb25NYXRyaXg9ZS5nZXRVbmlmb3JtTG9jYXRpb24odCxcInRyYW5zbGF0aW9uTWF0cml4XCIpLHRoaXMuYWxwaGE9ZS5nZXRVbmlmb3JtTG9jYXRpb24odCxcImFscGhhXCIpLHRoaXMucHJvZ3JhbT10fSxpLlByaW1pdGl2ZVNoYWRlci5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuZ2wuZGVsZXRlUHJvZ3JhbSh0aGlzLnByb2dyYW0pLHRoaXMudW5pZm9ybXM9bnVsbCx0aGlzLmdsPW51bGwsdGhpcy5hdHRyaWJ1dGVzPW51bGx9LGkuQ29tcGxleFByaW1pdGl2ZVNoYWRlcj1mdW5jdGlvbihlKXt0aGlzLl9VSUQ9UGhhc2VyLl9VSUQrKyx0aGlzLmdsPWUsdGhpcy5wcm9ncmFtPW51bGwsdGhpcy5mcmFnbWVudFNyYz1bXCJwcmVjaXNpb24gbWVkaXVtcCBmbG9hdDtcIixcInZhcnlpbmcgdmVjNCB2Q29sb3I7XCIsXCJ2b2lkIG1haW4odm9pZCkge1wiLFwiICAgZ2xfRnJhZ0NvbG9yID0gdkNvbG9yO1wiLFwifVwiXSx0aGlzLnZlcnRleFNyYz1bXCJhdHRyaWJ1dGUgdmVjMiBhVmVydGV4UG9zaXRpb247XCIsXCJ1bmlmb3JtIG1hdDMgdHJhbnNsYXRpb25NYXRyaXg7XCIsXCJ1bmlmb3JtIHZlYzIgcHJvamVjdGlvblZlY3RvcjtcIixcInVuaWZvcm0gdmVjMiBvZmZzZXRWZWN0b3I7XCIsXCJ1bmlmb3JtIHZlYzMgdGludDtcIixcInVuaWZvcm0gZmxvYXQgYWxwaGE7XCIsXCJ1bmlmb3JtIHZlYzMgY29sb3I7XCIsXCJ1bmlmb3JtIGZsb2F0IGZsaXBZO1wiLFwidmFyeWluZyB2ZWM0IHZDb2xvcjtcIixcInZvaWQgbWFpbih2b2lkKSB7XCIsXCIgICB2ZWMzIHYgPSB0cmFuc2xhdGlvbk1hdHJpeCAqIHZlYzMoYVZlcnRleFBvc2l0aW9uICwgMS4wKTtcIixcIiAgIHYgLT0gb2Zmc2V0VmVjdG9yLnh5eDtcIixcIiAgIGdsX1Bvc2l0aW9uID0gdmVjNCggdi54IC8gcHJvamVjdGlvblZlY3Rvci54IC0xLjAsICh2LnkgLyBwcm9qZWN0aW9uVmVjdG9yLnkgKiAtZmxpcFkpICsgZmxpcFkgLCAwLjAsIDEuMCk7XCIsXCIgICB2Q29sb3IgPSB2ZWM0KGNvbG9yICogYWxwaGEgKiB0aW50LCBhbHBoYSk7XCIsXCJ9XCJdLHRoaXMuaW5pdCgpfSxpLkNvbXBsZXhQcmltaXRpdmVTaGFkZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yPWkuQ29tcGxleFByaW1pdGl2ZVNoYWRlcixpLkNvbXBsZXhQcmltaXRpdmVTaGFkZXIucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdsLHQ9aS5jb21waWxlUHJvZ3JhbShlLHRoaXMudmVydGV4U3JjLHRoaXMuZnJhZ21lbnRTcmMpO2UudXNlUHJvZ3JhbSh0KSx0aGlzLnByb2plY3Rpb25WZWN0b3I9ZS5nZXRVbmlmb3JtTG9jYXRpb24odCxcInByb2plY3Rpb25WZWN0b3JcIiksdGhpcy5vZmZzZXRWZWN0b3I9ZS5nZXRVbmlmb3JtTG9jYXRpb24odCxcIm9mZnNldFZlY3RvclwiKSx0aGlzLnRpbnRDb2xvcj1lLmdldFVuaWZvcm1Mb2NhdGlvbih0LFwidGludFwiKSx0aGlzLmNvbG9yPWUuZ2V0VW5pZm9ybUxvY2F0aW9uKHQsXCJjb2xvclwiKSx0aGlzLmZsaXBZPWUuZ2V0VW5pZm9ybUxvY2F0aW9uKHQsXCJmbGlwWVwiKSx0aGlzLmFWZXJ0ZXhQb3NpdGlvbj1lLmdldEF0dHJpYkxvY2F0aW9uKHQsXCJhVmVydGV4UG9zaXRpb25cIiksdGhpcy5hdHRyaWJ1dGVzPVt0aGlzLmFWZXJ0ZXhQb3NpdGlvbix0aGlzLmNvbG9yQXR0cmlidXRlXSx0aGlzLnRyYW5zbGF0aW9uTWF0cml4PWUuZ2V0VW5pZm9ybUxvY2F0aW9uKHQsXCJ0cmFuc2xhdGlvbk1hdHJpeFwiKSx0aGlzLmFscGhhPWUuZ2V0VW5pZm9ybUxvY2F0aW9uKHQsXCJhbHBoYVwiKSx0aGlzLnByb2dyYW09dH0saS5Db21wbGV4UHJpbWl0aXZlU2hhZGVyLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5nbC5kZWxldGVQcm9ncmFtKHRoaXMucHJvZ3JhbSksdGhpcy51bmlmb3Jtcz1udWxsLHRoaXMuZ2w9bnVsbCx0aGlzLmF0dHJpYnV0ZT1udWxsfSxpLmdsQ29udGV4dHM9W10saS5pbnN0YW5jZXM9W10saS5fZW5hYmxlTXVsdGlUZXh0dXJlVG9nZ2xlPSExLGkuV2ViR0xSZW5kZXJlcj1mdW5jdGlvbihlKXt0aGlzLmdhbWU9ZSxpLmRlZmF1bHRSZW5kZXJlcnx8KGkuZGVmYXVsdFJlbmRlcmVyPXRoaXMpLHRoaXMuZXh0ZW5zaW9ucz17fSx0aGlzLnR5cGU9UGhhc2VyLldFQkdMLHRoaXMucmVzb2x1dGlvbj1lLnJlc29sdXRpb24sdGhpcy50cmFuc3BhcmVudD1lLnRyYW5zcGFyZW50LHRoaXMuYXV0b1Jlc2l6ZT0hMSx0aGlzLnByZXNlcnZlRHJhd2luZ0J1ZmZlcj1lLnByZXNlcnZlRHJhd2luZ0J1ZmZlcix0aGlzLmNsZWFyQmVmb3JlUmVuZGVyPWUuY2xlYXJCZWZvcmVSZW5kZXIsdGhpcy53aWR0aD1lLndpZHRoLHRoaXMuaGVpZ2h0PWUuaGVpZ2h0LHRoaXMudmlldz1lLmNhbnZhcyx0aGlzLl9jb250ZXh0T3B0aW9ucz17YWxwaGE6dGhpcy50cmFuc3BhcmVudCxhbnRpYWxpYXM6ZS5hbnRpYWxpYXMscHJlbXVsdGlwbGllZEFscGhhOnRoaXMudHJhbnNwYXJlbnQmJlwibm90TXVsdGlwbGllZFwiIT09dGhpcy50cmFuc3BhcmVudCxzdGVuY2lsOiEwLHByZXNlcnZlRHJhd2luZ0J1ZmZlcjp0aGlzLnByZXNlcnZlRHJhd2luZ0J1ZmZlcn0sdGhpcy5wcm9qZWN0aW9uPW5ldyBpLlBvaW50LHRoaXMub2Zmc2V0PW5ldyBpLlBvaW50LHRoaXMuc2hhZGVyTWFuYWdlcj1uZXcgaS5XZWJHTFNoYWRlck1hbmFnZXIsdGhpcy5zcHJpdGVCYXRjaD1uZXcgaS5XZWJHTFNwcml0ZUJhdGNoKGUpLHRoaXMubWFza01hbmFnZXI9bmV3IGkuV2ViR0xNYXNrTWFuYWdlcix0aGlzLmZpbHRlck1hbmFnZXI9bmV3IGkuV2ViR0xGaWx0ZXJNYW5hZ2VyLHRoaXMuc3RlbmNpbE1hbmFnZXI9bmV3IGkuV2ViR0xTdGVuY2lsTWFuYWdlcix0aGlzLmJsZW5kTW9kZU1hbmFnZXI9bmV3IGkuV2ViR0xCbGVuZE1vZGVNYW5hZ2VyLHRoaXMucmVuZGVyU2Vzc2lvbj17fSx0aGlzLmN1cnJlbnRCYXRjaGVkVGV4dHVyZXM9W10sdGhpcy5yZW5kZXJTZXNzaW9uLmdhbWU9dGhpcy5nYW1lLHRoaXMucmVuZGVyU2Vzc2lvbi5nbD10aGlzLmdsLHRoaXMucmVuZGVyU2Vzc2lvbi5kcmF3Q291bnQ9MCx0aGlzLnJlbmRlclNlc3Npb24uc2hhZGVyTWFuYWdlcj10aGlzLnNoYWRlck1hbmFnZXIsdGhpcy5yZW5kZXJTZXNzaW9uLm1hc2tNYW5hZ2VyPXRoaXMubWFza01hbmFnZXIsdGhpcy5yZW5kZXJTZXNzaW9uLmZpbHRlck1hbmFnZXI9dGhpcy5maWx0ZXJNYW5hZ2VyLHRoaXMucmVuZGVyU2Vzc2lvbi5ibGVuZE1vZGVNYW5hZ2VyPXRoaXMuYmxlbmRNb2RlTWFuYWdlcix0aGlzLnJlbmRlclNlc3Npb24uc3ByaXRlQmF0Y2g9dGhpcy5zcHJpdGVCYXRjaCx0aGlzLnJlbmRlclNlc3Npb24uc3RlbmNpbE1hbmFnZXI9dGhpcy5zdGVuY2lsTWFuYWdlcix0aGlzLnJlbmRlclNlc3Npb24ucmVuZGVyZXI9dGhpcyx0aGlzLnJlbmRlclNlc3Npb24ucmVzb2x1dGlvbj10aGlzLnJlc29sdXRpb24sdGhpcy5yZW5kZXJTZXNzaW9uLnJvdW5kUGl4ZWxzPSExLHRoaXMucmVuZGVyU2Vzc2lvbi5tYXhUZXh0dXJlQXZhaWxhYmxlU3BhY2U9bnVsbCx0aGlzLmluaXRDb250ZXh0KCksdGhpcy5tYXBCbGVuZE1vZGVzKCl9LGkuV2ViR0xSZW5kZXJlci5wcm90b3R5cGUuY29uc3RydWN0b3I9aS5XZWJHTFJlbmRlcmVyLGkuV2ViR0xSZW5kZXJlci5wcm90b3R5cGUuaW5pdENvbnRleHQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnZpZXcuZ2V0Q29udGV4dChcIndlYmdsXCIsdGhpcy5fY29udGV4dE9wdGlvbnMpfHx0aGlzLnZpZXcuZ2V0Q29udGV4dChcImV4cGVyaW1lbnRhbC13ZWJnbFwiLHRoaXMuX2NvbnRleHRPcHRpb25zKTtpZih0aGlzLmdsPWUsIWUpdGhyb3cgbmV3IEVycm9yKFwiVGhpcyBicm93c2VyIGRvZXMgbm90IHN1cHBvcnQgd2ViR0wuIFRyeSB1c2luZyB0aGUgY2FudmFzIHJlbmRlcmVyXCIpO3RoaXMubWF4VGV4dHVyZXM9ZS5nZXRQYXJhbWV0ZXIoZS5NQVhfVEVYVFVSRV9JTUFHRV9VTklUUyksdGhpcy5tYXhUZXh0dXJlU2l6ZT10aGlzLmdsLmdldFBhcmFtZXRlcihlLk1BWF9URVhUVVJFX1NJWkUpLHRoaXMuZ2xDb250ZXh0SWQ9ZS5pZD1pLldlYkdMUmVuZGVyZXIuZ2xDb250ZXh0SWQrKyxpLmdsQ29udGV4dHNbdGhpcy5nbENvbnRleHRJZF09ZSxpLmluc3RhbmNlc1t0aGlzLmdsQ29udGV4dElkXT10aGlzLGUuZGlzYWJsZShlLkRFUFRIX1RFU1QpLGUuZGlzYWJsZShlLkNVTExfRkFDRSksZS5lbmFibGUoZS5CTEVORCksdGhpcy5zaGFkZXJNYW5hZ2VyLnNldENvbnRleHQoZSksdGhpcy5zcHJpdGVCYXRjaC5zZXRDb250ZXh0KGUpLHRoaXMubWFza01hbmFnZXIuc2V0Q29udGV4dChlKSx0aGlzLmZpbHRlck1hbmFnZXIuc2V0Q29udGV4dChlKSx0aGlzLmJsZW5kTW9kZU1hbmFnZXIuc2V0Q29udGV4dChlKSx0aGlzLnN0ZW5jaWxNYW5hZ2VyLnNldENvbnRleHQoZSksdGhpcy5yZW5kZXJTZXNzaW9uLmdsPXRoaXMuZ2wsdGhpcy5yZXNpemUodGhpcy53aWR0aCx0aGlzLmhlaWdodCksdGhpcy5leHRlbnNpb25zLmNvbXByZXNzaW9uPXt9O3ZhciB0PWUuZ2V0RXh0ZW5zaW9uKFwiV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX2V0YzFcIil8fGUuZ2V0RXh0ZW5zaW9uKFwiV0VCS0lUX1dFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9ldGMxXCIpLHI9ZS5nZXRFeHRlbnNpb24oXCJXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfcHZydGNcIil8fGUuZ2V0RXh0ZW5zaW9uKFwiV0VCS0lUX1dFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9wdnJ0Y1wiKSxzPWUuZ2V0RXh0ZW5zaW9uKFwiV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX3MzdGNcIil8fGUuZ2V0RXh0ZW5zaW9uKFwiV0VCS0lUX1dFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9zM3RjXCIpO3QmJih0aGlzLmV4dGVuc2lvbnMuY29tcHJlc3Npb24uRVRDMT10KSxyJiYodGhpcy5leHRlbnNpb25zLmNvbXByZXNzaW9uLlBWUlRDPXIpLHMmJih0aGlzLmV4dGVuc2lvbnMuY29tcHJlc3Npb24uUzNUQz1zKX0saS5XZWJHTFJlbmRlcmVyLnByb3RvdHlwZS5zZXRUZXh0dXJlUHJpb3JpdHk9ZnVuY3Rpb24oZSl7aWYoaS5fZW5hYmxlTXVsdGlUZXh0dXJlVG9nZ2xlKXtmb3IodmFyIHQ9ZnVuY3Rpb24oZSl7cmV0dXJuLS1lLGV8PWU+PjEsZXw9ZT4+MixlfD1lPj40LGV8PWU+PjgsZXw9ZT4+MTYsKytlfSxyPXRoaXMuZ2wscz1yLmdldFBhcmFtZXRlcihyLk1BWF9URVhUVVJFX0lNQUdFX1VOSVRTKSxvPXIuZ2V0UGFyYW1ldGVyKHIuTUFYX1RFWFRVUkVfU0laRSksYT10aGlzLmdhbWUuY2FjaGUuX2NhY2hlLmltYWdlLG49bnVsbCxoPTA7aDx0aGlzLmN1cnJlbnRCYXRjaGVkVGV4dHVyZXMubGVuZ3RoO2grKykobj10aGlzLmN1cnJlbnRCYXRjaGVkVGV4dHVyZXNbaF0paW4gYT9hW25dLmJhc2UudGV4dHVyZUluZGV4PTA6Y29uc29sZS53YXJuKCdzZXRUZXh0dXJlUHJpb3JpdHk6IFRoZXJlIGlzIG5vIGltYWdlIFwiJXNcIiBpbiB0aGUgaW1hZ2UgY2FjaGUuJyxuKTt2YXIgbD1vLXQoTWF0aC5tYXgodGhpcy53aWR0aCx0aGlzLmhlaWdodCkpO3RoaXMuY3VycmVudEJhdGNoZWRUZXh0dXJlcy5sZW5ndGg9MDtmb3IodmFyIHU9MDt1PGUubGVuZ3RoOysrdSlpZigobj1lW3VdKWluIGEpe3ZhciBkPWFbbl0uYmFzZTsobC09dChNYXRoLm1heChkLndpZHRoLGQuaGVpZ2h0KSkpPD0wPyhkLnRleHR1cmVJbmRleD0wLGNvbnNvbGUud2Fybignc2V0VGV4dHVyZVByaW9yaXR5OiBJbWFnZSBcIiVzXCIgd2FzIGdpdmVuIHRleHR1cmVJbmRleD0wIGJlY2F1c2UgdGhlcmUgaXMgbm8gYXZhaWxhYmxlIHRleHR1cmUgc3BhY2UgKCVzKS4nLG4sbCkpOmQudGV4dHVyZUluZGV4PTErdSUocy0xKSx0aGlzLmN1cnJlbnRCYXRjaGVkVGV4dHVyZXMucHVzaChuKX1lbHNlIGNvbnNvbGUud2Fybignc2V0VGV4dHVyZVByaW9yaXR5OiBUaGVyZSBpcyBubyBpbWFnZSBcIiVzXCIgaW4gdGhlIGltYWdlIGNhY2hlLicsbik7cmV0dXJuIHRoaXMucmVuZGVyU2Vzc2lvbi5tYXhUZXh0dXJlQXZhaWxhYmxlU3BhY2U9bCx0aGlzLmN1cnJlbnRCYXRjaGVkVGV4dHVyZXN9Y29uc29sZS53YXJuKFwic2V0VGV4dHVyZVByaW9yaXR5IGVycm9yOiBNdWx0aSBUZXh0dXJlIHN1cHBvcnQgaGFzbid0IGJlZW4gZW5hYmxlZCBpbiB0aGUgUGhhc2VyIEdhbWUgQ29uZmlnLlwiKX0saS5XZWJHTFJlbmRlcmVyLnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24oZSl7aWYoIXRoaXMuY29udGV4dExvc3Qpe3ZhciB0PXRoaXMuZ2w7dC52aWV3cG9ydCgwLDAsdGhpcy53aWR0aCx0aGlzLmhlaWdodCksdC5iaW5kRnJhbWVidWZmZXIodC5GUkFNRUJVRkZFUixudWxsKSx0aGlzLmdhbWUuY2xlYXJCZWZvcmVSZW5kZXImJih0LmNsZWFyQ29sb3IoZS5fYmdDb2xvci5yLGUuX2JnQ29sb3IuZyxlLl9iZ0NvbG9yLmIsZS5fYmdDb2xvci5hKSx0LmNsZWFyKHQuQ09MT1JfQlVGRkVSX0JJVCkpLHRoaXMub2Zmc2V0Lng9dGhpcy5nYW1lLmNhbWVyYS5fc2hha2UueCx0aGlzLm9mZnNldC55PXRoaXMuZ2FtZS5jYW1lcmEuX3NoYWtlLnksdGhpcy5yZW5kZXJEaXNwbGF5T2JqZWN0KGUsdGhpcy5wcm9qZWN0aW9uKX19LGkuV2ViR0xSZW5kZXJlci5wcm90b3R5cGUucmVuZGVyRGlzcGxheU9iamVjdD1mdW5jdGlvbihlLHQscixzKXt0aGlzLnJlbmRlclNlc3Npb24uYmxlbmRNb2RlTWFuYWdlci5zZXRCbGVuZE1vZGUoaS5ibGVuZE1vZGVzLk5PUk1BTCksdGhpcy5yZW5kZXJTZXNzaW9uLmRyYXdDb3VudD0wLHRoaXMucmVuZGVyU2Vzc2lvbi5mbGlwWT1yPy0xOjEsdGhpcy5yZW5kZXJTZXNzaW9uLnByb2plY3Rpb249dCx0aGlzLnJlbmRlclNlc3Npb24ub2Zmc2V0PXRoaXMub2Zmc2V0LHRoaXMuc3ByaXRlQmF0Y2guYmVnaW4odGhpcy5yZW5kZXJTZXNzaW9uKSx0aGlzLmZpbHRlck1hbmFnZXIuYmVnaW4odGhpcy5yZW5kZXJTZXNzaW9uLHIpLGUuX3JlbmRlcldlYkdMKHRoaXMucmVuZGVyU2Vzc2lvbixzKSx0aGlzLnNwcml0ZUJhdGNoLmVuZCgpfSxpLldlYkdMUmVuZGVyZXIucHJvdG90eXBlLnJlc2l6ZT1mdW5jdGlvbihlLHQpe3RoaXMud2lkdGg9ZSp0aGlzLnJlc29sdXRpb24sdGhpcy5oZWlnaHQ9dCp0aGlzLnJlc29sdXRpb24sdGhpcy52aWV3LndpZHRoPXRoaXMud2lkdGgsdGhpcy52aWV3LmhlaWdodD10aGlzLmhlaWdodCx0aGlzLmF1dG9SZXNpemUmJih0aGlzLnZpZXcuc3R5bGUud2lkdGg9dGhpcy53aWR0aC90aGlzLnJlc29sdXRpb24rXCJweFwiLHRoaXMudmlldy5zdHlsZS5oZWlnaHQ9dGhpcy5oZWlnaHQvdGhpcy5yZXNvbHV0aW9uK1wicHhcIiksdGhpcy5nbC52aWV3cG9ydCgwLDAsdGhpcy53aWR0aCx0aGlzLmhlaWdodCksdGhpcy5wcm9qZWN0aW9uLng9dGhpcy53aWR0aC8yL3RoaXMucmVzb2x1dGlvbix0aGlzLnByb2plY3Rpb24ueT0tdGhpcy5oZWlnaHQvMi90aGlzLnJlc29sdXRpb259LGkuV2ViR0xSZW5kZXJlci5wcm90b3R5cGUudXBkYXRlQ29tcHJlc3NlZFRleHR1cmU9ZnVuY3Rpb24oZSl7aWYoIWUuaGFzTG9hZGVkKXJldHVybiExO3ZhciB0PXRoaXMuZ2wscj1lLnNvdXJjZTtyZXR1cm4gZS5fZ2xUZXh0dXJlc1t0LmlkXXx8KGUuX2dsVGV4dHVyZXNbdC5pZF09dC5jcmVhdGVUZXh0dXJlKCkpLHQuYWN0aXZlVGV4dHVyZSh0LlRFWFRVUkUwK2UudGV4dHVyZUluZGV4KSx0LmJpbmRUZXh0dXJlKHQuVEVYVFVSRV8yRCxlLl9nbFRleHR1cmVzW3QuaWRdKSx0LmNvbXByZXNzZWRUZXhJbWFnZTJEKHQuVEVYVFVSRV8yRCwwLHIuZ2xFeHRlbnNpb25Gb3JtYXQsci53aWR0aCxyLmhlaWdodCwwLHIudGV4dHVyZURhdGEpLHQudGV4UGFyYW1ldGVyaSh0LlRFWFRVUkVfMkQsdC5URVhUVVJFX01BR19GSUxURVIsZS5zY2FsZU1vZGU9PT1pLnNjYWxlTW9kZXMuTElORUFSP3QuTElORUFSOnQuTkVBUkVTVCksZS5taXBtYXAmJlBoYXNlci5NYXRoLmlzUG93ZXJPZlR3byhlLndpZHRoLGUuaGVpZ2h0KT8odC50ZXhQYXJhbWV0ZXJpKHQuVEVYVFVSRV8yRCx0LlRFWFRVUkVfTUlOX0ZJTFRFUixlLnNjYWxlTW9kZT09PWkuc2NhbGVNb2Rlcy5MSU5FQVI/dC5MSU5FQVJfTUlQTUFQX0xJTkVBUjp0Lk5FQVJFU1RfTUlQTUFQX05FQVJFU1QpLHQuZ2VuZXJhdGVNaXBtYXAodC5URVhUVVJFXzJEKSk6dC50ZXhQYXJhbWV0ZXJpKHQuVEVYVFVSRV8yRCx0LlRFWFRVUkVfTUlOX0ZJTFRFUixlLnNjYWxlTW9kZT09PWkuc2NhbGVNb2Rlcy5MSU5FQVI/dC5MSU5FQVI6dC5ORUFSRVNUKSxlLl9wb3dlck9mMj8odC50ZXhQYXJhbWV0ZXJpKHQuVEVYVFVSRV8yRCx0LlRFWFRVUkVfV1JBUF9TLHQuUkVQRUFUKSx0LnRleFBhcmFtZXRlcmkodC5URVhUVVJFXzJELHQuVEVYVFVSRV9XUkFQX1QsdC5SRVBFQVQpKToodC50ZXhQYXJhbWV0ZXJpKHQuVEVYVFVSRV8yRCx0LlRFWFRVUkVfV1JBUF9TLHQuQ0xBTVBfVE9fRURHRSksdC50ZXhQYXJhbWV0ZXJpKHQuVEVYVFVSRV8yRCx0LlRFWFRVUkVfV1JBUF9ULHQuQ0xBTVBfVE9fRURHRSkpLGUuX2RpcnR5W3QuaWRdPSExLCEwfSxpLldlYkdMUmVuZGVyZXIucHJvdG90eXBlLnVwZGF0ZVRleHR1cmU9ZnVuY3Rpb24oZSl7aWYoIWUuaGFzTG9hZGVkKXJldHVybiExO2lmKGUuc291cmNlLmNvbXByZXNzaW9uQWxnb3JpdGhtKXJldHVybiB0aGlzLnVwZGF0ZUNvbXByZXNzZWRUZXh0dXJlKGUpO3ZhciB0PXRoaXMuZ2w7cmV0dXJuIGUuX2dsVGV4dHVyZXNbdC5pZF18fChlLl9nbFRleHR1cmVzW3QuaWRdPXQuY3JlYXRlVGV4dHVyZSgpKSx0LmFjdGl2ZVRleHR1cmUodC5URVhUVVJFMCtlLnRleHR1cmVJbmRleCksdC5iaW5kVGV4dHVyZSh0LlRFWFRVUkVfMkQsZS5fZ2xUZXh0dXJlc1t0LmlkXSksdC5waXhlbFN0b3JlaSh0LlVOUEFDS19QUkVNVUxUSVBMWV9BTFBIQV9XRUJHTCxlLnByZW11bHRpcGxpZWRBbHBoYSksdC50ZXhJbWFnZTJEKHQuVEVYVFVSRV8yRCwwLHQuUkdCQSx0LlJHQkEsdC5VTlNJR05FRF9CWVRFLGUuc291cmNlKSx0LnRleFBhcmFtZXRlcmkodC5URVhUVVJFXzJELHQuVEVYVFVSRV9NQUdfRklMVEVSLGUuc2NhbGVNb2RlPT09aS5zY2FsZU1vZGVzLkxJTkVBUj90LkxJTkVBUjp0Lk5FQVJFU1QpLGUubWlwbWFwJiZQaGFzZXIuTWF0aC5pc1Bvd2VyT2ZUd28oZS53aWR0aCxlLmhlaWdodCk/KHQudGV4UGFyYW1ldGVyaSh0LlRFWFRVUkVfMkQsdC5URVhUVVJFX01JTl9GSUxURVIsZS5zY2FsZU1vZGU9PT1pLnNjYWxlTW9kZXMuTElORUFSP3QuTElORUFSX01JUE1BUF9MSU5FQVI6dC5ORUFSRVNUX01JUE1BUF9ORUFSRVNUKSx0LmdlbmVyYXRlTWlwbWFwKHQuVEVYVFVSRV8yRCkpOnQudGV4UGFyYW1ldGVyaSh0LlRFWFRVUkVfMkQsdC5URVhUVVJFX01JTl9GSUxURVIsZS5zY2FsZU1vZGU9PT1pLnNjYWxlTW9kZXMuTElORUFSP3QuTElORUFSOnQuTkVBUkVTVCksZS5fcG93ZXJPZjI/KHQudGV4UGFyYW1ldGVyaSh0LlRFWFRVUkVfMkQsdC5URVhUVVJFX1dSQVBfUyx0LlJFUEVBVCksdC50ZXhQYXJhbWV0ZXJpKHQuVEVYVFVSRV8yRCx0LlRFWFRVUkVfV1JBUF9ULHQuUkVQRUFUKSk6KHQudGV4UGFyYW1ldGVyaSh0LlRFWFRVUkVfMkQsdC5URVhUVVJFX1dSQVBfUyx0LkNMQU1QX1RPX0VER0UpLHQudGV4UGFyYW1ldGVyaSh0LlRFWFRVUkVfMkQsdC5URVhUVVJFX1dSQVBfVCx0LkNMQU1QX1RPX0VER0UpKSxlLl9kaXJ0eVt0LmlkXT0hMSwhMH0saS5XZWJHTFJlbmRlcmVyLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7aS5nbENvbnRleHRzW3RoaXMuZ2xDb250ZXh0SWRdPW51bGwsdGhpcy5wcm9qZWN0aW9uPW51bGwsdGhpcy5vZmZzZXQ9bnVsbCx0aGlzLnNoYWRlck1hbmFnZXIuZGVzdHJveSgpLHRoaXMuc3ByaXRlQmF0Y2guZGVzdHJveSgpLHRoaXMubWFza01hbmFnZXIuZGVzdHJveSgpLHRoaXMuZmlsdGVyTWFuYWdlci5kZXN0cm95KCksdGhpcy5zaGFkZXJNYW5hZ2VyPW51bGwsdGhpcy5zcHJpdGVCYXRjaD1udWxsLHRoaXMubWFza01hbmFnZXI9bnVsbCx0aGlzLmZpbHRlck1hbmFnZXI9bnVsbCx0aGlzLmdsPW51bGwsdGhpcy5yZW5kZXJTZXNzaW9uPW51bGwsUGhhc2VyLkNhbnZhc1Bvb2wucmVtb3ZlKHRoaXMpLGkuaW5zdGFuY2VzW3RoaXMuZ2xDb250ZXh0SWRdPW51bGwsaS5XZWJHTFJlbmRlcmVyLmdsQ29udGV4dElkLS19LGkuV2ViR0xSZW5kZXJlci5wcm90b3R5cGUubWFwQmxlbmRNb2Rlcz1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2w7aWYoIWkuYmxlbmRNb2Rlc1dlYkdMKXt2YXIgdD1bXSxyPWkuYmxlbmRNb2Rlczt0W3IuTk9STUFMXT1bZS5PTkUsZS5PTkVfTUlOVVNfU1JDX0FMUEhBXSx0W3IuQUREXT1bZS5TUkNfQUxQSEEsZS5EU1RfQUxQSEFdLHRbci5NVUxUSVBMWV09W2UuRFNUX0NPTE9SLGUuT05FX01JTlVTX1NSQ19BTFBIQV0sdFtyLlNDUkVFTl09W2UuU1JDX0FMUEhBLGUuT05FXSx0W3IuT1ZFUkxBWV09W2UuT05FLGUuT05FX01JTlVTX1NSQ19BTFBIQV0sdFtyLkRBUktFTl09W2UuT05FLGUuT05FX01JTlVTX1NSQ19BTFBIQV0sdFtyLkxJR0hURU5dPVtlLk9ORSxlLk9ORV9NSU5VU19TUkNfQUxQSEFdLHRbci5DT0xPUl9ET0RHRV09W2UuT05FLGUuT05FX01JTlVTX1NSQ19BTFBIQV0sdFtyLkNPTE9SX0JVUk5dPVtlLk9ORSxlLk9ORV9NSU5VU19TUkNfQUxQSEFdLHRbci5IQVJEX0xJR0hUXT1bZS5PTkUsZS5PTkVfTUlOVVNfU1JDX0FMUEhBXSx0W3IuU09GVF9MSUdIVF09W2UuT05FLGUuT05FX01JTlVTX1NSQ19BTFBIQV0sdFtyLkRJRkZFUkVOQ0VdPVtlLk9ORSxlLk9ORV9NSU5VU19TUkNfQUxQSEFdLHRbci5FWENMVVNJT05dPVtlLk9ORSxlLk9ORV9NSU5VU19TUkNfQUxQSEFdLHRbci5IVUVdPVtlLk9ORSxlLk9ORV9NSU5VU19TUkNfQUxQSEFdLHRbci5TQVRVUkFUSU9OXT1bZS5PTkUsZS5PTkVfTUlOVVNfU1JDX0FMUEhBXSx0W3IuQ09MT1JdPVtlLk9ORSxlLk9ORV9NSU5VU19TUkNfQUxQSEFdLHRbci5MVU1JTk9TSVRZXT1bZS5PTkUsZS5PTkVfTUlOVVNfU1JDX0FMUEhBXSxpLmJsZW5kTW9kZXNXZWJHTD10fX0saS5XZWJHTFJlbmRlcmVyLnByb3RvdHlwZS5nZXRNYXhUZXh0dXJlVW5pdD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2w7cmV0dXJuIGUuZ2V0UGFyYW1ldGVyKGUuTUFYX1RFWFRVUkVfSU1BR0VfVU5JVFMpfSxpLmVuYWJsZU11bHRpVGV4dHVyZT1mdW5jdGlvbigpe2kuX2VuYWJsZU11bHRpVGV4dHVyZVRvZ2dsZT0hMH0saS5XZWJHTFJlbmRlcmVyLmdsQ29udGV4dElkPTAsaS5XZWJHTFJlbmRlcmVyLnRleHR1cmVBcnJheT1bXSxpLldlYkdMQmxlbmRNb2RlTWFuYWdlcj1mdW5jdGlvbigpe3RoaXMuY3VycmVudEJsZW5kTW9kZT05OTk5OX0saS5XZWJHTEJsZW5kTW9kZU1hbmFnZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yPWkuV2ViR0xCbGVuZE1vZGVNYW5hZ2VyLGkuV2ViR0xCbGVuZE1vZGVNYW5hZ2VyLnByb3RvdHlwZS5zZXRDb250ZXh0PWZ1bmN0aW9uKGUpe3RoaXMuZ2w9ZX0saS5XZWJHTEJsZW5kTW9kZU1hbmFnZXIucHJvdG90eXBlLnNldEJsZW5kTW9kZT1mdW5jdGlvbihlKXtpZih0aGlzLmN1cnJlbnRCbGVuZE1vZGU9PT1lKXJldHVybiExO3RoaXMuY3VycmVudEJsZW5kTW9kZT1lO3ZhciB0PWkuYmxlbmRNb2Rlc1dlYkdMW3RoaXMuY3VycmVudEJsZW5kTW9kZV07cmV0dXJuIHQmJnRoaXMuZ2wuYmxlbmRGdW5jKHRbMF0sdFsxXSksITB9LGkuV2ViR0xCbGVuZE1vZGVNYW5hZ2VyLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5nbD1udWxsfSxpLldlYkdMTWFza01hbmFnZXI9ZnVuY3Rpb24oKXt9LGkuV2ViR0xNYXNrTWFuYWdlci5wcm90b3R5cGUuY29uc3RydWN0b3I9aS5XZWJHTE1hc2tNYW5hZ2VyLGkuV2ViR0xNYXNrTWFuYWdlci5wcm90b3R5cGUuc2V0Q29udGV4dD1mdW5jdGlvbihlKXt0aGlzLmdsPWV9LGkuV2ViR0xNYXNrTWFuYWdlci5wcm90b3R5cGUucHVzaE1hc2s9ZnVuY3Rpb24oZSx0KXt2YXIgcj10LmdsO2UuZGlydHkmJmkuV2ViR0xHcmFwaGljcy51cGRhdGVHcmFwaGljcyhlLHIpLHZvaWQgMCE9PWUuX3dlYkdMW3IuaWRdJiZ2b2lkIDAhPT1lLl93ZWJHTFtyLmlkXS5kYXRhJiYwIT09ZS5fd2ViR0xbci5pZF0uZGF0YS5sZW5ndGgmJnQuc3RlbmNpbE1hbmFnZXIucHVzaFN0ZW5jaWwoZSxlLl93ZWJHTFtyLmlkXS5kYXRhWzBdLHQpfSxpLldlYkdMTWFza01hbmFnZXIucHJvdG90eXBlLnBvcE1hc2s9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLmdsO3ZvaWQgMCE9PWUuX3dlYkdMW3IuaWRdJiZ2b2lkIDAhPT1lLl93ZWJHTFtyLmlkXS5kYXRhJiYwIT09ZS5fd2ViR0xbci5pZF0uZGF0YS5sZW5ndGgmJnQuc3RlbmNpbE1hbmFnZXIucG9wU3RlbmNpbChlLGUuX3dlYkdMW3IuaWRdLmRhdGFbMF0sdCl9LGkuV2ViR0xNYXNrTWFuYWdlci5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuZ2w9bnVsbH0saS5XZWJHTFN0ZW5jaWxNYW5hZ2VyPWZ1bmN0aW9uKCl7dGhpcy5zdGVuY2lsU3RhY2s9W10sdGhpcy5yZXZlcnNlPSEwLHRoaXMuY291bnQ9MH0saS5XZWJHTFN0ZW5jaWxNYW5hZ2VyLnByb3RvdHlwZS5zZXRDb250ZXh0PWZ1bmN0aW9uKGUpe3RoaXMuZ2w9ZX0saS5XZWJHTFN0ZW5jaWxNYW5hZ2VyLnByb3RvdHlwZS5wdXNoU3RlbmNpbD1mdW5jdGlvbihlLHQscil7dmFyIGk9dGhpcy5nbDt0aGlzLmJpbmRHcmFwaGljcyhlLHQsciksMD09PXRoaXMuc3RlbmNpbFN0YWNrLmxlbmd0aCYmKGkuZW5hYmxlKGkuU1RFTkNJTF9URVNUKSxpLmNsZWFyKGkuU1RFTkNJTF9CVUZGRVJfQklUKSx0aGlzLnJldmVyc2U9ITAsdGhpcy5jb3VudD0wKSx0aGlzLnN0ZW5jaWxTdGFjay5wdXNoKHQpO3ZhciBzPXRoaXMuY291bnQ7aS5jb2xvck1hc2soITEsITEsITEsITEpLGkuc3RlbmNpbEZ1bmMoaS5BTFdBWVMsMCwyNTUpLGkuc3RlbmNpbE9wKGkuS0VFUCxpLktFRVAsaS5JTlZFUlQpLDE9PT10Lm1vZGU/KGkuZHJhd0VsZW1lbnRzKGkuVFJJQU5HTEVfRkFOLHQuaW5kaWNlcy5sZW5ndGgtNCxpLlVOU0lHTkVEX1NIT1JULDApLHRoaXMucmV2ZXJzZT8oaS5zdGVuY2lsRnVuYyhpLkVRVUFMLDI1NS1zLDI1NSksaS5zdGVuY2lsT3AoaS5LRUVQLGkuS0VFUCxpLkRFQ1IpKTooaS5zdGVuY2lsRnVuYyhpLkVRVUFMLHMsMjU1KSxpLnN0ZW5jaWxPcChpLktFRVAsaS5LRUVQLGkuSU5DUikpLGkuZHJhd0VsZW1lbnRzKGkuVFJJQU5HTEVfRkFOLDQsaS5VTlNJR05FRF9TSE9SVCwyKih0LmluZGljZXMubGVuZ3RoLTQpKSx0aGlzLnJldmVyc2U/aS5zdGVuY2lsRnVuYyhpLkVRVUFMLDI1NS0ocysxKSwyNTUpOmkuc3RlbmNpbEZ1bmMoaS5FUVVBTCxzKzEsMjU1KSx0aGlzLnJldmVyc2U9IXRoaXMucmV2ZXJzZSk6KHRoaXMucmV2ZXJzZT8oaS5zdGVuY2lsRnVuYyhpLkVRVUFMLHMsMjU1KSxpLnN0ZW5jaWxPcChpLktFRVAsaS5LRUVQLGkuSU5DUikpOihpLnN0ZW5jaWxGdW5jKGkuRVFVQUwsMjU1LXMsMjU1KSxpLnN0ZW5jaWxPcChpLktFRVAsaS5LRUVQLGkuREVDUikpLGkuZHJhd0VsZW1lbnRzKGkuVFJJQU5HTEVfU1RSSVAsdC5pbmRpY2VzLmxlbmd0aCxpLlVOU0lHTkVEX1NIT1JULDApLHRoaXMucmV2ZXJzZT9pLnN0ZW5jaWxGdW5jKGkuRVFVQUwscysxLDI1NSk6aS5zdGVuY2lsRnVuYyhpLkVRVUFMLDI1NS0ocysxKSwyNTUpKSxpLmNvbG9yTWFzayghMCwhMCwhMCwhMCksaS5zdGVuY2lsT3AoaS5LRUVQLGkuS0VFUCxpLktFRVApLHRoaXMuY291bnQrK30saS5XZWJHTFN0ZW5jaWxNYW5hZ2VyLnByb3RvdHlwZS5iaW5kR3JhcGhpY3M9ZnVuY3Rpb24oZSx0LHIpe3RoaXMuX2N1cnJlbnRHcmFwaGljcz1lO3ZhciBpLHM9dGhpcy5nbCxvPXIucHJvamVjdGlvbixhPXIub2Zmc2V0OzE9PT10Lm1vZGU/KGk9ci5zaGFkZXJNYW5hZ2VyLmNvbXBsZXhQcmltaXRpdmVTaGFkZXIsci5zaGFkZXJNYW5hZ2VyLnNldFNoYWRlcihpKSxzLnVuaWZvcm0xZihpLmZsaXBZLHIuZmxpcFkpLHMudW5pZm9ybU1hdHJpeDNmdihpLnRyYW5zbGF0aW9uTWF0cml4LCExLGUud29ybGRUcmFuc2Zvcm0udG9BcnJheSghMCkpLHMudW5pZm9ybTJmKGkucHJvamVjdGlvblZlY3RvcixvLngsLW8ueSkscy51bmlmb3JtMmYoaS5vZmZzZXRWZWN0b3IsLWEueCwtYS55KSxzLnVuaWZvcm0zZnYoaS50aW50Q29sb3IsUGhhc2VyLkNvbG9yLmhleFRvUkdCQXJyYXkoZS50aW50KSkscy51bmlmb3JtM2Z2KGkuY29sb3IsdC5jb2xvcikscy51bmlmb3JtMWYoaS5hbHBoYSxlLndvcmxkQWxwaGEqdC5hbHBoYSkscy5iaW5kQnVmZmVyKHMuQVJSQVlfQlVGRkVSLHQuYnVmZmVyKSxzLnZlcnRleEF0dHJpYlBvaW50ZXIoaS5hVmVydGV4UG9zaXRpb24sMixzLkZMT0FULCExLDgsMCkscy5iaW5kQnVmZmVyKHMuRUxFTUVOVF9BUlJBWV9CVUZGRVIsdC5pbmRleEJ1ZmZlcikpOihpPXIuc2hhZGVyTWFuYWdlci5wcmltaXRpdmVTaGFkZXIsci5zaGFkZXJNYW5hZ2VyLnNldFNoYWRlcihpKSxzLnVuaWZvcm1NYXRyaXgzZnYoaS50cmFuc2xhdGlvbk1hdHJpeCwhMSxlLndvcmxkVHJhbnNmb3JtLnRvQXJyYXkoITApKSxzLnVuaWZvcm0xZihpLmZsaXBZLHIuZmxpcFkpLHMudW5pZm9ybTJmKGkucHJvamVjdGlvblZlY3RvcixvLngsLW8ueSkscy51bmlmb3JtMmYoaS5vZmZzZXRWZWN0b3IsLWEueCwtYS55KSxzLnVuaWZvcm0zZnYoaS50aW50Q29sb3IsUGhhc2VyLkNvbG9yLmhleFRvUkdCQXJyYXkoZS50aW50KSkscy51bmlmb3JtMWYoaS5hbHBoYSxlLndvcmxkQWxwaGEpLHMuYmluZEJ1ZmZlcihzLkFSUkFZX0JVRkZFUix0LmJ1ZmZlcikscy52ZXJ0ZXhBdHRyaWJQb2ludGVyKGkuYVZlcnRleFBvc2l0aW9uLDIscy5GTE9BVCwhMSwyNCwwKSxzLnZlcnRleEF0dHJpYlBvaW50ZXIoaS5jb2xvckF0dHJpYnV0ZSw0LHMuRkxPQVQsITEsMjQsOCkscy5iaW5kQnVmZmVyKHMuRUxFTUVOVF9BUlJBWV9CVUZGRVIsdC5pbmRleEJ1ZmZlcikpfSxpLldlYkdMU3RlbmNpbE1hbmFnZXIucHJvdG90eXBlLnBvcFN0ZW5jaWw9ZnVuY3Rpb24oZSx0LHIpe3ZhciBpPXRoaXMuZ2w7aWYodGhpcy5zdGVuY2lsU3RhY2sucG9wKCksdGhpcy5jb3VudC0tLDA9PT10aGlzLnN0ZW5jaWxTdGFjay5sZW5ndGgpaS5kaXNhYmxlKGkuU1RFTkNJTF9URVNUKTtlbHNle3ZhciBzPXRoaXMuY291bnQ7dGhpcy5iaW5kR3JhcGhpY3MoZSx0LHIpLGkuY29sb3JNYXNrKCExLCExLCExLCExKSwxPT09dC5tb2RlPyh0aGlzLnJldmVyc2U9IXRoaXMucmV2ZXJzZSx0aGlzLnJldmVyc2U/KGkuc3RlbmNpbEZ1bmMoaS5FUVVBTCwyNTUtKHMrMSksMjU1KSxpLnN0ZW5jaWxPcChpLktFRVAsaS5LRUVQLGkuSU5DUikpOihpLnN0ZW5jaWxGdW5jKGkuRVFVQUwscysxLDI1NSksaS5zdGVuY2lsT3AoaS5LRUVQLGkuS0VFUCxpLkRFQ1IpKSxpLmRyYXdFbGVtZW50cyhpLlRSSUFOR0xFX0ZBTiw0LGkuVU5TSUdORURfU0hPUlQsMioodC5pbmRpY2VzLmxlbmd0aC00KSksaS5zdGVuY2lsRnVuYyhpLkFMV0FZUywwLDI1NSksaS5zdGVuY2lsT3AoaS5LRUVQLGkuS0VFUCxpLklOVkVSVCksaS5kcmF3RWxlbWVudHMoaS5UUklBTkdMRV9GQU4sdC5pbmRpY2VzLmxlbmd0aC00LGkuVU5TSUdORURfU0hPUlQsMCksdGhpcy5yZXZlcnNlP2kuc3RlbmNpbEZ1bmMoaS5FUVVBTCxzLDI1NSk6aS5zdGVuY2lsRnVuYyhpLkVRVUFMLDI1NS1zLDI1NSkpOih0aGlzLnJldmVyc2U/KGkuc3RlbmNpbEZ1bmMoaS5FUVVBTCxzKzEsMjU1KSxpLnN0ZW5jaWxPcChpLktFRVAsaS5LRUVQLGkuREVDUikpOihpLnN0ZW5jaWxGdW5jKGkuRVFVQUwsMjU1LShzKzEpLDI1NSksaS5zdGVuY2lsT3AoaS5LRUVQLGkuS0VFUCxpLklOQ1IpKSxpLmRyYXdFbGVtZW50cyhpLlRSSUFOR0xFX1NUUklQLHQuaW5kaWNlcy5sZW5ndGgsaS5VTlNJR05FRF9TSE9SVCwwKSx0aGlzLnJldmVyc2U/aS5zdGVuY2lsRnVuYyhpLkVRVUFMLHMsMjU1KTppLnN0ZW5jaWxGdW5jKGkuRVFVQUwsMjU1LXMsMjU1KSksaS5jb2xvck1hc2soITAsITAsITAsITApLGkuc3RlbmNpbE9wKGkuS0VFUCxpLktFRVAsaS5LRUVQKX19LGkuV2ViR0xTdGVuY2lsTWFuYWdlci5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuc3RlbmNpbFN0YWNrPW51bGwsdGhpcy5nbD1udWxsfSxpLldlYkdMU2hhZGVyTWFuYWdlcj1mdW5jdGlvbigpe3RoaXMubWF4QXR0aWJzPTEwLHRoaXMuYXR0cmliU3RhdGU9W10sdGhpcy50ZW1wQXR0cmliU3RhdGU9W107Zm9yKHZhciBlPTA7ZTx0aGlzLm1heEF0dGlicztlKyspdGhpcy5hdHRyaWJTdGF0ZVtlXT0hMTt0aGlzLnN0YWNrPVtdfSxpLldlYkdMU2hhZGVyTWFuYWdlci5wcm90b3R5cGUuY29uc3RydWN0b3I9aS5XZWJHTFNoYWRlck1hbmFnZXIsaS5XZWJHTFNoYWRlck1hbmFnZXIucHJvdG90eXBlLnNldENvbnRleHQ9ZnVuY3Rpb24oZSl7dGhpcy5nbD1lLHRoaXMucHJpbWl0aXZlU2hhZGVyPW5ldyBpLlByaW1pdGl2ZVNoYWRlcihlKSx0aGlzLmNvbXBsZXhQcmltaXRpdmVTaGFkZXI9bmV3IGkuQ29tcGxleFByaW1pdGl2ZVNoYWRlcihlKSx0aGlzLmRlZmF1bHRTaGFkZXI9bmV3IGkuUGl4aVNoYWRlcihlKSx0aGlzLmZhc3RTaGFkZXI9bmV3IGkuUGl4aUZhc3RTaGFkZXIoZSksdGhpcy5zdHJpcFNoYWRlcj1uZXcgaS5TdHJpcFNoYWRlcihlKSx0aGlzLmNyZWF0dXJlU2hhZGVyPWkuQ3JlYXR1cmVTaGFkZXI/bmV3IGkuQ3JlYXR1cmVTaGFkZXIoZSk6bnVsbCx0aGlzLnNldFNoYWRlcih0aGlzLmRlZmF1bHRTaGFkZXIpfSxpLldlYkdMU2hhZGVyTWFuYWdlci5wcm90b3R5cGUuc2V0QXR0cmlicz1mdW5jdGlvbihlKXt2YXIgdDtmb3IodD0wO3Q8dGhpcy50ZW1wQXR0cmliU3RhdGUubGVuZ3RoO3QrKyl0aGlzLnRlbXBBdHRyaWJTdGF0ZVt0XT0hMTtmb3IodD0wO3Q8ZS5sZW5ndGg7dCsrKXt2YXIgcj1lW3RdO3RoaXMudGVtcEF0dHJpYlN0YXRlW3JdPSEwfXZhciBpPXRoaXMuZ2w7Zm9yKHQ9MDt0PHRoaXMuYXR0cmliU3RhdGUubGVuZ3RoO3QrKyl0aGlzLmF0dHJpYlN0YXRlW3RdIT09dGhpcy50ZW1wQXR0cmliU3RhdGVbdF0mJih0aGlzLmF0dHJpYlN0YXRlW3RdPXRoaXMudGVtcEF0dHJpYlN0YXRlW3RdLHRoaXMudGVtcEF0dHJpYlN0YXRlW3RdP2kuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkodCk6aS5kaXNhYmxlVmVydGV4QXR0cmliQXJyYXkodCkpfSxpLldlYkdMU2hhZGVyTWFuYWdlci5wcm90b3R5cGUuc2V0U2hhZGVyPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9jdXJyZW50SWQhPT1lLl9VSUQmJih0aGlzLl9jdXJyZW50SWQ9ZS5fVUlELHRoaXMuY3VycmVudFNoYWRlcj1lLHRoaXMuZ2wudXNlUHJvZ3JhbShlLnByb2dyYW0pLHRoaXMuc2V0QXR0cmlicyhlLmF0dHJpYnV0ZXMpLCEwKX0saS5XZWJHTFNoYWRlck1hbmFnZXIucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmF0dHJpYlN0YXRlPW51bGwsdGhpcy50ZW1wQXR0cmliU3RhdGU9bnVsbCx0aGlzLnByaW1pdGl2ZVNoYWRlci5kZXN0cm95KCksdGhpcy5jb21wbGV4UHJpbWl0aXZlU2hhZGVyLmRlc3Ryb3koKSx0aGlzLmRlZmF1bHRTaGFkZXIuZGVzdHJveSgpLHRoaXMuZmFzdFNoYWRlci5kZXN0cm95KCksdGhpcy5zdHJpcFNoYWRlci5kZXN0cm95KCksdGhpcy5jcmVhdHVyZVNoYWRlciYmdGhpcy5jcmVhdHVyZVNoYWRlci5kZXN0cm95KCksdGhpcy5nbD1udWxsfSxpLldlYkdMU3ByaXRlQmF0Y2g9ZnVuY3Rpb24oZSl7dGhpcy5nYW1lPWUsdGhpcy52ZXJ0U2l6ZT01LHRoaXMuc2l6ZT0yZTMsdGhpcy52ZXJ0ZXhTaXplPTI0O3ZhciB0PXRoaXMudmVydGV4U2l6ZSp0aGlzLnNpemUqNCxyPTYqdGhpcy5zaXplO3RoaXMudmVydGljZXM9bmV3IEFycmF5QnVmZmVyKHQpLHRoaXMucG9zaXRpb25zPW5ldyBGbG9hdDMyQXJyYXkodGhpcy52ZXJ0aWNlcyksdGhpcy5jb2xvcnM9bmV3IFVpbnQzMkFycmF5KHRoaXMudmVydGljZXMpLHRoaXMuaW5kaWNlcz1uZXcgVWludDE2QXJyYXkociksdGhpcy5sYXN0SW5kZXhDb3VudD0wO2Zvcih2YXIgaT0wLHM9MDtpPHI7aSs9NixzKz00KXRoaXMuaW5kaWNlc1tpKzBdPXMrMCx0aGlzLmluZGljZXNbaSsxXT1zKzEsdGhpcy5pbmRpY2VzW2krMl09cysyLHRoaXMuaW5kaWNlc1tpKzNdPXMrMCx0aGlzLmluZGljZXNbaSs0XT1zKzIsdGhpcy5pbmRpY2VzW2krNV09cyszO3RoaXMuZHJhd2luZz0hMSx0aGlzLmN1cnJlbnRCYXRjaFNpemU9MCx0aGlzLmN1cnJlbnRCYXNlVGV4dHVyZT1udWxsLHRoaXMuZGlydHk9ITAsdGhpcy50ZXh0dXJlcz1bXSx0aGlzLmJsZW5kTW9kZXM9W10sdGhpcy5zaGFkZXJzPVtdLHRoaXMuc3ByaXRlcz1bXSx0aGlzLmRlZmF1bHRTaGFkZXI9bnVsbH0saS5XZWJHTFNwcml0ZUJhdGNoLnByb3RvdHlwZS5zZXRDb250ZXh0PWZ1bmN0aW9uKGUpe2lmKHRoaXMuTUFYX1RFWFRVUkVTPWUuZ2V0UGFyYW1ldGVyKGUuTUFYX1RFWFRVUkVfSU1BR0VfVU5JVFMpLHRoaXMuZ2w9ZSxpLl9lbmFibGVNdWx0aVRleHR1cmVUb2dnbGUpe2Zvcih2YXIgdD1cIlxcdGlmICh2VGV4dHVyZUluZGV4ID09IDAuMCkge2dsX0ZyYWdDb2xvciA9IHRleHR1cmUyRCh1U2FtcGxlckFycmF5WzBdLCB2VGV4dHVyZUNvb3JkKSAqIHZDb2xvcjtyZXR1cm47fVxcblwiLHI9MTtyPHRoaXMuTUFYX1RFWFRVUkVTOysrcil0Kz1cIlxcdGlmICh2VGV4dHVyZUluZGV4ID09IFwiK3IrXCIuMCkge2dsX0ZyYWdDb2xvciA9IHRleHR1cmUyRCh1U2FtcGxlckFycmF5W1wiK3IrXCJdLCB2VGV4dHVyZUNvb3JkKSAqIHZDb2xvcjtyZXR1cm47fVxcblwiO3RoaXMuZGVmYXVsdFNoYWRlcj1uZXcgUGhhc2VyLkZpbHRlcih0aGlzLmdhbWUsdm9pZCAwLFtcIi8vV2ViR0xTcHJpdGVCYXRjaCBGcmFnbWVudCBTaGFkZXIuXCIsXCJwcmVjaXNpb24gbG93cCBmbG9hdDtcIixcInZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1wiLFwidmFyeWluZyB2ZWM0IHZDb2xvcjtcIixcInZhcnlpbmcgZmxvYXQgdlRleHR1cmVJbmRleDtcIixcInVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyQXJyYXlbXCIrdGhpcy5NQVhfVEVYVFVSRVMrXCJdO1wiLFwidm9pZCBtYWluKHZvaWQpIHtcIix0LFwiXFx0Z2xfRnJhZ0NvbG9yID0gdGV4dHVyZTJEKHVTYW1wbGVyQXJyYXlbMF0sIHZUZXh0dXJlQ29vcmQpICogdkNvbG9yO1wiLFwifVwiXSl9ZWxzZSB0aGlzLmRlZmF1bHRTaGFkZXI9bmV3IFBoYXNlci5GaWx0ZXIodGhpcy5nYW1lLHZvaWQgMCxbXCIvL1dlYkdMU3ByaXRlQmF0Y2ggRnJhZ21lbnQgU2hhZGVyLlwiLFwicHJlY2lzaW9uIGxvd3AgZmxvYXQ7XCIsXCJ2YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcIixcInZhcnlpbmcgdmVjNCB2Q29sb3I7XCIsXCJ2YXJ5aW5nIGZsb2F0IHZUZXh0dXJlSW5kZXg7XCIsXCJ1bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjtcIixcInZvaWQgbWFpbih2b2lkKSB7XCIsXCIgICBnbF9GcmFnQ29sb3IgPSB0ZXh0dXJlMkQodVNhbXBsZXIsIHZUZXh0dXJlQ29vcmQpICogdkNvbG9yO1wiLFwifVwiXSk7dGhpcy52ZXJ0ZXhCdWZmZXI9ZS5jcmVhdGVCdWZmZXIoKSx0aGlzLmluZGV4QnVmZmVyPWUuY3JlYXRlQnVmZmVyKCksZS5iaW5kQnVmZmVyKGUuRUxFTUVOVF9BUlJBWV9CVUZGRVIsdGhpcy5pbmRleEJ1ZmZlciksZS5idWZmZXJEYXRhKGUuRUxFTUVOVF9BUlJBWV9CVUZGRVIsdGhpcy5pbmRpY2VzLGUuU1RBVElDX0RSQVcpLGUuYmluZEJ1ZmZlcihlLkFSUkFZX0JVRkZFUix0aGlzLnZlcnRleEJ1ZmZlciksZS5idWZmZXJEYXRhKGUuQVJSQVlfQlVGRkVSLHRoaXMudmVydGljZXMsZS5EWU5BTUlDX0RSQVcpLHRoaXMuY3VycmVudEJsZW5kTW9kZT05OTk5OTt2YXIgcz1uZXcgaS5QaXhpU2hhZGVyKGUpO3MuZnJhZ21lbnRTcmM9dGhpcy5kZWZhdWx0U2hhZGVyLmZyYWdtZW50U3JjLHMudW5pZm9ybXM9e30scy5pbml0KCksdGhpcy5kZWZhdWx0U2hhZGVyLnNoYWRlcnNbZS5pZF09c30saS5XZWJHTFNwcml0ZUJhdGNoLnByb3RvdHlwZS5iZWdpbj1mdW5jdGlvbihlKXt0aGlzLnJlbmRlclNlc3Npb249ZSx0aGlzLnNoYWRlcj10aGlzLnJlbmRlclNlc3Npb24uc2hhZGVyTWFuYWdlci5kZWZhdWx0U2hhZGVyLHRoaXMuc3RhcnQoKX0saS5XZWJHTFNwcml0ZUJhdGNoLnByb3RvdHlwZS5lbmQ9ZnVuY3Rpb24oKXt0aGlzLmZsdXNoKCl9LGkuV2ViR0xTcHJpdGVCYXRjaC5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS50ZXh0dXJlLHM9ci5iYXNlVGV4dHVyZSxvPXRoaXMuZ2w7aS5XZWJHTFJlbmRlcmVyLnRleHR1cmVBcnJheVtzLnRleHR1cmVJbmRleF0hPXMmJih0aGlzLmZsdXNoKCksby5hY3RpdmVUZXh0dXJlKG8uVEVYVFVSRTArcy50ZXh0dXJlSW5kZXgpLG8uYmluZFRleHR1cmUoby5URVhUVVJFXzJELHMuX2dsVGV4dHVyZXNbby5pZF0pLGkuV2ViR0xSZW5kZXJlci50ZXh0dXJlQXJyYXlbcy50ZXh0dXJlSW5kZXhdPXMpO3ZhciBhPWUud29ybGRUcmFuc2Zvcm07dCYmKGE9dCksdGhpcy5jdXJyZW50QmF0Y2hTaXplPj10aGlzLnNpemUmJih0aGlzLmZsdXNoKCksdGhpcy5jdXJyZW50QmFzZVRleHR1cmU9ci5iYXNlVGV4dHVyZSk7dmFyIG49ci5fdXZzO2lmKG4pe3ZhciBoLGwsdSxkLGM9ZS5hbmNob3IueCxmPWUuYW5jaG9yLnk7aWYoci50cmltKXt2YXIgeD1yLnRyaW07aD0obD14LngtYyp4LndpZHRoKStyLmNyb3Aud2lkdGgsdT0oZD14LnktZip4LmhlaWdodCkrci5jcm9wLmhlaWdodH1lbHNlIGg9ci5mcmFtZS53aWR0aCooMS1jKSxsPXIuZnJhbWUud2lkdGgqLWMsdT1yLmZyYW1lLmhlaWdodCooMS1mKSxkPXIuZnJhbWUuaGVpZ2h0Ki1mO3ZhciBwPXRoaXMuY3VycmVudEJhdGNoU2l6ZSp0aGlzLnZlcnRleFNpemUsZz0odGhpcy5jdXJyZW50QmF0Y2hTaXplLHIuYmFzZVRleHR1cmUucmVzb2x1dGlvbiksdj1yLmJhc2VUZXh0dXJlLnRleHR1cmVJbmRleCxUPWEuYS9nLG09YS5iL2csRT1hLmMvZyxfPWEuZC9nLFM9YS50eCx5PWEudHksYj0oci5jcm9wLndpZHRoLHIuY3JvcC5oZWlnaHQpO2lmKHIucm90YXRlZCl7dmFyIEE9YS5hLFI9YS5iLE09YS5jLEM9YS5kLEw9bCxCPWg7Uz1hLmMqYitTLHk9YS5kKmIreSxUPTYuMTIzMjMzOTk1NzM2NzY2ZS0xNypBLU0sbT02LjEyMzIzMzk5NTczNjc2NmUtMTcqUi1DLEU9QSs2LjEyMzIzMzk5NTczNjc2NmUtMTcqTSxfPVIrNi4xMjMyMzM5OTU3MzY3NjZlLTE3KkMsci5fdXBkYXRlVXZzSW52ZXJ0ZWQoKSxoPXUsbD1kLHU9QixkPUx9dmFyIFA9dGhpcy5jb2xvcnMsdz10aGlzLnBvc2l0aW9ucyxVPWUudGludCxGPShVPj4xNikrKDY1MjgwJlUpKygoMjU1JlUpPDwxNikrKDI1NSplLndvcmxkQWxwaGE8PDI0KTt0aGlzLnJlbmRlclNlc3Npb24ucm91bmRQaXhlbHM/KHdbcCsrXT1UKmwrRSpkK1N8MCx3W3ArK109XypkK20qbCt5fDAsd1twKytdPW4ueDAsd1twKytdPW4ueTAsUFtwKytdPUYsd1twKytdPXYsd1twKytdPVQqaCtFKmQrU3wwLHdbcCsrXT1fKmQrbSpoK3l8MCx3W3ArK109bi54MSx3W3ArK109bi55MSxQW3ArK109Rix3W3ArK109dix3W3ArK109VCpoK0UqdStTfDAsd1twKytdPV8qdSttKmgreXwwLHdbcCsrXT1uLngyLHdbcCsrXT1uLnkyLFBbcCsrXT1GLHdbcCsrXT12LHdbcCsrXT1UKmwrRSp1K1N8MCx3W3ArK109Xyp1K20qbCt5fDAsd1twKytdPW4ueDMsd1twKytdPW4ueTMsUFtwKytdPUYsd1twKytdPXYpOih3W3ArK109VCpsK0UqZCtTLHdbcCsrXT1fKmQrbSpsK3ksd1twKytdPW4ueDAsd1twKytdPW4ueTAsUFtwKytdPUYsd1twKytdPXYsd1twKytdPVQqaCtFKmQrUyx3W3ArK109XypkK20qaCt5LHdbcCsrXT1uLngxLHdbcCsrXT1uLnkxLFBbcCsrXT1GLHdbcCsrXT12LHdbcCsrXT1UKmgrRSp1K1Msd1twKytdPV8qdSttKmgreSx3W3ArK109bi54Mix3W3ArK109bi55MixQW3ArK109Rix3W3ArK109dix3W3ArK109VCpsK0UqdStTLHdbcCsrXT1fKnUrbSpsK3ksd1twKytdPW4ueDMsd1twKytdPW4ueTMsUFtwKytdPUYsd1twKytdPXYpLHRoaXMuc3ByaXRlc1t0aGlzLmN1cnJlbnRCYXRjaFNpemUrK109ZX19LGkuV2ViR0xTcHJpdGVCYXRjaC5wcm90b3R5cGUucmVuZGVyVGlsaW5nU3ByaXRlPWZ1bmN0aW9uKGUpe3ZhciB0PWUudGlsaW5nVGV4dHVyZSxyPXQuYmFzZVRleHR1cmUscz10aGlzLmdsLG89ZS50ZXh0dXJlLmJhc2VUZXh0dXJlLnRleHR1cmVJbmRleDtpLldlYkdMUmVuZGVyZXIudGV4dHVyZUFycmF5W29dIT1yJiYodGhpcy5mbHVzaCgpLHMuYWN0aXZlVGV4dHVyZShzLlRFWFRVUkUwK28pLHMuYmluZFRleHR1cmUocy5URVhUVVJFXzJELHIuX2dsVGV4dHVyZXNbcy5pZF0pLGkuV2ViR0xSZW5kZXJlci50ZXh0dXJlQXJyYXlbb109ciksdGhpcy5jdXJyZW50QmF0Y2hTaXplPj10aGlzLnNpemUmJih0aGlzLmZsdXNoKCksdGhpcy5jdXJyZW50QmFzZVRleHR1cmU9dC5iYXNlVGV4dHVyZSksZS5fdXZzfHwoZS5fdXZzPW5ldyBpLlRleHR1cmVVdnMpO3ZhciBhPWUuX3V2cyxuPXQuYmFzZVRleHR1cmUud2lkdGgsaD10LmJhc2VUZXh0dXJlLmhlaWdodDtlLnRpbGVQb3NpdGlvbi54JT1uKmUudGlsZVNjYWxlT2Zmc2V0LngsZS50aWxlUG9zaXRpb24ueSU9aCplLnRpbGVTY2FsZU9mZnNldC55O3ZhciBsPWUudGlsZVBvc2l0aW9uLngvKG4qZS50aWxlU2NhbGVPZmZzZXQueCksdT1lLnRpbGVQb3NpdGlvbi55LyhoKmUudGlsZVNjYWxlT2Zmc2V0LnkpLGQ9ZS53aWR0aC9uLyhlLnRpbGVTY2FsZS54KmUudGlsZVNjYWxlT2Zmc2V0LngpLGM9ZS5oZWlnaHQvaC8oZS50aWxlU2NhbGUueSplLnRpbGVTY2FsZU9mZnNldC55KTthLngwPTAtbCxhLnkwPTAtdSxhLngxPTEqZC1sLGEueTE9MC11LGEueDI9MSpkLWwsYS55Mj0xKmMtdSxhLngzPTAtbCxhLnkzPTEqYy11O3ZhciBmPWUudGludCx4PShmPj4xNikrKDY1MjgwJmYpKygoMjU1JmYpPDwxNikrKDI1NSplLndvcmxkQWxwaGE8PDI0KSxwPXRoaXMucG9zaXRpb25zLGc9dGhpcy5jb2xvcnMsdj1lLndpZHRoLFQ9ZS5oZWlnaHQsbT1lLmFuY2hvci54LEU9ZS5hbmNob3IueSxfPXYqKDEtbSksUz12Ki1tLHk9VCooMS1FKSxiPVQqLUUsQT10aGlzLmN1cnJlbnRCYXRjaFNpemUqdGhpcy52ZXJ0ZXhTaXplLFI9dC5iYXNlVGV4dHVyZS5yZXNvbHV0aW9uLE09ZS53b3JsZFRyYW5zZm9ybSxDPU0uYS9SLEw9TS5iL1IsQj1NLmMvUixQPU0uZC9SLHc9TS50eCxVPU0udHk7cFtBKytdPUMqUytCKmIrdyxwW0ErK109UCpiK0wqUytVLHBbQSsrXT1hLngwLHBbQSsrXT1hLnkwLGdbQSsrXT14LHBbQSsrXT1vLHBbQSsrXT1DKl8rQipiK3cscFtBKytdPVAqYitMKl8rVSxwW0ErK109YS54MSxwW0ErK109YS55MSxnW0ErK109eCxwW0ErK109byxwW0ErK109QypfK0IqeSt3LHBbQSsrXT1QKnkrTCpfK1UscFtBKytdPWEueDIscFtBKytdPWEueTIsZ1tBKytdPXgscFtBKytdPW8scFtBKytdPUMqUytCKnkrdyxwW0ErK109UCp5K0wqUytVLHBbQSsrXT1hLngzLHBbQSsrXT1hLnkzLGdbQSsrXT14LHBbQSsrXT1vLHRoaXMuc3ByaXRlc1t0aGlzLmN1cnJlbnRCYXRjaFNpemUrK109ZX0saS5XZWJHTFNwcml0ZUJhdGNoLnByb3RvdHlwZS5mbHVzaD1mdW5jdGlvbigpe2lmKDAhPT10aGlzLmN1cnJlbnRCYXRjaFNpemUpe3ZhciBlLHQ9dGhpcy5nbDtpZih0aGlzLmRpcnR5KXt0aGlzLmRpcnR5PSExLGU9dGhpcy5kZWZhdWx0U2hhZGVyLnNoYWRlcnNbdC5pZF0sdC5hY3RpdmVUZXh0dXJlKHQuVEVYVFVSRTApLHQuYmluZEJ1ZmZlcih0LkFSUkFZX0JVRkZFUix0aGlzLnZlcnRleEJ1ZmZlciksdC5iaW5kQnVmZmVyKHQuRUxFTUVOVF9BUlJBWV9CVUZGRVIsdGhpcy5pbmRleEJ1ZmZlcik7dmFyIHI9dGhpcy52ZXJ0ZXhTaXplO3QudmVydGV4QXR0cmliUG9pbnRlcihlLmFWZXJ0ZXhQb3NpdGlvbiwyLHQuRkxPQVQsITEsciwwKSx0LnZlcnRleEF0dHJpYlBvaW50ZXIoZS5hVGV4dHVyZUNvb3JkLDIsdC5GTE9BVCwhMSxyLDgpLHQudmVydGV4QXR0cmliUG9pbnRlcihlLmNvbG9yQXR0cmlidXRlLDQsdC5VTlNJR05FRF9CWVRFLCEwLHIsMTYpLHQudmVydGV4QXR0cmliUG9pbnRlcihlLmFUZXh0dXJlSW5kZXgsMSx0LkZMT0FULCExLHIsMjApfWlmKHRoaXMuY3VycmVudEJhdGNoU2l6ZT4uNSp0aGlzLnNpemUpdC5idWZmZXJTdWJEYXRhKHQuQVJSQVlfQlVGRkVSLDAsdGhpcy52ZXJ0aWNlcyk7ZWxzZXt0LmJpbmRCdWZmZXIodC5BUlJBWV9CVUZGRVIsdGhpcy52ZXJ0ZXhCdWZmZXIpO3ZhciBzPXRoaXMucG9zaXRpb25zLnN1YmFycmF5KDAsdGhpcy5jdXJyZW50QmF0Y2hTaXplKnRoaXMudmVydGV4U2l6ZSk7dC5idWZmZXJTdWJEYXRhKHQuQVJSQVlfQlVGRkVSLDAscyl9Zm9yKHZhciBvLGEsbixoLGw9MCx1PTAsZD1udWxsLGM9dGhpcy5yZW5kZXJTZXNzaW9uLmJsZW5kTW9kZU1hbmFnZXIuY3VycmVudEJsZW5kTW9kZSxmPW51bGwseD0hMSxwPSExLGc9MCx2PXRoaXMuY3VycmVudEJhdGNoU2l6ZTtnPHY7ZysrKXtvPShoPXRoaXMuc3ByaXRlc1tnXSkudGlsaW5nVGV4dHVyZT9oLnRpbGluZ1RleHR1cmUuYmFzZVRleHR1cmU6aC50ZXh0dXJlLmJhc2VUZXh0dXJlLHg9YyE9PShhPWguYmxlbmRNb2RlKSxwPWYhPT0obj1oLnNoYWRlcnx8dGhpcy5kZWZhdWx0U2hhZGVyKTt2YXIgVD1vLnNraXBSZW5kZXI7aWYoVCYmaC5jaGlsZHJlbi5sZW5ndGg+MCYmKFQ9ITEpLCh4fHxwKSYmKHRoaXMucmVuZGVyQmF0Y2goZCxsLHUpLHU9ZyxsPTAsZD1vLHgmJihjPWEsdGhpcy5yZW5kZXJTZXNzaW9uLmJsZW5kTW9kZU1hbmFnZXIuc2V0QmxlbmRNb2RlKGMpKSxwKSl7KGU9KGY9bikuc2hhZGVyc1t0LmlkXSl8fCgoZT1uZXcgaS5QaXhpU2hhZGVyKHQpKS5mcmFnbWVudFNyYz1mLmZyYWdtZW50U3JjLGUudW5pZm9ybXM9Zi51bmlmb3JtcyxlLmluaXQoKSxmLnNoYWRlcnNbdC5pZF09ZSksdGhpcy5yZW5kZXJTZXNzaW9uLnNoYWRlck1hbmFnZXIuc2V0U2hhZGVyKGUpLGUuZGlydHkmJmUuc3luY1VuaWZvcm1zKCk7dmFyIG09dGhpcy5yZW5kZXJTZXNzaW9uLnByb2plY3Rpb247dC51bmlmb3JtMmYoZS5wcm9qZWN0aW9uVmVjdG9yLG0ueCxtLnkpO3ZhciBFPXRoaXMucmVuZGVyU2Vzc2lvbi5vZmZzZXQ7dC51bmlmb3JtMmYoZS5vZmZzZXRWZWN0b3IsRS54LEUueSl9bCsrfXRoaXMucmVuZGVyQmF0Y2goZCxsLHUpLHRoaXMuY3VycmVudEJhdGNoU2l6ZT0wfX0saS5XZWJHTFNwcml0ZUJhdGNoLnByb3RvdHlwZS5yZW5kZXJCYXRjaD1mdW5jdGlvbihlLHQscil7aWYoMCE9PXQpe3ZhciBpPXRoaXMuZ2w7aWYoZS5fZGlydHlbaS5pZF0pe2lmKCF0aGlzLnJlbmRlclNlc3Npb24ucmVuZGVyZXIudXBkYXRlVGV4dHVyZShlKSlyZXR1cm59ZWxzZSBpLmJpbmRUZXh0dXJlKGkuVEVYVFVSRV8yRCxlLl9nbFRleHR1cmVzW2kuaWRdKTtpLmRyYXdFbGVtZW50cyhpLlRSSUFOR0xFUyw2KnQsaS5VTlNJR05FRF9TSE9SVCw2KnIqMiksdGhpcy5yZW5kZXJTZXNzaW9uLmRyYXdDb3VudCsrfX0saS5XZWJHTFNwcml0ZUJhdGNoLnByb3RvdHlwZS5zdG9wPWZ1bmN0aW9uKCl7dGhpcy5mbHVzaCgpLHRoaXMuZGlydHk9ITB9LGkuV2ViR0xTcHJpdGVCYXRjaC5wcm90b3R5cGUuc3RhcnQ9ZnVuY3Rpb24oKXt0aGlzLmRpcnR5PSEwfSxpLldlYkdMU3ByaXRlQmF0Y2gucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLnZlcnRpY2VzPW51bGwsdGhpcy5pbmRpY2VzPW51bGwsdGhpcy5nbC5kZWxldGVCdWZmZXIodGhpcy52ZXJ0ZXhCdWZmZXIpLHRoaXMuZ2wuZGVsZXRlQnVmZmVyKHRoaXMuaW5kZXhCdWZmZXIpLHRoaXMuY3VycmVudEJhc2VUZXh0dXJlPW51bGwsdGhpcy5nbD1udWxsfSxpLldlYkdMRmFzdFNwcml0ZUJhdGNoPWZ1bmN0aW9uKGUpe3RoaXMudmVydFNpemU9MTEsdGhpcy5tYXhTaXplPTZlMyx0aGlzLnNpemU9dGhpcy5tYXhTaXplO3ZhciB0PTQqdGhpcy5zaXplKnRoaXMudmVydFNpemUscj02KnRoaXMubWF4U2l6ZTt0aGlzLnZlcnRpY2VzPW5ldyBGbG9hdDMyQXJyYXkodCksdGhpcy5pbmRpY2VzPW5ldyBVaW50MTZBcnJheShyKSx0aGlzLnZlcnRleEJ1ZmZlcj1udWxsLHRoaXMuaW5kZXhCdWZmZXI9bnVsbCx0aGlzLmxhc3RJbmRleENvdW50PTA7Zm9yKHZhciBpPTAscz0wO2k8cjtpKz02LHMrPTQpdGhpcy5pbmRpY2VzW2krMF09cyswLHRoaXMuaW5kaWNlc1tpKzFdPXMrMSx0aGlzLmluZGljZXNbaSsyXT1zKzIsdGhpcy5pbmRpY2VzW2krM109cyswLHRoaXMuaW5kaWNlc1tpKzRdPXMrMix0aGlzLmluZGljZXNbaSs1XT1zKzM7dGhpcy5kcmF3aW5nPSExLHRoaXMuY3VycmVudEJhdGNoU2l6ZT0wLHRoaXMuY3VycmVudEJhc2VUZXh0dXJlPW51bGwsdGhpcy5jdXJyZW50QmxlbmRNb2RlPTAsdGhpcy5yZW5kZXJTZXNzaW9uPW51bGwsdGhpcy5zaGFkZXI9bnVsbCx0aGlzLm1hdHJpeD1udWxsLHRoaXMuc2V0Q29udGV4dChlKX0saS5XZWJHTEZhc3RTcHJpdGVCYXRjaC5wcm90b3R5cGUuY29uc3RydWN0b3I9aS5XZWJHTEZhc3RTcHJpdGVCYXRjaCxpLldlYkdMRmFzdFNwcml0ZUJhdGNoLnByb3RvdHlwZS5zZXRDb250ZXh0PWZ1bmN0aW9uKGUpe3RoaXMuZ2w9ZSx0aGlzLnZlcnRleEJ1ZmZlcj1lLmNyZWF0ZUJ1ZmZlcigpLHRoaXMuaW5kZXhCdWZmZXI9ZS5jcmVhdGVCdWZmZXIoKSxlLmJpbmRCdWZmZXIoZS5FTEVNRU5UX0FSUkFZX0JVRkZFUix0aGlzLmluZGV4QnVmZmVyKSxlLmJ1ZmZlckRhdGEoZS5FTEVNRU5UX0FSUkFZX0JVRkZFUix0aGlzLmluZGljZXMsZS5TVEFUSUNfRFJBVyksZS5iaW5kQnVmZmVyKGUuQVJSQVlfQlVGRkVSLHRoaXMudmVydGV4QnVmZmVyKSxlLmJ1ZmZlckRhdGEoZS5BUlJBWV9CVUZGRVIsdGhpcy52ZXJ0aWNlcyxlLkRZTkFNSUNfRFJBVyl9LGkuV2ViR0xGYXN0U3ByaXRlQmF0Y2gucHJvdG90eXBlLmJlZ2luPWZ1bmN0aW9uKGUsdCl7dGhpcy5yZW5kZXJTZXNzaW9uPXQsdGhpcy5zaGFkZXI9dGhpcy5yZW5kZXJTZXNzaW9uLnNoYWRlck1hbmFnZXIuZmFzdFNoYWRlcix0aGlzLm1hdHJpeD1lLndvcmxkVHJhbnNmb3JtLnRvQXJyYXkoITApLHRoaXMuc3RhcnQoKX0saS5XZWJHTEZhc3RTcHJpdGVCYXRjaC5wcm90b3R5cGUuZW5kPWZ1bmN0aW9uKCl7dGhpcy5mbHVzaCgpfSxpLldlYkdMRmFzdFNwcml0ZUJhdGNoLnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5jaGlsZHJlbixyPXRbMF07aWYoci50ZXh0dXJlLl91dnMpe3RoaXMuY3VycmVudEJhc2VUZXh0dXJlPXIudGV4dHVyZS5iYXNlVGV4dHVyZSxyLmJsZW5kTW9kZSE9PXRoaXMucmVuZGVyU2Vzc2lvbi5ibGVuZE1vZGVNYW5hZ2VyLmN1cnJlbnRCbGVuZE1vZGUmJih0aGlzLmZsdXNoKCksdGhpcy5yZW5kZXJTZXNzaW9uLmJsZW5kTW9kZU1hbmFnZXIuc2V0QmxlbmRNb2RlKHIuYmxlbmRNb2RlKSk7Zm9yKHZhciBpPTAscz10Lmxlbmd0aDtpPHM7aSsrKXRoaXMucmVuZGVyU3ByaXRlKHRbaV0pO3RoaXMuZmx1c2goKX19LGkuV2ViR0xGYXN0U3ByaXRlQmF0Y2gucHJvdG90eXBlLnJlbmRlclNwcml0ZT1mdW5jdGlvbihlKXt2YXIgdD1lLnRleHR1cmUuYmFzZVRleHR1cmUscj10aGlzLmdsLHM9ZS50ZXh0dXJlLmJhc2VUZXh0dXJlLnRleHR1cmVJbmRleDtpZigoaS5XZWJHTFJlbmRlcmVyLnRleHR1cmVBcnJheVtzXT09dHx8IXQuX2dsVGV4dHVyZXNbci5pZF18fGUudGV4dHVyZS5iYXNlVGV4dHVyZS5za2lwUmVuZGVyfHwodGhpcy5mbHVzaCgpLHIuYWN0aXZlVGV4dHVyZShyLlRFWFRVUkUwK3MpLHIuYmluZFRleHR1cmUoci5URVhUVVJFXzJELHQuX2dsVGV4dHVyZXNbci5pZF0pLGkuV2ViR0xSZW5kZXJlci50ZXh0dXJlQXJyYXlbc109dCxlLnRleHR1cmUuX3V2cykpJiZlLnZpc2libGUpe3ZhciBvLGEsbixoLGwsdSxkPXRoaXMudmVydGljZXM7aWYobz1lLnRleHR1cmUuX3V2cyxlLnRleHR1cmUuZnJhbWUud2lkdGgsZS50ZXh0dXJlLmZyYW1lLmhlaWdodCxlLnRleHR1cmUudHJpbSl7dmFyIGM9ZS50ZXh0dXJlLnRyaW07YT0obj1jLngtZS5hbmNob3IueCpjLndpZHRoKStlLnRleHR1cmUuY3JvcC53aWR0aCxoPShsPWMueS1lLmFuY2hvci55KmMuaGVpZ2h0KStlLnRleHR1cmUuY3JvcC5oZWlnaHR9ZWxzZSBhPWUudGV4dHVyZS5mcmFtZS53aWR0aCooMS1lLmFuY2hvci54KSxuPWUudGV4dHVyZS5mcmFtZS53aWR0aCotZS5hbmNob3IueCxoPWUudGV4dHVyZS5mcmFtZS5oZWlnaHQqKDEtZS5hbmNob3IueSksbD1lLnRleHR1cmUuZnJhbWUuaGVpZ2h0Ki1lLmFuY2hvci55O3U9NCp0aGlzLmN1cnJlbnRCYXRjaFNpemUqdGhpcy52ZXJ0U2l6ZSxkW3UrK109bixkW3UrK109bCxkW3UrK109ZS5wb3NpdGlvbi54LGRbdSsrXT1lLnBvc2l0aW9uLnksZFt1KytdPWUuc2NhbGUueCxkW3UrK109ZS5zY2FsZS55LGRbdSsrXT1lLnJvdGF0aW9uLGRbdSsrXT1vLngwLGRbdSsrXT1vLnkxLGRbdSsrXT1lLmFscGhhLGRbdSsrXT1zLGRbdSsrXT1hLGRbdSsrXT1sLGRbdSsrXT1lLnBvc2l0aW9uLngsZFt1KytdPWUucG9zaXRpb24ueSxkW3UrK109ZS5zY2FsZS54LGRbdSsrXT1lLnNjYWxlLnksZFt1KytdPWUucm90YXRpb24sZFt1KytdPW8ueDEsZFt1KytdPW8ueTEsZFt1KytdPWUuYWxwaGEsZFt1KytdPXMsZFt1KytdPWEsZFt1KytdPWgsZFt1KytdPWUucG9zaXRpb24ueCxkW3UrK109ZS5wb3NpdGlvbi55LGRbdSsrXT1lLnNjYWxlLngsZFt1KytdPWUuc2NhbGUueSxkW3UrK109ZS5yb3RhdGlvbixkW3UrK109by54MixkW3UrK109by55MixkW3UrK109ZS5hbHBoYSxkW3UrK109cyxkW3UrK109bixkW3UrK109aCxkW3UrK109ZS5wb3NpdGlvbi54LGRbdSsrXT1lLnBvc2l0aW9uLnksZFt1KytdPWUuc2NhbGUueCxkW3UrK109ZS5zY2FsZS55LGRbdSsrXT1lLnJvdGF0aW9uLGRbdSsrXT1vLngzLGRbdSsrXT1vLnkzLGRbdSsrXT1lLmFscGhhLGRbdSsrXT1zLCsrdGhpcy5jdXJyZW50QmF0Y2hTaXplPj10aGlzLnNpemUmJnRoaXMuZmx1c2goKX19LGkuV2ViR0xGYXN0U3ByaXRlQmF0Y2gucHJvdG90eXBlLmZsdXNoPWZ1bmN0aW9uKCl7aWYoMCE9PXRoaXMuY3VycmVudEJhdGNoU2l6ZSl7dmFyIGU9dGhpcy5nbDtpZih0aGlzLmN1cnJlbnRCYXNlVGV4dHVyZS5fZ2xUZXh0dXJlc1tlLmlkXSl7aWYodGhpcy5jdXJyZW50QmF0Y2hTaXplPi41KnRoaXMuc2l6ZSllLmJ1ZmZlclN1YkRhdGEoZS5BUlJBWV9CVUZGRVIsMCx0aGlzLnZlcnRpY2VzKTtlbHNle3ZhciB0PXRoaXMudmVydGljZXMuc3ViYXJyYXkoMCw0KnRoaXMuY3VycmVudEJhdGNoU2l6ZSp0aGlzLnZlcnRTaXplKTtlLmJ1ZmZlclN1YkRhdGEoZS5BUlJBWV9CVUZGRVIsMCx0KX1lLmRyYXdFbGVtZW50cyhlLlRSSUFOR0xFUyw2KnRoaXMuY3VycmVudEJhdGNoU2l6ZSxlLlVOU0lHTkVEX1NIT1JULDApLHRoaXMuY3VycmVudEJhdGNoU2l6ZT0wLHRoaXMucmVuZGVyU2Vzc2lvbi5kcmF3Q291bnQrK31lbHNlIHRoaXMucmVuZGVyU2Vzc2lvbi5yZW5kZXJlci51cGRhdGVUZXh0dXJlKHRoaXMuY3VycmVudEJhc2VUZXh0dXJlLGUpfX0saS5XZWJHTEZhc3RTcHJpdGVCYXRjaC5wcm90b3R5cGUuc3RvcD1mdW5jdGlvbigpe3RoaXMuZmx1c2goKX0saS5XZWJHTEZhc3RTcHJpdGVCYXRjaC5wcm90b3R5cGUuc3RhcnQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdsO2UuYWN0aXZlVGV4dHVyZShlLlRFWFRVUkUwKSxlLmJpbmRCdWZmZXIoZS5BUlJBWV9CVUZGRVIsdGhpcy52ZXJ0ZXhCdWZmZXIpLGUuYmluZEJ1ZmZlcihlLkVMRU1FTlRfQVJSQVlfQlVGRkVSLHRoaXMuaW5kZXhCdWZmZXIpO3ZhciB0PXRoaXMucmVuZGVyU2Vzc2lvbi5wcm9qZWN0aW9uO2UudW5pZm9ybTJmKHRoaXMuc2hhZGVyLnByb2plY3Rpb25WZWN0b3IsdC54LHQueSksZS51bmlmb3JtTWF0cml4M2Z2KHRoaXMuc2hhZGVyLnVNYXRyaXgsITEsdGhpcy5tYXRyaXgpO3ZhciByPTQqdGhpcy52ZXJ0U2l6ZTtlLnZlcnRleEF0dHJpYlBvaW50ZXIodGhpcy5zaGFkZXIuYVZlcnRleFBvc2l0aW9uLDIsZS5GTE9BVCwhMSxyLDApLGUudmVydGV4QXR0cmliUG9pbnRlcih0aGlzLnNoYWRlci5hUG9zaXRpb25Db29yZCwyLGUuRkxPQVQsITEsciw4KSxlLnZlcnRleEF0dHJpYlBvaW50ZXIodGhpcy5zaGFkZXIuYVNjYWxlLDIsZS5GTE9BVCwhMSxyLDE2KSxlLnZlcnRleEF0dHJpYlBvaW50ZXIodGhpcy5zaGFkZXIuYVJvdGF0aW9uLDEsZS5GTE9BVCwhMSxyLDI0KSxlLnZlcnRleEF0dHJpYlBvaW50ZXIodGhpcy5zaGFkZXIuYVRleHR1cmVDb29yZCwyLGUuRkxPQVQsITEsciwyOCksZS52ZXJ0ZXhBdHRyaWJQb2ludGVyKHRoaXMuc2hhZGVyLmNvbG9yQXR0cmlidXRlLDEsZS5GTE9BVCwhMSxyLDM2KSxlLnZlcnRleEF0dHJpYlBvaW50ZXIodGhpcy5zaGFkZXIuYVRleHR1cmVJbmRleCwxLGUuRkxPQVQsITEsciw0MCl9LGkuV2ViR0xGaWx0ZXJNYW5hZ2VyPWZ1bmN0aW9uKCl7dGhpcy5maWx0ZXJTdGFjaz1bXSx0aGlzLm9mZnNldFg9MCx0aGlzLm9mZnNldFk9MH0saS5XZWJHTEZpbHRlck1hbmFnZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yPWkuV2ViR0xGaWx0ZXJNYW5hZ2VyLGkuV2ViR0xGaWx0ZXJNYW5hZ2VyLnByb3RvdHlwZS5zZXRDb250ZXh0PWZ1bmN0aW9uKGUpe3RoaXMuZ2w9ZSx0aGlzLnRleHR1cmVQb29sPVtdLHRoaXMuaW5pdFNoYWRlckJ1ZmZlcnMoKX0saS5XZWJHTEZpbHRlck1hbmFnZXIucHJvdG90eXBlLmJlZ2luPWZ1bmN0aW9uKGUsdCl7dGhpcy5yZW5kZXJTZXNzaW9uPWUsdGhpcy5kZWZhdWx0U2hhZGVyPWUuc2hhZGVyTWFuYWdlci5kZWZhdWx0U2hhZGVyO3ZhciByPXRoaXMucmVuZGVyU2Vzc2lvbi5wcm9qZWN0aW9uO3RoaXMud2lkdGg9MipyLngsdGhpcy5oZWlnaHQ9Miotci55LHRoaXMuYnVmZmVyPXR9LGkuV2ViR0xGaWx0ZXJNYW5hZ2VyLnByb3RvdHlwZS5wdXNoRmlsdGVyPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuZ2wscj10aGlzLnJlbmRlclNlc3Npb24ucHJvamVjdGlvbixzPXRoaXMucmVuZGVyU2Vzc2lvbi5vZmZzZXQ7ZS5fZmlsdGVyQXJlYT1lLnRhcmdldC5maWx0ZXJBcmVhfHxlLnRhcmdldC5nZXRCb3VuZHMoKSxlLl9wcmV2aW91c19zdGVuY2lsX21ncj10aGlzLnJlbmRlclNlc3Npb24uc3RlbmNpbE1hbmFnZXIsdGhpcy5yZW5kZXJTZXNzaW9uLnN0ZW5jaWxNYW5hZ2VyPW5ldyBpLldlYkdMU3RlbmNpbE1hbmFnZXIsdGhpcy5yZW5kZXJTZXNzaW9uLnN0ZW5jaWxNYW5hZ2VyLnNldENvbnRleHQodCksdC5kaXNhYmxlKHQuU1RFTkNJTF9URVNUKSx0aGlzLmZpbHRlclN0YWNrLnB1c2goZSk7dmFyIG89ZS5maWx0ZXJQYXNzZXNbMF07dGhpcy5vZmZzZXRYKz1lLl9maWx0ZXJBcmVhLngsdGhpcy5vZmZzZXRZKz1lLl9maWx0ZXJBcmVhLnk7dmFyIGE9dGhpcy50ZXh0dXJlUG9vbC5wb3AoKTthP2EucmVzaXplKHRoaXMud2lkdGgqdGhpcy5yZW5kZXJTZXNzaW9uLnJlc29sdXRpb24sdGhpcy5oZWlnaHQqdGhpcy5yZW5kZXJTZXNzaW9uLnJlc29sdXRpb24pOmE9bmV3IGkuRmlsdGVyVGV4dHVyZSh0aGlzLmdsLHRoaXMud2lkdGgqdGhpcy5yZW5kZXJTZXNzaW9uLnJlc29sdXRpb24sdGhpcy5oZWlnaHQqdGhpcy5yZW5kZXJTZXNzaW9uLnJlc29sdXRpb24pLHQuYmluZFRleHR1cmUodC5URVhUVVJFXzJELGEudGV4dHVyZSk7dmFyIG49ZS5fZmlsdGVyQXJlYSxoPW8ucGFkZGluZztuLngtPWgsbi55LT1oLG4ud2lkdGgrPTIqaCxuLmhlaWdodCs9MipoLG4ueDwwJiYobi54PTApLG4ud2lkdGg+dGhpcy53aWR0aCYmKG4ud2lkdGg9dGhpcy53aWR0aCksbi55PDAmJihuLnk9MCksbi5oZWlnaHQ+dGhpcy5oZWlnaHQmJihuLmhlaWdodD10aGlzLmhlaWdodCksdC5iaW5kRnJhbWVidWZmZXIodC5GUkFNRUJVRkZFUixhLmZyYW1lQnVmZmVyKSx0LnZpZXdwb3J0KDAsMCxuLndpZHRoKnRoaXMucmVuZGVyU2Vzc2lvbi5yZXNvbHV0aW9uLG4uaGVpZ2h0KnRoaXMucmVuZGVyU2Vzc2lvbi5yZXNvbHV0aW9uKSxyLng9bi53aWR0aC8yLHIueT0tbi5oZWlnaHQvMixzLng9LW4ueCxzLnk9LW4ueSx0LmNvbG9yTWFzayghMCwhMCwhMCwhMCksdC5jbGVhckNvbG9yKDAsMCwwLDApLHQuY2xlYXIodC5DT0xPUl9CVUZGRVJfQklUKSxlLl9nbEZpbHRlclRleHR1cmU9YX0saS5XZWJHTEZpbHRlck1hbmFnZXIucHJvdG90eXBlLnBvcEZpbHRlcj1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2wsdD10aGlzLmZpbHRlclN0YWNrLnBvcCgpLHI9dC5fZmlsdGVyQXJlYSxzPXQuX2dsRmlsdGVyVGV4dHVyZSxvPXRoaXMucmVuZGVyU2Vzc2lvbi5wcm9qZWN0aW9uLGE9dGhpcy5yZW5kZXJTZXNzaW9uLm9mZnNldDtpZih0LmZpbHRlclBhc3Nlcy5sZW5ndGg+MSl7ZS52aWV3cG9ydCgwLDAsci53aWR0aCp0aGlzLnJlbmRlclNlc3Npb24ucmVzb2x1dGlvbixyLmhlaWdodCp0aGlzLnJlbmRlclNlc3Npb24ucmVzb2x1dGlvbiksZS5iaW5kQnVmZmVyKGUuQVJSQVlfQlVGRkVSLHRoaXMudmVydGV4QnVmZmVyKSx0aGlzLnZlcnRleEFycmF5WzBdPTAsdGhpcy52ZXJ0ZXhBcnJheVsxXT1yLmhlaWdodCx0aGlzLnZlcnRleEFycmF5WzJdPXIud2lkdGgsdGhpcy52ZXJ0ZXhBcnJheVszXT1yLmhlaWdodCx0aGlzLnZlcnRleEFycmF5WzRdPTAsdGhpcy52ZXJ0ZXhBcnJheVs1XT0wLHRoaXMudmVydGV4QXJyYXlbNl09ci53aWR0aCx0aGlzLnZlcnRleEFycmF5WzddPTAsZS5idWZmZXJTdWJEYXRhKGUuQVJSQVlfQlVGRkVSLDAsdGhpcy52ZXJ0ZXhBcnJheSksZS5iaW5kQnVmZmVyKGUuQVJSQVlfQlVGRkVSLHRoaXMudXZCdWZmZXIpLHRoaXMudXZBcnJheVsyXT1yLndpZHRoL3RoaXMud2lkdGgsdGhpcy51dkFycmF5WzVdPXIuaGVpZ2h0L3RoaXMuaGVpZ2h0LHRoaXMudXZBcnJheVs2XT1yLndpZHRoL3RoaXMud2lkdGgsdGhpcy51dkFycmF5WzddPXIuaGVpZ2h0L3RoaXMuaGVpZ2h0LGUuYnVmZmVyU3ViRGF0YShlLkFSUkFZX0JVRkZFUiwwLHRoaXMudXZBcnJheSk7dmFyIG49cyxoPXRoaXMudGV4dHVyZVBvb2wucG9wKCk7aHx8KGg9bmV3IGkuRmlsdGVyVGV4dHVyZSh0aGlzLmdsLHRoaXMud2lkdGgqdGhpcy5yZW5kZXJTZXNzaW9uLnJlc29sdXRpb24sdGhpcy5oZWlnaHQqdGhpcy5yZW5kZXJTZXNzaW9uLnJlc29sdXRpb24pKSxoLnJlc2l6ZSh0aGlzLndpZHRoKnRoaXMucmVuZGVyU2Vzc2lvbi5yZXNvbHV0aW9uLHRoaXMuaGVpZ2h0KnRoaXMucmVuZGVyU2Vzc2lvbi5yZXNvbHV0aW9uKSxlLmJpbmRGcmFtZWJ1ZmZlcihlLkZSQU1FQlVGRkVSLGguZnJhbWVCdWZmZXIpLGUuY2xlYXIoZS5DT0xPUl9CVUZGRVJfQklUKSxlLmRpc2FibGUoZS5CTEVORCk7Zm9yKHZhciBsPTA7bDx0LmZpbHRlclBhc3Nlcy5sZW5ndGgtMTtsKyspe3ZhciB1PXQuZmlsdGVyUGFzc2VzW2xdO2UuYmluZEZyYW1lYnVmZmVyKGUuRlJBTUVCVUZGRVIsaC5mcmFtZUJ1ZmZlciksZS5hY3RpdmVUZXh0dXJlKGUuVEVYVFVSRTApLGUuYmluZFRleHR1cmUoZS5URVhUVVJFXzJELG4udGV4dHVyZSksdGhpcy5hcHBseUZpbHRlclBhc3ModSxyLHIud2lkdGgsci5oZWlnaHQpO3ZhciBkPW47bj1oLGg9ZH1lLmVuYWJsZShlLkJMRU5EKSxzPW4sdGhpcy50ZXh0dXJlUG9vbC5wdXNoKGgpfXZhciBjPXQuZmlsdGVyUGFzc2VzW3QuZmlsdGVyUGFzc2VzLmxlbmd0aC0xXTt0aGlzLm9mZnNldFgtPXIueCx0aGlzLm9mZnNldFktPXIueTt2YXIgZj10aGlzLndpZHRoLHg9dGhpcy5oZWlnaHQscD0wLGc9MCx2PXRoaXMuYnVmZmVyO2lmKDA9PT10aGlzLmZpbHRlclN0YWNrLmxlbmd0aCllLmNvbG9yTWFzayghMCwhMCwhMCwhMCk7ZWxzZXt2YXIgVD10aGlzLmZpbHRlclN0YWNrW3RoaXMuZmlsdGVyU3RhY2subGVuZ3RoLTFdO2Y9KHI9VC5fZmlsdGVyQXJlYSkud2lkdGgseD1yLmhlaWdodCxwPXIueCxnPXIueSx2PVQuX2dsRmlsdGVyVGV4dHVyZS5mcmFtZUJ1ZmZlcn1vLng9Zi8yLG8ueT0teC8yLGEueD1wLGEueT1nO3ZhciBtPShyPXQuX2ZpbHRlckFyZWEpLngtcCxFPXIueS1nO2UuYmluZEJ1ZmZlcihlLkFSUkFZX0JVRkZFUix0aGlzLnZlcnRleEJ1ZmZlciksdGhpcy52ZXJ0ZXhBcnJheVswXT1tLHRoaXMudmVydGV4QXJyYXlbMV09RStyLmhlaWdodCx0aGlzLnZlcnRleEFycmF5WzJdPW0rci53aWR0aCx0aGlzLnZlcnRleEFycmF5WzNdPUUrci5oZWlnaHQsdGhpcy52ZXJ0ZXhBcnJheVs0XT1tLHRoaXMudmVydGV4QXJyYXlbNV09RSx0aGlzLnZlcnRleEFycmF5WzZdPW0rci53aWR0aCx0aGlzLnZlcnRleEFycmF5WzddPUUsZS5idWZmZXJTdWJEYXRhKGUuQVJSQVlfQlVGRkVSLDAsdGhpcy52ZXJ0ZXhBcnJheSksZS5iaW5kQnVmZmVyKGUuQVJSQVlfQlVGRkVSLHRoaXMudXZCdWZmZXIpLHRoaXMudXZBcnJheVsyXT1yLndpZHRoL3RoaXMud2lkdGgsdGhpcy51dkFycmF5WzVdPXIuaGVpZ2h0L3RoaXMuaGVpZ2h0LHRoaXMudXZBcnJheVs2XT1yLndpZHRoL3RoaXMud2lkdGgsdGhpcy51dkFycmF5WzddPXIuaGVpZ2h0L3RoaXMuaGVpZ2h0LGUuYnVmZmVyU3ViRGF0YShlLkFSUkFZX0JVRkZFUiwwLHRoaXMudXZBcnJheSksZS52aWV3cG9ydCgwLDAsZip0aGlzLnJlbmRlclNlc3Npb24ucmVzb2x1dGlvbix4KnRoaXMucmVuZGVyU2Vzc2lvbi5yZXNvbHV0aW9uKSxlLmJpbmRGcmFtZWJ1ZmZlcihlLkZSQU1FQlVGRkVSLHYpLGUuYWN0aXZlVGV4dHVyZShlLlRFWFRVUkUwKSxlLmJpbmRUZXh0dXJlKGUuVEVYVFVSRV8yRCxzLnRleHR1cmUpLHRoaXMucmVuZGVyU2Vzc2lvbi5zdGVuY2lsTWFuYWdlciYmdGhpcy5yZW5kZXJTZXNzaW9uLnN0ZW5jaWxNYW5hZ2VyLmRlc3Ryb3koKSx0aGlzLnJlbmRlclNlc3Npb24uc3RlbmNpbE1hbmFnZXI9dC5fcHJldmlvdXNfc3RlbmNpbF9tZ3IsdC5fcHJldmlvdXNfc3RlbmNpbF9tZ3I9bnVsbCx0aGlzLnJlbmRlclNlc3Npb24uc3RlbmNpbE1hbmFnZXIuY291bnQ+MD9lLmVuYWJsZShlLlNURU5DSUxfVEVTVCk6ZS5kaXNhYmxlKGUuU1RFTkNJTF9URVNUKSx0aGlzLmFwcGx5RmlsdGVyUGFzcyhjLHIsZix4KSx0aGlzLnRleHR1cmVQb29sLnB1c2gocyksdC5fZ2xGaWx0ZXJUZXh0dXJlPW51bGx9LGkuV2ViR0xGaWx0ZXJNYW5hZ2VyLnByb3RvdHlwZS5hcHBseUZpbHRlclBhc3M9ZnVuY3Rpb24oZSx0LHIscyl7dmFyIG89dGhpcy5nbCxhPWUuc2hhZGVyc1tvLmlkXTthfHwoKGE9bmV3IGkuUGl4aVNoYWRlcihvKSkuZnJhZ21lbnRTcmM9ZS5mcmFnbWVudFNyYyxhLnVuaWZvcm1zPWUudW5pZm9ybXMsYS5pbml0KCEwKSxlLnNoYWRlcnNbby5pZF09YSksdGhpcy5yZW5kZXJTZXNzaW9uLnNoYWRlck1hbmFnZXIuc2V0U2hhZGVyKGEpLG8udW5pZm9ybTJmKGEucHJvamVjdGlvblZlY3RvcixyLzIsLXMvMiksby51bmlmb3JtMmYoYS5vZmZzZXRWZWN0b3IsMCwwKSxlLnVuaWZvcm1zLmRpbWVuc2lvbnMmJihlLnVuaWZvcm1zLmRpbWVuc2lvbnMudmFsdWVbMF09dGhpcy53aWR0aCxlLnVuaWZvcm1zLmRpbWVuc2lvbnMudmFsdWVbMV09dGhpcy5oZWlnaHQsZS51bmlmb3Jtcy5kaW1lbnNpb25zLnZhbHVlWzJdPXRoaXMudmVydGV4QXJyYXlbMF0sZS51bmlmb3Jtcy5kaW1lbnNpb25zLnZhbHVlWzNdPXRoaXMudmVydGV4QXJyYXlbNV0pLGEuc3luY1VuaWZvcm1zKCksby5iaW5kQnVmZmVyKG8uQVJSQVlfQlVGRkVSLHRoaXMudmVydGV4QnVmZmVyKSxvLnZlcnRleEF0dHJpYlBvaW50ZXIoYS5hVmVydGV4UG9zaXRpb24sMixvLkZMT0FULCExLDAsMCksby5iaW5kQnVmZmVyKG8uQVJSQVlfQlVGRkVSLHRoaXMudXZCdWZmZXIpLG8udmVydGV4QXR0cmliUG9pbnRlcihhLmFUZXh0dXJlQ29vcmQsMixvLkZMT0FULCExLDAsMCksby5iaW5kQnVmZmVyKG8uQVJSQVlfQlVGRkVSLHRoaXMuY29sb3JCdWZmZXIpLG8udmVydGV4QXR0cmliUG9pbnRlcihhLmNvbG9yQXR0cmlidXRlLDIsby5GTE9BVCwhMSwwLDApLG8uYmluZEJ1ZmZlcihvLkVMRU1FTlRfQVJSQVlfQlVGRkVSLHRoaXMuaW5kZXhCdWZmZXIpLG8uZHJhd0VsZW1lbnRzKG8uVFJJQU5HTEVTLDYsby5VTlNJR05FRF9TSE9SVCwwKSx0aGlzLnJlbmRlclNlc3Npb24uZHJhd0NvdW50Kyt9LGkuV2ViR0xGaWx0ZXJNYW5hZ2VyLnByb3RvdHlwZS5pbml0U2hhZGVyQnVmZmVycz1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2w7dGhpcy52ZXJ0ZXhCdWZmZXI9ZS5jcmVhdGVCdWZmZXIoKSx0aGlzLnV2QnVmZmVyPWUuY3JlYXRlQnVmZmVyKCksdGhpcy5jb2xvckJ1ZmZlcj1lLmNyZWF0ZUJ1ZmZlcigpLHRoaXMuaW5kZXhCdWZmZXI9ZS5jcmVhdGVCdWZmZXIoKSx0aGlzLnZlcnRleEFycmF5PW5ldyBGbG9hdDMyQXJyYXkoWzAsMCwxLDAsMCwxLDEsMV0pLGUuYmluZEJ1ZmZlcihlLkFSUkFZX0JVRkZFUix0aGlzLnZlcnRleEJ1ZmZlciksZS5idWZmZXJEYXRhKGUuQVJSQVlfQlVGRkVSLHRoaXMudmVydGV4QXJyYXksZS5TVEFUSUNfRFJBVyksdGhpcy51dkFycmF5PW5ldyBGbG9hdDMyQXJyYXkoWzAsMCwxLDAsMCwxLDEsMV0pLGUuYmluZEJ1ZmZlcihlLkFSUkFZX0JVRkZFUix0aGlzLnV2QnVmZmVyKSxlLmJ1ZmZlckRhdGEoZS5BUlJBWV9CVUZGRVIsdGhpcy51dkFycmF5LGUuU1RBVElDX0RSQVcpLHRoaXMuY29sb3JBcnJheT1uZXcgRmxvYXQzMkFycmF5KFsxLDE2Nzc3MjE1LDEsMTY3NzcyMTUsMSwxNjc3NzIxNSwxLDE2Nzc3MjE1XSksZS5iaW5kQnVmZmVyKGUuQVJSQVlfQlVGRkVSLHRoaXMuY29sb3JCdWZmZXIpLGUuYnVmZmVyRGF0YShlLkFSUkFZX0JVRkZFUix0aGlzLmNvbG9yQXJyYXksZS5TVEFUSUNfRFJBVyksZS5iaW5kQnVmZmVyKGUuRUxFTUVOVF9BUlJBWV9CVUZGRVIsdGhpcy5pbmRleEJ1ZmZlciksZS5idWZmZXJEYXRhKGUuRUxFTUVOVF9BUlJBWV9CVUZGRVIsbmV3IFVpbnQxNkFycmF5KFswLDEsMiwxLDMsMl0pLGUuU1RBVElDX0RSQVcpfSxpLldlYkdMRmlsdGVyTWFuYWdlci5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2w7dGhpcy5maWx0ZXJTdGFjaz1udWxsLHRoaXMub2Zmc2V0WD0wLHRoaXMub2Zmc2V0WT0wO2Zvcih2YXIgdD0wO3Q8dGhpcy50ZXh0dXJlUG9vbC5sZW5ndGg7dCsrKXRoaXMudGV4dHVyZVBvb2xbdF0uZGVzdHJveSgpO3RoaXMudGV4dHVyZVBvb2w9bnVsbCxlLmRlbGV0ZUJ1ZmZlcih0aGlzLnZlcnRleEJ1ZmZlciksZS5kZWxldGVCdWZmZXIodGhpcy51dkJ1ZmZlciksZS5kZWxldGVCdWZmZXIodGhpcy5jb2xvckJ1ZmZlciksZS5kZWxldGVCdWZmZXIodGhpcy5pbmRleEJ1ZmZlcil9O3ZhciBzPXszNjA1NDpcIkluY29tcGxldGUgYXR0YWNobWVudFwiLDM2MDU1OlwiTWlzc2luZyBhdHRhY2htZW50XCIsMzYwNTc6XCJJbmNvbXBsZXRlIGRpbWVuc2lvbnNcIiwzNjA2MTpcIkZyYW1lYnVmZmVyIHVuc3VwcG9ydGVkXCJ9O3JldHVybiBpLkZpbHRlclRleHR1cmU9ZnVuY3Rpb24oZSxyLHMsbyxhKXthPVwibnVtYmVyXCI9PXR5cGVvZiBhP2E6MCx0aGlzLmdsPWUsdGhpcy5mcmFtZUJ1ZmZlcj10KGUscixzLG98fGkuc2NhbGVNb2Rlcy5ERUZBVUxULGEpLHRoaXMudGV4dHVyZT10aGlzLmZyYW1lQnVmZmVyLnRhcmdldFRleHR1cmUsdGhpcy53aWR0aD1yLHRoaXMuaGVpZ2h0PXMsdGhpcy5yZW5kZXJCdWZmZXI9dGhpcy5mcmFtZUJ1ZmZlci5yZW5kZXJCdWZmZXJ9LGkuRmlsdGVyVGV4dHVyZS5wcm90b3R5cGUuY29uc3RydWN0b3I9aS5GaWx0ZXJUZXh0dXJlLGkuRmlsdGVyVGV4dHVyZS5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdsO2UuY2xlYXJDb2xvcigwLDAsMCwwKSxlLmNsZWFyKGUuQ09MT1JfQlVGRkVSX0JJVCl9LGkuRmlsdGVyVGV4dHVyZS5wcm90b3R5cGUucmVzaXplPWZ1bmN0aW9uKGUsdCl7aWYodGhpcy53aWR0aCE9PWV8fHRoaXMuaGVpZ2h0IT09dCl7dGhpcy53aWR0aD1lLHRoaXMuaGVpZ2h0PXQ7dmFyIHI9dGhpcy5nbDtyLmJpbmRUZXh0dXJlKHIuVEVYVFVSRV8yRCx0aGlzLnRleHR1cmUpLHIudGV4SW1hZ2UyRChyLlRFWFRVUkVfMkQsMCxyLlJHQkEsZSx0LDAsci5SR0JBLHIuVU5TSUdORURfQllURSxudWxsKSxyLmJpbmRSZW5kZXJidWZmZXIoci5SRU5ERVJCVUZGRVIsdGhpcy5yZW5kZXJCdWZmZXIpLHIucmVuZGVyYnVmZmVyU3RvcmFnZShyLlJFTkRFUkJVRkZFUixyLkRFUFRIX1NURU5DSUwsZSx0KX19LGkuRmlsdGVyVGV4dHVyZS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2w7ZS5kZWxldGVGcmFtZWJ1ZmZlcih0aGlzLmZyYW1lQnVmZmVyKSxlLmRlbGV0ZVRleHR1cmUodGhpcy50ZXh0dXJlKSx0aGlzLmZyYW1lQnVmZmVyPW51bGwsdGhpcy50ZXh0dXJlPW51bGx9LGkuQ2FudmFzQnVmZmVyPWZ1bmN0aW9uKGUsdCl7dGhpcy53aWR0aD1lLHRoaXMuaGVpZ2h0PXQsdGhpcy5jYW52YXM9UGhhc2VyLkNhbnZhc1Bvb2wuY3JlYXRlKHRoaXMsdGhpcy53aWR0aCx0aGlzLmhlaWdodCksdGhpcy5jb250ZXh0PXRoaXMuY2FudmFzLmdldENvbnRleHQoXCIyZFwiKSx0aGlzLmNhbnZhcy53aWR0aD1lLHRoaXMuY2FudmFzLmhlaWdodD10fSxpLkNhbnZhc0J1ZmZlci5wcm90b3R5cGUuY29uc3RydWN0b3I9aS5DYW52YXNCdWZmZXIsaS5DYW52YXNCdWZmZXIucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7dGhpcy5jb250ZXh0LnNldFRyYW5zZm9ybSgxLDAsMCwxLDAsMCksdGhpcy5jb250ZXh0LmNsZWFyUmVjdCgwLDAsdGhpcy53aWR0aCx0aGlzLmhlaWdodCl9LGkuQ2FudmFzQnVmZmVyLnByb3RvdHlwZS5yZXNpemU9ZnVuY3Rpb24oZSx0KXt0aGlzLndpZHRoPXRoaXMuY2FudmFzLndpZHRoPWUsdGhpcy5oZWlnaHQ9dGhpcy5jYW52YXMuaGVpZ2h0PXR9LGkuQ2FudmFzQnVmZmVyLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7UGhhc2VyLkNhbnZhc1Bvb2wucmVtb3ZlKHRoaXMpfSxpLkNhbnZhc01hc2tNYW5hZ2VyPWZ1bmN0aW9uKCl7fSxpLkNhbnZhc01hc2tNYW5hZ2VyLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1pLkNhbnZhc01hc2tNYW5hZ2VyLGkuQ2FudmFzTWFza01hbmFnZXIucHJvdG90eXBlLnB1c2hNYXNrPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dC5jb250ZXh0O3Iuc2F2ZSgpO3ZhciBzPWUuYWxwaGEsbz1lLndvcmxkVHJhbnNmb3JtLGE9dC5yZXNvbHV0aW9uO3Iuc2V0VHJhbnNmb3JtKG8uYSphLG8uYiphLG8uYyphLG8uZCphLG8udHgqYSxvLnR5KmEpLGkuQ2FudmFzR3JhcGhpY3MucmVuZGVyR3JhcGhpY3NNYXNrKGUsciksci5jbGlwKCksZS53b3JsZEFscGhhPXN9LGkuQ2FudmFzTWFza01hbmFnZXIucHJvdG90eXBlLnBvcE1hc2s9ZnVuY3Rpb24oZSl7ZS5jb250ZXh0LnJlc3RvcmUoKX0saS5DYW52YXNUaW50ZXI9ZnVuY3Rpb24oKXt9LGkuQ2FudmFzVGludGVyLmdldFRpbnRlZFRleHR1cmU9ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLnRpbnRlZFRleHR1cmV8fFBoYXNlci5DYW52YXNQb29sLmNyZWF0ZSh0aGlzKTtyZXR1cm4gaS5DYW52YXNUaW50ZXIudGludE1ldGhvZChlLnRleHR1cmUsdCxyKSxyfSxpLkNhbnZhc1RpbnRlci50aW50V2l0aE11bHRpcGx5PWZ1bmN0aW9uKGUsdCxyKXt2YXIgaT1yLmdldENvbnRleHQoXCIyZFwiKSxzPWUuY3JvcCxvPXMud2lkdGgsYT1zLmhlaWdodDtlLnJvdGF0ZWQmJihvPWEsYT1zLndpZHRoKSxyLndpZHRoPT09byYmci5oZWlnaHQ9PT1hfHwoci53aWR0aD1vLHIuaGVpZ2h0PWEpLGkuY2xlYXJSZWN0KDAsMCxvLGEpLGkuZmlsbFN0eWxlPVwiI1wiKyhcIjAwMDAwXCIrKDB8dCkudG9TdHJpbmcoMTYpKS5zdWJzdHIoLTYpLGkuZmlsbFJlY3QoMCwwLG8sYSksaS5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb249XCJtdWx0aXBseVwiLGkuZHJhd0ltYWdlKGUuYmFzZVRleHR1cmUuc291cmNlLHMueCxzLnksbyxhLDAsMCxvLGEpLGkuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uPVwiZGVzdGluYXRpb24tYXRvcFwiLGkuZHJhd0ltYWdlKGUuYmFzZVRleHR1cmUuc291cmNlLHMueCxzLnksbyxhLDAsMCxvLGEpfSxpLkNhbnZhc1RpbnRlci50aW50V2l0aFBlclBpeGVsPWZ1bmN0aW9uKGUsdCxyKXt2YXIgcz1yLmdldENvbnRleHQoXCIyZFwiKSxvPWUuY3JvcCxhPW8ud2lkdGgsbj1vLmhlaWdodDtlLnJvdGF0ZWQmJihhPW4sbj1vLndpZHRoKSxyLndpZHRoPT09YSYmci5oZWlnaHQ9PT1ufHwoci53aWR0aD1hLHIuaGVpZ2h0PW4pLHMuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uPVwiY29weVwiLHMuZHJhd0ltYWdlKGUuYmFzZVRleHR1cmUuc291cmNlLG8ueCxvLnksYSxuLDAsMCxhLG4pO2Zvcih2YXIgaD1QaGFzZXIuQ29sb3IuaGV4VG9SR0JBcnJheSh0KSxsPWhbMF0sdT1oWzFdLGQ9aFsyXSxjPXMuZ2V0SW1hZ2VEYXRhKDAsMCxhLG4pLGY9Yy5kYXRhLHg9MDt4PGYubGVuZ3RoO3grPTQpaWYoZlt4KzBdKj1sLGZbeCsxXSo9dSxmW3grMl0qPWQsIWkuQ2FudmFzVGludGVyLmNhbkhhbmRsZUFscGhhKXt2YXIgcD1mW3grM107Zlt4KzBdLz0yNTUvcCxmW3grMV0vPTI1NS9wLGZbeCsyXS89MjU1L3B9cy5wdXRJbWFnZURhdGEoYywwLDApfSxpLkNhbnZhc1JlbmRlcmVyPWZ1bmN0aW9uKGUpe3RoaXMuZ2FtZT1lLGkuZGVmYXVsdFJlbmRlcmVyfHwoaS5kZWZhdWx0UmVuZGVyZXI9dGhpcyksdGhpcy50eXBlPVBoYXNlci5DQU5WQVMsdGhpcy5yZXNvbHV0aW9uPWUucmVzb2x1dGlvbix0aGlzLmNsZWFyQmVmb3JlUmVuZGVyPWUuY2xlYXJCZWZvcmVSZW5kZXIsdGhpcy50cmFuc3BhcmVudD1lLnRyYW5zcGFyZW50LHRoaXMuYXV0b1Jlc2l6ZT0hMSx0aGlzLndpZHRoPWUud2lkdGgqdGhpcy5yZXNvbHV0aW9uLHRoaXMuaGVpZ2h0PWUuaGVpZ2h0KnRoaXMucmVzb2x1dGlvbix0aGlzLnZpZXc9ZS5jYW52YXMsdGhpcy5jb250ZXh0PXRoaXMudmlldy5nZXRDb250ZXh0KFwiMmRcIix7YWxwaGE6dGhpcy50cmFuc3BhcmVudH0pLHRoaXMucmVmcmVzaD0hMCx0aGlzLmNvdW50PTAsdGhpcy5tYXNrTWFuYWdlcj1uZXcgaS5DYW52YXNNYXNrTWFuYWdlcix0aGlzLnJlbmRlclNlc3Npb249e2NvbnRleHQ6dGhpcy5jb250ZXh0LG1hc2tNYW5hZ2VyOnRoaXMubWFza01hbmFnZXIsc2NhbGVNb2RlOm51bGwsc21vb3RoUHJvcGVydHk6UGhhc2VyLkNhbnZhcy5nZXRTbW9vdGhpbmdQcmVmaXgodGhpcy5jb250ZXh0KSxyb3VuZFBpeGVsczohMX0sdGhpcy5tYXBCbGVuZE1vZGVzKCksdGhpcy5yZXNpemUodGhpcy53aWR0aCx0aGlzLmhlaWdodCl9LGkuQ2FudmFzUmVuZGVyZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yPWkuQ2FudmFzUmVuZGVyZXIsaS5DYW52YXNSZW5kZXJlci5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKGUpe3RoaXMuY29udGV4dC5zZXRUcmFuc2Zvcm0oMSwwLDAsMSwwLDApLHRoaXMuY29udGV4dC5nbG9iYWxBbHBoYT0xLHRoaXMucmVuZGVyU2Vzc2lvbi5jdXJyZW50QmxlbmRNb2RlPTAsdGhpcy5yZW5kZXJTZXNzaW9uLnNoYWtlWD10aGlzLmdhbWUuY2FtZXJhLl9zaGFrZS54LHRoaXMucmVuZGVyU2Vzc2lvbi5zaGFrZVk9dGhpcy5nYW1lLmNhbWVyYS5fc2hha2UueSx0aGlzLmNvbnRleHQuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uPVwic291cmNlLW92ZXJcIixuYXZpZ2F0b3IuaXNDb2Nvb25KUyYmdGhpcy52aWV3LnNjcmVlbmNhbnZhcyYmKHRoaXMuY29udGV4dC5maWxsU3R5bGU9XCJibGFja1wiLHRoaXMuY29udGV4dC5jbGVhcigpKSx0aGlzLmNsZWFyQmVmb3JlUmVuZGVyJiYodGhpcy50cmFuc3BhcmVudD90aGlzLmNvbnRleHQuY2xlYXJSZWN0KDAsMCx0aGlzLndpZHRoLHRoaXMuaGVpZ2h0KTplLl9iZ0NvbG9yJiYodGhpcy5jb250ZXh0LmZpbGxTdHlsZT1lLl9iZ0NvbG9yLnJnYmEsdGhpcy5jb250ZXh0LmZpbGxSZWN0KDAsMCx0aGlzLndpZHRoLHRoaXMuaGVpZ2h0KSkpLHRoaXMucmVuZGVyRGlzcGxheU9iamVjdChlKX0saS5DYW52YXNSZW5kZXJlci5wcm90b3R5cGUuc2V0VGV4dHVyZVByaW9yaXR5PWZ1bmN0aW9uKGUpe30saS5DYW52YXNSZW5kZXJlci5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbihlKXt2b2lkIDA9PT1lJiYoZT0hMCksZSYmdGhpcy52aWV3LnBhcmVudCYmdGhpcy52aWV3LnBhcmVudC5yZW1vdmVDaGlsZCh0aGlzLnZpZXcpLHRoaXMudmlldz1udWxsLHRoaXMuY29udGV4dD1udWxsLHRoaXMubWFza01hbmFnZXI9bnVsbCx0aGlzLnJlbmRlclNlc3Npb249bnVsbH0saS5DYW52YXNSZW5kZXJlci5wcm90b3R5cGUucmVzaXplPWZ1bmN0aW9uKGUsdCl7dGhpcy53aWR0aD1lKnRoaXMucmVzb2x1dGlvbix0aGlzLmhlaWdodD10KnRoaXMucmVzb2x1dGlvbix0aGlzLnZpZXcud2lkdGg9dGhpcy53aWR0aCx0aGlzLnZpZXcuaGVpZ2h0PXRoaXMuaGVpZ2h0LHRoaXMuYXV0b1Jlc2l6ZSYmKHRoaXMudmlldy5zdHlsZS53aWR0aD10aGlzLndpZHRoL3RoaXMucmVzb2x1dGlvbitcInB4XCIsdGhpcy52aWV3LnN0eWxlLmhlaWdodD10aGlzLmhlaWdodC90aGlzLnJlc29sdXRpb24rXCJweFwiKSx0aGlzLnJlbmRlclNlc3Npb24uc21vb3RoUHJvcGVydHkmJih0aGlzLmNvbnRleHRbdGhpcy5yZW5kZXJTZXNzaW9uLnNtb290aFByb3BlcnR5XT10aGlzLnJlbmRlclNlc3Npb24uc2NhbGVNb2RlPT09aS5zY2FsZU1vZGVzLkxJTkVBUil9LGkuQ2FudmFzUmVuZGVyZXIucHJvdG90eXBlLnJlbmRlckRpc3BsYXlPYmplY3Q9ZnVuY3Rpb24oZSx0LHIpe3RoaXMucmVuZGVyU2Vzc2lvbi5jb250ZXh0PXR8fHRoaXMuY29udGV4dCx0aGlzLnJlbmRlclNlc3Npb24ucmVzb2x1dGlvbj10aGlzLnJlc29sdXRpb24sZS5fcmVuZGVyQ2FudmFzKHRoaXMucmVuZGVyU2Vzc2lvbixyKX0saS5DYW52YXNSZW5kZXJlci5wcm90b3R5cGUubWFwQmxlbmRNb2Rlcz1mdW5jdGlvbigpe2lmKCFpLmJsZW5kTW9kZXNDYW52YXMpe3ZhciBlPVtdLHQ9aS5ibGVuZE1vZGVzLHI9dGhpcy5nYW1lLmRldmljZS5jYW5Vc2VNdWx0aXBseTtlW3QuTk9STUFMXT1cInNvdXJjZS1vdmVyXCIsZVt0LkFERF09XCJsaWdodGVyXCIsZVt0Lk1VTFRJUExZXT1yP1wibXVsdGlwbHlcIjpcInNvdXJjZS1vdmVyXCIsZVt0LlNDUkVFTl09cj9cInNjcmVlblwiOlwic291cmNlLW92ZXJcIixlW3QuT1ZFUkxBWV09cj9cIm92ZXJsYXlcIjpcInNvdXJjZS1vdmVyXCIsZVt0LkRBUktFTl09cj9cImRhcmtlblwiOlwic291cmNlLW92ZXJcIixlW3QuTElHSFRFTl09cj9cImxpZ2h0ZW5cIjpcInNvdXJjZS1vdmVyXCIsZVt0LkNPTE9SX0RPREdFXT1yP1wiY29sb3ItZG9kZ2VcIjpcInNvdXJjZS1vdmVyXCIsZVt0LkNPTE9SX0JVUk5dPXI/XCJjb2xvci1idXJuXCI6XCJzb3VyY2Utb3ZlclwiLGVbdC5IQVJEX0xJR0hUXT1yP1wiaGFyZC1saWdodFwiOlwic291cmNlLW92ZXJcIixlW3QuU09GVF9MSUdIVF09cj9cInNvZnQtbGlnaHRcIjpcInNvdXJjZS1vdmVyXCIsZVt0LkRJRkZFUkVOQ0VdPXI/XCJkaWZmZXJlbmNlXCI6XCJzb3VyY2Utb3ZlclwiLGVbdC5FWENMVVNJT05dPXI/XCJleGNsdXNpb25cIjpcInNvdXJjZS1vdmVyXCIsZVt0LkhVRV09cj9cImh1ZVwiOlwic291cmNlLW92ZXJcIixlW3QuU0FUVVJBVElPTl09cj9cInNhdHVyYXRpb25cIjpcInNvdXJjZS1vdmVyXCIsZVt0LkNPTE9SXT1yP1wiY29sb3JcIjpcInNvdXJjZS1vdmVyXCIsZVt0LkxVTUlOT1NJVFldPXI/XCJsdW1pbm9zaXR5XCI6XCJzb3VyY2Utb3ZlclwiLGkuYmxlbmRNb2Rlc0NhbnZhcz1lfX0saS5CYXNlVGV4dHVyZT1mdW5jdGlvbihlLHQscil7dGhpcy5yZXNvbHV0aW9uPXJ8fDEsdGhpcy53aWR0aD0xMDAsdGhpcy5oZWlnaHQ9MTAwLHRoaXMuc2NhbGVNb2RlPXR8fGkuc2NhbGVNb2Rlcy5ERUZBVUxULHRoaXMuaGFzTG9hZGVkPSExLHRoaXMuc291cmNlPWUsdGhpcy5wcmVtdWx0aXBsaWVkQWxwaGE9ITAsdGhpcy5fZ2xUZXh0dXJlcz1bXSx0aGlzLm1pcG1hcD0hMSx0aGlzLnRleHR1cmVJbmRleD0wLHRoaXMuX2RpcnR5PVshMCwhMCwhMCwhMF0sZSYmKCh0aGlzLnNvdXJjZS5jb21wbGV0ZXx8dGhpcy5zb3VyY2UuZ2V0Q29udGV4dCkmJnRoaXMuc291cmNlLndpZHRoJiZ0aGlzLnNvdXJjZS5oZWlnaHQmJih0aGlzLmhhc0xvYWRlZD0hMCx0aGlzLndpZHRoPXRoaXMuc291cmNlLm5hdHVyYWxXaWR0aHx8dGhpcy5zb3VyY2Uud2lkdGgsdGhpcy5oZWlnaHQ9dGhpcy5zb3VyY2UubmF0dXJhbEhlaWdodHx8dGhpcy5zb3VyY2UuaGVpZ2h0LHRoaXMuZGlydHkoKSksdGhpcy5za2lwUmVuZGVyPSExLHRoaXMuX3Bvd2VyT2YyPSExKX0saS5CYXNlVGV4dHVyZS5wcm90b3R5cGUuY29uc3RydWN0b3I9aS5CYXNlVGV4dHVyZSxpLkJhc2VUZXh0dXJlLnByb3RvdHlwZS5mb3JjZUxvYWRlZD1mdW5jdGlvbihlLHQpe3RoaXMuaGFzTG9hZGVkPSEwLHRoaXMud2lkdGg9ZSx0aGlzLmhlaWdodD10LHRoaXMuZGlydHkoKX0saS5CYXNlVGV4dHVyZS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuc291cmNlJiZQaGFzZXIuQ2FudmFzUG9vbC5yZW1vdmVCeUNhbnZhcyh0aGlzLnNvdXJjZSksdGhpcy5zb3VyY2U9bnVsbCx0aGlzLnVubG9hZEZyb21HUFUoKX0saS5CYXNlVGV4dHVyZS5wcm90b3R5cGUudXBkYXRlU291cmNlSW1hZ2U9ZnVuY3Rpb24oZSl7Y29uc29sZS53YXJuKFwiUElYSS5CYXNlVGV4dHVyZS51cGRhdGVTb3VyY2VJbWFnZSBpcyBkZXByZWNhdGVkLiBVc2UgUGhhc2VyLlNwcml0ZS5sb2FkVGV4dHVyZSBpbnN0ZWFkLlwiKX0saS5CYXNlVGV4dHVyZS5wcm90b3R5cGUuZGlydHk9ZnVuY3Rpb24oKXtmb3IodmFyIGU9MDtlPHRoaXMuX2dsVGV4dHVyZXMubGVuZ3RoO2UrKyl0aGlzLl9kaXJ0eVtlXT0hMH0saS5CYXNlVGV4dHVyZS5wcm90b3R5cGUudW5sb2FkRnJvbUdQVT1mdW5jdGlvbigpe3RoaXMuZGlydHkoKTtmb3IodmFyIGU9dGhpcy5fZ2xUZXh0dXJlcy5sZW5ndGgtMTtlPj0wO2UtLSl7dmFyIHQ9dGhpcy5fZ2xUZXh0dXJlc1tlXSxyPWkuZ2xDb250ZXh0c1tlXTtyJiZ0JiZyLmRlbGV0ZVRleHR1cmUodCl9dGhpcy5fZ2xUZXh0dXJlcy5sZW5ndGg9MCx0aGlzLmRpcnR5KCl9LGkuQmFzZVRleHR1cmUuZnJvbUNhbnZhcz1mdW5jdGlvbihlLHQscil7cmV0dXJuIDA9PT1lLndpZHRoJiYoZS53aWR0aD0xKSwwPT09ZS5oZWlnaHQmJihlLmhlaWdodD0xKSxyPXJ8fDEsbmV3IGkuQmFzZVRleHR1cmUoZSx0LHIpfSxpLlRleHR1cmVTaWxlbnRGYWlsPSExLGkuVGV4dHVyZT1mdW5jdGlvbihlLHQscixzKXt0aGlzLm5vRnJhbWU9ITEsdHx8KHRoaXMubm9GcmFtZT0hMCx0PW5ldyBpLlJlY3RhbmdsZSgwLDAsMSwxKSksZSBpbnN0YW5jZW9mIGkuVGV4dHVyZSYmKGU9ZS5iYXNlVGV4dHVyZSksdGhpcy5iYXNlVGV4dHVyZT1lLHRoaXMuZnJhbWU9dCx0aGlzLnRyaW09cyx0aGlzLnZhbGlkPSExLHRoaXMuaXNUaWxpbmc9ITEsdGhpcy5yZXF1aXJlc1VwZGF0ZT0hMSx0aGlzLnJlcXVpcmVzUmVUaW50PSExLHRoaXMuX3V2cz1udWxsLHRoaXMud2lkdGg9MCx0aGlzLmhlaWdodD0wLHRoaXMuY3JvcD1yfHxuZXcgaS5SZWN0YW5nbGUoMCwwLDEsMSksdGhpcy5yb3RhdGVkPSExLGUuaGFzTG9hZGVkJiYodGhpcy5ub0ZyYW1lJiYodD1uZXcgaS5SZWN0YW5nbGUoMCwwLGUud2lkdGgsZS5oZWlnaHQpKSx0aGlzLnNldEZyYW1lKHQpKX0saS5UZXh0dXJlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1pLlRleHR1cmUsaS5UZXh0dXJlLnByb3RvdHlwZS5vbkJhc2VUZXh0dXJlTG9hZGVkPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5iYXNlVGV4dHVyZTt0aGlzLm5vRnJhbWUmJih0aGlzLmZyYW1lPW5ldyBpLlJlY3RhbmdsZSgwLDAsZS53aWR0aCxlLmhlaWdodCkpLHRoaXMuc2V0RnJhbWUodGhpcy5mcmFtZSl9LGkuVGV4dHVyZS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbihlKXtlJiZ0aGlzLmJhc2VUZXh0dXJlLmRlc3Ryb3koKSx0aGlzLnZhbGlkPSExfSxpLlRleHR1cmUucHJvdG90eXBlLnNldEZyYW1lPWZ1bmN0aW9uKGUpe2lmKHRoaXMubm9GcmFtZT0hMSx0aGlzLmZyYW1lPWUsdGhpcy53aWR0aD1lLndpZHRoLHRoaXMuaGVpZ2h0PWUuaGVpZ2h0LHRoaXMuY3JvcC54PWUueCx0aGlzLmNyb3AueT1lLnksdGhpcy5jcm9wLndpZHRoPWUud2lkdGgsdGhpcy5jcm9wLmhlaWdodD1lLmhlaWdodCx0aGlzLnRyaW18fCEoZS54K2Uud2lkdGg+dGhpcy5iYXNlVGV4dHVyZS53aWR0aHx8ZS55K2UuaGVpZ2h0PnRoaXMuYmFzZVRleHR1cmUuaGVpZ2h0KSl0aGlzLnZhbGlkPWUmJmUud2lkdGgmJmUuaGVpZ2h0JiZ0aGlzLmJhc2VUZXh0dXJlLnNvdXJjZSYmdGhpcy5iYXNlVGV4dHVyZS5oYXNMb2FkZWQsdGhpcy50cmltJiYodGhpcy53aWR0aD10aGlzLnRyaW0ud2lkdGgsdGhpcy5oZWlnaHQ9dGhpcy50cmltLmhlaWdodCx0aGlzLmZyYW1lLndpZHRoPXRoaXMudHJpbS53aWR0aCx0aGlzLmZyYW1lLmhlaWdodD10aGlzLnRyaW0uaGVpZ2h0KSx0aGlzLnZhbGlkJiZ0aGlzLl91cGRhdGVVdnMoKTtlbHNle2lmKCFpLlRleHR1cmVTaWxlbnRGYWlsKXRocm93IG5ldyBFcnJvcihcIlRleHR1cmUgRXJyb3I6IGZyYW1lIGRvZXMgbm90IGZpdCBpbnNpZGUgdGhlIGJhc2UgVGV4dHVyZSBkaW1lbnNpb25zIFwiK3RoaXMpO3RoaXMudmFsaWQ9ITF9fSxpLlRleHR1cmUucHJvdG90eXBlLl91cGRhdGVVdnM9ZnVuY3Rpb24oKXt0aGlzLl91dnN8fCh0aGlzLl91dnM9bmV3IGkuVGV4dHVyZVV2cyk7dmFyIGU9dGhpcy5jcm9wLHQ9dGhpcy5iYXNlVGV4dHVyZS53aWR0aCxyPXRoaXMuYmFzZVRleHR1cmUuaGVpZ2h0O3RoaXMuX3V2cy54MD1lLngvdCx0aGlzLl91dnMueTA9ZS55L3IsdGhpcy5fdXZzLngxPShlLngrZS53aWR0aCkvdCx0aGlzLl91dnMueTE9ZS55L3IsdGhpcy5fdXZzLngyPShlLngrZS53aWR0aCkvdCx0aGlzLl91dnMueTI9KGUueStlLmhlaWdodCkvcix0aGlzLl91dnMueDM9ZS54L3QsdGhpcy5fdXZzLnkzPShlLnkrZS5oZWlnaHQpL3J9LGkuVGV4dHVyZS5wcm90b3R5cGUuX3VwZGF0ZVV2c0ludmVydGVkPWZ1bmN0aW9uKCl7dGhpcy5fdXZzfHwodGhpcy5fdXZzPW5ldyBpLlRleHR1cmVVdnMpO3ZhciBlPXRoaXMuY3JvcCx0PXRoaXMuYmFzZVRleHR1cmUud2lkdGgscj10aGlzLmJhc2VUZXh0dXJlLmhlaWdodDt0aGlzLl91dnMueDA9ZS54L3QsdGhpcy5fdXZzLnkwPWUueS9yLHRoaXMuX3V2cy54MT0oZS54K2UuaGVpZ2h0KS90LHRoaXMuX3V2cy55MT1lLnkvcix0aGlzLl91dnMueDI9KGUueCtlLmhlaWdodCkvdCx0aGlzLl91dnMueTI9KGUueStlLndpZHRoKS9yLHRoaXMuX3V2cy54Mz1lLngvdCx0aGlzLl91dnMueTM9KGUueStlLndpZHRoKS9yfSxpLlRleHR1cmUuZnJvbUNhbnZhcz1mdW5jdGlvbihlLHQpe3ZhciByPWkuQmFzZVRleHR1cmUuZnJvbUNhbnZhcyhlLHQpO3JldHVybiBuZXcgaS5UZXh0dXJlKHIpfSxpLlRleHR1cmVVdnM9ZnVuY3Rpb24oKXt0aGlzLngwPTAsdGhpcy55MD0wLHRoaXMueDE9MCx0aGlzLnkxPTAsdGhpcy54Mj0wLHRoaXMueTI9MCx0aGlzLngzPTAsdGhpcy55Mz0wfSxcInVuZGVmaW5lZFwiIT10eXBlb2YgZXhwb3J0cz8oXCJ1bmRlZmluZWRcIiE9dHlwZW9mIG1vZHVsZSYmbW9kdWxlLmV4cG9ydHMmJihleHBvcnRzPW1vZHVsZS5leHBvcnRzPWkpLGV4cG9ydHMuUElYST1pKTpcInVuZGVmaW5lZFwiIT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShcIlBJWElcIixyLlBJWEk9aSk6ci5QSVhJPWksaX0pLmNhbGwodGhpcyk7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBpeGkubWFwXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvcGhhc2VyLWNlL2J1aWxkL2N1c3RvbS9waXhpLm1pbi5qc1xuLy8gbW9kdWxlIGlkID0gN1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJ2YXIgZztcclxuXHJcbi8vIFRoaXMgd29ya3MgaW4gbm9uLXN0cmljdCBtb2RlXHJcbmcgPSAoZnVuY3Rpb24oKSB7XHJcblx0cmV0dXJuIHRoaXM7XHJcbn0pKCk7XHJcblxyXG50cnkge1xyXG5cdC8vIFRoaXMgd29ya3MgaWYgZXZhbCBpcyBhbGxvd2VkIChzZWUgQ1NQKVxyXG5cdGcgPSBnIHx8IEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKSB8fCAoMSxldmFsKShcInRoaXNcIik7XHJcbn0gY2F0Y2goZSkge1xyXG5cdC8vIFRoaXMgd29ya3MgaWYgdGhlIHdpbmRvdyByZWZlcmVuY2UgaXMgYXZhaWxhYmxlXHJcblx0aWYodHlwZW9mIHdpbmRvdyA9PT0gXCJvYmplY3RcIilcclxuXHRcdGcgPSB3aW5kb3c7XHJcbn1cclxuXHJcbi8vIGcgY2FuIHN0aWxsIGJlIHVuZGVmaW5lZCwgYnV0IG5vdGhpbmcgdG8gZG8gYWJvdXQgaXQuLi5cclxuLy8gV2UgcmV0dXJuIHVuZGVmaW5lZCwgaW5zdGVhZCBvZiBub3RoaW5nIGhlcmUsIHNvIGl0J3NcclxuLy8gZWFzaWVyIHRvIGhhbmRsZSB0aGlzIGNhc2UuIGlmKCFnbG9iYWwpIHsgLi4ufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBnO1xyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gKHdlYnBhY2spL2J1aWxkaW4vZ2xvYmFsLmpzIiwiLyogUGhhc2VyIHYyLjkuMiBQMi5KUyBCdWlsZCAtIGh0dHA6Ly9waGFzZXIuaW8gLSBAcGhvdG9uc3Rvcm0gLSAoYykgMjAxNiBQaG90b24gU3Rvcm0gTHRkLiAqL1xyXG5cclxuIWZ1bmN0aW9uKHQpe2lmKFwib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzKW1vZHVsZS5leHBvcnRzPXQoKTtlbHNle3ZhciBlO1widW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/ZT13aW5kb3c6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGdsb2JhbD9lPWdsb2JhbDpcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZiYmKGU9c2VsZiksZS5wMj10KCl9fShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbiB0KGUsbyxpKXtmdW5jdGlvbiBuKGEscil7aWYoIW9bYV0pe2lmKCFlW2FdKXt2YXIgYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFyJiZjKXJldHVybiBjKGEsITApO2lmKHMpcmV0dXJuIHMoYSwhMCk7dGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIithK1wiJ1wiKX12YXIgaD1vW2FdPXtleHBvcnRzOnt9fTtlW2FdWzBdLmNhbGwoaC5leHBvcnRzLGZ1bmN0aW9uKHQpe3ZhciBvPWVbYV1bMV1bdF07cmV0dXJuIG4ob3x8dCl9LGgsaC5leHBvcnRzLHQsZSxvLGkpfXJldHVybiBvW2FdLmV4cG9ydHN9Zm9yKHZhciBzPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUsYT0wO2E8aS5sZW5ndGg7YSsrKW4oaVthXSk7cmV0dXJuIG59KHsxOltmdW5jdGlvbih0LGUsbyl7ZnVuY3Rpb24gaSgpe312YXIgbj10KFwiLi9TY2FsYXJcIik7ZS5leHBvcnRzPWksaS5saW5lSW50PWZ1bmN0aW9uKHQsZSxvKXtvPW98fDA7dmFyIGkscyxhLHIsYyxoLGwscD1bMCwwXTtyZXR1cm4gaT10WzFdWzFdLXRbMF1bMV0scz10WzBdWzBdLXRbMV1bMF0sYT1pKnRbMF1bMF0rcyp0WzBdWzFdLHI9ZVsxXVsxXS1lWzBdWzFdLGM9ZVswXVswXS1lWzFdWzBdLGg9ciplWzBdWzBdK2MqZVswXVsxXSxsPWkqYy1yKnMsbi5lcShsLDAsbyl8fChwWzBdPShjKmEtcypoKS9sLHBbMV09KGkqaC1yKmEpL2wpLHB9LGkuc2VnbWVudHNJbnRlcnNlY3Q9ZnVuY3Rpb24odCxlLG8saSl7dmFyIG49ZVswXS10WzBdLHM9ZVsxXS10WzFdLGE9aVswXS1vWzBdLHI9aVsxXS1vWzFdO2lmKGEqcy1yKm49PTApcmV0dXJuITE7dmFyIGM9KG4qKG9bMV0tdFsxXSkrcyoodFswXS1vWzBdKSkvKGEqcy1yKm4pLGg9KGEqKHRbMV0tb1sxXSkrcioob1swXS10WzBdKSkvKHIqbi1hKnMpO3JldHVybiBjPj0wJiZjPD0xJiZoPj0wJiZoPD0xfX0se1wiLi9TY2FsYXJcIjo0fV0sMjpbZnVuY3Rpb24odCxlLG8pe2Z1bmN0aW9uIGkoKXt9ZS5leHBvcnRzPWksaS5hcmVhPWZ1bmN0aW9uKHQsZSxvKXtyZXR1cm4oZVswXS10WzBdKSoob1sxXS10WzFdKS0ob1swXS10WzBdKSooZVsxXS10WzFdKX0saS5sZWZ0PWZ1bmN0aW9uKHQsZSxvKXtyZXR1cm4gaS5hcmVhKHQsZSxvKT4wfSxpLmxlZnRPbj1mdW5jdGlvbih0LGUsbyl7cmV0dXJuIGkuYXJlYSh0LGUsbyk+PTB9LGkucmlnaHQ9ZnVuY3Rpb24odCxlLG8pe3JldHVybiBpLmFyZWEodCxlLG8pPDB9LGkucmlnaHRPbj1mdW5jdGlvbih0LGUsbyl7cmV0dXJuIGkuYXJlYSh0LGUsbyk8PTB9O3ZhciBuPVtdLHM9W107aS5jb2xsaW5lYXI9ZnVuY3Rpb24odCxlLG8sYSl7aWYoYSl7dmFyIHI9bixjPXM7clswXT1lWzBdLXRbMF0sclsxXT1lWzFdLXRbMV0sY1swXT1vWzBdLWVbMF0sY1sxXT1vWzFdLWVbMV07dmFyIGg9clswXSpjWzBdK3JbMV0qY1sxXSxsPU1hdGguc3FydChyWzBdKnJbMF0rclsxXSpyWzFdKSxwPU1hdGguc3FydChjWzBdKmNbMF0rY1sxXSpjWzFdKTtyZXR1cm4gTWF0aC5hY29zKGgvKGwqcCkpPGF9cmV0dXJuIDA9PWkuYXJlYSh0LGUsbyl9LGkuc3FkaXN0PWZ1bmN0aW9uKHQsZSl7dmFyIG89ZVswXS10WzBdLGk9ZVsxXS10WzFdO3JldHVybiBvKm8raSppfX0se31dLDM6W2Z1bmN0aW9uKHQsZSxvKXtmdW5jdGlvbiBpKCl7dGhpcy52ZXJ0aWNlcz1bXX1mdW5jdGlvbiBuKHQsZSxvLGksbil7bj1ufHwwO3ZhciBzPWVbMV0tdFsxXSxhPXRbMF0tZVswXSxjPXMqdFswXSthKnRbMV0saD1pWzFdLW9bMV0sbD1vWzBdLWlbMF0scD1oKm9bMF0rbCpvWzFdLHU9cypsLWgqYTtyZXR1cm4gci5lcSh1LDAsbik/WzAsMF06WyhsKmMtYSpwKS91LChzKnAtaCpjKS91XX12YXIgcz10KFwiLi9MaW5lXCIpLGE9dChcIi4vUG9pbnRcIikscj10KFwiLi9TY2FsYXJcIik7ZS5leHBvcnRzPWksaS5wcm90b3R5cGUuYXQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy52ZXJ0aWNlcyxvPWUubGVuZ3RoO3JldHVybiBlW3Q8MD90JW8rbzp0JW9dfSxpLnByb3RvdHlwZS5maXJzdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnZlcnRpY2VzWzBdfSxpLnByb3RvdHlwZS5sYXN0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudmVydGljZXNbdGhpcy52ZXJ0aWNlcy5sZW5ndGgtMV19LGkucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7dGhpcy52ZXJ0aWNlcy5sZW5ndGg9MH0saS5wcm90b3R5cGUuYXBwZW5kPWZ1bmN0aW9uKHQsZSxvKXtpZih2b2lkIDA9PT1lKXRocm93IG5ldyBFcnJvcihcIkZyb20gaXMgbm90IGdpdmVuIVwiKTtpZih2b2lkIDA9PT1vKXRocm93IG5ldyBFcnJvcihcIlRvIGlzIG5vdCBnaXZlbiFcIik7aWYoby0xPGUpdGhyb3cgbmV3IEVycm9yKFwibG9sMVwiKTtpZihvPnQudmVydGljZXMubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcImxvbDJcIik7aWYoZTwwKXRocm93IG5ldyBFcnJvcihcImxvbDNcIik7Zm9yKHZhciBpPWU7aTxvO2krKyl0aGlzLnZlcnRpY2VzLnB1c2godC52ZXJ0aWNlc1tpXSl9LGkucHJvdG90eXBlLm1ha2VDQ1c9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9MCxlPXRoaXMudmVydGljZXMsbz0xO288dGhpcy52ZXJ0aWNlcy5sZW5ndGg7KytvKShlW29dWzFdPGVbdF1bMV18fGVbb11bMV09PWVbdF1bMV0mJmVbb11bMF0+ZVt0XVswXSkmJih0PW8pO2EubGVmdCh0aGlzLmF0KHQtMSksdGhpcy5hdCh0KSx0aGlzLmF0KHQrMSkpfHx0aGlzLnJldmVyc2UoKX0saS5wcm90b3R5cGUucmV2ZXJzZT1mdW5jdGlvbigpe2Zvcih2YXIgdD1bXSxlPTAsbz10aGlzLnZlcnRpY2VzLmxlbmd0aDtlIT09bztlKyspdC5wdXNoKHRoaXMudmVydGljZXMucG9wKCkpO3RoaXMudmVydGljZXM9dH0saS5wcm90b3R5cGUuaXNSZWZsZXg9ZnVuY3Rpb24odCl7cmV0dXJuIGEucmlnaHQodGhpcy5hdCh0LTEpLHRoaXMuYXQodCksdGhpcy5hdCh0KzEpKX07dmFyIGM9W10saD1bXTtpLnByb3RvdHlwZS5jYW5TZWU9ZnVuY3Rpb24odCxlKXt2YXIgbyxpLG49YyxyPWg7aWYoYS5sZWZ0T24odGhpcy5hdCh0KzEpLHRoaXMuYXQodCksdGhpcy5hdChlKSkmJmEucmlnaHRPbih0aGlzLmF0KHQtMSksdGhpcy5hdCh0KSx0aGlzLmF0KGUpKSlyZXR1cm4hMTtpPWEuc3FkaXN0KHRoaXMuYXQodCksdGhpcy5hdChlKSk7Zm9yKHZhciBsPTA7bCE9PXRoaXMudmVydGljZXMubGVuZ3RoOysrbClpZigobCsxKSV0aGlzLnZlcnRpY2VzLmxlbmd0aCE9PXQmJmwhPT10JiZhLmxlZnRPbih0aGlzLmF0KHQpLHRoaXMuYXQoZSksdGhpcy5hdChsKzEpKSYmYS5yaWdodE9uKHRoaXMuYXQodCksdGhpcy5hdChlKSx0aGlzLmF0KGwpKSYmKG5bMF09dGhpcy5hdCh0KSxuWzFdPXRoaXMuYXQoZSksclswXT10aGlzLmF0KGwpLHJbMV09dGhpcy5hdChsKzEpLG89cy5saW5lSW50KG4sciksYS5zcWRpc3QodGhpcy5hdCh0KSxvKTxpKSlyZXR1cm4hMTtyZXR1cm4hMH0saS5wcm90b3R5cGUuY29weT1mdW5jdGlvbih0LGUsbyl7dmFyIG49b3x8bmV3IGk7aWYobi5jbGVhcigpLHQ8ZSlmb3Iocz10O3M8PWU7cysrKW4udmVydGljZXMucHVzaCh0aGlzLnZlcnRpY2VzW3NdKTtlbHNle2ZvcihzPTA7czw9ZTtzKyspbi52ZXJ0aWNlcy5wdXNoKHRoaXMudmVydGljZXNbc10pO2Zvcih2YXIgcz10O3M8dGhpcy52ZXJ0aWNlcy5sZW5ndGg7cysrKW4udmVydGljZXMucHVzaCh0aGlzLnZlcnRpY2VzW3NdKX1yZXR1cm4gbn0saS5wcm90b3R5cGUuZ2V0Q3V0RWRnZXM9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9W10sZT1bXSxvPVtdLG49bmV3IGkscz1OdW1iZXIuTUFYX1ZBTFVFLGE9MDthPHRoaXMudmVydGljZXMubGVuZ3RoOysrYSlpZih0aGlzLmlzUmVmbGV4KGEpKWZvcih2YXIgcj0wO3I8dGhpcy52ZXJ0aWNlcy5sZW5ndGg7KytyKWlmKHRoaXMuY2FuU2VlKGEscikpe2U9dGhpcy5jb3B5KGEscixuKS5nZXRDdXRFZGdlcygpLG89dGhpcy5jb3B5KHIsYSxuKS5nZXRDdXRFZGdlcygpO2Zvcih2YXIgYz0wO2M8by5sZW5ndGg7YysrKWUucHVzaChvW2NdKTtlLmxlbmd0aDxzJiYodD1lLHM9ZS5sZW5ndGgsdC5wdXNoKFt0aGlzLmF0KGEpLHRoaXMuYXQocildKSl9cmV0dXJuIHR9LGkucHJvdG90eXBlLmRlY29tcD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuZ2V0Q3V0RWRnZXMoKTtyZXR1cm4gdC5sZW5ndGg+MD90aGlzLnNsaWNlKHQpOlt0aGlzXX0saS5wcm90b3R5cGUuc2xpY2U9ZnVuY3Rpb24odCl7aWYoMD09dC5sZW5ndGgpcmV0dXJuW3RoaXNdO2lmKHQgaW5zdGFuY2VvZiBBcnJheSYmdC5sZW5ndGgmJnRbMF1pbnN0YW5jZW9mIEFycmF5JiYyPT10WzBdLmxlbmd0aCYmdFswXVswXWluc3RhbmNlb2YgQXJyYXkpe2Zvcih2YXIgZT1bdGhpc10sbz0wO288dC5sZW5ndGg7bysrKWZvcih2YXIgaT10W29dLG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHM9ZVtuXS5zbGljZShpKTtpZihzKXtlLnNwbGljZShuLDEpLGUucHVzaChzWzBdLHNbMV0pO2JyZWFrfX1yZXR1cm4gZX12YXIgaT10LG89dGhpcy52ZXJ0aWNlcy5pbmRleE9mKGlbMF0pLG49dGhpcy52ZXJ0aWNlcy5pbmRleE9mKGlbMV0pO3JldHVybi0xIT1vJiYtMSE9biYmW3RoaXMuY29weShvLG4pLHRoaXMuY29weShuLG8pXX0saS5wcm90b3R5cGUuaXNTaW1wbGU9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy52ZXJ0aWNlcyxlPTA7ZTx0Lmxlbmd0aC0xO2UrKylmb3IodmFyIG89MDtvPGUtMTtvKyspaWYocy5zZWdtZW50c0ludGVyc2VjdCh0W2VdLHRbZSsxXSx0W29dLHRbbysxXSkpcmV0dXJuITE7Zm9yKGU9MTtlPHQubGVuZ3RoLTI7ZSsrKWlmKHMuc2VnbWVudHNJbnRlcnNlY3QodFswXSx0W3QubGVuZ3RoLTFdLHRbZV0sdFtlKzFdKSlyZXR1cm4hMTtyZXR1cm4hMH0saS5wcm90b3R5cGUucXVpY2tEZWNvbXA9ZnVuY3Rpb24odCxlLG8scyxyLGMpe3I9cnx8MTAwLGM9Y3x8MCxzPXN8fDI1LHQ9dm9pZCAwIT09dD90OltdLGU9ZXx8W10sbz1vfHxbXTt2YXIgaD1bMCwwXSxsPVswLDBdLHA9WzAsMF0sdT0wLGQ9MCxmPTAsdj0wLHk9MCxtPTAsZz0wLEE9bmV3IGksYj1uZXcgaSxFPXRoaXMsQj10aGlzLnZlcnRpY2VzO2lmKEIubGVuZ3RoPDMpcmV0dXJuIHQ7aWYoKytjPnIpcmV0dXJuIGNvbnNvbGUud2FybihcInF1aWNrRGVjb21wOiBtYXggbGV2ZWwgKFwiK3IrXCIpIHJlYWNoZWQuXCIpLHQ7Zm9yKHZhciBxPTA7cTx0aGlzLnZlcnRpY2VzLmxlbmd0aDsrK3EpaWYoRS5pc1JlZmxleChxKSl7ZS5wdXNoKEUudmVydGljZXNbcV0pLHU9ZD1OdW1iZXIuTUFYX1ZBTFVFO2ZvcihQPTA7UDx0aGlzLnZlcnRpY2VzLmxlbmd0aDsrK1ApYS5sZWZ0KEUuYXQocS0xKSxFLmF0KHEpLEUuYXQoUCkpJiZhLnJpZ2h0T24oRS5hdChxLTEpLEUuYXQocSksRS5hdChQLTEpKSYmKHA9bihFLmF0KHEtMSksRS5hdChxKSxFLmF0KFApLEUuYXQoUC0xKSksYS5yaWdodChFLmF0KHErMSksRS5hdChxKSxwKSYmKGY9YS5zcWRpc3QoRS52ZXJ0aWNlc1txXSxwKSk8ZCYmKGQ9ZixsPXAsbT1QKSksYS5sZWZ0KEUuYXQocSsxKSxFLmF0KHEpLEUuYXQoUCsxKSkmJmEucmlnaHRPbihFLmF0KHErMSksRS5hdChxKSxFLmF0KFApKSYmKHA9bihFLmF0KHErMSksRS5hdChxKSxFLmF0KFApLEUuYXQoUCsxKSksYS5sZWZ0KEUuYXQocS0xKSxFLmF0KHEpLHApJiYoZj1hLnNxZGlzdChFLnZlcnRpY2VzW3FdLHApKTx1JiYodT1mLGg9cCx5PVApKTtpZihtPT0oeSsxKSV0aGlzLnZlcnRpY2VzLmxlbmd0aClwWzBdPShsWzBdK2hbMF0pLzIscFsxXT0obFsxXStoWzFdKS8yLG8ucHVzaChwKSxxPHk/KEEuYXBwZW5kKEUscSx5KzEpLEEudmVydGljZXMucHVzaChwKSxiLnZlcnRpY2VzLnB1c2gocCksMCE9bSYmYi5hcHBlbmQoRSxtLEUudmVydGljZXMubGVuZ3RoKSxiLmFwcGVuZChFLDAscSsxKSk6KDAhPXEmJkEuYXBwZW5kKEUscSxFLnZlcnRpY2VzLmxlbmd0aCksQS5hcHBlbmQoRSwwLHkrMSksQS52ZXJ0aWNlcy5wdXNoKHApLGIudmVydGljZXMucHVzaChwKSxiLmFwcGVuZChFLG0scSsxKSk7ZWxzZXtpZihtPnkmJih5Kz10aGlzLnZlcnRpY2VzLmxlbmd0aCksdj1OdW1iZXIuTUFYX1ZBTFVFLHk8bSlyZXR1cm4gdDtmb3IodmFyIFA9bTtQPD15OysrUClhLmxlZnRPbihFLmF0KHEtMSksRS5hdChxKSxFLmF0KFApKSYmYS5yaWdodE9uKEUuYXQocSsxKSxFLmF0KHEpLEUuYXQoUCkpJiYoZj1hLnNxZGlzdChFLmF0KHEpLEUuYXQoUCkpKTx2JiYodj1mLGc9UCV0aGlzLnZlcnRpY2VzLmxlbmd0aCk7cTxnPyhBLmFwcGVuZChFLHEsZysxKSwwIT1nJiZiLmFwcGVuZChFLGcsQi5sZW5ndGgpLGIuYXBwZW5kKEUsMCxxKzEpKTooMCE9cSYmQS5hcHBlbmQoRSxxLEIubGVuZ3RoKSxBLmFwcGVuZChFLDAsZysxKSxiLmFwcGVuZChFLGcscSsxKSl9cmV0dXJuIEEudmVydGljZXMubGVuZ3RoPGIudmVydGljZXMubGVuZ3RoPyhBLnF1aWNrRGVjb21wKHQsZSxvLHMscixjKSxiLnF1aWNrRGVjb21wKHQsZSxvLHMscixjKSk6KGIucXVpY2tEZWNvbXAodCxlLG8scyxyLGMpLEEucXVpY2tEZWNvbXAodCxlLG8scyxyLGMpKSx0fXJldHVybiB0LnB1c2godGhpcyksdH0saS5wcm90b3R5cGUucmVtb3ZlQ29sbGluZWFyUG9pbnRzPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wLG89dGhpcy52ZXJ0aWNlcy5sZW5ndGgtMTt0aGlzLnZlcnRpY2VzLmxlbmd0aD4zJiZvPj0wOy0tbylhLmNvbGxpbmVhcih0aGlzLmF0KG8tMSksdGhpcy5hdChvKSx0aGlzLmF0KG8rMSksdCkmJih0aGlzLnZlcnRpY2VzLnNwbGljZShvJXRoaXMudmVydGljZXMubGVuZ3RoLDEpLG8tLSxlKyspO3JldHVybiBlfX0se1wiLi9MaW5lXCI6MSxcIi4vUG9pbnRcIjoyLFwiLi9TY2FsYXJcIjo0fV0sNDpbZnVuY3Rpb24odCxlLG8pe2Z1bmN0aW9uIGkoKXt9ZS5leHBvcnRzPWksaS5lcT1mdW5jdGlvbih0LGUsbyl7cmV0dXJuIG89b3x8MCxNYXRoLmFicyh0LWUpPG99fSx7fV0sNTpbZnVuY3Rpb24odCxlLG8pe2UuZXhwb3J0cz17UG9seWdvbjp0KFwiLi9Qb2x5Z29uXCIpLFBvaW50OnQoXCIuL1BvaW50XCIpfX0se1wiLi9Qb2ludFwiOjIsXCIuL1BvbHlnb25cIjozfV0sNjpbZnVuY3Rpb24odCxlLG8pe2UuZXhwb3J0cz17bmFtZTpcInAyXCIsdmVyc2lvbjpcIjAuNy4xXCIsZGVzY3JpcHRpb246XCJBIEphdmFTY3JpcHQgMkQgcGh5c2ljcyBlbmdpbmUuXCIsYXV0aG9yOlwiU3RlZmFuIEhlZG1hbiA8c2NodGVwcGVAZ21haWwuY29tPiAoaHR0cDovL3N0ZWZmZS5zZSlcIixrZXl3b3JkczpbXCJwMi5qc1wiLFwicDJcIixcInBoeXNpY3NcIixcImVuZ2luZVwiLFwiMmRcIl0sbWFpbjpcIi4vc3JjL3AyLmpzXCIsZW5naW5lczp7bm9kZTpcIipcIn0scmVwb3NpdG9yeTp7dHlwZTpcImdpdFwiLHVybDpcImh0dHBzOi8vZ2l0aHViLmNvbS9zY2h0ZXBwZS9wMi5qcy5naXRcIn0sYnVnczp7dXJsOlwiaHR0cHM6Ly9naXRodWIuY29tL3NjaHRlcHBlL3AyLmpzL2lzc3Vlc1wifSxsaWNlbnNlczpbe3R5cGU6XCJNSVRcIn1dLGRldkRlcGVuZGVuY2llczp7Z3J1bnQ6XCJeMC40LjVcIixcImdydW50LWNvbnRyaWItanNoaW50XCI6XCJeMC4xMS4yXCIsXCJncnVudC1jb250cmliLW5vZGV1bml0XCI6XCJeMC40LjFcIixcImdydW50LWNvbnRyaWItdWdsaWZ5XCI6XCJ+MC40LjBcIixcImdydW50LWNvbnRyaWItd2F0Y2hcIjpcIn4wLjUuMFwiLFwiZ3J1bnQtYnJvd3NlcmlmeVwiOlwifjIuMC4xXCIsXCJncnVudC1jb250cmliLWNvbmNhdFwiOlwiXjAuNC4wXCJ9LGRlcGVuZGVuY2llczp7XCJwb2x5LWRlY29tcFwiOlwiMC4xLjFcIn19fSx7fV0sNzpbZnVuY3Rpb24odCxlLG8pe2Z1bmN0aW9uIGkodCl7dGhpcy5sb3dlckJvdW5kPW4uY3JlYXRlKCksdCYmdC5sb3dlckJvdW5kJiZuLmNvcHkodGhpcy5sb3dlckJvdW5kLHQubG93ZXJCb3VuZCksdGhpcy51cHBlckJvdW5kPW4uY3JlYXRlKCksdCYmdC51cHBlckJvdW5kJiZuLmNvcHkodGhpcy51cHBlckJvdW5kLHQudXBwZXJCb3VuZCl9dmFyIG49dChcIi4uL21hdGgvdmVjMlwiKTt0KFwiLi4vdXRpbHMvVXRpbHNcIik7ZS5leHBvcnRzPWk7dmFyIHM9bi5jcmVhdGUoKTtpLnByb3RvdHlwZS5zZXRGcm9tUG9pbnRzPWZ1bmN0aW9uKHQsZSxvLGkpe3ZhciBhPXRoaXMubG93ZXJCb3VuZCxyPXRoaXMudXBwZXJCb3VuZDtcIm51bWJlclwiIT10eXBlb2YgbyYmKG89MCksMCE9PW8/bi5yb3RhdGUoYSx0WzBdLG8pOm4uY29weShhLHRbMF0pLG4uY29weShyLGEpO2Zvcih2YXIgYz1NYXRoLmNvcyhvKSxoPU1hdGguc2luKG8pLGw9MTtsPHQubGVuZ3RoO2wrKyl7dmFyIHA9dFtsXTtpZigwIT09byl7dmFyIHU9cFswXSxkPXBbMV07c1swXT1jKnUtaCpkLHNbMV09aCp1K2MqZCxwPXN9Zm9yKHZhciBmPTA7ZjwyO2YrKylwW2ZdPnJbZl0mJihyW2ZdPXBbZl0pLHBbZl08YVtmXSYmKGFbZl09cFtmXSl9ZSYmKG4uYWRkKHRoaXMubG93ZXJCb3VuZCx0aGlzLmxvd2VyQm91bmQsZSksbi5hZGQodGhpcy51cHBlckJvdW5kLHRoaXMudXBwZXJCb3VuZCxlKSksaSYmKHRoaXMubG93ZXJCb3VuZFswXS09aSx0aGlzLmxvd2VyQm91bmRbMV0tPWksdGhpcy51cHBlckJvdW5kWzBdKz1pLHRoaXMudXBwZXJCb3VuZFsxXSs9aSl9LGkucHJvdG90eXBlLmNvcHk9ZnVuY3Rpb24odCl7bi5jb3B5KHRoaXMubG93ZXJCb3VuZCx0Lmxvd2VyQm91bmQpLG4uY29weSh0aGlzLnVwcGVyQm91bmQsdC51cHBlckJvdW5kKX0saS5wcm90b3R5cGUuZXh0ZW5kPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0yO2UtLTspe3ZhciBvPXQubG93ZXJCb3VuZFtlXTt0aGlzLmxvd2VyQm91bmRbZV0+byYmKHRoaXMubG93ZXJCb3VuZFtlXT1vKTt2YXIgaT10LnVwcGVyQm91bmRbZV07dGhpcy51cHBlckJvdW5kW2VdPGkmJih0aGlzLnVwcGVyQm91bmRbZV09aSl9fSxpLnByb3RvdHlwZS5vdmVybGFwcz1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmxvd2VyQm91bmQsbz10aGlzLnVwcGVyQm91bmQsaT10Lmxvd2VyQm91bmQsbj10LnVwcGVyQm91bmQ7cmV0dXJuKGlbMF08PW9bMF0mJm9bMF08PW5bMF18fGVbMF08PW5bMF0mJm5bMF08PW9bMF0pJiYoaVsxXTw9b1sxXSYmb1sxXTw9blsxXXx8ZVsxXTw9blsxXSYmblsxXTw9b1sxXSl9LGkucHJvdG90eXBlLmNvbnRhaW5zUG9pbnQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5sb3dlckJvdW5kLG89dGhpcy51cHBlckJvdW5kO3JldHVybiBlWzBdPD10WzBdJiZ0WzBdPD1vWzBdJiZlWzFdPD10WzFdJiZ0WzFdPD1vWzFdfSxpLnByb3RvdHlwZS5vdmVybGFwc1JheT1mdW5jdGlvbih0KXt2YXIgZT0xL3QuZGlyZWN0aW9uWzBdLG89MS90LmRpcmVjdGlvblsxXSxpPSh0aGlzLmxvd2VyQm91bmRbMF0tdC5mcm9tWzBdKSplLG49KHRoaXMudXBwZXJCb3VuZFswXS10LmZyb21bMF0pKmUscz0odGhpcy5sb3dlckJvdW5kWzFdLXQuZnJvbVsxXSkqbyxhPSh0aGlzLnVwcGVyQm91bmRbMV0tdC5mcm9tWzFdKSpvLHI9TWF0aC5tYXgoTWF0aC5tYXgoTWF0aC5taW4oaSxuKSxNYXRoLm1pbihzLGEpKSksYz1NYXRoLm1pbihNYXRoLm1pbihNYXRoLm1heChpLG4pLE1hdGgubWF4KHMsYSkpKTtyZXR1cm4gYzwwPy0xOnI+Yz8tMTpyfX0se1wiLi4vbWF0aC92ZWMyXCI6MzAsXCIuLi91dGlscy9VdGlsc1wiOjU3fV0sODpbZnVuY3Rpb24odCxlLG8pe2Z1bmN0aW9uIGkodCl7dGhpcy50eXBlPXQsdGhpcy5yZXN1bHQ9W10sdGhpcy53b3JsZD1udWxsLHRoaXMuYm91bmRpbmdWb2x1bWVUeXBlPWkuQUFCQn12YXIgbj10KFwiLi4vbWF0aC92ZWMyXCIpLHM9dChcIi4uL29iamVjdHMvQm9keVwiKTtlLmV4cG9ydHM9aSxpLkFBQkI9MSxpLkJPVU5ESU5HX0NJUkNMRT0yLGkucHJvdG90eXBlLnNldFdvcmxkPWZ1bmN0aW9uKHQpe3RoaXMud29ybGQ9dH0saS5wcm90b3R5cGUuZ2V0Q29sbGlzaW9uUGFpcnM9ZnVuY3Rpb24odCl7fTt2YXIgYT1uLmNyZWF0ZSgpO2kuYm91bmRpbmdSYWRpdXNDaGVjaz1mdW5jdGlvbih0LGUpe24uc3ViKGEsdC5wb3NpdGlvbixlLnBvc2l0aW9uKTt2YXIgbz1uLnNxdWFyZWRMZW5ndGgoYSksaT10LmJvdW5kaW5nUmFkaXVzK2UuYm91bmRpbmdSYWRpdXM7cmV0dXJuIG88PWkqaX0saS5hYWJiQ2hlY2s9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5nZXRBQUJCKCkub3ZlcmxhcHMoZS5nZXRBQUJCKCkpfSxpLnByb3RvdHlwZS5ib3VuZGluZ1ZvbHVtZUNoZWNrPWZ1bmN0aW9uKHQsZSl7dmFyIG87c3dpdGNoKHRoaXMuYm91bmRpbmdWb2x1bWVUeXBlKXtjYXNlIGkuQk9VTkRJTkdfQ0lSQ0xFOm89aS5ib3VuZGluZ1JhZGl1c0NoZWNrKHQsZSk7YnJlYWs7Y2FzZSBpLkFBQkI6bz1pLmFhYmJDaGVjayh0LGUpO2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKFwiQm91bmRpbmcgdm9sdW1lIHR5cGUgbm90IHJlY29nbml6ZWQ6IFwiK3RoaXMuYm91bmRpbmdWb2x1bWVUeXBlKX1yZXR1cm4gb30saS5jYW5Db2xsaWRlPWZ1bmN0aW9uKHQsZSl7dmFyIG89cy5LSU5FTUFUSUMsaT1zLlNUQVRJQztyZXR1cm4odC50eXBlIT09aXx8ZS50eXBlIT09aSkmJighKHQudHlwZT09PW8mJmUudHlwZT09PWl8fHQudHlwZT09PWkmJmUudHlwZT09PW8pJiYoKHQudHlwZSE9PW98fGUudHlwZSE9PW8pJiYoKHQuc2xlZXBTdGF0ZSE9PXMuU0xFRVBJTkd8fGUuc2xlZXBTdGF0ZSE9PXMuU0xFRVBJTkcpJiYhKHQuc2xlZXBTdGF0ZT09PXMuU0xFRVBJTkcmJmUudHlwZT09PWl8fGUuc2xlZXBTdGF0ZT09PXMuU0xFRVBJTkcmJnQudHlwZT09PWkpKSkpfSxpLk5BSVZFPTEsaS5TQVA9Mn0se1wiLi4vbWF0aC92ZWMyXCI6MzAsXCIuLi9vYmplY3RzL0JvZHlcIjozMX1dLDk6W2Z1bmN0aW9uKHQsZSxvKXtmdW5jdGlvbiBpKCl7bi5jYWxsKHRoaXMsbi5OQUlWRSl9dChcIi4uL3NoYXBlcy9DaXJjbGVcIiksdChcIi4uL3NoYXBlcy9QbGFuZVwiKSx0KFwiLi4vc2hhcGVzL1NoYXBlXCIpLHQoXCIuLi9zaGFwZXMvUGFydGljbGVcIik7dmFyIG49dChcIi4uL2NvbGxpc2lvbi9Ccm9hZHBoYXNlXCIpO3QoXCIuLi9tYXRoL3ZlYzJcIik7ZS5leHBvcnRzPWksKGkucHJvdG90eXBlPW5ldyBuKS5jb25zdHJ1Y3Rvcj1pLGkucHJvdG90eXBlLmdldENvbGxpc2lvblBhaXJzPWZ1bmN0aW9uKHQpe3ZhciBlPXQuYm9kaWVzLG89dGhpcy5yZXN1bHQ7by5sZW5ndGg9MDtmb3IodmFyIGk9MCxzPWUubGVuZ3RoO2khPT1zO2krKylmb3IodmFyIGE9ZVtpXSxyPTA7cjxpO3IrKyl7dmFyIGM9ZVtyXTtuLmNhbkNvbGxpZGUoYSxjKSYmdGhpcy5ib3VuZGluZ1ZvbHVtZUNoZWNrKGEsYykmJm8ucHVzaChhLGMpfXJldHVybiBvfSxpLnByb3RvdHlwZS5hYWJiUXVlcnk9ZnVuY3Rpb24odCxlLG8pe289b3x8W107Zm9yKHZhciBpPXQuYm9kaWVzLG49MDtuPGkubGVuZ3RoO24rKyl7dmFyIHM9aVtuXTtzLmFhYmJOZWVkc1VwZGF0ZSYmcy51cGRhdGVBQUJCKCkscy5hYWJiLm92ZXJsYXBzKGUpJiZvLnB1c2gocyl9cmV0dXJuIG99fSx7XCIuLi9jb2xsaXNpb24vQnJvYWRwaGFzZVwiOjgsXCIuLi9tYXRoL3ZlYzJcIjozMCxcIi4uL3NoYXBlcy9DaXJjbGVcIjozOSxcIi4uL3NoYXBlcy9QYXJ0aWNsZVwiOjQzLFwiLi4vc2hhcGVzL1BsYW5lXCI6NDQsXCIuLi9zaGFwZXMvU2hhcGVcIjo0NX1dLDEwOltmdW5jdGlvbih0LGUsbyl7ZnVuY3Rpb24gaSgpe3RoaXMuY29udGFjdEVxdWF0aW9ucz1bXSx0aGlzLmZyaWN0aW9uRXF1YXRpb25zPVtdLHRoaXMuZW5hYmxlRnJpY3Rpb249ITAsdGhpcy5lbmFibGVkRXF1YXRpb25zPSEwLHRoaXMuc2xpcEZvcmNlPTEwLHRoaXMuZnJpY3Rpb25Db2VmZmljaWVudD0uMyx0aGlzLnN1cmZhY2VWZWxvY2l0eT0wLHRoaXMuY29udGFjdEVxdWF0aW9uUG9vbD1uZXcgbCh7c2l6ZTozMn0pLHRoaXMuZnJpY3Rpb25FcXVhdGlvblBvb2w9bmV3IHAoe3NpemU6NjR9KSx0aGlzLnJlc3RpdHV0aW9uPTAsdGhpcy5zdGlmZm5lc3M9ZC5ERUZBVUxUX1NUSUZGTkVTUyx0aGlzLnJlbGF4YXRpb249ZC5ERUZBVUxUX1JFTEFYQVRJT04sdGhpcy5mcmljdGlvblN0aWZmbmVzcz1kLkRFRkFVTFRfU1RJRkZORVNTLHRoaXMuZnJpY3Rpb25SZWxheGF0aW9uPWQuREVGQVVMVF9SRUxBWEFUSU9OLHRoaXMuZW5hYmxlRnJpY3Rpb25SZWR1Y3Rpb249ITAsdGhpcy5jb2xsaWRpbmdCb2RpZXNMYXN0U3RlcD1uZXcgdSx0aGlzLmNvbnRhY3RTa2luU2l6ZT0uMDF9ZnVuY3Rpb24gbih0LGUpe2Euc2V0KHQudmVydGljZXNbMF0sLjUqLWUubGVuZ3RoLC1lLnJhZGl1cyksYS5zZXQodC52ZXJ0aWNlc1sxXSwuNSplLmxlbmd0aCwtZS5yYWRpdXMpLGEuc2V0KHQudmVydGljZXNbMl0sLjUqZS5sZW5ndGgsZS5yYWRpdXMpLGEuc2V0KHQudmVydGljZXNbM10sLjUqLWUubGVuZ3RoLGUucmFkaXVzKX1mdW5jdGlvbiBzKHQsZSxvLGkpe2Zvcih2YXIgbj1YLHM9eixoPVksbD1LLHA9dCx1PWUudmVydGljZXMsZD1udWxsLGY9MDtmIT09dS5sZW5ndGgrMTtmKyspe3ZhciB2PXVbZiV1Lmxlbmd0aF0seT11WyhmKzEpJXUubGVuZ3RoXTthLnJvdGF0ZShuLHYsaSksYS5yb3RhdGUocyx5LGkpLGMobixuLG8pLGMocyxzLG8pLHIoaCxuLHApLHIobCxzLHApO3ZhciBtPWEuY3Jvc3NMZW5ndGgoaCxsKTtpZihudWxsPT09ZCYmKGQ9bSksbSpkPD0wKXJldHVybiExO2Q9bX1yZXR1cm4hMH12YXIgYT10KFwiLi4vbWF0aC92ZWMyXCIpLHI9YS5zdWIsYz1hLmFkZCxoPWEuZG90LGw9KHQoXCIuLi91dGlscy9VdGlsc1wiKSx0KFwiLi4vdXRpbHMvQ29udGFjdEVxdWF0aW9uUG9vbFwiKSkscD10KFwiLi4vdXRpbHMvRnJpY3Rpb25FcXVhdGlvblBvb2xcIiksdT10KFwiLi4vdXRpbHMvVHVwbGVEaWN0aW9uYXJ5XCIpLGQ9dChcIi4uL2VxdWF0aW9ucy9FcXVhdGlvblwiKSxmPSh0KFwiLi4vZXF1YXRpb25zL0NvbnRhY3RFcXVhdGlvblwiKSx0KFwiLi4vZXF1YXRpb25zL0ZyaWN0aW9uRXF1YXRpb25cIiksdChcIi4uL3NoYXBlcy9DaXJjbGVcIikpLHY9dChcIi4uL3NoYXBlcy9Db252ZXhcIikseT10KFwiLi4vc2hhcGVzL1NoYXBlXCIpLG09KHQoXCIuLi9vYmplY3RzL0JvZHlcIiksdChcIi4uL3NoYXBlcy9Cb3hcIikpO2UuZXhwb3J0cz1pO3ZhciBnPWEuZnJvbVZhbHVlcygwLDEpLEE9YS5mcm9tVmFsdWVzKDAsMCksYj1hLmZyb21WYWx1ZXMoMCwwKSxFPWEuZnJvbVZhbHVlcygwLDApLEI9YS5mcm9tVmFsdWVzKDAsMCkscT1hLmZyb21WYWx1ZXMoMCwwKSxQPWEuZnJvbVZhbHVlcygwLDApLHc9YS5mcm9tVmFsdWVzKDAsMCksUz1hLmZyb21WYWx1ZXMoMCwwKSxDPWEuZnJvbVZhbHVlcygwLDApLEw9YS5mcm9tVmFsdWVzKDAsMCkseD1hLmZyb21WYWx1ZXMoMCwwKSxGPWEuZnJvbVZhbHVlcygwLDApLE09YS5mcm9tVmFsdWVzKDAsMCksST1hLmZyb21WYWx1ZXMoMCwwKSxSPWEuZnJvbVZhbHVlcygwLDApLFY9YS5mcm9tVmFsdWVzKDAsMCksVD1hLmZyb21WYWx1ZXMoMCwwKSxOPWEuZnJvbVZhbHVlcygwLDApLEc9W10sTz1hLmNyZWF0ZSgpLFU9YS5jcmVhdGUoKTtpLnByb3RvdHlwZS5ib2RpZXNPdmVybGFwPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBvPU8saT1VLG49MCxzPXQuc2hhcGVzLmxlbmd0aDtuIT09cztuKyspe3ZhciBhPXQuc2hhcGVzW25dO3QudG9Xb3JsZEZyYW1lKG8sYS5wb3NpdGlvbik7Zm9yKHZhciByPTAsYz1lLnNoYXBlcy5sZW5ndGg7ciE9PWM7cisrKXt2YXIgaD1lLnNoYXBlc1tyXTtpZihlLnRvV29ybGRGcmFtZShpLGgucG9zaXRpb24pLHRoaXNbYS50eXBlfGgudHlwZV0odCxhLG8sYS5hbmdsZSt0LmFuZ2xlLGUsaCxpLGguYW5nbGUrZS5hbmdsZSwhMCkpcmV0dXJuITB9fXJldHVybiExfSxpLnByb3RvdHlwZS5jb2xsaWRlZExhc3RTdGVwPWZ1bmN0aW9uKHQsZSl7dmFyIG89MHx0LmlkLGk9MHxlLmlkO3JldHVybiEhdGhpcy5jb2xsaWRpbmdCb2RpZXNMYXN0U3RlcC5nZXQobyxpKX0saS5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXt0aGlzLmNvbGxpZGluZ0JvZGllc0xhc3RTdGVwLnJlc2V0KCk7Zm9yKHZhciB0PXRoaXMuY29udGFjdEVxdWF0aW9ucyxlPXQubGVuZ3RoO2UtLTspe3ZhciBvPXRbZV0saT1vLmJvZHlBLmlkLG49by5ib2R5Qi5pZDt0aGlzLmNvbGxpZGluZ0JvZGllc0xhc3RTdGVwLnNldChpLG4sITApfWZvcih2YXIgcz10aGlzLmNvbnRhY3RFcXVhdGlvbnMsYT10aGlzLmZyaWN0aW9uRXF1YXRpb25zLHI9MDtyPHMubGVuZ3RoO3IrKyl0aGlzLmNvbnRhY3RFcXVhdGlvblBvb2wucmVsZWFzZShzW3JdKTtmb3Iocj0wO3I8YS5sZW5ndGg7cisrKXRoaXMuZnJpY3Rpb25FcXVhdGlvblBvb2wucmVsZWFzZShhW3JdKTt0aGlzLmNvbnRhY3RFcXVhdGlvbnMubGVuZ3RoPXRoaXMuZnJpY3Rpb25FcXVhdGlvbnMubGVuZ3RoPTB9LGkucHJvdG90eXBlLmNyZWF0ZUNvbnRhY3RFcXVhdGlvbj1mdW5jdGlvbih0LGUsbyxpKXt2YXIgbj10aGlzLmNvbnRhY3RFcXVhdGlvblBvb2wuZ2V0KCk7cmV0dXJuIG4uYm9keUE9dCxuLmJvZHlCPWUsbi5zaGFwZUE9byxuLnNoYXBlQj1pLG4ucmVzdGl0dXRpb249dGhpcy5yZXN0aXR1dGlvbixuLmZpcnN0SW1wYWN0PSF0aGlzLmNvbGxpZGVkTGFzdFN0ZXAodCxlKSxuLnN0aWZmbmVzcz10aGlzLnN0aWZmbmVzcyxuLnJlbGF4YXRpb249dGhpcy5yZWxheGF0aW9uLG4ubmVlZHNVcGRhdGU9ITAsbi5lbmFibGVkPXRoaXMuZW5hYmxlZEVxdWF0aW9ucyxuLm9mZnNldD10aGlzLmNvbnRhY3RTa2luU2l6ZSxufSxpLnByb3RvdHlwZS5jcmVhdGVGcmljdGlvbkVxdWF0aW9uPWZ1bmN0aW9uKHQsZSxvLGkpe3ZhciBuPXRoaXMuZnJpY3Rpb25FcXVhdGlvblBvb2wuZ2V0KCk7cmV0dXJuIG4uYm9keUE9dCxuLmJvZHlCPWUsbi5zaGFwZUE9byxuLnNoYXBlQj1pLG4uc2V0U2xpcEZvcmNlKHRoaXMuc2xpcEZvcmNlKSxuLmZyaWN0aW9uQ29lZmZpY2llbnQ9dGhpcy5mcmljdGlvbkNvZWZmaWNpZW50LG4ucmVsYXRpdmVWZWxvY2l0eT10aGlzLnN1cmZhY2VWZWxvY2l0eSxuLmVuYWJsZWQ9dGhpcy5lbmFibGVkRXF1YXRpb25zLG4ubmVlZHNVcGRhdGU9ITAsbi5zdGlmZm5lc3M9dGhpcy5mcmljdGlvblN0aWZmbmVzcyxuLnJlbGF4YXRpb249dGhpcy5mcmljdGlvblJlbGF4YXRpb24sbi5jb250YWN0RXF1YXRpb25zLmxlbmd0aD0wLG59LGkucHJvdG90eXBlLmNyZWF0ZUZyaWN0aW9uRnJvbUNvbnRhY3Q9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5jcmVhdGVGcmljdGlvbkVxdWF0aW9uKHQuYm9keUEsdC5ib2R5Qix0LnNoYXBlQSx0LnNoYXBlQik7cmV0dXJuIGEuY29weShlLmNvbnRhY3RQb2ludEEsdC5jb250YWN0UG9pbnRBKSxhLmNvcHkoZS5jb250YWN0UG9pbnRCLHQuY29udGFjdFBvaW50QiksYS5yb3RhdGU5MGN3KGUudCx0Lm5vcm1hbEEpLGUuY29udGFjdEVxdWF0aW9ucy5wdXNoKHQpLGV9LGkucHJvdG90eXBlLmNyZWF0ZUZyaWN0aW9uRnJvbUF2ZXJhZ2U9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5jb250YWN0RXF1YXRpb25zW3RoaXMuY29udGFjdEVxdWF0aW9ucy5sZW5ndGgtMV0sbz10aGlzLmNyZWF0ZUZyaWN0aW9uRXF1YXRpb24oZS5ib2R5QSxlLmJvZHlCLGUuc2hhcGVBLGUuc2hhcGVCKSxpPWUuYm9keUE7ZS5ib2R5QjthLnNldChvLmNvbnRhY3RQb2ludEEsMCwwKSxhLnNldChvLmNvbnRhY3RQb2ludEIsMCwwKSxhLnNldChvLnQsMCwwKTtmb3IodmFyIG49MDtuIT09dDtuKyspKGU9dGhpcy5jb250YWN0RXF1YXRpb25zW3RoaXMuY29udGFjdEVxdWF0aW9ucy5sZW5ndGgtMS1uXSkuYm9keUE9PT1pPyhhLmFkZChvLnQsby50LGUubm9ybWFsQSksYS5hZGQoby5jb250YWN0UG9pbnRBLG8uY29udGFjdFBvaW50QSxlLmNvbnRhY3RQb2ludEEpLGEuYWRkKG8uY29udGFjdFBvaW50QixvLmNvbnRhY3RQb2ludEIsZS5jb250YWN0UG9pbnRCKSk6KGEuc3ViKG8udCxvLnQsZS5ub3JtYWxBKSxhLmFkZChvLmNvbnRhY3RQb2ludEEsby5jb250YWN0UG9pbnRBLGUuY29udGFjdFBvaW50QiksYS5hZGQoby5jb250YWN0UG9pbnRCLG8uY29udGFjdFBvaW50QixlLmNvbnRhY3RQb2ludEEpKSxvLmNvbnRhY3RFcXVhdGlvbnMucHVzaChlKTt2YXIgcz0xL3Q7cmV0dXJuIGEuc2NhbGUoby5jb250YWN0UG9pbnRBLG8uY29udGFjdFBvaW50QSxzKSxhLnNjYWxlKG8uY29udGFjdFBvaW50QixvLmNvbnRhY3RQb2ludEIscyksYS5ub3JtYWxpemUoby50LG8udCksYS5yb3RhdGU5MGN3KG8udCxvLnQpLG99LGkucHJvdG90eXBlW3kuTElORXx5LkNPTlZFWF09aS5wcm90b3R5cGUuY29udmV4TGluZT1mdW5jdGlvbih0LGUsbyxpLG4scyxhLHIsYyl7cmV0dXJuIWMmJjB9LGkucHJvdG90eXBlW3kuTElORXx5LkJPWF09aS5wcm90b3R5cGUubGluZUJveD1mdW5jdGlvbih0LGUsbyxpLG4scyxhLHIsYyl7cmV0dXJuIWMmJjB9O3ZhciBrPW5ldyBtKHt3aWR0aDoxLGhlaWdodDoxfSksXz1hLmNyZWF0ZSgpO2kucHJvdG90eXBlW3kuQ0FQU1VMRXx5LkNPTlZFWF09aS5wcm90b3R5cGVbeS5DQVBTVUxFfHkuQk9YXT1pLnByb3RvdHlwZS5jb252ZXhDYXBzdWxlPWZ1bmN0aW9uKHQsZSxvLGkscyxyLGMsaCxsKXt2YXIgcD1fO2Euc2V0KHAsci5sZW5ndGgvMiwwKSxhLnJvdGF0ZShwLHAsaCksYS5hZGQocCxwLGMpO3ZhciB1PXRoaXMuY2lyY2xlQ29udmV4KHMscixwLGgsdCxlLG8saSxsLHIucmFkaXVzKTthLnNldChwLC1yLmxlbmd0aC8yLDApLGEucm90YXRlKHAscCxoKSxhLmFkZChwLHAsYyk7dmFyIGQ9dGhpcy5jaXJjbGVDb252ZXgocyxyLHAsaCx0LGUsbyxpLGwsci5yYWRpdXMpO2lmKGwmJih1fHxkKSlyZXR1cm4hMDt2YXIgZj1rO3JldHVybiBuKGYsciksdGhpcy5jb252ZXhDb252ZXgodCxlLG8saSxzLGYsYyxoLGwpK3UrZH0saS5wcm90b3R5cGVbeS5DQVBTVUxFfHkuTElORV09aS5wcm90b3R5cGUubGluZUNhcHN1bGU9ZnVuY3Rpb24odCxlLG8saSxuLHMsYSxyLGMpe3JldHVybiFjJiYwfTt2YXIgRD1hLmNyZWF0ZSgpLFc9YS5jcmVhdGUoKSxqPW5ldyBtKHt3aWR0aDoxLGhlaWdodDoxfSk7aS5wcm90b3R5cGVbeS5DQVBTVUxFfHkuQ0FQU1VMRV09aS5wcm90b3R5cGUuY2Fwc3VsZUNhcHN1bGU9ZnVuY3Rpb24odCxlLG8saSxzLHIsYyxoLGwpe2Zvcih2YXIgcD1ELHU9VyxkPTAsZj0wO2Y8MjtmKyspe2Euc2V0KHAsKDA9PT1mPy0xOjEpKmUubGVuZ3RoLzIsMCksYS5yb3RhdGUocCxwLGkpLGEuYWRkKHAscCxvKTtmb3IodmFyIHY9MDt2PDI7disrKXthLnNldCh1LCgwPT09dj8tMToxKSpyLmxlbmd0aC8yLDApLGEucm90YXRlKHUsdSxoKSxhLmFkZCh1LHUsYyksdGhpcy5lbmFibGVGcmljdGlvblJlZHVjdGlvbiYmKEE9dGhpcy5lbmFibGVGcmljdGlvbix0aGlzLmVuYWJsZUZyaWN0aW9uPSExKTt2YXIgeT10aGlzLmNpcmNsZUNpcmNsZSh0LGUscCxpLHMscix1LGgsbCxlLnJhZGl1cyxyLnJhZGl1cyk7aWYodGhpcy5lbmFibGVGcmljdGlvblJlZHVjdGlvbiYmKHRoaXMuZW5hYmxlRnJpY3Rpb249QSksbCYmeSlyZXR1cm4hMDtkKz15fX10aGlzLmVuYWJsZUZyaWN0aW9uUmVkdWN0aW9uJiYoQT10aGlzLmVuYWJsZUZyaWN0aW9uLHRoaXMuZW5hYmxlRnJpY3Rpb249ITEpO3ZhciBtPWo7bihtLGUpO3ZhciBnPXRoaXMuY29udmV4Q2Fwc3VsZSh0LG0sbyxpLHMscixjLGgsbCk7aWYodGhpcy5lbmFibGVGcmljdGlvblJlZHVjdGlvbiYmKHRoaXMuZW5hYmxlRnJpY3Rpb249QSksbCYmZylyZXR1cm4hMDtpZihkKz1nLHRoaXMuZW5hYmxlRnJpY3Rpb25SZWR1Y3Rpb24pe3ZhciBBPXRoaXMuZW5hYmxlRnJpY3Rpb247dGhpcy5lbmFibGVGcmljdGlvbj0hMX1uKG0scik7dmFyIGI9dGhpcy5jb252ZXhDYXBzdWxlKHMsbSxjLGgsdCxlLG8saSxsKTtyZXR1cm4gdGhpcy5lbmFibGVGcmljdGlvblJlZHVjdGlvbiYmKHRoaXMuZW5hYmxlRnJpY3Rpb249QSksISghbHx8IWIpfHwoZCs9Yix0aGlzLmVuYWJsZUZyaWN0aW9uUmVkdWN0aW9uJiZkJiZ0aGlzLmVuYWJsZUZyaWN0aW9uJiZ0aGlzLmZyaWN0aW9uRXF1YXRpb25zLnB1c2godGhpcy5jcmVhdGVGcmljdGlvbkZyb21BdmVyYWdlKGQpKSxkKX0saS5wcm90b3R5cGVbeS5MSU5FfHkuTElORV09aS5wcm90b3R5cGUubGluZUxpbmU9ZnVuY3Rpb24odCxlLG8saSxuLHMsYSxyLGMpe3JldHVybiFjJiYwfSxpLnByb3RvdHlwZVt5LlBMQU5FfHkuTElORV09aS5wcm90b3R5cGUucGxhbmVMaW5lPWZ1bmN0aW9uKHQsZSxvLGksbixzLGwscCx1KXt2YXIgZD1BLGY9Yix2PUUseT1CLG09cSxMPVAseD13LEY9UyxNPUMsST1HLFI9MDthLnNldChkLC1zLmxlbmd0aC8yLDApLGEuc2V0KGYscy5sZW5ndGgvMiwwKSxhLnJvdGF0ZSh2LGQscCksYS5yb3RhdGUoeSxmLHApLGModix2LGwpLGMoeSx5LGwpLGEuY29weShkLHYpLGEuY29weShmLHkpLHIobSxmLGQpLGEubm9ybWFsaXplKEwsbSksYS5yb3RhdGU5MGN3KE0sTCksYS5yb3RhdGUoRixnLGkpLElbMF09ZCxJWzFdPWY7Zm9yKHZhciBWPTA7VjxJLmxlbmd0aDtWKyspe3ZhciBUPUlbVl07cih4LFQsbyk7dmFyIE49aCh4LEYpO2lmKE48MCl7aWYodSlyZXR1cm4hMDt2YXIgTz10aGlzLmNyZWF0ZUNvbnRhY3RFcXVhdGlvbih0LG4sZSxzKTtSKyssYS5jb3B5KE8ubm9ybWFsQSxGKSxhLm5vcm1hbGl6ZShPLm5vcm1hbEEsTy5ub3JtYWxBKSxhLnNjYWxlKHgsRixOKSxyKE8uY29udGFjdFBvaW50QSxULHgpLHIoTy5jb250YWN0UG9pbnRBLE8uY29udGFjdFBvaW50QSx0LnBvc2l0aW9uKSxyKE8uY29udGFjdFBvaW50QixULGwpLGMoTy5jb250YWN0UG9pbnRCLE8uY29udGFjdFBvaW50QixsKSxyKE8uY29udGFjdFBvaW50QixPLmNvbnRhY3RQb2ludEIsbi5wb3NpdGlvbiksdGhpcy5jb250YWN0RXF1YXRpb25zLnB1c2goTyksdGhpcy5lbmFibGVGcmljdGlvblJlZHVjdGlvbnx8dGhpcy5lbmFibGVGcmljdGlvbiYmdGhpcy5mcmljdGlvbkVxdWF0aW9ucy5wdXNoKHRoaXMuY3JlYXRlRnJpY3Rpb25Gcm9tQ29udGFjdChPKSl9fXJldHVybiF1JiYodGhpcy5lbmFibGVGcmljdGlvblJlZHVjdGlvbnx8UiYmdGhpcy5lbmFibGVGcmljdGlvbiYmdGhpcy5mcmljdGlvbkVxdWF0aW9ucy5wdXNoKHRoaXMuY3JlYXRlRnJpY3Rpb25Gcm9tQXZlcmFnZShSKSksUil9LGkucHJvdG90eXBlW3kuUEFSVElDTEV8eS5DQVBTVUxFXT1pLnByb3RvdHlwZS5wYXJ0aWNsZUNhcHN1bGU9ZnVuY3Rpb24odCxlLG8saSxuLHMsYSxyLGMpe3JldHVybiB0aGlzLmNpcmNsZUxpbmUodCxlLG8saSxuLHMsYSxyLGMscy5yYWRpdXMsMCl9LGkucHJvdG90eXBlW3kuQ0lSQ0xFfHkuTElORV09aS5wcm90b3R5cGUuY2lyY2xlTGluZT1mdW5jdGlvbih0LGUsbyxpLG4scyxsLHAsdSxkLGYpe3ZhciBkPWR8fDAsZj12b2lkIDAhPT1mP2Y6ZS5yYWRpdXMsdj1BLHk9YixtPUUsZz1CLFI9cSxWPVAsVD13LE49UyxPPUMsVT1MLGs9eCxfPUYsRD1NLFc9SSxqPUc7YS5zZXQoTiwtcy5sZW5ndGgvMiwwKSxhLnNldChPLHMubGVuZ3RoLzIsMCksYS5yb3RhdGUoVSxOLHApLGEucm90YXRlKGssTyxwKSxjKFUsVSxsKSxjKGssayxsKSxhLmNvcHkoTixVKSxhLmNvcHkoTyxrKSxyKFYsTyxOKSxhLm5vcm1hbGl6ZShULFYpLGEucm90YXRlOTBjdyhSLFQpLHIoXyxvLE4pO3ZhciBYPWgoXyxSKTtyKGcsTixsKSxyKEQsbyxsKTt2YXIgej1mK2Q7aWYoTWF0aC5hYnMoWCk8eil7YS5zY2FsZSh2LFIsWCkscihtLG8sdiksYS5zY2FsZSh5LFIsaChSLEQpKSxhLm5vcm1hbGl6ZSh5LHkpLGEuc2NhbGUoeSx5LGQpLGMobSxtLHkpO3ZhciBZPWgoVCxtKSxLPWgoVCxOKSxIPWgoVCxPKTtpZihZPksmJlk8SCl7aWYodSlyZXR1cm4hMDtRPXRoaXMuY3JlYXRlQ29udGFjdEVxdWF0aW9uKHQsbixlLHMpO3JldHVybiBhLnNjYWxlKFEubm9ybWFsQSx2LC0xKSxhLm5vcm1hbGl6ZShRLm5vcm1hbEEsUS5ub3JtYWxBKSxhLnNjYWxlKFEuY29udGFjdFBvaW50QSxRLm5vcm1hbEEsZiksYyhRLmNvbnRhY3RQb2ludEEsUS5jb250YWN0UG9pbnRBLG8pLHIoUS5jb250YWN0UG9pbnRBLFEuY29udGFjdFBvaW50QSx0LnBvc2l0aW9uKSxyKFEuY29udGFjdFBvaW50QixtLGwpLGMoUS5jb250YWN0UG9pbnRCLFEuY29udGFjdFBvaW50QixsKSxyKFEuY29udGFjdFBvaW50QixRLmNvbnRhY3RQb2ludEIsbi5wb3NpdGlvbiksdGhpcy5jb250YWN0RXF1YXRpb25zLnB1c2goUSksdGhpcy5lbmFibGVGcmljdGlvbiYmdGhpcy5mcmljdGlvbkVxdWF0aW9ucy5wdXNoKHRoaXMuY3JlYXRlRnJpY3Rpb25Gcm9tQ29udGFjdChRKSksMX19alswXT1OLGpbMV09Tztmb3IodmFyIFo9MDtaPGoubGVuZ3RoO1orKyl7dmFyIEo9altaXTtpZihyKF8sSixvKSxhLnNxdWFyZWRMZW5ndGgoXyk8TWF0aC5wb3coeiwyKSl7aWYodSlyZXR1cm4hMDt2YXIgUT10aGlzLmNyZWF0ZUNvbnRhY3RFcXVhdGlvbih0LG4sZSxzKTtyZXR1cm4gYS5jb3B5KFEubm9ybWFsQSxfKSxhLm5vcm1hbGl6ZShRLm5vcm1hbEEsUS5ub3JtYWxBKSxhLnNjYWxlKFEuY29udGFjdFBvaW50QSxRLm5vcm1hbEEsZiksYyhRLmNvbnRhY3RQb2ludEEsUS5jb250YWN0UG9pbnRBLG8pLHIoUS5jb250YWN0UG9pbnRBLFEuY29udGFjdFBvaW50QSx0LnBvc2l0aW9uKSxyKFEuY29udGFjdFBvaW50QixKLGwpLGEuc2NhbGUoVyxRLm5vcm1hbEEsLWQpLGMoUS5jb250YWN0UG9pbnRCLFEuY29udGFjdFBvaW50QixXKSxjKFEuY29udGFjdFBvaW50QixRLmNvbnRhY3RQb2ludEIsbCkscihRLmNvbnRhY3RQb2ludEIsUS5jb250YWN0UG9pbnRCLG4ucG9zaXRpb24pLHRoaXMuY29udGFjdEVxdWF0aW9ucy5wdXNoKFEpLHRoaXMuZW5hYmxlRnJpY3Rpb24mJnRoaXMuZnJpY3Rpb25FcXVhdGlvbnMucHVzaCh0aGlzLmNyZWF0ZUZyaWN0aW9uRnJvbUNvbnRhY3QoUSkpLDF9fXJldHVybiAwfSxpLnByb3RvdHlwZVt5LkNJUkNMRXx5LkNBUFNVTEVdPWkucHJvdG90eXBlLmNpcmNsZUNhcHN1bGU9ZnVuY3Rpb24odCxlLG8saSxuLHMsYSxyLGMpe3JldHVybiB0aGlzLmNpcmNsZUxpbmUodCxlLG8saSxuLHMsYSxyLGMscy5yYWRpdXMpfSxpLnByb3RvdHlwZVt5LkNJUkNMRXx5LkNPTlZFWF09aS5wcm90b3R5cGVbeS5DSVJDTEV8eS5CT1hdPWkucHJvdG90eXBlLmNpcmNsZUNvbnZleD1mdW5jdGlvbih0LGUsbyxpLG4saCxsLHAsdSxkKXtmb3IodmFyIGQ9XCJudW1iZXJcIj09dHlwZW9mIGQ/ZDplLnJhZGl1cyxmPUEsdj1iLHk9RSxtPUIsZz1xLFA9TCx3PXgsUz1NLEM9SSxGPVIsVD1WLE49ITEsRz1OdW1iZXIuTUFYX1ZBTFVFLE89aC52ZXJ0aWNlcyxVPTA7VSE9PU8ubGVuZ3RoKzE7VSsrKXt2YXIgaz1PW1UlTy5sZW5ndGhdLF89T1soVSsxKSVPLmxlbmd0aF07aWYoYS5yb3RhdGUoZixrLHApLGEucm90YXRlKHYsXyxwKSxjKGYsZixsKSxjKHYsdixsKSxyKHksdixmKSxhLm5vcm1hbGl6ZShtLHkpLGEucm90YXRlOTBjdyhnLG0pLGEuc2NhbGUoQyxnLC1lLnJhZGl1cyksYyhDLEMsbykscyhDLGgsbCxwKSl7YS5zdWIoRixmLEMpO3ZhciBEPU1hdGguYWJzKGEuZG90KEYsZykpO0Q8RyYmKGEuY29weShULEMpLEc9RCxhLnNjYWxlKFMsZyxEKSxhLmFkZChTLFMsQyksTj0hMCl9fWlmKE4pe2lmKHUpcmV0dXJuITA7aj10aGlzLmNyZWF0ZUNvbnRhY3RFcXVhdGlvbih0LG4sZSxoKTtyZXR1cm4gYS5zdWIoai5ub3JtYWxBLFQsbyksYS5ub3JtYWxpemUoai5ub3JtYWxBLGoubm9ybWFsQSksYS5zY2FsZShqLmNvbnRhY3RQb2ludEEsai5ub3JtYWxBLGQpLGMoai5jb250YWN0UG9pbnRBLGouY29udGFjdFBvaW50QSxvKSxyKGouY29udGFjdFBvaW50QSxqLmNvbnRhY3RQb2ludEEsdC5wb3NpdGlvbikscihqLmNvbnRhY3RQb2ludEIsUyxsKSxjKGouY29udGFjdFBvaW50QixqLmNvbnRhY3RQb2ludEIsbCkscihqLmNvbnRhY3RQb2ludEIsai5jb250YWN0UG9pbnRCLG4ucG9zaXRpb24pLHRoaXMuY29udGFjdEVxdWF0aW9ucy5wdXNoKGopLHRoaXMuZW5hYmxlRnJpY3Rpb24mJnRoaXMuZnJpY3Rpb25FcXVhdGlvbnMucHVzaCh0aGlzLmNyZWF0ZUZyaWN0aW9uRnJvbUNvbnRhY3QoaikpLDF9aWYoZD4wKWZvcihVPTA7VTxPLmxlbmd0aDtVKyspe3ZhciBXPU9bVV07aWYoYS5yb3RhdGUodyxXLHApLGModyx3LGwpLHIoUCx3LG8pLGEuc3F1YXJlZExlbmd0aChQKTxNYXRoLnBvdyhkLDIpKXtpZih1KXJldHVybiEwO3ZhciBqPXRoaXMuY3JlYXRlQ29udGFjdEVxdWF0aW9uKHQsbixlLGgpO3JldHVybiBhLmNvcHkoai5ub3JtYWxBLFApLGEubm9ybWFsaXplKGoubm9ybWFsQSxqLm5vcm1hbEEpLGEuc2NhbGUoai5jb250YWN0UG9pbnRBLGoubm9ybWFsQSxkKSxjKGouY29udGFjdFBvaW50QSxqLmNvbnRhY3RQb2ludEEsbykscihqLmNvbnRhY3RQb2ludEEsai5jb250YWN0UG9pbnRBLHQucG9zaXRpb24pLHIoai5jb250YWN0UG9pbnRCLHcsbCksYyhqLmNvbnRhY3RQb2ludEIsai5jb250YWN0UG9pbnRCLGwpLHIoai5jb250YWN0UG9pbnRCLGouY29udGFjdFBvaW50QixuLnBvc2l0aW9uKSx0aGlzLmNvbnRhY3RFcXVhdGlvbnMucHVzaChqKSx0aGlzLmVuYWJsZUZyaWN0aW9uJiZ0aGlzLmZyaWN0aW9uRXF1YXRpb25zLnB1c2godGhpcy5jcmVhdGVGcmljdGlvbkZyb21Db250YWN0KGopKSwxfX1yZXR1cm4gMH07dmFyIFg9YS5jcmVhdGUoKSx6PWEuY3JlYXRlKCksWT1hLmNyZWF0ZSgpLEs9YS5jcmVhdGUoKTtpLnByb3RvdHlwZVt5LlBBUlRJQ0xFfHkuQ09OVkVYXT1pLnByb3RvdHlwZVt5LlBBUlRJQ0xFfHkuQk9YXT1pLnByb3RvdHlwZS5wYXJ0aWNsZUNvbnZleD1mdW5jdGlvbih0LGUsbyxpLG4sbCxwLHUsZCl7dmFyIGY9QSx2PWIseT1FLG09QixnPXEsUz1QLEM9dyx4PUwsRj1NLEk9VCxSPU4sVj1OdW1iZXIuTUFYX1ZBTFVFLEc9ITEsTz1sLnZlcnRpY2VzO2lmKCFzKG8sbCxwLHUpKXJldHVybiAwO2lmKGQpcmV0dXJuITA7Zm9yKHZhciBVPTA7VSE9PU8ubGVuZ3RoKzE7VSsrKXt2YXIgaz1PW1UlTy5sZW5ndGhdLF89T1soVSsxKSVPLmxlbmd0aF07YS5yb3RhdGUoZixrLHUpLGEucm90YXRlKHYsXyx1KSxjKGYsZixwKSxjKHYsdixwKSxyKHksdixmKSxhLm5vcm1hbGl6ZShtLHkpLGEucm90YXRlOTBjdyhnLG0pLHIoeCxvLGYpO2goeCxnKTtyKFMsZixwKSxyKEMsbyxwKSxhLnN1YihJLGYsbyk7dmFyIEQ9TWF0aC5hYnMoYS5kb3QoSSxnKSk7RDxWJiYoVj1ELGEuc2NhbGUoRixnLEQpLGEuYWRkKEYsRixvKSxhLmNvcHkoUixnKSxHPSEwKX1pZihHKXt2YXIgVz10aGlzLmNyZWF0ZUNvbnRhY3RFcXVhdGlvbih0LG4sZSxsKTtyZXR1cm4gYS5zY2FsZShXLm5vcm1hbEEsUiwtMSksYS5ub3JtYWxpemUoVy5ub3JtYWxBLFcubm9ybWFsQSksYS5zZXQoVy5jb250YWN0UG9pbnRBLDAsMCksYyhXLmNvbnRhY3RQb2ludEEsVy5jb250YWN0UG9pbnRBLG8pLHIoVy5jb250YWN0UG9pbnRBLFcuY29udGFjdFBvaW50QSx0LnBvc2l0aW9uKSxyKFcuY29udGFjdFBvaW50QixGLHApLGMoVy5jb250YWN0UG9pbnRCLFcuY29udGFjdFBvaW50QixwKSxyKFcuY29udGFjdFBvaW50QixXLmNvbnRhY3RQb2ludEIsbi5wb3NpdGlvbiksdGhpcy5jb250YWN0RXF1YXRpb25zLnB1c2goVyksdGhpcy5lbmFibGVGcmljdGlvbiYmdGhpcy5mcmljdGlvbkVxdWF0aW9ucy5wdXNoKHRoaXMuY3JlYXRlRnJpY3Rpb25Gcm9tQ29udGFjdChXKSksMX1yZXR1cm4gMH0saS5wcm90b3R5cGVbeS5DSVJDTEVdPWkucHJvdG90eXBlLmNpcmNsZUNpcmNsZT1mdW5jdGlvbih0LGUsbyxpLG4scyxoLGwscCx1LGQpe3ZhciBmPUEsdT11fHxlLnJhZGl1cyxkPWR8fHMucmFkaXVzO3IoZixvLGgpO3ZhciB2PXUrZDtpZihhLnNxdWFyZWRMZW5ndGgoZik+TWF0aC5wb3codiwyKSlyZXR1cm4gMDtpZihwKXJldHVybiEwO3ZhciB5PXRoaXMuY3JlYXRlQ29udGFjdEVxdWF0aW9uKHQsbixlLHMpO3JldHVybiByKHkubm9ybWFsQSxoLG8pLGEubm9ybWFsaXplKHkubm9ybWFsQSx5Lm5vcm1hbEEpLGEuc2NhbGUoeS5jb250YWN0UG9pbnRBLHkubm9ybWFsQSx1KSxhLnNjYWxlKHkuY29udGFjdFBvaW50Qix5Lm5vcm1hbEEsLWQpLGMoeS5jb250YWN0UG9pbnRBLHkuY29udGFjdFBvaW50QSxvKSxyKHkuY29udGFjdFBvaW50QSx5LmNvbnRhY3RQb2ludEEsdC5wb3NpdGlvbiksYyh5LmNvbnRhY3RQb2ludEIseS5jb250YWN0UG9pbnRCLGgpLHIoeS5jb250YWN0UG9pbnRCLHkuY29udGFjdFBvaW50QixuLnBvc2l0aW9uKSx0aGlzLmNvbnRhY3RFcXVhdGlvbnMucHVzaCh5KSx0aGlzLmVuYWJsZUZyaWN0aW9uJiZ0aGlzLmZyaWN0aW9uRXF1YXRpb25zLnB1c2godGhpcy5jcmVhdGVGcmljdGlvbkZyb21Db250YWN0KHkpKSwxfSxpLnByb3RvdHlwZVt5LlBMQU5FfHkuQ09OVkVYXT1pLnByb3RvdHlwZVt5LlBMQU5FfHkuQk9YXT1pLnByb3RvdHlwZS5wbGFuZUNvbnZleD1mdW5jdGlvbih0LGUsbyxpLG4scyxsLHAsdSl7dmFyIGQ9QSxmPWIsdj1FLHk9MDthLnJvdGF0ZShmLGcsaSk7Zm9yKHZhciBtPTA7bSE9PXMudmVydGljZXMubGVuZ3RoO20rKyl7dmFyIEI9cy52ZXJ0aWNlc1ttXTtpZihhLnJvdGF0ZShkLEIscCksYyhkLGQsbCkscih2LGQsbyksaCh2LGYpPD0wKXtpZih1KXJldHVybiEwO3krKzt2YXIgcT10aGlzLmNyZWF0ZUNvbnRhY3RFcXVhdGlvbih0LG4sZSxzKTtyKHYsZCxvKSxhLmNvcHkocS5ub3JtYWxBLGYpO3ZhciBQPWgodixxLm5vcm1hbEEpO2Euc2NhbGUodixxLm5vcm1hbEEsUCkscihxLmNvbnRhY3RQb2ludEIsZCxuLnBvc2l0aW9uKSxyKHEuY29udGFjdFBvaW50QSxkLHYpLHIocS5jb250YWN0UG9pbnRBLHEuY29udGFjdFBvaW50QSx0LnBvc2l0aW9uKSx0aGlzLmNvbnRhY3RFcXVhdGlvbnMucHVzaChxKSx0aGlzLmVuYWJsZUZyaWN0aW9uUmVkdWN0aW9ufHx0aGlzLmVuYWJsZUZyaWN0aW9uJiZ0aGlzLmZyaWN0aW9uRXF1YXRpb25zLnB1c2godGhpcy5jcmVhdGVGcmljdGlvbkZyb21Db250YWN0KHEpKX19cmV0dXJuIHRoaXMuZW5hYmxlRnJpY3Rpb25SZWR1Y3Rpb24mJnRoaXMuZW5hYmxlRnJpY3Rpb24mJnkmJnRoaXMuZnJpY3Rpb25FcXVhdGlvbnMucHVzaCh0aGlzLmNyZWF0ZUZyaWN0aW9uRnJvbUF2ZXJhZ2UoeSkpLHl9LGkucHJvdG90eXBlW3kuUEFSVElDTEV8eS5QTEFORV09aS5wcm90b3R5cGUucGFydGljbGVQbGFuZT1mdW5jdGlvbih0LGUsbyxpLG4scyxjLGwscCl7dmFyIHU9QSxkPWI7bD1sfHwwLHIodSxvLGMpLGEucm90YXRlKGQsZyxsKTt2YXIgZj1oKHUsZCk7aWYoZj4wKXJldHVybiAwO2lmKHApcmV0dXJuITA7dmFyIHY9dGhpcy5jcmVhdGVDb250YWN0RXF1YXRpb24obix0LHMsZSk7cmV0dXJuIGEuY29weSh2Lm5vcm1hbEEsZCksYS5zY2FsZSh1LHYubm9ybWFsQSxmKSxyKHYuY29udGFjdFBvaW50QSxvLHUpLHIodi5jb250YWN0UG9pbnRBLHYuY29udGFjdFBvaW50QSxuLnBvc2l0aW9uKSxyKHYuY29udGFjdFBvaW50QixvLHQucG9zaXRpb24pLHRoaXMuY29udGFjdEVxdWF0aW9ucy5wdXNoKHYpLHRoaXMuZW5hYmxlRnJpY3Rpb24mJnRoaXMuZnJpY3Rpb25FcXVhdGlvbnMucHVzaCh0aGlzLmNyZWF0ZUZyaWN0aW9uRnJvbUNvbnRhY3QodikpLDF9LGkucHJvdG90eXBlW3kuQ0lSQ0xFfHkuUEFSVElDTEVdPWkucHJvdG90eXBlLmNpcmNsZVBhcnRpY2xlPWZ1bmN0aW9uKHQsZSxvLGksbixzLGgsbCxwKXt2YXIgdT1BO2lmKHIodSxoLG8pLGEuc3F1YXJlZExlbmd0aCh1KT5NYXRoLnBvdyhlLnJhZGl1cywyKSlyZXR1cm4gMDtpZihwKXJldHVybiEwO3ZhciBkPXRoaXMuY3JlYXRlQ29udGFjdEVxdWF0aW9uKHQsbixlLHMpO3JldHVybiBhLmNvcHkoZC5ub3JtYWxBLHUpLGEubm9ybWFsaXplKGQubm9ybWFsQSxkLm5vcm1hbEEpLGEuc2NhbGUoZC5jb250YWN0UG9pbnRBLGQubm9ybWFsQSxlLnJhZGl1cyksYyhkLmNvbnRhY3RQb2ludEEsZC5jb250YWN0UG9pbnRBLG8pLHIoZC5jb250YWN0UG9pbnRBLGQuY29udGFjdFBvaW50QSx0LnBvc2l0aW9uKSxyKGQuY29udGFjdFBvaW50QixoLG4ucG9zaXRpb24pLHRoaXMuY29udGFjdEVxdWF0aW9ucy5wdXNoKGQpLHRoaXMuZW5hYmxlRnJpY3Rpb24mJnRoaXMuZnJpY3Rpb25FcXVhdGlvbnMucHVzaCh0aGlzLmNyZWF0ZUZyaWN0aW9uRnJvbUNvbnRhY3QoZCkpLDF9O3ZhciBIPW5ldyBmKHtyYWRpdXM6MX0pLFo9YS5jcmVhdGUoKSxKPWEuY3JlYXRlKCk7YS5jcmVhdGUoKTtpLnByb3RvdHlwZVt5LlBMQU5FfHkuQ0FQU1VMRV09aS5wcm90b3R5cGUucGxhbmVDYXBzdWxlPWZ1bmN0aW9uKHQsZSxvLGksbixzLHIsaCxsKXt2YXIgcD1aLHU9SixkPUg7YS5zZXQocCwtcy5sZW5ndGgvMiwwKSxhLnJvdGF0ZShwLHAsaCksYyhwLHAsciksYS5zZXQodSxzLmxlbmd0aC8yLDApLGEucm90YXRlKHUsdSxoKSxjKHUsdSxyKSxkLnJhZGl1cz1zLnJhZGl1czt2YXIgZjt0aGlzLmVuYWJsZUZyaWN0aW9uUmVkdWN0aW9uJiYoZj10aGlzLmVuYWJsZUZyaWN0aW9uLHRoaXMuZW5hYmxlRnJpY3Rpb249ITEpO3ZhciB2PXRoaXMuY2lyY2xlUGxhbmUobixkLHAsMCx0LGUsbyxpLGwpLHk9dGhpcy5jaXJjbGVQbGFuZShuLGQsdSwwLHQsZSxvLGksbCk7aWYodGhpcy5lbmFibGVGcmljdGlvblJlZHVjdGlvbiYmKHRoaXMuZW5hYmxlRnJpY3Rpb249ZiksbClyZXR1cm4gdnx8eTt2YXIgbT12K3k7cmV0dXJuIHRoaXMuZW5hYmxlRnJpY3Rpb25SZWR1Y3Rpb24mJm0mJnRoaXMuZnJpY3Rpb25FcXVhdGlvbnMucHVzaCh0aGlzLmNyZWF0ZUZyaWN0aW9uRnJvbUF2ZXJhZ2UobSkpLG19LGkucHJvdG90eXBlW3kuQ0lSQ0xFfHkuUExBTkVdPWkucHJvdG90eXBlLmNpcmNsZVBsYW5lPWZ1bmN0aW9uKHQsZSxvLGksbixzLGwscCx1KXt2YXIgZD10LGY9ZSx2PW8seT1uLG09bCxCPXA7Qj1CfHwwO3ZhciBxPUEsUD1iLHc9RTtyKHEsdixtKSxhLnJvdGF0ZShQLGcsQik7dmFyIFM9aChQLHEpO2lmKFM+Zi5yYWRpdXMpcmV0dXJuIDA7aWYodSlyZXR1cm4hMDt2YXIgQz10aGlzLmNyZWF0ZUNvbnRhY3RFcXVhdGlvbih5LGQscyxlKTtyZXR1cm4gYS5jb3B5KEMubm9ybWFsQSxQKSxhLnNjYWxlKEMuY29udGFjdFBvaW50QixDLm5vcm1hbEEsLWYucmFkaXVzKSxjKEMuY29udGFjdFBvaW50QixDLmNvbnRhY3RQb2ludEIsdikscihDLmNvbnRhY3RQb2ludEIsQy5jb250YWN0UG9pbnRCLGQucG9zaXRpb24pLGEuc2NhbGUodyxDLm5vcm1hbEEsUykscihDLmNvbnRhY3RQb2ludEEscSx3KSxjKEMuY29udGFjdFBvaW50QSxDLmNvbnRhY3RQb2ludEEsbSkscihDLmNvbnRhY3RQb2ludEEsQy5jb250YWN0UG9pbnRBLHkucG9zaXRpb24pLHRoaXMuY29udGFjdEVxdWF0aW9ucy5wdXNoKEMpLHRoaXMuZW5hYmxlRnJpY3Rpb24mJnRoaXMuZnJpY3Rpb25FcXVhdGlvbnMucHVzaCh0aGlzLmNyZWF0ZUZyaWN0aW9uRnJvbUNvbnRhY3QoQykpLDF9LGkucHJvdG90eXBlW3kuQ09OVkVYXT1pLnByb3RvdHlwZVt5LkNPTlZFWHx5LkJPWF09aS5wcm90b3R5cGVbeS5CT1hdPWkucHJvdG90eXBlLmNvbnZleENvbnZleD1mdW5jdGlvbih0LGUsbyxuLHMsbCxwLHUsZCxmKXt2YXIgdj1BLHk9YixtPUUsZz1CLFA9cSxMPXcseD1TLEY9QyxNPTAsZj1cIm51bWJlclwiPT10eXBlb2YgZj9mOjA7aWYoIWkuZmluZFNlcGFyYXRpbmdBeGlzKGUsbyxuLGwscCx1LHYpKXJldHVybiAwO3IoeCxwLG8pLGgodix4KT4wJiZhLnNjYWxlKHYsdiwtMSk7dmFyIEk9aS5nZXRDbG9zZXN0RWRnZShlLG4sdiwhMCksUj1pLmdldENsb3Nlc3RFZGdlKGwsdSx2KTtpZigtMT09PUl8fC0xPT09UilyZXR1cm4gMDtmb3IodmFyIFY9MDtWPDI7VisrKXt2YXIgVD1JLE49UixHPWUsTz1sLFU9byxrPXAsXz1uLEQ9dSxXPXQsaj1zO2lmKDA9PT1WKXt2YXIgWDtYPVQsVD1OLE49WCxYPUcsRz1PLE89WCxYPVUsVT1rLGs9WCxYPV8sXz1ELEQ9WCxYPVcsVz1qLGo9WH1mb3IodmFyIHo9Tjt6PE4rMjt6Kyspe3ZhciBZPU8udmVydGljZXNbKHorTy52ZXJ0aWNlcy5sZW5ndGgpJU8udmVydGljZXMubGVuZ3RoXTthLnJvdGF0ZSh5LFksRCksYyh5LHksayk7Zm9yKHZhciBLPTAsSD1ULTE7SDxUKzI7SCsrKXt2YXIgWj1HLnZlcnRpY2VzWyhIK0cudmVydGljZXMubGVuZ3RoKSVHLnZlcnRpY2VzLmxlbmd0aF0sSj1HLnZlcnRpY2VzWyhIKzErRy52ZXJ0aWNlcy5sZW5ndGgpJUcudmVydGljZXMubGVuZ3RoXTthLnJvdGF0ZShtLFosXyksYS5yb3RhdGUoZyxKLF8pLGMobSxtLFUpLGMoZyxnLFUpLHIoUCxnLG0pLGEucm90YXRlOTBjdyhGLFApLGEubm9ybWFsaXplKEYsRikscih4LHksbSk7JD1oKEYseCk7KEg9PT1UJiYkPD1mfHxIIT09VCYmJDw9MCkmJksrK31pZihLPj0zKXtpZihkKXJldHVybiEwO3ZhciBRPXRoaXMuY3JlYXRlQ29udGFjdEVxdWF0aW9uKFcsaixHLE8pO00rKzt2YXIgWj1HLnZlcnRpY2VzW1QlRy52ZXJ0aWNlcy5sZW5ndGhdLEo9Ry52ZXJ0aWNlc1soVCsxKSVHLnZlcnRpY2VzLmxlbmd0aF07YS5yb3RhdGUobSxaLF8pLGEucm90YXRlKGcsSixfKSxjKG0sbSxVKSxjKGcsZyxVKSxyKFAsZyxtKSxhLnJvdGF0ZTkwY3coUS5ub3JtYWxBLFApLGEubm9ybWFsaXplKFEubm9ybWFsQSxRLm5vcm1hbEEpLHIoeCx5LG0pO3ZhciAkPWgoUS5ub3JtYWxBLHgpO2Euc2NhbGUoTCxRLm5vcm1hbEEsJCkscihRLmNvbnRhY3RQb2ludEEseSxVKSxyKFEuY29udGFjdFBvaW50QSxRLmNvbnRhY3RQb2ludEEsTCksYyhRLmNvbnRhY3RQb2ludEEsUS5jb250YWN0UG9pbnRBLFUpLHIoUS5jb250YWN0UG9pbnRBLFEuY29udGFjdFBvaW50QSxXLnBvc2l0aW9uKSxyKFEuY29udGFjdFBvaW50Qix5LGspLGMoUS5jb250YWN0UG9pbnRCLFEuY29udGFjdFBvaW50QixrKSxyKFEuY29udGFjdFBvaW50QixRLmNvbnRhY3RQb2ludEIsai5wb3NpdGlvbiksdGhpcy5jb250YWN0RXF1YXRpb25zLnB1c2goUSksdGhpcy5lbmFibGVGcmljdGlvblJlZHVjdGlvbnx8dGhpcy5lbmFibGVGcmljdGlvbiYmdGhpcy5mcmljdGlvbkVxdWF0aW9ucy5wdXNoKHRoaXMuY3JlYXRlRnJpY3Rpb25Gcm9tQ29udGFjdChRKSl9fX1yZXR1cm4gdGhpcy5lbmFibGVGcmljdGlvblJlZHVjdGlvbiYmdGhpcy5lbmFibGVGcmljdGlvbiYmTSYmdGhpcy5mcmljdGlvbkVxdWF0aW9ucy5wdXNoKHRoaXMuY3JlYXRlRnJpY3Rpb25Gcm9tQXZlcmFnZShNKSksTX07dmFyIFE9YS5mcm9tVmFsdWVzKDAsMCk7aS5wcm9qZWN0Q29udmV4T250b0F4aXM9ZnVuY3Rpb24odCxlLG8saSxuKXt2YXIgcyxyLGM9bnVsbCxsPW51bGwscD1RO2Eucm90YXRlKHAsaSwtbyk7Zm9yKHZhciB1PTA7dTx0LnZlcnRpY2VzLmxlbmd0aDt1Kyspcz10LnZlcnRpY2VzW3VdLHI9aChzLHApLChudWxsPT09Y3x8cj5jKSYmKGM9ciksKG51bGw9PT1sfHxyPGwpJiYobD1yKTtpZihsPmMpe3ZhciBkPWw7bD1jLGM9ZH12YXIgZj1oKGUsaSk7YS5zZXQobixsK2YsYytmKX07dmFyICQ9YS5mcm9tVmFsdWVzKDAsMCksdHQ9YS5mcm9tVmFsdWVzKDAsMCksZXQ9YS5mcm9tVmFsdWVzKDAsMCksb3Q9YS5mcm9tVmFsdWVzKDAsMCksaXQ9YS5mcm9tVmFsdWVzKDAsMCksbnQ9YS5mcm9tVmFsdWVzKDAsMCk7aS5maW5kU2VwYXJhdGluZ0F4aXM9ZnVuY3Rpb24odCxlLG8sbixzLGMsaCl7dmFyIGw9bnVsbCxwPSExLHU9ITEsZD0kLGY9dHQsdj1ldCx5PW90LGc9aXQsQT1udDtpZih0IGluc3RhbmNlb2YgbSYmbiBpbnN0YW5jZW9mIG0pZm9yKFA9MDsyIT09UDtQKyspe3ZhciBiPXQsRT1vOzE9PT1QJiYoYj1uLEU9Yyk7Zm9yKHc9MDsyIT09dzt3KyspezA9PT13P2Euc2V0KHksMCwxKToxPT09dyYmYS5zZXQoeSwxLDApLDAhPT1FJiZhLnJvdGF0ZSh5LHksRSksaS5wcm9qZWN0Q29udmV4T250b0F4aXModCxlLG8seSxnKSxpLnByb2plY3RDb252ZXhPbnRvQXhpcyhuLHMsYyx5LEEpO3ZhciBCPWcscT1BO2dbMF0+QVswXSYmKHE9ZyxCPUEsITApLHA9KFM9cVswXS1CWzFdKTw9MCwobnVsbD09PWx8fFM+bCkmJihhLmNvcHkoaCx5KSxsPVMsdT1wKX19ZWxzZSBmb3IodmFyIFA9MDsyIT09UDtQKyspe3ZhciBiPXQsRT1vOzE9PT1QJiYoYj1uLEU9Yyk7Zm9yKHZhciB3PTA7dyE9PWIudmVydGljZXMubGVuZ3RoO3crKyl7YS5yb3RhdGUoZixiLnZlcnRpY2VzW3ddLEUpLGEucm90YXRlKHYsYi52ZXJ0aWNlc1sodysxKSViLnZlcnRpY2VzLmxlbmd0aF0sRSkscihkLHYsZiksYS5yb3RhdGU5MGN3KHksZCksYS5ub3JtYWxpemUoeSx5KSxpLnByb2plY3RDb252ZXhPbnRvQXhpcyh0LGUsbyx5LGcpLGkucHJvamVjdENvbnZleE9udG9BeGlzKG4scyxjLHksQSk7dmFyIEI9ZyxxPUE7Z1swXT5BWzBdJiYocT1nLEI9QSwhMCk7dmFyIFM9cVswXS1CWzFdO3A9Uzw9MCwobnVsbD09PWx8fFM+bCkmJihhLmNvcHkoaCx5KSxsPVMsdT1wKX19cmV0dXJuIHV9O3ZhciBzdD1hLmZyb21WYWx1ZXMoMCwwKSxhdD1hLmZyb21WYWx1ZXMoMCwwKSxydD1hLmZyb21WYWx1ZXMoMCwwKTtpLmdldENsb3Nlc3RFZGdlPWZ1bmN0aW9uKHQsZSxvLGkpe3ZhciBuPXN0LHM9YXQsYz1ydDthLnJvdGF0ZShuLG8sLWUpLGkmJmEuc2NhbGUobixuLC0xKTtmb3IodmFyIGw9LTEscD10LnZlcnRpY2VzLmxlbmd0aCx1PS0xLGQ9MDtkIT09cDtkKyspe3Iocyx0LnZlcnRpY2VzWyhkKzEpJXBdLHQudmVydGljZXNbZCVwXSksYS5yb3RhdGU5MGN3KGMscyksYS5ub3JtYWxpemUoYyxjKTt2YXIgZj1oKGMsbik7KC0xPT09bHx8Zj51KSYmKGw9ZCVwLHU9Zil9cmV0dXJuIGx9O3ZhciBjdD1hLmNyZWF0ZSgpLGh0PWEuY3JlYXRlKCksbHQ9YS5jcmVhdGUoKSxwdD1hLmNyZWF0ZSgpLHV0PWEuY3JlYXRlKCksZHQ9YS5jcmVhdGUoKSxmdD1hLmNyZWF0ZSgpO2kucHJvdG90eXBlW3kuQ0lSQ0xFfHkuSEVJR0hURklFTERdPWkucHJvdG90eXBlLmNpcmNsZUhlaWdodGZpZWxkPWZ1bmN0aW9uKHQsZSxvLGksbixzLGgsbCxwLHUpe3ZhciBkPXMuaGVpZ2h0cyx1PXV8fGUucmFkaXVzLGY9cy5lbGVtZW50V2lkdGgsdj1odCx5PWN0LG09dXQsZz1mdCxBPWR0LGI9bHQsRT1wdCxCPU1hdGguZmxvb3IoKG9bMF0tdS1oWzBdKS9mKSxxPU1hdGguY2VpbCgob1swXSt1LWhbMF0pL2YpO0I8MCYmKEI9MCkscT49ZC5sZW5ndGgmJihxPWQubGVuZ3RoLTEpO2Zvcih2YXIgUD1kW0JdLHc9ZFtxXSxTPUI7UzxxO1MrKylkW1NdPHcmJih3PWRbU10pLGRbU10+UCYmKFA9ZFtTXSk7aWYob1sxXS11PlApcmV0dXJuIXAmJjA7Zm9yKHZhciBDPSExLFM9QjtTPHE7UysrKXthLnNldChiLFMqZixkW1NdKSxhLnNldChFLChTKzEpKmYsZFtTKzFdKSxhLmFkZChiLGIsaCksYS5hZGQoRSxFLGgpLGEuc3ViKEEsRSxiKSxhLnJvdGF0ZShBLEEsTWF0aC5QSS8yKSxhLm5vcm1hbGl6ZShBLEEpLGEuc2NhbGUoeSxBLC11KSxhLmFkZCh5LHksbyksYS5zdWIodix5LGIpO3ZhciBMPWEuZG90KHYsQSk7aWYoeVswXT49YlswXSYmeVswXTxFWzBdJiZMPD0wKXtpZihwKXJldHVybiEwO0M9ITAsYS5zY2FsZSh2LEEsLUwpLGEuYWRkKG0seSx2KSxhLmNvcHkoZyxBKTt4PXRoaXMuY3JlYXRlQ29udGFjdEVxdWF0aW9uKG4sdCxzLGUpO2EuY29weSh4Lm5vcm1hbEEsZyksYS5zY2FsZSh4LmNvbnRhY3RQb2ludEIseC5ub3JtYWxBLC11KSxjKHguY29udGFjdFBvaW50Qix4LmNvbnRhY3RQb2ludEIsbykscih4LmNvbnRhY3RQb2ludEIseC5jb250YWN0UG9pbnRCLHQucG9zaXRpb24pLGEuY29weSh4LmNvbnRhY3RQb2ludEEsbSksYS5zdWIoeC5jb250YWN0UG9pbnRBLHguY29udGFjdFBvaW50QSxuLnBvc2l0aW9uKSx0aGlzLmNvbnRhY3RFcXVhdGlvbnMucHVzaCh4KSx0aGlzLmVuYWJsZUZyaWN0aW9uJiZ0aGlzLmZyaWN0aW9uRXF1YXRpb25zLnB1c2godGhpcy5jcmVhdGVGcmljdGlvbkZyb21Db250YWN0KHgpKX19aWYoQz0hMSx1PjApZm9yKFM9QjtTPD1xO1MrKylpZihhLnNldChiLFMqZixkW1NdKSxhLmFkZChiLGIsaCksYS5zdWIodixvLGIpLGEuc3F1YXJlZExlbmd0aCh2KTxNYXRoLnBvdyh1LDIpKXtpZihwKXJldHVybiEwO0M9ITA7dmFyIHg9dGhpcy5jcmVhdGVDb250YWN0RXF1YXRpb24obix0LHMsZSk7YS5jb3B5KHgubm9ybWFsQSx2KSxhLm5vcm1hbGl6ZSh4Lm5vcm1hbEEseC5ub3JtYWxBKSxhLnNjYWxlKHguY29udGFjdFBvaW50Qix4Lm5vcm1hbEEsLXUpLGMoeC5jb250YWN0UG9pbnRCLHguY29udGFjdFBvaW50QixvKSxyKHguY29udGFjdFBvaW50Qix4LmNvbnRhY3RQb2ludEIsdC5wb3NpdGlvbikscih4LmNvbnRhY3RQb2ludEEsYixoKSxjKHguY29udGFjdFBvaW50QSx4LmNvbnRhY3RQb2ludEEsaCkscih4LmNvbnRhY3RQb2ludEEseC5jb250YWN0UG9pbnRBLG4ucG9zaXRpb24pLHRoaXMuY29udGFjdEVxdWF0aW9ucy5wdXNoKHgpLHRoaXMuZW5hYmxlRnJpY3Rpb24mJnRoaXMuZnJpY3Rpb25FcXVhdGlvbnMucHVzaCh0aGlzLmNyZWF0ZUZyaWN0aW9uRnJvbUNvbnRhY3QoeCkpfXJldHVybiBDPzE6MH07dmFyIHZ0PWEuY3JlYXRlKCkseXQ9YS5jcmVhdGUoKSxtdD1hLmNyZWF0ZSgpLGd0PW5ldyB2KHt2ZXJ0aWNlczpbYS5jcmVhdGUoKSxhLmNyZWF0ZSgpLGEuY3JlYXRlKCksYS5jcmVhdGUoKV19KTtpLnByb3RvdHlwZVt5LkJPWHx5LkhFSUdIVEZJRUxEXT1pLnByb3RvdHlwZVt5LkNPTlZFWHx5LkhFSUdIVEZJRUxEXT1pLnByb3RvdHlwZS5jb252ZXhIZWlnaHRmaWVsZD1mdW5jdGlvbih0LGUsbyxpLG4scyxyLGMsaCl7dmFyIGw9cy5oZWlnaHRzLHA9cy5lbGVtZW50V2lkdGgsdT12dCxkPXl0LGY9bXQsdj1ndCx5PU1hdGguZmxvb3IoKHQuYWFiYi5sb3dlckJvdW5kWzBdLXJbMF0pL3ApLG09TWF0aC5jZWlsKCh0LmFhYmIudXBwZXJCb3VuZFswXS1yWzBdKS9wKTt5PDAmJih5PTApLG0+PWwubGVuZ3RoJiYobT1sLmxlbmd0aC0xKTtmb3IodmFyIGc9bFt5XSxBPWxbbV0sYj15O2I8bTtiKyspbFtiXTxBJiYoQT1sW2JdKSxsW2JdPmcmJihnPWxbYl0pO2lmKHQuYWFiYi5sb3dlckJvdW5kWzFdPmcpcmV0dXJuIWgmJjA7Zm9yKHZhciBFPTAsYj15O2I8bTtiKyspe2Euc2V0KHUsYipwLGxbYl0pLGEuc2V0KGQsKGIrMSkqcCxsW2IrMV0pLGEuYWRkKHUsdSxyKSxhLmFkZChkLGQscik7YS5zZXQoZiwuNSooZFswXSt1WzBdKSwuNSooZFsxXSt1WzFdLTEwMCkpLGEuc3ViKHYudmVydGljZXNbMF0sZCxmKSxhLnN1Yih2LnZlcnRpY2VzWzFdLHUsZiksYS5jb3B5KHYudmVydGljZXNbMl0sdi52ZXJ0aWNlc1sxXSksYS5jb3B5KHYudmVydGljZXNbM10sdi52ZXJ0aWNlc1swXSksdi52ZXJ0aWNlc1syXVsxXS09MTAwLHYudmVydGljZXNbM11bMV0tPTEwMCxFKz10aGlzLmNvbnZleENvbnZleCh0LGUsbyxpLG4sdixmLDAsaCl9cmV0dXJuIEV9fSx7XCIuLi9lcXVhdGlvbnMvQ29udGFjdEVxdWF0aW9uXCI6MjEsXCIuLi9lcXVhdGlvbnMvRXF1YXRpb25cIjoyMixcIi4uL2VxdWF0aW9ucy9GcmljdGlvbkVxdWF0aW9uXCI6MjMsXCIuLi9tYXRoL3ZlYzJcIjozMCxcIi4uL29iamVjdHMvQm9keVwiOjMxLFwiLi4vc2hhcGVzL0JveFwiOjM3LFwiLi4vc2hhcGVzL0NpcmNsZVwiOjM5LFwiLi4vc2hhcGVzL0NvbnZleFwiOjQwLFwiLi4vc2hhcGVzL1NoYXBlXCI6NDUsXCIuLi91dGlscy9Db250YWN0RXF1YXRpb25Qb29sXCI6NDgsXCIuLi91dGlscy9GcmljdGlvbkVxdWF0aW9uUG9vbFwiOjQ5LFwiLi4vdXRpbHMvVHVwbGVEaWN0aW9uYXJ5XCI6NTYsXCIuLi91dGlscy9VdGlsc1wiOjU3fV0sMTE6W2Z1bmN0aW9uKHQsZSxvKXtmdW5jdGlvbiBpKHQpe3Q9dHx8e30sdGhpcy5mcm9tPXQuZnJvbT9zLmZyb21WYWx1ZXModC5mcm9tWzBdLHQuZnJvbVsxXSk6cy5jcmVhdGUoKSx0aGlzLnRvPXQudG8/cy5mcm9tVmFsdWVzKHQudG9bMF0sdC50b1sxXSk6cy5jcmVhdGUoKSx0aGlzLmNoZWNrQ29sbGlzaW9uUmVzcG9uc2U9dm9pZCAwPT09dC5jaGVja0NvbGxpc2lvblJlc3BvbnNlfHx0LmNoZWNrQ29sbGlzaW9uUmVzcG9uc2UsdGhpcy5za2lwQmFja2ZhY2VzPSEhdC5za2lwQmFja2ZhY2VzLHRoaXMuY29sbGlzaW9uTWFzaz12b2lkIDAhPT10LmNvbGxpc2lvbk1hc2s/dC5jb2xsaXNpb25NYXNrOi0xLHRoaXMuY29sbGlzaW9uR3JvdXA9dm9pZCAwIT09dC5jb2xsaXNpb25Hcm91cD90LmNvbGxpc2lvbkdyb3VwOi0xLHRoaXMubW9kZT12b2lkIDAhPT10Lm1vZGU/dC5tb2RlOmkuQU5ZLHRoaXMuY2FsbGJhY2s9dC5jYWxsYmFja3x8ZnVuY3Rpb24odCl7fSx0aGlzLmRpcmVjdGlvbj1zLmNyZWF0ZSgpLHRoaXMubGVuZ3RoPTEsdGhpcy51cGRhdGUoKX1mdW5jdGlvbiBuKHQsZSxvKXtzLnN1YihyLG8sdCk7dmFyIGk9cy5kb3QocixlKTtyZXR1cm4gcy5zY2FsZShjLGUsaSkscy5hZGQoYyxjLHQpLHMuc3F1YXJlZERpc3RhbmNlKG8sYyl9ZS5leHBvcnRzPWk7dmFyIHM9dChcIi4uL21hdGgvdmVjMlwiKTt0KFwiLi4vY29sbGlzaW9uL1JheWNhc3RSZXN1bHRcIiksdChcIi4uL3NoYXBlcy9TaGFwZVwiKSx0KFwiLi4vY29sbGlzaW9uL0FBQkJcIik7aS5wcm90b3R5cGUuY29uc3RydWN0b3I9aSxpLkNMT1NFU1Q9MSxpLkFOWT0yLGkuQUxMPTQsaS5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5kaXJlY3Rpb247cy5zdWIodCx0aGlzLnRvLHRoaXMuZnJvbSksdGhpcy5sZW5ndGg9cy5sZW5ndGgodCkscy5ub3JtYWxpemUodCx0KX0saS5wcm90b3R5cGUuaW50ZXJzZWN0Qm9kaWVzPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBvPTAsaT1lLmxlbmd0aDshdC5zaG91bGRTdG9wKHRoaXMpJiZvPGk7bysrKXt2YXIgbj1lW29dLHM9bi5nZXRBQUJCKCk7KHMub3ZlcmxhcHNSYXkodGhpcyk+PTB8fHMuY29udGFpbnNQb2ludCh0aGlzLmZyb20pKSYmdGhpcy5pbnRlcnNlY3RCb2R5KHQsbil9fTt2YXIgYT1zLmNyZWF0ZSgpO2kucHJvdG90eXBlLmludGVyc2VjdEJvZHk9ZnVuY3Rpb24odCxlKXt2YXIgbz10aGlzLmNoZWNrQ29sbGlzaW9uUmVzcG9uc2U7aWYoIW98fGUuY29sbGlzaW9uUmVzcG9uc2UpZm9yKHZhciBpPWEsbj0wLHI9ZS5zaGFwZXMubGVuZ3RoO248cjtuKyspe3ZhciBjPWUuc2hhcGVzW25dO2lmKCghb3x8Yy5jb2xsaXNpb25SZXNwb25zZSkmJigwIT0odGhpcy5jb2xsaXNpb25Hcm91cCZjLmNvbGxpc2lvbk1hc2spJiYwIT0oYy5jb2xsaXNpb25Hcm91cCZ0aGlzLmNvbGxpc2lvbk1hc2spKSl7cy5yb3RhdGUoaSxjLnBvc2l0aW9uLGUuYW5nbGUpLHMuYWRkKGksaSxlLnBvc2l0aW9uKTt2YXIgaD1jLmFuZ2xlK2UuYW5nbGU7aWYodGhpcy5pbnRlcnNlY3RTaGFwZSh0LGMsaCxpLGUpLHQuc2hvdWxkU3RvcCh0aGlzKSlicmVha319fSxpLnByb3RvdHlwZS5pbnRlcnNlY3RTaGFwZT1mdW5jdGlvbih0LGUsbyxpLHMpe24odGhpcy5mcm9tLHRoaXMuZGlyZWN0aW9uLGkpPmUuYm91bmRpbmdSYWRpdXMqZS5ib3VuZGluZ1JhZGl1c3x8KHRoaXMuX2N1cnJlbnRCb2R5PXMsdGhpcy5fY3VycmVudFNoYXBlPWUsZS5yYXljYXN0KHQsdGhpcyxpLG8pLHRoaXMuX2N1cnJlbnRCb2R5PXRoaXMuX2N1cnJlbnRTaGFwZT1udWxsKX0saS5wcm90b3R5cGUuZ2V0QUFCQj1mdW5jdGlvbih0KXt2YXIgZT10aGlzLnRvLG89dGhpcy5mcm9tO3Muc2V0KHQubG93ZXJCb3VuZCxNYXRoLm1pbihlWzBdLG9bMF0pLE1hdGgubWluKGVbMV0sb1sxXSkpLHMuc2V0KHQudXBwZXJCb3VuZCxNYXRoLm1heChlWzBdLG9bMF0pLE1hdGgubWF4KGVbMV0sb1sxXSkpfTtzLmNyZWF0ZSgpO2kucHJvdG90eXBlLnJlcG9ydEludGVyc2VjdGlvbj1mdW5jdGlvbih0LGUsbyxuKXt0aGlzLmZyb20sdGhpcy50bzt2YXIgYT10aGlzLl9jdXJyZW50U2hhcGUscj10aGlzLl9jdXJyZW50Qm9keTtpZighKHRoaXMuc2tpcEJhY2tmYWNlcyYmcy5kb3Qobyx0aGlzLmRpcmVjdGlvbik+MCkpc3dpdGNoKHRoaXMubW9kZSl7Y2FzZSBpLkFMTDp0LnNldChvLGEscixlLG4pLHRoaXMuY2FsbGJhY2sodCk7YnJlYWs7Y2FzZSBpLkNMT1NFU1Q6KGU8dC5mcmFjdGlvbnx8IXQuaGFzSGl0KCkpJiZ0LnNldChvLGEscixlLG4pO2JyZWFrO2Nhc2UgaS5BTlk6dC5zZXQobyxhLHIsZSxuKX19O3ZhciByPXMuY3JlYXRlKCksYz1zLmNyZWF0ZSgpfSx7XCIuLi9jb2xsaXNpb24vQUFCQlwiOjcsXCIuLi9jb2xsaXNpb24vUmF5Y2FzdFJlc3VsdFwiOjEyLFwiLi4vbWF0aC92ZWMyXCI6MzAsXCIuLi9zaGFwZXMvU2hhcGVcIjo0NX1dLDEyOltmdW5jdGlvbih0LGUsbyl7ZnVuY3Rpb24gaSgpe3RoaXMubm9ybWFsPW4uY3JlYXRlKCksdGhpcy5zaGFwZT1udWxsLHRoaXMuYm9keT1udWxsLHRoaXMuZmFjZUluZGV4PS0xLHRoaXMuZnJhY3Rpb249LTEsdGhpcy5pc1N0b3BwZWQ9ITF9dmFyIG49dChcIi4uL21hdGgvdmVjMlwiKSxzPXQoXCIuLi9jb2xsaXNpb24vUmF5XCIpO2UuZXhwb3J0cz1pLGkucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7bi5zZXQodGhpcy5ub3JtYWwsMCwwKSx0aGlzLnNoYXBlPW51bGwsdGhpcy5ib2R5PW51bGwsdGhpcy5mYWNlSW5kZXg9LTEsdGhpcy5mcmFjdGlvbj0tMSx0aGlzLmlzU3RvcHBlZD0hMX0saS5wcm90b3R5cGUuZ2V0SGl0RGlzdGFuY2U9ZnVuY3Rpb24odCl7cmV0dXJuIG4uZGlzdGFuY2UodC5mcm9tLHQudG8pKnRoaXMuZnJhY3Rpb259LGkucHJvdG90eXBlLmhhc0hpdD1mdW5jdGlvbigpe3JldHVybi0xIT09dGhpcy5mcmFjdGlvbn0saS5wcm90b3R5cGUuZ2V0SGl0UG9pbnQ9ZnVuY3Rpb24odCxlKXtuLmxlcnAodCxlLmZyb20sZS50byx0aGlzLmZyYWN0aW9uKX0saS5wcm90b3R5cGUuc3RvcD1mdW5jdGlvbigpe3RoaXMuaXNTdG9wcGVkPSEwfSxpLnByb3RvdHlwZS5zaG91bGRTdG9wPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmlzU3RvcHBlZHx8LTEhPT10aGlzLmZyYWN0aW9uJiZ0Lm1vZGU9PT1zLkFOWX0saS5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKHQsZSxvLGkscyl7bi5jb3B5KHRoaXMubm9ybWFsLHQpLHRoaXMuc2hhcGU9ZSx0aGlzLmJvZHk9byx0aGlzLmZyYWN0aW9uPWksdGhpcy5mYWNlSW5kZXg9c319LHtcIi4uL2NvbGxpc2lvbi9SYXlcIjoxMSxcIi4uL21hdGgvdmVjMlwiOjMwfV0sMTM6W2Z1bmN0aW9uKHQsZSxvKXtmdW5jdGlvbiBpKCl7cy5jYWxsKHRoaXMscy5TQVApLHRoaXMuYXhpc0xpc3Q9W10sdGhpcy5heGlzSW5kZXg9MDt2YXIgdD10aGlzO3RoaXMuX2FkZEJvZHlIYW5kbGVyPWZ1bmN0aW9uKGUpe3QuYXhpc0xpc3QucHVzaChlLmJvZHkpfSx0aGlzLl9yZW1vdmVCb2R5SGFuZGxlcj1mdW5jdGlvbihlKXt2YXIgbz10LmF4aXNMaXN0LmluZGV4T2YoZS5ib2R5KTstMSE9PW8mJnQuYXhpc0xpc3Quc3BsaWNlKG8sMSl9fXZhciBuPXQoXCIuLi91dGlscy9VdGlsc1wiKSxzPXQoXCIuLi9jb2xsaXNpb24vQnJvYWRwaGFzZVwiKTtlLmV4cG9ydHM9aSwoaS5wcm90b3R5cGU9bmV3IHMpLmNvbnN0cnVjdG9yPWksaS5wcm90b3R5cGUuc2V0V29ybGQ9ZnVuY3Rpb24odCl7dGhpcy5heGlzTGlzdC5sZW5ndGg9MCxuLmFwcGVuZEFycmF5KHRoaXMuYXhpc0xpc3QsdC5ib2RpZXMpLHQub2ZmKFwiYWRkQm9keVwiLHRoaXMuX2FkZEJvZHlIYW5kbGVyKS5vZmYoXCJyZW1vdmVCb2R5XCIsdGhpcy5fcmVtb3ZlQm9keUhhbmRsZXIpLHQub24oXCJhZGRCb2R5XCIsdGhpcy5fYWRkQm9keUhhbmRsZXIpLm9uKFwicmVtb3ZlQm9keVwiLHRoaXMuX3JlbW92ZUJvZHlIYW5kbGVyKSx0aGlzLndvcmxkPXR9LGkuc29ydEF4aXNMaXN0PWZ1bmN0aW9uKHQsZSl7ZXw9MDtmb3IodmFyIG89MSxpPXQubGVuZ3RoO288aTtvKyspe2Zvcih2YXIgbj10W29dLHM9by0xO3M+PTAmJiEodFtzXS5hYWJiLmxvd2VyQm91bmRbZV08PW4uYWFiYi5sb3dlckJvdW5kW2VdKTtzLS0pdFtzKzFdPXRbc107dFtzKzFdPW59cmV0dXJuIHR9LGkucHJvdG90eXBlLnNvcnRMaXN0PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5heGlzTGlzdCxlPXRoaXMuYXhpc0luZGV4O2kuc29ydEF4aXNMaXN0KHQsZSl9LGkucHJvdG90eXBlLmdldENvbGxpc2lvblBhaXJzPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuYXhpc0xpc3Qsbz10aGlzLnJlc3VsdCxpPXRoaXMuYXhpc0luZGV4O28ubGVuZ3RoPTA7Zm9yKHZhciBuPWUubGVuZ3RoO24tLTspe3ZhciBhPWVbbl07YS5hYWJiTmVlZHNVcGRhdGUmJmEudXBkYXRlQUFCQigpfXRoaXMuc29ydExpc3QoKTtmb3IodmFyIHI9MCxjPTB8ZS5sZW5ndGg7ciE9PWM7cisrKWZvcih2YXIgaD1lW3JdLGw9cisxO2w8YztsKyspe3ZhciBwPWVbbF07aWYoIShwLmFhYmIubG93ZXJCb3VuZFtpXTw9aC5hYWJiLnVwcGVyQm91bmRbaV0pKWJyZWFrO3MuY2FuQ29sbGlkZShoLHApJiZ0aGlzLmJvdW5kaW5nVm9sdW1lQ2hlY2soaCxwKSYmby5wdXNoKGgscCl9cmV0dXJuIG99LGkucHJvdG90eXBlLmFhYmJRdWVyeT1mdW5jdGlvbih0LGUsbyl7bz1vfHxbXSx0aGlzLnNvcnRMaXN0KCk7dmFyIGk9dGhpcy5heGlzSW5kZXgsbj1cInhcIjsxPT09aSYmKG49XCJ5XCIpLDI9PT1pJiYobj1cInpcIik7Zm9yKHZhciBzPXRoaXMuYXhpc0xpc3QsYT0oZS5sb3dlckJvdW5kW25dLGUudXBwZXJCb3VuZFtuXSwwKTthPHMubGVuZ3RoO2ErKyl7dmFyIHI9c1thXTtyLmFhYmJOZWVkc1VwZGF0ZSYmci51cGRhdGVBQUJCKCksci5hYWJiLm92ZXJsYXBzKGUpJiZvLnB1c2gocil9cmV0dXJuIG99fSx7XCIuLi9jb2xsaXNpb24vQnJvYWRwaGFzZVwiOjgsXCIuLi91dGlscy9VdGlsc1wiOjU3fV0sMTQ6W2Z1bmN0aW9uKHQsZSxvKXtmdW5jdGlvbiBpKHQsZSxvLGkpe3RoaXMudHlwZT1vLGk9bi5kZWZhdWx0cyhpLHtjb2xsaWRlQ29ubmVjdGVkOiEwLHdha2VVcEJvZGllczohMH0pLHRoaXMuZXF1YXRpb25zPVtdLHRoaXMuYm9keUE9dCx0aGlzLmJvZHlCPWUsdGhpcy5jb2xsaWRlQ29ubmVjdGVkPWkuY29sbGlkZUNvbm5lY3RlZCxpLndha2VVcEJvZGllcyYmKHQmJnQud2FrZVVwKCksZSYmZS53YWtlVXAoKSl9ZS5leHBvcnRzPWk7dmFyIG49dChcIi4uL3V0aWxzL1V0aWxzXCIpO2kucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcihcIm1ldGhvZCB1cGRhdGUoKSBub3QgaW1wbG1lbWVudGVkIGluIHRoaXMgQ29uc3RyYWludCBzdWJjbGFzcyFcIil9LGkuRElTVEFOQ0U9MSxpLkdFQVI9MixpLkxPQ0s9MyxpLlBSSVNNQVRJQz00LGkuUkVWT0xVVEU9NSxpLnByb3RvdHlwZS5zZXRTdGlmZm5lc3M9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMuZXF1YXRpb25zLG89MDtvIT09ZS5sZW5ndGg7bysrKXt2YXIgaT1lW29dO2kuc3RpZmZuZXNzPXQsaS5uZWVkc1VwZGF0ZT0hMH19LGkucHJvdG90eXBlLnNldFJlbGF4YXRpb249ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMuZXF1YXRpb25zLG89MDtvIT09ZS5sZW5ndGg7bysrKXt2YXIgaT1lW29dO2kucmVsYXhhdGlvbj10LGkubmVlZHNVcGRhdGU9ITB9fX0se1wiLi4vdXRpbHMvVXRpbHNcIjo1N31dLDE1OltmdW5jdGlvbih0LGUsbyl7ZnVuY3Rpb24gaSh0LGUsbyl7bz1yLmRlZmF1bHRzKG8se2xvY2FsQW5jaG9yQTpbMCwwXSxsb2NhbEFuY2hvckI6WzAsMF19KSxuLmNhbGwodGhpcyx0LGUsbi5ESVNUQU5DRSxvKSx0aGlzLmxvY2FsQW5jaG9yQT1hLmZyb21WYWx1ZXMoby5sb2NhbEFuY2hvckFbMF0sby5sb2NhbEFuY2hvckFbMV0pLHRoaXMubG9jYWxBbmNob3JCPWEuZnJvbVZhbHVlcyhvLmxvY2FsQW5jaG9yQlswXSxvLmxvY2FsQW5jaG9yQlsxXSk7dmFyIGk9dGhpcy5sb2NhbEFuY2hvckEsYz10aGlzLmxvY2FsQW5jaG9yQjtpZih0aGlzLmRpc3RhbmNlPTAsXCJudW1iZXJcIj09dHlwZW9mIG8uZGlzdGFuY2UpdGhpcy5kaXN0YW5jZT1vLmRpc3RhbmNlO2Vsc2V7dmFyIGg9YS5jcmVhdGUoKSxsPWEuY3JlYXRlKCkscD1hLmNyZWF0ZSgpO2Eucm90YXRlKGgsaSx0LmFuZ2xlKSxhLnJvdGF0ZShsLGMsZS5hbmdsZSksYS5hZGQocCxlLnBvc2l0aW9uLGwpLGEuc3ViKHAscCxoKSxhLnN1YihwLHAsdC5wb3NpdGlvbiksdGhpcy5kaXN0YW5jZT1hLmxlbmd0aChwKX12YXIgdTt1PXZvaWQgMD09PW8ubWF4Rm9yY2U/TnVtYmVyLk1BWF9WQUxVRTpvLm1heEZvcmNlO3ZhciBkPW5ldyBzKHQsZSwtdSx1KTt0aGlzLmVxdWF0aW9ucz1bZF0sdGhpcy5tYXhGb3JjZT11O3ZhciBwPWEuY3JlYXRlKCksZj1hLmNyZWF0ZSgpLHY9YS5jcmVhdGUoKSx5PXRoaXM7ZC5jb21wdXRlR3E9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmJvZHlBLGU9dGhpcy5ib2R5QixvPXQucG9zaXRpb24sbj1lLnBvc2l0aW9uO3JldHVybiBhLnJvdGF0ZShmLGksdC5hbmdsZSksYS5yb3RhdGUodixjLGUuYW5nbGUpLGEuYWRkKHAsbix2KSxhLnN1YihwLHAsZiksYS5zdWIocCxwLG8pLGEubGVuZ3RoKHApLXkuZGlzdGFuY2V9LHRoaXMuc2V0TWF4Rm9yY2UodSksdGhpcy51cHBlckxpbWl0RW5hYmxlZD0hMSx0aGlzLnVwcGVyTGltaXQ9MSx0aGlzLmxvd2VyTGltaXRFbmFibGVkPSExLHRoaXMubG93ZXJMaW1pdD0wLHRoaXMucG9zaXRpb249MH12YXIgbj10KFwiLi9Db25zdHJhaW50XCIpLHM9dChcIi4uL2VxdWF0aW9ucy9FcXVhdGlvblwiKSxhPXQoXCIuLi9tYXRoL3ZlYzJcIikscj10KFwiLi4vdXRpbHMvVXRpbHNcIik7ZS5leHBvcnRzPWksKGkucHJvdG90eXBlPW5ldyBuKS5jb25zdHJ1Y3Rvcj1pO3ZhciBjPWEuY3JlYXRlKCksaD1hLmNyZWF0ZSgpLGw9YS5jcmVhdGUoKTtpLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmVxdWF0aW9uc1swXSxlPXRoaXMuYm9keUEsbz10aGlzLmJvZHlCLGk9KHRoaXMuZGlzdGFuY2UsZS5wb3NpdGlvbiksbj1vLnBvc2l0aW9uLHM9dGhpcy5lcXVhdGlvbnNbMF0scj10Lkc7YS5yb3RhdGUoaCx0aGlzLmxvY2FsQW5jaG9yQSxlLmFuZ2xlKSxhLnJvdGF0ZShsLHRoaXMubG9jYWxBbmNob3JCLG8uYW5nbGUpLGEuYWRkKGMsbixsKSxhLnN1YihjLGMsaCksYS5zdWIoYyxjLGkpLHRoaXMucG9zaXRpb249YS5sZW5ndGgoYyk7dmFyIHA9ITE7aWYodGhpcy51cHBlckxpbWl0RW5hYmxlZCYmdGhpcy5wb3NpdGlvbj50aGlzLnVwcGVyTGltaXQmJihzLm1heEZvcmNlPTAscy5taW5Gb3JjZT0tdGhpcy5tYXhGb3JjZSx0aGlzLmRpc3RhbmNlPXRoaXMudXBwZXJMaW1pdCxwPSEwKSx0aGlzLmxvd2VyTGltaXRFbmFibGVkJiZ0aGlzLnBvc2l0aW9uPHRoaXMubG93ZXJMaW1pdCYmKHMubWF4Rm9yY2U9dGhpcy5tYXhGb3JjZSxzLm1pbkZvcmNlPTAsdGhpcy5kaXN0YW5jZT10aGlzLmxvd2VyTGltaXQscD0hMCksIXRoaXMubG93ZXJMaW1pdEVuYWJsZWQmJiF0aGlzLnVwcGVyTGltaXRFbmFibGVkfHxwKXtzLmVuYWJsZWQ9ITAsYS5ub3JtYWxpemUoYyxjKTt2YXIgdT1hLmNyb3NzTGVuZ3RoKGgsYyksZD1hLmNyb3NzTGVuZ3RoKGwsYyk7clswXT0tY1swXSxyWzFdPS1jWzFdLHJbMl09LXUsclszXT1jWzBdLHJbNF09Y1sxXSxyWzVdPWR9ZWxzZSBzLmVuYWJsZWQ9ITF9LGkucHJvdG90eXBlLnNldE1heEZvcmNlPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZXF1YXRpb25zWzBdO2UubWluRm9yY2U9LXQsZS5tYXhGb3JjZT10fSxpLnByb3RvdHlwZS5nZXRNYXhGb3JjZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmVxdWF0aW9uc1swXS5tYXhGb3JjZX19LHtcIi4uL2VxdWF0aW9ucy9FcXVhdGlvblwiOjIyLFwiLi4vbWF0aC92ZWMyXCI6MzAsXCIuLi91dGlscy9VdGlsc1wiOjU3LFwiLi9Db25zdHJhaW50XCI6MTR9XSwxNjpbZnVuY3Rpb24odCxlLG8pe2Z1bmN0aW9uIGkodCxlLG8pe289b3x8e30sbi5jYWxsKHRoaXMsdCxlLG4uR0VBUixvKSx0aGlzLnJhdGlvPXZvaWQgMCE9PW8ucmF0aW8/by5yYXRpbzoxLHRoaXMuYW5nbGU9dm9pZCAwIT09by5hbmdsZT9vLmFuZ2xlOmUuYW5nbGUtdGhpcy5yYXRpbyp0LmFuZ2xlLG8uYW5nbGU9dGhpcy5hbmdsZSxvLnJhdGlvPXRoaXMucmF0aW8sdGhpcy5lcXVhdGlvbnM9W25ldyBzKHQsZSxvKV0sdm9pZCAwIT09by5tYXhUb3JxdWUmJnRoaXMuc2V0TWF4VG9ycXVlKG8ubWF4VG9ycXVlKX12YXIgbj10KFwiLi9Db25zdHJhaW50XCIpLHM9KHQoXCIuLi9lcXVhdGlvbnMvRXF1YXRpb25cIiksdChcIi4uL2VxdWF0aW9ucy9BbmdsZUxvY2tFcXVhdGlvblwiKSk7dChcIi4uL21hdGgvdmVjMlwiKTtlLmV4cG9ydHM9aSwoaS5wcm90b3R5cGU9bmV3IG4pLmNvbnN0cnVjdG9yPWksaS5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5lcXVhdGlvbnNbMF07dC5yYXRpbyE9PXRoaXMucmF0aW8mJnQuc2V0UmF0aW8odGhpcy5yYXRpbyksdC5hbmdsZT10aGlzLmFuZ2xlfSxpLnByb3RvdHlwZS5zZXRNYXhUb3JxdWU9ZnVuY3Rpb24odCl7dGhpcy5lcXVhdGlvbnNbMF0uc2V0TWF4VG9ycXVlKHQpfSxpLnByb3RvdHlwZS5nZXRNYXhUb3JxdWU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZXF1YXRpb25zWzBdLm1heEZvcmNlfX0se1wiLi4vZXF1YXRpb25zL0FuZ2xlTG9ja0VxdWF0aW9uXCI6MjAsXCIuLi9lcXVhdGlvbnMvRXF1YXRpb25cIjoyMixcIi4uL21hdGgvdmVjMlwiOjMwLFwiLi9Db25zdHJhaW50XCI6MTR9XSwxNzpbZnVuY3Rpb24odCxlLG8pe2Z1bmN0aW9uIGkodCxlLG8pe289b3x8e30sbi5jYWxsKHRoaXMsdCxlLG4uTE9DSyxvKTt2YXIgaT12b2lkIDA9PT1vLm1heEZvcmNlP051bWJlci5NQVhfVkFMVUU6by5tYXhGb3JjZSxyPShvLmxvY2FsQW5nbGVCLG5ldyBhKHQsZSwtaSxpKSksYz1uZXcgYSh0LGUsLWksaSksaD1uZXcgYSh0LGUsLWksaSksbD1zLmNyZWF0ZSgpLHA9cy5jcmVhdGUoKSx1PXRoaXM7ci5jb21wdXRlR3E9ZnVuY3Rpb24oKXtyZXR1cm4gcy5yb3RhdGUobCx1LmxvY2FsT2Zmc2V0Qix0LmFuZ2xlKSxzLnN1YihwLGUucG9zaXRpb24sdC5wb3NpdGlvbikscy5zdWIocCxwLGwpLHBbMF19LGMuY29tcHV0ZUdxPWZ1bmN0aW9uKCl7cmV0dXJuIHMucm90YXRlKGwsdS5sb2NhbE9mZnNldEIsdC5hbmdsZSkscy5zdWIocCxlLnBvc2l0aW9uLHQucG9zaXRpb24pLHMuc3ViKHAscCxsKSxwWzFdfTt2YXIgZD1zLmNyZWF0ZSgpLGY9cy5jcmVhdGUoKTtoLmNvbXB1dGVHcT1mdW5jdGlvbigpe3JldHVybiBzLnJvdGF0ZShkLHUubG9jYWxPZmZzZXRCLGUuYW5nbGUtdS5sb2NhbEFuZ2xlQikscy5zY2FsZShkLGQsLTEpLHMuc3ViKHAsdC5wb3NpdGlvbixlLnBvc2l0aW9uKSxzLmFkZChwLHAsZCkscy5yb3RhdGUoZixkLC1NYXRoLlBJLzIpLHMubm9ybWFsaXplKGYsZikscy5kb3QocCxmKX0sdGhpcy5sb2NhbE9mZnNldEI9cy5jcmVhdGUoKSxvLmxvY2FsT2Zmc2V0Qj9zLmNvcHkodGhpcy5sb2NhbE9mZnNldEIsby5sb2NhbE9mZnNldEIpOihzLnN1Yih0aGlzLmxvY2FsT2Zmc2V0QixlLnBvc2l0aW9uLHQucG9zaXRpb24pLHMucm90YXRlKHRoaXMubG9jYWxPZmZzZXRCLHRoaXMubG9jYWxPZmZzZXRCLC10LmFuZ2xlKSksdGhpcy5sb2NhbEFuZ2xlQj0wLFwibnVtYmVyXCI9PXR5cGVvZiBvLmxvY2FsQW5nbGVCP3RoaXMubG9jYWxBbmdsZUI9by5sb2NhbEFuZ2xlQjp0aGlzLmxvY2FsQW5nbGVCPWUuYW5nbGUtdC5hbmdsZSx0aGlzLmVxdWF0aW9ucy5wdXNoKHIsYyxoKSx0aGlzLnNldE1heEZvcmNlKGkpfXZhciBuPXQoXCIuL0NvbnN0cmFpbnRcIikscz10KFwiLi4vbWF0aC92ZWMyXCIpLGE9dChcIi4uL2VxdWF0aW9ucy9FcXVhdGlvblwiKTtlLmV4cG9ydHM9aSwoaS5wcm90b3R5cGU9bmV3IG4pLmNvbnN0cnVjdG9yPWksaS5wcm90b3R5cGUuc2V0TWF4Rm9yY2U9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMuZXF1YXRpb25zLG89MDtvPHRoaXMuZXF1YXRpb25zLmxlbmd0aDtvKyspZVtvXS5tYXhGb3JjZT10LGVbb10ubWluRm9yY2U9LXR9LGkucHJvdG90eXBlLmdldE1heEZvcmNlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZXF1YXRpb25zWzBdLm1heEZvcmNlfTt2YXIgcj1zLmNyZWF0ZSgpLGM9cy5jcmVhdGUoKSxoPXMuY3JlYXRlKCksbD1zLmZyb21WYWx1ZXMoMSwwKSxwPXMuZnJvbVZhbHVlcygwLDEpO2kucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbigpe3ZhciB0PXRoaXMuZXF1YXRpb25zWzBdLGU9dGhpcy5lcXVhdGlvbnNbMV0sbz10aGlzLmVxdWF0aW9uc1syXSxpPXRoaXMuYm9keUEsbj10aGlzLmJvZHlCO3Mucm90YXRlKHIsdGhpcy5sb2NhbE9mZnNldEIsaS5hbmdsZSkscy5yb3RhdGUoYyx0aGlzLmxvY2FsT2Zmc2V0QixuLmFuZ2xlLXRoaXMubG9jYWxBbmdsZUIpLHMuc2NhbGUoYyxjLC0xKSxzLnJvdGF0ZShoLGMsTWF0aC5QSS8yKSxzLm5vcm1hbGl6ZShoLGgpLHQuR1swXT0tMSx0LkdbMV09MCx0LkdbMl09LXMuY3Jvc3NMZW5ndGgocixsKSx0LkdbM109MSxlLkdbMF09MCxlLkdbMV09LTEsZS5HWzJdPS1zLmNyb3NzTGVuZ3RoKHIscCksZS5HWzRdPTEsby5HWzBdPS1oWzBdLG8uR1sxXT0taFsxXSxvLkdbM109aFswXSxvLkdbNF09aFsxXSxvLkdbNV09cy5jcm9zc0xlbmd0aChjLGgpfX0se1wiLi4vZXF1YXRpb25zL0VxdWF0aW9uXCI6MjIsXCIuLi9tYXRoL3ZlYzJcIjozMCxcIi4vQ29uc3RyYWludFwiOjE0fV0sMTg6W2Z1bmN0aW9uKHQsZSxvKXtmdW5jdGlvbiBpKHQsZSxvKXtvPW98fHt9LG4uY2FsbCh0aGlzLHQsZSxuLlBSSVNNQVRJQyxvKTt2YXIgaT1yLmZyb21WYWx1ZXMoMCwwKSxoPXIuZnJvbVZhbHVlcygxLDApLGw9ci5mcm9tVmFsdWVzKDAsMCk7by5sb2NhbEFuY2hvckEmJnIuY29weShpLG8ubG9jYWxBbmNob3JBKSxvLmxvY2FsQXhpc0EmJnIuY29weShoLG8ubG9jYWxBeGlzQSksby5sb2NhbEFuY2hvckImJnIuY29weShsLG8ubG9jYWxBbmNob3JCKSx0aGlzLmxvY2FsQW5jaG9yQT1pLHRoaXMubG9jYWxBbmNob3JCPWwsdGhpcy5sb2NhbEF4aXNBPWg7dmFyIHA9dGhpcy5tYXhGb3JjZT12b2lkIDAhPT1vLm1heEZvcmNlP28ubWF4Rm9yY2U6TnVtYmVyLk1BWF9WQUxVRSx1PW5ldyBhKHQsZSwtcCxwKSxkPW5ldyByLmNyZWF0ZSxmPW5ldyByLmNyZWF0ZSx2PW5ldyByLmNyZWF0ZSx5PW5ldyByLmNyZWF0ZTtpZih1LmNvbXB1dGVHcT1mdW5jdGlvbigpe3JldHVybiByLmRvdCh2LHkpfSx1LnVwZGF0ZUphY29iaWFuPWZ1bmN0aW9uKCl7dmFyIG89dGhpcy5HLG49dC5wb3NpdGlvbixzPWUucG9zaXRpb247ci5yb3RhdGUoZCxpLHQuYW5nbGUpLHIucm90YXRlKGYsbCxlLmFuZ2xlKSxyLmFkZCh2LHMsZiksci5zdWIodix2LG4pLHIuc3ViKHYsdixkKSxyLnJvdGF0ZSh5LGgsdC5hbmdsZStNYXRoLlBJLzIpLG9bMF09LXlbMF0sb1sxXT0teVsxXSxvWzJdPS1yLmNyb3NzTGVuZ3RoKGQseSkrci5jcm9zc0xlbmd0aCh5LHYpLG9bM109eVswXSxvWzRdPXlbMV0sb1s1XT1yLmNyb3NzTGVuZ3RoKGYseSl9LHRoaXMuZXF1YXRpb25zLnB1c2godSksIW8uZGlzYWJsZVJvdGF0aW9uYWxMb2NrKXt2YXIgbT1uZXcgYyh0LGUsLXAscCk7dGhpcy5lcXVhdGlvbnMucHVzaChtKX10aGlzLnBvc2l0aW9uPTAsdGhpcy52ZWxvY2l0eT0wLHRoaXMubG93ZXJMaW1pdEVuYWJsZWQ9dm9pZCAwIT09by5sb3dlckxpbWl0LHRoaXMudXBwZXJMaW1pdEVuYWJsZWQ9dm9pZCAwIT09by51cHBlckxpbWl0LHRoaXMubG93ZXJMaW1pdD12b2lkIDAhPT1vLmxvd2VyTGltaXQ/by5sb3dlckxpbWl0OjAsdGhpcy51cHBlckxpbWl0PXZvaWQgMCE9PW8udXBwZXJMaW1pdD9vLnVwcGVyTGltaXQ6MSx0aGlzLnVwcGVyTGltaXRFcXVhdGlvbj1uZXcgcyh0LGUpLHRoaXMubG93ZXJMaW1pdEVxdWF0aW9uPW5ldyBzKHQsZSksdGhpcy51cHBlckxpbWl0RXF1YXRpb24ubWluRm9yY2U9dGhpcy5sb3dlckxpbWl0RXF1YXRpb24ubWluRm9yY2U9MCx0aGlzLnVwcGVyTGltaXRFcXVhdGlvbi5tYXhGb3JjZT10aGlzLmxvd2VyTGltaXRFcXVhdGlvbi5tYXhGb3JjZT1wLHRoaXMubW90b3JFcXVhdGlvbj1uZXcgYSh0LGUpLHRoaXMubW90b3JFbmFibGVkPSExLHRoaXMubW90b3JTcGVlZD0wO3ZhciBnPXRoaXMsQT10aGlzLm1vdG9yRXF1YXRpb247QS5jb21wdXRlR1c7QS5jb21wdXRlR3E9ZnVuY3Rpb24oKXtyZXR1cm4gMH0sQS5jb21wdXRlR1c9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLkcsZT10aGlzLmJvZHlBLG89dGhpcy5ib2R5QixpPWUudmVsb2NpdHksbj1vLnZlbG9jaXR5LHM9ZS5hbmd1bGFyVmVsb2NpdHksYT1vLmFuZ3VsYXJWZWxvY2l0eTtyZXR1cm4gdGhpcy5nbXVsdCh0LGkscyxuLGEpK2cubW90b3JTcGVlZH19dmFyIG49dChcIi4vQ29uc3RyYWludFwiKSxzPXQoXCIuLi9lcXVhdGlvbnMvQ29udGFjdEVxdWF0aW9uXCIpLGE9dChcIi4uL2VxdWF0aW9ucy9FcXVhdGlvblwiKSxyPXQoXCIuLi9tYXRoL3ZlYzJcIiksYz10KFwiLi4vZXF1YXRpb25zL1JvdGF0aW9uYWxMb2NrRXF1YXRpb25cIik7ZS5leHBvcnRzPWksKGkucHJvdG90eXBlPW5ldyBuKS5jb25zdHJ1Y3Rvcj1pO3ZhciBoPXIuY3JlYXRlKCksbD1yLmNyZWF0ZSgpLHA9ci5jcmVhdGUoKSx1PXIuY3JlYXRlKCksZD1yLmNyZWF0ZSgpLGY9ci5jcmVhdGUoKTtpLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmVxdWF0aW9ucyxlPXRbMF0sbz10aGlzLnVwcGVyTGltaXQsaT10aGlzLmxvd2VyTGltaXQsbj10aGlzLnVwcGVyTGltaXRFcXVhdGlvbixzPXRoaXMubG93ZXJMaW1pdEVxdWF0aW9uLGE9dGhpcy5ib2R5QSxjPXRoaXMuYm9keUIsdj10aGlzLmxvY2FsQXhpc0EseT10aGlzLmxvY2FsQW5jaG9yQSxtPXRoaXMubG9jYWxBbmNob3JCO2UudXBkYXRlSmFjb2JpYW4oKSxyLnJvdGF0ZShoLHYsYS5hbmdsZSksci5yb3RhdGUodSx5LGEuYW5nbGUpLHIuYWRkKGwsdSxhLnBvc2l0aW9uKSxyLnJvdGF0ZShkLG0sYy5hbmdsZSksci5hZGQocCxkLGMucG9zaXRpb24pO3ZhciBnPXRoaXMucG9zaXRpb249ci5kb3QocCxoKS1yLmRvdChsLGgpO2lmKHRoaXMubW90b3JFbmFibGVkKXt2YXIgQT10aGlzLm1vdG9yRXF1YXRpb24uRztBWzBdPWhbMF0sQVsxXT1oWzFdLEFbMl09ci5jcm9zc0xlbmd0aChoLGQpLEFbM109LWhbMF0sQVs0XT0taFsxXSxBWzVdPS1yLmNyb3NzTGVuZ3RoKGgsdSl9aWYodGhpcy51cHBlckxpbWl0RW5hYmxlZCYmZz5vPyhyLnNjYWxlKG4ubm9ybWFsQSxoLC0xKSxyLnN1YihuLmNvbnRhY3RQb2ludEEsbCxhLnBvc2l0aW9uKSxyLnN1YihuLmNvbnRhY3RQb2ludEIscCxjLnBvc2l0aW9uKSxyLnNjYWxlKGYsaCxvKSxyLmFkZChuLmNvbnRhY3RQb2ludEEsbi5jb250YWN0UG9pbnRBLGYpLC0xPT09dC5pbmRleE9mKG4pJiZ0LnB1c2gobikpOi0xIT09KGI9dC5pbmRleE9mKG4pKSYmdC5zcGxpY2UoYiwxKSx0aGlzLmxvd2VyTGltaXRFbmFibGVkJiZnPGkpci5zY2FsZShzLm5vcm1hbEEsaCwxKSxyLnN1YihzLmNvbnRhY3RQb2ludEEsbCxhLnBvc2l0aW9uKSxyLnN1YihzLmNvbnRhY3RQb2ludEIscCxjLnBvc2l0aW9uKSxyLnNjYWxlKGYsaCxpKSxyLnN1YihzLmNvbnRhY3RQb2ludEIscy5jb250YWN0UG9pbnRCLGYpLC0xPT09dC5pbmRleE9mKHMpJiZ0LnB1c2gocyk7ZWxzZXt2YXIgYj10LmluZGV4T2Yocyk7LTEhPT1iJiZ0LnNwbGljZShiLDEpfX0saS5wcm90b3R5cGUuZW5hYmxlTW90b3I9ZnVuY3Rpb24oKXt0aGlzLm1vdG9yRW5hYmxlZHx8KHRoaXMuZXF1YXRpb25zLnB1c2godGhpcy5tb3RvckVxdWF0aW9uKSx0aGlzLm1vdG9yRW5hYmxlZD0hMCl9LGkucHJvdG90eXBlLmRpc2FibGVNb3Rvcj1mdW5jdGlvbigpe2lmKHRoaXMubW90b3JFbmFibGVkKXt2YXIgdD10aGlzLmVxdWF0aW9ucy5pbmRleE9mKHRoaXMubW90b3JFcXVhdGlvbik7dGhpcy5lcXVhdGlvbnMuc3BsaWNlKHQsMSksdGhpcy5tb3RvckVuYWJsZWQ9ITF9fSxpLnByb3RvdHlwZS5zZXRMaW1pdHM9ZnVuY3Rpb24odCxlKXtcIm51bWJlclwiPT10eXBlb2YgdD8odGhpcy5sb3dlckxpbWl0PXQsdGhpcy5sb3dlckxpbWl0RW5hYmxlZD0hMCk6KHRoaXMubG93ZXJMaW1pdD10LHRoaXMubG93ZXJMaW1pdEVuYWJsZWQ9ITEpLFwibnVtYmVyXCI9PXR5cGVvZiBlPyh0aGlzLnVwcGVyTGltaXQ9ZSx0aGlzLnVwcGVyTGltaXRFbmFibGVkPSEwKToodGhpcy51cHBlckxpbWl0PWUsdGhpcy51cHBlckxpbWl0RW5hYmxlZD0hMSl9fSx7XCIuLi9lcXVhdGlvbnMvQ29udGFjdEVxdWF0aW9uXCI6MjEsXCIuLi9lcXVhdGlvbnMvRXF1YXRpb25cIjoyMixcIi4uL2VxdWF0aW9ucy9Sb3RhdGlvbmFsTG9ja0VxdWF0aW9uXCI6MjQsXCIuLi9tYXRoL3ZlYzJcIjozMCxcIi4vQ29uc3RyYWludFwiOjE0fV0sMTk6W2Z1bmN0aW9uKHQsZSxvKXtmdW5jdGlvbiBpKHQsZSxvKXtvPW98fHt9LG4uY2FsbCh0aGlzLHQsZSxuLlJFVk9MVVRFLG8pO3ZhciBpPXRoaXMubWF4Rm9yY2U9dm9pZCAwIT09by5tYXhGb3JjZT9vLm1heEZvcmNlOk51bWJlci5NQVhfVkFMVUU7dGhpcy5waXZvdEE9Yy5jcmVhdGUoKSx0aGlzLnBpdm90Qj1jLmNyZWF0ZSgpLG8ud29ybGRQaXZvdD8oYy5zdWIodGhpcy5waXZvdEEsby53b3JsZFBpdm90LHQucG9zaXRpb24pLGMuc3ViKHRoaXMucGl2b3RCLG8ud29ybGRQaXZvdCxlLnBvc2l0aW9uKSxjLnJvdGF0ZSh0aGlzLnBpdm90QSx0aGlzLnBpdm90QSwtdC5hbmdsZSksYy5yb3RhdGUodGhpcy5waXZvdEIsdGhpcy5waXZvdEIsLWUuYW5nbGUpKTooYy5jb3B5KHRoaXMucGl2b3RBLG8ubG9jYWxQaXZvdEEpLGMuY29weSh0aGlzLnBpdm90QixvLmxvY2FsUGl2b3RCKSk7dmFyIGY9dGhpcy5lcXVhdGlvbnM9W25ldyBzKHQsZSwtaSxpKSxuZXcgcyh0LGUsLWksaSldLHY9ZlswXSx5PWZbMV0sbT10aGlzO3YuY29tcHV0ZUdxPWZ1bmN0aW9uKCl7cmV0dXJuIGMucm90YXRlKGgsbS5waXZvdEEsdC5hbmdsZSksYy5yb3RhdGUobCxtLnBpdm90QixlLmFuZ2xlKSxjLmFkZChkLGUucG9zaXRpb24sbCksYy5zdWIoZCxkLHQucG9zaXRpb24pLGMuc3ViKGQsZCxoKSxjLmRvdChkLHApfSx5LmNvbXB1dGVHcT1mdW5jdGlvbigpe3JldHVybiBjLnJvdGF0ZShoLG0ucGl2b3RBLHQuYW5nbGUpLGMucm90YXRlKGwsbS5waXZvdEIsZS5hbmdsZSksYy5hZGQoZCxlLnBvc2l0aW9uLGwpLGMuc3ViKGQsZCx0LnBvc2l0aW9uKSxjLnN1YihkLGQsaCksYy5kb3QoZCx1KX0seS5taW5Gb3JjZT12Lm1pbkZvcmNlPS1pLHkubWF4Rm9yY2U9di5tYXhGb3JjZT1pLHRoaXMubW90b3JFcXVhdGlvbj1uZXcgYSh0LGUpLHRoaXMubW90b3JFbmFibGVkPSExLHRoaXMuYW5nbGU9MCx0aGlzLmxvd2VyTGltaXRFbmFibGVkPSExLHRoaXMudXBwZXJMaW1pdEVuYWJsZWQ9ITEsdGhpcy5sb3dlckxpbWl0PTAsdGhpcy51cHBlckxpbWl0PTAsdGhpcy51cHBlckxpbWl0RXF1YXRpb249bmV3IHIodCxlKSx0aGlzLmxvd2VyTGltaXRFcXVhdGlvbj1uZXcgcih0LGUpLHRoaXMudXBwZXJMaW1pdEVxdWF0aW9uLm1pbkZvcmNlPTAsdGhpcy5sb3dlckxpbWl0RXF1YXRpb24ubWF4Rm9yY2U9MH12YXIgbj10KFwiLi9Db25zdHJhaW50XCIpLHM9dChcIi4uL2VxdWF0aW9ucy9FcXVhdGlvblwiKSxhPXQoXCIuLi9lcXVhdGlvbnMvUm90YXRpb25hbFZlbG9jaXR5RXF1YXRpb25cIikscj10KFwiLi4vZXF1YXRpb25zL1JvdGF0aW9uYWxMb2NrRXF1YXRpb25cIiksYz10KFwiLi4vbWF0aC92ZWMyXCIpO2UuZXhwb3J0cz1pO3ZhciBoPWMuY3JlYXRlKCksbD1jLmNyZWF0ZSgpLHA9Yy5mcm9tVmFsdWVzKDEsMCksdT1jLmZyb21WYWx1ZXMoMCwxKSxkPWMuY3JlYXRlKCk7KGkucHJvdG90eXBlPW5ldyBuKS5jb25zdHJ1Y3Rvcj1pLGkucHJvdG90eXBlLnNldExpbWl0cz1mdW5jdGlvbih0LGUpe1wibnVtYmVyXCI9PXR5cGVvZiB0Pyh0aGlzLmxvd2VyTGltaXQ9dCx0aGlzLmxvd2VyTGltaXRFbmFibGVkPSEwKToodGhpcy5sb3dlckxpbWl0PXQsdGhpcy5sb3dlckxpbWl0RW5hYmxlZD0hMSksXCJudW1iZXJcIj09dHlwZW9mIGU/KHRoaXMudXBwZXJMaW1pdD1lLHRoaXMudXBwZXJMaW1pdEVuYWJsZWQ9ITApOih0aGlzLnVwcGVyTGltaXQ9ZSx0aGlzLnVwcGVyTGltaXRFbmFibGVkPSExKX0saS5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5ib2R5QSxlPXRoaXMuYm9keUIsbz10aGlzLnBpdm90QSxpPXRoaXMucGl2b3RCLG49dGhpcy5lcXVhdGlvbnMscz0oblswXSxuWzFdLG5bMF0pLGE9blsxXSxyPXRoaXMudXBwZXJMaW1pdCxkPXRoaXMubG93ZXJMaW1pdCxmPXRoaXMudXBwZXJMaW1pdEVxdWF0aW9uLHY9dGhpcy5sb3dlckxpbWl0RXF1YXRpb24seT10aGlzLmFuZ2xlPWUuYW5nbGUtdC5hbmdsZTtpZih0aGlzLnVwcGVyTGltaXRFbmFibGVkJiZ5PnI/KGYuYW5nbGU9ciwtMT09PW4uaW5kZXhPZihmKSYmbi5wdXNoKGYpKTotMSE9PShtPW4uaW5kZXhPZihmKSkmJm4uc3BsaWNlKG0sMSksdGhpcy5sb3dlckxpbWl0RW5hYmxlZCYmeTxkKXYuYW5nbGU9ZCwtMT09PW4uaW5kZXhPZih2KSYmbi5wdXNoKHYpO2Vsc2V7dmFyIG09bi5pbmRleE9mKHYpOy0xIT09bSYmbi5zcGxpY2UobSwxKX1jLnJvdGF0ZShoLG8sdC5hbmdsZSksYy5yb3RhdGUobCxpLGUuYW5nbGUpLHMuR1swXT0tMSxzLkdbMV09MCxzLkdbMl09LWMuY3Jvc3NMZW5ndGgoaCxwKSxzLkdbM109MSxzLkdbNF09MCxzLkdbNV09Yy5jcm9zc0xlbmd0aChsLHApLGEuR1swXT0wLGEuR1sxXT0tMSxhLkdbMl09LWMuY3Jvc3NMZW5ndGgoaCx1KSxhLkdbM109MCxhLkdbNF09MSxhLkdbNV09Yy5jcm9zc0xlbmd0aChsLHUpfSxpLnByb3RvdHlwZS5lbmFibGVNb3Rvcj1mdW5jdGlvbigpe3RoaXMubW90b3JFbmFibGVkfHwodGhpcy5lcXVhdGlvbnMucHVzaCh0aGlzLm1vdG9yRXF1YXRpb24pLHRoaXMubW90b3JFbmFibGVkPSEwKX0saS5wcm90b3R5cGUuZGlzYWJsZU1vdG9yPWZ1bmN0aW9uKCl7aWYodGhpcy5tb3RvckVuYWJsZWQpe3ZhciB0PXRoaXMuZXF1YXRpb25zLmluZGV4T2YodGhpcy5tb3RvckVxdWF0aW9uKTt0aGlzLmVxdWF0aW9ucy5zcGxpY2UodCwxKSx0aGlzLm1vdG9yRW5hYmxlZD0hMX19LGkucHJvdG90eXBlLm1vdG9ySXNFbmFibGVkPWZ1bmN0aW9uKCl7cmV0dXJuISF0aGlzLm1vdG9yRW5hYmxlZH0saS5wcm90b3R5cGUuc2V0TW90b3JTcGVlZD1mdW5jdGlvbih0KXtpZih0aGlzLm1vdG9yRW5hYmxlZCl7dmFyIGU9dGhpcy5lcXVhdGlvbnMuaW5kZXhPZih0aGlzLm1vdG9yRXF1YXRpb24pO3RoaXMuZXF1YXRpb25zW2VdLnJlbGF0aXZlVmVsb2NpdHk9dH19LGkucHJvdG90eXBlLmdldE1vdG9yU3BlZWQ9ZnVuY3Rpb24oKXtyZXR1cm4hIXRoaXMubW90b3JFbmFibGVkJiZ0aGlzLm1vdG9yRXF1YXRpb24ucmVsYXRpdmVWZWxvY2l0eX19LHtcIi4uL2VxdWF0aW9ucy9FcXVhdGlvblwiOjIyLFwiLi4vZXF1YXRpb25zL1JvdGF0aW9uYWxMb2NrRXF1YXRpb25cIjoyNCxcIi4uL2VxdWF0aW9ucy9Sb3RhdGlvbmFsVmVsb2NpdHlFcXVhdGlvblwiOjI1LFwiLi4vbWF0aC92ZWMyXCI6MzAsXCIuL0NvbnN0cmFpbnRcIjoxNH1dLDIwOltmdW5jdGlvbih0LGUsbyl7ZnVuY3Rpb24gaSh0LGUsbyl7bz1vfHx7fSxuLmNhbGwodGhpcyx0LGUsLU51bWJlci5NQVhfVkFMVUUsTnVtYmVyLk1BWF9WQUxVRSksdGhpcy5hbmdsZT1vLmFuZ2xlfHwwLHRoaXMucmF0aW89XCJudW1iZXJcIj09dHlwZW9mIG8ucmF0aW8/by5yYXRpbzoxLHRoaXMuc2V0UmF0aW8odGhpcy5yYXRpbyl9dmFyIG49dChcIi4vRXF1YXRpb25cIik7dChcIi4uL21hdGgvdmVjMlwiKTtlLmV4cG9ydHM9aSwoaS5wcm90b3R5cGU9bmV3IG4pLmNvbnN0cnVjdG9yPWksaS5wcm90b3R5cGUuY29tcHV0ZUdxPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmF0aW8qdGhpcy5ib2R5QS5hbmdsZS10aGlzLmJvZHlCLmFuZ2xlK3RoaXMuYW5nbGV9LGkucHJvdG90eXBlLnNldFJhdGlvPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuRztlWzJdPXQsZVs1XT0tMSx0aGlzLnJhdGlvPXR9LGkucHJvdG90eXBlLnNldE1heFRvcnF1ZT1mdW5jdGlvbih0KXt0aGlzLm1heEZvcmNlPXQsdGhpcy5taW5Gb3JjZT0tdH19LHtcIi4uL21hdGgvdmVjMlwiOjMwLFwiLi9FcXVhdGlvblwiOjIyfV0sMjE6W2Z1bmN0aW9uKHQsZSxvKXtmdW5jdGlvbiBpKHQsZSl7bi5jYWxsKHRoaXMsdCxlLDAsTnVtYmVyLk1BWF9WQUxVRSksdGhpcy5jb250YWN0UG9pbnRBPXMuY3JlYXRlKCksdGhpcy5wZW5ldHJhdGlvblZlYz1zLmNyZWF0ZSgpLHRoaXMuY29udGFjdFBvaW50Qj1zLmNyZWF0ZSgpLHRoaXMubm9ybWFsQT1zLmNyZWF0ZSgpLHRoaXMucmVzdGl0dXRpb249MCx0aGlzLmZpcnN0SW1wYWN0PSExLHRoaXMuc2hhcGVBPW51bGwsdGhpcy5zaGFwZUI9bnVsbH12YXIgbj10KFwiLi9FcXVhdGlvblwiKSxzPXQoXCIuLi9tYXRoL3ZlYzJcIik7ZS5leHBvcnRzPWksKGkucHJvdG90eXBlPW5ldyBuKS5jb25zdHJ1Y3Rvcj1pLGkucHJvdG90eXBlLmNvbXB1dGVCPWZ1bmN0aW9uKHQsZSxvKXt2YXIgaT10aGlzLmJvZHlBLG49dGhpcy5ib2R5QixhPXRoaXMuY29udGFjdFBvaW50QSxyPXRoaXMuY29udGFjdFBvaW50QixjPWkucG9zaXRpb24saD1uLnBvc2l0aW9uLGw9dGhpcy5wZW5ldHJhdGlvblZlYyxwPXRoaXMubm9ybWFsQSx1PXRoaXMuRyxkPXMuY3Jvc3NMZW5ndGgoYSxwKSxmPXMuY3Jvc3NMZW5ndGgocixwKTt1WzBdPS1wWzBdLHVbMV09LXBbMV0sdVsyXT0tZCx1WzNdPXBbMF0sdVs0XT1wWzFdLHVbNV09ZixzLmFkZChsLGgscikscy5zdWIobCxsLGMpLHMuc3ViKGwsbCxhKTt2YXIgdix5O3JldHVybiB0aGlzLmZpcnN0SW1wYWN0JiYwIT09dGhpcy5yZXN0aXR1dGlvbj8oeT0wLHY9MS9lKigxK3RoaXMucmVzdGl0dXRpb24pKnRoaXMuY29tcHV0ZUdXKCkpOih5PXMuZG90KHAsbCkrdGhpcy5vZmZzZXQsdj10aGlzLmNvbXB1dGVHVygpKSwteSp0LXYqZS1vKnRoaXMuY29tcHV0ZUdpTWYoKX07dmFyIGE9cy5jcmVhdGUoKSxyPXMuY3JlYXRlKCksYz1zLmNyZWF0ZSgpO2kucHJvdG90eXBlLmdldFZlbG9jaXR5QWxvbmdOb3JtYWw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ib2R5QS5nZXRWZWxvY2l0eUF0UG9pbnQoYSx0aGlzLmNvbnRhY3RQb2ludEEpLHRoaXMuYm9keUIuZ2V0VmVsb2NpdHlBdFBvaW50KHIsdGhpcy5jb250YWN0UG9pbnRCKSxzLnN1YnRyYWN0KGMsYSxyKSxzLmRvdCh0aGlzLm5vcm1hbEEsYyl9fSx7XCIuLi9tYXRoL3ZlYzJcIjozMCxcIi4vRXF1YXRpb25cIjoyMn1dLDIyOltmdW5jdGlvbih0LGUsbyl7ZnVuY3Rpb24gaSh0LGUsbyxuKXt0aGlzLm1pbkZvcmNlPXZvaWQgMD09PW8/LU51bWJlci5NQVhfVkFMVUU6byx0aGlzLm1heEZvcmNlPXZvaWQgMD09PW4/TnVtYmVyLk1BWF9WQUxVRTpuLHRoaXMuYm9keUE9dCx0aGlzLmJvZHlCPWUsdGhpcy5zdGlmZm5lc3M9aS5ERUZBVUxUX1NUSUZGTkVTUyx0aGlzLnJlbGF4YXRpb249aS5ERUZBVUxUX1JFTEFYQVRJT04sdGhpcy5HPW5ldyBzLkFSUkFZX1RZUEUoNik7Zm9yKHZhciBhPTA7YTw2O2ErKyl0aGlzLkdbYV09MDt0aGlzLm9mZnNldD0wLHRoaXMuYT0wLHRoaXMuYj0wLHRoaXMuZXBzaWxvbj0wLHRoaXMudGltZVN0ZXA9MS82MCx0aGlzLm5lZWRzVXBkYXRlPSEwLHRoaXMubXVsdGlwbGllcj0wLHRoaXMucmVsYXRpdmVWZWxvY2l0eT0wLHRoaXMuZW5hYmxlZD0hMH1lLmV4cG9ydHM9aTt2YXIgbj10KFwiLi4vbWF0aC92ZWMyXCIpLHM9dChcIi4uL3V0aWxzL1V0aWxzXCIpO3QoXCIuLi9vYmplY3RzL0JvZHlcIik7aS5wcm90b3R5cGUuY29uc3RydWN0b3I9aSxpLkRFRkFVTFRfU1RJRkZORVNTPTFlNixpLkRFRkFVTFRfUkVMQVhBVElPTj00LGkucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbigpe3ZhciB0PXRoaXMuc3RpZmZuZXNzLGU9dGhpcy5yZWxheGF0aW9uLG89dGhpcy50aW1lU3RlcDt0aGlzLmE9NC8obyooMSs0KmUpKSx0aGlzLmI9NCplLygxKzQqZSksdGhpcy5lcHNpbG9uPTQvKG8qbyp0KigxKzQqZSkpLHRoaXMubmVlZHNVcGRhdGU9ITF9LGkucHJvdG90eXBlLmdtdWx0PWZ1bmN0aW9uKHQsZSxvLGksbil7cmV0dXJuIHRbMF0qZVswXSt0WzFdKmVbMV0rdFsyXSpvK3RbM10qaVswXSt0WzRdKmlbMV0rdFs1XSpufSxpLnByb3RvdHlwZS5jb21wdXRlQj1mdW5jdGlvbih0LGUsbyl7dmFyIGk9dGhpcy5jb21wdXRlR1coKTtyZXR1cm4tdGhpcy5jb21wdXRlR3EoKSp0LWkqZS10aGlzLmNvbXB1dGVHaU1mKCkqb307dmFyIGE9bi5jcmVhdGUoKSxyPW4uY3JlYXRlKCk7aS5wcm90b3R5cGUuY29tcHV0ZUdxPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5HLGU9dGhpcy5ib2R5QSxvPXRoaXMuYm9keUIsaT0oZS5wb3NpdGlvbixvLnBvc2l0aW9uLGUuYW5nbGUpLG49by5hbmdsZTtyZXR1cm4gdGhpcy5nbXVsdCh0LGEsaSxyLG4pK3RoaXMub2Zmc2V0fSxpLnByb3RvdHlwZS5jb21wdXRlR1c9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLkcsZT10aGlzLmJvZHlBLG89dGhpcy5ib2R5QixpPWUudmVsb2NpdHksbj1vLnZlbG9jaXR5LHM9ZS5hbmd1bGFyVmVsb2NpdHksYT1vLmFuZ3VsYXJWZWxvY2l0eTtyZXR1cm4gdGhpcy5nbXVsdCh0LGkscyxuLGEpK3RoaXMucmVsYXRpdmVWZWxvY2l0eX0saS5wcm90b3R5cGUuY29tcHV0ZUdXbGFtYmRhPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5HLGU9dGhpcy5ib2R5QSxvPXRoaXMuYm9keUIsaT1lLnZsYW1iZGEsbj1vLnZsYW1iZGEscz1lLndsYW1iZGEsYT1vLndsYW1iZGE7cmV0dXJuIHRoaXMuZ211bHQodCxpLHMsbixhKX07dmFyIGM9bi5jcmVhdGUoKSxoPW4uY3JlYXRlKCk7aS5wcm90b3R5cGUuY29tcHV0ZUdpTWY9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmJvZHlBLGU9dGhpcy5ib2R5QixvPXQuZm9yY2UsaT10LmFuZ3VsYXJGb3JjZSxzPWUuZm9yY2UsYT1lLmFuZ3VsYXJGb3JjZSxyPXQuaW52TWFzc1NvbHZlLGw9ZS5pbnZNYXNzU29sdmUscD10LmludkluZXJ0aWFTb2x2ZSx1PWUuaW52SW5lcnRpYVNvbHZlLGQ9dGhpcy5HO3JldHVybiBuLnNjYWxlKGMsbyxyKSxuLm11bHRpcGx5KGMsdC5tYXNzTXVsdGlwbGllcixjKSxuLnNjYWxlKGgscyxsKSxuLm11bHRpcGx5KGgsZS5tYXNzTXVsdGlwbGllcixoKSx0aGlzLmdtdWx0KGQsYyxpKnAsaCxhKnUpfSxpLnByb3RvdHlwZS5jb21wdXRlR2lNR3Q9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmJvZHlBLGU9dGhpcy5ib2R5QixvPXQuaW52TWFzc1NvbHZlLGk9ZS5pbnZNYXNzU29sdmUsbj10LmludkluZXJ0aWFTb2x2ZSxzPWUuaW52SW5lcnRpYVNvbHZlLGE9dGhpcy5HO3JldHVybiBhWzBdKmFbMF0qbyp0Lm1hc3NNdWx0aXBsaWVyWzBdK2FbMV0qYVsxXSpvKnQubWFzc011bHRpcGxpZXJbMV0rYVsyXSphWzJdKm4rYVszXSphWzNdKmkqZS5tYXNzTXVsdGlwbGllclswXSthWzRdKmFbNF0qaSplLm1hc3NNdWx0aXBsaWVyWzFdK2FbNV0qYVs1XSpzfTt2YXIgbD1uLmNyZWF0ZSgpLHA9bi5jcmVhdGUoKSx1PW4uY3JlYXRlKCk7bi5jcmVhdGUoKSxuLmNyZWF0ZSgpLG4uY3JlYXRlKCk7aS5wcm90b3R5cGUuYWRkVG9XbGFtYmRhPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuYm9keUEsbz10aGlzLmJvZHlCLGk9bCxzPXAsYT11LHI9ZS5pbnZNYXNzU29sdmUsYz1vLmludk1hc3NTb2x2ZSxoPWUuaW52SW5lcnRpYVNvbHZlLGQ9by5pbnZJbmVydGlhU29sdmUsZj10aGlzLkc7c1swXT1mWzBdLHNbMV09ZlsxXSxhWzBdPWZbM10sYVsxXT1mWzRdLG4uc2NhbGUoaSxzLHIqdCksbi5tdWx0aXBseShpLGksZS5tYXNzTXVsdGlwbGllciksbi5hZGQoZS52bGFtYmRhLGUudmxhbWJkYSxpKSxlLndsYW1iZGErPWgqZlsyXSp0LG4uc2NhbGUoaSxhLGMqdCksbi5tdWx0aXBseShpLGksby5tYXNzTXVsdGlwbGllciksbi5hZGQoby52bGFtYmRhLG8udmxhbWJkYSxpKSxvLndsYW1iZGErPWQqZls1XSp0fSxpLnByb3RvdHlwZS5jb21wdXRlSW52Qz1mdW5jdGlvbih0KXtyZXR1cm4gMS8odGhpcy5jb21wdXRlR2lNR3QoKSt0KX19LHtcIi4uL21hdGgvdmVjMlwiOjMwLFwiLi4vb2JqZWN0cy9Cb2R5XCI6MzEsXCIuLi91dGlscy9VdGlsc1wiOjU3fV0sMjM6W2Z1bmN0aW9uKHQsZSxvKXtmdW5jdGlvbiBpKHQsZSxvKXtzLmNhbGwodGhpcyx0LGUsLW8sbyksdGhpcy5jb250YWN0UG9pbnRBPW4uY3JlYXRlKCksdGhpcy5jb250YWN0UG9pbnRCPW4uY3JlYXRlKCksdGhpcy50PW4uY3JlYXRlKCksdGhpcy5jb250YWN0RXF1YXRpb25zPVtdLHRoaXMuc2hhcGVBPW51bGwsdGhpcy5zaGFwZUI9bnVsbCx0aGlzLmZyaWN0aW9uQ29lZmZpY2llbnQ9LjN9dmFyIG49dChcIi4uL21hdGgvdmVjMlwiKSxzPXQoXCIuL0VxdWF0aW9uXCIpO3QoXCIuLi91dGlscy9VdGlsc1wiKTtlLmV4cG9ydHM9aSwoaS5wcm90b3R5cGU9bmV3IHMpLmNvbnN0cnVjdG9yPWksaS5wcm90b3R5cGUuc2V0U2xpcEZvcmNlPWZ1bmN0aW9uKHQpe3RoaXMubWF4Rm9yY2U9dCx0aGlzLm1pbkZvcmNlPS10fSxpLnByb3RvdHlwZS5nZXRTbGlwRm9yY2U9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXhGb3JjZX0saS5wcm90b3R5cGUuY29tcHV0ZUI9ZnVuY3Rpb24odCxlLG8pe3RoaXMuYm9keUEsdGhpcy5ib2R5Qjt2YXIgaT10aGlzLmNvbnRhY3RQb2ludEEscz10aGlzLmNvbnRhY3RQb2ludEIsYT10aGlzLnQscj10aGlzLkc7cmV0dXJuIHJbMF09LWFbMF0sclsxXT0tYVsxXSxyWzJdPS1uLmNyb3NzTGVuZ3RoKGksYSksclszXT1hWzBdLHJbNF09YVsxXSxyWzVdPW4uY3Jvc3NMZW5ndGgocyxhKSwtdGhpcy5jb21wdXRlR1coKSplLW8qdGhpcy5jb21wdXRlR2lNZigpfX0se1wiLi4vbWF0aC92ZWMyXCI6MzAsXCIuLi91dGlscy9VdGlsc1wiOjU3LFwiLi9FcXVhdGlvblwiOjIyfV0sMjQ6W2Z1bmN0aW9uKHQsZSxvKXtmdW5jdGlvbiBpKHQsZSxvKXtvPW98fHt9LG4uY2FsbCh0aGlzLHQsZSwtTnVtYmVyLk1BWF9WQUxVRSxOdW1iZXIuTUFYX1ZBTFVFKSx0aGlzLmFuZ2xlPW8uYW5nbGV8fDA7dmFyIGk9dGhpcy5HO2lbMl09MSxpWzVdPS0xfXZhciBuPXQoXCIuL0VxdWF0aW9uXCIpLHM9dChcIi4uL21hdGgvdmVjMlwiKTtlLmV4cG9ydHM9aSwoaS5wcm90b3R5cGU9bmV3IG4pLmNvbnN0cnVjdG9yPWk7dmFyIGE9cy5jcmVhdGUoKSxyPXMuY3JlYXRlKCksYz1zLmZyb21WYWx1ZXMoMSwwKSxoPXMuZnJvbVZhbHVlcygwLDEpO2kucHJvdG90eXBlLmNvbXB1dGVHcT1mdW5jdGlvbigpe3JldHVybiBzLnJvdGF0ZShhLGMsdGhpcy5ib2R5QS5hbmdsZSt0aGlzLmFuZ2xlKSxzLnJvdGF0ZShyLGgsdGhpcy5ib2R5Qi5hbmdsZSkscy5kb3QoYSxyKX19LHtcIi4uL21hdGgvdmVjMlwiOjMwLFwiLi9FcXVhdGlvblwiOjIyfV0sMjU6W2Z1bmN0aW9uKHQsZSxvKXtmdW5jdGlvbiBpKHQsZSl7bi5jYWxsKHRoaXMsdCxlLC1OdW1iZXIuTUFYX1ZBTFVFLE51bWJlci5NQVhfVkFMVUUpLHRoaXMucmVsYXRpdmVWZWxvY2l0eT0xLHRoaXMucmF0aW89MX12YXIgbj10KFwiLi9FcXVhdGlvblwiKTt0KFwiLi4vbWF0aC92ZWMyXCIpO2UuZXhwb3J0cz1pLChpLnByb3RvdHlwZT1uZXcgbikuY29uc3RydWN0b3I9aSxpLnByb3RvdHlwZS5jb21wdXRlQj1mdW5jdGlvbih0LGUsbyl7dmFyIGk9dGhpcy5HO2lbMl09LTEsaVs1XT10aGlzLnJhdGlvO3ZhciBuPXRoaXMuY29tcHV0ZUdpTWYoKTtyZXR1cm4tdGhpcy5jb21wdXRlR1coKSplLW8qbn19LHtcIi4uL21hdGgvdmVjMlwiOjMwLFwiLi9FcXVhdGlvblwiOjIyfV0sMjY6W2Z1bmN0aW9uKHQsZSxvKXt2YXIgaT1mdW5jdGlvbigpe307ZS5leHBvcnRzPWksaS5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOmksb246ZnVuY3Rpb24odCxlLG8pe2UuY29udGV4dD1vfHx0aGlzLHZvaWQgMD09PXRoaXMuX2xpc3RlbmVycyYmKHRoaXMuX2xpc3RlbmVycz17fSk7dmFyIGk9dGhpcy5fbGlzdGVuZXJzO3JldHVybiB2b2lkIDA9PT1pW3RdJiYoaVt0XT1bXSksLTE9PT1pW3RdLmluZGV4T2YoZSkmJmlbdF0ucHVzaChlKSx0aGlzfSxoYXM6ZnVuY3Rpb24odCxlKXtpZih2b2lkIDA9PT10aGlzLl9saXN0ZW5lcnMpcmV0dXJuITE7dmFyIG89dGhpcy5fbGlzdGVuZXJzO2lmKGUpe2lmKHZvaWQgMCE9PW9bdF0mJi0xIT09b1t0XS5pbmRleE9mKGUpKXJldHVybiEwfWVsc2UgaWYodm9pZCAwIT09b1t0XSlyZXR1cm4hMDtyZXR1cm4hMX0sb2ZmOmZ1bmN0aW9uKHQsZSl7aWYodm9pZCAwPT09dGhpcy5fbGlzdGVuZXJzKXJldHVybiB0aGlzO3ZhciBvPXRoaXMuX2xpc3RlbmVycyxpPW9bdF0uaW5kZXhPZihlKTtyZXR1cm4tMSE9PWkmJm9bdF0uc3BsaWNlKGksMSksdGhpc30sZW1pdDpmdW5jdGlvbih0KXtpZih2b2lkIDA9PT10aGlzLl9saXN0ZW5lcnMpcmV0dXJuIHRoaXM7dmFyIGU9dGhpcy5fbGlzdGVuZXJzW3QudHlwZV07aWYodm9pZCAwIT09ZSl7dC50YXJnZXQ9dGhpcztmb3IodmFyIG89MCxpPWUubGVuZ3RoO288aTtvKyspe3ZhciBuPWVbb107bi5jYWxsKG4uY29udGV4dCx0KX19cmV0dXJuIHRoaXN9fX0se31dLDI3OltmdW5jdGlvbih0LGUsbyl7ZnVuY3Rpb24gaSh0LGUsbyl7aWYobz1vfHx7fSwhKHQgaW5zdGFuY2VvZiBuJiZlIGluc3RhbmNlb2YgbikpdGhyb3cgbmV3IEVycm9yKFwiRmlyc3QgdHdvIGFyZ3VtZW50cyBtdXN0IGJlIE1hdGVyaWFsIGluc3RhbmNlcy5cIik7dGhpcy5pZD1pLmlkQ291bnRlcisrLHRoaXMubWF0ZXJpYWxBPXQsdGhpcy5tYXRlcmlhbEI9ZSx0aGlzLmZyaWN0aW9uPXZvaWQgMCE9PW8uZnJpY3Rpb24/TnVtYmVyKG8uZnJpY3Rpb24pOi4zLHRoaXMucmVzdGl0dXRpb249dm9pZCAwIT09by5yZXN0aXR1dGlvbj9OdW1iZXIoby5yZXN0aXR1dGlvbik6MCx0aGlzLnN0aWZmbmVzcz12b2lkIDAhPT1vLnN0aWZmbmVzcz9OdW1iZXIoby5zdGlmZm5lc3MpOnMuREVGQVVMVF9TVElGRk5FU1MsdGhpcy5yZWxheGF0aW9uPXZvaWQgMCE9PW8ucmVsYXhhdGlvbj9OdW1iZXIoby5yZWxheGF0aW9uKTpzLkRFRkFVTFRfUkVMQVhBVElPTix0aGlzLmZyaWN0aW9uU3RpZmZuZXNzPXZvaWQgMCE9PW8uZnJpY3Rpb25TdGlmZm5lc3M/TnVtYmVyKG8uZnJpY3Rpb25TdGlmZm5lc3MpOnMuREVGQVVMVF9TVElGRk5FU1MsdGhpcy5mcmljdGlvblJlbGF4YXRpb249dm9pZCAwIT09by5mcmljdGlvblJlbGF4YXRpb24/TnVtYmVyKG8uZnJpY3Rpb25SZWxheGF0aW9uKTpzLkRFRkFVTFRfUkVMQVhBVElPTix0aGlzLnN1cmZhY2VWZWxvY2l0eT12b2lkIDAhPT1vLnN1cmZhY2VWZWxvY2l0eT9OdW1iZXIoby5zdXJmYWNlVmVsb2NpdHkpOjAsdGhpcy5jb250YWN0U2tpblNpemU9LjAwNX12YXIgbj10KFwiLi9NYXRlcmlhbFwiKSxzPXQoXCIuLi9lcXVhdGlvbnMvRXF1YXRpb25cIik7ZS5leHBvcnRzPWksaS5pZENvdW50ZXI9MH0se1wiLi4vZXF1YXRpb25zL0VxdWF0aW9uXCI6MjIsXCIuL01hdGVyaWFsXCI6Mjh9XSwyODpbZnVuY3Rpb24odCxlLG8pe2Z1bmN0aW9uIGkodCl7dGhpcy5pZD10fHxpLmlkQ291bnRlcisrfWUuZXhwb3J0cz1pLGkuaWRDb3VudGVyPTB9LHt9XSwyOTpbZnVuY3Rpb24odCxlLG8pe3ZhciBpPXt9O2kuR2V0QXJlYT1mdW5jdGlvbih0KXtpZih0Lmxlbmd0aDw2KXJldHVybiAwO2Zvcih2YXIgZT10Lmxlbmd0aC0yLG89MCxpPTA7aTxlO2krPTIpbys9KHRbaSsyXS10W2ldKSoodFtpKzFdK3RbaSszXSk7cmV0dXJuLjUqLShvKz0odFswXS10W2VdKSoodFtlKzFdK3RbMV0pKX0saS5Ucmlhbmd1bGF0ZT1mdW5jdGlvbih0KXt2YXIgZT10Lmxlbmd0aD4+MTtpZihlPDMpcmV0dXJuW107Zm9yKHZhciBvPVtdLG49W10scz0wO3M8ZTtzKyspbi5wdXNoKHMpO2Zvcih2YXIgcz0wLGE9ZTthPjM7KXt2YXIgcj1uWyhzKzApJWFdLGM9blsocysxKSVhXSxoPW5bKHMrMiklYV0sbD10WzIqcl0scD10WzIqcisxXSx1PXRbMipjXSxkPXRbMipjKzFdLGY9dFsyKmhdLHY9dFsyKmgrMV0seT0hMTtpZihpLl9jb252ZXgobCxwLHUsZCxmLHYpKXt5PSEwO2Zvcih2YXIgbT0wO208YTttKyspe3ZhciBnPW5bbV07aWYoZyE9ciYmZyE9YyYmZyE9aCYmaS5fUG9pbnRJblRyaWFuZ2xlKHRbMipnXSx0WzIqZysxXSxsLHAsdSxkLGYsdikpe3k9ITE7YnJlYWt9fX1pZih5KW8ucHVzaChyLGMsaCksbi5zcGxpY2UoKHMrMSklYSwxKSxhLS0scz0wO2Vsc2UgaWYocysrPjMqYSlicmVha31yZXR1cm4gby5wdXNoKG5bMF0sblsxXSxuWzJdKSxvfSxpLl9Qb2ludEluVHJpYW5nbGU9ZnVuY3Rpb24odCxlLG8saSxuLHMsYSxyKXt2YXIgYz1hLW8saD1yLWksbD1uLW8scD1zLWksdT10LW8sZD1lLWksZj1jKmMraCpoLHY9YypsK2gqcCx5PWMqdStoKmQsbT1sKmwrcCpwLGc9bCp1K3AqZCxBPTEvKGYqbS12KnYpLGI9KG0qeS12KmcpKkEsRT0oZipnLXYqeSkqQTtyZXR1cm4gYj49MCYmRT49MCYmYitFPDF9LGkuX2NvbnZleD1mdW5jdGlvbih0LGUsbyxpLG4scyl7cmV0dXJuKGUtaSkqKG4tbykrKG8tdCkqKHMtaSk+PTB9LGUuZXhwb3J0cz1pfSx7fV0sMzA6W2Z1bmN0aW9uKHQsZSxvKXt2YXIgaT1lLmV4cG9ydHM9e30sbj10KFwiLi4vdXRpbHMvVXRpbHNcIik7aS5jcm9zc0xlbmd0aD1mdW5jdGlvbih0LGUpe3JldHVybiB0WzBdKmVbMV0tdFsxXSplWzBdfSxpLmNyb3NzVlo9ZnVuY3Rpb24odCxlLG8pe3JldHVybiBpLnJvdGF0ZSh0LGUsLU1hdGguUEkvMiksaS5zY2FsZSh0LHQsbyksdH0saS5jcm9zc1pWPWZ1bmN0aW9uKHQsZSxvKXtyZXR1cm4gaS5yb3RhdGUodCxvLE1hdGguUEkvMiksaS5zY2FsZSh0LHQsZSksdH0saS5yb3RhdGU9ZnVuY3Rpb24odCxlLG8pe2lmKDAhPT1vKXt2YXIgaT1NYXRoLmNvcyhvKSxuPU1hdGguc2luKG8pLHM9ZVswXSxhPWVbMV07dFswXT1pKnMtbiphLHRbMV09bipzK2kqYX1lbHNlIHRbMF09ZVswXSx0WzFdPWVbMV19LGkucm90YXRlOTBjdz1mdW5jdGlvbih0LGUpe3ZhciBvPWVbMF0saT1lWzFdO3RbMF09aSx0WzFdPS1vfSxpLnRvTG9jYWxGcmFtZT1mdW5jdGlvbih0LGUsbyxuKXtpLmNvcHkodCxlKSxpLnN1Yih0LHQsbyksaS5yb3RhdGUodCx0LC1uKX0saS50b0dsb2JhbEZyYW1lPWZ1bmN0aW9uKHQsZSxvLG4pe2kuY29weSh0LGUpLGkucm90YXRlKHQsdCxuKSxpLmFkZCh0LHQsbyl9LGkudmVjdG9yVG9Mb2NhbEZyYW1lPWZ1bmN0aW9uKHQsZSxvKXtpLnJvdGF0ZSh0LGUsLW8pfSxpLnZlY3RvclRvR2xvYmFsRnJhbWU9ZnVuY3Rpb24odCxlLG8pe2kucm90YXRlKHQsZSxvKX0saS5jZW50cm9pZD1mdW5jdGlvbih0LGUsbyxuKXtyZXR1cm4gaS5hZGQodCxlLG8pLGkuYWRkKHQsdCxuKSxpLnNjYWxlKHQsdCwxLzMpLHR9LGkuY3JlYXRlPWZ1bmN0aW9uKCl7dmFyIHQ9bmV3IG4uQVJSQVlfVFlQRSgyKTtyZXR1cm4gdFswXT0wLHRbMV09MCx0fSxpLmNsb25lPWZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBuLkFSUkFZX1RZUEUoMik7cmV0dXJuIGVbMF09dFswXSxlWzFdPXRbMV0sZX0saS5mcm9tVmFsdWVzPWZ1bmN0aW9uKHQsZSl7dmFyIG89bmV3IG4uQVJSQVlfVFlQRSgyKTtyZXR1cm4gb1swXT10LG9bMV09ZSxvfSxpLmNvcHk9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdFswXT1lWzBdLHRbMV09ZVsxXSx0fSxpLnNldD1mdW5jdGlvbih0LGUsbyl7cmV0dXJuIHRbMF09ZSx0WzFdPW8sdH0saS5hZGQ9ZnVuY3Rpb24odCxlLG8pe3JldHVybiB0WzBdPWVbMF0rb1swXSx0WzFdPWVbMV0rb1sxXSx0fSxpLnN1YnRyYWN0PWZ1bmN0aW9uKHQsZSxvKXtyZXR1cm4gdFswXT1lWzBdLW9bMF0sdFsxXT1lWzFdLW9bMV0sdH0saS5zdWI9aS5zdWJ0cmFjdCxpLm11bHRpcGx5PWZ1bmN0aW9uKHQsZSxvKXtyZXR1cm4gdFswXT1lWzBdKm9bMF0sdFsxXT1lWzFdKm9bMV0sdH0saS5tdWw9aS5tdWx0aXBseSxpLmRpdmlkZT1mdW5jdGlvbih0LGUsbyl7cmV0dXJuIHRbMF09ZVswXS9vWzBdLHRbMV09ZVsxXS9vWzFdLHR9LGkuZGl2PWkuZGl2aWRlLGkuc2NhbGU9ZnVuY3Rpb24odCxlLG8pe3JldHVybiB0WzBdPWVbMF0qbyx0WzFdPWVbMV0qbyx0fSxpLmRpc3RhbmNlPWZ1bmN0aW9uKHQsZSl7dmFyIG89ZVswXS10WzBdLGk9ZVsxXS10WzFdO3JldHVybiBNYXRoLnNxcnQobypvK2kqaSl9LGkuZGlzdD1pLmRpc3RhbmNlLGkuc3F1YXJlZERpc3RhbmNlPWZ1bmN0aW9uKHQsZSl7dmFyIG89ZVswXS10WzBdLGk9ZVsxXS10WzFdO3JldHVybiBvKm8raSppfSxpLnNxckRpc3Q9aS5zcXVhcmVkRGlzdGFuY2UsaS5sZW5ndGg9ZnVuY3Rpb24odCl7dmFyIGU9dFswXSxvPXRbMV07cmV0dXJuIE1hdGguc3FydChlKmUrbypvKX0saS5sZW49aS5sZW5ndGgsaS5zcXVhcmVkTGVuZ3RoPWZ1bmN0aW9uKHQpe3ZhciBlPXRbMF0sbz10WzFdO3JldHVybiBlKmUrbypvfSxpLnNxckxlbj1pLnNxdWFyZWRMZW5ndGgsaS5uZWdhdGU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdFswXT0tZVswXSx0WzFdPS1lWzFdLHR9LGkubm9ybWFsaXplPWZ1bmN0aW9uKHQsZSl7dmFyIG89ZVswXSxpPWVbMV0sbj1vKm8raSppO3JldHVybiBuPjAmJihuPTEvTWF0aC5zcXJ0KG4pLHRbMF09ZVswXSpuLHRbMV09ZVsxXSpuKSx0fSxpLmRvdD1mdW5jdGlvbih0LGUpe3JldHVybiB0WzBdKmVbMF0rdFsxXSplWzFdfSxpLnN0cj1mdW5jdGlvbih0KXtyZXR1cm5cInZlYzIoXCIrdFswXStcIiwgXCIrdFsxXStcIilcIn0saS5sZXJwPWZ1bmN0aW9uKHQsZSxvLGkpe3ZhciBuPWVbMF0scz1lWzFdO3JldHVybiB0WzBdPW4raSoob1swXS1uKSx0WzFdPXMraSoob1sxXS1zKSx0fSxpLnJlZmxlY3Q9ZnVuY3Rpb24odCxlLG8pe3ZhciBpPWVbMF0qb1swXStlWzFdKm9bMV07dFswXT1lWzBdLTIqb1swXSppLHRbMV09ZVsxXS0yKm9bMV0qaX0saS5nZXRMaW5lU2VnbWVudHNJbnRlcnNlY3Rpb249ZnVuY3Rpb24odCxlLG8sbixzKXt2YXIgYT1pLmdldExpbmVTZWdtZW50c0ludGVyc2VjdGlvbkZyYWN0aW9uKGUsbyxuLHMpO3JldHVybiEoYTwwKSYmKHRbMF09ZVswXSthKihvWzBdLWVbMF0pLHRbMV09ZVsxXSthKihvWzFdLWVbMV0pLCEwKX0saS5nZXRMaW5lU2VnbWVudHNJbnRlcnNlY3Rpb25GcmFjdGlvbj1mdW5jdGlvbih0LGUsbyxpKXt2YXIgbixzLGE9ZVswXS10WzBdLHI9ZVsxXS10WzFdLGM9aVswXS1vWzBdLGg9aVsxXS1vWzFdO3JldHVybiBuPSgtcioodFswXS1vWzBdKSthKih0WzFdLW9bMV0pKS8oLWMqcithKmgpLHM9KGMqKHRbMV0tb1sxXSktaCoodFswXS1vWzBdKSkvKC1jKnIrYSpoKSxuPj0wJiZuPD0xJiZzPj0wJiZzPD0xP3M6LTF9fSx7XCIuLi91dGlscy9VdGlsc1wiOjU3fV0sMzE6W2Z1bmN0aW9uKHQsZSxvKXtmdW5jdGlvbiBpKHQpe3Q9dHx8e30sbC5jYWxsKHRoaXMpLHRoaXMuaWQ9dC5pZHx8KytpLl9pZENvdW50ZXIsdGhpcy53b3JsZD1udWxsLHRoaXMuc2hhcGVzPVtdLHRoaXMubWFzcz10Lm1hc3N8fDAsdGhpcy5pbnZNYXNzPTAsdGhpcy5pbmVydGlhPTAsdGhpcy5pbnZJbmVydGlhPTAsdGhpcy5pbnZNYXNzU29sdmU9MCx0aGlzLmludkluZXJ0aWFTb2x2ZT0wLHRoaXMuZml4ZWRSb3RhdGlvbj0hIXQuZml4ZWRSb3RhdGlvbix0aGlzLmZpeGVkWD0hIXQuZml4ZWRYLHRoaXMuZml4ZWRZPSEhdC5maXhlZFksdGhpcy5tYXNzTXVsdGlwbGllcj1uLmNyZWF0ZSgpLHRoaXMucG9zaXRpb249bi5mcm9tVmFsdWVzKDAsMCksdC5wb3NpdGlvbiYmbi5jb3B5KHRoaXMucG9zaXRpb24sdC5wb3NpdGlvbiksdGhpcy5pbnRlcnBvbGF0ZWRQb3NpdGlvbj1uLmZyb21WYWx1ZXMoMCwwKSx0aGlzLmludGVycG9sYXRlZEFuZ2xlPTAsdGhpcy5wcmV2aW91c1Bvc2l0aW9uPW4uZnJvbVZhbHVlcygwLDApLHRoaXMucHJldmlvdXNBbmdsZT0wLHRoaXMudmVsb2NpdHk9bi5mcm9tVmFsdWVzKDAsMCksdC52ZWxvY2l0eSYmbi5jb3B5KHRoaXMudmVsb2NpdHksdC52ZWxvY2l0eSksdGhpcy52bGFtYmRhPW4uZnJvbVZhbHVlcygwLDApLHRoaXMud2xhbWJkYT0wLHRoaXMuYW5nbGU9dC5hbmdsZXx8MCx0aGlzLmFuZ3VsYXJWZWxvY2l0eT10LmFuZ3VsYXJWZWxvY2l0eXx8MCx0aGlzLmZvcmNlPW4uY3JlYXRlKCksdC5mb3JjZSYmbi5jb3B5KHRoaXMuZm9yY2UsdC5mb3JjZSksdGhpcy5hbmd1bGFyRm9yY2U9dC5hbmd1bGFyRm9yY2V8fDAsdGhpcy5kYW1waW5nPVwibnVtYmVyXCI9PXR5cGVvZiB0LmRhbXBpbmc/dC5kYW1waW5nOi4xLHRoaXMuYW5ndWxhckRhbXBpbmc9XCJudW1iZXJcIj09dHlwZW9mIHQuYW5ndWxhckRhbXBpbmc/dC5hbmd1bGFyRGFtcGluZzouMSx0aGlzLnR5cGU9aS5TVEFUSUMsdm9pZCAwIT09dC50eXBlP3RoaXMudHlwZT10LnR5cGU6dC5tYXNzP3RoaXMudHlwZT1pLkRZTkFNSUM6dGhpcy50eXBlPWkuU1RBVElDLHRoaXMuYm91bmRpbmdSYWRpdXM9MCx0aGlzLmFhYmI9bmV3IGgsdGhpcy5hYWJiTmVlZHNVcGRhdGU9ITAsdGhpcy5hbGxvd1NsZWVwPXZvaWQgMD09PXQuYWxsb3dTbGVlcHx8dC5hbGxvd1NsZWVwLHRoaXMud2FudHNUb1NsZWVwPSExLHRoaXMuc2xlZXBTdGF0ZT1pLkFXQUtFLHRoaXMuc2xlZXBTcGVlZExpbWl0PXZvaWQgMCE9PXQuc2xlZXBTcGVlZExpbWl0P3Quc2xlZXBTcGVlZExpbWl0Oi4yLHRoaXMuc2xlZXBUaW1lTGltaXQ9dm9pZCAwIT09dC5zbGVlcFRpbWVMaW1pdD90LnNsZWVwVGltZUxpbWl0OjEsdGhpcy5ncmF2aXR5U2NhbGU9dm9pZCAwIT09dC5ncmF2aXR5U2NhbGU/dC5ncmF2aXR5U2NhbGU6MSx0aGlzLmNvbGxpc2lvblJlc3BvbnNlPXZvaWQgMD09PXQuY29sbGlzaW9uUmVzcG9uc2V8fHQuY29sbGlzaW9uUmVzcG9uc2UsdGhpcy5pZGxlVGltZT0wLHRoaXMudGltZUxhc3RTbGVlcHk9MCx0aGlzLmNjZFNwZWVkVGhyZXNob2xkPXZvaWQgMCE9PXQuY2NkU3BlZWRUaHJlc2hvbGQ/dC5jY2RTcGVlZFRocmVzaG9sZDotMSx0aGlzLmNjZEl0ZXJhdGlvbnM9dm9pZCAwIT09dC5jY2RJdGVyYXRpb25zP3QuY2NkSXRlcmF0aW9uczoxMCx0aGlzLmNvbmNhdmVQYXRoPW51bGwsdGhpcy5fd2FrZVVwQWZ0ZXJOYXJyb3dwaGFzZT0hMSx0aGlzLnVwZGF0ZU1hc3NQcm9wZXJ0aWVzKCl9dmFyIG49dChcIi4uL21hdGgvdmVjMlwiKSxzPXQoXCJwb2x5LWRlY29tcFwiKSxhPXQoXCIuLi9zaGFwZXMvQ29udmV4XCIpLHI9dChcIi4uL2NvbGxpc2lvbi9SYXljYXN0UmVzdWx0XCIpLGM9dChcIi4uL2NvbGxpc2lvbi9SYXlcIiksaD10KFwiLi4vY29sbGlzaW9uL0FBQkJcIiksbD10KFwiLi4vZXZlbnRzL0V2ZW50RW1pdHRlclwiKTtlLmV4cG9ydHM9aSxpLnByb3RvdHlwZT1uZXcgbCxpLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1pLGkuX2lkQ291bnRlcj0wLGkucHJvdG90eXBlLnVwZGF0ZVNvbHZlTWFzc1Byb3BlcnRpZXM9ZnVuY3Rpb24oKXt0aGlzLnNsZWVwU3RhdGU9PT1pLlNMRUVQSU5HfHx0aGlzLnR5cGU9PT1pLktJTkVNQVRJQz8odGhpcy5pbnZNYXNzU29sdmU9MCx0aGlzLmludkluZXJ0aWFTb2x2ZT0wKToodGhpcy5pbnZNYXNzU29sdmU9dGhpcy5pbnZNYXNzLHRoaXMuaW52SW5lcnRpYVNvbHZlPXRoaXMuaW52SW5lcnRpYSl9LGkucHJvdG90eXBlLnNldERlbnNpdHk9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5nZXRBcmVhKCk7dGhpcy5tYXNzPWUqdCx0aGlzLnVwZGF0ZU1hc3NQcm9wZXJ0aWVzKCl9LGkucHJvdG90eXBlLmdldEFyZWE9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9MCxlPTA7ZTx0aGlzLnNoYXBlcy5sZW5ndGg7ZSsrKXQrPXRoaXMuc2hhcGVzW2VdLmFyZWE7cmV0dXJuIHR9LGkucHJvdG90eXBlLmdldEFBQkI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hYWJiTmVlZHNVcGRhdGUmJnRoaXMudXBkYXRlQUFCQigpLHRoaXMuYWFiYn07dmFyIHA9bmV3IGgsdT1uLmNyZWF0ZSgpO2kucHJvdG90eXBlLnVwZGF0ZUFBQkI9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy5zaGFwZXMsZT10Lmxlbmd0aCxvPXUsaT10aGlzLmFuZ2xlLHM9MDtzIT09ZTtzKyspe3ZhciBhPXRbc10scj1hLmFuZ2xlK2k7bi5yb3RhdGUobyxhLnBvc2l0aW9uLGkpLG4uYWRkKG8sbyx0aGlzLnBvc2l0aW9uKSxhLmNvbXB1dGVBQUJCKHAsbyxyKSwwPT09cz90aGlzLmFhYmIuY29weShwKTp0aGlzLmFhYmIuZXh0ZW5kKHApfXRoaXMuYWFiYk5lZWRzVXBkYXRlPSExfSxpLnByb3RvdHlwZS51cGRhdGVCb3VuZGluZ1JhZGl1cz1mdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLnNoYXBlcyxlPXQubGVuZ3RoLG89MCxpPTA7aSE9PWU7aSsrKXt2YXIgcz10W2ldLGE9bi5sZW5ndGgocy5wb3NpdGlvbikscj1zLmJvdW5kaW5nUmFkaXVzO2Ercj5vJiYobz1hK3IpfXRoaXMuYm91bmRpbmdSYWRpdXM9b30saS5wcm90b3R5cGUuYWRkU2hhcGU9ZnVuY3Rpb24odCxlLG8pe2lmKHQuYm9keSl0aHJvdyBuZXcgRXJyb3IoXCJBIHNoYXBlIGNhbiBvbmx5IGJlIGFkZGVkIHRvIG9uZSBib2R5LlwiKTt0LmJvZHk9dGhpcyxlP24uY29weSh0LnBvc2l0aW9uLGUpOm4uc2V0KHQucG9zaXRpb24sMCwwKSx0LmFuZ2xlPW98fDAsdGhpcy5zaGFwZXMucHVzaCh0KSx0aGlzLnVwZGF0ZU1hc3NQcm9wZXJ0aWVzKCksdGhpcy51cGRhdGVCb3VuZGluZ1JhZGl1cygpLHRoaXMuYWFiYk5lZWRzVXBkYXRlPSEwfSxpLnByb3RvdHlwZS5yZW1vdmVTaGFwZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLnNoYXBlcy5pbmRleE9mKHQpO3JldHVybi0xIT09ZSYmKHRoaXMuc2hhcGVzLnNwbGljZShlLDEpLHRoaXMuYWFiYk5lZWRzVXBkYXRlPSEwLHQuYm9keT1udWxsLCEwKX0saS5wcm90b3R5cGUudXBkYXRlTWFzc1Byb3BlcnRpZXM9ZnVuY3Rpb24oKXtpZih0aGlzLnR5cGU9PT1pLlNUQVRJQ3x8dGhpcy50eXBlPT09aS5LSU5FTUFUSUMpdGhpcy5tYXNzPU51bWJlci5NQVhfVkFMVUUsdGhpcy5pbnZNYXNzPTAsdGhpcy5pbmVydGlhPU51bWJlci5NQVhfVkFMVUUsdGhpcy5pbnZJbmVydGlhPTA7ZWxzZXt2YXIgdD10aGlzLnNoYXBlcyxlPXQubGVuZ3RoLG89dGhpcy5tYXNzL2Uscz0wO2lmKHRoaXMuZml4ZWRSb3RhdGlvbil0aGlzLmluZXJ0aWE9TnVtYmVyLk1BWF9WQUxVRSx0aGlzLmludkluZXJ0aWE9MDtlbHNle2Zvcih2YXIgYT0wO2E8ZTthKyspe3ZhciByPXRbYV0sYz1uLnNxdWFyZWRMZW5ndGgoci5wb3NpdGlvbik7cys9ci5jb21wdXRlTW9tZW50T2ZJbmVydGlhKG8pK28qY310aGlzLmluZXJ0aWE9cyx0aGlzLmludkluZXJ0aWE9cz4wPzEvczowfXRoaXMuaW52TWFzcz0xL3RoaXMubWFzcyxuLnNldCh0aGlzLm1hc3NNdWx0aXBsaWVyLHRoaXMuZml4ZWRYPzA6MSx0aGlzLmZpeGVkWT8wOjEpfX07bi5jcmVhdGUoKTtpLnByb3RvdHlwZS5hcHBseUZvcmNlPWZ1bmN0aW9uKHQsZSl7aWYobi5hZGQodGhpcy5mb3JjZSx0aGlzLmZvcmNlLHQpLGUpe3ZhciBvPW4uY3Jvc3NMZW5ndGgoZSx0KTt0aGlzLmFuZ3VsYXJGb3JjZSs9b319O3ZhciBkPW4uY3JlYXRlKCksZj1uLmNyZWF0ZSgpLHY9bi5jcmVhdGUoKTtpLnByb3RvdHlwZS5hcHBseUZvcmNlTG9jYWw9ZnVuY3Rpb24odCxlKXtlPWV8fHY7dmFyIG89ZCxpPWY7dGhpcy52ZWN0b3JUb1dvcmxkRnJhbWUobyx0KSx0aGlzLnZlY3RvclRvV29ybGRGcmFtZShpLGUpLHRoaXMuYXBwbHlGb3JjZShvLGkpfTt2YXIgeT1uLmNyZWF0ZSgpO2kucHJvdG90eXBlLmFwcGx5SW1wdWxzZT1mdW5jdGlvbih0LGUpe2lmKHRoaXMudHlwZT09PWkuRFlOQU1JQyl7dmFyIG89eTtpZihuLnNjYWxlKG8sdCx0aGlzLmludk1hc3MpLG4ubXVsdGlwbHkobyx0aGlzLm1hc3NNdWx0aXBsaWVyLG8pLG4uYWRkKHRoaXMudmVsb2NpdHksbyx0aGlzLnZlbG9jaXR5KSxlKXt2YXIgcz1uLmNyb3NzTGVuZ3RoKGUsdCk7cyo9dGhpcy5pbnZJbmVydGlhLHRoaXMuYW5ndWxhclZlbG9jaXR5Kz1zfX19O3ZhciBtPW4uY3JlYXRlKCksZz1uLmNyZWF0ZSgpLEE9bi5jcmVhdGUoKTtpLnByb3RvdHlwZS5hcHBseUltcHVsc2VMb2NhbD1mdW5jdGlvbih0LGUpe2U9ZXx8QTt2YXIgbz1tLGk9Zzt0aGlzLnZlY3RvclRvV29ybGRGcmFtZShvLHQpLHRoaXMudmVjdG9yVG9Xb3JsZEZyYW1lKGksZSksdGhpcy5hcHBseUltcHVsc2UobyxpKX0saS5wcm90b3R5cGUudG9Mb2NhbEZyYW1lPWZ1bmN0aW9uKHQsZSl7bi50b0xvY2FsRnJhbWUodCxlLHRoaXMucG9zaXRpb24sdGhpcy5hbmdsZSl9LGkucHJvdG90eXBlLnRvV29ybGRGcmFtZT1mdW5jdGlvbih0LGUpe24udG9HbG9iYWxGcmFtZSh0LGUsdGhpcy5wb3NpdGlvbix0aGlzLmFuZ2xlKX0saS5wcm90b3R5cGUudmVjdG9yVG9Mb2NhbEZyYW1lPWZ1bmN0aW9uKHQsZSl7bi52ZWN0b3JUb0xvY2FsRnJhbWUodCxlLHRoaXMuYW5nbGUpfSxpLnByb3RvdHlwZS52ZWN0b3JUb1dvcmxkRnJhbWU9ZnVuY3Rpb24odCxlKXtuLnZlY3RvclRvR2xvYmFsRnJhbWUodCxlLHRoaXMuYW5nbGUpfSxpLnByb3RvdHlwZS5mcm9tUG9seWdvbj1mdW5jdGlvbih0LGUpe2U9ZXx8e307Zm9yKGM9dGhpcy5zaGFwZXMubGVuZ3RoO2M+PTA7LS1jKXRoaXMucmVtb3ZlU2hhcGUodGhpcy5zaGFwZXNbY10pO3ZhciBvPW5ldyBzLlBvbHlnb247aWYoby52ZXJ0aWNlcz10LG8ubWFrZUNDVygpLFwibnVtYmVyXCI9PXR5cGVvZiBlLnJlbW92ZUNvbGxpbmVhclBvaW50cyYmby5yZW1vdmVDb2xsaW5lYXJQb2ludHMoZS5yZW1vdmVDb2xsaW5lYXJQb2ludHMpLHZvaWQgMD09PWUuc2tpcFNpbXBsZUNoZWNrJiYhby5pc1NpbXBsZSgpKXJldHVybiExO3RoaXMuY29uY2F2ZVBhdGg9by52ZXJ0aWNlcy5zbGljZSgwKTtmb3IoYz0wO2M8dGhpcy5jb25jYXZlUGF0aC5sZW5ndGg7YysrKXtwPVswLDBdO24uY29weShwLHRoaXMuY29uY2F2ZVBhdGhbY10pLHRoaXMuY29uY2F2ZVBhdGhbY109cH12YXIgaTtpPWUub3B0aW1hbERlY29tcD9vLmRlY29tcCgpOm8ucXVpY2tEZWNvbXAoKTtmb3IodmFyIHI9bi5jcmVhdGUoKSxjPTA7YyE9PWkubGVuZ3RoO2MrKyl7Zm9yKHZhciBoPW5ldyBhKHt2ZXJ0aWNlczppW2NdLnZlcnRpY2VzfSksbD0wO2whPT1oLnZlcnRpY2VzLmxlbmd0aDtsKyspe3ZhciBwPWgudmVydGljZXNbbF07bi5zdWIocCxwLGguY2VudGVyT2ZNYXNzKX1uLnNjYWxlKHIsaC5jZW50ZXJPZk1hc3MsMSksaC51cGRhdGVUcmlhbmdsZXMoKSxoLnVwZGF0ZUNlbnRlck9mTWFzcygpLGgudXBkYXRlQm91bmRpbmdSYWRpdXMoKSx0aGlzLmFkZFNoYXBlKGgscil9cmV0dXJuIHRoaXMuYWRqdXN0Q2VudGVyT2ZNYXNzKCksdGhpcy5hYWJiTmVlZHNVcGRhdGU9ITAsITB9O24uZnJvbVZhbHVlcygwLDApO3ZhciBiPW4uZnJvbVZhbHVlcygwLDApLEU9bi5mcm9tVmFsdWVzKDAsMCksQj1uLmZyb21WYWx1ZXMoMCwwKTtpLnByb3RvdHlwZS5hZGp1c3RDZW50ZXJPZk1hc3M9ZnVuY3Rpb24oKXt2YXIgdD1iLGU9RSxvPUIsaT0wO24uc2V0KGUsMCwwKTtmb3IoYT0wO2EhPT10aGlzLnNoYXBlcy5sZW5ndGg7YSsrKXtzPXRoaXMuc2hhcGVzW2FdO24uc2NhbGUodCxzLnBvc2l0aW9uLHMuYXJlYSksbi5hZGQoZSxlLHQpLGkrPXMuYXJlYX1uLnNjYWxlKG8sZSwxL2kpO2ZvcihhPTA7YSE9PXRoaXMuc2hhcGVzLmxlbmd0aDthKyspe3ZhciBzPXRoaXMuc2hhcGVzW2FdO24uc3ViKHMucG9zaXRpb24scy5wb3NpdGlvbixvKX1uLmFkZCh0aGlzLnBvc2l0aW9uLHRoaXMucG9zaXRpb24sbyk7Zm9yKHZhciBhPTA7dGhpcy5jb25jYXZlUGF0aCYmYTx0aGlzLmNvbmNhdmVQYXRoLmxlbmd0aDthKyspbi5zdWIodGhpcy5jb25jYXZlUGF0aFthXSx0aGlzLmNvbmNhdmVQYXRoW2FdLG8pO3RoaXMudXBkYXRlTWFzc1Byb3BlcnRpZXMoKSx0aGlzLnVwZGF0ZUJvdW5kaW5nUmFkaXVzKCl9LGkucHJvdG90eXBlLnNldFplcm9Gb3JjZT1mdW5jdGlvbigpe24uc2V0KHRoaXMuZm9yY2UsMCwwKSx0aGlzLmFuZ3VsYXJGb3JjZT0wfSxpLnByb3RvdHlwZS5yZXNldENvbnN0cmFpbnRWZWxvY2l0eT1mdW5jdGlvbigpe3ZhciB0PXRoaXMsZT10LnZsYW1iZGE7bi5zZXQoZSwwLDApLHQud2xhbWJkYT0wfSxpLnByb3RvdHlwZS5hZGRDb25zdHJhaW50VmVsb2NpdHk9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGU9dC52ZWxvY2l0eTtuLmFkZChlLGUsdC52bGFtYmRhKSx0LmFuZ3VsYXJWZWxvY2l0eSs9dC53bGFtYmRhfSxpLnByb3RvdHlwZS5hcHBseURhbXBpbmc9ZnVuY3Rpb24odCl7aWYodGhpcy50eXBlPT09aS5EWU5BTUlDKXt2YXIgZT10aGlzLnZlbG9jaXR5O24uc2NhbGUoZSxlLE1hdGgucG93KDEtdGhpcy5kYW1waW5nLHQpKSx0aGlzLmFuZ3VsYXJWZWxvY2l0eSo9TWF0aC5wb3coMS10aGlzLmFuZ3VsYXJEYW1waW5nLHQpfX0saS5wcm90b3R5cGUud2FrZVVwPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5zbGVlcFN0YXRlO3RoaXMuc2xlZXBTdGF0ZT1pLkFXQUtFLHRoaXMuaWRsZVRpbWU9MCx0IT09aS5BV0FLRSYmdGhpcy5lbWl0KGkud2FrZVVwRXZlbnQpfSxpLnByb3RvdHlwZS5zbGVlcD1mdW5jdGlvbigpe3RoaXMuc2xlZXBTdGF0ZT1pLlNMRUVQSU5HLHRoaXMuYW5ndWxhclZlbG9jaXR5PTAsdGhpcy5hbmd1bGFyRm9yY2U9MCxuLnNldCh0aGlzLnZlbG9jaXR5LDAsMCksbi5zZXQodGhpcy5mb3JjZSwwLDApLHRoaXMuZW1pdChpLnNsZWVwRXZlbnQpfSxpLnByb3RvdHlwZS5zbGVlcFRpY2s9ZnVuY3Rpb24odCxlLG8pe2lmKHRoaXMuYWxsb3dTbGVlcCYmdGhpcy50eXBlIT09aS5TTEVFUElORyl7dGhpcy53YW50c1RvU2xlZXA9ITE7dGhpcy5zbGVlcFN0YXRlO24uc3F1YXJlZExlbmd0aCh0aGlzLnZlbG9jaXR5KStNYXRoLnBvdyh0aGlzLmFuZ3VsYXJWZWxvY2l0eSwyKT49TWF0aC5wb3codGhpcy5zbGVlcFNwZWVkTGltaXQsMik/KHRoaXMuaWRsZVRpbWU9MCx0aGlzLnNsZWVwU3RhdGU9aS5BV0FLRSk6KHRoaXMuaWRsZVRpbWUrPW8sdGhpcy5zbGVlcFN0YXRlPWkuU0xFRVBZKSx0aGlzLmlkbGVUaW1lPnRoaXMuc2xlZXBUaW1lTGltaXQmJihlP3RoaXMud2FudHNUb1NsZWVwPSEwOnRoaXMuc2xlZXAoKSl9fSxpLnByb3RvdHlwZS5vdmVybGFwcz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy53b3JsZC5vdmVybGFwS2VlcGVyLmJvZGllc0FyZU92ZXJsYXBwaW5nKHRoaXMsdCl9O3ZhciBxPW4uY3JlYXRlKCksUD1uLmNyZWF0ZSgpO2kucHJvdG90eXBlLmludGVncmF0ZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmludk1hc3Msbz10aGlzLmZvcmNlLGk9dGhpcy5wb3NpdGlvbixzPXRoaXMudmVsb2NpdHk7bi5jb3B5KHRoaXMucHJldmlvdXNQb3NpdGlvbix0aGlzLnBvc2l0aW9uKSx0aGlzLnByZXZpb3VzQW5nbGU9dGhpcy5hbmdsZSx0aGlzLmZpeGVkUm90YXRpb258fCh0aGlzLmFuZ3VsYXJWZWxvY2l0eSs9dGhpcy5hbmd1bGFyRm9yY2UqdGhpcy5pbnZJbmVydGlhKnQpLG4uc2NhbGUocSxvLHQqZSksbi5tdWx0aXBseShxLHRoaXMubWFzc011bHRpcGxpZXIscSksbi5hZGQocyxxLHMpLHRoaXMuaW50ZWdyYXRlVG9UaW1lT2ZJbXBhY3QodCl8fChuLnNjYWxlKFAscyx0KSxuLmFkZChpLGksUCksdGhpcy5maXhlZFJvdGF0aW9ufHwodGhpcy5hbmdsZSs9dGhpcy5hbmd1bGFyVmVsb2NpdHkqdCkpLHRoaXMuYWFiYk5lZWRzVXBkYXRlPSEwfTt2YXIgdz1uZXcgcixTPW5ldyBjKHttb2RlOmMuQUxMfSksQz1uLmNyZWF0ZSgpLEw9bi5jcmVhdGUoKSx4PW4uY3JlYXRlKCksRj1uLmNyZWF0ZSgpO2kucHJvdG90eXBlLmludGVncmF0ZVRvVGltZU9mSW1wYWN0PWZ1bmN0aW9uKHQpe2lmKHRoaXMuY2NkU3BlZWRUaHJlc2hvbGQ8MHx8bi5zcXVhcmVkTGVuZ3RoKHRoaXMudmVsb2NpdHkpPE1hdGgucG93KHRoaXMuY2NkU3BlZWRUaHJlc2hvbGQsMikpcmV0dXJuITE7bi5ub3JtYWxpemUoQyx0aGlzLnZlbG9jaXR5KSxuLnNjYWxlKEwsdGhpcy52ZWxvY2l0eSx0KSxuLmFkZChMLEwsdGhpcy5wb3NpdGlvbiksbi5zdWIoeCxMLHRoaXMucG9zaXRpb24pO3ZhciBlLG89dGhpcy5hbmd1bGFyVmVsb2NpdHkqdCxpPW4ubGVuZ3RoKHgpLHM9MSxhPXRoaXM7aWYody5yZXNldCgpLFMuY2FsbGJhY2s9ZnVuY3Rpb24odCl7dC5ib2R5IT09YSYmKGU9dC5ib2R5LHQuZ2V0SGl0UG9pbnQoTCxTKSxuLnN1Yih4LEwsYS5wb3NpdGlvbikscz1uLmxlbmd0aCh4KS9pLHQuc3RvcCgpKX0sbi5jb3B5KFMuZnJvbSx0aGlzLnBvc2l0aW9uKSxuLmNvcHkoUy50byxMKSxTLnVwZGF0ZSgpLHRoaXMud29ybGQucmF5Y2FzdCh3LFMpLCFlKXJldHVybiExO3ZhciByPXRoaXMuYW5nbGU7bi5jb3B5KEYsdGhpcy5wb3NpdGlvbik7Zm9yKHZhciBjPTAsaD0wLGw9MCxwPXM7cD49aCYmYzx0aGlzLmNjZEl0ZXJhdGlvbnM7KWMrKyxsPShwLWgpLzIsbi5zY2FsZShQLHgscyksbi5hZGQodGhpcy5wb3NpdGlvbixGLFApLHRoaXMuYW5nbGU9citvKnMsdGhpcy51cGRhdGVBQUJCKCksdGhpcy5hYWJiLm92ZXJsYXBzKGUuYWFiYikmJnRoaXMud29ybGQubmFycm93cGhhc2UuYm9kaWVzT3ZlcmxhcCh0aGlzLGUpP2g9bDpwPWw7cmV0dXJuIHM9bCxuLmNvcHkodGhpcy5wb3NpdGlvbixGKSx0aGlzLmFuZ2xlPXIsbi5zY2FsZShQLHgscyksbi5hZGQodGhpcy5wb3NpdGlvbix0aGlzLnBvc2l0aW9uLFApLHRoaXMuZml4ZWRSb3RhdGlvbnx8KHRoaXMuYW5nbGUrPW8qcyksITB9LGkucHJvdG90eXBlLmdldFZlbG9jaXR5QXRQb2ludD1mdW5jdGlvbih0LGUpe3JldHVybiBuLmNyb3NzVloodCxlLHRoaXMuYW5ndWxhclZlbG9jaXR5KSxuLnN1YnRyYWN0KHQsdGhpcy52ZWxvY2l0eSx0KSx0fSxpLnNsZWVweUV2ZW50PXt0eXBlOlwic2xlZXB5XCJ9LGkuc2xlZXBFdmVudD17dHlwZTpcInNsZWVwXCJ9LGkud2FrZVVwRXZlbnQ9e3R5cGU6XCJ3YWtldXBcIn0saS5EWU5BTUlDPTEsaS5TVEFUSUM9MixpLktJTkVNQVRJQz00LGkuQVdBS0U9MCxpLlNMRUVQWT0xLGkuU0xFRVBJTkc9Mn0se1wiLi4vY29sbGlzaW9uL0FBQkJcIjo3LFwiLi4vY29sbGlzaW9uL1JheVwiOjExLFwiLi4vY29sbGlzaW9uL1JheWNhc3RSZXN1bHRcIjoxMixcIi4uL2V2ZW50cy9FdmVudEVtaXR0ZXJcIjoyNixcIi4uL21hdGgvdmVjMlwiOjMwLFwiLi4vc2hhcGVzL0NvbnZleFwiOjQwLFwicG9seS1kZWNvbXBcIjo1fV0sMzI6W2Z1bmN0aW9uKHQsZSxvKXtmdW5jdGlvbiBpKHQsZSxvKXtvPW98fHt9LHMuY2FsbCh0aGlzLHQsZSxvKSx0aGlzLmxvY2FsQW5jaG9yQT1uLmZyb21WYWx1ZXMoMCwwKSx0aGlzLmxvY2FsQW5jaG9yQj1uLmZyb21WYWx1ZXMoMCwwKSxvLmxvY2FsQW5jaG9yQSYmbi5jb3B5KHRoaXMubG9jYWxBbmNob3JBLG8ubG9jYWxBbmNob3JBKSxvLmxvY2FsQW5jaG9yQiYmbi5jb3B5KHRoaXMubG9jYWxBbmNob3JCLG8ubG9jYWxBbmNob3JCKSxvLndvcmxkQW5jaG9yQSYmdGhpcy5zZXRXb3JsZEFuY2hvckEoby53b3JsZEFuY2hvckEpLG8ud29ybGRBbmNob3JCJiZ0aGlzLnNldFdvcmxkQW5jaG9yQihvLndvcmxkQW5jaG9yQik7dmFyIGk9bi5jcmVhdGUoKSxhPW4uY3JlYXRlKCk7dGhpcy5nZXRXb3JsZEFuY2hvckEoaSksdGhpcy5nZXRXb3JsZEFuY2hvckIoYSk7dmFyIHI9bi5kaXN0YW5jZShpLGEpO3RoaXMucmVzdExlbmd0aD1cIm51bWJlclwiPT10eXBlb2Ygby5yZXN0TGVuZ3RoP28ucmVzdExlbmd0aDpyfXZhciBuPXQoXCIuLi9tYXRoL3ZlYzJcIikscz10KFwiLi9TcHJpbmdcIik7dChcIi4uL3V0aWxzL1V0aWxzXCIpO2UuZXhwb3J0cz1pLChpLnByb3RvdHlwZT1uZXcgcykuY29uc3RydWN0b3I9aSxpLnByb3RvdHlwZS5zZXRXb3JsZEFuY2hvckE9ZnVuY3Rpb24odCl7dGhpcy5ib2R5QS50b0xvY2FsRnJhbWUodGhpcy5sb2NhbEFuY2hvckEsdCl9LGkucHJvdG90eXBlLnNldFdvcmxkQW5jaG9yQj1mdW5jdGlvbih0KXt0aGlzLmJvZHlCLnRvTG9jYWxGcmFtZSh0aGlzLmxvY2FsQW5jaG9yQix0KX0saS5wcm90b3R5cGUuZ2V0V29ybGRBbmNob3JBPWZ1bmN0aW9uKHQpe3RoaXMuYm9keUEudG9Xb3JsZEZyYW1lKHQsdGhpcy5sb2NhbEFuY2hvckEpfSxpLnByb3RvdHlwZS5nZXRXb3JsZEFuY2hvckI9ZnVuY3Rpb24odCl7dGhpcy5ib2R5Qi50b1dvcmxkRnJhbWUodCx0aGlzLmxvY2FsQW5jaG9yQil9O3ZhciBhPW4uY3JlYXRlKCkscj1uLmNyZWF0ZSgpLGM9bi5jcmVhdGUoKSxoPW4uY3JlYXRlKCksbD1uLmNyZWF0ZSgpLHA9bi5jcmVhdGUoKSx1PW4uY3JlYXRlKCksZD1uLmNyZWF0ZSgpLGY9bi5jcmVhdGUoKTtpLnByb3RvdHlwZS5hcHBseUZvcmNlPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5zdGlmZm5lc3MsZT10aGlzLmRhbXBpbmcsbz10aGlzLnJlc3RMZW5ndGgsaT10aGlzLmJvZHlBLHM9dGhpcy5ib2R5Qix2PWEseT1yLG09YyxnPWgsQT1mLGI9bCxFPXAsQj11LHE9ZDt0aGlzLmdldFdvcmxkQW5jaG9yQShiKSx0aGlzLmdldFdvcmxkQW5jaG9yQihFKSxuLnN1YihCLGIsaS5wb3NpdGlvbiksbi5zdWIocSxFLHMucG9zaXRpb24pLG4uc3ViKHYsRSxiKTt2YXIgUD1uLmxlbih2KTtuLm5vcm1hbGl6ZSh5LHYpLG4uc3ViKG0scy52ZWxvY2l0eSxpLnZlbG9jaXR5KSxuLmNyb3NzWlYoQSxzLmFuZ3VsYXJWZWxvY2l0eSxxKSxuLmFkZChtLG0sQSksbi5jcm9zc1pWKEEsaS5hbmd1bGFyVmVsb2NpdHksQiksbi5zdWIobSxtLEEpLG4uc2NhbGUoZyx5LC10KihQLW8pLWUqbi5kb3QobSx5KSksbi5zdWIoaS5mb3JjZSxpLmZvcmNlLGcpLG4uYWRkKHMuZm9yY2Uscy5mb3JjZSxnKTt2YXIgdz1uLmNyb3NzTGVuZ3RoKEIsZyksUz1uLmNyb3NzTGVuZ3RoKHEsZyk7aS5hbmd1bGFyRm9yY2UtPXcscy5hbmd1bGFyRm9yY2UrPVN9fSx7XCIuLi9tYXRoL3ZlYzJcIjozMCxcIi4uL3V0aWxzL1V0aWxzXCI6NTcsXCIuL1NwcmluZ1wiOjM0fV0sMzM6W2Z1bmN0aW9uKHQsZSxvKXtmdW5jdGlvbiBpKHQsZSxvKXtvPW98fHt9LG4uY2FsbCh0aGlzLHQsZSxvKSx0aGlzLnJlc3RBbmdsZT1cIm51bWJlclwiPT10eXBlb2Ygby5yZXN0QW5nbGU/by5yZXN0QW5nbGU6ZS5hbmdsZS10LmFuZ2xlfXQoXCIuLi9tYXRoL3ZlYzJcIik7dmFyIG49dChcIi4vU3ByaW5nXCIpO2UuZXhwb3J0cz1pLChpLnByb3RvdHlwZT1uZXcgbikuY29uc3RydWN0b3I9aSxpLnByb3RvdHlwZS5hcHBseUZvcmNlPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5zdGlmZm5lc3MsZT10aGlzLmRhbXBpbmcsbz10aGlzLnJlc3RBbmdsZSxpPXRoaXMuYm9keUEsbj10aGlzLmJvZHlCLHM9LXQqKG4uYW5nbGUtaS5hbmdsZS1vKS1lKihuLmFuZ3VsYXJWZWxvY2l0eS1pLmFuZ3VsYXJWZWxvY2l0eSkqMDtpLmFuZ3VsYXJGb3JjZS09cyxuLmFuZ3VsYXJGb3JjZSs9c319LHtcIi4uL21hdGgvdmVjMlwiOjMwLFwiLi9TcHJpbmdcIjozNH1dLDM0OltmdW5jdGlvbih0LGUsbyl7ZnVuY3Rpb24gaSh0LGUsbyl7bz1uLmRlZmF1bHRzKG8se3N0aWZmbmVzczoxMDAsZGFtcGluZzoxfSksdGhpcy5zdGlmZm5lc3M9by5zdGlmZm5lc3MsdGhpcy5kYW1waW5nPW8uZGFtcGluZyx0aGlzLmJvZHlBPXQsdGhpcy5ib2R5Qj1lfXQoXCIuLi9tYXRoL3ZlYzJcIik7dmFyIG49dChcIi4uL3V0aWxzL1V0aWxzXCIpO2UuZXhwb3J0cz1pLGkucHJvdG90eXBlLmFwcGx5Rm9yY2U9ZnVuY3Rpb24oKXt9fSx7XCIuLi9tYXRoL3ZlYzJcIjozMCxcIi4uL3V0aWxzL1V0aWxzXCI6NTd9XSwzNTpbZnVuY3Rpb24odCxlLG8pe2Z1bmN0aW9uIGkodCxlKXtlPWV8fHt9LHRoaXMuY2hhc3Npc0JvZHk9dCx0aGlzLndoZWVscz1bXSx0aGlzLmdyb3VuZEJvZHk9bmV3IGMoe21hc3M6MH0pLHRoaXMud29ybGQ9bnVsbDt2YXIgbz10aGlzO3RoaXMucHJlU3RlcENhbGxiYWNrPWZ1bmN0aW9uKCl7by51cGRhdGUoKX19ZnVuY3Rpb24gbih0LGUpe2U9ZXx8e30sdGhpcy52ZWhpY2xlPXQsdGhpcy5mb3J3YXJkRXF1YXRpb249bmV3IHIodC5jaGFzc2lzQm9keSx0Lmdyb3VuZEJvZHkpLHRoaXMuc2lkZUVxdWF0aW9uPW5ldyByKHQuY2hhc3Npc0JvZHksdC5ncm91bmRCb2R5KSx0aGlzLnN0ZWVyVmFsdWU9MCx0aGlzLmVuZ2luZUZvcmNlPTAsdGhpcy5zZXRTaWRlRnJpY3Rpb24odm9pZCAwIT09ZS5zaWRlRnJpY3Rpb24/ZS5zaWRlRnJpY3Rpb246NSksdGhpcy5sb2NhbEZvcndhcmRWZWN0b3I9cy5mcm9tVmFsdWVzKDAsMSksZS5sb2NhbEZvcndhcmRWZWN0b3ImJnMuY29weSh0aGlzLmxvY2FsRm9yd2FyZFZlY3RvcixlLmxvY2FsRm9yd2FyZFZlY3RvciksdGhpcy5sb2NhbFBvc2l0aW9uPXMuZnJvbVZhbHVlcygwLDApLGUubG9jYWxQb3NpdGlvbiYmcy5jb3B5KHRoaXMubG9jYWxQb3NpdGlvbixlLmxvY2FsUG9zaXRpb24pLGEuYXBwbHkodGhpcyx0LmNoYXNzaXNCb2R5LHQuZ3JvdW5kQm9keSksdGhpcy5lcXVhdGlvbnMucHVzaCh0aGlzLmZvcndhcmRFcXVhdGlvbix0aGlzLnNpZGVFcXVhdGlvbiksdGhpcy5zZXRCcmFrZUZvcmNlKDApfXZhciBzPXQoXCIuLi9tYXRoL3ZlYzJcIiksYT0odChcIi4uL3V0aWxzL1V0aWxzXCIpLHQoXCIuLi9jb25zdHJhaW50cy9Db25zdHJhaW50XCIpKSxyPXQoXCIuLi9lcXVhdGlvbnMvRnJpY3Rpb25FcXVhdGlvblwiKSxjPXQoXCIuLi9vYmplY3RzL0JvZHlcIik7ZS5leHBvcnRzPWksaS5wcm90b3R5cGUuYWRkVG9Xb3JsZD1mdW5jdGlvbih0KXt0aGlzLndvcmxkPXQsdC5hZGRCb2R5KHRoaXMuZ3JvdW5kQm9keSksdC5vbihcInByZVN0ZXBcIix0aGlzLnByZVN0ZXBDYWxsYmFjayk7Zm9yKHZhciBlPTA7ZTx0aGlzLndoZWVscy5sZW5ndGg7ZSsrKXt2YXIgbz10aGlzLndoZWVsc1tlXTt0LmFkZENvbnN0cmFpbnQobyl9fSxpLnByb3RvdHlwZS5yZW1vdmVGcm9tV29ybGQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLndvcmxkO3QucmVtb3ZlQm9keSh0aGlzLmdyb3VuZEJvZHkpLHQub2ZmKFwicHJlU3RlcFwiLHRoaXMucHJlU3RlcENhbGxiYWNrKTtmb3IodmFyIGU9MDtlPHRoaXMud2hlZWxzLmxlbmd0aDtlKyspe3ZhciBvPXRoaXMud2hlZWxzW2VdO3QucmVtb3ZlQ29uc3RyYWludChvKX10aGlzLndvcmxkPW51bGx9LGkucHJvdG90eXBlLmFkZFdoZWVsPWZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBuKHRoaXMsdCk7cmV0dXJuIHRoaXMud2hlZWxzLnB1c2goZSksZX0saS5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PTA7dDx0aGlzLndoZWVscy5sZW5ndGg7dCsrKXRoaXMud2hlZWxzW3RdLnVwZGF0ZSgpfSwobi5wcm90b3R5cGU9bmV3IGEpLnNldEJyYWtlRm9yY2U9ZnVuY3Rpb24odCl7dGhpcy5mb3J3YXJkRXF1YXRpb24uc2V0U2xpcEZvcmNlKHQpfSxuLnByb3RvdHlwZS5zZXRTaWRlRnJpY3Rpb249ZnVuY3Rpb24odCl7dGhpcy5zaWRlRXF1YXRpb24uc2V0U2xpcEZvcmNlKHQpfTt2YXIgaD1zLmNyZWF0ZSgpLGw9cy5jcmVhdGUoKTtuLnByb3RvdHlwZS5nZXRTcGVlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnZlaGljbGUuY2hhc3Npc0JvZHkudmVjdG9yVG9Xb3JsZEZyYW1lKGwsdGhpcy5sb2NhbEZvcndhcmRWZWN0b3IpLHRoaXMudmVoaWNsZS5jaGFzc2lzQm9keS5nZXRWZWxvY2l0eUF0UG9pbnQoaCxsKSxzLmRvdChoLGwpfTt2YXIgcD1zLmNyZWF0ZSgpO24ucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbigpe3RoaXMudmVoaWNsZS5jaGFzc2lzQm9keS52ZWN0b3JUb1dvcmxkRnJhbWUodGhpcy5mb3J3YXJkRXF1YXRpb24udCx0aGlzLmxvY2FsRm9yd2FyZFZlY3Rvcikscy5yb3RhdGUodGhpcy5zaWRlRXF1YXRpb24udCx0aGlzLmxvY2FsRm9yd2FyZFZlY3RvcixNYXRoLlBJLzIpLHRoaXMudmVoaWNsZS5jaGFzc2lzQm9keS52ZWN0b3JUb1dvcmxkRnJhbWUodGhpcy5zaWRlRXF1YXRpb24udCx0aGlzLnNpZGVFcXVhdGlvbi50KSxzLnJvdGF0ZSh0aGlzLmZvcndhcmRFcXVhdGlvbi50LHRoaXMuZm9yd2FyZEVxdWF0aW9uLnQsdGhpcy5zdGVlclZhbHVlKSxzLnJvdGF0ZSh0aGlzLnNpZGVFcXVhdGlvbi50LHRoaXMuc2lkZUVxdWF0aW9uLnQsdGhpcy5zdGVlclZhbHVlKSx0aGlzLnZlaGljbGUuY2hhc3Npc0JvZHkudG9Xb3JsZEZyYW1lKHRoaXMuZm9yd2FyZEVxdWF0aW9uLmNvbnRhY3RQb2ludEIsdGhpcy5sb2NhbFBvc2l0aW9uKSxzLmNvcHkodGhpcy5zaWRlRXF1YXRpb24uY29udGFjdFBvaW50Qix0aGlzLmZvcndhcmRFcXVhdGlvbi5jb250YWN0UG9pbnRCKSx0aGlzLnZlaGljbGUuY2hhc3Npc0JvZHkudmVjdG9yVG9Xb3JsZEZyYW1lKHRoaXMuZm9yd2FyZEVxdWF0aW9uLmNvbnRhY3RQb2ludEEsdGhpcy5sb2NhbFBvc2l0aW9uKSxzLmNvcHkodGhpcy5zaWRlRXF1YXRpb24uY29udGFjdFBvaW50QSx0aGlzLmZvcndhcmRFcXVhdGlvbi5jb250YWN0UG9pbnRBKSxzLm5vcm1hbGl6ZShwLHRoaXMuZm9yd2FyZEVxdWF0aW9uLnQpLHMuc2NhbGUocCxwLHRoaXMuZW5naW5lRm9yY2UpLHRoaXMudmVoaWNsZS5jaGFzc2lzQm9keS5hcHBseUZvcmNlKHAsdGhpcy5mb3J3YXJkRXF1YXRpb24uY29udGFjdFBvaW50QSl9fSx7XCIuLi9jb25zdHJhaW50cy9Db25zdHJhaW50XCI6MTQsXCIuLi9lcXVhdGlvbnMvRnJpY3Rpb25FcXVhdGlvblwiOjIzLFwiLi4vbWF0aC92ZWMyXCI6MzAsXCIuLi9vYmplY3RzL0JvZHlcIjozMSxcIi4uL3V0aWxzL1V0aWxzXCI6NTd9XSwzNjpbZnVuY3Rpb24odCxlLG8pe3ZhciBpPWUuZXhwb3J0cz17QUFCQjp0KFwiLi9jb2xsaXNpb24vQUFCQlwiKSxBbmdsZUxvY2tFcXVhdGlvbjp0KFwiLi9lcXVhdGlvbnMvQW5nbGVMb2NrRXF1YXRpb25cIiksQm9keTp0KFwiLi9vYmplY3RzL0JvZHlcIiksQnJvYWRwaGFzZTp0KFwiLi9jb2xsaXNpb24vQnJvYWRwaGFzZVwiKSxDYXBzdWxlOnQoXCIuL3NoYXBlcy9DYXBzdWxlXCIpLENpcmNsZTp0KFwiLi9zaGFwZXMvQ2lyY2xlXCIpLENvbnN0cmFpbnQ6dChcIi4vY29uc3RyYWludHMvQ29uc3RyYWludFwiKSxDb250YWN0RXF1YXRpb246dChcIi4vZXF1YXRpb25zL0NvbnRhY3RFcXVhdGlvblwiKSxDb250YWN0RXF1YXRpb25Qb29sOnQoXCIuL3V0aWxzL0NvbnRhY3RFcXVhdGlvblBvb2xcIiksQ29udGFjdE1hdGVyaWFsOnQoXCIuL21hdGVyaWFsL0NvbnRhY3RNYXRlcmlhbFwiKSxDb252ZXg6dChcIi4vc2hhcGVzL0NvbnZleFwiKSxEaXN0YW5jZUNvbnN0cmFpbnQ6dChcIi4vY29uc3RyYWludHMvRGlzdGFuY2VDb25zdHJhaW50XCIpLEVxdWF0aW9uOnQoXCIuL2VxdWF0aW9ucy9FcXVhdGlvblwiKSxFdmVudEVtaXR0ZXI6dChcIi4vZXZlbnRzL0V2ZW50RW1pdHRlclwiKSxGcmljdGlvbkVxdWF0aW9uOnQoXCIuL2VxdWF0aW9ucy9GcmljdGlvbkVxdWF0aW9uXCIpLEZyaWN0aW9uRXF1YXRpb25Qb29sOnQoXCIuL3V0aWxzL0ZyaWN0aW9uRXF1YXRpb25Qb29sXCIpLEdlYXJDb25zdHJhaW50OnQoXCIuL2NvbnN0cmFpbnRzL0dlYXJDb25zdHJhaW50XCIpLEdTU29sdmVyOnQoXCIuL3NvbHZlci9HU1NvbHZlclwiKSxIZWlnaHRmaWVsZDp0KFwiLi9zaGFwZXMvSGVpZ2h0ZmllbGRcIiksTGluZTp0KFwiLi9zaGFwZXMvTGluZVwiKSxMb2NrQ29uc3RyYWludDp0KFwiLi9jb25zdHJhaW50cy9Mb2NrQ29uc3RyYWludFwiKSxNYXRlcmlhbDp0KFwiLi9tYXRlcmlhbC9NYXRlcmlhbFwiKSxOYXJyb3dwaGFzZTp0KFwiLi9jb2xsaXNpb24vTmFycm93cGhhc2VcIiksTmFpdmVCcm9hZHBoYXNlOnQoXCIuL2NvbGxpc2lvbi9OYWl2ZUJyb2FkcGhhc2VcIiksUGFydGljbGU6dChcIi4vc2hhcGVzL1BhcnRpY2xlXCIpLFBsYW5lOnQoXCIuL3NoYXBlcy9QbGFuZVwiKSxQb29sOnQoXCIuL3V0aWxzL1Bvb2xcIiksUmV2b2x1dGVDb25zdHJhaW50OnQoXCIuL2NvbnN0cmFpbnRzL1Jldm9sdXRlQ29uc3RyYWludFwiKSxQcmlzbWF0aWNDb25zdHJhaW50OnQoXCIuL2NvbnN0cmFpbnRzL1ByaXNtYXRpY0NvbnN0cmFpbnRcIiksUmF5OnQoXCIuL2NvbGxpc2lvbi9SYXlcIiksUmF5Y2FzdFJlc3VsdDp0KFwiLi9jb2xsaXNpb24vUmF5Y2FzdFJlc3VsdFwiKSxCb3g6dChcIi4vc2hhcGVzL0JveFwiKSxSb3RhdGlvbmFsVmVsb2NpdHlFcXVhdGlvbjp0KFwiLi9lcXVhdGlvbnMvUm90YXRpb25hbFZlbG9jaXR5RXF1YXRpb25cIiksU0FQQnJvYWRwaGFzZTp0KFwiLi9jb2xsaXNpb24vU0FQQnJvYWRwaGFzZVwiKSxTaGFwZTp0KFwiLi9zaGFwZXMvU2hhcGVcIiksU29sdmVyOnQoXCIuL3NvbHZlci9Tb2x2ZXJcIiksU3ByaW5nOnQoXCIuL29iamVjdHMvU3ByaW5nXCIpLFRvcERvd25WZWhpY2xlOnQoXCIuL29iamVjdHMvVG9wRG93blZlaGljbGVcIiksTGluZWFyU3ByaW5nOnQoXCIuL29iamVjdHMvTGluZWFyU3ByaW5nXCIpLFJvdGF0aW9uYWxTcHJpbmc6dChcIi4vb2JqZWN0cy9Sb3RhdGlvbmFsU3ByaW5nXCIpLFV0aWxzOnQoXCIuL3V0aWxzL1V0aWxzXCIpLFdvcmxkOnQoXCIuL3dvcmxkL1dvcmxkXCIpLHZlYzI6dChcIi4vbWF0aC92ZWMyXCIpLHZlcnNpb246dChcIi4uL3BhY2thZ2UuanNvblwiKS52ZXJzaW9ufTtPYmplY3QuZGVmaW5lUHJvcGVydHkoaSxcIlJlY3RhbmdsZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS53YXJuKFwiVGhlIFJlY3RhbmdsZSBjbGFzcyBoYXMgYmVlbiByZW5hbWVkIHRvIEJveC5cIiksdGhpcy5Cb3h9fSl9LHtcIi4uL3BhY2thZ2UuanNvblwiOjYsXCIuL2NvbGxpc2lvbi9BQUJCXCI6NyxcIi4vY29sbGlzaW9uL0Jyb2FkcGhhc2VcIjo4LFwiLi9jb2xsaXNpb24vTmFpdmVCcm9hZHBoYXNlXCI6OSxcIi4vY29sbGlzaW9uL05hcnJvd3BoYXNlXCI6MTAsXCIuL2NvbGxpc2lvbi9SYXlcIjoxMSxcIi4vY29sbGlzaW9uL1JheWNhc3RSZXN1bHRcIjoxMixcIi4vY29sbGlzaW9uL1NBUEJyb2FkcGhhc2VcIjoxMyxcIi4vY29uc3RyYWludHMvQ29uc3RyYWludFwiOjE0LFwiLi9jb25zdHJhaW50cy9EaXN0YW5jZUNvbnN0cmFpbnRcIjoxNSxcIi4vY29uc3RyYWludHMvR2VhckNvbnN0cmFpbnRcIjoxNixcIi4vY29uc3RyYWludHMvTG9ja0NvbnN0cmFpbnRcIjoxNyxcIi4vY29uc3RyYWludHMvUHJpc21hdGljQ29uc3RyYWludFwiOjE4LFwiLi9jb25zdHJhaW50cy9SZXZvbHV0ZUNvbnN0cmFpbnRcIjoxOSxcIi4vZXF1YXRpb25zL0FuZ2xlTG9ja0VxdWF0aW9uXCI6MjAsXCIuL2VxdWF0aW9ucy9Db250YWN0RXF1YXRpb25cIjoyMSxcIi4vZXF1YXRpb25zL0VxdWF0aW9uXCI6MjIsXCIuL2VxdWF0aW9ucy9GcmljdGlvbkVxdWF0aW9uXCI6MjMsXCIuL2VxdWF0aW9ucy9Sb3RhdGlvbmFsVmVsb2NpdHlFcXVhdGlvblwiOjI1LFwiLi9ldmVudHMvRXZlbnRFbWl0dGVyXCI6MjYsXCIuL21hdGVyaWFsL0NvbnRhY3RNYXRlcmlhbFwiOjI3LFwiLi9tYXRlcmlhbC9NYXRlcmlhbFwiOjI4LFwiLi9tYXRoL3ZlYzJcIjozMCxcIi4vb2JqZWN0cy9Cb2R5XCI6MzEsXCIuL29iamVjdHMvTGluZWFyU3ByaW5nXCI6MzIsXCIuL29iamVjdHMvUm90YXRpb25hbFNwcmluZ1wiOjMzLFwiLi9vYmplY3RzL1NwcmluZ1wiOjM0LFwiLi9vYmplY3RzL1RvcERvd25WZWhpY2xlXCI6MzUsXCIuL3NoYXBlcy9Cb3hcIjozNyxcIi4vc2hhcGVzL0NhcHN1bGVcIjozOCxcIi4vc2hhcGVzL0NpcmNsZVwiOjM5LFwiLi9zaGFwZXMvQ29udmV4XCI6NDAsXCIuL3NoYXBlcy9IZWlnaHRmaWVsZFwiOjQxLFwiLi9zaGFwZXMvTGluZVwiOjQyLFwiLi9zaGFwZXMvUGFydGljbGVcIjo0MyxcIi4vc2hhcGVzL1BsYW5lXCI6NDQsXCIuL3NoYXBlcy9TaGFwZVwiOjQ1LFwiLi9zb2x2ZXIvR1NTb2x2ZXJcIjo0NixcIi4vc29sdmVyL1NvbHZlclwiOjQ3LFwiLi91dGlscy9Db250YWN0RXF1YXRpb25Qb29sXCI6NDgsXCIuL3V0aWxzL0ZyaWN0aW9uRXF1YXRpb25Qb29sXCI6NDksXCIuL3V0aWxzL1Bvb2xcIjo1NSxcIi4vdXRpbHMvVXRpbHNcIjo1NyxcIi4vd29ybGQvV29ybGRcIjo2MX1dLDM3OltmdW5jdGlvbih0LGUsbyl7ZnVuY3Rpb24gaSh0KXtcIm51bWJlclwiPT10eXBlb2YgYXJndW1lbnRzWzBdJiZcIm51bWJlclwiPT10eXBlb2YgYXJndW1lbnRzWzFdJiYodD17d2lkdGg6YXJndW1lbnRzWzBdLGhlaWdodDphcmd1bWVudHNbMV19LGNvbnNvbGUud2FybihcIlRoZSBSZWN0YW5nbGUgaGFzIGJlZW4gcmVuYW1lZCB0byBCb3ggYW5kIGl0cyBjb25zdHJ1Y3RvciBzaWduYXR1cmUgaGFzIGNoYW5nZWQuIFBsZWFzZSB1c2UgdGhlIGZvbGxvd2luZyBmb3JtYXQ6IG5ldyBCb3goeyB3aWR0aDogMSwgaGVpZ2h0OiAxLCAuLi4gfSlcIikpLHQ9dHx8e307dmFyIGU9dGhpcy53aWR0aD10LndpZHRofHwxLG89dGhpcy5oZWlnaHQ9dC5oZWlnaHR8fDEsaT1bbi5mcm9tVmFsdWVzKC1lLzIsLW8vMiksbi5mcm9tVmFsdWVzKGUvMiwtby8yKSxuLmZyb21WYWx1ZXMoZS8yLG8vMiksbi5mcm9tVmFsdWVzKC1lLzIsby8yKV0scj1bbi5mcm9tVmFsdWVzKDEsMCksbi5mcm9tVmFsdWVzKDAsMSldO3QudmVydGljZXM9aSx0LmF4ZXM9cix0LnR5cGU9cy5CT1gsYS5jYWxsKHRoaXMsdCl9dmFyIG49dChcIi4uL21hdGgvdmVjMlwiKSxzPXQoXCIuL1NoYXBlXCIpLGE9dChcIi4vQ29udmV4XCIpO2UuZXhwb3J0cz1pLChpLnByb3RvdHlwZT1uZXcgYSkuY29uc3RydWN0b3I9aSxpLnByb3RvdHlwZS5jb21wdXRlTW9tZW50T2ZJbmVydGlhPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMud2lkdGgsbz10aGlzLmhlaWdodDtyZXR1cm4gdCoobypvK2UqZSkvMTJ9LGkucHJvdG90eXBlLnVwZGF0ZUJvdW5kaW5nUmFkaXVzPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy53aWR0aCxlPXRoaXMuaGVpZ2h0O3RoaXMuYm91bmRpbmdSYWRpdXM9TWF0aC5zcXJ0KHQqdCtlKmUpLzJ9O24uY3JlYXRlKCksbi5jcmVhdGUoKSxuLmNyZWF0ZSgpLG4uY3JlYXRlKCk7aS5wcm90b3R5cGUuY29tcHV0ZUFBQkI9ZnVuY3Rpb24odCxlLG8pe3Quc2V0RnJvbVBvaW50cyh0aGlzLnZlcnRpY2VzLGUsbywwKX0saS5wcm90b3R5cGUudXBkYXRlQXJlYT1mdW5jdGlvbigpe3RoaXMuYXJlYT10aGlzLndpZHRoKnRoaXMuaGVpZ2h0fX0se1wiLi4vbWF0aC92ZWMyXCI6MzAsXCIuL0NvbnZleFwiOjQwLFwiLi9TaGFwZVwiOjQ1fV0sMzg6W2Z1bmN0aW9uKHQsZSxvKXtmdW5jdGlvbiBpKHQpe1wibnVtYmVyXCI9PXR5cGVvZiBhcmd1bWVudHNbMF0mJlwibnVtYmVyXCI9PXR5cGVvZiBhcmd1bWVudHNbMV0mJih0PXtsZW5ndGg6YXJndW1lbnRzWzBdLHJhZGl1czphcmd1bWVudHNbMV19LGNvbnNvbGUud2FybihcIlRoZSBDYXBzdWxlIGNvbnN0cnVjdG9yIHNpZ25hdHVyZSBoYXMgY2hhbmdlZC4gUGxlYXNlIHVzZSB0aGUgZm9sbG93aW5nIGZvcm1hdDogbmV3IENhcHN1bGUoeyByYWRpdXM6IDEsIGxlbmd0aDogMSB9KVwiKSksdD10fHx7fSx0aGlzLmxlbmd0aD10Lmxlbmd0aHx8MSx0aGlzLnJhZGl1cz10LnJhZGl1c3x8MSx0LnR5cGU9bi5DQVBTVUxFLG4uY2FsbCh0aGlzLHQpfXZhciBuPXQoXCIuL1NoYXBlXCIpLHM9dChcIi4uL21hdGgvdmVjMlwiKTtlLmV4cG9ydHM9aSwoaS5wcm90b3R5cGU9bmV3IG4pLmNvbnN0cnVjdG9yPWksaS5wcm90b3R5cGUuY29tcHV0ZU1vbWVudE9mSW5lcnRpYT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLnJhZGl1cyxvPXRoaXMubGVuZ3RoK2UsaT0yKmU7cmV0dXJuIHQqKGkqaStvKm8pLzEyfSxpLnByb3RvdHlwZS51cGRhdGVCb3VuZGluZ1JhZGl1cz1mdW5jdGlvbigpe3RoaXMuYm91bmRpbmdSYWRpdXM9dGhpcy5yYWRpdXMrdGhpcy5sZW5ndGgvMn0saS5wcm90b3R5cGUudXBkYXRlQXJlYT1mdW5jdGlvbigpe3RoaXMuYXJlYT1NYXRoLlBJKnRoaXMucmFkaXVzKnRoaXMucmFkaXVzKzIqdGhpcy5yYWRpdXMqdGhpcy5sZW5ndGh9O3ZhciBhPXMuY3JlYXRlKCk7aS5wcm90b3R5cGUuY29tcHV0ZUFBQkI9ZnVuY3Rpb24odCxlLG8pe3ZhciBpPXRoaXMucmFkaXVzO3Muc2V0KGEsdGhpcy5sZW5ndGgvMiwwKSwwIT09byYmcy5yb3RhdGUoYSxhLG8pLHMuc2V0KHQudXBwZXJCb3VuZCxNYXRoLm1heChhWzBdK2ksLWFbMF0raSksTWF0aC5tYXgoYVsxXStpLC1hWzFdK2kpKSxzLnNldCh0Lmxvd2VyQm91bmQsTWF0aC5taW4oYVswXS1pLC1hWzBdLWkpLE1hdGgubWluKGFbMV0taSwtYVsxXS1pKSkscy5hZGQodC5sb3dlckJvdW5kLHQubG93ZXJCb3VuZCxlKSxzLmFkZCh0LnVwcGVyQm91bmQsdC51cHBlckJvdW5kLGUpfTt2YXIgcj1zLmNyZWF0ZSgpLGM9cy5jcmVhdGUoKSxoPXMuY3JlYXRlKCksbD1zLmNyZWF0ZSgpLHA9cy5mcm9tVmFsdWVzKDAsMSk7aS5wcm90b3R5cGUucmF5Y2FzdD1mdW5jdGlvbih0LGUsbyxpKXtmb3IodmFyIG49ZS5mcm9tLGE9ZS50byx1PShlLmRpcmVjdGlvbixyKSxkPWMsZj1oLHY9bCx5PXRoaXMubGVuZ3RoLzIsbT0wO208MjttKyspe3ZhciBnPXRoaXMucmFkaXVzKigyKm0tMSk7aWYocy5zZXQoZiwteSxnKSxzLnNldCh2LHksZykscy50b0dsb2JhbEZyYW1lKGYsZixvLGkpLHMudG9HbG9iYWxGcmFtZSh2LHYsbyxpKSwocT1zLmdldExpbmVTZWdtZW50c0ludGVyc2VjdGlvbkZyYWN0aW9uKG4sYSxmLHYpKT49MCYmKHMucm90YXRlKGQscCxpKSxzLnNjYWxlKGQsZCwyKm0tMSksZS5yZXBvcnRJbnRlcnNlY3Rpb24odCxxLGQsLTEpLHQuc2hvdWxkU3RvcChlKSkpcmV0dXJufWZvcih2YXIgQT1NYXRoLnBvdyh0aGlzLnJhZGl1cywyKStNYXRoLnBvdyh5LDIpLG09MDttPDI7bSsrKXtzLnNldChmLHkqKDIqbS0xKSwwKSxzLnRvR2xvYmFsRnJhbWUoZixmLG8saSk7dmFyIGI9TWF0aC5wb3coYVswXS1uWzBdLDIpK01hdGgucG93KGFbMV0tblsxXSwyKSxFPTIqKChhWzBdLW5bMF0pKihuWzBdLWZbMF0pKyhhWzFdLW5bMV0pKihuWzFdLWZbMV0pKSxCPU1hdGgucG93KG5bMF0tZlswXSwyKStNYXRoLnBvdyhuWzFdLWZbMV0sMiktTWF0aC5wb3codGhpcy5yYWRpdXMsMikscT1NYXRoLnBvdyhFLDIpLTQqYipCO2lmKCEocTwwKSlpZigwPT09cSl7aWYocy5sZXJwKHUsbixhLHEpLHMuc3F1YXJlZERpc3RhbmNlKHUsbyk+QSYmKHMuc3ViKGQsdSxmKSxzLm5vcm1hbGl6ZShkLGQpLGUucmVwb3J0SW50ZXJzZWN0aW9uKHQscSxkLC0xKSx0LnNob3VsZFN0b3AoZSkpKXJldHVybn1lbHNle3ZhciBQPU1hdGguc3FydChxKSx3PTEvKDIqYiksUz0oLUUtUCkqdyxDPSgtRStQKSp3O2lmKFM+PTAmJlM8PTEmJihzLmxlcnAodSxuLGEsUykscy5zcXVhcmVkRGlzdGFuY2UodSxvKT5BJiYocy5zdWIoZCx1LGYpLHMubm9ybWFsaXplKGQsZCksZS5yZXBvcnRJbnRlcnNlY3Rpb24odCxTLGQsLTEpLHQuc2hvdWxkU3RvcChlKSkpKXJldHVybjtpZihDPj0wJiZDPD0xJiYocy5sZXJwKHUsbixhLEMpLHMuc3F1YXJlZERpc3RhbmNlKHUsbyk+QSYmKHMuc3ViKGQsdSxmKSxzLm5vcm1hbGl6ZShkLGQpLGUucmVwb3J0SW50ZXJzZWN0aW9uKHQsQyxkLC0xKSx0LnNob3VsZFN0b3AoZSkpKSlyZXR1cm59fX19LHtcIi4uL21hdGgvdmVjMlwiOjMwLFwiLi9TaGFwZVwiOjQ1fV0sMzk6W2Z1bmN0aW9uKHQsZSxvKXtmdW5jdGlvbiBpKHQpe1wibnVtYmVyXCI9PXR5cGVvZiBhcmd1bWVudHNbMF0mJih0PXtyYWRpdXM6YXJndW1lbnRzWzBdfSxjb25zb2xlLndhcm4oXCJUaGUgQ2lyY2xlIGNvbnN0cnVjdG9yIHNpZ25hdHVyZSBoYXMgY2hhbmdlZC4gUGxlYXNlIHVzZSB0aGUgZm9sbG93aW5nIGZvcm1hdDogbmV3IENpcmNsZSh7IHJhZGl1czogMSB9KVwiKSksdD10fHx7fSx0aGlzLnJhZGl1cz10LnJhZGl1c3x8MSx0LnR5cGU9bi5DSVJDTEUsbi5jYWxsKHRoaXMsdCl9dmFyIG49dChcIi4vU2hhcGVcIikscz10KFwiLi4vbWF0aC92ZWMyXCIpO2UuZXhwb3J0cz1pLChpLnByb3RvdHlwZT1uZXcgbikuY29uc3RydWN0b3I9aSxpLnByb3RvdHlwZS5jb21wdXRlTW9tZW50T2ZJbmVydGlhPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMucmFkaXVzO3JldHVybiB0KmUqZS8yfSxpLnByb3RvdHlwZS51cGRhdGVCb3VuZGluZ1JhZGl1cz1mdW5jdGlvbigpe3RoaXMuYm91bmRpbmdSYWRpdXM9dGhpcy5yYWRpdXN9LGkucHJvdG90eXBlLnVwZGF0ZUFyZWE9ZnVuY3Rpb24oKXt0aGlzLmFyZWE9TWF0aC5QSSp0aGlzLnJhZGl1cyp0aGlzLnJhZGl1c30saS5wcm90b3R5cGUuY29tcHV0ZUFBQkI9ZnVuY3Rpb24odCxlLG8pe3ZhciBpPXRoaXMucmFkaXVzO3Muc2V0KHQudXBwZXJCb3VuZCxpLGkpLHMuc2V0KHQubG93ZXJCb3VuZCwtaSwtaSksZSYmKHMuYWRkKHQubG93ZXJCb3VuZCx0Lmxvd2VyQm91bmQsZSkscy5hZGQodC51cHBlckJvdW5kLHQudXBwZXJCb3VuZCxlKSl9O3ZhciBhPXMuY3JlYXRlKCkscj1zLmNyZWF0ZSgpO2kucHJvdG90eXBlLnJheWNhc3Q9ZnVuY3Rpb24odCxlLG8saSl7dmFyIG49ZS5mcm9tLGM9ZS50byxoPXRoaXMucmFkaXVzLGw9TWF0aC5wb3coY1swXS1uWzBdLDIpK01hdGgucG93KGNbMV0tblsxXSwyKSxwPTIqKChjWzBdLW5bMF0pKihuWzBdLW9bMF0pKyhjWzFdLW5bMV0pKihuWzFdLW9bMV0pKSx1PU1hdGgucG93KG5bMF0tb1swXSwyKStNYXRoLnBvdyhuWzFdLW9bMV0sMiktTWF0aC5wb3coaCwyKSxkPU1hdGgucG93KHAsMiktNCpsKnUsZj1hLHY9cjtpZighKGQ8MCkpaWYoMD09PWQpcy5sZXJwKGYsbixjLGQpLHMuc3ViKHYsZixvKSxzLm5vcm1hbGl6ZSh2LHYpLGUucmVwb3J0SW50ZXJzZWN0aW9uKHQsZCx2LC0xKTtlbHNle3ZhciB5PU1hdGguc3FydChkKSxtPTEvKDIqbCksZz0oLXAteSkqbSxBPSgtcCt5KSptO2lmKGc+PTAmJmc8PTEmJihzLmxlcnAoZixuLGMsZykscy5zdWIodixmLG8pLHMubm9ybWFsaXplKHYsdiksZS5yZXBvcnRJbnRlcnNlY3Rpb24odCxnLHYsLTEpLHQuc2hvdWxkU3RvcChlKSkpcmV0dXJuO0E+PTAmJkE8PTEmJihzLmxlcnAoZixuLGMsQSkscy5zdWIodixmLG8pLHMubm9ybWFsaXplKHYsdiksZS5yZXBvcnRJbnRlcnNlY3Rpb24odCxBLHYsLTEpKX19fSx7XCIuLi9tYXRoL3ZlYzJcIjozMCxcIi4vU2hhcGVcIjo0NX1dLDQwOltmdW5jdGlvbih0LGUsbyl7ZnVuY3Rpb24gaSh0KXtBcnJheS5pc0FycmF5KGFyZ3VtZW50c1swXSkmJih0PXt2ZXJ0aWNlczphcmd1bWVudHNbMF0sYXhlczphcmd1bWVudHNbMV19LGNvbnNvbGUud2FybihcIlRoZSBDb252ZXggY29uc3RydWN0b3Igc2lnbmF0dXJlIGhhcyBjaGFuZ2VkLiBQbGVhc2UgdXNlIHRoZSBmb2xsb3dpbmcgZm9ybWF0OiBuZXcgQ29udmV4KHsgdmVydGljZXM6IFsuLi5dLCAuLi4gfSlcIikpLHQ9dHx8e30sdGhpcy52ZXJ0aWNlcz1bXTtmb3IodmFyIGU9dm9pZCAwIT09dC52ZXJ0aWNlcz90LnZlcnRpY2VzOltdLG89MDtvPGUubGVuZ3RoO28rKyl7dmFyIGk9cy5jcmVhdGUoKTtzLmNvcHkoaSxlW29dKSx0aGlzLnZlcnRpY2VzLnB1c2goaSl9aWYodGhpcy5heGVzPVtdLHQuYXhlcylmb3Iobz0wO288dC5heGVzLmxlbmd0aDtvKyspe3ZhciBhPXMuY3JlYXRlKCk7cy5jb3B5KGEsdC5heGVzW29dKSx0aGlzLmF4ZXMucHVzaChhKX1lbHNlIGZvcihvPTA7bzx0aGlzLnZlcnRpY2VzLmxlbmd0aDtvKyspe3ZhciByPXRoaXMudmVydGljZXNbb10sYz10aGlzLnZlcnRpY2VzWyhvKzEpJXRoaXMudmVydGljZXMubGVuZ3RoXSxoPXMuY3JlYXRlKCk7cy5zdWIoaCxjLHIpLHMucm90YXRlOTBjdyhoLGgpLHMubm9ybWFsaXplKGgsaCksdGhpcy5heGVzLnB1c2goaCl9aWYodGhpcy5jZW50ZXJPZk1hc3M9cy5mcm9tVmFsdWVzKDAsMCksdGhpcy50cmlhbmdsZXM9W10sdGhpcy52ZXJ0aWNlcy5sZW5ndGgmJih0aGlzLnVwZGF0ZVRyaWFuZ2xlcygpLHRoaXMudXBkYXRlQ2VudGVyT2ZNYXNzKCkpLHRoaXMuYm91bmRpbmdSYWRpdXM9MCx0LnR5cGU9bi5DT05WRVgsbi5jYWxsKHRoaXMsdCksdGhpcy51cGRhdGVCb3VuZGluZ1JhZGl1cygpLHRoaXMudXBkYXRlQXJlYSgpLHRoaXMuYXJlYTwwKXRocm93IG5ldyBFcnJvcihcIkNvbnZleCB2ZXJ0aWNlcyBtdXN0IGJlIGdpdmVuIGluIGNvbnRlci1jbG9ja3dpc2Ugd2luZGluZy5cIil9dmFyIG49dChcIi4vU2hhcGVcIikscz10KFwiLi4vbWF0aC92ZWMyXCIpLGE9dChcIi4uL21hdGgvcG9seWtcIik7dChcInBvbHktZGVjb21wXCIpO2UuZXhwb3J0cz1pLChpLnByb3RvdHlwZT1uZXcgbikuY29uc3RydWN0b3I9aTt2YXIgcj1zLmNyZWF0ZSgpLGM9cy5jcmVhdGUoKTtpLnByb3RvdHlwZS5wcm9qZWN0T250b0xvY2FsQXhpcz1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbyxpLG49bnVsbCxhPW51bGwsdD1yLGM9MDtjPHRoaXMudmVydGljZXMubGVuZ3RoO2MrKylvPXRoaXMudmVydGljZXNbY10saT1zLmRvdChvLHQpLChudWxsPT09bnx8aT5uKSYmKG49aSksKG51bGw9PT1hfHxpPGEpJiYoYT1pKTtpZihhPm4pe3ZhciBoPWE7YT1uLG49aH1zLnNldChlLGEsbil9LGkucHJvdG90eXBlLnByb2plY3RPbnRvV29ybGRBeGlzPWZ1bmN0aW9uKHQsZSxvLGkpe3ZhciBuPWM7dGhpcy5wcm9qZWN0T250b0xvY2FsQXhpcyh0LGkpLDAhPT1vP3Mucm90YXRlKG4sdCxvKTpuPXQ7dmFyIGE9cy5kb3QoZSxuKTtzLnNldChpLGlbMF0rYSxpWzFdK2EpfSxpLnByb3RvdHlwZS51cGRhdGVUcmlhbmdsZXM9ZnVuY3Rpb24oKXt0aGlzLnRyaWFuZ2xlcy5sZW5ndGg9MDtmb3IodmFyIHQ9W10sZT0wO2U8dGhpcy52ZXJ0aWNlcy5sZW5ndGg7ZSsrKXt2YXIgbz10aGlzLnZlcnRpY2VzW2VdO3QucHVzaChvWzBdLG9bMV0pfWZvcih2YXIgaT1hLlRyaWFuZ3VsYXRlKHQpLGU9MDtlPGkubGVuZ3RoO2UrPTMpe3ZhciBuPWlbZV0scz1pW2UrMV0scj1pW2UrMl07dGhpcy50cmlhbmdsZXMucHVzaChbbixzLHJdKX19O3ZhciBoPXMuY3JlYXRlKCksbD1zLmNyZWF0ZSgpLHA9cy5jcmVhdGUoKSx1PXMuY3JlYXRlKCksZD1zLmNyZWF0ZSgpO3MuY3JlYXRlKCkscy5jcmVhdGUoKSxzLmNyZWF0ZSgpLHMuY3JlYXRlKCk7aS5wcm90b3R5cGUudXBkYXRlQ2VudGVyT2ZNYXNzPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy50cmlhbmdsZXMsZT10aGlzLnZlcnRpY2VzLG89dGhpcy5jZW50ZXJPZk1hc3Msbj1oLGE9cCxyPXUsYz1kLGY9bDtzLnNldChvLDAsMCk7Zm9yKHZhciB2PTAseT0wO3khPT10Lmxlbmd0aDt5Kyspe3ZhciBtPXRbeV0sYT1lW21bMF1dLHI9ZVttWzFdXSxjPWVbbVsyXV07cy5jZW50cm9pZChuLGEscixjKTt2YXIgZz1pLnRyaWFuZ2xlQXJlYShhLHIsYyk7dis9ZyxzLnNjYWxlKGYsbixnKSxzLmFkZChvLG8sZil9cy5zY2FsZShvLG8sMS92KX0saS5wcm90b3R5cGUuY29tcHV0ZU1vbWVudE9mSW5lcnRpYT1mdW5jdGlvbih0KXtmb3IodmFyIGU9MCxvPTAsaT10aGlzLnZlcnRpY2VzLmxlbmd0aCxuPWktMSxhPTA7YTxpO249YSxhKyspe3ZhciByPXRoaXMudmVydGljZXNbbl0sYz10aGlzLnZlcnRpY2VzW2FdLGg9TWF0aC5hYnMocy5jcm9zc0xlbmd0aChyLGMpKTtlKz1oKihzLmRvdChjLGMpK3MuZG90KGMscikrcy5kb3QocixyKSksbys9aH1yZXR1cm4gdC82KihlL28pfSxpLnByb3RvdHlwZS51cGRhdGVCb3VuZGluZ1JhZGl1cz1mdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLnZlcnRpY2VzLGU9MCxvPTA7byE9PXQubGVuZ3RoO28rKyl7dmFyIGk9cy5zcXVhcmVkTGVuZ3RoKHRbb10pO2k+ZSYmKGU9aSl9dGhpcy5ib3VuZGluZ1JhZGl1cz1NYXRoLnNxcnQoZSl9LGkudHJpYW5nbGVBcmVhPWZ1bmN0aW9uKHQsZSxvKXtyZXR1cm4uNSooKGVbMF0tdFswXSkqKG9bMV0tdFsxXSktKG9bMF0tdFswXSkqKGVbMV0tdFsxXSkpfSxpLnByb3RvdHlwZS51cGRhdGVBcmVhPWZ1bmN0aW9uKCl7dGhpcy51cGRhdGVUcmlhbmdsZXMoKSx0aGlzLmFyZWE9MDtmb3IodmFyIHQ9dGhpcy50cmlhbmdsZXMsZT10aGlzLnZlcnRpY2VzLG89MDtvIT09dC5sZW5ndGg7bysrKXt2YXIgbj10W29dLHM9ZVtuWzBdXSxhPWVbblsxXV0scj1lW25bMl1dLGM9aS50cmlhbmdsZUFyZWEocyxhLHIpO3RoaXMuYXJlYSs9Y319LGkucHJvdG90eXBlLmNvbXB1dGVBQUJCPWZ1bmN0aW9uKHQsZSxvKXt0LnNldEZyb21Qb2ludHModGhpcy52ZXJ0aWNlcyxlLG8sMCl9O3ZhciBmPXMuY3JlYXRlKCksdj1zLmNyZWF0ZSgpLHk9cy5jcmVhdGUoKTtpLnByb3RvdHlwZS5yYXljYXN0PWZ1bmN0aW9uKHQsZSxvLGkpe3ZhciBuPWYsYT12LHI9eSxjPXRoaXMudmVydGljZXM7cy50b0xvY2FsRnJhbWUobixlLmZyb20sbyxpKSxzLnRvTG9jYWxGcmFtZShhLGUudG8sbyxpKTtmb3IodmFyIGg9Yy5sZW5ndGgsbD0wO2w8aCYmIXQuc2hvdWxkU3RvcChlKTtsKyspe3ZhciBwPWNbbF0sdT1jWyhsKzEpJWhdLGQ9cy5nZXRMaW5lU2VnbWVudHNJbnRlcnNlY3Rpb25GcmFjdGlvbihuLGEscCx1KTtkPj0wJiYocy5zdWIocix1LHApLHMucm90YXRlKHIsciwtTWF0aC5QSS8yK2kpLHMubm9ybWFsaXplKHIsciksZS5yZXBvcnRJbnRlcnNlY3Rpb24odCxkLHIsbCkpfX19LHtcIi4uL21hdGgvcG9seWtcIjoyOSxcIi4uL21hdGgvdmVjMlwiOjMwLFwiLi9TaGFwZVwiOjQ1LFwicG9seS1kZWNvbXBcIjo1fV0sNDE6W2Z1bmN0aW9uKHQsZSxvKXtmdW5jdGlvbiBpKHQpe2lmKEFycmF5LmlzQXJyYXkoYXJndW1lbnRzWzBdKSl7aWYodD17aGVpZ2h0czphcmd1bWVudHNbMF19LFwib2JqZWN0XCI9PXR5cGVvZiBhcmd1bWVudHNbMV0pZm9yKHZhciBlIGluIGFyZ3VtZW50c1sxXSl0W2VdPWFyZ3VtZW50c1sxXVtlXTtjb25zb2xlLndhcm4oXCJUaGUgSGVpZ2h0ZmllbGQgY29uc3RydWN0b3Igc2lnbmF0dXJlIGhhcyBjaGFuZ2VkLiBQbGVhc2UgdXNlIHRoZSBmb2xsb3dpbmcgZm9ybWF0OiBuZXcgSGVpZ2h0ZmllbGQoeyBoZWlnaHRzOiBbLi4uXSwgLi4uIH0pXCIpfXQ9dHx8e30sdGhpcy5oZWlnaHRzPXQuaGVpZ2h0cz90LmhlaWdodHMuc2xpY2UoMCk6W10sdGhpcy5tYXhWYWx1ZT10Lm1heFZhbHVlfHxudWxsLHRoaXMubWluVmFsdWU9dC5taW5WYWx1ZXx8bnVsbCx0aGlzLmVsZW1lbnRXaWR0aD10LmVsZW1lbnRXaWR0aHx8LjEsdm9pZCAwIT09dC5tYXhWYWx1ZSYmdm9pZCAwIT09dC5taW5WYWx1ZXx8dGhpcy51cGRhdGVNYXhNaW5WYWx1ZXMoKSx0LnR5cGU9bi5IRUlHSFRGSUVMRCxuLmNhbGwodGhpcyx0KX12YXIgbj10KFwiLi9TaGFwZVwiKSxzPXQoXCIuLi9tYXRoL3ZlYzJcIik7dChcIi4uL3V0aWxzL1V0aWxzXCIpO2UuZXhwb3J0cz1pLChpLnByb3RvdHlwZT1uZXcgbikuY29uc3RydWN0b3I9aSxpLnByb3RvdHlwZS51cGRhdGVNYXhNaW5WYWx1ZXM9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy5oZWlnaHRzLGU9dFswXSxvPXRbMF0saT0wO2khPT10Lmxlbmd0aDtpKyspe3ZhciBuPXRbaV07bj5lJiYoZT1uKSxuPG8mJihvPW4pfXRoaXMubWF4VmFsdWU9ZSx0aGlzLm1pblZhbHVlPW99LGkucHJvdG90eXBlLmNvbXB1dGVNb21lbnRPZkluZXJ0aWE9ZnVuY3Rpb24odCl7cmV0dXJuIE51bWJlci5NQVhfVkFMVUV9LGkucHJvdG90eXBlLnVwZGF0ZUJvdW5kaW5nUmFkaXVzPWZ1bmN0aW9uKCl7dGhpcy5ib3VuZGluZ1JhZGl1cz1OdW1iZXIuTUFYX1ZBTFVFfSxpLnByb3RvdHlwZS51cGRhdGVBcmVhPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMuaGVpZ2h0cyxlPTAsbz0wO288dC5sZW5ndGgtMTtvKyspZSs9KHRbb10rdFtvKzFdKS8yKnRoaXMuZWxlbWVudFdpZHRoO3RoaXMuYXJlYT1lfTt2YXIgYT1bcy5jcmVhdGUoKSxzLmNyZWF0ZSgpLHMuY3JlYXRlKCkscy5jcmVhdGUoKV07aS5wcm90b3R5cGUuY29tcHV0ZUFBQkI9ZnVuY3Rpb24odCxlLG8pe3Muc2V0KGFbMF0sMCx0aGlzLm1heFZhbHVlKSxzLnNldChhWzFdLHRoaXMuZWxlbWVudFdpZHRoKnRoaXMuaGVpZ2h0cy5sZW5ndGgsdGhpcy5tYXhWYWx1ZSkscy5zZXQoYVsyXSx0aGlzLmVsZW1lbnRXaWR0aCp0aGlzLmhlaWdodHMubGVuZ3RoLHRoaXMubWluVmFsdWUpLHMuc2V0KGFbM10sMCx0aGlzLm1pblZhbHVlKSx0LnNldEZyb21Qb2ludHMoYSxlLG8pfSxpLnByb3RvdHlwZS5nZXRMaW5lU2VnbWVudD1mdW5jdGlvbih0LGUsbyl7dmFyIGk9dGhpcy5oZWlnaHRzLG49dGhpcy5lbGVtZW50V2lkdGg7cy5zZXQodCxvKm4saVtvXSkscy5zZXQoZSwobysxKSpuLGlbbysxXSl9LGkucHJvdG90eXBlLmdldFNlZ21lbnRJbmRleD1mdW5jdGlvbih0KXtyZXR1cm4gTWF0aC5mbG9vcih0WzBdL3RoaXMuZWxlbWVudFdpZHRoKX0saS5wcm90b3R5cGUuZ2V0Q2xhbXBlZFNlZ21lbnRJbmRleD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmdldFNlZ21lbnRJbmRleCh0KTtyZXR1cm4gZT1NYXRoLm1pbih0aGlzLmhlaWdodHMubGVuZ3RoLE1hdGgubWF4KGUsMCkpfTtzLmNyZWF0ZSgpO3ZhciByPXMuY3JlYXRlKCksYz1zLmNyZWF0ZSgpLGg9cy5jcmVhdGUoKSxsPXMuY3JlYXRlKCkscD1zLmNyZWF0ZSgpO3MuZnJvbVZhbHVlcygwLDEpO2kucHJvdG90eXBlLnJheWNhc3Q9ZnVuY3Rpb24odCxlLG8saSl7dmFyIG49ZS5mcm9tLGE9ZS50byx1PShlLmRpcmVjdGlvbixyKSxkPWMsZj1oLHY9bCx5PXA7cy50b0xvY2FsRnJhbWUodixuLG8saSkscy50b0xvY2FsRnJhbWUoeSxhLG8saSk7dmFyIG09dGhpcy5nZXRDbGFtcGVkU2VnbWVudEluZGV4KHYpLGc9dGhpcy5nZXRDbGFtcGVkU2VnbWVudEluZGV4KHkpO2lmKG0+Zyl7dmFyIEE9bTttPWcsZz1BfWZvcih2YXIgYj0wO2I8dGhpcy5oZWlnaHRzLmxlbmd0aC0xO2IrKyl7dGhpcy5nZXRMaW5lU2VnbWVudChkLGYsYik7dmFyIEU9cy5nZXRMaW5lU2VnbWVudHNJbnRlcnNlY3Rpb25GcmFjdGlvbih2LHksZCxmKTtpZihFPj0wJiYocy5zdWIodSxmLGQpLHMucm90YXRlKHUsdSxpK01hdGguUEkvMikscy5ub3JtYWxpemUodSx1KSxlLnJlcG9ydEludGVyc2VjdGlvbih0LEUsdSwtMSksdC5zaG91bGRTdG9wKGUpKSlyZXR1cm59fX0se1wiLi4vbWF0aC92ZWMyXCI6MzAsXCIuLi91dGlscy9VdGlsc1wiOjU3LFwiLi9TaGFwZVwiOjQ1fV0sNDI6W2Z1bmN0aW9uKHQsZSxvKXtmdW5jdGlvbiBpKHQpe1wibnVtYmVyXCI9PXR5cGVvZiBhcmd1bWVudHNbMF0mJih0PXtsZW5ndGg6YXJndW1lbnRzWzBdfSxjb25zb2xlLndhcm4oXCJUaGUgTGluZSBjb25zdHJ1Y3RvciBzaWduYXR1cmUgaGFzIGNoYW5nZWQuIFBsZWFzZSB1c2UgdGhlIGZvbGxvd2luZyBmb3JtYXQ6IG5ldyBMaW5lKHsgbGVuZ3RoOiAxLCAuLi4gfSlcIikpLHQ9dHx8e30sdGhpcy5sZW5ndGg9dC5sZW5ndGh8fDEsdC50eXBlPW4uTElORSxuLmNhbGwodGhpcyx0KX12YXIgbj10KFwiLi9TaGFwZVwiKSxzPXQoXCIuLi9tYXRoL3ZlYzJcIik7ZS5leHBvcnRzPWksKGkucHJvdG90eXBlPW5ldyBuKS5jb25zdHJ1Y3Rvcj1pLGkucHJvdG90eXBlLmNvbXB1dGVNb21lbnRPZkluZXJ0aWE9ZnVuY3Rpb24odCl7cmV0dXJuIHQqTWF0aC5wb3codGhpcy5sZW5ndGgsMikvMTJ9LGkucHJvdG90eXBlLnVwZGF0ZUJvdW5kaW5nUmFkaXVzPWZ1bmN0aW9uKCl7dGhpcy5ib3VuZGluZ1JhZGl1cz10aGlzLmxlbmd0aC8yfTt2YXIgYT1bcy5jcmVhdGUoKSxzLmNyZWF0ZSgpXTtpLnByb3RvdHlwZS5jb21wdXRlQUFCQj1mdW5jdGlvbih0LGUsbyl7dmFyIGk9dGhpcy5sZW5ndGgvMjtzLnNldChhWzBdLC1pLDApLHMuc2V0KGFbMV0saSwwKSx0LnNldEZyb21Qb2ludHMoYSxlLG8sMCl9O3MuY3JlYXRlKCk7dmFyIHI9cy5jcmVhdGUoKSxjPXMuY3JlYXRlKCksaD1zLmNyZWF0ZSgpLGw9cy5mcm9tVmFsdWVzKDAsMSk7aS5wcm90b3R5cGUucmF5Y2FzdD1mdW5jdGlvbih0LGUsbyxpKXt2YXIgbj1lLmZyb20sYT1lLnRvLHA9Yyx1PWgsZD10aGlzLmxlbmd0aC8yO3Muc2V0KHAsLWQsMCkscy5zZXQodSxkLDApLHMudG9HbG9iYWxGcmFtZShwLHAsbyxpKSxzLnRvR2xvYmFsRnJhbWUodSx1LG8saSk7dmFyIGY9cy5nZXRMaW5lU2VnbWVudHNJbnRlcnNlY3Rpb25GcmFjdGlvbihwLHUsbixhKTtpZihmPj0wKXt2YXIgdj1yO3Mucm90YXRlKHYsbCxpKSxlLnJlcG9ydEludGVyc2VjdGlvbih0LGYsdiwtMSl9fX0se1wiLi4vbWF0aC92ZWMyXCI6MzAsXCIuL1NoYXBlXCI6NDV9XSw0MzpbZnVuY3Rpb24odCxlLG8pe2Z1bmN0aW9uIGkodCl7KHQ9dHx8e30pLnR5cGU9bi5QQVJUSUNMRSxuLmNhbGwodGhpcyx0KX12YXIgbj10KFwiLi9TaGFwZVwiKSxzPXQoXCIuLi9tYXRoL3ZlYzJcIik7ZS5leHBvcnRzPWksKGkucHJvdG90eXBlPW5ldyBuKS5jb25zdHJ1Y3Rvcj1pLGkucHJvdG90eXBlLmNvbXB1dGVNb21lbnRPZkluZXJ0aWE9ZnVuY3Rpb24odCl7cmV0dXJuIDB9LGkucHJvdG90eXBlLnVwZGF0ZUJvdW5kaW5nUmFkaXVzPWZ1bmN0aW9uKCl7dGhpcy5ib3VuZGluZ1JhZGl1cz0wfSxpLnByb3RvdHlwZS5jb21wdXRlQUFCQj1mdW5jdGlvbih0LGUsbyl7cy5jb3B5KHQubG93ZXJCb3VuZCxlKSxzLmNvcHkodC51cHBlckJvdW5kLGUpfX0se1wiLi4vbWF0aC92ZWMyXCI6MzAsXCIuL1NoYXBlXCI6NDV9XSw0NDpbZnVuY3Rpb24odCxlLG8pe2Z1bmN0aW9uIGkodCl7KHQ9dHx8e30pLnR5cGU9bi5QTEFORSxuLmNhbGwodGhpcyx0KX12YXIgbj10KFwiLi9TaGFwZVwiKSxzPXQoXCIuLi9tYXRoL3ZlYzJcIik7dChcIi4uL3V0aWxzL1V0aWxzXCIpO2UuZXhwb3J0cz1pLChpLnByb3RvdHlwZT1uZXcgbikuY29uc3RydWN0b3I9aSxpLnByb3RvdHlwZS5jb21wdXRlTW9tZW50T2ZJbmVydGlhPWZ1bmN0aW9uKHQpe3JldHVybiAwfSxpLnByb3RvdHlwZS51cGRhdGVCb3VuZGluZ1JhZGl1cz1mdW5jdGlvbigpe3RoaXMuYm91bmRpbmdSYWRpdXM9TnVtYmVyLk1BWF9WQUxVRX0saS5wcm90b3R5cGUuY29tcHV0ZUFBQkI9ZnVuY3Rpb24odCxlLG8pe3ZhciBpPW8lKDIqTWF0aC5QSSksbj1zLnNldCxhPXQubG93ZXJCb3VuZCxyPXQudXBwZXJCb3VuZDtuKGEsLTFlNywtMWU3KSxuKHIsMWU3LDFlNyksMD09PWk/clsxXT0wOmk9PT1NYXRoLlBJLzI/YVswXT0wOmk9PT1NYXRoLlBJP2FbMV09MDppPT09MypNYXRoLlBJLzImJihyWzBdPTApfSxpLnByb3RvdHlwZS51cGRhdGVBcmVhPWZ1bmN0aW9uKCl7dGhpcy5hcmVhPU51bWJlci5NQVhfVkFMVUV9O3ZhciBhPXMuY3JlYXRlKCkscj0ocy5jcmVhdGUoKSxzLmNyZWF0ZSgpLHMuY3JlYXRlKCkpLGM9cy5jcmVhdGUoKTtpLnByb3RvdHlwZS5yYXljYXN0PWZ1bmN0aW9uKHQsZSxvLGkpe3ZhciBuPWUuZnJvbSxoPWUudG8sbD1lLmRpcmVjdGlvbixwPWEsdT1yLGQ9YztzLnNldCh1LDAsMSkscy5yb3RhdGUodSx1LGkpLHMuc3ViKGQsbixvKTt2YXIgZj1zLmRvdChkLHUpO2lmKHMuc3ViKGQsaCxvKSwhKGYqcy5kb3QoZCx1KT4wfHxzLnNxdWFyZWREaXN0YW5jZShuLGgpPGYqZikpe3ZhciB2PXMuZG90KHUsbCk7cy5zdWIocCxuLG8pO3ZhciB5PS1zLmRvdCh1LHApL3YvZS5sZW5ndGg7ZS5yZXBvcnRJbnRlcnNlY3Rpb24odCx5LHUsLTEpfX19LHtcIi4uL21hdGgvdmVjMlwiOjMwLFwiLi4vdXRpbHMvVXRpbHNcIjo1NyxcIi4vU2hhcGVcIjo0NX1dLDQ1OltmdW5jdGlvbih0LGUsbyl7ZnVuY3Rpb24gaSh0KXt0PXR8fHt9LHRoaXMuYm9keT1udWxsLHRoaXMucG9zaXRpb249bi5mcm9tVmFsdWVzKDAsMCksdC5wb3NpdGlvbiYmbi5jb3B5KHRoaXMucG9zaXRpb24sdC5wb3NpdGlvbiksdGhpcy5hbmdsZT10LmFuZ2xlfHwwLHRoaXMudHlwZT10LnR5cGV8fDAsdGhpcy5pZD1pLmlkQ291bnRlcisrLHRoaXMuYm91bmRpbmdSYWRpdXM9MCx0aGlzLmNvbGxpc2lvbkdyb3VwPXZvaWQgMCE9PXQuY29sbGlzaW9uR3JvdXA/dC5jb2xsaXNpb25Hcm91cDoxLHRoaXMuY29sbGlzaW9uUmVzcG9uc2U9dm9pZCAwPT09dC5jb2xsaXNpb25SZXNwb25zZXx8dC5jb2xsaXNpb25SZXNwb25zZSx0aGlzLmNvbGxpc2lvbk1hc2s9dm9pZCAwIT09dC5jb2xsaXNpb25NYXNrP3QuY29sbGlzaW9uTWFzazoxLHRoaXMubWF0ZXJpYWw9dC5tYXRlcmlhbHx8bnVsbCx0aGlzLmFyZWE9MCx0aGlzLnNlbnNvcj12b2lkIDAhPT10LnNlbnNvciYmdC5zZW5zb3IsdGhpcy50eXBlJiZ0aGlzLnVwZGF0ZUJvdW5kaW5nUmFkaXVzKCksdGhpcy51cGRhdGVBcmVhKCl9ZS5leHBvcnRzPWk7dmFyIG49dChcIi4uL21hdGgvdmVjMlwiKTtpLmlkQ291bnRlcj0wLGkuQ0lSQ0xFPTEsaS5QQVJUSUNMRT0yLGkuUExBTkU9NCxpLkNPTlZFWD04LGkuTElORT0xNixpLkJPWD0zMixPYmplY3QuZGVmaW5lUHJvcGVydHkoaSxcIlJFQ1RBTkdMRVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS53YXJuKFwiU2hhcGUuUkVDVEFOR0xFIGlzIGRlcHJlY2F0ZWQsIHVzZSBTaGFwZS5CT1ggaW5zdGVhZC5cIiksaS5CT1h9fSksaS5DQVBTVUxFPTY0LGkuSEVJR0hURklFTEQ9MTI4LGkucHJvdG90eXBlLmNvbXB1dGVNb21lbnRPZkluZXJ0aWE9ZnVuY3Rpb24odCl7fSxpLnByb3RvdHlwZS51cGRhdGVCb3VuZGluZ1JhZGl1cz1mdW5jdGlvbigpe30saS5wcm90b3R5cGUudXBkYXRlQXJlYT1mdW5jdGlvbigpe30saS5wcm90b3R5cGUuY29tcHV0ZUFBQkI9ZnVuY3Rpb24odCxlLG8pe30saS5wcm90b3R5cGUucmF5Y2FzdD1mdW5jdGlvbih0LGUsbyxpKXt9fSx7XCIuLi9tYXRoL3ZlYzJcIjozMH1dLDQ2OltmdW5jdGlvbih0LGUsbyl7ZnVuY3Rpb24gaSh0KXthLmNhbGwodGhpcyx0LGEuR1MpLHQ9dHx8e30sdGhpcy5pdGVyYXRpb25zPXQuaXRlcmF0aW9uc3x8MTAsdGhpcy50b2xlcmFuY2U9dC50b2xlcmFuY2V8fDFlLTcsdGhpcy5hcnJheVN0ZXA9MzAsdGhpcy5sYW1iZGE9bmV3IHIuQVJSQVlfVFlQRSh0aGlzLmFycmF5U3RlcCksdGhpcy5Ccz1uZXcgci5BUlJBWV9UWVBFKHRoaXMuYXJyYXlTdGVwKSx0aGlzLmludkNzPW5ldyByLkFSUkFZX1RZUEUodGhpcy5hcnJheVN0ZXApLHRoaXMudXNlWmVyb1JIUz0hMSx0aGlzLmZyaWN0aW9uSXRlcmF0aW9ucz12b2lkIDAhPT10LmZyaWN0aW9uSXRlcmF0aW9ucz8wOnQuZnJpY3Rpb25JdGVyYXRpb25zLHRoaXMudXNlZEl0ZXJhdGlvbnM9MH1mdW5jdGlvbiBuKHQpe2Zvcih2YXIgZT10Lmxlbmd0aDtlLS07KXRbZV09MH12YXIgcz10KFwiLi4vbWF0aC92ZWMyXCIpLGE9dChcIi4vU29sdmVyXCIpLHI9dChcIi4uL3V0aWxzL1V0aWxzXCIpLGM9dChcIi4uL2VxdWF0aW9ucy9GcmljdGlvbkVxdWF0aW9uXCIpO2UuZXhwb3J0cz1pLChpLnByb3RvdHlwZT1uZXcgYSkuY29uc3RydWN0b3I9aSxpLnByb3RvdHlwZS5zb2x2ZT1mdW5jdGlvbih0LGUpe3RoaXMuc29ydEVxdWF0aW9ucygpO3ZhciBvPTAsYT10aGlzLml0ZXJhdGlvbnMsaD10aGlzLmZyaWN0aW9uSXRlcmF0aW9ucyxsPXRoaXMuZXF1YXRpb25zLHA9bC5sZW5ndGgsdT1NYXRoLnBvdyh0aGlzLnRvbGVyYW5jZSpwLDIpLGQ9ZS5ib2RpZXMsZj1lLmJvZGllcy5sZW5ndGgsdj0ocy5hZGQscy5zZXQsdGhpcy51c2VaZXJvUkhTKSx5PXRoaXMubGFtYmRhO2lmKHRoaXMudXNlZEl0ZXJhdGlvbnM9MCxwKWZvcihBPTA7QSE9PWY7QSsrKShxPWRbQV0pLnVwZGF0ZVNvbHZlTWFzc1Byb3BlcnRpZXMoKTt5Lmxlbmd0aDxwJiYoeT10aGlzLmxhbWJkYT1uZXcgci5BUlJBWV9UWVBFKHArdGhpcy5hcnJheVN0ZXApLHRoaXMuQnM9bmV3IHIuQVJSQVlfVFlQRShwK3RoaXMuYXJyYXlTdGVwKSx0aGlzLmludkNzPW5ldyByLkFSUkFZX1RZUEUocCt0aGlzLmFycmF5U3RlcCkpLG4oeSk7Zm9yKHZhciBtPXRoaXMuaW52Q3MsZz10aGlzLkJzLHk9dGhpcy5sYW1iZGEsQT0wO0EhPT1sLmxlbmd0aDtBKyspKChiPWxbQV0pLnRpbWVTdGVwIT09dHx8Yi5uZWVkc1VwZGF0ZSkmJihiLnRpbWVTdGVwPXQsYi51cGRhdGUoKSksZ1tBXT1iLmNvbXB1dGVCKGIuYSxiLmIsdCksbVtBXT1iLmNvbXB1dGVJbnZDKGIuZXBzaWxvbik7dmFyIGIsRSxCO2lmKDAhPT1wKXtmb3IoQT0wO0EhPT1mO0ErKyl7dmFyIHE9ZFtBXTtxLnJlc2V0Q29uc3RyYWludFZlbG9jaXR5KCl9aWYoaCl7Zm9yKG89MDtvIT09aDtvKyspe2ZvcihFPTAsQj0wO0IhPT1wO0IrKyl7Yj1sW0JdO0M9aS5pdGVyYXRlRXF1YXRpb24oQixiLGIuZXBzaWxvbixnLG0seSx2LHQsbyk7RSs9TWF0aC5hYnMoQyl9aWYodGhpcy51c2VkSXRlcmF0aW9ucysrLEUqRTw9dSlicmVha31mb3IoaS51cGRhdGVNdWx0aXBsaWVycyhsLHksMS90KSxCPTA7QiE9PXA7QisrKXt2YXIgUD1sW0JdO2lmKFAgaW5zdGFuY2VvZiBjKXtmb3IodmFyIHc9MCxTPTA7UyE9PVAuY29udGFjdEVxdWF0aW9ucy5sZW5ndGg7UysrKXcrPVAuY29udGFjdEVxdWF0aW9uc1tTXS5tdWx0aXBsaWVyO3cqPVAuZnJpY3Rpb25Db2VmZmljaWVudC9QLmNvbnRhY3RFcXVhdGlvbnMubGVuZ3RoLFAubWF4Rm9yY2U9dyxQLm1pbkZvcmNlPS13fX19Zm9yKG89MDtvIT09YTtvKyspe2ZvcihFPTAsQj0wO0IhPT1wO0IrKyl7Yj1sW0JdO3ZhciBDPWkuaXRlcmF0ZUVxdWF0aW9uKEIsYixiLmVwc2lsb24sZyxtLHksdix0LG8pO0UrPU1hdGguYWJzKEMpfWlmKHRoaXMudXNlZEl0ZXJhdGlvbnMrKyxFKkU8PXUpYnJlYWt9Zm9yKEE9MDtBIT09ZjtBKyspZFtBXS5hZGRDb25zdHJhaW50VmVsb2NpdHkoKTtpLnVwZGF0ZU11bHRpcGxpZXJzKGwseSwxL3QpfX0saS51cGRhdGVNdWx0aXBsaWVycz1mdW5jdGlvbih0LGUsbyl7Zm9yKHZhciBpPXQubGVuZ3RoO2ktLTspdFtpXS5tdWx0aXBsaWVyPWVbaV0qb30saS5pdGVyYXRlRXF1YXRpb249ZnVuY3Rpb24odCxlLG8saSxuLHMsYSxyLGMpe3ZhciBoPWlbdF0sbD1uW3RdLHA9c1t0XSx1PWUuY29tcHV0ZUdXbGFtYmRhKCksZD1lLm1heEZvcmNlLGY9ZS5taW5Gb3JjZTthJiYoaD0wKTt2YXIgdj1sKihoLXUtbypwKSx5PXArdjtyZXR1cm4geTxmKnI/dj1mKnItcDp5PmQqciYmKHY9ZCpyLXApLHNbdF0rPXYsZS5hZGRUb1dsYW1iZGEodiksdn19LHtcIi4uL2VxdWF0aW9ucy9GcmljdGlvbkVxdWF0aW9uXCI6MjMsXCIuLi9tYXRoL3ZlYzJcIjozMCxcIi4uL3V0aWxzL1V0aWxzXCI6NTcsXCIuL1NvbHZlclwiOjQ3fV0sNDc6W2Z1bmN0aW9uKHQsZSxvKXtmdW5jdGlvbiBpKHQsZSl7dD10fHx7fSxuLmNhbGwodGhpcyksdGhpcy50eXBlPWUsdGhpcy5lcXVhdGlvbnM9W10sdGhpcy5lcXVhdGlvblNvcnRGdW5jdGlvbj10LmVxdWF0aW9uU29ydEZ1bmN0aW9ufHwhMX10KFwiLi4vdXRpbHMvVXRpbHNcIik7dmFyIG49dChcIi4uL2V2ZW50cy9FdmVudEVtaXR0ZXJcIik7ZS5leHBvcnRzPWksKGkucHJvdG90eXBlPW5ldyBuKS5jb25zdHJ1Y3Rvcj1pLGkucHJvdG90eXBlLnNvbHZlPWZ1bmN0aW9uKHQsZSl7dGhyb3cgbmV3IEVycm9yKFwiU29sdmVyLnNvbHZlIHNob3VsZCBiZSBpbXBsZW1lbnRlZCBieSBzdWJjbGFzc2VzIVwiKX07dmFyIHM9e2JvZGllczpbXX07aS5wcm90b3R5cGUuc29sdmVJc2xhbmQ9ZnVuY3Rpb24odCxlKXt0aGlzLnJlbW92ZUFsbEVxdWF0aW9ucygpLGUuZXF1YXRpb25zLmxlbmd0aCYmKHRoaXMuYWRkRXF1YXRpb25zKGUuZXF1YXRpb25zKSxzLmJvZGllcy5sZW5ndGg9MCxlLmdldEJvZGllcyhzLmJvZGllcykscy5ib2RpZXMubGVuZ3RoJiZ0aGlzLnNvbHZlKHQscykpfSxpLnByb3RvdHlwZS5zb3J0RXF1YXRpb25zPWZ1bmN0aW9uKCl7dGhpcy5lcXVhdGlvblNvcnRGdW5jdGlvbiYmdGhpcy5lcXVhdGlvbnMuc29ydCh0aGlzLmVxdWF0aW9uU29ydEZ1bmN0aW9uKX0saS5wcm90b3R5cGUuYWRkRXF1YXRpb249ZnVuY3Rpb24odCl7dC5lbmFibGVkJiZ0aGlzLmVxdWF0aW9ucy5wdXNoKHQpfSxpLnByb3RvdHlwZS5hZGRFcXVhdGlvbnM9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTAsbz10Lmxlbmd0aDtlIT09bztlKyspe3ZhciBpPXRbZV07aS5lbmFibGVkJiZ0aGlzLmVxdWF0aW9ucy5wdXNoKGkpfX0saS5wcm90b3R5cGUucmVtb3ZlRXF1YXRpb249ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5lcXVhdGlvbnMuaW5kZXhPZih0KTstMSE9PWUmJnRoaXMuZXF1YXRpb25zLnNwbGljZShlLDEpfSxpLnByb3RvdHlwZS5yZW1vdmVBbGxFcXVhdGlvbnM9ZnVuY3Rpb24oKXt0aGlzLmVxdWF0aW9ucy5sZW5ndGg9MH0saS5HUz0xLGkuSVNMQU5EPTJ9LHtcIi4uL2V2ZW50cy9FdmVudEVtaXR0ZXJcIjoyNixcIi4uL3V0aWxzL1V0aWxzXCI6NTd9XSw0ODpbZnVuY3Rpb24odCxlLG8pe2Z1bmN0aW9uIGkoKXtzLmFwcGx5KHRoaXMsYXJndW1lbnRzKX12YXIgbj10KFwiLi4vZXF1YXRpb25zL0NvbnRhY3RFcXVhdGlvblwiKSxzPXQoXCIuL1Bvb2xcIik7ZS5leHBvcnRzPWksKGkucHJvdG90eXBlPW5ldyBzKS5jb25zdHJ1Y3Rvcj1pLGkucHJvdG90eXBlLmNyZWF0ZT1mdW5jdGlvbigpe3JldHVybiBuZXcgbn0saS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbih0KXtyZXR1cm4gdC5ib2R5QT10LmJvZHlCPW51bGwsdGhpc319LHtcIi4uL2VxdWF0aW9ucy9Db250YWN0RXF1YXRpb25cIjoyMSxcIi4vUG9vbFwiOjU1fV0sNDk6W2Z1bmN0aW9uKHQsZSxvKXtmdW5jdGlvbiBpKCl7cy5hcHBseSh0aGlzLGFyZ3VtZW50cyl9dmFyIG49dChcIi4uL2VxdWF0aW9ucy9GcmljdGlvbkVxdWF0aW9uXCIpLHM9dChcIi4vUG9vbFwiKTtlLmV4cG9ydHM9aSwoaS5wcm90b3R5cGU9bmV3IHMpLmNvbnN0cnVjdG9yPWksaS5wcm90b3R5cGUuY3JlYXRlPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBufSxpLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKHQpe3JldHVybiB0LmJvZHlBPXQuYm9keUI9bnVsbCx0aGlzfX0se1wiLi4vZXF1YXRpb25zL0ZyaWN0aW9uRXF1YXRpb25cIjoyMyxcIi4vUG9vbFwiOjU1fV0sNTA6W2Z1bmN0aW9uKHQsZSxvKXtmdW5jdGlvbiBpKCl7cy5hcHBseSh0aGlzLGFyZ3VtZW50cyl9dmFyIG49dChcIi4uL3dvcmxkL0lzbGFuZE5vZGVcIikscz10KFwiLi9Qb29sXCIpO2UuZXhwb3J0cz1pLChpLnByb3RvdHlwZT1uZXcgcykuY29uc3RydWN0b3I9aSxpLnByb3RvdHlwZS5jcmVhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IG59LGkucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24odCl7cmV0dXJuIHQucmVzZXQoKSx0aGlzfX0se1wiLi4vd29ybGQvSXNsYW5kTm9kZVwiOjYwLFwiLi9Qb29sXCI6NTV9XSw1MTpbZnVuY3Rpb24odCxlLG8pe2Z1bmN0aW9uIGkoKXtzLmFwcGx5KHRoaXMsYXJndW1lbnRzKX12YXIgbj10KFwiLi4vd29ybGQvSXNsYW5kXCIpLHM9dChcIi4vUG9vbFwiKTtlLmV4cG9ydHM9aSwoaS5wcm90b3R5cGU9bmV3IHMpLmNvbnN0cnVjdG9yPWksaS5wcm90b3R5cGUuY3JlYXRlPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBufSxpLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKHQpe3JldHVybiB0LnJlc2V0KCksdGhpc319LHtcIi4uL3dvcmxkL0lzbGFuZFwiOjU4LFwiLi9Qb29sXCI6NTV9XSw1MjpbZnVuY3Rpb24odCxlLG8pe2Z1bmN0aW9uIGkoKXt0aGlzLm92ZXJsYXBwaW5nU2hhcGVzTGFzdFN0YXRlPW5ldyBuLHRoaXMub3ZlcmxhcHBpbmdTaGFwZXNDdXJyZW50U3RhdGU9bmV3IG4sdGhpcy5yZWNvcmRQb29sPW5ldyBzKHtzaXplOjE2fSksdGhpcy50bXBEaWN0PW5ldyBuLHRoaXMudG1wQXJyYXkxPVtdfXZhciBuPXQoXCIuL1R1cGxlRGljdGlvbmFyeVwiKSxzPSh0KFwiLi9PdmVybGFwS2VlcGVyUmVjb3JkXCIpLHQoXCIuL092ZXJsYXBLZWVwZXJSZWNvcmRQb29sXCIpKTt0KFwiLi9VdGlsc1wiKTtlLmV4cG9ydHM9aSxpLnByb3RvdHlwZS50aWNrPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMub3ZlcmxhcHBpbmdTaGFwZXNMYXN0U3RhdGUsZT10aGlzLm92ZXJsYXBwaW5nU2hhcGVzQ3VycmVudFN0YXRlLG89dC5rZXlzLmxlbmd0aDtvLS07KXt2YXIgaT10LmtleXNbb10sbj10LmdldEJ5S2V5KGkpO2UuZ2V0QnlLZXkoaSk7biYmdGhpcy5yZWNvcmRQb29sLnJlbGVhc2Uobil9dC5yZXNldCgpLHQuY29weShlKSxlLnJlc2V0KCl9LGkucHJvdG90eXBlLnNldE92ZXJsYXBwaW5nPWZ1bmN0aW9uKHQsZSxvLGkpe3RoaXMub3ZlcmxhcHBpbmdTaGFwZXNMYXN0U3RhdGU7dmFyIG49dGhpcy5vdmVybGFwcGluZ1NoYXBlc0N1cnJlbnRTdGF0ZTtpZighbi5nZXQoZS5pZCxpLmlkKSl7dmFyIHM9dGhpcy5yZWNvcmRQb29sLmdldCgpO3Muc2V0KHQsZSxvLGkpLG4uc2V0KGUuaWQsaS5pZCxzKX19LGkucHJvdG90eXBlLmdldE5ld092ZXJsYXBzPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmdldERpZmYodGhpcy5vdmVybGFwcGluZ1NoYXBlc0xhc3RTdGF0ZSx0aGlzLm92ZXJsYXBwaW5nU2hhcGVzQ3VycmVudFN0YXRlLHQpfSxpLnByb3RvdHlwZS5nZXRFbmRPdmVybGFwcz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5nZXREaWZmKHRoaXMub3ZlcmxhcHBpbmdTaGFwZXNDdXJyZW50U3RhdGUsdGhpcy5vdmVybGFwcGluZ1NoYXBlc0xhc3RTdGF0ZSx0KX0saS5wcm90b3R5cGUuYm9kaWVzQXJlT3ZlcmxhcHBpbmc9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG89dGhpcy5vdmVybGFwcGluZ1NoYXBlc0N1cnJlbnRTdGF0ZSxpPW8ua2V5cy5sZW5ndGg7aS0tOyl7dmFyIG49by5rZXlzW2ldLHM9by5kYXRhW25dO2lmKHMuYm9keUE9PT10JiZzLmJvZHlCPT09ZXx8cy5ib2R5QT09PWUmJnMuYm9keUI9PT10KXJldHVybiEwfXJldHVybiExfSxpLnByb3RvdHlwZS5nZXREaWZmPWZ1bmN0aW9uKHQsZSxvKXt2YXIgaT10LG49ZTsobz1vfHxbXSkubGVuZ3RoPTA7Zm9yKHZhciBzPW4ua2V5cy5sZW5ndGg7cy0tOyl7dmFyIGE9bi5rZXlzW3NdLHI9bi5kYXRhW2FdO2lmKCFyKXRocm93IG5ldyBFcnJvcihcIktleSBcIithK1wiIGhhZCBubyBkYXRhIVwiKTtpLmRhdGFbYV18fG8ucHVzaChyKX1yZXR1cm4gb30saS5wcm90b3R5cGUuaXNOZXdPdmVybGFwPWZ1bmN0aW9uKHQsZSl7dmFyIG89MHx0LmlkLGk9MHxlLmlkLG49dGhpcy5vdmVybGFwcGluZ1NoYXBlc0xhc3RTdGF0ZSxzPXRoaXMub3ZlcmxhcHBpbmdTaGFwZXNDdXJyZW50U3RhdGU7cmV0dXJuIW4uZ2V0KG8saSkmJiEhcy5nZXQobyxpKX0saS5wcm90b3R5cGUuZ2V0TmV3Qm9keU92ZXJsYXBzPWZ1bmN0aW9uKHQpe3RoaXMudG1wQXJyYXkxLmxlbmd0aD0wO3ZhciBlPXRoaXMuZ2V0TmV3T3ZlcmxhcHModGhpcy50bXBBcnJheTEpO3JldHVybiB0aGlzLmdldEJvZHlEaWZmKGUsdCl9LGkucHJvdG90eXBlLmdldEVuZEJvZHlPdmVybGFwcz1mdW5jdGlvbih0KXt0aGlzLnRtcEFycmF5MS5sZW5ndGg9MDt2YXIgZT10aGlzLmdldEVuZE92ZXJsYXBzKHRoaXMudG1wQXJyYXkxKTtyZXR1cm4gdGhpcy5nZXRCb2R5RGlmZihlLHQpfSxpLnByb3RvdHlwZS5nZXRCb2R5RGlmZj1mdW5jdGlvbih0LGUpe2U9ZXx8W107Zm9yKHZhciBvPXRoaXMudG1wRGljdCxpPXQubGVuZ3RoO2ktLTspe3ZhciBuPXRbaV07by5zZXQoMHxuLmJvZHlBLmlkLDB8bi5ib2R5Qi5pZCxuKX1mb3IoaT1vLmtleXMubGVuZ3RoO2ktLTspKG49by5nZXRCeUtleShvLmtleXNbaV0pKSYmZS5wdXNoKG4uYm9keUEsbi5ib2R5Qik7cmV0dXJuIG8ucmVzZXQoKSxlfX0se1wiLi9PdmVybGFwS2VlcGVyUmVjb3JkXCI6NTMsXCIuL092ZXJsYXBLZWVwZXJSZWNvcmRQb29sXCI6NTQsXCIuL1R1cGxlRGljdGlvbmFyeVwiOjU2LFwiLi9VdGlsc1wiOjU3fV0sNTM6W2Z1bmN0aW9uKHQsZSxvKXtmdW5jdGlvbiBpKHQsZSxvLGkpe3RoaXMuc2hhcGVBPWUsdGhpcy5zaGFwZUI9aSx0aGlzLmJvZHlBPXQsdGhpcy5ib2R5Qj1vfWUuZXhwb3J0cz1pLGkucHJvdG90eXBlLnNldD1mdW5jdGlvbih0LGUsbyxuKXtpLmNhbGwodGhpcyx0LGUsbyxuKX19LHt9XSw1NDpbZnVuY3Rpb24odCxlLG8pe2Z1bmN0aW9uIGkoKXtzLmFwcGx5KHRoaXMsYXJndW1lbnRzKX12YXIgbj10KFwiLi9PdmVybGFwS2VlcGVyUmVjb3JkXCIpLHM9dChcIi4vUG9vbFwiKTtlLmV4cG9ydHM9aSwoaS5wcm90b3R5cGU9bmV3IHMpLmNvbnN0cnVjdG9yPWksaS5wcm90b3R5cGUuY3JlYXRlPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBufSxpLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKHQpe3JldHVybiB0LmJvZHlBPXQuYm9keUI9dC5zaGFwZUE9dC5zaGFwZUI9bnVsbCx0aGlzfX0se1wiLi9PdmVybGFwS2VlcGVyUmVjb3JkXCI6NTMsXCIuL1Bvb2xcIjo1NX1dLDU1OltmdW5jdGlvbih0LGUsbyl7ZnVuY3Rpb24gaSh0KXt0PXR8fHt9LHRoaXMub2JqZWN0cz1bXSx2b2lkIDAhPT10LnNpemUmJnRoaXMucmVzaXplKHQuc2l6ZSl9ZS5leHBvcnRzPWksaS5wcm90b3R5cGUucmVzaXplPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLm9iamVjdHM7ZS5sZW5ndGg+dDspZS5wb3AoKTtmb3IoO2UubGVuZ3RoPHQ7KWUucHVzaCh0aGlzLmNyZWF0ZSgpKTtyZXR1cm4gdGhpc30saS5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5vYmplY3RzO3JldHVybiB0Lmxlbmd0aD90LnBvcCgpOnRoaXMuY3JlYXRlKCl9LGkucHJvdG90eXBlLnJlbGVhc2U9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZGVzdHJveSh0KSx0aGlzLm9iamVjdHMucHVzaCh0KSx0aGlzfX0se31dLDU2OltmdW5jdGlvbih0LGUsbyl7ZnVuY3Rpb24gaSgpe3RoaXMuZGF0YT17fSx0aGlzLmtleXM9W119dmFyIG49dChcIi4vVXRpbHNcIik7ZS5leHBvcnRzPWksaS5wcm90b3R5cGUuZ2V0S2V5PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHR8PTAsZXw9MCwoMHx0KT09KDB8ZSk/LTE6MHwoKDB8dCk+KDB8ZSk/dDw8MTZ8NjU1MzUmZTplPDwxNnw2NTUzNSZ0KX0saS5wcm90b3R5cGUuZ2V0QnlLZXk9ZnVuY3Rpb24odCl7cmV0dXJuIHR8PTAsdGhpcy5kYXRhW3RdfSxpLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5kYXRhW3RoaXMuZ2V0S2V5KHQsZSldfSxpLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24odCxlLG8pe2lmKCFvKXRocm93IG5ldyBFcnJvcihcIk5vIGRhdGEhXCIpO3ZhciBpPXRoaXMuZ2V0S2V5KHQsZSk7cmV0dXJuIHRoaXMuZGF0YVtpXXx8dGhpcy5rZXlzLnB1c2goaSksdGhpcy5kYXRhW2ldPW8saX0saS5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy5kYXRhLGU9dGhpcy5rZXlzLG89ZS5sZW5ndGg7by0tOylkZWxldGUgdFtlW29dXTtlLmxlbmd0aD0wfSxpLnByb3RvdHlwZS5jb3B5PWZ1bmN0aW9uKHQpe3RoaXMucmVzZXQoKSxuLmFwcGVuZEFycmF5KHRoaXMua2V5cyx0LmtleXMpO2Zvcih2YXIgZT10LmtleXMubGVuZ3RoO2UtLTspe3ZhciBvPXQua2V5c1tlXTt0aGlzLmRhdGFbb109dC5kYXRhW29dfX19LHtcIi4vVXRpbHNcIjo1N31dLDU3OltmdW5jdGlvbih0LGUsbyl7ZnVuY3Rpb24gaSgpe31lLmV4cG9ydHM9aSxpLmFwcGVuZEFycmF5PWZ1bmN0aW9uKHQsZSl7aWYoZS5sZW5ndGg8MTVlNCl0LnB1c2guYXBwbHkodCxlKTtlbHNlIGZvcih2YXIgbz0wLGk9ZS5sZW5ndGg7byE9PWk7KytvKXQucHVzaChlW29dKX0saS5zcGxpY2U9ZnVuY3Rpb24odCxlLG8pe289b3x8MTtmb3IodmFyIGk9ZSxuPXQubGVuZ3RoLW87aTxuO2krKyl0W2ldPXRbaStvXTt0Lmxlbmd0aD1ufSxpLkFSUkFZX1RZUEU9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFAyX0FSUkFZX1RZUEU/UDJfQVJSQVlfVFlQRTpcInVuZGVmaW5lZFwiIT10eXBlb2YgRmxvYXQzMkFycmF5P0Zsb2F0MzJBcnJheTpBcnJheSxpLmV4dGVuZD1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbyBpbiBlKXRbb109ZVtvXX0saS5kZWZhdWx0cz1mdW5jdGlvbih0LGUpe3Q9dHx8e307Zm9yKHZhciBvIGluIGUpbyBpbiB0fHwodFtvXT1lW29dKTtyZXR1cm4gdH19LHt9XSw1ODpbZnVuY3Rpb24odCxlLG8pe2Z1bmN0aW9uIGkoKXt0aGlzLmVxdWF0aW9ucz1bXSx0aGlzLmJvZGllcz1bXX12YXIgbj10KFwiLi4vb2JqZWN0cy9Cb2R5XCIpO2UuZXhwb3J0cz1pLGkucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5lcXVhdGlvbnMubGVuZ3RoPXRoaXMuYm9kaWVzLmxlbmd0aD0wfTt2YXIgcz1bXTtpLnByb3RvdHlwZS5nZXRCb2RpZXM9ZnVuY3Rpb24odCl7dmFyIGU9dHx8W10sbz10aGlzLmVxdWF0aW9ucztzLmxlbmd0aD0wO2Zvcih2YXIgaT0wO2khPT1vLmxlbmd0aDtpKyspe3ZhciBuPW9baV07LTE9PT1zLmluZGV4T2Yobi5ib2R5QS5pZCkmJihlLnB1c2gobi5ib2R5QSkscy5wdXNoKG4uYm9keUEuaWQpKSwtMT09PXMuaW5kZXhPZihuLmJvZHlCLmlkKSYmKGUucHVzaChuLmJvZHlCKSxzLnB1c2gobi5ib2R5Qi5pZCkpfXJldHVybiBlfSxpLnByb3RvdHlwZS53YW50c1RvU2xlZXA9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9MDt0PHRoaXMuYm9kaWVzLmxlbmd0aDt0Kyspe3ZhciBlPXRoaXMuYm9kaWVzW3RdO2lmKGUudHlwZT09PW4uRFlOQU1JQyYmIWUud2FudHNUb1NsZWVwKXJldHVybiExfXJldHVybiEwfSxpLnByb3RvdHlwZS5zbGVlcD1mdW5jdGlvbigpe2Zvcih2YXIgdD0wO3Q8dGhpcy5ib2RpZXMubGVuZ3RoO3QrKyl0aGlzLmJvZGllc1t0XS5zbGVlcCgpO3JldHVybiEwfX0se1wiLi4vb2JqZWN0cy9Cb2R5XCI6MzF9XSw1OTpbZnVuY3Rpb24odCxlLG8pe2Z1bmN0aW9uIGkodCl7dGhpcy5ub2RlUG9vbD1uZXcgbih7c2l6ZToxNn0pLHRoaXMuaXNsYW5kUG9vbD1uZXcgcyh7c2l6ZTo4fSksdGhpcy5lcXVhdGlvbnM9W10sdGhpcy5pc2xhbmRzPVtdLHRoaXMubm9kZXM9W10sdGhpcy5xdWV1ZT1bXX10KFwiLi4vbWF0aC92ZWMyXCIpLHQoXCIuL0lzbGFuZFwiKSx0KFwiLi9Jc2xhbmROb2RlXCIpO3ZhciBuPXQoXCIuLy4uL3V0aWxzL0lzbGFuZE5vZGVQb29sXCIpLHM9dChcIi4vLi4vdXRpbHMvSXNsYW5kUG9vbFwiKSxhPXQoXCIuLi9vYmplY3RzL0JvZHlcIik7ZS5leHBvcnRzPWksaS5nZXRVbnZpc2l0ZWROb2RlPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10Lmxlbmd0aCxvPTA7byE9PWU7bysrKXt2YXIgaT10W29dO2lmKCFpLnZpc2l0ZWQmJmkuYm9keS50eXBlPT09YS5EWU5BTUlDKXJldHVybiBpfXJldHVybiExfSxpLnByb3RvdHlwZS52aXNpdD1mdW5jdGlvbih0LGUsbyl7ZS5wdXNoKHQuYm9keSk7Zm9yKHZhciBpPXQuZXF1YXRpb25zLmxlbmd0aCxuPTA7biE9PWk7bisrKXt2YXIgcz10LmVxdWF0aW9uc1tuXTstMT09PW8uaW5kZXhPZihzKSYmby5wdXNoKHMpfX0saS5wcm90b3R5cGUuYmZzPWZ1bmN0aW9uKHQsZSxvKXt2YXIgbj10aGlzLnF1ZXVlO2ZvcihuLmxlbmd0aD0wLG4ucHVzaCh0KSx0LnZpc2l0ZWQ9ITAsdGhpcy52aXNpdCh0LGUsbyk7bi5sZW5ndGg7KWZvcih2YXIgcyxyPW4ucG9wKCk7cz1pLmdldFVudmlzaXRlZE5vZGUoci5uZWlnaGJvcnMpOylzLnZpc2l0ZWQ9ITAsdGhpcy52aXNpdChzLGUsbykscy5ib2R5LnR5cGU9PT1hLkRZTkFNSUMmJm4ucHVzaChzKX0saS5wcm90b3R5cGUuc3BsaXQ9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXQuYm9kaWVzLG89dGhpcy5ub2RlcyxuPXRoaXMuZXF1YXRpb25zO28ubGVuZ3RoOyl0aGlzLm5vZGVQb29sLnJlbGVhc2Uoby5wb3AoKSk7Zm9yKGM9MDtjIT09ZS5sZW5ndGg7YysrKXt2YXIgcz10aGlzLm5vZGVQb29sLmdldCgpO3MuYm9keT1lW2NdLG8ucHVzaChzKX1mb3IodmFyIGE9MDthIT09bi5sZW5ndGg7YSsrKXt2YXIgcj1uW2FdLGM9ZS5pbmRleE9mKHIuYm9keUEpLGg9ZS5pbmRleE9mKHIuYm9keUIpLGw9b1tjXSxwPW9baF07bC5uZWlnaGJvcnMucHVzaChwKSxwLm5laWdoYm9ycy5wdXNoKGwpLGwuZXF1YXRpb25zLnB1c2gocikscC5lcXVhdGlvbnMucHVzaChyKX1mb3IodmFyIHU9dGhpcy5pc2xhbmRzLGM9MDtjPHUubGVuZ3RoO2MrKyl0aGlzLmlzbGFuZFBvb2wucmVsZWFzZSh1W2NdKTt1Lmxlbmd0aD0wO2Zvcih2YXIgZDtkPWkuZ2V0VW52aXNpdGVkTm9kZShvKTspe3ZhciBmPXRoaXMuaXNsYW5kUG9vbC5nZXQoKTt0aGlzLmJmcyhkLGYuYm9kaWVzLGYuZXF1YXRpb25zKSx1LnB1c2goZil9cmV0dXJuIHV9fSx7XCIuLi9tYXRoL3ZlYzJcIjozMCxcIi4uL29iamVjdHMvQm9keVwiOjMxLFwiLi8uLi91dGlscy9Jc2xhbmROb2RlUG9vbFwiOjUwLFwiLi8uLi91dGlscy9Jc2xhbmRQb29sXCI6NTEsXCIuL0lzbGFuZFwiOjU4LFwiLi9Jc2xhbmROb2RlXCI6NjB9XSw2MDpbZnVuY3Rpb24odCxlLG8pe2Z1bmN0aW9uIGkodCl7dGhpcy5ib2R5PXQsdGhpcy5uZWlnaGJvcnM9W10sdGhpcy5lcXVhdGlvbnM9W10sdGhpcy52aXNpdGVkPSExfWUuZXhwb3J0cz1pLGkucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5lcXVhdGlvbnMubGVuZ3RoPTAsdGhpcy5uZWlnaGJvcnMubGVuZ3RoPTAsdGhpcy52aXNpdGVkPSExLHRoaXMuYm9keT1udWxsfX0se31dLDYxOltmdW5jdGlvbih0LGUsbyl7ZnVuY3Rpb24gaSh0KXtwLmFwcGx5KHRoaXMpLHQ9dHx8e30sdGhpcy5zcHJpbmdzPVtdLHRoaXMuYm9kaWVzPVtdLHRoaXMuZGlzYWJsZWRCb2R5Q29sbGlzaW9uUGFpcnM9W10sdGhpcy5zb2x2ZXI9dC5zb2x2ZXJ8fG5ldyBuLHRoaXMubmFycm93cGhhc2U9bmV3IG0odGhpcyksdGhpcy5pc2xhbmRNYW5hZ2VyPW5ldyBiLHRoaXMuZ3Jhdml0eT1zLmZyb21WYWx1ZXMoMCwtOS43OCksdC5ncmF2aXR5JiZzLmNvcHkodGhpcy5ncmF2aXR5LHQuZ3Jhdml0eSksdGhpcy5mcmljdGlvbkdyYXZpdHk9cy5sZW5ndGgodGhpcy5ncmF2aXR5KXx8MTAsdGhpcy51c2VXb3JsZEdyYXZpdHlBc0ZyaWN0aW9uR3Jhdml0eT0hMCx0aGlzLnVzZUZyaWN0aW9uR3Jhdml0eU9uWmVyb0dyYXZpdHk9ITAsdGhpcy5icm9hZHBoYXNlPXQuYnJvYWRwaGFzZXx8bmV3IHksdGhpcy5icm9hZHBoYXNlLnNldFdvcmxkKHRoaXMpLHRoaXMuY29uc3RyYWludHM9W10sdGhpcy5kZWZhdWx0TWF0ZXJpYWw9bmV3IGQsdGhpcy5kZWZhdWx0Q29udGFjdE1hdGVyaWFsPW5ldyBmKHRoaXMuZGVmYXVsdE1hdGVyaWFsLHRoaXMuZGVmYXVsdE1hdGVyaWFsKSx0aGlzLmxhc3RUaW1lU3RlcD0xLzYwLHRoaXMuYXBwbHlTcHJpbmdGb3JjZXM9ITAsdGhpcy5hcHBseURhbXBpbmc9ITAsdGhpcy5hcHBseUdyYXZpdHk9ITAsdGhpcy5zb2x2ZUNvbnN0cmFpbnRzPSEwLHRoaXMuY29udGFjdE1hdGVyaWFscz1bXSx0aGlzLnRpbWU9MCx0aGlzLmFjY3VtdWxhdG9yPTAsdGhpcy5zdGVwcGluZz0hMSx0aGlzLmJvZGllc1RvQmVSZW1vdmVkPVtdLHRoaXMuaXNsYW5kU3BsaXQ9dm9pZCAwPT09dC5pc2xhbmRTcGxpdHx8ISF0LmlzbGFuZFNwbGl0LHRoaXMuZW1pdEltcGFjdEV2ZW50PSEwLHRoaXMuX2NvbnN0cmFpbnRJZENvdW50ZXI9MCx0aGlzLl9ib2R5SWRDb3VudGVyPTAsdGhpcy5wb3N0U3RlcEV2ZW50PXt0eXBlOlwicG9zdFN0ZXBcIn0sdGhpcy5hZGRCb2R5RXZlbnQ9e3R5cGU6XCJhZGRCb2R5XCIsYm9keTpudWxsfSx0aGlzLnJlbW92ZUJvZHlFdmVudD17dHlwZTpcInJlbW92ZUJvZHlcIixib2R5Om51bGx9LHRoaXMuYWRkU3ByaW5nRXZlbnQ9e3R5cGU6XCJhZGRTcHJpbmdcIixzcHJpbmc6bnVsbH0sdGhpcy5pbXBhY3RFdmVudD17dHlwZTpcImltcGFjdFwiLGJvZHlBOm51bGwsYm9keUI6bnVsbCxzaGFwZUE6bnVsbCxzaGFwZUI6bnVsbCxjb250YWN0RXF1YXRpb246bnVsbH0sdGhpcy5wb3N0QnJvYWRwaGFzZUV2ZW50PXt0eXBlOlwicG9zdEJyb2FkcGhhc2VcIixwYWlyczpudWxsfSx0aGlzLnNsZWVwTW9kZT1pLk5PX1NMRUVQSU5HLHRoaXMuYmVnaW5Db250YWN0RXZlbnQ9e3R5cGU6XCJiZWdpbkNvbnRhY3RcIixzaGFwZUE6bnVsbCxzaGFwZUI6bnVsbCxib2R5QTpudWxsLGJvZHlCOm51bGwsY29udGFjdEVxdWF0aW9uczpbXX0sdGhpcy5lbmRDb250YWN0RXZlbnQ9e3R5cGU6XCJlbmRDb250YWN0XCIsc2hhcGVBOm51bGwsc2hhcGVCOm51bGwsYm9keUE6bnVsbCxib2R5QjpudWxsfSx0aGlzLnByZVNvbHZlRXZlbnQ9e3R5cGU6XCJwcmVTb2x2ZVwiLGNvbnRhY3RFcXVhdGlvbnM6bnVsbCxmcmljdGlvbkVxdWF0aW9uczpudWxsfSx0aGlzLm92ZXJsYXBwaW5nU2hhcGVzTGFzdFN0YXRlPXtrZXlzOltdfSx0aGlzLm92ZXJsYXBwaW5nU2hhcGVzQ3VycmVudFN0YXRlPXtrZXlzOltdfSx0aGlzLm92ZXJsYXBLZWVwZXI9bmV3IEF9dmFyIG49dChcIi4uL3NvbHZlci9HU1NvbHZlclwiKSxzPSh0KFwiLi4vc29sdmVyL1NvbHZlclwiKSx0KFwiLi4vY29sbGlzaW9uL1JheVwiKSx0KFwiLi4vbWF0aC92ZWMyXCIpKSxhPXQoXCIuLi9zaGFwZXMvQ2lyY2xlXCIpLHI9dChcIi4uL3NoYXBlcy9Db252ZXhcIiksYz0odChcIi4uL3NoYXBlcy9MaW5lXCIpLHQoXCIuLi9zaGFwZXMvUGxhbmVcIikpLGg9dChcIi4uL3NoYXBlcy9DYXBzdWxlXCIpLGw9dChcIi4uL3NoYXBlcy9QYXJ0aWNsZVwiKSxwPXQoXCIuLi9ldmVudHMvRXZlbnRFbWl0dGVyXCIpLHU9dChcIi4uL29iamVjdHMvQm9keVwiKSxkPSh0KFwiLi4vc2hhcGVzL1NoYXBlXCIpLHQoXCIuLi9vYmplY3RzL0xpbmVhclNwcmluZ1wiKSx0KFwiLi4vbWF0ZXJpYWwvTWF0ZXJpYWxcIikpLGY9dChcIi4uL21hdGVyaWFsL0NvbnRhY3RNYXRlcmlhbFwiKSx2PSh0KFwiLi4vY29uc3RyYWludHMvRGlzdGFuY2VDb25zdHJhaW50XCIpLHQoXCIuLi9jb25zdHJhaW50cy9Db25zdHJhaW50XCIpLHQoXCIuLi9jb25zdHJhaW50cy9Mb2NrQ29uc3RyYWludFwiKSx0KFwiLi4vY29uc3RyYWludHMvUmV2b2x1dGVDb25zdHJhaW50XCIpLHQoXCIuLi9jb25zdHJhaW50cy9QcmlzbWF0aWNDb25zdHJhaW50XCIpLHQoXCIuLi9jb25zdHJhaW50cy9HZWFyQ29uc3RyYWludFwiKSx0KFwiLi4vLi4vcGFja2FnZS5qc29uXCIpLHQoXCIuLi9jb2xsaXNpb24vQnJvYWRwaGFzZVwiKSx0KFwiLi4vY29sbGlzaW9uL0FBQkJcIikpLHk9dChcIi4uL2NvbGxpc2lvbi9TQVBCcm9hZHBoYXNlXCIpLG09dChcIi4uL2NvbGxpc2lvbi9OYXJyb3dwaGFzZVwiKSxnPXQoXCIuLi91dGlscy9VdGlsc1wiKSxBPXQoXCIuLi91dGlscy9PdmVybGFwS2VlcGVyXCIpLGI9dChcIi4vSXNsYW5kTWFuYWdlclwiKTt0KFwiLi4vb2JqZWN0cy9Sb3RhdGlvbmFsU3ByaW5nXCIpO2UuZXhwb3J0cz1pLGkucHJvdG90eXBlPW5ldyBPYmplY3QocC5wcm90b3R5cGUpLGkucHJvdG90eXBlLmNvbnN0cnVjdG9yPWksaS5OT19TTEVFUElORz0xLGkuQk9EWV9TTEVFUElORz0yLGkuSVNMQU5EX1NMRUVQSU5HPTQsaS5wcm90b3R5cGUuYWRkQ29uc3RyYWludD1mdW5jdGlvbih0KXt0aGlzLmNvbnN0cmFpbnRzLnB1c2godCl9LGkucHJvdG90eXBlLmFkZENvbnRhY3RNYXRlcmlhbD1mdW5jdGlvbih0KXt0aGlzLmNvbnRhY3RNYXRlcmlhbHMucHVzaCh0KX0saS5wcm90b3R5cGUucmVtb3ZlQ29udGFjdE1hdGVyaWFsPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuY29udGFjdE1hdGVyaWFscy5pbmRleE9mKHQpOy0xIT09ZSYmZy5zcGxpY2UodGhpcy5jb250YWN0TWF0ZXJpYWxzLGUsMSl9LGkucHJvdG90eXBlLmdldENvbnRhY3RNYXRlcmlhbD1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbz10aGlzLmNvbnRhY3RNYXRlcmlhbHMsaT0wLG49by5sZW5ndGg7aSE9PW47aSsrKXt2YXIgcz1vW2ldO2lmKHMubWF0ZXJpYWxBLmlkPT09dC5pZCYmcy5tYXRlcmlhbEIuaWQ9PT1lLmlkfHxzLm1hdGVyaWFsQS5pZD09PWUuaWQmJnMubWF0ZXJpYWxCLmlkPT09dC5pZClyZXR1cm4gc31yZXR1cm4hMX0saS5wcm90b3R5cGUucmVtb3ZlQ29uc3RyYWludD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmNvbnN0cmFpbnRzLmluZGV4T2YodCk7LTEhPT1lJiZnLnNwbGljZSh0aGlzLmNvbnN0cmFpbnRzLGUsMSl9O3MuY3JlYXRlKCkscy5jcmVhdGUoKSxzLmNyZWF0ZSgpLHMuY3JlYXRlKCkscy5jcmVhdGUoKSxzLmNyZWF0ZSgpO3ZhciBFPXMuY3JlYXRlKCksQj1zLmZyb21WYWx1ZXMoMCwwKSxxPXMuZnJvbVZhbHVlcygwLDApO3MuZnJvbVZhbHVlcygwLDApLHMuZnJvbVZhbHVlcygwLDApO2kucHJvdG90eXBlLnN0ZXA9ZnVuY3Rpb24odCxlLG8pe2lmKG89b3x8MTAsMD09PShlPWV8fDApKXRoaXMuaW50ZXJuYWxTdGVwKHQpLHRoaXMudGltZSs9dDtlbHNle3RoaXMuYWNjdW11bGF0b3IrPWU7Zm9yKHZhciBpPTA7dGhpcy5hY2N1bXVsYXRvcj49dCYmaTxvOyl0aGlzLmludGVybmFsU3RlcCh0KSx0aGlzLnRpbWUrPXQsdGhpcy5hY2N1bXVsYXRvci09dCxpKys7Zm9yKHZhciBuPXRoaXMuYWNjdW11bGF0b3IldC90LGE9MDthIT09dGhpcy5ib2RpZXMubGVuZ3RoO2ErKyl7dmFyIHI9dGhpcy5ib2RpZXNbYV07cy5sZXJwKHIuaW50ZXJwb2xhdGVkUG9zaXRpb24sci5wcmV2aW91c1Bvc2l0aW9uLHIucG9zaXRpb24sbiksci5pbnRlcnBvbGF0ZWRBbmdsZT1yLnByZXZpb3VzQW5nbGUrbiooci5hbmdsZS1yLnByZXZpb3VzQW5nbGUpfX19O3ZhciBQPVtdO2kucHJvdG90eXBlLmludGVybmFsU3RlcD1mdW5jdGlvbih0KXt0aGlzLnN0ZXBwaW5nPSEwO3ZhciBlPXRoaXMuc3ByaW5ncy5sZW5ndGgsbz10aGlzLnNwcmluZ3Msbj10aGlzLmJvZGllcyxhPXRoaXMuZ3Jhdml0eSxyPXRoaXMuc29sdmVyLGM9dGhpcy5ib2RpZXMubGVuZ3RoLGg9dGhpcy5icm9hZHBoYXNlLGw9dGhpcy5uYXJyb3dwaGFzZSxwPXRoaXMuY29uc3RyYWludHMsZD1FLGY9KHMuc2NhbGUscy5hZGQpLHY9KHMucm90YXRlLHRoaXMuaXNsYW5kTWFuYWdlcik7aWYodGhpcy5vdmVybGFwS2VlcGVyLnRpY2soKSx0aGlzLmxhc3RUaW1lU3RlcD10LHRoaXMudXNlV29ybGRHcmF2aXR5QXNGcmljdGlvbkdyYXZpdHkpe3ZhciB5PXMubGVuZ3RoKHRoaXMuZ3Jhdml0eSk7MD09PXkmJnRoaXMudXNlRnJpY3Rpb25HcmF2aXR5T25aZXJvR3Jhdml0eXx8KHRoaXMuZnJpY3Rpb25HcmF2aXR5PXkpfWlmKHRoaXMuYXBwbHlHcmF2aXR5KWZvcihxPTA7cSE9PWM7cSsrKXt2YXIgbT0oQT1uW3FdKS5mb3JjZTtBLnR5cGU9PT11LkRZTkFNSUMmJkEuc2xlZXBTdGF0ZSE9PXUuU0xFRVBJTkcmJihzLnNjYWxlKGQsYSxBLm1hc3MqQS5ncmF2aXR5U2NhbGUpLGYobSxtLGQpKX1pZih0aGlzLmFwcGx5U3ByaW5nRm9yY2VzKWZvcihxPTA7cSE9PWU7cSsrKW9bcV0uYXBwbHlGb3JjZSgpO2lmKHRoaXMuYXBwbHlEYW1waW5nKWZvcihxPTA7cSE9PWM7cSsrKXt2YXIgQT1uW3FdO0EudHlwZT09PXUuRFlOQU1JQyYmQS5hcHBseURhbXBpbmcodCl9Zm9yKHZhciBiPWguZ2V0Q29sbGlzaW9uUGFpcnModGhpcyksQj10aGlzLmRpc2FibGVkQm9keUNvbGxpc2lvblBhaXJzLHE9Qi5sZW5ndGgtMjtxPj0wO3EtPTIpZm9yKFM9Yi5sZW5ndGgtMjtTPj0wO1MtPTIpKEJbcV09PT1iW1NdJiZCW3ErMV09PT1iW1MrMV18fEJbcSsxXT09PWJbU10mJkJbcV09PT1iW1MrMV0pJiZiLnNwbGljZShTLDIpO1g9cC5sZW5ndGg7Zm9yKHE9MDtxIT09WDtxKyspe3ZhciB3PXBbcV07aWYoIXcuY29sbGlkZUNvbm5lY3RlZClmb3IodmFyIFM9Yi5sZW5ndGgtMjtTPj0wO1MtPTIpKHcuYm9keUE9PT1iW1NdJiZ3LmJvZHlCPT09YltTKzFdfHx3LmJvZHlCPT09YltTXSYmdy5ib2R5QT09PWJbUysxXSkmJmIuc3BsaWNlKFMsMil9dGhpcy5wb3N0QnJvYWRwaGFzZUV2ZW50LnBhaXJzPWIsdGhpcy5lbWl0KHRoaXMucG9zdEJyb2FkcGhhc2VFdmVudCksdGhpcy5wb3N0QnJvYWRwaGFzZUV2ZW50LnBhaXJzPW51bGwsbC5yZXNldCh0aGlzKTtmb3IodmFyIHE9MCxDPWIubGVuZ3RoO3EhPT1DO3ErPTIpZm9yKHZhciBMPWJbcV0seD1iW3ErMV0sRj0wLE09TC5zaGFwZXMubGVuZ3RoO0YhPT1NO0YrKylmb3IodmFyIEk9TC5zaGFwZXNbRl0sUj1JLnBvc2l0aW9uLFY9SS5hbmdsZSxUPTAsTj14LnNoYXBlcy5sZW5ndGg7VCE9PU47VCsrKXt2YXIgRz14LnNoYXBlc1tUXSxPPUcucG9zaXRpb24sVT1HLmFuZ2xlLGs9dGhpcy5kZWZhdWx0Q29udGFjdE1hdGVyaWFsO2lmKEkubWF0ZXJpYWwmJkcubWF0ZXJpYWwpe3ZhciBfPXRoaXMuZ2V0Q29udGFjdE1hdGVyaWFsKEkubWF0ZXJpYWwsRy5tYXRlcmlhbCk7XyYmKGs9Xyl9dGhpcy5ydW5OYXJyb3dwaGFzZShsLEwsSSxSLFYseCxHLE8sVSxrLHRoaXMuZnJpY3Rpb25HcmF2aXR5KX1mb3IocT0wO3EhPT1jO3ErKykoej1uW3FdKS5fd2FrZVVwQWZ0ZXJOYXJyb3dwaGFzZSYmKHoud2FrZVVwKCksei5fd2FrZVVwQWZ0ZXJOYXJyb3dwaGFzZT0hMSk7aWYodGhpcy5oYXMoXCJlbmRDb250YWN0XCIpKXt0aGlzLm92ZXJsYXBLZWVwZXIuZ2V0RW5kT3ZlcmxhcHMoUCk7Zm9yKHZhciBEPXRoaXMuZW5kQ29udGFjdEV2ZW50LFQ9UC5sZW5ndGg7VC0tOyl7dmFyIFc9UFtUXTtELnNoYXBlQT1XLnNoYXBlQSxELnNoYXBlQj1XLnNoYXBlQixELmJvZHlBPVcuYm9keUEsRC5ib2R5Qj1XLmJvZHlCLHRoaXMuZW1pdChEKX1QLmxlbmd0aD0wfXZhciBqPXRoaXMucHJlU29sdmVFdmVudDtqLmNvbnRhY3RFcXVhdGlvbnM9bC5jb250YWN0RXF1YXRpb25zLGouZnJpY3Rpb25FcXVhdGlvbnM9bC5mcmljdGlvbkVxdWF0aW9ucyx0aGlzLmVtaXQoaiksai5jb250YWN0RXF1YXRpb25zPWouZnJpY3Rpb25FcXVhdGlvbnM9bnVsbDt2YXIgWD1wLmxlbmd0aDtmb3IocT0wO3EhPT1YO3ErKylwW3FdLnVwZGF0ZSgpO2lmKGwuY29udGFjdEVxdWF0aW9ucy5sZW5ndGh8fGwuZnJpY3Rpb25FcXVhdGlvbnMubGVuZ3RofHxYKWlmKHRoaXMuaXNsYW5kU3BsaXQpe2Zvcih2LmVxdWF0aW9ucy5sZW5ndGg9MCxnLmFwcGVuZEFycmF5KHYuZXF1YXRpb25zLGwuY29udGFjdEVxdWF0aW9ucyksZy5hcHBlbmRBcnJheSh2LmVxdWF0aW9ucyxsLmZyaWN0aW9uRXF1YXRpb25zKSxxPTA7cSE9PVg7cSsrKWcuYXBwZW5kQXJyYXkodi5lcXVhdGlvbnMscFtxXS5lcXVhdGlvbnMpO3Yuc3BsaXQodGhpcyk7Zm9yKHE9MDtxIT09di5pc2xhbmRzLmxlbmd0aDtxKyspKEg9di5pc2xhbmRzW3FdKS5lcXVhdGlvbnMubGVuZ3RoJiZyLnNvbHZlSXNsYW5kKHQsSCl9ZWxzZXtmb3Ioci5hZGRFcXVhdGlvbnMobC5jb250YWN0RXF1YXRpb25zKSxyLmFkZEVxdWF0aW9ucyhsLmZyaWN0aW9uRXF1YXRpb25zKSxxPTA7cSE9PVg7cSsrKXIuYWRkRXF1YXRpb25zKHBbcV0uZXF1YXRpb25zKTt0aGlzLnNvbHZlQ29uc3RyYWludHMmJnIuc29sdmUodCx0aGlzKSxyLnJlbW92ZUFsbEVxdWF0aW9ucygpfWZvcihxPTA7cSE9PWM7cSsrKXt2YXIgej1uW3FdO3ouaW50ZWdyYXRlKHQpfWZvcihxPTA7cSE9PWM7cSsrKW5bcV0uc2V0WmVyb0ZvcmNlKCk7aWYodGhpcy5lbWl0SW1wYWN0RXZlbnQmJnRoaXMuaGFzKFwiaW1wYWN0XCIpKWZvcih2YXIgWT10aGlzLmltcGFjdEV2ZW50LHE9MDtxIT09bC5jb250YWN0RXF1YXRpb25zLmxlbmd0aDtxKyspe3ZhciBLPWwuY29udGFjdEVxdWF0aW9uc1txXTtLLmZpcnN0SW1wYWN0JiYoWS5ib2R5QT1LLmJvZHlBLFkuYm9keUI9Sy5ib2R5QixZLnNoYXBlQT1LLnNoYXBlQSxZLnNoYXBlQj1LLnNoYXBlQixZLmNvbnRhY3RFcXVhdGlvbj1LLHRoaXMuZW1pdChZKSl9aWYodGhpcy5zbGVlcE1vZGU9PT1pLkJPRFlfU0xFRVBJTkcpZm9yKHE9MDtxIT09YztxKyspbltxXS5zbGVlcFRpY2sodGhpcy50aW1lLCExLHQpO2Vsc2UgaWYodGhpcy5zbGVlcE1vZGU9PT1pLklTTEFORF9TTEVFUElORyYmdGhpcy5pc2xhbmRTcGxpdCl7Zm9yKHE9MDtxIT09YztxKyspbltxXS5zbGVlcFRpY2sodGhpcy50aW1lLCEwLHQpO2ZvcihxPTA7cTx0aGlzLmlzbGFuZE1hbmFnZXIuaXNsYW5kcy5sZW5ndGg7cSsrKXt2YXIgSD10aGlzLmlzbGFuZE1hbmFnZXIuaXNsYW5kc1txXTtILndhbnRzVG9TbGVlcCgpJiZILnNsZWVwKCl9fXRoaXMuc3RlcHBpbmc9ITE7Zm9yKHZhciBaPXRoaXMuYm9kaWVzVG9CZVJlbW92ZWQscT0wO3EhPT1aLmxlbmd0aDtxKyspdGhpcy5yZW1vdmVCb2R5KFpbcV0pO1oubGVuZ3RoPTAsdGhpcy5lbWl0KHRoaXMucG9zdFN0ZXBFdmVudCl9LGkucHJvdG90eXBlLnJ1bk5hcnJvd3BoYXNlPWZ1bmN0aW9uKHQsZSxvLGksbixhLHIsYyxoLGwscCl7aWYoMCE9KG8uY29sbGlzaW9uR3JvdXAmci5jb2xsaXNpb25NYXNrKSYmMCE9KHIuY29sbGlzaW9uR3JvdXAmby5jb2xsaXNpb25NYXNrKSl7cy5yb3RhdGUoQixpLGUuYW5nbGUpLHMucm90YXRlKHEsYyxhLmFuZ2xlKSxzLmFkZChCLEIsZS5wb3NpdGlvbikscy5hZGQocSxxLGEucG9zaXRpb24pO3ZhciBkPW4rZS5hbmdsZSxmPWgrYS5hbmdsZTt0LmVuYWJsZUZyaWN0aW9uPWwuZnJpY3Rpb24+MCx0LmZyaWN0aW9uQ29lZmZpY2llbnQ9bC5mcmljdGlvbjt2YXIgdjt2PWUudHlwZT09PXUuU1RBVElDfHxlLnR5cGU9PT11LktJTkVNQVRJQz9hLm1hc3M6YS50eXBlPT09dS5TVEFUSUN8fGEudHlwZT09PXUuS0lORU1BVElDP2UubWFzczplLm1hc3MqYS5tYXNzLyhlLm1hc3MrYS5tYXNzKSx0LnNsaXBGb3JjZT1sLmZyaWN0aW9uKnAqdix0LnJlc3RpdHV0aW9uPWwucmVzdGl0dXRpb24sdC5zdXJmYWNlVmVsb2NpdHk9bC5zdXJmYWNlVmVsb2NpdHksdC5mcmljdGlvblN0aWZmbmVzcz1sLmZyaWN0aW9uU3RpZmZuZXNzLHQuZnJpY3Rpb25SZWxheGF0aW9uPWwuZnJpY3Rpb25SZWxheGF0aW9uLHQuc3RpZmZuZXNzPWwuc3RpZmZuZXNzLHQucmVsYXhhdGlvbj1sLnJlbGF4YXRpb24sdC5jb250YWN0U2tpblNpemU9bC5jb250YWN0U2tpblNpemUsdC5lbmFibGVkRXF1YXRpb25zPWUuY29sbGlzaW9uUmVzcG9uc2UmJmEuY29sbGlzaW9uUmVzcG9uc2UmJm8uY29sbGlzaW9uUmVzcG9uc2UmJnIuY29sbGlzaW9uUmVzcG9uc2U7dmFyIHk9dFtvLnR5cGV8ci50eXBlXSxtPTA7aWYoeSl7dmFyIGc9by5zZW5zb3J8fHIuc2Vuc29yLEE9dC5mcmljdGlvbkVxdWF0aW9ucy5sZW5ndGg7bT1vLnR5cGU8ci50eXBlP3kuY2FsbCh0LGUsbyxCLGQsYSxyLHEsZixnKTp5LmNhbGwodCxhLHIscSxmLGUsbyxCLGQsZyk7dmFyIGI9dC5mcmljdGlvbkVxdWF0aW9ucy5sZW5ndGgtQTtpZihtKXtpZihlLmFsbG93U2xlZXAmJmUudHlwZT09PXUuRFlOQU1JQyYmZS5zbGVlcFN0YXRlPT09dS5TTEVFUElORyYmYS5zbGVlcFN0YXRlPT09dS5BV0FLRSYmYS50eXBlIT09dS5TVEFUSUMmJnMuc3F1YXJlZExlbmd0aChhLnZlbG9jaXR5KStNYXRoLnBvdyhhLmFuZ3VsYXJWZWxvY2l0eSwyKT49MipNYXRoLnBvdyhhLnNsZWVwU3BlZWRMaW1pdCwyKSYmKGUuX3dha2VVcEFmdGVyTmFycm93cGhhc2U9ITApLGEuYWxsb3dTbGVlcCYmYS50eXBlPT09dS5EWU5BTUlDJiZhLnNsZWVwU3RhdGU9PT11LlNMRUVQSU5HJiZlLnNsZWVwU3RhdGU9PT11LkFXQUtFJiZlLnR5cGUhPT11LlNUQVRJQyYmcy5zcXVhcmVkTGVuZ3RoKGUudmVsb2NpdHkpK01hdGgucG93KGUuYW5ndWxhclZlbG9jaXR5LDIpPj0yKk1hdGgucG93KGUuc2xlZXBTcGVlZExpbWl0LDIpJiYoYS5fd2FrZVVwQWZ0ZXJOYXJyb3dwaGFzZT0hMCksdGhpcy5vdmVybGFwS2VlcGVyLnNldE92ZXJsYXBwaW5nKGUsbyxhLHIpLHRoaXMuaGFzKFwiYmVnaW5Db250YWN0XCIpJiZ0aGlzLm92ZXJsYXBLZWVwZXIuaXNOZXdPdmVybGFwKG8scikpe3ZhciBFPXRoaXMuYmVnaW5Db250YWN0RXZlbnQ7aWYoRS5zaGFwZUE9byxFLnNoYXBlQj1yLEUuYm9keUE9ZSxFLmJvZHlCPWEsRS5jb250YWN0RXF1YXRpb25zLmxlbmd0aD0wLFwibnVtYmVyXCI9PXR5cGVvZiBtKWZvcihQPXQuY29udGFjdEVxdWF0aW9ucy5sZW5ndGgtbTtQPHQuY29udGFjdEVxdWF0aW9ucy5sZW5ndGg7UCsrKUUuY29udGFjdEVxdWF0aW9ucy5wdXNoKHQuY29udGFjdEVxdWF0aW9uc1tQXSk7dGhpcy5lbWl0KEUpfWlmKFwibnVtYmVyXCI9PXR5cGVvZiBtJiZiPjEpZm9yKHZhciBQPXQuZnJpY3Rpb25FcXVhdGlvbnMubGVuZ3RoLWI7UDx0LmZyaWN0aW9uRXF1YXRpb25zLmxlbmd0aDtQKyspe3ZhciB3PXQuZnJpY3Rpb25FcXVhdGlvbnNbUF07dy5zZXRTbGlwRm9yY2Uody5nZXRTbGlwRm9yY2UoKS9iKX19fX19LGkucHJvdG90eXBlLmFkZFNwcmluZz1mdW5jdGlvbih0KXt0aGlzLnNwcmluZ3MucHVzaCh0KTt2YXIgZT10aGlzLmFkZFNwcmluZ0V2ZW50O2Uuc3ByaW5nPXQsdGhpcy5lbWl0KGUpLGUuc3ByaW5nPW51bGx9LGkucHJvdG90eXBlLnJlbW92ZVNwcmluZz1mdW5jdGlvbih0KXt2YXIgZT10aGlzLnNwcmluZ3MuaW5kZXhPZih0KTstMSE9PWUmJmcuc3BsaWNlKHRoaXMuc3ByaW5ncyxlLDEpfSxpLnByb3RvdHlwZS5hZGRCb2R5PWZ1bmN0aW9uKHQpe2lmKC0xPT09dGhpcy5ib2RpZXMuaW5kZXhPZih0KSl7dGhpcy5ib2RpZXMucHVzaCh0KSx0LndvcmxkPXRoaXM7dmFyIGU9dGhpcy5hZGRCb2R5RXZlbnQ7ZS5ib2R5PXQsdGhpcy5lbWl0KGUpLGUuYm9keT1udWxsfX0saS5wcm90b3R5cGUucmVtb3ZlQm9keT1mdW5jdGlvbih0KXtpZih0aGlzLnN0ZXBwaW5nKXRoaXMuYm9kaWVzVG9CZVJlbW92ZWQucHVzaCh0KTtlbHNle3Qud29ybGQ9bnVsbDt2YXIgZT10aGlzLmJvZGllcy5pbmRleE9mKHQpOy0xIT09ZSYmKGcuc3BsaWNlKHRoaXMuYm9kaWVzLGUsMSksdGhpcy5yZW1vdmVCb2R5RXZlbnQuYm9keT10LHQucmVzZXRDb25zdHJhaW50VmVsb2NpdHkoKSx0aGlzLmVtaXQodGhpcy5yZW1vdmVCb2R5RXZlbnQpLHRoaXMucmVtb3ZlQm9keUV2ZW50LmJvZHk9bnVsbCl9fSxpLnByb3RvdHlwZS5nZXRCb2R5QnlJZD1mdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy5ib2RpZXMsbz0wO288ZS5sZW5ndGg7bysrKXt2YXIgaT1lW29dO2lmKGkuaWQ9PT10KXJldHVybiBpfXJldHVybiExfSxpLnByb3RvdHlwZS5kaXNhYmxlQm9keUNvbGxpc2lvbj1mdW5jdGlvbih0LGUpe3RoaXMuZGlzYWJsZWRCb2R5Q29sbGlzaW9uUGFpcnMucHVzaCh0LGUpfSxpLnByb3RvdHlwZS5lbmFibGVCb2R5Q29sbGlzaW9uPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBvPXRoaXMuZGlzYWJsZWRCb2R5Q29sbGlzaW9uUGFpcnMsaT0wO2k8by5sZW5ndGg7aSs9MilpZihvW2ldPT09dCYmb1tpKzFdPT09ZXx8b1tpKzFdPT09dCYmb1tpXT09PWUpcmV0dXJuIHZvaWQgby5zcGxpY2UoaSwyKX0saS5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXt0aGlzLnRpbWU9MCx0aGlzLnNvbHZlciYmdGhpcy5zb2x2ZXIuZXF1YXRpb25zLmxlbmd0aCYmdGhpcy5zb2x2ZXIucmVtb3ZlQWxsRXF1YXRpb25zKCk7Zm9yKHZhciB0PXRoaXMuY29uc3RyYWludHMsZT10Lmxlbmd0aC0xO2U+PTA7ZS0tKXRoaXMucmVtb3ZlQ29uc3RyYWludCh0W2VdKTtmb3IodmFyIG89dGhpcy5ib2RpZXMsZT1vLmxlbmd0aC0xO2U+PTA7ZS0tKXRoaXMucmVtb3ZlQm9keShvW2VdKTtmb3IodmFyIG49dGhpcy5zcHJpbmdzLGU9bi5sZW5ndGgtMTtlPj0wO2UtLSl0aGlzLnJlbW92ZVNwcmluZyhuW2VdKTtmb3IodmFyIHM9dGhpcy5jb250YWN0TWF0ZXJpYWxzLGU9cy5sZW5ndGgtMTtlPj0wO2UtLSl0aGlzLnJlbW92ZUNvbnRhY3RNYXRlcmlhbChzW2VdKTtpLmFwcGx5KHRoaXMpfTt2YXIgdz1zLmNyZWF0ZSgpLFM9KHMuZnJvbVZhbHVlcygwLDApLHMuZnJvbVZhbHVlcygwLDApKTtpLnByb3RvdHlwZS5oaXRUZXN0PWZ1bmN0aW9uKHQsZSxvKXtvPW98fDA7dmFyIGk9bmV3IHUoe3Bvc2l0aW9uOnR9KSxuPW5ldyBsLHA9dCxkPXcsZj1TO2kuYWRkU2hhcGUobik7Zm9yKHZhciB2PXRoaXMubmFycm93cGhhc2UseT1bXSxtPTAsZz1lLmxlbmd0aDttIT09ZzttKyspZm9yKHZhciBBPWVbbV0sYj0wLEU9QS5zaGFwZXMubGVuZ3RoO2IhPT1FO2IrKyl7dmFyIEI9QS5zaGFwZXNbYl07cy5yb3RhdGUoZCxCLnBvc2l0aW9uLEEuYW5nbGUpLHMuYWRkKGQsZCxBLnBvc2l0aW9uKTt2YXIgcT1CLmFuZ2xlK0EuYW5nbGU7KEIgaW5zdGFuY2VvZiBhJiZ2LmNpcmNsZVBhcnRpY2xlKEEsQixkLHEsaSxuLHAsMCwhMCl8fEIgaW5zdGFuY2VvZiByJiZ2LnBhcnRpY2xlQ29udmV4KGksbixwLDAsQSxCLGQscSwhMCl8fEIgaW5zdGFuY2VvZiBjJiZ2LnBhcnRpY2xlUGxhbmUoaSxuLHAsMCxBLEIsZCxxLCEwKXx8QiBpbnN0YW5jZW9mIGgmJnYucGFydGljbGVDYXBzdWxlKGksbixwLDAsQSxCLGQscSwhMCl8fEIgaW5zdGFuY2VvZiBsJiZzLnNxdWFyZWRMZW5ndGgocy5zdWIoZixkLHQpKTxvKm8pJiZ5LnB1c2goQSl9cmV0dXJuIHl9LGkucHJvdG90eXBlLnNldEdsb2JhbFN0aWZmbmVzcz1mdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy5jb25zdHJhaW50cyxvPTA7byE9PWUubGVuZ3RoO28rKylmb3IodmFyIGk9ZVtvXSxuPTA7biE9PWkuZXF1YXRpb25zLmxlbmd0aDtuKyspe3ZhciBzPWkuZXF1YXRpb25zW25dO3Muc3RpZmZuZXNzPXQscy5uZWVkc1VwZGF0ZT0hMH1mb3IodmFyIGE9dGhpcy5jb250YWN0TWF0ZXJpYWxzLG89MDtvIT09YS5sZW5ndGg7bysrKShpPWFbb10pLnN0aWZmbmVzcz1pLmZyaWN0aW9uU3RpZmZuZXNzPXQ7KGk9dGhpcy5kZWZhdWx0Q29udGFjdE1hdGVyaWFsKS5zdGlmZm5lc3M9aS5mcmljdGlvblN0aWZmbmVzcz10fSxpLnByb3RvdHlwZS5zZXRHbG9iYWxSZWxheGF0aW9uPWZ1bmN0aW9uKHQpe2ZvcihuPTA7biE9PXRoaXMuY29uc3RyYWludHMubGVuZ3RoO24rKylmb3IodmFyIGU9dGhpcy5jb25zdHJhaW50c1tuXSxvPTA7byE9PWUuZXF1YXRpb25zLmxlbmd0aDtvKyspe3ZhciBpPWUuZXF1YXRpb25zW29dO2kucmVsYXhhdGlvbj10LGkubmVlZHNVcGRhdGU9ITB9Zm9yKHZhciBuPTA7biE9PXRoaXMuY29udGFjdE1hdGVyaWFscy5sZW5ndGg7bisrKShlPXRoaXMuY29udGFjdE1hdGVyaWFsc1tuXSkucmVsYXhhdGlvbj1lLmZyaWN0aW9uUmVsYXhhdGlvbj10OyhlPXRoaXMuZGVmYXVsdENvbnRhY3RNYXRlcmlhbCkucmVsYXhhdGlvbj1lLmZyaWN0aW9uUmVsYXhhdGlvbj10fTt2YXIgQz1uZXcgdixMPVtdO2kucHJvdG90eXBlLnJheWNhc3Q9ZnVuY3Rpb24odCxlKXtyZXR1cm4gZS5nZXRBQUJCKEMpLHRoaXMuYnJvYWRwaGFzZS5hYWJiUXVlcnkodGhpcyxDLEwpLGUuaW50ZXJzZWN0Qm9kaWVzKHQsTCksTC5sZW5ndGg9MCx0Lmhhc0hpdCgpfX0se1wiLi4vLi4vcGFja2FnZS5qc29uXCI6NixcIi4uL2NvbGxpc2lvbi9BQUJCXCI6NyxcIi4uL2NvbGxpc2lvbi9Ccm9hZHBoYXNlXCI6OCxcIi4uL2NvbGxpc2lvbi9OYXJyb3dwaGFzZVwiOjEwLFwiLi4vY29sbGlzaW9uL1JheVwiOjExLFwiLi4vY29sbGlzaW9uL1NBUEJyb2FkcGhhc2VcIjoxMyxcIi4uL2NvbnN0cmFpbnRzL0NvbnN0cmFpbnRcIjoxNCxcIi4uL2NvbnN0cmFpbnRzL0Rpc3RhbmNlQ29uc3RyYWludFwiOjE1LFwiLi4vY29uc3RyYWludHMvR2VhckNvbnN0cmFpbnRcIjoxNixcIi4uL2NvbnN0cmFpbnRzL0xvY2tDb25zdHJhaW50XCI6MTcsXCIuLi9jb25zdHJhaW50cy9QcmlzbWF0aWNDb25zdHJhaW50XCI6MTgsXCIuLi9jb25zdHJhaW50cy9SZXZvbHV0ZUNvbnN0cmFpbnRcIjoxOSxcIi4uL2V2ZW50cy9FdmVudEVtaXR0ZXJcIjoyNixcIi4uL21hdGVyaWFsL0NvbnRhY3RNYXRlcmlhbFwiOjI3LFwiLi4vbWF0ZXJpYWwvTWF0ZXJpYWxcIjoyOCxcIi4uL21hdGgvdmVjMlwiOjMwLFwiLi4vb2JqZWN0cy9Cb2R5XCI6MzEsXCIuLi9vYmplY3RzL0xpbmVhclNwcmluZ1wiOjMyLFwiLi4vb2JqZWN0cy9Sb3RhdGlvbmFsU3ByaW5nXCI6MzMsXCIuLi9zaGFwZXMvQ2Fwc3VsZVwiOjM4LFwiLi4vc2hhcGVzL0NpcmNsZVwiOjM5LFwiLi4vc2hhcGVzL0NvbnZleFwiOjQwLFwiLi4vc2hhcGVzL0xpbmVcIjo0MixcIi4uL3NoYXBlcy9QYXJ0aWNsZVwiOjQzLFwiLi4vc2hhcGVzL1BsYW5lXCI6NDQsXCIuLi9zaGFwZXMvU2hhcGVcIjo0NSxcIi4uL3NvbHZlci9HU1NvbHZlclwiOjQ2LFwiLi4vc29sdmVyL1NvbHZlclwiOjQ3LFwiLi4vdXRpbHMvT3ZlcmxhcEtlZXBlclwiOjUyLFwiLi4vdXRpbHMvVXRpbHNcIjo1NyxcIi4vSXNsYW5kTWFuYWdlclwiOjU5fV19LHt9LFszNl0pKDM2KX0pO1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1wMi5tYXBcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9waGFzZXItY2UvYnVpbGQvY3VzdG9tL3AyLm1pbi5qc1xuLy8gbW9kdWxlIGlkID0gOFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvKiBQaGFzZXIgdjIuOS4yIC0gaHR0cDovL3BoYXNlci5pbyAtIEBwaG90b25zdG9ybSAtIChjKSAyMDE2IFBob3RvbiBTdG9ybSBMdGQuICovXHJcblxyXG4oZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7dGhpcy5fc2NhbGVGYWN0b3I9dCx0aGlzLl9kZWx0YU1vZGU9ZSx0aGlzLm9yaWdpbmFsRXZlbnQ9bnVsbH12YXIgZT10aGlzLGk9aXx8e1ZFUlNJT046XCIyLjkuMlwiLEdBTUVTOltdLEFVVE86MCxDQU5WQVM6MSxXRUJHTDoyLEhFQURMRVNTOjMsV0VCR0xfTVVMVEk6NCxOT05FOjAsTEVGVDoxLFJJR0hUOjIsVVA6MyxET1dOOjQsU1BSSVRFOjAsQlVUVE9OOjEsSU1BR0U6MixHUkFQSElDUzozLFRFWFQ6NCxUSUxFU1BSSVRFOjUsQklUTUFQVEVYVDo2LEdST1VQOjcsUkVOREVSVEVYVFVSRTo4LFRJTEVNQVA6OSxUSUxFTUFQTEFZRVI6MTAsRU1JVFRFUjoxMSxQT0xZR09OOjEyLEJJVE1BUERBVEE6MTMsQ0FOVkFTX0ZJTFRFUjoxNCxXRUJHTF9GSUxURVI6MTUsRUxMSVBTRToxNixTUFJJVEVCQVRDSDoxNyxSRVRST0ZPTlQ6MTgsUE9JTlRFUjoxOSxST1BFOjIwLENJUkNMRToyMSxSRUNUQU5HTEU6MjIsTElORToyMyxNQVRSSVg6MjQsUE9JTlQ6MjUsUk9VTkRFRFJFQ1RBTkdMRToyNixDUkVBVFVSRToyNyxWSURFTzoyOCxQRU5ESU5HX0FUTEFTOi0xLEhPUklaT05UQUw6MCxWRVJUSUNBTDoxLExBTkRTQ0FQRTowLFBPUlRSQUlUOjEsQU5HTEVfVVA6MjcwLEFOR0xFX0RPV046OTAsQU5HTEVfTEVGVDoxODAsQU5HTEVfUklHSFQ6MCxBTkdMRV9OT1JUSF9FQVNUOjMxNSxBTkdMRV9OT1JUSF9XRVNUOjIyNSxBTkdMRV9TT1VUSF9FQVNUOjQ1LEFOR0xFX1NPVVRIX1dFU1Q6MTM1LFRPUF9MRUZUOjAsVE9QX0NFTlRFUjoxLFRPUF9SSUdIVDoyLExFRlRfVE9QOjMsTEVGVF9DRU5URVI6NCxMRUZUX0JPVFRPTTo1LENFTlRFUjo2LFJJR0hUX1RPUDo3LFJJR0hUX0NFTlRFUjo4LFJJR0hUX0JPVFRPTTo5LEJPVFRPTV9MRUZUOjEwLEJPVFRPTV9DRU5URVI6MTEsQk9UVE9NX1JJR0hUOjEyLGJsZW5kTW9kZXM6e05PUk1BTDowLEFERDoxLE1VTFRJUExZOjIsU0NSRUVOOjMsT1ZFUkxBWTo0LERBUktFTjo1LExJR0hURU46NixDT0xPUl9ET0RHRTo3LENPTE9SX0JVUk46OCxIQVJEX0xJR0hUOjksU09GVF9MSUdIVDoxMCxESUZGRVJFTkNFOjExLEVYQ0xVU0lPTjoxMixIVUU6MTMsU0FUVVJBVElPTjoxNCxDT0xPUjoxNSxMVU1JTk9TSVRZOjE2fSxzY2FsZU1vZGVzOntERUZBVUxUOjAsTElORUFSOjAsTkVBUkVTVDoxfSxQSVhJOlBJWEl8fHt9LF9VSUQ6MH07aWYoTWF0aC50cnVuY3x8KE1hdGgudHJ1bmM9ZnVuY3Rpb24odCl7cmV0dXJuIHQ8MD9NYXRoLmNlaWwodCk6TWF0aC5mbG9vcih0KX0pLEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kfHwoRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQ9ZnVuY3Rpb24oKXt2YXIgdD1BcnJheS5wcm90b3R5cGUuc2xpY2U7cmV0dXJuIGZ1bmN0aW9uKGUpe2Z1bmN0aW9uIGkoKXt2YXIgbz1uLmNvbmNhdCh0LmNhbGwoYXJndW1lbnRzKSk7cy5hcHBseSh0aGlzIGluc3RhbmNlb2YgaT90aGlzOmUsbyl9dmFyIHM9dGhpcyxuPXQuY2FsbChhcmd1bWVudHMsMSk7aWYoXCJmdW5jdGlvblwiIT10eXBlb2Ygcyl0aHJvdyBuZXcgVHlwZUVycm9yO3JldHVybiBpLnByb3RvdHlwZT1mdW5jdGlvbiB0KGUpe2lmKGUmJih0LnByb3RvdHlwZT1lKSwhKHRoaXMgaW5zdGFuY2VvZiB0KSlyZXR1cm4gbmV3IHR9KHMucHJvdG90eXBlKSxpfX0oKSksQXJyYXkuaXNBcnJheXx8KEFycmF5LmlzQXJyYXk9ZnVuY3Rpb24odCl7cmV0dXJuXCJbb2JqZWN0IEFycmF5XVwiPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpfSksQXJyYXkucHJvdG90eXBlLmZvckVhY2h8fChBcnJheS5wcm90b3R5cGUuZm9yRWFjaD1mdW5jdGlvbih0KXtcInVzZSBzdHJpY3RcIjtpZih2b2lkIDA9PT10aGlzfHxudWxsPT09dGhpcyl0aHJvdyBuZXcgVHlwZUVycm9yO3ZhciBlPU9iamVjdCh0aGlzKSxpPWUubGVuZ3RoPj4+MDtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0KXRocm93IG5ldyBUeXBlRXJyb3I7Zm9yKHZhciBzPWFyZ3VtZW50cy5sZW5ndGg+PTI/YXJndW1lbnRzWzFdOnZvaWQgMCxuPTA7bjxpO24rKyluIGluIGUmJnQuY2FsbChzLGVbbl0sbixlKX0pLFwiZnVuY3Rpb25cIiE9dHlwZW9mIHdpbmRvdy5VaW50MzJBcnJheSYmXCJvYmplY3RcIiE9dHlwZW9mIHdpbmRvdy5VaW50MzJBcnJheSl7dmFyIHM9ZnVuY3Rpb24odCl7dmFyIGU9bmV3IEFycmF5O3dpbmRvd1t0XT1mdW5jdGlvbih0KXtpZihcIm51bWJlclwiPT10eXBlb2YgdCl7QXJyYXkuY2FsbCh0aGlzLHQpLHRoaXMubGVuZ3RoPXQ7Zm9yKGU9MDtlPHRoaXMubGVuZ3RoO2UrKyl0aGlzW2VdPTB9ZWxzZXtBcnJheS5jYWxsKHRoaXMsdC5sZW5ndGgpLHRoaXMubGVuZ3RoPXQubGVuZ3RoO2Zvcih2YXIgZT0wO2U8dGhpcy5sZW5ndGg7ZSsrKXRoaXNbZV09dFtlXX19LHdpbmRvd1t0XS5wcm90b3R5cGU9ZSx3aW5kb3dbdF0uY29uc3RydWN0b3I9d2luZG93W3RdfTtzKFwiRmxvYXQzMkFycmF5XCIpLHMoXCJVaW50MzJBcnJheVwiKSxzKFwiVWludDE2QXJyYXlcIikscyhcIkludDE2QXJyYXlcIikscyhcIkFycmF5QnVmZmVyXCIpfXdpbmRvdy5jb25zb2xlfHwod2luZG93LmNvbnNvbGU9e30sd2luZG93LmNvbnNvbGUubG9nPXdpbmRvdy5jb25zb2xlLmFzc2VydD1mdW5jdGlvbigpe30sd2luZG93LmNvbnNvbGUud2Fybj13aW5kb3cuY29uc29sZS5hc3NlcnQ9ZnVuY3Rpb24oKXt9KSxPYmplY3QuYXNzaWdufHwoT2JqZWN0LmFzc2lnbj1mdW5jdGlvbih0LGUpe1widXNlIHN0cmljdFwiO2lmKG51bGw9PXQpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjb252ZXJ0IHVuZGVmaW5lZCBvciBudWxsIHRvIG9iamVjdFwiKTtmb3IodmFyIGk9T2JqZWN0KHQpLHM9T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSxuPTE7bjxhcmd1bWVudHMubGVuZ3RoO24rKyl7dmFyIG89YXJndW1lbnRzW25dO2lmKG51bGwhPW8pZm9yKHZhciByIGluIG8pcy5jYWxsKG8scikmJihpW3JdPW9bcl0pfXJldHVybiBpfSksaS5VdGlscz17cmV2ZXJzZVN0cmluZzpmdW5jdGlvbih0KXtyZXR1cm4gdC5zcGxpdChcIlwiKS5yZXZlcnNlKCkuam9pbihcIlwiKX0sZ2V0UHJvcGVydHk6ZnVuY3Rpb24odCxlKXtmb3IodmFyIGk9ZS5zcGxpdChcIi5cIikscz1pLmxlbmd0aCxuPTAsbz10O248czspe3ZhciByPWlbbl07aWYobnVsbD09bylyZXR1cm47bz1vW3JdLG4rK31yZXR1cm4gb30sc2V0UHJvcGVydGllczpmdW5jdGlvbih0LGUpe2Zvcih2YXIgaSBpbiBlKXRoaXMuc2V0UHJvcGVydHkodCxpLGVbaV0pO3JldHVybiB0fSxzZXRQcm9wZXJ0eTpmdW5jdGlvbih0LGUsaSl7dmFyIHM9ZS5zcGxpdChcIi5cIik7c3dpdGNoKHMubGVuZ3RoKXtjYXNlIDE6dFtlXT1pO2JyZWFrO2Nhc2UgMjp0W3NbMF1dW3NbMV1dPWk7YnJlYWs7Y2FzZSAzOnRbc1swXV1bc1sxXV1bc1syXV09aTticmVhaztjYXNlIDQ6dFtzWzBdXVtzWzFdXVtzWzJdXVtzWzNdXT1pO2JyZWFrO2RlZmF1bHQ6dGhpcy5fc2V0UHJvcGVydHkodCxlLGkpfX0sX3NldFByb3BlcnR5OmZ1bmN0aW9uKHQsZSxpKXt2YXIgcz1lLnNwbGl0KFwiLlwiKSxuPXMubGVuZ3RoLG89MCxyPXQsYT1zWzBdO2lmKDE9PT1uKXRbZV09aTtlbHNle2Zvcig7bzxuLTE7KXI9clthXSxhPXNbKytvXTtyW2FdPWl9cmV0dXJuIHR9LGNoYW5jZVJvbGw6ZnVuY3Rpb24odCl7cmV0dXJuIHZvaWQgMD09PXQmJih0PTUwKSx0PjAmJjEwMCpNYXRoLnJhbmRvbSgpPD10fSxyYW5kb21DaG9pY2U6ZnVuY3Rpb24odCxlKXtyZXR1cm4gTWF0aC5yYW5kb20oKTwuNT90OmV9LHBhcnNlRGltZW5zaW9uOmZ1bmN0aW9uKHQsZSl7dmFyIGk9MCxzPTA7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIHQ/XCIlXCI9PT10LnN1YnN0cigtMSk/KGk9cGFyc2VJbnQodCwxMCkvMTAwLHM9MD09PWU/d2luZG93LmlubmVyV2lkdGgqaTp3aW5kb3cuaW5uZXJIZWlnaHQqaSk6cz1wYXJzZUludCh0LDEwKTpzPXQsc30scGFkOmZ1bmN0aW9uKHQsZSxpLHMpe2lmKHZvaWQgMD09PWUpdmFyIGU9MDtpZih2b2lkIDA9PT1pKXZhciBpPVwiIFwiO2lmKHZvaWQgMD09PXMpdmFyIHM9Mzt2YXIgbj0wO2lmKGUrMT49KHQ9dC50b1N0cmluZygpKS5sZW5ndGgpc3dpdGNoKHMpe2Nhc2UgMTp0PW5ldyBBcnJheShlKzEtdC5sZW5ndGgpLmpvaW4oaSkrdDticmVhaztjYXNlIDM6dmFyIG89TWF0aC5jZWlsKChuPWUtdC5sZW5ndGgpLzIpLHI9bi1vO3Q9bmV3IEFycmF5KHIrMSkuam9pbihpKSt0K25ldyBBcnJheShvKzEpLmpvaW4oaSk7YnJlYWs7ZGVmYXVsdDp0Kz1uZXcgQXJyYXkoZSsxLXQubGVuZ3RoKS5qb2luKGkpfXJldHVybiB0fSxpc1BsYWluT2JqZWN0OmZ1bmN0aW9uKHQpe2lmKFwib2JqZWN0XCIhPXR5cGVvZiB0fHx0Lm5vZGVUeXBlfHx0PT09dC53aW5kb3cpcmV0dXJuITE7dHJ5e2lmKHQuY29uc3RydWN0b3ImJiF7fS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQuY29uc3RydWN0b3IucHJvdG90eXBlLFwiaXNQcm90b3R5cGVPZlwiKSlyZXR1cm4hMX1jYXRjaCh0KXtyZXR1cm4hMX1yZXR1cm4hMH0sZXh0ZW5kOmZ1bmN0aW9uKCl7dmFyIHQsZSxzLG4sbyxyLGE9YXJndW1lbnRzWzBdfHx7fSxoPTEsbD1hcmd1bWVudHMubGVuZ3RoLGM9ITE7Zm9yKFwiYm9vbGVhblwiPT10eXBlb2YgYSYmKGM9YSxhPWFyZ3VtZW50c1sxXXx8e30saD0yKSxsPT09aCYmKGE9dGhpcywtLWgpO2g8bDtoKyspaWYobnVsbCE9KHQ9YXJndW1lbnRzW2hdKSlmb3IoZSBpbiB0KXM9YVtlXSxhIT09KG49dFtlXSkmJihjJiZuJiYoaS5VdGlscy5pc1BsYWluT2JqZWN0KG4pfHwobz1BcnJheS5pc0FycmF5KG4pKSk/KG8/KG89ITEscj1zJiZBcnJheS5pc0FycmF5KHMpP3M6W10pOnI9cyYmaS5VdGlscy5pc1BsYWluT2JqZWN0KHMpP3M6e30sYVtlXT1pLlV0aWxzLmV4dGVuZChjLHIsbikpOnZvaWQgMCE9PW4mJihhW2VdPW4pKTtyZXR1cm4gYX0sbWl4aW5Qcm90b3R5cGU6ZnVuY3Rpb24odCxlLGkpe3ZvaWQgMD09PWkmJihpPSExKTtmb3IodmFyIHM9T2JqZWN0LmtleXMoZSksbj0wO248cy5sZW5ndGg7bisrKXt2YXIgbz1zW25dLHI9ZVtvXTshaSYmbyBpbiB0fHwoIXJ8fFwiZnVuY3Rpb25cIiE9dHlwZW9mIHIuZ2V0JiZcImZ1bmN0aW9uXCIhPXR5cGVvZiByLnNldD90W29dPXI6XCJmdW5jdGlvblwiPT10eXBlb2Ygci5jbG9uZT90W29dPXIuY2xvbmUoKTpPYmplY3QuZGVmaW5lUHJvcGVydHkodCxvLHIpKX19LG1peGluOmZ1bmN0aW9uKHQsZSl7aWYoIXR8fFwib2JqZWN0XCIhPXR5cGVvZiB0KXJldHVybiBlO2Zvcih2YXIgcyBpbiB0KXt2YXIgbj10W3NdO2lmKCFuLmNoaWxkTm9kZXMmJiFuLmNsb25lTm9kZSl7dmFyIG89dHlwZW9mIHRbc107dFtzXSYmXCJvYmplY3RcIj09PW8/dHlwZW9mIGVbc109PT1vP2Vbc109aS5VdGlscy5taXhpbih0W3NdLGVbc10pOmVbc109aS5VdGlscy5taXhpbih0W3NdLG5ldyBuLmNvbnN0cnVjdG9yKTplW3NdPXRbc119fXJldHVybiBlfX0saS5DaXJjbGU9ZnVuY3Rpb24odCxlLHMpe3Q9dHx8MCxlPWV8fDAscz1zfHwwLHRoaXMueD10LHRoaXMueT1lLHRoaXMuX2RpYW1ldGVyPXMsdGhpcy5fcmFkaXVzPTAscz4wJiYodGhpcy5fcmFkaXVzPS41KnMpLHRoaXMudHlwZT1pLkNJUkNMRX0saS5DaXJjbGUucHJvdG90eXBlPXtjaXJjdW1mZXJlbmNlOmZ1bmN0aW9uKCl7cmV0dXJuIE1hdGguUEkqdGhpcy5fcmFkaXVzKjJ9LHJhbmRvbTpmdW5jdGlvbih0KXt2b2lkIDA9PT10JiYodD1uZXcgaS5Qb2ludCk7dmFyIGU9MipNYXRoLlBJKk1hdGgucmFuZG9tKCkscz1NYXRoLnJhbmRvbSgpK01hdGgucmFuZG9tKCksbj1zPjE/Mi1zOnMsbz1uKk1hdGguY29zKGUpLHI9bipNYXRoLnNpbihlKTtyZXR1cm4gdC54PXRoaXMueCtvKnRoaXMucmFkaXVzLHQueT10aGlzLnkrcip0aGlzLnJhZGl1cyx0fSxnZXRCb3VuZHM6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGkuUmVjdGFuZ2xlKHRoaXMueC10aGlzLnJhZGl1cyx0aGlzLnktdGhpcy5yYWRpdXMsdGhpcy5kaWFtZXRlcix0aGlzLmRpYW1ldGVyKX0sc2V0VG86ZnVuY3Rpb24odCxlLGkpe3JldHVybiB0aGlzLng9dCx0aGlzLnk9ZSx0aGlzLl9kaWFtZXRlcj1pLHRoaXMuX3JhZGl1cz0uNSppLHRoaXN9LGNvcHlGcm9tOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnNldFRvKHQueCx0LnksdC5kaWFtZXRlcil9LGNvcHlUbzpmdW5jdGlvbih0KXtyZXR1cm4gdC54PXRoaXMueCx0Lnk9dGhpcy55LHQuZGlhbWV0ZXI9dGhpcy5fZGlhbWV0ZXIsdH0sZGlzdGFuY2U6ZnVuY3Rpb24odCxlKXt2YXIgcz1pLk1hdGguZGlzdGFuY2UodGhpcy54LHRoaXMueSx0LngsdC55KTtyZXR1cm4gZT9NYXRoLnJvdW5kKHMpOnN9LGNsb25lOmZ1bmN0aW9uKHQpe3JldHVybiB2b2lkIDA9PT10fHxudWxsPT09dD90PW5ldyBpLkNpcmNsZSh0aGlzLngsdGhpcy55LHRoaXMuZGlhbWV0ZXIpOnQuc2V0VG8odGhpcy54LHRoaXMueSx0aGlzLmRpYW1ldGVyKSx0fSxjb250YWluczpmdW5jdGlvbih0LGUpe3JldHVybiBpLkNpcmNsZS5jb250YWlucyh0aGlzLHQsZSl9LGNpcmN1bWZlcmVuY2VQb2ludDpmdW5jdGlvbih0LGUscyl7cmV0dXJuIGkuQ2lyY2xlLmNpcmN1bWZlcmVuY2VQb2ludCh0aGlzLHQsZSxzKX0sc2FtcGxlOmZ1bmN0aW9uKHQsZSxzLG4sbyl7dHx8KHQ9NjApLG51bGw9PWUmJihlPTApLG51bGw9PXMmJihzPWkuTWF0aC5QSTIpLG98fChvPVtdKTtmb3IodmFyIHI9MDtyPHQ7KXRoaXMuY2lyY3VtZmVyZW5jZVBvaW50KGkuTWF0aC5saW5lYXIoZSxzLHIvdCksbixvW3JdfHwob1tyXT1uZXcgaS5Qb2ludCkpLHIrPTE7cmV0dXJuIG99LG9mZnNldDpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLngrPXQsdGhpcy55Kz1lLHRoaXN9LG9mZnNldFBvaW50OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLm9mZnNldCh0LngsdC55KX0sdG9TdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm5cIlt7UGhhc2VyLkNpcmNsZSAoeD1cIit0aGlzLngrXCIgeT1cIit0aGlzLnkrXCIgZGlhbWV0ZXI9XCIrdGhpcy5kaWFtZXRlcitcIiByYWRpdXM9XCIrdGhpcy5yYWRpdXMrXCIpfV1cIn19LGkuQ2lyY2xlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1pLkNpcmNsZSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5DaXJjbGUucHJvdG90eXBlLFwiZGlhbWV0ZXJcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RpYW1ldGVyfSxzZXQ6ZnVuY3Rpb24odCl7dD4wJiYodGhpcy5fZGlhbWV0ZXI9dCx0aGlzLl9yYWRpdXM9LjUqdCl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuQ2lyY2xlLnByb3RvdHlwZSxcInJhZGl1c1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmFkaXVzfSxzZXQ6ZnVuY3Rpb24odCl7dD4wJiYodGhpcy5fcmFkaXVzPXQsdGhpcy5fZGlhbWV0ZXI9Mip0KX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5DaXJjbGUucHJvdG90eXBlLFwibGVmdFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy54LXRoaXMuX3JhZGl1c30sc2V0OmZ1bmN0aW9uKHQpe3Q+dGhpcy54Pyh0aGlzLl9yYWRpdXM9MCx0aGlzLl9kaWFtZXRlcj0wKTp0aGlzLnJhZGl1cz10aGlzLngtdH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5DaXJjbGUucHJvdG90eXBlLFwicmlnaHRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMueCt0aGlzLl9yYWRpdXN9LHNldDpmdW5jdGlvbih0KXt0PHRoaXMueD8odGhpcy5fcmFkaXVzPTAsdGhpcy5fZGlhbWV0ZXI9MCk6dGhpcy5yYWRpdXM9dC10aGlzLnh9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuQ2lyY2xlLnByb3RvdHlwZSxcInRvcFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy55LXRoaXMuX3JhZGl1c30sc2V0OmZ1bmN0aW9uKHQpe3Q+dGhpcy55Pyh0aGlzLl9yYWRpdXM9MCx0aGlzLl9kaWFtZXRlcj0wKTp0aGlzLnJhZGl1cz10aGlzLnktdH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5DaXJjbGUucHJvdG90eXBlLFwiYm90dG9tXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnkrdGhpcy5fcmFkaXVzfSxzZXQ6ZnVuY3Rpb24odCl7dDx0aGlzLnk/KHRoaXMuX3JhZGl1cz0wLHRoaXMuX2RpYW1ldGVyPTApOnRoaXMucmFkaXVzPXQtdGhpcy55fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLkNpcmNsZS5wcm90b3R5cGUsXCJhcmVhXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9yYWRpdXM+MD9NYXRoLlBJKnRoaXMuX3JhZGl1cyp0aGlzLl9yYWRpdXM6MH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5DaXJjbGUucHJvdG90eXBlLFwiZW1wdHlcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDA9PT10aGlzLl9kaWFtZXRlcn0sc2V0OmZ1bmN0aW9uKHQpeyEwPT09dCYmdGhpcy5zZXRUbygwLDAsMCl9fSksaS5DaXJjbGUuY29udGFpbnM9ZnVuY3Rpb24odCxlLGkpe3JldHVybiB0LnJhZGl1cz4wJiZlPj10LmxlZnQmJmU8PXQucmlnaHQmJmk+PXQudG9wJiZpPD10LmJvdHRvbSYmKHQueC1lKSoodC54LWUpKyh0LnktaSkqKHQueS1pKTw9dC5yYWRpdXMqdC5yYWRpdXN9LGkuQ2lyY2xlLmVxdWFscz1mdW5jdGlvbih0LGUpe3JldHVybiB0Lng9PT1lLngmJnQueT09PWUueSYmdC5kaWFtZXRlcj09PWUuZGlhbWV0ZXJ9LGkuQ2lyY2xlLmludGVyc2VjdHM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gaS5NYXRoLmRpc3RhbmNlKHQueCx0LnksZS54LGUueSk8PXQucmFkaXVzK2UucmFkaXVzfSxpLkNpcmNsZS5jaXJjdW1mZXJlbmNlUG9pbnQ9ZnVuY3Rpb24odCxlLHMsbil7cmV0dXJuIHZvaWQgMD09PXMmJihzPSExKSx2b2lkIDA9PT1uJiYobj1uZXcgaS5Qb2ludCksITA9PT1zJiYoZT1pLk1hdGguZGVnVG9SYWQoZSkpLG4ueD10LngrdC5yYWRpdXMqTWF0aC5jb3MoZSksbi55PXQueSt0LnJhZGl1cypNYXRoLnNpbihlKSxufSxpLkNpcmNsZS5pbnRlcnNlY3RzUmVjdGFuZ2xlPWZ1bmN0aW9uKHQsZSl7dmFyIGk9TWF0aC5hYnModC54LWUueC1lLmhhbGZXaWR0aCk7aWYoaT5lLmhhbGZXaWR0aCt0LnJhZGl1cylyZXR1cm4hMTt2YXIgcz1NYXRoLmFicyh0LnktZS55LWUuaGFsZkhlaWdodCk7aWYocz5lLmhhbGZIZWlnaHQrdC5yYWRpdXMpcmV0dXJuITE7aWYoaTw9ZS5oYWxmV2lkdGh8fHM8PWUuaGFsZkhlaWdodClyZXR1cm4hMDt2YXIgbj1pLWUuaGFsZldpZHRoLG89cy1lLmhhbGZIZWlnaHQ7cmV0dXJuIG4qbitvKm88PXQucmFkaXVzKnQucmFkaXVzfSxpLkNpcmNsZS5pbnRlcnNlY3RzTGluZT1mdW5jdGlvbih0LGUscyl7dmFyIG49dC54LG89dC55LHI9KGUuZW5kLnktZS5zdGFydC55KS8oZS5lbmQueC1lLnN0YXJ0LngpLGE9ZS5lbmQueS1yKmUuZW5kLngsaD10LnJhZGl1cyxsPXQucmFkaXVzLGM9YStyKm4sdT0obioobCpsKS1yKihoKmgpKihhLW8pK2gqbCpNYXRoLnNxcnQoaCpoKihyKnIpK2wqbC1jKmMtbypvKzIqYypvKSkvKGgqaCoocipyKStsKmwpLGQ9KG4qKGwqbCktciooaCpoKSooYS1vKS1oKmwqTWF0aC5zcXJ0KGgqaCoocipyKStsKmwtYypjLW8qbysyKmMqbykpLyhoKmgqKHIqcikrbCpsKSxwPXIqdSthLGY9cipkK2EsbT1uZXcgaS5Qb2ludCh1LHApLGc9bmV3IGkuUG9pbnQoZCxmKSx5PWUucG9pbnRPblNlZ21lbnQobS54LG0ueSwuMDEpLHY9ZS5wb2ludE9uU2VnbWVudChnLngsZy55LC4wMSk7cmV0dXJuIHkmJnY/IXN8fFttLGddOnk/IXN8fFttXTp2PyFzfHxbZ106ISFzJiZbXX0sUElYSS5DaXJjbGU9aS5DaXJjbGUsaS5FbGxpcHNlPWZ1bmN0aW9uKHQsZSxzLG4pe3Q9dHx8MCxlPWV8fDAscz1zfHwwLG49bnx8MCx0aGlzLng9dCx0aGlzLnk9ZSx0aGlzLndpZHRoPXMsdGhpcy5oZWlnaHQ9bix0aGlzLnR5cGU9aS5FTExJUFNFfSxpLkVsbGlwc2UucHJvdG90eXBlPXtzZXRUbzpmdW5jdGlvbih0LGUsaSxzKXtyZXR1cm4gdGhpcy54PXQsdGhpcy55PWUsdGhpcy53aWR0aD1pLHRoaXMuaGVpZ2h0PXMsdGhpc30sZ2V0Qm91bmRzOmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBpLlJlY3RhbmdsZSh0aGlzLngtdGhpcy53aWR0aCx0aGlzLnktdGhpcy5oZWlnaHQsdGhpcy53aWR0aCx0aGlzLmhlaWdodCl9LGNvcHlGcm9tOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnNldFRvKHQueCx0LnksdC53aWR0aCx0LmhlaWdodCl9LGNvcHlUbzpmdW5jdGlvbih0KXtyZXR1cm4gdC54PXRoaXMueCx0Lnk9dGhpcy55LHQud2lkdGg9dGhpcy53aWR0aCx0LmhlaWdodD10aGlzLmhlaWdodCx0fSxjbG9uZTpmdW5jdGlvbih0KXtyZXR1cm4gdm9pZCAwPT09dHx8bnVsbD09PXQ/dD1uZXcgaS5FbGxpcHNlKHRoaXMueCx0aGlzLnksdGhpcy53aWR0aCx0aGlzLmhlaWdodCk6dC5zZXRUbyh0aGlzLngsdGhpcy55LHRoaXMud2lkdGgsdGhpcy5oZWlnaHQpLHR9LGNvbnRhaW5zOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIGkuRWxsaXBzZS5jb250YWlucyh0aGlzLHQsZSl9LHJhbmRvbTpmdW5jdGlvbih0KXt2b2lkIDA9PT10JiYodD1uZXcgaS5Qb2ludCk7dmFyIGU9TWF0aC5yYW5kb20oKSpNYXRoLlBJKjIscz1NYXRoLnJhbmRvbSgpO3JldHVybiB0Lng9TWF0aC5zcXJ0KHMpKk1hdGguY29zKGUpLHQueT1NYXRoLnNxcnQocykqTWF0aC5zaW4oZSksdC54PXRoaXMueCt0LngqdGhpcy53aWR0aC8yLHQueT10aGlzLnkrdC55KnRoaXMuaGVpZ2h0LzIsdH0sdG9TdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm5cIlt7UGhhc2VyLkVsbGlwc2UgKHg9XCIrdGhpcy54K1wiIHk9XCIrdGhpcy55K1wiIHdpZHRoPVwiK3RoaXMud2lkdGgrXCIgaGVpZ2h0PVwiK3RoaXMuaGVpZ2h0K1wiKX1dXCJ9fSxpLkVsbGlwc2UucHJvdG90eXBlLmNvbnN0cnVjdG9yPWkuRWxsaXBzZSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5FbGxpcHNlLnByb3RvdHlwZSxcImxlZnRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMueH0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMueD10fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLkVsbGlwc2UucHJvdG90eXBlLFwicmlnaHRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMueCt0aGlzLndpZHRofSxzZXQ6ZnVuY3Rpb24odCl7dDx0aGlzLng/dGhpcy53aWR0aD0wOnRoaXMud2lkdGg9dC10aGlzLnh9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuRWxsaXBzZS5wcm90b3R5cGUsXCJ0b3BcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMueX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMueT10fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLkVsbGlwc2UucHJvdG90eXBlLFwiYm90dG9tXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnkrdGhpcy5oZWlnaHR9LHNldDpmdW5jdGlvbih0KXt0PHRoaXMueT90aGlzLmhlaWdodD0wOnRoaXMuaGVpZ2h0PXQtdGhpcy55fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLkVsbGlwc2UucHJvdG90eXBlLFwiZW1wdHlcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDA9PT10aGlzLndpZHRofHwwPT09dGhpcy5oZWlnaHR9LHNldDpmdW5jdGlvbih0KXshMD09PXQmJnRoaXMuc2V0VG8oMCwwLDAsMCl9fSksaS5FbGxpcHNlLmNvbnRhaW5zPWZ1bmN0aW9uKHQsZSxpKXtpZih0LndpZHRoPD0wfHx0LmhlaWdodDw9MClyZXR1cm4hMTt2YXIgcz0oZS10LngpL3Qud2lkdGgtLjUsbj0oaS10LnkpL3QuaGVpZ2h0LS41O3JldHVybiBzKj1zLG4qPW4scytuPC4yNX0saS5FbGxpcHNlLmludGVyc2VjdHNMaW5lPWZ1bmN0aW9uKHQsZSxzKXt2YXIgbj10Lngsbz10Lnkscj0oZS5lbmQueS1lLnN0YXJ0LnkpLyhlLmVuZC54LWUuc3RhcnQueCksYT1lLmVuZC55LXIqZS5lbmQueCxoPXQud2lkdGgvMixsPXQuaGVpZ2h0LzIsYz1hK3Iqbix1PShuKihsKmwpLXIqKGgqaCkqKGEtbykraCpsKk1hdGguc3FydChoKmgqKHIqcikrbCpsLWMqYy1vKm8rMipjKm8pKS8oaCpoKihyKnIpK2wqbCksZD0obioobCpsKS1yKihoKmgpKihhLW8pLWgqbCpNYXRoLnNxcnQoaCpoKihyKnIpK2wqbC1jKmMtbypvKzIqYypvKSkvKGgqaCoocipyKStsKmwpLHA9cip1K2EsZj1yKmQrYSxtPW5ldyBpLlBvaW50KHUscCksZz1uZXcgaS5Qb2ludChkLGYpLHk9ZS5wb2ludE9uU2VnbWVudChtLngsbS55LC4wMSksdj1lLnBvaW50T25TZWdtZW50KGcueCxnLnksLjAxKTtyZXR1cm4geSYmdj8hc3x8W20sZ106eT8hc3x8W21dOnY/IXN8fFtnXTohIXMmJltdfSxQSVhJLkVsbGlwc2U9aS5FbGxpcHNlLGkuTGluZT1mdW5jdGlvbih0LGUscyxuKXt0PXR8fDAsZT1lfHwwLHM9c3x8MCxuPW58fDAsdGhpcy5zdGFydD1uZXcgaS5Qb2ludCh0LGUpLHRoaXMuZW5kPW5ldyBpLlBvaW50KHMsbiksdGhpcy50eXBlPWkuTElORX0saS5MaW5lLnByb3RvdHlwZT17c2V0VG86ZnVuY3Rpb24odCxlLGkscyl7cmV0dXJuIHRoaXMuc3RhcnQuc2V0VG8odCxlKSx0aGlzLmVuZC5zZXRUbyhpLHMpLHRoaXN9LGZyb21TcHJpdGU6ZnVuY3Rpb24odCxlLGkpe3JldHVybiB2b2lkIDA9PT1pJiYoaT0hMSksaT90aGlzLnNldFRvKHQuY2VudGVyWCx0LmNlbnRlclksZS5jZW50ZXJYLGUuY2VudGVyWSk6dGhpcy5zZXRUbyh0LngsdC55LGUueCxlLnkpfSxmcm9tQW5nbGU6ZnVuY3Rpb24odCxlLGkscyl7cmV0dXJuIHRoaXMuc3RhcnQuc2V0VG8odCxlKSx0aGlzLmVuZC5zZXRUbyh0K01hdGguY29zKGkpKnMsZStNYXRoLnNpbihpKSpzKSx0aGlzfSxyb3RhdGU6ZnVuY3Rpb24odCxlKXt2YXIgaT0odGhpcy5zdGFydC54K3RoaXMuZW5kLngpLzIscz0odGhpcy5zdGFydC55K3RoaXMuZW5kLnkpLzI7cmV0dXJuIHRoaXMuc3RhcnQucm90YXRlKGkscyx0LGUpLHRoaXMuZW5kLnJvdGF0ZShpLHMsdCxlKSx0aGlzfSxyb3RhdGVBcm91bmQ6ZnVuY3Rpb24odCxlLGkscyl7cmV0dXJuIHRoaXMuc3RhcnQucm90YXRlKHQsZSxpLHMpLHRoaXMuZW5kLnJvdGF0ZSh0LGUsaSxzKSx0aGlzfSxpbnRlcnNlY3RzOmZ1bmN0aW9uKHQsZSxzKXtyZXR1cm4gaS5MaW5lLmludGVyc2VjdHNQb2ludHModGhpcy5zdGFydCx0aGlzLmVuZCx0LnN0YXJ0LHQuZW5kLGUscyl9LHJlZmxlY3Q6ZnVuY3Rpb24odCl7cmV0dXJuIGkuTGluZS5yZWZsZWN0KHRoaXMsdCl9LG1pZFBvaW50OmZ1bmN0aW9uKHQpe3JldHVybiB2b2lkIDA9PT10JiYodD1uZXcgaS5Qb2ludCksdC54PSh0aGlzLnN0YXJ0LngrdGhpcy5lbmQueCkvMix0Lnk9KHRoaXMuc3RhcnQueSt0aGlzLmVuZC55KS8yLHR9LGNlbnRlck9uOmZ1bmN0aW9uKHQsZSl7dmFyIGk9dC0odGhpcy5zdGFydC54K3RoaXMuZW5kLngpLzIscz1lLSh0aGlzLnN0YXJ0LnkrdGhpcy5lbmQueSkvMjt0aGlzLnN0YXJ0LmFkZChpLHMpLHRoaXMuZW5kLmFkZChpLHMpfSxwb2ludE9uTGluZTpmdW5jdGlvbih0LGUscyl7cmV0dXJuIGkuTWF0aC5mdXp6eUVxdWFsKCh0LXRoaXMuc3RhcnQueCkqKHRoaXMuZW5kLnktdGhpcy5zdGFydC55KSwodGhpcy5lbmQueC10aGlzLnN0YXJ0LngpKihlLXRoaXMuc3RhcnQueSksc3x8MCl9LHBvaW50T25TZWdtZW50OmZ1bmN0aW9uKHQsZSxpKXt2YXIgcz1NYXRoLm1pbih0aGlzLnN0YXJ0LngsdGhpcy5lbmQueCksbj1NYXRoLm1heCh0aGlzLnN0YXJ0LngsdGhpcy5lbmQueCksbz1NYXRoLm1pbih0aGlzLnN0YXJ0LnksdGhpcy5lbmQueSkscj1NYXRoLm1heCh0aGlzLnN0YXJ0LnksdGhpcy5lbmQueSk7cmV0dXJuIHRoaXMucG9pbnRPbkxpbmUodCxlLGkpJiZ0Pj1zJiZ0PD1uJiZlPj1vJiZlPD1yfSxyYW5kb206ZnVuY3Rpb24odCl7dm9pZCAwPT09dCYmKHQ9bmV3IGkuUG9pbnQpO3ZhciBlPU1hdGgucmFuZG9tKCk7cmV0dXJuIHQueD10aGlzLnN0YXJ0LngrZSoodGhpcy5lbmQueC10aGlzLnN0YXJ0LngpLHQueT10aGlzLnN0YXJ0LnkrZSoodGhpcy5lbmQueS10aGlzLnN0YXJ0LnkpLHR9LGNvb3JkaW5hdGVzT25MaW5lOmZ1bmN0aW9uKHQsZSl7dm9pZCAwPT09dCYmKHQ9MSksdm9pZCAwPT09ZSYmKGU9W10pO3ZhciBpPU1hdGgucm91bmQodGhpcy5zdGFydC54KSxzPU1hdGgucm91bmQodGhpcy5zdGFydC55KSxuPU1hdGgucm91bmQodGhpcy5lbmQueCksbz1NYXRoLnJvdW5kKHRoaXMuZW5kLnkpLHI9TWF0aC5hYnMobi1pKSxhPU1hdGguYWJzKG8tcyksaD1pPG4/MTotMSxsPXM8bz8xOi0xLGM9ci1hO2UucHVzaChbaSxzXSk7Zm9yKHZhciB1PTE7aSE9PW58fHMhPT1vOyl7dmFyIGQ9Yzw8MTtkPi1hJiYoYy09YSxpKz1oKSxkPHImJihjKz1yLHMrPWwpLHUldD09MCYmZS5wdXNoKFtpLHNdKSx1Kyt9cmV0dXJuIGV9LGNsb25lOmZ1bmN0aW9uKHQpe3JldHVybiB2b2lkIDA9PT10fHxudWxsPT09dD90PW5ldyBpLkxpbmUodGhpcy5zdGFydC54LHRoaXMuc3RhcnQueSx0aGlzLmVuZC54LHRoaXMuZW5kLnkpOnQuc2V0VG8odGhpcy5zdGFydC54LHRoaXMuc3RhcnQueSx0aGlzLmVuZC54LHRoaXMuZW5kLnkpLHR9fSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5MaW5lLnByb3RvdHlwZSxcImxlbmd0aFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gTWF0aC5zcXJ0KCh0aGlzLmVuZC54LXRoaXMuc3RhcnQueCkqKHRoaXMuZW5kLngtdGhpcy5zdGFydC54KSsodGhpcy5lbmQueS10aGlzLnN0YXJ0LnkpKih0aGlzLmVuZC55LXRoaXMuc3RhcnQueSkpfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLkxpbmUucHJvdG90eXBlLFwiYW5nbGVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIE1hdGguYXRhbjIodGhpcy5lbmQueS10aGlzLnN0YXJ0LnksdGhpcy5lbmQueC10aGlzLnN0YXJ0LngpfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLkxpbmUucHJvdG90eXBlLFwic2xvcGVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuKHRoaXMuZW5kLnktdGhpcy5zdGFydC55KS8odGhpcy5lbmQueC10aGlzLnN0YXJ0LngpfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLkxpbmUucHJvdG90eXBlLFwicGVycFNsb3BlXCIse2dldDpmdW5jdGlvbigpe3JldHVybi0odGhpcy5lbmQueC10aGlzLnN0YXJ0LngpLyh0aGlzLmVuZC55LXRoaXMuc3RhcnQueSl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuTGluZS5wcm90b3R5cGUsXCJ4XCIse2dldDpmdW5jdGlvbigpe3JldHVybiBNYXRoLm1pbih0aGlzLnN0YXJ0LngsdGhpcy5lbmQueCl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuTGluZS5wcm90b3R5cGUsXCJ5XCIse2dldDpmdW5jdGlvbigpe3JldHVybiBNYXRoLm1pbih0aGlzLnN0YXJ0LnksdGhpcy5lbmQueSl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuTGluZS5wcm90b3R5cGUsXCJsZWZ0XCIse2dldDpmdW5jdGlvbigpe3JldHVybiBNYXRoLm1pbih0aGlzLnN0YXJ0LngsdGhpcy5lbmQueCl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuTGluZS5wcm90b3R5cGUsXCJyaWdodFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gTWF0aC5tYXgodGhpcy5zdGFydC54LHRoaXMuZW5kLngpfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLkxpbmUucHJvdG90eXBlLFwidG9wXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBNYXRoLm1pbih0aGlzLnN0YXJ0LnksdGhpcy5lbmQueSl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuTGluZS5wcm90b3R5cGUsXCJib3R0b21cIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIE1hdGgubWF4KHRoaXMuc3RhcnQueSx0aGlzLmVuZC55KX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5MaW5lLnByb3RvdHlwZSxcIndpZHRoXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBNYXRoLmFicyh0aGlzLnN0YXJ0LngtdGhpcy5lbmQueCl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuTGluZS5wcm90b3R5cGUsXCJoZWlnaHRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIE1hdGguYWJzKHRoaXMuc3RhcnQueS10aGlzLmVuZC55KX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5MaW5lLnByb3RvdHlwZSxcIm5vcm1hbFhcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIE1hdGguY29zKHRoaXMuYW5nbGUtMS41NzA3OTYzMjY3OTQ4OTY2KX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5MaW5lLnByb3RvdHlwZSxcIm5vcm1hbFlcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIE1hdGguc2luKHRoaXMuYW5nbGUtMS41NzA3OTYzMjY3OTQ4OTY2KX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5MaW5lLnByb3RvdHlwZSxcIm5vcm1hbEFuZ2xlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBpLk1hdGgud3JhcCh0aGlzLmFuZ2xlLTEuNTcwNzk2MzI2Nzk0ODk2NiwtTWF0aC5QSSxNYXRoLlBJKX19KSxpLkxpbmUuaW50ZXJzZWN0c1BvaW50cz1mdW5jdGlvbih0LGUscyxuLG8scil7dm9pZCAwPT09byYmKG89ITApLHZvaWQgMD09PXImJihyPW5ldyBpLlBvaW50KTt2YXIgYT1lLnktdC55LGg9bi55LXMueSxsPXQueC1lLngsYz1zLngtbi54LHU9ZS54KnQueS10LngqZS55LGQ9bi54KnMueS1zLngqbi55LHA9YSpjLWgqbDtpZigwPT09cClyZXR1cm4gbnVsbDtpZihyLng9KGwqZC1jKnUpL3Asci55PShoKnUtYSpkKS9wLG8pe3ZhciBmPShuLnktcy55KSooZS54LXQueCktKG4ueC1zLngpKihlLnktdC55KSxtPSgobi54LXMueCkqKHQueS1zLnkpLShuLnktcy55KSoodC54LXMueCkpL2YsZz0oKGUueC10LngpKih0Lnktcy55KS0oZS55LXQueSkqKHQueC1zLngpKS9mO3JldHVybiBtPj0wJiZtPD0xJiZnPj0wJiZnPD0xP3I6bnVsbH1yZXR1cm4gcn0saS5MaW5lLmludGVyc2VjdHM9ZnVuY3Rpb24odCxlLHMsbil7cmV0dXJuIGkuTGluZS5pbnRlcnNlY3RzUG9pbnRzKHQuc3RhcnQsdC5lbmQsZS5zdGFydCxlLmVuZCxzLG4pfSxpLkxpbmUuaW50ZXJzZWN0c1JlY3RhbmdsZT1mdW5jdGlvbih0LGUpe2lmKDA9PT10Lmxlbmd0aHx8ZS5lbXB0eSlyZXR1cm4hMTt2YXIgaT10LnN0YXJ0Lngscz10LnN0YXJ0Lnksbj10LmVuZC54LG89dC5lbmQueSxyPWUueCxhPWUueSxoPWUucmlnaHQsbD1lLmJvdHRvbSxjPTA7aWYoaT49ciYmaTw9aCYmcz49YSYmczw9bHx8bj49ciYmbjw9aCYmbz49YSYmbzw9bClyZXR1cm4hMDtpZihpPHImJm4+PXIpe2lmKChjPXMrKG8tcykqKHItaSkvKG4taSkpPmEmJmM8PWwpcmV0dXJuITB9ZWxzZSBpZihpPmgmJm48PWgmJihjPXMrKG8tcykqKGgtaSkvKG4taSkpPj1hJiZjPD1sKXJldHVybiEwO2lmKHM8YSYmbz49YSl7aWYoKGM9aSsobi1pKSooYS1zKS8oby1zKSk+PXImJmM8PWgpcmV0dXJuITB9ZWxzZSBpZihzPmwmJm88PWwmJihjPWkrKG4taSkqKGwtcykvKG8tcykpPj1yJiZjPD1oKXJldHVybiEwO3JldHVybiExfSxpLkxpbmUuaW50ZXJzZWN0aW9uV2l0aFJlY3RhbmdsZT1mdW5jdGlvbih0LGUscyl7dmFyIG49aS5MaW5lLmludGVyc2VjdGlvbldpdGhSZWN0YW5nbGU7c3x8KHM9bmV3IGkuUG9pbnQpLG4uZWRnZXN8fChuLmVkZ2VzPVtuZXcgaS5MaW5lLG5ldyBpLkxpbmUsbmV3IGkuTGluZSxuZXcgaS5MaW5lXSksbi5lZGdlSW50ZXJzZWN0aW9ufHwobi5lZGdlSW50ZXJzZWN0aW9uPW5ldyBpLlBvaW50KTt2YXIgbz1uLmVkZ2VzLHI9bi5lZGdlSW50ZXJzZWN0aW9uLnNldCgwKSxhPWUueCxoPWUueSxsPWUucmlnaHQsYz1lLmJvdHRvbSx1PTEvMDtvWzBdLnNldFRvKGEsaCxsLGgpLG9bMV0uc2V0VG8oYSxjLGwsYyksb1syXS5zZXRUbyhhLGgsYSxjKSxvWzNdLnNldFRvKGwsaCxsLGMpO2Zvcih2YXIgZCxwPTA7ZD1vW3BdO3ArKylpZih0LmludGVyc2VjdHMoZCwhMCxyKSl7dmFyIGY9dC5zdGFydC5kaXN0YW5jZShyKTtmPHUmJih1PWYscy5jb3B5RnJvbShyKSl9cmV0dXJuIG51bGwhPWY/czpudWxsfSxpLkxpbmUucmVmbGVjdD1mdW5jdGlvbih0LGUpe3JldHVybiAyKmUubm9ybWFsQW5nbGUtMy4xNDE1OTI2NTM1ODk3OTMtdC5hbmdsZX0saS5NYXRyaXg9ZnVuY3Rpb24odCxlLHMsbixvLHIpe3ZvaWQgMCE9PXQmJm51bGwhPT10fHwodD0xKSx2b2lkIDAhPT1lJiZudWxsIT09ZXx8KGU9MCksdm9pZCAwIT09cyYmbnVsbCE9PXN8fChzPTApLHZvaWQgMCE9PW4mJm51bGwhPT1ufHwobj0xKSx2b2lkIDAhPT1vJiZudWxsIT09b3x8KG89MCksdm9pZCAwIT09ciYmbnVsbCE9PXJ8fChyPTApLHRoaXMuYT10LHRoaXMuYj1lLHRoaXMuYz1zLHRoaXMuZD1uLHRoaXMudHg9byx0aGlzLnR5PXIsdGhpcy50eXBlPWkuTUFUUklYfSxpLk1hdHJpeC5wcm90b3R5cGU9e2Zyb21BcnJheTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5zZXRUbyh0WzBdLHRbMV0sdFszXSx0WzRdLHRbMl0sdFs1XSl9LHNldFRvOmZ1bmN0aW9uKHQsZSxpLHMsbixvKXtyZXR1cm4gdGhpcy5hPXQsdGhpcy5iPWUsdGhpcy5jPWksdGhpcy5kPXMsdGhpcy50eD1uLHRoaXMudHk9byx0aGlzfSxjbG9uZTpmdW5jdGlvbih0KXtyZXR1cm4gdm9pZCAwPT09dHx8bnVsbD09PXQ/dD1uZXcgaS5NYXRyaXgodGhpcy5hLHRoaXMuYix0aGlzLmMsdGhpcy5kLHRoaXMudHgsdGhpcy50eSk6KHQuYT10aGlzLmEsdC5iPXRoaXMuYix0LmM9dGhpcy5jLHQuZD10aGlzLmQsdC50eD10aGlzLnR4LHQudHk9dGhpcy50eSksdH0sY29weVRvOmZ1bmN0aW9uKHQpe3JldHVybiB0LmNvcHlGcm9tKHRoaXMpLHR9LGNvcHlGcm9tOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmE9dC5hLHRoaXMuYj10LmIsdGhpcy5jPXQuYyx0aGlzLmQ9dC5kLHRoaXMudHg9dC50eCx0aGlzLnR5PXQudHksdGhpc30sdG9BcnJheTpmdW5jdGlvbih0LGUpe3JldHVybiB2b2lkIDA9PT1lJiYoZT1uZXcgRmxvYXQzMkFycmF5KDkpKSx0PyhlWzBdPXRoaXMuYSxlWzFdPXRoaXMuYixlWzJdPTAsZVszXT10aGlzLmMsZVs0XT10aGlzLmQsZVs1XT0wLGVbNl09dGhpcy50eCxlWzddPXRoaXMudHksZVs4XT0xKTooZVswXT10aGlzLmEsZVsxXT10aGlzLmMsZVsyXT10aGlzLnR4LGVbM109dGhpcy5iLGVbNF09dGhpcy5kLGVbNV09dGhpcy50eSxlWzZdPTAsZVs3XT0wLGVbOF09MSksZX0sYXBwbHk6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9bmV3IGkuUG9pbnQpLGUueD10aGlzLmEqdC54K3RoaXMuYyp0LnkrdGhpcy50eCxlLnk9dGhpcy5iKnQueCt0aGlzLmQqdC55K3RoaXMudHksZX0sYXBwbHlJbnZlcnNlOmZ1bmN0aW9uKHQsZSl7dm9pZCAwPT09ZSYmKGU9bmV3IGkuUG9pbnQpO3ZhciBzPTEvKHRoaXMuYSp0aGlzLmQrdGhpcy5jKi10aGlzLmIpLG49dC54LG89dC55O3JldHVybiBlLng9dGhpcy5kKnMqbistdGhpcy5jKnMqbysodGhpcy50eSp0aGlzLmMtdGhpcy50eCp0aGlzLmQpKnMsZS55PXRoaXMuYSpzKm8rLXRoaXMuYipzKm4rKC10aGlzLnR5KnRoaXMuYSt0aGlzLnR4KnRoaXMuYikqcyxlfSx0cmFuc2xhdGU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy50eCs9dCx0aGlzLnR5Kz1lLHRoaXN9LHNjYWxlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuYSo9dCx0aGlzLmQqPWUsdGhpcy5jKj10LHRoaXMuYio9ZSx0aGlzLnR4Kj10LHRoaXMudHkqPWUsdGhpc30scm90YXRlOmZ1bmN0aW9uKHQpe3ZhciBlPU1hdGguY29zKHQpLGk9TWF0aC5zaW4odCkscz10aGlzLmEsbj10aGlzLmMsbz10aGlzLnR4O3JldHVybiB0aGlzLmE9cyplLXRoaXMuYippLHRoaXMuYj1zKmkrdGhpcy5iKmUsdGhpcy5jPW4qZS10aGlzLmQqaSx0aGlzLmQ9bippK3RoaXMuZCplLHRoaXMudHg9byplLXRoaXMudHkqaSx0aGlzLnR5PW8qaSt0aGlzLnR5KmUsdGhpc30sYXBwZW5kOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuYSxpPXRoaXMuYixzPXRoaXMuYyxuPXRoaXMuZDtyZXR1cm4gdGhpcy5hPXQuYSplK3QuYipzLHRoaXMuYj10LmEqaSt0LmIqbix0aGlzLmM9dC5jKmUrdC5kKnMsdGhpcy5kPXQuYyppK3QuZCpuLHRoaXMudHg9dC50eCplK3QudHkqcyt0aGlzLnR4LHRoaXMudHk9dC50eCppK3QudHkqbit0aGlzLnR5LHRoaXN9LGlkZW50aXR5OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2V0VG8oMSwwLDAsMSwwLDApfX0saS5pZGVudGl0eU1hdHJpeD1uZXcgaS5NYXRyaXgsaS5Qb2ludD1mdW5jdGlvbih0LGUpe3Q9dHx8MCxlPWV8fDAsdGhpcy54PXQsdGhpcy55PWUsdGhpcy50eXBlPWkuUE9JTlR9LGkuUG9pbnQucHJvdG90eXBlPXtjb3B5RnJvbTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5zZXRUbyh0LngsdC55KX0saW52ZXJ0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2V0VG8odGhpcy55LHRoaXMueCl9LHNldFRvOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIGkuUG9pbnQuc2V0KHRoaXMsdCxlKX0sc2V0OmZ1bmN0aW9uKHQsZSl7cmV0dXJuIGkuUG9pbnQuc2V0KHRoaXMsdCxlKX0sc2V0VG9Qb2xhcjpmdW5jdGlvbih0LGUscyl7cmV0dXJuIG51bGw9PWUmJihlPTEpLHMmJih0PWkuTWF0aC5kZWdUb1JhZCh0KSksdGhpcy5zZXRUbyhNYXRoLmNvcyh0KSplLE1hdGguc2luKHQpKmUpfSxhZGQ6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy54Kz10LHRoaXMueSs9ZSx0aGlzfSxzdWJ0cmFjdDpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLngtPXQsdGhpcy55LT1lLHRoaXN9LG11bHRpcGx5OmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMueCo9dCx0aGlzLnkqPWUsdGhpc30sZGl2aWRlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMueC89dCx0aGlzLnkvPWUsdGhpc30sY2xhbXBYOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMueD1pLk1hdGguY2xhbXAodGhpcy54LHQsZSksdGhpc30sY2xhbXBZOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMueT1pLk1hdGguY2xhbXAodGhpcy55LHQsZSksdGhpc30sY2xhbXA6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy54PWkuTWF0aC5jbGFtcCh0aGlzLngsdCxlKSx0aGlzLnk9aS5NYXRoLmNsYW1wKHRoaXMueSx0LGUpLHRoaXN9LGNsaXA6ZnVuY3Rpb24odCl7dmFyIGU9dC5sZWZ0LGk9dC50b3Ascz10LnJpZ2h0LG49dC5ib3R0b207cmV0dXJuIHRoaXMueDxlP3RoaXMueD1lOnRoaXMueD5zJiYodGhpcy54PXMpLHRoaXMueTxpP3RoaXMueT1pOnRoaXMueT5uJiYodGhpcy55PW4pLHRoaXN9LGNsb25lOmZ1bmN0aW9uKHQpe3JldHVybiB2b2lkIDA9PT10fHxudWxsPT09dD90PW5ldyBpLlBvaW50KHRoaXMueCx0aGlzLnkpOnQuc2V0VG8odGhpcy54LHRoaXMueSksdH0sY29weVRvOmZ1bmN0aW9uKHQpe3JldHVybiB0Lng9dGhpcy54LHQueT10aGlzLnksdH0sZGlzdGFuY2U6ZnVuY3Rpb24odCxlKXtyZXR1cm4gaS5Qb2ludC5kaXN0YW5jZSh0aGlzLHQsZSl9LGVxdWFsczpmdW5jdGlvbih0KXtyZXR1cm4gdC54PT09dGhpcy54JiZ0Lnk9PT10aGlzLnl9LGVxdWFsc1hZOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMueD09PXQmJnRoaXMueT09PWV9LGZ1enp5RXF1YWxzOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIGkuUG9pbnQuZnV6enlFcXVhbHModGhpcyx0LGUpfSxmdXp6eUVxdWFsc1hZOmZ1bmN0aW9uKHQsZSxzKXtyZXR1cm4gaS5Qb2ludC5mdXp6eUVxdWFsc1hZKHRoaXMsdCxlLHMpfSxhbmdsZTpmdW5jdGlvbih0LGUpe3JldHVybiB2b2lkIDA9PT1lJiYoZT0hMSksZT9pLk1hdGgucmFkVG9EZWcoTWF0aC5hdGFuMih0LnktdGhpcy55LHQueC10aGlzLngpKTpNYXRoLmF0YW4yKHQueS10aGlzLnksdC54LXRoaXMueCl9LHJvdGF0ZTpmdW5jdGlvbih0LGUscyxuLG8pe3JldHVybiBpLlBvaW50LnJvdGF0ZSh0aGlzLHQsZSxzLG4sbyl9LGdldE1hZ25pdHVkZTpmdW5jdGlvbigpe3JldHVybiBNYXRoLnNxcnQodGhpcy54KnRoaXMueCt0aGlzLnkqdGhpcy55KX0sZ2V0TWFnbml0dWRlU3E6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy54KnRoaXMueCt0aGlzLnkqdGhpcy55fSxzZXRNYWduaXR1ZGU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMubm9ybWFsaXplKCkubXVsdGlwbHkodCx0KX0sbm9ybWFsaXplOmZ1bmN0aW9uKCl7aWYoIXRoaXMuaXNaZXJvKCkpe3ZhciB0PXRoaXMuZ2V0TWFnbml0dWRlKCk7dGhpcy54Lz10LHRoaXMueS89dH1yZXR1cm4gdGhpc30sbGltaXQ6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZ2V0TWFnbml0dWRlU3EoKT50KnQmJnRoaXMuc2V0TWFnbml0dWRlKHQpLHRoaXN9LGlzWmVybzpmdW5jdGlvbigpe3JldHVybiAwPT09dGhpcy54JiYwPT09dGhpcy55fSxkb3Q6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMueCp0LngrdGhpcy55KnQueX0sY3Jvc3M6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMueCp0LnktdGhpcy55KnQueH0scGVycDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnNldFRvKC10aGlzLnksdGhpcy54KX0scnBlcnA6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zZXRUbyh0aGlzLnksLXRoaXMueCl9LG5vcm1hbFJpZ2h0SGFuZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnNldFRvKC0xKnRoaXMueSx0aGlzLngpfSxmbG9vcjpmdW5jdGlvbigpe3JldHVybiB0aGlzLnNldFRvKE1hdGguZmxvb3IodGhpcy54KSxNYXRoLmZsb29yKHRoaXMueSkpfSxjZWlsOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2V0VG8oTWF0aC5jZWlsKHRoaXMueCksTWF0aC5jZWlsKHRoaXMueSkpfSx0b1N0cmluZzpmdW5jdGlvbigpe3JldHVyblwiW3tQb2ludCAoeD1cIit0aGlzLngrXCIgeT1cIit0aGlzLnkrXCIpfV1cIn19LGkuUG9pbnQucHJvdG90eXBlLmNvbnN0cnVjdG9yPWkuUG9pbnQsaS5Qb2ludC5hZGQ9ZnVuY3Rpb24odCxlLHMpe3JldHVybiB2b2lkIDA9PT1zJiYocz1uZXcgaS5Qb2ludCkscy54PXQueCtlLngscy55PXQueStlLnksc30saS5Qb2ludC5zdWJ0cmFjdD1mdW5jdGlvbih0LGUscyl7cmV0dXJuIHZvaWQgMD09PXMmJihzPW5ldyBpLlBvaW50KSxzLng9dC54LWUueCxzLnk9dC55LWUueSxzfSxpLlBvaW50Lm11bHRpcGx5PWZ1bmN0aW9uKHQsZSxzKXtyZXR1cm4gdm9pZCAwPT09cyYmKHM9bmV3IGkuUG9pbnQpLHMueD10LngqZS54LHMueT10LnkqZS55LHN9LGkuUG9pbnQuZGl2aWRlPWZ1bmN0aW9uKHQsZSxzKXtyZXR1cm4gdm9pZCAwPT09cyYmKHM9bmV3IGkuUG9pbnQpLHMueD10LngvZS54LHMueT10LnkvZS55LHN9LGkuUG9pbnQuZXF1YWxzPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQueD09PWUueCYmdC55PT09ZS55fSxpLlBvaW50LmVxdWFsc1hZPWZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gdC54PT09ZSYmdC55PT09aX0saS5Qb2ludC5mdXp6eUVxdWFscz1mdW5jdGlvbih0LGUscyl7cmV0dXJuIGkuTWF0aC5mdXp6eUVxdWFscyh0LngsZS54LHMpJiZpLk1hdGguZnV6enlFcXVhbHModC55LGUueSxzKX0saS5Qb2ludC5mdXp6eUVxdWFsc1hZPWZ1bmN0aW9uKHQsZSxzLG4pe3JldHVybiBpLk1hdGguZnV6enlFcXVhbHModC54LGUsbikmJmkuTWF0aC5mdXp6eUVxdWFscyh0LnkscyxuKX0saS5Qb2ludC5hbmdsZT1mdW5jdGlvbih0LGUpe3JldHVybiBNYXRoLmF0YW4yKHQueS1lLnksdC54LWUueCl9LGkuUG9pbnQubmVnYXRpdmU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9bmV3IGkuUG9pbnQpLGUuc2V0VG8oLXQueCwtdC55KX0saS5Qb2ludC5tdWx0aXBseUFkZD1mdW5jdGlvbih0LGUscyxuKXtyZXR1cm4gdm9pZCAwPT09biYmKG49bmV3IGkuUG9pbnQpLG4uc2V0VG8odC54K2UueCpzLHQueStlLnkqcyl9LGkuUG9pbnQuaW50ZXJwb2xhdGU9ZnVuY3Rpb24odCxlLHMsbil7cmV0dXJuIHZvaWQgMD09PW4mJihuPW5ldyBpLlBvaW50KSxuLnNldFRvKHQueCsoZS54LXQueCkqcyx0LnkrKGUueS10LnkpKnMpfSxpLlBvaW50LnBlcnA9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9bmV3IGkuUG9pbnQpLGUuc2V0VG8oLXQueSx0LngpfSxpLlBvaW50LnJwZXJwPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHZvaWQgMD09PWUmJihlPW5ldyBpLlBvaW50KSxlLnNldFRvKHQueSwtdC54KX0saS5Qb2ludC5kaXN0YW5jZT1mdW5jdGlvbih0LGUscyl7dmFyIG49aS5NYXRoLmRpc3RhbmNlKHQueCx0LnksZS54LGUueSk7cmV0dXJuIHM/TWF0aC5yb3VuZChuKTpufSxpLlBvaW50LnByb2plY3Q9ZnVuY3Rpb24odCxlLHMpe3ZvaWQgMD09PXMmJihzPW5ldyBpLlBvaW50KTt2YXIgbj10LmRvdChlKS9lLmdldE1hZ25pdHVkZVNxKCk7cmV0dXJuIDAhPT1uJiZzLnNldFRvKG4qZS54LG4qZS55KSxzfSxpLlBvaW50LnByb2plY3RVbml0PWZ1bmN0aW9uKHQsZSxzKXt2b2lkIDA9PT1zJiYocz1uZXcgaS5Qb2ludCk7dmFyIG49dC5kb3QoZSk7cmV0dXJuIDAhPT1uJiZzLnNldFRvKG4qZS54LG4qZS55KSxzfSxpLlBvaW50Lm5vcm1hbFJpZ2h0SGFuZD1mdW5jdGlvbih0LGUpe3JldHVybiB2b2lkIDA9PT1lJiYoZT1uZXcgaS5Qb2ludCksZS5zZXRUbygtMSp0LnksdC54KX0saS5Qb2ludC5ub3JtYWxpemU9ZnVuY3Rpb24odCxlKXt2b2lkIDA9PT1lJiYoZT1uZXcgaS5Qb2ludCk7dmFyIHM9dC5nZXRNYWduaXR1ZGUoKTtyZXR1cm4gMCE9PXMmJmUuc2V0VG8odC54L3MsdC55L3MpLGV9LGkuUG9pbnQucm90YXRlPWZ1bmN0aW9uKHQsZSxzLG4sbyxyKXtpZihvJiYobj1pLk1hdGguZGVnVG9SYWQobikpLHZvaWQgMD09PXIpe3Quc3VidHJhY3QoZSxzKTt2YXIgYT1NYXRoLnNpbihuKSxoPU1hdGguY29zKG4pLGw9aCp0LngtYSp0LnksYz1hKnQueCtoKnQueTt0Lng9bCtlLHQueT1jK3N9ZWxzZXt2YXIgdT1uK01hdGguYXRhbjIodC55LXMsdC54LWUpO3QueD1lK3IqTWF0aC5jb3ModSksdC55PXMrcipNYXRoLnNpbih1KX1yZXR1cm4gdH0saS5Qb2ludC5jZW50cm9pZD1mdW5jdGlvbih0LGUpe2lmKHZvaWQgMD09PWUmJihlPW5ldyBpLlBvaW50KSxcIltvYmplY3QgQXJyYXldXCIhPT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodCkpdGhyb3cgbmV3IEVycm9yKFwiUGhhc2VyLlBvaW50LiBQYXJhbWV0ZXIgJ3BvaW50cycgbXVzdCBiZSBhbiBhcnJheVwiKTt2YXIgcz10Lmxlbmd0aDtpZihzPDEpdGhyb3cgbmV3IEVycm9yKFwiUGhhc2VyLlBvaW50LiBQYXJhbWV0ZXIgJ3BvaW50cycgYXJyYXkgbXVzdCBub3QgYmUgZW1wdHlcIik7aWYoMT09PXMpcmV0dXJuIGUuY29weUZyb20odFswXSksZTtmb3IodmFyIG49MDtuPHM7bisrKWkuUG9pbnQuYWRkKGUsdFtuXSxlKTtyZXR1cm4gZS5kaXZpZGUocyxzKSxlfSxpLlBvaW50LnBhcnNlPWZ1bmN0aW9uKHQsZSxzKXtlPWV8fFwieFwiLHM9c3x8XCJ5XCI7dmFyIG49bmV3IGkuUG9pbnQ7cmV0dXJuIHRbZV0mJihuLng9cGFyc2VJbnQodFtlXSwxMCkpLHRbc10mJihuLnk9cGFyc2VJbnQodFtzXSwxMCkpLG59LGkuUG9pbnQuaXNQb2ludD1mdW5jdGlvbih0KXtyZXR1cm4gbnVsbCE9dCYmXCJudW1iZXJcIj09dHlwZW9mIHQueCYmXCJudW1iZXJcIj09dHlwZW9mIHQueX0saS5Qb2ludC5zZXQ9ZnVuY3Rpb24odCxlLGkpe3JldHVybiB0Lng9ZXx8MCx0Lnk9aXx8KDAhPT1pP3QueDowKSx0fSxQSVhJLlBvaW50PWkuUG9pbnQsaS5Qb2x5Z29uPWZ1bmN0aW9uKCl7dGhpcy5hcmVhPTAsdGhpcy5fcG9pbnRzPVtdLGFyZ3VtZW50cy5sZW5ndGg+MCYmdGhpcy5zZXRUby5hcHBseSh0aGlzLGFyZ3VtZW50cyksdGhpcy5jbG9zZWQ9ITAsdGhpcy5mbGF0dGVuZWQ9ITEsdGhpcy50eXBlPWkuUE9MWUdPTn0saS5Qb2x5Z29uLnByb3RvdHlwZT17dG9OdW1iZXJBcnJheTpmdW5jdGlvbih0KXt2b2lkIDA9PT10JiYodD1bXSk7Zm9yKHZhciBlPTA7ZTx0aGlzLl9wb2ludHMubGVuZ3RoO2UrKylcIm51bWJlclwiPT10eXBlb2YgdGhpcy5fcG9pbnRzW2VdPyh0LnB1c2godGhpcy5fcG9pbnRzW2VdKSx0LnB1c2godGhpcy5fcG9pbnRzW2UrMV0pLGUrKyk6KHQucHVzaCh0aGlzLl9wb2ludHNbZV0ueCksdC5wdXNoKHRoaXMuX3BvaW50c1tlXS55KSk7cmV0dXJuIHR9LGZsYXR0ZW46ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcG9pbnRzPXRoaXMudG9OdW1iZXJBcnJheSgpLHRoaXMuZmxhdHRlbmVkPSEwLHRoaXN9LGNsb25lOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX3BvaW50cy5zbGljZSgpO3JldHVybiB2b2lkIDA9PT10fHxudWxsPT09dD90PW5ldyBpLlBvbHlnb24oZSk6dC5zZXRUbyhlKSx0fSxjb250YWluczpmdW5jdGlvbih0LGUpe3ZhciBpPSExO2lmKHRoaXMuZmxhdHRlbmVkKWZvcih2YXIgcz0tMixuPXRoaXMuX3BvaW50cy5sZW5ndGgtMjsocys9Mik8dGhpcy5fcG9pbnRzLmxlbmd0aDtuPXMpe3ZhciBvPXRoaXMuX3BvaW50c1tzXSxyPXRoaXMuX3BvaW50c1tzKzFdLGE9dGhpcy5fcG9pbnRzW25dLGg9dGhpcy5fcG9pbnRzW24rMV07KHI8PWUmJmU8aHx8aDw9ZSYmZTxyKSYmdDwoYS1vKSooZS1yKS8oaC1yKStvJiYoaT0haSl9ZWxzZSBmb3IodmFyIHM9LTEsbj10aGlzLl9wb2ludHMubGVuZ3RoLTE7KytzPHRoaXMuX3BvaW50cy5sZW5ndGg7bj1zKXt2YXIgbz10aGlzLl9wb2ludHNbc10ueCxyPXRoaXMuX3BvaW50c1tzXS55LGE9dGhpcy5fcG9pbnRzW25dLngsaD10aGlzLl9wb2ludHNbbl0ueTsocjw9ZSYmZTxofHxoPD1lJiZlPHIpJiZ0PChhLW8pKihlLXIpLyhoLXIpK28mJihpPSFpKX1yZXR1cm4gaX0sc2V0VG86ZnVuY3Rpb24odCl7aWYodGhpcy5hcmVhPTAsdGhpcy5fcG9pbnRzPVtdLGFyZ3VtZW50cy5sZW5ndGg+MCl7QXJyYXkuaXNBcnJheSh0KXx8KHQ9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKSk7Zm9yKHZhciBlPU51bWJlci5NQVhfVkFMVUUsaT0wLHM9dC5sZW5ndGg7aTxzO2krKyl7aWYoXCJudW1iZXJcIj09dHlwZW9mIHRbaV0pe249bmV3IFBJWEkuUG9pbnQodFtpXSx0W2krMV0pO2krK31lbHNlIGlmKEFycmF5LmlzQXJyYXkodFtpXSkpbj1uZXcgUElYSS5Qb2ludCh0W2ldWzBdLHRbaV1bMV0pO2Vsc2UgdmFyIG49bmV3IFBJWEkuUG9pbnQodFtpXS54LHRbaV0ueSk7dGhpcy5fcG9pbnRzLnB1c2gobiksbi55PGUmJihlPW4ueSl9dGhpcy5jYWxjdWxhdGVBcmVhKGUpfXJldHVybiB0aGlzfSxjYWxjdWxhdGVBcmVhOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZSxpLHMsbixvPTAscj10aGlzLl9wb2ludHMubGVuZ3RoO288cjtvKyspZT10aGlzLl9wb2ludHNbb10saT1vPT09ci0xP3RoaXMuX3BvaW50c1swXTp0aGlzLl9wb2ludHNbbysxXSxzPShlLnktdCsoaS55LXQpKS8yLG49ZS54LWkueCx0aGlzLmFyZWErPXMqbjtyZXR1cm4gdGhpcy5hcmVhfX0saS5Qb2x5Z29uLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1pLlBvbHlnb24sT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuUG9seWdvbi5wcm90b3R5cGUsXCJwb2ludHNcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BvaW50c30sc2V0OmZ1bmN0aW9uKHQpe251bGwhPXQ/dGhpcy5zZXRUbyh0KTp0aGlzLnNldFRvKCl9fSksUElYSS5Qb2x5Z29uPWkuUG9seWdvbixpLlJlY3RhbmdsZT1mdW5jdGlvbih0LGUscyxuKXt0PXR8fDAsZT1lfHwwLHM9c3x8MCxuPW58fDAsdGhpcy54PXQsdGhpcy55PWUsdGhpcy53aWR0aD1zLHRoaXMuaGVpZ2h0PW4sdGhpcy50eXBlPWkuUkVDVEFOR0xFfSxpLlJlY3RhbmdsZS5wcm90b3R5cGU9e29mZnNldDpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLngrPXQsdGhpcy55Kz1lLHRoaXN9LG9mZnNldFBvaW50OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLm9mZnNldCh0LngsdC55KX0sc2V0VG86ZnVuY3Rpb24odCxlLGkscyl7cmV0dXJuIHRoaXMueD10LHRoaXMueT1lLHRoaXMud2lkdGg9aSx0aGlzLmhlaWdodD1zLHRoaXN9LHNjYWxlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHZvaWQgMD09PWUmJihlPXQpLHRoaXMud2lkdGgqPXQsdGhpcy5oZWlnaHQqPWUsdGhpc30sY2VudGVyT246ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5jZW50ZXJYPXQsdGhpcy5jZW50ZXJZPWUsdGhpc30sZmxvb3I6ZnVuY3Rpb24oKXt0aGlzLng9TWF0aC5mbG9vcih0aGlzLngpLHRoaXMueT1NYXRoLmZsb29yKHRoaXMueSl9LGZsb29yQWxsOmZ1bmN0aW9uKCl7dGhpcy54PU1hdGguZmxvb3IodGhpcy54KSx0aGlzLnk9TWF0aC5mbG9vcih0aGlzLnkpLHRoaXMud2lkdGg9TWF0aC5mbG9vcih0aGlzLndpZHRoKSx0aGlzLmhlaWdodD1NYXRoLmZsb29yKHRoaXMuaGVpZ2h0KX0sY2VpbDpmdW5jdGlvbigpe3RoaXMueD1NYXRoLmNlaWwodGhpcy54KSx0aGlzLnk9TWF0aC5jZWlsKHRoaXMueSl9LGNlaWxBbGw6ZnVuY3Rpb24oKXt0aGlzLng9TWF0aC5jZWlsKHRoaXMueCksdGhpcy55PU1hdGguY2VpbCh0aGlzLnkpLHRoaXMud2lkdGg9TWF0aC5jZWlsKHRoaXMud2lkdGgpLHRoaXMuaGVpZ2h0PU1hdGguY2VpbCh0aGlzLmhlaWdodCl9LGNvcHlGcm9tOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnNldFRvKHQueCx0LnksdC53aWR0aCx0LmhlaWdodCl9LGNvcHlGcm9tQm91bmRzOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnNldFRvKHQubGVmdCx0LnRvcCx0LndpZHRoLHQuaGVpZ2h0KX0sY29weVRvOmZ1bmN0aW9uKHQpe3JldHVybiB0Lng9dGhpcy54LHQueT10aGlzLnksdC53aWR0aD10aGlzLndpZHRoLHQuaGVpZ2h0PXRoaXMuaGVpZ2h0LHR9LGluZmxhdGU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gaS5SZWN0YW5nbGUuaW5mbGF0ZSh0aGlzLHQsZSl9LHNpemU6ZnVuY3Rpb24odCl7cmV0dXJuIGkuUmVjdGFuZ2xlLnNpemUodGhpcyx0KX0scmVzaXplOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMud2lkdGg9dCx0aGlzLmhlaWdodD1lLHRoaXN9LGNsb25lOmZ1bmN0aW9uKHQpe3JldHVybiBpLlJlY3RhbmdsZS5jbG9uZSh0aGlzLHQpfSxjb250YWluczpmdW5jdGlvbih0LGUpe3JldHVybiBpLlJlY3RhbmdsZS5jb250YWlucyh0aGlzLHQsZSl9LGNvbnRhaW5zUmVjdDpmdW5jdGlvbih0KXtyZXR1cm4gaS5SZWN0YW5nbGUuY29udGFpbnNSZWN0KHQsdGhpcyl9LGVxdWFsczpmdW5jdGlvbih0KXtyZXR1cm4gaS5SZWN0YW5nbGUuZXF1YWxzKHRoaXMsdCl9LGludGVyc2VjdGlvbjpmdW5jdGlvbih0LGUpe3JldHVybiBpLlJlY3RhbmdsZS5pbnRlcnNlY3Rpb24odGhpcyx0LGUpfSxpbnRlcnNlY3RzOmZ1bmN0aW9uKHQpe3JldHVybiBpLlJlY3RhbmdsZS5pbnRlcnNlY3RzKHRoaXMsdCl9LGludGVyc2VjdHNSYXc6ZnVuY3Rpb24odCxlLHMsbixvKXtyZXR1cm4gaS5SZWN0YW5nbGUuaW50ZXJzZWN0c1Jhdyh0aGlzLHQsZSxzLG4sbyl9LHVuaW9uOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIGkuUmVjdGFuZ2xlLnVuaW9uKHRoaXMsdCxlKX0scmFuZG9tOmZ1bmN0aW9uKHQpe3JldHVybiB2b2lkIDA9PT10JiYodD1uZXcgaS5Qb2ludCksdC54PXRoaXMucmFuZG9tWCx0Lnk9dGhpcy5yYW5kb21ZLHR9LGdldFBvaW50OmZ1bmN0aW9uKHQsZSl7c3dpdGNoKHZvaWQgMD09PWUmJihlPW5ldyBpLlBvaW50KSx0KXtkZWZhdWx0OmNhc2UgaS5UT1BfTEVGVDpyZXR1cm4gZS5zZXQodGhpcy54LHRoaXMueSk7Y2FzZSBpLlRPUF9DRU5URVI6cmV0dXJuIGUuc2V0KHRoaXMuY2VudGVyWCx0aGlzLnkpO2Nhc2UgaS5UT1BfUklHSFQ6cmV0dXJuIGUuc2V0KHRoaXMucmlnaHQsdGhpcy55KTtjYXNlIGkuTEVGVF9DRU5URVI6cmV0dXJuIGUuc2V0KHRoaXMueCx0aGlzLmNlbnRlclkpO2Nhc2UgaS5DRU5URVI6cmV0dXJuIGUuc2V0KHRoaXMuY2VudGVyWCx0aGlzLmNlbnRlclkpO2Nhc2UgaS5SSUdIVF9DRU5URVI6cmV0dXJuIGUuc2V0KHRoaXMucmlnaHQsdGhpcy5jZW50ZXJZKTtjYXNlIGkuQk9UVE9NX0xFRlQ6cmV0dXJuIGUuc2V0KHRoaXMueCx0aGlzLmJvdHRvbSk7Y2FzZSBpLkJPVFRPTV9DRU5URVI6cmV0dXJuIGUuc2V0KHRoaXMuY2VudGVyWCx0aGlzLmJvdHRvbSk7Y2FzZSBpLkJPVFRPTV9SSUdIVDpyZXR1cm4gZS5zZXQodGhpcy5yaWdodCx0aGlzLmJvdHRvbSl9fSxzaWRlczpmdW5jdGlvbih0LGUscyxuKXthcmd1bWVudHMubGVuZ3RofHwodD1uZXcgaS5MaW5lLGU9bmV3IGkuTGluZSxzPW5ldyBpLkxpbmUsbj1uZXcgaS5MaW5lKTt2YXIgbz10aGlzLngscj10aGlzLnksYT10aGlzLnJpZ2h0LGg9dGhpcy5ib3R0b207cmV0dXJuIHQuc2V0VG8obyxyLGEsciksZS5zZXRUbyhhLHIsYSxoKSxzLnNldFRvKG8saCxhLGgpLG4uc2V0VG8obyxyLG8saCksYXJndW1lbnRzLmxlbmd0aD9udWxsOlt0LGUscyxuXX0sdG9TdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm5cIlt7UmVjdGFuZ2xlICh4PVwiK3RoaXMueCtcIiB5PVwiK3RoaXMueStcIiB3aWR0aD1cIit0aGlzLndpZHRoK1wiIGhlaWdodD1cIit0aGlzLmhlaWdodCtcIiBlbXB0eT1cIit0aGlzLmVtcHR5K1wiKX1dXCJ9fSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5SZWN0YW5nbGUucHJvdG90eXBlLFwiaGFsZldpZHRoXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBNYXRoLnJvdW5kKHRoaXMud2lkdGgvMil9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuUmVjdGFuZ2xlLnByb3RvdHlwZSxcImhhbGZIZWlnaHRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIE1hdGgucm91bmQodGhpcy5oZWlnaHQvMil9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuUmVjdGFuZ2xlLnByb3RvdHlwZSxcImJvdHRvbVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy55K3RoaXMuaGVpZ2h0fSxzZXQ6ZnVuY3Rpb24odCl7dDw9dGhpcy55P3RoaXMuaGVpZ2h0PTA6dGhpcy5oZWlnaHQ9dC10aGlzLnl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuUmVjdGFuZ2xlLnByb3RvdHlwZSxcImJvdHRvbUxlZnRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBpLlBvaW50KHRoaXMueCx0aGlzLmJvdHRvbSl9LHNldDpmdW5jdGlvbih0KXt0aGlzLng9dC54LHRoaXMuYm90dG9tPXQueX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5SZWN0YW5nbGUucHJvdG90eXBlLFwiYm90dG9tUmlnaHRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBpLlBvaW50KHRoaXMucmlnaHQsdGhpcy5ib3R0b20pfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5yaWdodD10LngsdGhpcy5ib3R0b209dC55fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLlJlY3RhbmdsZS5wcm90b3R5cGUsXCJsZWZ0XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnh9LHNldDpmdW5jdGlvbih0KXt0Pj10aGlzLnJpZ2h0P3RoaXMud2lkdGg9MDp0aGlzLndpZHRoPXRoaXMucmlnaHQtdCx0aGlzLng9dH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5SZWN0YW5nbGUucHJvdG90eXBlLFwicmlnaHRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMueCt0aGlzLndpZHRofSxzZXQ6ZnVuY3Rpb24odCl7dDw9dGhpcy54P3RoaXMud2lkdGg9MDp0aGlzLndpZHRoPXQtdGhpcy54fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLlJlY3RhbmdsZS5wcm90b3R5cGUsXCJ2b2x1bWVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMud2lkdGgqdGhpcy5oZWlnaHR9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuUmVjdGFuZ2xlLnByb3RvdHlwZSxcInBlcmltZXRlclwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gMip0aGlzLndpZHRoKzIqdGhpcy5oZWlnaHR9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuUmVjdGFuZ2xlLnByb3RvdHlwZSxcImNlbnRlclhcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMueCt0aGlzLmhhbGZXaWR0aH0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMueD10LXRoaXMuaGFsZldpZHRofX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLlJlY3RhbmdsZS5wcm90b3R5cGUsXCJjZW50ZXJZXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnkrdGhpcy5oYWxmSGVpZ2h0fSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy55PXQtdGhpcy5oYWxmSGVpZ2h0fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLlJlY3RhbmdsZS5wcm90b3R5cGUsXCJyYW5kb21YXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLngrTWF0aC5yYW5kb20oKSp0aGlzLndpZHRofX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLlJlY3RhbmdsZS5wcm90b3R5cGUsXCJyYW5kb21ZXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnkrTWF0aC5yYW5kb20oKSp0aGlzLmhlaWdodH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5SZWN0YW5nbGUucHJvdG90eXBlLFwidG9wXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnl9LHNldDpmdW5jdGlvbih0KXt0Pj10aGlzLmJvdHRvbT8odGhpcy5oZWlnaHQ9MCx0aGlzLnk9dCk6dGhpcy5oZWlnaHQ9dGhpcy5ib3R0b20tdH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5SZWN0YW5nbGUucHJvdG90eXBlLFwidG9wTGVmdFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGkuUG9pbnQodGhpcy54LHRoaXMueSl9LHNldDpmdW5jdGlvbih0KXt0aGlzLng9dC54LHRoaXMueT10Lnl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuUmVjdGFuZ2xlLnByb3RvdHlwZSxcInRvcFJpZ2h0XCIse2dldDpmdW5jdGlvbigpe3JldHVybiBuZXcgaS5Qb2ludCh0aGlzLngrdGhpcy53aWR0aCx0aGlzLnkpfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5yaWdodD10LngsdGhpcy55PXQueX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5SZWN0YW5nbGUucHJvdG90eXBlLFwiZW1wdHlcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIXRoaXMud2lkdGh8fCF0aGlzLmhlaWdodH0sc2V0OmZ1bmN0aW9uKHQpeyEwPT09dCYmdGhpcy5zZXRUbygwLDAsMCwwKX19KSxpLlJlY3RhbmdsZS5wcm90b3R5cGUuY29uc3RydWN0b3I9aS5SZWN0YW5nbGUsaS5SZWN0YW5nbGUuaW5mbGF0ZT1mdW5jdGlvbih0LGUsaSl7cmV0dXJuIHQueC09ZSx0LndpZHRoKz0yKmUsdC55LT1pLHQuaGVpZ2h0Kz0yKmksdH0saS5SZWN0YW5nbGUuaW5mbGF0ZVBvaW50PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGkuUmVjdGFuZ2xlLmluZmxhdGUodCxlLngsZS55KX0saS5SZWN0YW5nbGUuc2l6ZT1mdW5jdGlvbih0LGUpe3JldHVybiB2b2lkIDA9PT1lfHxudWxsPT09ZT9lPW5ldyBpLlBvaW50KHQud2lkdGgsdC5oZWlnaHQpOmUuc2V0VG8odC53aWR0aCx0LmhlaWdodCksZX0saS5SZWN0YW5nbGUuY2xvbmU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdm9pZCAwPT09ZXx8bnVsbD09PWU/ZT1uZXcgaS5SZWN0YW5nbGUodC54LHQueSx0LndpZHRoLHQuaGVpZ2h0KTplLnNldFRvKHQueCx0LnksdC53aWR0aCx0LmhlaWdodCksZX0saS5SZWN0YW5nbGUuY3JlYXRlRnJvbUJvdW5kcz1mdW5jdGlvbih0LGUpe3JldHVybiB2b2lkIDAhPT1lJiZudWxsIT09ZXx8KGU9bmV3IGkuUmVjdGFuZ2xlKHQueCx0LnksdC53aWR0aCx0LmhlaWdodCkpLGUuY29weUZyb21Cb3VuZHModCl9LGkuUmVjdGFuZ2xlLmNvbnRhaW5zPWZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4hKHQud2lkdGg8PTB8fHQuaGVpZ2h0PD0wKSYmKGU+PXQueCYmZTx0LnJpZ2h0JiZpPj10LnkmJmk8dC5ib3R0b20pfSxpLlJlY3RhbmdsZS5jb250YWluc1Jhdz1mdW5jdGlvbih0LGUsaSxzLG4sbyl7cmV0dXJuIG4+PXQmJm48dCtpJiZvPj1lJiZvPGUrc30saS5SZWN0YW5nbGUuY29udGFpbnNQb2ludD1mdW5jdGlvbih0LGUpe3JldHVybiBpLlJlY3RhbmdsZS5jb250YWlucyh0LGUueCxlLnkpfSxpLlJlY3RhbmdsZS5jb250YWluc1JlY3Q9ZnVuY3Rpb24odCxlKXtyZXR1cm4hKHQudm9sdW1lPmUudm9sdW1lKSYmKHQueD49ZS54JiZ0Lnk+PWUueSYmdC5yaWdodDxlLnJpZ2h0JiZ0LmJvdHRvbTxlLmJvdHRvbSl9LGkuUmVjdGFuZ2xlLmVxdWFscz1mdW5jdGlvbih0LGUpe3JldHVybiB0Lng9PT1lLngmJnQueT09PWUueSYmdC53aWR0aD09PWUud2lkdGgmJnQuaGVpZ2h0PT09ZS5oZWlnaHR9LGkuUmVjdGFuZ2xlLnNhbWVEaW1lbnNpb25zPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQud2lkdGg9PT1lLndpZHRoJiZ0LmhlaWdodD09PWUuaGVpZ2h0fSxpLlJlY3RhbmdsZS5pbnRlcnNlY3Rpb249ZnVuY3Rpb24odCxlLHMpe3JldHVybiB2b2lkIDA9PT1zJiYocz1uZXcgaS5SZWN0YW5nbGUpLGkuUmVjdGFuZ2xlLmludGVyc2VjdHModCxlKSYmKHMueD1NYXRoLm1heCh0LngsZS54KSxzLnk9TWF0aC5tYXgodC55LGUueSkscy53aWR0aD1NYXRoLm1pbih0LnJpZ2h0LGUucmlnaHQpLXMueCxzLmhlaWdodD1NYXRoLm1pbih0LmJvdHRvbSxlLmJvdHRvbSktcy55KSxzfSxpLlJlY3RhbmdsZS5pbnRlcnNlY3RzPWZ1bmN0aW9uKHQsZSl7cmV0dXJuISh0LndpZHRoPD0wfHx0LmhlaWdodDw9MHx8ZS53aWR0aDw9MHx8ZS5oZWlnaHQ8PTApJiYhKHQucmlnaHQ8ZS54fHx0LmJvdHRvbTxlLnl8fHQueD5lLnJpZ2h0fHx0Lnk+ZS5ib3R0b20pfSxpLlJlY3RhbmdsZS5pbnRlcnNlY3RzUmF3PWZ1bmN0aW9uKHQsZSxpLHMsbixvKXtyZXR1cm4gdm9pZCAwPT09byYmKG89MCksIShlPnQucmlnaHQrb3x8aTx0LmxlZnQtb3x8cz50LmJvdHRvbStvfHxuPHQudG9wLW8pfSxpLlJlY3RhbmdsZS51bmlvbj1mdW5jdGlvbih0LGUscyl7cmV0dXJuIHZvaWQgMD09PXMmJihzPW5ldyBpLlJlY3RhbmdsZSkscy5zZXRUbyhNYXRoLm1pbih0LngsZS54KSxNYXRoLm1pbih0LnksZS55KSxNYXRoLm1heCh0LnJpZ2h0LGUucmlnaHQpLU1hdGgubWluKHQubGVmdCxlLmxlZnQpLE1hdGgubWF4KHQuYm90dG9tLGUuYm90dG9tKS1NYXRoLm1pbih0LnRvcCxlLnRvcCkpfSxpLlJlY3RhbmdsZS5hYWJiPWZ1bmN0aW9uKHQsZSl7dm9pZCAwPT09ZSYmKGU9bmV3IGkuUmVjdGFuZ2xlKTt2YXIgcz1OdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFksbj1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksbz1OdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFkscj1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7cmV0dXJuIHQuZm9yRWFjaChmdW5jdGlvbih0KXt0Lng+cyYmKHM9dC54KSx0Lng8biYmKG49dC54KSx0Lnk+byYmKG89dC55KSx0Lnk8ciYmKHI9dC55KX0pLGUuc2V0VG8obixyLHMtbixvLXIpLGV9LFBJWEkuUmVjdGFuZ2xlPWkuUmVjdGFuZ2xlLFBJWEkuRW1wdHlSZWN0YW5nbGU9bmV3IGkuUmVjdGFuZ2xlKDAsMCwwLDApLGkuUm91bmRlZFJlY3RhbmdsZT1mdW5jdGlvbih0LGUscyxuLG8pe3ZvaWQgMD09PXQmJih0PTApLHZvaWQgMD09PWUmJihlPTApLHZvaWQgMD09PXMmJihzPTApLHZvaWQgMD09PW4mJihuPTApLHZvaWQgMD09PW8mJihvPTIwKSx0aGlzLng9dCx0aGlzLnk9ZSx0aGlzLndpZHRoPXMsdGhpcy5oZWlnaHQ9bix0aGlzLnJhZGl1cz1vfHwyMCx0aGlzLnR5cGU9aS5ST1VOREVEUkVDVEFOR0xFfSxpLlJvdW5kZWRSZWN0YW5nbGUucHJvdG90eXBlPXtjbG9uZTpmdW5jdGlvbigpe3JldHVybiBuZXcgaS5Sb3VuZGVkUmVjdGFuZ2xlKHRoaXMueCx0aGlzLnksdGhpcy53aWR0aCx0aGlzLmhlaWdodCx0aGlzLnJhZGl1cyl9LGNvbnRhaW5zOmZ1bmN0aW9uKHQsZSl7aWYodGhpcy53aWR0aDw9MHx8dGhpcy5oZWlnaHQ8PTApcmV0dXJuITE7dmFyIGk9dGhpcy54O2lmKHQ+PWkmJnQ8PWkrdGhpcy53aWR0aCl7dmFyIHM9dGhpcy55O2lmKGU+PXMmJmU8PXMrdGhpcy5oZWlnaHQpcmV0dXJuITB9cmV0dXJuITF9fSxpLlJvdW5kZWRSZWN0YW5nbGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWkuUm91bmRlZFJlY3RhbmdsZSxQSVhJLlJvdW5kZWRSZWN0YW5nbGU9aS5Sb3VuZGVkUmVjdGFuZ2xlLGkuQ2FtZXJhPWZ1bmN0aW9uKHQsZSxzLG4sbyxyKXt0aGlzLmdhbWU9dCx0aGlzLndvcmxkPXQud29ybGQsdGhpcy5pZD0wLHRoaXMudmlldz1uZXcgaS5SZWN0YW5nbGUocyxuLG8sciksdGhpcy5ib3VuZHM9bmV3IGkuUmVjdGFuZ2xlKHMsbixvLHIpLHRoaXMuZGVhZHpvbmU9bnVsbCx0aGlzLnZpc2libGU9ITAsdGhpcy5yb3VuZFB4PSEwLHRoaXMuYXRMaW1pdD17eDohMSx5OiExfSx0aGlzLnRhcmdldD1udWxsLHRoaXMuZGlzcGxheU9iamVjdD1udWxsLHRoaXMuc2NhbGU9bnVsbCx0aGlzLnRvdGFsSW5WaWV3PTAsdGhpcy5sZXJwPW5ldyBpLlBvaW50KDEsMSksdGhpcy5vblNoYWtlQ29tcGxldGU9bmV3IGkuU2lnbmFsLHRoaXMub25GbGFzaENvbXBsZXRlPW5ldyBpLlNpZ25hbCx0aGlzLm9uRmFkZUNvbXBsZXRlPW5ldyBpLlNpZ25hbCx0aGlzLmZ4PW51bGwsdGhpcy5fdGFyZ2V0UG9zaXRpb249bmV3IGkuUG9pbnQsdGhpcy5fZWRnZT0wLHRoaXMuX3Bvc2l0aW9uPW5ldyBpLlBvaW50LHRoaXMuX3NoYWtlPXtpbnRlbnNpdHk6MCxkdXJhdGlvbjowLGhvcml6b250YWw6ITEsdmVydGljYWw6ITEsc2hha2VCb3VuZHM6ITAseDowLHk6MH0sdGhpcy5fZnhEdXJhdGlvbj0wLHRoaXMuX2Z4VHlwZT0wLHRoaXMuX2ZpeGVkVmlldz1uZXcgaS5SZWN0YW5nbGV9LGkuQ2FtZXJhLkZPTExPV19MT0NLT049MCxpLkNhbWVyYS5GT0xMT1dfUExBVEZPUk1FUj0xLGkuQ2FtZXJhLkZPTExPV19UT1BET1dOPTIsaS5DYW1lcmEuRk9MTE9XX1RPUERPV05fVElHSFQ9MyxpLkNhbWVyYS5TSEFLRV9CT1RIPTQsaS5DYW1lcmEuU0hBS0VfSE9SSVpPTlRBTD01LGkuQ2FtZXJhLlNIQUtFX1ZFUlRJQ0FMPTYsaS5DYW1lcmEuRU5BQkxFX0ZYPSEwLGkuQ2FtZXJhLnByb3RvdHlwZT17Ym9vdDpmdW5jdGlvbigpe3RoaXMuZGlzcGxheU9iamVjdD10aGlzLmdhbWUud29ybGQsdGhpcy5zY2FsZT10aGlzLmdhbWUud29ybGQuc2NhbGUsdGhpcy5nYW1lLmNhbWVyYT10aGlzLGkuR3JhcGhpY3MmJmkuQ2FtZXJhLkVOQUJMRV9GWCYmKHRoaXMuZng9bmV3IGkuR3JhcGhpY3ModGhpcy5nYW1lKSx0aGlzLmdhbWUuc3RhZ2UuYWRkQ2hpbGQodGhpcy5meCkpfSxwcmVVcGRhdGU6ZnVuY3Rpb24oKXt0aGlzLnRvdGFsSW5WaWV3PTB9LGZvbGxvdzpmdW5jdGlvbih0LGUscyxuKXt2b2lkIDA9PT1lJiYoZT1pLkNhbWVyYS5GT0xMT1dfTE9DS09OKSx2b2lkIDA9PT1zJiYocz0xKSx2b2lkIDA9PT1uJiYobj0xKSx0aGlzLnRhcmdldD10LHRoaXMubGVycC5zZXQocyxuKTt2YXIgbztzd2l0Y2goZSl7Y2FzZSBpLkNhbWVyYS5GT0xMT1dfUExBVEZPUk1FUjp2YXIgcj10aGlzLndpZHRoLzgsYT10aGlzLmhlaWdodC8zO3RoaXMuZGVhZHpvbmU9bmV3IGkuUmVjdGFuZ2xlKCh0aGlzLndpZHRoLXIpLzIsKHRoaXMuaGVpZ2h0LWEpLzItLjI1KmEscixhKTticmVhaztjYXNlIGkuQ2FtZXJhLkZPTExPV19UT1BET1dOOm89TWF0aC5tYXgodGhpcy53aWR0aCx0aGlzLmhlaWdodCkvNCx0aGlzLmRlYWR6b25lPW5ldyBpLlJlY3RhbmdsZSgodGhpcy53aWR0aC1vKS8yLCh0aGlzLmhlaWdodC1vKS8yLG8sbyk7YnJlYWs7Y2FzZSBpLkNhbWVyYS5GT0xMT1dfVE9QRE9XTl9USUdIVDpvPU1hdGgubWF4KHRoaXMud2lkdGgsdGhpcy5oZWlnaHQpLzgsdGhpcy5kZWFkem9uZT1uZXcgaS5SZWN0YW5nbGUoKHRoaXMud2lkdGgtbykvMiwodGhpcy5oZWlnaHQtbykvMixvLG8pO2JyZWFrO2Nhc2UgaS5DYW1lcmEuRk9MTE9XX0xPQ0tPTjpkZWZhdWx0OnRoaXMuZGVhZHpvbmU9bnVsbH19LHVuZm9sbG93OmZ1bmN0aW9uKCl7dGhpcy50YXJnZXQ9bnVsbH0sZm9jdXNPbjpmdW5jdGlvbih0KXt0aGlzLnNldFBvc2l0aW9uKE1hdGgucm91bmQodC54LXRoaXMudmlldy5oYWxmV2lkdGgpLE1hdGgucm91bmQodC55LXRoaXMudmlldy5oYWxmSGVpZ2h0KSl9LGZvY3VzT25YWTpmdW5jdGlvbih0LGUpe3RoaXMuc2V0UG9zaXRpb24oTWF0aC5yb3VuZCh0LXRoaXMudmlldy5oYWxmV2lkdGgpLE1hdGgucm91bmQoZS10aGlzLnZpZXcuaGFsZkhlaWdodCkpfSxzaGFrZTpmdW5jdGlvbih0LGUscyxuLG8pe3JldHVybiB2b2lkIDA9PT10JiYodD0uMDUpLHZvaWQgMD09PWUmJihlPTUwMCksdm9pZCAwPT09cyYmKHM9ITApLHZvaWQgMD09PW4mJihuPWkuQ2FtZXJhLlNIQUtFX0JPVEgpLHZvaWQgMD09PW8mJihvPSEwKSwhKCFzJiZ0aGlzLl9zaGFrZS5kdXJhdGlvbj4wKSYmKHRoaXMuX3NoYWtlLmludGVuc2l0eT10LHRoaXMuX3NoYWtlLmR1cmF0aW9uPWUsdGhpcy5fc2hha2Uuc2hha2VCb3VuZHM9byx0aGlzLl9zaGFrZS54PTAsdGhpcy5fc2hha2UueT0wLHRoaXMuX3NoYWtlLmhvcml6b250YWw9bj09PWkuQ2FtZXJhLlNIQUtFX0JPVEh8fG49PT1pLkNhbWVyYS5TSEFLRV9IT1JJWk9OVEFMLHRoaXMuX3NoYWtlLnZlcnRpY2FsPW49PT1pLkNhbWVyYS5TSEFLRV9CT1RIfHxuPT09aS5DYW1lcmEuU0hBS0VfVkVSVElDQUwsITApfSxmbGFzaDpmdW5jdGlvbih0LGUsaSxzKXtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9MTY3NzcyMTUpLHZvaWQgMD09PWUmJihlPTUwMCksdm9pZCAwPT09aSYmKGk9ITEpLHZvaWQgMD09PXMmJihzPTEpLCEoIXRoaXMuZnh8fCFpJiZ0aGlzLl9meER1cmF0aW9uPjApJiYodGhpcy5meC5jbGVhcigpLHRoaXMuZnguYmVnaW5GaWxsKHQscyksdGhpcy5meC5kcmF3UmVjdCgwLDAsdGhpcy53aWR0aCx0aGlzLmhlaWdodCksdGhpcy5meC5lbmRGaWxsKCksdGhpcy5meC5hbHBoYT0xLHRoaXMuX2Z4RHVyYXRpb249ZSx0aGlzLl9meFR5cGU9MCwhMCl9LGZhZGU6ZnVuY3Rpb24odCxlLGkscyl7cmV0dXJuIHZvaWQgMD09PXQmJih0PTApLHZvaWQgMD09PWUmJihlPTUwMCksdm9pZCAwPT09aSYmKGk9ITEpLHZvaWQgMD09PXMmJihzPTEpLCEoIXRoaXMuZnh8fCFpJiZ0aGlzLl9meER1cmF0aW9uPjApJiYodGhpcy5meC5jbGVhcigpLHRoaXMuZnguYmVnaW5GaWxsKHQscyksdGhpcy5meC5kcmF3UmVjdCgwLDAsdGhpcy53aWR0aCx0aGlzLmhlaWdodCksdGhpcy5meC5lbmRGaWxsKCksdGhpcy5meC5hbHBoYT0wLHRoaXMuX2Z4RHVyYXRpb249ZSx0aGlzLl9meFR5cGU9MSwhMCl9LHVwZGF0ZTpmdW5jdGlvbigpe3RoaXMuX2Z4RHVyYXRpb24+MCYmdGhpcy51cGRhdGVGWCgpLHRoaXMuX3NoYWtlLmR1cmF0aW9uPjAmJnRoaXMudXBkYXRlU2hha2UoKSx0aGlzLmJvdW5kcyYmdGhpcy5jaGVja0JvdW5kcygpLHRoaXMucm91bmRQeCYmKHRoaXMudmlldy5mbG9vcigpLHRoaXMuX3NoYWtlLng9TWF0aC5mbG9vcih0aGlzLl9zaGFrZS54KSx0aGlzLl9zaGFrZS55PU1hdGguZmxvb3IodGhpcy5fc2hha2UueSkpLHRoaXMuZGlzcGxheU9iamVjdC5wb3NpdGlvbi54PS10aGlzLnZpZXcueCx0aGlzLmRpc3BsYXlPYmplY3QucG9zaXRpb24ueT0tdGhpcy52aWV3Lnl9LHVwZGF0ZUZYOmZ1bmN0aW9uKCl7MD09PXRoaXMuX2Z4VHlwZT8odGhpcy5meC5hbHBoYS09dGhpcy5nYW1lLnRpbWUuZWxhcHNlZE1TL3RoaXMuX2Z4RHVyYXRpb24sdGhpcy5meC5hbHBoYTw9MCYmKHRoaXMuX2Z4RHVyYXRpb249MCx0aGlzLmZ4LmFscGhhPTAsdGhpcy5vbkZsYXNoQ29tcGxldGUuZGlzcGF0Y2goKSkpOih0aGlzLmZ4LmFscGhhKz10aGlzLmdhbWUudGltZS5lbGFwc2VkTVMvdGhpcy5fZnhEdXJhdGlvbix0aGlzLmZ4LmFscGhhPj0xJiYodGhpcy5fZnhEdXJhdGlvbj0wLHRoaXMuZnguYWxwaGE9MSx0aGlzLm9uRmFkZUNvbXBsZXRlLmRpc3BhdGNoKCkpKX0sdXBkYXRlU2hha2U6ZnVuY3Rpb24oKXt0aGlzLl9zaGFrZS5kdXJhdGlvbi09dGhpcy5nYW1lLnRpbWUuZWxhcHNlZE1TLHRoaXMuX3NoYWtlLmR1cmF0aW9uPD0wPyh0aGlzLm9uU2hha2VDb21wbGV0ZS5kaXNwYXRjaCgpLHRoaXMuX3NoYWtlLng9MCx0aGlzLl9zaGFrZS55PTApOih0aGlzLl9zaGFrZS5ob3Jpem9udGFsJiYodGhpcy5fc2hha2UueD10aGlzLmdhbWUucm5kLmZyYWMoKSp0aGlzLl9zaGFrZS5pbnRlbnNpdHkqdGhpcy52aWV3LndpZHRoKjItdGhpcy5fc2hha2UuaW50ZW5zaXR5KnRoaXMudmlldy53aWR0aCksdGhpcy5fc2hha2UudmVydGljYWwmJih0aGlzLl9zaGFrZS55PXRoaXMuZ2FtZS5ybmQuZnJhYygpKnRoaXMuX3NoYWtlLmludGVuc2l0eSp0aGlzLnZpZXcuaGVpZ2h0KjItdGhpcy5fc2hha2UuaW50ZW5zaXR5KnRoaXMudmlldy5oZWlnaHQpKX0sdXBkYXRlVGFyZ2V0OmZ1bmN0aW9uKCl7dGhpcy5fdGFyZ2V0UG9zaXRpb24ueD10aGlzLnZpZXcueCt0aGlzLnRhcmdldC53b3JsZFBvc2l0aW9uLngsdGhpcy5fdGFyZ2V0UG9zaXRpb24ueT10aGlzLnZpZXcueSt0aGlzLnRhcmdldC53b3JsZFBvc2l0aW9uLnksdGhpcy5kZWFkem9uZT8odGhpcy5fZWRnZT10aGlzLl90YXJnZXRQb3NpdGlvbi54LXRoaXMudmlldy54LHRoaXMuX2VkZ2U8dGhpcy5kZWFkem9uZS5sZWZ0P3RoaXMudmlldy54PXRoaXMuZ2FtZS5tYXRoLmxpbmVhcih0aGlzLnZpZXcueCx0aGlzLl90YXJnZXRQb3NpdGlvbi54LXRoaXMuZGVhZHpvbmUubGVmdCx0aGlzLmxlcnAueCk6dGhpcy5fZWRnZT50aGlzLmRlYWR6b25lLnJpZ2h0JiYodGhpcy52aWV3Lng9dGhpcy5nYW1lLm1hdGgubGluZWFyKHRoaXMudmlldy54LHRoaXMuX3RhcmdldFBvc2l0aW9uLngtdGhpcy5kZWFkem9uZS5yaWdodCx0aGlzLmxlcnAueCkpLHRoaXMuX2VkZ2U9dGhpcy5fdGFyZ2V0UG9zaXRpb24ueS10aGlzLnZpZXcueSx0aGlzLl9lZGdlPHRoaXMuZGVhZHpvbmUudG9wP3RoaXMudmlldy55PXRoaXMuZ2FtZS5tYXRoLmxpbmVhcih0aGlzLnZpZXcueSx0aGlzLl90YXJnZXRQb3NpdGlvbi55LXRoaXMuZGVhZHpvbmUudG9wLHRoaXMubGVycC55KTp0aGlzLl9lZGdlPnRoaXMuZGVhZHpvbmUuYm90dG9tJiYodGhpcy52aWV3Lnk9dGhpcy5nYW1lLm1hdGgubGluZWFyKHRoaXMudmlldy55LHRoaXMuX3RhcmdldFBvc2l0aW9uLnktdGhpcy5kZWFkem9uZS5ib3R0b20sdGhpcy5sZXJwLnkpKSk6KHRoaXMudmlldy54PXRoaXMuZ2FtZS5tYXRoLmxpbmVhcih0aGlzLnZpZXcueCx0aGlzLl90YXJnZXRQb3NpdGlvbi54LXRoaXMudmlldy5oYWxmV2lkdGgsdGhpcy5sZXJwLngpLHRoaXMudmlldy55PXRoaXMuZ2FtZS5tYXRoLmxpbmVhcih0aGlzLnZpZXcueSx0aGlzLl90YXJnZXRQb3NpdGlvbi55LXRoaXMudmlldy5oYWxmSGVpZ2h0LHRoaXMubGVycC55KSksdGhpcy5ib3VuZHMmJnRoaXMuY2hlY2tCb3VuZHMoKSx0aGlzLnJvdW5kUHgmJnRoaXMudmlldy5mbG9vcigpLHRoaXMuZGlzcGxheU9iamVjdC5wb3NpdGlvbi54PS10aGlzLnZpZXcueCx0aGlzLmRpc3BsYXlPYmplY3QucG9zaXRpb24ueT0tdGhpcy52aWV3Lnl9LHNldEJvdW5kc1RvV29ybGQ6ZnVuY3Rpb24oKXt0aGlzLmJvdW5kcyYmdGhpcy5ib3VuZHMuY29weUZyb20odGhpcy5nYW1lLndvcmxkLmJvdW5kcyl9LGNoZWNrQm91bmRzOmZ1bmN0aW9uKCl7dGhpcy5hdExpbWl0Lng9ITEsdGhpcy5hdExpbWl0Lnk9ITE7dmFyIHQ9dGhpcy52aWV3LngrdGhpcy5fc2hha2UueCxlPXRoaXMudmlldy5yaWdodCt0aGlzLl9zaGFrZS54LGk9dGhpcy52aWV3LnkrdGhpcy5fc2hha2UueSxzPXRoaXMudmlldy5ib3R0b20rdGhpcy5fc2hha2UueTt0PD10aGlzLmJvdW5kcy54KnRoaXMuc2NhbGUueD8odGhpcy5hdExpbWl0Lng9ITAsdGhpcy52aWV3Lng9dGhpcy5ib3VuZHMueCp0aGlzLnNjYWxlLngsdGhpcy5fc2hha2Uuc2hha2VCb3VuZHN8fCh0aGlzLl9zaGFrZS54PTApKTplPj10aGlzLmJvdW5kcy5yaWdodCp0aGlzLnNjYWxlLngmJih0aGlzLmF0TGltaXQueD0hMCx0aGlzLnZpZXcueD10aGlzLmJvdW5kcy5yaWdodCp0aGlzLnNjYWxlLngtdGhpcy53aWR0aCx0aGlzLl9zaGFrZS5zaGFrZUJvdW5kc3x8KHRoaXMuX3NoYWtlLng9MCkpLGk8PXRoaXMuYm91bmRzLnRvcCp0aGlzLnNjYWxlLnk/KHRoaXMuYXRMaW1pdC55PSEwLHRoaXMudmlldy55PXRoaXMuYm91bmRzLnRvcCp0aGlzLnNjYWxlLnksdGhpcy5fc2hha2Uuc2hha2VCb3VuZHN8fCh0aGlzLl9zaGFrZS55PTApKTpzPj10aGlzLmJvdW5kcy5ib3R0b20qdGhpcy5zY2FsZS55JiYodGhpcy5hdExpbWl0Lnk9ITAsdGhpcy52aWV3Lnk9dGhpcy5ib3VuZHMuYm90dG9tKnRoaXMuc2NhbGUueS10aGlzLmhlaWdodCx0aGlzLl9zaGFrZS5zaGFrZUJvdW5kc3x8KHRoaXMuX3NoYWtlLnk9MCkpfSxzZXRQb3NpdGlvbjpmdW5jdGlvbih0LGUpe3RoaXMudmlldy54PXQsdGhpcy52aWV3Lnk9ZSx0aGlzLmJvdW5kcyYmdGhpcy5jaGVja0JvdW5kcygpfSxzZXRTaXplOmZ1bmN0aW9uKHQsZSl7dGhpcy52aWV3LndpZHRoPXQsdGhpcy52aWV3LmhlaWdodD1lfSxyZXNldDpmdW5jdGlvbigpe3RoaXMudGFyZ2V0PW51bGwsdGhpcy52aWV3Lng9MCx0aGlzLnZpZXcueT0wLHRoaXMuX3NoYWtlLmR1cmF0aW9uPTAsdGhpcy5fc2hha2UueD0wLHRoaXMuX3NoYWtlLnk9MCx0aGlzLnJlc2V0RlgoKX0scmVzZXRGWDpmdW5jdGlvbigpe3RoaXMuZngmJih0aGlzLmZ4LmNsZWFyKCksdGhpcy5meC5hbHBoYT0wKSx0aGlzLl9meER1cmF0aW9uPTB9fSxpLkNhbWVyYS5wcm90b3R5cGUuY29uc3RydWN0b3I9aS5DYW1lcmEsT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuQ2FtZXJhLnByb3RvdHlwZSxcInhcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudmlldy54fSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy52aWV3Lng9dCx0aGlzLmJvdW5kcyYmdGhpcy5jaGVja0JvdW5kcygpfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLkNhbWVyYS5wcm90b3R5cGUsXCJ5XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnZpZXcueX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMudmlldy55PXQsdGhpcy5ib3VuZHMmJnRoaXMuY2hlY2tCb3VuZHMoKX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5DYW1lcmEucHJvdG90eXBlLFwicG9zaXRpb25cIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3Bvc2l0aW9uLnNldCh0aGlzLnZpZXcueCx0aGlzLnZpZXcueSksdGhpcy5fcG9zaXRpb259LHNldDpmdW5jdGlvbih0KXt2b2lkIDAhPT10LngmJih0aGlzLnZpZXcueD10LngpLHZvaWQgMCE9PXQueSYmKHRoaXMudmlldy55PXQueSksdGhpcy5ib3VuZHMmJnRoaXMuY2hlY2tCb3VuZHMoKX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5DYW1lcmEucHJvdG90eXBlLFwid2lkdGhcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudmlldy53aWR0aH0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMudmlldy53aWR0aD10fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLkNhbWVyYS5wcm90b3R5cGUsXCJoZWlnaHRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudmlldy5oZWlnaHR9LHNldDpmdW5jdGlvbih0KXt0aGlzLnZpZXcuaGVpZ2h0PXR9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuQ2FtZXJhLnByb3RvdHlwZSxcInNoYWtlSW50ZW5zaXR5XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zaGFrZS5pbnRlbnNpdHl9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9zaGFrZS5pbnRlbnNpdHk9dH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5DYW1lcmEucHJvdG90eXBlLFwiZml4ZWRWaWV3XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9maXhlZFZpZXcuc2V0VG8oMCwwLHRoaXMudmlldy53aWR0aCx0aGlzLnZpZXcuaGVpZ2h0KSx0aGlzLl9maXhlZFZpZXd9fSksaS5TdGF0ZT1mdW5jdGlvbigpe3RoaXMuZ2FtZT1udWxsLHRoaXMua2V5PVwiXCIsdGhpcy5hZGQ9bnVsbCx0aGlzLm1ha2U9bnVsbCx0aGlzLmNhbWVyYT1udWxsLHRoaXMuY2FjaGU9bnVsbCx0aGlzLmlucHV0PW51bGwsdGhpcy5sb2FkPW51bGwsdGhpcy5tYXRoPW51bGwsdGhpcy5zb3VuZD1udWxsLHRoaXMuc2NhbGU9bnVsbCx0aGlzLnN0YWdlPW51bGwsdGhpcy5zdGF0ZT1udWxsLHRoaXMudGltZT1udWxsLHRoaXMudHdlZW5zPW51bGwsdGhpcy53b3JsZD1udWxsLHRoaXMucGFydGljbGVzPW51bGwsdGhpcy5waHlzaWNzPW51bGwsdGhpcy5ybmQ9bnVsbH0saS5TdGF0ZS5wcm90b3R5cGU9e2luaXQ6ZnVuY3Rpb24oKXt9LHByZWxvYWQ6ZnVuY3Rpb24oKXt9LGxvYWRVcGRhdGU6ZnVuY3Rpb24oKXt9LGxvYWRSZW5kZXI6ZnVuY3Rpb24oKXt9LGNyZWF0ZTpmdW5jdGlvbigpe30sdXBkYXRlOmZ1bmN0aW9uKCl7fSxwcmVSZW5kZXI6ZnVuY3Rpb24oKXt9LHJlbmRlcjpmdW5jdGlvbigpe30scmVzaXplOmZ1bmN0aW9uKCl7fSxwYXVzZWQ6ZnVuY3Rpb24oKXt9LHJlc3VtZWQ6ZnVuY3Rpb24oKXt9LHBhdXNlVXBkYXRlOmZ1bmN0aW9uKCl7fSxzaHV0ZG93bjpmdW5jdGlvbigpe319LGkuU3RhdGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWkuU3RhdGUsaS5TdGF0ZU1hbmFnZXI9ZnVuY3Rpb24odCxlKXt0aGlzLmdhbWU9dCx0aGlzLnN0YXRlcz17fSx0aGlzLl9wZW5kaW5nU3RhdGU9bnVsbCx2b2lkIDAhPT1lJiZudWxsIT09ZSYmKHRoaXMuX3BlbmRpbmdTdGF0ZT1lKSx0aGlzLl9jbGVhcldvcmxkPSExLHRoaXMuX2NsZWFyQ2FjaGU9ITEsdGhpcy5fY3JlYXRlZD0hMSx0aGlzLl9hcmdzPVtdLHRoaXMuY3VycmVudD1cIlwiLHRoaXMub25TdGF0ZUNoYW5nZT1uZXcgaS5TaWduYWwsdGhpcy5vbkluaXRDYWxsYmFjaz1udWxsLHRoaXMub25QcmVsb2FkQ2FsbGJhY2s9bnVsbCx0aGlzLm9uQ3JlYXRlQ2FsbGJhY2s9bnVsbCx0aGlzLm9uVXBkYXRlQ2FsbGJhY2s9bnVsbCx0aGlzLm9uUmVuZGVyQ2FsbGJhY2s9bnVsbCx0aGlzLm9uUmVzaXplQ2FsbGJhY2s9bnVsbCx0aGlzLm9uUHJlUmVuZGVyQ2FsbGJhY2s9bnVsbCx0aGlzLm9uTG9hZFVwZGF0ZUNhbGxiYWNrPW51bGwsdGhpcy5vbkxvYWRSZW5kZXJDYWxsYmFjaz1udWxsLHRoaXMub25QYXVzZWRDYWxsYmFjaz1udWxsLHRoaXMub25SZXN1bWVkQ2FsbGJhY2s9bnVsbCx0aGlzLm9uUGF1c2VVcGRhdGVDYWxsYmFjaz1udWxsLHRoaXMub25TaHV0RG93bkNhbGxiYWNrPW51bGx9LGkuU3RhdGVNYW5hZ2VyLnByb3RvdHlwZT17Ym9vdDpmdW5jdGlvbigpe3RoaXMuZ2FtZS5vblBhdXNlLmFkZCh0aGlzLnBhdXNlLHRoaXMpLHRoaXMuZ2FtZS5vblJlc3VtZS5hZGQodGhpcy5yZXN1bWUsdGhpcyksbnVsbCE9PXRoaXMuX3BlbmRpbmdTdGF0ZSYmXCJzdHJpbmdcIiE9dHlwZW9mIHRoaXMuX3BlbmRpbmdTdGF0ZSYmdGhpcy5hZGQoXCJkZWZhdWx0XCIsdGhpcy5fcGVuZGluZ1N0YXRlLCEwKX0sYWRkOmZ1bmN0aW9uKHQsZSxzKXt2b2lkIDA9PT1zJiYocz0hMSk7dmFyIG47cmV0dXJuIGUgaW5zdGFuY2VvZiBpLlN0YXRlP249ZTpcIm9iamVjdFwiPT10eXBlb2YgZT8obj1lKS5nYW1lPXRoaXMuZ2FtZTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBlJiYobj1uZXcgZSh0aGlzLmdhbWUpKSx0aGlzLnN0YXRlc1t0XT1uLHMmJih0aGlzLmdhbWUuaXNCb290ZWQ/dGhpcy5zdGFydCh0KTp0aGlzLl9wZW5kaW5nU3RhdGU9dCksbn0scmVtb3ZlOmZ1bmN0aW9uKHQpe3RoaXMuY3VycmVudD09PXQmJih0aGlzLmNhbGxiYWNrQ29udGV4dD1udWxsLHRoaXMub25Jbml0Q2FsbGJhY2s9bnVsbCx0aGlzLm9uU2h1dERvd25DYWxsYmFjaz1udWxsLHRoaXMub25QcmVsb2FkQ2FsbGJhY2s9bnVsbCx0aGlzLm9uTG9hZFJlbmRlckNhbGxiYWNrPW51bGwsdGhpcy5vbkxvYWRVcGRhdGVDYWxsYmFjaz1udWxsLHRoaXMub25DcmVhdGVDYWxsYmFjaz1udWxsLHRoaXMub25VcGRhdGVDYWxsYmFjaz1udWxsLHRoaXMub25QcmVSZW5kZXJDYWxsYmFjaz1udWxsLHRoaXMub25SZW5kZXJDYWxsYmFjaz1udWxsLHRoaXMub25SZXNpemVDYWxsYmFjaz1udWxsLHRoaXMub25QYXVzZWRDYWxsYmFjaz1udWxsLHRoaXMub25SZXN1bWVkQ2FsbGJhY2s9bnVsbCx0aGlzLm9uUGF1c2VVcGRhdGVDYWxsYmFjaz1udWxsKSxkZWxldGUgdGhpcy5zdGF0ZXNbdF19LHN0YXJ0OmZ1bmN0aW9uKHQsZSxpKXt2b2lkIDA9PT1lJiYoZT0hMCksdm9pZCAwPT09aSYmKGk9ITEpLHRoaXMuY2hlY2tTdGF0ZSh0KSYmKHRoaXMuX3BlbmRpbmdTdGF0ZT10LHRoaXMuX2NsZWFyV29ybGQ9ZSx0aGlzLl9jbGVhckNhY2hlPWksYXJndW1lbnRzLmxlbmd0aD4zJiYodGhpcy5fYXJncz1BcnJheS5wcm90b3R5cGUuc3BsaWNlLmNhbGwoYXJndW1lbnRzLDMpKSl9LHJlc3RhcnQ6ZnVuY3Rpb24odCxlKXt2b2lkIDA9PT10JiYodD0hMCksdm9pZCAwPT09ZSYmKGU9ITEpLHRoaXMuX3BlbmRpbmdTdGF0ZT10aGlzLmN1cnJlbnQsdGhpcy5fY2xlYXJXb3JsZD10LHRoaXMuX2NsZWFyQ2FjaGU9ZSxhcmd1bWVudHMubGVuZ3RoPjImJih0aGlzLl9hcmdzPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywyKSl9LGR1bW15OmZ1bmN0aW9uKCl7fSxwcmVVcGRhdGU6ZnVuY3Rpb24oKXtpZih0aGlzLl9wZW5kaW5nU3RhdGUmJnRoaXMuZ2FtZS5pc0Jvb3RlZCl7dmFyIHQ9dGhpcy5jdXJyZW50O2lmKHRoaXMuY2xlYXJDdXJyZW50U3RhdGUoKSx0aGlzLnNldEN1cnJlbnRTdGF0ZSh0aGlzLl9wZW5kaW5nU3RhdGUpLHRoaXMub25TdGF0ZUNoYW5nZS5kaXNwYXRjaCh0aGlzLmN1cnJlbnQsdCksdGhpcy5jdXJyZW50IT09dGhpcy5fcGVuZGluZ1N0YXRlKXJldHVybjt0aGlzLl9wZW5kaW5nU3RhdGU9bnVsbCx0aGlzLm9uUHJlbG9hZENhbGxiYWNrPyh0aGlzLmdhbWUubG9hZC5yZXNldCghMCksdGhpcy5vblByZWxvYWRDYWxsYmFjay5jYWxsKHRoaXMuY2FsbGJhY2tDb250ZXh0LHRoaXMuZ2FtZSksMD09PXRoaXMuZ2FtZS5sb2FkLnRvdGFsUXVldWVkRmlsZXMoKSYmMD09PXRoaXMuZ2FtZS5sb2FkLnRvdGFsUXVldWVkUGFja3MoKT90aGlzLmxvYWRDb21wbGV0ZSgpOnRoaXMuZ2FtZS5sb2FkLnN0YXJ0KCkpOnRoaXMubG9hZENvbXBsZXRlKCl9fSxjbGVhckN1cnJlbnRTdGF0ZTpmdW5jdGlvbigpe3RoaXMuY3VycmVudCYmKHRoaXMub25TaHV0RG93bkNhbGxiYWNrJiZ0aGlzLm9uU2h1dERvd25DYWxsYmFjay5jYWxsKHRoaXMuY2FsbGJhY2tDb250ZXh0LHRoaXMuZ2FtZSksdGhpcy5nYW1lLnR3ZWVucy5yZW1vdmVBbGwoKSx0aGlzLmdhbWUuY2FtZXJhLnJlc2V0KCksdGhpcy5nYW1lLmlucHV0LnJlc2V0KCEwKSx0aGlzLmdhbWUucGh5c2ljcy5jbGVhcigpLHRoaXMuZ2FtZS50aW1lLnJlbW92ZUFsbCgpLHRoaXMuZ2FtZS5zY2FsZS5yZXNldCh0aGlzLl9jbGVhcldvcmxkKSx0aGlzLmdhbWUuZGVidWcmJnRoaXMuZ2FtZS5kZWJ1Zy5yZXNldCgpLHRoaXMuX2NsZWFyV29ybGQmJih0aGlzLmdhbWUud29ybGQuc2h1dGRvd24oKSx0aGlzLl9jbGVhckNhY2hlJiZ0aGlzLmdhbWUuY2FjaGUuZGVzdHJveSgpKSl9LGNoZWNrU3RhdGU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5zdGF0ZXNbdF07cmV0dXJuIGU/ISEoZS5wcmVsb2FkfHxlLmNyZWF0ZXx8ZS51cGRhdGV8fGUucmVuZGVyKXx8KGNvbnNvbGUud2FybihcIkludmFsaWQgUGhhc2VyIFN0YXRlIG9iamVjdCBnaXZlbi4gTXVzdCBjb250YWluIGF0IGxlYXN0IG9uZSBvZiB0aGUgcmVxdWlyZWQgZnVuY3Rpb25zOiBwcmVsb2FkLCBjcmVhdGUsIHVwZGF0ZSBvciByZW5kZXJcIiksITEpOihjb25zb2xlLndhcm4oXCJQaGFzZXIuU3RhdGVNYW5hZ2VyIC0gTm8gc3RhdGUgZm91bmQgd2l0aCB0aGUga2V5OiBcIit0KSwhMSl9LGxpbms6ZnVuY3Rpb24odCl7dGhpcy5zdGF0ZXNbdF0uZ2FtZT10aGlzLmdhbWUsdGhpcy5zdGF0ZXNbdF0uYWRkPXRoaXMuZ2FtZS5hZGQsdGhpcy5zdGF0ZXNbdF0ubWFrZT10aGlzLmdhbWUubWFrZSx0aGlzLnN0YXRlc1t0XS5jYW1lcmE9dGhpcy5nYW1lLmNhbWVyYSx0aGlzLnN0YXRlc1t0XS5jYWNoZT10aGlzLmdhbWUuY2FjaGUsdGhpcy5zdGF0ZXNbdF0uaW5wdXQ9dGhpcy5nYW1lLmlucHV0LHRoaXMuc3RhdGVzW3RdLmxvYWQ9dGhpcy5nYW1lLmxvYWQsdGhpcy5zdGF0ZXNbdF0ubWF0aD10aGlzLmdhbWUubWF0aCx0aGlzLnN0YXRlc1t0XS5zb3VuZD10aGlzLmdhbWUuc291bmQsdGhpcy5zdGF0ZXNbdF0uc2NhbGU9dGhpcy5nYW1lLnNjYWxlLHRoaXMuc3RhdGVzW3RdLnN0YXRlPXRoaXMsdGhpcy5zdGF0ZXNbdF0uc3RhZ2U9dGhpcy5nYW1lLnN0YWdlLHRoaXMuc3RhdGVzW3RdLnRpbWU9dGhpcy5nYW1lLnRpbWUsdGhpcy5zdGF0ZXNbdF0udHdlZW5zPXRoaXMuZ2FtZS50d2VlbnMsdGhpcy5zdGF0ZXNbdF0ud29ybGQ9dGhpcy5nYW1lLndvcmxkLHRoaXMuc3RhdGVzW3RdLnBhcnRpY2xlcz10aGlzLmdhbWUucGFydGljbGVzLHRoaXMuc3RhdGVzW3RdLnJuZD10aGlzLmdhbWUucm5kLHRoaXMuc3RhdGVzW3RdLnBoeXNpY3M9dGhpcy5nYW1lLnBoeXNpY3MsdGhpcy5zdGF0ZXNbdF0ua2V5PXR9LHVubGluazpmdW5jdGlvbih0KXt0aGlzLnN0YXRlc1t0XSYmKHRoaXMuc3RhdGVzW3RdLmdhbWU9bnVsbCx0aGlzLnN0YXRlc1t0XS5hZGQ9bnVsbCx0aGlzLnN0YXRlc1t0XS5tYWtlPW51bGwsdGhpcy5zdGF0ZXNbdF0uY2FtZXJhPW51bGwsdGhpcy5zdGF0ZXNbdF0uY2FjaGU9bnVsbCx0aGlzLnN0YXRlc1t0XS5pbnB1dD1udWxsLHRoaXMuc3RhdGVzW3RdLmxvYWQ9bnVsbCx0aGlzLnN0YXRlc1t0XS5tYXRoPW51bGwsdGhpcy5zdGF0ZXNbdF0uc291bmQ9bnVsbCx0aGlzLnN0YXRlc1t0XS5zY2FsZT1udWxsLHRoaXMuc3RhdGVzW3RdLnN0YXRlPW51bGwsdGhpcy5zdGF0ZXNbdF0uc3RhZ2U9bnVsbCx0aGlzLnN0YXRlc1t0XS50aW1lPW51bGwsdGhpcy5zdGF0ZXNbdF0udHdlZW5zPW51bGwsdGhpcy5zdGF0ZXNbdF0ud29ybGQ9bnVsbCx0aGlzLnN0YXRlc1t0XS5wYXJ0aWNsZXM9bnVsbCx0aGlzLnN0YXRlc1t0XS5ybmQ9bnVsbCx0aGlzLnN0YXRlc1t0XS5waHlzaWNzPW51bGwpfSxzZXRDdXJyZW50U3RhdGU6ZnVuY3Rpb24odCl7dGhpcy5jYWxsYmFja0NvbnRleHQ9dGhpcy5zdGF0ZXNbdF0sdGhpcy5saW5rKHQpLHRoaXMub25Jbml0Q2FsbGJhY2s9dGhpcy5zdGF0ZXNbdF0uaW5pdHx8dGhpcy5kdW1teSx0aGlzLm9uUHJlbG9hZENhbGxiYWNrPXRoaXMuc3RhdGVzW3RdLnByZWxvYWR8fG51bGwsdGhpcy5vbkxvYWRSZW5kZXJDYWxsYmFjaz10aGlzLnN0YXRlc1t0XS5sb2FkUmVuZGVyfHxudWxsLHRoaXMub25Mb2FkVXBkYXRlQ2FsbGJhY2s9dGhpcy5zdGF0ZXNbdF0ubG9hZFVwZGF0ZXx8bnVsbCx0aGlzLm9uQ3JlYXRlQ2FsbGJhY2s9dGhpcy5zdGF0ZXNbdF0uY3JlYXRlfHxudWxsLHRoaXMub25VcGRhdGVDYWxsYmFjaz10aGlzLnN0YXRlc1t0XS51cGRhdGV8fG51bGwsdGhpcy5vblByZVJlbmRlckNhbGxiYWNrPXRoaXMuc3RhdGVzW3RdLnByZVJlbmRlcnx8bnVsbCx0aGlzLm9uUmVuZGVyQ2FsbGJhY2s9dGhpcy5zdGF0ZXNbdF0ucmVuZGVyfHxudWxsLHRoaXMub25SZXNpemVDYWxsYmFjaz10aGlzLnN0YXRlc1t0XS5yZXNpemV8fG51bGwsdGhpcy5vblBhdXNlZENhbGxiYWNrPXRoaXMuc3RhdGVzW3RdLnBhdXNlZHx8bnVsbCx0aGlzLm9uUmVzdW1lZENhbGxiYWNrPXRoaXMuc3RhdGVzW3RdLnJlc3VtZWR8fG51bGwsdGhpcy5vblBhdXNlVXBkYXRlQ2FsbGJhY2s9dGhpcy5zdGF0ZXNbdF0ucGF1c2VVcGRhdGV8fG51bGwsdGhpcy5vblNodXREb3duQ2FsbGJhY2s9dGhpcy5zdGF0ZXNbdF0uc2h1dGRvd258fHRoaXMuZHVtbXksXCJcIiE9PXRoaXMuY3VycmVudCYmdGhpcy5nYW1lLnBoeXNpY3MucmVzZXQoKSx0aGlzLmN1cnJlbnQ9dCx0aGlzLl9jcmVhdGVkPSExLHRoaXMub25Jbml0Q2FsbGJhY2suYXBwbHkodGhpcy5jYWxsYmFja0NvbnRleHQsdGhpcy5fYXJncyksdD09PXRoaXMuX3BlbmRpbmdTdGF0ZSYmKHRoaXMuX2FyZ3M9W10pLHRoaXMuZ2FtZS5fa2lja3N0YXJ0PSEwfSxnZXRDdXJyZW50U3RhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdGF0ZXNbdGhpcy5jdXJyZW50XX0sbG9hZENvbXBsZXRlOmZ1bmN0aW9uKCl7ITE9PT10aGlzLl9jcmVhdGVkJiZ0aGlzLm9uTG9hZFVwZGF0ZUNhbGxiYWNrJiZ0aGlzLm9uTG9hZFVwZGF0ZUNhbGxiYWNrLmNhbGwodGhpcy5jYWxsYmFja0NvbnRleHQsdGhpcy5nYW1lKSwhMT09PXRoaXMuX2NyZWF0ZWQmJnRoaXMub25DcmVhdGVDYWxsYmFjaz8odGhpcy5fY3JlYXRlZD0hMCx0aGlzLm9uQ3JlYXRlQ2FsbGJhY2suY2FsbCh0aGlzLmNhbGxiYWNrQ29udGV4dCx0aGlzLmdhbWUpKTp0aGlzLl9jcmVhdGVkPSEwfSxwYXVzZTpmdW5jdGlvbigpe3RoaXMuX2NyZWF0ZWQmJnRoaXMub25QYXVzZWRDYWxsYmFjayYmdGhpcy5vblBhdXNlZENhbGxiYWNrLmNhbGwodGhpcy5jYWxsYmFja0NvbnRleHQsdGhpcy5nYW1lKX0scmVzdW1lOmZ1bmN0aW9uKCl7dGhpcy5fY3JlYXRlZCYmdGhpcy5vblJlc3VtZWRDYWxsYmFjayYmdGhpcy5vblJlc3VtZWRDYWxsYmFjay5jYWxsKHRoaXMuY2FsbGJhY2tDb250ZXh0LHRoaXMuZ2FtZSl9LHVwZGF0ZTpmdW5jdGlvbigpe3RoaXMuX2NyZWF0ZWQ/dGhpcy5vblVwZGF0ZUNhbGxiYWNrJiZ0aGlzLm9uVXBkYXRlQ2FsbGJhY2suY2FsbCh0aGlzLmNhbGxiYWNrQ29udGV4dCx0aGlzLmdhbWUpOnRoaXMub25Mb2FkVXBkYXRlQ2FsbGJhY2smJnRoaXMub25Mb2FkVXBkYXRlQ2FsbGJhY2suY2FsbCh0aGlzLmNhbGxiYWNrQ29udGV4dCx0aGlzLmdhbWUpfSxwYXVzZVVwZGF0ZTpmdW5jdGlvbigpe3RoaXMuX2NyZWF0ZWQ/dGhpcy5vblBhdXNlVXBkYXRlQ2FsbGJhY2smJnRoaXMub25QYXVzZVVwZGF0ZUNhbGxiYWNrLmNhbGwodGhpcy5jYWxsYmFja0NvbnRleHQsdGhpcy5nYW1lKTp0aGlzLm9uTG9hZFVwZGF0ZUNhbGxiYWNrJiZ0aGlzLm9uTG9hZFVwZGF0ZUNhbGxiYWNrLmNhbGwodGhpcy5jYWxsYmFja0NvbnRleHQsdGhpcy5nYW1lKX0scHJlUmVuZGVyOmZ1bmN0aW9uKHQpe3RoaXMuX2NyZWF0ZWQmJnRoaXMub25QcmVSZW5kZXJDYWxsYmFjayYmdGhpcy5vblByZVJlbmRlckNhbGxiYWNrLmNhbGwodGhpcy5jYWxsYmFja0NvbnRleHQsdGhpcy5nYW1lLHQpfSxyZXNpemU6ZnVuY3Rpb24odCxlKXt0aGlzLm9uUmVzaXplQ2FsbGJhY2smJnRoaXMub25SZXNpemVDYWxsYmFjay5jYWxsKHRoaXMuY2FsbGJhY2tDb250ZXh0LHQsZSl9LHJlbmRlcjpmdW5jdGlvbigpe3RoaXMuX2NyZWF0ZWQ/dGhpcy5vblJlbmRlckNhbGxiYWNrJiYodGhpcy5nYW1lLnJlbmRlclR5cGU9PT1pLkNBTlZBUz8odGhpcy5nYW1lLmNvbnRleHQuc2F2ZSgpLHRoaXMuZ2FtZS5jb250ZXh0LnNldFRyYW5zZm9ybSgxLDAsMCwxLDAsMCksdGhpcy5vblJlbmRlckNhbGxiYWNrLmNhbGwodGhpcy5jYWxsYmFja0NvbnRleHQsdGhpcy5nYW1lKSx0aGlzLmdhbWUuY29udGV4dC5yZXN0b3JlKCkpOnRoaXMub25SZW5kZXJDYWxsYmFjay5jYWxsKHRoaXMuY2FsbGJhY2tDb250ZXh0LHRoaXMuZ2FtZSkpOnRoaXMub25Mb2FkUmVuZGVyQ2FsbGJhY2smJnRoaXMub25Mb2FkUmVuZGVyQ2FsbGJhY2suY2FsbCh0aGlzLmNhbGxiYWNrQ29udGV4dCx0aGlzLmdhbWUpfSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5fY2xlYXJXb3JsZD0hMCx0aGlzLl9jbGVhckNhY2hlPSEwLHRoaXMuY2xlYXJDdXJyZW50U3RhdGUoKSx0aGlzLmNhbGxiYWNrQ29udGV4dD1udWxsLHRoaXMub25Jbml0Q2FsbGJhY2s9bnVsbCx0aGlzLm9uU2h1dERvd25DYWxsYmFjaz1udWxsLHRoaXMub25QcmVsb2FkQ2FsbGJhY2s9bnVsbCx0aGlzLm9uTG9hZFJlbmRlckNhbGxiYWNrPW51bGwsdGhpcy5vbkxvYWRVcGRhdGVDYWxsYmFjaz1udWxsLHRoaXMub25DcmVhdGVDYWxsYmFjaz1udWxsLHRoaXMub25VcGRhdGVDYWxsYmFjaz1udWxsLHRoaXMub25SZW5kZXJDYWxsYmFjaz1udWxsLHRoaXMub25QYXVzZWRDYWxsYmFjaz1udWxsLHRoaXMub25SZXN1bWVkQ2FsbGJhY2s9bnVsbCx0aGlzLm9uUGF1c2VVcGRhdGVDYWxsYmFjaz1udWxsLHRoaXMuZ2FtZT1udWxsLHRoaXMuc3RhdGVzPXt9LHRoaXMuX3BlbmRpbmdTdGF0ZT1udWxsLHRoaXMuY3VycmVudD1cIlwifX0saS5TdGF0ZU1hbmFnZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yPWkuU3RhdGVNYW5hZ2VyLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLlN0YXRlTWFuYWdlci5wcm90b3R5cGUsXCJjcmVhdGVkXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jcmVhdGVkfX0pLGkuU2lnbmFsPWZ1bmN0aW9uKCl7fSxpLlNpZ25hbC5wcm90b3R5cGU9e19iaW5kaW5nczpudWxsLF9wcmV2UGFyYW1zOm51bGwsbWVtb3JpemU6ITEsX3Nob3VsZFByb3BhZ2F0ZTohMCxhY3RpdmU6ITAsX2JvdW5kRGlzcGF0Y2g6ITEsdmFsaWRhdGVMaXN0ZW5lcjpmdW5jdGlvbih0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQpdGhyb3cgbmV3IEVycm9yKFwiUGhhc2VyLlNpZ25hbDogbGlzdGVuZXIgaXMgYSByZXF1aXJlZCBwYXJhbSBvZiB7Zm59KCkgYW5kIHNob3VsZCBiZSBhIEZ1bmN0aW9uLlwiLnJlcGxhY2UoXCJ7Zm59XCIsZSkpfSxfcmVnaXN0ZXJMaXN0ZW5lcjpmdW5jdGlvbih0LGUscyxuLG8pe3ZhciByLGE9dGhpcy5faW5kZXhPZkxpc3RlbmVyKHQscyk7aWYoLTEhPT1hKXtpZigocj10aGlzLl9iaW5kaW5nc1thXSkuaXNPbmNlKCkhPT1lKXRocm93IG5ldyBFcnJvcihcIllvdSBjYW5ub3QgYWRkXCIrKGU/XCJcIjpcIk9uY2VcIikrXCIoKSB0aGVuIGFkZFwiKyhlP1wiT25jZVwiOlwiXCIpK1wiKCkgdGhlIHNhbWUgbGlzdGVuZXIgd2l0aG91dCByZW1vdmluZyB0aGUgcmVsYXRpb25zaGlwIGZpcnN0LlwiKX1lbHNlIHI9bmV3IGkuU2lnbmFsQmluZGluZyh0aGlzLHQsZSxzLG4sbyksdGhpcy5fYWRkQmluZGluZyhyKTtyZXR1cm4gdGhpcy5tZW1vcml6ZSYmdGhpcy5fcHJldlBhcmFtcyYmci5leGVjdXRlKHRoaXMuX3ByZXZQYXJhbXMpLHJ9LF9hZGRCaW5kaW5nOmZ1bmN0aW9uKHQpe3RoaXMuX2JpbmRpbmdzfHwodGhpcy5fYmluZGluZ3M9W10pO3ZhciBlPXRoaXMuX2JpbmRpbmdzLmxlbmd0aDtkb3tlLS19d2hpbGUodGhpcy5fYmluZGluZ3NbZV0mJnQuX3ByaW9yaXR5PD10aGlzLl9iaW5kaW5nc1tlXS5fcHJpb3JpdHkpO3RoaXMuX2JpbmRpbmdzLnNwbGljZShlKzEsMCx0KX0sX2luZGV4T2ZMaXN0ZW5lcjpmdW5jdGlvbih0LGUpe2lmKCF0aGlzLl9iaW5kaW5ncylyZXR1cm4tMTt2b2lkIDA9PT1lJiYoZT1udWxsKTtmb3IodmFyIGkscz10aGlzLl9iaW5kaW5ncy5sZW5ndGg7cy0tOylpZigoaT10aGlzLl9iaW5kaW5nc1tzXSkuX2xpc3RlbmVyPT09dCYmaS5jb250ZXh0PT09ZSlyZXR1cm4gcztyZXR1cm4tMX0saGFzOmZ1bmN0aW9uKHQsZSl7cmV0dXJuLTEhPT10aGlzLl9pbmRleE9mTGlzdGVuZXIodCxlKX0sYWRkOmZ1bmN0aW9uKHQsZSxpKXt0aGlzLnZhbGlkYXRlTGlzdGVuZXIodCxcImFkZFwiKTt2YXIgcz1bXTtpZihhcmd1bWVudHMubGVuZ3RoPjMpZm9yKHZhciBuPTM7bjxhcmd1bWVudHMubGVuZ3RoO24rKylzLnB1c2goYXJndW1lbnRzW25dKTtyZXR1cm4gdGhpcy5fcmVnaXN0ZXJMaXN0ZW5lcih0LCExLGUsaSxzKX0sYWRkT25jZTpmdW5jdGlvbih0LGUsaSl7dGhpcy52YWxpZGF0ZUxpc3RlbmVyKHQsXCJhZGRPbmNlXCIpO3ZhciBzPVtdO2lmKGFyZ3VtZW50cy5sZW5ndGg+Mylmb3IodmFyIG49MztuPGFyZ3VtZW50cy5sZW5ndGg7bisrKXMucHVzaChhcmd1bWVudHNbbl0pO3JldHVybiB0aGlzLl9yZWdpc3Rlckxpc3RlbmVyKHQsITAsZSxpLHMpfSxyZW1vdmU6ZnVuY3Rpb24odCxlKXt0aGlzLnZhbGlkYXRlTGlzdGVuZXIodCxcInJlbW92ZVwiKTt2YXIgaT10aGlzLl9pbmRleE9mTGlzdGVuZXIodCxlKTtyZXR1cm4tMSE9PWkmJih0aGlzLl9iaW5kaW5nc1tpXS5fZGVzdHJveSgpLHRoaXMuX2JpbmRpbmdzLnNwbGljZShpLDEpKSx0fSxyZW1vdmVBbGw6ZnVuY3Rpb24odCl7aWYodm9pZCAwPT09dCYmKHQ9bnVsbCksdGhpcy5fYmluZGluZ3Mpe2Zvcih2YXIgZT10aGlzLl9iaW5kaW5ncy5sZW5ndGg7ZS0tOyl0P3RoaXMuX2JpbmRpbmdzW2VdLmNvbnRleHQ9PT10JiYodGhpcy5fYmluZGluZ3NbZV0uX2Rlc3Ryb3koKSx0aGlzLl9iaW5kaW5ncy5zcGxpY2UoZSwxKSk6dGhpcy5fYmluZGluZ3NbZV0uX2Rlc3Ryb3koKTt0fHwodGhpcy5fYmluZGluZ3MubGVuZ3RoPTApfX0sZ2V0TnVtTGlzdGVuZXJzOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2JpbmRpbmdzP3RoaXMuX2JpbmRpbmdzLmxlbmd0aDowfSxoYWx0OmZ1bmN0aW9uKCl7dGhpcy5fc2hvdWxkUHJvcGFnYXRlPSExfSxkaXNwYXRjaDpmdW5jdGlvbigpe2lmKHRoaXMuYWN0aXZlJiZ0aGlzLl9iaW5kaW5ncyl7dmFyIHQsZT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpLGk9dGhpcy5fYmluZGluZ3MubGVuZ3RoO2lmKHRoaXMubWVtb3JpemUmJih0aGlzLl9wcmV2UGFyYW1zPWUpLGkpe3Q9dGhpcy5fYmluZGluZ3Muc2xpY2UoKSx0aGlzLl9zaG91bGRQcm9wYWdhdGU9ITA7ZG97aS0tfXdoaWxlKHRbaV0mJnRoaXMuX3Nob3VsZFByb3BhZ2F0ZSYmITEhPT10W2ldLmV4ZWN1dGUoZSkpfX19LGZvcmdldDpmdW5jdGlvbigpe3RoaXMuX3ByZXZQYXJhbXMmJih0aGlzLl9wcmV2UGFyYW1zPW51bGwpfSxkaXNwb3NlOmZ1bmN0aW9uKCl7dGhpcy5yZW1vdmVBbGwoKSx0aGlzLl9iaW5kaW5ncz1udWxsLHRoaXMuX3ByZXZQYXJhbXMmJih0aGlzLl9wcmV2UGFyYW1zPW51bGwpfSx0b1N0cmluZzpmdW5jdGlvbigpe3JldHVyblwiW1BoYXNlci5TaWduYWwgYWN0aXZlOlwiK3RoaXMuYWN0aXZlK1wiIG51bUxpc3RlbmVyczpcIit0aGlzLmdldE51bUxpc3RlbmVycygpK1wiXVwifX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuU2lnbmFsLnByb3RvdHlwZSxcImJvdW5kRGlzcGF0Y2hcIix7Z2V0OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztyZXR1cm4gdGhpcy5fYm91bmREaXNwYXRjaHx8KHRoaXMuX2JvdW5kRGlzcGF0Y2g9ZnVuY3Rpb24oKXtyZXR1cm4gdC5kaXNwYXRjaC5hcHBseSh0LGFyZ3VtZW50cyl9KX19KSxpLlNpZ25hbC5wcm90b3R5cGUuY29uc3RydWN0b3I9aS5TaWduYWwsaS5TaWduYWxCaW5kaW5nPWZ1bmN0aW9uKHQsZSxpLHMsbixvKXt0aGlzLl9saXN0ZW5lcj1lLGkmJih0aGlzLl9pc09uY2U9ITApLG51bGwhPXMmJih0aGlzLmNvbnRleHQ9cyksdGhpcy5fc2lnbmFsPXQsbiYmKHRoaXMuX3ByaW9yaXR5PW4pLG8mJm8ubGVuZ3RoJiYodGhpcy5fYXJncz1vKX0saS5TaWduYWxCaW5kaW5nLnByb3RvdHlwZT17Y29udGV4dDpudWxsLF9pc09uY2U6ITEsX3ByaW9yaXR5OjAsX2FyZ3M6bnVsbCxjYWxsQ291bnQ6MCxhY3RpdmU6ITAscGFyYW1zOm51bGwsZXhlY3V0ZTpmdW5jdGlvbih0KXt2YXIgZSxpO3JldHVybiB0aGlzLmFjdGl2ZSYmdGhpcy5fbGlzdGVuZXImJihpPXRoaXMucGFyYW1zP3RoaXMucGFyYW1zLmNvbmNhdCh0KTp0LHRoaXMuX2FyZ3MmJihpPWkuY29uY2F0KHRoaXMuX2FyZ3MpKSxlPXRoaXMuX2xpc3RlbmVyLmFwcGx5KHRoaXMuY29udGV4dCxpKSx0aGlzLmNhbGxDb3VudCsrLHRoaXMuX2lzT25jZSYmdGhpcy5kZXRhY2goKSksZX0sZGV0YWNoOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXNCb3VuZCgpP3RoaXMuX3NpZ25hbC5yZW1vdmUodGhpcy5fbGlzdGVuZXIsdGhpcy5jb250ZXh0KTpudWxsfSxpc0JvdW5kOmZ1bmN0aW9uKCl7cmV0dXJuISF0aGlzLl9zaWduYWwmJiEhdGhpcy5fbGlzdGVuZXJ9LGlzT25jZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pc09uY2V9LGdldExpc3RlbmVyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xpc3RlbmVyfSxnZXRTaWduYWw6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2lnbmFsfSxfZGVzdHJveTpmdW5jdGlvbigpe2RlbGV0ZSB0aGlzLl9zaWduYWwsZGVsZXRlIHRoaXMuX2xpc3RlbmVyLGRlbGV0ZSB0aGlzLmNvbnRleHR9LHRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuXCJbUGhhc2VyLlNpZ25hbEJpbmRpbmcgaXNPbmNlOlwiK3RoaXMuX2lzT25jZStcIiwgaXNCb3VuZDpcIit0aGlzLmlzQm91bmQoKStcIiwgYWN0aXZlOlwiK3RoaXMuYWN0aXZlK1wiXVwifX0saS5TaWduYWxCaW5kaW5nLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1pLlNpZ25hbEJpbmRpbmcsaS5GaWx0ZXI9ZnVuY3Rpb24odCxlLHMpe3RoaXMuZ2FtZT10LHRoaXMudHlwZT1pLldFQkdMX0ZJTFRFUix0aGlzLnBhc3Nlcz1bdGhpc10sdGhpcy5zaGFkZXJzPVtdLHRoaXMuZGlydHk9ITAsdGhpcy5wYWRkaW5nPTAsdGhpcy5wcmV2UG9pbnQ9bmV3IGkuUG9pbnQ7dmFyIG49bmV3IERhdGU7aWYodGhpcy51bmlmb3Jtcz17cmVzb2x1dGlvbjp7dHlwZTpcIjJmXCIsdmFsdWU6e3g6MjU2LHk6MjU2fX0sdGltZTp7dHlwZTpcIjFmXCIsdmFsdWU6MH0sbW91c2U6e3R5cGU6XCIyZlwiLHZhbHVlOnt4OjAseTowfX0sZGF0ZTp7dHlwZTpcIjRmdlwiLHZhbHVlOltuLmdldEZ1bGxZZWFyKCksbi5nZXRNb250aCgpLG4uZ2V0RGF0ZSgpLDYwKm4uZ2V0SG91cnMoKSo2MCs2MCpuLmdldE1pbnV0ZXMoKStuLmdldFNlY29uZHMoKV19LHNhbXBsZVJhdGU6e3R5cGU6XCIxZlwiLHZhbHVlOjQ0MTAwfSxpQ2hhbm5lbDA6e3R5cGU6XCJzYW1wbGVyMkRcIix2YWx1ZTpudWxsLHRleHR1cmVEYXRhOntyZXBlYXQ6ITB9fSxpQ2hhbm5lbDE6e3R5cGU6XCJzYW1wbGVyMkRcIix2YWx1ZTpudWxsLHRleHR1cmVEYXRhOntyZXBlYXQ6ITB9fSxpQ2hhbm5lbDI6e3R5cGU6XCJzYW1wbGVyMkRcIix2YWx1ZTpudWxsLHRleHR1cmVEYXRhOntyZXBlYXQ6ITB9fSxpQ2hhbm5lbDM6e3R5cGU6XCJzYW1wbGVyMkRcIix2YWx1ZTpudWxsLHRleHR1cmVEYXRhOntyZXBlYXQ6ITB9fX0sZSlmb3IodmFyIG8gaW4gZSl0aGlzLnVuaWZvcm1zW29dPWVbb107XCJzdHJpbmdcIj09dHlwZW9mIHMmJihzPXMuc3BsaXQoXCJcXG5cIikpLHRoaXMuZnJhZ21lbnRTcmM9c3x8W119LGkuRmlsdGVyLnByb3RvdHlwZT17aW5pdDpmdW5jdGlvbigpe30sc2V0UmVzb2x1dGlvbjpmdW5jdGlvbih0LGUpe3RoaXMudW5pZm9ybXMucmVzb2x1dGlvbi52YWx1ZS54PXQsdGhpcy51bmlmb3Jtcy5yZXNvbHV0aW9uLnZhbHVlLnk9ZX0sdXBkYXRlOmZ1bmN0aW9uKHQpe2lmKHQpe3ZhciBlPXQueC90aGlzLmdhbWUud2lkdGgsaT0xLXQueS90aGlzLmdhbWUuaGVpZ2h0O2U9PT10aGlzLnByZXZQb2ludC54JiZpPT09dGhpcy5wcmV2UG9pbnQueXx8KHRoaXMudW5pZm9ybXMubW91c2UudmFsdWUueD1lLnRvRml4ZWQoMiksdGhpcy51bmlmb3Jtcy5tb3VzZS52YWx1ZS55PWkudG9GaXhlZCgyKSx0aGlzLnByZXZQb2ludC5zZXQoZSxpKSl9dGhpcy51bmlmb3Jtcy50aW1lLnZhbHVlPXRoaXMuZ2FtZS50aW1lLnRvdGFsRWxhcHNlZFNlY29uZHMoKX0sYWRkVG9Xb3JsZDpmdW5jdGlvbih0LGUscyxuLG8scil7dm9pZCAwPT09byYmKG89MCksdm9pZCAwPT09ciYmKHI9MCksdm9pZCAwIT09cyYmbnVsbCE9PXM/dGhpcy53aWR0aD1zOnM9dGhpcy53aWR0aCx2b2lkIDAhPT1uJiZudWxsIT09bj90aGlzLmhlaWdodD1uOm49dGhpcy5oZWlnaHQ7dmFyIGE9dGhpcy5nYW1lLmFkZC5pbWFnZSh0LGUsaS5DYWNoZS5ERUZBVUxUKTtyZXR1cm4gYS53aWR0aD1zLGEuaGVpZ2h0PW4sYS5hbmNob3Iuc2V0KG8sciksYS5maWx0ZXJzPVt0aGlzXSxhfSxzeW5jVW5pZm9ybXM6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9MDt0PHRoaXMuc2hhZGVycy5sZW5ndGg7dCsrKXRoaXMuc2hhZGVyc1t0XS5kaXJ0eT0hMH0sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMucGFzc2VzLmxlbmd0aD0wLHRoaXMuc2hhZGVycy5sZW5ndGg9MCx0aGlzLmZyYWdtZW50U3JjLmxlbmd0aD0wLHRoaXMuZ2FtZT1udWxsLHRoaXMudW5pZm9ybXM9bnVsbCx0aGlzLnByZXZQb2ludD1udWxsfX0saS5GaWx0ZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yPWkuRmlsdGVyLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLkZpbHRlci5wcm90b3R5cGUsXCJ3aWR0aFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51bmlmb3Jtcy5yZXNvbHV0aW9uLnZhbHVlLnh9LHNldDpmdW5jdGlvbih0KXt0aGlzLnVuaWZvcm1zLnJlc29sdXRpb24udmFsdWUueD10fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLkZpbHRlci5wcm90b3R5cGUsXCJoZWlnaHRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudW5pZm9ybXMucmVzb2x1dGlvbi52YWx1ZS55fSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy51bmlmb3Jtcy5yZXNvbHV0aW9uLnZhbHVlLnk9dH19KSxpLlBsdWdpbj1mdW5jdGlvbih0LGUpe3ZvaWQgMD09PWUmJihlPW51bGwpLHRoaXMuZ2FtZT10LHRoaXMucGFyZW50PWUsdGhpcy5hY3RpdmU9ITEsdGhpcy52aXNpYmxlPSExLHRoaXMuaGFzUHJlVXBkYXRlPSExLHRoaXMuaGFzVXBkYXRlPSExLHRoaXMuaGFzUG9zdFVwZGF0ZT0hMSx0aGlzLmhhc1JlbmRlcj0hMSx0aGlzLmhhc1Bvc3RSZW5kZXI9ITF9LGkuUGx1Z2luLnByb3RvdHlwZT17cHJlVXBkYXRlOmZ1bmN0aW9uKCl7fSx1cGRhdGU6ZnVuY3Rpb24oKXt9LHJlbmRlcjpmdW5jdGlvbigpe30scG9zdFJlbmRlcjpmdW5jdGlvbigpe30sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuZ2FtZT1udWxsLHRoaXMucGFyZW50PW51bGwsdGhpcy5hY3RpdmU9ITEsdGhpcy52aXNpYmxlPSExfX0saS5QbHVnaW4ucHJvdG90eXBlLmNvbnN0cnVjdG9yPWkuUGx1Z2luLGkuUGx1Z2luTWFuYWdlcj1mdW5jdGlvbih0KXt0aGlzLmdhbWU9dCx0aGlzLnBsdWdpbnM9W10sdGhpcy5fbGVuPTAsdGhpcy5faT0wfSxpLlBsdWdpbk1hbmFnZXIucHJvdG90eXBlPXthZGQ6ZnVuY3Rpb24odCl7dmFyIGU9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpLGk9ITE7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgdD90PW5ldyB0KHRoaXMuZ2FtZSx0aGlzKToodC5nYW1lPXRoaXMuZ2FtZSx0LnBhcmVudD10aGlzKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiB0LnByZVVwZGF0ZSYmKHQuaGFzUHJlVXBkYXRlPSEwLGk9ITApLFwiZnVuY3Rpb25cIj09dHlwZW9mIHQudXBkYXRlJiYodC5oYXNVcGRhdGU9ITAsaT0hMCksXCJmdW5jdGlvblwiPT10eXBlb2YgdC5wb3N0VXBkYXRlJiYodC5oYXNQb3N0VXBkYXRlPSEwLGk9ITApLFwiZnVuY3Rpb25cIj09dHlwZW9mIHQucmVuZGVyJiYodC5oYXNSZW5kZXI9ITAsaT0hMCksXCJmdW5jdGlvblwiPT10eXBlb2YgdC5wb3N0UmVuZGVyJiYodC5oYXNQb3N0UmVuZGVyPSEwLGk9ITApLGk/KCh0Lmhhc1ByZVVwZGF0ZXx8dC5oYXNVcGRhdGV8fHQuaGFzUG9zdFVwZGF0ZSkmJih0LmFjdGl2ZT0hMCksKHQuaGFzUmVuZGVyfHx0Lmhhc1Bvc3RSZW5kZXIpJiYodC52aXNpYmxlPSEwKSx0aGlzLl9sZW49dGhpcy5wbHVnaW5zLnB1c2godCksXCJmdW5jdGlvblwiPT10eXBlb2YgdC5pbml0JiZ0LmluaXQuYXBwbHkodCxlKSx0KTpudWxsfSxyZW1vdmU6ZnVuY3Rpb24odCxlKXtmb3Iodm9pZCAwPT09ZSYmKGU9ITApLHRoaXMuX2k9dGhpcy5fbGVuO3RoaXMuX2ktLTspaWYodGhpcy5wbHVnaW5zW3RoaXMuX2ldPT09dClyZXR1cm4gZSYmdC5kZXN0cm95KCksdGhpcy5wbHVnaW5zLnNwbGljZSh0aGlzLl9pLDEpLHZvaWQgdGhpcy5fbGVuLS19LHJlbW92ZUFsbDpmdW5jdGlvbigpe2Zvcih0aGlzLl9pPXRoaXMuX2xlbjt0aGlzLl9pLS07KXRoaXMucGx1Z2luc1t0aGlzLl9pXS5kZXN0cm95KCk7dGhpcy5wbHVnaW5zLmxlbmd0aD0wLHRoaXMuX2xlbj0wfSxwcmVVcGRhdGU6ZnVuY3Rpb24oKXtmb3IodGhpcy5faT10aGlzLl9sZW47dGhpcy5faS0tOyl0aGlzLnBsdWdpbnNbdGhpcy5faV0uYWN0aXZlJiZ0aGlzLnBsdWdpbnNbdGhpcy5faV0uaGFzUHJlVXBkYXRlJiZ0aGlzLnBsdWdpbnNbdGhpcy5faV0ucHJlVXBkYXRlKCl9LHVwZGF0ZTpmdW5jdGlvbigpe2Zvcih0aGlzLl9pPXRoaXMuX2xlbjt0aGlzLl9pLS07KXRoaXMucGx1Z2luc1t0aGlzLl9pXS5hY3RpdmUmJnRoaXMucGx1Z2luc1t0aGlzLl9pXS5oYXNVcGRhdGUmJnRoaXMucGx1Z2luc1t0aGlzLl9pXS51cGRhdGUoKX0scG9zdFVwZGF0ZTpmdW5jdGlvbigpe2Zvcih0aGlzLl9pPXRoaXMuX2xlbjt0aGlzLl9pLS07KXRoaXMucGx1Z2luc1t0aGlzLl9pXS5hY3RpdmUmJnRoaXMucGx1Z2luc1t0aGlzLl9pXS5oYXNQb3N0VXBkYXRlJiZ0aGlzLnBsdWdpbnNbdGhpcy5faV0ucG9zdFVwZGF0ZSgpfSxyZW5kZXI6ZnVuY3Rpb24oKXtmb3IodGhpcy5faT10aGlzLl9sZW47dGhpcy5faS0tOyl0aGlzLnBsdWdpbnNbdGhpcy5faV0udmlzaWJsZSYmdGhpcy5wbHVnaW5zW3RoaXMuX2ldLmhhc1JlbmRlciYmdGhpcy5wbHVnaW5zW3RoaXMuX2ldLnJlbmRlcigpfSxwb3N0UmVuZGVyOmZ1bmN0aW9uKCl7Zm9yKHRoaXMuX2k9dGhpcy5fbGVuO3RoaXMuX2ktLTspdGhpcy5wbHVnaW5zW3RoaXMuX2ldLnZpc2libGUmJnRoaXMucGx1Z2luc1t0aGlzLl9pXS5oYXNQb3N0UmVuZGVyJiZ0aGlzLnBsdWdpbnNbdGhpcy5faV0ucG9zdFJlbmRlcigpfSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5yZW1vdmVBbGwoKSx0aGlzLmdhbWU9bnVsbH19LGkuUGx1Z2luTWFuYWdlci5wcm90b3R5cGUuY29uc3RydWN0b3I9aS5QbHVnaW5NYW5hZ2VyLGkuU3RhZ2U9ZnVuY3Rpb24odCl7dGhpcy5nYW1lPXQsUElYSS5EaXNwbGF5T2JqZWN0Q29udGFpbmVyLmNhbGwodGhpcyksdGhpcy5uYW1lPVwiX3N0YWdlX3Jvb3RcIix0aGlzLmRpc2FibGVWaXNpYmlsaXR5Q2hhbmdlPSExLHRoaXMuZXhpc3RzPSEwLHRoaXMud29ybGRUcmFuc2Zvcm09bmV3IGkuTWF0cml4LHRoaXMuc3RhZ2U9dGhpcyx0aGlzLmN1cnJlbnRSZW5kZXJPcmRlcklEPTAsdGhpcy5faGlkZGVuVmFyPVwiaGlkZGVuXCIsdGhpcy5fb25DaGFuZ2U9bnVsbCx0aGlzLl9iZ0NvbG9yPXtyOjAsZzowLGI6MCxhOjAsY29sb3I6MCxyZ2JhOlwiIzAwMDAwMFwifSx0aGlzLmdhbWUudHJhbnNwYXJlbnR8fCh0aGlzLl9iZ0NvbG9yLmE9MSksdC5jb25maWcmJnRoaXMucGFyc2VDb25maWcodC5jb25maWcpfSxpLlN0YWdlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKFBJWEkuRGlzcGxheU9iamVjdENvbnRhaW5lci5wcm90b3R5cGUpLGkuU3RhZ2UucHJvdG90eXBlLmNvbnN0cnVjdG9yPWkuU3RhZ2UsaS5TdGFnZS5wcm90b3R5cGUucGFyc2VDb25maWc9ZnVuY3Rpb24odCl7dC5kaXNhYmxlVmlzaWJpbGl0eUNoYW5nZSYmKHRoaXMuZGlzYWJsZVZpc2liaWxpdHlDaGFuZ2U9dC5kaXNhYmxlVmlzaWJpbGl0eUNoYW5nZSksdC5iYWNrZ3JvdW5kQ29sb3ImJnRoaXMuc2V0QmFja2dyb3VuZENvbG9yKHQuYmFja2dyb3VuZENvbG9yKX0saS5TdGFnZS5wcm90b3R5cGUuYm9vdD1mdW5jdGlvbigpe2kuRE9NLmdldE9mZnNldCh0aGlzLmdhbWUuY2FudmFzLHRoaXMub2Zmc2V0KSxpLkNhbnZhcy5zZXRVc2VyU2VsZWN0KHRoaXMuZ2FtZS5jYW52YXMsXCJub25lXCIpLGkuQ2FudmFzLnNldFRvdWNoQWN0aW9uKHRoaXMuZ2FtZS5jYW52YXMsXCJub25lXCIpLHRoaXMuY2hlY2tWaXNpYmlsaXR5KCl9LGkuU3RhZ2UucHJvdG90eXBlLnByZVVwZGF0ZT1mdW5jdGlvbigpe3RoaXMuY3VycmVudFJlbmRlck9yZGVySUQ9MDtmb3IodmFyIHQ9MDt0PHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyl7dmFyIGU9dGhpcy5jaGlsZHJlblt0XTtlLnByZVVwZGF0ZSgpLHRoaXM9PT1lLnBhcmVudCYmdCsrfX0saS5TdGFnZS5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMuY2hpbGRyZW4ubGVuZ3RoO3QtLTspdGhpcy5jaGlsZHJlblt0XS51cGRhdGUoKX0saS5TdGFnZS5wcm90b3R5cGUucG9zdFVwZGF0ZT1mdW5jdGlvbigpe3RoaXMuZ2FtZS5jYW1lcmEudXBkYXRlKCksdGhpcy5nYW1lLmNhbWVyYS50YXJnZXQmJih0aGlzLmdhbWUuY2FtZXJhLnRhcmdldC5wb3N0VXBkYXRlKCksdGhpcy51cGRhdGVUcmFuc2Zvcm0oKSx0aGlzLmdhbWUuY2FtZXJhLnVwZGF0ZVRhcmdldCgpKTtmb3IodmFyIHQ9MDt0PHRoaXMuY2hpbGRyZW4ubGVuZ3RoO3QrKyl0aGlzLmNoaWxkcmVuW3RdLnBvc3RVcGRhdGUoKTt0aGlzLnVwZGF0ZVRyYW5zZm9ybSgpfSxpLlN0YWdlLnByb3RvdHlwZS51cGRhdGVUcmFuc2Zvcm09ZnVuY3Rpb24oKXt0aGlzLndvcmxkQWxwaGE9MTtmb3IodmFyIHQ9MDt0PHRoaXMuY2hpbGRyZW4ubGVuZ3RoO3QrKyl0aGlzLmNoaWxkcmVuW3RdLnVwZGF0ZVRyYW5zZm9ybSgpfSxpLlN0YWdlLnByb3RvdHlwZS5jaGVja1Zpc2liaWxpdHk9ZnVuY3Rpb24oKXt2b2lkIDAhPT1kb2N1bWVudC5oaWRkZW4/dGhpcy5faGlkZGVuVmFyPVwidmlzaWJpbGl0eWNoYW5nZVwiOnZvaWQgMCE9PWRvY3VtZW50LndlYmtpdEhpZGRlbj90aGlzLl9oaWRkZW5WYXI9XCJ3ZWJraXR2aXNpYmlsaXR5Y2hhbmdlXCI6dm9pZCAwIT09ZG9jdW1lbnQubW96SGlkZGVuP3RoaXMuX2hpZGRlblZhcj1cIm1venZpc2liaWxpdHljaGFuZ2VcIjp2b2lkIDAhPT1kb2N1bWVudC5tc0hpZGRlbj90aGlzLl9oaWRkZW5WYXI9XCJtc3Zpc2liaWxpdHljaGFuZ2VcIjp0aGlzLl9oaWRkZW5WYXI9bnVsbDt2YXIgdD10aGlzO3RoaXMuX29uQ2hhbmdlPWZ1bmN0aW9uKGUpe3JldHVybiB0LnZpc2liaWxpdHlDaGFuZ2UoZSl9LHRoaXMuX29uQ2xpY2s9ZnVuY3Rpb24oZSl7dm9pZCAwPT09ZG9jdW1lbnQuaGFzRm9jdXN8fGRvY3VtZW50Lmhhc0ZvY3VzKCl8fHQudmlzaWJpbGl0eUNoYW5nZShlKX0sdGhpcy5faGlkZGVuVmFyJiZkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKHRoaXMuX2hpZGRlblZhcix0aGlzLl9vbkNoYW5nZSwhMSksd2luZG93Lm9uYmx1cj10aGlzLl9vbkNoYW5nZSx3aW5kb3cub25mb2N1cz10aGlzLl9vbkNoYW5nZSx3aW5kb3cub25wYWdlaGlkZT10aGlzLl9vbkNoYW5nZSx3aW5kb3cub25wYWdlc2hvdz10aGlzLl9vbkNoYW5nZSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsdGhpcy5fb25DbGljayksdGhpcy5nYW1lLmRldmljZS5jb2Nvb25KU0FwcCYmKENvY29vbkpTLkFwcC5vblN1c3BlbmRlZC5hZGRFdmVudExpc3RlbmVyKGZ1bmN0aW9uKCl7aS5TdGFnZS5wcm90b3R5cGUudmlzaWJpbGl0eUNoYW5nZS5jYWxsKHQse3R5cGU6XCJwYXVzZVwifSl9KSxDb2Nvb25KUy5BcHAub25BY3RpdmF0ZWQuYWRkRXZlbnRMaXN0ZW5lcihmdW5jdGlvbigpe2kuU3RhZ2UucHJvdG90eXBlLnZpc2liaWxpdHlDaGFuZ2UuY2FsbCh0LHt0eXBlOlwicmVzdW1lXCJ9KX0pKX0saS5TdGFnZS5wcm90b3R5cGUudmlzaWJpbGl0eUNoYW5nZT1mdW5jdGlvbih0KXtzd2l0Y2godC50eXBlKXtjYXNlXCJibHVyXCI6Y2FzZVwicGFnZWhpZGVcIjpyZXR1cm4gdm9pZCB0aGlzLmdhbWUuZm9jdXNMb3NzKHQpO2Nhc2VcImNsaWNrXCI6Y2FzZVwiZm9jdXNcIjpjYXNlXCJwYWdlc2hvd1wiOnJldHVybiB2b2lkIHRoaXMuZ2FtZS5mb2N1c0dhaW4odCl9dGhpcy5kaXNhYmxlVmlzaWJpbGl0eUNoYW5nZXx8KGRvY3VtZW50LmhpZGRlbnx8ZG9jdW1lbnQubW96SGlkZGVufHxkb2N1bWVudC5tc0hpZGRlbnx8ZG9jdW1lbnQud2Via2l0SGlkZGVufHxcInBhdXNlXCI9PT10LnR5cGU/dGhpcy5nYW1lLmdhbWVQYXVzZWQodCk6dGhpcy5nYW1lLmdhbWVSZXN1bWVkKHQpKX0saS5TdGFnZS5wcm90b3R5cGUuc2V0QmFja2dyb3VuZENvbG9yPWZ1bmN0aW9uKHQpe3RoaXMuZ2FtZS50cmFuc3BhcmVudHx8KGkuQ29sb3IudmFsdWVUb0NvbG9yKHQsdGhpcy5fYmdDb2xvciksaS5Db2xvci51cGRhdGVDb2xvcih0aGlzLl9iZ0NvbG9yKSx0aGlzLl9iZ0NvbG9yLnIvPTI1NSx0aGlzLl9iZ0NvbG9yLmcvPTI1NSx0aGlzLl9iZ0NvbG9yLmIvPTI1NSx0aGlzLl9iZ0NvbG9yLmE9MSl9LGkuU3RhZ2UucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLl9oaWRkZW5WYXImJmRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIodGhpcy5faGlkZGVuVmFyLHRoaXMuX29uQ2hhbmdlLCExKSx3aW5kb3cub25wYWdlaGlkZT1udWxsLHdpbmRvdy5vbnBhZ2VzaG93PW51bGwsd2luZG93Lm9uYmx1cj1udWxsLHdpbmRvdy5vbmZvY3VzPW51bGwsd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLHRoaXMuX29uQ2xpY2spfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5TdGFnZS5wcm90b3R5cGUsXCJiYWNrZ3JvdW5kQ29sb3JcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2JnQ29sb3IuY29sb3J9LHNldDpmdW5jdGlvbih0KXt0aGlzLnNldEJhY2tncm91bmRDb2xvcih0KX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5TdGFnZS5wcm90b3R5cGUsXCJzbW9vdGhlZFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gUElYSS5zY2FsZU1vZGVzLkRFRkFVTFQ9PT1QSVhJLnNjYWxlTW9kZXMuTElORUFSfSxzZXQ6ZnVuY3Rpb24odCl7UElYSS5zY2FsZU1vZGVzLkRFRkFVTFQ9dD9QSVhJLnNjYWxlTW9kZXMuTElORUFSOlBJWEkuc2NhbGVNb2Rlcy5ORUFSRVNUfX0pLGkuR3JvdXA9ZnVuY3Rpb24odCxlLHMsbixvLHIpe3ZvaWQgMD09PW4mJihuPSExKSx2b2lkIDA9PT1vJiYobz0hMSksdm9pZCAwPT09ciYmKHI9aS5QaHlzaWNzLkFSQ0FERSksdGhpcy5nYW1lPXQsdm9pZCAwPT09ZSYmKGU9dC53b3JsZCksdGhpcy5uYW1lPXN8fFwiZ3JvdXBcIix0aGlzLno9MCxQSVhJLkRpc3BsYXlPYmplY3RDb250YWluZXIuY2FsbCh0aGlzKSxuPyh0aGlzLmdhbWUuc3RhZ2UuYWRkQ2hpbGQodGhpcyksdGhpcy56PXRoaXMuZ2FtZS5zdGFnZS5jaGlsZHJlbi5sZW5ndGgpOmUmJihlLmFkZENoaWxkKHRoaXMpLHRoaXMuej1lLmNoaWxkcmVuLmxlbmd0aCksdGhpcy50eXBlPWkuR1JPVVAsdGhpcy5waHlzaWNzVHlwZT1pLkdST1VQLHRoaXMuYWxpdmU9ITAsdGhpcy5leGlzdHM9ITAsdGhpcy5pZ25vcmVEZXN0cm95PSExLHRoaXMucGVuZGluZ0Rlc3Ryb3k9ITEsdGhpcy5jbGFzc1R5cGU9aS5TcHJpdGUsdGhpcy5jdXJzb3I9bnVsbCx0aGlzLmlucHV0RW5hYmxlQ2hpbGRyZW49ITEsdGhpcy51cGRhdGVPbmx5RXhpc3RpbmdDaGlsZHJlbj0hMSx0aGlzLm9uQ2hpbGRJbnB1dERvd249bmV3IGkuU2lnbmFsLHRoaXMub25DaGlsZElucHV0VXA9bmV3IGkuU2lnbmFsLHRoaXMub25DaGlsZElucHV0T3Zlcj1uZXcgaS5TaWduYWwsdGhpcy5vbkNoaWxkSW5wdXRPdXQ9bmV3IGkuU2lnbmFsLHRoaXMuZW5hYmxlQm9keT1vLHRoaXMuZW5hYmxlQm9keURlYnVnPSExLHRoaXMucGh5c2ljc0JvZHlUeXBlPXIsdGhpcy5waHlzaWNzU29ydERpcmVjdGlvbj1udWxsLHRoaXMub25EZXN0cm95PW5ldyBpLlNpZ25hbCx0aGlzLmN1cnNvckluZGV4PTAsdGhpcy5maXhlZFRvQ2FtZXJhPSExLHRoaXMuY2FtZXJhT2Zmc2V0PW5ldyBpLlBvaW50LHRoaXMuaGFzaD1bXSx0aGlzLl9zb3J0UHJvcGVydHk9XCJ6XCJ9LGkuR3JvdXAucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoUElYSS5EaXNwbGF5T2JqZWN0Q29udGFpbmVyLnByb3RvdHlwZSksaS5Hcm91cC5wcm90b3R5cGUuY29uc3RydWN0b3I9aS5Hcm91cCxpLkdyb3VwLlJFVFVSTl9OT05FPTAsaS5Hcm91cC5SRVRVUk5fVE9UQUw9MSxpLkdyb3VwLlJFVFVSTl9DSElMRD0yLGkuR3JvdXAuUkVUVVJOX0FMTD0zLGkuR3JvdXAuU09SVF9BU0NFTkRJTkc9LTEsaS5Hcm91cC5TT1JUX0RFU0NFTkRJTkc9MSxpLkdyb3VwLnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24odCxlLGkpe3JldHVybiB2b2lkIDA9PT1lJiYoZT0hMSksdC5wYXJlbnQ9PT10aGlzP3Q6KHQuYm9keSYmdC5wYXJlbnQmJnQucGFyZW50Lmhhc2gmJnQucGFyZW50LnJlbW92ZUZyb21IYXNoKHQpLHZvaWQgMD09PWk/KHQuej10aGlzLmNoaWxkcmVuLmxlbmd0aCx0aGlzLmFkZENoaWxkKHQpKToodGhpcy5hZGRDaGlsZEF0KHQsaSksdGhpcy51cGRhdGVaKCkpLHRoaXMuZW5hYmxlQm9keSYmdC5oYXNPd25Qcm9wZXJ0eShcImJvZHlcIikmJm51bGw9PT10LmJvZHk/dGhpcy5nYW1lLnBoeXNpY3MuZW5hYmxlKHQsdGhpcy5waHlzaWNzQm9keVR5cGUpOnQuYm9keSYmdGhpcy5hZGRUb0hhc2godCksIXRoaXMuaW5wdXRFbmFibGVDaGlsZHJlbnx8dC5pbnB1dCYmIXQuaW5wdXRFbmFibGVkfHwodC5pbnB1dEVuYWJsZWQ9ITApLCFlJiZ0LmV2ZW50cyYmdC5ldmVudHMub25BZGRlZFRvR3JvdXAkZGlzcGF0Y2godCx0aGlzKSxudWxsPT09dGhpcy5jdXJzb3ImJih0aGlzLmN1cnNvcj10KSx0KX0saS5Hcm91cC5wcm90b3R5cGUuYWRkQXQ9ZnVuY3Rpb24odCxlLGkpe3JldHVybiB0aGlzLmFkZCh0LGksZSl9LGkuR3JvdXAucHJvdG90eXBlLmFkZFRvSGFzaD1mdW5jdGlvbih0KXtyZXR1cm4gdC5wYXJlbnQ9PT10aGlzJiYtMT09PXRoaXMuaGFzaC5pbmRleE9mKHQpJiYodGhpcy5oYXNoLnB1c2godCksITApfSxpLkdyb3VwLnByb3RvdHlwZS5yZW1vdmVGcm9tSGFzaD1mdW5jdGlvbih0KXtpZih0KXt2YXIgZT10aGlzLmhhc2guaW5kZXhPZih0KTtpZigtMSE9PWUpcmV0dXJuIHRoaXMuaGFzaC5zcGxpY2UoZSwxKSwhMH1yZXR1cm4hMX0saS5Hcm91cC5wcm90b3R5cGUuYWRkTXVsdGlwbGU9ZnVuY3Rpb24odCxlKXtpZih0IGluc3RhbmNlb2YgaS5Hcm91cCl0Lm1vdmVBbGwodGhpcyxlKTtlbHNlIGlmKEFycmF5LmlzQXJyYXkodCkpZm9yKHZhciBzPTA7czx0Lmxlbmd0aDtzKyspdGhpcy5hZGQodFtzXSxlKTtyZXR1cm4gdH0saS5Hcm91cC5wcm90b3R5cGUuZ2V0QXQ9ZnVuY3Rpb24odCl7cmV0dXJuIHQ8MHx8dD49dGhpcy5jaGlsZHJlbi5sZW5ndGg/LTE6dGhpcy5nZXRDaGlsZEF0KHQpfSxpLkdyb3VwLnByb3RvdHlwZS5jcmVhdGU9ZnVuY3Rpb24odCxlLGkscyxuLG8pe3ZvaWQgMD09PW4mJihuPSEwKTt2YXIgcj1uZXcgdGhpcy5jbGFzc1R5cGUodGhpcy5nYW1lLHQsZSxpLHMpO3JldHVybiByLmV4aXN0cz1uLHIudmlzaWJsZT1uLHIuYWxpdmU9bix0aGlzLmFkZChyLCExLG8pfSxpLkdyb3VwLnByb3RvdHlwZS5jcmVhdGVNdWx0aXBsZT1mdW5jdGlvbih0LGUsaSxzLG4sbyl7dm9pZCAwPT09aSYmKGk9MCksdm9pZCAwPT09cyYmKHM9ITEpLEFycmF5LmlzQXJyYXkoZSl8fChlPVtlXSksQXJyYXkuaXNBcnJheShpKXx8KGk9W2ldKTt2YXIgcj10aGlzLGE9W107cmV0dXJuIGUuZm9yRWFjaChmdW5jdGlvbihlKXtpLmZvckVhY2goZnVuY3Rpb24oaSl7Zm9yKHZhciBoPTA7aDx0O2grKyl7dmFyIGw9ci5jcmVhdGUoMCwwLGUsaSxzKTtuJiZuLmNhbGwob3x8bCxsLGgpLGEucHVzaChsKX19KX0pLGF9LGkuR3JvdXAucHJvdG90eXBlLnVwZGF0ZVo9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy5jaGlsZHJlbi5sZW5ndGg7dC0tOyl0aGlzLmNoaWxkcmVuW3RdLno9dH0saS5Hcm91cC5wcm90b3R5cGUuYWxpZ249ZnVuY3Rpb24odCxlLHMsbixvLHIpe2lmKHZvaWQgMD09PW8mJihvPWkuVE9QX0xFRlQpLHZvaWQgMD09PXImJihyPTApLDA9PT10aGlzLmNoaWxkcmVuLmxlbmd0aHx8cj50aGlzLmNoaWxkcmVuLmxlbmd0aHx8LTE9PT10JiYtMT09PWUpcmV0dXJuITE7Zm9yKHZhciBhPW5ldyBpLlJlY3RhbmdsZSgwLDAscyxuKSxoPXQqcyxsPWUqbixjPXI7Yzx0aGlzLmNoaWxkcmVuLmxlbmd0aDtjKyspe3ZhciB1PXRoaXMuY2hpbGRyZW5bY107aWYodS5hbGlnbkluKWlmKHUuYWxpZ25JbihhLG8pLC0xPT09dClhLnkrPW4sYS55PT09bCYmKGEueCs9cyxhLnk9MCk7ZWxzZSBpZigtMT09PWUpYS54Kz1zLGEueD09PWgmJihhLng9MCxhLnkrPW4pO2Vsc2UgaWYoYS54Kz1zLGEueD09PWgmJihhLng9MCxhLnkrPW4sYS55PT09bCkpcmV0dXJuITB9cmV0dXJuITB9LGkuR3JvdXAucHJvdG90eXBlLnJlc2V0Q3Vyc29yPWZ1bmN0aW9uKHQpe2lmKHZvaWQgMD09PXQmJih0PTApLHQ+dGhpcy5jaGlsZHJlbi5sZW5ndGgtMSYmKHQ9MCksdGhpcy5jdXJzb3IpcmV0dXJuIHRoaXMuY3Vyc29ySW5kZXg9dCx0aGlzLmN1cnNvcj10aGlzLmNoaWxkcmVuW3RoaXMuY3Vyc29ySW5kZXhdLHRoaXMuY3Vyc29yfSxpLkdyb3VwLnByb3RvdHlwZS5uZXh0PWZ1bmN0aW9uKCl7aWYodGhpcy5jdXJzb3IpcmV0dXJuIHRoaXMuY3Vyc29ySW5kZXg+PXRoaXMuY2hpbGRyZW4ubGVuZ3RoLTE/dGhpcy5jdXJzb3JJbmRleD0wOnRoaXMuY3Vyc29ySW5kZXgrKyx0aGlzLmN1cnNvcj10aGlzLmNoaWxkcmVuW3RoaXMuY3Vyc29ySW5kZXhdLHRoaXMuY3Vyc29yfSxpLkdyb3VwLnByb3RvdHlwZS5wcmV2aW91cz1mdW5jdGlvbigpe2lmKHRoaXMuY3Vyc29yKXJldHVybiAwPT09dGhpcy5jdXJzb3JJbmRleD90aGlzLmN1cnNvckluZGV4PXRoaXMuY2hpbGRyZW4ubGVuZ3RoLTE6dGhpcy5jdXJzb3JJbmRleC0tLHRoaXMuY3Vyc29yPXRoaXMuY2hpbGRyZW5bdGhpcy5jdXJzb3JJbmRleF0sdGhpcy5jdXJzb3J9LGkuR3JvdXAucHJvdG90eXBlLnN3YXA9ZnVuY3Rpb24odCxlKXt0aGlzLnN3YXBDaGlsZHJlbih0LGUpLHRoaXMudXBkYXRlWigpfSxpLkdyb3VwLnByb3RvdHlwZS5icmluZ1RvVG9wPWZ1bmN0aW9uKHQpe3JldHVybiB0LnBhcmVudD09PXRoaXMmJnRoaXMuZ2V0SW5kZXgodCk8dGhpcy5jaGlsZHJlbi5sZW5ndGgmJih0aGlzLnJlbW92ZSh0LCExLCEwKSx0aGlzLmFkZCh0LCEwKSksdH0saS5Hcm91cC5wcm90b3R5cGUuc2VuZFRvQmFjaz1mdW5jdGlvbih0KXtyZXR1cm4gdC5wYXJlbnQ9PT10aGlzJiZ0aGlzLmdldEluZGV4KHQpPjAmJih0aGlzLnJlbW92ZSh0LCExLCEwKSx0aGlzLmFkZEF0KHQsMCwhMCkpLHR9LGkuR3JvdXAucHJvdG90eXBlLm1vdmVVcD1mdW5jdGlvbih0KXtpZih0LnBhcmVudD09PXRoaXMmJnRoaXMuZ2V0SW5kZXgodCk8dGhpcy5jaGlsZHJlbi5sZW5ndGgtMSl7dmFyIGU9dGhpcy5nZXRJbmRleCh0KSxpPXRoaXMuZ2V0QXQoZSsxKTtpJiZ0aGlzLnN3YXAodCxpKX1yZXR1cm4gdH0saS5Hcm91cC5wcm90b3R5cGUubW92ZURvd249ZnVuY3Rpb24odCl7aWYodC5wYXJlbnQ9PT10aGlzJiZ0aGlzLmdldEluZGV4KHQpPjApe3ZhciBlPXRoaXMuZ2V0SW5kZXgodCksaT10aGlzLmdldEF0KGUtMSk7aSYmdGhpcy5zd2FwKHQsaSl9cmV0dXJuIHR9LGkuR3JvdXAucHJvdG90eXBlLnh5PWZ1bmN0aW9uKHQsZSxpKXtpZih0PDB8fHQ+dGhpcy5jaGlsZHJlbi5sZW5ndGgpcmV0dXJuLTE7dGhpcy5nZXRDaGlsZEF0KHQpLng9ZSx0aGlzLmdldENoaWxkQXQodCkueT1pfSxpLkdyb3VwLnByb3RvdHlwZS5yZXZlcnNlPWZ1bmN0aW9uKCl7dGhpcy5jaGlsZHJlbi5yZXZlcnNlKCksdGhpcy51cGRhdGVaKCl9LGkuR3JvdXAucHJvdG90eXBlLmdldEluZGV4PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmNoaWxkcmVuLmluZGV4T2YodCl9LGkuR3JvdXAucHJvdG90eXBlLmdldEJ5TmFtZT1mdW5jdGlvbih0KXtmb3IodmFyIGU9MDtlPHRoaXMuY2hpbGRyZW4ubGVuZ3RoO2UrKylpZih0aGlzLmNoaWxkcmVuW2VdLm5hbWU9PT10KXJldHVybiB0aGlzLmNoaWxkcmVuW2VdO3JldHVybiBudWxsfSxpLkdyb3VwLnByb3RvdHlwZS5yZXBsYWNlPWZ1bmN0aW9uKHQsZSl7dmFyIHM9dGhpcy5nZXRJbmRleCh0KTtpZigtMSE9PXMpcmV0dXJuIGUucGFyZW50JiYoZS5wYXJlbnQgaW5zdGFuY2VvZiBpLkdyb3VwP2UucGFyZW50LnJlbW92ZShlKTplLnBhcmVudC5yZW1vdmVDaGlsZChlKSksdGhpcy5yZW1vdmUodCksdGhpcy5hZGRBdChlLHMpLHR9LGkuR3JvdXAucHJvdG90eXBlLmhhc1Byb3BlcnR5PWZ1bmN0aW9uKHQsZSl7dmFyIGk9ZS5sZW5ndGg7cmV0dXJuIDE9PT1pJiZlWzBdaW4gdHx8KDI9PT1pJiZlWzBdaW4gdCYmZVsxXWluIHRbZVswXV18fCgzPT09aSYmZVswXWluIHQmJmVbMV1pbiB0W2VbMF1dJiZlWzJdaW4gdFtlWzBdXVtlWzFdXXx8ND09PWkmJmVbMF1pbiB0JiZlWzFdaW4gdFtlWzBdXSYmZVsyXWluIHRbZVswXV1bZVsxXV0mJmVbM11pbiB0W2VbMF1dW2VbMV1dW2VbMl1dKSl9LGkuR3JvdXAucHJvdG90eXBlLnNldFByb3BlcnR5PWZ1bmN0aW9uKHQsZSxpLHMsbil7aWYodm9pZCAwPT09biYmKG49ITEpLHM9c3x8MCwhdGhpcy5oYXNQcm9wZXJ0eSh0LGUpJiYoIW58fHM+MCkpcmV0dXJuITE7dmFyIG89ZS5sZW5ndGg7cmV0dXJuIDE9PT1vPzA9PT1zP3RbZVswXV09aToxPT09cz90W2VbMF1dKz1pOjI9PT1zP3RbZVswXV0tPWk6Mz09PXM/dFtlWzBdXSo9aTo0PT09cyYmKHRbZVswXV0vPWkpOjI9PT1vPzA9PT1zP3RbZVswXV1bZVsxXV09aToxPT09cz90W2VbMF1dW2VbMV1dKz1pOjI9PT1zP3RbZVswXV1bZVsxXV0tPWk6Mz09PXM/dFtlWzBdXVtlWzFdXSo9aTo0PT09cyYmKHRbZVswXV1bZVsxXV0vPWkpOjM9PT1vPzA9PT1zP3RbZVswXV1bZVsxXV1bZVsyXV09aToxPT09cz90W2VbMF1dW2VbMV1dW2VbMl1dKz1pOjI9PT1zP3RbZVswXV1bZVsxXV1bZVsyXV0tPWk6Mz09PXM/dFtlWzBdXVtlWzFdXVtlWzJdXSo9aTo0PT09cyYmKHRbZVswXV1bZVsxXV1bZVsyXV0vPWkpOjQ9PT1vJiYoMD09PXM/dFtlWzBdXVtlWzFdXVtlWzJdXVtlWzNdXT1pOjE9PT1zP3RbZVswXV1bZVsxXV1bZVsyXV1bZVszXV0rPWk6Mj09PXM/dFtlWzBdXVtlWzFdXVtlWzJdXVtlWzNdXS09aTozPT09cz90W2VbMF1dW2VbMV1dW2VbMl1dW2VbM11dKj1pOjQ9PT1zJiYodFtlWzBdXVtlWzFdXVtlWzJdXVtlWzNdXS89aSkpLCEwfSxpLkdyb3VwLnByb3RvdHlwZS5jaGVja1Byb3BlcnR5PWZ1bmN0aW9uKHQsZSxzLG4pe2lmKHZvaWQgMD09PW4mJihuPSExKSx0aGlzIT09dC5wYXJlbnQpcmV0dXJuITE7dmFyIG89aS5VdGlscy5nZXRQcm9wZXJ0eSh0LGUpO3JldHVybiEodm9pZCAwPT09byYmbnx8byE9PXMpfSxpLkdyb3VwLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24odCxlLGkscyxuLG8scil7aWYodm9pZCAwPT09ciYmKHI9ITEpLGU9ZS5zcGxpdChcIi5cIiksdm9pZCAwPT09cyYmKHM9ITEpLHZvaWQgMD09PW4mJihuPSExKSwoITE9PT1zfHxzJiZ0LmFsaXZlKSYmKCExPT09bnx8biYmdC52aXNpYmxlKSlyZXR1cm4gdGhpcy5zZXRQcm9wZXJ0eSh0LGUsaSxvLHIpfSxpLkdyb3VwLnByb3RvdHlwZS5zZXRBbGw9ZnVuY3Rpb24odCxlLGkscyxuLG8pe3ZvaWQgMD09PWkmJihpPSExKSx2b2lkIDA9PT1zJiYocz0hMSksdm9pZCAwPT09byYmKG89ITEpLHQ9dC5zcGxpdChcIi5cIiksbj1ufHwwO2Zvcih2YXIgcj0wO3I8dGhpcy5jaGlsZHJlbi5sZW5ndGg7cisrKSghaXx8aSYmdGhpcy5jaGlsZHJlbltyXS5hbGl2ZSkmJighc3x8cyYmdGhpcy5jaGlsZHJlbltyXS52aXNpYmxlKSYmdGhpcy5zZXRQcm9wZXJ0eSh0aGlzLmNoaWxkcmVuW3JdLHQsZSxuLG8pfSxpLkdyb3VwLnByb3RvdHlwZS5zZXRBbGxDaGlsZHJlbj1mdW5jdGlvbih0LGUscyxuLG8scil7dm9pZCAwPT09cyYmKHM9ITEpLHZvaWQgMD09PW4mJihuPSExKSx2b2lkIDA9PT1yJiYocj0hMSksbz1vfHwwO2Zvcih2YXIgYT0wO2E8dGhpcy5jaGlsZHJlbi5sZW5ndGg7YSsrKSghc3x8cyYmdGhpcy5jaGlsZHJlblthXS5hbGl2ZSkmJighbnx8biYmdGhpcy5jaGlsZHJlblthXS52aXNpYmxlKSYmKHRoaXMuY2hpbGRyZW5bYV1pbnN0YW5jZW9mIGkuR3JvdXA/dGhpcy5jaGlsZHJlblthXS5zZXRBbGxDaGlsZHJlbih0LGUscyxuLG8scik6dGhpcy5zZXRQcm9wZXJ0eSh0aGlzLmNoaWxkcmVuW2FdLHQuc3BsaXQoXCIuXCIpLGUsbyxyKSl9LGkuR3JvdXAucHJvdG90eXBlLmNoZWNrQWxsPWZ1bmN0aW9uKHQsZSxpLHMsbil7dm9pZCAwPT09aSYmKGk9ITEpLHZvaWQgMD09PXMmJihzPSExKSx2b2lkIDA9PT1uJiYobj0hMSk7Zm9yKHZhciBvPTA7bzx0aGlzLmNoaWxkcmVuLmxlbmd0aDtvKyspe3ZhciByPXRoaXMuY2hpbGRyZW5bb107aWYoKCFpfHxpJiZyLmFsaXZlKSYmKCFzfHxzJiZyLnZpc2libGUpJiYhdGhpcy5jaGVja1Byb3BlcnR5KHIsdCxlLG4pKXJldHVybiExfXJldHVybiEwfSxpLkdyb3VwLnByb3RvdHlwZS5jaGVja0FueT1mdW5jdGlvbih0LGUsaSxzKXt2b2lkIDA9PT1pJiYoaT0hMSksdm9pZCAwPT09cyYmKHM9ITEpO2Zvcih2YXIgbj0wO248dGhpcy5jaGlsZHJlbi5sZW5ndGg7bisrKXt2YXIgbz10aGlzLmNoaWxkcmVuW25dO2lmKCghaXx8aSYmby5hbGl2ZSkmJighc3x8cyYmby52aXNpYmxlKSYmdGhpcy5jaGVja1Byb3BlcnR5KG8sdCxlKSlyZXR1cm4hMH1yZXR1cm4hMX0saS5Hcm91cC5wcm90b3R5cGUuYWRkQWxsPWZ1bmN0aW9uKHQsZSxpLHMpe3RoaXMuc2V0QWxsKHQsZSxpLHMsMSl9LGkuR3JvdXAucHJvdG90eXBlLnN1YkFsbD1mdW5jdGlvbih0LGUsaSxzKXt0aGlzLnNldEFsbCh0LGUsaSxzLDIpfSxpLkdyb3VwLnByb3RvdHlwZS5tdWx0aXBseUFsbD1mdW5jdGlvbih0LGUsaSxzKXt0aGlzLnNldEFsbCh0LGUsaSxzLDMpfSxpLkdyb3VwLnByb3RvdHlwZS5kaXZpZGVBbGw9ZnVuY3Rpb24odCxlLGkscyl7dGhpcy5zZXRBbGwodCxlLGkscyw0KX0saS5Hcm91cC5wcm90b3R5cGUua2lsbD1mdW5jdGlvbigpe3RoaXMuYWxpdmU9ITEsdGhpcy5leGlzdHM9ITEsdGhpcy52aXNpYmxlPSExfSxpLkdyb3VwLnByb3RvdHlwZS5raWxsQWxsPWZ1bmN0aW9uKCl7dGhpcy5jYWxsQWxsRXhpc3RzKFwia2lsbFwiLCEwKX0saS5Hcm91cC5wcm90b3R5cGUucmV2aXZlPWZ1bmN0aW9uKCl7dGhpcy5hbGl2ZT0hMCx0aGlzLmV4aXN0cz0hMCx0aGlzLnZpc2libGU9ITB9LGkuR3JvdXAucHJvdG90eXBlLnJldml2ZUFsbD1mdW5jdGlvbigpe3RoaXMuY2FsbEFsbEV4aXN0cyhcInJldml2ZVwiLCExKX0saS5Hcm91cC5wcm90b3R5cGUucmVzZXRBbGw9ZnVuY3Rpb24odCxlLGkscyxuKXt0aGlzLmZvckVhY2godGhpcy5yZXNldENoaWxkLHRoaXMsbix0LGUsaSxzKX0saS5Hcm91cC5wcm90b3R5cGUuY2FsbEFsbEV4aXN0cz1mdW5jdGlvbih0LGUpe3ZhciBpO2lmKGFyZ3VtZW50cy5sZW5ndGg+Mil7aT1bXTtmb3Iocz0yO3M8YXJndW1lbnRzLmxlbmd0aDtzKyspaS5wdXNoKGFyZ3VtZW50c1tzXSl9Zm9yKHZhciBzPTA7czx0aGlzLmNoaWxkcmVuLmxlbmd0aDtzKyspdGhpcy5jaGlsZHJlbltzXS5leGlzdHM9PT1lJiZ0aGlzLmNoaWxkcmVuW3NdW3RdJiZ0aGlzLmNoaWxkcmVuW3NdW3RdLmFwcGx5KHRoaXMuY2hpbGRyZW5bc10saSl9LGkuR3JvdXAucHJvdG90eXBlLmNhbGxiYWNrRnJvbUFycmF5PWZ1bmN0aW9uKHQsZSxpKXtpZigxPT09aSl7aWYodFtlWzBdXSlyZXR1cm4gdFtlWzBdXX1lbHNlIGlmKDI9PT1pKXtpZih0W2VbMF1dW2VbMV1dKXJldHVybiB0W2VbMF1dW2VbMV1dfWVsc2UgaWYoMz09PWkpe2lmKHRbZVswXV1bZVsxXV1bZVsyXV0pcmV0dXJuIHRbZVswXV1bZVsxXV1bZVsyXV19ZWxzZSBpZig0PT09aSl7aWYodFtlWzBdXVtlWzFdXVtlWzJdXVtlWzNdXSlyZXR1cm4gdFtlWzBdXVtlWzFdXVtlWzJdXVtlWzNdXX1lbHNlIGlmKHRbZV0pcmV0dXJuIHRbZV07cmV0dXJuITF9LGkuR3JvdXAucHJvdG90eXBlLmNhbGxBbGw9ZnVuY3Rpb24odCxlKXtpZih2b2lkIDAhPT10KXt2YXIgaT0odD10LnNwbGl0KFwiLlwiKSkubGVuZ3RoO2lmKHZvaWQgMD09PWV8fG51bGw9PT1lfHxcIlwiPT09ZSllPW51bGw7ZWxzZSBpZihcInN0cmluZ1wiPT10eXBlb2YgZSl2YXIgcz0oZT1lLnNwbGl0KFwiLlwiKSkubGVuZ3RoO3ZhciBuO2lmKGFyZ3VtZW50cy5sZW5ndGg+Mil7bj1bXTtmb3IoYT0yO2E8YXJndW1lbnRzLmxlbmd0aDthKyspbi5wdXNoKGFyZ3VtZW50c1thXSl9Zm9yKHZhciBvPW51bGwscj1udWxsLGE9MDthPHRoaXMuY2hpbGRyZW4ubGVuZ3RoO2ErKylvPXRoaXMuY2FsbGJhY2tGcm9tQXJyYXkodGhpcy5jaGlsZHJlblthXSx0LGkpLGUmJm8/KHI9dGhpcy5jYWxsYmFja0Zyb21BcnJheSh0aGlzLmNoaWxkcmVuW2FdLGUscyksbyYmby5hcHBseShyLG4pKTpvJiZvLmFwcGx5KHRoaXMuY2hpbGRyZW5bYV0sbil9fSxpLkdyb3VwLnByb3RvdHlwZS5wcmVVcGRhdGU9ZnVuY3Rpb24oKXtpZih0aGlzLnBlbmRpbmdEZXN0cm95KXJldHVybiB0aGlzLmRlc3Ryb3koKSwhMTtpZighdGhpcy5leGlzdHN8fCF0aGlzLnBhcmVudC5leGlzdHMpcmV0dXJuIHRoaXMucmVuZGVyT3JkZXJJRD0tMSwhMTtmb3IodmFyIHQ9MDt0PHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyl7dmFyIGU9dGhpcy5jaGlsZHJlblt0XTtlLnByZVVwZGF0ZSgpLHRoaXM9PT1lLnBhcmVudCYmdCsrfXJldHVybiEwfSxpLkdyb3VwLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy5jaGlsZHJlbi5sZW5ndGg7dC0tOyl7dmFyIGU9dGhpcy5jaGlsZHJlbi5sZW5ndGg7dD49ZSYmKHQ9ZS0xKTt2YXIgaT10aGlzLmNoaWxkcmVuW3RdO3RoaXMudXBkYXRlT25seUV4aXN0aW5nQ2hpbGRyZW4mJiFpLmV4aXN0c3x8aS51cGRhdGUoKX19LGkuR3JvdXAucHJvdG90eXBlLnBvc3RVcGRhdGU9ZnVuY3Rpb24oKXt0aGlzLmZpeGVkVG9DYW1lcmEmJih0aGlzLng9KHRoaXMuZ2FtZS5jYW1lcmEudmlldy54K3RoaXMuY2FtZXJhT2Zmc2V0LngpL3RoaXMuZ2FtZS5jYW1lcmEuc2NhbGUueCx0aGlzLnk9KHRoaXMuZ2FtZS5jYW1lcmEudmlldy55K3RoaXMuY2FtZXJhT2Zmc2V0LnkpL3RoaXMuZ2FtZS5jYW1lcmEuc2NhbGUueSk7Zm9yKHZhciB0PTA7dDx0aGlzLmNoaWxkcmVuLmxlbmd0aDt0KyspdGhpcy5jaGlsZHJlblt0XS5wb3N0VXBkYXRlKCl9LGkuR3JvdXAucHJvdG90eXBlLmZpbHRlcj1mdW5jdGlvbih0LGUpe2Zvcih2YXIgcz0tMSxuPXRoaXMuY2hpbGRyZW4ubGVuZ3RoLG89W107KytzPG47KXt2YXIgcj10aGlzLmNoaWxkcmVuW3NdOyghZXx8ZSYmci5leGlzdHMpJiZ0KHIscyx0aGlzLmNoaWxkcmVuKSYmby5wdXNoKHIpfXJldHVybiBuZXcgaS5BcnJheVNldChvKX0saS5Hcm91cC5wcm90b3R5cGUuZm9yRWFjaD1mdW5jdGlvbih0LGUsaSl7aWYodm9pZCAwPT09aSYmKGk9ITEpLGFyZ3VtZW50cy5sZW5ndGg8PTMpZm9yKG49MDtuPHRoaXMuY2hpbGRyZW4ubGVuZ3RoO24rKykoIWl8fGkmJnRoaXMuY2hpbGRyZW5bbl0uZXhpc3RzKSYmdC5jYWxsKGUsdGhpcy5jaGlsZHJlbltuXSk7ZWxzZXtmb3IodmFyIHM9W251bGxdLG49MztuPGFyZ3VtZW50cy5sZW5ndGg7bisrKXMucHVzaChhcmd1bWVudHNbbl0pO2ZvcihuPTA7bjx0aGlzLmNoaWxkcmVuLmxlbmd0aDtuKyspKCFpfHxpJiZ0aGlzLmNoaWxkcmVuW25dLmV4aXN0cykmJihzWzBdPXRoaXMuY2hpbGRyZW5bbl0sdC5hcHBseShlLHMpKX19LGkuR3JvdXAucHJvdG90eXBlLmZvckVhY2hFeGlzdHM9ZnVuY3Rpb24odCxlKXt2YXIgcztpZihhcmd1bWVudHMubGVuZ3RoPjIpe3M9W251bGxdO2Zvcih2YXIgbj0yO248YXJndW1lbnRzLmxlbmd0aDtuKyspcy5wdXNoKGFyZ3VtZW50c1tuXSl9dGhpcy5pdGVyYXRlKFwiZXhpc3RzXCIsITAsaS5Hcm91cC5SRVRVUk5fVE9UQUwsdCxlLHMpfSxpLkdyb3VwLnByb3RvdHlwZS5mb3JFYWNoQWxpdmU9ZnVuY3Rpb24odCxlKXt2YXIgcztpZihhcmd1bWVudHMubGVuZ3RoPjIpe3M9W251bGxdO2Zvcih2YXIgbj0yO248YXJndW1lbnRzLmxlbmd0aDtuKyspcy5wdXNoKGFyZ3VtZW50c1tuXSl9dGhpcy5pdGVyYXRlKFwiYWxpdmVcIiwhMCxpLkdyb3VwLlJFVFVSTl9UT1RBTCx0LGUscyl9LGkuR3JvdXAucHJvdG90eXBlLmZvckVhY2hEZWFkPWZ1bmN0aW9uKHQsZSl7dmFyIHM7aWYoYXJndW1lbnRzLmxlbmd0aD4yKXtzPVtudWxsXTtmb3IodmFyIG49MjtuPGFyZ3VtZW50cy5sZW5ndGg7bisrKXMucHVzaChhcmd1bWVudHNbbl0pfXRoaXMuaXRlcmF0ZShcImFsaXZlXCIsITEsaS5Hcm91cC5SRVRVUk5fVE9UQUwsdCxlLHMpfSxpLkdyb3VwLnByb3RvdHlwZS5zb3J0PWZ1bmN0aW9uKHQsZSl7dGhpcy5jaGlsZHJlbi5sZW5ndGg8Mnx8KHZvaWQgMD09PXQmJih0PVwielwiKSx2b2lkIDA9PT1lJiYoZT1pLkdyb3VwLlNPUlRfQVNDRU5ESU5HKSx0aGlzLl9zb3J0UHJvcGVydHk9dCxlPT09aS5Hcm91cC5TT1JUX0FTQ0VORElORz90aGlzLmNoaWxkcmVuLnNvcnQodGhpcy5hc2NlbmRpbmdTb3J0SGFuZGxlci5iaW5kKHRoaXMpKTp0aGlzLmNoaWxkcmVuLnNvcnQodGhpcy5kZXNjZW5kaW5nU29ydEhhbmRsZXIuYmluZCh0aGlzKSksdGhpcy51cGRhdGVaKCkpfSxpLkdyb3VwLnByb3RvdHlwZS5jdXN0b21Tb3J0PWZ1bmN0aW9uKHQsZSl7dGhpcy5jaGlsZHJlbi5sZW5ndGg8Mnx8KHRoaXMuY2hpbGRyZW4uc29ydCh0LmJpbmQoZSkpLHRoaXMudXBkYXRlWigpKX0saS5Hcm91cC5wcm90b3R5cGUuYXNjZW5kaW5nU29ydEhhbmRsZXI9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdFt0aGlzLl9zb3J0UHJvcGVydHldPGVbdGhpcy5fc29ydFByb3BlcnR5XT8tMTp0W3RoaXMuX3NvcnRQcm9wZXJ0eV0+ZVt0aGlzLl9zb3J0UHJvcGVydHldPzE6dC56PGUuej8tMToxfSxpLkdyb3VwLnByb3RvdHlwZS5kZXNjZW5kaW5nU29ydEhhbmRsZXI9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdFt0aGlzLl9zb3J0UHJvcGVydHldPGVbdGhpcy5fc29ydFByb3BlcnR5XT8xOnRbdGhpcy5fc29ydFByb3BlcnR5XT5lW3RoaXMuX3NvcnRQcm9wZXJ0eV0/LTE6MH0saS5Hcm91cC5wcm90b3R5cGUuaXRlcmF0ZT1mdW5jdGlvbih0LGUscyxuLG8scil7aWYoMD09PXRoaXMuY2hpbGRyZW4ubGVuZ3RoKXtpZihzPT09aS5Hcm91cC5SRVRVUk5fVE9UQUwpcmV0dXJuIDA7aWYocz09PWkuR3JvdXAuUkVUVVJOX0FMTClyZXR1cm5bXX12YXIgYT0wO2lmKHM9PT1pLkdyb3VwLlJFVFVSTl9BTEwpdmFyIGg9W107Zm9yKHZhciBsPTA7bDx0aGlzLmNoaWxkcmVuLmxlbmd0aDtsKyspaWYodGhpcy5jaGlsZHJlbltsXVt0XT09PWUpe2lmKGErKyxuJiYocj8oclswXT10aGlzLmNoaWxkcmVuW2xdLG4uYXBwbHkobyxyKSk6bi5jYWxsKG8sdGhpcy5jaGlsZHJlbltsXSkpLHM9PT1pLkdyb3VwLlJFVFVSTl9DSElMRClyZXR1cm4gdGhpcy5jaGlsZHJlbltsXTtzPT09aS5Hcm91cC5SRVRVUk5fQUxMJiZoLnB1c2godGhpcy5jaGlsZHJlbltsXSl9cmV0dXJuIHM9PT1pLkdyb3VwLlJFVFVSTl9UT1RBTD9hOnM9PT1pLkdyb3VwLlJFVFVSTl9BTEw/aDpudWxsfSxpLkdyb3VwLnByb3RvdHlwZS5nZXRGaXJzdD1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLml0ZXJhdGUodCxlLGkuR3JvdXAuUkVUVVJOX0NISUxEKX0saS5Hcm91cC5wcm90b3R5cGUuZ2V0Rmlyc3RFeGlzdHM9ZnVuY3Rpb24odCxlLGkscyxuLG8pe3ZvaWQgMD09PWUmJihlPSExKSxcImJvb2xlYW5cIiE9dHlwZW9mIHQmJih0PSEwKTt2YXIgcj10aGlzLmdldEZpcnN0KFwiZXhpc3RzXCIsdCk7cmV0dXJuIG51bGw9PT1yJiZlP3RoaXMuY3JlYXRlKGkscyxuLG8pOnRoaXMucmVzZXRDaGlsZChyLGkscyxuLG8pfSxpLkdyb3VwLnByb3RvdHlwZS5nZXRGaXJzdEFsaXZlPWZ1bmN0aW9uKHQsZSxpLHMsbil7dm9pZCAwPT09dCYmKHQ9ITEpO3ZhciBvPXRoaXMuZ2V0Rmlyc3QoXCJhbGl2ZVwiLCEwKTtyZXR1cm4gbnVsbD09PW8mJnQ/dGhpcy5jcmVhdGUoZSxpLHMsbik6dGhpcy5yZXNldENoaWxkKG8sZSxpLHMsbil9LGkuR3JvdXAucHJvdG90eXBlLmdldEZpcnN0RGVhZD1mdW5jdGlvbih0LGUsaSxzLG4pe3ZvaWQgMD09PXQmJih0PSExKTt2YXIgbz10aGlzLmdldEZpcnN0KFwiYWxpdmVcIiwhMSk7cmV0dXJuIG51bGw9PT1vJiZ0P3RoaXMuY3JlYXRlKGUsaSxzLG4pOnRoaXMucmVzZXRDaGlsZChvLGUsaSxzLG4pfSxpLkdyb3VwLnByb3RvdHlwZS5yZXNldENoaWxkPWZ1bmN0aW9uKHQsZSxpLHMsbil7cmV0dXJuIG51bGw9PT10P251bGw6KHZvaWQgMD09PWUmJihlPW51bGwpLHZvaWQgMD09PWkmJihpPW51bGwpLG51bGwhPT1lJiZudWxsIT09aSYmdC5yZXNldChlLGkpLHZvaWQgMCE9PXMmJnQubG9hZFRleHR1cmUocyxuKSx0KX0saS5Hcm91cC5wcm90b3R5cGUuZ2V0VG9wPWZ1bmN0aW9uKCl7aWYodGhpcy5jaGlsZHJlbi5sZW5ndGg+MClyZXR1cm4gdGhpcy5jaGlsZHJlblt0aGlzLmNoaWxkcmVuLmxlbmd0aC0xXX0saS5Hcm91cC5wcm90b3R5cGUuZ2V0Qm90dG9tPWZ1bmN0aW9uKCl7aWYodGhpcy5jaGlsZHJlbi5sZW5ndGg+MClyZXR1cm4gdGhpcy5jaGlsZHJlblswXX0saS5Hcm91cC5wcm90b3R5cGUuZ2V0Q2xvc2VzdFRvPWZ1bmN0aW9uKHQsZSxzKXtmb3IodmFyIG49TnVtYmVyLk1BWF9WQUxVRSxvPTAscj1udWxsLGE9MDthPHRoaXMuY2hpbGRyZW4ubGVuZ3RoO2ErKyl7dmFyIGg9dGhpcy5jaGlsZHJlblthXTtoLmV4aXN0cyYmKG89TWF0aC5hYnMoaS5Qb2ludC5kaXN0YW5jZSh0LGgpKSk8biYmKCFlfHxlLmNhbGwocyxoLG8pKSYmKG49byxyPWgpfXJldHVybiByfSxpLkdyb3VwLnByb3RvdHlwZS5nZXRGdXJ0aGVzdEZyb209ZnVuY3Rpb24odCxlLHMpe2Zvcih2YXIgbj0wLG89MCxyPW51bGwsYT0wO2E8dGhpcy5jaGlsZHJlbi5sZW5ndGg7YSsrKXt2YXIgaD10aGlzLmNoaWxkcmVuW2FdO2guZXhpc3RzJiYobz1NYXRoLmFicyhpLlBvaW50LmRpc3RhbmNlKHQsaCkpKT5uJiYoIWV8fGUuY2FsbChzLGgsbykpJiYobj1vLHI9aCl9cmV0dXJuIHJ9LGkuR3JvdXAucHJvdG90eXBlLmNvdW50PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuaXRlcmF0ZSh0LGUsaS5Hcm91cC5SRVRVUk5fVE9UQUwpfSxpLkdyb3VwLnByb3RvdHlwZS5jb3VudExpdmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvdW50KFwiYWxpdmVcIiwhMCl9LGkuR3JvdXAucHJvdG90eXBlLmNvdW50RGVhZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvdW50KFwiYWxpdmVcIiwhMSl9LGkuR3JvdXAucHJvdG90eXBlLmdldFJhbmRvbT1mdW5jdGlvbih0LGUpe3JldHVybiB2b2lkIDA9PT10JiYodD0wKSx2b2lkIDA9PT1lJiYoZT10aGlzLmNoaWxkcmVuLmxlbmd0aCksMD09PWU/bnVsbDppLkFycmF5VXRpbHMuZ2V0UmFuZG9tSXRlbSh0aGlzLmNoaWxkcmVuLHQsZSl9LGkuR3JvdXAucHJvdG90eXBlLmdldFJhbmRvbUV4aXN0cz1mdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuZ2V0QWxsKFwiZXhpc3RzXCIsITAsdCxlKTtyZXR1cm4gdGhpcy5nYW1lLnJuZC5waWNrKGkpfSxpLkdyb3VwLnByb3RvdHlwZS5nZXRBbGw9ZnVuY3Rpb24odCxlLGkscyl7dm9pZCAwPT09aSYmKGk9MCksdm9pZCAwPT09cyYmKHM9dGhpcy5jaGlsZHJlbi5sZW5ndGgpO2Zvcih2YXIgbj1bXSxvPWk7bzxzO28rKyl7dmFyIHI9dGhpcy5jaGlsZHJlbltvXTt0P3JbdF09PT1lJiZuLnB1c2gocik6bi5wdXNoKHIpfXJldHVybiBufSxpLkdyb3VwLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24odCxlLGkpe2lmKHZvaWQgMD09PWUmJihlPSExKSx2b2lkIDA9PT1pJiYoaT0hMSksMD09PXRoaXMuY2hpbGRyZW4ubGVuZ3RofHwtMT09PXRoaXMuY2hpbGRyZW4uaW5kZXhPZih0KSlyZXR1cm4hMTtpfHwhdC5ldmVudHN8fHQuZGVzdHJveVBoYXNlfHx0LmV2ZW50cy5vblJlbW92ZWRGcm9tR3JvdXAkZGlzcGF0Y2godCx0aGlzKTt2YXIgcz10aGlzLnJlbW92ZUNoaWxkKHQpO3JldHVybiB0aGlzLnJlbW92ZUZyb21IYXNoKHQpLHRoaXMudXBkYXRlWigpLHRoaXMuY3Vyc29yPT09dCYmdGhpcy5uZXh0KCksZSYmcyYmcy5kZXN0cm95KCEwKSwhMH0saS5Hcm91cC5wcm90b3R5cGUubW92ZUFsbD1mdW5jdGlvbih0LGUpe2lmKHZvaWQgMD09PWUmJihlPSExKSx0aGlzLmNoaWxkcmVuLmxlbmd0aD4wJiZ0IGluc3RhbmNlb2YgaS5Hcm91cCl7ZG97dC5hZGQodGhpcy5jaGlsZHJlblswXSxlKX13aGlsZSh0aGlzLmNoaWxkcmVuLmxlbmd0aD4wKTt0aGlzLmhhc2g9W10sdGhpcy5jdXJzb3I9bnVsbH1yZXR1cm4gdH0saS5Hcm91cC5wcm90b3R5cGUucmVtb3ZlQWxsPWZ1bmN0aW9uKHQsZSxpKXtpZih2b2lkIDA9PT10JiYodD0hMSksdm9pZCAwPT09ZSYmKGU9ITEpLHZvaWQgMD09PWkmJihpPSExKSwwIT09dGhpcy5jaGlsZHJlbi5sZW5ndGgpe2RveyFlJiZ0aGlzLmNoaWxkcmVuWzBdLmV2ZW50cyYmdGhpcy5jaGlsZHJlblswXS5ldmVudHMub25SZW1vdmVkRnJvbUdyb3VwJGRpc3BhdGNoKHRoaXMuY2hpbGRyZW5bMF0sdGhpcyk7dmFyIHM9dGhpcy5yZW1vdmVDaGlsZCh0aGlzLmNoaWxkcmVuWzBdKTt0aGlzLnJlbW92ZUZyb21IYXNoKHMpLHQmJnMmJnMuZGVzdHJveSghMCxpKX13aGlsZSh0aGlzLmNoaWxkcmVuLmxlbmd0aD4wKTt0aGlzLmhhc2g9W10sdGhpcy5jdXJzb3I9bnVsbH19LGkuR3JvdXAucHJvdG90eXBlLnJlbW92ZUJldHdlZW49ZnVuY3Rpb24odCxlLGkscyl7aWYodm9pZCAwPT09ZSYmKGU9dGhpcy5jaGlsZHJlbi5sZW5ndGgtMSksdm9pZCAwPT09aSYmKGk9ITEpLHZvaWQgMD09PXMmJihzPSExKSwwIT09dGhpcy5jaGlsZHJlbi5sZW5ndGgpe2lmKHQ+ZXx8dDwwfHxlPnRoaXMuY2hpbGRyZW4ubGVuZ3RoKXJldHVybiExO2Zvcih2YXIgbj1lO24+PXQ7KXshcyYmdGhpcy5jaGlsZHJlbltuXS5ldmVudHMmJnRoaXMuY2hpbGRyZW5bbl0uZXZlbnRzLm9uUmVtb3ZlZEZyb21Hcm91cCRkaXNwYXRjaCh0aGlzLmNoaWxkcmVuW25dLHRoaXMpO3ZhciBvPXRoaXMucmVtb3ZlQ2hpbGQodGhpcy5jaGlsZHJlbltuXSk7dGhpcy5yZW1vdmVGcm9tSGFzaChvKSxpJiZvJiZvLmRlc3Ryb3koITApLHRoaXMuY3Vyc29yPT09dGhpcy5jaGlsZHJlbltuXSYmKHRoaXMuY3Vyc29yPW51bGwpLG4tLX10aGlzLnVwZGF0ZVooKX19LGkuR3JvdXAucHJvdG90eXBlLnNjYXR0ZXI9ZnVuY3Rpb24odCxlKXtudWxsPT10JiYodD10aGlzLmdhbWUud29ybGQuYm91bmRzKSx0aGlzLmZvckVhY2goZnVuY3Rpb24oZSl7ZS5wb3NpdGlvbi5zZXQodC5yYW5kb21YLHQucmFuZG9tWSl9LG51bGwsZSl9LGkuR3JvdXAucHJvdG90eXBlLnNodWZmbGU9ZnVuY3Rpb24oKXtpLkFycmF5VXRpbHMuc2h1ZmZsZSh0aGlzLmNoaWxkcmVuKSx0aGlzLnVwZGF0ZVooKX0saS5Hcm91cC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbih0LGUpe251bGw9PT10aGlzLmdhbWV8fHRoaXMuaWdub3JlRGVzdHJveXx8KHZvaWQgMD09PXQmJih0PSEwKSx2b2lkIDA9PT1lJiYoZT0hMSksdGhpcy5vbkRlc3Ryb3kuZGlzcGF0Y2godGhpcyx0LGUpLHRoaXMucmVtb3ZlQWxsKHQpLHRoaXMuY3Vyc29yPW51bGwsdGhpcy5maWx0ZXJzPW51bGwsdGhpcy5wZW5kaW5nRGVzdHJveT0hMSxlfHwodGhpcy5wYXJlbnQmJnRoaXMucGFyZW50LnJlbW92ZUNoaWxkKHRoaXMpLHRoaXMuZ2FtZT1udWxsLHRoaXMuZXhpc3RzPSExKSl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLkdyb3VwLnByb3RvdHlwZSxcInRvdGFsXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLml0ZXJhdGUoXCJleGlzdHNcIiwhMCxpLkdyb3VwLlJFVFVSTl9UT1RBTCl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuR3JvdXAucHJvdG90eXBlLFwibGVuZ3RoXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNoaWxkcmVuLmxlbmd0aH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5Hcm91cC5wcm90b3R5cGUsXCJhbmdsZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaS5NYXRoLnJhZFRvRGVnKHRoaXMucm90YXRpb24pfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5yb3RhdGlvbj1pLk1hdGguZGVnVG9SYWQodCl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuR3JvdXAucHJvdG90eXBlLFwiY2VudGVyWFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRCb3VuZHModGhpcy5wYXJlbnQpLmNlbnRlclh9LHNldDpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmdldEJvdW5kcyh0aGlzLnBhcmVudCksaT10aGlzLngtZS54O3RoaXMueD10K2ktZS5oYWxmV2lkdGh9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuR3JvdXAucHJvdG90eXBlLFwiY2VudGVyWVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRCb3VuZHModGhpcy5wYXJlbnQpLmNlbnRlcll9LHNldDpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmdldEJvdW5kcyh0aGlzLnBhcmVudCksaT10aGlzLnktZS55O3RoaXMueT10K2ktZS5oYWxmSGVpZ2h0fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLkdyb3VwLnByb3RvdHlwZSxcImxlZnRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0Qm91bmRzKHRoaXMucGFyZW50KS5sZWZ0fSxzZXQ6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5nZXRCb3VuZHModGhpcy5wYXJlbnQpLGk9dGhpcy54LWUueDt0aGlzLng9dCtpfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLkdyb3VwLnByb3RvdHlwZSxcInJpZ2h0XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldEJvdW5kcyh0aGlzLnBhcmVudCkucmlnaHR9LHNldDpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmdldEJvdW5kcyh0aGlzLnBhcmVudCksaT10aGlzLngtZS54O3RoaXMueD10K2ktZS53aWR0aH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5Hcm91cC5wcm90b3R5cGUsXCJ0b3BcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0Qm91bmRzKHRoaXMucGFyZW50KS50b3B9LHNldDpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmdldEJvdW5kcyh0aGlzLnBhcmVudCksaT10aGlzLnktZS55O3RoaXMueT10K2l9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuR3JvdXAucHJvdG90eXBlLFwiYm90dG9tXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldEJvdW5kcyh0aGlzLnBhcmVudCkuYm90dG9tfSxzZXQ6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5nZXRCb3VuZHModGhpcy5wYXJlbnQpLGk9dGhpcy55LWUueTt0aGlzLnk9dCtpLWUuaGVpZ2h0fX0pLGkuV29ybGQ9ZnVuY3Rpb24odCl7aS5Hcm91cC5jYWxsKHRoaXMsdCxudWxsLFwiX193b3JsZFwiLCExKSx0aGlzLmJvdW5kcz1uZXcgaS5SZWN0YW5nbGUoMCwwLHQud2lkdGgsdC5oZWlnaHQpLHRoaXMuY2FtZXJhPW51bGwsdGhpcy5fZGVmaW5lZFNpemU9ITEsdGhpcy5fd2lkdGg9dC53aWR0aCx0aGlzLl9oZWlnaHQ9dC5oZWlnaHQsdGhpcy5nYW1lLnN0YXRlLm9uU3RhdGVDaGFuZ2UuYWRkKHRoaXMuc3RhdGVDaGFuZ2UsdGhpcyl9LGkuV29ybGQucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoaS5Hcm91cC5wcm90b3R5cGUpLGkuV29ybGQucHJvdG90eXBlLmNvbnN0cnVjdG9yPWkuV29ybGQsaS5Xb3JsZC5wcm90b3R5cGUuYm9vdD1mdW5jdGlvbigpe3RoaXMuY2FtZXJhPW5ldyBpLkNhbWVyYSh0aGlzLmdhbWUsMCwwLDAsdGhpcy5nYW1lLndpZHRoLHRoaXMuZ2FtZS5oZWlnaHQpLHRoaXMuZ2FtZS5zdGFnZS5hZGRDaGlsZCh0aGlzKSx0aGlzLmNhbWVyYS5ib290KCl9LGkuV29ybGQucHJvdG90eXBlLnN0YXRlQ2hhbmdlPWZ1bmN0aW9uKCl7dGhpcy54PTAsdGhpcy55PTAsdGhpcy5jYW1lcmEucmVzZXQoKX0saS5Xb3JsZC5wcm90b3R5cGUuc2V0Qm91bmRzPWZ1bmN0aW9uKHQsZSxpLHMpe3RoaXMuX2RlZmluZWRTaXplPSEwLHRoaXMuX3dpZHRoPWksdGhpcy5faGVpZ2h0PXMsdGhpcy5ib3VuZHMuc2V0VG8odCxlLGkscyksdGhpcy54PXQsdGhpcy55PWUsdGhpcy5jYW1lcmEuYm91bmRzJiZ0aGlzLmNhbWVyYS5ib3VuZHMuc2V0VG8odCxlLE1hdGgubWF4KGksdGhpcy5nYW1lLndpZHRoKSxNYXRoLm1heChzLHRoaXMuZ2FtZS5oZWlnaHQpKSx0aGlzLmdhbWUucGh5c2ljcy5zZXRCb3VuZHNUb1dvcmxkKCl9LGkuV29ybGQucHJvdG90eXBlLnJlc2l6ZT1mdW5jdGlvbih0LGUpe3RoaXMuX2RlZmluZWRTaXplJiYodDx0aGlzLl93aWR0aCYmKHQ9dGhpcy5fd2lkdGgpLGU8dGhpcy5faGVpZ2h0JiYoZT10aGlzLl9oZWlnaHQpKSx0aGlzLmJvdW5kcy53aWR0aD10LHRoaXMuYm91bmRzLmhlaWdodD1lLHRoaXMuZ2FtZS5jYW1lcmEuc2V0Qm91bmRzVG9Xb3JsZCgpLHRoaXMuZ2FtZS5waHlzaWNzLnNldEJvdW5kc1RvV29ybGQoKX0saS5Xb3JsZC5wcm90b3R5cGUuc2h1dGRvd249ZnVuY3Rpb24oKXt0aGlzLmRlc3Ryb3koITAsITApfSxpLldvcmxkLnByb3RvdHlwZS53cmFwPWZ1bmN0aW9uKHQsZSxpLHMsbil7dm9pZCAwPT09ZSYmKGU9MCksdm9pZCAwPT09aSYmKGk9ITEpLHZvaWQgMD09PXMmJihzPSEwKSx2b2lkIDA9PT1uJiYobj0hMCksaT8odC5nZXRCb3VuZHMoKSxzJiYodC54K3QuX2N1cnJlbnRCb3VuZHMud2lkdGg8dGhpcy5ib3VuZHMueD90Lng9dGhpcy5ib3VuZHMucmlnaHQ6dC54PnRoaXMuYm91bmRzLnJpZ2h0JiYodC54PXRoaXMuYm91bmRzLmxlZnQpKSxuJiYodC55K3QuX2N1cnJlbnRCb3VuZHMuaGVpZ2h0PHRoaXMuYm91bmRzLnRvcD90Lnk9dGhpcy5ib3VuZHMuYm90dG9tOnQueT50aGlzLmJvdW5kcy5ib3R0b20mJih0Lnk9dGhpcy5ib3VuZHMudG9wKSkpOihzJiZ0LngrZTx0aGlzLmJvdW5kcy54P3QueD10aGlzLmJvdW5kcy5yaWdodCtlOnMmJnQueC1lPnRoaXMuYm91bmRzLnJpZ2h0JiYodC54PXRoaXMuYm91bmRzLmxlZnQtZSksbiYmdC55K2U8dGhpcy5ib3VuZHMudG9wP3QueT10aGlzLmJvdW5kcy5ib3R0b20rZTpuJiZ0LnktZT50aGlzLmJvdW5kcy5ib3R0b20mJih0Lnk9dGhpcy5ib3VuZHMudG9wLWUpKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuV29ybGQucHJvdG90eXBlLFwid2lkdGhcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYm91bmRzLndpZHRofSxzZXQ6ZnVuY3Rpb24odCl7dDx0aGlzLmdhbWUud2lkdGgmJih0PXRoaXMuZ2FtZS53aWR0aCksdGhpcy5ib3VuZHMud2lkdGg9dCx0aGlzLl93aWR0aD10LHRoaXMuX2RlZmluZWRTaXplPSEwfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLldvcmxkLnByb3RvdHlwZSxcImhlaWdodFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ib3VuZHMuaGVpZ2h0fSxzZXQ6ZnVuY3Rpb24odCl7dDx0aGlzLmdhbWUuaGVpZ2h0JiYodD10aGlzLmdhbWUuaGVpZ2h0KSx0aGlzLmJvdW5kcy5oZWlnaHQ9dCx0aGlzLl9oZWlnaHQ9dCx0aGlzLl9kZWZpbmVkU2l6ZT0hMH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5Xb3JsZC5wcm90b3R5cGUsXCJjZW50ZXJYXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmJvdW5kcy5oYWxmV2lkdGgrdGhpcy5ib3VuZHMueH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5Xb3JsZC5wcm90b3R5cGUsXCJjZW50ZXJZXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmJvdW5kcy5oYWxmSGVpZ2h0K3RoaXMuYm91bmRzLnl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuV29ybGQucHJvdG90eXBlLFwicmFuZG9tWFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ib3VuZHMueDwwP3RoaXMuZ2FtZS5ybmQuYmV0d2Vlbih0aGlzLmJvdW5kcy54LHRoaXMuYm91bmRzLndpZHRoLU1hdGguYWJzKHRoaXMuYm91bmRzLngpKTp0aGlzLmdhbWUucm5kLmJldHdlZW4odGhpcy5ib3VuZHMueCx0aGlzLmJvdW5kcy53aWR0aCl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuV29ybGQucHJvdG90eXBlLFwicmFuZG9tWVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ib3VuZHMueTwwP3RoaXMuZ2FtZS5ybmQuYmV0d2Vlbih0aGlzLmJvdW5kcy55LHRoaXMuYm91bmRzLmhlaWdodC1NYXRoLmFicyh0aGlzLmJvdW5kcy55KSk6dGhpcy5nYW1lLnJuZC5iZXR3ZWVuKHRoaXMuYm91bmRzLnksdGhpcy5ib3VuZHMuaGVpZ2h0KX19KSxpLkdhbWU9ZnVuY3Rpb24odCxlLHMsbixvLHIsYSxoKXtyZXR1cm4gdGhpcy5pZD1pLkdBTUVTLnB1c2godGhpcyktMSx0aGlzLmNvbmZpZz1udWxsLHRoaXMucGh5c2ljc0NvbmZpZz1oLHRoaXMucGFyZW50PVwiXCIsdGhpcy53aWR0aD04MDAsdGhpcy5oZWlnaHQ9NjAwLHRoaXMucmVzb2x1dGlvbj0xLHRoaXMuX3dpZHRoPTgwMCx0aGlzLl9oZWlnaHQ9NjAwLHRoaXMudHJhbnNwYXJlbnQ9ITEsdGhpcy5hbnRpYWxpYXM9ITAsdGhpcy5tdWx0aVRleHR1cmU9ITEsdGhpcy5wcmVzZXJ2ZURyYXdpbmdCdWZmZXI9ITEsdGhpcy5jbGVhckJlZm9yZVJlbmRlcj0hMCx0aGlzLnJlbmRlcmVyPW51bGwsdGhpcy5yZW5kZXJUeXBlPWkuQVVUTyx0aGlzLnN0YXRlPW51bGwsdGhpcy5pc0Jvb3RlZD0hMSx0aGlzLmlzUnVubmluZz0hMSx0aGlzLnJhZj1udWxsLHRoaXMuYWRkPW51bGwsdGhpcy5tYWtlPW51bGwsdGhpcy5jYWNoZT1udWxsLHRoaXMuaW5wdXQ9bnVsbCx0aGlzLmxvYWQ9bnVsbCx0aGlzLm1hdGg9bnVsbCx0aGlzLm5ldD1udWxsLHRoaXMuc2NhbGU9bnVsbCx0aGlzLnNvdW5kPW51bGwsdGhpcy5zdGFnZT1udWxsLHRoaXMudGltZT1udWxsLHRoaXMudHdlZW5zPW51bGwsdGhpcy53b3JsZD1udWxsLHRoaXMucGh5c2ljcz1udWxsLHRoaXMucGx1Z2lucz1udWxsLHRoaXMucm5kPW51bGwsdGhpcy5kZXZpY2U9aS5EZXZpY2UsdGhpcy5jYW1lcmE9bnVsbCx0aGlzLmNhbnZhcz1udWxsLHRoaXMuY29udGV4dD1udWxsLHRoaXMuZGVidWc9bnVsbCx0aGlzLnBhcnRpY2xlcz1udWxsLHRoaXMuY3JlYXRlPW51bGwsdGhpcy5sb2NrUmVuZGVyPSExLHRoaXMuc3RlcHBpbmc9ITEsdGhpcy5wZW5kaW5nU3RlcD0hMSx0aGlzLnN0ZXBDb3VudD0wLHRoaXMub25QYXVzZT1udWxsLHRoaXMub25SZXN1bWU9bnVsbCx0aGlzLm9uQmx1cj1udWxsLHRoaXMub25Gb2N1cz1udWxsLHRoaXMuX3BhdXNlZD0hMSx0aGlzLl9jb2RlUGF1c2VkPSExLHRoaXMuY3VycmVudFVwZGF0ZUlEPTAsdGhpcy51cGRhdGVzVGhpc0ZyYW1lPTEsdGhpcy5fZGVsdGFUaW1lPTAsdGhpcy5fbGFzdENvdW50PTAsdGhpcy5fc3BpcmFsaW5nPTAsdGhpcy5fa2lja3N0YXJ0PSEwLHRoaXMuZnBzUHJvYmxlbU5vdGlmaWVyPW5ldyBpLlNpZ25hbCx0aGlzLmZvcmNlU2luZ2xlVXBkYXRlPSEwLHRoaXMuX25leHRGcHNOb3RpZmljYXRpb249MCwxPT09YXJndW1lbnRzLmxlbmd0aCYmXCJvYmplY3RcIj09dHlwZW9mIGFyZ3VtZW50c1swXT90aGlzLnBhcnNlQ29uZmlnKGFyZ3VtZW50c1swXSk6KHRoaXMuY29uZmlnPXtlbmFibGVEZWJ1ZzohMH0sdm9pZCAwIT09dCYmKHRoaXMuX3dpZHRoPXQpLHZvaWQgMCE9PWUmJih0aGlzLl9oZWlnaHQ9ZSksdm9pZCAwIT09cyYmKHRoaXMucmVuZGVyVHlwZT1zKSx2b2lkIDAhPT1uJiYodGhpcy5wYXJlbnQ9biksdm9pZCAwIT09ciYmKHRoaXMudHJhbnNwYXJlbnQ9ciksdm9pZCAwIT09YSYmKHRoaXMuYW50aWFsaWFzPWEpLHRoaXMucm5kPW5ldyBpLlJhbmRvbURhdGFHZW5lcmF0b3IoWyhEYXRlLm5vdygpKk1hdGgucmFuZG9tKCkpLnRvU3RyaW5nKCldKSx0aGlzLnN0YXRlPW5ldyBpLlN0YXRlTWFuYWdlcih0aGlzLG8pKSx0aGlzLmRldmljZS53aGVuUmVhZHkodGhpcy5ib290LHRoaXMpLHRoaXN9LGkuR2FtZS5wcm90b3R5cGU9e3BhcnNlQ29uZmlnOmZ1bmN0aW9uKHQpe3RoaXMuY29uZmlnPXQsdm9pZCAwPT09dC5lbmFibGVEZWJ1ZyYmKHRoaXMuY29uZmlnLmVuYWJsZURlYnVnPSEwKSx0LndpZHRoJiYodGhpcy5fd2lkdGg9dC53aWR0aCksdC5oZWlnaHQmJih0aGlzLl9oZWlnaHQ9dC5oZWlnaHQpLHQucmVuZGVyZXImJih0aGlzLnJlbmRlclR5cGU9dC5yZW5kZXJlciksdC5wYXJlbnQmJih0aGlzLnBhcmVudD10LnBhcmVudCksdm9pZCAwIT09dC50cmFuc3BhcmVudCYmKHRoaXMudHJhbnNwYXJlbnQ9dC50cmFuc3BhcmVudCksdm9pZCAwIT09dC5hbnRpYWxpYXMmJih0aGlzLmFudGlhbGlhcz10LmFudGlhbGlhcyksdm9pZCAwIT09dC5tdWx0aVRleHR1cmUmJih0aGlzLm11bHRpVGV4dHVyZT10Lm11bHRpVGV4dHVyZSksdC5yZXNvbHV0aW9uJiYodGhpcy5yZXNvbHV0aW9uPXQucmVzb2x1dGlvbiksdm9pZCAwIT09dC5wcmVzZXJ2ZURyYXdpbmdCdWZmZXImJih0aGlzLnByZXNlcnZlRHJhd2luZ0J1ZmZlcj10LnByZXNlcnZlRHJhd2luZ0J1ZmZlciksdC5waHlzaWNzQ29uZmlnJiYodGhpcy5waHlzaWNzQ29uZmlnPXQucGh5c2ljc0NvbmZpZyk7dmFyIGU9WyhEYXRlLm5vdygpKk1hdGgucmFuZG9tKCkpLnRvU3RyaW5nKCldO3Quc2VlZCYmKGU9dC5zZWVkKSx0aGlzLnJuZD1uZXcgaS5SYW5kb21EYXRhR2VuZXJhdG9yKGUpO3ZhciBzPW51bGw7dC5zdGF0ZSYmKHM9dC5zdGF0ZSksdGhpcy5zdGF0ZT1uZXcgaS5TdGF0ZU1hbmFnZXIodGhpcyxzKX0sYm9vdDpmdW5jdGlvbigpe3RoaXMuaXNCb290ZWR8fCh0aGlzLm9uUGF1c2U9bmV3IGkuU2lnbmFsLHRoaXMub25SZXN1bWU9bmV3IGkuU2lnbmFsLHRoaXMub25CbHVyPW5ldyBpLlNpZ25hbCx0aGlzLm9uRm9jdXM9bmV3IGkuU2lnbmFsLHRoaXMuaXNCb290ZWQ9ITAsUElYSS5nYW1lPXRoaXMsdGhpcy5tYXRoPWkuTWF0aCx0aGlzLnNjYWxlPW5ldyBpLlNjYWxlTWFuYWdlcih0aGlzLHRoaXMuX3dpZHRoLHRoaXMuX2hlaWdodCksdGhpcy5zdGFnZT1uZXcgaS5TdGFnZSh0aGlzKSx0aGlzLnNldFVwUmVuZGVyZXIoKSx0aGlzLndvcmxkPW5ldyBpLldvcmxkKHRoaXMpLHRoaXMuYWRkPW5ldyBpLkdhbWVPYmplY3RGYWN0b3J5KHRoaXMpLHRoaXMubWFrZT1uZXcgaS5HYW1lT2JqZWN0Q3JlYXRvcih0aGlzKSx0aGlzLmNhY2hlPW5ldyBpLkNhY2hlKHRoaXMpLHRoaXMubG9hZD1uZXcgaS5Mb2FkZXIodGhpcyksdGhpcy50aW1lPW5ldyBpLlRpbWUodGhpcyksdGhpcy50d2VlbnM9bmV3IGkuVHdlZW5NYW5hZ2VyKHRoaXMpLHRoaXMuaW5wdXQ9bmV3IGkuSW5wdXQodGhpcyksdGhpcy5zb3VuZD1uZXcgaS5Tb3VuZE1hbmFnZXIodGhpcyksdGhpcy5waHlzaWNzPW5ldyBpLlBoeXNpY3ModGhpcyx0aGlzLnBoeXNpY3NDb25maWcpLHRoaXMucGFydGljbGVzPW5ldyBpLlBhcnRpY2xlcyh0aGlzKSx0aGlzLmNyZWF0ZT1uZXcgaS5DcmVhdGUodGhpcyksdGhpcy5wbHVnaW5zPW5ldyBpLlBsdWdpbk1hbmFnZXIodGhpcyksdGhpcy5uZXQ9bmV3IGkuTmV0KHRoaXMpLHRoaXMudGltZS5ib290KCksdGhpcy5zdGFnZS5ib290KCksdGhpcy53b3JsZC5ib290KCksdGhpcy5zY2FsZS5ib290KCksdGhpcy5pbnB1dC5ib290KCksdGhpcy5zb3VuZC5ib290KCksdGhpcy5zdGF0ZS5ib290KCksdGhpcy5jb25maWcuZW5hYmxlRGVidWc/KHRoaXMuZGVidWc9bmV3IGkuVXRpbHMuRGVidWcodGhpcyksdGhpcy5kZWJ1Zy5ib290KCkpOnRoaXMuZGVidWc9e3ByZVVwZGF0ZTpmdW5jdGlvbigpe30sdXBkYXRlOmZ1bmN0aW9uKCl7fSxyZXNldDpmdW5jdGlvbigpe30saXNEaXNhYmxlZDohMH0sdGhpcy5zaG93RGVidWdIZWFkZXIoKSx0aGlzLmlzUnVubmluZz0hMCx0aGlzLmNvbmZpZyYmdGhpcy5jb25maWcuZm9yY2VTZXRUaW1lT3V0P3RoaXMucmFmPW5ldyBpLlJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLHRoaXMuY29uZmlnLmZvcmNlU2V0VGltZU91dCk6dGhpcy5yYWY9bmV3IGkuUmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMsITEpLHRoaXMuX2tpY2tzdGFydD0hMCx3aW5kb3cuZm9jdXMmJighd2luZG93LlBoYXNlckdsb2JhbHx8d2luZG93LlBoYXNlckdsb2JhbCYmIXdpbmRvdy5QaGFzZXJHbG9iYWwuc3RvcEZvY3VzKSYmd2luZG93LmZvY3VzKCksdGhpcy5jYWNoZS5pc1JlYWR5P3RoaXMucmFmLnN0YXJ0KCk6dGhpcy5jYWNoZS5vblJlYWR5LmFkZE9uY2UoZnVuY3Rpb24oKXt0aGlzLnJhZi5zdGFydCgpfSx0aGlzKSl9LHNob3dEZWJ1Z0hlYWRlcjpmdW5jdGlvbigpe2lmKCF3aW5kb3cuUGhhc2VyR2xvYmFsfHwhd2luZG93LlBoYXNlckdsb2JhbC5oaWRlQmFubmVyKXt2YXIgdD1pLlZFUlNJT04sZT1cIkNhbnZhc1wiLHM9XCJIVE1MIEF1ZGlvXCIsbj0xO2lmKHRoaXMucmVuZGVyVHlwZT09PWkuV0VCR0w/KGU9XCJXZWJHTFwiLG4rKyk6dGhpcy5yZW5kZXJUeXBlPT09aS5IRUFETEVTUyYmKGU9XCJIZWFkbGVzc1wiKSx0aGlzLmRldmljZS53ZWJBdWRpbyYmKHM9XCJXZWJBdWRpb1wiLG4rKyksdGhpcy5kZXZpY2UuaWUpd2luZG93LmNvbnNvbGUmJmNvbnNvbGUubG9nKFwiUGhhc2VyIHZcIit0K1wiIHwgUGl4aS5qcyB8IFwiK2UrXCIgfCBcIitzK1wiIHwgaHR0cDovL3BoYXNlci5pb1wiKTtlbHNle2Zvcih2YXIgbz1bXCIlYyAlYyAlYyBQaGFzZXIgQ0UgdlwiK3QrXCIgfCBQaXhpLmpzIHwgXCIrZStcIiB8IFwiK3MrXCIgICVjICVjICVjIGh0dHA6Ly9waGFzZXIuaW8gJWPimaUlY+KZpSVj4pmlXCIsXCJiYWNrZ3JvdW5kOiAjZmI4Y2IzXCIsXCJiYWNrZ3JvdW5kOiAjZDQ0YTUyXCIsXCJjb2xvcjogI2ZmZmZmZjsgYmFja2dyb3VuZDogIzg3MTkwNTtcIixcImJhY2tncm91bmQ6ICNkNDRhNTJcIixcImJhY2tncm91bmQ6ICNmYjhjYjNcIixcImJhY2tncm91bmQ6ICNmZmZmZmZcIl0scj0wO3I8MztyKyspcjxuP28ucHVzaChcImNvbG9yOiAjZmYyNDI0OyBiYWNrZ3JvdW5kOiAjZmZmXCIpOm8ucHVzaChcImNvbG9yOiAjOTU5NTk1OyBiYWNrZ3JvdW5kOiAjZmZmXCIpO2NvbnNvbGUubG9nLmFwcGx5KGNvbnNvbGUsbyl9fX0sc2V0VXBSZW5kZXJlcjpmdW5jdGlvbigpe2lmKHRoaXMuY29uZmlnLmNhbnZhcz90aGlzLmNhbnZhcz10aGlzLmNvbmZpZy5jYW52YXM6dGhpcy5jYW52YXM9aS5DYW52YXMuY3JlYXRlKHRoaXMsdGhpcy53aWR0aCx0aGlzLmhlaWdodCx0aGlzLmNvbmZpZy5jYW52YXNJRCwhMCksdGhpcy5jb25maWcuY2FudmFzU3R5bGU/dGhpcy5jYW52YXMuc3R5bGU9dGhpcy5jb25maWcuY2FudmFzU3R5bGU6dGhpcy5jYW52YXMuc3R5bGVbXCItd2Via2l0LWZ1bGwtc2NyZWVuXCJdPVwid2lkdGg6IDEwMCU7IGhlaWdodDogMTAwJVwiLHRoaXMucmVuZGVyVHlwZT09PWkuSEVBRExFU1N8fHRoaXMucmVuZGVyVHlwZT09PWkuQ0FOVkFTfHx0aGlzLnJlbmRlclR5cGU9PT1pLkFVVE8mJiF0aGlzLmRldmljZS53ZWJHTCl7aWYoIXRoaXMuZGV2aWNlLmNhbnZhcyl0aHJvdyBuZXcgRXJyb3IoXCJQaGFzZXIuR2FtZSAtIENhbm5vdCBjcmVhdGUgQ2FudmFzIG9yIFdlYkdMIGNvbnRleHQsIGFib3J0aW5nLlwiKTt0aGlzLnJlbmRlcmVyPW5ldyBQSVhJLkNhbnZhc1JlbmRlcmVyKHRoaXMpLHRoaXMuY29udGV4dD10aGlzLnJlbmRlcmVyLmNvbnRleHQsdGhpcy5yZW5kZXJUeXBlPT09aS5BVVRPJiYodGhpcy5yZW5kZXJUeXBlPWkuQ0FOVkFTKX1lbHNlKHRoaXMubXVsdGlUZXh0dXJlfHx0aGlzLnJlbmRlclR5cGU9PT1pLldFQkdMX01VTFRJKSYmKFBJWEkuZW5hYmxlTXVsdGlUZXh0dXJlKCksdGhpcy5tdWx0aVRleHR1cmU9ITApLHRoaXMucmVuZGVyVHlwZT1pLldFQkdMLHRoaXMucmVuZGVyZXI9bmV3IFBJWEkuV2ViR0xSZW5kZXJlcih0aGlzKSx0aGlzLmNvbnRleHQ9bnVsbCx0aGlzLmNhbnZhcy5hZGRFdmVudExpc3RlbmVyKFwid2ViZ2xjb250ZXh0bG9zdFwiLHRoaXMuY29udGV4dExvc3QuYmluZCh0aGlzKSwhMSksdGhpcy5jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcihcIndlYmdsY29udGV4dHJlc3RvcmVkXCIsdGhpcy5jb250ZXh0UmVzdG9yZWQuYmluZCh0aGlzKSwhMSk7dGhpcy5kZXZpY2UuY29jb29uSlMmJih0aGlzLmNhbnZhcy5zY3JlZW5jYW52YXM9dGhpcy5yZW5kZXJUeXBlPT09aS5DQU5WQVMpLHRoaXMucmVuZGVyVHlwZSE9PWkuSEVBRExFU1MmJih0aGlzLnN0YWdlLnNtb290aGVkPXRoaXMuYW50aWFsaWFzLGkuQ2FudmFzLmFkZFRvRE9NKHRoaXMuY2FudmFzLHRoaXMucGFyZW50LCExKSxpLkNhbnZhcy5zZXRUb3VjaEFjdGlvbih0aGlzLmNhbnZhcykpfSxjb250ZXh0TG9zdDpmdW5jdGlvbih0KXt0LnByZXZlbnREZWZhdWx0KCksdGhpcy5yZW5kZXJlci5jb250ZXh0TG9zdD0hMH0sY29udGV4dFJlc3RvcmVkOmZ1bmN0aW9uKCl7dGhpcy5yZW5kZXJlci5pbml0Q29udGV4dCgpLHRoaXMuY2FjaGUuY2xlYXJHTFRleHR1cmVzKCksdGhpcy5yZW5kZXJlci5jb250ZXh0TG9zdD0hMX0sdXBkYXRlOmZ1bmN0aW9uKHQpe2lmKHRoaXMudGltZS51cGRhdGUodCksdGhpcy5fa2lja3N0YXJ0KXJldHVybiB0aGlzLnVwZGF0ZUxvZ2ljKHRoaXMudGltZS5kZXNpcmVkRnBzTXVsdCksdGhpcy51cGRhdGVSZW5kZXIodGhpcy50aW1lLnNsb3dNb3Rpb24qdGhpcy50aW1lLmRlc2lyZWRGcHMpLHZvaWQodGhpcy5fa2lja3N0YXJ0PSExKTtpZih0aGlzLl9zcGlyYWxpbmc+MSYmIXRoaXMuZm9yY2VTaW5nbGVVcGRhdGUpdGhpcy50aW1lLnRpbWU+dGhpcy5fbmV4dEZwc05vdGlmaWNhdGlvbiYmKHRoaXMuX25leHRGcHNOb3RpZmljYXRpb249dGhpcy50aW1lLnRpbWUrMWU0LHRoaXMuZnBzUHJvYmxlbU5vdGlmaWVyLmRpc3BhdGNoKCkpLHRoaXMuX2RlbHRhVGltZT0wLHRoaXMuX3NwaXJhbGluZz0wLHRoaXMudXBkYXRlUmVuZGVyKHRoaXMudGltZS5zbG93TW90aW9uKnRoaXMudGltZS5kZXNpcmVkRnBzKTtlbHNle3ZhciBlPTFlMyp0aGlzLnRpbWUuc2xvd01vdGlvbi90aGlzLnRpbWUuZGVzaXJlZEZwczt0aGlzLl9kZWx0YVRpbWUrPU1hdGgubWF4KE1hdGgubWluKDMqZSx0aGlzLnRpbWUuZWxhcHNlZCksMCk7dmFyIGk9MDtmb3IodGhpcy51cGRhdGVzVGhpc0ZyYW1lPU1hdGguZmxvb3IodGhpcy5fZGVsdGFUaW1lL2UpLHRoaXMuZm9yY2VTaW5nbGVVcGRhdGUmJih0aGlzLnVwZGF0ZXNUaGlzRnJhbWU9TWF0aC5taW4oMSx0aGlzLnVwZGF0ZXNUaGlzRnJhbWUpKTt0aGlzLl9kZWx0YVRpbWU+PWUmJih0aGlzLl9kZWx0YVRpbWUtPWUsdGhpcy5jdXJyZW50VXBkYXRlSUQ9aSx0aGlzLnVwZGF0ZUxvZ2ljKHRoaXMudGltZS5kZXNpcmVkRnBzTXVsdCksaSsrLCF0aGlzLmZvcmNlU2luZ2xlVXBkYXRlfHwxIT09aSk7KXRoaXMudGltZS5yZWZyZXNoKCk7aT50aGlzLl9sYXN0Q291bnQ/dGhpcy5fc3BpcmFsaW5nKys6aTx0aGlzLl9sYXN0Q291bnQmJih0aGlzLl9zcGlyYWxpbmc9MCksdGhpcy5fbGFzdENvdW50PWksdGhpcy51cGRhdGVSZW5kZXIodGhpcy5fZGVsdGFUaW1lL2UpfX0sdXBkYXRlTG9naWM6ZnVuY3Rpb24odCl7dGhpcy5fcGF1c2VkfHx0aGlzLnBlbmRpbmdTdGVwPyh0aGlzLnNjYWxlLnBhdXNlVXBkYXRlKCksdGhpcy5zdGF0ZS5wYXVzZVVwZGF0ZSh0KSx0aGlzLmRlYnVnLnByZVVwZGF0ZSgpKToodGhpcy5zdGVwcGluZyYmKHRoaXMucGVuZGluZ1N0ZXA9ITApLHRoaXMuc2NhbGUucHJlVXBkYXRlKCksdGhpcy5kZWJ1Zy5wcmVVcGRhdGUoKSx0aGlzLmNhbWVyYS5wcmVVcGRhdGUoKSx0aGlzLnBoeXNpY3MucHJlVXBkYXRlKCksdGhpcy5zdGF0ZS5wcmVVcGRhdGUodCksdGhpcy5wbHVnaW5zLnByZVVwZGF0ZSh0KSx0aGlzLnN0YWdlLnByZVVwZGF0ZSgpLHRoaXMuc3RhdGUudXBkYXRlKCksdGhpcy5zdGFnZS51cGRhdGUoKSx0aGlzLnR3ZWVucy51cGRhdGUoKSx0aGlzLnNvdW5kLnVwZGF0ZSgpLHRoaXMuaW5wdXQudXBkYXRlKCksdGhpcy5waHlzaWNzLnVwZGF0ZSgpLHRoaXMucGx1Z2lucy51cGRhdGUoKSx0aGlzLnN0YWdlLnBvc3RVcGRhdGUoKSx0aGlzLnBsdWdpbnMucG9zdFVwZGF0ZSgpKSx0aGlzLnN0YWdlLnVwZGF0ZVRyYW5zZm9ybSgpfSx1cGRhdGVSZW5kZXI6ZnVuY3Rpb24odCl7dGhpcy5sb2NrUmVuZGVyfHwodGhpcy5zdGF0ZS5wcmVSZW5kZXIodCksdGhpcy5yZW5kZXJUeXBlIT09aS5IRUFETEVTUyYmKHRoaXMucmVuZGVyZXIucmVuZGVyKHRoaXMuc3RhZ2UpLHRoaXMucGx1Z2lucy5yZW5kZXIodCksdGhpcy5zdGF0ZS5yZW5kZXIodCkpLHRoaXMucGx1Z2lucy5wb3N0UmVuZGVyKHQpKX0sZW5hYmxlU3RlcDpmdW5jdGlvbigpe3RoaXMuc3RlcHBpbmc9ITAsdGhpcy5wZW5kaW5nU3RlcD0hMSx0aGlzLnN0ZXBDb3VudD0wfSxkaXNhYmxlU3RlcDpmdW5jdGlvbigpe3RoaXMuc3RlcHBpbmc9ITEsdGhpcy5wZW5kaW5nU3RlcD0hMX0sc3RlcDpmdW5jdGlvbigpe3RoaXMucGVuZGluZ1N0ZXA9ITEsdGhpcy5zdGVwQ291bnQrK30sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMucmFmLnN0b3AoKSx0aGlzLmRlYnVnLmRlc3Ryb3kmJnRoaXMuZGVidWcuZGVzdHJveSgpLHRoaXMuc3RhdGUuZGVzdHJveSgpLHRoaXMuc291bmQuZGVzdHJveSgpLHRoaXMuc2NhbGUuZGVzdHJveSgpLHRoaXMuc3RhZ2UuZGVzdHJveSgpLHRoaXMuaW5wdXQuZGVzdHJveSgpLHRoaXMucGh5c2ljcy5kZXN0cm95KCksdGhpcy5wbHVnaW5zLmRlc3Ryb3koKSx0aGlzLmRlYnVnPW51bGwsdGhpcy5zdGF0ZT1udWxsLHRoaXMuc291bmQ9bnVsbCx0aGlzLnNjYWxlPW51bGwsdGhpcy5zdGFnZT1udWxsLHRoaXMuaW5wdXQ9bnVsbCx0aGlzLnBoeXNpY3M9bnVsbCx0aGlzLnBsdWdpbnM9bnVsbCx0aGlzLmNhY2hlPW51bGwsdGhpcy5sb2FkPW51bGwsdGhpcy50aW1lPW51bGwsdGhpcy53b3JsZD1udWxsLHRoaXMuaXNCb290ZWQ9ITEsdGhpcy5yZW5kZXJlci5kZXN0cm95KCExKSxpLkNhbnZhcy5yZW1vdmVGcm9tRE9NKHRoaXMuY2FudmFzKSxQSVhJLmRlZmF1bHRSZW5kZXJlcj1udWxsLGkuR0FNRVNbdGhpcy5pZF09bnVsbH0sZ2FtZVBhdXNlZDpmdW5jdGlvbih0KXt0aGlzLl9wYXVzZWR8fCh0aGlzLl9wYXVzZWQ9ITAsdGhpcy50aW1lLmdhbWVQYXVzZWQoKSx0aGlzLnNvdW5kLm11dGVPblBhdXNlJiZ0aGlzLnNvdW5kLnNldE11dGUoKSx0aGlzLm9uUGF1c2UuZGlzcGF0Y2godCksdGhpcy5kZXZpY2UuY29yZG92YSYmdGhpcy5kZXZpY2UuaU9TJiYodGhpcy5sb2NrUmVuZGVyPSEwKSl9LGdhbWVSZXN1bWVkOmZ1bmN0aW9uKHQpe3RoaXMuX3BhdXNlZCYmIXRoaXMuX2NvZGVQYXVzZWQmJih0aGlzLl9wYXVzZWQ9ITEsdGhpcy50aW1lLmdhbWVSZXN1bWVkKCksdGhpcy5pbnB1dC5yZXNldCgpLHRoaXMuc291bmQubXV0ZU9uUGF1c2UmJnRoaXMuc291bmQudW5zZXRNdXRlKCksdGhpcy5vblJlc3VtZS5kaXNwYXRjaCh0KSx0aGlzLmRldmljZS5jb3Jkb3ZhJiZ0aGlzLmRldmljZS5pT1MmJih0aGlzLmxvY2tSZW5kZXI9ITEpKX0sZm9jdXNMb3NzOmZ1bmN0aW9uKHQpe3RoaXMub25CbHVyLmRpc3BhdGNoKHQpLHRoaXMuc3RhZ2UuZGlzYWJsZVZpc2liaWxpdHlDaGFuZ2V8fHRoaXMuZ2FtZVBhdXNlZCh0KX0sZm9jdXNHYWluOmZ1bmN0aW9uKHQpe3RoaXMub25Gb2N1cy5kaXNwYXRjaCh0KSx0aGlzLnN0YWdlLmRpc2FibGVWaXNpYmlsaXR5Q2hhbmdlfHx0aGlzLmdhbWVSZXN1bWVkKHQpfX0saS5HYW1lLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1pLkdhbWUsT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuR2FtZS5wcm90b3R5cGUsXCJwYXVzZWRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BhdXNlZH0sc2V0OmZ1bmN0aW9uKHQpeyEwPT09dD8oITE9PT10aGlzLl9wYXVzZWQmJih0aGlzLl9wYXVzZWQ9ITAsdGhpcy5zb3VuZC5zZXRNdXRlKCksdGhpcy50aW1lLmdhbWVQYXVzZWQoKSx0aGlzLm9uUGF1c2UuZGlzcGF0Y2godGhpcykpLHRoaXMuX2NvZGVQYXVzZWQ9ITApOih0aGlzLl9wYXVzZWQmJih0aGlzLl9wYXVzZWQ9ITEsdGhpcy5pbnB1dC5yZXNldCgpLHRoaXMuc291bmQudW5zZXRNdXRlKCksdGhpcy50aW1lLmdhbWVSZXN1bWVkKCksdGhpcy5vblJlc3VtZS5kaXNwYXRjaCh0aGlzKSksdGhpcy5fY29kZVBhdXNlZD0hMSl9fSksaS5JbnB1dD1mdW5jdGlvbih0KXt0aGlzLmdhbWU9dCx0aGlzLmhpdENhbnZhcz1udWxsLHRoaXMuaGl0Q29udGV4dD1udWxsLHRoaXMubW92ZUNhbGxiYWNrcz1bXSx0aGlzLmN1c3RvbUNhbmRpZGF0ZUhhbmRsZXI9bnVsbCx0aGlzLmN1c3RvbUNhbmRpZGF0ZUhhbmRsZXJDb250ZXh0PW51bGwsdGhpcy5wb2xsUmF0ZT0wLHRoaXMuZW5hYmxlZD0hMCx0aGlzLm11bHRpSW5wdXRPdmVycmlkZT1pLklucHV0Lk1PVVNFX1RPVUNIX0NPTUJJTkUsdGhpcy5wb3NpdGlvbj1udWxsLHRoaXMuc3BlZWQ9bnVsbCx0aGlzLmNpcmNsZT1udWxsLHRoaXMuc2NhbGU9bnVsbCx0aGlzLm1heFBvaW50ZXJzPS0xLHRoaXMudGFwUmF0ZT0yMDAsdGhpcy5kb3VibGVUYXBSYXRlPTMwMCx0aGlzLmhvbGRSYXRlPTJlMyx0aGlzLmp1c3RQcmVzc2VkUmF0ZT0yMDAsdGhpcy5qdXN0UmVsZWFzZWRSYXRlPTIwMCx0aGlzLnJlY29yZFBvaW50ZXJIaXN0b3J5PSExLHRoaXMucmVjb3JkUmF0ZT0xMDAsdGhpcy5yZWNvcmRMaW1pdD0xMDAsdGhpcy50b3VjaExvY2tDYWxsYmFja3M9W10sdGhpcy5wb2ludGVyMT1udWxsLHRoaXMucG9pbnRlcjI9bnVsbCx0aGlzLnBvaW50ZXIzPW51bGwsdGhpcy5wb2ludGVyND1udWxsLHRoaXMucG9pbnRlcjU9bnVsbCx0aGlzLnBvaW50ZXI2PW51bGwsdGhpcy5wb2ludGVyNz1udWxsLHRoaXMucG9pbnRlcjg9bnVsbCx0aGlzLnBvaW50ZXI5PW51bGwsdGhpcy5wb2ludGVyMTA9bnVsbCx0aGlzLnBvaW50ZXJzPVtdLHRoaXMuYWN0aXZlUG9pbnRlcj1udWxsLHRoaXMubW91c2VQb2ludGVyPW51bGwsdGhpcy5tb3VzZT1udWxsLHRoaXMua2V5Ym9hcmQ9bnVsbCx0aGlzLnRvdWNoPW51bGwsdGhpcy5tc3BvaW50ZXI9bnVsbCx0aGlzLmdhbWVwYWQ9bnVsbCx0aGlzLnJlc2V0TG9ja2VkPSExLHRoaXMub25Eb3duPW51bGwsdGhpcy5vblVwPW51bGwsdGhpcy5vblRhcD1udWxsLHRoaXMub25Ib2xkPW51bGwsdGhpcy5taW5Qcmlvcml0eUlEPTAsdGhpcy5pbnRlcmFjdGl2ZUl0ZW1zPW5ldyBpLkFycmF5U2V0LHRoaXMuX2xvY2FsUG9pbnQ9bmV3IGkuUG9pbnQsdGhpcy5fcG9sbENvdW50ZXI9MCx0aGlzLl9vbGRQb3NpdGlvbj1udWxsLHRoaXMuX3g9MCx0aGlzLl95PTB9LGkuSW5wdXQuTU9VU0VfT1ZFUlJJREVTX1RPVUNIPTAsaS5JbnB1dC5UT1VDSF9PVkVSUklERVNfTU9VU0U9MSxpLklucHV0Lk1PVVNFX1RPVUNIX0NPTUJJTkU9MixpLklucHV0Lk1BWF9QT0lOVEVSUz0xMCxpLklucHV0LnByb3RvdHlwZT17Ym9vdDpmdW5jdGlvbigpe3RoaXMubW91c2VQb2ludGVyPW5ldyBpLlBvaW50ZXIodGhpcy5nYW1lLDAsaS5Qb2ludGVyTW9kZS5DVVJTT1IpLHRoaXMuYWRkUG9pbnRlcigpLHRoaXMuYWRkUG9pbnRlcigpLHRoaXMubW91c2U9bmV3IGkuTW91c2UodGhpcy5nYW1lKSx0aGlzLnRvdWNoPW5ldyBpLlRvdWNoKHRoaXMuZ2FtZSksdGhpcy5tc3BvaW50ZXI9bmV3IGkuTVNQb2ludGVyKHRoaXMuZ2FtZSksaS5LZXlib2FyZCYmKHRoaXMua2V5Ym9hcmQ9bmV3IGkuS2V5Ym9hcmQodGhpcy5nYW1lKSksaS5HYW1lcGFkJiYodGhpcy5nYW1lcGFkPW5ldyBpLkdhbWVwYWQodGhpcy5nYW1lKSksdGhpcy5vbkRvd249bmV3IGkuU2lnbmFsLHRoaXMub25VcD1uZXcgaS5TaWduYWwsdGhpcy5vblRhcD1uZXcgaS5TaWduYWwsdGhpcy5vbkhvbGQ9bmV3IGkuU2lnbmFsLHRoaXMuc2NhbGU9bmV3IGkuUG9pbnQoMSwxKSx0aGlzLnNwZWVkPW5ldyBpLlBvaW50LHRoaXMucG9zaXRpb249bmV3IGkuUG9pbnQsdGhpcy5fb2xkUG9zaXRpb249bmV3IGkuUG9pbnQsdGhpcy5jaXJjbGU9bmV3IGkuQ2lyY2xlKDAsMCw0NCksdGhpcy5hY3RpdmVQb2ludGVyPXRoaXMubW91c2VQb2ludGVyLHRoaXMuaGl0Q2FudmFzPWkuQ2FudmFzUG9vbC5jcmVhdGUodGhpcywxLDEpLHRoaXMuaGl0Q29udGV4dD10aGlzLmhpdENhbnZhcy5nZXRDb250ZXh0KFwiMmRcIiksdGhpcy5tb3VzZS5zdGFydCgpLHRoaXMuZ2FtZS5kZXZpY2UubXNwb2ludGVyfHx0aGlzLnRvdWNoLnN0YXJ0KCksdGhpcy5tc3BvaW50ZXIuc3RhcnQoKSx0aGlzLm1vdXNlUG9pbnRlci5hY3RpdmU9ITAsdGhpcy5rZXlib2FyZCYmdGhpcy5rZXlib2FyZC5zdGFydCgpO3ZhciB0PXRoaXM7dGhpcy5fb25DbGlja1RyYW1wb2xpbmU9ZnVuY3Rpb24oZSl7dC5vbkNsaWNrVHJhbXBvbGluZShlKX0sdGhpcy5nYW1lLmNhbnZhcy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIix0aGlzLl9vbkNsaWNrVHJhbXBvbGluZSwhMSl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLm1vdXNlLnN0b3AoKSx0aGlzLnRvdWNoLnN0b3AoKSx0aGlzLm1zcG9pbnRlci5zdG9wKCksdGhpcy5rZXlib2FyZCYmdGhpcy5rZXlib2FyZC5zdG9wKCksdGhpcy5nYW1lcGFkJiZ0aGlzLmdhbWVwYWQuc3RvcCgpLHRoaXMubW92ZUNhbGxiYWNrcz1bXSxpLkNhbnZhc1Bvb2wucmVtb3ZlKHRoaXMpLHRoaXMuZ2FtZS5jYW52YXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsdGhpcy5fb25DbGlja1RyYW1wb2xpbmUpfSxzZXRJbnRlcmFjdGl2ZUNhbmRpZGF0ZUhhbmRsZXI6ZnVuY3Rpb24odCxlKXt0aGlzLmN1c3RvbUNhbmRpZGF0ZUhhbmRsZXI9dCx0aGlzLmN1c3RvbUNhbmRpZGF0ZUhhbmRsZXJDb250ZXh0PWV9LGFkZE1vdmVDYWxsYmFjazpmdW5jdGlvbih0LGUpe3RoaXMubW92ZUNhbGxiYWNrcy5wdXNoKHtjYWxsYmFjazp0LGNvbnRleHQ6ZX0pfSxhZGRUb3VjaExvY2tDYWxsYmFjazpmdW5jdGlvbih0LGUsaSl7dm9pZCAwPT09aSYmKGk9ITEpLHRoaXMudG91Y2hMb2NrQ2FsbGJhY2tzLnB1c2goe2NhbGxiYWNrOnQsY29udGV4dDplLG9uRW5kOml9KX0scmVtb3ZlVG91Y2hMb2NrQ2FsbGJhY2s6ZnVuY3Rpb24odCxlKXtmb3IodmFyIGk9dGhpcy50b3VjaExvY2tDYWxsYmFja3MubGVuZ3RoO2ktLTspaWYodGhpcy50b3VjaExvY2tDYWxsYmFja3NbaV0uY2FsbGJhY2s9PT10JiZ0aGlzLnRvdWNoTG9ja0NhbGxiYWNrc1tpXS5jb250ZXh0PT09ZSlyZXR1cm4gdGhpcy50b3VjaExvY2tDYWxsYmFja3Muc3BsaWNlKGksMSksITA7cmV0dXJuITF9LGV4ZWN1dGVUb3VjaExvY2tDYWxsYmFja3M6ZnVuY3Rpb24odCxlKXtmb3IodmFyIGk9dGhpcy50b3VjaExvY2tDYWxsYmFja3MubGVuZ3RoO2ktLTspe3ZhciBzPXRoaXMudG91Y2hMb2NrQ2FsbGJhY2tzW2ldO3Mub25FbmQ9PT10JiZzLmNhbGxiYWNrLmNhbGwocy5jb250ZXh0LHRoaXMsZSkmJnRoaXMudG91Y2hMb2NrQ2FsbGJhY2tzLnNwbGljZShpLDEpfX0sZGVsZXRlTW92ZUNhbGxiYWNrOmZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBpPXRoaXMubW92ZUNhbGxiYWNrcy5sZW5ndGg7aS0tOylpZih0aGlzLm1vdmVDYWxsYmFja3NbaV0uY2FsbGJhY2s9PT10JiZ0aGlzLm1vdmVDYWxsYmFja3NbaV0uY29udGV4dD09PWUpcmV0dXJuIHZvaWQgdGhpcy5tb3ZlQ2FsbGJhY2tzLnNwbGljZShpLDEpfSxhZGRQb2ludGVyOmZ1bmN0aW9uKCl7aWYodGhpcy5wb2ludGVycy5sZW5ndGg+PWkuSW5wdXQuTUFYX1BPSU5URVJTKXJldHVybiBjb25zb2xlLndhcm4oXCJQaGFzZXIuSW5wdXQuYWRkUG9pbnRlcjogTWF4aW11bSBsaW1pdCBvZiBcIitpLklucHV0Lk1BWF9QT0lOVEVSUytcIiBwb2ludGVycyByZWFjaGVkLlwiKSxudWxsO3ZhciB0PXRoaXMucG9pbnRlcnMubGVuZ3RoKzEsZT1uZXcgaS5Qb2ludGVyKHRoaXMuZ2FtZSx0LGkuUG9pbnRlck1vZGUuQ09OVEFDVCk7cmV0dXJuIHRoaXMucG9pbnRlcnMucHVzaChlKSx0aGlzW1wicG9pbnRlclwiK3RdPWUsZX0sdXBkYXRlOmZ1bmN0aW9uKCl7aWYodGhpcy5rZXlib2FyZCYmdGhpcy5rZXlib2FyZC51cGRhdGUoKSx0aGlzLnBvbGxSYXRlPjAmJnRoaXMuX3BvbGxDb3VudGVyPHRoaXMucG9sbFJhdGUpdGhpcy5fcG9sbENvdW50ZXIrKztlbHNle3RoaXMuc3BlZWQueD10aGlzLnBvc2l0aW9uLngtdGhpcy5fb2xkUG9zaXRpb24ueCx0aGlzLnNwZWVkLnk9dGhpcy5wb3NpdGlvbi55LXRoaXMuX29sZFBvc2l0aW9uLnksdGhpcy5fb2xkUG9zaXRpb24uY29weUZyb20odGhpcy5wb3NpdGlvbiksdGhpcy5tb3VzZVBvaW50ZXIudXBkYXRlKCksdGhpcy5nYW1lcGFkJiZ0aGlzLmdhbWVwYWQuYWN0aXZlJiZ0aGlzLmdhbWVwYWQudXBkYXRlKCk7Zm9yKHZhciB0PTA7dDx0aGlzLnBvaW50ZXJzLmxlbmd0aDt0KyspdGhpcy5wb2ludGVyc1t0XS51cGRhdGUoKTt0aGlzLl9wb2xsQ291bnRlcj0wfX0scmVzZXQ6ZnVuY3Rpb24odCl7aWYodGhpcy5nYW1lLmlzQm9vdGVkJiYhdGhpcy5yZXNldExvY2tlZCl7dm9pZCAwPT09dCYmKHQ9ITEpLHRoaXMubW91c2VQb2ludGVyLnJlc2V0KCksdGhpcy5rZXlib2FyZCYmdGhpcy5rZXlib2FyZC5yZXNldCh0KSx0aGlzLmdhbWVwYWQmJnRoaXMuZ2FtZXBhZC5yZXNldCgpO2Zvcih2YXIgZT0wO2U8dGhpcy5wb2ludGVycy5sZW5ndGg7ZSsrKXRoaXMucG9pbnRlcnNbZV0ucmVzZXQoKTtcIm5vbmVcIiE9PXRoaXMuZ2FtZS5jYW52YXMuc3R5bGUuY3Vyc29yJiYodGhpcy5nYW1lLmNhbnZhcy5zdHlsZS5jdXJzb3I9XCJcIiksdCYmKHRoaXMub25Eb3duLmRpc3Bvc2UoKSx0aGlzLm9uVXAuZGlzcG9zZSgpLHRoaXMub25UYXAuZGlzcG9zZSgpLHRoaXMub25Ib2xkLmRpc3Bvc2UoKSx0aGlzLm9uRG93bj1uZXcgaS5TaWduYWwsdGhpcy5vblVwPW5ldyBpLlNpZ25hbCx0aGlzLm9uVGFwPW5ldyBpLlNpZ25hbCx0aGlzLm9uSG9sZD1uZXcgaS5TaWduYWwsdGhpcy5tb3ZlQ2FsbGJhY2tzPVtdKSx0aGlzLl9wb2xsQ291bnRlcj0wfX0scmVzZXRTcGVlZDpmdW5jdGlvbih0LGUpe3RoaXMuX29sZFBvc2l0aW9uLnNldFRvKHQsZSksdGhpcy5zcGVlZC5zZXRUbygwLDApfSxzdGFydFBvaW50ZXI6ZnVuY3Rpb24odCl7aWYodGhpcy5tYXhQb2ludGVycz49MCYmdGhpcy5jb3VudEFjdGl2ZVBvaW50ZXJzKHRoaXMubWF4UG9pbnRlcnMpPj10aGlzLm1heFBvaW50ZXJzKXJldHVybiBudWxsO2lmKCF0aGlzLnBvaW50ZXIxLmFjdGl2ZSlyZXR1cm4gdGhpcy5wb2ludGVyMS5zdGFydCh0KTtpZighdGhpcy5wb2ludGVyMi5hY3RpdmUpcmV0dXJuIHRoaXMucG9pbnRlcjIuc3RhcnQodCk7Zm9yKHZhciBlPTI7ZTx0aGlzLnBvaW50ZXJzLmxlbmd0aDtlKyspe3ZhciBpPXRoaXMucG9pbnRlcnNbZV07aWYoIWkuYWN0aXZlKXJldHVybiBpLnN0YXJ0KHQpfXJldHVybiBudWxsfSx1cGRhdGVQb2ludGVyOmZ1bmN0aW9uKHQpe2lmKHRoaXMucG9pbnRlcjEuYWN0aXZlJiZ0aGlzLnBvaW50ZXIxLmlkZW50aWZpZXI9PT10LmlkZW50aWZpZXIpcmV0dXJuIHRoaXMucG9pbnRlcjEubW92ZSh0KTtpZih0aGlzLnBvaW50ZXIyLmFjdGl2ZSYmdGhpcy5wb2ludGVyMi5pZGVudGlmaWVyPT09dC5pZGVudGlmaWVyKXJldHVybiB0aGlzLnBvaW50ZXIyLm1vdmUodCk7Zm9yKHZhciBlPTI7ZTx0aGlzLnBvaW50ZXJzLmxlbmd0aDtlKyspe3ZhciBpPXRoaXMucG9pbnRlcnNbZV07aWYoaS5hY3RpdmUmJmkuaWRlbnRpZmllcj09PXQuaWRlbnRpZmllcilyZXR1cm4gaS5tb3ZlKHQpfXJldHVybiBudWxsfSxzdG9wUG9pbnRlcjpmdW5jdGlvbih0KXtpZih0aGlzLnBvaW50ZXIxLmFjdGl2ZSYmdGhpcy5wb2ludGVyMS5pZGVudGlmaWVyPT09dC5pZGVudGlmaWVyKXJldHVybiB0aGlzLnBvaW50ZXIxLnN0b3AodCk7aWYodGhpcy5wb2ludGVyMi5hY3RpdmUmJnRoaXMucG9pbnRlcjIuaWRlbnRpZmllcj09PXQuaWRlbnRpZmllcilyZXR1cm4gdGhpcy5wb2ludGVyMi5zdG9wKHQpO2Zvcih2YXIgZT0yO2U8dGhpcy5wb2ludGVycy5sZW5ndGg7ZSsrKXt2YXIgaT10aGlzLnBvaW50ZXJzW2VdO2lmKGkuYWN0aXZlJiZpLmlkZW50aWZpZXI9PT10LmlkZW50aWZpZXIpcmV0dXJuIGkuc3RvcCh0KX1yZXR1cm4gbnVsbH0sY291bnRBY3RpdmVQb2ludGVyczpmdW5jdGlvbih0KXt2b2lkIDA9PT10JiYodD10aGlzLnBvaW50ZXJzLmxlbmd0aCk7Zm9yKHZhciBlPXQsaT0wO2k8dGhpcy5wb2ludGVycy5sZW5ndGgmJmU+MDtpKyspdGhpcy5wb2ludGVyc1tpXS5hY3RpdmUmJmUtLTtyZXR1cm4gdC1lfSxnZXRQb2ludGVyOmZ1bmN0aW9uKHQpe3ZvaWQgMD09PXQmJih0PSExKTtmb3IodmFyIGU9MDtlPHRoaXMucG9pbnRlcnMubGVuZ3RoO2UrKyl7dmFyIGk9dGhpcy5wb2ludGVyc1tlXTtpZihpLmFjdGl2ZT09PXQpcmV0dXJuIGl9cmV0dXJuIG51bGx9LGdldFBvaW50ZXJGcm9tSWRlbnRpZmllcjpmdW5jdGlvbih0KXtmb3IodmFyIGU9MDtlPHRoaXMucG9pbnRlcnMubGVuZ3RoO2UrKyl7dmFyIGk9dGhpcy5wb2ludGVyc1tlXTtpZihpLmlkZW50aWZpZXI9PT10KXJldHVybiBpfXJldHVybiBudWxsfSxnZXRQb2ludGVyRnJvbUlkOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wO2U8dGhpcy5wb2ludGVycy5sZW5ndGg7ZSsrKXt2YXIgaT10aGlzLnBvaW50ZXJzW2VdO2lmKGkucG9pbnRlcklkPT09dClyZXR1cm4gaX1yZXR1cm4gbnVsbH0sZ2V0TG9jYWxQb3NpdGlvbjpmdW5jdGlvbih0LGUscyl7dm9pZCAwPT09cyYmKHM9bmV3IGkuUG9pbnQpO3ZhciBuPXQud29ybGRUcmFuc2Zvcm0sbz0xLyhuLmEqbi5kK24uYyotbi5iKTtyZXR1cm4gcy5zZXRUbyhuLmQqbyplLngrLW4uYypvKmUueSsobi50eSpuLmMtbi50eCpuLmQpKm8sbi5hKm8qZS55Ky1uLmIqbyplLngrKC1uLnR5Km4uYStuLnR4Km4uYikqbyl9LGhpdFRlc3Q6ZnVuY3Rpb24odCxlLHMpe2lmKCF0LndvcmxkVmlzaWJsZSlyZXR1cm4hMTtpZih0aGlzLmdldExvY2FsUG9zaXRpb24odCxlLHRoaXMuX2xvY2FsUG9pbnQpLHMuY29weUZyb20odGhpcy5fbG9jYWxQb2ludCksdC5oaXRBcmVhJiZ0LmhpdEFyZWEuY29udGFpbnMpcmV0dXJuIHQuaGl0QXJlYS5jb250YWlucyh0aGlzLl9sb2NhbFBvaW50LngsdGhpcy5fbG9jYWxQb2ludC55KTtpZihpLkNyZWF0dXJlJiZ0IGluc3RhbmNlb2YgaS5DcmVhdHVyZSl7dmFyIG49TWF0aC5hYnModC53aWR0aCksbz1NYXRoLmFicyh0LmhlaWdodCkscj10Lngtbip0LmFuY2hvclg7aWYodGhpcy5nYW1lLmNhbWVyYS54K2UueD49ciYmdGhpcy5nYW1lLmNhbWVyYS54K2UueDxyK24pe2E9dC55LW8qdC5hbmNob3JZO2lmKHRoaXMuZ2FtZS5jYW1lcmEueStlLnk+PWEmJnRoaXMuZ2FtZS5jYW1lcmEueStlLnk8YStvKXJldHVybiEwfX1lbHNlIGlmKHQgaW5zdGFuY2VvZiBpLlRpbGVTcHJpdGUpe3ZhciBuPXQud2lkdGgsbz10LmhlaWdodCxyPS1uKnQuYW5jaG9yLng7aWYodGhpcy5fbG9jYWxQb2ludC54Pj1yJiZ0aGlzLl9sb2NhbFBvaW50Lng8cituKXthPS1vKnQuYW5jaG9yLnk7aWYodGhpcy5fbG9jYWxQb2ludC55Pj1hJiZ0aGlzLl9sb2NhbFBvaW50Lnk8YStvKXJldHVybiEwfX1lbHNlIGlmKHQgaW5zdGFuY2VvZiBQSVhJLlNwcml0ZSl7dmFyIG49dC50ZXh0dXJlLmZyYW1lLndpZHRoL3QudGV4dHVyZS5iYXNlVGV4dHVyZS5yZXNvbHV0aW9uLG89dC50ZXh0dXJlLmZyYW1lLmhlaWdodC90LnRleHR1cmUuYmFzZVRleHR1cmUucmVzb2x1dGlvbixyPS1uKnQuYW5jaG9yLng7aWYodGhpcy5fbG9jYWxQb2ludC54Pj1yJiZ0aGlzLl9sb2NhbFBvaW50Lng8cituKXt2YXIgYT0tbyp0LmFuY2hvci55O2lmKHRoaXMuX2xvY2FsUG9pbnQueT49YSYmdGhpcy5fbG9jYWxQb2ludC55PGErbylyZXR1cm4hMH19ZWxzZSBpZih0IGluc3RhbmNlb2YgaS5HcmFwaGljcylmb3IobD0wO2w8dC5ncmFwaGljc0RhdGEubGVuZ3RoO2wrKyl7dmFyIGg9dC5ncmFwaGljc0RhdGFbbF07aWYoaC5maWxsJiYoaC5zaGFwZSYmaC5zaGFwZS5jb250YWlucyh0aGlzLl9sb2NhbFBvaW50LngsdGhpcy5fbG9jYWxQb2ludC55KSkpcmV0dXJuITB9Zm9yKHZhciBsPTA7bDx0LmNoaWxkcmVuLmxlbmd0aDtsKyspaWYodGhpcy5oaXRUZXN0KHQuY2hpbGRyZW5bbF0sZSxzKSlyZXR1cm4hMDtyZXR1cm4hMX0sb25DbGlja1RyYW1wb2xpbmU6ZnVuY3Rpb24oKXt0aGlzLmFjdGl2ZVBvaW50ZXIucHJvY2Vzc0NsaWNrVHJhbXBvbGluZXMoKX19LGkuSW5wdXQucHJvdG90eXBlLmNvbnN0cnVjdG9yPWkuSW5wdXQsT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuSW5wdXQucHJvdG90eXBlLFwieFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5feH0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3g9TWF0aC5mbG9vcih0KX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5JbnB1dC5wcm90b3R5cGUsXCJ5XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl95fSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5feT1NYXRoLmZsb29yKHQpfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLklucHV0LnByb3RvdHlwZSxcInBvbGxMb2NrZWRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucG9sbFJhdGU+MCYmdGhpcy5fcG9sbENvdW50ZXI8dGhpcy5wb2xsUmF0ZX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5JbnB1dC5wcm90b3R5cGUsXCJ0b3RhbEluYWN0aXZlUG9pbnRlcnNcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucG9pbnRlcnMubGVuZ3RoLXRoaXMuY291bnRBY3RpdmVQb2ludGVycygpfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLklucHV0LnByb3RvdHlwZSxcInRvdGFsQWN0aXZlUG9pbnRlcnNcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY291bnRBY3RpdmVQb2ludGVycygpfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLklucHV0LnByb3RvdHlwZSxcIndvcmxkWFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nYW1lLmNhbWVyYS52aWV3LngrdGhpcy54fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLklucHV0LnByb3RvdHlwZSxcIndvcmxkWVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nYW1lLmNhbWVyYS52aWV3LnkrdGhpcy55fX0pLGkuTW91c2U9ZnVuY3Rpb24odCl7dGhpcy5nYW1lPXQsdGhpcy5pbnB1dD10LmlucHV0LHRoaXMuY2FsbGJhY2tDb250ZXh0PXRoaXMuZ2FtZSx0aGlzLm1vdXNlRG93bkNhbGxiYWNrPW51bGwsdGhpcy5tb3VzZVVwQ2FsbGJhY2s9bnVsbCx0aGlzLm1vdXNlT3V0Q2FsbGJhY2s9bnVsbCx0aGlzLm1vdXNlT3ZlckNhbGxiYWNrPW51bGwsdGhpcy5tb3VzZVdoZWVsQ2FsbGJhY2s9bnVsbCx0aGlzLmNhcHR1cmU9ITEsdGhpcy5idXR0b249LTEsdGhpcy53aGVlbERlbHRhPTAsdGhpcy5lbmFibGVkPSEwLHRoaXMubG9ja2VkPSExLHRoaXMuc3RvcE9uR2FtZU91dD0hMSx0aGlzLnBvaW50ZXJMb2NrPW5ldyBpLlNpZ25hbCx0aGlzLmV2ZW50PW51bGwsdGhpcy5fb25Nb3VzZURvd249bnVsbCx0aGlzLl9vbk1vdXNlTW92ZT1udWxsLHRoaXMuX29uTW91c2VVcD1udWxsLHRoaXMuX29uTW91c2VPdXQ9bnVsbCx0aGlzLl9vbk1vdXNlT3Zlcj1udWxsLHRoaXMuX29uTW91c2VXaGVlbD1udWxsLHRoaXMuX3doZWVsRXZlbnQ9bnVsbH0saS5Nb3VzZS5OT19CVVRUT049LTEsaS5Nb3VzZS5MRUZUX0JVVFRPTj0wLGkuTW91c2UuTUlERExFX0JVVFRPTj0xLGkuTW91c2UuUklHSFRfQlVUVE9OPTIsaS5Nb3VzZS5CQUNLX0JVVFRPTj0zLGkuTW91c2UuRk9SV0FSRF9CVVRUT049NCxpLk1vdXNlLldIRUVMX1VQPTEsaS5Nb3VzZS5XSEVFTF9ET1dOPS0xLGkuTW91c2UucHJvdG90eXBlPXtzdGFydDpmdW5jdGlvbigpe2lmKCghdGhpcy5nYW1lLmRldmljZS5hbmRyb2lkfHwhMSE9PXRoaXMuZ2FtZS5kZXZpY2UuY2hyb21lKSYmbnVsbD09PXRoaXMuX29uTW91c2VEb3duKXt2YXIgZT10aGlzO3RoaXMuX29uTW91c2VEb3duPWZ1bmN0aW9uKHQpe3JldHVybiBlLm9uTW91c2VEb3duKHQpfSx0aGlzLl9vbk1vdXNlTW92ZT1mdW5jdGlvbih0KXtyZXR1cm4gZS5vbk1vdXNlTW92ZSh0KX0sdGhpcy5fb25Nb3VzZVVwPWZ1bmN0aW9uKHQpe3JldHVybiBlLm9uTW91c2VVcCh0KX0sdGhpcy5fb25Nb3VzZVVwR2xvYmFsPWZ1bmN0aW9uKHQpe3JldHVybiBlLm9uTW91c2VVcEdsb2JhbCh0KX0sdGhpcy5fb25Nb3VzZU91dEdsb2JhbD1mdW5jdGlvbih0KXtyZXR1cm4gZS5vbk1vdXNlT3V0R2xvYmFsKHQpfSx0aGlzLl9vbk1vdXNlT3V0PWZ1bmN0aW9uKHQpe3JldHVybiBlLm9uTW91c2VPdXQodCl9LHRoaXMuX29uTW91c2VPdmVyPWZ1bmN0aW9uKHQpe3JldHVybiBlLm9uTW91c2VPdmVyKHQpfSx0aGlzLl9vbk1vdXNlV2hlZWw9ZnVuY3Rpb24odCl7cmV0dXJuIGUub25Nb3VzZVdoZWVsKHQpfTt2YXIgaT10aGlzLmdhbWUuY2FudmFzO2kuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLHRoaXMuX29uTW91c2VEb3duLCEwKSxpLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIix0aGlzLl9vbk1vdXNlTW92ZSwhMCksaS5hZGRFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLHRoaXMuX29uTW91c2VVcCwhMCksdGhpcy5nYW1lLmRldmljZS5jb2Nvb25KU3x8KHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLHRoaXMuX29uTW91c2VVcEdsb2JhbCwhMCksd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW91dFwiLHRoaXMuX29uTW91c2VPdXRHbG9iYWwsITApLGkuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlb3ZlclwiLHRoaXMuX29uTW91c2VPdmVyLCEwKSxpLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW91dFwiLHRoaXMuX29uTW91c2VPdXQsITApKTt2YXIgcz10aGlzLmdhbWUuZGV2aWNlLndoZWVsRXZlbnQ7cyYmKGkuYWRkRXZlbnRMaXN0ZW5lcihzLHRoaXMuX29uTW91c2VXaGVlbCwhMCksXCJtb3VzZXdoZWVsXCI9PT1zP3RoaXMuX3doZWVsRXZlbnQ9bmV3IHQoLS4wMjUsMSk6XCJET01Nb3VzZVNjcm9sbFwiPT09cyYmKHRoaXMuX3doZWVsRXZlbnQ9bmV3IHQoMSwxKSkpfX0sb25Nb3VzZURvd246ZnVuY3Rpb24odCl7dGhpcy5ldmVudD10LHRoaXMuY2FwdHVyZSYmdC5wcmV2ZW50RGVmYXVsdCgpLHRoaXMubW91c2VEb3duQ2FsbGJhY2smJnRoaXMubW91c2VEb3duQ2FsbGJhY2suY2FsbCh0aGlzLmNhbGxiYWNrQ29udGV4dCx0KSx0aGlzLmlucHV0LmVuYWJsZWQmJnRoaXMuZW5hYmxlZCYmKHQuaWRlbnRpZmllcj0wLHRoaXMuaW5wdXQubW91c2VQb2ludGVyLnN0YXJ0KHQpKX0sb25Nb3VzZU1vdmU6ZnVuY3Rpb24odCl7dGhpcy5ldmVudD10LHRoaXMuY2FwdHVyZSYmdC5wcmV2ZW50RGVmYXVsdCgpLHRoaXMubW91c2VNb3ZlQ2FsbGJhY2smJnRoaXMubW91c2VNb3ZlQ2FsbGJhY2suY2FsbCh0aGlzLmNhbGxiYWNrQ29udGV4dCx0KSx0aGlzLmlucHV0LmVuYWJsZWQmJnRoaXMuZW5hYmxlZCYmKHQuaWRlbnRpZmllcj0wLHRoaXMuaW5wdXQubW91c2VQb2ludGVyLm1vdmUodCkpfSxvbk1vdXNlVXA6ZnVuY3Rpb24odCl7dGhpcy5ldmVudD10LHRoaXMuY2FwdHVyZSYmdC5wcmV2ZW50RGVmYXVsdCgpLHRoaXMubW91c2VVcENhbGxiYWNrJiZ0aGlzLm1vdXNlVXBDYWxsYmFjay5jYWxsKHRoaXMuY2FsbGJhY2tDb250ZXh0LHQpLHRoaXMuaW5wdXQuZW5hYmxlZCYmdGhpcy5lbmFibGVkJiYodC5pZGVudGlmaWVyPTAsdGhpcy5pbnB1dC5tb3VzZVBvaW50ZXIuc3RvcCh0KSl9LG9uTW91c2VVcEdsb2JhbDpmdW5jdGlvbih0KXt0aGlzLmlucHV0Lm1vdXNlUG9pbnRlci53aXRoaW5HYW1lfHwodGhpcy5tb3VzZVVwQ2FsbGJhY2smJnRoaXMubW91c2VVcENhbGxiYWNrLmNhbGwodGhpcy5jYWxsYmFja0NvbnRleHQsdCksdC5pZGVudGlmaWVyPTAsdGhpcy5pbnB1dC5tb3VzZVBvaW50ZXIuc3RvcCh0KSl9LG9uTW91c2VPdXRHbG9iYWw6ZnVuY3Rpb24odCl7dGhpcy5ldmVudD10LHRoaXMuY2FwdHVyZSYmdC5wcmV2ZW50RGVmYXVsdCgpLHRoaXMuaW5wdXQubW91c2VQb2ludGVyLndpdGhpbkdhbWU9ITEsdGhpcy5pbnB1dC5lbmFibGVkJiZ0aGlzLmVuYWJsZWQmJih0aGlzLmlucHV0Lm1vdXNlUG9pbnRlci5zdG9wKHQpLHRoaXMuaW5wdXQubW91c2VQb2ludGVyLnJlc2V0QnV0dG9ucygpKX0sb25Nb3VzZU91dDpmdW5jdGlvbih0KXt0aGlzLmV2ZW50PXQsdGhpcy5jYXB0dXJlJiZ0LnByZXZlbnREZWZhdWx0KCksdGhpcy5pbnB1dC5tb3VzZVBvaW50ZXIud2l0aGluR2FtZT0hMSx0aGlzLm1vdXNlT3V0Q2FsbGJhY2smJnRoaXMubW91c2VPdXRDYWxsYmFjay5jYWxsKHRoaXMuY2FsbGJhY2tDb250ZXh0LHQpLHRoaXMuaW5wdXQuZW5hYmxlZCYmdGhpcy5lbmFibGVkJiZ0aGlzLnN0b3BPbkdhbWVPdXQmJih0LmlkZW50aWZpZXI9MCx0aGlzLmlucHV0Lm1vdXNlUG9pbnRlci5zdG9wKHQpKX0sb25Nb3VzZU92ZXI6ZnVuY3Rpb24odCl7dGhpcy5ldmVudD10LHRoaXMuY2FwdHVyZSYmdC5wcmV2ZW50RGVmYXVsdCgpLHRoaXMuaW5wdXQubW91c2VQb2ludGVyLndpdGhpbkdhbWU9ITAsdGhpcy5tb3VzZU92ZXJDYWxsYmFjayYmdGhpcy5tb3VzZU92ZXJDYWxsYmFjay5jYWxsKHRoaXMuY2FsbGJhY2tDb250ZXh0LHQpfSxvbk1vdXNlV2hlZWw6ZnVuY3Rpb24odCl7dGhpcy5fd2hlZWxFdmVudCYmKHQ9dGhpcy5fd2hlZWxFdmVudC5iaW5kRXZlbnQodCkpLHRoaXMuZXZlbnQ9dCx0aGlzLmNhcHR1cmUmJnQucHJldmVudERlZmF1bHQoKSx0aGlzLndoZWVsRGVsdGE9aS5NYXRoLmNsYW1wKC10LmRlbHRhWSwtMSwxKSx0aGlzLm1vdXNlV2hlZWxDYWxsYmFjayYmdGhpcy5tb3VzZVdoZWVsQ2FsbGJhY2suY2FsbCh0aGlzLmNhbGxiYWNrQ29udGV4dCx0KX0scmVxdWVzdFBvaW50ZXJMb2NrOmZ1bmN0aW9uKCl7aWYodGhpcy5nYW1lLmRldmljZS5wb2ludGVyTG9jayl7dmFyIHQ9dGhpcy5nYW1lLmNhbnZhczt0LnJlcXVlc3RQb2ludGVyTG9jaz10LnJlcXVlc3RQb2ludGVyTG9ja3x8dC5tb3pSZXF1ZXN0UG9pbnRlckxvY2t8fHQud2Via2l0UmVxdWVzdFBvaW50ZXJMb2NrLHQucmVxdWVzdFBvaW50ZXJMb2NrKCk7dmFyIGU9dGhpczt0aGlzLl9wb2ludGVyTG9ja0NoYW5nZT1mdW5jdGlvbih0KXtyZXR1cm4gZS5wb2ludGVyTG9ja0NoYW5nZSh0KX0sZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJsb2NrY2hhbmdlXCIsdGhpcy5fcG9pbnRlckxvY2tDaGFuZ2UsITApLGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3pwb2ludGVybG9ja2NoYW5nZVwiLHRoaXMuX3BvaW50ZXJMb2NrQ2hhbmdlLCEwKSxkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwid2Via2l0cG9pbnRlcmxvY2tjaGFuZ2VcIix0aGlzLl9wb2ludGVyTG9ja0NoYW5nZSwhMCl9fSxwb2ludGVyTG9ja0NoYW5nZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmdhbWUuY2FudmFzO2RvY3VtZW50LnBvaW50ZXJMb2NrRWxlbWVudD09PWV8fGRvY3VtZW50Lm1velBvaW50ZXJMb2NrRWxlbWVudD09PWV8fGRvY3VtZW50LndlYmtpdFBvaW50ZXJMb2NrRWxlbWVudD09PWU/KHRoaXMubG9ja2VkPSEwLHRoaXMucG9pbnRlckxvY2suZGlzcGF0Y2goITAsdCkpOih0aGlzLmxvY2tlZD0hMSx0aGlzLnBvaW50ZXJMb2NrLmRpc3BhdGNoKCExLHQpKX0scmVsZWFzZVBvaW50ZXJMb2NrOmZ1bmN0aW9uKCl7ZG9jdW1lbnQuZXhpdFBvaW50ZXJMb2NrPWRvY3VtZW50LmV4aXRQb2ludGVyTG9ja3x8ZG9jdW1lbnQubW96RXhpdFBvaW50ZXJMb2NrfHxkb2N1bWVudC53ZWJraXRFeGl0UG9pbnRlckxvY2ssZG9jdW1lbnQuZXhpdFBvaW50ZXJMb2NrKCksZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJsb2NrY2hhbmdlXCIsdGhpcy5fcG9pbnRlckxvY2tDaGFuZ2UsITApLGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3pwb2ludGVybG9ja2NoYW5nZVwiLHRoaXMuX3BvaW50ZXJMb2NrQ2hhbmdlLCEwKSxkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwid2Via2l0cG9pbnRlcmxvY2tjaGFuZ2VcIix0aGlzLl9wb2ludGVyTG9ja0NoYW5nZSwhMCl9LHN0b3A6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdhbWUuY2FudmFzO3QucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLHRoaXMuX29uTW91c2VEb3duLCEwKSx0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIix0aGlzLl9vbk1vdXNlTW92ZSwhMCksdC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLHRoaXMuX29uTW91c2VVcCwhMCksdC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2VvdmVyXCIsdGhpcy5fb25Nb3VzZU92ZXIsITApLHQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlb3V0XCIsdGhpcy5fb25Nb3VzZU91dCwhMCk7dmFyIGU9dGhpcy5nYW1lLmRldmljZS53aGVlbEV2ZW50O2UmJnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihlLHRoaXMuX29uTW91c2VXaGVlbCwhMCksd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsdGhpcy5fb25Nb3VzZVVwR2xvYmFsLCEwKSx3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlb3V0XCIsdGhpcy5fb25Nb3VzZU91dEdsb2JhbCwhMCksZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJsb2NrY2hhbmdlXCIsdGhpcy5fcG9pbnRlckxvY2tDaGFuZ2UsITApLGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3pwb2ludGVybG9ja2NoYW5nZVwiLHRoaXMuX3BvaW50ZXJMb2NrQ2hhbmdlLCEwKSxkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwid2Via2l0cG9pbnRlcmxvY2tjaGFuZ2VcIix0aGlzLl9wb2ludGVyTG9ja0NoYW5nZSwhMCl9fSxpLk1vdXNlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1pLk1vdXNlLCh0LnByb3RvdHlwZT17fSkuY29uc3RydWN0b3I9dCx0LnByb3RvdHlwZS5iaW5kRXZlbnQ9ZnVuY3Rpb24oZSl7aWYoIXQuX3N0dWJzR2VuZXJhdGVkJiZlKXtmb3IodmFyIGkgaW4gZSlpIGluIHQucHJvdG90eXBlfHxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsaSx7Z2V0OmZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbigpe3ZhciBlPXRoaXMub3JpZ2luYWxFdmVudFt0XTtyZXR1cm5cImZ1bmN0aW9uXCIhPXR5cGVvZiBlP2U6ZS5iaW5kKHRoaXMub3JpZ2luYWxFdmVudCl9fShpKX0pO3QuX3N0dWJzR2VuZXJhdGVkPSEwfXJldHVybiB0aGlzLm9yaWdpbmFsRXZlbnQ9ZSx0aGlzfSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0LnByb3RvdHlwZSx7dHlwZTp7dmFsdWU6XCJ3aGVlbFwifSxkZWx0YU1vZGU6e2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kZWx0YU1vZGV9fSxkZWx0YVk6e2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zY2FsZUZhY3RvcioodGhpcy5vcmlnaW5hbEV2ZW50LndoZWVsRGVsdGF8fHRoaXMub3JpZ2luYWxFdmVudC5kZXRhaWwpfHwwfX0sZGVsdGFYOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2NhbGVGYWN0b3IqdGhpcy5vcmlnaW5hbEV2ZW50LndoZWVsRGVsdGFYfHwwfX0sZGVsdGFaOnt2YWx1ZTowfX0pLGkuTVNQb2ludGVyPWZ1bmN0aW9uKHQpe3RoaXMuZ2FtZT10LHRoaXMuaW5wdXQ9dC5pbnB1dCx0aGlzLmNhbGxiYWNrQ29udGV4dD10aGlzLmdhbWUsdGhpcy5wb2ludGVyRG93bkNhbGxiYWNrPW51bGwsdGhpcy5wb2ludGVyTW92ZUNhbGxiYWNrPW51bGwsdGhpcy5wb2ludGVyVXBDYWxsYmFjaz1udWxsLHRoaXMuY2FwdHVyZT0hMCx0aGlzLmJ1dHRvbj0tMSx0aGlzLmV2ZW50PW51bGwsdGhpcy5lbmFibGVkPSEwLHRoaXMuX29uTVNQb2ludGVyRG93bj1udWxsLHRoaXMuX29uTVNQb2ludGVyTW92ZT1udWxsLHRoaXMuX29uTVNQb2ludGVyVXA9bnVsbCx0aGlzLl9vbk1TUG9pbnRlclVwR2xvYmFsPW51bGwsdGhpcy5fb25NU1BvaW50ZXJPdXQ9bnVsbCx0aGlzLl9vbk1TUG9pbnRlck92ZXI9bnVsbH0saS5NU1BvaW50ZXIucHJvdG90eXBlPXtzdGFydDpmdW5jdGlvbigpe2lmKG51bGw9PT10aGlzLl9vbk1TUG9pbnRlckRvd24pe3ZhciB0PXRoaXM7aWYodGhpcy5nYW1lLmRldmljZS5tc3BvaW50ZXIpe3RoaXMuX29uTVNQb2ludGVyRG93bj1mdW5jdGlvbihlKXtyZXR1cm4gdC5vblBvaW50ZXJEb3duKGUpfSx0aGlzLl9vbk1TUG9pbnRlck1vdmU9ZnVuY3Rpb24oZSl7cmV0dXJuIHQub25Qb2ludGVyTW92ZShlKX0sdGhpcy5fb25NU1BvaW50ZXJVcD1mdW5jdGlvbihlKXtyZXR1cm4gdC5vblBvaW50ZXJVcChlKX0sdGhpcy5fb25NU1BvaW50ZXJVcEdsb2JhbD1mdW5jdGlvbihlKXtyZXR1cm4gdC5vblBvaW50ZXJVcEdsb2JhbChlKX0sdGhpcy5fb25NU1BvaW50ZXJPdXQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHQub25Qb2ludGVyT3V0KGUpfSx0aGlzLl9vbk1TUG9pbnRlck92ZXI9ZnVuY3Rpb24oZSl7cmV0dXJuIHQub25Qb2ludGVyT3ZlcihlKX07dmFyIGU9dGhpcy5nYW1lLmNhbnZhcztlLmFkZEV2ZW50TGlzdGVuZXIoXCJNU1BvaW50ZXJEb3duXCIsdGhpcy5fb25NU1BvaW50ZXJEb3duLCExKSxlLmFkZEV2ZW50TGlzdGVuZXIoXCJNU1BvaW50ZXJNb3ZlXCIsdGhpcy5fb25NU1BvaW50ZXJNb3ZlLCExKSxlLmFkZEV2ZW50TGlzdGVuZXIoXCJNU1BvaW50ZXJVcFwiLHRoaXMuX29uTVNQb2ludGVyVXAsITEpLGUuYWRkRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJkb3duXCIsdGhpcy5fb25NU1BvaW50ZXJEb3duLCExKSxlLmFkZEV2ZW50TGlzdGVuZXIoXCJwb2ludGVybW92ZVwiLHRoaXMuX29uTVNQb2ludGVyTW92ZSwhMSksZS5hZGRFdmVudExpc3RlbmVyKFwicG9pbnRlcnVwXCIsdGhpcy5fb25NU1BvaW50ZXJVcCwhMSksZS5zdHlsZVtcIi1tcy1jb250ZW50LXpvb21pbmdcIl09XCJub25lXCIsZS5zdHlsZVtcIi1tcy10b3VjaC1hY3Rpb25cIl09XCJub25lXCIsdGhpcy5nYW1lLmRldmljZS5jb2Nvb25KU3x8KHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiTVNQb2ludGVyVXBcIix0aGlzLl9vbk1TUG9pbnRlclVwR2xvYmFsLCEwKSxlLmFkZEV2ZW50TGlzdGVuZXIoXCJNU1BvaW50ZXJPdmVyXCIsdGhpcy5fb25NU1BvaW50ZXJPdmVyLCEwKSxlLmFkZEV2ZW50TGlzdGVuZXIoXCJNU1BvaW50ZXJPdXRcIix0aGlzLl9vbk1TUG9pbnRlck91dCwhMCksd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJwb2ludGVydXBcIix0aGlzLl9vbk1TUG9pbnRlclVwR2xvYmFsLCEwKSxlLmFkZEV2ZW50TGlzdGVuZXIoXCJwb2ludGVyb3ZlclwiLHRoaXMuX29uTVNQb2ludGVyT3ZlciwhMCksZS5hZGRFdmVudExpc3RlbmVyKFwicG9pbnRlcm91dFwiLHRoaXMuX29uTVNQb2ludGVyT3V0LCEwKSl9fX0sb25Qb2ludGVyRG93bjpmdW5jdGlvbih0KXt0aGlzLmdhbWUuaW5wdXQuZXhlY3V0ZVRvdWNoTG9ja0NhbGxiYWNrcyghMSx0KSx0aGlzLmV2ZW50PXQsdGhpcy5jYXB0dXJlJiZ0LnByZXZlbnREZWZhdWx0KCksdGhpcy5wb2ludGVyRG93bkNhbGxiYWNrJiZ0aGlzLnBvaW50ZXJEb3duQ2FsbGJhY2suY2FsbCh0aGlzLmNhbGxiYWNrQ29udGV4dCx0KSx0aGlzLmlucHV0LmVuYWJsZWQmJnRoaXMuZW5hYmxlZCYmKHQuaWRlbnRpZmllcj10LnBvaW50ZXJJZCxcIm1vdXNlXCI9PT10LnBvaW50ZXJUeXBlfHw0PT09dC5wb2ludGVyVHlwZT90aGlzLmlucHV0Lm1vdXNlUG9pbnRlci5zdGFydCh0KTp0aGlzLmlucHV0LnN0YXJ0UG9pbnRlcih0KSl9LG9uUG9pbnRlck1vdmU6ZnVuY3Rpb24odCl7dGhpcy5ldmVudD10LHRoaXMuY2FwdHVyZSYmdC5wcmV2ZW50RGVmYXVsdCgpLHRoaXMucG9pbnRlck1vdmVDYWxsYmFjayYmdGhpcy5wb2ludGVyTW92ZUNhbGxiYWNrLmNhbGwodGhpcy5jYWxsYmFja0NvbnRleHQsdCksdGhpcy5pbnB1dC5lbmFibGVkJiZ0aGlzLmVuYWJsZWQmJih0LmlkZW50aWZpZXI9dC5wb2ludGVySWQsXCJtb3VzZVwiPT09dC5wb2ludGVyVHlwZXx8ND09PXQucG9pbnRlclR5cGU/dGhpcy5pbnB1dC5tb3VzZVBvaW50ZXIubW92ZSh0KTp0aGlzLmlucHV0LnVwZGF0ZVBvaW50ZXIodCkpfSxvblBvaW50ZXJVcDpmdW5jdGlvbih0KXt0aGlzLmdhbWUuaW5wdXQuZXhlY3V0ZVRvdWNoTG9ja0NhbGxiYWNrcyghMCx0KSx0aGlzLmV2ZW50PXQsdGhpcy5jYXB0dXJlJiZ0LnByZXZlbnREZWZhdWx0KCksdGhpcy5wb2ludGVyVXBDYWxsYmFjayYmdGhpcy5wb2ludGVyVXBDYWxsYmFjay5jYWxsKHRoaXMuY2FsbGJhY2tDb250ZXh0LHQpLHRoaXMuaW5wdXQuZW5hYmxlZCYmdGhpcy5lbmFibGVkJiYodC5pZGVudGlmaWVyPXQucG9pbnRlcklkLFwibW91c2VcIj09PXQucG9pbnRlclR5cGV8fDQ9PT10LnBvaW50ZXJUeXBlP3RoaXMuaW5wdXQubW91c2VQb2ludGVyLnN0b3AodCk6dGhpcy5pbnB1dC5zdG9wUG9pbnRlcih0KSl9LG9uUG9pbnRlclVwR2xvYmFsOmZ1bmN0aW9uKHQpe2lmKFwibW91c2VcIiE9PXQucG9pbnRlclR5cGUmJjQhPT10LnBvaW50ZXJUeXBlfHx0aGlzLmlucHV0Lm1vdXNlUG9pbnRlci53aXRoaW5HYW1lKXt2YXIgZT10aGlzLmlucHV0LmdldFBvaW50ZXJGcm9tSWRlbnRpZmllcih0LmlkZW50aWZpZXIpO2UmJmUud2l0aGluR2FtZSYmdGhpcy5vblBvaW50ZXJVcCh0KX1lbHNlIHRoaXMub25Qb2ludGVyVXAodCl9LG9uUG9pbnRlck91dDpmdW5jdGlvbih0KXtpZih0aGlzLmV2ZW50PXQsdGhpcy5jYXB0dXJlJiZ0LnByZXZlbnREZWZhdWx0KCksXCJtb3VzZVwiPT09dC5wb2ludGVyVHlwZXx8ND09PXQucG9pbnRlclR5cGUpdGhpcy5pbnB1dC5tb3VzZVBvaW50ZXIud2l0aGluR2FtZT0hMTtlbHNle3ZhciBlPXRoaXMuaW5wdXQuZ2V0UG9pbnRlckZyb21JZGVudGlmaWVyKHQuaWRlbnRpZmllcik7ZSYmKGUud2l0aGluR2FtZT0hMSl9dGhpcy5pbnB1dC5tb3VzZS5tb3VzZU91dENhbGxiYWNrJiZ0aGlzLmlucHV0Lm1vdXNlLm1vdXNlT3V0Q2FsbGJhY2suY2FsbCh0aGlzLmlucHV0Lm1vdXNlLmNhbGxiYWNrQ29udGV4dCx0KSx0aGlzLmlucHV0LmVuYWJsZWQmJnRoaXMuZW5hYmxlZCYmdGhpcy5pbnB1dC5tb3VzZS5zdG9wT25HYW1lT3V0JiYodC5pZGVudGlmaWVyPTAsZT9lLnN0b3AodCk6dGhpcy5pbnB1dC5tb3VzZVBvaW50ZXIuc3RvcCh0KSl9LG9uUG9pbnRlck92ZXI6ZnVuY3Rpb24odCl7aWYodGhpcy5ldmVudD10LHRoaXMuY2FwdHVyZSYmdC5wcmV2ZW50RGVmYXVsdCgpLFwibW91c2VcIj09PXQucG9pbnRlclR5cGV8fDQ9PT10LnBvaW50ZXJUeXBlKXRoaXMuaW5wdXQubW91c2VQb2ludGVyLndpdGhpbkdhbWU9ITA7ZWxzZXt2YXIgZT10aGlzLmlucHV0LmdldFBvaW50ZXJGcm9tSWRlbnRpZmllcih0LmlkZW50aWZpZXIpO2UmJihlLndpdGhpbkdhbWU9ITApfXRoaXMuaW5wdXQubW91c2UubW91c2VPdmVyQ2FsbGJhY2smJnRoaXMuaW5wdXQubW91c2UubW91c2VPdmVyQ2FsbGJhY2suY2FsbCh0aGlzLmlucHV0Lm1vdXNlLmNhbGxiYWNrQ29udGV4dCx0KX0sc3RvcDpmdW5jdGlvbigpe3ZhciB0PXRoaXMuZ2FtZS5jYW52YXM7dC5yZW1vdmVFdmVudExpc3RlbmVyKFwiTVNQb2ludGVyRG93blwiLHRoaXMuX29uTVNQb2ludGVyRG93biwhMSksdC5yZW1vdmVFdmVudExpc3RlbmVyKFwiTVNQb2ludGVyTW92ZVwiLHRoaXMuX29uTVNQb2ludGVyTW92ZSwhMSksdC5yZW1vdmVFdmVudExpc3RlbmVyKFwiTVNQb2ludGVyVXBcIix0aGlzLl9vbk1TUG9pbnRlclVwLCExKSx0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJwb2ludGVyZG93blwiLHRoaXMuX29uTVNQb2ludGVyRG93biwhMSksdC5yZW1vdmVFdmVudExpc3RlbmVyKFwicG9pbnRlcm1vdmVcIix0aGlzLl9vbk1TUG9pbnRlck1vdmUsITEpLHQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJ1cFwiLHRoaXMuX29uTVNQb2ludGVyVXAsITEpLHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwiTVNQb2ludGVyVXBcIix0aGlzLl9vbk1TUG9pbnRlclVwR2xvYmFsLCEwKSx0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJNU1BvaW50ZXJPdmVyXCIsdGhpcy5fb25NU1BvaW50ZXJPdmVyLCEwKSx0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJNU1BvaW50ZXJPdXRcIix0aGlzLl9vbk1TUG9pbnRlck91dCwhMCksd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJwb2ludGVydXBcIix0aGlzLl9vbk1TUG9pbnRlclVwR2xvYmFsLCEwKSx0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJwb2ludGVyb3ZlclwiLHRoaXMuX29uTVNQb2ludGVyT3ZlciwhMCksdC5yZW1vdmVFdmVudExpc3RlbmVyKFwicG9pbnRlcm91dFwiLHRoaXMuX29uTVNQb2ludGVyT3V0LCEwKX19LGkuTVNQb2ludGVyLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1pLk1TUG9pbnRlcixpLkRldmljZUJ1dHRvbj1mdW5jdGlvbih0LGUpe3RoaXMucGFyZW50PXQsdGhpcy5nYW1lPXQuZ2FtZSx0aGlzLmV2ZW50PW51bGwsdGhpcy5pc0Rvd249ITEsdGhpcy5pc1VwPSEwLHRoaXMudGltZURvd249MCx0aGlzLnRpbWVVcD0wLHRoaXMucmVwZWF0cz0wLHRoaXMuYWx0S2V5PSExLHRoaXMuc2hpZnRLZXk9ITEsdGhpcy5jdHJsS2V5PSExLHRoaXMudmFsdWU9MCx0aGlzLmJ1dHRvbkNvZGU9ZSx0aGlzLm9uRG93bj1uZXcgaS5TaWduYWwsdGhpcy5vblVwPW5ldyBpLlNpZ25hbCx0aGlzLm9uRmxvYXQ9bmV3IGkuU2lnbmFsfSxpLkRldmljZUJ1dHRvbi5wcm90b3R5cGU9e3N0YXJ0OmZ1bmN0aW9uKHQsZSl7dGhpcy5pc0Rvd258fCh0aGlzLmlzRG93bj0hMCx0aGlzLmlzVXA9ITEsdGhpcy50aW1lRG93bj10aGlzLmdhbWUudGltZS50aW1lLHRoaXMucmVwZWF0cz0wLHRoaXMuZXZlbnQ9dCx0aGlzLnZhbHVlPWUsdCYmKHRoaXMuYWx0S2V5PXQuYWx0S2V5LHRoaXMuc2hpZnRLZXk9dC5zaGlmdEtleSx0aGlzLmN0cmxLZXk9dC5jdHJsS2V5KSx0aGlzLm9uRG93bi5kaXNwYXRjaCh0aGlzLGUpKX0sc3RvcDpmdW5jdGlvbih0LGUpe3RoaXMuaXNVcHx8KHRoaXMuaXNEb3duPSExLHRoaXMuaXNVcD0hMCx0aGlzLnRpbWVVcD10aGlzLmdhbWUudGltZS50aW1lLHRoaXMuZXZlbnQ9dCx0aGlzLnZhbHVlPWUsdCYmKHRoaXMuYWx0S2V5PXQuYWx0S2V5LHRoaXMuc2hpZnRLZXk9dC5zaGlmdEtleSx0aGlzLmN0cmxLZXk9dC5jdHJsS2V5KSx0aGlzLm9uVXAuZGlzcGF0Y2godGhpcyxlKSl9LHN0YXJ0U3RvcDpmdW5jdGlvbih0LGUsaSl7dD90aGlzLnN0YXJ0KGUsaSk6dGhpcy5zdG9wKGUsaSl9LHBhZEZsb2F0OmZ1bmN0aW9uKHQpe3RoaXMuaXNEb3duPSExLHRoaXMuaXNVcD0hMSx0aGlzLnZhbHVlPXQsdGhpcy5vbkZsb2F0LmRpc3BhdGNoKHRoaXMsdCl9LGp1c3RQcmVzc2VkOmZ1bmN0aW9uKHQpe3JldHVybiB0PXR8fDI1MCx0aGlzLmlzRG93biYmdGhpcy50aW1lRG93bit0PnRoaXMuZ2FtZS50aW1lLnRpbWV9LGp1c3RSZWxlYXNlZDpmdW5jdGlvbih0KXtyZXR1cm4gdD10fHwyNTAsdGhpcy5pc1VwJiZ0aGlzLnRpbWVVcCt0PnRoaXMuZ2FtZS50aW1lLnRpbWV9LHJlc2V0OmZ1bmN0aW9uKCl7dGhpcy5pc0Rvd249ITEsdGhpcy5pc1VwPSEwLHRoaXMudGltZURvd249dGhpcy5nYW1lLnRpbWUudGltZSx0aGlzLnJlcGVhdHM9MCx0aGlzLmFsdEtleT0hMSx0aGlzLnNoaWZ0S2V5PSExLHRoaXMuY3RybEtleT0hMX0sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMub25Eb3duLmRpc3Bvc2UoKSx0aGlzLm9uVXAuZGlzcG9zZSgpLHRoaXMub25GbG9hdC5kaXNwb3NlKCksdGhpcy5wYXJlbnQ9bnVsbCx0aGlzLmdhbWU9bnVsbH19LGkuRGV2aWNlQnV0dG9uLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1pLkRldmljZUJ1dHRvbixPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5EZXZpY2VCdXR0b24ucHJvdG90eXBlLFwiZHVyYXRpb25cIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXNVcD8tMTp0aGlzLmdhbWUudGltZS50aW1lLXRoaXMudGltZURvd259fSksaS5Qb2ludGVyPWZ1bmN0aW9uKHQsZSxzKXt0aGlzLmdhbWU9dCx0aGlzLmlkPWUsdGhpcy50eXBlPWkuUE9JTlRFUix0aGlzLmV4aXN0cz0hMCx0aGlzLmlkZW50aWZpZXI9MCx0aGlzLnBvaW50ZXJJZD1udWxsLHRoaXMucG9pbnRlck1vZGU9c3x8aS5Qb2ludGVyTW9kZS5DVVJTT1J8aS5Qb2ludGVyTW9kZS5DT05UQUNULHRoaXMudGFyZ2V0PW51bGwsdGhpcy5idXR0b249bnVsbCx0aGlzLmxlZnRCdXR0b249bmV3IGkuRGV2aWNlQnV0dG9uKHRoaXMsaS5Qb2ludGVyLkxFRlRfQlVUVE9OKSx0aGlzLm1pZGRsZUJ1dHRvbj1uZXcgaS5EZXZpY2VCdXR0b24odGhpcyxpLlBvaW50ZXIuTUlERExFX0JVVFRPTiksdGhpcy5yaWdodEJ1dHRvbj1uZXcgaS5EZXZpY2VCdXR0b24odGhpcyxpLlBvaW50ZXIuUklHSFRfQlVUVE9OKSx0aGlzLmJhY2tCdXR0b249bmV3IGkuRGV2aWNlQnV0dG9uKHRoaXMsaS5Qb2ludGVyLkJBQ0tfQlVUVE9OKSx0aGlzLmZvcndhcmRCdXR0b249bmV3IGkuRGV2aWNlQnV0dG9uKHRoaXMsaS5Qb2ludGVyLkZPUldBUkRfQlVUVE9OKSx0aGlzLmVyYXNlckJ1dHRvbj1uZXcgaS5EZXZpY2VCdXR0b24odGhpcyxpLlBvaW50ZXIuRVJBU0VSX0JVVFRPTiksdGhpcy5faG9sZFNlbnQ9ITEsdGhpcy5faGlzdG9yeT1bXSx0aGlzLl9uZXh0RHJvcD0wLHRoaXMuX3N0YXRlUmVzZXQ9ITEsdGhpcy53aXRoaW5HYW1lPSExLHRoaXMuY2xpZW50WD0tMSx0aGlzLmNsaWVudFk9LTEsdGhpcy5wYWdlWD0tMSx0aGlzLnBhZ2VZPS0xLHRoaXMuc2NyZWVuWD0tMSx0aGlzLnNjcmVlblk9LTEsdGhpcy5yYXdNb3ZlbWVudFg9MCx0aGlzLnJhd01vdmVtZW50WT0wLHRoaXMubW92ZW1lbnRYPTAsdGhpcy5tb3ZlbWVudFk9MCx0aGlzLng9LTEsdGhpcy55PS0xLHRoaXMuaXNNb3VzZT0wPT09ZSx0aGlzLmlzRG93bj0hMSx0aGlzLmlzVXA9ITAsdGhpcy50aW1lRG93bj0wLHRoaXMudGltZVVwPTAsdGhpcy5wcmV2aW91c1RhcFRpbWU9MCx0aGlzLnRvdGFsVG91Y2hlcz0wLHRoaXMubXNTaW5jZUxhc3RDbGljaz1OdW1iZXIuTUFYX1ZBTFVFLHRoaXMudGFyZ2V0T2JqZWN0PW51bGwsdGhpcy5pbnRlcmFjdGl2ZUNhbmRpZGF0ZXM9W10sdGhpcy5hY3RpdmU9ITEsdGhpcy5kaXJ0eT0hMSx0aGlzLnBvc2l0aW9uPW5ldyBpLlBvaW50LHRoaXMucG9zaXRpb25Eb3duPW5ldyBpLlBvaW50LHRoaXMucG9zaXRpb25VcD1uZXcgaS5Qb2ludCx0aGlzLmNpcmNsZT1uZXcgaS5DaXJjbGUoMCwwLDQ0KSx0aGlzLl9jbGlja1RyYW1wb2xpbmVzPW51bGwsdGhpcy5fdHJhbXBvbGluZVRhcmdldE9iamVjdD1udWxsfSxpLlBvaW50ZXIuTk9fQlVUVE9OPTAsaS5Qb2ludGVyLkxFRlRfQlVUVE9OPTEsaS5Qb2ludGVyLlJJR0hUX0JVVFRPTj0yLGkuUG9pbnRlci5NSURETEVfQlVUVE9OPTQsaS5Qb2ludGVyLkJBQ0tfQlVUVE9OPTgsaS5Qb2ludGVyLkZPUldBUkRfQlVUVE9OPTE2LGkuUG9pbnRlci5FUkFTRVJfQlVUVE9OPTMyLGkuUG9pbnRlci5wcm90b3R5cGU9e3Jlc2V0QnV0dG9uczpmdW5jdGlvbigpe3RoaXMuaXNEb3duPSExLHRoaXMuaXNVcD0hMCx0aGlzLmlzTW91c2UmJih0aGlzLmxlZnRCdXR0b24ucmVzZXQoKSx0aGlzLm1pZGRsZUJ1dHRvbi5yZXNldCgpLHRoaXMucmlnaHRCdXR0b24ucmVzZXQoKSx0aGlzLmJhY2tCdXR0b24ucmVzZXQoKSx0aGlzLmZvcndhcmRCdXR0b24ucmVzZXQoKSx0aGlzLmVyYXNlckJ1dHRvbi5yZXNldCgpKX0scHJvY2Vzc0J1dHRvbnNEb3duOmZ1bmN0aW9uKHQsZSl7dD09PWkuTW91c2UuTEVGVF9CVVRUT04mJnRoaXMubGVmdEJ1dHRvbi5zdGFydChlKSx0PT09aS5Nb3VzZS5SSUdIVF9CVVRUT04mJnRoaXMucmlnaHRCdXR0b24uc3RhcnQoZSksdD09PWkuTW91c2UuTUlERExFX0JVVFRPTiYmdGhpcy5taWRkbGVCdXR0b24uc3RhcnQoZSksdD09PWkuTW91c2UuQkFDS19CVVRUT04mJnRoaXMuYmFja0J1dHRvbi5zdGFydChlKSx0PT09aS5Nb3VzZS5GT1JXQVJEX0JVVFRPTiYmdGhpcy5mb3J3YXJkQnV0dG9uLnN0YXJ0KGUpfSxwcm9jZXNzQnV0dG9uc1VwOmZ1bmN0aW9uKHQsZSl7dD09PWkuTW91c2UuTEVGVF9CVVRUT04mJnRoaXMubGVmdEJ1dHRvbi5zdG9wKGUpLHQ9PT1pLk1vdXNlLlJJR0hUX0JVVFRPTiYmdGhpcy5yaWdodEJ1dHRvbi5zdG9wKGUpLHQ9PT1pLk1vdXNlLk1JRERMRV9CVVRUT04mJnRoaXMubWlkZGxlQnV0dG9uLnN0b3AoZSksdD09PWkuTW91c2UuQkFDS19CVVRUT04mJnRoaXMuYmFja0J1dHRvbi5zdG9wKGUpLHQ9PT1pLk1vdXNlLkZPUldBUkRfQlVUVE9OJiZ0aGlzLmZvcndhcmRCdXR0b24uc3RvcChlKX0scHJvY2Vzc0J1dHRvbnNVcERvd246ZnVuY3Rpb24odCxlKXt2YXIgcz1cImRvd25cIj09PWUudHlwZS50b0xvd2VyQ2FzZSgpLnN1YnN0cigtNCksbj1cIm1vdmVcIj09PWUudHlwZS50b0xvd2VyQ2FzZSgpLnN1YnN0cigtNCk7dm9pZCAwIT09dD8ocyYmMT09PXQmJmUuY3RybEtleSYmKHQ9MiksdGhpcy5sZWZ0QnV0dG9uLnN0YXJ0U3RvcChpLlBvaW50ZXIuTEVGVF9CVVRUT04mdCxlKSx0aGlzLnJpZ2h0QnV0dG9uLnN0YXJ0U3RvcChpLlBvaW50ZXIuUklHSFRfQlVUVE9OJnQsZSksdGhpcy5taWRkbGVCdXR0b24uc3RhcnRTdG9wKGkuUG9pbnRlci5NSURETEVfQlVUVE9OJnQsZSksdGhpcy5iYWNrQnV0dG9uLnN0YXJ0U3RvcChpLlBvaW50ZXIuQkFDS19CVVRUT04mdCxlKSx0aGlzLmZvcndhcmRCdXR0b24uc3RhcnRTdG9wKGkuUG9pbnRlci5GT1JXQVJEX0JVVFRPTiZ0LGUpLHRoaXMuZXJhc2VyQnV0dG9uLnN0YXJ0U3RvcChpLlBvaW50ZXIuRVJBU0VSX0JVVFRPTiZ0LGUpKTp2b2lkIDAhPT1lLmJ1dHRvbj9zJiZlLmN0cmxLZXkmJjA9PT1lLmJ1dHRvbj90aGlzLnJpZ2h0QnV0dG9uLnN0YXJ0KGUpOnM/dGhpcy5wcm9jZXNzQnV0dG9uc0Rvd24oZS5idXR0b24sZSk6bnx8dGhpcy5wcm9jZXNzQnV0dG9uc1VwKGUuYnV0dG9uLGUpOnM/ZS5jdHJsS2V5P3RoaXMucmlnaHRCdXR0b24uc3RhcnQoZSk6dGhpcy5sZWZ0QnV0dG9uLnN0YXJ0KGUpOih0aGlzLmxlZnRCdXR0b24uc3RvcChlKSx0aGlzLnJpZ2h0QnV0dG9uLnN0b3AoZSkpfSx1cGRhdGVCdXR0b25zOmZ1bmN0aW9uKHQpe3RoaXMuYnV0dG9uPXQuYnV0dG9uLHRoaXMucHJvY2Vzc0J1dHRvbnNVcERvd24odC5idXR0b25zLHQpLHRoaXMuaXNVcD0hMCx0aGlzLmlzRG93bj0hMSwodGhpcy5sZWZ0QnV0dG9uLmlzRG93bnx8dGhpcy5yaWdodEJ1dHRvbi5pc0Rvd258fHRoaXMubWlkZGxlQnV0dG9uLmlzRG93bnx8dGhpcy5iYWNrQnV0dG9uLmlzRG93bnx8dGhpcy5mb3J3YXJkQnV0dG9uLmlzRG93bnx8dGhpcy5lcmFzZXJCdXR0b24uaXNEb3duKSYmKHRoaXMuaXNVcD0hMSx0aGlzLmlzRG93bj0hMCl9LHN0YXJ0OmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ2FtZS5pbnB1dDtyZXR1cm4gdC5wb2ludGVySWQmJih0aGlzLnBvaW50ZXJJZD10LnBvaW50ZXJJZCksdGhpcy5pZGVudGlmaWVyPXQuaWRlbnRpZmllcix0aGlzLnRhcmdldD10LnRhcmdldCx0aGlzLmlzTW91c2U/dGhpcy51cGRhdGVCdXR0b25zKHQpOih0aGlzLmlzRG93bj0hMCx0aGlzLmlzVXA9ITEpLHRoaXMuYWN0aXZlPSEwLHRoaXMud2l0aGluR2FtZT0hMCx0aGlzLmRpcnR5PSExLHRoaXMuX2hpc3Rvcnk9W10sdGhpcy5fY2xpY2tUcmFtcG9saW5lcz1udWxsLHRoaXMuX3RyYW1wb2xpbmVUYXJnZXRPYmplY3Q9bnVsbCx0aGlzLm1zU2luY2VMYXN0Q2xpY2s9dGhpcy5nYW1lLnRpbWUudGltZS10aGlzLnRpbWVEb3duLHRoaXMudGltZURvd249dGhpcy5nYW1lLnRpbWUudGltZSx0aGlzLl9ob2xkU2VudD0hMSx0aGlzLm1vdmUodCwhMCksdGhpcy5wb3NpdGlvbkRvd24uc2V0VG8odGhpcy54LHRoaXMueSksKGUubXVsdGlJbnB1dE92ZXJyaWRlPT09aS5JbnB1dC5NT1VTRV9PVkVSUklERVNfVE9VQ0h8fGUubXVsdGlJbnB1dE92ZXJyaWRlPT09aS5JbnB1dC5NT1VTRV9UT1VDSF9DT01CSU5FfHxlLm11bHRpSW5wdXRPdmVycmlkZT09PWkuSW5wdXQuVE9VQ0hfT1ZFUlJJREVTX01PVVNFJiYwPT09ZS50b3RhbEFjdGl2ZVBvaW50ZXJzKSYmKGUueD10aGlzLngsZS55PXRoaXMueSxlLnBvc2l0aW9uLnNldFRvKHRoaXMueCx0aGlzLnkpLGUub25Eb3duLmRpc3BhdGNoKHRoaXMsdCksZS5yZXNldFNwZWVkKHRoaXMueCx0aGlzLnkpKSx0aGlzLl9zdGF0ZVJlc2V0PSExLHRoaXMudG90YWxUb3VjaGVzKyssbnVsbCE9PXRoaXMudGFyZ2V0T2JqZWN0JiZ0aGlzLnRhcmdldE9iamVjdC5fdG91Y2hlZEhhbmRsZXIodGhpcyksdGhpc30sdXBkYXRlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nYW1lLmlucHV0O3RoaXMuYWN0aXZlJiYodGhpcy5kaXJ0eSYmKHQuaW50ZXJhY3RpdmVJdGVtcy50b3RhbD4wJiZ0aGlzLnByb2Nlc3NJbnRlcmFjdGl2ZU9iamVjdHMoITEpLHRoaXMuZGlydHk9ITEpLCExPT09dGhpcy5faG9sZFNlbnQmJnRoaXMuZHVyYXRpb24+PXQuaG9sZFJhdGUmJigodC5tdWx0aUlucHV0T3ZlcnJpZGU9PT1pLklucHV0Lk1PVVNFX09WRVJSSURFU19UT1VDSHx8dC5tdWx0aUlucHV0T3ZlcnJpZGU9PT1pLklucHV0Lk1PVVNFX1RPVUNIX0NPTUJJTkV8fHQubXVsdGlJbnB1dE92ZXJyaWRlPT09aS5JbnB1dC5UT1VDSF9PVkVSUklERVNfTU9VU0UmJjA9PT10LnRvdGFsQWN0aXZlUG9pbnRlcnMpJiZ0Lm9uSG9sZC5kaXNwYXRjaCh0aGlzKSx0aGlzLl9ob2xkU2VudD0hMCksdC5yZWNvcmRQb2ludGVySGlzdG9yeSYmdGhpcy5nYW1lLnRpbWUudGltZT49dGhpcy5fbmV4dERyb3AmJih0aGlzLl9uZXh0RHJvcD10aGlzLmdhbWUudGltZS50aW1lK3QucmVjb3JkUmF0ZSx0aGlzLl9oaXN0b3J5LnB1c2goe3g6dGhpcy5wb3NpdGlvbi54LHk6dGhpcy5wb3NpdGlvbi55fSksdGhpcy5faGlzdG9yeS5sZW5ndGg+dC5yZWNvcmRMaW1pdCYmdGhpcy5faGlzdG9yeS5zaGlmdCgpKSl9LG1vdmU6ZnVuY3Rpb24odCxlKXt2YXIgcz10aGlzLmdhbWUuaW5wdXQ7aWYoIXMucG9sbExvY2tlZCl7dm9pZCAwPT09ZSYmKGU9ITEpLHZvaWQgMCE9PXQuYnV0dG9uJiYodGhpcy5idXR0b249dC5idXR0b24pLHRoaXMuaXNNb3VzZSYmdGhpcy51cGRhdGVCdXR0b25zKHQpLHRoaXMuY2xpZW50WD10LmNsaWVudFgsdGhpcy5jbGllbnRZPXQuY2xpZW50WSx0aGlzLnBhZ2VYPXQucGFnZVgsdGhpcy5wYWdlWT10LnBhZ2VZLHRoaXMuc2NyZWVuWD10LnNjcmVlblgsdGhpcy5zY3JlZW5ZPXQuc2NyZWVuWSx0aGlzLmlzTW91c2UmJnMubW91c2UubG9ja2VkJiYhZSYmKHRoaXMucmF3TW92ZW1lbnRYPXQubW92ZW1lbnRYfHx0Lm1vek1vdmVtZW50WHx8dC53ZWJraXRNb3ZlbWVudFh8fDAsdGhpcy5yYXdNb3ZlbWVudFk9dC5tb3ZlbWVudFl8fHQubW96TW92ZW1lbnRZfHx0LndlYmtpdE1vdmVtZW50WXx8MCx0aGlzLm1vdmVtZW50WCs9dGhpcy5yYXdNb3ZlbWVudFgsdGhpcy5tb3ZlbWVudFkrPXRoaXMucmF3TW92ZW1lbnRZKSx0aGlzLng9KHRoaXMucGFnZVgtdGhpcy5nYW1lLnNjYWxlLm9mZnNldC54KSpzLnNjYWxlLngsdGhpcy55PSh0aGlzLnBhZ2VZLXRoaXMuZ2FtZS5zY2FsZS5vZmZzZXQueSkqcy5zY2FsZS55LHRoaXMucG9zaXRpb24uc2V0VG8odGhpcy54LHRoaXMueSksdGhpcy5jaXJjbGUueD10aGlzLngsdGhpcy5jaXJjbGUueT10aGlzLnksKHMubXVsdGlJbnB1dE92ZXJyaWRlPT09aS5JbnB1dC5NT1VTRV9PVkVSUklERVNfVE9VQ0h8fHMubXVsdGlJbnB1dE92ZXJyaWRlPT09aS5JbnB1dC5NT1VTRV9UT1VDSF9DT01CSU5FfHxzLm11bHRpSW5wdXRPdmVycmlkZT09PWkuSW5wdXQuVE9VQ0hfT1ZFUlJJREVTX01PVVNFJiYwPT09cy50b3RhbEFjdGl2ZVBvaW50ZXJzKSYmKHMuYWN0aXZlUG9pbnRlcj10aGlzLHMueD10aGlzLngscy55PXRoaXMueSxzLnBvc2l0aW9uLnNldFRvKHMueCxzLnkpLHMuY2lyY2xlLng9cy54LHMuY2lyY2xlLnk9cy55KSx0aGlzLndpdGhpbkdhbWU9dGhpcy5nYW1lLnNjYWxlLmJvdW5kcy5jb250YWlucyh0aGlzLnBhZ2VYLHRoaXMucGFnZVkpO2Zvcih2YXIgbj1zLm1vdmVDYWxsYmFja3MubGVuZ3RoO24tLTspcy5tb3ZlQ2FsbGJhY2tzW25dLmNhbGxiYWNrLmNhbGwocy5tb3ZlQ2FsbGJhY2tzW25dLmNvbnRleHQsdGhpcyx0aGlzLngsdGhpcy55LGUpO3JldHVybiBudWxsPT09dGhpcy50YXJnZXRPYmplY3R8fHRoaXMuZ2FtZS5wYXVzZWQmJiF0aGlzLnRhcmdldE9iamVjdC5ub1BhdXNlfHwhMCE9PXRoaXMudGFyZ2V0T2JqZWN0LmlzRHJhZ2dlZD9zLmludGVyYWN0aXZlSXRlbXMudG90YWw+MCYmdGhpcy5wcm9jZXNzSW50ZXJhY3RpdmVPYmplY3RzKGUpOiExPT09dGhpcy50YXJnZXRPYmplY3QudXBkYXRlKHRoaXMpJiYodGhpcy50YXJnZXRPYmplY3Q9bnVsbCksdGhpc319LHByb2Nlc3NJbnRlcmFjdGl2ZU9iamVjdHM6ZnVuY3Rpb24odCl7dmFyIGU9MCxpPS0xLHM9bnVsbCxuPXRoaXMuZ2FtZS5pbnB1dC5pbnRlcmFjdGl2ZUl0ZW1zLmZpcnN0O2Zvcih0aGlzLmludGVyYWN0aXZlQ2FuZGlkYXRlcz1bXTtuOyluLmNoZWNrZWQ9ITEsIW4udmFsaWRGb3JJbnB1dChpLGUsITEpfHx0aGlzLmdhbWUucGF1c2VkJiYhbi5zcHJpdGUubm9QYXVzZXx8KG4uY2hlY2tlZD0hMCwodCYmbi5jaGVja1BvaW50ZXJEb3duKHRoaXMsITApfHwhdCYmbi5jaGVja1BvaW50ZXJPdmVyKHRoaXMsITApKSYmKGU9bi5zcHJpdGUucmVuZGVyT3JkZXJJRCxpPW4ucHJpb3JpdHlJRCxzPW4sdGhpcy5pbnRlcmFjdGl2ZUNhbmRpZGF0ZXMucHVzaChuKSkpLG49dGhpcy5nYW1lLmlucHV0LmludGVyYWN0aXZlSXRlbXMubmV4dDtmb3Iobj10aGlzLmdhbWUuaW5wdXQuaW50ZXJhY3RpdmVJdGVtcy5maXJzdDtuOykhbi5jaGVja2VkJiZuLnZhbGlkRm9ySW5wdXQoaSxlLCEwKSYmKHQmJm4uY2hlY2tQb2ludGVyRG93bih0aGlzLCExKXx8IXQmJm4uY2hlY2tQb2ludGVyT3Zlcih0aGlzLCExKSkmJihlPW4uc3ByaXRlLnJlbmRlck9yZGVySUQsaT1uLnByaW9yaXR5SUQscz1uLHRoaXMuaW50ZXJhY3RpdmVDYW5kaWRhdGVzLnB1c2gobikpLG49dGhpcy5nYW1lLmlucHV0LmludGVyYWN0aXZlSXRlbXMubmV4dDtyZXR1cm4gdGhpcy5nYW1lLmlucHV0LmN1c3RvbUNhbmRpZGF0ZUhhbmRsZXImJihzPXRoaXMuZ2FtZS5pbnB1dC5jdXN0b21DYW5kaWRhdGVIYW5kbGVyLmNhbGwodGhpcy5nYW1lLmlucHV0LmN1c3RvbUNhbmRpZGF0ZUhhbmRsZXJDb250ZXh0LHRoaXMsdGhpcy5pbnRlcmFjdGl2ZUNhbmRpZGF0ZXMscykpLHRoaXMuc3dhcFRhcmdldChzLCExKSxudWxsIT09dGhpcy50YXJnZXRPYmplY3R9LHN3YXBUYXJnZXQ6ZnVuY3Rpb24odCxlKXt2b2lkIDA9PT1lJiYoZT0hMSksbnVsbD09PXQ/dGhpcy50YXJnZXRPYmplY3QmJih0aGlzLnRhcmdldE9iamVjdC5fcG9pbnRlck91dEhhbmRsZXIodGhpcyxlKSx0aGlzLnRhcmdldE9iamVjdD1udWxsKTpudWxsPT09dGhpcy50YXJnZXRPYmplY3Q/KHRoaXMudGFyZ2V0T2JqZWN0PXQsdC5fcG9pbnRlck92ZXJIYW5kbGVyKHRoaXMsZSkpOnRoaXMudGFyZ2V0T2JqZWN0PT09dD8hMT09PXQudXBkYXRlKHRoaXMpJiYodGhpcy50YXJnZXRPYmplY3Q9bnVsbCk6KHRoaXMudGFyZ2V0T2JqZWN0Ll9wb2ludGVyT3V0SGFuZGxlcih0aGlzLGUpLHRoaXMudGFyZ2V0T2JqZWN0PXQsdGhpcy50YXJnZXRPYmplY3QuX3BvaW50ZXJPdmVySGFuZGxlcih0aGlzLGUpKX0sbGVhdmU6ZnVuY3Rpb24odCl7dGhpcy53aXRoaW5HYW1lPSExLHRoaXMubW92ZSh0LCExKX0sc3RvcDpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmdhbWUuaW5wdXQ7e2lmKCF0aGlzLl9zdGF0ZVJlc2V0fHwhdGhpcy53aXRoaW5HYW1lKXJldHVybiB0aGlzLnRpbWVVcD10aGlzLmdhbWUudGltZS50aW1lLChlLm11bHRpSW5wdXRPdmVycmlkZT09PWkuSW5wdXQuTU9VU0VfT1ZFUlJJREVTX1RPVUNIfHxlLm11bHRpSW5wdXRPdmVycmlkZT09PWkuSW5wdXQuTU9VU0VfVE9VQ0hfQ09NQklORXx8ZS5tdWx0aUlucHV0T3ZlcnJpZGU9PT1pLklucHV0LlRPVUNIX09WRVJSSURFU19NT1VTRSYmMD09PWUudG90YWxBY3RpdmVQb2ludGVycykmJihlLm9uVXAuZGlzcGF0Y2godGhpcyx0KSx0aGlzLmR1cmF0aW9uPj0wJiZ0aGlzLmR1cmF0aW9uPD1lLnRhcFJhdGUmJih0aGlzLnRpbWVVcC10aGlzLnByZXZpb3VzVGFwVGltZTxlLmRvdWJsZVRhcFJhdGU/ZS5vblRhcC5kaXNwYXRjaCh0aGlzLCEwKTplLm9uVGFwLmRpc3BhdGNoKHRoaXMsITEpLHRoaXMucHJldmlvdXNUYXBUaW1lPXRoaXMudGltZVVwKSksdGhpcy5pc01vdXNlP3RoaXMudXBkYXRlQnV0dG9ucyh0KToodGhpcy5pc0Rvd249ITEsdGhpcy5pc1VwPSEwKSx0aGlzLmlkPjAmJih0aGlzLmFjdGl2ZT0hMSksdGhpcy53aXRoaW5HYW1lPXRoaXMuZ2FtZS5zY2FsZS5ib3VuZHMuY29udGFpbnModC5wYWdlWCx0LnBhZ2VZKSx0aGlzLnBvaW50ZXJJZD1udWxsLHRoaXMuaWRlbnRpZmllcj1udWxsLHRoaXMucG9zaXRpb25VcC5zZXRUbyh0aGlzLngsdGhpcy55KSwhMT09PXRoaXMuaXNNb3VzZSYmZS5jdXJyZW50UG9pbnRlcnMtLSxlLmludGVyYWN0aXZlSXRlbXMuY2FsbEFsbChcIl9yZWxlYXNlZEhhbmRsZXJcIix0aGlzKSx0aGlzLl9jbGlja1RyYW1wb2xpbmVzJiYodGhpcy5fdHJhbXBvbGluZVRhcmdldE9iamVjdD10aGlzLnRhcmdldE9iamVjdCksdGhpcy50YXJnZXRPYmplY3Q9bnVsbCx0aGlzO3QucHJldmVudERlZmF1bHQoKX19LGp1c3RQcmVzc2VkOmZ1bmN0aW9uKHQpe3JldHVybiB0PXR8fHRoaXMuZ2FtZS5pbnB1dC5qdXN0UHJlc3NlZFJhdGUsITA9PT10aGlzLmlzRG93biYmdGhpcy50aW1lRG93bit0PnRoaXMuZ2FtZS50aW1lLnRpbWV9LGp1c3RSZWxlYXNlZDpmdW5jdGlvbih0KXtyZXR1cm4gdD10fHx0aGlzLmdhbWUuaW5wdXQuanVzdFJlbGVhc2VkUmF0ZSx0aGlzLmlzVXAmJnRoaXMudGltZVVwK3Q+dGhpcy5nYW1lLnRpbWUudGltZX0sYWRkQ2xpY2tUcmFtcG9saW5lOmZ1bmN0aW9uKHQsZSxpLHMpe2lmKHRoaXMuaXNEb3duKXtmb3IodmFyIG49dGhpcy5fY2xpY2tUcmFtcG9saW5lcz10aGlzLl9jbGlja1RyYW1wb2xpbmVzfHxbXSxvPTA7bzxuLmxlbmd0aDtvKyspaWYobltvXS5uYW1lPT09dCl7bi5zcGxpY2UobywxKTticmVha31uLnB1c2goe25hbWU6dCx0YXJnZXRPYmplY3Q6dGhpcy50YXJnZXRPYmplY3QsY2FsbGJhY2s6ZSxjYWxsYmFja0NvbnRleHQ6aSxjYWxsYmFja0FyZ3M6c30pfX0scHJvY2Vzc0NsaWNrVHJhbXBvbGluZXM6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9jbGlja1RyYW1wb2xpbmVzO2lmKHQpe2Zvcih2YXIgZT0wO2U8dC5sZW5ndGg7ZSsrKXt2YXIgaT10W2VdO2kudGFyZ2V0T2JqZWN0PT09dGhpcy5fdHJhbXBvbGluZVRhcmdldE9iamVjdCYmaS5jYWxsYmFjay5hcHBseShpLmNhbGxiYWNrQ29udGV4dCxpLmNhbGxiYWNrQXJncyl9dGhpcy5fY2xpY2tUcmFtcG9saW5lcz1udWxsLHRoaXMuX3RyYW1wb2xpbmVUYXJnZXRPYmplY3Q9bnVsbH19LHJlc2V0OmZ1bmN0aW9uKCl7ITE9PT10aGlzLmlzTW91c2UmJih0aGlzLmFjdGl2ZT0hMSksdGhpcy5wb2ludGVySWQ9bnVsbCx0aGlzLmlkZW50aWZpZXI9bnVsbCx0aGlzLmRpcnR5PSExLHRoaXMudG90YWxUb3VjaGVzPTAsdGhpcy5faG9sZFNlbnQ9ITEsdGhpcy5faGlzdG9yeS5sZW5ndGg9MCx0aGlzLl9zdGF0ZVJlc2V0PSEwLHRoaXMucmVzZXRCdXR0b25zKCksdGhpcy50YXJnZXRPYmplY3QmJnRoaXMudGFyZ2V0T2JqZWN0Ll9yZWxlYXNlZEhhbmRsZXIodGhpcyksdGhpcy50YXJnZXRPYmplY3Q9bnVsbH0scmVzZXRNb3ZlbWVudDpmdW5jdGlvbigpe3RoaXMubW92ZW1lbnRYPTAsdGhpcy5tb3ZlbWVudFk9MH19LGkuUG9pbnRlci5wcm90b3R5cGUuY29uc3RydWN0b3I9aS5Qb2ludGVyLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLlBvaW50ZXIucHJvdG90eXBlLFwiZHVyYXRpb25cIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXNVcD8tMTp0aGlzLmdhbWUudGltZS50aW1lLXRoaXMudGltZURvd259fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuUG9pbnRlci5wcm90b3R5cGUsXCJ3b3JsZFhcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2FtZS53b3JsZC5jYW1lcmEueCt0aGlzLnh9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuUG9pbnRlci5wcm90b3R5cGUsXCJ3b3JsZFlcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2FtZS53b3JsZC5jYW1lcmEueSt0aGlzLnl9fSksaS5Qb2ludGVyTW9kZT17Q1VSU09SOjEsQ09OVEFDVDoyfSxpLlRvdWNoPWZ1bmN0aW9uKHQpe3RoaXMuZ2FtZT10LHRoaXMuZW5hYmxlZD0hMCx0aGlzLmNhbGxiYWNrQ29udGV4dD10aGlzLmdhbWUsdGhpcy50b3VjaFN0YXJ0Q2FsbGJhY2s9bnVsbCx0aGlzLnRvdWNoTW92ZUNhbGxiYWNrPW51bGwsdGhpcy50b3VjaEVuZENhbGxiYWNrPW51bGwsdGhpcy50b3VjaEVudGVyQ2FsbGJhY2s9bnVsbCx0aGlzLnRvdWNoTGVhdmVDYWxsYmFjaz1udWxsLHRoaXMudG91Y2hDYW5jZWxDYWxsYmFjaz1udWxsLHRoaXMucHJldmVudERlZmF1bHQ9ITAsdGhpcy5ldmVudD1udWxsLHRoaXMuX29uVG91Y2hTdGFydD1udWxsLHRoaXMuX29uVG91Y2hNb3ZlPW51bGwsdGhpcy5fb25Ub3VjaEVuZD1udWxsLHRoaXMuX29uVG91Y2hFbnRlcj1udWxsLHRoaXMuX29uVG91Y2hMZWF2ZT1udWxsLHRoaXMuX29uVG91Y2hDYW5jZWw9bnVsbCx0aGlzLl9vblRvdWNoTW92ZT1udWxsfSxpLlRvdWNoLnByb3RvdHlwZT17c3RhcnQ6ZnVuY3Rpb24oKXtpZihudWxsPT09dGhpcy5fb25Ub3VjaFN0YXJ0KXt2YXIgdD10aGlzO3RoaXMuZ2FtZS5kZXZpY2UudG91Y2gmJih0aGlzLl9vblRvdWNoU3RhcnQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHQub25Ub3VjaFN0YXJ0KGUpfSx0aGlzLl9vblRvdWNoTW92ZT1mdW5jdGlvbihlKXtyZXR1cm4gdC5vblRvdWNoTW92ZShlKX0sdGhpcy5fb25Ub3VjaEVuZD1mdW5jdGlvbihlKXtyZXR1cm4gdC5vblRvdWNoRW5kKGUpfSx0aGlzLl9vblRvdWNoRW50ZXI9ZnVuY3Rpb24oZSl7cmV0dXJuIHQub25Ub3VjaEVudGVyKGUpfSx0aGlzLl9vblRvdWNoTGVhdmU9ZnVuY3Rpb24oZSl7cmV0dXJuIHQub25Ub3VjaExlYXZlKGUpfSx0aGlzLl9vblRvdWNoQ2FuY2VsPWZ1bmN0aW9uKGUpe3JldHVybiB0Lm9uVG91Y2hDYW5jZWwoZSl9LHRoaXMuZ2FtZS5jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoc3RhcnRcIix0aGlzLl9vblRvdWNoU3RhcnQsITEpLHRoaXMuZ2FtZS5jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNobW92ZVwiLHRoaXMuX29uVG91Y2hNb3ZlLCExKSx0aGlzLmdhbWUuY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaGVuZFwiLHRoaXMuX29uVG91Y2hFbmQsITEpLHRoaXMuZ2FtZS5jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoY2FuY2VsXCIsdGhpcy5fb25Ub3VjaENhbmNlbCwhMSksdGhpcy5nYW1lLmRldmljZS5jb2Nvb25KU3x8KHRoaXMuZ2FtZS5jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoZW50ZXJcIix0aGlzLl9vblRvdWNoRW50ZXIsITEpLHRoaXMuZ2FtZS5jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNobGVhdmVcIix0aGlzLl9vblRvdWNoTGVhdmUsITEpKSksdGhpcy5hZGRUb3VjaExvY2tDYWxsYmFjaz10aGlzLmdhbWUuaW5wdXQuYWRkVG91Y2hMb2NrQ2FsbGJhY2suYmluZCh0aGlzLmdhbWUuaW5wdXQpLHRoaXMucmVtb3ZlVG91Y2hMb2NrQ2FsbGJhY2s9dGhpcy5nYW1lLmlucHV0LnJlbW92ZVRvdWNoTG9ja0NhbGxiYWNrLmJpbmQodGhpcy5nYW1lLmlucHV0KX19LGNvbnN1bWVEb2N1bWVudFRvdWNoZXM6ZnVuY3Rpb24oKXt0aGlzLl9kb2N1bWVudFRvdWNoTW92ZT1mdW5jdGlvbih0KXt0LnByZXZlbnREZWZhdWx0KCl9LGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaG1vdmVcIix0aGlzLl9kb2N1bWVudFRvdWNoTW92ZSwhMSl9LG9uVG91Y2hTdGFydDpmdW5jdGlvbih0KXtpZih0aGlzLmdhbWUuaW5wdXQuZXhlY3V0ZVRvdWNoTG9ja0NhbGxiYWNrcyghMSx0KSx0aGlzLmV2ZW50PXQsdGhpcy5nYW1lLmlucHV0LmVuYWJsZWQmJnRoaXMuZW5hYmxlZCl7dGhpcy50b3VjaFN0YXJ0Q2FsbGJhY2smJnRoaXMudG91Y2hTdGFydENhbGxiYWNrLmNhbGwodGhpcy5jYWxsYmFja0NvbnRleHQsdCksdGhpcy5wcmV2ZW50RGVmYXVsdCYmdC5wcmV2ZW50RGVmYXVsdCgpO2Zvcih2YXIgZT0wO2U8dC5jaGFuZ2VkVG91Y2hlcy5sZW5ndGg7ZSsrKXRoaXMuZ2FtZS5pbnB1dC5zdGFydFBvaW50ZXIodC5jaGFuZ2VkVG91Y2hlc1tlXSl9fSxvblRvdWNoQ2FuY2VsOmZ1bmN0aW9uKHQpe2lmKHRoaXMuZXZlbnQ9dCx0aGlzLnRvdWNoQ2FuY2VsQ2FsbGJhY2smJnRoaXMudG91Y2hDYW5jZWxDYWxsYmFjay5jYWxsKHRoaXMuY2FsbGJhY2tDb250ZXh0LHQpLHRoaXMuZ2FtZS5pbnB1dC5lbmFibGVkJiZ0aGlzLmVuYWJsZWQpe3RoaXMucHJldmVudERlZmF1bHQmJnQucHJldmVudERlZmF1bHQoKTtmb3IodmFyIGU9MDtlPHQuY2hhbmdlZFRvdWNoZXMubGVuZ3RoO2UrKyl0aGlzLmdhbWUuaW5wdXQuc3RvcFBvaW50ZXIodC5jaGFuZ2VkVG91Y2hlc1tlXSl9fSxvblRvdWNoRW50ZXI6ZnVuY3Rpb24odCl7dGhpcy5ldmVudD10LHRoaXMudG91Y2hFbnRlckNhbGxiYWNrJiZ0aGlzLnRvdWNoRW50ZXJDYWxsYmFjay5jYWxsKHRoaXMuY2FsbGJhY2tDb250ZXh0LHQpLHRoaXMuZ2FtZS5pbnB1dC5lbmFibGVkJiZ0aGlzLmVuYWJsZWQmJnRoaXMucHJldmVudERlZmF1bHQmJnQucHJldmVudERlZmF1bHQoKX0sb25Ub3VjaExlYXZlOmZ1bmN0aW9uKHQpe3RoaXMuZXZlbnQ9dCx0aGlzLnRvdWNoTGVhdmVDYWxsYmFjayYmdGhpcy50b3VjaExlYXZlQ2FsbGJhY2suY2FsbCh0aGlzLmNhbGxiYWNrQ29udGV4dCx0KSx0aGlzLnByZXZlbnREZWZhdWx0JiZ0LnByZXZlbnREZWZhdWx0KCl9LG9uVG91Y2hNb3ZlOmZ1bmN0aW9uKHQpe3RoaXMuZXZlbnQ9dCx0aGlzLnRvdWNoTW92ZUNhbGxiYWNrJiZ0aGlzLnRvdWNoTW92ZUNhbGxiYWNrLmNhbGwodGhpcy5jYWxsYmFja0NvbnRleHQsdCksdGhpcy5wcmV2ZW50RGVmYXVsdCYmdC5wcmV2ZW50RGVmYXVsdCgpO2Zvcih2YXIgZT0wO2U8dC5jaGFuZ2VkVG91Y2hlcy5sZW5ndGg7ZSsrKXRoaXMuZ2FtZS5pbnB1dC51cGRhdGVQb2ludGVyKHQuY2hhbmdlZFRvdWNoZXNbZV0pfSxvblRvdWNoRW5kOmZ1bmN0aW9uKHQpe3RoaXMuZ2FtZS5pbnB1dC5leGVjdXRlVG91Y2hMb2NrQ2FsbGJhY2tzKCEwLHQpLHRoaXMuZXZlbnQ9dCx0aGlzLnRvdWNoRW5kQ2FsbGJhY2smJnRoaXMudG91Y2hFbmRDYWxsYmFjay5jYWxsKHRoaXMuY2FsbGJhY2tDb250ZXh0LHQpLHRoaXMucHJldmVudERlZmF1bHQmJnQucHJldmVudERlZmF1bHQoKTtmb3IodmFyIGU9MDtlPHQuY2hhbmdlZFRvdWNoZXMubGVuZ3RoO2UrKyl0aGlzLmdhbWUuaW5wdXQuc3RvcFBvaW50ZXIodC5jaGFuZ2VkVG91Y2hlc1tlXSl9LHN0b3A6ZnVuY3Rpb24oKXt0aGlzLmdhbWUuZGV2aWNlLnRvdWNoJiYodGhpcy5nYW1lLmNhbnZhcy5yZW1vdmVFdmVudExpc3RlbmVyKFwidG91Y2hzdGFydFwiLHRoaXMuX29uVG91Y2hTdGFydCksdGhpcy5nYW1lLmNhbnZhcy5yZW1vdmVFdmVudExpc3RlbmVyKFwidG91Y2htb3ZlXCIsdGhpcy5fb25Ub3VjaE1vdmUpLHRoaXMuZ2FtZS5jYW52YXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRvdWNoZW5kXCIsdGhpcy5fb25Ub3VjaEVuZCksdGhpcy5nYW1lLmNhbnZhcy5yZW1vdmVFdmVudExpc3RlbmVyKFwidG91Y2hlbnRlclwiLHRoaXMuX29uVG91Y2hFbnRlciksdGhpcy5nYW1lLmNhbnZhcy5yZW1vdmVFdmVudExpc3RlbmVyKFwidG91Y2hsZWF2ZVwiLHRoaXMuX29uVG91Y2hMZWF2ZSksdGhpcy5nYW1lLmNhbnZhcy5yZW1vdmVFdmVudExpc3RlbmVyKFwidG91Y2hjYW5jZWxcIix0aGlzLl9vblRvdWNoQ2FuY2VsKSl9fSxpLlRvdWNoLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1pLlRvdWNoLGkuSW5wdXRIYW5kbGVyPWZ1bmN0aW9uKHQpe3RoaXMuc3ByaXRlPXQsdGhpcy5nYW1lPXQuZ2FtZSx0aGlzLmVuYWJsZWQ9ITEsdGhpcy5jaGVja2VkPSExLHRoaXMucHJpb3JpdHlJRD0wLHRoaXMudXNlSGFuZEN1cnNvcj0hMSx0aGlzLl9zZXRIYW5kQ3Vyc29yPSExLHRoaXMuaXNEcmFnZ2VkPSExLHRoaXMuYWxsb3dIb3Jpem9udGFsRHJhZz0hMCx0aGlzLmFsbG93VmVydGljYWxEcmFnPSEwLHRoaXMuYnJpbmdUb1RvcD0hMSx0aGlzLnNuYXBPZmZzZXQ9bnVsbCx0aGlzLnNuYXBPbkRyYWc9ITEsdGhpcy5zbmFwT25SZWxlYXNlPSExLHRoaXMuc25hcFg9MCx0aGlzLnNuYXBZPTAsdGhpcy5zbmFwT2Zmc2V0WD0wLHRoaXMuc25hcE9mZnNldFk9MCx0aGlzLnBpeGVsUGVyZmVjdE92ZXI9ITEsdGhpcy5waXhlbFBlcmZlY3RDbGljaz0hMSx0aGlzLnBpeGVsUGVyZmVjdEFscGhhPTI1NSx0aGlzLmRyYWdnYWJsZT0hMSx0aGlzLmJvdW5kc1JlY3Q9bnVsbCx0aGlzLmJvdW5kc1Nwcml0ZT1udWxsLHRoaXMuc2NhbGVMYXllcj0hMSx0aGlzLmRyYWdPZmZzZXQ9bmV3IGkuUG9pbnQsdGhpcy5kcmFnRnJvbUNlbnRlcj0hMSx0aGlzLmRyYWdTdG9wQmxvY2tzSW5wdXRVcD0hMSx0aGlzLmRyYWdTdGFydFBvaW50PW5ldyBpLlBvaW50LHRoaXMuZHJhZ0Rpc3RhbmNlVGhyZXNob2xkPTAsdGhpcy5kcmFnVGltZVRocmVzaG9sZD0wLHRoaXMuZG93blBvaW50PW5ldyBpLlBvaW50LHRoaXMuc25hcFBvaW50PW5ldyBpLlBvaW50LHRoaXMuX2RyYWdQb2ludD1uZXcgaS5Qb2ludCx0aGlzLl9kcmFnUGhhc2U9ITEsdGhpcy5fcGVuZGluZ0RyYWc9ITEsdGhpcy5fZHJhZ1RpbWVQYXNzPSExLHRoaXMuX2RyYWdEaXN0YW5jZVBhc3M9ITEsdGhpcy5fd2FzRW5hYmxlZD0hMSx0aGlzLl90ZW1wUG9pbnQ9bmV3IGkuUG9pbnQsdGhpcy5fcG9pbnRlckRhdGE9W10sdGhpcy5fcG9pbnRlckRhdGEucHVzaCh7aWQ6MCx4OjAseTowLGNhbVg6MCxjYW1ZOjAsaXNEb3duOiExLGlzVXA6ITEsaXNPdmVyOiExLGlzT3V0OiExLHRpbWVPdmVyOjAsdGltZU91dDowLHRpbWVEb3duOjAsdGltZVVwOjAsZG93bkR1cmF0aW9uOjAsaXNEcmFnZ2VkOiExfSl9LGkuSW5wdXRIYW5kbGVyLnByb3RvdHlwZT17c3RhcnQ6ZnVuY3Rpb24odCxlKXtpZih0PXR8fDAsdm9pZCAwPT09ZSYmKGU9ITEpLCExPT09dGhpcy5lbmFibGVkKXt0aGlzLmdhbWUuaW5wdXQuaW50ZXJhY3RpdmVJdGVtcy5hZGQodGhpcyksdGhpcy51c2VIYW5kQ3Vyc29yPWUsdGhpcy5wcmlvcml0eUlEPXQ7Zm9yKHZhciBzPTA7czwxMDtzKyspdGhpcy5fcG9pbnRlckRhdGFbc109e2lkOnMseDowLHk6MCxpc0Rvd246ITEsaXNVcDohMSxpc092ZXI6ITEsaXNPdXQ6ITEsdGltZU92ZXI6MCx0aW1lT3V0OjAsdGltZURvd246MCx0aW1lVXA6MCxkb3duRHVyYXRpb246MCxpc0RyYWdnZWQ6ITF9O3RoaXMuc25hcE9mZnNldD1uZXcgaS5Qb2ludCx0aGlzLmVuYWJsZWQ9ITAsdGhpcy5fd2FzRW5hYmxlZD0hMH1yZXR1cm4gdGhpcy5zcHJpdGUuZXZlbnRzLm9uQWRkZWRUb0dyb3VwLmFkZCh0aGlzLmFkZGVkVG9Hcm91cCx0aGlzKSx0aGlzLnNwcml0ZS5ldmVudHMub25SZW1vdmVkRnJvbUdyb3VwLmFkZCh0aGlzLnJlbW92ZWRGcm9tR3JvdXAsdGhpcyksdGhpcy5zcHJpdGV9LGFkZGVkVG9Hcm91cDpmdW5jdGlvbigpe3RoaXMuX2RyYWdQaGFzZXx8dGhpcy5fd2FzRW5hYmxlZCYmIXRoaXMuZW5hYmxlZCYmdGhpcy5zdGFydCgpfSxyZW1vdmVkRnJvbUdyb3VwOmZ1bmN0aW9uKCl7dGhpcy5fZHJhZ1BoYXNlfHwodGhpcy5lbmFibGVkPyh0aGlzLl93YXNFbmFibGVkPSEwLHRoaXMuc3RvcCgpKTp0aGlzLl93YXNFbmFibGVkPSExKX0scmVzZXQ6ZnVuY3Rpb24oKXt0aGlzLmVuYWJsZWQ9ITE7Zm9yKHZhciB0PTA7dDwxMDt0KyspdGhpcy5fcG9pbnRlckRhdGFbdF09e2lkOnQseDowLHk6MCxpc0Rvd246ITEsaXNVcDohMSxpc092ZXI6ITEsaXNPdXQ6ITEsdGltZU92ZXI6MCx0aW1lT3V0OjAsdGltZURvd246MCx0aW1lVXA6MCxkb3duRHVyYXRpb246MCxpc0RyYWdnZWQ6ITF9fSxzdG9wOmZ1bmN0aW9uKCl7ITEhPT10aGlzLmVuYWJsZWQmJih0aGlzLmVuYWJsZWQ9ITEsdGhpcy5nYW1lLmlucHV0LmludGVyYWN0aXZlSXRlbXMucmVtb3ZlKHRoaXMpKX0sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuc3ByaXRlJiYodGhpcy5fc2V0SGFuZEN1cnNvciYmKHRoaXMuZ2FtZS5jYW52YXMuc3R5bGUuY3Vyc29yPVwiXCIsdGhpcy5fc2V0SGFuZEN1cnNvcj0hMSksdGhpcy5lbmFibGVkPSExLHRoaXMuZ2FtZS5pbnB1dC5pbnRlcmFjdGl2ZUl0ZW1zLnJlbW92ZSh0aGlzKSx0aGlzLl9wb2ludGVyRGF0YS5sZW5ndGg9MCx0aGlzLmJvdW5kc1JlY3Q9bnVsbCx0aGlzLmJvdW5kc1Nwcml0ZT1udWxsLHRoaXMuc3ByaXRlPW51bGwpfSx2YWxpZEZvcklucHV0OmZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gdm9pZCAwPT09aSYmKGk9ITApLCEoIXRoaXMuZW5hYmxlZHx8MD09PXRoaXMuc3ByaXRlLnNjYWxlLnh8fDA9PT10aGlzLnNwcml0ZS5zY2FsZS55fHx0aGlzLnByaW9yaXR5SUQ8dGhpcy5nYW1lLmlucHV0Lm1pblByaW9yaXR5SUR8fHRoaXMuc3ByaXRlLnBhcmVudCYmdGhpcy5zcHJpdGUucGFyZW50Lmlnbm9yZUNoaWxkSW5wdXQpJiYoISghaSYmKHRoaXMucGl4ZWxQZXJmZWN0Q2xpY2t8fHRoaXMucGl4ZWxQZXJmZWN0T3ZlcikpJiYodGhpcy5wcmlvcml0eUlEPnR8fHRoaXMucHJpb3JpdHlJRD09PXQmJnRoaXMuc3ByaXRlLnJlbmRlck9yZGVySUQ+ZSkpfSxpc1BpeGVsUGVyZmVjdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnBpeGVsUGVyZmVjdENsaWNrfHx0aGlzLnBpeGVsUGVyZmVjdE92ZXJ9LHBvaW50ZXJYOmZ1bmN0aW9uKHQpe3JldHVybiB0PXR8fDAsdGhpcy5fcG9pbnRlckRhdGFbdF0ueH0scG9pbnRlclk6ZnVuY3Rpb24odCl7cmV0dXJuIHQ9dHx8MCx0aGlzLl9wb2ludGVyRGF0YVt0XS55fSxwb2ludGVyRG93bjpmdW5jdGlvbih0KXtyZXR1cm4gdD10fHwwLHRoaXMuX3BvaW50ZXJEYXRhW3RdLmlzRG93bn0scG9pbnRlclVwOmZ1bmN0aW9uKHQpe3JldHVybiB0PXR8fDAsdGhpcy5fcG9pbnRlckRhdGFbdF0uaXNVcH0scG9pbnRlclRpbWVEb3duOmZ1bmN0aW9uKHQpe3JldHVybiB0PXR8fDAsdGhpcy5fcG9pbnRlckRhdGFbdF0udGltZURvd259LHBvaW50ZXJUaW1lVXA6ZnVuY3Rpb24odCl7cmV0dXJuIHQ9dHx8MCx0aGlzLl9wb2ludGVyRGF0YVt0XS50aW1lVXB9LHBvaW50ZXJPdmVyOmZ1bmN0aW9uKHQpe2lmKCF0aGlzLmVuYWJsZWQpcmV0dXJuITE7aWYodm9pZCAwPT09dCl7Zm9yKHZhciBlPTA7ZTwxMDtlKyspaWYodGhpcy5fcG9pbnRlckRhdGFbZV0uaXNPdmVyKXJldHVybiEwO3JldHVybiExfXJldHVybiB0aGlzLl9wb2ludGVyRGF0YVt0XS5pc092ZXJ9LHBvaW50ZXJPdXQ6ZnVuY3Rpb24odCl7aWYoIXRoaXMuZW5hYmxlZClyZXR1cm4hMTtpZih2b2lkIDAhPT10KXJldHVybiB0aGlzLl9wb2ludGVyRGF0YVt0XS5pc091dDtmb3IodmFyIGU9MDtlPDEwO2UrKylpZih0aGlzLl9wb2ludGVyRGF0YVtlXS5pc091dClyZXR1cm4hMH0scG9pbnRlclRpbWVPdmVyOmZ1bmN0aW9uKHQpe3JldHVybiB0PXR8fDAsdGhpcy5fcG9pbnRlckRhdGFbdF0udGltZU92ZXJ9LHBvaW50ZXJUaW1lT3V0OmZ1bmN0aW9uKHQpe3JldHVybiB0PXR8fDAsdGhpcy5fcG9pbnRlckRhdGFbdF0udGltZU91dH0scG9pbnRlckRyYWdnZWQ6ZnVuY3Rpb24odCl7cmV0dXJuIHQ9dHx8MCx0aGlzLl9wb2ludGVyRGF0YVt0XS5pc0RyYWdnZWR9LGNoZWNrUG9pbnRlckRvd246ZnVuY3Rpb24odCxlKXtyZXR1cm4hISh0LmlzRG93biYmdGhpcy5lbmFibGVkJiZ0aGlzLnNwcml0ZSYmdGhpcy5zcHJpdGUucGFyZW50JiZ0aGlzLnNwcml0ZS52aXNpYmxlJiZ0aGlzLnNwcml0ZS5wYXJlbnQudmlzaWJsZSYmMCE9PXRoaXMuc3ByaXRlLndvcmxkU2NhbGUueCYmMCE9PXRoaXMuc3ByaXRlLndvcmxkU2NhbGUueSkmJighIXRoaXMuZ2FtZS5pbnB1dC5oaXRUZXN0KHRoaXMuc3ByaXRlLHQsdGhpcy5fdGVtcFBvaW50KSYmKHZvaWQgMD09PWUmJihlPSExKSwhKCFlJiZ0aGlzLnBpeGVsUGVyZmVjdENsaWNrKXx8dGhpcy5jaGVja1BpeGVsKHRoaXMuX3RlbXBQb2ludC54LHRoaXMuX3RlbXBQb2ludC55KSkpfSxjaGVja1BvaW50ZXJPdmVyOmZ1bmN0aW9uKHQsZSl7cmV0dXJuISEodGhpcy5lbmFibGVkJiZ0aGlzLnNwcml0ZSYmdGhpcy5zcHJpdGUucGFyZW50JiZ0aGlzLnNwcml0ZS52aXNpYmxlJiZ0aGlzLnNwcml0ZS5wYXJlbnQudmlzaWJsZSYmMCE9PXRoaXMuc3ByaXRlLndvcmxkU2NhbGUueCYmMCE9PXRoaXMuc3ByaXRlLndvcmxkU2NhbGUueSkmJighIXRoaXMuZ2FtZS5pbnB1dC5oaXRUZXN0KHRoaXMuc3ByaXRlLHQsdGhpcy5fdGVtcFBvaW50KSYmKHZvaWQgMD09PWUmJihlPSExKSwhKCFlJiZ0aGlzLnBpeGVsUGVyZmVjdE92ZXIpfHx0aGlzLmNoZWNrUGl4ZWwodGhpcy5fdGVtcFBvaW50LngsdGhpcy5fdGVtcFBvaW50LnkpKSl9LGNoZWNrUGl4ZWw6ZnVuY3Rpb24odCxlLGkpe2lmKHRoaXMuc3ByaXRlLnRleHR1cmUuYmFzZVRleHR1cmUuc291cmNlKXtpZihudWxsPT09dCYmbnVsbD09PWUpe3RoaXMuZ2FtZS5pbnB1dC5nZXRMb2NhbFBvc2l0aW9uKHRoaXMuc3ByaXRlLGksdGhpcy5fdGVtcFBvaW50KTt2YXIgdD10aGlzLl90ZW1wUG9pbnQueCxlPXRoaXMuX3RlbXBQb2ludC55fWlmKDAhPT10aGlzLnNwcml0ZS5hbmNob3IueCYmKHQtPS10aGlzLnNwcml0ZS50ZXh0dXJlLmZyYW1lLndpZHRoKnRoaXMuc3ByaXRlLmFuY2hvci54KSwwIT09dGhpcy5zcHJpdGUuYW5jaG9yLnkmJihlLT0tdGhpcy5zcHJpdGUudGV4dHVyZS5mcmFtZS5oZWlnaHQqdGhpcy5zcHJpdGUuYW5jaG9yLnkpLHQrPXRoaXMuc3ByaXRlLnRleHR1cmUuZnJhbWUueCxlKz10aGlzLnNwcml0ZS50ZXh0dXJlLmZyYW1lLnksdGhpcy5zcHJpdGUudGV4dHVyZS50cmltJiYodC09dGhpcy5zcHJpdGUudGV4dHVyZS50cmltLngsZS09dGhpcy5zcHJpdGUudGV4dHVyZS50cmltLnksdDx0aGlzLnNwcml0ZS50ZXh0dXJlLmNyb3AueHx8dD50aGlzLnNwcml0ZS50ZXh0dXJlLmNyb3AucmlnaHR8fGU8dGhpcy5zcHJpdGUudGV4dHVyZS5jcm9wLnl8fGU+dGhpcy5zcHJpdGUudGV4dHVyZS5jcm9wLmJvdHRvbSkpcmV0dXJuIHRoaXMuX2R4PXQsdGhpcy5fZHk9ZSwhMTtpZih0aGlzLl9keD10LHRoaXMuX2R5PWUsdGhpcy5nYW1lLmlucHV0LmhpdENvbnRleHQuY2xlYXJSZWN0KDAsMCwxLDEpLHRoaXMuZ2FtZS5pbnB1dC5oaXRDb250ZXh0LmRyYXdJbWFnZSh0aGlzLnNwcml0ZS50ZXh0dXJlLmJhc2VUZXh0dXJlLnNvdXJjZSx0LGUsMSwxLDAsMCwxLDEpLHRoaXMuZ2FtZS5pbnB1dC5oaXRDb250ZXh0LmdldEltYWdlRGF0YSgwLDAsMSwxKS5kYXRhWzNdPj10aGlzLnBpeGVsUGVyZmVjdEFscGhhKXJldHVybiEwfXJldHVybiExfSx1cGRhdGU6ZnVuY3Rpb24odCl7aWYobnVsbCE9PXRoaXMuc3ByaXRlJiZ2b2lkIDAhPT10aGlzLnNwcml0ZS5wYXJlbnQpcmV0dXJuIHRoaXMuZW5hYmxlZCYmdGhpcy5zcHJpdGUudmlzaWJsZSYmdGhpcy5zcHJpdGUucGFyZW50LnZpc2libGU/dGhpcy5fcGVuZGluZ0RyYWc/KHRoaXMuX2RyYWdEaXN0YW5jZVBhc3N8fCh0aGlzLl9kcmFnRGlzdGFuY2VQYXNzPWkuTWF0aC5kaXN0YW5jZSh0LngsdC55LHRoaXMuZG93blBvaW50LngsdGhpcy5kb3duUG9pbnQueSk+PXRoaXMuZHJhZ0Rpc3RhbmNlVGhyZXNob2xkKSx0aGlzLl9kcmFnRGlzdGFuY2VQYXNzJiZ0aGlzLl9kcmFnVGltZVBhc3MmJnRoaXMuc3RhcnREcmFnKHQpLCEwKTp0aGlzLmRyYWdnYWJsZSYmdGhpcy5fZHJhZ2dlZFBvaW50ZXJJRD09PXQuaWQ/dGhpcy51cGRhdGVEcmFnKHQsITEpOnRoaXMuX3BvaW50ZXJEYXRhW3QuaWRdLmlzT3Zlcj90aGlzLmNoZWNrUG9pbnRlck92ZXIodCk/KHRoaXMuX3BvaW50ZXJEYXRhW3QuaWRdLng9dC54LXRoaXMuc3ByaXRlLngsdGhpcy5fcG9pbnRlckRhdGFbdC5pZF0ueT10LnktdGhpcy5zcHJpdGUueSwhMCk6KHRoaXMuX3BvaW50ZXJPdXRIYW5kbGVyKHQpLCExKTp2b2lkIDA6KHRoaXMuX3BvaW50ZXJPdXRIYW5kbGVyKHQpLCExKX0sX3BvaW50ZXJPdmVySGFuZGxlcjpmdW5jdGlvbih0LGUpe2lmKG51bGwhPT10aGlzLnNwcml0ZSl7dmFyIGk9dGhpcy5fcG9pbnRlckRhdGFbdC5pZF07aWYoITE9PT1pLmlzT3Zlcnx8dC5kaXJ0eSl7dmFyIHM9ITE9PT1pLmlzT3ZlcjtpLmlzT3Zlcj0hMCxpLmlzT3V0PSExLGkudGltZU92ZXI9dGhpcy5nYW1lLnRpbWUudGltZSxpLng9dC54LXRoaXMuc3ByaXRlLngsaS55PXQueS10aGlzLnNwcml0ZS55LHRoaXMudXNlSGFuZEN1cnNvciYmITE9PT1pLmlzRHJhZ2dlZCYmKHRoaXMuZ2FtZS5jYW52YXMuc3R5bGUuY3Vyc29yPVwicG9pbnRlclwiLHRoaXMuX3NldEhhbmRDdXJzb3I9ITApLCFlJiZzJiZ0aGlzLnNwcml0ZSYmdGhpcy5zcHJpdGUuZXZlbnRzJiZ0aGlzLnNwcml0ZS5ldmVudHMub25JbnB1dE92ZXIkZGlzcGF0Y2godGhpcy5zcHJpdGUsdCksdGhpcy5zcHJpdGUucGFyZW50JiZ0aGlzLnNwcml0ZS5wYXJlbnQub25DaGlsZElucHV0T3ZlciYmdGhpcy5zcHJpdGUucGFyZW50Lm9uQ2hpbGRJbnB1dE92ZXIuZGlzcGF0Y2godGhpcy5zcHJpdGUsdCl9fX0sX3BvaW50ZXJPdXRIYW5kbGVyOmZ1bmN0aW9uKHQsZSl7aWYobnVsbCE9PXRoaXMuc3ByaXRlKXt2YXIgaT10aGlzLl9wb2ludGVyRGF0YVt0LmlkXTtpLmlzT3Zlcj0hMSxpLmlzT3V0PSEwLGkudGltZU91dD10aGlzLmdhbWUudGltZS50aW1lLHRoaXMudXNlSGFuZEN1cnNvciYmITE9PT1pLmlzRHJhZ2dlZCYmKHRoaXMuZ2FtZS5jYW52YXMuc3R5bGUuY3Vyc29yPVwiXCIsdGhpcy5fc2V0SGFuZEN1cnNvcj0hMSksIWUmJnRoaXMuc3ByaXRlJiZ0aGlzLnNwcml0ZS5ldmVudHMmJih0aGlzLnNwcml0ZS5ldmVudHMub25JbnB1dE91dCRkaXNwYXRjaCh0aGlzLnNwcml0ZSx0KSx0aGlzLnNwcml0ZSYmdGhpcy5zcHJpdGUucGFyZW50JiZ0aGlzLnNwcml0ZS5wYXJlbnQub25DaGlsZElucHV0T3V0JiZ0aGlzLnNwcml0ZS5wYXJlbnQub25DaGlsZElucHV0T3V0LmRpc3BhdGNoKHRoaXMuc3ByaXRlLHQpKX19LF90b3VjaGVkSGFuZGxlcjpmdW5jdGlvbih0KXtpZihudWxsIT09dGhpcy5zcHJpdGUpe3ZhciBlPXRoaXMuX3BvaW50ZXJEYXRhW3QuaWRdO2lmKCFlLmlzRG93biYmZS5pc092ZXIpe2lmKHRoaXMucGl4ZWxQZXJmZWN0Q2xpY2smJiF0aGlzLmNoZWNrUGl4ZWwobnVsbCxudWxsLHQpKXJldHVybjtpZihlLmlzRG93bj0hMCxlLmlzVXA9ITEsZS50aW1lRG93bj10aGlzLmdhbWUudGltZS50aW1lLHRoaXMuZG93blBvaW50LnNldCh0LngsdC55KSx0LmRpcnR5PSEwLHRoaXMuc3ByaXRlJiZ0aGlzLnNwcml0ZS5ldmVudHMmJih0aGlzLnNwcml0ZS5ldmVudHMub25JbnB1dERvd24kZGlzcGF0Y2godGhpcy5zcHJpdGUsdCksdGhpcy5zcHJpdGUmJnRoaXMuc3ByaXRlLnBhcmVudCYmdGhpcy5zcHJpdGUucGFyZW50Lm9uQ2hpbGRJbnB1dERvd24mJnRoaXMuc3ByaXRlLnBhcmVudC5vbkNoaWxkSW5wdXREb3duLmRpc3BhdGNoKHRoaXMuc3ByaXRlLHQpLG51bGw9PT10aGlzLnNwcml0ZSkpcmV0dXJuO3RoaXMuZHJhZ2dhYmxlJiYhMT09PXRoaXMuaXNEcmFnZ2VkJiYoMD09PXRoaXMuZHJhZ1RpbWVUaHJlc2hvbGQmJjA9PT10aGlzLmRyYWdEaXN0YW5jZVRocmVzaG9sZD90aGlzLnN0YXJ0RHJhZyh0KToodGhpcy5fcGVuZGluZ0RyYWc9ITAsdGhpcy5fZHJhZ0Rpc3RhbmNlUGFzcz0wPT09dGhpcy5kcmFnRGlzdGFuY2VUaHJlc2hvbGQsdGhpcy5kcmFnVGltZVRocmVzaG9sZD4wPyh0aGlzLl9kcmFnVGltZVBhc3M9ITEsdGhpcy5nYW1lLnRpbWUuZXZlbnRzLmFkZCh0aGlzLmRyYWdUaW1lVGhyZXNob2xkLHRoaXMuZHJhZ1RpbWVFbGFwc2VkLHRoaXMsdCkpOnRoaXMuX2RyYWdUaW1lUGFzcz0hMCkpLHRoaXMuYnJpbmdUb1RvcCYmdGhpcy5zcHJpdGUuYnJpbmdUb1RvcCgpfX19LGRyYWdUaW1lRWxhcHNlZDpmdW5jdGlvbih0KXt0aGlzLl9kcmFnVGltZVBhc3M9ITAsdGhpcy5fcGVuZGluZ0RyYWcmJnRoaXMuc3ByaXRlJiZ0aGlzLl9kcmFnRGlzdGFuY2VQYXNzJiZ0aGlzLnN0YXJ0RHJhZyh0KX0sX3JlbGVhc2VkSGFuZGxlcjpmdW5jdGlvbih0KXtpZihudWxsIT09dGhpcy5zcHJpdGUpe3ZhciBlPXRoaXMuX3BvaW50ZXJEYXRhW3QuaWRdO2lmKGUuaXNEb3duJiZ0LmlzVXApe2UuaXNEb3duPSExLGUuaXNVcD0hMCxlLnRpbWVVcD10aGlzLmdhbWUudGltZS50aW1lLGUuZG93bkR1cmF0aW9uPWUudGltZVVwLWUudGltZURvd247dmFyIGk9dGhpcy5jaGVja1BvaW50ZXJPdmVyKHQpO3RoaXMuc3ByaXRlJiZ0aGlzLnNwcml0ZS5ldmVudHMmJih0aGlzLmRyYWdTdG9wQmxvY2tzSW5wdXRVcCYmKCF0aGlzLmRyYWdTdG9wQmxvY2tzSW5wdXRVcHx8dGhpcy5kcmFnZ2FibGUmJnRoaXMuaXNEcmFnZ2VkJiZ0aGlzLl9kcmFnZ2VkUG9pbnRlcklEPT09dC5pZCl8fHRoaXMuc3ByaXRlLmV2ZW50cy5vbklucHV0VXAkZGlzcGF0Y2godGhpcy5zcHJpdGUsdCxpKSx0aGlzLnNwcml0ZSYmdGhpcy5zcHJpdGUucGFyZW50JiZ0aGlzLnNwcml0ZS5wYXJlbnQub25DaGlsZElucHV0VXAmJnRoaXMuc3ByaXRlLnBhcmVudC5vbkNoaWxkSW5wdXRVcC5kaXNwYXRjaCh0aGlzLnNwcml0ZSx0LGkpLGkmJihpPXRoaXMuY2hlY2tQb2ludGVyT3Zlcih0KSkpLGUuaXNPdmVyPWksIWkmJnRoaXMudXNlSGFuZEN1cnNvciYmKHRoaXMuZ2FtZS5jYW52YXMuc3R5bGUuY3Vyc29yPVwiZGVmYXVsdFwiLHRoaXMuX3NldEhhbmRDdXJzb3I9ITEpLHQuZGlydHk9ITAsdGhpcy5fcGVuZGluZ0RyYWc9ITEsdGhpcy5kcmFnZ2FibGUmJnRoaXMuaXNEcmFnZ2VkJiZ0aGlzLl9kcmFnZ2VkUG9pbnRlcklEPT09dC5pZCYmdGhpcy5zdG9wRHJhZyh0KX19fSx1cGRhdGVEcmFnOmZ1bmN0aW9uKHQsZSl7aWYodm9pZCAwPT09ZSYmKGU9ITEpLHQuaXNVcClyZXR1cm4gdGhpcy5zdG9wRHJhZyh0KSwhMTt2YXIgaT10aGlzLmdsb2JhbFRvTG9jYWwodCkscz1pLngrdGhpcy5fZHJhZ1BvaW50LngrdGhpcy5kcmFnT2Zmc2V0Lngsbj1pLnkrdGhpcy5fZHJhZ1BvaW50LnkrdGhpcy5kcmFnT2Zmc2V0Lnk7aWYodGhpcy5zcHJpdGUuZml4ZWRUb0NhbWVyYSl0aGlzLmFsbG93SG9yaXpvbnRhbERyYWcmJih0aGlzLnNwcml0ZS5jYW1lcmFPZmZzZXQueD1zLXRoaXMuZ2FtZS5jYW1lcmEueCksdGhpcy5hbGxvd1ZlcnRpY2FsRHJhZyYmKHRoaXMuc3ByaXRlLmNhbWVyYU9mZnNldC55PW4tdGhpcy5nYW1lLmNhbWVyYS55KSx0aGlzLmJvdW5kc1JlY3QmJnRoaXMuY2hlY2tCb3VuZHNSZWN0KCksdGhpcy5ib3VuZHNTcHJpdGUmJnRoaXMuY2hlY2tCb3VuZHNTcHJpdGUoKSx0aGlzLnNuYXBPbkRyYWcmJih0aGlzLnNwcml0ZS5jYW1lcmFPZmZzZXQueD1NYXRoLnJvdW5kKCh0aGlzLnNwcml0ZS5jYW1lcmFPZmZzZXQueC10aGlzLnNuYXBPZmZzZXRYJXRoaXMuc25hcFgpL3RoaXMuc25hcFgpKnRoaXMuc25hcFgrdGhpcy5zbmFwT2Zmc2V0WCV0aGlzLnNuYXBYLHRoaXMuc3ByaXRlLmNhbWVyYU9mZnNldC55PU1hdGgucm91bmQoKHRoaXMuc3ByaXRlLmNhbWVyYU9mZnNldC55LXRoaXMuc25hcE9mZnNldFkldGhpcy5zbmFwWSkvdGhpcy5zbmFwWSkqdGhpcy5zbmFwWSt0aGlzLnNuYXBPZmZzZXRZJXRoaXMuc25hcFksdGhpcy5zbmFwUG9pbnQuc2V0KHRoaXMuc3ByaXRlLmNhbWVyYU9mZnNldC54LHRoaXMuc3ByaXRlLmNhbWVyYU9mZnNldC55KSk7ZWxzZXt2YXIgbz10aGlzLmdhbWUuY2FtZXJhLngtdGhpcy5fcG9pbnRlckRhdGFbdC5pZF0uY2FtWCxyPXRoaXMuZ2FtZS5jYW1lcmEueS10aGlzLl9wb2ludGVyRGF0YVt0LmlkXS5jYW1ZO3RoaXMuYWxsb3dIb3Jpem9udGFsRHJhZyYmKHRoaXMuc3ByaXRlLng9cytvKSx0aGlzLmFsbG93VmVydGljYWxEcmFnJiYodGhpcy5zcHJpdGUueT1uK3IpLHRoaXMuYm91bmRzUmVjdCYmdGhpcy5jaGVja0JvdW5kc1JlY3QoKSx0aGlzLmJvdW5kc1Nwcml0ZSYmdGhpcy5jaGVja0JvdW5kc1Nwcml0ZSgpLHRoaXMuc25hcE9uRHJhZyYmKHRoaXMuc3ByaXRlLng9TWF0aC5yb3VuZCgodGhpcy5zcHJpdGUueC10aGlzLnNuYXBPZmZzZXRYJXRoaXMuc25hcFgpL3RoaXMuc25hcFgpKnRoaXMuc25hcFgrdGhpcy5zbmFwT2Zmc2V0WCV0aGlzLnNuYXBYLHRoaXMuc3ByaXRlLnk9TWF0aC5yb3VuZCgodGhpcy5zcHJpdGUueS10aGlzLnNuYXBPZmZzZXRZJXRoaXMuc25hcFkpL3RoaXMuc25hcFkpKnRoaXMuc25hcFkrdGhpcy5zbmFwT2Zmc2V0WSV0aGlzLnNuYXBZLHRoaXMuc25hcFBvaW50LnNldCh0aGlzLnNwcml0ZS54LHRoaXMuc3ByaXRlLnkpKX1yZXR1cm4gdGhpcy5zcHJpdGUuZXZlbnRzLm9uRHJhZ1VwZGF0ZS5kaXNwYXRjaCh0aGlzLnNwcml0ZSx0LHMsbix0aGlzLnNuYXBQb2ludCxlKSwhMH0sanVzdE92ZXI6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdD10fHwwLGU9ZXx8NTAwLHRoaXMuX3BvaW50ZXJEYXRhW3RdLmlzT3ZlciYmdGhpcy5vdmVyRHVyYXRpb24odCk8ZX0sanVzdE91dDpmdW5jdGlvbih0LGUpe3JldHVybiB0PXR8fDAsZT1lfHw1MDAsdGhpcy5fcG9pbnRlckRhdGFbdF0uaXNPdXQmJnRoaXMuZ2FtZS50aW1lLnRpbWUtdGhpcy5fcG9pbnRlckRhdGFbdF0udGltZU91dDxlfSxqdXN0UHJlc3NlZDpmdW5jdGlvbih0LGUpe3JldHVybiB0PXR8fDAsZT1lfHw1MDAsdGhpcy5fcG9pbnRlckRhdGFbdF0uaXNEb3duJiZ0aGlzLmRvd25EdXJhdGlvbih0KTxlfSxqdXN0UmVsZWFzZWQ6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdD10fHwwLGU9ZXx8NTAwLHRoaXMuX3BvaW50ZXJEYXRhW3RdLmlzVXAmJnRoaXMuZ2FtZS50aW1lLnRpbWUtdGhpcy5fcG9pbnRlckRhdGFbdF0udGltZVVwPGV9LG92ZXJEdXJhdGlvbjpmdW5jdGlvbih0KXtyZXR1cm4gdD10fHwwLHRoaXMuX3BvaW50ZXJEYXRhW3RdLmlzT3Zlcj90aGlzLmdhbWUudGltZS50aW1lLXRoaXMuX3BvaW50ZXJEYXRhW3RdLnRpbWVPdmVyOi0xfSxkb3duRHVyYXRpb246ZnVuY3Rpb24odCl7cmV0dXJuIHQ9dHx8MCx0aGlzLl9wb2ludGVyRGF0YVt0XS5pc0Rvd24/dGhpcy5nYW1lLnRpbWUudGltZS10aGlzLl9wb2ludGVyRGF0YVt0XS50aW1lRG93bjotMX0sZW5hYmxlRHJhZzpmdW5jdGlvbih0LGUscyxuLG8scil7dm9pZCAwPT09dCYmKHQ9ITEpLHZvaWQgMD09PWUmJihlPSExKSx2b2lkIDA9PT1zJiYocz0hMSksdm9pZCAwPT09biYmKG49MjU1KSx2b2lkIDA9PT1vJiYobz1udWxsKSx2b2lkIDA9PT1yJiYocj1udWxsKSx0aGlzLl9kcmFnUG9pbnQ9bmV3IGkuUG9pbnQsdGhpcy5kcmFnZ2FibGU9ITAsdGhpcy5icmluZ1RvVG9wPWUsdGhpcy5kcmFnT2Zmc2V0PW5ldyBpLlBvaW50LHRoaXMuZHJhZ0Zyb21DZW50ZXI9dCx0aGlzLnBpeGVsUGVyZmVjdENsaWNrPXMsdGhpcy5waXhlbFBlcmZlY3RBbHBoYT1uLG8mJih0aGlzLmJvdW5kc1JlY3Q9byksciYmKHRoaXMuYm91bmRzU3ByaXRlPXIpfSxkaXNhYmxlRHJhZzpmdW5jdGlvbigpe2lmKHRoaXMuX3BvaW50ZXJEYXRhKWZvcih2YXIgdD0wO3Q8MTA7dCsrKXRoaXMuX3BvaW50ZXJEYXRhW3RdLmlzRHJhZ2dlZD0hMTt0aGlzLmRyYWdnYWJsZT0hMSx0aGlzLmlzRHJhZ2dlZD0hMSx0aGlzLl9kcmFnZ2VkUG9pbnRlcklEPS0xLHRoaXMuX3BlbmRpbmdEcmFnPSExfSxzdGFydERyYWc6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5zcHJpdGUueCxzPXRoaXMuc3ByaXRlLnksbj10aGlzLmdsb2JhbFRvTG9jYWwodCk7aWYodGhpcy5pc0RyYWdnZWQ9ITAsdGhpcy5fZHJhZ2dlZFBvaW50ZXJJRD10LmlkLHRoaXMuX3BvaW50ZXJEYXRhW3QuaWRdLmNhbVg9dGhpcy5nYW1lLmNhbWVyYS54LHRoaXMuX3BvaW50ZXJEYXRhW3QuaWRdLmNhbVk9dGhpcy5nYW1lLmNhbWVyYS55LHRoaXMuX3BvaW50ZXJEYXRhW3QuaWRdLmlzRHJhZ2dlZD0hMCx0aGlzLnNwcml0ZS5maXhlZFRvQ2FtZXJhKXtpZih0aGlzLmRyYWdGcm9tQ2VudGVyKXt2YXIgbz10aGlzLnNwcml0ZS5nZXRCb3VuZHMoKSxyPXRoaXMuZ2xvYmFsVG9Mb2NhbChuZXcgaS5Qb2ludChvLmNlbnRlclgsby5jZW50ZXJZKSk7dGhpcy5zcHJpdGUuY2FtZXJhT2Zmc2V0Lng9bi54Kyh0aGlzLnNwcml0ZS5jYW1lcmFPZmZzZXQueC1yLngpLHRoaXMuc3ByaXRlLmNhbWVyYU9mZnNldC55PW4ueSsodGhpcy5zcHJpdGUuY2FtZXJhT2Zmc2V0Lnktci55KX10aGlzLl9kcmFnUG9pbnQuc2V0VG8odGhpcy5zcHJpdGUuY2FtZXJhT2Zmc2V0LngtdC54LHRoaXMuc3ByaXRlLmNhbWVyYU9mZnNldC55LXQueSl9ZWxzZXtpZih0aGlzLmRyYWdGcm9tQ2VudGVyKXt2YXIgbz10aGlzLnNwcml0ZS5nZXRCb3VuZHMoKSxyPXRoaXMuZ2xvYmFsVG9Mb2NhbChuZXcgaS5Qb2ludChvLmNlbnRlclgsby5jZW50ZXJZKSk7dGhpcy5zcHJpdGUueD1uLngrKHRoaXMuc3ByaXRlLngtci54KSx0aGlzLnNwcml0ZS55PW4ueSsodGhpcy5zcHJpdGUueS1yLnkpfXRoaXMuX2RyYWdQb2ludC5zZXRUbyh0aGlzLnNwcml0ZS54LW4ueCx0aGlzLnNwcml0ZS55LW4ueSl9dGhpcy51cGRhdGVEcmFnKHQsITApLHRoaXMuYnJpbmdUb1RvcCYmKHRoaXMuX2RyYWdQaGFzZT0hMCx0aGlzLnNwcml0ZS5icmluZ1RvVG9wKCkpLHRoaXMuZHJhZ1N0YXJ0UG9pbnQuc2V0KGUscyksdGhpcy5zcHJpdGUuZXZlbnRzLm9uRHJhZ1N0YXJ0JGRpc3BhdGNoKHRoaXMuc3ByaXRlLHQsZSxzKSx0aGlzLl9wZW5kaW5nRHJhZz0hMX0sZ2xvYmFsVG9Mb2NhbFg6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuc2NhbGVMYXllciYmKHQtPXRoaXMuZ2FtZS5zY2FsZS5ncmlkLmJvdW5kc0ZsdWlkLngsdCo9dGhpcy5nYW1lLnNjYWxlLmdyaWQuc2NhbGVGbHVpZEludmVyc2VkLngpLHR9LGdsb2JhbFRvTG9jYWxZOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnNjYWxlTGF5ZXImJih0LT10aGlzLmdhbWUuc2NhbGUuZ3JpZC5ib3VuZHNGbHVpZC55LHQqPXRoaXMuZ2FtZS5zY2FsZS5ncmlkLnNjYWxlRmx1aWRJbnZlcnNlZC55KSx0fSxnbG9iYWxUb0xvY2FsOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnNwcml0ZS5wYXJlbnQ/dGhpcy5nYW1lLmlucHV0LmdldExvY2FsUG9zaXRpb24odGhpcy5zcHJpdGUucGFyZW50LHt4OnQueCx5OnQueX0pOnR9LHN0b3BEcmFnOmZ1bmN0aW9uKHQpe3RoaXMuaXNEcmFnZ2VkPSExLHRoaXMuX2RyYWdnZWRQb2ludGVySUQ9LTEsdGhpcy5fcG9pbnRlckRhdGFbdC5pZF0uaXNEcmFnZ2VkPSExLHRoaXMuX2RyYWdQaGFzZT0hMSx0aGlzLl9wZW5kaW5nRHJhZz0hMSx0aGlzLnNuYXBPblJlbGVhc2UmJih0aGlzLnNwcml0ZS5maXhlZFRvQ2FtZXJhPyh0aGlzLnNwcml0ZS5jYW1lcmFPZmZzZXQueD1NYXRoLnJvdW5kKCh0aGlzLnNwcml0ZS5jYW1lcmFPZmZzZXQueC10aGlzLnNuYXBPZmZzZXRYJXRoaXMuc25hcFgpL3RoaXMuc25hcFgpKnRoaXMuc25hcFgrdGhpcy5zbmFwT2Zmc2V0WCV0aGlzLnNuYXBYLHRoaXMuc3ByaXRlLmNhbWVyYU9mZnNldC55PU1hdGgucm91bmQoKHRoaXMuc3ByaXRlLmNhbWVyYU9mZnNldC55LXRoaXMuc25hcE9mZnNldFkldGhpcy5zbmFwWSkvdGhpcy5zbmFwWSkqdGhpcy5zbmFwWSt0aGlzLnNuYXBPZmZzZXRZJXRoaXMuc25hcFkpOih0aGlzLnNwcml0ZS54PU1hdGgucm91bmQoKHRoaXMuc3ByaXRlLngtdGhpcy5zbmFwT2Zmc2V0WCV0aGlzLnNuYXBYKS90aGlzLnNuYXBYKSp0aGlzLnNuYXBYK3RoaXMuc25hcE9mZnNldFgldGhpcy5zbmFwWCx0aGlzLnNwcml0ZS55PU1hdGgucm91bmQoKHRoaXMuc3ByaXRlLnktdGhpcy5zbmFwT2Zmc2V0WSV0aGlzLnNuYXBZKS90aGlzLnNuYXBZKSp0aGlzLnNuYXBZK3RoaXMuc25hcE9mZnNldFkldGhpcy5zbmFwWSkpLHRoaXMuc3ByaXRlLmV2ZW50cy5vbkRyYWdTdG9wJGRpc3BhdGNoKHRoaXMuc3ByaXRlLHQpLCExPT09dGhpcy5jaGVja1BvaW50ZXJPdmVyKHQpJiZ0aGlzLl9wb2ludGVyT3V0SGFuZGxlcih0KX0sc2V0RHJhZ0xvY2s6ZnVuY3Rpb24odCxlKXt2b2lkIDA9PT10JiYodD0hMCksdm9pZCAwPT09ZSYmKGU9ITApLHRoaXMuYWxsb3dIb3Jpem9udGFsRHJhZz10LHRoaXMuYWxsb3dWZXJ0aWNhbERyYWc9ZX0sZW5hYmxlU25hcDpmdW5jdGlvbih0LGUsaSxzLG4sbyl7dm9pZCAwPT09aSYmKGk9ITApLHZvaWQgMD09PXMmJihzPSExKSx2b2lkIDA9PT1uJiYobj0wKSx2b2lkIDA9PT1vJiYobz0wKSx0aGlzLnNuYXBYPXQsdGhpcy5zbmFwWT1lLHRoaXMuc25hcE9mZnNldFg9bix0aGlzLnNuYXBPZmZzZXRZPW8sdGhpcy5zbmFwT25EcmFnPWksdGhpcy5zbmFwT25SZWxlYXNlPXN9LGRpc2FibGVTbmFwOmZ1bmN0aW9uKCl7dGhpcy5zbmFwT25EcmFnPSExLHRoaXMuc25hcE9uUmVsZWFzZT0hMX0sY2hlY2tCb3VuZHNSZWN0OmZ1bmN0aW9uKCl7dGhpcy5zcHJpdGUuZml4ZWRUb0NhbWVyYT8odGhpcy5zcHJpdGUuY2FtZXJhT2Zmc2V0Lng8dGhpcy5ib3VuZHNSZWN0LmxlZnQ/dGhpcy5zcHJpdGUuY2FtZXJhT2Zmc2V0Lng9dGhpcy5ib3VuZHNSZWN0LmxlZnQ6dGhpcy5zcHJpdGUuY2FtZXJhT2Zmc2V0LngrdGhpcy5zcHJpdGUud2lkdGg+dGhpcy5ib3VuZHNSZWN0LnJpZ2h0JiYodGhpcy5zcHJpdGUuY2FtZXJhT2Zmc2V0Lng9dGhpcy5ib3VuZHNSZWN0LnJpZ2h0LXRoaXMuc3ByaXRlLndpZHRoKSx0aGlzLnNwcml0ZS5jYW1lcmFPZmZzZXQueTx0aGlzLmJvdW5kc1JlY3QudG9wP3RoaXMuc3ByaXRlLmNhbWVyYU9mZnNldC55PXRoaXMuYm91bmRzUmVjdC50b3A6dGhpcy5zcHJpdGUuY2FtZXJhT2Zmc2V0LnkrdGhpcy5zcHJpdGUuaGVpZ2h0PnRoaXMuYm91bmRzUmVjdC5ib3R0b20mJih0aGlzLnNwcml0ZS5jYW1lcmFPZmZzZXQueT10aGlzLmJvdW5kc1JlY3QuYm90dG9tLXRoaXMuc3ByaXRlLmhlaWdodCkpOih0aGlzLnNwcml0ZS5sZWZ0PHRoaXMuYm91bmRzUmVjdC5sZWZ0P3RoaXMuc3ByaXRlLng9dGhpcy5ib3VuZHNSZWN0LngrdGhpcy5zcHJpdGUub2Zmc2V0WDp0aGlzLnNwcml0ZS5yaWdodD50aGlzLmJvdW5kc1JlY3QucmlnaHQmJih0aGlzLnNwcml0ZS54PXRoaXMuYm91bmRzUmVjdC5yaWdodC0odGhpcy5zcHJpdGUud2lkdGgtdGhpcy5zcHJpdGUub2Zmc2V0WCkpLHRoaXMuc3ByaXRlLnRvcDx0aGlzLmJvdW5kc1JlY3QudG9wP3RoaXMuc3ByaXRlLnk9dGhpcy5ib3VuZHNSZWN0LnRvcCt0aGlzLnNwcml0ZS5vZmZzZXRZOnRoaXMuc3ByaXRlLmJvdHRvbT50aGlzLmJvdW5kc1JlY3QuYm90dG9tJiYodGhpcy5zcHJpdGUueT10aGlzLmJvdW5kc1JlY3QuYm90dG9tLSh0aGlzLnNwcml0ZS5oZWlnaHQtdGhpcy5zcHJpdGUub2Zmc2V0WSkpKX0sY2hlY2tCb3VuZHNTcHJpdGU6ZnVuY3Rpb24oKXt0aGlzLnNwcml0ZS5maXhlZFRvQ2FtZXJhJiZ0aGlzLmJvdW5kc1Nwcml0ZS5maXhlZFRvQ2FtZXJhPyh0aGlzLnNwcml0ZS5jYW1lcmFPZmZzZXQueDx0aGlzLmJvdW5kc1Nwcml0ZS5jYW1lcmFPZmZzZXQueD90aGlzLnNwcml0ZS5jYW1lcmFPZmZzZXQueD10aGlzLmJvdW5kc1Nwcml0ZS5jYW1lcmFPZmZzZXQueDp0aGlzLnNwcml0ZS5jYW1lcmFPZmZzZXQueCt0aGlzLnNwcml0ZS53aWR0aD50aGlzLmJvdW5kc1Nwcml0ZS5jYW1lcmFPZmZzZXQueCt0aGlzLmJvdW5kc1Nwcml0ZS53aWR0aCYmKHRoaXMuc3ByaXRlLmNhbWVyYU9mZnNldC54PXRoaXMuYm91bmRzU3ByaXRlLmNhbWVyYU9mZnNldC54K3RoaXMuYm91bmRzU3ByaXRlLndpZHRoLXRoaXMuc3ByaXRlLndpZHRoKSx0aGlzLnNwcml0ZS5jYW1lcmFPZmZzZXQueTx0aGlzLmJvdW5kc1Nwcml0ZS5jYW1lcmFPZmZzZXQueT90aGlzLnNwcml0ZS5jYW1lcmFPZmZzZXQueT10aGlzLmJvdW5kc1Nwcml0ZS5jYW1lcmFPZmZzZXQueTp0aGlzLnNwcml0ZS5jYW1lcmFPZmZzZXQueSt0aGlzLnNwcml0ZS5oZWlnaHQ+dGhpcy5ib3VuZHNTcHJpdGUuY2FtZXJhT2Zmc2V0LnkrdGhpcy5ib3VuZHNTcHJpdGUuaGVpZ2h0JiYodGhpcy5zcHJpdGUuY2FtZXJhT2Zmc2V0Lnk9dGhpcy5ib3VuZHNTcHJpdGUuY2FtZXJhT2Zmc2V0LnkrdGhpcy5ib3VuZHNTcHJpdGUuaGVpZ2h0LXRoaXMuc3ByaXRlLmhlaWdodCkpOih0aGlzLnNwcml0ZS5sZWZ0PHRoaXMuYm91bmRzU3ByaXRlLmxlZnQ/dGhpcy5zcHJpdGUueD10aGlzLmJvdW5kc1Nwcml0ZS5sZWZ0K3RoaXMuc3ByaXRlLm9mZnNldFg6dGhpcy5zcHJpdGUucmlnaHQ+dGhpcy5ib3VuZHNTcHJpdGUucmlnaHQmJih0aGlzLnNwcml0ZS54PXRoaXMuYm91bmRzU3ByaXRlLnJpZ2h0LSh0aGlzLnNwcml0ZS53aWR0aC10aGlzLnNwcml0ZS5vZmZzZXRYKSksdGhpcy5zcHJpdGUudG9wPHRoaXMuYm91bmRzU3ByaXRlLnRvcD90aGlzLnNwcml0ZS55PXRoaXMuYm91bmRzU3ByaXRlLnRvcCt0aGlzLnNwcml0ZS5vZmZzZXRZOnRoaXMuc3ByaXRlLmJvdHRvbT50aGlzLmJvdW5kc1Nwcml0ZS5ib3R0b20mJih0aGlzLnNwcml0ZS55PXRoaXMuYm91bmRzU3ByaXRlLmJvdHRvbS0odGhpcy5zcHJpdGUuaGVpZ2h0LXRoaXMuc3ByaXRlLm9mZnNldFkpKSl9fSxpLklucHV0SGFuZGxlci5wcm90b3R5cGUuY29uc3RydWN0b3I9aS5JbnB1dEhhbmRsZXIsaS5HYW1lcGFkPWZ1bmN0aW9uKHQpe3RoaXMuZ2FtZT10LHRoaXMuX2dhbWVwYWRJbmRleE1hcD17fSx0aGlzLl9yYXdQYWRzPVtdLHRoaXMuX2FjdGl2ZT0hMSx0aGlzLmVuYWJsZWQ9ITAsdGhpcy5fZ2FtZXBhZFN1cHBvcnRBdmFpbGFibGU9ISFuYXZpZ2F0b3Iud2Via2l0R2V0R2FtZXBhZHN8fCEhbmF2aWdhdG9yLndlYmtpdEdhbWVwYWRzfHwtMSE9PW5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZihcIkZpcmVmb3gvXCIpfHwhIW5hdmlnYXRvci5nZXRHYW1lcGFkcyx0aGlzLl9wcmV2UmF3R2FtZXBhZFR5cGVzPVtdLHRoaXMuX3ByZXZUaW1lc3RhbXBzPVtdLHRoaXMuY2FsbGJhY2tDb250ZXh0PXRoaXMsdGhpcy5vbkNvbm5lY3RDYWxsYmFjaz1udWxsLHRoaXMub25EaXNjb25uZWN0Q2FsbGJhY2s9bnVsbCx0aGlzLm9uRG93bkNhbGxiYWNrPW51bGwsdGhpcy5vblVwQ2FsbGJhY2s9bnVsbCx0aGlzLm9uQXhpc0NhbGxiYWNrPW51bGwsdGhpcy5vbkZsb2F0Q2FsbGJhY2s9bnVsbCx0aGlzLl9vbmdhbWVwYWRjb25uZWN0ZWQ9bnVsbCx0aGlzLl9nYW1lcGFkZGlzY29ubmVjdGVkPW51bGwsdGhpcy5fZ2FtZXBhZHM9W25ldyBpLlNpbmdsZVBhZCh0LHRoaXMpLG5ldyBpLlNpbmdsZVBhZCh0LHRoaXMpLG5ldyBpLlNpbmdsZVBhZCh0LHRoaXMpLG5ldyBpLlNpbmdsZVBhZCh0LHRoaXMpXX0saS5HYW1lcGFkLnByb3RvdHlwZT17YWRkQ2FsbGJhY2tzOmZ1bmN0aW9uKHQsZSl7dm9pZCAwIT09ZSYmKHRoaXMub25Db25uZWN0Q2FsbGJhY2s9XCJmdW5jdGlvblwiPT10eXBlb2YgZS5vbkNvbm5lY3Q/ZS5vbkNvbm5lY3Q6dGhpcy5vbkNvbm5lY3RDYWxsYmFjayx0aGlzLm9uRGlzY29ubmVjdENhbGxiYWNrPVwiZnVuY3Rpb25cIj09dHlwZW9mIGUub25EaXNjb25uZWN0P2Uub25EaXNjb25uZWN0OnRoaXMub25EaXNjb25uZWN0Q2FsbGJhY2ssdGhpcy5vbkRvd25DYWxsYmFjaz1cImZ1bmN0aW9uXCI9PXR5cGVvZiBlLm9uRG93bj9lLm9uRG93bjp0aGlzLm9uRG93bkNhbGxiYWNrLHRoaXMub25VcENhbGxiYWNrPVwiZnVuY3Rpb25cIj09dHlwZW9mIGUub25VcD9lLm9uVXA6dGhpcy5vblVwQ2FsbGJhY2ssdGhpcy5vbkF4aXNDYWxsYmFjaz1cImZ1bmN0aW9uXCI9PXR5cGVvZiBlLm9uQXhpcz9lLm9uQXhpczp0aGlzLm9uQXhpc0NhbGxiYWNrLHRoaXMub25GbG9hdENhbGxiYWNrPVwiZnVuY3Rpb25cIj09dHlwZW9mIGUub25GbG9hdD9lLm9uRmxvYXQ6dGhpcy5vbkZsb2F0Q2FsbGJhY2ssdGhpcy5jYWxsYmFja0NvbnRleHQ9dCl9LHN0YXJ0OmZ1bmN0aW9uKCl7aWYoIXRoaXMuX2FjdGl2ZSl7dGhpcy5fYWN0aXZlPSEwO3ZhciB0PXRoaXM7dGhpcy5fb25HYW1lcGFkQ29ubmVjdGVkPWZ1bmN0aW9uKGUpe3JldHVybiB0Lm9uR2FtZXBhZENvbm5lY3RlZChlKX0sdGhpcy5fb25HYW1lcGFkRGlzY29ubmVjdGVkPWZ1bmN0aW9uKGUpe3JldHVybiB0Lm9uR2FtZXBhZERpc2Nvbm5lY3RlZChlKX0sd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJnYW1lcGFkY29ubmVjdGVkXCIsdGhpcy5fb25HYW1lcGFkQ29ubmVjdGVkLCExKSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImdhbWVwYWRkaXNjb25uZWN0ZWRcIix0aGlzLl9vbkdhbWVwYWREaXNjb25uZWN0ZWQsITEpfX0sb25HYW1lcGFkQ29ubmVjdGVkOmZ1bmN0aW9uKHQpe3ZhciBlPXQuZ2FtZXBhZDt0aGlzLl9yYXdQYWRzLnB1c2goZSksdGhpcy5fZ2FtZXBhZHNbZS5pbmRleF0uY29ubmVjdChlKX0sb25HYW1lcGFkRGlzY29ubmVjdGVkOmZ1bmN0aW9uKHQpe3ZhciBlPXQuZ2FtZXBhZDtmb3IodmFyIGkgaW4gdGhpcy5fcmF3UGFkcyl0aGlzLl9yYXdQYWRzW2ldLmluZGV4PT09ZS5pbmRleCYmdGhpcy5fcmF3UGFkcy5zcGxpY2UoaSwxKTt0aGlzLl9nYW1lcGFkc1tlLmluZGV4XS5kaXNjb25uZWN0KCl9LHVwZGF0ZTpmdW5jdGlvbigpe3RoaXMuX3BvbGxHYW1lcGFkcygpLHRoaXMucGFkMS5wb2xsU3RhdHVzKCksdGhpcy5wYWQyLnBvbGxTdGF0dXMoKSx0aGlzLnBhZDMucG9sbFN0YXR1cygpLHRoaXMucGFkNC5wb2xsU3RhdHVzKCl9LF9wb2xsR2FtZXBhZHM6ZnVuY3Rpb24oKXtpZih0aGlzLl9hY3RpdmUpe2lmKG5hdmlnYXRvci5nZXRHYW1lcGFkcyl0PW5hdmlnYXRvci5nZXRHYW1lcGFkcygpO2Vsc2UgaWYobmF2aWdhdG9yLndlYmtpdEdldEdhbWVwYWRzKXQ9bmF2aWdhdG9yLndlYmtpdEdldEdhbWVwYWRzKCk7ZWxzZSBpZihuYXZpZ2F0b3Iud2Via2l0R2FtZXBhZHMpdmFyIHQ9bmF2aWdhdG9yLndlYmtpdEdhbWVwYWRzKCk7aWYodCl7dGhpcy5fcmF3UGFkcz1bXTtmb3IodmFyIGU9ITEsaT0wO2k8dC5sZW5ndGgmJih0eXBlb2YgdFtpXSE9PXRoaXMuX3ByZXZSYXdHYW1lcGFkVHlwZXNbaV0mJihlPSEwLHRoaXMuX3ByZXZSYXdHYW1lcGFkVHlwZXNbaV09dHlwZW9mIHRbaV0pLHRbaV0mJnRoaXMuX3Jhd1BhZHMucHVzaCh0W2ldKSwzIT09aSk7aSsrKTtmb3IodmFyIHM9MDtzPHRoaXMuX2dhbWVwYWRzLmxlbmd0aDtzKyspdGhpcy5fZ2FtZXBhZHNbc10uX3Jhd1BhZD10aGlzLl9yYXdQYWRzW3NdO2lmKGUpe2Zvcih2YXIgbixvPXtyYXdJbmRpY2VzOnt9LHBhZEluZGljZXM6e319LHI9MDtyPHRoaXMuX2dhbWVwYWRzLmxlbmd0aDtyKyspaWYoKG49dGhpcy5fZ2FtZXBhZHNbcl0pLmNvbm5lY3RlZClmb3IodmFyIGE9MDthPHRoaXMuX3Jhd1BhZHMubGVuZ3RoO2ErKyl0aGlzLl9yYXdQYWRzW2FdLmluZGV4PT09bi5pbmRleCYmKG8ucmF3SW5kaWNlc1tuLmluZGV4XT0hMCxvLnBhZEluZGljZXNbcl09ITApO2Zvcih2YXIgaD0wO2g8dGhpcy5fZ2FtZXBhZHMubGVuZ3RoO2grKylpZihuPXRoaXMuX2dhbWVwYWRzW2hdLCFvLnBhZEluZGljZXNbaF0pe3RoaXMuX3Jhd1BhZHMubGVuZ3RoPDEmJm4uZGlzY29ubmVjdCgpO2Zvcih2YXIgbD0wO2w8dGhpcy5fcmF3UGFkcy5sZW5ndGgmJiFvLnBhZEluZGljZXNbaF07bCsrKXt2YXIgYz10aGlzLl9yYXdQYWRzW2xdO2lmKGMpe2lmKG8ucmF3SW5kaWNlc1tjLmluZGV4XSl7bi5kaXNjb25uZWN0KCk7Y29udGludWV9bi5jb25uZWN0KGMpLG8ucmF3SW5kaWNlc1tjLmluZGV4XT0hMCxvLnBhZEluZGljZXNbaF09ITB9ZWxzZSBuLmRpc2Nvbm5lY3QoKX19fX19fSxzZXREZWFkWm9uZXM6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTA7ZTx0aGlzLl9nYW1lcGFkcy5sZW5ndGg7ZSsrKXRoaXMuX2dhbWVwYWRzW2VdLmRlYWRab25lPXR9LHN0b3A6ZnVuY3Rpb24oKXt0aGlzLl9hY3RpdmU9ITEsd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJnYW1lcGFkY29ubmVjdGVkXCIsdGhpcy5fb25HYW1lcGFkQ29ubmVjdGVkKSx3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImdhbWVwYWRkaXNjb25uZWN0ZWRcIix0aGlzLl9vbkdhbWVwYWREaXNjb25uZWN0ZWQpfSxyZXNldDpmdW5jdGlvbigpe3RoaXMudXBkYXRlKCk7Zm9yKHZhciB0PTA7dDx0aGlzLl9nYW1lcGFkcy5sZW5ndGg7dCsrKXRoaXMuX2dhbWVwYWRzW3RdLnJlc2V0KCl9LGp1c3RQcmVzc2VkOmZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBpPTA7aTx0aGlzLl9nYW1lcGFkcy5sZW5ndGg7aSsrKWlmKCEwPT09dGhpcy5fZ2FtZXBhZHNbaV0uanVzdFByZXNzZWQodCxlKSlyZXR1cm4hMDtyZXR1cm4hMX0sanVzdFJlbGVhc2VkOmZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBpPTA7aTx0aGlzLl9nYW1lcGFkcy5sZW5ndGg7aSsrKWlmKCEwPT09dGhpcy5fZ2FtZXBhZHNbaV0uanVzdFJlbGVhc2VkKHQsZSkpcmV0dXJuITA7cmV0dXJuITF9LGlzRG93bjpmdW5jdGlvbih0KXtmb3IodmFyIGU9MDtlPHRoaXMuX2dhbWVwYWRzLmxlbmd0aDtlKyspaWYoITA9PT10aGlzLl9nYW1lcGFkc1tlXS5pc0Rvd24odCkpcmV0dXJuITA7cmV0dXJuITF9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLnN0b3AoKTtmb3IodmFyIHQ9MDt0PHRoaXMuX2dhbWVwYWRzLmxlbmd0aDt0KyspdGhpcy5fZ2FtZXBhZHNbdF0uZGVzdHJveSgpfX0saS5HYW1lcGFkLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1pLkdhbWVwYWQsT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuR2FtZXBhZC5wcm90b3R5cGUsXCJhY3RpdmVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FjdGl2ZX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5HYW1lcGFkLnByb3RvdHlwZSxcInN1cHBvcnRlZFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2FtZXBhZFN1cHBvcnRBdmFpbGFibGV9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuR2FtZXBhZC5wcm90b3R5cGUsXCJwYWRzQ29ubmVjdGVkXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9yYXdQYWRzLmxlbmd0aH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5HYW1lcGFkLnByb3RvdHlwZSxcInBhZDFcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dhbWVwYWRzWzBdfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLkdhbWVwYWQucHJvdG90eXBlLFwicGFkMlwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2FtZXBhZHNbMV19fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuR2FtZXBhZC5wcm90b3R5cGUsXCJwYWQzXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9nYW1lcGFkc1syXX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5HYW1lcGFkLnByb3RvdHlwZSxcInBhZDRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dhbWVwYWRzWzNdfX0pLGkuR2FtZXBhZC5CVVRUT05fMD0wLGkuR2FtZXBhZC5CVVRUT05fMT0xLGkuR2FtZXBhZC5CVVRUT05fMj0yLGkuR2FtZXBhZC5CVVRUT05fMz0zLGkuR2FtZXBhZC5CVVRUT05fND00LGkuR2FtZXBhZC5CVVRUT05fNT01LGkuR2FtZXBhZC5CVVRUT05fNj02LGkuR2FtZXBhZC5CVVRUT05fNz03LGkuR2FtZXBhZC5CVVRUT05fOD04LGkuR2FtZXBhZC5CVVRUT05fOT05LGkuR2FtZXBhZC5CVVRUT05fMTA9MTAsaS5HYW1lcGFkLkJVVFRPTl8xMT0xMSxpLkdhbWVwYWQuQlVUVE9OXzEyPTEyLGkuR2FtZXBhZC5CVVRUT05fMTM9MTMsaS5HYW1lcGFkLkJVVFRPTl8xND0xNCxpLkdhbWVwYWQuQlVUVE9OXzE1PTE1LGkuR2FtZXBhZC5BWElTXzA9MCxpLkdhbWVwYWQuQVhJU18xPTEsaS5HYW1lcGFkLkFYSVNfMj0yLGkuR2FtZXBhZC5BWElTXzM9MyxpLkdhbWVwYWQuQVhJU180PTQsaS5HYW1lcGFkLkFYSVNfNT01LGkuR2FtZXBhZC5BWElTXzY9NixpLkdhbWVwYWQuQVhJU183PTcsaS5HYW1lcGFkLkFYSVNfOD04LGkuR2FtZXBhZC5BWElTXzk9OSxpLkdhbWVwYWQuWEJPWDM2MF9BPTAsaS5HYW1lcGFkLlhCT1gzNjBfQj0xLGkuR2FtZXBhZC5YQk9YMzYwX1g9MixpLkdhbWVwYWQuWEJPWDM2MF9ZPTMsaS5HYW1lcGFkLlhCT1gzNjBfTEVGVF9CVU1QRVI9NCxpLkdhbWVwYWQuWEJPWDM2MF9SSUdIVF9CVU1QRVI9NSxpLkdhbWVwYWQuWEJPWDM2MF9MRUZUX1RSSUdHRVI9NixpLkdhbWVwYWQuWEJPWDM2MF9SSUdIVF9UUklHR0VSPTcsaS5HYW1lcGFkLlhCT1gzNjBfQkFDSz04LGkuR2FtZXBhZC5YQk9YMzYwX1NUQVJUPTksaS5HYW1lcGFkLlhCT1gzNjBfU1RJQ0tfTEVGVF9CVVRUT049MTAsaS5HYW1lcGFkLlhCT1gzNjBfU1RJQ0tfUklHSFRfQlVUVE9OPTExLGkuR2FtZXBhZC5YQk9YMzYwX0RQQURfTEVGVD0xNCxpLkdhbWVwYWQuWEJPWDM2MF9EUEFEX1JJR0hUPTE1LGkuR2FtZXBhZC5YQk9YMzYwX0RQQURfVVA9MTIsaS5HYW1lcGFkLlhCT1gzNjBfRFBBRF9ET1dOPTEzLGkuR2FtZXBhZC5YQk9YMzYwX1NUSUNLX0xFRlRfWD0wLGkuR2FtZXBhZC5YQk9YMzYwX1NUSUNLX0xFRlRfWT0xLGkuR2FtZXBhZC5YQk9YMzYwX1NUSUNLX1JJR0hUX1g9MixpLkdhbWVwYWQuWEJPWDM2MF9TVElDS19SSUdIVF9ZPTMsaS5HYW1lcGFkLlBTM1hDX1g9MCxpLkdhbWVwYWQuUFMzWENfQ0lSQ0xFPTEsaS5HYW1lcGFkLlBTM1hDX1NRVUFSRT0yLGkuR2FtZXBhZC5QUzNYQ19UUklBTkdMRT0zLGkuR2FtZXBhZC5QUzNYQ19MMT00LGkuR2FtZXBhZC5QUzNYQ19SMT01LGkuR2FtZXBhZC5QUzNYQ19MMj02LGkuR2FtZXBhZC5QUzNYQ19SMj03LGkuR2FtZXBhZC5QUzNYQ19TRUxFQ1Q9OCxpLkdhbWVwYWQuUFMzWENfU1RBUlQ9OSxpLkdhbWVwYWQuUFMzWENfU1RJQ0tfTEVGVF9CVVRUT049MTAsaS5HYW1lcGFkLlBTM1hDX1NUSUNLX1JJR0hUX0JVVFRPTj0xMSxpLkdhbWVwYWQuUFMzWENfRFBBRF9VUD0xMixpLkdhbWVwYWQuUFMzWENfRFBBRF9ET1dOPTEzLGkuR2FtZXBhZC5QUzNYQ19EUEFEX0xFRlQ9MTQsaS5HYW1lcGFkLlBTM1hDX0RQQURfUklHSFQ9MTUsaS5HYW1lcGFkLlBTM1hDX1NUSUNLX0xFRlRfWD0wLGkuR2FtZXBhZC5QUzNYQ19TVElDS19MRUZUX1k9MSxpLkdhbWVwYWQuUFMzWENfU1RJQ0tfUklHSFRfWD0yLGkuR2FtZXBhZC5QUzNYQ19TVElDS19SSUdIVF9ZPTMsaS5TaW5nbGVQYWQ9ZnVuY3Rpb24odCxlKXt0aGlzLmdhbWU9dCx0aGlzLmluZGV4PW51bGwsdGhpcy5jb25uZWN0ZWQ9ITEsdGhpcy5jYWxsYmFja0NvbnRleHQ9dGhpcyx0aGlzLm9uQ29ubmVjdENhbGxiYWNrPW51bGwsdGhpcy5vbkRpc2Nvbm5lY3RDYWxsYmFjaz1udWxsLHRoaXMub25Eb3duQ2FsbGJhY2s9bnVsbCx0aGlzLm9uVXBDYWxsYmFjaz1udWxsLHRoaXMub25BeGlzQ2FsbGJhY2s9bnVsbCx0aGlzLm9uRmxvYXRDYWxsYmFjaz1udWxsLHRoaXMuZGVhZFpvbmU9LjI2LHRoaXMuX3BhZFBhcmVudD1lLHRoaXMuX3Jhd1BhZD1udWxsLHRoaXMuX3ByZXZUaW1lc3RhbXA9bnVsbCx0aGlzLl9idXR0b25zPVtdLHRoaXMuX2J1dHRvbnNMZW49MCx0aGlzLl9heGVzPVtdLHRoaXMuX2F4ZXNMZW49MH0saS5TaW5nbGVQYWQucHJvdG90eXBlPXthZGRDYWxsYmFja3M6ZnVuY3Rpb24odCxlKXt2b2lkIDAhPT1lJiYodGhpcy5vbkNvbm5lY3RDYWxsYmFjaz1cImZ1bmN0aW9uXCI9PXR5cGVvZiBlLm9uQ29ubmVjdD9lLm9uQ29ubmVjdDp0aGlzLm9uQ29ubmVjdENhbGxiYWNrLHRoaXMub25EaXNjb25uZWN0Q2FsbGJhY2s9XCJmdW5jdGlvblwiPT10eXBlb2YgZS5vbkRpc2Nvbm5lY3Q/ZS5vbkRpc2Nvbm5lY3Q6dGhpcy5vbkRpc2Nvbm5lY3RDYWxsYmFjayx0aGlzLm9uRG93bkNhbGxiYWNrPVwiZnVuY3Rpb25cIj09dHlwZW9mIGUub25Eb3duP2Uub25Eb3duOnRoaXMub25Eb3duQ2FsbGJhY2ssdGhpcy5vblVwQ2FsbGJhY2s9XCJmdW5jdGlvblwiPT10eXBlb2YgZS5vblVwP2Uub25VcDp0aGlzLm9uVXBDYWxsYmFjayx0aGlzLm9uQXhpc0NhbGxiYWNrPVwiZnVuY3Rpb25cIj09dHlwZW9mIGUub25BeGlzP2Uub25BeGlzOnRoaXMub25BeGlzQ2FsbGJhY2ssdGhpcy5vbkZsb2F0Q2FsbGJhY2s9XCJmdW5jdGlvblwiPT10eXBlb2YgZS5vbkZsb2F0P2Uub25GbG9hdDp0aGlzLm9uRmxvYXRDYWxsYmFjayx0aGlzLmNhbGxiYWNrQ29udGV4dD10KX0sZ2V0QnV0dG9uOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9idXR0b25zW3RdP3RoaXMuX2J1dHRvbnNbdF06bnVsbH0scG9sbFN0YXR1czpmdW5jdGlvbigpe2lmKHRoaXMuY29ubmVjdGVkJiZ0aGlzLmdhbWUuaW5wdXQuZW5hYmxlZCYmdGhpcy5nYW1lLmlucHV0LmdhbWVwYWQuZW5hYmxlZCYmKCF0aGlzLl9yYXdQYWQudGltZXN0YW1wfHx0aGlzLl9yYXdQYWQudGltZXN0YW1wIT09dGhpcy5fcHJldlRpbWVzdGFtcCkpe2Zvcih2YXIgdD0wO3Q8dGhpcy5fYnV0dG9uc0xlbjt0Kyspe3ZhciBlPWlzTmFOKHRoaXMuX3Jhd1BhZC5idXR0b25zW3RdKT90aGlzLl9yYXdQYWQuYnV0dG9uc1t0XS52YWx1ZTp0aGlzLl9yYXdQYWQuYnV0dG9uc1t0XTtlIT09dGhpcy5fYnV0dG9uc1t0XS52YWx1ZSYmKDE9PT1lP3RoaXMucHJvY2Vzc0J1dHRvbkRvd24odCxlKTowPT09ZT90aGlzLnByb2Nlc3NCdXR0b25VcCh0LGUpOnRoaXMucHJvY2Vzc0J1dHRvbkZsb2F0KHQsZSkpfWZvcih2YXIgaT0wO2k8dGhpcy5fYXhlc0xlbjtpKyspe3ZhciBzPXRoaXMuX3Jhd1BhZC5heGVzW2ldO3M+MCYmcz50aGlzLmRlYWRab25lfHxzPDAmJnM8LXRoaXMuZGVhZFpvbmU/dGhpcy5wcm9jZXNzQXhpc0NoYW5nZShpLHMpOnRoaXMucHJvY2Vzc0F4aXNDaGFuZ2UoaSwwKX10aGlzLl9wcmV2VGltZXN0YW1wPXRoaXMuX3Jhd1BhZC50aW1lc3RhbXB9fSxjb25uZWN0OmZ1bmN0aW9uKHQpe3ZhciBlPSF0aGlzLmNvbm5lY3RlZDt0aGlzLmNvbm5lY3RlZD0hMCx0aGlzLmluZGV4PXQuaW5kZXgsdGhpcy5fcmF3UGFkPXQsdGhpcy5fYnV0dG9ucz1bXSx0aGlzLl9idXR0b25zTGVuPXQuYnV0dG9ucy5sZW5ndGgsdGhpcy5fYXhlcz1bXSx0aGlzLl9heGVzTGVuPXQuYXhlcy5sZW5ndGg7Zm9yKHZhciBzPTA7czx0aGlzLl9heGVzTGVuO3MrKyl0aGlzLl9heGVzW3NdPXQuYXhlc1tzXTtmb3IodmFyIG4gaW4gdC5idXR0b25zKW49cGFyc2VJbnQobiwxMCksdGhpcy5fYnV0dG9uc1tuXT1uZXcgaS5EZXZpY2VCdXR0b24odGhpcyxuKTtlJiZ0aGlzLl9wYWRQYXJlbnQub25Db25uZWN0Q2FsbGJhY2smJnRoaXMuX3BhZFBhcmVudC5vbkNvbm5lY3RDYWxsYmFjay5jYWxsKHRoaXMuX3BhZFBhcmVudC5jYWxsYmFja0NvbnRleHQsdGhpcy5pbmRleCksZSYmdGhpcy5vbkNvbm5lY3RDYWxsYmFjayYmdGhpcy5vbkNvbm5lY3RDYWxsYmFjay5jYWxsKHRoaXMuY2FsbGJhY2tDb250ZXh0KX0sZGlzY29ubmVjdDpmdW5jdGlvbigpe3ZhciB0PXRoaXMuY29ubmVjdGVkLGU9dGhpcy5pbmRleDt0aGlzLmNvbm5lY3RlZD0hMSx0aGlzLmluZGV4PW51bGwsdGhpcy5fcmF3UGFkPXZvaWQgMDtmb3IodmFyIGk9MDtpPHRoaXMuX2J1dHRvbnNMZW47aSsrKXRoaXMuX2J1dHRvbnNbaV0uZGVzdHJveSgpO3RoaXMuX2J1dHRvbnM9W10sdGhpcy5fYnV0dG9uc0xlbj0wLHRoaXMuX2F4ZXM9W10sdGhpcy5fYXhlc0xlbj0wLHQmJnRoaXMuX3BhZFBhcmVudC5vbkRpc2Nvbm5lY3RDYWxsYmFjayYmdGhpcy5fcGFkUGFyZW50Lm9uRGlzY29ubmVjdENhbGxiYWNrLmNhbGwodGhpcy5fcGFkUGFyZW50LmNhbGxiYWNrQ29udGV4dCxlKSx0JiZ0aGlzLm9uRGlzY29ubmVjdENhbGxiYWNrJiZ0aGlzLm9uRGlzY29ubmVjdENhbGxiYWNrLmNhbGwodGhpcy5jYWxsYmFja0NvbnRleHQpfSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5fcmF3UGFkPXZvaWQgMDtmb3IodmFyIHQ9MDt0PHRoaXMuX2J1dHRvbnNMZW47dCsrKXRoaXMuX2J1dHRvbnNbdF0uZGVzdHJveSgpO3RoaXMuX2J1dHRvbnM9W10sdGhpcy5fYnV0dG9uc0xlbj0wLHRoaXMuX2F4ZXM9W10sdGhpcy5fYXhlc0xlbj0wLHRoaXMub25Db25uZWN0Q2FsbGJhY2s9bnVsbCx0aGlzLm9uRGlzY29ubmVjdENhbGxiYWNrPW51bGwsdGhpcy5vbkRvd25DYWxsYmFjaz1udWxsLHRoaXMub25VcENhbGxiYWNrPW51bGwsdGhpcy5vbkF4aXNDYWxsYmFjaz1udWxsLHRoaXMub25GbG9hdENhbGxiYWNrPW51bGx9LHByb2Nlc3NBeGlzQ2hhbmdlOmZ1bmN0aW9uKHQsZSl7dGhpcy5fYXhlc1t0XSE9PWUmJih0aGlzLl9heGVzW3RdPWUsdGhpcy5fcGFkUGFyZW50Lm9uQXhpc0NhbGxiYWNrJiZ0aGlzLl9wYWRQYXJlbnQub25BeGlzQ2FsbGJhY2suY2FsbCh0aGlzLl9wYWRQYXJlbnQuY2FsbGJhY2tDb250ZXh0LHRoaXMsdCxlKSx0aGlzLm9uQXhpc0NhbGxiYWNrJiZ0aGlzLm9uQXhpc0NhbGxiYWNrLmNhbGwodGhpcy5jYWxsYmFja0NvbnRleHQsdGhpcyx0LGUpKX0scHJvY2Vzc0J1dHRvbkRvd246ZnVuY3Rpb24odCxlKXt0aGlzLl9idXR0b25zW3RdJiZ0aGlzLl9idXR0b25zW3RdLnN0YXJ0KG51bGwsZSksdGhpcy5fcGFkUGFyZW50Lm9uRG93bkNhbGxiYWNrJiZ0aGlzLl9wYWRQYXJlbnQub25Eb3duQ2FsbGJhY2suY2FsbCh0aGlzLl9wYWRQYXJlbnQuY2FsbGJhY2tDb250ZXh0LHQsZSx0aGlzLmluZGV4KSx0aGlzLm9uRG93bkNhbGxiYWNrJiZ0aGlzLm9uRG93bkNhbGxiYWNrLmNhbGwodGhpcy5jYWxsYmFja0NvbnRleHQsdCxlKX0scHJvY2Vzc0J1dHRvblVwOmZ1bmN0aW9uKHQsZSl7dGhpcy5fcGFkUGFyZW50Lm9uVXBDYWxsYmFjayYmdGhpcy5fcGFkUGFyZW50Lm9uVXBDYWxsYmFjay5jYWxsKHRoaXMuX3BhZFBhcmVudC5jYWxsYmFja0NvbnRleHQsdCxlLHRoaXMuaW5kZXgpLHRoaXMub25VcENhbGxiYWNrJiZ0aGlzLm9uVXBDYWxsYmFjay5jYWxsKHRoaXMuY2FsbGJhY2tDb250ZXh0LHQsZSksdGhpcy5fYnV0dG9uc1t0XSYmdGhpcy5fYnV0dG9uc1t0XS5zdG9wKG51bGwsZSl9LHByb2Nlc3NCdXR0b25GbG9hdDpmdW5jdGlvbih0LGUpe3RoaXMuX3BhZFBhcmVudC5vbkZsb2F0Q2FsbGJhY2smJnRoaXMuX3BhZFBhcmVudC5vbkZsb2F0Q2FsbGJhY2suY2FsbCh0aGlzLl9wYWRQYXJlbnQuY2FsbGJhY2tDb250ZXh0LHQsZSx0aGlzLmluZGV4KSx0aGlzLm9uRmxvYXRDYWxsYmFjayYmdGhpcy5vbkZsb2F0Q2FsbGJhY2suY2FsbCh0aGlzLmNhbGxiYWNrQ29udGV4dCx0LGUpLHRoaXMuX2J1dHRvbnNbdF0mJnRoaXMuX2J1dHRvbnNbdF0ucGFkRmxvYXQoZSl9LGF4aXM6ZnVuY3Rpb24odCl7cmV0dXJuISF0aGlzLl9heGVzW3RdJiZ0aGlzLl9heGVzW3RdfSxpc0Rvd246ZnVuY3Rpb24odCl7cmV0dXJuISF0aGlzLl9idXR0b25zW3RdJiZ0aGlzLl9idXR0b25zW3RdLmlzRG93bn0saXNVcDpmdW5jdGlvbih0KXtyZXR1cm4hIXRoaXMuX2J1dHRvbnNbdF0mJnRoaXMuX2J1dHRvbnNbdF0uaXNVcH0sanVzdFJlbGVhc2VkOmZ1bmN0aW9uKHQsZSl7aWYodGhpcy5fYnV0dG9uc1t0XSlyZXR1cm4gdGhpcy5fYnV0dG9uc1t0XS5qdXN0UmVsZWFzZWQoZSl9LGp1c3RQcmVzc2VkOmZ1bmN0aW9uKHQsZSl7aWYodGhpcy5fYnV0dG9uc1t0XSlyZXR1cm4gdGhpcy5fYnV0dG9uc1t0XS5qdXN0UHJlc3NlZChlKX0sYnV0dG9uVmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2J1dHRvbnNbdF0/dGhpcy5fYnV0dG9uc1t0XS52YWx1ZTpudWxsfSxyZXNldDpmdW5jdGlvbigpe2Zvcih2YXIgdD0wO3Q8dGhpcy5fYXhlcy5sZW5ndGg7dCsrKXRoaXMuX2F4ZXNbdF09MH19LGkuU2luZ2xlUGFkLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1pLlNpbmdsZVBhZCxpLktleT1mdW5jdGlvbih0LGUpe3RoaXMuZ2FtZT10LHRoaXMuX2VuYWJsZWQ9ITAsdGhpcy5ldmVudD1udWxsLHRoaXMuaXNEb3duPSExLHRoaXMuaXNVcD0hMCx0aGlzLmFsdEtleT0hMSx0aGlzLmN0cmxLZXk9ITEsdGhpcy5zaGlmdEtleT0hMSx0aGlzLnRpbWVEb3duPTAsdGhpcy5kdXJhdGlvbj0wLHRoaXMudGltZVVwPS0yNTAwLHRoaXMuZHVyYXRpb25VcD0tMjUwMCx0aGlzLnJlcGVhdHM9MCx0aGlzLmtleUNvZGU9ZSx0aGlzLm9uRG93bj1uZXcgaS5TaWduYWwsdGhpcy5vbkhvbGRDYWxsYmFjaz1udWxsLHRoaXMub25Ib2xkQ29udGV4dD1udWxsLHRoaXMub25VcD1uZXcgaS5TaWduYWwsdGhpcy5fanVzdERvd249ITEsdGhpcy5fanVzdFVwPSExfSxpLktleS5wcm90b3R5cGU9e3VwZGF0ZTpmdW5jdGlvbigpe3RoaXMuX2VuYWJsZWQmJih0aGlzLmlzRG93bj8odGhpcy5kdXJhdGlvbj10aGlzLmdhbWUudGltZS50aW1lLXRoaXMudGltZURvd24sdGhpcy5yZXBlYXRzKyssdGhpcy5vbkhvbGRDYWxsYmFjayYmdGhpcy5vbkhvbGRDYWxsYmFjay5jYWxsKHRoaXMub25Ib2xkQ29udGV4dCx0aGlzKSk6dGhpcy5kdXJhdGlvblVwPXRoaXMuZ2FtZS50aW1lLnRpbWUtdGhpcy50aW1lVXApfSxwcm9jZXNzS2V5RG93bjpmdW5jdGlvbih0KXt0aGlzLl9lbmFibGVkJiYodGhpcy5ldmVudD10LHRoaXMuaXNEb3dufHwodGhpcy5hbHRLZXk9dC5hbHRLZXksdGhpcy5jdHJsS2V5PXQuY3RybEtleSx0aGlzLnNoaWZ0S2V5PXQuc2hpZnRLZXksdGhpcy5pc0Rvd249ITAsdGhpcy5pc1VwPSExLHRoaXMudGltZURvd249dGhpcy5nYW1lLnRpbWUudGltZSx0aGlzLmR1cmF0aW9uPTAsdGhpcy5kdXJhdGlvblVwPXRoaXMuZ2FtZS50aW1lLnRpbWUtdGhpcy50aW1lVXAsdGhpcy5yZXBlYXRzPTAsdGhpcy5fanVzdERvd249ITAsdGhpcy5vbkRvd24uZGlzcGF0Y2godGhpcykpKX0scHJvY2Vzc0tleVVwOmZ1bmN0aW9uKHQpe3RoaXMuX2VuYWJsZWQmJih0aGlzLmV2ZW50PXQsdGhpcy5pc1VwfHwodGhpcy5pc0Rvd249ITEsdGhpcy5pc1VwPSEwLHRoaXMudGltZVVwPXRoaXMuZ2FtZS50aW1lLnRpbWUsdGhpcy5kdXJhdGlvbj10aGlzLmdhbWUudGltZS50aW1lLXRoaXMudGltZURvd24sdGhpcy5kdXJhdGlvblVwPTAsdGhpcy5fanVzdFVwPSEwLHRoaXMub25VcC5kaXNwYXRjaCh0aGlzKSkpfSxyZXNldDpmdW5jdGlvbih0KXt2b2lkIDA9PT10JiYodD0hMCksdGhpcy5pc0Rvd249ITEsdGhpcy5pc1VwPSEwLHRoaXMudGltZVVwPXRoaXMuZ2FtZS50aW1lLnRpbWUsdGhpcy5kdXJhdGlvbj0wLHRoaXMuZHVyYXRpb25VcD0tMjUwMCx0aGlzLl9lbmFibGVkPSEwLHRoaXMuX2p1c3REb3duPSExLHRoaXMuX2p1c3RVcD0hMSx0JiYodGhpcy5vbkRvd24ucmVtb3ZlQWxsKCksdGhpcy5vblVwLnJlbW92ZUFsbCgpLHRoaXMub25Ib2xkQ2FsbGJhY2s9bnVsbCx0aGlzLm9uSG9sZENvbnRleHQ9bnVsbCl9LGRvd25EdXJhdGlvbjpmdW5jdGlvbih0KXtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9NTApLHRoaXMuaXNEb3duJiZ0aGlzLmR1cmF0aW9uPHR9LHVwRHVyYXRpb246ZnVuY3Rpb24odCl7cmV0dXJuIHZvaWQgMD09PXQmJih0PTUwKSwhdGhpcy5pc0Rvd24mJnRoaXMuZ2FtZS50aW1lLnRpbWUtdGhpcy50aW1lVXA8dH0sanVzdFByZXNzZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc0Rvd24mJjA9PT10aGlzLmR1cmF0aW9ufSxqdXN0UmVsZWFzZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5pc0Rvd24mJjA9PT10aGlzLmR1cmF0aW9uVXB9fSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5LZXkucHJvdG90eXBlLFwianVzdERvd25cIix7Z2V0OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fanVzdERvd247cmV0dXJuIHRoaXMuX2p1c3REb3duPSExLHR9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuS2V5LnByb3RvdHlwZSxcImp1c3RVcFwiLHtnZXQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9qdXN0VXA7cmV0dXJuIHRoaXMuX2p1c3RVcD0hMSx0fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLktleS5wcm90b3R5cGUsXCJlbmFibGVkXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9lbmFibGVkfSxzZXQ6ZnVuY3Rpb24odCl7KHQ9ISF0KSE9PXRoaXMuX2VuYWJsZWQmJih0fHx0aGlzLnJlc2V0KCExKSx0aGlzLl9lbmFibGVkPXQpfX0pLGkuS2V5LnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1pLktleSxpLktleWJvYXJkPWZ1bmN0aW9uKHQpe3RoaXMuZ2FtZT10LHRoaXMuZW5hYmxlZD0hMCx0aGlzLmV2ZW50PW51bGwsdGhpcy5wcmVzc0V2ZW50PW51bGwsdGhpcy5jYWxsYmFja0NvbnRleHQ9dGhpcyx0aGlzLm9uRG93bkNhbGxiYWNrPW51bGwsdGhpcy5vblByZXNzQ2FsbGJhY2s9bnVsbCx0aGlzLm9uVXBDYWxsYmFjaz1udWxsLHRoaXMuX2tleXM9W10sdGhpcy5fY2FwdHVyZT1bXSx0aGlzLl9vbktleURvd249bnVsbCx0aGlzLl9vbktleVByZXNzPW51bGwsdGhpcy5fb25LZXlVcD1udWxsLHRoaXMuX2k9MCx0aGlzLl9rPTB9LGkuS2V5Ym9hcmQucHJvdG90eXBlPXthZGRDYWxsYmFja3M6ZnVuY3Rpb24odCxlLGkscyl7dGhpcy5jYWxsYmFja0NvbnRleHQ9dCx2b2lkIDAhPT1lJiZudWxsIT09ZSYmKHRoaXMub25Eb3duQ2FsbGJhY2s9ZSksdm9pZCAwIT09aSYmbnVsbCE9PWkmJih0aGlzLm9uVXBDYWxsYmFjaz1pKSx2b2lkIDAhPT1zJiZudWxsIT09cyYmKHRoaXMub25QcmVzc0NhbGxiYWNrPXMpfSxhZGRLZXk6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2tleXNbdF18fCh0aGlzLl9rZXlzW3RdPW5ldyBpLktleSh0aGlzLmdhbWUsdCksdGhpcy5hZGRLZXlDYXB0dXJlKHQpKSx0aGlzLl9rZXlzW3RdfSxhZGRLZXlzOmZ1bmN0aW9uKHQpe3ZhciBlPXt9O2Zvcih2YXIgaSBpbiB0KWVbaV09dGhpcy5hZGRLZXkodFtpXSk7cmV0dXJuIGV9LHJlbW92ZUtleTpmdW5jdGlvbih0KXt0aGlzLl9rZXlzW3RdJiYodGhpcy5fa2V5c1t0XT1udWxsLHRoaXMucmVtb3ZlS2V5Q2FwdHVyZSh0KSl9LGNyZWF0ZUN1cnNvcktleXM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hZGRLZXlzKHt1cDppLktleUNvZGUuVVAsZG93bjppLktleUNvZGUuRE9XTixsZWZ0OmkuS2V5Q29kZS5MRUZULHJpZ2h0OmkuS2V5Q29kZS5SSUdIVH0pfSxzdGFydDpmdW5jdGlvbigpe2lmKCF0aGlzLmdhbWUuZGV2aWNlLmNvY29vbkpTJiZudWxsPT09dGhpcy5fb25LZXlEb3duKXt2YXIgdD10aGlzO3RoaXMuX29uS2V5RG93bj1mdW5jdGlvbihlKXtyZXR1cm4gdC5wcm9jZXNzS2V5RG93bihlKX0sdGhpcy5fb25LZXlVcD1mdW5jdGlvbihlKXtyZXR1cm4gdC5wcm9jZXNzS2V5VXAoZSl9LHRoaXMuX29uS2V5UHJlc3M9ZnVuY3Rpb24oZSl7cmV0dXJuIHQucHJvY2Vzc0tleVByZXNzKGUpfSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIix0aGlzLl9vbktleURvd24sITEpLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwia2V5dXBcIix0aGlzLl9vbktleVVwLCExKSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImtleXByZXNzXCIsdGhpcy5fb25LZXlQcmVzcywhMSl9fSxzdG9wOmZ1bmN0aW9uKCl7d2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsdGhpcy5fb25LZXlEb3duKSx3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsdGhpcy5fb25LZXlVcCksd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlwcmVzc1wiLHRoaXMuX29uS2V5UHJlc3MpLHRoaXMuX29uS2V5RG93bj1udWxsLHRoaXMuX29uS2V5VXA9bnVsbCx0aGlzLl9vbktleVByZXNzPW51bGx9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLnN0b3AoKSx0aGlzLmNsZWFyQ2FwdHVyZXMoKSx0aGlzLl9rZXlzLmxlbmd0aD0wLHRoaXMuX2k9MH0sYWRkS2V5Q2FwdHVyZTpmdW5jdGlvbih0KXtpZihcIm9iamVjdFwiPT10eXBlb2YgdClmb3IodmFyIGUgaW4gdCl0aGlzLl9jYXB0dXJlW3RbZV1dPSEwO2Vsc2UgdGhpcy5fY2FwdHVyZVt0XT0hMH0scmVtb3ZlS2V5Q2FwdHVyZTpmdW5jdGlvbih0KXtkZWxldGUgdGhpcy5fY2FwdHVyZVt0XX0sY2xlYXJDYXB0dXJlczpmdW5jdGlvbigpe3RoaXMuX2NhcHR1cmU9e319LHVwZGF0ZTpmdW5jdGlvbigpe2Zvcih0aGlzLl9pPXRoaXMuX2tleXMubGVuZ3RoO3RoaXMuX2ktLTspdGhpcy5fa2V5c1t0aGlzLl9pXSYmdGhpcy5fa2V5c1t0aGlzLl9pXS51cGRhdGUoKX0scHJvY2Vzc0tleURvd246ZnVuY3Rpb24odCl7aWYodGhpcy5ldmVudD10LHRoaXMuZ2FtZS5pbnB1dC5lbmFibGVkJiZ0aGlzLmVuYWJsZWQpe3ZhciBlPXQua2V5Q29kZTt0aGlzLl9jYXB0dXJlW2VdJiZ0LnByZXZlbnREZWZhdWx0KCksdGhpcy5fa2V5c1tlXXx8KHRoaXMuX2tleXNbZV09bmV3IGkuS2V5KHRoaXMuZ2FtZSxlKSksdGhpcy5fa2V5c1tlXS5wcm9jZXNzS2V5RG93bih0KSx0aGlzLl9rPWUsdGhpcy5vbkRvd25DYWxsYmFjayYmdGhpcy5vbkRvd25DYWxsYmFjay5jYWxsKHRoaXMuY2FsbGJhY2tDb250ZXh0LHQpfX0scHJvY2Vzc0tleVByZXNzOmZ1bmN0aW9uKHQpe3RoaXMucHJlc3NFdmVudD10LHRoaXMuZ2FtZS5pbnB1dC5lbmFibGVkJiZ0aGlzLmVuYWJsZWQmJnRoaXMub25QcmVzc0NhbGxiYWNrJiZ0aGlzLm9uUHJlc3NDYWxsYmFjay5jYWxsKHRoaXMuY2FsbGJhY2tDb250ZXh0LFN0cmluZy5mcm9tQ2hhckNvZGUodC5jaGFyQ29kZSksdCl9LHByb2Nlc3NLZXlVcDpmdW5jdGlvbih0KXtpZih0aGlzLmV2ZW50PXQsdGhpcy5nYW1lLmlucHV0LmVuYWJsZWQmJnRoaXMuZW5hYmxlZCl7dmFyIGU9dC5rZXlDb2RlO3RoaXMuX2NhcHR1cmVbZV0mJnQucHJldmVudERlZmF1bHQoKSx0aGlzLl9rZXlzW2VdfHwodGhpcy5fa2V5c1tlXT1uZXcgaS5LZXkodGhpcy5nYW1lLGUpKSx0aGlzLl9rZXlzW2VdLnByb2Nlc3NLZXlVcCh0KSx0aGlzLm9uVXBDYWxsYmFjayYmdGhpcy5vblVwQ2FsbGJhY2suY2FsbCh0aGlzLmNhbGxiYWNrQ29udGV4dCx0KX19LHJlc2V0OmZ1bmN0aW9uKHQpe3ZvaWQgMD09PXQmJih0PSEwKSx0aGlzLmV2ZW50PW51bGw7Zm9yKHZhciBlPXRoaXMuX2tleXMubGVuZ3RoO2UtLTspdGhpcy5fa2V5c1tlXSYmdGhpcy5fa2V5c1tlXS5yZXNldCh0KX0sZG93bkR1cmF0aW9uOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuX2tleXNbdF0/dGhpcy5fa2V5c1t0XS5kb3duRHVyYXRpb24oZSk6bnVsbH0sdXBEdXJhdGlvbjpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLl9rZXlzW3RdP3RoaXMuX2tleXNbdF0udXBEdXJhdGlvbihlKTpudWxsfSxqdXN0UHJlc3NlZDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fa2V5c1t0XT90aGlzLl9rZXlzW3RdLmp1c3RQcmVzc2VkKCk6bnVsbH0sanVzdFJlbGVhc2VkOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9rZXlzW3RdP3RoaXMuX2tleXNbdF0uanVzdFJlbGVhc2VkKCk6bnVsbH0saXNEb3duOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9rZXlzW3RdP3RoaXMuX2tleXNbdF0uaXNEb3duOm51bGx9fSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5LZXlib2FyZC5wcm90b3R5cGUsXCJsYXN0Q2hhclwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ldmVudCYmMzI9PT10aGlzLmV2ZW50LmNoYXJDb2RlP1wiXCI6dGhpcy5wcmVzc0V2ZW50P1N0cmluZy5mcm9tQ2hhckNvZGUodGhpcy5wcmVzc0V2ZW50LmNoYXJDb2RlKTpudWxsfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLktleWJvYXJkLnByb3RvdHlwZSxcImxhc3RLZXlcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2tleXNbdGhpcy5fa119fSksaS5LZXlib2FyZC5wcm90b3R5cGUuY29uc3RydWN0b3I9aS5LZXlib2FyZCxpLktleUNvZGU9e0E6XCJBXCIuY2hhckNvZGVBdCgwKSxCOlwiQlwiLmNoYXJDb2RlQXQoMCksQzpcIkNcIi5jaGFyQ29kZUF0KDApLEQ6XCJEXCIuY2hhckNvZGVBdCgwKSxFOlwiRVwiLmNoYXJDb2RlQXQoMCksRjpcIkZcIi5jaGFyQ29kZUF0KDApLEc6XCJHXCIuY2hhckNvZGVBdCgwKSxIOlwiSFwiLmNoYXJDb2RlQXQoMCksSTpcIklcIi5jaGFyQ29kZUF0KDApLEo6XCJKXCIuY2hhckNvZGVBdCgwKSxLOlwiS1wiLmNoYXJDb2RlQXQoMCksTDpcIkxcIi5jaGFyQ29kZUF0KDApLE06XCJNXCIuY2hhckNvZGVBdCgwKSxOOlwiTlwiLmNoYXJDb2RlQXQoMCksTzpcIk9cIi5jaGFyQ29kZUF0KDApLFA6XCJQXCIuY2hhckNvZGVBdCgwKSxROlwiUVwiLmNoYXJDb2RlQXQoMCksUjpcIlJcIi5jaGFyQ29kZUF0KDApLFM6XCJTXCIuY2hhckNvZGVBdCgwKSxUOlwiVFwiLmNoYXJDb2RlQXQoMCksVTpcIlVcIi5jaGFyQ29kZUF0KDApLFY6XCJWXCIuY2hhckNvZGVBdCgwKSxXOlwiV1wiLmNoYXJDb2RlQXQoMCksWDpcIlhcIi5jaGFyQ29kZUF0KDApLFk6XCJZXCIuY2hhckNvZGVBdCgwKSxaOlwiWlwiLmNoYXJDb2RlQXQoMCksWkVSTzpcIjBcIi5jaGFyQ29kZUF0KDApLE9ORTpcIjFcIi5jaGFyQ29kZUF0KDApLFRXTzpcIjJcIi5jaGFyQ29kZUF0KDApLFRIUkVFOlwiM1wiLmNoYXJDb2RlQXQoMCksRk9VUjpcIjRcIi5jaGFyQ29kZUF0KDApLEZJVkU6XCI1XCIuY2hhckNvZGVBdCgwKSxTSVg6XCI2XCIuY2hhckNvZGVBdCgwKSxTRVZFTjpcIjdcIi5jaGFyQ29kZUF0KDApLEVJR0hUOlwiOFwiLmNoYXJDb2RlQXQoMCksTklORTpcIjlcIi5jaGFyQ29kZUF0KDApLE5VTVBBRF8wOjk2LE5VTVBBRF8xOjk3LE5VTVBBRF8yOjk4LE5VTVBBRF8zOjk5LE5VTVBBRF80OjEwMCxOVU1QQURfNToxMDEsTlVNUEFEXzY6MTAyLE5VTVBBRF83OjEwMyxOVU1QQURfODoxMDQsTlVNUEFEXzk6MTA1LE5VTVBBRF9NVUxUSVBMWToxMDYsTlVNUEFEX0FERDoxMDcsTlVNUEFEX0VOVEVSOjEwOCxOVU1QQURfU1VCVFJBQ1Q6MTA5LE5VTVBBRF9ERUNJTUFMOjExMCxOVU1QQURfRElWSURFOjExMSxGMToxMTIsRjI6MTEzLEYzOjExNCxGNDoxMTUsRjU6MTE2LEY2OjExNyxGNzoxMTgsRjg6MTE5LEY5OjEyMCxGMTA6MTIxLEYxMToxMjIsRjEyOjEyMyxGMTM6MTI0LEYxNDoxMjUsRjE1OjEyNixDT0xPTjoxODYsRVFVQUxTOjE4NyxDT01NQToxODgsVU5ERVJTQ09SRToxODksUEVSSU9EOjE5MCxRVUVTVElPTl9NQVJLOjE5MSxUSUxERToxOTIsT1BFTl9CUkFDS0VUOjIxOSxCQUNLV0FSRF9TTEFTSDoyMjAsQ0xPU0VEX0JSQUNLRVQ6MjIxLFFVT1RFUzoyMjIsQkFDS1NQQUNFOjgsVEFCOjksQ0xFQVI6MTIsRU5URVI6MTMsU0hJRlQ6MTYsQ09OVFJPTDoxNyxBTFQ6MTgsQ0FQU19MT0NLOjIwLEVTQzoyNyxTUEFDRUJBUjozMixQQUdFX1VQOjMzLFBBR0VfRE9XTjozNCxFTkQ6MzUsSE9NRTozNixMRUZUOjM3LFVQOjM4LFJJR0hUOjM5LERPV046NDAsUExVUzo0MyxNSU5VUzo0NCxJTlNFUlQ6NDUsREVMRVRFOjQ2LEhFTFA6NDcsTlVNX0xPQ0s6MTQ0fTtmb3IodmFyIG4gaW4gaS5LZXlDb2RlKWkuS2V5Q29kZS5oYXNPd25Qcm9wZXJ0eShuKSYmIW4ubWF0Y2goL1thLXpdLykmJihpLktleWJvYXJkW25dPWkuS2V5Q29kZVtuXSk7aS5Db21wb25lbnQ9ZnVuY3Rpb24oKXt9LGkuQ29tcG9uZW50LkFuZ2xlPWZ1bmN0aW9uKCl7fSxpLkNvbXBvbmVudC5BbmdsZS5wcm90b3R5cGU9e2FuZ2xlOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaS5NYXRoLndyYXBBbmdsZShpLk1hdGgucmFkVG9EZWcodGhpcy5yb3RhdGlvbikpfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5yb3RhdGlvbj1pLk1hdGguZGVnVG9SYWQoaS5NYXRoLndyYXBBbmdsZSh0KSl9fX0saS5Db21wb25lbnQuQW5pbWF0aW9uPWZ1bmN0aW9uKCl7fSxpLkNvbXBvbmVudC5BbmltYXRpb24ucHJvdG90eXBlPXtwbGF5OmZ1bmN0aW9uKHQsZSxpLHMpe2lmKHRoaXMuYW5pbWF0aW9ucylyZXR1cm4gdGhpcy5hbmltYXRpb25zLnBsYXkodCxlLGkscyl9fSxpLkNvbXBvbmVudC5BdXRvQ3VsbD1mdW5jdGlvbigpe30saS5Db21wb25lbnQuQXV0b0N1bGwucHJvdG90eXBlPXthdXRvQ3VsbDohMSxpbkNhbWVyYTp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYXV0b0N1bGx8fHRoaXMuY2hlY2tXb3JsZEJvdW5kc3x8KHRoaXMuX2JvdW5kcy5jb3B5RnJvbSh0aGlzLmdldEJvdW5kcygpKSx0aGlzLl9ib3VuZHMueCs9dGhpcy5nYW1lLmNhbWVyYS52aWV3LngsdGhpcy5fYm91bmRzLnkrPXRoaXMuZ2FtZS5jYW1lcmEudmlldy55KSx0aGlzLmdhbWUud29ybGQuY2FtZXJhLnZpZXcuaW50ZXJzZWN0cyh0aGlzLl9ib3VuZHMpfX19LGkuQ29tcG9uZW50LkJvdW5kcz1mdW5jdGlvbigpe30saS5Db21wb25lbnQuQm91bmRzLnByb3RvdHlwZT17b2Zmc2V0WDp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYW5jaG9yLngqdGhpcy53aWR0aH19LG9mZnNldFk6e2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmFuY2hvci55KnRoaXMuaGVpZ2h0fX0sY2VudGVyWDp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMueC10aGlzLm9mZnNldFgrLjUqdGhpcy53aWR0aH0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMueD10K3RoaXMub2Zmc2V0WC0uNSp0aGlzLndpZHRofX0sY2VudGVyWTp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMueS10aGlzLm9mZnNldFkrLjUqdGhpcy5oZWlnaHR9LHNldDpmdW5jdGlvbih0KXt0aGlzLnk9dCt0aGlzLm9mZnNldFktLjUqdGhpcy5oZWlnaHR9fSxsZWZ0OntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy54LXRoaXMub2Zmc2V0WH0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMueD10K3RoaXMub2Zmc2V0WH19LHJpZ2h0OntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy54K3RoaXMud2lkdGgtdGhpcy5vZmZzZXRYfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy54PXQtdGhpcy53aWR0aCt0aGlzLm9mZnNldFh9fSx0b3A6e2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnktdGhpcy5vZmZzZXRZfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy55PXQrdGhpcy5vZmZzZXRZfX0sYm90dG9tOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy55K3RoaXMuaGVpZ2h0LXRoaXMub2Zmc2V0WX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMueT10LXRoaXMuaGVpZ2h0K3RoaXMub2Zmc2V0WX19LGFsaWduSW46ZnVuY3Rpb24odCxlLHMsbil7c3dpdGNoKHZvaWQgMD09PXMmJihzPTApLHZvaWQgMD09PW4mJihuPTApLGUpe2RlZmF1bHQ6Y2FzZSBpLlRPUF9MRUZUOnRoaXMubGVmdD10LmxlZnQtcyx0aGlzLnRvcD10LnRvcC1uO2JyZWFrO2Nhc2UgaS5UT1BfQ0VOVEVSOnRoaXMuY2VudGVyWD10LmNlbnRlclgrcyx0aGlzLnRvcD10LnRvcC1uO2JyZWFrO2Nhc2UgaS5UT1BfUklHSFQ6dGhpcy5yaWdodD10LnJpZ2h0K3MsdGhpcy50b3A9dC50b3AtbjticmVhaztjYXNlIGkuTEVGVF9DRU5URVI6dGhpcy5sZWZ0PXQubGVmdC1zLHRoaXMuY2VudGVyWT10LmNlbnRlclkrbjticmVhaztjYXNlIGkuQ0VOVEVSOnRoaXMuY2VudGVyWD10LmNlbnRlclgrcyx0aGlzLmNlbnRlclk9dC5jZW50ZXJZK247YnJlYWs7Y2FzZSBpLlJJR0hUX0NFTlRFUjp0aGlzLnJpZ2h0PXQucmlnaHQrcyx0aGlzLmNlbnRlclk9dC5jZW50ZXJZK247YnJlYWs7Y2FzZSBpLkJPVFRPTV9MRUZUOnRoaXMubGVmdD10LmxlZnQtcyx0aGlzLmJvdHRvbT10LmJvdHRvbStuO2JyZWFrO2Nhc2UgaS5CT1RUT01fQ0VOVEVSOnRoaXMuY2VudGVyWD10LmNlbnRlclgrcyx0aGlzLmJvdHRvbT10LmJvdHRvbStuO2JyZWFrO2Nhc2UgaS5CT1RUT01fUklHSFQ6dGhpcy5yaWdodD10LnJpZ2h0K3MsdGhpcy5ib3R0b209dC5ib3R0b20rbn1yZXR1cm4gdGhpc30sYWxpZ25UbzpmdW5jdGlvbih0LGUscyxuKXtzd2l0Y2godm9pZCAwPT09cyYmKHM9MCksdm9pZCAwPT09biYmKG49MCksZSl7ZGVmYXVsdDpjYXNlIGkuVE9QX0xFRlQ6dGhpcy5sZWZ0PXQubGVmdC1zLHRoaXMuYm90dG9tPXQudG9wLW47YnJlYWs7Y2FzZSBpLlRPUF9DRU5URVI6dGhpcy5jZW50ZXJYPXQuY2VudGVyWCtzLHRoaXMuYm90dG9tPXQudG9wLW47YnJlYWs7Y2FzZSBpLlRPUF9SSUdIVDp0aGlzLnJpZ2h0PXQucmlnaHQrcyx0aGlzLmJvdHRvbT10LnRvcC1uO2JyZWFrO2Nhc2UgaS5MRUZUX1RPUDp0aGlzLnJpZ2h0PXQubGVmdC1zLHRoaXMudG9wPXQudG9wLW47YnJlYWs7Y2FzZSBpLkxFRlRfQ0VOVEVSOnRoaXMucmlnaHQ9dC5sZWZ0LXMsdGhpcy5jZW50ZXJZPXQuY2VudGVyWStuO2JyZWFrO2Nhc2UgaS5MRUZUX0JPVFRPTTp0aGlzLnJpZ2h0PXQubGVmdC1zLHRoaXMuYm90dG9tPXQuYm90dG9tK247YnJlYWs7Y2FzZSBpLlJJR0hUX1RPUDp0aGlzLmxlZnQ9dC5yaWdodCtzLHRoaXMudG9wPXQudG9wLW47YnJlYWs7Y2FzZSBpLlJJR0hUX0NFTlRFUjp0aGlzLmxlZnQ9dC5yaWdodCtzLHRoaXMuY2VudGVyWT10LmNlbnRlclkrbjticmVhaztjYXNlIGkuUklHSFRfQk9UVE9NOnRoaXMubGVmdD10LnJpZ2h0K3MsdGhpcy5ib3R0b209dC5ib3R0b20rbjticmVhaztjYXNlIGkuQk9UVE9NX0xFRlQ6dGhpcy5sZWZ0PXQubGVmdC1zLHRoaXMudG9wPXQuYm90dG9tK247YnJlYWs7Y2FzZSBpLkJPVFRPTV9DRU5URVI6dGhpcy5jZW50ZXJYPXQuY2VudGVyWCtzLHRoaXMudG9wPXQuYm90dG9tK247YnJlYWs7Y2FzZSBpLkJPVFRPTV9SSUdIVDp0aGlzLnJpZ2h0PXQucmlnaHQrcyx0aGlzLnRvcD10LmJvdHRvbStufXJldHVybiB0aGlzfX0saS5Hcm91cC5wcm90b3R5cGUuYWxpZ25Jbj1pLkNvbXBvbmVudC5Cb3VuZHMucHJvdG90eXBlLmFsaWduSW4saS5Hcm91cC5wcm90b3R5cGUuYWxpZ25Ubz1pLkNvbXBvbmVudC5Cb3VuZHMucHJvdG90eXBlLmFsaWduVG8saS5Db21wb25lbnQuQnJpbmdUb1RvcD1mdW5jdGlvbigpe30saS5Db21wb25lbnQuQnJpbmdUb1RvcC5wcm90b3R5cGUuYnJpbmdUb1RvcD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnBhcmVudCYmdGhpcy5wYXJlbnQuYnJpbmdUb1RvcCh0aGlzKSx0aGlzfSxpLkNvbXBvbmVudC5CcmluZ1RvVG9wLnByb3RvdHlwZS5zZW5kVG9CYWNrPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGFyZW50JiZ0aGlzLnBhcmVudC5zZW5kVG9CYWNrKHRoaXMpLHRoaXN9LGkuQ29tcG9uZW50LkJyaW5nVG9Ub3AucHJvdG90eXBlLm1vdmVVcD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnBhcmVudCYmdGhpcy5wYXJlbnQubW92ZVVwKHRoaXMpLHRoaXN9LGkuQ29tcG9uZW50LkJyaW5nVG9Ub3AucHJvdG90eXBlLm1vdmVEb3duPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGFyZW50JiZ0aGlzLnBhcmVudC5tb3ZlRG93bih0aGlzKSx0aGlzfSxpLkNvbXBvbmVudC5Db3JlPWZ1bmN0aW9uKCl7fSxpLkNvbXBvbmVudC5Db3JlLnNraXBUeXBlQ2hlY2tzPSExLGkuQ29tcG9uZW50LkNvcmUuaW5zdGFsbD1mdW5jdGlvbih0KXtpLlV0aWxzLm1peGluUHJvdG90eXBlKHRoaXMsaS5Db21wb25lbnQuQ29yZS5wcm90b3R5cGUpLHRoaXMuY29tcG9uZW50cz17fTtmb3IodmFyIGU9MDtlPHQubGVuZ3RoO2UrKyl7dmFyIHM9dFtlXSxuPSExO1wiRGVzdHJveVwiPT09cyYmKG49ITApLGkuVXRpbHMubWl4aW5Qcm90b3R5cGUodGhpcyxpLkNvbXBvbmVudFtzXS5wcm90b3R5cGUsbiksdGhpcy5jb21wb25lbnRzW3NdPSEwfX0saS5Db21wb25lbnQuQ29yZS5pbml0PWZ1bmN0aW9uKHQsZSxzLG4sbyl7aWYoIWkuQ29tcG9uZW50LkNvcmUuc2tpcFR5cGVDaGVja3Mpe2lmKCEodCBpbnN0YW5jZW9mIGkuR2FtZSkpdGhyb3cgbmV3IEVycm9yKFwiVGhlIHZhbHVlIHBhc3NlZCBhcyB0aGUgYGdhbWVgIGFyZ3VtZW50IChcIit0K1wiKSBpcyBub3QgYW4gaW5zdGFuY2Ugb2YgUGhhc2VyLkdhbWUuXCIpO1wibnVtYmVyXCIhPXR5cGVvZiBlJiYoY29uc29sZS53YXJuKFwiVGhlIGB4YCBhcmd1bWVudCB2YWx1ZSAoJXMpIHNob3VsZCBiZSBhIG51bWJlci5cIixlKSxlPTApLFwibnVtYmVyXCIhPXR5cGVvZiBzJiYoY29uc29sZS53YXJuKFwiVGhlIGB5YCBhcmd1bWVudCB2YWx1ZSAoJXMpIHNob3VsZCBiZSBhIG51bWJlci5cIixzKSxzPTApfXRoaXMuZ2FtZT10LHRoaXMua2V5PW4sdGhpcy5kYXRhPXt9LHRoaXMucG9zaXRpb24uc2V0KGUscyksdGhpcy53b3JsZD1uZXcgaS5Qb2ludChlLHMpLHRoaXMucHJldmlvdXNQb3NpdGlvbj1uZXcgaS5Qb2ludChlLHMpLHRoaXMuZXZlbnRzPW5ldyBpLkV2ZW50cyh0aGlzKSx0aGlzLl9ib3VuZHM9bmV3IGkuUmVjdGFuZ2xlLHRoaXMuY29tcG9uZW50cy5QaHlzaWNzQm9keSYmKHRoaXMuYm9keT10aGlzLmJvZHkpLHRoaXMuY29tcG9uZW50cy5BbmltYXRpb24mJih0aGlzLmFuaW1hdGlvbnM9bmV3IGkuQW5pbWF0aW9uTWFuYWdlcih0aGlzKSksdGhpcy5jb21wb25lbnRzLkxvYWRUZXh0dXJlJiZudWxsIT09biYmdGhpcy5sb2FkVGV4dHVyZShuLG8pLHRoaXMuY29tcG9uZW50cy5GaXhlZFRvQ2FtZXJhJiYodGhpcy5jYW1lcmFPZmZzZXQ9bmV3IGkuUG9pbnQoZSxzKSl9LGkuQ29tcG9uZW50LkNvcmUucHJlVXBkYXRlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGVuZGluZ0Rlc3Ryb3k/KHRoaXMuZGVzdHJveSgpLCExKToodGhpcy5wcmV2aW91c1Bvc2l0aW9uLnNldCh0aGlzLndvcmxkLngsdGhpcy53b3JsZC55KSx0aGlzLnByZXZpb3VzUm90YXRpb249dGhpcy5yb3RhdGlvbix0aGlzLmV4aXN0cyYmdGhpcy5wYXJlbnQuZXhpc3RzPyh0aGlzLndvcmxkLnNldFRvKHRoaXMuZ2FtZS5jYW1lcmEueCt0aGlzLndvcmxkVHJhbnNmb3JtLnR4LHRoaXMuZ2FtZS5jYW1lcmEueSt0aGlzLndvcmxkVHJhbnNmb3JtLnR5KSx0aGlzLnZpc2libGUmJih0aGlzLnJlbmRlck9yZGVySUQ9dGhpcy5nYW1lLnN0YWdlLmN1cnJlbnRSZW5kZXJPcmRlcklEKyspLHRoaXMuYW5pbWF0aW9ucyYmdGhpcy5hbmltYXRpb25zLnVwZGF0ZSgpLHRoaXMuYm9keSYmdGhpcy5ib2R5LnByZVVwZGF0ZSgpLHRoaXMucHJlVXBkYXRlQ2hpbGRyZW4oKSwhMCk6KHRoaXMucmVuZGVyT3JkZXJJRD0tMSwhMSkpfSxpLkNvbXBvbmVudC5Db3JlLnByb3RvdHlwZT17Z2FtZTpudWxsLG5hbWU6XCJcIixkYXRhOnt9LGNvbXBvbmVudHM6e30sejowLGV2ZW50czp2b2lkIDAsYW5pbWF0aW9uczp2b2lkIDAsa2V5OlwiXCIsd29ybGQ6bnVsbCxkZWJ1ZzohMSxwcmV2aW91c1Bvc2l0aW9uOm51bGwscHJldmlvdXNSb3RhdGlvbjowLHJlbmRlck9yZGVySUQ6MCxmcmVzaDohMCxwZW5kaW5nRGVzdHJveTohMSxfYm91bmRzOm51bGwsX2V4aXN0czohMCxleGlzdHM6e2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9leGlzdHN9LHNldDpmdW5jdGlvbih0KXt0Pyh0aGlzLl9leGlzdHM9ITAsdGhpcy5ib2R5JiZ0aGlzLmJvZHkudHlwZT09PWkuUGh5c2ljcy5QMkpTJiZ0aGlzLmJvZHkuYWRkVG9Xb3JsZCgpLHRoaXMudmlzaWJsZT0hMCk6KHRoaXMuX2V4aXN0cz0hMSx0aGlzLmJvZHkmJnRoaXMuYm9keS50eXBlPT09aS5QaHlzaWNzLlAySlMmJnRoaXMuYm9keS5yZW1vdmVGcm9tV29ybGQoKSx0aGlzLnZpc2libGU9ITEpfX0scHJlVXBkYXRlQ2hpbGRyZW46ZnVuY3Rpb24oKXtmb3IodmFyIHQ9MDt0PHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyl7dmFyIGU9dGhpcy5jaGlsZHJlblt0XTtlLnByZVVwZGF0ZSgpLHRoaXM9PT1lLnBhcmVudCYmdCsrfX0sdXBkYXRlOmZ1bmN0aW9uKCl7fSxwb3N0VXBkYXRlOmZ1bmN0aW9uKCl7dGhpcy5jdXN0b21SZW5kZXImJnRoaXMua2V5LnJlbmRlcigpLHRoaXMuY29tcG9uZW50cy5QaHlzaWNzQm9keSYmaS5Db21wb25lbnQuUGh5c2ljc0JvZHkucG9zdFVwZGF0ZS5jYWxsKHRoaXMpLHRoaXMuY29tcG9uZW50cy5GaXhlZFRvQ2FtZXJhJiZpLkNvbXBvbmVudC5GaXhlZFRvQ2FtZXJhLnBvc3RVcGRhdGUuY2FsbCh0aGlzKTtmb3IodmFyIHQ9MDt0PHRoaXMuY2hpbGRyZW4ubGVuZ3RoO3QrKyl0aGlzLmNoaWxkcmVuW3RdLnBvc3RVcGRhdGUoKX19LGkuQ29tcG9uZW50LkNyb3A9ZnVuY3Rpb24oKXt9LGkuQ29tcG9uZW50LkNyb3AucHJvdG90eXBlPXtjcm9wUmVjdDpudWxsLF9jcm9wOm51bGwsY3JvcDpmdW5jdGlvbih0LGUpe3ZvaWQgMD09PWUmJihlPSExKSx0PyhlJiZudWxsIT09dGhpcy5jcm9wUmVjdD90aGlzLmNyb3BSZWN0LnNldFRvKHQueCx0LnksdC53aWR0aCx0LmhlaWdodCk6ZSYmbnVsbD09PXRoaXMuY3JvcFJlY3Q/dGhpcy5jcm9wUmVjdD1uZXcgaS5SZWN0YW5nbGUodC54LHQueSx0LndpZHRoLHQuaGVpZ2h0KTp0aGlzLmNyb3BSZWN0PXQsdGhpcy51cGRhdGVDcm9wKCkpOih0aGlzLl9jcm9wPW51bGwsdGhpcy5jcm9wUmVjdD1udWxsLHRoaXMucmVzZXRGcmFtZSgpKX0sdXBkYXRlQ3JvcDpmdW5jdGlvbigpe2lmKHRoaXMuY3JvcFJlY3Qpe3ZhciB0PXRoaXMudGV4dHVyZS5jcm9wLngsZT10aGlzLnRleHR1cmUuY3JvcC55LHM9dGhpcy50ZXh0dXJlLmNyb3Aud2lkdGgsbj10aGlzLnRleHR1cmUuY3JvcC5oZWlnaHQ7dGhpcy5fY3JvcD1pLlJlY3RhbmdsZS5jbG9uZSh0aGlzLmNyb3BSZWN0LHRoaXMuX2Nyb3ApLHRoaXMuX2Nyb3AueCs9dGhpcy5fZnJhbWUueCx0aGlzLl9jcm9wLnkrPXRoaXMuX2ZyYW1lLnk7dmFyIG89TWF0aC5tYXgodGhpcy5fZnJhbWUueCx0aGlzLl9jcm9wLngpLHI9TWF0aC5tYXgodGhpcy5fZnJhbWUueSx0aGlzLl9jcm9wLnkpLGE9TWF0aC5taW4odGhpcy5fZnJhbWUucmlnaHQsdGhpcy5fY3JvcC5yaWdodCktbyxoPU1hdGgubWluKHRoaXMuX2ZyYW1lLmJvdHRvbSx0aGlzLl9jcm9wLmJvdHRvbSktcjt0aGlzLnRleHR1cmUuY3JvcC54PW8sdGhpcy50ZXh0dXJlLmNyb3AueT1yLHRoaXMudGV4dHVyZS5jcm9wLndpZHRoPWEsdGhpcy50ZXh0dXJlLmNyb3AuaGVpZ2h0PWgsdGhpcy50ZXh0dXJlLmZyYW1lLndpZHRoPU1hdGgubWluKGEsdGhpcy5jcm9wUmVjdC53aWR0aCksdGhpcy50ZXh0dXJlLmZyYW1lLmhlaWdodD1NYXRoLm1pbihoLHRoaXMuY3JvcFJlY3QuaGVpZ2h0KSx0aGlzLnRleHR1cmUud2lkdGg9dGhpcy50ZXh0dXJlLmZyYW1lLndpZHRoLHRoaXMudGV4dHVyZS5oZWlnaHQ9dGhpcy50ZXh0dXJlLmZyYW1lLmhlaWdodCx0aGlzLnRleHR1cmUuX3VwZGF0ZVV2cygpLDE2Nzc3MjE1PT09dGhpcy50aW50fHx0PT09byYmZT09PXImJnM9PT1hJiZuPT09aHx8KHRoaXMudGV4dHVyZS5yZXF1aXJlc1JlVGludD0hMCl9fX0saS5Db21wb25lbnQuRGVsdGE9ZnVuY3Rpb24oKXt9LGkuQ29tcG9uZW50LkRlbHRhLnByb3RvdHlwZT17ZGVsdGFYOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy53b3JsZC54LXRoaXMucHJldmlvdXNQb3NpdGlvbi54fX0sZGVsdGFZOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy53b3JsZC55LXRoaXMucHJldmlvdXNQb3NpdGlvbi55fX0sZGVsdGFaOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yb3RhdGlvbi10aGlzLnByZXZpb3VzUm90YXRpb259fX0saS5Db21wb25lbnQuRGVzdHJveT1mdW5jdGlvbigpe30saS5Db21wb25lbnQuRGVzdHJveS5wcm90b3R5cGU9e2Rlc3Ryb3lQaGFzZTohMSxkZXN0cm95OmZ1bmN0aW9uKHQsZSl7aWYobnVsbCE9PXRoaXMuZ2FtZSYmIXRoaXMuZGVzdHJveVBoYXNlKXt2b2lkIDA9PT10JiYodD0hMCksdm9pZCAwPT09ZSYmKGU9ITEpLHRoaXMuZGVzdHJveVBoYXNlPSEwLHRoaXMuZXZlbnRzJiZ0aGlzLmV2ZW50cy5vbkRlc3Ryb3kkZGlzcGF0Y2godGhpcyksdGhpcy5wYXJlbnQmJih0aGlzLnBhcmVudCBpbnN0YW5jZW9mIGkuR3JvdXA/dGhpcy5wYXJlbnQucmVtb3ZlKHRoaXMpOnRoaXMucGFyZW50LnJlbW92ZUNoaWxkKHRoaXMpKSx0aGlzLmlucHV0JiZ0aGlzLmlucHV0LmRlc3Ryb3koKSx0aGlzLmFuaW1hdGlvbnMmJnRoaXMuYW5pbWF0aW9ucy5kZXN0cm95KCksdGhpcy5ib2R5JiZ0aGlzLmJvZHkuZGVzdHJveSgpLHRoaXMuZXZlbnRzJiZ0aGlzLmV2ZW50cy5kZXN0cm95KCksdGhpcy5nYW1lLnR3ZWVucy5yZW1vdmVGcm9tKHRoaXMpO3ZhciBzPXRoaXMuY2hpbGRyZW4ubGVuZ3RoO2lmKHQpZm9yKDtzLS07KXRoaXMuY2hpbGRyZW5bc10uZGVzdHJveSh0KTtlbHNlIGZvcig7cy0tOyl0aGlzLnJlbW92ZUNoaWxkKHRoaXMuY2hpbGRyZW5bc10pO3RoaXMuX2Nyb3AmJih0aGlzLl9jcm9wPW51bGwsdGhpcy5jcm9wUmVjdD1udWxsKSx0aGlzLl9mcmFtZSYmKHRoaXMuX2ZyYW1lPW51bGwpLGkuVmlkZW8mJnRoaXMua2V5IGluc3RhbmNlb2YgaS5WaWRlbyYmdGhpcy5rZXkub25DaGFuZ2VTb3VyY2UucmVtb3ZlKHRoaXMucmVzaXplRnJhbWUsdGhpcyksaS5CaXRtYXBUZXh0JiZ0aGlzLl9nbHlwaHMmJih0aGlzLl9nbHlwaHM9W10pLHRoaXMuYWxpdmU9ITEsdGhpcy5leGlzdHM9ITEsdGhpcy52aXNpYmxlPSExLHRoaXMuZmlsdGVycz1udWxsLHRoaXMubWFzaz1udWxsLHRoaXMuZ2FtZT1udWxsLHRoaXMuZGF0YT17fSx0aGlzLnJlbmRlcmFibGU9ITEsdGhpcy50cmFuc2Zvcm1DYWxsYmFjayYmKHRoaXMudHJhbnNmb3JtQ2FsbGJhY2s9bnVsbCx0aGlzLnRyYW5zZm9ybUNhbGxiYWNrQ29udGV4dD1udWxsKSx0aGlzLmhpdEFyZWE9bnVsbCx0aGlzLnBhcmVudD1udWxsLHRoaXMuc3RhZ2U9bnVsbCx0aGlzLndvcmxkVHJhbnNmb3JtPW51bGwsdGhpcy5maWx0ZXJBcmVhPW51bGwsdGhpcy5fYm91bmRzPW51bGwsdGhpcy5fY3VycmVudEJvdW5kcz1udWxsLHRoaXMuX21hc2s9bnVsbCx0aGlzLl9kZXN0cm95Q2FjaGVkU3ByaXRlKCksZSYmdGhpcy50ZXh0dXJlLmRlc3Ryb3koITApLHRoaXMuZGVzdHJveVBoYXNlPSExLHRoaXMucGVuZGluZ0Rlc3Ryb3k9ITF9fX0saS5FdmVudHM9ZnVuY3Rpb24odCl7dGhpcy5wYXJlbnQ9dH0saS5FdmVudHMucHJvdG90eXBlPXtkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5fcGFyZW50PW51bGwsdGhpcy5fb25EZXN0cm95JiZ0aGlzLl9vbkRlc3Ryb3kuZGlzcG9zZSgpLHRoaXMuX29uQWRkZWRUb0dyb3VwJiZ0aGlzLl9vbkFkZGVkVG9Hcm91cC5kaXNwb3NlKCksdGhpcy5fb25SZW1vdmVkRnJvbUdyb3VwJiZ0aGlzLl9vblJlbW92ZWRGcm9tR3JvdXAuZGlzcG9zZSgpLHRoaXMuX29uS2lsbGVkJiZ0aGlzLl9vbktpbGxlZC5kaXNwb3NlKCksdGhpcy5fb25SZXZpdmVkJiZ0aGlzLl9vblJldml2ZWQuZGlzcG9zZSgpLHRoaXMuX29uRW50ZXJCb3VuZHMmJnRoaXMuX29uRW50ZXJCb3VuZHMuZGlzcG9zZSgpLHRoaXMuX29uT3V0T2ZCb3VuZHMmJnRoaXMuX29uT3V0T2ZCb3VuZHMuZGlzcG9zZSgpLHRoaXMuX29uSW5wdXRPdmVyJiZ0aGlzLl9vbklucHV0T3Zlci5kaXNwb3NlKCksdGhpcy5fb25JbnB1dE91dCYmdGhpcy5fb25JbnB1dE91dC5kaXNwb3NlKCksdGhpcy5fb25JbnB1dERvd24mJnRoaXMuX29uSW5wdXREb3duLmRpc3Bvc2UoKSx0aGlzLl9vbklucHV0VXAmJnRoaXMuX29uSW5wdXRVcC5kaXNwb3NlKCksdGhpcy5fb25EcmFnU3RhcnQmJnRoaXMuX29uRHJhZ1N0YXJ0LmRpc3Bvc2UoKSx0aGlzLl9vbkRyYWdVcGRhdGUmJnRoaXMuX29uRHJhZ1VwZGF0ZS5kaXNwb3NlKCksdGhpcy5fb25EcmFnU3RvcCYmdGhpcy5fb25EcmFnU3RvcC5kaXNwb3NlKCksdGhpcy5fb25BbmltYXRpb25TdGFydCYmdGhpcy5fb25BbmltYXRpb25TdGFydC5kaXNwb3NlKCksdGhpcy5fb25BbmltYXRpb25Db21wbGV0ZSYmdGhpcy5fb25BbmltYXRpb25Db21wbGV0ZS5kaXNwb3NlKCksdGhpcy5fb25BbmltYXRpb25Mb29wJiZ0aGlzLl9vbkFuaW1hdGlvbkxvb3AuZGlzcG9zZSgpfSxvbkFkZGVkVG9Hcm91cDpudWxsLG9uUmVtb3ZlZEZyb21Hcm91cDpudWxsLG9uRGVzdHJveTpudWxsLG9uS2lsbGVkOm51bGwsb25SZXZpdmVkOm51bGwsb25PdXRPZkJvdW5kczpudWxsLG9uRW50ZXJCb3VuZHM6bnVsbCxvbklucHV0T3ZlcjpudWxsLG9uSW5wdXRPdXQ6bnVsbCxvbklucHV0RG93bjpudWxsLG9uSW5wdXRVcDpudWxsLG9uRHJhZ1N0YXJ0Om51bGwsb25EcmFnVXBkYXRlOm51bGwsb25EcmFnU3RvcDpudWxsLG9uQW5pbWF0aW9uU3RhcnQ6bnVsbCxvbkFuaW1hdGlvbkNvbXBsZXRlOm51bGwsb25BbmltYXRpb25Mb29wOm51bGx9LGkuRXZlbnRzLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1pLkV2ZW50cztmb3IodmFyIG8gaW4gaS5FdmVudHMucHJvdG90eXBlKWkuRXZlbnRzLnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eShvKSYmMD09PW8uaW5kZXhPZihcIm9uXCIpJiZudWxsPT09aS5FdmVudHMucHJvdG90eXBlW29dJiZmdW5jdGlvbih0LGUpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShpLkV2ZW50cy5wcm90b3R5cGUsdCx7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXNbZV18fCh0aGlzW2VdPW5ldyBpLlNpZ25hbCl9fSksaS5FdmVudHMucHJvdG90eXBlW3QrXCIkZGlzcGF0Y2hcIl09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc1tlXT90aGlzW2VdLmRpc3BhdGNoLmFwcGx5KHRoaXNbZV0sYXJndW1lbnRzKTpudWxsfX0obyxcIl9cIitvKTtpLkNvbXBvbmVudC5GaXhlZFRvQ2FtZXJhPWZ1bmN0aW9uKCl7fSxpLkNvbXBvbmVudC5GaXhlZFRvQ2FtZXJhLnBvc3RVcGRhdGU9ZnVuY3Rpb24oKXt0aGlzLmZpeGVkVG9DYW1lcmEmJih0aGlzLnBvc2l0aW9uLng9KHRoaXMuZ2FtZS5jYW1lcmEudmlldy54K3RoaXMuY2FtZXJhT2Zmc2V0LngpL3RoaXMuZ2FtZS5jYW1lcmEuc2NhbGUueCx0aGlzLnBvc2l0aW9uLnk9KHRoaXMuZ2FtZS5jYW1lcmEudmlldy55K3RoaXMuY2FtZXJhT2Zmc2V0LnkpL3RoaXMuZ2FtZS5jYW1lcmEuc2NhbGUueSl9LGkuQ29tcG9uZW50LkZpeGVkVG9DYW1lcmEucHJvdG90eXBlPXtfZml4ZWRUb0NhbWVyYTohMSxmaXhlZFRvQ2FtZXJhOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZml4ZWRUb0NhbWVyYX0sc2V0OmZ1bmN0aW9uKHQpe3Q/KHRoaXMuX2ZpeGVkVG9DYW1lcmE9ITAsdGhpcy5jYW1lcmFPZmZzZXQuc2V0KHRoaXMueCx0aGlzLnkpKTp0aGlzLl9maXhlZFRvQ2FtZXJhPSExfX0sY2FtZXJhT2Zmc2V0Om5ldyBpLlBvaW50fSxpLkNvbXBvbmVudC5IZWFsdGg9ZnVuY3Rpb24oKXt9LGkuQ29tcG9uZW50LkhlYWx0aC5wcm90b3R5cGU9e2hlYWx0aDoxLG1heEhlYWx0aDoxMDAsZGFtYWdlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmFsaXZlJiYodGhpcy5oZWFsdGgtPXQsdGhpcy5oZWFsdGg8PTAmJnRoaXMua2lsbCgpKSx0aGlzfSxzZXRIZWFsdGg6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuaGVhbHRoPXQsdGhpcy5oZWFsdGg+dGhpcy5tYXhIZWFsdGgmJih0aGlzLmhlYWx0aD10aGlzLm1heEhlYWx0aCksdGhpc30saGVhbDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5hbGl2ZSYmKHRoaXMuaGVhbHRoKz10LHRoaXMuaGVhbHRoPnRoaXMubWF4SGVhbHRoJiYodGhpcy5oZWFsdGg9dGhpcy5tYXhIZWFsdGgpKSx0aGlzfX0saS5Db21wb25lbnQuSW5DYW1lcmE9ZnVuY3Rpb24oKXt9LGkuQ29tcG9uZW50LkluQ2FtZXJhLnByb3RvdHlwZT17aW5DYW1lcmE6e2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdhbWUud29ybGQuY2FtZXJhLnZpZXcuaW50ZXJzZWN0cyh0aGlzLl9ib3VuZHMpfX19LGkuQ29tcG9uZW50LklucHV0RW5hYmxlZD1mdW5jdGlvbigpe30saS5Db21wb25lbnQuSW5wdXRFbmFibGVkLnByb3RvdHlwZT17aW5wdXQ6bnVsbCxpbnB1dEVuYWJsZWQ6e2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmlucHV0JiZ0aGlzLmlucHV0LmVuYWJsZWR9LHNldDpmdW5jdGlvbih0KXt0P251bGw9PT10aGlzLmlucHV0Pyh0aGlzLmlucHV0PW5ldyBpLklucHV0SGFuZGxlcih0aGlzKSx0aGlzLmlucHV0LnN0YXJ0KCkpOnRoaXMuaW5wdXQmJiF0aGlzLmlucHV0LmVuYWJsZWQmJnRoaXMuaW5wdXQuc3RhcnQoKTp0aGlzLmlucHV0JiZ0aGlzLmlucHV0LmVuYWJsZWQmJnRoaXMuaW5wdXQuc3RvcCgpfX19LGkuQ29tcG9uZW50LkluV29ybGQ9ZnVuY3Rpb24oKXt9LGkuQ29tcG9uZW50LkluV29ybGQucHJlVXBkYXRlPWZ1bmN0aW9uKCl7aWYodGhpcy5wZW5kaW5nRGVzdHJveSlyZXR1cm4gdGhpcy5kZXN0cm95KCksITE7aWYodGhpcy5hdXRvQ3VsbHx8dGhpcy5jaGVja1dvcmxkQm91bmRzKXtpZih0aGlzLl9ib3VuZHMuY29weUZyb20odGhpcy5nZXRCb3VuZHMoKSksdGhpcy5fYm91bmRzLngrPXRoaXMuZ2FtZS5jYW1lcmEudmlldy54LHRoaXMuX2JvdW5kcy55Kz10aGlzLmdhbWUuY2FtZXJhLnZpZXcueSx0aGlzLmF1dG9DdWxsKWlmKHRoaXMuZ2FtZS53b3JsZC5jYW1lcmEudmlldy5pbnRlcnNlY3RzKHRoaXMuX2JvdW5kcykpdGhpcy5yZW5kZXJhYmxlPSEwLHRoaXMuZ2FtZS53b3JsZC5jYW1lcmEudG90YWxJblZpZXcrKztlbHNlIGlmKHRoaXMucmVuZGVyYWJsZT0hMSx0aGlzLm91dE9mQ2FtZXJhQm91bmRzS2lsbClyZXR1cm4gdGhpcy5raWxsKCksITE7aWYodGhpcy5jaGVja1dvcmxkQm91bmRzKWlmKHRoaXMuX291dE9mQm91bmRzRmlyZWQmJnRoaXMuZ2FtZS53b3JsZC5ib3VuZHMuaW50ZXJzZWN0cyh0aGlzLl9ib3VuZHMpKXRoaXMuX291dE9mQm91bmRzRmlyZWQ9ITEsdGhpcy5ldmVudHMub25FbnRlckJvdW5kcyRkaXNwYXRjaCh0aGlzKTtlbHNlIGlmKCF0aGlzLl9vdXRPZkJvdW5kc0ZpcmVkJiYhdGhpcy5nYW1lLndvcmxkLmJvdW5kcy5pbnRlcnNlY3RzKHRoaXMuX2JvdW5kcykmJih0aGlzLl9vdXRPZkJvdW5kc0ZpcmVkPSEwLHRoaXMuZXZlbnRzLm9uT3V0T2ZCb3VuZHMkZGlzcGF0Y2godGhpcyksdGhpcy5vdXRPZkJvdW5kc0tpbGwpKXJldHVybiB0aGlzLmtpbGwoKSwhMX1yZXR1cm4hMH0saS5Db21wb25lbnQuSW5Xb3JsZC5wcm90b3R5cGU9e2NoZWNrV29ybGRCb3VuZHM6ITEsb3V0T2ZCb3VuZHNLaWxsOiExLG91dE9mQ2FtZXJhQm91bmRzS2lsbDohMSxfb3V0T2ZCb3VuZHNGaXJlZDohMSxpbldvcmxkOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nYW1lLndvcmxkLmJvdW5kcy5pbnRlcnNlY3RzKHRoaXMuZ2V0Qm91bmRzKCkpfX19LGkuQ29tcG9uZW50LkxpZmVTcGFuPWZ1bmN0aW9uKCl7fSxpLkNvbXBvbmVudC5MaWZlU3Bhbi5wcmVVcGRhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wZW5kaW5nRGVzdHJveT8odGhpcy5kZXN0cm95KCksITEpOiEodGhpcy5saWZlc3Bhbj4wJiYodGhpcy5saWZlc3Bhbi09dGhpcy5nYW1lLnRpbWUucGh5c2ljc0VsYXBzZWRNUyx0aGlzLmxpZmVzcGFuPD0wKSl8fCh0aGlzLmtpbGwoKSwhMSl9LGkuQ29tcG9uZW50LkxpZmVTcGFuLnByb3RvdHlwZT17YWxpdmU6ITAsbGlmZXNwYW46MCxyZXZpdmU6ZnVuY3Rpb24odCl7cmV0dXJuIHZvaWQgMD09PXQmJih0PTEwMCksdGhpcy5hbGl2ZT0hMCx0aGlzLmV4aXN0cz0hMCx0aGlzLnZpc2libGU9ITAsXCJmdW5jdGlvblwiPT10eXBlb2YgdGhpcy5zZXRIZWFsdGgmJnRoaXMuc2V0SGVhbHRoKHQpLHRoaXMuZXZlbnRzJiZ0aGlzLmV2ZW50cy5vblJldml2ZWQkZGlzcGF0Y2godGhpcyksdGhpc30sa2lsbDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmFsaXZlPSExLHRoaXMuZXhpc3RzPSExLHRoaXMudmlzaWJsZT0hMSx0aGlzLmV2ZW50cyYmdGhpcy5ldmVudHMub25LaWxsZWQkZGlzcGF0Y2godGhpcyksdGhpc319LGkuQ29tcG9uZW50LkxvYWRUZXh0dXJlPWZ1bmN0aW9uKCl7fSxpLkNvbXBvbmVudC5Mb2FkVGV4dHVyZS5wcm90b3R5cGU9e2N1c3RvbVJlbmRlcjohMSxfZnJhbWU6bnVsbCxsb2FkVGV4dHVyZTpmdW5jdGlvbih0LGUscyl7dD09PWkuUEVORElOR19BVExBUz8odD1lLGU9MCk6ZT1lfHwwLChzfHx2b2lkIDA9PT1zKSYmdGhpcy5hbmltYXRpb25zJiZ0aGlzLmFuaW1hdGlvbnMuc3RvcCgpLHRoaXMua2V5PXQsdGhpcy5jdXN0b21SZW5kZXI9ITE7dmFyIG49dGhpcy5nYW1lLmNhY2hlLG89ITAscj0hdGhpcy50ZXh0dXJlLmJhc2VUZXh0dXJlLnNjYWxlTW9kZTtpZihpLlJlbmRlclRleHR1cmUmJnQgaW5zdGFuY2VvZiBpLlJlbmRlclRleHR1cmUpdGhpcy5rZXk9dC5rZXksdGhpcy5zZXRUZXh0dXJlKHQpO2Vsc2UgaWYoaS5CaXRtYXBEYXRhJiZ0IGluc3RhbmNlb2YgaS5CaXRtYXBEYXRhKXRoaXMuY3VzdG9tUmVuZGVyPSEwLHRoaXMuc2V0VGV4dHVyZSh0LnRleHR1cmUpLG89bi5oYXNGcmFtZURhdGEodC5rZXksaS5DYWNoZS5CSVRNQVBEQVRBKT8hdGhpcy5hbmltYXRpb25zLmxvYWRGcmFtZURhdGEobi5nZXRGcmFtZURhdGEodC5rZXksaS5DYWNoZS5CSVRNQVBEQVRBKSxlKTohdGhpcy5hbmltYXRpb25zLmxvYWRGcmFtZURhdGEodC5mcmFtZURhdGEsMCk7ZWxzZSBpZihpLlZpZGVvJiZ0IGluc3RhbmNlb2YgaS5WaWRlbyl7dGhpcy5jdXN0b21SZW5kZXI9ITA7dmFyIGE9dC50ZXh0dXJlLnZhbGlkO3RoaXMuc2V0VGV4dHVyZSh0LnRleHR1cmUpLHRoaXMuc2V0RnJhbWUodC50ZXh0dXJlLmZyYW1lLmNsb25lKCkpLHQub25DaGFuZ2VTb3VyY2UuYWRkKHRoaXMucmVzaXplRnJhbWUsdGhpcyksdGhpcy50ZXh0dXJlLnZhbGlkPWF9ZWxzZSBpZihpLlRpbGVtYXAmJnQgaW5zdGFuY2VvZiBpLlRpbGVtYXBMYXllcil0aGlzLnNldFRleHR1cmUoUElYSS5UZXh0dXJlLmZyb21DYW52YXModC5jYW52YXMpKTtlbHNlIGlmKHQgaW5zdGFuY2VvZiBQSVhJLlRleHR1cmUpdGhpcy5zZXRUZXh0dXJlKHQpO2Vsc2V7dmFyIGg9bi5nZXRJbWFnZSh0LCEwKTt0aGlzLmtleT1oLmtleSx0aGlzLnNldFRleHR1cmUobmV3IFBJWEkuVGV4dHVyZShoLmJhc2UpKSx0aGlzLnRleHR1cmUuYmFzZVRleHR1cmUuc2tpcFJlbmRlcj1cIl9fZGVmYXVsdFwiPT09dCxvPSF0aGlzLmFuaW1hdGlvbnMubG9hZEZyYW1lRGF0YShoLmZyYW1lRGF0YSxlKX1vJiYodGhpcy5fZnJhbWU9aS5SZWN0YW5nbGUuY2xvbmUodGhpcy50ZXh0dXJlLmZyYW1lKSkscnx8KHRoaXMudGV4dHVyZS5iYXNlVGV4dHVyZS5zY2FsZU1vZGU9MSl9LHNldEZyYW1lOmZ1bmN0aW9uKHQpe3RoaXMuX2ZyYW1lPXQsdGhpcy50ZXh0dXJlLmZyYW1lLng9dC54LHRoaXMudGV4dHVyZS5mcmFtZS55PXQueSx0aGlzLnRleHR1cmUuZnJhbWUud2lkdGg9dC53aWR0aCx0aGlzLnRleHR1cmUuZnJhbWUuaGVpZ2h0PXQuaGVpZ2h0LHRoaXMudGV4dHVyZS5jcm9wLng9dC54LHRoaXMudGV4dHVyZS5jcm9wLnk9dC55LHRoaXMudGV4dHVyZS5jcm9wLndpZHRoPXQud2lkdGgsdGhpcy50ZXh0dXJlLmNyb3AuaGVpZ2h0PXQuaGVpZ2h0LHQudHJpbW1lZD8odGhpcy50ZXh0dXJlLnRyaW0/KHRoaXMudGV4dHVyZS50cmltLng9dC5zcHJpdGVTb3VyY2VTaXplWCx0aGlzLnRleHR1cmUudHJpbS55PXQuc3ByaXRlU291cmNlU2l6ZVksdGhpcy50ZXh0dXJlLnRyaW0ud2lkdGg9dC5zb3VyY2VTaXplVyx0aGlzLnRleHR1cmUudHJpbS5oZWlnaHQ9dC5zb3VyY2VTaXplSCk6dGhpcy50ZXh0dXJlLnRyaW09e3g6dC5zcHJpdGVTb3VyY2VTaXplWCx5OnQuc3ByaXRlU291cmNlU2l6ZVksd2lkdGg6dC5zb3VyY2VTaXplVyxoZWlnaHQ6dC5zb3VyY2VTaXplSH0sdGhpcy50ZXh0dXJlLndpZHRoPXQuc291cmNlU2l6ZVcsdGhpcy50ZXh0dXJlLmhlaWdodD10LnNvdXJjZVNpemVILHRoaXMudGV4dHVyZS5mcmFtZS53aWR0aD10LnNvdXJjZVNpemVXLHRoaXMudGV4dHVyZS5mcmFtZS5oZWlnaHQ9dC5zb3VyY2VTaXplSCk6IXQudHJpbW1lZCYmdGhpcy50ZXh0dXJlLnRyaW0mJih0aGlzLnRleHR1cmUudHJpbT1udWxsKSx0LnJvdGF0ZWQmJih0aGlzLnRleHR1cmUucm90YXRlZD0hMCksdGhpcy5jcm9wUmVjdCYmdGhpcy51cGRhdGVDcm9wKCksdGhpcy50ZXh0dXJlLnJlcXVpcmVzUmVUaW50PSEwLHRoaXMudGV4dHVyZS5fdXBkYXRlVXZzKCksdGhpcy50aWxpbmdUZXh0dXJlJiYodGhpcy5yZWZyZXNoVGV4dHVyZT0hMCl9LHJlc2l6ZUZyYW1lOmZ1bmN0aW9uKHQsZSxpKXt0aGlzLnRleHR1cmUuZnJhbWUucmVzaXplKGUsaSksdGhpcy50ZXh0dXJlLnNldEZyYW1lKHRoaXMudGV4dHVyZS5mcmFtZSl9LHJlc2V0RnJhbWU6ZnVuY3Rpb24oKXt0aGlzLl9mcmFtZSYmdGhpcy5zZXRGcmFtZSh0aGlzLl9mcmFtZSl9LGZyYW1lOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hbmltYXRpb25zLmZyYW1lfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5hbmltYXRpb25zLmZyYW1lPXR9fSxmcmFtZU5hbWU6e2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmFuaW1hdGlvbnMuZnJhbWVOYW1lfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5hbmltYXRpb25zLmZyYW1lTmFtZT10fX19LGkuQ29tcG9uZW50Lk92ZXJsYXA9ZnVuY3Rpb24oKXt9LGkuQ29tcG9uZW50Lk92ZXJsYXAucHJvdG90eXBlPXtvdmVybGFwOmZ1bmN0aW9uKHQpe3JldHVybiBpLlJlY3RhbmdsZS5pbnRlcnNlY3RzKHRoaXMuZ2V0Qm91bmRzKCksdC5nZXRCb3VuZHMoKSl9fSxpLkNvbXBvbmVudC5QaHlzaWNzQm9keT1mdW5jdGlvbigpe30saS5Db21wb25lbnQuUGh5c2ljc0JvZHkucHJlVXBkYXRlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGVuZGluZ0Rlc3Ryb3k/KHRoaXMuZGVzdHJveSgpLCExKTp0aGlzLmZyZXNoJiZ0aGlzLmV4aXN0cz8odGhpcy53b3JsZC5zZXRUbyh0aGlzLnBhcmVudC5wb3NpdGlvbi54K3RoaXMucG9zaXRpb24ueCx0aGlzLnBhcmVudC5wb3NpdGlvbi55K3RoaXMucG9zaXRpb24ueSksdGhpcy53b3JsZFRyYW5zZm9ybS50eD10aGlzLndvcmxkLngsdGhpcy53b3JsZFRyYW5zZm9ybS50eT10aGlzLndvcmxkLnksdGhpcy5wcmV2aW91c1Bvc2l0aW9uLnNldCh0aGlzLndvcmxkLngsdGhpcy53b3JsZC55KSx0aGlzLnByZXZpb3VzUm90YXRpb249dGhpcy5yb3RhdGlvbix0aGlzLmJvZHkmJnRoaXMuYm9keS5wcmVVcGRhdGUoKSx0aGlzLmZyZXNoPSExLHRoaXMucHJlVXBkYXRlQ2hpbGRyZW4oKSwhMSk6KHRoaXMucHJldmlvdXNQb3NpdGlvbi5zZXQodGhpcy53b3JsZC54LHRoaXMud29ybGQueSksdGhpcy5wcmV2aW91c1JvdGF0aW9uPXRoaXMucm90YXRpb24sISghdGhpcy5fZXhpc3RzfHwhdGhpcy5wYXJlbnQuZXhpc3RzKXx8KHRoaXMucmVuZGVyT3JkZXJJRD0tMSwhMSkpfSxpLkNvbXBvbmVudC5QaHlzaWNzQm9keS5wb3N0VXBkYXRlPWZ1bmN0aW9uKCl7dGhpcy5leGlzdHMmJnRoaXMuYm9keSYmdGhpcy5ib2R5LnBvc3RVcGRhdGUoKX0saS5Db21wb25lbnQuUGh5c2ljc0JvZHkucHJvdG90eXBlPXtib2R5Om51bGwseDp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucG9zaXRpb24ueH0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMucG9zaXRpb24ueD10LHRoaXMuYm9keSYmIXRoaXMuYm9keS5kaXJ0eSYmKHRoaXMuYm9keS5fcmVzZXQ9ITApfX0seTp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucG9zaXRpb24ueX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMucG9zaXRpb24ueT10LHRoaXMuYm9keSYmIXRoaXMuYm9keS5kaXJ0eSYmKHRoaXMuYm9keS5fcmVzZXQ9ITApfX19LGkuQ29tcG9uZW50LlJlc2V0PWZ1bmN0aW9uKCl7fSxpLkNvbXBvbmVudC5SZXNldC5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24odCxlLGkpe3JldHVybiB2b2lkIDA9PT1pJiYoaT0xKSx0aGlzLndvcmxkLnNldCh0LGUpLHRoaXMucG9zaXRpb24uc2V0KHQsZSksdGhpcy5mcmVzaD0hMCx0aGlzLmV4aXN0cz0hMCx0aGlzLnZpc2libGU9ITAsdGhpcy5yZW5kZXJhYmxlPSEwLHRoaXMuY29tcG9uZW50cy5JbldvcmxkJiYodGhpcy5fb3V0T2ZCb3VuZHNGaXJlZD0hMSksdGhpcy5jb21wb25lbnRzLkxpZmVTcGFuJiYodGhpcy5hbGl2ZT0hMCx0aGlzLmhlYWx0aD1pKSx0aGlzLmNvbXBvbmVudHMuUGh5c2ljc0JvZHkmJnRoaXMuYm9keSYmdGhpcy5ib2R5LnJlc2V0KHQsZSwhMSwhMSksdGhpc30saS5Db21wb25lbnQuU2NhbGVNaW5NYXg9ZnVuY3Rpb24oKXt9LGkuQ29tcG9uZW50LlNjYWxlTWluTWF4LnByb3RvdHlwZT17dHJhbnNmb3JtQ2FsbGJhY2s6bnVsbCx0cmFuc2Zvcm1DYWxsYmFja0NvbnRleHQ6dGhpcyxzY2FsZU1pbjpudWxsLHNjYWxlTWF4Om51bGwsY2hlY2tUcmFuc2Zvcm06ZnVuY3Rpb24odCl7dGhpcy5zY2FsZU1pbiYmKHQuYTx0aGlzLnNjYWxlTWluLngmJih0LmE9dGhpcy5zY2FsZU1pbi54KSx0LmQ8dGhpcy5zY2FsZU1pbi55JiYodC5kPXRoaXMuc2NhbGVNaW4ueSkpLHRoaXMuc2NhbGVNYXgmJih0LmE+dGhpcy5zY2FsZU1heC54JiYodC5hPXRoaXMuc2NhbGVNYXgueCksdC5kPnRoaXMuc2NhbGVNYXgueSYmKHQuZD10aGlzLnNjYWxlTWF4LnkpKX0sc2V0U2NhbGVNaW5NYXg6ZnVuY3Rpb24odCxlLHMsbil7dm9pZCAwPT09ZT9lPXM9bj10OnZvaWQgMD09PXMmJihzPW49ZSxlPXQpLG51bGw9PT10P3RoaXMuc2NhbGVNaW49bnVsbDp0aGlzLnNjYWxlTWluP3RoaXMuc2NhbGVNaW4uc2V0KHQsZSk6dGhpcy5zY2FsZU1pbj1uZXcgaS5Qb2ludCh0LGUpLG51bGw9PT1zP3RoaXMuc2NhbGVNYXg9bnVsbDp0aGlzLnNjYWxlTWF4P3RoaXMuc2NhbGVNYXguc2V0KHMsbik6dGhpcy5zY2FsZU1heD1uZXcgaS5Qb2ludChzLG4pLG51bGw9PT10aGlzLnNjYWxlTWluP3RoaXMudHJhbnNmb3JtQ2FsbGJhY2s9bnVsbDoodGhpcy50cmFuc2Zvcm1DYWxsYmFjaz10aGlzLmNoZWNrVHJhbnNmb3JtLHRoaXMudHJhbnNmb3JtQ2FsbGJhY2tDb250ZXh0PXRoaXMpfX0saS5Db21wb25lbnQuU21vb3RoZWQ9ZnVuY3Rpb24oKXt9LGkuQ29tcG9uZW50LlNtb290aGVkLnByb3RvdHlwZT17c21vb3RoZWQ6e2dldDpmdW5jdGlvbigpe3JldHVybiF0aGlzLnRleHR1cmUuYmFzZVRleHR1cmUuc2NhbGVNb2RlfSxzZXQ6ZnVuY3Rpb24odCl7dD90aGlzLnRleHR1cmUmJih0aGlzLnRleHR1cmUuYmFzZVRleHR1cmUuc2NhbGVNb2RlPTApOnRoaXMudGV4dHVyZSYmKHRoaXMudGV4dHVyZS5iYXNlVGV4dHVyZS5zY2FsZU1vZGU9MSl9fX0saS5HYW1lT2JqZWN0RmFjdG9yeT1mdW5jdGlvbih0KXt0aGlzLmdhbWU9dCx0aGlzLndvcmxkPXRoaXMuZ2FtZS53b3JsZH0saS5HYW1lT2JqZWN0RmFjdG9yeS5wcm90b3R5cGU9e2V4aXN0aW5nOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLndvcmxkLmFkZCh0KX0sd2VhcG9uOmZ1bmN0aW9uKHQsZSxzLG4sbyl7dmFyIHI9dGhpcy5nYW1lLnBsdWdpbnMuYWRkKGkuV2VhcG9uKTtyZXR1cm4gbyYmKHIuYnVsbGV0Q2xhc3M9byksci5jcmVhdGVCdWxsZXRzKHQsZSxzLG4pLHJ9LGltYWdlOmZ1bmN0aW9uKHQsZSxzLG4sbyl7cmV0dXJuIHZvaWQgMD09PW8mJihvPXRoaXMud29ybGQpLG8uYWRkKG5ldyBpLkltYWdlKHRoaXMuZ2FtZSx0LGUscyxuKSl9LHNwcml0ZTpmdW5jdGlvbih0LGUsaSxzLG4pe3JldHVybiB2b2lkIDA9PT1uJiYobj10aGlzLndvcmxkKSxuLmNyZWF0ZSh0LGUsaSxzKX0sY3JlYXR1cmU6ZnVuY3Rpb24odCxlLHMsbixvKXt2b2lkIDA9PT1vJiYobz10aGlzLndvcmxkKTt2YXIgcj1uZXcgaS5DcmVhdHVyZSh0aGlzLmdhbWUsdCxlLHMsbik7cmV0dXJuIG8uYWRkKHIpLHJ9LHR3ZWVuOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmdhbWUudHdlZW5zLmNyZWF0ZSh0KX0sZ3JvdXA6ZnVuY3Rpb24odCxlLHMsbixvKXtyZXR1cm4gbmV3IGkuR3JvdXAodGhpcy5nYW1lLHQsZSxzLG4sbyl9LHBoeXNpY3NHcm91cDpmdW5jdGlvbih0LGUscyxuKXtyZXR1cm4gbmV3IGkuR3JvdXAodGhpcy5nYW1lLGUscyxuLCEwLHQpfSxzcHJpdGVCYXRjaDpmdW5jdGlvbih0LGUscyl7cmV0dXJuIHZvaWQgMD09PXQmJih0PW51bGwpLHZvaWQgMD09PWUmJihlPVwiZ3JvdXBcIiksdm9pZCAwPT09cyYmKHM9ITEpLG5ldyBpLlNwcml0ZUJhdGNoKHRoaXMuZ2FtZSx0LGUscyl9LGF1ZGlvOmZ1bmN0aW9uKHQsZSxpLHMpe3JldHVybiB0aGlzLmdhbWUuc291bmQuYWRkKHQsZSxpLHMpfSxzb3VuZDpmdW5jdGlvbih0LGUsaSxzKXtyZXR1cm4gdGhpcy5nYW1lLnNvdW5kLmFkZCh0LGUsaSxzKX0sYXVkaW9TcHJpdGU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZ2FtZS5zb3VuZC5hZGRTcHJpdGUodCl9LHRpbGVTcHJpdGU6ZnVuY3Rpb24odCxlLHMsbixvLHIsYSl7cmV0dXJuIHZvaWQgMD09PWEmJihhPXRoaXMud29ybGQpLGEuYWRkKG5ldyBpLlRpbGVTcHJpdGUodGhpcy5nYW1lLHQsZSxzLG4sbyxyKSl9LHJvcGU6ZnVuY3Rpb24odCxlLHMsbixvLHIpe3JldHVybiB2b2lkIDA9PT1yJiYocj10aGlzLndvcmxkKSxyLmFkZChuZXcgaS5Sb3BlKHRoaXMuZ2FtZSx0LGUscyxuLG8pKX0sdGV4dDpmdW5jdGlvbih0LGUscyxuLG8pe3JldHVybiB2b2lkIDA9PT1vJiYobz10aGlzLndvcmxkKSxvLmFkZChuZXcgaS5UZXh0KHRoaXMuZ2FtZSx0LGUscyxuKSl9LGJ1dHRvbjpmdW5jdGlvbih0LGUscyxuLG8scixhLGgsbCxjKXtyZXR1cm4gdm9pZCAwPT09YyYmKGM9dGhpcy53b3JsZCksYy5hZGQobmV3IGkuQnV0dG9uKHRoaXMuZ2FtZSx0LGUscyxuLG8scixhLGgsbCkpfSxncmFwaGljczpmdW5jdGlvbih0LGUscyl7cmV0dXJuIHZvaWQgMD09PXMmJihzPXRoaXMud29ybGQpLHMuYWRkKG5ldyBpLkdyYXBoaWNzKHRoaXMuZ2FtZSx0LGUpKX0sZW1pdHRlcjpmdW5jdGlvbih0LGUscyl7cmV0dXJuIHRoaXMuZ2FtZS5wYXJ0aWNsZXMuYWRkKG5ldyBpLlBhcnRpY2xlcy5BcmNhZGUuRW1pdHRlcih0aGlzLmdhbWUsdCxlLHMpKX0scmV0cm9Gb250OmZ1bmN0aW9uKHQsZSxzLG4sbyxyLGEsaCxsKXtyZXR1cm4gbmV3IGkuUmV0cm9Gb250KHRoaXMuZ2FtZSx0LGUscyxuLG8scixhLGgsbCl9LGJpdG1hcFRleHQ6ZnVuY3Rpb24odCxlLHMsbixvLHIpe3JldHVybiB2b2lkIDA9PT1yJiYocj10aGlzLndvcmxkKSxyLmFkZChuZXcgaS5CaXRtYXBUZXh0KHRoaXMuZ2FtZSx0LGUscyxuLG8pKX0sdGlsZW1hcDpmdW5jdGlvbih0LGUscyxuLG8pe3JldHVybiBuZXcgaS5UaWxlbWFwKHRoaXMuZ2FtZSx0LGUscyxuLG8pfSxyZW5kZXJUZXh0dXJlOmZ1bmN0aW9uKHQsZSxzLG4pe3ZvaWQgMCE9PXMmJlwiXCIhPT1zfHwocz10aGlzLmdhbWUucm5kLnV1aWQoKSksdm9pZCAwPT09biYmKG49ITEpO3ZhciBvPW5ldyBpLlJlbmRlclRleHR1cmUodGhpcy5nYW1lLHQsZSxzKTtyZXR1cm4gbiYmdGhpcy5nYW1lLmNhY2hlLmFkZFJlbmRlclRleHR1cmUocyxvKSxvfSx2aWRlbzpmdW5jdGlvbih0LGUpe3JldHVybiBuZXcgaS5WaWRlbyh0aGlzLmdhbWUsdCxlKX0sYml0bWFwRGF0YTpmdW5jdGlvbih0LGUscyxuKXt2b2lkIDA9PT1uJiYobj0hMSksdm9pZCAwIT09cyYmXCJcIiE9PXN8fChzPXRoaXMuZ2FtZS5ybmQudXVpZCgpKTt2YXIgbz1uZXcgaS5CaXRtYXBEYXRhKHRoaXMuZ2FtZSxzLHQsZSk7cmV0dXJuIG4mJnRoaXMuZ2FtZS5jYWNoZS5hZGRCaXRtYXBEYXRhKHMsbyksb30sZmlsdGVyOmZ1bmN0aW9uKHQpe3ZhciBlPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKTtyZXR1cm4odD1uZXcgaS5GaWx0ZXJbdF0odGhpcy5nYW1lKSkuaW5pdC5hcHBseSh0LGUpLHR9LHBsdWdpbjpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5nYW1lLnBsdWdpbnMuYWRkKHQpfX0saS5HYW1lT2JqZWN0RmFjdG9yeS5wcm90b3R5cGUuY29uc3RydWN0b3I9aS5HYW1lT2JqZWN0RmFjdG9yeSxpLkdhbWVPYmplY3RDcmVhdG9yPWZ1bmN0aW9uKHQpe3RoaXMuZ2FtZT10LHRoaXMud29ybGQ9dGhpcy5nYW1lLndvcmxkfSxpLkdhbWVPYmplY3RDcmVhdG9yLnByb3RvdHlwZT17aW1hZ2U6ZnVuY3Rpb24odCxlLHMsbil7cmV0dXJuIG5ldyBpLkltYWdlKHRoaXMuZ2FtZSx0LGUscyxuKX0sc3ByaXRlOmZ1bmN0aW9uKHQsZSxzLG4pe3JldHVybiBuZXcgaS5TcHJpdGUodGhpcy5nYW1lLHQsZSxzLG4pfSx0d2VlbjpmdW5jdGlvbih0KXtyZXR1cm4gbmV3IGkuVHdlZW4odCx0aGlzLmdhbWUsdGhpcy5nYW1lLnR3ZWVucyl9LGdyb3VwOmZ1bmN0aW9uKHQsZSxzLG4sbyl7cmV0dXJuIG5ldyBpLkdyb3VwKHRoaXMuZ2FtZSx0LGUscyxuLG8pfSxzcHJpdGVCYXRjaDpmdW5jdGlvbih0LGUscyl7cmV0dXJuIHZvaWQgMD09PWUmJihlPVwiZ3JvdXBcIiksdm9pZCAwPT09cyYmKHM9ITEpLG5ldyBpLlNwcml0ZUJhdGNoKHRoaXMuZ2FtZSx0LGUscyl9LGF1ZGlvOmZ1bmN0aW9uKHQsZSxpLHMpe3JldHVybiB0aGlzLmdhbWUuc291bmQuYWRkKHQsZSxpLHMpfSxhdWRpb1Nwcml0ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5nYW1lLnNvdW5kLmFkZFNwcml0ZSh0KX0sc291bmQ6ZnVuY3Rpb24odCxlLGkscyl7cmV0dXJuIHRoaXMuZ2FtZS5zb3VuZC5hZGQodCxlLGkscyl9LHRpbGVTcHJpdGU6ZnVuY3Rpb24odCxlLHMsbixvLHIpe3JldHVybiBuZXcgaS5UaWxlU3ByaXRlKHRoaXMuZ2FtZSx0LGUscyxuLG8scil9LHJvcGU6ZnVuY3Rpb24odCxlLHMsbixvKXtyZXR1cm4gbmV3IGkuUm9wZSh0aGlzLmdhbWUsdCxlLHMsbixvKX0sdGV4dDpmdW5jdGlvbih0LGUscyxuKXtyZXR1cm4gbmV3IGkuVGV4dCh0aGlzLmdhbWUsdCxlLHMsbil9LGJ1dHRvbjpmdW5jdGlvbih0LGUscyxuLG8scixhLGgsbCl7cmV0dXJuIG5ldyBpLkJ1dHRvbih0aGlzLmdhbWUsdCxlLHMsbixvLHIsYSxoLGwpfSxncmFwaGljczpmdW5jdGlvbih0LGUpe3JldHVybiBuZXcgaS5HcmFwaGljcyh0aGlzLmdhbWUsdCxlKX0sZW1pdHRlcjpmdW5jdGlvbih0LGUscyl7cmV0dXJuIG5ldyBpLlBhcnRpY2xlcy5BcmNhZGUuRW1pdHRlcih0aGlzLmdhbWUsdCxlLHMpfSxyZXRyb0ZvbnQ6ZnVuY3Rpb24odCxlLHMsbixvLHIsYSxoLGwpe3JldHVybiBuZXcgaS5SZXRyb0ZvbnQodGhpcy5nYW1lLHQsZSxzLG4sbyxyLGEsaCxsKX0sYml0bWFwVGV4dDpmdW5jdGlvbih0LGUscyxuLG8scil7cmV0dXJuIG5ldyBpLkJpdG1hcFRleHQodGhpcy5nYW1lLHQsZSxzLG4sbyxyKX0sdGlsZW1hcDpmdW5jdGlvbih0LGUscyxuLG8pe3JldHVybiBuZXcgaS5UaWxlbWFwKHRoaXMuZ2FtZSx0LGUscyxuLG8pfSxyZW5kZXJUZXh0dXJlOmZ1bmN0aW9uKHQsZSxzLG4pe3ZvaWQgMCE9PXMmJlwiXCIhPT1zfHwocz10aGlzLmdhbWUucm5kLnV1aWQoKSksdm9pZCAwPT09biYmKG49ITEpO3ZhciBvPW5ldyBpLlJlbmRlclRleHR1cmUodGhpcy5nYW1lLHQsZSxzKTtyZXR1cm4gbiYmdGhpcy5nYW1lLmNhY2hlLmFkZFJlbmRlclRleHR1cmUocyxvKSxvfSxiaXRtYXBEYXRhOmZ1bmN0aW9uKHQsZSxzLG4pe3ZvaWQgMD09PW4mJihuPSExKSx2b2lkIDAhPT1zJiZcIlwiIT09c3x8KHM9dGhpcy5nYW1lLnJuZC51dWlkKCkpO3ZhciBvPW5ldyBpLkJpdG1hcERhdGEodGhpcy5nYW1lLHMsdCxlKTtyZXR1cm4gbiYmdGhpcy5nYW1lLmNhY2hlLmFkZEJpdG1hcERhdGEocyxvKSxvfSxmaWx0ZXI6ZnVuY3Rpb24odCl7dmFyIGU9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpO3JldHVybih0PW5ldyBpLkZpbHRlclt0XSh0aGlzLmdhbWUpKS5pbml0LmFwcGx5KHQsZSksdH19LGkuR2FtZU9iamVjdENyZWF0b3IucHJvdG90eXBlLmNvbnN0cnVjdG9yPWkuR2FtZU9iamVjdENyZWF0b3IsaS5TcHJpdGU9ZnVuY3Rpb24odCxlLHMsbixvKXtlPWV8fDAscz1zfHwwLG49bnx8bnVsbCxvPW98fG51bGwsdGhpcy50eXBlPWkuU1BSSVRFLHRoaXMucGh5c2ljc1R5cGU9aS5TUFJJVEUsUElYSS5TcHJpdGUuY2FsbCh0aGlzLGkuQ2FjaGUuREVGQVVMVCksaS5Db21wb25lbnQuQ29yZS5pbml0LmNhbGwodGhpcyx0LGUscyxuLG8pfSxpLlNwcml0ZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShQSVhJLlNwcml0ZS5wcm90b3R5cGUpLGkuU3ByaXRlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1pLlNwcml0ZSxpLkNvbXBvbmVudC5Db3JlLmluc3RhbGwuY2FsbChpLlNwcml0ZS5wcm90b3R5cGUsW1wiQW5nbGVcIixcIkFuaW1hdGlvblwiLFwiQXV0b0N1bGxcIixcIkJvdW5kc1wiLFwiQnJpbmdUb1RvcFwiLFwiQ3JvcFwiLFwiRGVsdGFcIixcIkRlc3Ryb3lcIixcIkZpeGVkVG9DYW1lcmFcIixcIkhlYWx0aFwiLFwiSW5DYW1lcmFcIixcIklucHV0RW5hYmxlZFwiLFwiSW5Xb3JsZFwiLFwiTGlmZVNwYW5cIixcIkxvYWRUZXh0dXJlXCIsXCJPdmVybGFwXCIsXCJQaHlzaWNzQm9keVwiLFwiUmVzZXRcIixcIlNjYWxlTWluTWF4XCIsXCJTbW9vdGhlZFwiXSksaS5TcHJpdGUucHJvdG90eXBlLnByZVVwZGF0ZVBoeXNpY3M9aS5Db21wb25lbnQuUGh5c2ljc0JvZHkucHJlVXBkYXRlLGkuU3ByaXRlLnByb3RvdHlwZS5wcmVVcGRhdGVMaWZlU3Bhbj1pLkNvbXBvbmVudC5MaWZlU3Bhbi5wcmVVcGRhdGUsaS5TcHJpdGUucHJvdG90eXBlLnByZVVwZGF0ZUluV29ybGQ9aS5Db21wb25lbnQuSW5Xb3JsZC5wcmVVcGRhdGUsaS5TcHJpdGUucHJvdG90eXBlLnByZVVwZGF0ZUNvcmU9aS5Db21wb25lbnQuQ29yZS5wcmVVcGRhdGUsaS5TcHJpdGUucHJvdG90eXBlLnByZVVwZGF0ZT1mdW5jdGlvbigpe3JldHVybiEhKHRoaXMucHJlVXBkYXRlUGh5c2ljcygpJiZ0aGlzLnByZVVwZGF0ZUxpZmVTcGFuKCkmJnRoaXMucHJlVXBkYXRlSW5Xb3JsZCgpKSYmdGhpcy5wcmVVcGRhdGVDb3JlKCl9LGkuSW1hZ2U9ZnVuY3Rpb24odCxlLHMsbixvKXtlPWV8fDAscz1zfHwwLG49bnx8bnVsbCxvPW98fG51bGwsdGhpcy50eXBlPWkuSU1BR0UsUElYSS5TcHJpdGUuY2FsbCh0aGlzLGkuQ2FjaGUuREVGQVVMVCksaS5Db21wb25lbnQuQ29yZS5pbml0LmNhbGwodGhpcyx0LGUscyxuLG8pfSxpLkltYWdlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKFBJWEkuU3ByaXRlLnByb3RvdHlwZSksaS5JbWFnZS5wcm90b3R5cGUuY29uc3RydWN0b3I9aS5JbWFnZSxpLkNvbXBvbmVudC5Db3JlLmluc3RhbGwuY2FsbChpLkltYWdlLnByb3RvdHlwZSxbXCJBbmdsZVwiLFwiQW5pbWF0aW9uXCIsXCJBdXRvQ3VsbFwiLFwiQm91bmRzXCIsXCJCcmluZ1RvVG9wXCIsXCJDcm9wXCIsXCJEZXN0cm95XCIsXCJGaXhlZFRvQ2FtZXJhXCIsXCJJbnB1dEVuYWJsZWRcIixcIkxpZmVTcGFuXCIsXCJMb2FkVGV4dHVyZVwiLFwiT3ZlcmxhcFwiLFwiUmVzZXRcIixcIlNjYWxlTWluTWF4XCIsXCJTbW9vdGhlZFwiXSksaS5JbWFnZS5wcm90b3R5cGUucHJlVXBkYXRlTGlmZVNwYW49aS5Db21wb25lbnQuTGlmZVNwYW4ucHJlVXBkYXRlLGkuSW1hZ2UucHJvdG90eXBlLnByZVVwZGF0ZUluV29ybGQ9aS5Db21wb25lbnQuSW5Xb3JsZC5wcmVVcGRhdGUsaS5JbWFnZS5wcm90b3R5cGUucHJlVXBkYXRlQ29yZT1pLkNvbXBvbmVudC5Db3JlLnByZVVwZGF0ZSxpLkltYWdlLnByb3RvdHlwZS5wcmVVcGRhdGU9ZnVuY3Rpb24oKXtyZXR1cm4hKCF0aGlzLnByZVVwZGF0ZUluV29ybGQoKXx8IXRoaXMucHJlVXBkYXRlTGlmZVNwYW4oKSkmJnRoaXMucHJlVXBkYXRlQ29yZSgpfSxpLkJ1dHRvbj1mdW5jdGlvbih0LGUscyxuLG8scixhLGgsbCxjKXtlPWV8fDAscz1zfHwwLG49bnx8bnVsbCxvPW98fG51bGwscj1yfHx0aGlzLGkuSW1hZ2UuY2FsbCh0aGlzLHQsZSxzLG4saCksdGhpcy50eXBlPWkuQlVUVE9OLHRoaXMucGh5c2ljc1R5cGU9aS5TUFJJVEUsdGhpcy5fb25PdmVyRnJhbWU9bnVsbCx0aGlzLl9vbk91dEZyYW1lPW51bGwsdGhpcy5fb25Eb3duRnJhbWU9bnVsbCx0aGlzLl9vblVwRnJhbWU9bnVsbCx0aGlzLm9uT3ZlclNvdW5kPW51bGwsdGhpcy5vbk91dFNvdW5kPW51bGwsdGhpcy5vbkRvd25Tb3VuZD1udWxsLHRoaXMub25VcFNvdW5kPW51bGwsdGhpcy5vbk92ZXJTb3VuZE1hcmtlcj1cIlwiLHRoaXMub25PdXRTb3VuZE1hcmtlcj1cIlwiLHRoaXMub25Eb3duU291bmRNYXJrZXI9XCJcIix0aGlzLm9uVXBTb3VuZE1hcmtlcj1cIlwiLHRoaXMub25JbnB1dE92ZXI9bmV3IGkuU2lnbmFsLHRoaXMub25JbnB1dE91dD1uZXcgaS5TaWduYWwsdGhpcy5vbklucHV0RG93bj1uZXcgaS5TaWduYWwsdGhpcy5vbklucHV0VXA9bmV3IGkuU2lnbmFsLHRoaXMub25PdmVyTW91c2VPbmx5PSEwLHRoaXMuanVzdFJlbGVhc2VkUHJldmVudHNPdmVyPWkuUG9pbnRlck1vZGUuQ09OVEFDVCx0aGlzLmZyZWV6ZUZyYW1lcz0hMSx0aGlzLmZvcmNlT3V0PSExLHRoaXMuaW5wdXRFbmFibGVkPSEwLHRoaXMuaW5wdXQuc3RhcnQoMCwhMCksdGhpcy5pbnB1dC51c2VIYW5kQ3Vyc29yPSEwLHRoaXMuc2V0RnJhbWVzKGEsaCxsLGMpLG51bGwhPT1vJiZ0aGlzLm9uSW5wdXRVcC5hZGQobyxyKSx0aGlzLmV2ZW50cy5vbklucHV0T3Zlci5hZGQodGhpcy5vbklucHV0T3ZlckhhbmRsZXIsdGhpcyksdGhpcy5ldmVudHMub25JbnB1dE91dC5hZGQodGhpcy5vbklucHV0T3V0SGFuZGxlcix0aGlzKSx0aGlzLmV2ZW50cy5vbklucHV0RG93bi5hZGQodGhpcy5vbklucHV0RG93bkhhbmRsZXIsdGhpcyksdGhpcy5ldmVudHMub25JbnB1dFVwLmFkZCh0aGlzLm9uSW5wdXRVcEhhbmRsZXIsdGhpcyl9LGkuQnV0dG9uLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGkuSW1hZ2UucHJvdG90eXBlKSxpLkJ1dHRvbi5wcm90b3R5cGUuY29uc3RydWN0b3I9aS5CdXR0b247cmV0dXJuIGkuQnV0dG9uLnByb3RvdHlwZS5jbGVhckZyYW1lcz1mdW5jdGlvbigpe3RoaXMuc2V0RnJhbWVzKG51bGwsbnVsbCxudWxsLG51bGwpfSxpLkJ1dHRvbi5wcm90b3R5cGUuc2V0U3RhdGVGcmFtZT1mdW5jdGlvbih0LGUsaSl7dmFyIHM9XCJfb25cIit0K1wiRnJhbWVcIjtudWxsIT09ZT8odGhpc1tzXT1lLGkmJnRoaXMuY2hhbmdlU3RhdGVGcmFtZSh0KSk6dGhpc1tzXT1udWxsfSxpLkJ1dHRvbi5wcm90b3R5cGUuY2hhbmdlU3RhdGVGcmFtZT1mdW5jdGlvbih0KXtpZih0aGlzLmZyZWV6ZUZyYW1lcylyZXR1cm4hMTt2YXIgZT10aGlzW1wiX29uXCIrdCtcIkZyYW1lXCJdO3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBlPyh0aGlzLmZyYW1lTmFtZT1lLCEwKTpcIm51bWJlclwiPT10eXBlb2YgZSYmKHRoaXMuZnJhbWU9ZSwhMCl9LGkuQnV0dG9uLnByb3RvdHlwZS5zZXRGcmFtZXM9ZnVuY3Rpb24odCxlLGkscyl7dGhpcy5zZXRTdGF0ZUZyYW1lKFwiT3ZlclwiLHQsdGhpcy5pbnB1dC5wb2ludGVyT3ZlcigpKSx0aGlzLnNldFN0YXRlRnJhbWUoXCJPdXRcIixlLCF0aGlzLmlucHV0LnBvaW50ZXJPdmVyKCkpLHRoaXMuc2V0U3RhdGVGcmFtZShcIkRvd25cIixpLHRoaXMuaW5wdXQucG9pbnRlckRvd24oKSksdGhpcy5zZXRTdGF0ZUZyYW1lKFwiVXBcIixzLHRoaXMuaW5wdXQucG9pbnRlclVwKCkpfSxpLkJ1dHRvbi5wcm90b3R5cGUuc2V0U3RhdGVTb3VuZD1mdW5jdGlvbih0LGUscyl7dmFyIG49XCJvblwiK3QrXCJTb3VuZFwiLG89XCJvblwiK3QrXCJTb3VuZE1hcmtlclwiO2UgaW5zdGFuY2VvZiBpLlNvdW5kfHxlIGluc3RhbmNlb2YgaS5BdWRpb1Nwcml0ZT8odGhpc1tuXT1lLHRoaXNbb109XCJzdHJpbmdcIj09dHlwZW9mIHM/czpcIlwiKToodGhpc1tuXT1udWxsLHRoaXNbb109XCJcIil9LGkuQnV0dG9uLnByb3RvdHlwZS5wbGF5U3RhdGVTb3VuZD1mdW5jdGlvbih0KXt2YXIgZT10aGlzW1wib25cIit0K1wiU291bmRcIl07aWYoZSl7dmFyIGk9dGhpc1tcIm9uXCIrdCtcIlNvdW5kTWFya2VyXCJdO3JldHVybiBlLnBsYXkoaSksITB9cmV0dXJuITF9LGkuQnV0dG9uLnByb3RvdHlwZS5zZXRTb3VuZHM9ZnVuY3Rpb24odCxlLGkscyxuLG8scixhKXt0aGlzLnNldFN0YXRlU291bmQoXCJPdmVyXCIsdCxlKSx0aGlzLnNldFN0YXRlU291bmQoXCJPdXRcIixuLG8pLHRoaXMuc2V0U3RhdGVTb3VuZChcIkRvd25cIixpLHMpLHRoaXMuc2V0U3RhdGVTb3VuZChcIlVwXCIscixhKX0saS5CdXR0b24ucHJvdG90eXBlLnNldE92ZXJTb3VuZD1mdW5jdGlvbih0LGUpe3RoaXMuc2V0U3RhdGVTb3VuZChcIk92ZXJcIix0LGUpfSxpLkJ1dHRvbi5wcm90b3R5cGUuc2V0T3V0U291bmQ9ZnVuY3Rpb24odCxlKXt0aGlzLnNldFN0YXRlU291bmQoXCJPdXRcIix0LGUpfSxpLkJ1dHRvbi5wcm90b3R5cGUuc2V0RG93blNvdW5kPWZ1bmN0aW9uKHQsZSl7dGhpcy5zZXRTdGF0ZVNvdW5kKFwiRG93blwiLHQsZSl9LGkuQnV0dG9uLnByb3RvdHlwZS5zZXRVcFNvdW5kPWZ1bmN0aW9uKHQsZSl7dGhpcy5zZXRTdGF0ZVNvdW5kKFwiVXBcIix0LGUpfSxpLkJ1dHRvbi5wcm90b3R5cGUub25JbnB1dE92ZXJIYW5kbGVyPWZ1bmN0aW9uKHQsZSl7ZS5qdXN0UmVsZWFzZWQoKSYmKHRoaXMuanVzdFJlbGVhc2VkUHJldmVudHNPdmVyJmUucG9pbnRlck1vZGUpPT09ZS5wb2ludGVyTW9kZXx8KHRoaXMuY2hhbmdlU3RhdGVGcmFtZShcIk92ZXJcIiksdGhpcy5vbk92ZXJNb3VzZU9ubHkmJiFlLmlzTW91c2V8fCh0aGlzLnBsYXlTdGF0ZVNvdW5kKFwiT3ZlclwiKSx0aGlzLm9uSW5wdXRPdmVyJiZ0aGlzLm9uSW5wdXRPdmVyLmRpc3BhdGNoKHRoaXMsZSkpKX0saS5CdXR0b24ucHJvdG90eXBlLm9uSW5wdXRPdXRIYW5kbGVyPWZ1bmN0aW9uKHQsZSl7dGhpcy5jaGFuZ2VTdGF0ZUZyYW1lKFwiT3V0XCIpLHRoaXMucGxheVN0YXRlU291bmQoXCJPdXRcIiksdGhpcy5vbklucHV0T3V0JiZ0aGlzLm9uSW5wdXRPdXQuZGlzcGF0Y2godGhpcyxlKX0saS5CdXR0b24ucHJvdG90eXBlLm9uSW5wdXREb3duSGFuZGxlcj1mdW5jdGlvbih0LGUpe3RoaXMuY2hhbmdlU3RhdGVGcmFtZShcIkRvd25cIiksdGhpcy5wbGF5U3RhdGVTb3VuZChcIkRvd25cIiksdGhpcy5vbklucHV0RG93biYmdGhpcy5vbklucHV0RG93bi5kaXNwYXRjaCh0aGlzLGUpfSxpLkJ1dHRvbi5wcm90b3R5cGUub25JbnB1dFVwSGFuZGxlcj1mdW5jdGlvbih0LGUsaSl7dGhpcy5wbGF5U3RhdGVTb3VuZChcIlVwXCIpLHRoaXMub25JbnB1dFVwJiZ0aGlzLm9uSW5wdXRVcC5kaXNwYXRjaCh0aGlzLGUsaSksdGhpcy5mcmVlemVGcmFtZXN8fCghMD09PXRoaXMuZm9yY2VPdXR8fCh0aGlzLmZvcmNlT3V0JmUucG9pbnRlck1vZGUpPT09ZS5wb2ludGVyTW9kZT90aGlzLmNoYW5nZVN0YXRlRnJhbWUoXCJPdXRcIik6dGhpcy5jaGFuZ2VTdGF0ZUZyYW1lKFwiVXBcIil8fChpP3RoaXMuY2hhbmdlU3RhdGVGcmFtZShcIk92ZXJcIik6dGhpcy5jaGFuZ2VTdGF0ZUZyYW1lKFwiT3V0XCIpKSl9LGkuU3ByaXRlQmF0Y2g9ZnVuY3Rpb24odCxlLHMsbil7dm9pZCAwIT09ZSYmbnVsbCE9PWV8fChlPXQud29ybGQpLGkuR3JvdXAuY2FsbCh0aGlzLHQsZSxzLG4pLHRoaXMudHlwZT1pLlNQUklURUJBVENILHRoaXMuZmFzdFNwcml0ZUJhdGNoPW51bGwsdGhpcy5yZWFkeT0hMX0saS5TcHJpdGVCYXRjaC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShpLkdyb3VwLnByb3RvdHlwZSksaS5TcHJpdGVCYXRjaC5wcm90b3R5cGUuY29uc3RydWN0b3I9aS5TcHJpdGVCYXRjaCxpLlNwcml0ZUJhdGNoLnByb3RvdHlwZS5fcmVuZGVyV2ViR0w9ZnVuY3Rpb24odCl7IXRoaXMudmlzaWJsZXx8dGhpcy5hbHBoYTw9MHx8IXRoaXMuY2hpbGRyZW4ubGVuZ3RofHwodGhpcy5yZWFkeXx8KHRoaXMuZmFzdFNwcml0ZUJhdGNoPW5ldyBQSVhJLldlYkdMRmFzdFNwcml0ZUJhdGNoKHQuZ2wpLHRoaXMucmVhZHk9ITApLHRoaXMuZmFzdFNwcml0ZUJhdGNoLmdsIT09dC5nbCYmdGhpcy5mYXN0U3ByaXRlQmF0Y2guc2V0Q29udGV4dCh0LmdsKSx0LnNwcml0ZUJhdGNoLnN0b3AoKSx0LnNoYWRlck1hbmFnZXIuc2V0U2hhZGVyKHQuc2hhZGVyTWFuYWdlci5mYXN0U2hhZGVyKSx0aGlzLmZhc3RTcHJpdGVCYXRjaC5iZWdpbih0aGlzLHQpLHRoaXMuZmFzdFNwcml0ZUJhdGNoLnJlbmRlcih0aGlzKSx0LnNwcml0ZUJhdGNoLnN0YXJ0KCkpfSxpLlNwcml0ZUJhdGNoLnByb3RvdHlwZS5fcmVuZGVyQ2FudmFzPWZ1bmN0aW9uKHQpe2lmKHRoaXMudmlzaWJsZSYmISh0aGlzLmFscGhhPD0wKSYmdGhpcy5jaGlsZHJlbi5sZW5ndGgpe3ZhciBlPXQuY29udGV4dDtlLmdsb2JhbEFscGhhPXRoaXMud29ybGRBbHBoYSx0aGlzLmRpc3BsYXlPYmplY3RVcGRhdGVUcmFuc2Zvcm0oKTtmb3IodmFyIGk9dGhpcy53b3JsZFRyYW5zZm9ybSxzPSEwLG49MDtuPHRoaXMuY2hpbGRyZW4ubGVuZ3RoO24rKyl7dmFyIG89dGhpcy5jaGlsZHJlbltuXTtpZihvLnZpc2libGUpe3ZhciByPW8udGV4dHVyZSxhPXIuZnJhbWU7aWYoZS5nbG9iYWxBbHBoYT10aGlzLndvcmxkQWxwaGEqby5hbHBoYSxvLnJvdGF0aW9uJSgyKk1hdGguUEkpPT0wKXMmJihlLnNldFRyYW5zZm9ybShpLmEsaS5iLGkuYyxpLmQsaS50eCxpLnR5KSxzPSExKSxlLmRyYXdJbWFnZShyLmJhc2VUZXh0dXJlLnNvdXJjZSxhLngsYS55LGEud2lkdGgsYS5oZWlnaHQsby5hbmNob3IueCooLWEud2lkdGgqby5zY2FsZS54KStvLnBvc2l0aW9uLngrLjUrdC5zaGFrZVh8MCxvLmFuY2hvci55KigtYS5oZWlnaHQqby5zY2FsZS55KStvLnBvc2l0aW9uLnkrLjUrdC5zaGFrZVl8MCxhLndpZHRoKm8uc2NhbGUueCxhLmhlaWdodCpvLnNjYWxlLnkpO2Vsc2V7c3x8KHM9ITApLG8uZGlzcGxheU9iamVjdFVwZGF0ZVRyYW5zZm9ybSgpO3ZhciBoPW8ud29ybGRUcmFuc2Zvcm0sbD1oLnR4KnQucmVzb2x1dGlvbit0LnNoYWtlWCxjPWgudHkqdC5yZXNvbHV0aW9uK3Quc2hha2VZO3Qucm91bmRQaXhlbHM/ZS5zZXRUcmFuc2Zvcm0oaC5hLGguYixoLmMsaC5kLDB8bCwwfGMpOmUuc2V0VHJhbnNmb3JtKGguYSxoLmIsaC5jLGguZCxsLGMpLGUuZHJhd0ltYWdlKHIuYmFzZVRleHR1cmUuc291cmNlLGEueCxhLnksYS53aWR0aCxhLmhlaWdodCxvLmFuY2hvci54Ki1hLndpZHRoKy41fDAsby5hbmNob3IueSotYS5oZWlnaHQrLjV8MCxhLndpZHRoLGEuaGVpZ2h0KX19fX19LGkuQml0bWFwRGF0YT1mdW5jdGlvbih0LGUscyxuLG8pe3ZvaWQgMCE9PXMmJjAhPT1zfHwocz0yNTYpLHZvaWQgMCE9PW4mJjAhPT1ufHwobj0yNTYpLHZvaWQgMD09PW8mJihvPSExKSx0aGlzLmdhbWU9dCx0aGlzLmtleT1lLHRoaXMud2lkdGg9cyx0aGlzLmhlaWdodD1uLHRoaXMuY2FudmFzPWkuQ2FudmFzLmNyZWF0ZSh0aGlzLHMsbixudWxsLG8pLHRoaXMuY29udGV4dD10aGlzLmNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIix7YWxwaGE6ITB9KSx0aGlzLmN0eD10aGlzLmNvbnRleHQsdGhpcy5zbW9vdGhQcm9wZXJ0eT10LnJlbmRlclR5cGU9PT1pLkNBTlZBUz90LnJlbmRlcmVyLnJlbmRlclNlc3Npb24uc21vb3RoUHJvcGVydHk6aS5DYW52YXMuZ2V0U21vb3RoaW5nUHJlZml4KHRoaXMuY29udGV4dCksdGhpcy5pbWFnZURhdGE9dGhpcy5jb250ZXh0LmdldEltYWdlRGF0YSgwLDAscyxuKSx0aGlzLmRhdGE9bnVsbCx0aGlzLmltYWdlRGF0YSYmKHRoaXMuZGF0YT10aGlzLmltYWdlRGF0YS5kYXRhKSx0aGlzLnBpeGVscz1udWxsLHRoaXMuZGF0YSYmKHRoaXMuaW1hZ2VEYXRhLmRhdGEuYnVmZmVyPyh0aGlzLmJ1ZmZlcj10aGlzLmltYWdlRGF0YS5kYXRhLmJ1ZmZlcix0aGlzLnBpeGVscz1uZXcgVWludDMyQXJyYXkodGhpcy5idWZmZXIpKTp3aW5kb3cuQXJyYXlCdWZmZXI/KHRoaXMuYnVmZmVyPW5ldyBBcnJheUJ1ZmZlcih0aGlzLmltYWdlRGF0YS5kYXRhLmxlbmd0aCksdGhpcy5waXhlbHM9bmV3IFVpbnQzMkFycmF5KHRoaXMuYnVmZmVyKSk6dGhpcy5waXhlbHM9dGhpcy5pbWFnZURhdGEuZGF0YSksdGhpcy5iYXNlVGV4dHVyZT1uZXcgUElYSS5CYXNlVGV4dHVyZSh0aGlzLmNhbnZhcyxudWxsLHRoaXMuZ2FtZS5yZXNvbHV0aW9uKSx0aGlzLnRleHR1cmU9bmV3IFBJWEkuVGV4dHVyZSh0aGlzLmJhc2VUZXh0dXJlKSx0aGlzLmZyYW1lRGF0YT1uZXcgaS5GcmFtZURhdGEsdGhpcy50ZXh0dXJlRnJhbWU9dGhpcy5mcmFtZURhdGEuYWRkRnJhbWUobmV3IGkuRnJhbWUoMCwwLDAscyxuLFwiYml0bWFwRGF0YVwiKSksdGhpcy50ZXh0dXJlLmZyYW1lPXRoaXMudGV4dHVyZUZyYW1lLHRoaXMudHlwZT1pLkJJVE1BUERBVEEsdGhpcy5kaXNhYmxlVGV4dHVyZVVwbG9hZD0hMSx0aGlzLmRpcnR5PSExLHRoaXMuY2xzPXRoaXMuY2xlYXIsdGhpcy5faW1hZ2U9bnVsbCx0aGlzLl9wb3M9bmV3IGkuUG9pbnQsdGhpcy5fc2l6ZT1uZXcgaS5Qb2ludCx0aGlzLl9zY2FsZT1uZXcgaS5Qb2ludCx0aGlzLl9yb3RhdGU9MCx0aGlzLl9hbHBoYT17cHJldjoxLGN1cnJlbnQ6MX0sdGhpcy5fYW5jaG9yPW5ldyBpLlBvaW50LHRoaXMuX3RlbXBSPTAsdGhpcy5fdGVtcEc9MCx0aGlzLl90ZW1wQj0wLHRoaXMuX2NpcmNsZT1uZXcgaS5DaXJjbGUsdGhpcy5fc3dhcENhbnZhcz12b2lkIDB9LGkuQml0bWFwRGF0YS5wcm90b3R5cGU9e21vdmU6ZnVuY3Rpb24odCxlLGkpe3JldHVybiAwIT09dCYmdGhpcy5tb3ZlSCh0LGkpLDAhPT1lJiZ0aGlzLm1vdmVWKGUsaSksdGhpc30sbW92ZUg6ZnVuY3Rpb24odCxlKXt2b2lkIDA9PT1lJiYoZT0hMCksdm9pZCAwPT09dGhpcy5fc3dhcENhbnZhcyYmKHRoaXMuX3N3YXBDYW52YXM9aS5DYW52YXNQb29sLmNyZWF0ZSh0aGlzLHRoaXMud2lkdGgsdGhpcy5oZWlnaHQpKTt2YXIgcz10aGlzLl9zd2FwQ2FudmFzLmdldENvbnRleHQoXCIyZFwiKSxuPXRoaXMuaGVpZ2h0LG89dGhpcy5jYW52YXM7aWYocy5jbGVhclJlY3QoMCwwLHRoaXMud2lkdGgsdGhpcy5oZWlnaHQpLHQ8MCl7dD1NYXRoLmFicyh0KTtyPXRoaXMud2lkdGgtdDtlJiZzLmRyYXdJbWFnZShvLDAsMCx0LG4sciwwLHQsbikscy5kcmF3SW1hZ2Uobyx0LDAscixuLDAsMCxyLG4pfWVsc2V7dmFyIHI9dGhpcy53aWR0aC10O2UmJnMuZHJhd0ltYWdlKG8sciwwLHQsbiwwLDAsdCxuKSxzLmRyYXdJbWFnZShvLDAsMCxyLG4sdCwwLHIsbil9cmV0dXJuIHRoaXMuY2xlYXIoKSx0aGlzLmNvcHkodGhpcy5fc3dhcENhbnZhcyl9LG1vdmVWOmZ1bmN0aW9uKHQsZSl7dm9pZCAwPT09ZSYmKGU9ITApLHZvaWQgMD09PXRoaXMuX3N3YXBDYW52YXMmJih0aGlzLl9zd2FwQ2FudmFzPWkuQ2FudmFzUG9vbC5jcmVhdGUodGhpcyx0aGlzLndpZHRoLHRoaXMuaGVpZ2h0KSk7dmFyIHM9dGhpcy5fc3dhcENhbnZhcy5nZXRDb250ZXh0KFwiMmRcIiksbj10aGlzLndpZHRoLG89dGhpcy5jYW52YXM7aWYocy5jbGVhclJlY3QoMCwwLHRoaXMud2lkdGgsdGhpcy5oZWlnaHQpLHQ8MCl7dD1NYXRoLmFicyh0KTtyPXRoaXMuaGVpZ2h0LXQ7ZSYmcy5kcmF3SW1hZ2UobywwLDAsbix0LDAscixuLHQpLHMuZHJhd0ltYWdlKG8sMCx0LG4sciwwLDAsbixyKX1lbHNle3ZhciByPXRoaXMuaGVpZ2h0LXQ7ZSYmcy5kcmF3SW1hZ2UobywwLHIsbix0LDAsMCxuLHQpLHMuZHJhd0ltYWdlKG8sMCwwLG4sciwwLHQsbixyKX1yZXR1cm4gdGhpcy5jbGVhcigpLHRoaXMuY29weSh0aGlzLl9zd2FwQ2FudmFzKX0sYWRkOmZ1bmN0aW9uKHQpe2lmKEFycmF5LmlzQXJyYXkodCkpZm9yKHZhciBlPTA7ZTx0Lmxlbmd0aDtlKyspdFtlXS5sb2FkVGV4dHVyZSYmdFtlXS5sb2FkVGV4dHVyZSh0aGlzKTtlbHNlIHQubG9hZFRleHR1cmUodGhpcyk7cmV0dXJuIHRoaXN9LGxvYWQ6ZnVuY3Rpb24odCl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHQmJih0PXRoaXMuZ2FtZS5jYWNoZS5nZXRJbWFnZSh0KSksdClyZXR1cm4gdGhpcy5yZXNpemUodC53aWR0aCx0LmhlaWdodCksdGhpcy5jbHMoKSx0aGlzLmRyYXcodCksdGhpcy51cGRhdGUoKSx0aGlzfSxjbGVhcjpmdW5jdGlvbih0LGUsaSxzKXtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9MCksdm9pZCAwPT09ZSYmKGU9MCksdm9pZCAwPT09aSYmKGk9dGhpcy53aWR0aCksdm9pZCAwPT09cyYmKHM9dGhpcy5oZWlnaHQpLHRoaXMuY29udGV4dC5jbGVhclJlY3QodCxlLGkscyksdGhpcy5kaXJ0eT0hMCx0aGlzfSxmaWxsOmZ1bmN0aW9uKHQsZSxpLHMpe3JldHVybiB2b2lkIDA9PT1zJiYocz0xKSx0aGlzLmNvbnRleHQuZmlsbFN0eWxlPVwicmdiYShcIit0K1wiLFwiK2UrXCIsXCIraStcIixcIitzK1wiKVwiLHRoaXMuY29udGV4dC5maWxsUmVjdCgwLDAsdGhpcy53aWR0aCx0aGlzLmhlaWdodCksdGhpcy5kaXJ0eT0hMCx0aGlzfSxnZW5lcmF0ZVRleHR1cmU6ZnVuY3Rpb24odCxlLGkpe3ZhciBzPXRoaXMuZ2FtZS5jYWNoZSxuPW5ldyBJbWFnZTtpZihlJiYobi5vbmxvYWQ9ZnVuY3Rpb24oKXt2YXIgbz1zLmFkZEltYWdlKHQsXCJcIixuKSxyPW5ldyBQSVhJLlRleHR1cmUoby5iYXNlKTtlLmNhbGwoaXx8bnVsbCxyKSxuLm9ubG9hZD1udWxsfSksbi5zcmM9dGhpcy5jYW52YXMudG9EYXRhVVJMKFwiaW1hZ2UvcG5nXCIpLCFlKXt2YXIgbz1zLmFkZEltYWdlKHQsXCJcIixuKTtyZXR1cm4gbmV3IFBJWEkuVGV4dHVyZShvLmJhc2UpfXJldHVybiBudWxsfSxyZXNpemU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdD09PXRoaXMud2lkdGgmJmU9PT10aGlzLmhlaWdodHx8KHRoaXMud2lkdGg9dCx0aGlzLmhlaWdodD1lLHRoaXMuY2FudmFzLndpZHRoPXQsdGhpcy5jYW52YXMuaGVpZ2h0PWUsdm9pZCAwIT09dGhpcy5fc3dhcENhbnZhcyYmKHRoaXMuX3N3YXBDYW52YXMud2lkdGg9dCx0aGlzLl9zd2FwQ2FudmFzLmhlaWdodD1lKSx0aGlzLmJhc2VUZXh0dXJlLndpZHRoPXQsdGhpcy5iYXNlVGV4dHVyZS5oZWlnaHQ9ZSx0aGlzLnRleHR1cmVGcmFtZS53aWR0aD10LHRoaXMudGV4dHVyZUZyYW1lLmhlaWdodD1lLHRoaXMudGV4dHVyZS53aWR0aD10LHRoaXMudGV4dHVyZS5oZWlnaHQ9ZSx0aGlzLnRleHR1cmUuY3JvcC53aWR0aD10LHRoaXMudGV4dHVyZS5jcm9wLmhlaWdodD1lLHRoaXMudXBkYXRlKCksdGhpcy5kaXJ0eT0hMCksdGhpc30sdXBkYXRlOmZ1bmN0aW9uKHQsZSxpLHMpe3JldHVybiB2b2lkIDA9PT10JiYodD0wKSx2b2lkIDA9PT1lJiYoZT0wKSx2b2lkIDA9PT1pJiYoaT1NYXRoLm1heCgxLHRoaXMud2lkdGgpKSx2b2lkIDA9PT1zJiYocz1NYXRoLm1heCgxLHRoaXMuaGVpZ2h0KSksdGhpcy5pbWFnZURhdGE9dGhpcy5jb250ZXh0LmdldEltYWdlRGF0YSh0LGUsaSxzKSx0aGlzLmRhdGE9dGhpcy5pbWFnZURhdGEuZGF0YSx0aGlzLmltYWdlRGF0YS5kYXRhLmJ1ZmZlcj8odGhpcy5idWZmZXI9dGhpcy5pbWFnZURhdGEuZGF0YS5idWZmZXIsdGhpcy5waXhlbHM9bmV3IFVpbnQzMkFycmF5KHRoaXMuYnVmZmVyKSk6d2luZG93LkFycmF5QnVmZmVyPyh0aGlzLmJ1ZmZlcj1uZXcgQXJyYXlCdWZmZXIodGhpcy5pbWFnZURhdGEuZGF0YS5sZW5ndGgpLHRoaXMucGl4ZWxzPW5ldyBVaW50MzJBcnJheSh0aGlzLmJ1ZmZlcikpOnRoaXMucGl4ZWxzPXRoaXMuaW1hZ2VEYXRhLmRhdGEsdGhpc30scHJvY2Vzc1BpeGVsUkdCOmZ1bmN0aW9uKHQsZSxzLG4sbyxyKXt2b2lkIDA9PT1zJiYocz0wKSx2b2lkIDA9PT1uJiYobj0wKSx2b2lkIDA9PT1vJiYobz10aGlzLndpZHRoKSx2b2lkIDA9PT1yJiYocj10aGlzLmhlaWdodCk7Zm9yKHZhciBhPXMrbyxoPW4rcixsPWkuQ29sb3IuY3JlYXRlQ29sb3IoKSxjPXtyOjAsZzowLGI6MCxhOjB9LHU9ITEsZD1uO2Q8aDtkKyspZm9yKHZhciBwPXM7cDxhO3ArKylpLkNvbG9yLnVucGFja1BpeGVsKHRoaXMuZ2V0UGl4ZWwzMihwLGQpLGwpLCExIT09KGM9dC5jYWxsKGUsbCxwLGQpKSYmbnVsbCE9PWMmJnZvaWQgMCE9PWMmJih0aGlzLnNldFBpeGVsMzIocCxkLGMucixjLmcsYy5iLGMuYSwhMSksdT0hMCk7cmV0dXJuIHUmJih0aGlzLmNvbnRleHQucHV0SW1hZ2VEYXRhKHRoaXMuaW1hZ2VEYXRhLDAsMCksdGhpcy5kaXJ0eT0hMCksdGhpc30scHJvY2Vzc1BpeGVsOmZ1bmN0aW9uKHQsZSxpLHMsbixvKXt2b2lkIDA9PT1pJiYoaT0wKSx2b2lkIDA9PT1zJiYocz0wKSx2b2lkIDA9PT1uJiYobj10aGlzLndpZHRoKSx2b2lkIDA9PT1vJiYobz10aGlzLmhlaWdodCk7Zm9yKHZhciByPWkrbixhPXMrbyxoPTAsbD0wLGM9ITEsdT1zO3U8YTt1KyspZm9yKHZhciBkPWk7ZDxyO2QrKyloPXRoaXMuZ2V0UGl4ZWwzMihkLHUpLChsPXQuY2FsbChlLGgsZCx1KSkhPT1oJiYodGhpcy5waXhlbHNbdSp0aGlzLndpZHRoK2RdPWwsYz0hMCk7cmV0dXJuIGMmJih0aGlzLmNvbnRleHQucHV0SW1hZ2VEYXRhKHRoaXMuaW1hZ2VEYXRhLDAsMCksdGhpcy5kaXJ0eT0hMCksdGhpc30scmVwbGFjZVJHQjpmdW5jdGlvbih0LGUscyxuLG8scixhLGgsbCl7dmFyIGM9MCx1PTAsZD10aGlzLndpZHRoLHA9dGhpcy5oZWlnaHQsZj1pLkNvbG9yLnBhY2tQaXhlbCh0LGUscyxuKTt2b2lkIDAhPT1sJiZsIGluc3RhbmNlb2YgaS5SZWN0YW5nbGUmJihjPWwueCx1PWwueSxkPWwud2lkdGgscD1sLmhlaWdodCk7Zm9yKHZhciBtPTA7bTxwO20rKylmb3IodmFyIGc9MDtnPGQ7ZysrKXRoaXMuZ2V0UGl4ZWwzMihjK2csdSttKT09PWYmJnRoaXMuc2V0UGl4ZWwzMihjK2csdSttLG8scixhLGgsITEpO3JldHVybiB0aGlzLmNvbnRleHQucHV0SW1hZ2VEYXRhKHRoaXMuaW1hZ2VEYXRhLDAsMCksdGhpcy5kaXJ0eT0hMCx0aGlzfSxzZXRIU0w6ZnVuY3Rpb24odCxlLHMsbil7dmFyIG89dHx8MD09PXQscj1lfHwwPT09ZSxhPXN8fDA9PT1zO2lmKG98fHJ8fGEpe3ZvaWQgMD09PW4mJihuPW5ldyBpLlJlY3RhbmdsZSgwLDAsdGhpcy53aWR0aCx0aGlzLmhlaWdodCkpO2Zvcih2YXIgaD1pLkNvbG9yLmNyZWF0ZUNvbG9yKCksbD1uLnk7bDxuLmJvdHRvbTtsKyspZm9yKHZhciBjPW4ueDtjPG4ucmlnaHQ7YysrKWkuQ29sb3IudW5wYWNrUGl4ZWwodGhpcy5nZXRQaXhlbDMyKGMsbCksaCwhMCksbyYmKGguaD10KSxyJiYoaC5zPWUpLGEmJihoLmw9cyksaS5Db2xvci5IU0x0b1JHQihoLmgsaC5zLGgubCxoKSx0aGlzLnNldFBpeGVsMzIoYyxsLGgucixoLmcsaC5iLGguYSwhMSk7cmV0dXJuIHRoaXMuY29udGV4dC5wdXRJbWFnZURhdGEodGhpcy5pbWFnZURhdGEsMCwwKSx0aGlzLmRpcnR5PSEwLHRoaXN9fSxzaGlmdEhTTDpmdW5jdGlvbih0LGUscyxuKXtpZih2b2lkIDAhPT10JiZudWxsIT09dHx8KHQ9ITEpLHZvaWQgMCE9PWUmJm51bGwhPT1lfHwoZT0hMSksdm9pZCAwIT09cyYmbnVsbCE9PXN8fChzPSExKSx0fHxlfHxzKXt2b2lkIDA9PT1uJiYobj1uZXcgaS5SZWN0YW5nbGUoMCwwLHRoaXMud2lkdGgsdGhpcy5oZWlnaHQpKTtmb3IodmFyIG89aS5Db2xvci5jcmVhdGVDb2xvcigpLHI9bi55O3I8bi5ib3R0b207cisrKWZvcih2YXIgYT1uLng7YTxuLnJpZ2h0O2ErKylpLkNvbG9yLnVucGFja1BpeGVsKHRoaXMuZ2V0UGl4ZWwzMihhLHIpLG8sITApLHQmJihvLmg9dGhpcy5nYW1lLm1hdGgud3JhcChvLmgrdCwwLDEpKSxlJiYoby5zPXRoaXMuZ2FtZS5tYXRoLmNsYW1wKG8ucytlLDAsMSkpLHMmJihvLmw9dGhpcy5nYW1lLm1hdGguY2xhbXAoby5sK3MsMCwxKSksaS5Db2xvci5IU0x0b1JHQihvLmgsby5zLG8ubCxvKSx0aGlzLnNldFBpeGVsMzIoYSxyLG8ucixvLmcsby5iLG8uYSwhMSk7cmV0dXJuIHRoaXMuY29udGV4dC5wdXRJbWFnZURhdGEodGhpcy5pbWFnZURhdGEsMCwwKSx0aGlzLmRpcnR5PSEwLHRoaXN9fSxzZXRQaXhlbDMyOmZ1bmN0aW9uKHQsZSxzLG4sbyxyLGEpe3JldHVybiB2b2lkIDA9PT1hJiYoYT0hMCksdD49MCYmdDw9dGhpcy53aWR0aCYmZT49MCYmZTw9dGhpcy5oZWlnaHQmJihpLkRldmljZS5MSVRUTEVfRU5ESUFOP3RoaXMucGl4ZWxzW2UqdGhpcy53aWR0aCt0XT1yPDwyNHxvPDwxNnxuPDw4fHM6dGhpcy5waXhlbHNbZSp0aGlzLndpZHRoK3RdPXM8PDI0fG48PDE2fG88PDh8cixhJiYodGhpcy5jb250ZXh0LnB1dEltYWdlRGF0YSh0aGlzLmltYWdlRGF0YSwwLDApLHRoaXMuZGlydHk9ITApKSx0aGlzfSxzZXRQaXhlbDpmdW5jdGlvbih0LGUsaSxzLG4sbyl7cmV0dXJuIHRoaXMuc2V0UGl4ZWwzMih0LGUsaSxzLG4sMjU1LG8pfSxnZXRQaXhlbDpmdW5jdGlvbih0LGUscyl7c3x8KHM9aS5Db2xvci5jcmVhdGVDb2xvcigpKTt2YXIgbj1+fih0K2UqdGhpcy53aWR0aCk7cmV0dXJuIG4qPTQscy5yPXRoaXMuZGF0YVtuXSxzLmc9dGhpcy5kYXRhWysrbl0scy5iPXRoaXMuZGF0YVsrK25dLHMuYT10aGlzLmRhdGFbKytuXSxzfSxnZXRQaXhlbDMyOmZ1bmN0aW9uKHQsZSl7aWYodD49MCYmdDw9dGhpcy53aWR0aCYmZT49MCYmZTw9dGhpcy5oZWlnaHQpcmV0dXJuIHRoaXMucGl4ZWxzW2UqdGhpcy53aWR0aCt0XX0sZ2V0UGl4ZWxSR0I6ZnVuY3Rpb24odCxlLHMsbixvKXtyZXR1cm4gaS5Db2xvci51bnBhY2tQaXhlbCh0aGlzLmdldFBpeGVsMzIodCxlKSxzLG4sbyl9LGdldFBpeGVsczpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jb250ZXh0LmdldEltYWdlRGF0YSh0LngsdC55LHQud2lkdGgsdC5oZWlnaHQpfSxnZXRGaXJzdFBpeGVsOmZ1bmN0aW9uKHQpe3ZvaWQgMD09PXQmJih0PTApO3ZhciBlPWkuQ29sb3IuY3JlYXRlQ29sb3IoKSxzPTAsbj0wLG89MSxyPSExOzE9PT10PyhvPS0xLG49dGhpcy5oZWlnaHQpOjM9PT10JiYobz0tMSxzPXRoaXMud2lkdGgpO2Rve2kuQ29sb3IudW5wYWNrUGl4ZWwodGhpcy5nZXRQaXhlbDMyKHMsbiksZSksMD09PXR8fDE9PT10Pysrcz09PXRoaXMud2lkdGgmJihzPTAsKChuKz1vKT49dGhpcy5oZWlnaHR8fG48PTApJiYocj0hMCkpOjIhPT10JiYzIT09dHx8KytuPT09dGhpcy5oZWlnaHQmJihuPTAsKChzKz1vKT49dGhpcy53aWR0aHx8czw9MCkmJihyPSEwKSl9d2hpbGUoMD09PWUuYSYmIXIpO3JldHVybiBlLng9cyxlLnk9bixlfSxnZXRCb3VuZHM6ZnVuY3Rpb24odCl7cmV0dXJuIHZvaWQgMD09PXQmJih0PW5ldyBpLlJlY3RhbmdsZSksdC54PXRoaXMuZ2V0Rmlyc3RQaXhlbCgyKS54LHQueD09PXRoaXMud2lkdGg/dC5zZXRUbygwLDAsMCwwKToodC55PXRoaXMuZ2V0Rmlyc3RQaXhlbCgwKS55LHQud2lkdGg9dGhpcy5nZXRGaXJzdFBpeGVsKDMpLngtdC54KzEsdC5oZWlnaHQ9dGhpcy5nZXRGaXJzdFBpeGVsKDEpLnktdC55KzEsdCl9LGFkZFRvV29ybGQ6ZnVuY3Rpb24odCxlLGkscyxuLG8pe249bnx8MSxvPW98fDE7dmFyIHI9dGhpcy5nYW1lLmFkZC5pbWFnZSh0LGUsdGhpcyk7cmV0dXJuIHIuYW5jaG9yLnNldChpLHMpLHIuc2NhbGUuc2V0KG4sbykscn0sY29weTpmdW5jdGlvbih0LGUscyxuLG8scixhLGgsbCxjLHUsZCxwLGYsbSxnLHkpe2lmKHZvaWQgMCE9PXQmJm51bGwhPT10fHwodD10aGlzKSx0IGluc3RhbmNlb2YgaS5SZW5kZXJUZXh0dXJlJiYodD10LmdldENhbnZhcygpKSx0aGlzLl9pbWFnZT10LHQgaW5zdGFuY2VvZiBpLlNwcml0ZXx8dCBpbnN0YW5jZW9mIGkuSW1hZ2V8fHQgaW5zdGFuY2VvZiBpLlRleHR8fHQgaW5zdGFuY2VvZiBQSVhJLlNwcml0ZSl0aGlzLl9wb3Muc2V0KHQudGV4dHVyZS5jcm9wLngsdC50ZXh0dXJlLmNyb3AueSksdGhpcy5fc2l6ZS5zZXQodC50ZXh0dXJlLmNyb3Aud2lkdGgsdC50ZXh0dXJlLmNyb3AuaGVpZ2h0KSx0aGlzLl9zY2FsZS5zZXQodC5zY2FsZS54LHQuc2NhbGUueSksdGhpcy5fYW5jaG9yLnNldCh0LmFuY2hvci54LHQuYW5jaG9yLnkpLHRoaXMuX3JvdGF0ZT10LnJvdGF0aW9uLHRoaXMuX2FscGhhLmN1cnJlbnQ9dC5hbHBoYSx0LnRleHR1cmUgaW5zdGFuY2VvZiBpLlJlbmRlclRleHR1cmU/dGhpcy5faW1hZ2U9dC50ZXh0dXJlLmdldENhbnZhcygpOnRoaXMuX2ltYWdlPXQudGV4dHVyZS5iYXNlVGV4dHVyZS5zb3VyY2Usdm9pZCAwIT09ciYmbnVsbCE9PXJ8fChyPXQueCksdm9pZCAwIT09YSYmbnVsbCE9PWF8fChhPXQueSksdC50ZXh0dXJlLnRyaW0mJihyKz10LnRleHR1cmUudHJpbS54LXQuYW5jaG9yLngqdC50ZXh0dXJlLnRyaW0ud2lkdGgsYSs9dC50ZXh0dXJlLnRyaW0ueS10LmFuY2hvci55KnQudGV4dHVyZS50cmltLmhlaWdodCksMTY3NzcyMTUhPT10LnRpbnQmJih0LmNhY2hlZFRpbnQhPT10LnRpbnQmJih0LmNhY2hlZFRpbnQ9dC50aW50LHQudGludGVkVGV4dHVyZT1QSVhJLkNhbnZhc1RpbnRlci5nZXRUaW50ZWRUZXh0dXJlKHQsdC50aW50KSksdGhpcy5faW1hZ2U9dC50aW50ZWRUZXh0dXJlLHRoaXMuX3Bvcy5zZXQoMCkpO2Vsc2V7aWYodGhpcy5fcG9zLnNldCgwKSx0aGlzLl9zY2FsZS5zZXQoMSksdGhpcy5fYW5jaG9yLnNldCgwKSx0aGlzLl9yb3RhdGU9MCx0aGlzLl9hbHBoYS5jdXJyZW50PTEsdCBpbnN0YW5jZW9mIGkuQml0bWFwRGF0YSl0aGlzLl9pbWFnZT10LmNhbnZhcztlbHNlIGlmKFwic3RyaW5nXCI9PXR5cGVvZiB0KXtpZihudWxsPT09KHQ9dGhpcy5nYW1lLmNhY2hlLmdldEltYWdlKHQpKSlyZXR1cm47dGhpcy5faW1hZ2U9dH10aGlzLl9zaXplLnNldCh0aGlzLl9pbWFnZS53aWR0aCx0aGlzLl9pbWFnZS5oZWlnaHQpfWlmKHZvaWQgMCE9PWUmJm51bGwhPT1lfHwoZT0wKSx2b2lkIDAhPT1zJiZudWxsIT09c3x8KHM9MCksbiYmKHRoaXMuX3NpemUueD1uKSxvJiYodGhpcy5fc2l6ZS55PW8pLHZvaWQgMCE9PXImJm51bGwhPT1yfHwocj1lKSx2b2lkIDAhPT1hJiZudWxsIT09YXx8KGE9cyksdm9pZCAwIT09aCYmbnVsbCE9PWh8fChoPXRoaXMuX3NpemUueCksdm9pZCAwIT09bCYmbnVsbCE9PWx8fChsPXRoaXMuX3NpemUueSksXCJudW1iZXJcIj09dHlwZW9mIGMmJih0aGlzLl9yb3RhdGU9YyksXCJudW1iZXJcIj09dHlwZW9mIHUmJih0aGlzLl9hbmNob3IueD11KSxcIm51bWJlclwiPT10eXBlb2YgZCYmKHRoaXMuX2FuY2hvci55PWQpLFwibnVtYmVyXCI9PXR5cGVvZiBwJiYodGhpcy5fc2NhbGUueD1wKSxcIm51bWJlclwiPT10eXBlb2YgZiYmKHRoaXMuX3NjYWxlLnk9ZiksXCJudW1iZXJcIj09dHlwZW9mIG0mJih0aGlzLl9hbHBoYS5jdXJyZW50PW0pLHZvaWQgMD09PWcmJihnPW51bGwpLHZvaWQgMD09PXkmJih5PSExKSwhKHRoaXMuX2FscGhhLmN1cnJlbnQ8PTB8fDA9PT10aGlzLl9zY2FsZS54fHwwPT09dGhpcy5fc2NhbGUueXx8MD09PXRoaXMuX3NpemUueHx8MD09PXRoaXMuX3NpemUueSkpe3ZhciB2PXRoaXMuY29udGV4dDtyZXR1cm4gdGhpcy5fYWxwaGEucHJldj12Lmdsb2JhbEFscGhhLHYuc2F2ZSgpLHYuZ2xvYmFsQWxwaGE9dGhpcy5fYWxwaGEuY3VycmVudCxnJiYodGhpcy5vcD1nKSx5JiYocnw9MCxhfD0wKSx2LnRyYW5zbGF0ZShyLGEpLHYuc2NhbGUodGhpcy5fc2NhbGUueCx0aGlzLl9zY2FsZS55KSx2LnJvdGF0ZSh0aGlzLl9yb3RhdGUpLHYuZHJhd0ltYWdlKHRoaXMuX2ltYWdlLHRoaXMuX3Bvcy54K2UsdGhpcy5fcG9zLnkrcyx0aGlzLl9zaXplLngsdGhpcy5fc2l6ZS55LC1oKnRoaXMuX2FuY2hvci54LC1sKnRoaXMuX2FuY2hvci55LGgsbCksdi5yZXN0b3JlKCksdi5nbG9iYWxBbHBoYT10aGlzLl9hbHBoYS5wcmV2LHRoaXMuZGlydHk9ITAsdGhpc319LGNvcHlUcmFuc2Zvcm06ZnVuY3Rpb24odCxlLHMpe2lmKHZvaWQgMD09PWUmJihlPW51bGwpLHZvaWQgMD09PXMmJihzPSExKSwhdC5oYXNPd25Qcm9wZXJ0eShcIndvcmxkVHJhbnNmb3JtXCIpfHwhdC53b3JsZFZpc2libGV8fDA9PT10LndvcmxkQWxwaGEpcmV0dXJuIHRoaXM7dmFyIG49dC53b3JsZFRyYW5zZm9ybTtpZih0aGlzLl9wb3Muc2V0KHQudGV4dHVyZS5jcm9wLngsdC50ZXh0dXJlLmNyb3AueSksdGhpcy5fc2l6ZS5zZXQodC50ZXh0dXJlLmNyb3Aud2lkdGgsdC50ZXh0dXJlLmNyb3AuaGVpZ2h0KSwwPT09bi5hfHwwPT09bi5kfHwwPT09dGhpcy5fc2l6ZS54fHwwPT09dGhpcy5fc2l6ZS55KXJldHVybiB0aGlzO3QudGV4dHVyZSBpbnN0YW5jZW9mIGkuUmVuZGVyVGV4dHVyZT90aGlzLl9pbWFnZT10LnRleHR1cmUuZ2V0Q2FudmFzKCk6dGhpcy5faW1hZ2U9dC50ZXh0dXJlLmJhc2VUZXh0dXJlLnNvdXJjZTt2YXIgbz1uLnR4LHI9bi50eTt0LnRleHR1cmUudHJpbSYmKG8rPXQudGV4dHVyZS50cmltLngtdC5hbmNob3IueCp0LnRleHR1cmUudHJpbS53aWR0aCxyKz10LnRleHR1cmUudHJpbS55LXQuYW5jaG9yLnkqdC50ZXh0dXJlLnRyaW0uaGVpZ2h0KSwxNjc3NzIxNSE9PXQudGludCYmKHQuY2FjaGVkVGludCE9PXQudGludCYmKHQuY2FjaGVkVGludD10LnRpbnQsdC50aW50ZWRUZXh0dXJlPVBJWEkuQ2FudmFzVGludGVyLmdldFRpbnRlZFRleHR1cmUodCx0LnRpbnQpKSx0aGlzLl9pbWFnZT10LnRpbnRlZFRleHR1cmUsdGhpcy5fcG9zLnNldCgwKSkscyYmKG98PTAscnw9MCk7dmFyIGE9dGhpcy5jb250ZXh0O3JldHVybiB0aGlzLl9hbHBoYS5wcmV2PWEuZ2xvYmFsQWxwaGEsYS5zYXZlKCksYS5nbG9iYWxBbHBoYT10aGlzLl9hbHBoYS5jdXJyZW50LGUmJih0aGlzLm9wPWUpLGFbdGhpcy5zbW9vdGhQcm9wZXJ0eV09dC50ZXh0dXJlLmJhc2VUZXh0dXJlLnNjYWxlTW9kZT09PVBJWEkuc2NhbGVNb2Rlcy5MSU5FQVIsYS5zZXRUcmFuc2Zvcm0obi5hLG4uYixuLmMsbi5kLG8sciksYS5kcmF3SW1hZ2UodGhpcy5faW1hZ2UsdGhpcy5fcG9zLngsdGhpcy5fcG9zLnksdGhpcy5fc2l6ZS54LHRoaXMuX3NpemUueSwtdGhpcy5fc2l6ZS54KnQuYW5jaG9yLngsLXRoaXMuX3NpemUueSp0LmFuY2hvci55LHRoaXMuX3NpemUueCx0aGlzLl9zaXplLnkpLGEucmVzdG9yZSgpLGEuZ2xvYmFsQWxwaGE9dGhpcy5fYWxwaGEucHJldix0aGlzLmRpcnR5PSEwLHRoaXN9LGNvcHlSZWN0OmZ1bmN0aW9uKHQsZSxpLHMsbixvLHIpe3JldHVybiB0aGlzLmNvcHkodCxlLngsZS55LGUud2lkdGgsZS5oZWlnaHQsaSxzLGUud2lkdGgsZS5oZWlnaHQsMCwwLDAsMSwxLG4sbyxyKX0sZHJhdzpmdW5jdGlvbih0LGUsaSxzLG4sbyxyKXtyZXR1cm4gdGhpcy5jb3B5KHQsbnVsbCxudWxsLG51bGwsbnVsbCxlLGkscyxuLG51bGwsbnVsbCxudWxsLG51bGwsbnVsbCxudWxsLG8scil9LGRyYXdHcm91cDpmdW5jdGlvbih0LGUsaSl7cmV0dXJuIHQudG90YWw+MCYmdC5mb3JFYWNoRXhpc3RzKHRoaXMuZHJhd0dyb3VwUHJveHksdGhpcyxlLGkpLHRoaXN9LGRyYXdHcm91cFByb3h5OmZ1bmN0aW9uKHQsZSxzKXtpZih0Lmhhc093blByb3BlcnR5KFwidGV4dHVyZVwiKSYmdGhpcy5jb3B5VHJhbnNmb3JtKHQsZSxzKSx0LnR5cGU9PT1pLkdST1VQJiZ0LmV4aXN0cyl0aGlzLmRyYXdHcm91cCh0LGUscyk7ZWxzZSBpZih0Lmhhc093blByb3BlcnR5KFwiY2hpbGRyZW5cIikmJnQuY2hpbGRyZW4ubGVuZ3RoPjApZm9yKHZhciBuPTA7bjx0LmNoaWxkcmVuLmxlbmd0aDtuKyspdC5jaGlsZHJlbltuXS5leGlzdHMmJnRoaXMuY29weVRyYW5zZm9ybSh0LmNoaWxkcmVuW25dLGUscyl9LGRyYXdGdWxsOmZ1bmN0aW9uKHQsZSxzKXtpZighMT09PXQud29ybGRWaXNpYmxlfHwwPT09dC53b3JsZEFscGhhfHx0Lmhhc093blByb3BlcnR5KFwiZXhpc3RzXCIpJiYhMT09PXQuZXhpc3RzKXJldHVybiB0aGlzO2lmKHQudHlwZSE9PWkuR1JPVVAmJnQudHlwZSE9PWkuRU1JVFRFUiYmdC50eXBlIT09aS5CSVRNQVBURVhUKWlmKHQudHlwZT09PWkuR1JBUEhJQ1Mpe3ZhciBuPXQuZ2V0Qm91bmRzKCk7dGhpcy5jdHguc2F2ZSgpLHRoaXMuY3R4LnRyYW5zbGF0ZShuLngsbi55KSxQSVhJLkNhbnZhc0dyYXBoaWNzLnJlbmRlckdyYXBoaWNzKHQsdGhpcy5jdHgpLHRoaXMuY3R4LnJlc3RvcmUoKX1lbHNlIHRoaXMuY29weSh0LG51bGwsbnVsbCxudWxsLG51bGwsdC53b3JsZFBvc2l0aW9uLngsdC53b3JsZFBvc2l0aW9uLnksbnVsbCxudWxsLHQud29ybGRSb3RhdGlvbixudWxsLG51bGwsdC53b3JsZFNjYWxlLngsdC53b3JsZFNjYWxlLnksdC53b3JsZEFscGhhLGUscyk7aWYodC5jaGlsZHJlbilmb3IodmFyIG89MDtvPHQuY2hpbGRyZW4ubGVuZ3RoO28rKyl0aGlzLmRyYXdGdWxsKHQuY2hpbGRyZW5bb10sZSxzKTtyZXR1cm4gdGhpc30sc2hhZG93OmZ1bmN0aW9uKHQsZSxpLHMpe3ZhciBuPXRoaXMuY29udGV4dDtyZXR1cm4gdm9pZCAwPT09dHx8bnVsbD09PXQ/bi5zaGFkb3dDb2xvcj1cInJnYmEoMCwwLDAsMClcIjoobi5zaGFkb3dDb2xvcj10LG4uc2hhZG93Qmx1cj1lfHw1LG4uc2hhZG93T2Zmc2V0WD1pfHwxMCxuLnNoYWRvd09mZnNldFk9c3x8MTApLHRoaXN9LGFscGhhTWFzazpmdW5jdGlvbih0LGUsaSxzKXtyZXR1cm4gdm9pZCAwPT09c3x8bnVsbD09PXM/dGhpcy5kcmF3KGUpLmJsZW5kU291cmNlQXRvcCgpOnRoaXMuZHJhdyhlLHMueCxzLnkscy53aWR0aCxzLmhlaWdodCkuYmxlbmRTb3VyY2VBdG9wKCksdm9pZCAwPT09aXx8bnVsbD09PWk/dGhpcy5kcmF3KHQpLmJsZW5kUmVzZXQoKTp0aGlzLmRyYXcodCxpLngsaS55LGkud2lkdGgsaS5oZWlnaHQpLmJsZW5kUmVzZXQoKSx0aGlzfSxleHRyYWN0OmZ1bmN0aW9uKHQsZSxpLHMsbixvLHIsYSxoKXtyZXR1cm4gdm9pZCAwPT09biYmKG49MjU1KSx2b2lkIDA9PT1vJiYobz0hMSksdm9pZCAwPT09ciYmKHI9ZSksdm9pZCAwPT09YSYmKGE9aSksdm9pZCAwPT09aCYmKGg9cyksbyYmdC5yZXNpemUodGhpcy53aWR0aCx0aGlzLmhlaWdodCksdGhpcy5wcm9jZXNzUGl4ZWxSR0IoZnVuY3Rpb24obyxsLGMpe3JldHVybiBvLnI9PT1lJiZvLmc9PT1pJiZvLmI9PT1zJiZ0LnNldFBpeGVsMzIobCxjLHIsYSxoLG4sITEpLCExfSx0aGlzKSx0LmNvbnRleHQucHV0SW1hZ2VEYXRhKHQuaW1hZ2VEYXRhLDAsMCksdC5kaXJ0eT0hMCx0fSxyZWN0OmZ1bmN0aW9uKHQsZSxpLHMsbil7cmV0dXJuIHZvaWQgMCE9PW4mJih0aGlzLmNvbnRleHQuZmlsbFN0eWxlPW4pLHRoaXMuY29udGV4dC5maWxsUmVjdCh0LGUsaSxzKSx0aGlzfSx0ZXh0OmZ1bmN0aW9uKHQsZSxpLHMsbixvKXt2b2lkIDA9PT1lJiYoZT0wKSx2b2lkIDA9PT1pJiYoaT0wKSx2b2lkIDA9PT1zJiYocz1cIjE0cHggQ291cmllclwiKSx2b2lkIDA9PT1uJiYobj1cInJnYigyNTUsMjU1LDI1NSlcIiksdm9pZCAwPT09byYmKG89ITApO3ZhciByPXRoaXMuY29udGV4dCxhPXIuZm9udDtyZXR1cm4gci5mb250PXMsbyYmKHIuZmlsbFN0eWxlPVwicmdiKDAsMCwwKVwiLHIuZmlsbFRleHQodCxlKzEsaSsxKSksci5maWxsU3R5bGU9bixyLmZpbGxUZXh0KHQsZSxpKSxyLmZvbnQ9YSx0aGlzfSxjaXJjbGU6ZnVuY3Rpb24odCxlLGkscyl7dmFyIG49dGhpcy5jb250ZXh0O3JldHVybiB2b2lkIDAhPT1zJiYobi5maWxsU3R5bGU9cyksbi5iZWdpblBhdGgoKSxuLmFyYyh0LGUsaSwwLDIqTWF0aC5QSSwhMSksbi5jbG9zZVBhdGgoKSxuLmZpbGwoKSx0aGlzfSxsaW5lOmZ1bmN0aW9uKHQsZSxpLHMsbixvKXt2b2lkIDA9PT1uJiYobj1cIiNmZmZcIiksdm9pZCAwPT09byYmKG89MSk7dmFyIHI9dGhpcy5jb250ZXh0O3JldHVybiByLmJlZ2luUGF0aCgpLHIubW92ZVRvKHQsZSksci5saW5lVG8oaSxzKSxyLmxpbmVXaWR0aD1vLHIuc3Ryb2tlU3R5bGU9bixyLnN0cm9rZSgpLHIuY2xvc2VQYXRoKCksdGhpc30sdGV4dHVyZUxpbmU6ZnVuY3Rpb24odCxlLHMpe2lmKHZvaWQgMD09PXMmJihzPVwicmVwZWF0LXhcIiksXCJzdHJpbmdcIiE9dHlwZW9mIGV8fChlPXRoaXMuZ2FtZS5jYWNoZS5nZXRJbWFnZShlKSkpe3ZhciBuPXQubGVuZ3RoO1wibm8tcmVwZWF0XCI9PT1zJiZuPmUud2lkdGgmJihuPWUud2lkdGgpO3ZhciBvPXRoaXMuY29udGV4dDtyZXR1cm4gby5maWxsU3R5bGU9by5jcmVhdGVQYXR0ZXJuKGUscyksdGhpcy5fY2lyY2xlPW5ldyBpLkNpcmNsZSh0LnN0YXJ0LngsdC5zdGFydC55LGUuaGVpZ2h0KSx0aGlzLl9jaXJjbGUuY2lyY3VtZmVyZW5jZVBvaW50KHQuYW5nbGUtMS41NzA3OTYzMjY3OTQ4OTY2LCExLHRoaXMuX3Bvcyksby5zYXZlKCksby50cmFuc2xhdGUodGhpcy5fcG9zLngsdGhpcy5fcG9zLnkpLG8ucm90YXRlKHQuYW5nbGUpLG8uZmlsbFJlY3QoMCwwLG4sZS5oZWlnaHQpLG8ucmVzdG9yZSgpLHRoaXMuZGlydHk9ITAsdGhpc319LHJlbmRlcjpmdW5jdGlvbigpe3JldHVybiF0aGlzLmRpc2FibGVUZXh0dXJlVXBsb2FkJiZ0aGlzLmRpcnR5JiYodGhpcy5iYXNlVGV4dHVyZS5kaXJ0eSgpLHRoaXMuZGlydHk9ITEpLHRoaXN9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLmZyYW1lRGF0YS5kZXN0cm95KCksdGhpcy50ZXh0dXJlLmRlc3Ryb3koITApLGkuQ2FudmFzUG9vbC5yZW1vdmUodGhpcyl9LGJsZW5kUmVzZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vcD1cInNvdXJjZS1vdmVyXCIsdGhpc30sYmxlbmRTb3VyY2VPdmVyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub3A9XCJzb3VyY2Utb3ZlclwiLHRoaXN9LGJsZW5kU291cmNlSW46ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vcD1cInNvdXJjZS1pblwiLHRoaXN9LGJsZW5kU291cmNlT3V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub3A9XCJzb3VyY2Utb3V0XCIsdGhpc30sYmxlbmRTb3VyY2VBdG9wOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub3A9XCJzb3VyY2UtYXRvcFwiLHRoaXN9LGJsZW5kRGVzdGluYXRpb25PdmVyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub3A9XCJkZXN0aW5hdGlvbi1vdmVyXCIsdGhpc30sYmxlbmREZXN0aW5hdGlvbkluOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub3A9XCJkZXN0aW5hdGlvbi1pblwiLHRoaXN9LGJsZW5kRGVzdGluYXRpb25PdXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vcD1cImRlc3RpbmF0aW9uLW91dFwiLHRoaXN9LGJsZW5kRGVzdGluYXRpb25BdG9wOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub3A9XCJkZXN0aW5hdGlvbi1hdG9wXCIsdGhpc30sYmxlbmRYb3I6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vcD1cInhvclwiLHRoaXN9LGJsZW5kQWRkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub3A9XCJsaWdodGVyXCIsdGhpc30sYmxlbmRNdWx0aXBseTpmdW5jdGlvbigpe3JldHVybiB0aGlzLm9wPVwibXVsdGlwbHlcIix0aGlzfSxibGVuZFNjcmVlbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLm9wPVwic2NyZWVuXCIsdGhpc30sYmxlbmRPdmVybGF5OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub3A9XCJvdmVybGF5XCIsdGhpc30sYmxlbmREYXJrZW46ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vcD1cImRhcmtlblwiLHRoaXN9LGJsZW5kTGlnaHRlbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLm9wPVwibGlnaHRlblwiLHRoaXN9LGJsZW5kQ29sb3JEb2RnZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLm9wPVwiY29sb3ItZG9kZ2VcIix0aGlzfSxibGVuZENvbG9yQnVybjpmdW5jdGlvbigpe3JldHVybiB0aGlzLm9wPVwiY29sb3ItYnVyblwiLHRoaXN9LGJsZW5kSGFyZExpZ2h0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub3A9XCJoYXJkLWxpZ2h0XCIsdGhpc30sYmxlbmRTb2Z0TGlnaHQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vcD1cInNvZnQtbGlnaHRcIix0aGlzfSxibGVuZERpZmZlcmVuY2U6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vcD1cImRpZmZlcmVuY2VcIix0aGlzfSxibGVuZEV4Y2x1c2lvbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLm9wPVwiZXhjbHVzaW9uXCIsdGhpc30sYmxlbmRIdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vcD1cImh1ZVwiLHRoaXN9LGJsZW5kU2F0dXJhdGlvbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLm9wPVwic2F0dXJhdGlvblwiLHRoaXN9LGJsZW5kQ29sb3I6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vcD1cImNvbG9yXCIsdGhpc30sYmxlbmRMdW1pbm9zaXR5OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub3A9XCJsdW1pbm9zaXR5XCIsdGhpc30sY29weUJpdG1hcERhdGE6ZnVuY3Rpb24odCxlLGkpe3QudXBkYXRlKCk7Zm9yKHZhciBzLG49MDtuPHQuaGVpZ2h0O24rKyl7cz0oaStuKSp0aGlzLndpZHRoK2U7Zm9yKHZhciBvPTA7bzx0LndpZHRoO28rKyl0aGlzLnBpeGVsc1tzK29dPXQucGl4ZWxzW24qdC53aWR0aCtvXX1yZXR1cm4gdGhpc319LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLkJpdG1hcERhdGEucHJvdG90eXBlLFwic21vb3RoZWRcIix7Z2V0OmZ1bmN0aW9uKCl7aS5DYW52YXMuZ2V0U21vb3RoaW5nRW5hYmxlZCh0aGlzLmNvbnRleHQpfSxzZXQ6ZnVuY3Rpb24odCl7aS5DYW52YXMuc2V0U21vb3RoaW5nRW5hYmxlZCh0aGlzLmNvbnRleHQsdCl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuQml0bWFwRGF0YS5wcm90b3R5cGUsXCJvcFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb250ZXh0Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbn0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuY29udGV4dC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb249dH19KSxpLkJpdG1hcERhdGEuZ2V0VHJhbnNmb3JtPWZ1bmN0aW9uKHQsZSxpLHMsbixvKXtyZXR1cm5cIm51bWJlclwiIT10eXBlb2YgdCYmKHQ9MCksXCJudW1iZXJcIiE9dHlwZW9mIGUmJihlPTApLFwibnVtYmVyXCIhPXR5cGVvZiBpJiYoaT0xKSxcIm51bWJlclwiIT10eXBlb2YgcyYmKHM9MSksXCJudW1iZXJcIiE9dHlwZW9mIG4mJihuPTApLFwibnVtYmVyXCIhPXR5cGVvZiBvJiYobz0wKSx7c3g6aSxzeTpzLHNjYWxlWDppLHNjYWxlWTpzLHNrZXdYOm4sc2tld1k6byx0cmFuc2xhdGVYOnQsdHJhbnNsYXRlWTplLHR4OnQsdHk6ZX19LGkuQml0bWFwRGF0YS5wcm90b3R5cGUuY29uc3RydWN0b3I9aS5CaXRtYXBEYXRhLGkuRWFyQ3V0PXt9LGkuRWFyQ3V0LlRyaWFuZ3VsYXRlPWZ1bmN0aW9uKHQsZSxzKXtzPXN8fDI7dmFyIG49ZSYmZS5sZW5ndGgsbz1uP2VbMF0qczp0Lmxlbmd0aCxyPWkuRWFyQ3V0LmxpbmtlZExpc3QodCwwLG8scywhMCksYT1bXTtpZighcilyZXR1cm4gYTt2YXIgaCxsLGMsdSxkLHAsZjtpZihuJiYocj1pLkVhckN1dC5lbGltaW5hdGVIb2xlcyh0LGUscixzKSksdC5sZW5ndGg+ODAqcyl7aD1jPXRbMF0sbD11PXRbMV07Zm9yKHZhciBtPXM7bTxvO20rPXMpZD10W21dLHA9dFttKzFdLGQ8aCYmKGg9ZCkscDxsJiYobD1wKSxkPmMmJihjPWQpLHA+dSYmKHU9cCk7Zj1NYXRoLm1heChjLWgsdS1sKX1yZXR1cm4gaS5FYXJDdXQuZWFyY3V0TGlua2VkKHIsYSxzLGgsbCxmKSxhfSxpLkVhckN1dC5saW5rZWRMaXN0PWZ1bmN0aW9uKHQsZSxzLG4sbyl7dmFyIHIsYSxoLGw9MDtmb3Iocj1lLGE9cy1uO3I8cztyKz1uKWwrPSh0W2FdLXRbcl0pKih0W3IrMV0rdFthKzFdKSxhPXI7aWYobz09PWw+MClmb3Iocj1lO3I8cztyKz1uKWg9aS5FYXJDdXQuaW5zZXJ0Tm9kZShyLHRbcl0sdFtyKzFdLGgpO2Vsc2UgZm9yKHI9cy1uO3I+PWU7ci09biloPWkuRWFyQ3V0Lmluc2VydE5vZGUocix0W3JdLHRbcisxXSxoKTtyZXR1cm4gaH0saS5FYXJDdXQuZmlsdGVyUG9pbnRzPWZ1bmN0aW9uKHQsZSl7aWYoIXQpcmV0dXJuIHQ7ZXx8KGU9dCk7dmFyIHMsbj10O2Rve2lmKHM9ITEsbi5zdGVpbmVyfHwhaS5FYXJDdXQuZXF1YWxzKG4sbi5uZXh0KSYmMCE9PWkuRWFyQ3V0LmFyZWEobi5wcmV2LG4sbi5uZXh0KSluPW4ubmV4dDtlbHNle2lmKGkuRWFyQ3V0LnJlbW92ZU5vZGUobiksKG49ZT1uLnByZXYpPT09bi5uZXh0KXJldHVybiBudWxsO3M9ITB9fXdoaWxlKHN8fG4hPT1lKTtyZXR1cm4gZX0saS5FYXJDdXQuZWFyY3V0TGlua2VkPWZ1bmN0aW9uKHQsZSxzLG4sbyxyLGEpe2lmKHQpeyFhJiZyJiZpLkVhckN1dC5pbmRleEN1cnZlKHQsbixvLHIpO2Zvcih2YXIgaCxsLGM9dDt0LnByZXYhPT10Lm5leHQ7KWlmKGg9dC5wcmV2LGw9dC5uZXh0LHI/aS5FYXJDdXQuaXNFYXJIYXNoZWQodCxuLG8scik6aS5FYXJDdXQuaXNFYXIodCkpZS5wdXNoKGguaS9zKSxlLnB1c2godC5pL3MpLGUucHVzaChsLmkvcyksaS5FYXJDdXQucmVtb3ZlTm9kZSh0KSx0PWwubmV4dCxjPWwubmV4dDtlbHNlIGlmKCh0PWwpPT09Yyl7YT8xPT09YT8odD1pLkVhckN1dC5jdXJlTG9jYWxJbnRlcnNlY3Rpb25zKHQsZSxzKSxpLkVhckN1dC5lYXJjdXRMaW5rZWQodCxlLHMsbixvLHIsMikpOjI9PT1hJiZpLkVhckN1dC5zcGxpdEVhcmN1dCh0LGUscyxuLG8scik6aS5FYXJDdXQuZWFyY3V0TGlua2VkKGkuRWFyQ3V0LmZpbHRlclBvaW50cyh0KSxlLHMsbixvLHIsMSk7YnJlYWt9fX0saS5FYXJDdXQuaXNFYXI9ZnVuY3Rpb24odCl7dmFyIGU9dC5wcmV2LHM9dCxuPXQubmV4dDtpZihpLkVhckN1dC5hcmVhKGUscyxuKT49MClyZXR1cm4hMTtmb3IodmFyIG89dC5uZXh0Lm5leHQ7byE9PXQucHJldjspe2lmKGkuRWFyQ3V0LnBvaW50SW5UcmlhbmdsZShlLngsZS55LHMueCxzLnksbi54LG4ueSxvLngsby55KSYmaS5FYXJDdXQuYXJlYShvLnByZXYsbyxvLm5leHQpPj0wKXJldHVybiExO289by5uZXh0fXJldHVybiEwfSxpLkVhckN1dC5pc0Vhckhhc2hlZD1mdW5jdGlvbih0LGUscyxuKXt2YXIgbz10LnByZXYscj10LGE9dC5uZXh0O2lmKGkuRWFyQ3V0LmFyZWEobyxyLGEpPj0wKXJldHVybiExO2Zvcih2YXIgaD1vLng8ci54P28ueDxhLng/by54OmEueDpyLng8YS54P3IueDphLngsbD1vLnk8ci55P28ueTxhLnk/by55OmEueTpyLnk8YS55P3IueTphLnksYz1vLng+ci54P28ueD5hLng/by54OmEueDpyLng+YS54P3IueDphLngsdT1vLnk+ci55P28ueT5hLnk/by55OmEueTpyLnk+YS55P3IueTphLnksZD1pLkVhckN1dC56T3JkZXIoaCxsLGUscyxuKSxwPWkuRWFyQ3V0LnpPcmRlcihjLHUsZSxzLG4pLGY9dC5uZXh0WjtmJiZmLno8PXA7KXtpZihmIT09dC5wcmV2JiZmIT09dC5uZXh0JiZpLkVhckN1dC5wb2ludEluVHJpYW5nbGUoby54LG8ueSxyLngsci55LGEueCxhLnksZi54LGYueSkmJmkuRWFyQ3V0LmFyZWEoZi5wcmV2LGYsZi5uZXh0KT49MClyZXR1cm4hMTtmPWYubmV4dFp9Zm9yKGY9dC5wcmV2WjtmJiZmLno+PWQ7KXtpZihmIT09dC5wcmV2JiZmIT09dC5uZXh0JiZpLkVhckN1dC5wb2ludEluVHJpYW5nbGUoby54LG8ueSxyLngsci55LGEueCxhLnksZi54LGYueSkmJmkuRWFyQ3V0LmFyZWEoZi5wcmV2LGYsZi5uZXh0KT49MClyZXR1cm4hMTtmPWYucHJldlp9cmV0dXJuITB9LGkuRWFyQ3V0LmN1cmVMb2NhbEludGVyc2VjdGlvbnM9ZnVuY3Rpb24odCxlLHMpe3ZhciBuPXQ7ZG97dmFyIG89bi5wcmV2LHI9bi5uZXh0Lm5leHQ7aS5FYXJDdXQuaW50ZXJzZWN0cyhvLG4sbi5uZXh0LHIpJiZpLkVhckN1dC5sb2NhbGx5SW5zaWRlKG8scikmJmkuRWFyQ3V0LmxvY2FsbHlJbnNpZGUocixvKSYmKGUucHVzaChvLmkvcyksZS5wdXNoKG4uaS9zKSxlLnB1c2goci5pL3MpLGkuRWFyQ3V0LnJlbW92ZU5vZGUobiksaS5FYXJDdXQucmVtb3ZlTm9kZShuLm5leHQpLG49dD1yKSxuPW4ubmV4dH13aGlsZShuIT09dCk7cmV0dXJuIG59LGkuRWFyQ3V0LnNwbGl0RWFyY3V0PWZ1bmN0aW9uKHQsZSxzLG4sbyxyKXt2YXIgYT10O2Rve2Zvcih2YXIgaD1hLm5leHQubmV4dDtoIT09YS5wcmV2Oyl7aWYoYS5pIT09aC5pJiZpLkVhckN1dC5pc1ZhbGlkRGlhZ29uYWwoYSxoKSl7dmFyIGw9aS5FYXJDdXQuc3BsaXRQb2x5Z29uKGEsaCk7cmV0dXJuIGE9aS5FYXJDdXQuZmlsdGVyUG9pbnRzKGEsYS5uZXh0KSxsPWkuRWFyQ3V0LmZpbHRlclBvaW50cyhsLGwubmV4dCksaS5FYXJDdXQuZWFyY3V0TGlua2VkKGEsZSxzLG4sbyxyKSx2b2lkIGkuRWFyQ3V0LmVhcmN1dExpbmtlZChsLGUscyxuLG8scil9aD1oLm5leHR9YT1hLm5leHR9d2hpbGUoYSE9PXQpfSxpLkVhckN1dC5lbGltaW5hdGVIb2xlcz1mdW5jdGlvbih0LGUscyxuKXt2YXIgbyxyLGEsaCxsLGM9W107Zm9yKG89MCxyPWUubGVuZ3RoO288cjtvKyspYT1lW29dKm4saD1vPHItMT9lW28rMV0qbjp0Lmxlbmd0aCwobD1pLkVhckN1dC5saW5rZWRMaXN0KHQsYSxoLG4sITEpKT09PWwubmV4dCYmKGwuc3RlaW5lcj0hMCksYy5wdXNoKGkuRWFyQ3V0LmdldExlZnRtb3N0KGwpKTtmb3IoYy5zb3J0KGNvbXBhcmVYKSxvPTA7bzxjLmxlbmd0aDtvKyspaS5FYXJDdXQuZWxpbWluYXRlSG9sZShjW29dLHMpLHM9aS5FYXJDdXQuZmlsdGVyUG9pbnRzKHMscy5uZXh0KTtyZXR1cm4gc30saS5FYXJDdXQuY29tcGFyZVg9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC54LWUueH0saS5FYXJDdXQuZWxpbWluYXRlSG9sZT1mdW5jdGlvbih0LGUpe2lmKGU9aS5FYXJDdXQuZmluZEhvbGVCcmlkZ2UodCxlKSl7dmFyIHM9aS5FYXJDdXQuc3BsaXRQb2x5Z29uKGUsdCk7aS5FYXJDdXQuZmlsdGVyUG9pbnRzKHMscy5uZXh0KX19LGkuRWFyQ3V0LmZpbmRIb2xlQnJpZGdlPWZ1bmN0aW9uKHQsZSl7dmFyIHMsbj1lLG89dC54LHI9dC55LGE9LTEvMDtkb3tpZihyPD1uLnkmJnI+PW4ubmV4dC55KXt2YXIgaD1uLngrKHItbi55KSoobi5uZXh0Lngtbi54KS8obi5uZXh0Lnktbi55KTtoPD1vJiZoPmEmJihhPWgscz1uLng8bi5uZXh0Lng/bjpuLm5leHQpfW49bi5uZXh0fXdoaWxlKG4hPT1lKTtpZighcylyZXR1cm4gbnVsbDtpZih0Lng9PT1zLngpcmV0dXJuIHMucHJldjt2YXIgbCxjPXMsdT0xLzA7Zm9yKG49cy5uZXh0O24hPT1jOylvPj1uLngmJm4ueD49cy54JiZpLkVhckN1dC5wb2ludEluVHJpYW5nbGUocjxzLnk/bzphLHIscy54LHMueSxyPHMueT9hOm8scixuLngsbi55KSYmKChsPU1hdGguYWJzKHItbi55KS8oby1uLngpKTx1fHxsPT09dSYmbi54PnMueCkmJmkuRWFyQ3V0LmxvY2FsbHlJbnNpZGUobix0KSYmKHM9bix1PWwpLG49bi5uZXh0O3JldHVybiBzfSxpLkVhckN1dC5pbmRleEN1cnZlPWZ1bmN0aW9uKHQsZSxzLG4pe3ZhciBvPXQ7ZG97bnVsbD09PW8ueiYmKG8uej1pLkVhckN1dC56T3JkZXIoby54LG8ueSxlLHMsbikpLG8ucHJldlo9by5wcmV2LG8ubmV4dFo9by5uZXh0LG89by5uZXh0fXdoaWxlKG8hPT10KTtvLnByZXZaLm5leHRaPW51bGwsby5wcmV2Wj1udWxsLGkuRWFyQ3V0LnNvcnRMaW5rZWQobyl9LGkuRWFyQ3V0LnNvcnRMaW5rZWQ9ZnVuY3Rpb24odCl7dmFyIGUsaSxzLG4sbyxyLGEsaCxsPTE7ZG97Zm9yKGk9dCx0PW51bGwsbz1udWxsLHI9MDtpOyl7Zm9yKHIrKyxzPWksYT0wLGU9MDtlPGwmJihhKysscz1zLm5leHRaKTtlKyspO2ZvcihoPWw7YT4wfHxoPjAmJnM7KTA9PT1hPyhuPXMscz1zLm5leHRaLGgtLSk6MCE9PWgmJnM/aS56PD1zLno/KG49aSxpPWkubmV4dFosYS0tKToobj1zLHM9cy5uZXh0WixoLS0pOihuPWksaT1pLm5leHRaLGEtLSksbz9vLm5leHRaPW46dD1uLG4ucHJldlo9byxvPW47aT1zfW8ubmV4dFo9bnVsbCxsKj0yfXdoaWxlKHI+MSk7cmV0dXJuIHR9LGkuRWFyQ3V0LnpPcmRlcj1mdW5jdGlvbih0LGUsaSxzLG4pe3JldHVybiB0PTMyNzY3Kih0LWkpL24sZT0zMjc2NyooZS1zKS9uLHQ9MTY3MTE5MzUmKHR8dDw8OCksdD0yNTI2NDUxMzUmKHR8dDw8NCksdD04NTg5OTM0NTkmKHR8dDw8MiksdD0xNDMxNjU1NzY1Jih0fHQ8PDEpLGU9MTY3MTE5MzUmKGV8ZTw8OCksZT0yNTI2NDUxMzUmKGV8ZTw8NCksZT04NTg5OTM0NTkmKGV8ZTw8MiksZT0xNDMxNjU1NzY1JihlfGU8PDEpLHR8ZTw8MX0saS5FYXJDdXQuZ2V0TGVmdG1vc3Q9ZnVuY3Rpb24odCl7dmFyIGU9dCxpPXQ7ZG97ZS54PGkueCYmKGk9ZSksZT1lLm5leHR9d2hpbGUoZSE9PXQpO3JldHVybiBpfSxpLkVhckN1dC5wb2ludEluVHJpYW5nbGU9ZnVuY3Rpb24odCxlLGkscyxuLG8scixhKXtyZXR1cm4obi1yKSooZS1hKS0odC1yKSooby1hKT49MCYmKHQtcikqKHMtYSktKGktcikqKGUtYSk+PTAmJihpLXIpKihvLWEpLShuLXIpKihzLWEpPj0wfSxpLkVhckN1dC5pc1ZhbGlkRGlhZ29uYWw9ZnVuY3Rpb24odCxlKXtyZXR1cm4gaS5FYXJDdXQuZXF1YWxzKHQsZSl8fHQubmV4dC5pIT09ZS5pJiZ0LnByZXYuaSE9PWUuaSYmIWkuRWFyQ3V0LmludGVyc2VjdHNQb2x5Z29uKHQsZSkmJmkuRWFyQ3V0LmxvY2FsbHlJbnNpZGUodCxlKSYmaS5FYXJDdXQubG9jYWxseUluc2lkZShlLHQpJiZpLkVhckN1dC5taWRkbGVJbnNpZGUodCxlKX0saS5FYXJDdXQuYXJlYT1mdW5jdGlvbih0LGUsaSl7cmV0dXJuKGUueS10LnkpKihpLngtZS54KS0oZS54LXQueCkqKGkueS1lLnkpfSxpLkVhckN1dC5lcXVhbHM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC54PT09ZS54JiZ0Lnk9PT1lLnl9LGkuRWFyQ3V0LmludGVyc2VjdHM9ZnVuY3Rpb24odCxlLHMsbil7cmV0dXJuIGkuRWFyQ3V0LmFyZWEodCxlLHMpPjAhPWkuRWFyQ3V0LmFyZWEodCxlLG4pPjAmJmkuRWFyQ3V0LmFyZWEocyxuLHQpPjAhPWkuRWFyQ3V0LmFyZWEocyxuLGUpPjB9LGkuRWFyQ3V0LmludGVyc2VjdHNQb2x5Z29uPWZ1bmN0aW9uKHQsZSl7dmFyIHM9dDtkb3tpZihzLmkhPT10LmkmJnMubmV4dC5pIT09dC5pJiZzLmkhPT1lLmkmJnMubmV4dC5pIT09ZS5pJiZpLkVhckN1dC5pbnRlcnNlY3RzKHMscy5uZXh0LHQsZSkpcmV0dXJuITA7cz1zLm5leHR9d2hpbGUocyE9PXQpO3JldHVybiExfSxpLkVhckN1dC5sb2NhbGx5SW5zaWRlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGkuRWFyQ3V0LmFyZWEodC5wcmV2LHQsdC5uZXh0KTwwP2kuRWFyQ3V0LmFyZWEodCxlLHQubmV4dCk+PTAmJmkuRWFyQ3V0LmFyZWEodCx0LnByZXYsZSk+PTA6aS5FYXJDdXQuYXJlYSh0LGUsdC5wcmV2KTwwfHxpLkVhckN1dC5hcmVhKHQsdC5uZXh0LGUpPDB9LGkuRWFyQ3V0Lm1pZGRsZUluc2lkZT1mdW5jdGlvbih0LGUpe3ZhciBpPXQscz0hMSxuPSh0LngrZS54KS8yLG89KHQueStlLnkpLzI7ZG97aS55Pm8hPWkubmV4dC55Pm8mJm48KGkubmV4dC54LWkueCkqKG8taS55KS8oaS5uZXh0LnktaS55KStpLngmJihzPSFzKSxpPWkubmV4dH13aGlsZShpIT09dCk7cmV0dXJuIHN9LGkuRWFyQ3V0LnNwbGl0UG9seWdvbj1mdW5jdGlvbih0LGUpe3ZhciBzPW5ldyBpLkVhckN1dC5Ob2RlKHQuaSx0LngsdC55KSxuPW5ldyBpLkVhckN1dC5Ob2RlKGUuaSxlLngsZS55KSxvPXQubmV4dCxyPWUucHJldjtyZXR1cm4gdC5uZXh0PWUsZS5wcmV2PXQscy5uZXh0PW8sby5wcmV2PXMsbi5uZXh0PXMscy5wcmV2PW4sci5uZXh0PW4sbi5wcmV2PXIsbn0saS5FYXJDdXQuaW5zZXJ0Tm9kZT1mdW5jdGlvbih0LGUscyxuKXt2YXIgbz1uZXcgaS5FYXJDdXQuTm9kZSh0LGUscyk7cmV0dXJuIG4/KG8ubmV4dD1uLm5leHQsby5wcmV2PW4sbi5uZXh0LnByZXY9byxuLm5leHQ9byk6KG8ucHJldj1vLG8ubmV4dD1vKSxvfSxpLkVhckN1dC5yZW1vdmVOb2RlPWZ1bmN0aW9uKHQpe3QubmV4dC5wcmV2PXQucHJldix0LnByZXYubmV4dD10Lm5leHQsdC5wcmV2WiYmKHQucHJldloubmV4dFo9dC5uZXh0WiksdC5uZXh0WiYmKHQubmV4dFoucHJldlo9dC5wcmV2Wil9LGkuRWFyQ3V0Lk5vZGU9ZnVuY3Rpb24odCxlLGkpe3RoaXMuaT10LHRoaXMueD1lLHRoaXMueT1pLHRoaXMucHJldj1udWxsLHRoaXMubmV4dD1udWxsLHRoaXMuej1udWxsLHRoaXMucHJldlo9bnVsbCx0aGlzLm5leHRaPW51bGwsdGhpcy5zdGVpbmVyPSExfSxQSVhJLldlYkdMR3JhcGhpY3M9ZnVuY3Rpb24oKXt9LFBJWEkuV2ViR0xHcmFwaGljcy5zdGVuY2lsQnVmZmVyTGltaXQ9NixQSVhJLldlYkdMR3JhcGhpY3MucmVuZGVyR3JhcGhpY3M9ZnVuY3Rpb24odCxlKXt2YXIgcyxuPWUuZ2wsbz1lLnByb2plY3Rpb24scj1lLm9mZnNldCxhPWUuc2hhZGVyTWFuYWdlci5wcmltaXRpdmVTaGFkZXI7dC5kaXJ0eSYmUElYSS5XZWJHTEdyYXBoaWNzLnVwZGF0ZUdyYXBoaWNzKHQsbik7dmFyIGg9dC5fd2ViR0xbbi5pZF07aWYoaClmb3IodmFyIGw9MDtsPGguZGF0YS5sZW5ndGg7bCsrKTE9PT1oLmRhdGFbbF0ubW9kZT8ocz1oLmRhdGFbbF0sZS5zdGVuY2lsTWFuYWdlci5wdXNoU3RlbmNpbCh0LHMsZSksbi5kcmF3RWxlbWVudHMobi5UUklBTkdMRV9GQU4sNCxuLlVOU0lHTkVEX1NIT1JULDIqKHMuaW5kaWNlcy5sZW5ndGgtNCkpLGUuc3RlbmNpbE1hbmFnZXIucG9wU3RlbmNpbCh0LHMsZSkpOihzPWguZGF0YVtsXSxlLnNoYWRlck1hbmFnZXIuc2V0U2hhZGVyKGEpLGE9ZS5zaGFkZXJNYW5hZ2VyLnByaW1pdGl2ZVNoYWRlcixuLnVuaWZvcm1NYXRyaXgzZnYoYS50cmFuc2xhdGlvbk1hdHJpeCwhMSx0LndvcmxkVHJhbnNmb3JtLnRvQXJyYXkoITApKSxuLnVuaWZvcm0xZihhLmZsaXBZLDEpLG4udW5pZm9ybTJmKGEucHJvamVjdGlvblZlY3RvcixvLngsLW8ueSksbi51bmlmb3JtMmYoYS5vZmZzZXRWZWN0b3IsLXIueCwtci55KSxuLnVuaWZvcm0zZnYoYS50aW50Q29sb3IsaS5Db2xvci5oZXhUb1JHQkFycmF5KHQudGludCkpLG4udW5pZm9ybTFmKGEuYWxwaGEsdC53b3JsZEFscGhhKSxuLmJpbmRCdWZmZXIobi5BUlJBWV9CVUZGRVIscy5idWZmZXIpLG4udmVydGV4QXR0cmliUG9pbnRlcihhLmFWZXJ0ZXhQb3NpdGlvbiwyLG4uRkxPQVQsITEsMjQsMCksbi52ZXJ0ZXhBdHRyaWJQb2ludGVyKGEuY29sb3JBdHRyaWJ1dGUsNCxuLkZMT0FULCExLDI0LDgpLG4uYmluZEJ1ZmZlcihuLkVMRU1FTlRfQVJSQVlfQlVGRkVSLHMuaW5kZXhCdWZmZXIpLG4uZHJhd0VsZW1lbnRzKG4uVFJJQU5HTEVfU1RSSVAscy5pbmRpY2VzLmxlbmd0aCxuLlVOU0lHTkVEX1NIT1JULDApKX0sUElYSS5XZWJHTEdyYXBoaWNzLnVwZGF0ZUdyYXBoaWNzPWZ1bmN0aW9uKHQsZSl7dmFyIHM9dC5fd2ViR0xbZS5pZF07c3x8KHM9dC5fd2ViR0xbZS5pZF09e2xhc3RJbmRleDowLGRhdGE6W10sZ2w6ZX0pLHQuZGlydHk9ITE7dmFyIG47aWYodC5jbGVhckRpcnR5KXtmb3IodC5jbGVhckRpcnR5PSExLG49MDtuPHMuZGF0YS5sZW5ndGg7bisrKXt2YXIgbz1zLmRhdGFbbl07by5yZXNldCgpLFBJWEkuV2ViR0xHcmFwaGljcy5ncmFwaGljc0RhdGFQb29sLnB1c2gobyl9cy5kYXRhPVtdLHMubGFzdEluZGV4PTB9dmFyIHI7Zm9yKG49cy5sYXN0SW5kZXg7bjx0LmdyYXBoaWNzRGF0YS5sZW5ndGg7bisrKXt2YXIgYT10LmdyYXBoaWNzRGF0YVtuXTthLnR5cGU9PT1pLlBPTFlHT04/KGEucG9pbnRzPWEuc2hhcGUucG9pbnRzLnNsaWNlKCksYS5zaGFwZS5jbG9zZWQmJihhLnBvaW50c1swXT09PWEucG9pbnRzW2EucG9pbnRzLmxlbmd0aC0yXSYmYS5wb2ludHNbMV09PT1hLnBvaW50c1thLnBvaW50cy5sZW5ndGgtMV18fGEucG9pbnRzLnB1c2goYS5wb2ludHNbMF0sYS5wb2ludHNbMV0pKSxhLmZpbGwmJmEucG9pbnRzLmxlbmd0aD49UElYSS5XZWJHTEdyYXBoaWNzLnN0ZW5jaWxCdWZmZXJMaW1pdCYmKGEucG9pbnRzLmxlbmd0aDwyKlBJWEkuV2ViR0xHcmFwaGljcy5zdGVuY2lsQnVmZmVyTGltaXQ/KHI9UElYSS5XZWJHTEdyYXBoaWNzLnN3aXRjaE1vZGUocywwKSxQSVhJLldlYkdMR3JhcGhpY3MuYnVpbGRQb2x5KGEscil8fChyPVBJWEkuV2ViR0xHcmFwaGljcy5zd2l0Y2hNb2RlKHMsMSksUElYSS5XZWJHTEdyYXBoaWNzLmJ1aWxkQ29tcGxleFBvbHkoYSxyKSkpOihyPVBJWEkuV2ViR0xHcmFwaGljcy5zd2l0Y2hNb2RlKHMsMSksUElYSS5XZWJHTEdyYXBoaWNzLmJ1aWxkQ29tcGxleFBvbHkoYSxyKSkpLGEubGluZVdpZHRoPjAmJihyPVBJWEkuV2ViR0xHcmFwaGljcy5zd2l0Y2hNb2RlKHMsMCksUElYSS5XZWJHTEdyYXBoaWNzLmJ1aWxkTGluZShhLHIpKSk6KHI9UElYSS5XZWJHTEdyYXBoaWNzLnN3aXRjaE1vZGUocywwKSxhLnR5cGU9PT1pLlJFQ1RBTkdMRT9QSVhJLldlYkdMR3JhcGhpY3MuYnVpbGRSZWN0YW5nbGUoYSxyKTphLnR5cGU9PT1pLkNJUkNMRXx8YS50eXBlPT09aS5FTExJUFNFP1BJWEkuV2ViR0xHcmFwaGljcy5idWlsZENpcmNsZShhLHIpOmEudHlwZT09PWkuUk9VTkRFRFJFQ1RBTkdMRSYmUElYSS5XZWJHTEdyYXBoaWNzLmJ1aWxkUm91bmRlZFJlY3RhbmdsZShhLHIpKSxzLmxhc3RJbmRleCsrfWZvcihuPTA7bjxzLmRhdGEubGVuZ3RoO24rKykocj1zLmRhdGFbbl0pLmRpcnR5JiZyLnVwbG9hZCgpfSxQSVhJLldlYkdMR3JhcGhpY3Muc3dpdGNoTW9kZT1mdW5jdGlvbih0LGUpe3ZhciBpO3JldHVybiB0LmRhdGEubGVuZ3RoPyhpPXQuZGF0YVt0LmRhdGEubGVuZ3RoLTFdKS5tb2RlPT09ZSYmMSE9PWV8fCgoaT1QSVhJLldlYkdMR3JhcGhpY3MuZ3JhcGhpY3NEYXRhUG9vbC5wb3AoKXx8bmV3IFBJWEkuV2ViR0xHcmFwaGljc0RhdGEodC5nbCkpLm1vZGU9ZSx0LmRhdGEucHVzaChpKSk6KChpPVBJWEkuV2ViR0xHcmFwaGljcy5ncmFwaGljc0RhdGFQb29sLnBvcCgpfHxuZXcgUElYSS5XZWJHTEdyYXBoaWNzRGF0YSh0LmdsKSkubW9kZT1lLHQuZGF0YS5wdXNoKGkpKSxpLmRpcnR5PSEwLGl9LFBJWEkuV2ViR0xHcmFwaGljcy5idWlsZFJlY3RhbmdsZT1mdW5jdGlvbih0LGUpe3ZhciBzPXQuc2hhcGUsbj1zLngsbz1zLnkscj1zLndpZHRoLGE9cy5oZWlnaHQ7aWYodC5maWxsKXt2YXIgaD1pLkNvbG9yLmhleFRvUkdCQXJyYXkodC5maWxsQ29sb3IpLGw9dC5maWxsQWxwaGEsYz1oWzBdKmwsdT1oWzFdKmwsZD1oWzJdKmwscD1lLnBvaW50cyxmPWUuaW5kaWNlcyxtPXAubGVuZ3RoLzY7cC5wdXNoKG4sbykscC5wdXNoKGMsdSxkLGwpLHAucHVzaChuK3IsbykscC5wdXNoKGMsdSxkLGwpLHAucHVzaChuLG8rYSkscC5wdXNoKGMsdSxkLGwpLHAucHVzaChuK3IsbythKSxwLnB1c2goYyx1LGQsbCksZi5wdXNoKG0sbSxtKzEsbSsyLG0rMyxtKzMpfWlmKHQubGluZVdpZHRoKXt2YXIgZz10LnBvaW50czt0LnBvaW50cz1bbixvLG4rcixvLG4rcixvK2EsbixvK2EsbixvXSxQSVhJLldlYkdMR3JhcGhpY3MuYnVpbGRMaW5lKHQsZSksdC5wb2ludHM9Z319LFBJWEkuV2ViR0xHcmFwaGljcy5idWlsZFJvdW5kZWRSZWN0YW5nbGU9ZnVuY3Rpb24odCxlKXt2YXIgcz10LnNoYXBlLG49cy54LG89cy55LHI9cy53aWR0aCxhPXMuaGVpZ2h0LGg9cy5yYWRpdXMsbD1bXTtpZihsLnB1c2gobixvK2gpLGw9bC5jb25jYXQoUElYSS5XZWJHTEdyYXBoaWNzLnF1YWRyYXRpY0JlemllckN1cnZlKG4sbythLWgsbixvK2EsbitoLG8rYSkpLGw9bC5jb25jYXQoUElYSS5XZWJHTEdyYXBoaWNzLnF1YWRyYXRpY0JlemllckN1cnZlKG4rci1oLG8rYSxuK3IsbythLG4rcixvK2EtaCkpLGw9bC5jb25jYXQoUElYSS5XZWJHTEdyYXBoaWNzLnF1YWRyYXRpY0JlemllckN1cnZlKG4rcixvK2gsbityLG8sbityLWgsbykpLGw9bC5jb25jYXQoUElYSS5XZWJHTEdyYXBoaWNzLnF1YWRyYXRpY0JlemllckN1cnZlKG4raCxvLG4sbyxuLG8raCkpLHQuZmlsbCl7dmFyIGM9aS5Db2xvci5oZXhUb1JHQkFycmF5KHQuZmlsbENvbG9yKSx1PXQuZmlsbEFscGhhLGQ9Y1swXSp1LHA9Y1sxXSp1LGY9Y1syXSp1LG09ZS5wb2ludHMsZz1lLmluZGljZXMseT1tLmxlbmd0aC82LHY9aS5FYXJDdXQuVHJpYW5ndWxhdGUobCxudWxsLDIpLHg9MDtmb3IoeD0wO3g8di5sZW5ndGg7eCs9MylnLnB1c2godlt4XSt5KSxnLnB1c2godlt4XSt5KSxnLnB1c2godlt4KzFdK3kpLGcucHVzaCh2W3grMl0reSksZy5wdXNoKHZbeCsyXSt5KTtmb3IoeD0wO3g8bC5sZW5ndGg7eCsrKW0ucHVzaChsW3hdLGxbKyt4XSxkLHAsZix1KX1pZih0LmxpbmVXaWR0aCl7dmFyIGI9dC5wb2ludHM7dC5wb2ludHM9bCxQSVhJLldlYkdMR3JhcGhpY3MuYnVpbGRMaW5lKHQsZSksdC5wb2ludHM9Yn19LFBJWEkuV2ViR0xHcmFwaGljcy5xdWFkcmF0aWNCZXppZXJDdXJ2ZT1mdW5jdGlvbih0LGUsaSxzLG4sbyl7ZnVuY3Rpb24gcih0LGUsaSl7cmV0dXJuIHQrKGUtdCkqaX1mb3IodmFyIGEsaCxsLGMsdSxkLHA9W10sZj0wLG09MDttPD0yMDttKyspYT1yKHQsaSxmPW0vMjApLGg9cihlLHMsZiksbD1yKGksbixmKSxjPXIocyxvLGYpLHU9cihhLGwsZiksZD1yKGgsYyxmKSxwLnB1c2godSxkKTtyZXR1cm4gcH0sUElYSS5XZWJHTEdyYXBoaWNzLmJ1aWxkQ2lyY2xlPWZ1bmN0aW9uKHQsZSl7dmFyIHMsbixvPXQuc2hhcGUscj1vLngsYT1vLnk7dC50eXBlPT09aS5DSVJDTEU/KHM9by5yYWRpdXMsbj1vLnJhZGl1cyk6KHM9by53aWR0aCxuPW8uaGVpZ2h0KTt2YXIgaD0yKk1hdGguUEkvNDAsbD0wO2lmKHQuZmlsbCl7dmFyIGM9aS5Db2xvci5oZXhUb1JHQkFycmF5KHQuZmlsbENvbG9yKSx1PXQuZmlsbEFscGhhLGQ9Y1swXSp1LHA9Y1sxXSp1LGY9Y1syXSp1LG09ZS5wb2ludHMsZz1lLmluZGljZXMseT1tLmxlbmd0aC82O2ZvcihnLnB1c2goeSksbD0wO2w8NDE7bCsrKW0ucHVzaChyLGEsZCxwLGYsdSksbS5wdXNoKHIrTWF0aC5zaW4oaCpsKSpzLGErTWF0aC5jb3MoaCpsKSpuLGQscCxmLHUpLGcucHVzaCh5KysseSsrKTtnLnB1c2goeS0xKX1pZih0LmxpbmVXaWR0aCl7dmFyIHY9dC5wb2ludHM7Zm9yKHQucG9pbnRzPVtdLGw9MDtsPDQxO2wrKyl0LnBvaW50cy5wdXNoKHIrTWF0aC5zaW4oaCpsKSpzLGErTWF0aC5jb3MoaCpsKSpuKTtQSVhJLldlYkdMR3JhcGhpY3MuYnVpbGRMaW5lKHQsZSksdC5wb2ludHM9dn19LFBJWEkuV2ViR0xHcmFwaGljcy5idWlsZExpbmU9ZnVuY3Rpb24odCxlKXt2YXIgcz0wLG49dC5wb2ludHM7aWYoMCE9PW4ubGVuZ3RoKXtpZih0LmxpbmVXaWR0aCUyKWZvcihzPTA7czxuLmxlbmd0aDtzKyspbltzXSs9LjU7dmFyIG89bmV3IFBJWEkuUG9pbnQoblswXSxuWzFdKSxyPW5ldyBQSVhJLlBvaW50KG5bbi5sZW5ndGgtMl0sbltuLmxlbmd0aC0xXSk7aWYoby54PT09ci54JiZvLnk9PT1yLnkpeyhuPW4uc2xpY2UoKSkucG9wKCksbi5wb3AoKTt2YXIgYT0ocj1uZXcgUElYSS5Qb2ludChuW24ubGVuZ3RoLTJdLG5bbi5sZW5ndGgtMV0pKS54Ky41KihvLngtci54KSxoPXIueSsuNSooby55LXIueSk7bi51bnNoaWZ0KGEsaCksbi5wdXNoKGEsaCl9dmFyIGwsYyx1LGQscCxmLG0sZyx5LHYseCxiLF8sdyxULFAsQyxTLGssQSxNLE8sST1lLnBvaW50cyxFPWUuaW5kaWNlcyxSPW4ubGVuZ3RoLzIsTD1uLmxlbmd0aCxEPUkubGVuZ3RoLzYsQj10LmxpbmVXaWR0aC8yLEY9aS5Db2xvci5oZXhUb1JHQkFycmF5KHQubGluZUNvbG9yKSxVPXQubGluZUFscGhhLEc9RlswXSpVLE49RlsxXSpVLFg9RlsyXSpVO2Zvcih1PW5bMF0sZD1uWzFdLHA9blsyXSx5PS0oZC0oZj1uWzNdKSksdj11LXAseS89Tz1NYXRoLnNxcnQoeSp5K3Yqdiksdi89Tyx5Kj1CLHYqPUIsSS5wdXNoKHUteSxkLXYsRyxOLFgsVSksSS5wdXNoKHUreSxkK3YsRyxOLFgsVSkscz0xO3M8Ui0xO3MrKyl1PW5bMioocy0xKV0sZD1uWzIqKHMtMSkrMV0scD1uWzIqc10sZj1uWzIqcysxXSxtPW5bMioocysxKV0sZz1uWzIqKHMrMSkrMV0seT0tKGQtZiksdj11LXAseS89Tz1NYXRoLnNxcnQoeSp5K3Yqdiksdi89Tyx5Kj1CLHYqPUIseD0tKGYtZyksYj1wLW0seC89Tz1NYXRoLnNxcnQoeCp4K2IqYiksYi89TyxDPSgteSt1KSooLXYrZiktKC15K3ApKigtditkKSxBPSgtKHgqPUIpK20pKigtKGIqPUIpK2YpLSgteCtwKSooLWIrZyksTT0oVD0tditkLSgtditmKSkqKGs9LXgrcC0oLXgrbSkpLShTPS1iK2ctKC1iK2YpKSooUD0teStwLSgteSt1KSksTWF0aC5hYnMoTSk8LjE/KE0rPTEwLjEsSS5wdXNoKHAteSxmLXYsRyxOLFgsVSksSS5wdXNoKHAreSxmK3YsRyxOLFgsVSkpOigobD0oUCpBLWsqQykvTSktcCkqKGwtcCkrKChjPShTKkMtVCpBKS9NKS1mKSsoYy1mKT4xOTYwMD8oXz15LXgsdz12LWIsXy89Tz1NYXRoLnNxcnQoXypfK3cqdyksdy89TyxfKj1CLHcqPUIsSS5wdXNoKHAtXyxmLXcpLEkucHVzaChHLE4sWCxVKSxJLnB1c2gocCtfLGYrdyksSS5wdXNoKEcsTixYLFUpLEkucHVzaChwLV8sZi13KSxJLnB1c2goRyxOLFgsVSksTCsrKTooSS5wdXNoKGwsYyksSS5wdXNoKEcsTixYLFUpLEkucHVzaChwLShsLXApLGYtKGMtZikpLEkucHVzaChHLE4sWCxVKSk7Zm9yKHU9blsyKihSLTIpXSxkPW5bMiooUi0yKSsxXSxwPW5bMiooUi0xKV0seT0tKGQtKGY9blsyKihSLTEpKzFdKSksdj11LXAseS89Tz1NYXRoLnNxcnQoeSp5K3Yqdiksdi89Tyx5Kj1CLHYqPUIsSS5wdXNoKHAteSxmLXYpLEkucHVzaChHLE4sWCxVKSxJLnB1c2gocCt5LGYrdiksSS5wdXNoKEcsTixYLFUpLEUucHVzaChEKSxzPTA7czxMO3MrKylFLnB1c2goRCsrKTtFLnB1c2goRC0xKX19LFBJWEkuV2ViR0xHcmFwaGljcy5idWlsZENvbXBsZXhQb2x5PWZ1bmN0aW9uKHQsZSl7dmFyIHM9dC5wb2ludHMuc2xpY2UoKTtpZighKHMubGVuZ3RoPDYpKXt2YXIgbj1lLmluZGljZXM7ZS5wb2ludHM9cyxlLmFscGhhPXQuZmlsbEFscGhhLGUuY29sb3I9aS5Db2xvci5oZXhUb1JHQkFycmF5KHQuZmlsbENvbG9yKTtmb3IodmFyIG8scixhPTEvMCxoPS0xLzAsbD0xLzAsYz0tMS8wLHU9MDt1PHMubGVuZ3RoO3UrPTIpbz1zW3VdLHI9c1t1KzFdLGE9bzxhP286YSxoPW8+aD9vOmgsbD1yPGw/cjpsLGM9cj5jP3I6YztzLnB1c2goYSxsLGgsbCxoLGMsYSxjKTt2YXIgZD1zLmxlbmd0aC8yO2Zvcih1PTA7dTxkO3UrKyluLnB1c2godSl9fSxQSVhJLldlYkdMR3JhcGhpY3MuYnVpbGRQb2x5PWZ1bmN0aW9uKHQsZSl7dmFyIHM9dC5wb2ludHM7aWYoIShzLmxlbmd0aDw2KSl7dmFyIG49ZS5wb2ludHMsbz1lLmluZGljZXMscj1zLmxlbmd0aC8yLGE9aS5Db2xvci5oZXhUb1JHQkFycmF5KHQuZmlsbENvbG9yKSxoPXQuZmlsbEFscGhhLGw9YVswXSpoLGM9YVsxXSpoLHU9YVsyXSpoLGQ9aS5FYXJDdXQuVHJpYW5ndWxhdGUocyxudWxsLDIpO2lmKCFkKXJldHVybiExO3ZhciBwPW4ubGVuZ3RoLzYsZj0wO2ZvcihmPTA7ZjxkLmxlbmd0aDtmKz0zKW8ucHVzaChkW2ZdK3ApLG8ucHVzaChkW2ZdK3ApLG8ucHVzaChkW2YrMV0rcCksby5wdXNoKGRbZisyXStwKSxvLnB1c2goZFtmKzJdK3ApO2ZvcihmPTA7ZjxyO2YrKyluLnB1c2goc1syKmZdLHNbMipmKzFdLGwsYyx1LGgpO3JldHVybiEwfX0sUElYSS5XZWJHTEdyYXBoaWNzLmdyYXBoaWNzRGF0YVBvb2w9W10sUElYSS5XZWJHTEdyYXBoaWNzRGF0YT1mdW5jdGlvbih0KXt0aGlzLmdsPXQsdGhpcy5jb2xvcj1bMCwwLDBdLHRoaXMucG9pbnRzPVtdLHRoaXMuaW5kaWNlcz1bXSx0aGlzLmJ1ZmZlcj10LmNyZWF0ZUJ1ZmZlcigpLHRoaXMuaW5kZXhCdWZmZXI9dC5jcmVhdGVCdWZmZXIoKSx0aGlzLm1vZGU9MSx0aGlzLmFscGhhPTEsdGhpcy5kaXJ0eT0hMH0sUElYSS5XZWJHTEdyYXBoaWNzRGF0YS5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXt0aGlzLnBvaW50cz1bXSx0aGlzLmluZGljZXM9W119LFBJWEkuV2ViR0xHcmFwaGljc0RhdGEucHJvdG90eXBlLnVwbG9hZD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuZ2w7dGhpcy5nbFBvaW50cz1uZXcgRmxvYXQzMkFycmF5KHRoaXMucG9pbnRzKSx0LmJpbmRCdWZmZXIodC5BUlJBWV9CVUZGRVIsdGhpcy5idWZmZXIpLHQuYnVmZmVyRGF0YSh0LkFSUkFZX0JVRkZFUix0aGlzLmdsUG9pbnRzLHQuU1RBVElDX0RSQVcpLHRoaXMuZ2xJbmRpY2llcz1uZXcgVWludDE2QXJyYXkodGhpcy5pbmRpY2VzKSx0LmJpbmRCdWZmZXIodC5FTEVNRU5UX0FSUkFZX0JVRkZFUix0aGlzLmluZGV4QnVmZmVyKSx0LmJ1ZmZlckRhdGEodC5FTEVNRU5UX0FSUkFZX0JVRkZFUix0aGlzLmdsSW5kaWNpZXMsdC5TVEFUSUNfRFJBVyksdGhpcy5kaXJ0eT0hMX0sUElYSS5DYW52YXNHcmFwaGljcz1mdW5jdGlvbigpe30sUElYSS5DYW52YXNHcmFwaGljcy5yZW5kZXJHcmFwaGljcz1mdW5jdGlvbih0LGUpe3ZhciBzPXQud29ybGRBbHBoYTt0LmRpcnR5JiYodGhpcy51cGRhdGVHcmFwaGljc1RpbnQodCksdC5kaXJ0eT0hMSk7Zm9yKHZhciBuPTA7bjx0LmdyYXBoaWNzRGF0YS5sZW5ndGg7bisrKXt2YXIgbz10LmdyYXBoaWNzRGF0YVtuXSxyPW8uc2hhcGUsYT1vLl9maWxsVGludCxoPW8uX2xpbmVUaW50O2lmKGUubGluZVdpZHRoPW8ubGluZVdpZHRoLG8udHlwZT09PWkuUE9MWUdPTil7ZS5iZWdpblBhdGgoKTt2YXIgbD1yLnBvaW50cztlLm1vdmVUbyhsWzBdLGxbMV0pO2Zvcih2YXIgYz0xO2M8bC5sZW5ndGgvMjtjKyspZS5saW5lVG8obFsyKmNdLGxbMipjKzFdKTtyLmNsb3NlZCYmZS5saW5lVG8obFswXSxsWzFdKSxsWzBdPT09bFtsLmxlbmd0aC0yXSYmbFsxXT09PWxbbC5sZW5ndGgtMV0mJmUuY2xvc2VQYXRoKCksby5maWxsJiYoZS5nbG9iYWxBbHBoYT1vLmZpbGxBbHBoYSpzLGUuZmlsbFN0eWxlPVwiI1wiKyhcIjAwMDAwXCIrKDB8YSkudG9TdHJpbmcoMTYpKS5zdWJzdHIoLTYpLGUuZmlsbCgpKSxvLmxpbmVXaWR0aCYmKGUuZ2xvYmFsQWxwaGE9by5saW5lQWxwaGEqcyxlLnN0cm9rZVN0eWxlPVwiI1wiKyhcIjAwMDAwXCIrKDB8aCkudG9TdHJpbmcoMTYpKS5zdWJzdHIoLTYpLGUuc3Ryb2tlKCkpfWVsc2UgaWYoby50eXBlPT09aS5SRUNUQU5HTEUpKG8uZmlsbENvbG9yfHwwPT09by5maWxsQ29sb3IpJiYoZS5nbG9iYWxBbHBoYT1vLmZpbGxBbHBoYSpzLGUuZmlsbFN0eWxlPVwiI1wiKyhcIjAwMDAwXCIrKDB8YSkudG9TdHJpbmcoMTYpKS5zdWJzdHIoLTYpLGUuZmlsbFJlY3Qoci54LHIueSxyLndpZHRoLHIuaGVpZ2h0KSksby5saW5lV2lkdGgmJihlLmdsb2JhbEFscGhhPW8ubGluZUFscGhhKnMsZS5zdHJva2VTdHlsZT1cIiNcIisoXCIwMDAwMFwiKygwfGgpLnRvU3RyaW5nKDE2KSkuc3Vic3RyKC02KSxlLnN0cm9rZVJlY3Qoci54LHIueSxyLndpZHRoLHIuaGVpZ2h0KSk7ZWxzZSBpZihvLnR5cGU9PT1pLkNJUkNMRSllLmJlZ2luUGF0aCgpLGUuYXJjKHIueCxyLnksci5yYWRpdXMsMCwyKk1hdGguUEkpLGUuY2xvc2VQYXRoKCksby5maWxsJiYoZS5nbG9iYWxBbHBoYT1vLmZpbGxBbHBoYSpzLGUuZmlsbFN0eWxlPVwiI1wiKyhcIjAwMDAwXCIrKDB8YSkudG9TdHJpbmcoMTYpKS5zdWJzdHIoLTYpLGUuZmlsbCgpKSxvLmxpbmVXaWR0aCYmKGUuZ2xvYmFsQWxwaGE9by5saW5lQWxwaGEqcyxlLnN0cm9rZVN0eWxlPVwiI1wiKyhcIjAwMDAwXCIrKDB8aCkudG9TdHJpbmcoMTYpKS5zdWJzdHIoLTYpLGUuc3Ryb2tlKCkpO2Vsc2UgaWYoby50eXBlPT09aS5FTExJUFNFKXt2YXIgdT0yKnIud2lkdGgsZD0yKnIuaGVpZ2h0LHA9ci54LXUvMixmPXIueS1kLzI7ZS5iZWdpblBhdGgoKTt2YXIgbT11LzIqLjU1MjI4NDgsZz1kLzIqLjU1MjI4NDgseT1wK3Usdj1mK2QseD1wK3UvMixiPWYrZC8yO2UubW92ZVRvKHAsYiksZS5iZXppZXJDdXJ2ZVRvKHAsYi1nLHgtbSxmLHgsZiksZS5iZXppZXJDdXJ2ZVRvKHgrbSxmLHksYi1nLHksYiksZS5iZXppZXJDdXJ2ZVRvKHksYitnLHgrbSx2LHgsdiksZS5iZXppZXJDdXJ2ZVRvKHgtbSx2LHAsYitnLHAsYiksZS5jbG9zZVBhdGgoKSxvLmZpbGwmJihlLmdsb2JhbEFscGhhPW8uZmlsbEFscGhhKnMsZS5maWxsU3R5bGU9XCIjXCIrKFwiMDAwMDBcIisoMHxhKS50b1N0cmluZygxNikpLnN1YnN0cigtNiksZS5maWxsKCkpLG8ubGluZVdpZHRoJiYoZS5nbG9iYWxBbHBoYT1vLmxpbmVBbHBoYSpzLGUuc3Ryb2tlU3R5bGU9XCIjXCIrKFwiMDAwMDBcIisoMHxoKS50b1N0cmluZygxNikpLnN1YnN0cigtNiksZS5zdHJva2UoKSl9ZWxzZSBpZihvLnR5cGU9PT1pLlJPVU5ERURSRUNUQU5HTEUpe3ZhciBfPXIueCx3PXIueSxUPXIud2lkdGgsUD1yLmhlaWdodCxDPXIucmFkaXVzLFM9TWF0aC5taW4oVCxQKS8yfDA7Qz1DPlM/UzpDLGUuYmVnaW5QYXRoKCksZS5tb3ZlVG8oXyx3K0MpLGUubGluZVRvKF8sdytQLUMpLGUucXVhZHJhdGljQ3VydmVUbyhfLHcrUCxfK0MsdytQKSxlLmxpbmVUbyhfK1QtQyx3K1ApLGUucXVhZHJhdGljQ3VydmVUbyhfK1QsdytQLF8rVCx3K1AtQyksZS5saW5lVG8oXytULHcrQyksZS5xdWFkcmF0aWNDdXJ2ZVRvKF8rVCx3LF8rVC1DLHcpLGUubGluZVRvKF8rQyx3KSxlLnF1YWRyYXRpY0N1cnZlVG8oXyx3LF8sdytDKSxlLmNsb3NlUGF0aCgpLChvLmZpbGxDb2xvcnx8MD09PW8uZmlsbENvbG9yKSYmKGUuZ2xvYmFsQWxwaGE9by5maWxsQWxwaGEqcyxlLmZpbGxTdHlsZT1cIiNcIisoXCIwMDAwMFwiKygwfGEpLnRvU3RyaW5nKDE2KSkuc3Vic3RyKC02KSxlLmZpbGwoKSksby5saW5lV2lkdGgmJihlLmdsb2JhbEFscGhhPW8ubGluZUFscGhhKnMsZS5zdHJva2VTdHlsZT1cIiNcIisoXCIwMDAwMFwiKygwfGgpLnRvU3RyaW5nKDE2KSkuc3Vic3RyKC02KSxlLnN0cm9rZSgpKX19fSxQSVhJLkNhbnZhc0dyYXBoaWNzLnJlbmRlckdyYXBoaWNzTWFzaz1mdW5jdGlvbih0LGUpe3ZhciBzPXQuZ3JhcGhpY3NEYXRhLmxlbmd0aDtpZigwIT09cyl7ZS5iZWdpblBhdGgoKTtmb3IodmFyIG49MDtuPHM7bisrKXt2YXIgbz10LmdyYXBoaWNzRGF0YVtuXSxyPW8uc2hhcGU7aWYoby50eXBlPT09aS5QT0xZR09OKXt2YXIgYT1yLnBvaW50cztlLm1vdmVUbyhhWzBdLGFbMV0pO2Zvcih2YXIgaD0xO2g8YS5sZW5ndGgvMjtoKyspZS5saW5lVG8oYVsyKmhdLGFbMipoKzFdKTthWzBdPT09YVthLmxlbmd0aC0yXSYmYVsxXT09PWFbYS5sZW5ndGgtMV0mJmUuY2xvc2VQYXRoKCl9ZWxzZSBpZihvLnR5cGU9PT1pLlJFQ1RBTkdMRSllLnJlY3Qoci54LHIueSxyLndpZHRoLHIuaGVpZ2h0KSxlLmNsb3NlUGF0aCgpO2Vsc2UgaWYoby50eXBlPT09aS5DSVJDTEUpZS5hcmMoci54LHIueSxyLnJhZGl1cywwLDIqTWF0aC5QSSksZS5jbG9zZVBhdGgoKTtlbHNlIGlmKG8udHlwZT09PWkuRUxMSVBTRSl7dmFyIGw9MipyLndpZHRoLGM9MipyLmhlaWdodCx1PXIueC1sLzIsZD1yLnktYy8yLHA9bC8yKi41NTIyODQ4LGY9Yy8yKi41NTIyODQ4LG09dStsLGc9ZCtjLHk9dStsLzIsdj1kK2MvMjtlLm1vdmVUbyh1LHYpLGUuYmV6aWVyQ3VydmVUbyh1LHYtZix5LXAsZCx5LGQpLGUuYmV6aWVyQ3VydmVUbyh5K3AsZCxtLHYtZixtLHYpLGUuYmV6aWVyQ3VydmVUbyhtLHYrZix5K3AsZyx5LGcpLGUuYmV6aWVyQ3VydmVUbyh5LXAsZyx1LHYrZix1LHYpLGUuY2xvc2VQYXRoKCl9ZWxzZSBpZihvLnR5cGU9PT1pLlJPVU5ERURSRUNUQU5HTEUpe3ZhciB4PXIueCxiPXIueSxfPXIud2lkdGgsdz1yLmhlaWdodCxUPXIucmFkaXVzLFA9TWF0aC5taW4oXyx3KS8yfDA7VD1UPlA/UDpULGUubW92ZVRvKHgsYitUKSxlLmxpbmVUbyh4LGIrdy1UKSxlLnF1YWRyYXRpY0N1cnZlVG8oeCxiK3cseCtULGIrdyksZS5saW5lVG8oeCtfLVQsYit3KSxlLnF1YWRyYXRpY0N1cnZlVG8oeCtfLGIrdyx4K18sYit3LVQpLGUubGluZVRvKHgrXyxiK1QpLGUucXVhZHJhdGljQ3VydmVUbyh4K18sYix4K18tVCxiKSxlLmxpbmVUbyh4K1QsYiksZS5xdWFkcmF0aWNDdXJ2ZVRvKHgsYix4LGIrVCksZS5jbG9zZVBhdGgoKX19fX0sUElYSS5DYW52YXNHcmFwaGljcy51cGRhdGVHcmFwaGljc1RpbnQ9ZnVuY3Rpb24odCl7aWYoMTY3NzcyMTUhPT10LnRpbnQpZm9yKHZhciBlPSh0LnRpbnQ+PjE2JjI1NSkvMjU1LGk9KHQudGludD4+OCYyNTUpLzI1NSxzPSgyNTUmdC50aW50KS8yNTUsbj0wO248dC5ncmFwaGljc0RhdGEubGVuZ3RoO24rKyl7dmFyIG89dC5ncmFwaGljc0RhdGFbbl0scj0wfG8uZmlsbENvbG9yLGE9MHxvLmxpbmVDb2xvcjtvLl9maWxsVGludD0oKHI+PjE2JjI1NSkvMjU1KmUqMjU1PDwxNikrKChyPj44JjI1NSkvMjU1KmkqMjU1PDw4KSsoMjU1JnIpLzI1NSpzKjI1NSxvLl9saW5lVGludD0oKGE+PjE2JjI1NSkvMjU1KmUqMjU1PDwxNikrKChhPj44JjI1NSkvMjU1KmkqMjU1PDw4KSsoMjU1JmEpLzI1NSpzKjI1NX19LGkuR3JhcGhpY3NEYXRhPWZ1bmN0aW9uKHQsZSxpLHMsbixvLHIpe3RoaXMubGluZVdpZHRoPXQsdGhpcy5saW5lQ29sb3I9ZSx0aGlzLmxpbmVBbHBoYT1pLHRoaXMuX2xpbmVUaW50PWUsdGhpcy5maWxsQ29sb3I9cyx0aGlzLmZpbGxBbHBoYT1uLHRoaXMuX2ZpbGxUaW50PXMsdGhpcy5maWxsPW8sdGhpcy5zaGFwZT1yLHRoaXMudHlwZT1yLnR5cGV9LGkuR3JhcGhpY3NEYXRhLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1pLkdyYXBoaWNzRGF0YSxpLkdyYXBoaWNzRGF0YS5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGkuR3JhcGhpY3NEYXRhKHRoaXMubGluZVdpZHRoLHRoaXMubGluZUNvbG9yLHRoaXMubGluZUFscGhhLHRoaXMuZmlsbENvbG9yLHRoaXMuZmlsbEFscGhhLHRoaXMuZmlsbCx0aGlzLnNoYXBlKX0saS5HcmFwaGljcz1mdW5jdGlvbih0LGUscyl7dm9pZCAwPT09ZSYmKGU9MCksdm9pZCAwPT09cyYmKHM9MCksdGhpcy50eXBlPWkuR1JBUEhJQ1MsdGhpcy5waHlzaWNzVHlwZT1pLlNQUklURSx0aGlzLmFuY2hvcj1uZXcgaS5Qb2ludCxQSVhJLkRpc3BsYXlPYmplY3RDb250YWluZXIuY2FsbCh0aGlzKSx0aGlzLnJlbmRlcmFibGU9ITAsdGhpcy5maWxsQWxwaGE9MSx0aGlzLmxpbmVXaWR0aD0wLHRoaXMubGluZUNvbG9yPTAsdGhpcy5ncmFwaGljc0RhdGE9W10sdGhpcy50aW50PTE2Nzc3MjE1LHRoaXMuYmxlbmRNb2RlPVBJWEkuYmxlbmRNb2Rlcy5OT1JNQUwsdGhpcy5jdXJyZW50UGF0aD1udWxsLHRoaXMuX3dlYkdMPVtdLHRoaXMuaXNNYXNrPSExLHRoaXMuYm91bmRzUGFkZGluZz0wLHRoaXMuX2xvY2FsQm91bmRzPW5ldyBpLlJlY3RhbmdsZSgwLDAsMSwxKSx0aGlzLmRpcnR5PSEwLHRoaXMuX2JvdW5kc0RpcnR5PSExLHRoaXMud2ViR0xEaXJ0eT0hMSx0aGlzLmNhY2hlZFNwcml0ZURpcnR5PSExLGkuQ29tcG9uZW50LkNvcmUuaW5pdC5jYWxsKHRoaXMsdCxlLHMsXCJcIixudWxsKX0saS5HcmFwaGljcy5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShQSVhJLkRpc3BsYXlPYmplY3RDb250YWluZXIucHJvdG90eXBlKSxpLkdyYXBoaWNzLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1pLkdyYXBoaWNzLGkuQ29tcG9uZW50LkNvcmUuaW5zdGFsbC5jYWxsKGkuR3JhcGhpY3MucHJvdG90eXBlLFtcIkFuZ2xlXCIsXCJBdXRvQ3VsbFwiLFwiQm91bmRzXCIsXCJEZXN0cm95XCIsXCJGaXhlZFRvQ2FtZXJhXCIsXCJJbnB1dEVuYWJsZWRcIixcIkluV29ybGRcIixcIkxpZmVTcGFuXCIsXCJQaHlzaWNzQm9keVwiLFwiUmVzZXRcIl0pLGkuR3JhcGhpY3MucHJvdG90eXBlLnByZVVwZGF0ZVBoeXNpY3M9aS5Db21wb25lbnQuUGh5c2ljc0JvZHkucHJlVXBkYXRlLGkuR3JhcGhpY3MucHJvdG90eXBlLnByZVVwZGF0ZUxpZmVTcGFuPWkuQ29tcG9uZW50LkxpZmVTcGFuLnByZVVwZGF0ZSxpLkdyYXBoaWNzLnByb3RvdHlwZS5wcmVVcGRhdGVJbldvcmxkPWkuQ29tcG9uZW50LkluV29ybGQucHJlVXBkYXRlLGkuR3JhcGhpY3MucHJvdG90eXBlLnByZVVwZGF0ZUNvcmU9aS5Db21wb25lbnQuQ29yZS5wcmVVcGRhdGUsaS5HcmFwaGljcy5wcm90b3R5cGUucHJlVXBkYXRlPWZ1bmN0aW9uKCl7cmV0dXJuISEodGhpcy5wcmVVcGRhdGVQaHlzaWNzKCkmJnRoaXMucHJlVXBkYXRlTGlmZVNwYW4oKSYmdGhpcy5wcmVVcGRhdGVJbldvcmxkKCkpJiZ0aGlzLnByZVVwZGF0ZUNvcmUoKX0saS5HcmFwaGljcy5wcm90b3R5cGUucG9zdFVwZGF0ZT1mdW5jdGlvbigpe2kuQ29tcG9uZW50LlBoeXNpY3NCb2R5LnBvc3RVcGRhdGUuY2FsbCh0aGlzKSxpLkNvbXBvbmVudC5GaXhlZFRvQ2FtZXJhLnBvc3RVcGRhdGUuY2FsbCh0aGlzKSx0aGlzLl9ib3VuZHNEaXJ0eSYmKHRoaXMudXBkYXRlTG9jYWxCb3VuZHMoKSx0aGlzLl9ib3VuZHNEaXJ0eT0hMSk7Zm9yKHZhciB0PTA7dDx0aGlzLmNoaWxkcmVuLmxlbmd0aDt0KyspdGhpcy5jaGlsZHJlblt0XS5wb3N0VXBkYXRlKCl9LGkuR3JhcGhpY3MucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24odCl7dGhpcy5jbGVhcigpLGkuQ29tcG9uZW50LkRlc3Ryb3kucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzLHQpfSxpLkdyYXBoaWNzLnByb3RvdHlwZS5kcmF3VHJpYW5nbGU9ZnVuY3Rpb24odCxlKXt2b2lkIDA9PT1lJiYoZT0hMSk7dmFyIHM9bmV3IGkuUG9seWdvbih0KTtpZihlKXt2YXIgbj1uZXcgaS5Qb2ludCh0aGlzLmdhbWUuY2FtZXJhLngtdFswXS54LHRoaXMuZ2FtZS5jYW1lcmEueS10WzBdLnkpLG89bmV3IGkuUG9pbnQodFsxXS54LXRbMF0ueCx0WzFdLnktdFswXS55KSxyPW5ldyBpLlBvaW50KHRbMV0ueC10WzJdLngsdFsxXS55LXRbMl0ueSkuY3Jvc3Mobyk7bi5kb3Qocik+MCYmdGhpcy5kcmF3UG9seWdvbihzKX1lbHNlIHRoaXMuZHJhd1BvbHlnb24ocyl9LGkuR3JhcGhpY3MucHJvdG90eXBlLmRyYXdUcmlhbmdsZXM9ZnVuY3Rpb24odCxlLHMpe3ZvaWQgMD09PXMmJihzPSExKTt2YXIgbixvPW5ldyBpLlBvaW50LHI9bmV3IGkuUG9pbnQsYT1uZXcgaS5Qb2ludCxoPVtdO2lmKGUpaWYodFswXWluc3RhbmNlb2YgaS5Qb2ludClmb3Iobj0wO248ZS5sZW5ndGgvMztuKyspaC5wdXNoKHRbZVszKm5dXSksaC5wdXNoKHRbZVszKm4rMV1dKSxoLnB1c2godFtlWzMqbisyXV0pLDM9PT1oLmxlbmd0aCYmKHRoaXMuZHJhd1RyaWFuZ2xlKGgscyksaD1bXSk7ZWxzZSBmb3Iobj0wO248ZS5sZW5ndGg7bisrKW8ueD10WzIqZVtuXV0sby55PXRbMiplW25dKzFdLGgucHVzaChvLmNvcHlUbyh7fSkpLDM9PT1oLmxlbmd0aCYmKHRoaXMuZHJhd1RyaWFuZ2xlKGgscyksaD1bXSk7ZWxzZSBpZih0WzBdaW5zdGFuY2VvZiBpLlBvaW50KWZvcihuPTA7bjx0Lmxlbmd0aC8zO24rKyl0aGlzLmRyYXdUcmlhbmdsZShbdFszKm5dLHRbMypuKzFdLHRbMypuKzJdXSxzKTtlbHNlIGZvcihuPTA7bjx0Lmxlbmd0aC82O24rKylvLng9dFs2Km4rMF0sby55PXRbNipuKzFdLHIueD10WzYqbisyXSxyLnk9dFs2Km4rM10sYS54PXRbNipuKzRdLGEueT10WzYqbis1XSx0aGlzLmRyYXdUcmlhbmdsZShbbyxyLGFdLHMpfSxpLkdyYXBoaWNzLnByb3RvdHlwZS5saW5lU3R5bGU9ZnVuY3Rpb24odCxlLHMpe3JldHVybiB0aGlzLmxpbmVXaWR0aD10fHwwLHRoaXMubGluZUNvbG9yPWV8fDAsdGhpcy5saW5lQWxwaGE9dm9pZCAwPT09cz8xOnMsdGhpcy5jdXJyZW50UGF0aCYmKHRoaXMuY3VycmVudFBhdGguc2hhcGUucG9pbnRzLmxlbmd0aD90aGlzLmRyYXdTaGFwZShuZXcgaS5Qb2x5Z29uKHRoaXMuY3VycmVudFBhdGguc2hhcGUucG9pbnRzLnNsaWNlKC0yKSkpOih0aGlzLmN1cnJlbnRQYXRoLmxpbmVXaWR0aD10aGlzLmxpbmVXaWR0aCx0aGlzLmN1cnJlbnRQYXRoLmxpbmVDb2xvcj10aGlzLmxpbmVDb2xvcix0aGlzLmN1cnJlbnRQYXRoLmxpbmVBbHBoYT10aGlzLmxpbmVBbHBoYSkpLHRoaXN9LGkuR3JhcGhpY3MucHJvdG90eXBlLm1vdmVUbz1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmRyYXdTaGFwZShuZXcgaS5Qb2x5Z29uKFt0LGVdKSksdGhpc30saS5HcmFwaGljcy5wcm90b3R5cGUubGluZVRvPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuY3VycmVudFBhdGh8fHRoaXMubW92ZVRvKDAsMCksdGhpcy5jdXJyZW50UGF0aC5zaGFwZS5wb2ludHMucHVzaCh0LGUpLHRoaXMuZGlydHk9ITAsdGhpcy5fYm91bmRzRGlydHk9ITAsdGhpc30saS5HcmFwaGljcy5wcm90b3R5cGUucXVhZHJhdGljQ3VydmVUbz1mdW5jdGlvbih0LGUsaSxzKXt0aGlzLmN1cnJlbnRQYXRoPzA9PT10aGlzLmN1cnJlbnRQYXRoLnNoYXBlLnBvaW50cy5sZW5ndGgmJih0aGlzLmN1cnJlbnRQYXRoLnNoYXBlLnBvaW50cz1bMCwwXSk6dGhpcy5tb3ZlVG8oMCwwKTt2YXIgbixvLHI9dGhpcy5jdXJyZW50UGF0aC5zaGFwZS5wb2ludHM7MD09PXIubGVuZ3RoJiZ0aGlzLm1vdmVUbygwLDApO2Zvcih2YXIgYT1yW3IubGVuZ3RoLTJdLGg9cltyLmxlbmd0aC0xXSxsPTAsYz0xO2M8PTIwOysrYyluPWErKHQtYSkqKGw9Yy8yMCksbz1oKyhlLWgpKmwsci5wdXNoKG4rKHQrKGktdCkqbC1uKSpsLG8rKGUrKHMtZSkqbC1vKSpsKTtyZXR1cm4gdGhpcy5kaXJ0eT0hMCx0aGlzLl9ib3VuZHNEaXJ0eT0hMCx0aGlzfSxpLkdyYXBoaWNzLnByb3RvdHlwZS5iZXppZXJDdXJ2ZVRvPWZ1bmN0aW9uKHQsZSxpLHMsbixvKXt0aGlzLmN1cnJlbnRQYXRoPzA9PT10aGlzLmN1cnJlbnRQYXRoLnNoYXBlLnBvaW50cy5sZW5ndGgmJih0aGlzLmN1cnJlbnRQYXRoLnNoYXBlLnBvaW50cz1bMCwwXSk6dGhpcy5tb3ZlVG8oMCwwKTtmb3IodmFyIHIsYSxoLGwsYyx1PXRoaXMuY3VycmVudFBhdGguc2hhcGUucG9pbnRzLGQ9dVt1Lmxlbmd0aC0yXSxwPXVbdS5sZW5ndGgtMV0sZj0wLG09MTttPD0yMDsrK20paD0oYT0ocj0xLShmPW0vMjApKSpyKSpyLGM9KGw9ZipmKSpmLHUucHVzaChoKmQrMyphKmYqdCszKnIqbCppK2MqbixoKnArMyphKmYqZSszKnIqbCpzK2Mqbyk7cmV0dXJuIHRoaXMuZGlydHk9ITAsdGhpcy5fYm91bmRzRGlydHk9ITAsdGhpc30saS5HcmFwaGljcy5wcm90b3R5cGUuYXJjVG89ZnVuY3Rpb24odCxlLGkscyxuKXt0aGlzLmN1cnJlbnRQYXRoPzA9PT10aGlzLmN1cnJlbnRQYXRoLnNoYXBlLnBvaW50cy5sZW5ndGgmJnRoaXMuY3VycmVudFBhdGguc2hhcGUucG9pbnRzLnB1c2godCxlKTp0aGlzLm1vdmVUbyh0LGUpO3ZhciBvPXRoaXMuY3VycmVudFBhdGguc2hhcGUucG9pbnRzLHI9b1tvLmxlbmd0aC0yXSxhPW9bby5sZW5ndGgtMV0tZSxoPXItdCxsPXMtZSxjPWktdCx1PU1hdGguYWJzKGEqYy1oKmwpO2lmKHU8MWUtOHx8MD09PW4pb1tvLmxlbmd0aC0yXT09PXQmJm9bby5sZW5ndGgtMV09PT1lfHxvLnB1c2godCxlKTtlbHNle3ZhciBkPWEqYStoKmgscD1sKmwrYypjLGY9YSpsK2gqYyxtPW4qTWF0aC5zcXJ0KGQpL3UsZz1uKk1hdGguc3FydChwKS91LHk9bSpmL2Qsdj1nKmYvcCx4PW0qYytnKmgsYj1tKmwrZyphLF89aCooZyt5KSx3PWEqKGcreSksVD1jKihtK3YpLFA9bCoobSt2KSxDPU1hdGguYXRhbjIody1iLF8teCksUz1NYXRoLmF0YW4yKFAtYixULXgpO3RoaXMuYXJjKHgrdCxiK2UsbixDLFMsaCpsPmMqYSl9cmV0dXJuIHRoaXMuZGlydHk9ITAsdGhpcy5fYm91bmRzRGlydHk9ITAsdGhpc30saS5HcmFwaGljcy5wcm90b3R5cGUuYXJjPWZ1bmN0aW9uKHQsZSxpLHMsbixvLHIpe2lmKHM9PT1uKXJldHVybiB0aGlzO3ZvaWQgMD09PW8mJihvPSExKSx2b2lkIDA9PT1yJiYocj00MCksIW8mJm48PXM/bis9MipNYXRoLlBJOm8mJnM8PW4mJihzKz0yKk1hdGguUEkpO3ZhciBhPW8/LTEqKHMtbik6bi1zLGg9TWF0aC5jZWlsKE1hdGguYWJzKGEpLygyKk1hdGguUEkpKSpyO2lmKDA9PT1hKXJldHVybiB0aGlzO3ZhciBsPXQrTWF0aC5jb3MocykqaSxjPWUrTWF0aC5zaW4ocykqaTtvJiZ0aGlzLmZpbGxpbmc/dGhpcy5tb3ZlVG8odCxlKTp0aGlzLm1vdmVUbyhsLGMpO2Zvcih2YXIgdT10aGlzLmN1cnJlbnRQYXRoLnNoYXBlLnBvaW50cyxkPWEvKDIqaCkscD0yKmQsZj1NYXRoLmNvcyhkKSxtPU1hdGguc2luKGQpLGc9aC0xLHk9ZyUxL2csdj0wO3Y8PWc7disrKXt2YXIgeD1kK3MrcCoodit5KnYpLGI9TWF0aC5jb3MoeCksXz0tTWF0aC5zaW4oeCk7dS5wdXNoKChmKmIrbSpfKSppK3QsKGYqLV8rbSpiKSppK2UpfXJldHVybiB0aGlzLmRpcnR5PSEwLHRoaXMuX2JvdW5kc0RpcnR5PSEwLHRoaXN9LGkuR3JhcGhpY3MucHJvdG90eXBlLmJlZ2luRmlsbD1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmZpbGxpbmc9ITAsdGhpcy5maWxsQ29sb3I9dHx8MCx0aGlzLmZpbGxBbHBoYT12b2lkIDA9PT1lPzE6ZSx0aGlzLmN1cnJlbnRQYXRoJiZ0aGlzLmN1cnJlbnRQYXRoLnNoYXBlLnBvaW50cy5sZW5ndGg8PTImJih0aGlzLmN1cnJlbnRQYXRoLmZpbGw9dGhpcy5maWxsaW5nLHRoaXMuY3VycmVudFBhdGguZmlsbENvbG9yPXRoaXMuZmlsbENvbG9yLHRoaXMuY3VycmVudFBhdGguZmlsbEFscGhhPXRoaXMuZmlsbEFscGhhKSx0aGlzfSxpLkdyYXBoaWNzLnByb3RvdHlwZS5lbmRGaWxsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZmlsbGluZz0hMSx0aGlzLmZpbGxDb2xvcj1udWxsLHRoaXMuZmlsbEFscGhhPTEsdGhpc30saS5HcmFwaGljcy5wcm90b3R5cGUuZHJhd1JlY3Q9ZnVuY3Rpb24odCxlLHMsbil7cmV0dXJuIHRoaXMuZHJhd1NoYXBlKG5ldyBpLlJlY3RhbmdsZSh0LGUscyxuKSksdGhpc30saS5HcmFwaGljcy5wcm90b3R5cGUuZHJhd1JvdW5kZWRSZWN0PWZ1bmN0aW9uKHQsZSxzLG4sbyl7cmV0dXJuIHRoaXMuZHJhd1NoYXBlKG5ldyBpLlJvdW5kZWRSZWN0YW5nbGUodCxlLHMsbixvKSksdGhpc30saS5HcmFwaGljcy5wcm90b3R5cGUuZHJhd0NpcmNsZT1mdW5jdGlvbih0LGUscyl7cmV0dXJuIHRoaXMuZHJhd1NoYXBlKG5ldyBpLkNpcmNsZSh0LGUscykpLHRoaXN9LGkuR3JhcGhpY3MucHJvdG90eXBlLmRyYXdFbGxpcHNlPWZ1bmN0aW9uKHQsZSxzLG4pe3JldHVybiB0aGlzLmRyYXdTaGFwZShuZXcgaS5FbGxpcHNlKHQsZSxzLG4pKSx0aGlzfSxpLkdyYXBoaWNzLnByb3RvdHlwZS5kcmF3UG9seWdvbj1mdW5jdGlvbih0KXt0IGluc3RhbmNlb2YgaS5Qb2x5Z29uJiYodD10LnBvaW50cyk7dmFyIGU9dDtpZighQXJyYXkuaXNBcnJheShlKSl7ZT1uZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCk7Zm9yKHZhciBzPTA7czxlLmxlbmd0aDsrK3MpZVtzXT1hcmd1bWVudHNbc119cmV0dXJuIHRoaXMuZHJhd1NoYXBlKG5ldyBpLlBvbHlnb24oZSkpLHRoaXN9LGkuR3JhcGhpY3MucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubGluZVdpZHRoPTAsdGhpcy5maWxsaW5nPSExLHRoaXMuZGlydHk9ITAsdGhpcy5fYm91bmRzRGlydHk9ITAsdGhpcy5jbGVhckRpcnR5PSEwLHRoaXMuZ3JhcGhpY3NEYXRhPVtdLHRoaXMudXBkYXRlTG9jYWxCb3VuZHMoKSx0aGlzfSxpLkdyYXBoaWNzLnByb3RvdHlwZS5nZW5lcmF0ZVRleHR1cmU9ZnVuY3Rpb24odCxlLGkpe3ZvaWQgMD09PXQmJih0PTEpLHZvaWQgMD09PWUmJihlPVBJWEkuc2NhbGVNb2Rlcy5ERUZBVUxUKSx2b2lkIDA9PT1pJiYoaT0wKTt2YXIgcz10aGlzLmdldEJvdW5kcygpO3Mud2lkdGgrPWkscy5oZWlnaHQrPWk7dmFyIG49bmV3IFBJWEkuQ2FudmFzQnVmZmVyKHMud2lkdGgqdCxzLmhlaWdodCp0KSxvPVBJWEkuVGV4dHVyZS5mcm9tQ2FudmFzKG4uY2FudmFzLGUpO3JldHVybiBvLmJhc2VUZXh0dXJlLnJlc29sdXRpb249dCxuLmNvbnRleHQuc2NhbGUodCx0KSxuLmNvbnRleHQudHJhbnNsYXRlKC1zLngsLXMueSksUElYSS5DYW52YXNHcmFwaGljcy5yZW5kZXJHcmFwaGljcyh0aGlzLG4uY29udGV4dCksb30saS5HcmFwaGljcy5wcm90b3R5cGUuX3JlbmRlcldlYkdMPWZ1bmN0aW9uKHQpe2lmKCExIT09dGhpcy52aXNpYmxlJiYwIT09dGhpcy5hbHBoYSYmITAhPT10aGlzLmlzTWFzayl7aWYodGhpcy5fY2FjaGVBc0JpdG1hcClyZXR1cm4odGhpcy5kaXJ0eXx8dGhpcy5jYWNoZWRTcHJpdGVEaXJ0eSkmJih0aGlzLl9nZW5lcmF0ZUNhY2hlZFNwcml0ZSgpLHRoaXMudXBkYXRlQ2FjaGVkU3ByaXRlVGV4dHVyZSgpLHRoaXMuY2FjaGVkU3ByaXRlRGlydHk9ITEsdGhpcy5kaXJ0eT0hMSksdGhpcy5fY2FjaGVkU3ByaXRlLndvcmxkQWxwaGE9dGhpcy53b3JsZEFscGhhLHZvaWQgUElYSS5TcHJpdGUucHJvdG90eXBlLl9yZW5kZXJXZWJHTC5jYWxsKHRoaXMuX2NhY2hlZFNwcml0ZSx0KTtpZih0LnNwcml0ZUJhdGNoLnN0b3AoKSx0LmJsZW5kTW9kZU1hbmFnZXIuc2V0QmxlbmRNb2RlKHRoaXMuYmxlbmRNb2RlKSx0aGlzLl9tYXNrJiZ0Lm1hc2tNYW5hZ2VyLnB1c2hNYXNrKHRoaXMuX21hc2ssdCksdGhpcy5fZmlsdGVycyYmdC5maWx0ZXJNYW5hZ2VyLnB1c2hGaWx0ZXIodGhpcy5fZmlsdGVyQmxvY2spLHRoaXMuYmxlbmRNb2RlIT09dC5zcHJpdGVCYXRjaC5jdXJyZW50QmxlbmRNb2RlKXt0LnNwcml0ZUJhdGNoLmN1cnJlbnRCbGVuZE1vZGU9dGhpcy5ibGVuZE1vZGU7dmFyIGU9UElYSS5ibGVuZE1vZGVzV2ViR0xbdC5zcHJpdGVCYXRjaC5jdXJyZW50QmxlbmRNb2RlXTt0LnNwcml0ZUJhdGNoLmdsLmJsZW5kRnVuYyhlWzBdLGVbMV0pfWlmKHRoaXMud2ViR0xEaXJ0eSYmKHRoaXMuZGlydHk9ITAsdGhpcy53ZWJHTERpcnR5PSExKSxQSVhJLldlYkdMR3JhcGhpY3MucmVuZGVyR3JhcGhpY3ModGhpcyx0KSx0aGlzLmNoaWxkcmVuLmxlbmd0aCl7dC5zcHJpdGVCYXRjaC5zdGFydCgpO2Zvcih2YXIgaT0wO2k8dGhpcy5jaGlsZHJlbi5sZW5ndGg7aSsrKXRoaXMuY2hpbGRyZW5baV0uX3JlbmRlcldlYkdMKHQpO3Quc3ByaXRlQmF0Y2guc3RvcCgpfXRoaXMuX2ZpbHRlcnMmJnQuZmlsdGVyTWFuYWdlci5wb3BGaWx0ZXIoKSx0aGlzLl9tYXNrJiZ0Lm1hc2tNYW5hZ2VyLnBvcE1hc2sodGhpcy5tYXNrLHQpLHQuZHJhd0NvdW50KyssdC5zcHJpdGVCYXRjaC5zdGFydCgpfX0saS5HcmFwaGljcy5wcm90b3R5cGUuX3JlbmRlckNhbnZhcz1mdW5jdGlvbih0KXtpZighMSE9PXRoaXMudmlzaWJsZSYmMCE9PXRoaXMuYWxwaGEmJiEwIT09dGhpcy5pc01hc2spe2lmKHRoaXMuX3ByZXZUaW50IT09dGhpcy50aW50JiYodGhpcy5kaXJ0eT0hMCx0aGlzLl9wcmV2VGludD10aGlzLnRpbnQpLHRoaXMuX2NhY2hlQXNCaXRtYXApcmV0dXJuKHRoaXMuZGlydHl8fHRoaXMuY2FjaGVkU3ByaXRlRGlydHkpJiYodGhpcy5fZ2VuZXJhdGVDYWNoZWRTcHJpdGUoKSx0aGlzLnVwZGF0ZUNhY2hlZFNwcml0ZVRleHR1cmUoKSx0aGlzLmNhY2hlZFNwcml0ZURpcnR5PSExLHRoaXMuZGlydHk9ITEpLHRoaXMuX2NhY2hlZFNwcml0ZS5hbHBoYT10aGlzLmFscGhhLHZvaWQgUElYSS5TcHJpdGUucHJvdG90eXBlLl9yZW5kZXJDYW52YXMuY2FsbCh0aGlzLl9jYWNoZWRTcHJpdGUsdCk7dmFyIGU9dC5jb250ZXh0LGk9dGhpcy53b3JsZFRyYW5zZm9ybTt0aGlzLmJsZW5kTW9kZSE9PXQuY3VycmVudEJsZW5kTW9kZSYmKHQuY3VycmVudEJsZW5kTW9kZT10aGlzLmJsZW5kTW9kZSxlLmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbj1QSVhJLmJsZW5kTW9kZXNDYW52YXNbdC5jdXJyZW50QmxlbmRNb2RlXSksdGhpcy5fbWFzayYmdC5tYXNrTWFuYWdlci5wdXNoTWFzayh0aGlzLl9tYXNrLHQpO3ZhciBzPXQucmVzb2x1dGlvbixuPWkudHgqdC5yZXNvbHV0aW9uK3Quc2hha2VYLG89aS50eSp0LnJlc29sdXRpb24rdC5zaGFrZVk7ZS5zZXRUcmFuc2Zvcm0oaS5hKnMsaS5iKnMsaS5jKnMsaS5kKnMsbixvKSxQSVhJLkNhbnZhc0dyYXBoaWNzLnJlbmRlckdyYXBoaWNzKHRoaXMsZSk7Zm9yKHZhciByPTA7cjx0aGlzLmNoaWxkcmVuLmxlbmd0aDtyKyspdGhpcy5jaGlsZHJlbltyXS5fcmVuZGVyQ2FudmFzKHQpO3RoaXMuX21hc2smJnQubWFza01hbmFnZXIucG9wTWFzayh0KX19LGkuR3JhcGhpY3MucHJvdG90eXBlLmdldEJvdW5kcz1mdW5jdGlvbih0KXtpZih0aGlzLl9jdXJyZW50Qm91bmRzKXJldHVybiB0aGlzLl9jdXJyZW50Qm91bmRzO2lmKCF0aGlzLnJlbmRlcmFibGUpcmV0dXJuIGkuRW1wdHlSZWN0YW5nbGU7dGhpcy5kaXJ0eSYmKHRoaXMudXBkYXRlTG9jYWxCb3VuZHMoKSx0aGlzLndlYkdMRGlydHk9ITAsdGhpcy5jYWNoZWRTcHJpdGVEaXJ0eT0hMCx0aGlzLmRpcnR5PSExKTt2YXIgZT10aGlzLl9sb2NhbEJvdW5kcyxzPWUueCxuPWUud2lkdGgrZS54LG89ZS55LHI9ZS5oZWlnaHQrZS55LGE9dHx8dGhpcy53b3JsZFRyYW5zZm9ybSxoPWEuYSxsPWEuYixjPWEuYyx1PWEuZCxkPWEudHgscD1hLnR5LGY9aCpuK2MqcitkLG09dSpyK2wqbitwLGc9aCpzK2MqcitkLHk9dSpyK2wqcytwLHY9aCpzK2MqbytkLHg9dSpvK2wqcytwLGI9aCpuK2MqbytkLF89dSpvK2wqbitwLHc9ZixUPW0sUD1mLEM9bTtyZXR1cm4gUD1nPFA/ZzpQLFA9djxQP3Y6UCxQPWI8UD9iOlAsQz15PEM/eTpDLEM9eDxDP3g6QyxDPV88Qz9fOkMsdz1nPnc/Zzp3LHc9dj53P3Y6dyx3PWI+dz9iOncsVD15PlQ/eTpULFQ9eD5UP3g6VCxUPV8+VD9fOlQsdGhpcy5fYm91bmRzLng9UCx0aGlzLl9ib3VuZHMud2lkdGg9dy1QLHRoaXMuX2JvdW5kcy55PUMsdGhpcy5fYm91bmRzLmhlaWdodD1ULUMsdGhpcy5fY3VycmVudEJvdW5kcz10aGlzLl9ib3VuZHMsdGhpcy5fY3VycmVudEJvdW5kc30saS5HcmFwaGljcy5wcm90b3R5cGUuZ2V0TG9jYWxCb3VuZHM9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLndvcmxkVHJhbnNmb3JtO3RoaXMud29ybGRUcmFuc2Zvcm09aS5pZGVudGl0eU1hdHJpeDtmb3IodmFyIGU9MDtlPHRoaXMuY2hpbGRyZW4ubGVuZ3RoO2UrKyl0aGlzLmNoaWxkcmVuW2VdLnVwZGF0ZVRyYW5zZm9ybSgpO3ZhciBzPXRoaXMuZ2V0Qm91bmRzKCk7Zm9yKHRoaXMud29ybGRUcmFuc2Zvcm09dCxlPTA7ZTx0aGlzLmNoaWxkcmVuLmxlbmd0aDtlKyspdGhpcy5jaGlsZHJlbltlXS51cGRhdGVUcmFuc2Zvcm0oKTtyZXR1cm4gc30saS5HcmFwaGljcy5wcm90b3R5cGUuY29udGFpbnNQb2ludD1mdW5jdGlvbih0LGUpe3ZvaWQgMD09PWUmJihlPW5ldyBpLlBvaW50KSx0aGlzLndvcmxkVHJhbnNmb3JtLmFwcGx5SW52ZXJzZSh0LGUpO2Zvcih2YXIgcz10aGlzLmdyYXBoaWNzRGF0YSxuPTA7bjxzLmxlbmd0aDtuKyspe3ZhciBvPXNbbl07aWYoby5maWxsJiYoby5zaGFwZSYmby5zaGFwZS5jb250YWlucyhlLngsZS55KSkpcmV0dXJuITB9cmV0dXJuITF9LGkuR3JhcGhpY3MucHJvdG90eXBlLnVwZGF0ZUxvY2FsQm91bmRzPWZ1bmN0aW9uKCl7dmFyIHQ9MS8wLGU9LTEvMCxzPTEvMCxuPS0xLzA7aWYodGhpcy5ncmFwaGljc0RhdGEubGVuZ3RoKWZvcih2YXIgbyxyLGEsaCxsLGMsdT0wO3U8dGhpcy5ncmFwaGljc0RhdGEubGVuZ3RoO3UrKyl7dmFyIGQ9dGhpcy5ncmFwaGljc0RhdGFbdV0scD1kLnR5cGUsZj1kLmxpbmVXaWR0aDtpZihvPWQuc2hhcGUscD09PWkuUkVDVEFOR0xFfHxwPT09aS5ST1VOREVEUkVDVEFOR0xFKWE9by54LWYvMixoPW8ueS1mLzIsbD1vLndpZHRoK2YsYz1vLmhlaWdodCtmLHQ9YTx0P2E6dCxlPWErbD5lP2ErbDplLHM9aDxzP2g6cyxuPWgrYz5uP2grYzpuO2Vsc2UgaWYocD09PWkuQ0lSQ0xFKWE9by54LGg9by55LGw9by5yYWRpdXMrZi8yLGM9by5yYWRpdXMrZi8yLHQ9YS1sPHQ/YS1sOnQsZT1hK2w+ZT9hK2w6ZSxzPWgtYzxzP2gtYzpzLG49aCtjPm4/aCtjOm47ZWxzZSBpZihwPT09aS5FTExJUFNFKWE9by54LGg9by55LGw9by53aWR0aCtmLzIsYz1vLmhlaWdodCtmLzIsdD1hLWw8dD9hLWw6dCxlPWErbD5lP2ErbDplLHM9aC1jPHM/aC1jOnMsbj1oK2M+bj9oK2M6bjtlbHNle3I9by5wb2ludHM7Zm9yKHZhciBtPTA7bTxyLmxlbmd0aDttKyspclttXWluc3RhbmNlb2YgaS5Qb2ludD8oYT1yW21dLngsaD1yW21dLnkpOihhPXJbbV0saD1yW20rMV0sbTxyLmxlbmd0aC0xJiZtKyspLHQ9YS1mPHQ/YS1mOnQsZT1hK2Y+ZT9hK2Y6ZSxzPWgtZjxzP2gtZjpzLG49aCtmPm4/aCtmOm59fWVsc2UgdD0wLGU9MCxzPTAsbj0wO3ZhciBnPXRoaXMuYm91bmRzUGFkZGluZzt0aGlzLl9sb2NhbEJvdW5kcy54PXQtZyx0aGlzLl9sb2NhbEJvdW5kcy53aWR0aD1lLXQrMipnLHRoaXMuX2xvY2FsQm91bmRzLnk9cy1nLHRoaXMuX2xvY2FsQm91bmRzLmhlaWdodD1uLXMrMipnfSxpLkdyYXBoaWNzLnByb3RvdHlwZS5fZ2VuZXJhdGVDYWNoZWRTcHJpdGU9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdldExvY2FsQm91bmRzKCk7aWYodGhpcy5fY2FjaGVkU3ByaXRlKXRoaXMuX2NhY2hlZFNwcml0ZS5idWZmZXIucmVzaXplKHQud2lkdGgsdC5oZWlnaHQpO2Vsc2V7dmFyIGU9bmV3IFBJWEkuQ2FudmFzQnVmZmVyKHQud2lkdGgsdC5oZWlnaHQpLGk9UElYSS5UZXh0dXJlLmZyb21DYW52YXMoZS5jYW52YXMpO3RoaXMuX2NhY2hlZFNwcml0ZT1uZXcgUElYSS5TcHJpdGUoaSksdGhpcy5fY2FjaGVkU3ByaXRlLmJ1ZmZlcj1lLHRoaXMuX2NhY2hlZFNwcml0ZS53b3JsZFRyYW5zZm9ybT10aGlzLndvcmxkVHJhbnNmb3JtfXRoaXMuX2NhY2hlZFNwcml0ZS5hbmNob3IueD0tdC54L3Qud2lkdGgsdGhpcy5fY2FjaGVkU3ByaXRlLmFuY2hvci55PS10LnkvdC5oZWlnaHQsdGhpcy5fY2FjaGVkU3ByaXRlLmJ1ZmZlci5jb250ZXh0LnRyYW5zbGF0ZSgtdC54LC10LnkpLHRoaXMud29ybGRBbHBoYT0xLFBJWEkuQ2FudmFzR3JhcGhpY3MucmVuZGVyR3JhcGhpY3ModGhpcyx0aGlzLl9jYWNoZWRTcHJpdGUuYnVmZmVyLmNvbnRleHQpLHRoaXMuX2NhY2hlZFNwcml0ZS5hbHBoYT10aGlzLmFscGhhfSxpLkdyYXBoaWNzLnByb3RvdHlwZS51cGRhdGVDYWNoZWRTcHJpdGVUZXh0dXJlPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fY2FjaGVkU3ByaXRlLGU9dC50ZXh0dXJlLGk9dC5idWZmZXIuY2FudmFzO2UuYmFzZVRleHR1cmUud2lkdGg9aS53aWR0aCxlLmJhc2VUZXh0dXJlLmhlaWdodD1pLmhlaWdodCxlLmNyb3Aud2lkdGg9ZS5mcmFtZS53aWR0aD1pLndpZHRoLGUuY3JvcC5oZWlnaHQ9ZS5mcmFtZS5oZWlnaHQ9aS5oZWlnaHQsdC5fd2lkdGg9aS53aWR0aCx0Ll9oZWlnaHQ9aS5oZWlnaHQsZS5iYXNlVGV4dHVyZS5kaXJ0eSgpfSxpLkdyYXBoaWNzLnByb3RvdHlwZS5kZXN0cm95Q2FjaGVkU3ByaXRlPWZ1bmN0aW9uKCl7dGhpcy5fY2FjaGVkU3ByaXRlLnRleHR1cmUuZGVzdHJveSghMCksdGhpcy5fY2FjaGVkU3ByaXRlPW51bGx9LGkuR3JhcGhpY3MucHJvdG90eXBlLmRyYXdTaGFwZT1mdW5jdGlvbih0KXt0aGlzLmN1cnJlbnRQYXRoJiZ0aGlzLmN1cnJlbnRQYXRoLnNoYXBlLnBvaW50cy5sZW5ndGg8PTImJnRoaXMuZ3JhcGhpY3NEYXRhLnBvcCgpLHRoaXMuY3VycmVudFBhdGg9bnVsbCx0IGluc3RhbmNlb2YgaS5Qb2x5Z29uJiYodD10LmNsb25lKCkpLmZsYXR0ZW4oKTt2YXIgZT1uZXcgaS5HcmFwaGljc0RhdGEodGhpcy5saW5lV2lkdGgsdGhpcy5saW5lQ29sb3IsdGhpcy5saW5lQWxwaGEsdGhpcy5maWxsQ29sb3IsdGhpcy5maWxsQWxwaGEsdGhpcy5maWxsaW5nLHQpO3JldHVybiB0aGlzLmdyYXBoaWNzRGF0YS5wdXNoKGUpLGUudHlwZT09PWkuUE9MWUdPTiYmKGUuc2hhcGUuY2xvc2VkPXRoaXMuZmlsbGluZyx0aGlzLmN1cnJlbnRQYXRoPWUpLHRoaXMuZGlydHk9ITAsdGhpcy5fYm91bmRzRGlydHk9ITAsZX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuR3JhcGhpY3MucHJvdG90eXBlLFwiY2FjaGVBc0JpdG1hcFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2FjaGVBc0JpdG1hcH0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2NhY2hlQXNCaXRtYXA9dCx0aGlzLl9jYWNoZUFzQml0bWFwP3RoaXMuX2dlbmVyYXRlQ2FjaGVkU3ByaXRlKCk6dGhpcy5kZXN0cm95Q2FjaGVkU3ByaXRlKCksdGhpcy5kaXJ0eT0hMCx0aGlzLndlYkdMRGlydHk9ITB9fSksaS5SZW5kZXJUZXh0dXJlPWZ1bmN0aW9uKHQsZSxzLG4sbyxyLGEsaCl7aWYodm9pZCAwPT09ZSYmKGU9MTAwKSx2b2lkIDA9PT1zJiYocz0xMDApLHZvaWQgMD09PW4mJihuPVwiXCIpLHZvaWQgMD09PW8mJihvPWkuc2NhbGVNb2Rlcy5ERUZBVUxUKSx2b2lkIDA9PT1yJiYocj0xKSx2b2lkIDA9PT1hJiYoYT1QSVhJLmRlZmF1bHRSZW5kZXJlciksdm9pZCAwPT09aCYmKGg9MCksdGhpcy5nYW1lPXQsdGhpcy5rZXk9bix0aGlzLnR5cGU9aS5SRU5ERVJURVhUVVJFLHRoaXMuX3RlbXBNYXRyaXg9bmV3IGkuTWF0cml4LHRoaXMud2lkdGg9ZSx0aGlzLmhlaWdodD1zLHRoaXMucmVzb2x1dGlvbj1yLHRoaXMuZnJhbWU9bmV3IGkuUmVjdGFuZ2xlKDAsMCx0aGlzLndpZHRoKnRoaXMucmVzb2x1dGlvbix0aGlzLmhlaWdodCp0aGlzLnJlc29sdXRpb24pLHRoaXMuY3JvcD10aGlzLmZyYW1lLmNsb25lKCksdGhpcy5iYXNlVGV4dHVyZT1uZXcgUElYSS5CYXNlVGV4dHVyZSx0aGlzLmJhc2VUZXh0dXJlLndpZHRoPXRoaXMud2lkdGgqdGhpcy5yZXNvbHV0aW9uLHRoaXMuYmFzZVRleHR1cmUuaGVpZ2h0PXRoaXMuaGVpZ2h0KnRoaXMucmVzb2x1dGlvbix0aGlzLmJhc2VUZXh0dXJlLl9nbFRleHR1cmVzPVtdLHRoaXMuYmFzZVRleHR1cmUucmVzb2x1dGlvbj10aGlzLnJlc29sdXRpb24sdGhpcy5iYXNlVGV4dHVyZS5zY2FsZU1vZGU9byx0aGlzLmJhc2VUZXh0dXJlLmhhc0xvYWRlZD0hMCxQSVhJLlRleHR1cmUuY2FsbCh0aGlzLHRoaXMuYmFzZVRleHR1cmUsdGhpcy5mcmFtZS5jbG9uZSgpKSx0aGlzLnJlbmRlcmVyPWEsdGhpcy5yZW5kZXJlci50eXBlPT09aS5XRUJHTCl7dmFyIGw9dGhpcy5yZW5kZXJlci5nbDt0aGlzLmJhc2VUZXh0dXJlLnRleHR1cmVJbmRleD1oLHRoaXMuYmFzZVRleHR1cmUuX2RpcnR5W2wuaWRdPSExLHRoaXMudGV4dHVyZUJ1ZmZlcj1uZXcgUElYSS5GaWx0ZXJUZXh0dXJlKGwsdGhpcy53aWR0aCx0aGlzLmhlaWdodCx0aGlzLmJhc2VUZXh0dXJlLnNjYWxlTW9kZSxoKSx0aGlzLmJhc2VUZXh0dXJlLl9nbFRleHR1cmVzW2wuaWRdPXRoaXMudGV4dHVyZUJ1ZmZlci50ZXh0dXJlLHRoaXMucHJvamVjdGlvbj1uZXcgaS5Qb2ludCguNSp0aGlzLndpZHRoLC41Ki10aGlzLmhlaWdodCl9ZWxzZSB0aGlzLnRleHR1cmVCdWZmZXI9bmV3IFBJWEkuQ2FudmFzQnVmZmVyKHRoaXMud2lkdGgqdGhpcy5yZXNvbHV0aW9uLHRoaXMuaGVpZ2h0KnRoaXMucmVzb2x1dGlvbiksdGhpcy5iYXNlVGV4dHVyZS5zb3VyY2U9dGhpcy50ZXh0dXJlQnVmZmVyLmNhbnZhczt0aGlzLnZhbGlkPSEwLHRoaXMudGVtcE1hdHJpeD1uZXcgaS5NYXRyaXgsdGhpcy5fdXBkYXRlVXZzKCl9LGkuUmVuZGVyVGV4dHVyZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShQSVhJLlRleHR1cmUucHJvdG90eXBlKSxpLlJlbmRlclRleHR1cmUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWkuUmVuZGVyVGV4dHVyZSxpLlJlbmRlclRleHR1cmUucHJvdG90eXBlLnJlbmRlclhZPWZ1bmN0aW9uKHQsZSxzLG4pe3QudXBkYXRlVHJhbnNmb3JtKCksdGhpcy5fdGVtcE1hdHJpeC5jb3B5RnJvbSh0LndvcmxkVHJhbnNmb3JtKSx0aGlzLl90ZW1wTWF0cml4LnR4PWUsdGhpcy5fdGVtcE1hdHJpeC50eT1zLHRoaXMucmVuZGVyZXIudHlwZT09PWkuV0VCR0w/dGhpcy5fcmVuZGVyV2ViR0wodCx0aGlzLl90ZW1wTWF0cml4LG4pOnRoaXMuX3JlbmRlckNhbnZhcyh0LHRoaXMuX3RlbXBNYXRyaXgsbil9LGkuUmVuZGVyVGV4dHVyZS5wcm90b3R5cGUucmVuZGVyUmF3WFk9ZnVuY3Rpb24odCxlLHMsbil7dGhpcy5fdGVtcE1hdHJpeC5pZGVudGl0eSgpLnRyYW5zbGF0ZShlLHMpLHRoaXMucmVuZGVyZXIudHlwZT09PWkuV0VCR0w/dGhpcy5fcmVuZGVyV2ViR0wodCx0aGlzLl90ZW1wTWF0cml4LG4pOnRoaXMuX3JlbmRlckNhbnZhcyh0LHRoaXMuX3RlbXBNYXRyaXgsbil9LGkuUmVuZGVyVGV4dHVyZS5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKHQsZSxzKXt2b2lkIDA9PT1lfHxudWxsPT09ZT90aGlzLl90ZW1wTWF0cml4LmNvcHlGcm9tKHQud29ybGRUcmFuc2Zvcm0pOnRoaXMuX3RlbXBNYXRyaXguY29weUZyb20oZSksdGhpcy5yZW5kZXJlci50eXBlPT09aS5XRUJHTD90aGlzLl9yZW5kZXJXZWJHTCh0LHRoaXMuX3RlbXBNYXRyaXgscyk6dGhpcy5fcmVuZGVyQ2FudmFzKHQsdGhpcy5fdGVtcE1hdHJpeCxzKX0saS5SZW5kZXJUZXh0dXJlLnByb3RvdHlwZS5yZXNpemU9ZnVuY3Rpb24odCxlLHMpe3Q9PT10aGlzLndpZHRoJiZlPT09dGhpcy5oZWlnaHR8fCh0aGlzLnZhbGlkPXQ+MCYmZT4wLHRoaXMud2lkdGg9dCx0aGlzLmhlaWdodD1lLHRoaXMuZnJhbWUud2lkdGg9dGhpcy5jcm9wLndpZHRoPXQqdGhpcy5yZXNvbHV0aW9uLHRoaXMuZnJhbWUuaGVpZ2h0PXRoaXMuY3JvcC5oZWlnaHQ9ZSp0aGlzLnJlc29sdXRpb24scyYmKHRoaXMuYmFzZVRleHR1cmUud2lkdGg9dGhpcy53aWR0aCp0aGlzLnJlc29sdXRpb24sdGhpcy5iYXNlVGV4dHVyZS5oZWlnaHQ9dGhpcy5oZWlnaHQqdGhpcy5yZXNvbHV0aW9uKSx0aGlzLnJlbmRlcmVyLnR5cGU9PT1pLldFQkdMJiYodGhpcy5wcm9qZWN0aW9uLng9dGhpcy53aWR0aC8yLHRoaXMucHJvamVjdGlvbi55PS10aGlzLmhlaWdodC8yKSx0aGlzLnZhbGlkJiZ0aGlzLnRleHR1cmVCdWZmZXIucmVzaXplKHRoaXMud2lkdGgsdGhpcy5oZWlnaHQpKX0saS5SZW5kZXJUZXh0dXJlLnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbigpe3RoaXMudmFsaWQmJih0aGlzLnJlbmRlcmVyLnR5cGU9PT1pLldFQkdMJiZ0aGlzLnJlbmRlcmVyLmdsLmJpbmRGcmFtZWJ1ZmZlcih0aGlzLnJlbmRlcmVyLmdsLkZSQU1FQlVGRkVSLHRoaXMudGV4dHVyZUJ1ZmZlci5mcmFtZUJ1ZmZlciksdGhpcy50ZXh0dXJlQnVmZmVyLmNsZWFyKCkpfSxpLlJlbmRlclRleHR1cmUucHJvdG90eXBlLl9yZW5kZXJXZWJHTD1mdW5jdGlvbih0LGUsaSl7aWYodGhpcy52YWxpZCYmMCE9PXQuYWxwaGEpe3ZhciBzPXQud29ybGRUcmFuc2Zvcm07cy5pZGVudGl0eSgpLHMudHJhbnNsYXRlKDAsMip0aGlzLnByb2plY3Rpb24ueSksZSYmcy5hcHBlbmQoZSkscy5zY2FsZSgxLC0xKTtmb3IodmFyIG49MDtuPHQuY2hpbGRyZW4ubGVuZ3RoO24rKyl0LmNoaWxkcmVuW25dLnVwZGF0ZVRyYW5zZm9ybSgpO3ZhciBvPXRoaXMucmVuZGVyZXIuZ2w7by52aWV3cG9ydCgwLDAsdGhpcy53aWR0aCp0aGlzLnJlc29sdXRpb24sdGhpcy5oZWlnaHQqdGhpcy5yZXNvbHV0aW9uKSxvLmJpbmRGcmFtZWJ1ZmZlcihvLkZSQU1FQlVGRkVSLHRoaXMudGV4dHVyZUJ1ZmZlci5mcmFtZUJ1ZmZlciksaSYmdGhpcy50ZXh0dXJlQnVmZmVyLmNsZWFyKCksdGhpcy5yZW5kZXJlci5zcHJpdGVCYXRjaC5kaXJ0eT0hMCx0aGlzLnJlbmRlcmVyLnJlbmRlckRpc3BsYXlPYmplY3QodCx0aGlzLnByb2plY3Rpb24sdGhpcy50ZXh0dXJlQnVmZmVyLmZyYW1lQnVmZmVyLGUpLHRoaXMucmVuZGVyZXIuc3ByaXRlQmF0Y2guZGlydHk9ITAsby5iaW5kRnJhbWVidWZmZXIoby5GUkFNRUJVRkZFUixudWxsKX19LGkuUmVuZGVyVGV4dHVyZS5wcm90b3R5cGUuX3JlbmRlckNhbnZhcz1mdW5jdGlvbih0LGUsaSl7aWYodGhpcy52YWxpZCYmMCE9PXQuYWxwaGEpe3ZhciBzPXQud29ybGRUcmFuc2Zvcm07cy5pZGVudGl0eSgpLGUmJnMuYXBwZW5kKGUpO2Zvcih2YXIgbj0wO248dC5jaGlsZHJlbi5sZW5ndGg7bisrKXQuY2hpbGRyZW5bbl0udXBkYXRlVHJhbnNmb3JtKCk7aSYmdGhpcy50ZXh0dXJlQnVmZmVyLmNsZWFyKCk7dmFyIG89dGhpcy5yZW5kZXJlci5yZXNvbHV0aW9uO3RoaXMucmVuZGVyZXIucmVzb2x1dGlvbj10aGlzLnJlc29sdXRpb24sdGhpcy5yZW5kZXJlci5yZW5kZXJEaXNwbGF5T2JqZWN0KHQsdGhpcy50ZXh0dXJlQnVmZmVyLmNvbnRleHQsZSksdGhpcy5yZW5kZXJlci5yZXNvbHV0aW9uPW99fSxpLlJlbmRlclRleHR1cmUucHJvdG90eXBlLmdldEltYWdlPWZ1bmN0aW9uKCl7dmFyIHQ9bmV3IEltYWdlO3JldHVybiB0LnNyYz10aGlzLmdldEJhc2U2NCgpLHR9LGkuUmVuZGVyVGV4dHVyZS5wcm90b3R5cGUuZ2V0QmFzZTY0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0Q2FudmFzKCkudG9EYXRhVVJMKCl9LGkuUmVuZGVyVGV4dHVyZS5wcm90b3R5cGUuZ2V0Q2FudmFzPWZ1bmN0aW9uKCl7aWYodGhpcy5yZW5kZXJlci50eXBlPT09aS5XRUJHTCl7dmFyIHQ9dGhpcy5yZW5kZXJlci5nbCxlPXRoaXMudGV4dHVyZUJ1ZmZlci53aWR0aCxzPXRoaXMudGV4dHVyZUJ1ZmZlci5oZWlnaHQsbj1uZXcgVWludDhBcnJheSg0KmUqcyk7dC5iaW5kRnJhbWVidWZmZXIodC5GUkFNRUJVRkZFUix0aGlzLnRleHR1cmVCdWZmZXIuZnJhbWVCdWZmZXIpLHQucmVhZFBpeGVscygwLDAsZSxzLHQuUkdCQSx0LlVOU0lHTkVEX0JZVEUsbiksdC5iaW5kRnJhbWVidWZmZXIodC5GUkFNRUJVRkZFUixudWxsKTt2YXIgbz1uZXcgUElYSS5DYW52YXNCdWZmZXIoZSxzKSxyPW8uY29udGV4dC5nZXRJbWFnZURhdGEoMCwwLGUscyk7cmV0dXJuIHIuZGF0YS5zZXQobiksby5jb250ZXh0LnB1dEltYWdlRGF0YShyLDAsMCksby5jYW52YXN9cmV0dXJuIHRoaXMudGV4dHVyZUJ1ZmZlci5jYW52YXN9LGkuVGV4dD1mdW5jdGlvbih0LGUscyxuLG8pe2U9ZXx8MCxzPXN8fDAsbj12b2lkIDA9PT1ufHxudWxsPT09bj9cIlwiOm4udG9TdHJpbmcoKSxvPWkuVXRpbHMuZXh0ZW5kKHt9LG8pLHRoaXMudHlwZT1pLlRFWFQsdGhpcy5waHlzaWNzVHlwZT1pLlNQUklURSx0aGlzLnBhZGRpbmc9bmV3IGkuUG9pbnQsdGhpcy50ZXh0Qm91bmRzPW51bGwsdGhpcy5jYW52YXM9aS5DYW52YXNQb29sLmNyZWF0ZSh0aGlzKSx0aGlzLmNvbnRleHQ9dGhpcy5jYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpLHRoaXMuY29sb3JzPVtdLHRoaXMuc3Ryb2tlQ29sb3JzPVtdLHRoaXMuZm9udFN0eWxlcz1bXSx0aGlzLmZvbnRXZWlnaHRzPVtdLHRoaXMuYXV0b1JvdW5kPSExLHRoaXMudXNlQWR2YW5jZWRXcmFwPSExLHRoaXMuc3BsaXRSZWdFeHA9Lyg/OlxcclxcbnxcXHJ8XFxuKS8sdGhpcy5jaGFyYWN0ZXJMaW1pdFNpemU9LTEsdGhpcy5jaGFyYWN0ZXJMaW1pdFN1ZmZpeD1cIlwiLHRoaXMuX3Jlcz10LnJlbmRlcmVyLnJlc29sdXRpb24sdGhpcy5fdGV4dD1uLHRoaXMuX2ZvbnRDb21wb25lbnRzPW51bGwsdGhpcy5fbGluZVNwYWNpbmc9MCx0aGlzLl9jaGFyQ291bnQ9MCx0aGlzLl93aWR0aD0wLHRoaXMuX2hlaWdodD0wLGkuU3ByaXRlLmNhbGwodGhpcyx0LGUscyxQSVhJLlRleHR1cmUuZnJvbUNhbnZhcyh0aGlzLmNhbnZhcykpLHRoaXMuc2V0U3R5bGUobyksXCJcIiE9PW4mJnRoaXMudXBkYXRlVGV4dCgpfSxpLlRleHQucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoaS5TcHJpdGUucHJvdG90eXBlKSxpLlRleHQucHJvdG90eXBlLmNvbnN0cnVjdG9yPWkuVGV4dCxpLlRleHQucHJvdG90eXBlLnByZVVwZGF0ZT1mdW5jdGlvbigpe3JldHVybiEhKHRoaXMucHJlVXBkYXRlUGh5c2ljcygpJiZ0aGlzLnByZVVwZGF0ZUxpZmVTcGFuKCkmJnRoaXMucHJlVXBkYXRlSW5Xb3JsZCgpKSYmdGhpcy5wcmVVcGRhdGVDb3JlKCl9LGkuVGV4dC5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKCl7fSxpLlRleHQucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24odCl7dGhpcy50ZXh0dXJlLmRlc3Ryb3koITApLGkuQ29tcG9uZW50LkRlc3Ryb3kucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzLHQpfSxpLlRleHQucHJvdG90eXBlLnNldFNoYWRvdz1mdW5jdGlvbih0LGUsaSxzLG4sbyl7cmV0dXJuIHZvaWQgMD09PXQmJih0PTApLHZvaWQgMD09PWUmJihlPTApLHZvaWQgMD09PWkmJihpPVwicmdiYSgwLCAwLCAwLCAxKVwiKSx2b2lkIDA9PT1zJiYocz0wKSx2b2lkIDA9PT1uJiYobj0hMCksdm9pZCAwPT09byYmKG89ITApLHRoaXMuc3R5bGUuc2hhZG93T2Zmc2V0WD10LHRoaXMuc3R5bGUuc2hhZG93T2Zmc2V0WT1lLHRoaXMuc3R5bGUuc2hhZG93Q29sb3I9aSx0aGlzLnN0eWxlLnNoYWRvd0JsdXI9cyx0aGlzLnN0eWxlLnNoYWRvd1N0cm9rZT1uLHRoaXMuc3R5bGUuc2hhZG93RmlsbD1vLHRoaXMuZGlydHk9ITAsdGhpc30saS5UZXh0LnByb3RvdHlwZS5zZXRTdHlsZT1mdW5jdGlvbih0LGUpe3ZvaWQgMD09PWUmJihlPSExKTt2YXIgaT1PYmplY3QuYXNzaWduKHt9LHQpO2kuZm9udD10LmZvbnR8fFwiYm9sZCAyMHB0IEFyaWFsXCIsaS5iYWNrZ3JvdW5kQ29sb3I9dC5iYWNrZ3JvdW5kQ29sb3J8fG51bGwsaS5maWxsPXQuZmlsbHx8XCJibGFja1wiLGkuYWxpZ249KHQuYWxpZ258fFwibGVmdFwiKS50b0xvd2VyQ2FzZSgpLGkuYm91bmRzQWxpZ25IPSh0LmJvdW5kc0FsaWduSHx8XCJsZWZ0XCIpLnRvTG93ZXJDYXNlKCksaS5ib3VuZHNBbGlnblY9KHQuYm91bmRzQWxpZ25WfHxcInRvcFwiKS50b0xvd2VyQ2FzZSgpLGkuc3Ryb2tlPXQuc3Ryb2tlfHxcImJsYWNrXCIsaS5zdHJva2VUaGlja25lc3M9TnVtYmVyKHQuc3Ryb2tlVGhpY2tuZXNzKXx8MCxpLndvcmRXcmFwPXQud29yZFdyYXB8fCExLGkud29yZFdyYXBXaWR0aD10LndvcmRXcmFwV2lkdGh8fDEwMCxpLm1heExpbmVzPXQubWF4TGluZXN8fDAsaS5zaGFkb3dPZmZzZXRYPXQuc2hhZG93T2Zmc2V0WHx8MCxpLnNoYWRvd09mZnNldFk9dC5zaGFkb3dPZmZzZXRZfHwwLGkuc2hhZG93Q29sb3I9dC5zaGFkb3dDb2xvcnx8XCJyZ2JhKDAsMCwwLDApXCIsaS5zaGFkb3dCbHVyPXQuc2hhZG93Qmx1cnx8MCxpLnRhYnM9dC50YWJzfHwwO3ZhciBzPXRoaXMuZm9udFRvQ29tcG9uZW50cyhpLmZvbnQpO3JldHVybiBpLmZvbnRTdHlsZSYmKHMuZm9udFN0eWxlPWkuZm9udFN0eWxlKSxpLmZvbnRWYXJpYW50JiYocy5mb250VmFyaWFudD1pLmZvbnRWYXJpYW50KSxpLmZvbnRXZWlnaHQmJihzLmZvbnRXZWlnaHQ9aS5mb250V2VpZ2h0KSxpLmZvbnRTaXplJiYoXCJudW1iZXJcIj09dHlwZW9mIGkuZm9udFNpemUmJihpLmZvbnRTaXplPWkuZm9udFNpemUrXCJweFwiKSxzLmZvbnRTaXplPWkuZm9udFNpemUpLHRoaXMuX2ZvbnRDb21wb25lbnRzPXMsaS5mb250PXRoaXMuY29tcG9uZW50c1RvRm9udCh0aGlzLl9mb250Q29tcG9uZW50cyksdGhpcy5zdHlsZT1pLHRoaXMuZGlydHk9ITAsZSYmdGhpcy51cGRhdGVUZXh0KCksdGhpc30saS5UZXh0LnByb3RvdHlwZS51cGRhdGVUZXh0PWZ1bmN0aW9uKCl7dGhpcy50ZXh0dXJlLmJhc2VUZXh0dXJlLnJlc29sdXRpb249dGhpcy5fcmVzLHRoaXMuY29udGV4dC5mb250PXRoaXMuc3R5bGUuZm9udDt2YXIgdD10aGlzLnRleHQ7dGhpcy5jaGFyYWN0ZXJMaW1pdFNpemU+LTEmJnRoaXMuY2hhcmFjdGVyTGltaXRTaXplPHQubGVuZ3RoJiYodD10aGlzLnRleHQuc3Vic3RyaW5nKDAsdGhpcy5jaGFyYWN0ZXJMaW1pdFNpemUpK3RoaXMuY2hhcmFjdGVyTGltaXRTdWZmaXgpLHRoaXMuc3R5bGUud29yZFdyYXAmJih0PXRoaXMucnVuV29yZFdyYXAodGhpcy50ZXh0KSk7dmFyIGU9dC5zcGxpdCh0aGlzLnNwbGl0UmVnRXhwKSxpPXRoaXMuc3R5bGUudGFicyxzPVtdLG49MCxvPXRoaXMuZGV0ZXJtaW5lRm9udFByb3BlcnRpZXModGhpcy5zdHlsZS5mb250KSxyPWUubGVuZ3RoO3RoaXMuc3R5bGUubWF4TGluZXM+MCYmdGhpcy5zdHlsZS5tYXhMaW5lczxlLmxlbmd0aCYmKHI9dGhpcy5zdHlsZS5tYXhMaW5lcyksdGhpcy5fY2hhckNvdW50PTA7Zm9yKHZhciBhPTA7YTxyO2ErKyl7aWYoMD09PWkpe2w9dGhpcy5zdHlsZS5zdHJva2VUaGlja25lc3MrdGhpcy5wYWRkaW5nLng7dGhpcy5jb2xvcnMubGVuZ3RoPjB8fHRoaXMuc3Ryb2tlQ29sb3JzLmxlbmd0aD4wfHx0aGlzLmZvbnRXZWlnaHRzLmxlbmd0aD4wfHx0aGlzLmZvbnRTdHlsZXMubGVuZ3RoPjA/bCs9dGhpcy5tZWFzdXJlTGluZShlW2FdKTpsKz10aGlzLmNvbnRleHQubWVhc3VyZVRleHQoZVthXSkud2lkdGgsdGhpcy5zdHlsZS53b3JkV3JhcCYmKGwtPXRoaXMuY29udGV4dC5tZWFzdXJlVGV4dChcIiBcIikud2lkdGgpfWVsc2V7dmFyIGg9ZVthXS5zcGxpdCgvKD86XFx0KS8pLGw9dGhpcy5wYWRkaW5nLngrdGhpcy5zdHlsZS5zdHJva2VUaGlja25lc3M7aWYoQXJyYXkuaXNBcnJheShpKSlmb3IodmFyIGM9MCx1PTA7dTxoLmxlbmd0aDt1Kyspe3ZhciBkPTA7ZD10aGlzLmNvbG9ycy5sZW5ndGg+MHx8dGhpcy5zdHJva2VDb2xvcnMubGVuZ3RoPjB8fHRoaXMuZm9udFdlaWdodHMubGVuZ3RoPjB8fHRoaXMuZm9udFN0eWxlcy5sZW5ndGg+MD90aGlzLm1lYXN1cmVMaW5lKGhbdV0pOk1hdGguY2VpbCh0aGlzLmNvbnRleHQubWVhc3VyZVRleHQoaFt1XSkud2lkdGgpLHU+MCYmKGMrPWlbdS0xXSksbD1jK2R9ZWxzZSBmb3IodT0wO3U8aC5sZW5ndGg7dSsrKXRoaXMuY29sb3JzLmxlbmd0aD4wfHx0aGlzLnN0cm9rZUNvbG9ycy5sZW5ndGg+MHx8dGhpcy5mb250V2VpZ2h0cy5sZW5ndGg+MHx8dGhpcy5mb250U3R5bGVzLmxlbmd0aD4wP2wrPXRoaXMubWVhc3VyZUxpbmUoaFt1XSk6bCs9TWF0aC5jZWlsKHRoaXMuY29udGV4dC5tZWFzdXJlVGV4dChoW3VdKS53aWR0aCksbCs9dGhpcy5nYW1lLm1hdGguc25hcFRvQ2VpbChsLGkpLWx9c1thXT1NYXRoLmNlaWwobCksbj1NYXRoLm1heChuLHNbYV0pfXRoaXMuY2FudmFzLndpZHRoPW4qdGhpcy5fcmVzO3ZhciBwPW8uZm9udFNpemUrdGhpcy5zdHlsZS5zdHJva2VUaGlja25lc3MrdGhpcy5wYWRkaW5nLnksZj1wKnIsbT10aGlzLl9saW5lU3BhY2luZzttPDAmJk1hdGguYWJzKG0pPnAmJihtPS1wKSwwIT09bSYmKGYrPW0+MD9tKmUubGVuZ3RoOm0qKGUubGVuZ3RoLTEpKSx0aGlzLmNhbnZhcy5oZWlnaHQ9Zip0aGlzLl9yZXMsdGhpcy5jb250ZXh0LnNjYWxlKHRoaXMuX3Jlcyx0aGlzLl9yZXMpLG5hdmlnYXRvci5pc0NvY29vbkpTJiZ0aGlzLmNvbnRleHQuY2xlYXJSZWN0KDAsMCx0aGlzLmNhbnZhcy53aWR0aCx0aGlzLmNhbnZhcy5oZWlnaHQpLHRoaXMuc3R5bGUuYmFja2dyb3VuZENvbG9yJiYodGhpcy5jb250ZXh0LmZpbGxTdHlsZT10aGlzLnN0eWxlLmJhY2tncm91bmRDb2xvcix0aGlzLmNvbnRleHQuZmlsbFJlY3QoMCwwLHRoaXMuY2FudmFzLndpZHRoLHRoaXMuY2FudmFzLmhlaWdodCkpLHRoaXMuY29udGV4dC5maWxsU3R5bGU9dGhpcy5zdHlsZS5maWxsLHRoaXMuY29udGV4dC5mb250PXRoaXMuc3R5bGUuZm9udCx0aGlzLmNvbnRleHQuc3Ryb2tlU3R5bGU9dGhpcy5zdHlsZS5zdHJva2UsdGhpcy5jb250ZXh0LnRleHRCYXNlbGluZT1cImFscGhhYmV0aWNcIix0aGlzLmNvbnRleHQubGluZVdpZHRoPXRoaXMuc3R5bGUuc3Ryb2tlVGhpY2tuZXNzLHRoaXMuY29udGV4dC5saW5lQ2FwPVwicm91bmRcIix0aGlzLmNvbnRleHQubGluZUpvaW49XCJyb3VuZFwiO3ZhciBnLHk7Zm9yKHRoaXMuX2NoYXJDb3VudD0wLGE9MDthPHI7YSsrKWc9dGhpcy5zdHlsZS5zdHJva2VUaGlja25lc3MvMix5PXRoaXMuc3R5bGUuc3Ryb2tlVGhpY2tuZXNzLzIrYSpwK28uYXNjZW50LGE+MCYmKHkrPW0qYSksXCJyaWdodFwiPT09dGhpcy5zdHlsZS5hbGlnbj9nKz1uLXNbYV06XCJjZW50ZXJcIj09PXRoaXMuc3R5bGUuYWxpZ24mJihnKz0obi1zW2FdKS8yKSx0aGlzLmF1dG9Sb3VuZCYmKGc9TWF0aC5yb3VuZChnKSx5PU1hdGgucm91bmQoeSkpLHRoaXMuY29sb3JzLmxlbmd0aD4wfHx0aGlzLnN0cm9rZUNvbG9ycy5sZW5ndGg+MHx8dGhpcy5mb250V2VpZ2h0cy5sZW5ndGg+MHx8dGhpcy5mb250U3R5bGVzLmxlbmd0aD4wP3RoaXMudXBkYXRlTGluZShlW2FdLGcseSk6KHRoaXMuc3R5bGUuc3Ryb2tlJiZ0aGlzLnN0eWxlLnN0cm9rZVRoaWNrbmVzcyYmKHRoaXMudXBkYXRlU2hhZG93KHRoaXMuc3R5bGUuc2hhZG93U3Ryb2tlKSwwPT09aT90aGlzLmNvbnRleHQuc3Ryb2tlVGV4dChlW2FdLGcseSk6dGhpcy5yZW5kZXJUYWJMaW5lKGVbYV0sZyx5LCExKSksdGhpcy5zdHlsZS5maWxsJiYodGhpcy51cGRhdGVTaGFkb3codGhpcy5zdHlsZS5zaGFkb3dGaWxsKSwwPT09aT90aGlzLmNvbnRleHQuZmlsbFRleHQoZVthXSxnLHkpOnRoaXMucmVuZGVyVGFiTGluZShlW2FdLGcseSwhMCkpKTt0aGlzLnVwZGF0ZVRleHR1cmUoKSx0aGlzLmRpcnR5PSExfSxpLlRleHQucHJvdG90eXBlLnJlbmRlclRhYkxpbmU9ZnVuY3Rpb24odCxlLGkscyl7dmFyIG49dC5zcGxpdCgvKD86XFx0KS8pLG89dGhpcy5zdHlsZS50YWJzLHI9MDtpZihBcnJheS5pc0FycmF5KG8pKWZvcih2YXIgYT0wLGg9MDtoPG4ubGVuZ3RoO2grKyloPjAmJihhKz1vW2gtMV0pLHI9ZSthLHM/dGhpcy5jb250ZXh0LmZpbGxUZXh0KG5baF0scixpKTp0aGlzLmNvbnRleHQuc3Ryb2tlVGV4dChuW2hdLHIsaSk7ZWxzZSBmb3IoaD0wO2g8bi5sZW5ndGg7aCsrKXt2YXIgbD1NYXRoLmNlaWwodGhpcy5jb250ZXh0Lm1lYXN1cmVUZXh0KG5baF0pLndpZHRoKTtyPXRoaXMuZ2FtZS5tYXRoLnNuYXBUb0NlaWwoZSxvKSxzP3RoaXMuY29udGV4dC5maWxsVGV4dChuW2hdLHIsaSk6dGhpcy5jb250ZXh0LnN0cm9rZVRleHQobltoXSxyLGkpLGU9citsfX0saS5UZXh0LnByb3RvdHlwZS51cGRhdGVTaGFkb3c9ZnVuY3Rpb24odCl7dD8odGhpcy5jb250ZXh0LnNoYWRvd09mZnNldFg9dGhpcy5zdHlsZS5zaGFkb3dPZmZzZXRYLHRoaXMuY29udGV4dC5zaGFkb3dPZmZzZXRZPXRoaXMuc3R5bGUuc2hhZG93T2Zmc2V0WSx0aGlzLmNvbnRleHQuc2hhZG93Q29sb3I9dGhpcy5zdHlsZS5zaGFkb3dDb2xvcix0aGlzLmNvbnRleHQuc2hhZG93Qmx1cj10aGlzLnN0eWxlLnNoYWRvd0JsdXIpOih0aGlzLmNvbnRleHQuc2hhZG93T2Zmc2V0WD0wLHRoaXMuY29udGV4dC5zaGFkb3dPZmZzZXRZPTAsdGhpcy5jb250ZXh0LnNoYWRvd0NvbG9yPTAsdGhpcy5jb250ZXh0LnNoYWRvd0JsdXI9MCl9LGkuVGV4dC5wcm90b3R5cGUubWVhc3VyZUxpbmU9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTAsaT0wO2k8dC5sZW5ndGg7aSsrKXt2YXIgcz10W2ldO2lmKHRoaXMuZm9udFdlaWdodHMubGVuZ3RoPjB8fHRoaXMuZm9udFN0eWxlcy5sZW5ndGg+MCl7dmFyIG49dGhpcy5mb250VG9Db21wb25lbnRzKHRoaXMuY29udGV4dC5mb250KTt0aGlzLmZvbnRTdHlsZXNbdGhpcy5fY2hhckNvdW50XSYmKG4uZm9udFN0eWxlPXRoaXMuZm9udFN0eWxlc1t0aGlzLl9jaGFyQ291bnRdKSx0aGlzLmZvbnRXZWlnaHRzW3RoaXMuX2NoYXJDb3VudF0mJihuLmZvbnRXZWlnaHQ9dGhpcy5mb250V2VpZ2h0c1t0aGlzLl9jaGFyQ291bnRdKSx0aGlzLmNvbnRleHQuZm9udD10aGlzLmNvbXBvbmVudHNUb0ZvbnQobil9dGhpcy5zdHlsZS5zdHJva2UmJnRoaXMuc3R5bGUuc3Ryb2tlVGhpY2tuZXNzJiYodGhpcy5zdHJva2VDb2xvcnNbdGhpcy5fY2hhckNvdW50XSYmKHRoaXMuY29udGV4dC5zdHJva2VTdHlsZT10aGlzLnN0cm9rZUNvbG9yc1t0aGlzLl9jaGFyQ291bnRdKSx0aGlzLnVwZGF0ZVNoYWRvdyh0aGlzLnN0eWxlLnNoYWRvd1N0cm9rZSkpLHRoaXMuc3R5bGUuZmlsbCYmKHRoaXMuY29sb3JzW3RoaXMuX2NoYXJDb3VudF0mJih0aGlzLmNvbnRleHQuZmlsbFN0eWxlPXRoaXMuY29sb3JzW3RoaXMuX2NoYXJDb3VudF0pLHRoaXMudXBkYXRlU2hhZG93KHRoaXMuc3R5bGUuc2hhZG93RmlsbCkpLGUrPXRoaXMuY29udGV4dC5tZWFzdXJlVGV4dChzKS53aWR0aCx0aGlzLl9jaGFyQ291bnQrK31yZXR1cm4gTWF0aC5jZWlsKGUpfSxpLlRleHQucHJvdG90eXBlLnVwZGF0ZUxpbmU9ZnVuY3Rpb24odCxlLGkpe2Zvcih2YXIgcz0wO3M8dC5sZW5ndGg7cysrKXt2YXIgbj10W3NdO2lmKHRoaXMuZm9udFdlaWdodHMubGVuZ3RoPjB8fHRoaXMuZm9udFN0eWxlcy5sZW5ndGg+MCl7dmFyIG89dGhpcy5mb250VG9Db21wb25lbnRzKHRoaXMuY29udGV4dC5mb250KTt0aGlzLmZvbnRTdHlsZXNbdGhpcy5fY2hhckNvdW50XSYmKG8uZm9udFN0eWxlPXRoaXMuZm9udFN0eWxlc1t0aGlzLl9jaGFyQ291bnRdKSx0aGlzLmZvbnRXZWlnaHRzW3RoaXMuX2NoYXJDb3VudF0mJihvLmZvbnRXZWlnaHQ9dGhpcy5mb250V2VpZ2h0c1t0aGlzLl9jaGFyQ291bnRdKSx0aGlzLmNvbnRleHQuZm9udD10aGlzLmNvbXBvbmVudHNUb0ZvbnQobyl9dGhpcy5zdHlsZS5zdHJva2UmJnRoaXMuc3R5bGUuc3Ryb2tlVGhpY2tuZXNzJiYodGhpcy5zdHJva2VDb2xvcnNbdGhpcy5fY2hhckNvdW50XSYmKHRoaXMuY29udGV4dC5zdHJva2VTdHlsZT10aGlzLnN0cm9rZUNvbG9yc1t0aGlzLl9jaGFyQ291bnRdKSx0aGlzLnVwZGF0ZVNoYWRvdyh0aGlzLnN0eWxlLnNoYWRvd1N0cm9rZSksdGhpcy5jb250ZXh0LnN0cm9rZVRleHQobixlLGkpKSx0aGlzLnN0eWxlLmZpbGwmJih0aGlzLmNvbG9yc1t0aGlzLl9jaGFyQ291bnRdJiYodGhpcy5jb250ZXh0LmZpbGxTdHlsZT10aGlzLmNvbG9yc1t0aGlzLl9jaGFyQ291bnRdKSx0aGlzLnVwZGF0ZVNoYWRvdyh0aGlzLnN0eWxlLnNoYWRvd0ZpbGwpLHRoaXMuY29udGV4dC5maWxsVGV4dChuLGUsaSkpLGUrPXRoaXMuY29udGV4dC5tZWFzdXJlVGV4dChuKS53aWR0aCx0aGlzLl9jaGFyQ291bnQrK319LGkuVGV4dC5wcm90b3R5cGUuY2xlYXJDb2xvcnM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb2xvcnM9W10sdGhpcy5zdHJva2VDb2xvcnM9W10sdGhpcy5kaXJ0eT0hMCx0aGlzfSxpLlRleHQucHJvdG90eXBlLmNsZWFyRm9udFZhbHVlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmZvbnRTdHlsZXM9W10sdGhpcy5mb250V2VpZ2h0cz1bXSx0aGlzLmRpcnR5PSEwLHRoaXN9LGkuVGV4dC5wcm90b3R5cGUuYWRkQ29sb3I9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5jb2xvcnNbZV09dCx0aGlzLmRpcnR5PSEwLHRoaXN9LGkuVGV4dC5wcm90b3R5cGUuYWRkU3Ryb2tlQ29sb3I9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5zdHJva2VDb2xvcnNbZV09dCx0aGlzLmRpcnR5PSEwLHRoaXN9LGkuVGV4dC5wcm90b3R5cGUuYWRkRm9udFN0eWxlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuZm9udFN0eWxlc1tlXT10LHRoaXMuZGlydHk9ITAsdGhpc30saS5UZXh0LnByb3RvdHlwZS5hZGRGb250V2VpZ2h0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuZm9udFdlaWdodHNbZV09dCx0aGlzLmRpcnR5PSEwLHRoaXN9LGkuVGV4dC5wcm90b3R5cGUucHJlY2FsY3VsYXRlV29yZFdyYXA9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMudGV4dHVyZS5iYXNlVGV4dHVyZS5yZXNvbHV0aW9uPXRoaXMuX3Jlcyx0aGlzLmNvbnRleHQuZm9udD10aGlzLnN0eWxlLmZvbnQsdGhpcy5ydW5Xb3JkV3JhcCh0KS5zcGxpdCgvKD86XFxyXFxufFxccnxcXG4pLyl9LGkuVGV4dC5wcm90b3R5cGUucnVuV29yZFdyYXA9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMudXNlQWR2YW5jZWRXcmFwP3RoaXMuYWR2YW5jZWRXb3JkV3JhcCh0KTp0aGlzLmJhc2ljV29yZFdyYXAodCl9LGkuVGV4dC5wcm90b3R5cGUuYWR2YW5jZWRXb3JkV3JhcD1mdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy5jb250ZXh0LGk9dGhpcy5zdHlsZS53b3JkV3JhcFdpZHRoLHM9XCJcIixuPXQucmVwbGFjZSgvICsvZ2ksXCIgXCIpLnNwbGl0KC9cXHI/XFxuL2dpKSxvPW4ubGVuZ3RoLHI9MDtyPG87cisrKXt2YXIgYT1uW3JdLGg9XCJcIjtpZihhPWEucmVwbGFjZSgvXiAqfFxccyokL2dpLFwiXCIpLGUubWVhc3VyZVRleHQoYSkud2lkdGg8aSlzKz1hK1wiXFxuXCI7ZWxzZXtmb3IodmFyIGw9aSxjPWEuc3BsaXQoXCIgXCIpLHU9MDt1PGMubGVuZ3RoO3UrKyl7dmFyIGQ9Y1t1XSxwPWQrXCIgXCIsZj1lLm1lYXN1cmVUZXh0KHApLndpZHRoO2lmKGY+bCl7aWYoMD09PXUpe2Zvcih2YXIgbT1wO20ubGVuZ3RoJiYobT1tLnNsaWNlKDAsLTEpLCEoKGY9ZS5tZWFzdXJlVGV4dChtKS53aWR0aCk8PWwpKTspO2lmKCFtLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJUaGlzIHRleHQncyB3b3JkV3JhcFdpZHRoIHNldHRpbmcgaXMgbGVzcyB0aGFuIGEgc2luZ2xlIGNoYXJhY3RlciFcIik7dmFyIGc9ZC5zdWJzdHIobS5sZW5ndGgpO2NbdV09ZyxoKz1tfXZhciB5PWNbdV0ubGVuZ3RoP3U6dSsxLHY9Yy5zbGljZSh5KS5qb2luKFwiIFwiKS5yZXBsYWNlKC9bIFxcbl0qJC9naSxcIlwiKTtuW3IrMV09ditcIiBcIisobltyKzFdfHxcIlwiKSxvPW4ubGVuZ3RoO2JyZWFrfWgrPXAsbC09Zn1zKz1oLnJlcGxhY2UoL1sgXFxuXSokL2dpLFwiXCIpK1wiXFxuXCJ9fXJldHVybiBzPXMucmVwbGFjZSgvW1xcc3xcXG5dKiQvZ2ksXCJcIil9LGkuVGV4dC5wcm90b3R5cGUuYmFzaWNXb3JkV3JhcD1mdW5jdGlvbih0KXtmb3IodmFyIGU9XCJcIixpPXQuc3BsaXQoXCJcXG5cIikscz0wO3M8aS5sZW5ndGg7cysrKXtmb3IodmFyIG49dGhpcy5zdHlsZS53b3JkV3JhcFdpZHRoLG89aVtzXS5zcGxpdChcIiBcIikscj0wO3I8by5sZW5ndGg7cisrKXt2YXIgYT10aGlzLmNvbnRleHQubWVhc3VyZVRleHQob1tyXSkud2lkdGgsaD1hK3RoaXMuY29udGV4dC5tZWFzdXJlVGV4dChcIiBcIikud2lkdGg7aD5uPyhyPjAmJihlKz1cIlxcblwiKSxlKz1vW3JdK1wiIFwiLG49dGhpcy5zdHlsZS53b3JkV3JhcFdpZHRoLWEpOihuLT1oLGUrPW9bcl0rXCIgXCIpfXM8aS5sZW5ndGgtMSYmKGUrPVwiXFxuXCIpfXJldHVybiBlfSxpLlRleHQucHJvdG90eXBlLnVwZGF0ZUZvbnQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5jb21wb25lbnRzVG9Gb250KHQpO3RoaXMuc3R5bGUuZm9udCE9PWUmJih0aGlzLnN0eWxlLmZvbnQ9ZSx0aGlzLmRpcnR5PSEwLHRoaXMucGFyZW50JiZ0aGlzLnVwZGF0ZVRyYW5zZm9ybSgpKX0saS5UZXh0LnByb3RvdHlwZS5mb250VG9Db21wb25lbnRzPWZ1bmN0aW9uKHQpe3ZhciBlPXQubWF0Y2goL15cXHMqKD86XFxiKG5vcm1hbHxpdGFsaWN8b2JsaXF1ZXxpbmhlcml0KT9cXGIpXFxzKig/OlxcYihub3JtYWx8c21hbGwtY2Fwc3xpbmhlcml0KT9cXGIpXFxzKig/OlxcYihub3JtYWx8Ym9sZHxib2xkZXJ8bGlnaHRlcnwxMDB8MjAwfDMwMHw0MDB8NTAwfDYwMHw3MDB8ODAwfDkwMHxpbmhlcml0KT9cXGIpXFxzKig/OlxcYih4eC1zbWFsbHx4LXNtYWxsfHNtYWxsfG1lZGl1bXxsYXJnZXx4LWxhcmdlfHh4LWxhcmdlfGxhcmdlcnxzbWFsbGVyfDB8XFxkKig/OlsuXVxcZCopPyg/OiV8W2Etel17Miw1fSkpP1xcYilcXHMqKC4qKVxccyokLyk7aWYoZSl7dmFyIGk9ZVs1XS50cmltKCk7cmV0dXJuL14oPzppbmhlcml0fHNlcmlmfHNhbnMtc2VyaWZ8Y3Vyc2l2ZXxmYW50YXN5fG1vbm9zcGFjZSkkLy5leGVjKGkpfHwvWydcIixdLy5leGVjKGkpfHwoaT1cIidcIitpK1wiJ1wiKSx7Zm9udDp0LGZvbnRTdHlsZTplWzFdfHxcIm5vcm1hbFwiLGZvbnRWYXJpYW50OmVbMl18fFwibm9ybWFsXCIsZm9udFdlaWdodDplWzNdfHxcIm5vcm1hbFwiLGZvbnRTaXplOmVbNF18fFwibWVkaXVtXCIsZm9udEZhbWlseTppfX1yZXR1cm4gY29uc29sZS53YXJuKFwiUGhhc2VyLlRleHQgLSB1bnBhcnNhYmxlIENTUyBmb250OiBcIit0KSx7Zm9udDp0fX0saS5UZXh0LnByb3RvdHlwZS5jb21wb25lbnRzVG9Gb250PWZ1bmN0aW9uKHQpe3ZhciBlLGk9W107cmV0dXJuKGU9dC5mb250U3R5bGUpJiZcIm5vcm1hbFwiIT09ZSYmaS5wdXNoKGUpLChlPXQuZm9udFZhcmlhbnQpJiZcIm5vcm1hbFwiIT09ZSYmaS5wdXNoKGUpLChlPXQuZm9udFdlaWdodCkmJlwibm9ybWFsXCIhPT1lJiZpLnB1c2goZSksKGU9dC5mb250U2l6ZSkmJlwibWVkaXVtXCIhPT1lJiZpLnB1c2goZSksKGU9dC5mb250RmFtaWx5KSYmaS5wdXNoKGUpLGkubGVuZ3RofHxpLnB1c2godC5mb250KSxpLmpvaW4oXCIgXCIpfSxpLlRleHQucHJvdG90eXBlLnNldFRleHQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9ITEpLHRoaXMudGV4dD10LnRvU3RyaW5nKCl8fFwiXCIsZT90aGlzLnVwZGF0ZVRleHQoKTp0aGlzLmRpcnR5PSEwLHRoaXN9LGkuVGV4dC5wcm90b3R5cGUucGFyc2VMaXN0PWZ1bmN0aW9uKHQpe2lmKCFBcnJheS5pc0FycmF5KHQpKXJldHVybiB0aGlzO2Zvcih2YXIgZT1cIlwiLGk9MDtpPHQubGVuZ3RoO2krKylBcnJheS5pc0FycmF5KHRbaV0pPyhlKz10W2ldLmpvaW4oXCJcXHRcIiksaTx0Lmxlbmd0aC0xJiYoZSs9XCJcXG5cIikpOihlKz10W2ldLGk8dC5sZW5ndGgtMSYmKGUrPVwiXFx0XCIpKTtyZXR1cm4gdGhpcy50ZXh0PWUsdGhpcy5kaXJ0eT0hMCx0aGlzfSxpLlRleHQucHJvdG90eXBlLnNldFRleHRCb3VuZHM9ZnVuY3Rpb24odCxlLHMsbil7cmV0dXJuIHZvaWQgMD09PXQ/dGhpcy50ZXh0Qm91bmRzPW51bGw6KHRoaXMudGV4dEJvdW5kcz90aGlzLnRleHRCb3VuZHMuc2V0VG8odCxlLHMsbik6dGhpcy50ZXh0Qm91bmRzPW5ldyBpLlJlY3RhbmdsZSh0LGUscyxuKSx0aGlzLnN0eWxlLndvcmRXcmFwV2lkdGg+cyYmKHRoaXMuc3R5bGUud29yZFdyYXBXaWR0aD1zKSksdGhpcy51cGRhdGVUZXh0dXJlKCksdGhpc30saS5UZXh0LnByb3RvdHlwZS51cGRhdGVUZXh0dXJlPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy50ZXh0dXJlLmJhc2VUZXh0dXJlLGU9dGhpcy50ZXh0dXJlLmNyb3AsaT10aGlzLnRleHR1cmUuZnJhbWUscz10aGlzLmNhbnZhcy53aWR0aCxuPXRoaXMuY2FudmFzLmhlaWdodDtpZih0LndpZHRoPXMsdC5oZWlnaHQ9bixlLndpZHRoPXMsZS5oZWlnaHQ9bixpLndpZHRoPXMsaS5oZWlnaHQ9bix0aGlzLnRleHR1cmUud2lkdGg9cyx0aGlzLnRleHR1cmUuaGVpZ2h0PW4sdGhpcy5fd2lkdGg9cyx0aGlzLl9oZWlnaHQ9bix0aGlzLnRleHRCb3VuZHMpe3ZhciBvPXRoaXMudGV4dEJvdW5kcy54LHI9dGhpcy50ZXh0Qm91bmRzLnk7XCJyaWdodFwiPT09dGhpcy5zdHlsZS5ib3VuZHNBbGlnbkg/bys9dGhpcy50ZXh0Qm91bmRzLndpZHRoLXRoaXMuY2FudmFzLndpZHRoL3RoaXMucmVzb2x1dGlvbjpcImNlbnRlclwiPT09dGhpcy5zdHlsZS5ib3VuZHNBbGlnbkgmJihvKz10aGlzLnRleHRCb3VuZHMuaGFsZldpZHRoLXRoaXMuY2FudmFzLndpZHRoL3RoaXMucmVzb2x1dGlvbi8yKSxcImJvdHRvbVwiPT09dGhpcy5zdHlsZS5ib3VuZHNBbGlnblY/cis9dGhpcy50ZXh0Qm91bmRzLmhlaWdodC10aGlzLmNhbnZhcy5oZWlnaHQvdGhpcy5yZXNvbHV0aW9uOlwibWlkZGxlXCI9PT10aGlzLnN0eWxlLmJvdW5kc0FsaWduViYmKHIrPXRoaXMudGV4dEJvdW5kcy5oYWxmSGVpZ2h0LXRoaXMuY2FudmFzLmhlaWdodC90aGlzLnJlc29sdXRpb24vMiksdGhpcy5waXZvdC54PS1vLHRoaXMucGl2b3QueT0tcn10aGlzLnJlbmRlcmFibGU9MCE9PXMmJjAhPT1uLHRoaXMudGV4dHVyZS5yZXF1aXJlc1JlVGludD0hMCx0aGlzLnRleHR1cmUuYmFzZVRleHR1cmUuZGlydHkoKX0saS5UZXh0LnByb3RvdHlwZS5fcmVuZGVyV2ViR0w9ZnVuY3Rpb24odCl7dGhpcy5kaXJ0eSYmKHRoaXMudXBkYXRlVGV4dCgpLHRoaXMuZGlydHk9ITEpLFBJWEkuU3ByaXRlLnByb3RvdHlwZS5fcmVuZGVyV2ViR0wuY2FsbCh0aGlzLHQpfSxpLlRleHQucHJvdG90eXBlLl9yZW5kZXJDYW52YXM9ZnVuY3Rpb24odCl7dGhpcy5kaXJ0eSYmKHRoaXMudXBkYXRlVGV4dCgpLHRoaXMuZGlydHk9ITEpLFBJWEkuU3ByaXRlLnByb3RvdHlwZS5fcmVuZGVyQ2FudmFzLmNhbGwodGhpcyx0KX0saS5UZXh0LnByb3RvdHlwZS5kZXRlcm1pbmVGb250UHJvcGVydGllcz1mdW5jdGlvbih0KXt2YXIgZT1pLlRleHQuZm9udFByb3BlcnRpZXNDYWNoZVt0XTtpZighZSl7ZT17fTt2YXIgcz1pLlRleHQuZm9udFByb3BlcnRpZXNDYW52YXMsbj1pLlRleHQuZm9udFByb3BlcnRpZXNDb250ZXh0O24uZm9udD10O3ZhciBvPU1hdGguY2VpbChuLm1lYXN1cmVUZXh0KFwifE3DiXFcIikud2lkdGgpLHI9TWF0aC5jZWlsKG4ubWVhc3VyZVRleHQoXCJ8TcOJcVwiKS53aWR0aCksYT0yKnI7aWYocj0xLjQqcnwwLHMud2lkdGg9byxzLmhlaWdodD1hLG4uZmlsbFN0eWxlPVwiI2YwMFwiLG4uZmlsbFJlY3QoMCwwLG8sYSksbi5mb250PXQsbi50ZXh0QmFzZWxpbmU9XCJhbHBoYWJldGljXCIsbi5maWxsU3R5bGU9XCIjMDAwXCIsbi5maWxsVGV4dChcInxNw4lxXCIsMCxyKSwhbi5nZXRJbWFnZURhdGEoMCwwLG8sYSkpcmV0dXJuIGUuYXNjZW50PXIsZS5kZXNjZW50PXIrNixlLmZvbnRTaXplPWUuYXNjZW50K2UuZGVzY2VudCxpLlRleHQuZm9udFByb3BlcnRpZXNDYWNoZVt0XT1lLGU7dmFyIGgsbCxjPW4uZ2V0SW1hZ2VEYXRhKDAsMCxvLGEpLmRhdGEsdT1jLmxlbmd0aCxkPTQqbyxwPTAsZj0hMTtmb3IoaD0wO2g8cjtoKyspe2ZvcihsPTA7bDxkO2wrPTQpaWYoMjU1IT09Y1twK2xdKXtmPSEwO2JyZWFrfWlmKGYpYnJlYWs7cCs9ZH1mb3IoZS5hc2NlbnQ9ci1oLHA9dS1kLGY9ITEsaD1hO2g+cjtoLS0pe2ZvcihsPTA7bDxkO2wrPTQpaWYoMjU1IT09Y1twK2xdKXtmPSEwO2JyZWFrfWlmKGYpYnJlYWs7cC09ZH1lLmRlc2NlbnQ9aC1yLGUuZGVzY2VudCs9NixlLmZvbnRTaXplPWUuYXNjZW50K2UuZGVzY2VudCxpLlRleHQuZm9udFByb3BlcnRpZXNDYWNoZVt0XT1lfXJldHVybiBlfSxpLlRleHQucHJvdG90eXBlLmdldEJvdW5kcz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5kaXJ0eSYmKHRoaXMudXBkYXRlVGV4dCgpLHRoaXMuZGlydHk9ITEpLFBJWEkuU3ByaXRlLnByb3RvdHlwZS5nZXRCb3VuZHMuY2FsbCh0aGlzLHQpfSxpLlRleHQucHJvdG90eXBlLnNldENoYXJhY3RlckxpbWl0PWZ1bmN0aW9uKHQsZSl7dGhpcy5jaGFyYWN0ZXJMaW1pdFN1ZmZpeD12b2lkIDA9PT1lP1wiXCI6ZSx0aGlzLmNoYXJhY3RlckxpbWl0U2l6ZT10LHRoaXMudXBkYXRlVGV4dCgpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5UZXh0LnByb3RvdHlwZSxcInRleHRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RleHR9LHNldDpmdW5jdGlvbih0KXt0IT09dGhpcy5fdGV4dCYmKHRoaXMuX3RleHQ9dC50b1N0cmluZygpfHxcIlwiLHRoaXMuZGlydHk9ITAsdGhpcy5wYXJlbnQmJnRoaXMudXBkYXRlVHJhbnNmb3JtKCkpfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLlRleHQucHJvdG90eXBlLFwiY3NzRm9udFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb21wb25lbnRzVG9Gb250KHRoaXMuX2ZvbnRDb21wb25lbnRzKX0sc2V0OmZ1bmN0aW9uKHQpe3Q9dHx8XCJib2xkIDIwcHQgQXJpYWxcIix0aGlzLl9mb250Q29tcG9uZW50cz10aGlzLmZvbnRUb0NvbXBvbmVudHModCksdGhpcy51cGRhdGVGb250KHRoaXMuX2ZvbnRDb21wb25lbnRzKX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5UZXh0LnByb3RvdHlwZSxcImZvbnRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ZvbnRDb21wb25lbnRzLmZvbnRGYW1pbHl9LHNldDpmdW5jdGlvbih0KXt0PSh0PXR8fFwiQXJpYWxcIikudHJpbSgpLC9eKD86aW5oZXJpdHxzZXJpZnxzYW5zLXNlcmlmfGN1cnNpdmV8ZmFudGFzeXxtb25vc3BhY2UpJC8uZXhlYyh0KXx8L1snXCIsXS8uZXhlYyh0KXx8KHQ9XCInXCIrdCtcIidcIiksdGhpcy5fZm9udENvbXBvbmVudHMuZm9udEZhbWlseT10LHRoaXMudXBkYXRlRm9udCh0aGlzLl9mb250Q29tcG9uZW50cyl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuVGV4dC5wcm90b3R5cGUsXCJmb250U2l6ZVwiLHtnZXQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9mb250Q29tcG9uZW50cy5mb250U2l6ZTtyZXR1cm4gdCYmLyg/Ol4wJHxweCQpLy5leGVjKHQpP3BhcnNlSW50KHQsMTApOnR9LHNldDpmdW5jdGlvbih0KXtcIm51bWJlclwiPT10eXBlb2YodD10fHxcIjBcIikmJih0Kz1cInB4XCIpLHRoaXMuX2ZvbnRDb21wb25lbnRzLmZvbnRTaXplPXQsdGhpcy51cGRhdGVGb250KHRoaXMuX2ZvbnRDb21wb25lbnRzKX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5UZXh0LnByb3RvdHlwZSxcImZvbnRXZWlnaHRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ZvbnRDb21wb25lbnRzLmZvbnRXZWlnaHR8fFwibm9ybWFsXCJ9LHNldDpmdW5jdGlvbih0KXt0PXR8fFwibm9ybWFsXCIsdGhpcy5fZm9udENvbXBvbmVudHMuZm9udFdlaWdodD10LHRoaXMudXBkYXRlRm9udCh0aGlzLl9mb250Q29tcG9uZW50cyl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuVGV4dC5wcm90b3R5cGUsXCJmb250U3R5bGVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ZvbnRDb21wb25lbnRzLmZvbnRTdHlsZXx8XCJub3JtYWxcIn0sc2V0OmZ1bmN0aW9uKHQpe3Q9dHx8XCJub3JtYWxcIix0aGlzLl9mb250Q29tcG9uZW50cy5mb250U3R5bGU9dCx0aGlzLnVwZGF0ZUZvbnQodGhpcy5fZm9udENvbXBvbmVudHMpfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLlRleHQucHJvdG90eXBlLFwiZm9udFZhcmlhbnRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ZvbnRDb21wb25lbnRzLmZvbnRWYXJpYW50fHxcIm5vcm1hbFwifSxzZXQ6ZnVuY3Rpb24odCl7dD10fHxcIm5vcm1hbFwiLHRoaXMuX2ZvbnRDb21wb25lbnRzLmZvbnRWYXJpYW50PXQsdGhpcy51cGRhdGVGb250KHRoaXMuX2ZvbnRDb21wb25lbnRzKX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5UZXh0LnByb3RvdHlwZSxcImZpbGxcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3R5bGUuZmlsbH0sc2V0OmZ1bmN0aW9uKHQpe3QhPT10aGlzLnN0eWxlLmZpbGwmJih0aGlzLnN0eWxlLmZpbGw9dCx0aGlzLmRpcnR5PSEwKX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5UZXh0LnByb3RvdHlwZSxcImFsaWduXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnN0eWxlLmFsaWdufSxzZXQ6ZnVuY3Rpb24odCl7KHQ9dC50b0xvd2VyQ2FzZSgpKSE9PXRoaXMuc3R5bGUuYWxpZ24mJih0aGlzLnN0eWxlLmFsaWduPXQsdGhpcy5kaXJ0eT0hMCl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuVGV4dC5wcm90b3R5cGUsXCJyZXNvbHV0aW9uXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9yZXN9LHNldDpmdW5jdGlvbih0KXt0IT09dGhpcy5fcmVzJiYodGhpcy5fcmVzPXQsdGhpcy5kaXJ0eT0hMCl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuVGV4dC5wcm90b3R5cGUsXCJ0YWJzXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnN0eWxlLnRhYnN9LHNldDpmdW5jdGlvbih0KXt0IT09dGhpcy5zdHlsZS50YWJzJiYodGhpcy5zdHlsZS50YWJzPXQsdGhpcy5kaXJ0eT0hMCl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuVGV4dC5wcm90b3R5cGUsXCJib3VuZHNBbGlnbkhcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3R5bGUuYm91bmRzQWxpZ25IfSxzZXQ6ZnVuY3Rpb24odCl7KHQ9dC50b0xvd2VyQ2FzZSgpKSE9PXRoaXMuc3R5bGUuYm91bmRzQWxpZ25IJiYodGhpcy5zdHlsZS5ib3VuZHNBbGlnbkg9dCx0aGlzLmRpcnR5PSEwKX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5UZXh0LnByb3RvdHlwZSxcImJvdW5kc0FsaWduVlwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdHlsZS5ib3VuZHNBbGlnblZ9LHNldDpmdW5jdGlvbih0KXsodD10LnRvTG93ZXJDYXNlKCkpIT09dGhpcy5zdHlsZS5ib3VuZHNBbGlnblYmJih0aGlzLnN0eWxlLmJvdW5kc0FsaWduVj10LHRoaXMuZGlydHk9ITApfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLlRleHQucHJvdG90eXBlLFwic3Ryb2tlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnN0eWxlLnN0cm9rZX0sc2V0OmZ1bmN0aW9uKHQpe3QhPT10aGlzLnN0eWxlLnN0cm9rZSYmKHRoaXMuc3R5bGUuc3Ryb2tlPXQsdGhpcy5kaXJ0eT0hMCl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuVGV4dC5wcm90b3R5cGUsXCJzdHJva2VUaGlja25lc3NcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3R5bGUuc3Ryb2tlVGhpY2tuZXNzfSxzZXQ6ZnVuY3Rpb24odCl7dCE9PXRoaXMuc3R5bGUuc3Ryb2tlVGhpY2tuZXNzJiYodGhpcy5zdHlsZS5zdHJva2VUaGlja25lc3M9TnVtYmVyKHQpLHRoaXMuZGlydHk9ITApfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLlRleHQucHJvdG90eXBlLFwid29yZFdyYXBcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3R5bGUud29yZFdyYXB9LHNldDpmdW5jdGlvbih0KXt0IT09dGhpcy5zdHlsZS53b3JkV3JhcCYmKHRoaXMuc3R5bGUud29yZFdyYXA9dCx0aGlzLmRpcnR5PSEwKX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5UZXh0LnByb3RvdHlwZSxcIndvcmRXcmFwV2lkdGhcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3R5bGUud29yZFdyYXBXaWR0aH0sc2V0OmZ1bmN0aW9uKHQpe3QhPT10aGlzLnN0eWxlLndvcmRXcmFwV2lkdGgmJih0aGlzLnN0eWxlLndvcmRXcmFwV2lkdGg9dCx0aGlzLmRpcnR5PSEwKX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5UZXh0LnByb3RvdHlwZSxcImxpbmVTcGFjaW5nXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9saW5lU3BhY2luZ30sc2V0OmZ1bmN0aW9uKHQpe3QhPT10aGlzLl9saW5lU3BhY2luZyYmKHRoaXMuX2xpbmVTcGFjaW5nPXBhcnNlRmxvYXQodCksdGhpcy5kaXJ0eT0hMCx0aGlzLnBhcmVudCYmdGhpcy51cGRhdGVUcmFuc2Zvcm0oKSl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuVGV4dC5wcm90b3R5cGUsXCJzaGFkb3dPZmZzZXRYXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnN0eWxlLnNoYWRvd09mZnNldFh9LHNldDpmdW5jdGlvbih0KXt0IT09dGhpcy5zdHlsZS5zaGFkb3dPZmZzZXRYJiYodGhpcy5zdHlsZS5zaGFkb3dPZmZzZXRYPXQsdGhpcy5kaXJ0eT0hMCl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuVGV4dC5wcm90b3R5cGUsXCJzaGFkb3dPZmZzZXRZXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnN0eWxlLnNoYWRvd09mZnNldFl9LHNldDpmdW5jdGlvbih0KXt0IT09dGhpcy5zdHlsZS5zaGFkb3dPZmZzZXRZJiYodGhpcy5zdHlsZS5zaGFkb3dPZmZzZXRZPXQsdGhpcy5kaXJ0eT0hMCl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuVGV4dC5wcm90b3R5cGUsXCJzaGFkb3dDb2xvclwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdHlsZS5zaGFkb3dDb2xvcn0sc2V0OmZ1bmN0aW9uKHQpe3QhPT10aGlzLnN0eWxlLnNoYWRvd0NvbG9yJiYodGhpcy5zdHlsZS5zaGFkb3dDb2xvcj10LHRoaXMuZGlydHk9ITApfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLlRleHQucHJvdG90eXBlLFwic2hhZG93Qmx1clwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdHlsZS5zaGFkb3dCbHVyfSxzZXQ6ZnVuY3Rpb24odCl7dCE9PXRoaXMuc3R5bGUuc2hhZG93Qmx1ciYmKHRoaXMuc3R5bGUuc2hhZG93Qmx1cj10LHRoaXMuZGlydHk9ITApfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLlRleHQucHJvdG90eXBlLFwic2hhZG93U3Ryb2tlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnN0eWxlLnNoYWRvd1N0cm9rZX0sc2V0OmZ1bmN0aW9uKHQpe3QhPT10aGlzLnN0eWxlLnNoYWRvd1N0cm9rZSYmKHRoaXMuc3R5bGUuc2hhZG93U3Ryb2tlPXQsdGhpcy5kaXJ0eT0hMCl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuVGV4dC5wcm90b3R5cGUsXCJzaGFkb3dGaWxsXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnN0eWxlLnNoYWRvd0ZpbGx9LHNldDpmdW5jdGlvbih0KXt0IT09dGhpcy5zdHlsZS5zaGFkb3dGaWxsJiYodGhpcy5zdHlsZS5zaGFkb3dGaWxsPXQsdGhpcy5kaXJ0eT0hMCl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuVGV4dC5wcm90b3R5cGUsXCJ3aWR0aFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kaXJ0eSYmKHRoaXMudXBkYXRlVGV4dCgpLHRoaXMuZGlydHk9ITEpLHRoaXMuc2NhbGUueCoodGhpcy50ZXh0dXJlLmZyYW1lLndpZHRoL3RoaXMucmVzb2x1dGlvbil9LHNldDpmdW5jdGlvbih0KXt0aGlzLnNjYWxlLng9dC90aGlzLnRleHR1cmUuZnJhbWUud2lkdGgsdGhpcy5fd2lkdGg9dH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5UZXh0LnByb3RvdHlwZSxcImhlaWdodFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kaXJ0eSYmKHRoaXMudXBkYXRlVGV4dCgpLHRoaXMuZGlydHk9ITEpLHRoaXMuc2NhbGUueSoodGhpcy50ZXh0dXJlLmZyYW1lLmhlaWdodC90aGlzLnJlc29sdXRpb24pfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5zY2FsZS55PXQvdGhpcy50ZXh0dXJlLmZyYW1lLmhlaWdodCx0aGlzLl9oZWlnaHQ9dH19KSxpLlRleHQuZm9udFByb3BlcnRpZXNDYWNoZT17fSxpLlRleHQuZm9udFByb3BlcnRpZXNDYW52YXM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKSxpLlRleHQuZm9udFByb3BlcnRpZXNDb250ZXh0PWkuVGV4dC5mb250UHJvcGVydGllc0NhbnZhcy5nZXRDb250ZXh0KFwiMmRcIiksaS5CaXRtYXBUZXh0PWZ1bmN0aW9uKHQsZSxzLG4sbyxyLGEpe2U9ZXx8MCxzPXN8fDAsbj1ufHxcIlwiLG89b3x8XCJcIixyPXJ8fDMyLGE9YXx8XCJsZWZ0XCIsUElYSS5EaXNwbGF5T2JqZWN0Q29udGFpbmVyLmNhbGwodGhpcyksdGhpcy50eXBlPWkuQklUTUFQVEVYVCx0aGlzLnBoeXNpY3NUeXBlPWkuU1BSSVRFLHRoaXMudGV4dFdpZHRoPTAsdGhpcy50ZXh0SGVpZ2h0PTAsdGhpcy5hbmNob3I9bmV3IGkuUG9pbnQsdGhpcy5fcHJldkFuY2hvcj1uZXcgaS5Qb2ludCx0aGlzLl9nbHlwaHM9W10sdGhpcy5fbWF4V2lkdGg9MCx0aGlzLl90ZXh0PW8udG9TdHJpbmcoKXx8XCJcIix0aGlzLl9kYXRhPXQuY2FjaGUuZ2V0Qml0bWFwRm9udChuKSx0aGlzLl9mb250PW4sdGhpcy5fZm9udFNpemU9cix0aGlzLl9hbGlnbj1hLHRoaXMuX3RpbnQ9MTY3NzcyMTUsdGhpcy51cGRhdGVUZXh0KCksdGhpcy5kaXJ0eT0hMSxpLkNvbXBvbmVudC5Db3JlLmluaXQuY2FsbCh0aGlzLHQsZSxzLFwiXCIsbnVsbCl9LGkuQml0bWFwVGV4dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShQSVhJLkRpc3BsYXlPYmplY3RDb250YWluZXIucHJvdG90eXBlKSxpLkJpdG1hcFRleHQucHJvdG90eXBlLmNvbnN0cnVjdG9yPWkuQml0bWFwVGV4dCxpLkNvbXBvbmVudC5Db3JlLmluc3RhbGwuY2FsbChpLkJpdG1hcFRleHQucHJvdG90eXBlLFtcIkFuZ2xlXCIsXCJBdXRvQ3VsbFwiLFwiQm91bmRzXCIsXCJEZXN0cm95XCIsXCJGaXhlZFRvQ2FtZXJhXCIsXCJJbnB1dEVuYWJsZWRcIixcIkluV29ybGRcIixcIkxpZmVTcGFuXCIsXCJQaHlzaWNzQm9keVwiLFwiUmVzZXRcIl0pLGkuQml0bWFwVGV4dC5wcm90b3R5cGUucHJlVXBkYXRlUGh5c2ljcz1pLkNvbXBvbmVudC5QaHlzaWNzQm9keS5wcmVVcGRhdGUsaS5CaXRtYXBUZXh0LnByb3RvdHlwZS5wcmVVcGRhdGVMaWZlU3Bhbj1pLkNvbXBvbmVudC5MaWZlU3Bhbi5wcmVVcGRhdGUsaS5CaXRtYXBUZXh0LnByb3RvdHlwZS5wcmVVcGRhdGVJbldvcmxkPWkuQ29tcG9uZW50LkluV29ybGQucHJlVXBkYXRlLGkuQml0bWFwVGV4dC5wcm90b3R5cGUucHJlVXBkYXRlQ29yZT1pLkNvbXBvbmVudC5Db3JlLnByZVVwZGF0ZSxpLkJpdG1hcFRleHQucHJvdG90eXBlLnByZVVwZGF0ZT1mdW5jdGlvbigpe3JldHVybiEhKHRoaXMucHJlVXBkYXRlUGh5c2ljcygpJiZ0aGlzLnByZVVwZGF0ZUxpZmVTcGFuKCkmJnRoaXMucHJlVXBkYXRlSW5Xb3JsZCgpKSYmdGhpcy5wcmVVcGRhdGVDb3JlKCl9LGkuQml0bWFwVGV4dC5wcm90b3R5cGUucG9zdFVwZGF0ZT1mdW5jdGlvbigpe2kuQ29tcG9uZW50LlBoeXNpY3NCb2R5LnBvc3RVcGRhdGUuY2FsbCh0aGlzKSxpLkNvbXBvbmVudC5GaXhlZFRvQ2FtZXJhLnBvc3RVcGRhdGUuY2FsbCh0aGlzKSx0aGlzLmJvZHkmJnRoaXMuYm9keS50eXBlPT09aS5QaHlzaWNzLkFSQ0FERSYmKHRoaXMudGV4dFdpZHRoPT09dGhpcy5ib2R5LnNvdXJjZVdpZHRoJiZ0aGlzLnRleHRIZWlnaHQ9PT10aGlzLmJvZHkuc291cmNlSGVpZ2h0fHx0aGlzLmJvZHkuc2V0U2l6ZSh0aGlzLnRleHRXaWR0aCx0aGlzLnRleHRIZWlnaHQpKX0saS5CaXRtYXBUZXh0LnByb3RvdHlwZS5zZXRUZXh0PWZ1bmN0aW9uKHQpe3RoaXMudGV4dD10fSxpLkJpdG1hcFRleHQucHJvdG90eXBlLnNjYW5MaW5lPWZ1bmN0aW9uKHQsZSxpKXtmb3IodmFyIHM9MCxuPTAsbz0tMSxyPTAsYT1udWxsLGg9dGhpcy5fbWF4V2lkdGg+MD90aGlzLl9tYXhXaWR0aDpudWxsLGw9W10sYz0wO2M8aS5sZW5ndGg7YysrKXt2YXIgdT1jPT09aS5sZW5ndGgtMTtpZigvKD86XFxyXFxufFxccnxcXG4pLy50ZXN0KGkuY2hhckF0KGMpKSlyZXR1cm57d2lkdGg6bix0ZXh0Omkuc3Vic3RyKDAsYyksZW5kOnUsY2hhcnM6bH07dmFyIGQ9aS5jaGFyQ29kZUF0KGMpLHA9dC5jaGFyc1tkXSxmPTA7dm9pZCAwPT09cCYmKGQ9MzIscD10LmNoYXJzW2RdKTt2YXIgbT1hJiZwLmtlcm5pbmdbYV0/cC5rZXJuaW5nW2FdOjA7aWYoLyhcXHMpLy50ZXN0KGkuY2hhckF0KGMpKSYmKG89YyxyPW4pLGY9KG0rcC50ZXh0dXJlLndpZHRoK3AueE9mZnNldCkqZSxoJiZuK2Y+PWgmJm8+LTEpcmV0dXJue3dpZHRoOnJ8fG4sdGV4dDppLnN1YnN0cigwLGMtKGMtbykpLGVuZDohMSxjaGFyczpsfTtuKz0ocC54QWR2YW5jZSttKSplLGwucHVzaChzKyhwLnhPZmZzZXQrbSkqZSkscys9KHAueEFkdmFuY2UrbSkqZSxhPWR9cmV0dXJue3dpZHRoOm4sdGV4dDppLGVuZDp1LGNoYXJzOmx9fSxpLkJpdG1hcFRleHQucHJvdG90eXBlLmNsZWFuVGV4dD1mdW5jdGlvbih0LGUpe3ZvaWQgMD09PWUmJihlPVwiXCIpO3ZhciBpPXRoaXMuX2RhdGEuZm9udDtpZighaSlyZXR1cm5cIlwiO2Zvcih2YXIgcz0vXFxyXFxufFxcblxccnxcXG58XFxyL2csbj10LnJlcGxhY2UocyxcIlxcblwiKS5zcGxpdChcIlxcblwiKSxvPTA7bzxuLmxlbmd0aDtvKyspe2Zvcih2YXIgcj1cIlwiLGE9bltvXSxoPTA7aDxhLmxlbmd0aDtoKyspcj1pLmNoYXJzW2EuY2hhckNvZGVBdChoKV0/ci5jb25jYXQoYVtoXSk6ci5jb25jYXQoZSk7bltvXT1yfXJldHVybiBuLmpvaW4oXCJcXG5cIil9LGkuQml0bWFwVGV4dC5wcm90b3R5cGUudXBkYXRlVGV4dD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX2RhdGEuZm9udDtpZih0KXt2YXIgZT10aGlzLnRleHQsaT10aGlzLl9mb250U2l6ZS90LnNpemUscz1bXSxuPTA7dGhpcy50ZXh0V2lkdGg9MDtkb3soYz10aGlzLnNjYW5MaW5lKHQsaSxlKSkueT1uLHMucHVzaChjKSxjLndpZHRoPnRoaXMudGV4dFdpZHRoJiYodGhpcy50ZXh0V2lkdGg9Yy53aWR0aCksbis9dC5saW5lSGVpZ2h0KmksZT1lLnN1YnN0cihjLnRleHQubGVuZ3RoKzEpfXdoaWxlKCExPT09Yy5lbmQpO3RoaXMudGV4dEhlaWdodD1uO2Zvcih2YXIgbz0wLHI9MCxhPXRoaXMudGV4dFdpZHRoKnRoaXMuYW5jaG9yLngsaD10aGlzLnRleHRIZWlnaHQqdGhpcy5hbmNob3IueSxsPTA7bDxzLmxlbmd0aDtsKyspe3ZhciBjPXNbbF07XCJyaWdodFwiPT09dGhpcy5fYWxpZ24/cj10aGlzLnRleHRXaWR0aC1jLndpZHRoOlwiY2VudGVyXCI9PT10aGlzLl9hbGlnbiYmKHI9KHRoaXMudGV4dFdpZHRoLWMud2lkdGgpLzIpO2Zvcih2YXIgdT0wO3U8Yy50ZXh0Lmxlbmd0aDt1Kyspe3ZhciBkPWMudGV4dC5jaGFyQ29kZUF0KHUpLHA9dC5jaGFyc1tkXTt2b2lkIDA9PT1wJiYoZD0zMixwPXQuY2hhcnNbZF0pO3ZhciBmPXRoaXMuX2dseXBoc1tvXTtmP2YudGV4dHVyZT1wLnRleHR1cmU6KChmPW5ldyBQSVhJLlNwcml0ZShwLnRleHR1cmUpKS5uYW1lPWMudGV4dFt1XSx0aGlzLl9nbHlwaHMucHVzaChmKSksZi5wb3NpdGlvbi54PWMuY2hhcnNbdV0rci1hLGYucG9zaXRpb24ueT1jLnkrcC55T2Zmc2V0KmktaCxmLnNjYWxlLnNldChpKSxmLnRpbnQ9dGhpcy50aW50LGYudGV4dHVyZS5yZXF1aXJlc1JlVGludD0hMCxmLmNhY2hlZFRpbnQ9MTY3NzcyMTUsZi5wYXJlbnR8fHRoaXMuYWRkQ2hpbGQoZiksbysrfX1mb3IobD1vO2w8dGhpcy5fZ2x5cGhzLmxlbmd0aDtsKyspdGhpcy5yZW1vdmVDaGlsZCh0aGlzLl9nbHlwaHNbbF0pfX0saS5CaXRtYXBUZXh0LnByb3RvdHlwZS5wdXJnZUdseXBocz1mdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLl9nbHlwaHMubGVuZ3RoLGU9W10saT0wO2k8dGhpcy5fZ2x5cGhzLmxlbmd0aDtpKyspdGhpcy5fZ2x5cGhzW2ldLnBhcmVudCE9PXRoaXM/dGhpcy5fZ2x5cGhzW2ldLmRlc3Ryb3koKTplLnB1c2godGhpcy5fZ2x5cGhzW2ldKTtyZXR1cm4gdGhpcy5fZ2x5cGhzPVtdLHRoaXMuX2dseXBocz1lLHRoaXMudXBkYXRlVGV4dCgpLHQtZS5sZW5ndGh9LGkuQml0bWFwVGV4dC5wcm90b3R5cGUudXBkYXRlVHJhbnNmb3JtPWZ1bmN0aW9uKCl7IXRoaXMuZGlydHkmJnRoaXMuYW5jaG9yLmVxdWFscyh0aGlzLl9wcmV2QW5jaG9yKXx8KHRoaXMudXBkYXRlVGV4dCgpLHRoaXMuZGlydHk9ITEsdGhpcy5fcHJldkFuY2hvci5jb3B5RnJvbSh0aGlzLmFuY2hvcikpLFBJWEkuRGlzcGxheU9iamVjdENvbnRhaW5lci5wcm90b3R5cGUudXBkYXRlVHJhbnNmb3JtLmNhbGwodGhpcyl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLkJpdG1hcFRleHQucHJvdG90eXBlLFwiYWxpZ25cIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FsaWdufSxzZXQ6ZnVuY3Rpb24odCl7dD09PXRoaXMuX2FsaWdufHxcImxlZnRcIiE9PXQmJlwiY2VudGVyXCIhPT10JiZcInJpZ2h0XCIhPT10fHwodGhpcy5fYWxpZ249dCx0aGlzLnVwZGF0ZVRleHQoKSl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuQml0bWFwVGV4dC5wcm90b3R5cGUsXCJ0aW50XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl90aW50fSxzZXQ6ZnVuY3Rpb24odCl7dCE9PXRoaXMuX3RpbnQmJih0aGlzLl90aW50PXQsdGhpcy51cGRhdGVUZXh0KCkpfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLkJpdG1hcFRleHQucHJvdG90eXBlLFwiZm9udFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZm9udH0sc2V0OmZ1bmN0aW9uKHQpe3QhPT10aGlzLl9mb250JiYodGhpcy5fZm9udD10LnRyaW0oKSx0aGlzLl9kYXRhPXRoaXMuZ2FtZS5jYWNoZS5nZXRCaXRtYXBGb250KHRoaXMuX2ZvbnQpLHRoaXMudXBkYXRlVGV4dCgpKX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5CaXRtYXBUZXh0LnByb3RvdHlwZSxcImZvbnRTaXplXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9mb250U2l6ZX0sc2V0OmZ1bmN0aW9uKHQpeyh0PXBhcnNlSW50KHQsMTApKSE9PXRoaXMuX2ZvbnRTaXplJiZ0PjAmJih0aGlzLl9mb250U2l6ZT10LHRoaXMudXBkYXRlVGV4dCgpKX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5CaXRtYXBUZXh0LnByb3RvdHlwZSxcInRleHRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RleHR9LHNldDpmdW5jdGlvbih0KXt0IT09dGhpcy5fdGV4dCYmKHRoaXMuX3RleHQ9dC50b1N0cmluZygpfHxcIlwiLHRoaXMudXBkYXRlVGV4dCgpKX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5CaXRtYXBUZXh0LnByb3RvdHlwZSxcIm1heFdpZHRoXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9tYXhXaWR0aH0sc2V0OmZ1bmN0aW9uKHQpe3QhPT10aGlzLl9tYXhXaWR0aCYmKHRoaXMuX21heFdpZHRoPXQsdGhpcy51cGRhdGVUZXh0KCkpfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLkJpdG1hcFRleHQucHJvdG90eXBlLFwic21vb3RoZWRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIXRoaXMuX2RhdGEuYmFzZS5zY2FsZU1vZGV9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9kYXRhLmJhc2Uuc2NhbGVNb2RlPXQ/MDoxfX0pLGkuUmV0cm9Gb250PWZ1bmN0aW9uKHQsZSxzLG4sbyxyLGEsaCxsLGMpe2lmKCF0LmNhY2hlLmNoZWNrSW1hZ2VLZXkoZSkpcmV0dXJuITE7dm9pZCAwIT09ciYmbnVsbCE9PXJ8fChyPXQuY2FjaGUuZ2V0SW1hZ2UoZSkud2lkdGgvcyksdGhpcy5jaGFyYWN0ZXJXaWR0aD1zLHRoaXMuY2hhcmFjdGVySGVpZ2h0PW4sdGhpcy5jaGFyYWN0ZXJTcGFjaW5nWD1hfHwwLHRoaXMuY2hhcmFjdGVyU3BhY2luZ1k9aHx8MCx0aGlzLmNoYXJhY3RlclBlclJvdz1yLHRoaXMub2Zmc2V0WD1sfHwwLHRoaXMub2Zmc2V0WT1jfHwwLHRoaXMuYWxpZ249XCJsZWZ0XCIsdGhpcy5tdWx0aUxpbmU9ITEsdGhpcy5hdXRvVXBwZXJDYXNlPSEwLHRoaXMuY3VzdG9tU3BhY2luZ1g9MCx0aGlzLmN1c3RvbVNwYWNpbmdZPTAsdGhpcy5maXhlZFdpZHRoPTAsdGhpcy5mb250U2V0PXQuY2FjaGUuZ2V0SW1hZ2UoZSksdGhpcy5fdGV4dD1cIlwiLHRoaXMuZ3JhYkRhdGE9W10sdGhpcy5mcmFtZURhdGE9bmV3IGkuRnJhbWVEYXRhO2Zvcih2YXIgdT10aGlzLm9mZnNldFgsZD10aGlzLm9mZnNldFkscD0wLGY9MDtmPG8ubGVuZ3RoO2YrKyl7dmFyIG09dGhpcy5mcmFtZURhdGEuYWRkRnJhbWUobmV3IGkuRnJhbWUoZix1LGQsdGhpcy5jaGFyYWN0ZXJXaWR0aCx0aGlzLmNoYXJhY3RlckhlaWdodCkpO3RoaXMuZ3JhYkRhdGFbby5jaGFyQ29kZUF0KGYpXT1tLmluZGV4LCsrcD09PXRoaXMuY2hhcmFjdGVyUGVyUm93PyhwPTAsdT10aGlzLm9mZnNldFgsZCs9dGhpcy5jaGFyYWN0ZXJIZWlnaHQrdGhpcy5jaGFyYWN0ZXJTcGFjaW5nWSk6dSs9dGhpcy5jaGFyYWN0ZXJXaWR0aCt0aGlzLmNoYXJhY3RlclNwYWNpbmdYfXQuY2FjaGUudXBkYXRlRnJhbWVEYXRhKGUsdGhpcy5mcmFtZURhdGEpLHRoaXMuc3RhbXA9bmV3IGkuSW1hZ2UodCwwLDAsZSwwKSxpLlJlbmRlclRleHR1cmUuY2FsbCh0aGlzLHQsMTAwLDEwMCxcIlwiLGkuc2NhbGVNb2Rlcy5ORUFSRVNUKSx0aGlzLnR5cGU9aS5SRVRST0ZPTlR9LGkuUmV0cm9Gb250LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGkuUmVuZGVyVGV4dHVyZS5wcm90b3R5cGUpLGkuUmV0cm9Gb250LnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1pLlJldHJvRm9udCxpLlJldHJvRm9udC5BTElHTl9MRUZUPVwibGVmdFwiLGkuUmV0cm9Gb250LkFMSUdOX1JJR0hUPVwicmlnaHRcIixpLlJldHJvRm9udC5BTElHTl9DRU5URVI9XCJjZW50ZXJcIixpLlJldHJvRm9udC5URVhUX1NFVDE9XCIgIVxcXCIjJCUmJygpKissLS4vMDEyMzQ1Njc4OTo7PD0+P0BBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWltcXFxcXV5fYGFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6e3x9flwiLGkuUmV0cm9Gb250LlRFWFRfU0VUMj1cIiAhXFxcIiMkJSYnKCkqKywtLi8wMTIzNDU2Nzg5Ojs8PT4/QEFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaXCIsaS5SZXRyb0ZvbnQuVEVYVF9TRVQzPVwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVowMTIzNDU2Nzg5IFwiLGkuUmV0cm9Gb250LlRFWFRfU0VUND1cIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaIDAxMjM0NTY3ODlcIixpLlJldHJvRm9udC5URVhUX1NFVDU9XCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWi4sLygpICchPy0qOjAxMjM0NTY3ODlcIixpLlJldHJvRm9udC5URVhUX1NFVDY9XCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWiE/OjswMTIzNDU2Nzg5XFxcIigpLC0uJyBcIixpLlJldHJvRm9udC5URVhUX1NFVDc9XCJBR01TWSs6NEJITlRaITs1Q0lPVS4/MDZESlBWLCgxN0VLUVdcXFwiKTI4RkxSWC0nMzlcIixpLlJldHJvRm9udC5URVhUX1NFVDg9XCIwMTIzNDU2Nzg5IC5BQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWlwiLGkuUmV0cm9Gb250LlRFWFRfU0VUOT1cIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaKCktMDEyMzQ1Njc4OS46LCdcXFwiPyFcIixpLlJldHJvRm9udC5URVhUX1NFVDEwPVwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVpcIixpLlJldHJvRm9udC5URVhUX1NFVDExPVwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVouLFxcXCItKyE/KCknOjswMTIzNDU2Nzg5XCIsaS5SZXRyb0ZvbnQucHJvdG90eXBlLnNldEZpeGVkV2lkdGg9ZnVuY3Rpb24odCxlKXt2b2lkIDA9PT1lJiYoZT1cImxlZnRcIiksdGhpcy5maXhlZFdpZHRoPXQsdGhpcy5hbGlnbj1lfSxpLlJldHJvRm9udC5wcm90b3R5cGUuc2V0VGV4dD1mdW5jdGlvbih0LGUsaSxzLG4sbyl7dGhpcy5tdWx0aUxpbmU9ZXx8ITEsdGhpcy5jdXN0b21TcGFjaW5nWD1pfHwwLHRoaXMuY3VzdG9tU3BhY2luZ1k9c3x8MCx0aGlzLmFsaWduPW58fFwibGVmdFwiLHRoaXMuYXV0b1VwcGVyQ2FzZT0hbyx0Lmxlbmd0aD4wJiYodGhpcy50ZXh0PXQpfSxpLlJldHJvRm9udC5wcm90b3R5cGUuYnVpbGRSZXRyb0ZvbnRUZXh0PWZ1bmN0aW9uKCl7dmFyIHQ9MCxlPTA7aWYodGhpcy5jbGVhcigpLHRoaXMubXVsdGlMaW5lKXt2YXIgcz10aGlzLl90ZXh0LnNwbGl0KFwiXFxuXCIpO3RoaXMuZml4ZWRXaWR0aD4wP3RoaXMucmVzaXplKHRoaXMuZml4ZWRXaWR0aCxzLmxlbmd0aCoodGhpcy5jaGFyYWN0ZXJIZWlnaHQrdGhpcy5jdXN0b21TcGFjaW5nWSktdGhpcy5jdXN0b21TcGFjaW5nWSwhMCk6dGhpcy5yZXNpemUodGhpcy5nZXRMb25nZXN0TGluZSgpKih0aGlzLmNoYXJhY3RlcldpZHRoK3RoaXMuY3VzdG9tU3BhY2luZ1gpLHMubGVuZ3RoKih0aGlzLmNoYXJhY3RlckhlaWdodCt0aGlzLmN1c3RvbVNwYWNpbmdZKS10aGlzLmN1c3RvbVNwYWNpbmdZLCEwKTtmb3IodmFyIG49MDtuPHMubGVuZ3RoO24rKyl0PTAsdGhpcy5hbGlnbj09PWkuUmV0cm9Gb250LkFMSUdOX1JJR0hUP3Q9dGhpcy53aWR0aC1zW25dLmxlbmd0aCoodGhpcy5jaGFyYWN0ZXJXaWR0aCt0aGlzLmN1c3RvbVNwYWNpbmdYKTp0aGlzLmFsaWduPT09aS5SZXRyb0ZvbnQuQUxJR05fQ0VOVEVSJiYodD10aGlzLndpZHRoLzItc1tuXS5sZW5ndGgqKHRoaXMuY2hhcmFjdGVyV2lkdGgrdGhpcy5jdXN0b21TcGFjaW5nWCkvMix0Kz10aGlzLmN1c3RvbVNwYWNpbmdYLzIpLHQ8MCYmKHQ9MCksdGhpcy5wYXN0ZUxpbmUoc1tuXSx0LGUsdGhpcy5jdXN0b21TcGFjaW5nWCksZSs9dGhpcy5jaGFyYWN0ZXJIZWlnaHQrdGhpcy5jdXN0b21TcGFjaW5nWX1lbHNlIHRoaXMuZml4ZWRXaWR0aD4wP3RoaXMucmVzaXplKHRoaXMuZml4ZWRXaWR0aCx0aGlzLmNoYXJhY3RlckhlaWdodCwhMCk6dGhpcy5yZXNpemUodGhpcy5fdGV4dC5sZW5ndGgqKHRoaXMuY2hhcmFjdGVyV2lkdGgrdGhpcy5jdXN0b21TcGFjaW5nWCksdGhpcy5jaGFyYWN0ZXJIZWlnaHQsITApLHQ9MCx0aGlzLmFsaWduPT09aS5SZXRyb0ZvbnQuQUxJR05fUklHSFQ/dD10aGlzLndpZHRoLXRoaXMuX3RleHQubGVuZ3RoKih0aGlzLmNoYXJhY3RlcldpZHRoK3RoaXMuY3VzdG9tU3BhY2luZ1gpOnRoaXMuYWxpZ249PT1pLlJldHJvRm9udC5BTElHTl9DRU5URVImJih0PXRoaXMud2lkdGgvMi10aGlzLl90ZXh0Lmxlbmd0aCoodGhpcy5jaGFyYWN0ZXJXaWR0aCt0aGlzLmN1c3RvbVNwYWNpbmdYKS8yLHQrPXRoaXMuY3VzdG9tU3BhY2luZ1gvMiksdDwwJiYodD0wKSx0aGlzLnBhc3RlTGluZSh0aGlzLl90ZXh0LHQsMCx0aGlzLmN1c3RvbVNwYWNpbmdYKTt0aGlzLnJlcXVpcmVzUmVUaW50PSEwfSxpLlJldHJvRm9udC5wcm90b3R5cGUucGFzdGVMaW5lPWZ1bmN0aW9uKHQsZSxpLHMpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKWlmKFwiIFwiPT09dC5jaGFyQXQobikpZSs9dGhpcy5jaGFyYWN0ZXJXaWR0aCtzO2Vsc2UgaWYodGhpcy5ncmFiRGF0YVt0LmNoYXJDb2RlQXQobildPj0wJiYodGhpcy5zdGFtcC5mcmFtZT10aGlzLmdyYWJEYXRhW3QuY2hhckNvZGVBdChuKV0sdGhpcy5yZW5kZXJYWSh0aGlzLnN0YW1wLGUsaSwhMSksKGUrPXRoaXMuY2hhcmFjdGVyV2lkdGgrcyk+dGhpcy53aWR0aCkpYnJlYWt9LGkuUmV0cm9Gb250LnByb3RvdHlwZS5nZXRMb25nZXN0TGluZT1mdW5jdGlvbigpe3ZhciB0PTA7aWYodGhpcy5fdGV4dC5sZW5ndGg+MClmb3IodmFyIGU9dGhpcy5fdGV4dC5zcGxpdChcIlxcblwiKSxpPTA7aTxlLmxlbmd0aDtpKyspZVtpXS5sZW5ndGg+dCYmKHQ9ZVtpXS5sZW5ndGgpO3JldHVybiB0fSxpLlJldHJvRm9udC5wcm90b3R5cGUucmVtb3ZlVW5zdXBwb3J0ZWRDaGFyYWN0ZXJzPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1cIlwiLGk9MDtpPHRoaXMuX3RleHQubGVuZ3RoO2krKyl7dmFyIHM9dGhpcy5fdGV4dFtpXSxuPXMuY2hhckNvZGVBdCgwKTsodGhpcy5ncmFiRGF0YVtuXT49MHx8IXQmJlwiXFxuXCI9PT1zKSYmKGU9ZS5jb25jYXQocykpfXJldHVybiBlfSxpLlJldHJvRm9udC5wcm90b3R5cGUudXBkYXRlT2Zmc2V0PWZ1bmN0aW9uKHQsZSl7aWYodGhpcy5vZmZzZXRYIT09dHx8dGhpcy5vZmZzZXRZIT09ZSl7Zm9yKHZhciBpPXQtdGhpcy5vZmZzZXRYLHM9ZS10aGlzLm9mZnNldFksbj10aGlzLmdhbWUuY2FjaGUuZ2V0RnJhbWVEYXRhKHRoaXMuc3RhbXAua2V5KS5nZXRGcmFtZXMoKSxvPW4ubGVuZ3RoO28tLTspbltvXS54Kz1pLG5bb10ueSs9czt0aGlzLmJ1aWxkUmV0cm9Gb250VGV4dCgpfX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuUmV0cm9Gb250LnByb3RvdHlwZSxcInRleHRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RleHR9LHNldDpmdW5jdGlvbih0KXt2YXIgZTsoZT10aGlzLmF1dG9VcHBlckNhc2U/dC50b1VwcGVyQ2FzZSgpOnQpIT09dGhpcy5fdGV4dCYmKHRoaXMuX3RleHQ9ZSx0aGlzLnJlbW92ZVVuc3VwcG9ydGVkQ2hhcmFjdGVycyh0aGlzLm11bHRpTGluZSksdGhpcy5idWlsZFJldHJvRm9udFRleHQoKSl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuUmV0cm9Gb250LnByb3RvdHlwZSxcInNtb290aGVkXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnN0YW1wLnNtb290aGVkfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5zdGFtcC5zbW9vdGhlZD10LHRoaXMuYnVpbGRSZXRyb0ZvbnRUZXh0KCl9fSksaS5Sb3BlPWZ1bmN0aW9uKHQsZSxzLG4sbyxyKXt0aGlzLnBvaW50cz1bXSx0aGlzLnBvaW50cz1yLHRoaXMuX2hhc1VwZGF0ZUFuaW1hdGlvbj0hMSx0aGlzLl91cGRhdGVBbmltYXRpb25DYWxsYmFjaz1udWxsLGU9ZXx8MCxzPXN8fDAsbj1ufHxudWxsLG89b3x8bnVsbCx0aGlzLnR5cGU9aS5ST1BFLHRoaXMucG9pbnRzPXIsUElYSS5EaXNwbGF5T2JqZWN0Q29udGFpbmVyLmNhbGwodGhpcyksdGhpcy50ZXh0dXJlPWkuQ2FjaGUuREVGQVVMVCx0aGlzLnV2cz1uZXcgRmxvYXQzMkFycmF5KFswLDEsMSwxLDEsMCwwLDFdKSx0aGlzLnZlcnRpY2VzPW5ldyBGbG9hdDMyQXJyYXkoWzAsMCwxMDAsMCwxMDAsMTAwLDAsMTAwXSksdGhpcy5jb2xvcnM9bmV3IEZsb2F0MzJBcnJheShbMSwxLDEsMV0pLHRoaXMuaW5kaWNlcz1uZXcgVWludDE2QXJyYXkoWzAsMSwyLDNdKSxyJiYodGhpcy52ZXJ0aWNlcz1uZXcgRmxvYXQzMkFycmF5KDQqci5sZW5ndGgpLHRoaXMudXZzPW5ldyBGbG9hdDMyQXJyYXkoNCpyLmxlbmd0aCksdGhpcy5jb2xvcnM9bmV3IEZsb2F0MzJBcnJheSgyKnIubGVuZ3RoKSx0aGlzLmluZGljZXM9bmV3IFVpbnQxNkFycmF5KDIqci5sZW5ndGgpKSx0aGlzLmRpcnR5PSEwLHRoaXMuY2FudmFzUGFkZGluZz0wLHRoaXMuZHJhd01vZGU9aS5Sb3BlLlRSSUFOR0xFX1NUUklQLGkuQ29tcG9uZW50LkNvcmUuaW5pdC5jYWxsKHRoaXMsdCxlLHMsbixvKSx0aGlzLnJlZnJlc2goKX0saS5Sb3BlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKFBJWEkuRGlzcGxheU9iamVjdENvbnRhaW5lci5wcm90b3R5cGUpLGkuUm9wZS5wcm90b3R5cGUuY29uc3RydWN0b3I9aS5Sb3BlLGkuQ29tcG9uZW50LkNvcmUuaW5zdGFsbC5jYWxsKGkuUm9wZS5wcm90b3R5cGUsW1wiQW5nbGVcIixcIkFuaW1hdGlvblwiLFwiQXV0b0N1bGxcIixcIkJvdW5kc1wiLFwiQnJpbmdUb1RvcFwiLFwiQ3JvcFwiLFwiRGVsdGFcIixcIkRlc3Ryb3lcIixcIkZpeGVkVG9DYW1lcmFcIixcIkluV29ybGRcIixcIkxpZmVTcGFuXCIsXCJMb2FkVGV4dHVyZVwiLFwiT3ZlcmxhcFwiLFwiUGh5c2ljc0JvZHlcIixcIlJlc2V0XCIsXCJTY2FsZU1pbk1heFwiLFwiU21vb3RoZWRcIl0pLGkuUm9wZS5wcm90b3R5cGUucHJlVXBkYXRlUGh5c2ljcz1pLkNvbXBvbmVudC5QaHlzaWNzQm9keS5wcmVVcGRhdGUsaS5Sb3BlLnByb3RvdHlwZS5wcmVVcGRhdGVMaWZlU3Bhbj1pLkNvbXBvbmVudC5MaWZlU3Bhbi5wcmVVcGRhdGUsaS5Sb3BlLnByb3RvdHlwZS5wcmVVcGRhdGVJbldvcmxkPWkuQ29tcG9uZW50LkluV29ybGQucHJlVXBkYXRlLGkuUm9wZS5wcm90b3R5cGUucHJlVXBkYXRlQ29yZT1pLkNvbXBvbmVudC5Db3JlLnByZVVwZGF0ZSxpLlJvcGUuVFJJQU5HTEVfU1RSSVA9MCxpLlJvcGUuVFJJQU5HTEVTPTEsaS5Sb3BlLnByb3RvdHlwZS5wcmVVcGRhdGU9ZnVuY3Rpb24oKXtyZXR1cm4hISh0aGlzLnByZVVwZGF0ZVBoeXNpY3MoKSYmdGhpcy5wcmVVcGRhdGVMaWZlU3BhbigpJiZ0aGlzLnByZVVwZGF0ZUluV29ybGQoKSkmJnRoaXMucHJlVXBkYXRlQ29yZSgpfSxpLlJvcGUucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbigpe3RoaXMuX2hhc1VwZGF0ZUFuaW1hdGlvbiYmdGhpcy51cGRhdGVBbmltYXRpb24uY2FsbCh0aGlzKX0saS5Sb3BlLnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbih0LGUpe3JldHVybiBpLkNvbXBvbmVudC5SZXNldC5wcm90b3R5cGUucmVzZXQuY2FsbCh0aGlzLHQsZSksdGhpc30saS5Sb3BlLnByb3RvdHlwZS5yZWZyZXNoPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5wb2ludHM7aWYoISh0Lmxlbmd0aDwxKSl7dmFyIGU9dGhpcy51dnMsaT10aGlzLmluZGljZXMscz10aGlzLmNvbG9yczt0aGlzLmNvdW50LT0uMixlWzBdPTAsZVsxXT0wLGVbMl09MCxlWzNdPTEsc1swXT0xLHNbMV09MSxpWzBdPTAsaVsxXT0xO2Zvcih2YXIgbixvLHI9dC5sZW5ndGgsYT0xO2E8cjthKyspbz1hLyhyLTEpLGVbbj00KmFdPW8sZVtuKzFdPTAsZVtuKzJdPW8sZVtuKzNdPTEsc1tuPTIqYV09MSxzW24rMV09MSxpW249MiphXT1uLGlbbisxXT1uKzF9fSxpLlJvcGUucHJvdG90eXBlLnVwZGF0ZVRyYW5zZm9ybT1mdW5jdGlvbigpe3ZhciB0PXRoaXMucG9pbnRzO2lmKCEodC5sZW5ndGg8MSkpe3ZhciBlLGk9dFswXSxzPXt4OjAseTowfTt0aGlzLmNvdW50LT0uMjtmb3IodmFyIG4sbyxyLGEsaD10aGlzLnZlcnRpY2VzLGw9dC5sZW5ndGgsYz0wO2M8bDtjKyspbj10W2NdLG89NCpjLGU9Yzx0Lmxlbmd0aC0xP3RbYysxXTpuLHMueT0tKGUueC1pLngpLHMueD1lLnktaS55LDEwKigxLWMvKGwtMSkpPjEmJjEscj1NYXRoLnNxcnQocy54KnMueCtzLnkqcy55KSxhPXRoaXMudGV4dHVyZS5oZWlnaHQvMixzLngvPXIscy55Lz1yLHMueCo9YSxzLnkqPWEsaFtvXT1uLngrcy54LGhbbysxXT1uLnkrcy55LGhbbysyXT1uLngtcy54LGhbbyszXT1uLnktcy55LGk9bjtQSVhJLkRpc3BsYXlPYmplY3RDb250YWluZXIucHJvdG90eXBlLnVwZGF0ZVRyYW5zZm9ybS5jYWxsKHRoaXMpfX0saS5Sb3BlLnByb3RvdHlwZS5zZXRUZXh0dXJlPWZ1bmN0aW9uKHQpe3RoaXMudGV4dHVyZT10fSxpLlJvcGUucHJvdG90eXBlLl9yZW5kZXJXZWJHTD1mdW5jdGlvbih0KXshdGhpcy52aXNpYmxlfHx0aGlzLmFscGhhPD0wfHwodC5zcHJpdGVCYXRjaC5zdG9wKCksdGhpcy5fdmVydGV4QnVmZmVyfHx0aGlzLl9pbml0V2ViR0wodCksdC5zaGFkZXJNYW5hZ2VyLnNldFNoYWRlcih0LnNoYWRlck1hbmFnZXIuc3RyaXBTaGFkZXIpLHRoaXMuX3JlbmRlclN0cmlwKHQpLHQuc3ByaXRlQmF0Y2guc3RhcnQoKSl9LGkuUm9wZS5wcm90b3R5cGUuX2luaXRXZWJHTD1mdW5jdGlvbih0KXt2YXIgZT10LmdsO3RoaXMuX3ZlcnRleEJ1ZmZlcj1lLmNyZWF0ZUJ1ZmZlcigpLHRoaXMuX2luZGV4QnVmZmVyPWUuY3JlYXRlQnVmZmVyKCksdGhpcy5fdXZCdWZmZXI9ZS5jcmVhdGVCdWZmZXIoKSx0aGlzLl9jb2xvckJ1ZmZlcj1lLmNyZWF0ZUJ1ZmZlcigpLGUuYmluZEJ1ZmZlcihlLkFSUkFZX0JVRkZFUix0aGlzLl92ZXJ0ZXhCdWZmZXIpLGUuYnVmZmVyRGF0YShlLkFSUkFZX0JVRkZFUix0aGlzLnZlcnRpY2VzLGUuRFlOQU1JQ19EUkFXKSxlLmJpbmRCdWZmZXIoZS5BUlJBWV9CVUZGRVIsdGhpcy5fdXZCdWZmZXIpLGUuYnVmZmVyRGF0YShlLkFSUkFZX0JVRkZFUix0aGlzLnV2cyxlLlNUQVRJQ19EUkFXKSxlLmJpbmRCdWZmZXIoZS5BUlJBWV9CVUZGRVIsdGhpcy5fY29sb3JCdWZmZXIpLGUuYnVmZmVyRGF0YShlLkFSUkFZX0JVRkZFUix0aGlzLmNvbG9ycyxlLlNUQVRJQ19EUkFXKSxlLmJpbmRCdWZmZXIoZS5FTEVNRU5UX0FSUkFZX0JVRkZFUix0aGlzLl9pbmRleEJ1ZmZlciksZS5idWZmZXJEYXRhKGUuRUxFTUVOVF9BUlJBWV9CVUZGRVIsdGhpcy5pbmRpY2VzLGUuU1RBVElDX0RSQVcpfSxpLlJvcGUucHJvdG90eXBlLl9yZW5kZXJTdHJpcD1mdW5jdGlvbih0KXt2YXIgZT10LmdsLHM9dC5wcm9qZWN0aW9uLG49dC5vZmZzZXQsbz10LnNoYWRlck1hbmFnZXIuc3RyaXBTaGFkZXIscj10aGlzLmRyYXdNb2RlPT09aS5Sb3BlLlRSSUFOR0xFX1NUUklQP2UuVFJJQU5HTEVfU1RSSVA6ZS5UUklBTkdMRVM7dC5ibGVuZE1vZGVNYW5hZ2VyLnNldEJsZW5kTW9kZSh0aGlzLmJsZW5kTW9kZSksZS51bmlmb3JtTWF0cml4M2Z2KG8udHJhbnNsYXRpb25NYXRyaXgsITEsdGhpcy53b3JsZFRyYW5zZm9ybS50b0FycmF5KCEwKSksZS51bmlmb3JtMmYoby5wcm9qZWN0aW9uVmVjdG9yLHMueCwtcy55KSxlLnVuaWZvcm0yZihvLm9mZnNldFZlY3Rvciwtbi54LC1uLnkpLGUudW5pZm9ybTFmKG8uYWxwaGEsdGhpcy53b3JsZEFscGhhKSx0aGlzLmRpcnR5Pyh0aGlzLmRpcnR5PSExLGUuYmluZEJ1ZmZlcihlLkFSUkFZX0JVRkZFUix0aGlzLl92ZXJ0ZXhCdWZmZXIpLGUuYnVmZmVyRGF0YShlLkFSUkFZX0JVRkZFUix0aGlzLnZlcnRpY2VzLGUuU1RBVElDX0RSQVcpLGUudmVydGV4QXR0cmliUG9pbnRlcihvLmFWZXJ0ZXhQb3NpdGlvbiwyLGUuRkxPQVQsITEsMCwwKSxlLmJpbmRCdWZmZXIoZS5BUlJBWV9CVUZGRVIsdGhpcy5fdXZCdWZmZXIpLGUuYnVmZmVyRGF0YShlLkFSUkFZX0JVRkZFUix0aGlzLnV2cyxlLlNUQVRJQ19EUkFXKSxlLnZlcnRleEF0dHJpYlBvaW50ZXIoby5hVGV4dHVyZUNvb3JkLDIsZS5GTE9BVCwhMSwwLDApLGUuYWN0aXZlVGV4dHVyZShlLlRFWFRVUkUwKSx0aGlzLnRleHR1cmUuYmFzZVRleHR1cmUuX2RpcnR5W2UuaWRdP3QucmVuZGVyZXIudXBkYXRlVGV4dHVyZSh0aGlzLnRleHR1cmUuYmFzZVRleHR1cmUpOmUuYmluZFRleHR1cmUoZS5URVhUVVJFXzJELHRoaXMudGV4dHVyZS5iYXNlVGV4dHVyZS5fZ2xUZXh0dXJlc1tlLmlkXSksZS5iaW5kQnVmZmVyKGUuRUxFTUVOVF9BUlJBWV9CVUZGRVIsdGhpcy5faW5kZXhCdWZmZXIpLGUuYnVmZmVyRGF0YShlLkVMRU1FTlRfQVJSQVlfQlVGRkVSLHRoaXMuaW5kaWNlcyxlLlNUQVRJQ19EUkFXKSk6KGUuYmluZEJ1ZmZlcihlLkFSUkFZX0JVRkZFUix0aGlzLl92ZXJ0ZXhCdWZmZXIpLGUuYnVmZmVyU3ViRGF0YShlLkFSUkFZX0JVRkZFUiwwLHRoaXMudmVydGljZXMpLGUudmVydGV4QXR0cmliUG9pbnRlcihvLmFWZXJ0ZXhQb3NpdGlvbiwyLGUuRkxPQVQsITEsMCwwKSxlLmJpbmRCdWZmZXIoZS5BUlJBWV9CVUZGRVIsdGhpcy5fdXZCdWZmZXIpLGUudmVydGV4QXR0cmliUG9pbnRlcihvLmFUZXh0dXJlQ29vcmQsMixlLkZMT0FULCExLDAsMCksZS5hY3RpdmVUZXh0dXJlKGUuVEVYVFVSRTApLHRoaXMudGV4dHVyZS5iYXNlVGV4dHVyZS5fZGlydHlbZS5pZF0/dC5yZW5kZXJlci51cGRhdGVUZXh0dXJlKHRoaXMudGV4dHVyZS5iYXNlVGV4dHVyZSk6ZS5iaW5kVGV4dHVyZShlLlRFWFRVUkVfMkQsdGhpcy50ZXh0dXJlLmJhc2VUZXh0dXJlLl9nbFRleHR1cmVzW2UuaWRdKSxlLmJpbmRCdWZmZXIoZS5FTEVNRU5UX0FSUkFZX0JVRkZFUix0aGlzLl9pbmRleEJ1ZmZlcikpLGUuZHJhd0VsZW1lbnRzKHIsdGhpcy5pbmRpY2VzLmxlbmd0aCxlLlVOU0lHTkVEX1NIT1JULDApfSxpLlJvcGUucHJvdG90eXBlLl9yZW5kZXJDYW52YXM9ZnVuY3Rpb24odCl7dmFyIGU9dC5jb250ZXh0LHM9dGhpcy53b3JsZFRyYW5zZm9ybSxuPXMudHgqdC5yZXNvbHV0aW9uK3Quc2hha2VYLG89cy50eSp0LnJlc29sdXRpb24rdC5zaGFrZVk7dC5yb3VuZFBpeGVscz9lLnNldFRyYW5zZm9ybShzLmEscy5iLHMuYyxzLmQsMHxuLDB8byk6ZS5zZXRUcmFuc2Zvcm0ocy5hLHMuYixzLmMscy5kLG4sbyksdGhpcy5kcmF3TW9kZT09PWkuUm9wZS5UUklBTkdMRV9TVFJJUD90aGlzLl9yZW5kZXJDYW52YXNUcmlhbmdsZVN0cmlwKGUpOnRoaXMuX3JlbmRlckNhbnZhc1RyaWFuZ2xlcyhlKX0saS5Sb3BlLnByb3RvdHlwZS5fcmVuZGVyQ2FudmFzVHJpYW5nbGVTdHJpcD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLnZlcnRpY2VzLGk9dGhpcy51dnMscz1lLmxlbmd0aC8yO3RoaXMuY291bnQrKztmb3IodmFyIG49MDtuPHMtMjtuKyspe3ZhciBvPTIqbjt0aGlzLl9yZW5kZXJDYW52YXNEcmF3VHJpYW5nbGUodCxlLGksbyxvKzIsbys0KX19LGkuUm9wZS5wcm90b3R5cGUuX3JlbmRlckNhbnZhc1RyaWFuZ2xlcz1mdW5jdGlvbih0KXt2YXIgZT10aGlzLnZlcnRpY2VzLGk9dGhpcy51dnMscz10aGlzLmluZGljZXMsbj1zLmxlbmd0aDt0aGlzLmNvdW50Kys7Zm9yKHZhciBvPTA7bzxuO28rPTMpe3ZhciByPTIqc1tvXSxhPTIqc1tvKzFdLGg9MipzW28rMl07dGhpcy5fcmVuZGVyQ2FudmFzRHJhd1RyaWFuZ2xlKHQsZSxpLHIsYSxoKX19LGkuUm9wZS5wcm90b3R5cGUuX3JlbmRlckNhbnZhc0RyYXdUcmlhbmdsZT1mdW5jdGlvbih0LGUsaSxzLG4sbyl7dmFyIHI9dGhpcy50ZXh0dXJlLmJhc2VUZXh0dXJlLnNvdXJjZSxhPXRoaXMudGV4dHVyZS53aWR0aCxoPXRoaXMudGV4dHVyZS5oZWlnaHQsbD1lW3NdLGM9ZVtuXSx1PWVbb10sZD1lW3MrMV0scD1lW24rMV0sZj1lW28rMV0sbT1pW3NdKmEsZz1pW25dKmEseT1pW29dKmEsdj1pW3MrMV0qaCx4PWlbbisxXSpoLGI9aVtvKzFdKmg7aWYodGhpcy5jYW52YXNQYWRkaW5nPjApe3ZhciBfPXRoaXMuY2FudmFzUGFkZGluZy90aGlzLndvcmxkVHJhbnNmb3JtLmEsdz10aGlzLmNhbnZhc1BhZGRpbmcvdGhpcy53b3JsZFRyYW5zZm9ybS5kLFQ9KGwrYyt1KS8zLFA9KGQrcCtmKS8zLEM9bC1ULFM9ZC1QLGs9TWF0aC5zcXJ0KEMqQytTKlMpO2w9VCtDL2sqKGsrXyksZD1QK1Mvayooayt3KSxTPXAtUCxjPVQrKEM9Yy1UKS8oaz1NYXRoLnNxcnQoQypDK1MqUykpKihrK18pLHA9UCtTL2sqKGsrdyksUz1mLVAsdT1UKyhDPXUtVCkvKGs9TWF0aC5zcXJ0KEMqQytTKlMpKSooaytfKSxmPVArUy9rKihrK3cpfXQuc2F2ZSgpLHQuYmVnaW5QYXRoKCksdC5tb3ZlVG8obCxkKSx0LmxpbmVUbyhjLHApLHQubGluZVRvKHUsZiksdC5jbG9zZVBhdGgoKSx0LmNsaXAoKTt2YXIgQT1tKngrdip5K2cqYi14KnktdipnLW0qYixNPWwqeCt2KnUrYypiLXgqdS12KmMtbCpiLE89bSpjK2wqeStnKnUtYyp5LWwqZy1tKnUsST1tKngqdSt2KmMqeStsKmcqYi1sKngqeS12KmcqdS1tKmMqYixFPWQqeCt2KmYrcCpiLXgqZi12KnAtZCpiLFI9bSpwK2QqeStnKmYtcCp5LWQqZy1tKmYsTD1tKngqZit2KnAqeStkKmcqYi1kKngqeS12KmcqZi1tKnAqYjt0LnRyYW5zZm9ybShNL0EsRS9BLE8vQSxSL0EsSS9BLEwvQSksdC5kcmF3SW1hZ2UociwwLDApLHQucmVzdG9yZSgpfSxpLlJvcGUucHJvdG90eXBlLnJlbmRlclN0cmlwRmxhdD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmNvbnRleHQsaT10LnZlcnRpY2VzLHM9aS5sZW5ndGgvMjt0aGlzLmNvdW50KyssZS5iZWdpblBhdGgoKTtmb3IodmFyIG49MTtuPHMtMjtuKyspe3ZhciBvPTIqbixyPWlbb10sYT1pW28rMl0saD1pW28rNF0sbD1pW28rMV0sYz1pW28rM10sdT1pW28rNV07ZS5tb3ZlVG8ocixsKSxlLmxpbmVUbyhhLGMpLGUubGluZVRvKGgsdSl9ZS5maWxsU3R5bGU9XCIjRkYwMDAwXCIsZS5maWxsKCksZS5jbG9zZVBhdGgoKX0saS5Sb3BlLnByb3RvdHlwZS5nZXRCb3VuZHM9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXR8fHRoaXMud29ybGRUcmFuc2Zvcm0saT1lLmEscz1lLmIsbj1lLmMsbz1lLmQscj1lLnR4LGE9ZS50eSxoPS0xLzAsbD0tMS8wLGM9MS8wLHU9MS8wLGQ9dGhpcy52ZXJ0aWNlcyxwPTA7cDxkLmxlbmd0aDtwKz0yKXt2YXIgZj1kW3BdLG09ZFtwKzFdLGc9aSpmK24qbStyLHk9byptK3MqZithO2M9ZzxjP2c6Yyx1PXk8dT95OnUsaD1nPmg/ZzpoLGw9eT5sP3k6bH1pZihjPT09LTEvMHx8bD09PTEvMClyZXR1cm4gUElYSS5FbXB0eVJlY3RhbmdsZTt2YXIgdj10aGlzLl9ib3VuZHM7cmV0dXJuIHYueD1jLHYud2lkdGg9aC1jLHYueT11LHYuaGVpZ2h0PWwtdSx0aGlzLl9jdXJyZW50Qm91bmRzPXYsdn0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuUm9wZS5wcm90b3R5cGUsXCJ1cGRhdGVBbmltYXRpb25cIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3VwZGF0ZUFuaW1hdGlvbn0sc2V0OmZ1bmN0aW9uKHQpe3QmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHQ/KHRoaXMuX2hhc1VwZGF0ZUFuaW1hdGlvbj0hMCx0aGlzLl91cGRhdGVBbmltYXRpb249dCk6KHRoaXMuX2hhc1VwZGF0ZUFuaW1hdGlvbj0hMSx0aGlzLl91cGRhdGVBbmltYXRpb249bnVsbCl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuUm9wZS5wcm90b3R5cGUsXCJzZWdtZW50c1wiLHtnZXQ6ZnVuY3Rpb24oKXtmb3IodmFyIHQsZSxzLG4sbyxyLGEsaCxsPVtdLGM9MDtjPHRoaXMucG9pbnRzLmxlbmd0aDtjKyspdD00KmMsZT10aGlzLnZlcnRpY2VzW3RdKnRoaXMuc2NhbGUueCxzPXRoaXMudmVydGljZXNbdCsxXSp0aGlzLnNjYWxlLnksbj10aGlzLnZlcnRpY2VzW3QrNF0qdGhpcy5zY2FsZS54LG89dGhpcy52ZXJ0aWNlc1t0KzNdKnRoaXMuc2NhbGUueSxyPWkuTWF0aC5kaWZmZXJlbmNlKGUsbiksYT1pLk1hdGguZGlmZmVyZW5jZShzLG8pLGUrPXRoaXMud29ybGQueCxzKz10aGlzLndvcmxkLnksaD1uZXcgaS5SZWN0YW5nbGUoZSxzLHIsYSksbC5wdXNoKGgpO3JldHVybiBsfX0pLGkuVGlsZVNwcml0ZT1mdW5jdGlvbih0LGUscyxuLG8scixhKXtlPWV8fDAscz1zfHwwLG49bnx8MjU2LG89b3x8MjU2LHI9cnx8bnVsbCxhPWF8fG51bGwsUElYSS5TcHJpdGUuY2FsbCh0aGlzLG5ldyBQSVhJLlRleHR1cmUoaS5DYWNoZS5ERUZBVUxULmJhc2VUZXh0dXJlKSxuLG8pLHRoaXMudHlwZT1pLlRJTEVTUFJJVEUsdGhpcy5waHlzaWNzVHlwZT1pLlNQUklURSx0aGlzLl9zY3JvbGw9bmV3IGkuUG9pbnQsdGhpcy50aWxlU2NhbGU9bmV3IGkuUG9pbnQoMSwxKSx0aGlzLnRpbGVTY2FsZU9mZnNldD1uZXcgaS5Qb2ludCgxLDEpLHRoaXMudGlsZVBvc2l0aW9uPW5ldyBpLlBvaW50LHRoaXMudGV4dHVyZURlYnVnPSExLHRoaXMuY2FudmFzQnVmZmVyPW51bGwsdGhpcy50aWxpbmdUZXh0dXJlPW51bGwsdGhpcy50aWxlUGF0dGVybj1udWxsLHRoaXMucmVmcmVzaFRleHR1cmU9ITAsdGhpcy5mcmFtZVdpZHRoPTAsdGhpcy5mcmFtZUhlaWdodD0wLHRoaXMuX3dpZHRoPW4sdGhpcy5faGVpZ2h0PW8saS5Db21wb25lbnQuQ29yZS5pbml0LmNhbGwodGhpcyx0LGUscyxyLGEpfSxpLlRpbGVTcHJpdGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoUElYSS5TcHJpdGUucHJvdG90eXBlKSxpLlRpbGVTcHJpdGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWkuVGlsZVNwcml0ZSxpLkNvbXBvbmVudC5Db3JlLmluc3RhbGwuY2FsbChpLlRpbGVTcHJpdGUucHJvdG90eXBlLFtcIkFuZ2xlXCIsXCJBbmltYXRpb25cIixcIkF1dG9DdWxsXCIsXCJCb3VuZHNcIixcIkJyaW5nVG9Ub3BcIixcIkRlc3Ryb3lcIixcIkZpeGVkVG9DYW1lcmFcIixcIkhlYWx0aFwiLFwiSW5DYW1lcmFcIixcIklucHV0RW5hYmxlZFwiLFwiSW5Xb3JsZFwiLFwiTGlmZVNwYW5cIixcIkxvYWRUZXh0dXJlXCIsXCJPdmVybGFwXCIsXCJQaHlzaWNzQm9keVwiLFwiUmVzZXRcIixcIlNtb290aGVkXCJdKSxpLlRpbGVTcHJpdGUucHJvdG90eXBlLnByZVVwZGF0ZVBoeXNpY3M9aS5Db21wb25lbnQuUGh5c2ljc0JvZHkucHJlVXBkYXRlLGkuVGlsZVNwcml0ZS5wcm90b3R5cGUucHJlVXBkYXRlTGlmZVNwYW49aS5Db21wb25lbnQuTGlmZVNwYW4ucHJlVXBkYXRlLGkuVGlsZVNwcml0ZS5wcm90b3R5cGUucHJlVXBkYXRlSW5Xb3JsZD1pLkNvbXBvbmVudC5JbldvcmxkLnByZVVwZGF0ZSxpLlRpbGVTcHJpdGUucHJvdG90eXBlLnByZVVwZGF0ZUNvcmU9aS5Db21wb25lbnQuQ29yZS5wcmVVcGRhdGUsaS5UaWxlU3ByaXRlLnByb3RvdHlwZS5wcmVVcGRhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gMCE9PXRoaXMuX3Njcm9sbC54JiYodGhpcy50aWxlUG9zaXRpb24ueCs9dGhpcy5fc2Nyb2xsLngqdGhpcy5nYW1lLnRpbWUucGh5c2ljc0VsYXBzZWQpLDAhPT10aGlzLl9zY3JvbGwueSYmKHRoaXMudGlsZVBvc2l0aW9uLnkrPXRoaXMuX3Njcm9sbC55KnRoaXMuZ2FtZS50aW1lLnBoeXNpY3NFbGFwc2VkKSwhISh0aGlzLnByZVVwZGF0ZVBoeXNpY3MoKSYmdGhpcy5wcmVVcGRhdGVMaWZlU3BhbigpJiZ0aGlzLnByZVVwZGF0ZUluV29ybGQoKSkmJnRoaXMucHJlVXBkYXRlQ29yZSgpfSxpLlRpbGVTcHJpdGUucHJvdG90eXBlLmF1dG9TY3JvbGw9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5fc2Nyb2xsLnNldCh0LGUpLHRoaXN9LGkuVGlsZVNwcml0ZS5wcm90b3R5cGUuc3RvcFNjcm9sbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zY3JvbGwuc2V0KDAsMCksdGhpc30saS5UaWxlU3ByaXRlLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKHQpe2kuQ29tcG9uZW50LkRlc3Ryb3kucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzLHQpLFBJWEkuU3ByaXRlLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyksdGhpcy5jYW52YXNCdWZmZXImJih0aGlzLmNhbnZhc0J1ZmZlci5kZXN0cm95KCksdGhpcy5jYW52YXNCdWZmZXI9bnVsbCksdGhpcy50aWxlU2NhbGU9bnVsbCx0aGlzLnRpbGVTY2FsZU9mZnNldD1udWxsLHRoaXMudGlsZVBvc2l0aW9uPW51bGwsdGhpcy50aWxpbmdUZXh0dXJlJiYodGhpcy50aWxpbmdUZXh0dXJlLmRlc3Ryb3koITApLHRoaXMudGlsaW5nVGV4dHVyZT1udWxsKX0saS5UaWxlU3ByaXRlLnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbih0LGUpe3JldHVybiBpLkNvbXBvbmVudC5SZXNldC5wcm90b3R5cGUucmVzZXQuY2FsbCh0aGlzLHQsZSksdGhpcy50aWxlUG9zaXRpb24ueD0wLHRoaXMudGlsZVBvc2l0aW9uLnk9MCx0aGlzfSxpLlRpbGVTcHJpdGUucHJvdG90eXBlLnNldFRleHR1cmU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMudGV4dHVyZSE9PXQmJih0aGlzLnRleHR1cmU9dCx0aGlzLnJlZnJlc2hUZXh0dXJlPSEwLHRoaXMuY2FjaGVkVGludD0xNjc3NzIxNSksdGhpc30saS5UaWxlU3ByaXRlLnByb3RvdHlwZS5fcmVuZGVyV2ViR0w9ZnVuY3Rpb24odCl7aWYodGhpcy52aXNpYmxlJiZ0aGlzLnJlbmRlcmFibGUmJjAhPT10aGlzLmFscGhhKXtpZih0aGlzLl9tYXNrJiYodC5zcHJpdGVCYXRjaC5zdG9wKCksdC5tYXNrTWFuYWdlci5wdXNoTWFzayh0aGlzLm1hc2ssdCksdC5zcHJpdGVCYXRjaC5zdGFydCgpKSx0aGlzLl9maWx0ZXJzJiYodC5zcHJpdGVCYXRjaC5mbHVzaCgpLHQuZmlsdGVyTWFuYWdlci5wdXNoRmlsdGVyKHRoaXMuX2ZpbHRlckJsb2NrKSksdGhpcy5yZWZyZXNoVGV4dHVyZSl7aWYodGhpcy5nZW5lcmF0ZVRpbGluZ1RleHR1cmUoITAsdCksIXRoaXMudGlsaW5nVGV4dHVyZSlyZXR1cm47dGhpcy50aWxpbmdUZXh0dXJlLm5lZWRzVXBkYXRlJiYodGhpcy50aWxpbmdUZXh0dXJlLmJhc2VUZXh0dXJlLnRleHR1cmVJbmRleD10aGlzLnRleHR1cmUuYmFzZVRleHR1cmUudGV4dHVyZUluZGV4LHQucmVuZGVyZXIudXBkYXRlVGV4dHVyZSh0aGlzLnRpbGluZ1RleHR1cmUuYmFzZVRleHR1cmUpLHRoaXMudGlsaW5nVGV4dHVyZS5uZWVkc1VwZGF0ZT0hMSl9dC5zcHJpdGVCYXRjaC5yZW5kZXJUaWxpbmdTcHJpdGUodGhpcyk7Zm9yKHZhciBlPTA7ZTx0aGlzLmNoaWxkcmVuLmxlbmd0aDtlKyspdGhpcy5jaGlsZHJlbltlXS5fcmVuZGVyV2ViR0wodCk7dmFyIGk9ITE7dGhpcy5fZmlsdGVycyYmKGk9ITAsdC5zcHJpdGVCYXRjaC5zdG9wKCksdC5maWx0ZXJNYW5hZ2VyLnBvcEZpbHRlcigpKSx0aGlzLl9tYXNrJiYoaXx8dC5zcHJpdGVCYXRjaC5zdG9wKCksdC5tYXNrTWFuYWdlci5wb3BNYXNrKHRoaXMuX21hc2ssdCkpLGkmJnQuc3ByaXRlQmF0Y2guc3RhcnQoKX19LGkuVGlsZVNwcml0ZS5wcm90b3R5cGUuX3JlbmRlckNhbnZhcz1mdW5jdGlvbih0KXtpZih0aGlzLnZpc2libGUmJnRoaXMucmVuZGVyYWJsZSYmMCE9PXRoaXMuYWxwaGEpe3ZhciBlPXQuY29udGV4dDt0aGlzLl9tYXNrJiZ0Lm1hc2tNYW5hZ2VyLnB1c2hNYXNrKHRoaXMuX21hc2ssdCksZS5nbG9iYWxBbHBoYT10aGlzLndvcmxkQWxwaGE7dmFyIGk9dGhpcy53b3JsZFRyYW5zZm9ybSxzPXQucmVzb2x1dGlvbixuPWkudHgqcyt0LnNoYWtlWCxvPWkudHkqcyt0LnNoYWtlWTtpZihlLnNldFRyYW5zZm9ybShpLmEqcyxpLmIqcyxpLmMqcyxpLmQqcyxuLG8pLDE2Nzc3MjE1PT09dGhpcy50aW50fHwhdGhpcy50ZXh0dXJlLnJlcXVpcmVzUmVUaW50JiZ0aGlzLmNhY2hlZFRpbnQ9PT10aGlzLnRpbnR8fCh0aGlzLnRpbnRlZFRleHR1cmU9UElYSS5DYW52YXNUaW50ZXIuZ2V0VGludGVkVGV4dHVyZSh0aGlzLHRoaXMudGludCksdGhpcy5jYWNoZWRUaW50PXRoaXMudGludCx0aGlzLnRleHR1cmUucmVxdWlyZXNSZVRpbnQ9ITEsdGhpcy5yZWZyZXNoVGV4dHVyZT0hMCksdGhpcy5yZWZyZXNoVGV4dHVyZSl7aWYodGhpcy5nZW5lcmF0ZVRpbGluZ1RleHR1cmUoITEsdCksIXRoaXMudGlsaW5nVGV4dHVyZSlyZXR1cm47dGhpcy50aWxlUGF0dGVybj1lLmNyZWF0ZVBhdHRlcm4odGhpcy50aWxpbmdUZXh0dXJlLmJhc2VUZXh0dXJlLnNvdXJjZSxcInJlcGVhdFwiKX12YXIgcj10LmN1cnJlbnRCbGVuZE1vZGU7dGhpcy5ibGVuZE1vZGUhPT10LmN1cnJlbnRCbGVuZE1vZGUmJih0LmN1cnJlbnRCbGVuZE1vZGU9dGhpcy5ibGVuZE1vZGUsZS5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb249UElYSS5ibGVuZE1vZGVzQ2FudmFzW3QuY3VycmVudEJsZW5kTW9kZV0pO3ZhciBhPXRoaXMudGlsZVBvc2l0aW9uLGg9dGhpcy50aWxlU2NhbGU7YS54JT10aGlzLnRpbGluZ1RleHR1cmUuYmFzZVRleHR1cmUud2lkdGgsYS55JT10aGlzLnRpbGluZ1RleHR1cmUuYmFzZVRleHR1cmUuaGVpZ2h0LGUuc2NhbGUoaC54LGgueSksZS50cmFuc2xhdGUoYS54K3RoaXMuYW5jaG9yLngqLXRoaXMuX3dpZHRoLGEueSt0aGlzLmFuY2hvci55Ki10aGlzLl9oZWlnaHQpLGUuZmlsbFN0eWxlPXRoaXMudGlsZVBhdHRlcm4sbj0tYS54LG89LWEueTt2YXIgbD10aGlzLl93aWR0aC9oLngsYz10aGlzLl9oZWlnaHQvaC55O3Qucm91bmRQaXhlbHMmJihufD0wLG98PTAsbHw9MCxjfD0wKSxlLmZpbGxSZWN0KG4sbyxsLGMpLGUuc2NhbGUoMS9oLngsMS9oLnkpLGUudHJhbnNsYXRlKC1hLngrdGhpcy5hbmNob3IueCp0aGlzLl93aWR0aCwtYS55K3RoaXMuYW5jaG9yLnkqdGhpcy5faGVpZ2h0KSx0aGlzLl9tYXNrJiZ0Lm1hc2tNYW5hZ2VyLnBvcE1hc2sodCk7Zm9yKHZhciB1PTA7dTx0aGlzLmNoaWxkcmVuLmxlbmd0aDt1KyspdGhpcy5jaGlsZHJlblt1XS5fcmVuZGVyQ2FudmFzKHQpO3IhPT10aGlzLmJsZW5kTW9kZSYmKHQuY3VycmVudEJsZW5kTW9kZT1yLGUuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uPVBJWEkuYmxlbmRNb2Rlc0NhbnZhc1tyXSl9fSxpLlRpbGVTcHJpdGUucHJvdG90eXBlLm9uVGV4dHVyZVVwZGF0ZT1mdW5jdGlvbigpe30saS5UaWxlU3ByaXRlLnByb3RvdHlwZS5nZW5lcmF0ZVRpbGluZ1RleHR1cmU9ZnVuY3Rpb24odCl7aWYodGhpcy50ZXh0dXJlLmJhc2VUZXh0dXJlLmhhc0xvYWRlZCl7dmFyIGU9dGhpcy50ZXh0dXJlLHM9ZS5mcmFtZSxuPXRoaXMuX2ZyYW1lLnNvdXJjZVNpemVXfHx0aGlzLl9mcmFtZS53aWR0aCxvPXRoaXMuX2ZyYW1lLnNvdXJjZVNpemVIfHx0aGlzLl9mcmFtZS5oZWlnaHQscj0wLGE9MDt0aGlzLl9mcmFtZS50cmltbWVkJiYocj10aGlzLl9mcmFtZS5zcHJpdGVTb3VyY2VTaXplWCxhPXRoaXMuX2ZyYW1lLnNwcml0ZVNvdXJjZVNpemVZKSx0JiYobj1pLk1hdGguZ2V0TmV4dFBvd2VyT2ZUd28obiksbz1pLk1hdGguZ2V0TmV4dFBvd2VyT2ZUd28obykpLHRoaXMuY2FudmFzQnVmZmVyPyh0aGlzLmNhbnZhc0J1ZmZlci5yZXNpemUobixvKSx0aGlzLnRpbGluZ1RleHR1cmUuYmFzZVRleHR1cmUud2lkdGg9bix0aGlzLnRpbGluZ1RleHR1cmUuYmFzZVRleHR1cmUuaGVpZ2h0PW8sdGhpcy50aWxpbmdUZXh0dXJlLm5lZWRzVXBkYXRlPSEwKToodGhpcy5jYW52YXNCdWZmZXI9bmV3IFBJWEkuQ2FudmFzQnVmZmVyKG4sbyksdGhpcy50aWxpbmdUZXh0dXJlPVBJWEkuVGV4dHVyZS5mcm9tQ2FudmFzKHRoaXMuY2FudmFzQnVmZmVyLmNhbnZhcyksdGhpcy50aWxpbmdUZXh0dXJlLmlzVGlsaW5nPSEwLHRoaXMudGlsaW5nVGV4dHVyZS5uZWVkc1VwZGF0ZT0hMCksdGhpcy50ZXh0dXJlRGVidWcmJih0aGlzLmNhbnZhc0J1ZmZlci5jb250ZXh0LnN0cm9rZVN0eWxlPVwiIzAwZmYwMFwiLHRoaXMuY2FudmFzQnVmZmVyLmNvbnRleHQuc3Ryb2tlUmVjdCgwLDAsbixvKSk7dmFyIGg9ZS5jcm9wLndpZHRoLGw9ZS5jcm9wLmhlaWdodDtoPT09biYmbD09PW98fChoPW4sbD1vKTt2YXIgYz10aGlzLnRpbnRlZFRleHR1cmU/dGhpcy50aW50ZWRUZXh0dXJlOmUuYmFzZVRleHR1cmUuc291cmNlO3RoaXMuY2FudmFzQnVmZmVyLmNvbnRleHQuZHJhd0ltYWdlKGMsZS5jcm9wLngsZS5jcm9wLnksZS5jcm9wLndpZHRoLGUuY3JvcC5oZWlnaHQscixhLGgsbCksdGhpcy50aWxlU2NhbGVPZmZzZXQueD1zLndpZHRoL24sdGhpcy50aWxlU2NhbGVPZmZzZXQueT1zLmhlaWdodC9vLHRoaXMucmVmcmVzaFRleHR1cmU9ITEsdGhpcy50aWxpbmdUZXh0dXJlLmJhc2VUZXh0dXJlLl9wb3dlck9mMj0hMH19LGkuVGlsZVNwcml0ZS5wcm90b3R5cGUuZ2V0Qm91bmRzPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fd2lkdGgsZT10aGlzLl9oZWlnaHQsaT10KigxLXRoaXMuYW5jaG9yLngpLHM9dCotdGhpcy5hbmNob3IueCxuPWUqKDEtdGhpcy5hbmNob3IueSksbz1lKi10aGlzLmFuY2hvci55LHI9dGhpcy53b3JsZFRyYW5zZm9ybSxhPXIuYSxoPXIuYixsPXIuYyxjPXIuZCx1PXIudHgsZD1yLnR5LHA9YSpzK2wqbyt1LGY9YypvK2gqcytkLG09YSppK2wqbyt1LGc9YypvK2gqaStkLHk9YSppK2wqbit1LHY9YypuK2gqaStkLHg9YSpzK2wqbit1LGI9YypuK2gqcytkLF89LTEvMCx3PS0xLzAsVD0xLzAsUD0xLzA7VD14PChUPXk8KFQ9bTwoVD1wPFQ/cDpUKT9tOlQpP3k6VCk/eDpULFA9YjwoUD12PChQPWc8KFA9ZjxQP2Y6UCk/ZzpQKT92OlApP2I6UCxfPXg+KF89eT4oXz1tPihfPXA+Xz9wOl8pP206Xyk/eTpfKT94Ol8sdz1iPih3PXY+KHc9Zz4odz1mPnc/Zjp3KT9nOncpP3Y6dyk/Yjp3O3ZhciBDPXRoaXMuX2JvdW5kcztyZXR1cm4gQy54PVQsQy53aWR0aD1fLVQsQy55PVAsQy5oZWlnaHQ9dy1QLHRoaXMuX2N1cnJlbnRCb3VuZHM9QyxDfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5UaWxlU3ByaXRlLnByb3RvdHlwZSxcIndpZHRoXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl93aWR0aH0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3dpZHRoPXR9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuVGlsZVNwcml0ZS5wcm90b3R5cGUsXCJoZWlnaHRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2hlaWdodH0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2hlaWdodD10fX0pLGkuQ2FudmFzUG9vbD17Y3JlYXRlOmZ1bmN0aW9uKHQsZSxzKXt2YXIgbixvPWkuQ2FudmFzUG9vbC5nZXRGaXJzdCgpO2lmKC0xPT09byl7dmFyIHI9e3BhcmVudDp0LGNhbnZhczpkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpfTtpLkNhbnZhc1Bvb2wucG9vbC5wdXNoKHIpLG49ci5jYW52YXN9ZWxzZSBpLkNhbnZhc1Bvb2wucG9vbFtvXS5wYXJlbnQ9dCxuPWkuQ2FudmFzUG9vbC5wb29sW29dLmNhbnZhcztyZXR1cm4gdm9pZCAwIT09ZSYmKG4ud2lkdGg9ZSxuLmhlaWdodD1zKSxufSxnZXRGaXJzdDpmdW5jdGlvbigpe2Zvcih2YXIgdD1pLkNhbnZhc1Bvb2wucG9vbCxlPTA7ZTx0Lmxlbmd0aDtlKyspaWYoIXRbZV0ucGFyZW50KXJldHVybiBlO3JldHVybi0xfSxyZW1vdmU6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPWkuQ2FudmFzUG9vbC5wb29sLHM9MDtzPGUubGVuZ3RoO3MrKyllW3NdLnBhcmVudD09PXQmJihlW3NdLnBhcmVudD1udWxsLGVbc10uY2FudmFzLndpZHRoPTEsZVtzXS5jYW52YXMuaGVpZ2h0PTEpfSxyZW1vdmVCeUNhbnZhczpmdW5jdGlvbih0KXtmb3IodmFyIGU9aS5DYW52YXNQb29sLnBvb2wscz0wO3M8ZS5sZW5ndGg7cysrKWVbc10uY2FudmFzPT09dCYmKGVbc10ucGFyZW50PW51bGwsZVtzXS5jYW52YXMud2lkdGg9MSxlW3NdLmNhbnZhcy5oZWlnaHQ9MSl9LGdldFRvdGFsOmZ1bmN0aW9uKCl7Zm9yKHZhciB0PWkuQ2FudmFzUG9vbC5wb29sLGU9MCxzPTA7czx0Lmxlbmd0aDtzKyspdFtzXS5wYXJlbnQmJmUrKztyZXR1cm4gZX0sZ2V0RnJlZTpmdW5jdGlvbigpe2Zvcih2YXIgdD1pLkNhbnZhc1Bvb2wucG9vbCxlPTAscz0wO3M8dC5sZW5ndGg7cysrKXRbc10ucGFyZW50fHxlKys7cmV0dXJuIGV9LGxvZzpmdW5jdGlvbigpe2NvbnNvbGUubG9nKFwiQ2FudmFzUG9vbDogJXMgdXNlZCwgJXMgZnJlZSwgJXMgdG90YWxcIix0aGlzLmdldFRvdGFsKCksdGhpcy5nZXRGcmVlKCksdGhpcy5wb29sLmxlbmd0aCl9fSxpLkNhbnZhc1Bvb2wucG9vbD1bXSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5DYW52YXNQb29sLFwibGVuZ3RoXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnBvb2wubGVuZ3RofX0pLGkuRGV2aWNlPWZ1bmN0aW9uKCl7dGhpcy5kZXZpY2VSZWFkeUF0PTAsdGhpcy5pbml0aWFsaXplZD0hMSx0aGlzLmRlc2t0b3A9ITEsdGhpcy5pT1M9ITEsdGhpcy5pT1NWZXJzaW9uPTAsdGhpcy5jb2Nvb25KUz0hMSx0aGlzLmNvY29vbkpTQXBwPSExLHRoaXMuY29yZG92YT0hMSx0aGlzLm5vZGU9ITEsdGhpcy5ub2RlV2Via2l0PSExLHRoaXMuZWxlY3Ryb249ITEsdGhpcy5lamVjdGE9ITEsdGhpcy5jcm9zc3dhbGs9ITEsdGhpcy5hbmRyb2lkPSExLHRoaXMuY2hyb21lT1M9ITEsdGhpcy5saW51eD0hMSx0aGlzLm1hY09TPSExLHRoaXMud2luZG93cz0hMSx0aGlzLndpbmRvd3NQaG9uZT0hMSx0aGlzLmNhbnZhcz0hMSx0aGlzLmNhbnZhc0JpdEJsdFNoaWZ0PW51bGwsdGhpcy5jYW5IYW5kbGVBbHBoYT0hMSx0aGlzLmNhblVzZU11bHRpcGx5PSExLHRoaXMud2ViR0w9ITEsdGhpcy5maWxlPSExLHRoaXMuZmlsZVN5c3RlbT0hMSx0aGlzLmxvY2FsU3RvcmFnZT0hMSx0aGlzLndvcmtlcj0hMSx0aGlzLmNzczNEPSExLHRoaXMucG9pbnRlckxvY2s9ITEsdGhpcy50eXBlZEFycmF5PSExLHRoaXMudmlicmF0aW9uPSExLHRoaXMuZ2V0VXNlck1lZGlhPSEwLHRoaXMucXVpcmtzTW9kZT0hMSx0aGlzLnRvdWNoPSExLHRoaXMubXNwb2ludGVyPSExLHRoaXMud2hlZWxFdmVudD1udWxsLHRoaXMuYXJvcmE9ITEsdGhpcy5jaHJvbWU9ITEsdGhpcy5jaHJvbWVWZXJzaW9uPTAsdGhpcy5lcGlwaGFueT0hMSx0aGlzLmZpcmVmb3g9ITEsdGhpcy5maXJlZm94VmVyc2lvbj0wLHRoaXMuaWU9ITEsdGhpcy5pZVZlcnNpb249MCx0aGlzLnRyaWRlbnQ9ITEsdGhpcy50cmlkZW50VmVyc2lvbj0wLHRoaXMuZWRnZT0hMSx0aGlzLm1vYmlsZVNhZmFyaT0hMSx0aGlzLm1pZG9yaT0hMSx0aGlzLm9wZXJhPSExLHRoaXMuc2FmYXJpPSExLHRoaXMuc2FmYXJpVmVyc2lvbj0wLHRoaXMud2ViQXBwPSExLHRoaXMuc2lsaz0hMSx0aGlzLmF1ZGlvRGF0YT0hMSx0aGlzLndlYkF1ZGlvPSExLHRoaXMub2dnPSExLHRoaXMub3B1cz0hMSx0aGlzLm1wMz0hMSx0aGlzLndhdj0hMSx0aGlzLm00YT0hMSx0aGlzLndlYm09ITEsdGhpcy5kb2xieT0hMSx0aGlzLm9nZ1ZpZGVvPSExLHRoaXMuaDI2NFZpZGVvPSExLHRoaXMubXA0VmlkZW89ITEsdGhpcy53ZWJtVmlkZW89ITEsdGhpcy52cDlWaWRlbz0hMSx0aGlzLmhsc1ZpZGVvPSExLHRoaXMuaVBob25lPSExLHRoaXMuaVBob25lND0hMSx0aGlzLmlQYWQ9ITEsdGhpcy5waXhlbFJhdGlvPTAsdGhpcy5saXR0bGVFbmRpYW49ITEsdGhpcy5MSVRUTEVfRU5ESUFOPSExLHRoaXMuc3VwcG9ydDMyYml0PSExLHRoaXMuZnVsbHNjcmVlbj0hMSx0aGlzLnJlcXVlc3RGdWxsc2NyZWVuPVwiXCIsdGhpcy5jYW5jZWxGdWxsc2NyZWVuPVwiXCIsdGhpcy5mdWxsc2NyZWVuS2V5Ym9hcmQ9ITF9LGkuRGV2aWNlPW5ldyBpLkRldmljZSxpLkRldmljZS5vbkluaXRpYWxpemVkPW5ldyBpLlNpZ25hbCxpLkRldmljZS53aGVuUmVhZHk9ZnVuY3Rpb24odCxlLGkpe3ZhciBzPXRoaXMuX3JlYWR5Q2hlY2s7aWYodGhpcy5kZXZpY2VSZWFkeUF0fHwhcyl0LmNhbGwoZSx0aGlzKTtlbHNlIGlmKHMuX21vbml0b3J8fGkpcy5fcXVldWU9cy5fcXVldWV8fFtdLHMuX3F1ZXVlLnB1c2goW3QsZV0pO2Vsc2V7cy5fbW9uaXRvcj1zLmJpbmQodGhpcykscy5fcXVldWU9cy5fcXVldWV8fFtdLHMuX3F1ZXVlLnB1c2goW3QsZV0pO3ZhciBuPXZvaWQgMCE9PXdpbmRvdy5jb3Jkb3ZhLG89bmF2aWdhdG9yLmlzQ29jb29uSlM7XCJjb21wbGV0ZVwiPT09ZG9jdW1lbnQucmVhZHlTdGF0ZXx8XCJpbnRlcmFjdGl2ZVwiPT09ZG9jdW1lbnQucmVhZHlTdGF0ZT93aW5kb3cuc2V0VGltZW91dChzLl9tb25pdG9yLDApOm4mJiFvP2RvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJkZXZpY2VyZWFkeVwiLHMuX21vbml0b3IsITEpOihkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLHMuX21vbml0b3IsITEpLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLHMuX21vbml0b3IsITEpKX19LGkuRGV2aWNlLl9yZWFkeUNoZWNrPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fcmVhZHlDaGVjaztpZihkb2N1bWVudC5ib2R5KXtpZighdGhpcy5kZXZpY2VSZWFkeUF0KXt0aGlzLmRldmljZVJlYWR5QXQ9RGF0ZS5ub3coKSxkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwiZGV2aWNlcmVhZHlcIix0Ll9tb25pdG9yKSxkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLHQuX21vbml0b3IpLHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwibG9hZFwiLHQuX21vbml0b3IpLHRoaXMuX2luaXRpYWxpemUoKSx0aGlzLmluaXRpYWxpemVkPSEwLHRoaXMub25Jbml0aWFsaXplZC5kaXNwYXRjaCh0aGlzKTtmb3IodmFyIGU7ZT10Ll9xdWV1ZS5zaGlmdCgpOyl7dmFyIGk9ZVswXSxzPWVbMV07aS5jYWxsKHMsdGhpcyl9dGhpcy5fcmVhZHlDaGVjaz1udWxsLHRoaXMuX2luaXRpYWxpemU9bnVsbCx0aGlzLm9uSW5pdGlhbGl6ZWQ9bnVsbH19ZWxzZSB3aW5kb3cuc2V0VGltZW91dCh0Ll9tb25pdG9yLDIwKX0saS5EZXZpY2UuX2luaXRpYWxpemU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dmFyIHQ9bmV3IEFycmF5QnVmZmVyKDQpLGU9bmV3IFVpbnQ4QXJyYXkodCksaT1uZXcgVWludDMyQXJyYXkodCk7cmV0dXJuIGVbMF09MTYxLGVbMV09MTc4LGVbMl09MTk1LGVbM109MjEyLDM1Njk1OTUwNDE9PT1pWzBdfHwyNzEyODQ3MzE2IT09aVswXSYmbnVsbH1mdW5jdGlvbiBlKCl7aWYodm9pZCAwPT09VWludDhDbGFtcGVkQXJyYXkpcmV0dXJuITE7dmFyIHQ9aS5DYW52YXNQb29sLmNyZWF0ZSh0aGlzLDEsMSkuZ2V0Q29udGV4dChcIjJkXCIpO2lmKCF0KXJldHVybiExO3ZhciBlPXQuY3JlYXRlSW1hZ2VEYXRhKDEsMSk7cmV0dXJuIGkuQ2FudmFzUG9vbC5yZW1vdmUodGhpcyksZS5kYXRhIGluc3RhbmNlb2YgVWludDhDbGFtcGVkQXJyYXl9dmFyIHM9dGhpczshZnVuY3Rpb24oKXt2YXIgdD1uYXZpZ2F0b3IudXNlckFnZW50Oy9QbGF5c3RhdGlvbiBWaXRhLy50ZXN0KHQpP3Mudml0YT0hMDovS2luZGxlLy50ZXN0KHQpfHwvXFxiS0ZbQS1aXVtBLVpdKy8udGVzdCh0KXx8L1NpbGsuKk1vYmlsZSBTYWZhcmkvLnRlc3QodCk/cy5raW5kbGU9ITA6L0FuZHJvaWQvLnRlc3QodCk/cy5hbmRyb2lkPSEwOi9Dck9TLy50ZXN0KHQpP3MuY2hyb21lT1M9ITA6L2lQW2FvXWR8aVBob25lL2kudGVzdCh0KT8ocy5pT1M9ITAsbmF2aWdhdG9yLmFwcFZlcnNpb24ubWF0Y2goL09TIChcXGQrKS8pLHMuaU9TVmVyc2lvbj1wYXJzZUludChSZWdFeHAuJDEsMTApKTovTGludXgvLnRlc3QodCk/cy5saW51eD0hMDovTWFjIE9TLy50ZXN0KHQpP3MubWFjT1M9ITA6L1dpbmRvd3MvLnRlc3QodCkmJihzLndpbmRvd3M9ITApLCgvV2luZG93cyBQaG9uZS9pLnRlc3QodCl8fC9JRU1vYmlsZS9pLnRlc3QodCkpJiYocy5hbmRyb2lkPSExLHMuaU9TPSExLHMubWFjT1M9ITEscy53aW5kb3dzPSEwLHMud2luZG93c1Bob25lPSEwKTt2YXIgZT0vU2lsay8udGVzdCh0KTsocy53aW5kb3dzfHxzLm1hY09TfHxzLmxpbnV4JiYhZXx8cy5jaHJvbWVPUykmJihzLmRlc2t0b3A9ITApLChzLndpbmRvd3NQaG9uZXx8L1dpbmRvd3MgTlQvaS50ZXN0KHQpJiYvVG91Y2gvaS50ZXN0KHQpKSYmKHMuZGVza3RvcD0hMSl9KCksZnVuY3Rpb24oKXt2YXIgdD1uYXZpZ2F0b3IudXNlckFnZW50O2lmKC9Bcm9yYS8udGVzdCh0KT9zLmFyb3JhPSEwOi9FZGdlXFwvXFxkKy8udGVzdCh0KT9zLmVkZ2U9ITA6L0Nocm9tZVxcLyhcXGQrKS8udGVzdCh0KSYmIXMud2luZG93c1Bob25lPyhzLmNocm9tZT0hMCxzLmNocm9tZVZlcnNpb249cGFyc2VJbnQoUmVnRXhwLiQxLDEwKSk6L0VwaXBoYW55Ly50ZXN0KHQpP3MuZXBpcGhhbnk9ITA6L0ZpcmVmb3hcXEQrKFxcZCspLy50ZXN0KHQpPyhzLmZpcmVmb3g9ITAscy5maXJlZm94VmVyc2lvbj1wYXJzZUludChSZWdFeHAuJDEsMTApKTovQXBwbGVXZWJLaXQvLnRlc3QodCkmJnMuaU9TP3MubW9iaWxlU2FmYXJpPSEwOi9NU0lFIChcXGQrXFwuXFxkKyk7Ly50ZXN0KHQpPyhzLmllPSEwLHMuaWVWZXJzaW9uPXBhcnNlSW50KFJlZ0V4cC4kMSwxMCkpOi9NaWRvcmkvLnRlc3QodCk/cy5taWRvcmk9ITA6L09wZXJhLy50ZXN0KHQpP3Mub3BlcmE9ITA6L1NhZmFyaVxcLyhcXGQrKS8udGVzdCh0KSYmIXMud2luZG93c1Bob25lPyhzLnNhZmFyaT0hMCwvVmVyc2lvblxcLyhcXGQrKVxcLi8udGVzdCh0KSYmKHMuc2FmYXJpVmVyc2lvbj1wYXJzZUludChSZWdFeHAuJDEsMTApKSk6L1RyaWRlbnRcXC8oXFxkK1xcLlxcZCspKC4qKXJ2OihcXGQrXFwuXFxkKykvLnRlc3QodCkmJihzLmllPSEwLHMudHJpZGVudD0hMCxzLnRyaWRlbnRWZXJzaW9uPXBhcnNlSW50KFJlZ0V4cC4kMSwxMCkscy5pZVZlcnNpb249cGFyc2VJbnQoUmVnRXhwLiQzLDEwKSksL1NpbGsvLnRlc3QodCkmJihzLnNpbGs9ITApLG5hdmlnYXRvci5zdGFuZGFsb25lJiYocy53ZWJBcHA9ITApLHZvaWQgMCE9PXdpbmRvdy5jb3Jkb3ZhJiYocy5jb3Jkb3ZhPSEwKSxcInVuZGVmaW5lZFwiIT10eXBlb2YgcHJvY2VzcyYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHJlcXVpcmUmJihzLm5vZGU9ITApLHMubm9kZSYmXCJvYmplY3RcIj09dHlwZW9mIHByb2Nlc3MudmVyc2lvbnMmJihzLm5vZGVXZWJraXQ9ISFwcm9jZXNzLnZlcnNpb25zW1wibm9kZS13ZWJraXRcIl0scy5lbGVjdHJvbj0hIXByb2Nlc3MudmVyc2lvbnMuZWxlY3Ryb24pLG5hdmlnYXRvci5pc0NvY29vbkpTJiYocy5jb2Nvb25KUz0hMCkscy5jb2Nvb25KUyl0cnl7cy5jb2Nvb25KU0FwcD1cInVuZGVmaW5lZFwiIT10eXBlb2YgQ29jb29uSlN9Y2F0Y2godCl7cy5jb2Nvb25KU0FwcD0hMX12b2lkIDAhPT13aW5kb3cuZWplY3RhJiYocy5lamVjdGE9ITApLC9Dcm9zc3dhbGsvLnRlc3QodCkmJihzLmNyb3Nzd2Fsaz0hMCl9KCksZnVuY3Rpb24oKXtzLmF1ZGlvRGF0YT0hIXdpbmRvdy5BdWRpbyxzLndlYkF1ZGlvPSEoIXdpbmRvdy5BdWRpb0NvbnRleHQmJiF3aW5kb3cud2Via2l0QXVkaW9Db250ZXh0KTt2YXIgdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYXVkaW9cIik7dHJ5e2lmKHQuY2FuUGxheVR5cGUmJih0LmNhblBsYXlUeXBlKCdhdWRpby9vZ2c7IGNvZGVjcz1cInZvcmJpc1wiJykucmVwbGFjZSgvXm5vJC8sXCJcIikmJihzLm9nZz0hMCksKHQuY2FuUGxheVR5cGUoJ2F1ZGlvL29nZzsgY29kZWNzPVwib3B1c1wiJykucmVwbGFjZSgvXm5vJC8sXCJcIil8fHQuY2FuUGxheVR5cGUoXCJhdWRpby9vcHVzO1wiKS5yZXBsYWNlKC9ebm8kLyxcIlwiKSkmJihzLm9wdXM9ITApLHQuY2FuUGxheVR5cGUoXCJhdWRpby9tcGVnO1wiKS5yZXBsYWNlKC9ebm8kLyxcIlwiKSYmKHMubXAzPSEwKSx0LmNhblBsYXlUeXBlKCdhdWRpby93YXY7IGNvZGVjcz1cIjFcIicpLnJlcGxhY2UoL15ubyQvLFwiXCIpJiYocy53YXY9ITApLCh0LmNhblBsYXlUeXBlKFwiYXVkaW8veC1tNGE7XCIpfHx0LmNhblBsYXlUeXBlKFwiYXVkaW8vYWFjO1wiKS5yZXBsYWNlKC9ebm8kLyxcIlwiKSkmJihzLm00YT0hMCksdC5jYW5QbGF5VHlwZSgnYXVkaW8vd2VibTsgY29kZWNzPVwidm9yYmlzXCInKS5yZXBsYWNlKC9ebm8kLyxcIlwiKSYmKHMud2VibT0hMCksXCJcIiE9PXQuY2FuUGxheVR5cGUoJ2F1ZGlvL21wNDtjb2RlY3M9XCJlYy0zXCInKSkpaWYocy5lZGdlKXMuZG9sYnk9ITA7ZWxzZSBpZihzLnNhZmFyaSYmcy5zYWZhcmlWZXJzaW9uPj05JiYvTWFjIE9TIFggKFxcZCspXyhcXGQrKS8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSl7dmFyIGU9cGFyc2VJbnQoUmVnRXhwLiQxLDEwKSxpPXBhcnNlSW50KFJlZ0V4cC4kMiwxMCk7KDEwPT09ZSYmaT49MTF8fGU+MTApJiYocy5kb2xieT0hMCl9fWNhdGNoKHQpe319KCksZnVuY3Rpb24oKXt2YXIgdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidmlkZW9cIik7dHJ5eyEhdC5jYW5QbGF5VHlwZSYmKHQuY2FuUGxheVR5cGUoJ3ZpZGVvL29nZzsgY29kZWNzPVwidGhlb3JhXCInKS5yZXBsYWNlKC9ebm8kLyxcIlwiKSYmKHMub2dnVmlkZW89ITApLHQuY2FuUGxheVR5cGUoJ3ZpZGVvL21wNDsgY29kZWNzPVwiYXZjMS40MkUwMUVcIicpLnJlcGxhY2UoL15ubyQvLFwiXCIpJiYocy5oMjY0VmlkZW89ITAscy5tcDRWaWRlbz0hMCksdC5jYW5QbGF5VHlwZSgndmlkZW8vd2VibTsgY29kZWNzPVwidnA4LCB2b3JiaXNcIicpLnJlcGxhY2UoL15ubyQvLFwiXCIpJiYocy53ZWJtVmlkZW89ITApLHQuY2FuUGxheVR5cGUoJ3ZpZGVvL3dlYm07IGNvZGVjcz1cInZwOVwiJykucmVwbGFjZSgvXm5vJC8sXCJcIikmJihzLnZwOVZpZGVvPSEwKSx0LmNhblBsYXlUeXBlKCdhcHBsaWNhdGlvbi94LW1wZWdVUkw7IGNvZGVjcz1cImF2YzEuNDJFMDFFXCInKS5yZXBsYWNlKC9ebm8kLyxcIlwiKSYmKHMuaGxzVmlkZW89ITApKX1jYXRjaCh0KXt9fSgpLGZ1bmN0aW9uKCl7dmFyIHQsZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKSxpPXt3ZWJraXRUcmFuc2Zvcm06XCItd2Via2l0LXRyYW5zZm9ybVwiLE9UcmFuc2Zvcm06XCItby10cmFuc2Zvcm1cIixtc1RyYW5zZm9ybTpcIi1tcy10cmFuc2Zvcm1cIixNb3pUcmFuc2Zvcm06XCItbW96LXRyYW5zZm9ybVwiLHRyYW5zZm9ybTpcInRyYW5zZm9ybVwifTtkb2N1bWVudC5ib2R5Lmluc2VydEJlZm9yZShlLG51bGwpO2Zvcih2YXIgbiBpbiBpKXZvaWQgMCE9PWUuc3R5bGVbbl0mJihlLnN0eWxlW25dPVwidHJhbnNsYXRlM2QoMXB4LDFweCwxcHgpXCIsdD13aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlKS5nZXRQcm9wZXJ0eVZhbHVlKGlbbl0pKTtkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGUpLHMuY3NzM0Q9dm9pZCAwIT09dCYmdC5sZW5ndGg+MCYmXCJub25lXCIhPT10fSgpLHMucGl4ZWxSYXRpbz13aW5kb3cuZGV2aWNlUGl4ZWxSYXRpb3x8MSxzLmlQaG9uZT0tMSE9PW5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5pbmRleE9mKFwiaXBob25lXCIpLHMuaVBob25lND0yPT09cy5waXhlbFJhdGlvJiZzLmlQaG9uZSxzLmlQYWQ9LTEhPT1uYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkuaW5kZXhPZihcImlwYWRcIiksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIEludDhBcnJheT9zLnR5cGVkQXJyYXk9ITA6cy50eXBlZEFycmF5PSExLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBBcnJheUJ1ZmZlciYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIFVpbnQ4QXJyYXkmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBVaW50MzJBcnJheSYmKHMubGl0dGxlRW5kaWFuPXQoKSxzLkxJVFRMRV9FTkRJQU49cy5saXR0bGVFbmRpYW4pLHMuc3VwcG9ydDMyYml0PVwidW5kZWZpbmVkXCIhPXR5cGVvZiBBcnJheUJ1ZmZlciYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIFVpbnQ4Q2xhbXBlZEFycmF5JiZcInVuZGVmaW5lZFwiIT10eXBlb2YgSW50MzJBcnJheSYmbnVsbCE9PXMubGl0dGxlRW5kaWFuJiZlKCksbmF2aWdhdG9yLnZpYnJhdGU9bmF2aWdhdG9yLnZpYnJhdGV8fG5hdmlnYXRvci53ZWJraXRWaWJyYXRlfHxuYXZpZ2F0b3IubW96VmlicmF0ZXx8bmF2aWdhdG9yLm1zVmlicmF0ZSxuYXZpZ2F0b3IudmlicmF0ZSYmKHMudmlicmF0aW9uPSEwKSxmdW5jdGlvbigpe3MuY2FudmFzPSEhd2luZG93LkNhbnZhc1JlbmRlcmluZ0NvbnRleHQyRHx8cy5jb2Nvb25KUzt0cnl7cy5sb2NhbFN0b3JhZ2U9ISFsb2NhbFN0b3JhZ2UuZ2V0SXRlbX1jYXRjaCh0KXtzLmxvY2FsU3RvcmFnZT0hMX1zLmZpbGU9ISEod2luZG93LkZpbGUmJndpbmRvdy5GaWxlUmVhZGVyJiZ3aW5kb3cuRmlsZUxpc3QmJndpbmRvdy5CbG9iKSxzLmZpbGVTeXN0ZW09ISF3aW5kb3cucmVxdWVzdEZpbGVTeXN0ZW0scy53ZWJHTD1mdW5jdGlvbigpe3RyeXt2YXIgdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO3JldHVybiB0LnNjcmVlbmNhbnZhcz0hMSwhIXdpbmRvdy5XZWJHTFJlbmRlcmluZ0NvbnRleHQmJih0LmdldENvbnRleHQoXCJ3ZWJnbFwiKXx8dC5nZXRDb250ZXh0KFwiZXhwZXJpbWVudGFsLXdlYmdsXCIpKX1jYXRjaCh0KXtyZXR1cm4hMX19KCkscy53ZWJHTD0hIXMud2ViR0wscy53b3JrZXI9ISF3aW5kb3cuV29ya2VyLHMucG9pbnRlckxvY2s9XCJwb2ludGVyTG9ja0VsZW1lbnRcImluIGRvY3VtZW50fHxcIm1velBvaW50ZXJMb2NrRWxlbWVudFwiaW4gZG9jdW1lbnR8fFwid2Via2l0UG9pbnRlckxvY2tFbGVtZW50XCJpbiBkb2N1bWVudCxzLnF1aXJrc01vZGU9XCJDU1MxQ29tcGF0XCIhPT1kb2N1bWVudC5jb21wYXRNb2RlLG5hdmlnYXRvci5nZXRVc2VyTWVkaWE9bmF2aWdhdG9yLmdldFVzZXJNZWRpYXx8bmF2aWdhdG9yLndlYmtpdEdldFVzZXJNZWRpYXx8bmF2aWdhdG9yLm1vekdldFVzZXJNZWRpYXx8bmF2aWdhdG9yLm1zR2V0VXNlck1lZGlhfHxuYXZpZ2F0b3Iub0dldFVzZXJNZWRpYSx3aW5kb3cuVVJMPXdpbmRvdy5VUkx8fHdpbmRvdy53ZWJraXRVUkx8fHdpbmRvdy5tb3pVUkx8fHdpbmRvdy5tc1VSTCxzLmdldFVzZXJNZWRpYT1zLmdldFVzZXJNZWRpYSYmISFuYXZpZ2F0b3IuZ2V0VXNlck1lZGlhJiYhIXdpbmRvdy5VUkwscy5maXJlZm94JiZzLmZpcmVmb3hWZXJzaW9uPDIxJiYocy5nZXRVc2VyTWVkaWE9ITEpLCFzLmlPUyYmKHMuaWV8fHMuZmlyZWZveHx8cy5jaHJvbWUpJiYocy5jYW52YXNCaXRCbHRTaGlmdD0hMCksKHMuc2FmYXJpfHxzLm1vYmlsZVNhZmFyaSkmJihzLmNhbnZhc0JpdEJsdFNoaWZ0PSExKX0oKSxmdW5jdGlvbigpe3ZhciB0PWkuQ2FudmFzUG9vbC5jcmVhdGUodGhpcyw2LDEpLGU9dC5nZXRDb250ZXh0KFwiMmRcIik7ZS5maWxsU3R5bGU9XCJyZ2JhKDEwLCAyMCwgMzAsIDAuNSlcIixlLmZpbGxSZWN0KDAsMCwxLDEpO3ZhciBuPWUuZ2V0SW1hZ2VEYXRhKDAsMCwxLDEpO2lmKG4pe2UucHV0SW1hZ2VEYXRhKG4sMSwwKTt2YXIgbz1lLmdldEltYWdlRGF0YSgxLDAsMSwxKTtzLmNhbkhhbmRsZUFscGhhPW8uZGF0YVswXT09PW4uZGF0YVswXSYmby5kYXRhWzFdPT09bi5kYXRhWzFdJiZvLmRhdGFbMl09PT1uLmRhdGFbMl0mJm8uZGF0YVszXT09PW4uZGF0YVszXX1lLmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbj1cIm11bHRpcGx5XCIscy5jYW5Vc2VNdWx0aXBseT1cIm11bHRpcGx5XCI9PT1lLmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbixpLkNhbnZhc1Bvb2wucmVtb3ZlQnlDYW52YXModCksUElYSS5DYW52YXNUaW50ZXIudGludE1ldGhvZD1zLmNhblVzZU11bHRpcGx5P1BJWEkuQ2FudmFzVGludGVyLnRpbnRXaXRoTXVsdGlwbHk6UElYSS5DYW52YXNUaW50ZXIudGludFdpdGhQZXJQaXhlbH0oKSxmdW5jdGlvbigpe2Zvcih2YXIgdD1bXCJyZXF1ZXN0RnVsbHNjcmVlblwiLFwicmVxdWVzdEZ1bGxTY3JlZW5cIixcIndlYmtpdFJlcXVlc3RGdWxsc2NyZWVuXCIsXCJ3ZWJraXRSZXF1ZXN0RnVsbFNjcmVlblwiLFwibXNSZXF1ZXN0RnVsbHNjcmVlblwiLFwibXNSZXF1ZXN0RnVsbFNjcmVlblwiLFwibW96UmVxdWVzdEZ1bGxTY3JlZW5cIixcIm1velJlcXVlc3RGdWxsc2NyZWVuXCJdLGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSxpPTA7aTx0Lmxlbmd0aDtpKyspaWYoZVt0W2ldXSl7cy5mdWxsc2NyZWVuPSEwLHMucmVxdWVzdEZ1bGxzY3JlZW49dFtpXTticmVha312YXIgbj1bXCJjYW5jZWxGdWxsU2NyZWVuXCIsXCJleGl0RnVsbHNjcmVlblwiLFwid2Via2l0Q2FuY2VsRnVsbFNjcmVlblwiLFwid2Via2l0RXhpdEZ1bGxzY3JlZW5cIixcIm1zQ2FuY2VsRnVsbFNjcmVlblwiLFwibXNFeGl0RnVsbHNjcmVlblwiLFwibW96Q2FuY2VsRnVsbFNjcmVlblwiLFwibW96RXhpdEZ1bGxzY3JlZW5cIl07aWYocy5mdWxsc2NyZWVuKWZvcihpPTA7aTxuLmxlbmd0aDtpKyspaWYoZG9jdW1lbnRbbltpXV0pe3MuY2FuY2VsRnVsbHNjcmVlbj1uW2ldO2JyZWFrfXdpbmRvdy5FbGVtZW50JiZFbGVtZW50LkFMTE9XX0tFWUJPQVJEX0lOUFVUJiYocy5mdWxsc2NyZWVuS2V5Ym9hcmQ9ITApfSgpLChcIm9udG91Y2hzdGFydFwiaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50fHx3aW5kb3cubmF2aWdhdG9yLm1heFRvdWNoUG9pbnRzJiZ3aW5kb3cubmF2aWdhdG9yLm1heFRvdWNoUG9pbnRzPj0xKSYmKHMudG91Y2g9ITApLCh3aW5kb3cuUG9pbnRlckV2ZW50fHx3aW5kb3cuTVNQb2ludGVyRXZlbnR8fHdpbmRvdy5uYXZpZ2F0b3IubXNQb2ludGVyRW5hYmxlZHx8d2luZG93Lm5hdmlnYXRvci5wb2ludGVyRW5hYmxlZCkmJihzLm1zcG9pbnRlcj0hMCkscy5jb2Nvb25KU3x8KFwib253aGVlbFwiaW4gd2luZG93fHxzLmllJiZcIldoZWVsRXZlbnRcImluIHdpbmRvdz9zLndoZWVsRXZlbnQ9XCJ3aGVlbFwiOlwib25tb3VzZXdoZWVsXCJpbiB3aW5kb3c/cy53aGVlbEV2ZW50PVwibW91c2V3aGVlbFwiOnMuZmlyZWZveCYmXCJNb3VzZVNjcm9sbEV2ZW50XCJpbiB3aW5kb3cmJihzLndoZWVsRXZlbnQ9XCJET01Nb3VzZVNjcm9sbFwiKSl9LGkuRGV2aWNlLmNhblBsYXlBdWRpbz1mdW5jdGlvbih0KXtyZXR1cm4hKFwibXAzXCIhPT10fHwhdGhpcy5tcDMpfHwoIShcIm9nZ1wiIT09dHx8IXRoaXMub2dnJiYhdGhpcy5vcHVzKXx8KCEoXCJtNGFcIiE9PXR8fCF0aGlzLm00YSl8fCghKFwib3B1c1wiIT09dHx8IXRoaXMub3B1cyl8fCghKFwid2F2XCIhPT10fHwhdGhpcy53YXYpfHwoIShcIndlYm1cIiE9PXR8fCF0aGlzLndlYm0pfHwhKFwibXA0XCIhPT10fHwhdGhpcy5kb2xieSkpKSkpKX0saS5EZXZpY2UuY2FuUGxheVZpZGVvPWZ1bmN0aW9uKHQpe3JldHVybiEoXCJ3ZWJtXCIhPT10fHwhdGhpcy53ZWJtVmlkZW8mJiF0aGlzLnZwOVZpZGVvKXx8KCEoXCJtcDRcIiE9PXR8fCF0aGlzLm1wNFZpZGVvJiYhdGhpcy5oMjY0VmlkZW8pfHwoIShcIm9nZ1wiIT09dCYmXCJvZ3ZcIiE9PXR8fCF0aGlzLm9nZ1ZpZGVvKXx8IShcIm1wZWdcIiE9PXR8fCF0aGlzLmhsc1ZpZGVvKSkpfSxpLkRldmljZS5uZWVkc1RvdWNoVW5sb2NrPWZ1bmN0aW9uKCl7cmV0dXJuISEoIXRoaXMuY29jb29uSlMmJih0aGlzLmlPU3x8dGhpcy5hbmRyb2lkKXx8d2luZG93LlBoYXNlckdsb2JhbCYmd2luZG93LlBoYXNlckdsb2JhbC5mYWtlaU9TVG91Y2hMb2NrKX0saS5EZXZpY2UuaXNDb25zb2xlT3Blbj1mdW5jdGlvbigpe3JldHVybiBjb25zb2xlLndhcm4oXCJQaGFzZXIuRGV2aWNlLmlzQ29uc29sZU9wZW4gaXMgZGVwcmVjYXRlZCBhbmQgd2lsbCBiZSByZW1vdmVkLlwiKSwhMX0saS5EZXZpY2UuaXNBbmRyb2lkU3RvY2tCcm93c2VyPWZ1bmN0aW9uKCl7dmFyIHQ9d2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL0FuZHJvaWQuKkFwcGxlV2ViS2l0XFwvKFtcXGQuXSspLyk7cmV0dXJuIHQmJnRbMV08NTM3fSxpLkNhbnZhcz17Y3JlYXRlOmZ1bmN0aW9uKHQsZSxzLG4sbyl7ZT1lfHwyNTYscz1zfHwyNTY7dmFyIHI9bz9kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpOmkuQ2FudmFzUG9vbC5jcmVhdGUodCxlLHMpO3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBuJiZcIlwiIT09biYmKHIuaWQ9biksci53aWR0aD1lLHIuaGVpZ2h0PXMsci5zdHlsZS5kaXNwbGF5PVwiYmxvY2tcIixyfSxzZXRCYWNrZ3JvdW5kQ29sb3I6ZnVuY3Rpb24odCxlKXtyZXR1cm4gZT1lfHxcInJnYigwLDAsMClcIix0LnN0eWxlLmJhY2tncm91bmRDb2xvcj1lLHR9LHNldFRvdWNoQWN0aW9uOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIGU9ZXx8XCJub25lXCIsdC5zdHlsZS5tc1RvdWNoQWN0aW9uPWUsdC5zdHlsZVtcIm1zLXRvdWNoLWFjdGlvblwiXT1lLHQuc3R5bGVbXCJ0b3VjaC1hY3Rpb25cIl09ZSx0fSxzZXRVc2VyU2VsZWN0OmZ1bmN0aW9uKHQsZSl7cmV0dXJuIGU9ZXx8XCJub25lXCIsdC5zdHlsZVtcIi13ZWJraXQtdG91Y2gtY2FsbG91dFwiXT1lLHQuc3R5bGVbXCItd2Via2l0LXVzZXItc2VsZWN0XCJdPWUsdC5zdHlsZVtcIi1raHRtbC11c2VyLXNlbGVjdFwiXT1lLHQuc3R5bGVbXCItbW96LXVzZXItc2VsZWN0XCJdPWUsdC5zdHlsZVtcIi1tcy11c2VyLXNlbGVjdFwiXT1lLHQuc3R5bGVbXCJ1c2VyLXNlbGVjdFwiXT1lLHQuc3R5bGVbXCItd2Via2l0LXRhcC1oaWdobGlnaHQtY29sb3JcIl09XCJyZ2JhKDAsIDAsIDAsIDApXCIsdH0sYWRkVG9ET006ZnVuY3Rpb24odCxlLGkpe3ZhciBzO3JldHVybiB2b2lkIDA9PT1pJiYoaT0hMCksZSYmKFwic3RyaW5nXCI9PXR5cGVvZiBlP3M9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZSk6XCJvYmplY3RcIj09dHlwZW9mIGUmJjE9PT1lLm5vZGVUeXBlJiYocz1lKSksc3x8KHM9ZG9jdW1lbnQuYm9keSksaSYmcy5zdHlsZSYmKHMuc3R5bGUub3ZlcmZsb3c9XCJoaWRkZW5cIikscy5hcHBlbmRDaGlsZCh0KSx0fSxyZW1vdmVGcm9tRE9NOmZ1bmN0aW9uKHQpe3QucGFyZW50Tm9kZSYmdC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHQpfSxzZXRUcmFuc2Zvcm06ZnVuY3Rpb24odCxlLGkscyxuLG8scil7cmV0dXJuIHQuc2V0VHJhbnNmb3JtKHMsbyxyLG4sZSxpKSx0fSxzZXRTbW9vdGhpbmdFbmFibGVkOmZ1bmN0aW9uKHQsZSl7dmFyIHM9aS5DYW52YXMuZ2V0U21vb3RoaW5nUHJlZml4KHQpO3JldHVybiBzJiYodFtzXT1lKSx0fSxnZXRTbW9vdGhpbmdQcmVmaXg6ZnVuY3Rpb24odCl7dmFyIGU9W1wiaVwiLFwid2Via2l0SVwiLFwibXNJXCIsXCJtb3pJXCIsXCJvSVwiXTtmb3IodmFyIGkgaW4gZSl7dmFyIHM9ZVtpXStcIm1hZ2VTbW9vdGhpbmdFbmFibGVkXCI7aWYocyBpbiB0KXJldHVybiBzfXJldHVybiBudWxsfSxnZXRTbW9vdGhpbmdFbmFibGVkOmZ1bmN0aW9uKHQpe3ZhciBlPWkuQ2FudmFzLmdldFNtb290aGluZ1ByZWZpeCh0KTtpZihlKXJldHVybiB0W2VdfSxzZXRJbWFnZVJlbmRlcmluZ0NyaXNwOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1bXCJvcHRpbWl6ZVNwZWVkXCIsXCJjcmlzcC1lZGdlc1wiLFwiLW1vei1jcmlzcC1lZGdlc1wiLFwiLXdlYmtpdC1vcHRpbWl6ZS1jb250cmFzdFwiLFwib3B0aW1pemUtY29udHJhc3RcIixcInBpeGVsYXRlZFwiXSxpPTA7aTxlLmxlbmd0aDtpKyspdC5zdHlsZVtcImltYWdlLXJlbmRlcmluZ1wiXT1lW2ldO3JldHVybiB0LnN0eWxlLm1zSW50ZXJwb2xhdGlvbk1vZGU9XCJuZWFyZXN0LW5laWdoYm9yXCIsdH0sc2V0SW1hZ2VSZW5kZXJpbmdCaWN1YmljOmZ1bmN0aW9uKHQpe3JldHVybiB0LnN0eWxlW1wiaW1hZ2UtcmVuZGVyaW5nXCJdPVwiYXV0b1wiLHQuc3R5bGUubXNJbnRlcnBvbGF0aW9uTW9kZT1cImJpY3ViaWNcIix0fX0saS5SZXF1ZXN0QW5pbWF0aW9uRnJhbWU9ZnVuY3Rpb24odCxlKXt2b2lkIDA9PT1lJiYoZT0hMSksdGhpcy5nYW1lPXQsdGhpcy5pc1J1bm5pbmc9ITEsdGhpcy5mb3JjZVNldFRpbWVPdXQ9ZTtmb3IodmFyIGk9W1wibXNcIixcIm1velwiLFwid2Via2l0XCIsXCJvXCJdLHM9MDtzPGkubGVuZ3RoJiYhd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZTtzKyspd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZT13aW5kb3dbaVtzXStcIlJlcXVlc3RBbmltYXRpb25GcmFtZVwiXSx3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWU9d2luZG93W2lbc10rXCJDYW5jZWxBbmltYXRpb25GcmFtZVwiXXx8d2luZG93W2lbc10rXCJDYW5jZWxSZXF1ZXN0QW5pbWF0aW9uRnJhbWVcIl07dGhpcy5faXNTZXRUaW1lT3V0PSExLHRoaXMuX29uTG9vcD1udWxsLHRoaXMuX3RpbWVPdXRJRD1udWxsfSxpLlJlcXVlc3RBbmltYXRpb25GcmFtZS5wcm90b3R5cGU9e3N0YXJ0OmZ1bmN0aW9uKCl7dGhpcy5pc1J1bm5pbmc9ITA7dmFyIHQ9dGhpczshd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZXx8dGhpcy5mb3JjZVNldFRpbWVPdXQ/KHRoaXMuX2lzU2V0VGltZU91dD0hMCx0aGlzLl9vbkxvb3A9ZnVuY3Rpb24oKXtyZXR1cm4gdC51cGRhdGVTZXRUaW1lb3V0KCl9LHRoaXMuX3RpbWVPdXRJRD13aW5kb3cuc2V0VGltZW91dCh0aGlzLl9vbkxvb3AsMCkpOih0aGlzLl9pc1NldFRpbWVPdXQ9ITEsdGhpcy5fb25Mb29wPWZ1bmN0aW9uKGUpe3JldHVybiB0LnVwZGF0ZVJBRihlKX0sdGhpcy5fdGltZU91dElEPXdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5fb25Mb29wKSl9LHVwZGF0ZVJBRjpmdW5jdGlvbih0KXt0aGlzLmlzUnVubmluZyYmKHRoaXMuZ2FtZS51cGRhdGUoTWF0aC5mbG9vcih0KSksdGhpcy5fdGltZU91dElEPXdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5fb25Mb29wKSl9LHVwZGF0ZVNldFRpbWVvdXQ6ZnVuY3Rpb24oKXt0aGlzLmlzUnVubmluZyYmKHRoaXMuZ2FtZS51cGRhdGUoRGF0ZS5ub3coKSksdGhpcy5fdGltZU91dElEPXdpbmRvdy5zZXRUaW1lb3V0KHRoaXMuX29uTG9vcCx0aGlzLmdhbWUudGltZS50aW1lVG9DYWxsKSl9LHN0b3A6ZnVuY3Rpb24oKXt0aGlzLl9pc1NldFRpbWVPdXQ/Y2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVPdXRJRCk6d2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lKHRoaXMuX3RpbWVPdXRJRCksdGhpcy5pc1J1bm5pbmc9ITF9LGlzU2V0VGltZU91dDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pc1NldFRpbWVPdXR9LGlzUkFGOmZ1bmN0aW9uKCl7cmV0dXJuITE9PT10aGlzLl9pc1NldFRpbWVPdXR9fSxpLlJlcXVlc3RBbmltYXRpb25GcmFtZS5wcm90b3R5cGUuY29uc3RydWN0b3I9aS5SZXF1ZXN0QW5pbWF0aW9uRnJhbWUsaS5NYXRoPXtQSTI6MipNYXRoLlBJLEhBTEZfUEk6LjUqTWF0aC5QSSxERUdfVE9fUkFEOk1hdGguUEkvMTgwLFJBRF9UT19ERUc6MTgwL01hdGguUEksZGVnVG9SYWQ6ZnVuY3Rpb24odCl7cmV0dXJuIHQqaS5NYXRoLkRFR19UT19SQUR9LHJhZFRvRGVnOmZ1bmN0aW9uKHQpe3JldHVybiB0KmkuTWF0aC5SQURfVE9fREVHfSxnZXROZXh0UG93ZXJPZlR3bzpmdW5jdGlvbih0KXtpZih0PjAmJjA9PSh0JnQtMSkpcmV0dXJuIHQ7Zm9yKHZhciBlPTE7ZTx0OyllPDw9MTtyZXR1cm4gZX0saXNQb3dlck9mVHdvOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQ+MCYmMD09KHQmdC0xKSYmZT4wJiYwPT0oZSZlLTEpfSxyYW5kb206ZnVuY3Rpb24odCxlKXtpZih2b2lkIDA9PT10JiYodD0wKSx2b2lkIDA9PT1lJiYoZT0xKSx0PT09ZSlyZXR1cm4gdDtpZih0PmUpe3ZhciBpPXQ7dD1lLGU9aX1yZXR1cm4gTWF0aC5yYW5kb20oKSooZS10KSt0fSxiZXR3ZWVuOmZ1bmN0aW9uKHQsZSl7aWYodm9pZCAwPT09dCYmKHQ9MCksdm9pZCAwPT09ZSYmKGU9MSksdD09PWUpcmV0dXJuIHQ7aWYodD5lKXt2YXIgaT10O3Q9ZSxlPWl9cmV0dXJuIHQ9TWF0aC5jZWlsKHQpLGU9TWF0aC5mbG9vcihlKSxNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqKGUtdCsxKSkrdH0sZnV6enlFcXVhbDpmdW5jdGlvbih0LGUsaSl7cmV0dXJuIHZvaWQgMD09PWkmJihpPTFlLTQpLE1hdGguYWJzKHQtZSk8aX0sZnV6enlMZXNzVGhhbjpmdW5jdGlvbih0LGUsaSl7cmV0dXJuIHZvaWQgMD09PWkmJihpPTFlLTQpLHQ8ZStpfSxmdXp6eUdyZWF0ZXJUaGFuOmZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gdm9pZCAwPT09aSYmKGk9MWUtNCksdD5lLWl9LGZ1enp5Q2VpbDpmdW5jdGlvbih0LGUpe3JldHVybiB2b2lkIDA9PT1lJiYoZT0xZS00KSxNYXRoLmNlaWwodC1lKX0sZnV6enlGbG9vcjpmdW5jdGlvbih0LGUpe3JldHVybiB2b2lkIDA9PT1lJiYoZT0xZS00KSxNYXRoLmZsb29yKHQrZSl9LGF2ZXJhZ2U6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9MCxlPWFyZ3VtZW50cy5sZW5ndGgsaT0wO2k8ZTtpKyspdCs9K2FyZ3VtZW50c1tpXTtyZXR1cm4gdC9lfSxzaGVhcjpmdW5jdGlvbih0KXtyZXR1cm4gdCUxfSxzbmFwVG86ZnVuY3Rpb24odCxlLGkpe3JldHVybiB2b2lkIDA9PT1pJiYoaT0wKSwwPT09ZT90Oih0LT1pLHQ9ZSpNYXRoLnJvdW5kKHQvZSksaSt0KX0sc25hcFRvRmxvb3I6ZnVuY3Rpb24odCxlLGkpe3JldHVybiB2b2lkIDA9PT1pJiYoaT0wKSwwPT09ZT90Oih0LT1pLHQ9ZSpNYXRoLmZsb29yKHQvZSksaSt0KX0sc25hcFRvQ2VpbDpmdW5jdGlvbih0LGUsaSl7cmV0dXJuIHZvaWQgMD09PWkmJihpPTApLDA9PT1lP3Q6KHQtPWksdD1lKk1hdGguY2VpbCh0L2UpLGkrdCl9LHJvdW5kVG86ZnVuY3Rpb24odCxlLGkpe3ZvaWQgMD09PWUmJihlPTApLHZvaWQgMD09PWkmJihpPTEwKTt2YXIgcz1NYXRoLnBvdyhpLC1lKTtyZXR1cm4gTWF0aC5yb3VuZCh0KnMpL3N9LGZsb29yVG86ZnVuY3Rpb24odCxlLGkpe3ZvaWQgMD09PWUmJihlPTApLHZvaWQgMD09PWkmJihpPTEwKTt2YXIgcz1NYXRoLnBvdyhpLC1lKTtyZXR1cm4gTWF0aC5mbG9vcih0KnMpL3N9LGNlaWxUbzpmdW5jdGlvbih0LGUsaSl7dm9pZCAwPT09ZSYmKGU9MCksdm9pZCAwPT09aSYmKGk9MTApO3ZhciBzPU1hdGgucG93KGksLWUpO3JldHVybiBNYXRoLmNlaWwodCpzKS9zfSxyb3RhdGVUb0FuZ2xlOmZ1bmN0aW9uKHQsZSxzKXtyZXR1cm4gdm9pZCAwPT09cyYmKHM9LjA1KSx0PT09ZT90OihNYXRoLmFicyhlLXQpPD1zfHxNYXRoLmFicyhlLXQpPj1pLk1hdGguUEkyLXM/dD1lOihNYXRoLmFicyhlLXQpPk1hdGguUEkmJihlPHQ/ZSs9aS5NYXRoLlBJMjplLT1pLk1hdGguUEkyKSxlPnQ/dCs9czplPHQmJih0LT1zKSksdCl9LGdldFNob3J0ZXN0QW5nbGU6ZnVuY3Rpb24odCxlKXt2YXIgaT1lLXQ7cmV0dXJuIDA9PT1pPzA6aS0zNjAqTWF0aC5mbG9vcigoaS0gLTE4MCkvMzYwKX0sYW5nbGVCZXR3ZWVuOmZ1bmN0aW9uKHQsZSxpLHMpe3JldHVybiBNYXRoLmF0YW4yKHMtZSxpLXQpfSxhbmdsZUJldHdlZW5ZOmZ1bmN0aW9uKHQsZSxpLHMpe3JldHVybiBNYXRoLmF0YW4yKGktdCxzLWUpfSxhbmdsZUJldHdlZW5Qb2ludHM6ZnVuY3Rpb24odCxlKXtyZXR1cm4gTWF0aC5hdGFuMihlLnktdC55LGUueC10LngpfSxhbmdsZUJldHdlZW5Qb2ludHNZOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIE1hdGguYXRhbjIoZS54LXQueCxlLnktdC55KX0scmV2ZXJzZUFuZ2xlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLm5vcm1hbGl6ZUFuZ2xlKHQrTWF0aC5QSSwhMCl9LG5vcm1hbGl6ZUFuZ2xlOmZ1bmN0aW9uKHQpe3JldHVybih0JT0yKk1hdGguUEkpPj0wP3Q6dCsyKk1hdGguUEl9LG1heEFkZDpmdW5jdGlvbih0LGUsaSl7cmV0dXJuIE1hdGgubWluKHQrZSxpKX0sbWluU3ViOmZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gTWF0aC5tYXgodC1lLGkpfSx3cmFwOmZ1bmN0aW9uKHQsZSxpKXt2YXIgcz1pLWU7aWYoczw9MClyZXR1cm4gMDt2YXIgbj0odC1lKSVzO3JldHVybiBuPDAmJihuKz1zKSxuK2V9LHdyYXBWYWx1ZTpmdW5jdGlvbih0LGUsaSl7cmV0dXJuIHQ9TWF0aC5hYnModCksZT1NYXRoLmFicyhlKSxpPU1hdGguYWJzKGkpLCh0K2UpJWl9LGlzT2RkOmZ1bmN0aW9uKHQpe3JldHVybiEhKDEmdCl9LGlzRXZlbjpmdW5jdGlvbih0KXtyZXR1cm4hKDEmdCl9LG1pbjpmdW5jdGlvbigpe2lmKDE9PT1hcmd1bWVudHMubGVuZ3RoJiZcIm9iamVjdFwiPT10eXBlb2YgYXJndW1lbnRzWzBdKXQ9YXJndW1lbnRzWzBdO2Vsc2UgdmFyIHQ9YXJndW1lbnRzO2Zvcih2YXIgZT0xLGk9MCxzPXQubGVuZ3RoO2U8cztlKyspdFtlXTx0W2ldJiYoaT1lKTtyZXR1cm4gdFtpXX0sbWF4OmZ1bmN0aW9uKCl7aWYoMT09PWFyZ3VtZW50cy5sZW5ndGgmJlwib2JqZWN0XCI9PXR5cGVvZiBhcmd1bWVudHNbMF0pdD1hcmd1bWVudHNbMF07ZWxzZSB2YXIgdD1hcmd1bWVudHM7Zm9yKHZhciBlPTEsaT0wLHM9dC5sZW5ndGg7ZTxzO2UrKyl0W2VdPnRbaV0mJihpPWUpO3JldHVybiB0W2ldfSxtaW5Qcm9wZXJ0eTpmdW5jdGlvbih0KXtpZigyPT09YXJndW1lbnRzLmxlbmd0aCYmXCJvYmplY3RcIj09dHlwZW9mIGFyZ3VtZW50c1sxXSllPWFyZ3VtZW50c1sxXTtlbHNlIHZhciBlPWFyZ3VtZW50cy5zbGljZSgxKTtmb3IodmFyIGk9MSxzPTAsbj1lLmxlbmd0aDtpPG47aSsrKWVbaV1bdF08ZVtzXVt0XSYmKHM9aSk7cmV0dXJuIGVbc11bdF19LG1heFByb3BlcnR5OmZ1bmN0aW9uKHQpe2lmKDI9PT1hcmd1bWVudHMubGVuZ3RoJiZcIm9iamVjdFwiPT10eXBlb2YgYXJndW1lbnRzWzFdKWU9YXJndW1lbnRzWzFdO2Vsc2UgdmFyIGU9YXJndW1lbnRzLnNsaWNlKDEpO2Zvcih2YXIgaT0xLHM9MCxuPWUubGVuZ3RoO2k8bjtpKyspZVtpXVt0XT5lW3NdW3RdJiYocz1pKTtyZXR1cm4gZVtzXVt0XX0sd3JhcEFuZ2xlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIGU/dGhpcy53cmFwKHQsLU1hdGguUEksTWF0aC5QSSk6dGhpcy53cmFwKHQsLTE4MCwxODApfSxsaW5lYXJJbnRlcnBvbGF0aW9uOmZ1bmN0aW9uKHQsZSl7dmFyIGk9dC5sZW5ndGgtMSxzPWkqZSxuPU1hdGguZmxvb3Iocyk7cmV0dXJuIGU8MD90aGlzLmxpbmVhcih0WzBdLHRbMV0scyk6ZT4xP3RoaXMubGluZWFyKHRbaV0sdFtpLTFdLGktcyk6dGhpcy5saW5lYXIodFtuXSx0W24rMT5pP2k6bisxXSxzLW4pfSxiZXppZXJJbnRlcnBvbGF0aW9uOmZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBpPTAscz10Lmxlbmd0aC0xLG49MDtuPD1zO24rKylpKz1NYXRoLnBvdygxLWUscy1uKSpNYXRoLnBvdyhlLG4pKnRbbl0qdGhpcy5iZXJuc3RlaW4ocyxuKTtyZXR1cm4gaX0sY2F0bXVsbFJvbUludGVycG9sYXRpb246ZnVuY3Rpb24odCxlKXt2YXIgaT10Lmxlbmd0aC0xLHM9aSplLG49TWF0aC5mbG9vcihzKTtyZXR1cm4gdFswXT09PXRbaV0/KGU8MCYmKG49TWF0aC5mbG9vcihzPWkqKDErZSkpKSx0aGlzLmNhdG11bGxSb20odFsobi0xK2kpJWldLHRbbl0sdFsobisxKSVpXSx0WyhuKzIpJWldLHMtbikpOmU8MD90WzBdLSh0aGlzLmNhdG11bGxSb20odFswXSx0WzBdLHRbMV0sdFsxXSwtcyktdFswXSk6ZT4xP3RbaV0tKHRoaXMuY2F0bXVsbFJvbSh0W2ldLHRbaV0sdFtpLTFdLHRbaS0xXSxzLWkpLXRbaV0pOnRoaXMuY2F0bXVsbFJvbSh0W24/bi0xOjBdLHRbbl0sdFtpPG4rMT9pOm4rMV0sdFtpPG4rMj9pOm4rMl0scy1uKX0sbGluZWFyOmZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4oZS10KSppK3R9LGJlcm5zdGVpbjpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmZhY3RvcmlhbCh0KS90aGlzLmZhY3RvcmlhbChlKS90aGlzLmZhY3RvcmlhbCh0LWUpfSxmYWN0b3JpYWw6ZnVuY3Rpb24odCl7aWYoMD09PXQpcmV0dXJuIDE7Zm9yKHZhciBlPXQ7LS10OyllKj10O3JldHVybiBlfSxjYXRtdWxsUm9tOmZ1bmN0aW9uKHQsZSxpLHMsbil7dmFyIG89LjUqKGktdCkscj0uNSoocy1lKSxhPW4qbjtyZXR1cm4oMiplLTIqaStvK3IpKihuKmEpKygtMyplKzMqaS0yKm8tcikqYStvKm4rZX0sZGlmZmVyZW5jZTpmdW5jdGlvbih0LGUpe3JldHVybiBNYXRoLmFicyh0LWUpfSxyb3VuZEF3YXlGcm9tWmVybzpmdW5jdGlvbih0KXtyZXR1cm4gdD4wP01hdGguY2VpbCh0KTpNYXRoLmZsb29yKHQpfSxzaW5Db3NHZW5lcmF0b3I6ZnVuY3Rpb24odCxlLGkscyl7dm9pZCAwPT09ZSYmKGU9MSksdm9pZCAwPT09aSYmKGk9MSksdm9pZCAwPT09cyYmKHM9MSk7Zm9yKHZhciBuPWUsbz1pLHI9cypNYXRoLlBJL3QsYT1bXSxoPVtdLGw9MDtsPHQ7bCsrKW4rPShvLT1uKnIpKnIsYVtsXT1vLGhbbF09bjtyZXR1cm57c2luOmgsY29zOmEsbGVuZ3RoOnR9fSxoeXBvdDpmdW5jdGlvbih0LGUpe3JldHVybiBNYXRoLnNxcnQodCp0K2UqZSl9LGRpc3RhbmNlOmZ1bmN0aW9uKHQsZSxpLHMpe3ZhciBuPXQtaSxvPWUtcztyZXR1cm4gTWF0aC5zcXJ0KG4qbitvKm8pfSxkaXN0YW5jZVNxOmZ1bmN0aW9uKHQsZSxpLHMpe3ZhciBuPXQtaSxvPWUtcztyZXR1cm4gbipuK28qb30sZGlzdGFuY2VQb3c6ZnVuY3Rpb24odCxlLGkscyxuKXtyZXR1cm4gdm9pZCAwPT09biYmKG49MiksTWF0aC5zcXJ0KE1hdGgucG93KGktdCxuKStNYXRoLnBvdyhzLWUsbikpfSxjbGFtcDpmdW5jdGlvbih0LGUsaSl7cmV0dXJuIHQ8ZT9lOmk8dD9pOnR9LGNsYW1wQm90dG9tOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQ8ZT9lOnR9LHdpdGhpbjpmdW5jdGlvbih0LGUsaSl7cmV0dXJuIE1hdGguYWJzKHQtZSk8PWl9LG1hcExpbmVhcjpmdW5jdGlvbih0LGUsaSxzLG4pe3JldHVybiBzKyh0LWUpKihuLXMpLyhpLWUpfSxzbW9vdGhzdGVwOmZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4odD1NYXRoLm1heCgwLE1hdGgubWluKDEsKHQtZSkvKGktZSkpKSkqdCooMy0yKnQpfSxzbW9vdGhlcnN0ZXA6ZnVuY3Rpb24odCxlLGkpe3JldHVybih0PU1hdGgubWF4KDAsTWF0aC5taW4oMSwodC1lKS8oaS1lKSkpKSp0KnQqKHQqKDYqdC0xNSkrMTApfSxzaWduOmZ1bmN0aW9uKHQpe3JldHVybiB0PDA/LTE6dD4wPzE6MH0scGVyY2VudDpmdW5jdGlvbih0LGUsaSl7cmV0dXJuIHZvaWQgMD09PWkmJihpPTApLHQ+ZXx8aT5lPzE6dDxpfHxpPnQ/MDoodC1pKS9lfX0saS5SYW5kb21EYXRhR2VuZXJhdG9yPWZ1bmN0aW9uKHQpe3ZvaWQgMD09PXQmJih0PVtdKSx0aGlzLmM9MSx0aGlzLnMwPTAsdGhpcy5zMT0wLHRoaXMuczI9MCxcInN0cmluZ1wiPT10eXBlb2YgdD90aGlzLnN0YXRlKHQpOnRoaXMuc293KHQpfSxpLlJhbmRvbURhdGFHZW5lcmF0b3IucHJvdG90eXBlPXtybmQ6ZnVuY3Rpb24oKXt2YXIgdD0yMDkxNjM5KnRoaXMuczArMi4zMjgzMDY0MzY1Mzg2OTYzZS0xMCp0aGlzLmM7cmV0dXJuIHRoaXMuYz0wfHQsdGhpcy5zMD10aGlzLnMxLHRoaXMuczE9dGhpcy5zMix0aGlzLnMyPXQtdGhpcy5jLHRoaXMuczJ9LHNvdzpmdW5jdGlvbih0KXtpZih0aGlzLnMwPXRoaXMuaGFzaChcIiBcIiksdGhpcy5zMT10aGlzLmhhc2godGhpcy5zMCksdGhpcy5zMj10aGlzLmhhc2godGhpcy5zMSksdGhpcy5jPTEsdClmb3IodmFyIGU9MDtlPHQubGVuZ3RoJiZudWxsIT10W2VdO2UrKyl7dmFyIGk9dFtlXTt0aGlzLnMwLT10aGlzLmhhc2goaSksdGhpcy5zMCs9fn4odGhpcy5zMDwwKSx0aGlzLnMxLT10aGlzLmhhc2goaSksdGhpcy5zMSs9fn4odGhpcy5zMTwwKSx0aGlzLnMyLT10aGlzLmhhc2goaSksdGhpcy5zMis9fn4odGhpcy5zMjwwKX19LGhhc2g6ZnVuY3Rpb24odCl7dmFyIGUsaSxzO2ZvcihzPTQwMjI4NzExOTcsdD10LnRvU3RyaW5nKCksaT0wO2k8dC5sZW5ndGg7aSsrKWU9LjAyNTE5NjAzMjgyNDE2OTM4KihzKz10LmNoYXJDb2RlQXQoaSkpLGUtPXM9ZT4+PjAscz0oZSo9cyk+Pj4wLHMrPTQyOTQ5NjcyOTYqKGUtPXMpO3JldHVybiAyLjMyODMwNjQzNjUzODY5NjNlLTEwKihzPj4+MCl9LGludGVnZXI6ZnVuY3Rpb24oKXtyZXR1cm4gNDI5NDk2NzI5Nip0aGlzLnJuZC5hcHBseSh0aGlzKX0sZnJhYzpmdW5jdGlvbigpe3JldHVybiB0aGlzLnJuZC5hcHBseSh0aGlzKSsxLjExMDIyMzAyNDYyNTE1NjVlLTE2KigyMDk3MTUyKnRoaXMucm5kLmFwcGx5KHRoaXMpfDApfSxyZWFsOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW50ZWdlcigpK3RoaXMuZnJhYygpfSxpbnRlZ2VySW5SYW5nZTpmdW5jdGlvbih0LGUpe3JldHVybiBNYXRoLmZsb29yKHRoaXMucmVhbEluUmFuZ2UoMCxlLXQrMSkrdCl9LGJldHdlZW46ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5pbnRlZ2VySW5SYW5nZSh0LGUpfSxyZWFsSW5SYW5nZTpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmZyYWMoKSooZS10KSt0fSxub3JtYWw6ZnVuY3Rpb24oKXtyZXR1cm4gMS0yKnRoaXMuZnJhYygpfSx1dWlkOmZ1bmN0aW9uKCl7dmFyIHQ9XCJcIixlPVwiXCI7Zm9yKGU9dD1cIlwiO3QrKzwzNjtlKz1+dCU1fDMqdCY0PygxNV50PzhedGhpcy5mcmFjKCkqKDIwXnQ/MTY6NCk6NCkudG9TdHJpbmcoMTYpOlwiLVwiKTtyZXR1cm4gZX0scGljazpmdW5jdGlvbih0KXtyZXR1cm4gdFt0aGlzLmludGVnZXJJblJhbmdlKDAsdC5sZW5ndGgtMSldfSxzaWduOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGljayhbLTEsMV0pfSx3ZWlnaHRlZFBpY2s6ZnVuY3Rpb24odCl7cmV0dXJuIHRbfn4oTWF0aC5wb3codGhpcy5mcmFjKCksMikqKHQubGVuZ3RoLTEpKy41KV19LHRpbWVzdGFtcDpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLnJlYWxJblJhbmdlKHR8fDk0NjY4NDhlNSxlfHwxNTc3ODYyZTYpfSxhbmdsZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmludGVnZXJJblJhbmdlKC0xODAsMTgwKX0sc3RhdGU6ZnVuY3Rpb24odCl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIHQmJnQubWF0Y2goL14hcm5kLykmJih0PXQuc3BsaXQoXCIsXCIpLHRoaXMuYz1wYXJzZUZsb2F0KHRbMV0pLHRoaXMuczA9cGFyc2VGbG9hdCh0WzJdKSx0aGlzLnMxPXBhcnNlRmxvYXQodFszXSksdGhpcy5zMj1wYXJzZUZsb2F0KHRbNF0pKSxbXCIhcm5kXCIsdGhpcy5jLHRoaXMuczAsdGhpcy5zMSx0aGlzLnMyXS5qb2luKFwiLFwiKX19LGkuUmFuZG9tRGF0YUdlbmVyYXRvci5wcm90b3R5cGUuY29uc3RydWN0b3I9aS5SYW5kb21EYXRhR2VuZXJhdG9yLGkuUXVhZFRyZWU9ZnVuY3Rpb24odCxlLGkscyxuLG8scil7dGhpcy5tYXhPYmplY3RzPTEwLHRoaXMubWF4TGV2ZWxzPTQsdGhpcy5sZXZlbD0wLHRoaXMuYm91bmRzPXt9LHRoaXMub2JqZWN0cz1bXSx0aGlzLm5vZGVzPVtdLHRoaXMuX2VtcHR5PVtdLHRoaXMucmVzZXQodCxlLGkscyxuLG8scil9LGkuUXVhZFRyZWUucHJvdG90eXBlPXtyZXNldDpmdW5jdGlvbih0LGUsaSxzLG4sbyxyKXt0aGlzLm1heE9iamVjdHM9bnx8MTAsdGhpcy5tYXhMZXZlbHM9b3x8NCx0aGlzLmxldmVsPXJ8fDAsdGhpcy5ib3VuZHM9e3g6TWF0aC5yb3VuZCh0KSx5Ok1hdGgucm91bmQoZSksd2lkdGg6aSxoZWlnaHQ6cyxzdWJXaWR0aDpNYXRoLmZsb29yKGkvMiksc3ViSGVpZ2h0Ok1hdGguZmxvb3Iocy8yKSxyaWdodDpNYXRoLnJvdW5kKHQpK01hdGguZmxvb3IoaS8yKSxib3R0b206TWF0aC5yb3VuZChlKStNYXRoLmZsb29yKHMvMil9LHRoaXMub2JqZWN0cy5sZW5ndGg9MCx0aGlzLm5vZGVzLmxlbmd0aD0wfSxwb3B1bGF0ZTpmdW5jdGlvbih0KXt0LmZvckVhY2godGhpcy5wb3B1bGF0ZUhhbmRsZXIsdGhpcywhMCl9LHBvcHVsYXRlSGFuZGxlcjpmdW5jdGlvbih0KXt0LmJvZHkmJnQuZXhpc3RzJiZ0aGlzLmluc2VydCh0LmJvZHkpfSxzcGxpdDpmdW5jdGlvbigpe3RoaXMubm9kZXNbMF09bmV3IGkuUXVhZFRyZWUodGhpcy5ib3VuZHMucmlnaHQsdGhpcy5ib3VuZHMueSx0aGlzLmJvdW5kcy5zdWJXaWR0aCx0aGlzLmJvdW5kcy5zdWJIZWlnaHQsdGhpcy5tYXhPYmplY3RzLHRoaXMubWF4TGV2ZWxzLHRoaXMubGV2ZWwrMSksdGhpcy5ub2Rlc1sxXT1uZXcgaS5RdWFkVHJlZSh0aGlzLmJvdW5kcy54LHRoaXMuYm91bmRzLnksdGhpcy5ib3VuZHMuc3ViV2lkdGgsdGhpcy5ib3VuZHMuc3ViSGVpZ2h0LHRoaXMubWF4T2JqZWN0cyx0aGlzLm1heExldmVscyx0aGlzLmxldmVsKzEpLHRoaXMubm9kZXNbMl09bmV3IGkuUXVhZFRyZWUodGhpcy5ib3VuZHMueCx0aGlzLmJvdW5kcy5ib3R0b20sdGhpcy5ib3VuZHMuc3ViV2lkdGgsdGhpcy5ib3VuZHMuc3ViSGVpZ2h0LHRoaXMubWF4T2JqZWN0cyx0aGlzLm1heExldmVscyx0aGlzLmxldmVsKzEpLHRoaXMubm9kZXNbM109bmV3IGkuUXVhZFRyZWUodGhpcy5ib3VuZHMucmlnaHQsdGhpcy5ib3VuZHMuYm90dG9tLHRoaXMuYm91bmRzLnN1YldpZHRoLHRoaXMuYm91bmRzLnN1YkhlaWdodCx0aGlzLm1heE9iamVjdHMsdGhpcy5tYXhMZXZlbHMsdGhpcy5sZXZlbCsxKX0saW5zZXJ0OmZ1bmN0aW9uKHQpe3ZhciBlLGk9MDtpZihudWxsPT10aGlzLm5vZGVzWzBdfHwtMT09PShlPXRoaXMuZ2V0SW5kZXgodCkpKXtpZih0aGlzLm9iamVjdHMucHVzaCh0KSx0aGlzLm9iamVjdHMubGVuZ3RoPnRoaXMubWF4T2JqZWN0cyYmdGhpcy5sZXZlbDx0aGlzLm1heExldmVscylmb3IobnVsbD09dGhpcy5ub2Rlc1swXSYmdGhpcy5zcGxpdCgpO2k8dGhpcy5vYmplY3RzLmxlbmd0aDspLTEhPT0oZT10aGlzLmdldEluZGV4KHRoaXMub2JqZWN0c1tpXSkpP3RoaXMubm9kZXNbZV0uaW5zZXJ0KHRoaXMub2JqZWN0cy5zcGxpY2UoaSwxKVswXSk6aSsrfWVsc2UgdGhpcy5ub2Rlc1tlXS5pbnNlcnQodCl9LGdldEluZGV4OmZ1bmN0aW9uKHQpe3ZhciBlPS0xO3JldHVybiB0Lng8dGhpcy5ib3VuZHMucmlnaHQmJnQucmlnaHQ8dGhpcy5ib3VuZHMucmlnaHQ/dC55PHRoaXMuYm91bmRzLmJvdHRvbSYmdC5ib3R0b208dGhpcy5ib3VuZHMuYm90dG9tP2U9MTp0Lnk+dGhpcy5ib3VuZHMuYm90dG9tJiYoZT0yKTp0Lng+dGhpcy5ib3VuZHMucmlnaHQmJih0Lnk8dGhpcy5ib3VuZHMuYm90dG9tJiZ0LmJvdHRvbTx0aGlzLmJvdW5kcy5ib3R0b20/ZT0wOnQueT50aGlzLmJvdW5kcy5ib3R0b20mJihlPTMpKSxlfSxyZXRyaWV2ZTpmdW5jdGlvbih0KXtpZih0IGluc3RhbmNlb2YgaS5SZWN0YW5nbGUpdmFyIGU9dGhpcy5vYmplY3RzLHM9dGhpcy5nZXRJbmRleCh0KTtlbHNle2lmKCF0LmJvZHkpcmV0dXJuIHRoaXMuX2VtcHR5O3ZhciBlPXRoaXMub2JqZWN0cyxzPXRoaXMuZ2V0SW5kZXgodC5ib2R5KX1yZXR1cm4gdGhpcy5ub2Rlc1swXSYmKGU9LTEhPT1zP2UuY29uY2F0KHRoaXMubm9kZXNbc10ucmV0cmlldmUodCkpOihlPShlPShlPWUuY29uY2F0KHRoaXMubm9kZXNbMF0ucmV0cmlldmUodCkpKS5jb25jYXQodGhpcy5ub2Rlc1sxXS5yZXRyaWV2ZSh0KSkpLmNvbmNhdCh0aGlzLm5vZGVzWzJdLnJldHJpZXZlKHQpKSkuY29uY2F0KHRoaXMubm9kZXNbM10ucmV0cmlldmUodCkpKSxlfSxjbGVhcjpmdW5jdGlvbigpe3RoaXMub2JqZWN0cy5sZW5ndGg9MDtmb3IodmFyIHQ9dGhpcy5ub2Rlcy5sZW5ndGg7dC0tOyl0aGlzLm5vZGVzW3RdLmNsZWFyKCksdGhpcy5ub2Rlcy5zcGxpY2UodCwxKTt0aGlzLm5vZGVzLmxlbmd0aD0wfX0saS5RdWFkVHJlZS5wcm90b3R5cGUuY29uc3RydWN0b3I9aS5RdWFkVHJlZSxpLk5ldD1mdW5jdGlvbih0KXt0aGlzLmdhbWU9dH0saS5OZXQucHJvdG90eXBlPXtnZXRIb3N0TmFtZTpmdW5jdGlvbigpe3JldHVybiB3aW5kb3cubG9jYXRpb24mJndpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZT93aW5kb3cubG9jYXRpb24uaG9zdG5hbWU6bnVsbH0sY2hlY2tEb21haW5OYW1lOmZ1bmN0aW9uKHQpe3JldHVybi0xIT09d2luZG93LmxvY2F0aW9uLmhvc3RuYW1lLmluZGV4T2YodCl9LHVwZGF0ZVF1ZXJ5U3RyaW5nOmZ1bmN0aW9uKHQsZSxpLHMpe3ZvaWQgMD09PWkmJihpPSExKSx2b2lkIDAhPT1zJiZcIlwiIT09c3x8KHM9d2luZG93LmxvY2F0aW9uLmhyZWYpO3ZhciBuPVwiXCIsbz1uZXcgUmVnRXhwKFwiKFs/fCZdKVwiK3QrXCI9Lio/KCZ8I3wkKSguKilcIixcImdpXCIpO2lmKG8udGVzdChzKSluPXZvaWQgMCE9PWUmJm51bGwhPT1lP3MucmVwbGFjZShvLFwiJDFcIit0K1wiPVwiK2UrXCIkMiQzXCIpOnMucmVwbGFjZShvLFwiJDEkM1wiKS5yZXBsYWNlKC8oJnxcXD8pJC8sXCJcIik7ZWxzZSBpZih2b2lkIDAhPT1lJiZudWxsIT09ZSl7dmFyIHI9LTEhPT1zLmluZGV4T2YoXCI/XCIpP1wiJlwiOlwiP1wiLGE9cy5zcGxpdChcIiNcIik7cz1hWzBdK3IrdCtcIj1cIitlLGFbMV0mJihzKz1cIiNcIithWzFdKSxuPXN9ZWxzZSBuPXM7aWYoIWkpcmV0dXJuIG47d2luZG93LmxvY2F0aW9uLmhyZWY9bn0sZ2V0UXVlcnlTdHJpbmc6ZnVuY3Rpb24odCl7dm9pZCAwPT09dCYmKHQ9XCJcIik7dmFyIGU9e30saT1sb2NhdGlvbi5zZWFyY2guc3Vic3RyaW5nKDEpLnNwbGl0KFwiJlwiKTtmb3IodmFyIHMgaW4gaSl7dmFyIG49aVtzXS5zcGxpdChcIj1cIik7aWYobi5sZW5ndGg+MSl7aWYodCYmdD09PXRoaXMuZGVjb2RlVVJJKG5bMF0pKXJldHVybiB0aGlzLmRlY29kZVVSSShuWzFdKTtlW3RoaXMuZGVjb2RlVVJJKG5bMF0pXT10aGlzLmRlY29kZVVSSShuWzFdKX19cmV0dXJuIGV9LGRlY29kZVVSSTpmdW5jdGlvbih0KXtyZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KHQucmVwbGFjZSgvXFwrL2csXCIgXCIpKX19LGkuTmV0LnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1pLk5ldCxpLlR3ZWVuTWFuYWdlcj1mdW5jdGlvbih0KXt0aGlzLmdhbWU9dCx0aGlzLmZyYW1lQmFzZWQ9ITEsdGhpcy5fdHdlZW5zPVtdLHRoaXMuX2FkZD1bXSx0aGlzLmVhc2VNYXA9e1Bvd2VyMDppLkVhc2luZy5Qb3dlcjAsUG93ZXIxOmkuRWFzaW5nLlBvd2VyMSxQb3dlcjI6aS5FYXNpbmcuUG93ZXIyLFBvd2VyMzppLkVhc2luZy5Qb3dlcjMsUG93ZXI0OmkuRWFzaW5nLlBvd2VyNCxMaW5lYXI6aS5FYXNpbmcuTGluZWFyLk5vbmUsUXVhZDppLkVhc2luZy5RdWFkcmF0aWMuT3V0LEN1YmljOmkuRWFzaW5nLkN1YmljLk91dCxRdWFydDppLkVhc2luZy5RdWFydGljLk91dCxRdWludDppLkVhc2luZy5RdWludGljLk91dCxTaW5lOmkuRWFzaW5nLlNpbnVzb2lkYWwuT3V0LEV4cG86aS5FYXNpbmcuRXhwb25lbnRpYWwuT3V0LENpcmM6aS5FYXNpbmcuQ2lyY3VsYXIuT3V0LEVsYXN0aWM6aS5FYXNpbmcuRWxhc3RpYy5PdXQsQmFjazppLkVhc2luZy5CYWNrLk91dCxCb3VuY2U6aS5FYXNpbmcuQm91bmNlLk91dCxcIlF1YWQuZWFzZUluXCI6aS5FYXNpbmcuUXVhZHJhdGljLkluLFwiQ3ViaWMuZWFzZUluXCI6aS5FYXNpbmcuQ3ViaWMuSW4sXCJRdWFydC5lYXNlSW5cIjppLkVhc2luZy5RdWFydGljLkluLFwiUXVpbnQuZWFzZUluXCI6aS5FYXNpbmcuUXVpbnRpYy5JbixcIlNpbmUuZWFzZUluXCI6aS5FYXNpbmcuU2ludXNvaWRhbC5JbixcIkV4cG8uZWFzZUluXCI6aS5FYXNpbmcuRXhwb25lbnRpYWwuSW4sXCJDaXJjLmVhc2VJblwiOmkuRWFzaW5nLkNpcmN1bGFyLkluLFwiRWxhc3RpYy5lYXNlSW5cIjppLkVhc2luZy5FbGFzdGljLkluLFwiQmFjay5lYXNlSW5cIjppLkVhc2luZy5CYWNrLkluLFwiQm91bmNlLmVhc2VJblwiOmkuRWFzaW5nLkJvdW5jZS5JbixcIlF1YWQuZWFzZU91dFwiOmkuRWFzaW5nLlF1YWRyYXRpYy5PdXQsXCJDdWJpYy5lYXNlT3V0XCI6aS5FYXNpbmcuQ3ViaWMuT3V0LFwiUXVhcnQuZWFzZU91dFwiOmkuRWFzaW5nLlF1YXJ0aWMuT3V0LFwiUXVpbnQuZWFzZU91dFwiOmkuRWFzaW5nLlF1aW50aWMuT3V0LFwiU2luZS5lYXNlT3V0XCI6aS5FYXNpbmcuU2ludXNvaWRhbC5PdXQsXCJFeHBvLmVhc2VPdXRcIjppLkVhc2luZy5FeHBvbmVudGlhbC5PdXQsXCJDaXJjLmVhc2VPdXRcIjppLkVhc2luZy5DaXJjdWxhci5PdXQsXCJFbGFzdGljLmVhc2VPdXRcIjppLkVhc2luZy5FbGFzdGljLk91dCxcIkJhY2suZWFzZU91dFwiOmkuRWFzaW5nLkJhY2suT3V0LFwiQm91bmNlLmVhc2VPdXRcIjppLkVhc2luZy5Cb3VuY2UuT3V0LFwiUXVhZC5lYXNlSW5PdXRcIjppLkVhc2luZy5RdWFkcmF0aWMuSW5PdXQsXCJDdWJpYy5lYXNlSW5PdXRcIjppLkVhc2luZy5DdWJpYy5Jbk91dCxcIlF1YXJ0LmVhc2VJbk91dFwiOmkuRWFzaW5nLlF1YXJ0aWMuSW5PdXQsXCJRdWludC5lYXNlSW5PdXRcIjppLkVhc2luZy5RdWludGljLkluT3V0LFwiU2luZS5lYXNlSW5PdXRcIjppLkVhc2luZy5TaW51c29pZGFsLkluT3V0LFwiRXhwby5lYXNlSW5PdXRcIjppLkVhc2luZy5FeHBvbmVudGlhbC5Jbk91dCxcIkNpcmMuZWFzZUluT3V0XCI6aS5FYXNpbmcuQ2lyY3VsYXIuSW5PdXQsXCJFbGFzdGljLmVhc2VJbk91dFwiOmkuRWFzaW5nLkVsYXN0aWMuSW5PdXQsXCJCYWNrLmVhc2VJbk91dFwiOmkuRWFzaW5nLkJhY2suSW5PdXQsXCJCb3VuY2UuZWFzZUluT3V0XCI6aS5FYXNpbmcuQm91bmNlLkluT3V0fSx0aGlzLmdhbWUub25QYXVzZS5hZGQodGhpcy5fcGF1c2VBbGwsdGhpcyksdGhpcy5nYW1lLm9uUmVzdW1lLmFkZCh0aGlzLl9yZXN1bWVBbGwsdGhpcyl9LGkuVHdlZW5NYW5hZ2VyLnByb3RvdHlwZT17Z2V0QWxsOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3R3ZWVuc30scmVtb3ZlQWxsOmZ1bmN0aW9uKCl7Zm9yKHZhciB0PTA7dDx0aGlzLl90d2VlbnMubGVuZ3RoO3QrKyl0aGlzLl90d2VlbnNbdF0ucGVuZGluZ0RlbGV0ZT0hMDt0aGlzLl9hZGQ9W119LHJlbW92ZUZyb206ZnVuY3Rpb24odCxlKXt2b2lkIDA9PT1lJiYoZT0hMCk7aWYoQXJyYXkuaXNBcnJheSh0KSlmb3Iocz0wLG49dC5sZW5ndGg7czxuO3MrKyl0aGlzLnJlbW92ZUZyb20odFtzXSk7ZWxzZSBpZih0LnR5cGU9PT1pLkdST1VQJiZlKWZvcih2YXIgcz0wLG49dC5jaGlsZHJlbi5sZW5ndGg7czxuO3MrKyl0aGlzLnJlbW92ZUZyb20odC5jaGlsZHJlbltzXSk7ZWxzZXtmb3Iocz0wLG49dGhpcy5fdHdlZW5zLmxlbmd0aDtzPG47cysrKXQ9PT10aGlzLl90d2VlbnNbc10udGFyZ2V0JiZ0aGlzLnJlbW92ZSh0aGlzLl90d2VlbnNbc10pO2ZvcihzPTAsbj10aGlzLl9hZGQubGVuZ3RoO3M8bjtzKyspdD09PXRoaXMuX2FkZFtzXS50YXJnZXQmJnRoaXMucmVtb3ZlKHRoaXMuX2FkZFtzXSl9fSxhZGQ6ZnVuY3Rpb24odCl7dC5fbWFuYWdlcj10aGlzLHRoaXMuX2FkZC5wdXNoKHQpfSxjcmVhdGU6ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBpLlR3ZWVuKHQsdGhpcy5nYW1lLHRoaXMpfSxyZW1vdmU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fdHdlZW5zLmluZGV4T2YodCk7LTEhPT1lP3RoaXMuX3R3ZWVuc1tlXS5wZW5kaW5nRGVsZXRlPSEwOi0xIT09KGU9dGhpcy5fYWRkLmluZGV4T2YodCkpJiYodGhpcy5fYWRkW2VdLnBlbmRpbmdEZWxldGU9ITApfSx1cGRhdGU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9hZGQubGVuZ3RoLGU9dGhpcy5fdHdlZW5zLmxlbmd0aDtpZigwPT09ZSYmMD09PXQpcmV0dXJuITE7Zm9yKHZhciBpPTA7aTxlOyl0aGlzLl90d2VlbnNbaV0udXBkYXRlKHRoaXMuZ2FtZS50aW1lLnRpbWUpP2krKzoodGhpcy5fdHdlZW5zLnNwbGljZShpLDEpLGUtLSk7cmV0dXJuIHQ+MCYmKHRoaXMuX3R3ZWVucz10aGlzLl90d2VlbnMuY29uY2F0KHRoaXMuX2FkZCksdGhpcy5fYWRkLmxlbmd0aD0wKSwhMH0saXNUd2VlbmluZzpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fdHdlZW5zLnNvbWUoZnVuY3Rpb24oZSl7cmV0dXJuIGUudGFyZ2V0PT09dH0pfSxfcGF1c2VBbGw6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy5fdHdlZW5zLmxlbmd0aC0xO3Q+PTA7dC0tKXRoaXMuX3R3ZWVuc1t0XS5fcGF1c2UoKX0sX3Jlc3VtZUFsbDpmdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLl90d2VlbnMubGVuZ3RoLTE7dD49MDt0LS0pdGhpcy5fdHdlZW5zW3RdLl9yZXN1bWUoKX0scGF1c2VBbGw6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy5fdHdlZW5zLmxlbmd0aC0xO3Q+PTA7dC0tKXRoaXMuX3R3ZWVuc1t0XS5wYXVzZSgpfSxyZXN1bWVBbGw6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy5fdHdlZW5zLmxlbmd0aC0xO3Q+PTA7dC0tKXRoaXMuX3R3ZWVuc1t0XS5yZXN1bWUoITApfX0saS5Ud2Vlbk1hbmFnZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yPWkuVHdlZW5NYW5hZ2VyLGkuVHdlZW49ZnVuY3Rpb24odCxlLHMpe3RoaXMuZ2FtZT1lLHRoaXMudGFyZ2V0PXQsdGhpcy5tYW5hZ2VyPXMsdGhpcy50aW1lbGluZT1bXSx0aGlzLnJldmVyc2U9ITEsdGhpcy50aW1lU2NhbGU9MSx0aGlzLnJlcGVhdENvdW50ZXI9MCx0aGlzLnBlbmRpbmdEZWxldGU9ITEsdGhpcy5vblN0YXJ0PW5ldyBpLlNpZ25hbCx0aGlzLm9uTG9vcD1uZXcgaS5TaWduYWwsdGhpcy5vblJlcGVhdD1uZXcgaS5TaWduYWwsdGhpcy5vbkNoaWxkQ29tcGxldGU9bmV3IGkuU2lnbmFsLHRoaXMub25Db21wbGV0ZT1uZXcgaS5TaWduYWwsdGhpcy5pc1J1bm5pbmc9ITEsdGhpcy5jdXJyZW50PTAsdGhpcy5wcm9wZXJ0aWVzPXt9LHRoaXMuY2hhaW5lZFR3ZWVuPW51bGwsdGhpcy5pc1BhdXNlZD0hMSx0aGlzLmZyYW1lQmFzZWQ9cy5mcmFtZUJhc2VkLHRoaXMuX29uVXBkYXRlQ2FsbGJhY2s9bnVsbCx0aGlzLl9vblVwZGF0ZUNhbGxiYWNrQ29udGV4dD1udWxsLHRoaXMuX3BhdXNlZFRpbWU9MCx0aGlzLl9jb2RlUGF1c2VkPSExLHRoaXMuX2hhc1N0YXJ0ZWQ9ITF9LGkuVHdlZW4udXBkYXRlQ29sb3I9ZnVuY3Rpb24odCl7aS5Db2xvci51cGRhdGVDb2xvcih0LnRhcmdldCl9LGkuVHdlZW4ucHJvdG90eXBlPXt0bzpmdW5jdGlvbih0LGUscyxuLG8scixhKXtyZXR1cm4odm9pZCAwPT09ZXx8ZTw9MCkmJihlPTFlMyksdm9pZCAwIT09cyYmbnVsbCE9PXN8fChzPWkuRWFzaW5nLkRlZmF1bHQpLHZvaWQgMD09PW4mJihuPSExKSx2b2lkIDA9PT1vJiYobz0wKSx2b2lkIDA9PT1yJiYocj0wKSx2b2lkIDA9PT1hJiYoYT0hMSksXCJzdHJpbmdcIj09dHlwZW9mIHMmJnRoaXMubWFuYWdlci5lYXNlTWFwW3NdJiYocz10aGlzLm1hbmFnZXIuZWFzZU1hcFtzXSksdGhpcy5pc1J1bm5pbmc/KGNvbnNvbGUud2FybihcIlBoYXNlci5Ud2Vlbi50byBjYW5ub3QgYmUgY2FsbGVkIGFmdGVyIFR3ZWVuLnN0YXJ0XCIpLHRoaXMpOih0aGlzLnRpbWVsaW5lLnB1c2gobmV3IGkuVHdlZW5EYXRhKHRoaXMpLnRvKHQsZSxzLG8scixhKSksbiYmdGhpcy5zdGFydCgpLHRoaXMpfSxmcm9tOmZ1bmN0aW9uKHQsZSxzLG4sbyxyLGEpe3JldHVybiB2b2lkIDA9PT1lJiYoZT0xZTMpLHZvaWQgMCE9PXMmJm51bGwhPT1zfHwocz1pLkVhc2luZy5EZWZhdWx0KSx2b2lkIDA9PT1uJiYobj0hMSksdm9pZCAwPT09byYmKG89MCksdm9pZCAwPT09ciYmKHI9MCksdm9pZCAwPT09YSYmKGE9ITEpLFwic3RyaW5nXCI9PXR5cGVvZiBzJiZ0aGlzLm1hbmFnZXIuZWFzZU1hcFtzXSYmKHM9dGhpcy5tYW5hZ2VyLmVhc2VNYXBbc10pLHRoaXMuaXNSdW5uaW5nPyhjb25zb2xlLndhcm4oXCJQaGFzZXIuVHdlZW4uZnJvbSBjYW5ub3QgYmUgY2FsbGVkIGFmdGVyIFR3ZWVuLnN0YXJ0XCIpLHRoaXMpOih0aGlzLnRpbWVsaW5lLnB1c2gobmV3IGkuVHdlZW5EYXRhKHRoaXMpLmZyb20odCxlLHMsbyxyLGEpKSxuJiZ0aGlzLnN0YXJ0KCksdGhpcyl9LHN0YXJ0OmZ1bmN0aW9uKHQpe2lmKHZvaWQgMD09PXQmJih0PTApLG51bGw9PT10aGlzLmdhbWV8fG51bGw9PT10aGlzLnRhcmdldHx8MD09PXRoaXMudGltZWxpbmUubGVuZ3RofHx0aGlzLmlzUnVubmluZylyZXR1cm4gdGhpcztmb3IoaT0wO2k8dGhpcy50aW1lbGluZS5sZW5ndGg7aSsrKWZvcih2YXIgZSBpbiB0aGlzLnRpbWVsaW5lW2ldLnZFbmQpdGhpcy5wcm9wZXJ0aWVzW2VdPXRoaXMudGFyZ2V0W2VdfHwwLEFycmF5LmlzQXJyYXkodGhpcy5wcm9wZXJ0aWVzW2VdKXx8KHRoaXMucHJvcGVydGllc1tlXSo9MSk7Zm9yKHZhciBpPTA7aTx0aGlzLnRpbWVsaW5lLmxlbmd0aDtpKyspdGhpcy50aW1lbGluZVtpXS5sb2FkVmFsdWVzKCk7cmV0dXJuIHRoaXMubWFuYWdlci5hZGQodGhpcyksdGhpcy5pc1J1bm5pbmc9ITAsKHQ8MHx8dD50aGlzLnRpbWVsaW5lLmxlbmd0aC0xKSYmKHQ9MCksdGhpcy5jdXJyZW50PXQsdGhpcy50aW1lbGluZVt0aGlzLmN1cnJlbnRdLnN0YXJ0KCksdGhpc30sc3RvcDpmdW5jdGlvbih0KXtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9ITEpLHRoaXMuaXNSdW5uaW5nPSExLHRoaXMuX29uVXBkYXRlQ2FsbGJhY2s9bnVsbCx0aGlzLl9vblVwZGF0ZUNhbGxiYWNrQ29udGV4dD1udWxsLHQmJih0aGlzLm9uQ29tcGxldGUuZGlzcGF0Y2godGhpcy50YXJnZXQsdGhpcyksdGhpcy5faGFzU3RhcnRlZD0hMSx0aGlzLmNoYWluZWRUd2VlbiYmdGhpcy5jaGFpbmVkVHdlZW4uc3RhcnQoKSksdGhpcy5tYW5hZ2VyLnJlbW92ZSh0aGlzKSx0aGlzfSx1cGRhdGVUd2VlbkRhdGE6ZnVuY3Rpb24odCxlLGkpe2lmKDA9PT10aGlzLnRpbWVsaW5lLmxlbmd0aClyZXR1cm4gdGhpcztpZih2b2lkIDA9PT1pJiYoaT0wKSwtMT09PWkpZm9yKHZhciBzPTA7czx0aGlzLnRpbWVsaW5lLmxlbmd0aDtzKyspdGhpcy50aW1lbGluZVtzXVt0XT1lO2Vsc2UgdGhpcy50aW1lbGluZVtpXVt0XT1lO3JldHVybiB0aGlzfSxkZWxheTpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLnVwZGF0ZVR3ZWVuRGF0YShcImRlbGF5XCIsdCxlKX0scmVwZWF0OmZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9MCksdGhpcy51cGRhdGVUd2VlbkRhdGEoXCJyZXBlYXRDb3VudGVyXCIsdCxpKSx0aGlzLnVwZGF0ZVR3ZWVuRGF0YShcInJlcGVhdERlbGF5XCIsZSxpKX0scmVwZWF0RGVsYXk6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy51cGRhdGVUd2VlbkRhdGEoXCJyZXBlYXREZWxheVwiLHQsZSl9LHlveW86ZnVuY3Rpb24odCxlLGkpe3JldHVybiB2b2lkIDA9PT1lJiYoZT0wKSx0aGlzLnVwZGF0ZVR3ZWVuRGF0YShcInlveW9cIix0LGkpLHRoaXMudXBkYXRlVHdlZW5EYXRhKFwieW95b0RlbGF5XCIsZSxpKX0seW95b0RlbGF5OmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMudXBkYXRlVHdlZW5EYXRhKFwieW95b0RlbGF5XCIsdCxlKX0sZWFzaW5nOmZ1bmN0aW9uKHQsZSl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIHQmJnRoaXMubWFuYWdlci5lYXNlTWFwW3RdJiYodD10aGlzLm1hbmFnZXIuZWFzZU1hcFt0XSksdGhpcy51cGRhdGVUd2VlbkRhdGEoXCJlYXNpbmdGdW5jdGlvblwiLHQsZSl9LGludGVycG9sYXRpb246ZnVuY3Rpb24odCxlLHMpe3JldHVybiB2b2lkIDA9PT1lJiYoZT1pLk1hdGgpLHRoaXMudXBkYXRlVHdlZW5EYXRhKFwiaW50ZXJwb2xhdGlvbkZ1bmN0aW9uXCIsdCxzKSx0aGlzLnVwZGF0ZVR3ZWVuRGF0YShcImludGVycG9sYXRpb25Db250ZXh0XCIsZSxzKX0scmVwZWF0QWxsOmZ1bmN0aW9uKHQpe3JldHVybiB2b2lkIDA9PT10JiYodD0wKSx0aGlzLnJlcGVhdENvdW50ZXI9dCx0aGlzfSxjaGFpbjpmdW5jdGlvbigpe2Zvcih2YXIgdD1hcmd1bWVudHMubGVuZ3RoO3QtLTspdD4wP2FyZ3VtZW50c1t0LTFdLmNoYWluZWRUd2Vlbj1hcmd1bWVudHNbdF06dGhpcy5jaGFpbmVkVHdlZW49YXJndW1lbnRzW3RdO3JldHVybiB0aGlzfSxsb29wOmZ1bmN0aW9uKHQpe3JldHVybiB2b2lkIDA9PT10JiYodD0hMCksdGhpcy5yZXBlYXRDb3VudGVyPXQ/LTE6MCx0aGlzfSxvblVwZGF0ZUNhbGxiYWNrOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuX29uVXBkYXRlQ2FsbGJhY2s9dCx0aGlzLl9vblVwZGF0ZUNhbGxiYWNrQ29udGV4dD1lLHRoaXN9LHBhdXNlOmZ1bmN0aW9uKCl7dGhpcy5pc1BhdXNlZD0hMCx0aGlzLl9jb2RlUGF1c2VkPSEwLHRoaXMuX3BhdXNlZFRpbWU9dGhpcy5nYW1lLnRpbWUudGltZX0sX3BhdXNlOmZ1bmN0aW9uKCl7dGhpcy5fY29kZVBhdXNlZHx8KHRoaXMuaXNQYXVzZWQ9ITAsdGhpcy5fcGF1c2VkVGltZT10aGlzLmdhbWUudGltZS50aW1lKX0scmVzdW1lOmZ1bmN0aW9uKCl7aWYodGhpcy5pc1BhdXNlZCl7dGhpcy5pc1BhdXNlZD0hMSx0aGlzLl9jb2RlUGF1c2VkPSExO2Zvcih2YXIgdD0wO3Q8dGhpcy50aW1lbGluZS5sZW5ndGg7dCsrKXRoaXMudGltZWxpbmVbdF0uaXNSdW5uaW5nfHwodGhpcy50aW1lbGluZVt0XS5zdGFydFRpbWUrPXRoaXMuZ2FtZS50aW1lLnRpbWUtdGhpcy5fcGF1c2VkVGltZSl9fSxfcmVzdW1lOmZ1bmN0aW9uKCl7dGhpcy5fY29kZVBhdXNlZHx8dGhpcy5yZXN1bWUoKX0sdXBkYXRlOmZ1bmN0aW9uKHQpe2lmKHRoaXMucGVuZGluZ0RlbGV0ZXx8IXRoaXMudGFyZ2V0KXJldHVybiExO2lmKHRoaXMuaXNQYXVzZWQpcmV0dXJuITA7dmFyIGU9dGhpcy50aW1lbGluZVt0aGlzLmN1cnJlbnRdLnVwZGF0ZSh0KTtpZihlPT09aS5Ud2VlbkRhdGEuUEVORElORylyZXR1cm4hMDtpZihlPT09aS5Ud2VlbkRhdGEuUlVOTklORylyZXR1cm4gdGhpcy5faGFzU3RhcnRlZHx8KHRoaXMub25TdGFydC5kaXNwYXRjaCh0aGlzLnRhcmdldCx0aGlzKSx0aGlzLl9oYXNTdGFydGVkPSEwKSxudWxsIT09dGhpcy5fb25VcGRhdGVDYWxsYmFjayYmdGhpcy5fb25VcGRhdGVDYWxsYmFjay5jYWxsKHRoaXMuX29uVXBkYXRlQ2FsbGJhY2tDb250ZXh0LHRoaXMsdGhpcy50aW1lbGluZVt0aGlzLmN1cnJlbnRdLnZhbHVlLHRoaXMudGltZWxpbmVbdGhpcy5jdXJyZW50XSksdGhpcy5pc1J1bm5pbmc7aWYoZT09PWkuVHdlZW5EYXRhLkxPT1BFRClyZXR1cm4tMT09PXRoaXMudGltZWxpbmVbdGhpcy5jdXJyZW50XS5yZXBlYXRDb3VudGVyP3RoaXMub25Mb29wLmRpc3BhdGNoKHRoaXMudGFyZ2V0LHRoaXMpOnRoaXMub25SZXBlYXQuZGlzcGF0Y2godGhpcy50YXJnZXQsdGhpcyksITA7aWYoZT09PWkuVHdlZW5EYXRhLkNPTVBMRVRFKXt2YXIgcz0hMTtyZXR1cm4gdGhpcy5yZXZlcnNlPy0tdGhpcy5jdXJyZW50PDAmJih0aGlzLmN1cnJlbnQ9dGhpcy50aW1lbGluZS5sZW5ndGgtMSxzPSEwKTorK3RoaXMuY3VycmVudD09PXRoaXMudGltZWxpbmUubGVuZ3RoJiYodGhpcy5jdXJyZW50PTAscz0hMCkscz8tMT09PXRoaXMucmVwZWF0Q291bnRlcj8odGhpcy50aW1lbGluZVt0aGlzLmN1cnJlbnRdLnN0YXJ0KCksdGhpcy5vbkxvb3AuZGlzcGF0Y2godGhpcy50YXJnZXQsdGhpcyksITApOnRoaXMucmVwZWF0Q291bnRlcj4wPyh0aGlzLnJlcGVhdENvdW50ZXItLSx0aGlzLnRpbWVsaW5lW3RoaXMuY3VycmVudF0uc3RhcnQoKSx0aGlzLm9uUmVwZWF0LmRpc3BhdGNoKHRoaXMudGFyZ2V0LHRoaXMpLCEwKToodGhpcy5pc1J1bm5pbmc9ITEsdGhpcy5vbkNvbXBsZXRlLmRpc3BhdGNoKHRoaXMudGFyZ2V0LHRoaXMpLHRoaXMuX2hhc1N0YXJ0ZWQ9ITEsdGhpcy5jaGFpbmVkVHdlZW4mJnRoaXMuY2hhaW5lZFR3ZWVuLnN0YXJ0KCksITEpOih0aGlzLm9uQ2hpbGRDb21wbGV0ZS5kaXNwYXRjaCh0aGlzLnRhcmdldCx0aGlzKSx0aGlzLnRpbWVsaW5lW3RoaXMuY3VycmVudF0uc3RhcnQoKSwhMCl9fSxnZW5lcmF0ZURhdGE6ZnVuY3Rpb24odCxlKXtpZihudWxsPT09dGhpcy5nYW1lfHxudWxsPT09dGhpcy50YXJnZXQpcmV0dXJuIG51bGw7dm9pZCAwPT09dCYmKHQ9NjApLHZvaWQgMD09PWUmJihlPVtdKTtmb3Iocz0wO3M8dGhpcy50aW1lbGluZS5sZW5ndGg7cysrKWZvcih2YXIgaSBpbiB0aGlzLnRpbWVsaW5lW3NdLnZFbmQpdGhpcy5wcm9wZXJ0aWVzW2ldPXRoaXMudGFyZ2V0W2ldfHwwLEFycmF5LmlzQXJyYXkodGhpcy5wcm9wZXJ0aWVzW2ldKXx8KHRoaXMucHJvcGVydGllc1tpXSo9MSk7Zm9yKHM9MDtzPHRoaXMudGltZWxpbmUubGVuZ3RoO3MrKyl0aGlzLnRpbWVsaW5lW3NdLmxvYWRWYWx1ZXMoKTtmb3IodmFyIHM9MDtzPHRoaXMudGltZWxpbmUubGVuZ3RoO3MrKyllPWUuY29uY2F0KHRoaXMudGltZWxpbmVbc10uZ2VuZXJhdGVEYXRhKHQpKTtyZXR1cm4gZX19LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLlR3ZWVuLnByb3RvdHlwZSxcInRvdGFsRHVyYXRpb25cIix7Z2V0OmZ1bmN0aW9uKCl7Zm9yKHZhciB0PTAsZT0wO2U8dGhpcy50aW1lbGluZS5sZW5ndGg7ZSsrKXQrPXRoaXMudGltZWxpbmVbZV0uZHVyYXRpb247cmV0dXJuIHR9fSksaS5Ud2Vlbi5wcm90b3R5cGUuY29uc3RydWN0b3I9aS5Ud2VlbixpLlR3ZWVuRGF0YT1mdW5jdGlvbih0KXt0aGlzLnBhcmVudD10LHRoaXMuZ2FtZT10LmdhbWUsdGhpcy52U3RhcnQ9e30sdGhpcy52U3RhcnRDYWNoZT17fSx0aGlzLnZFbmQ9e30sdGhpcy52RW5kQ2FjaGU9e30sdGhpcy5kdXJhdGlvbj0xZTMsdGhpcy5wZXJjZW50PTAsdGhpcy52YWx1ZT0wLHRoaXMucmVwZWF0Q291bnRlcj0wLHRoaXMucmVwZWF0RGVsYXk9MCx0aGlzLnJlcGVhdFRvdGFsPTAsdGhpcy5pbnRlcnBvbGF0ZT0hMSx0aGlzLnlveW89ITEsdGhpcy55b3lvRGVsYXk9MCx0aGlzLmluUmV2ZXJzZT0hMSx0aGlzLmRlbGF5PTAsdGhpcy5kdD0wLHRoaXMuc3RhcnRUaW1lPW51bGwsdGhpcy5lYXNpbmdGdW5jdGlvbj1pLkVhc2luZy5EZWZhdWx0LHRoaXMuaW50ZXJwb2xhdGlvbkZ1bmN0aW9uPWkuTWF0aC5saW5lYXJJbnRlcnBvbGF0aW9uLHRoaXMuaW50ZXJwb2xhdGlvbkNvbnRleHQ9aS5NYXRoLHRoaXMuaXNSdW5uaW5nPSExLHRoaXMuaXNGcm9tPSExfSxpLlR3ZWVuRGF0YS5QRU5ESU5HPTAsaS5Ud2VlbkRhdGEuUlVOTklORz0xLGkuVHdlZW5EYXRhLkxPT1BFRD0yLGkuVHdlZW5EYXRhLkNPTVBMRVRFPTMsaS5Ud2VlbkRhdGEucHJvdG90eXBlPXt0bzpmdW5jdGlvbih0LGUsaSxzLG4sbyl7cmV0dXJuIHRoaXMudkVuZD10LHRoaXMuZHVyYXRpb249ZSx0aGlzLmVhc2luZ0Z1bmN0aW9uPWksdGhpcy5kZWxheT1zLHRoaXMucmVwZWF0VG90YWw9bix0aGlzLnlveW89byx0aGlzLmlzRnJvbT0hMSx0aGlzfSxmcm9tOmZ1bmN0aW9uKHQsZSxpLHMsbixvKXtyZXR1cm4gdGhpcy52RW5kPXQsdGhpcy5kdXJhdGlvbj1lLHRoaXMuZWFzaW5nRnVuY3Rpb249aSx0aGlzLmRlbGF5PXMsdGhpcy5yZXBlYXRUb3RhbD1uLHRoaXMueW95bz1vLHRoaXMuaXNGcm9tPSEwLHRoaXN9LHN0YXJ0OmZ1bmN0aW9uKCl7aWYodGhpcy5zdGFydFRpbWU9dGhpcy5nYW1lLnRpbWUudGltZSt0aGlzLmRlbGF5LHRoaXMucGFyZW50LnJldmVyc2U/dGhpcy5kdD10aGlzLmR1cmF0aW9uOnRoaXMuZHQ9MCx0aGlzLmRlbGF5PjA/dGhpcy5pc1J1bm5pbmc9ITE6dGhpcy5pc1J1bm5pbmc9ITAsdGhpcy5pc0Zyb20pZm9yKHZhciB0IGluIHRoaXMudlN0YXJ0Q2FjaGUpdGhpcy52U3RhcnRbdF09dGhpcy52RW5kQ2FjaGVbdF0sdGhpcy52RW5kW3RdPXRoaXMudlN0YXJ0Q2FjaGVbdF0sdGhpcy5wYXJlbnQudGFyZ2V0W3RdPXRoaXMudlN0YXJ0W3RdO3JldHVybiB0aGlzLnZhbHVlPTAsdGhpcy55b3lvQ291bnRlcj0wLHRoaXMucmVwZWF0Q291bnRlcj10aGlzLnJlcGVhdFRvdGFsLHRoaXN9LGxvYWRWYWx1ZXM6ZnVuY3Rpb24oKXtmb3IodmFyIHQgaW4gdGhpcy5wYXJlbnQucHJvcGVydGllcyl7aWYodGhpcy52U3RhcnRbdF09dGhpcy5wYXJlbnQucHJvcGVydGllc1t0XSxBcnJheS5pc0FycmF5KHRoaXMudkVuZFt0XSkpe2lmKDA9PT10aGlzLnZFbmRbdF0ubGVuZ3RoKWNvbnRpbnVlOzA9PT10aGlzLnBlcmNlbnQmJih0aGlzLnZFbmRbdF09W3RoaXMudlN0YXJ0W3RdXS5jb25jYXQodGhpcy52RW5kW3RdKSl9dm9pZCAwIT09dGhpcy52RW5kW3RdPyhcInN0cmluZ1wiPT10eXBlb2YgdGhpcy52RW5kW3RdJiYodGhpcy52RW5kW3RdPXRoaXMudlN0YXJ0W3RdK3BhcnNlRmxvYXQodGhpcy52RW5kW3RdLDEwKSksdGhpcy5wYXJlbnQucHJvcGVydGllc1t0XT10aGlzLnZFbmRbdF0pOnRoaXMudkVuZFt0XT10aGlzLnZTdGFydFt0XSx0aGlzLnZTdGFydENhY2hlW3RdPXRoaXMudlN0YXJ0W3RdLHRoaXMudkVuZENhY2hlW3RdPXRoaXMudkVuZFt0XX1yZXR1cm4gdGhpc30sdXBkYXRlOmZ1bmN0aW9uKHQpe2lmKHRoaXMuaXNSdW5uaW5nKXtpZih0PHRoaXMuc3RhcnRUaW1lKXJldHVybiBpLlR3ZWVuRGF0YS5SVU5OSU5HfWVsc2V7aWYoISh0Pj10aGlzLnN0YXJ0VGltZSkpcmV0dXJuIGkuVHdlZW5EYXRhLlBFTkRJTkc7dGhpcy5pc1J1bm5pbmc9ITB9dmFyIGU9dGhpcy5wYXJlbnQuZnJhbWVCYXNlZD90aGlzLmdhbWUudGltZS5waHlzaWNzRWxhcHNlZE1TOnRoaXMuZ2FtZS50aW1lLmVsYXBzZWRNUzt0aGlzLnBhcmVudC5yZXZlcnNlPyh0aGlzLmR0LT1lKnRoaXMucGFyZW50LnRpbWVTY2FsZSx0aGlzLmR0PU1hdGgubWF4KHRoaXMuZHQsMCkpOih0aGlzLmR0Kz1lKnRoaXMucGFyZW50LnRpbWVTY2FsZSx0aGlzLmR0PU1hdGgubWluKHRoaXMuZHQsdGhpcy5kdXJhdGlvbikpLHRoaXMucGVyY2VudD10aGlzLmR0L3RoaXMuZHVyYXRpb24sdGhpcy52YWx1ZT10aGlzLmVhc2luZ0Z1bmN0aW9uKHRoaXMucGVyY2VudCk7Zm9yKHZhciBzIGluIHRoaXMudkVuZCl7dmFyIG49dGhpcy52U3RhcnRbc10sbz10aGlzLnZFbmRbc107QXJyYXkuaXNBcnJheShvKT90aGlzLnBhcmVudC50YXJnZXRbc109dGhpcy5pbnRlcnBvbGF0aW9uRnVuY3Rpb24uY2FsbCh0aGlzLmludGVycG9sYXRpb25Db250ZXh0LG8sdGhpcy52YWx1ZSk6dGhpcy5wYXJlbnQudGFyZ2V0W3NdPW4rKG8tbikqdGhpcy52YWx1ZX1yZXR1cm4hdGhpcy5wYXJlbnQucmV2ZXJzZSYmMT09PXRoaXMucGVyY2VudHx8dGhpcy5wYXJlbnQucmV2ZXJzZSYmMD09PXRoaXMucGVyY2VudD90aGlzLnJlcGVhdCgpOmkuVHdlZW5EYXRhLlJVTk5JTkd9LGdlbmVyYXRlRGF0YTpmdW5jdGlvbih0KXt0aGlzLnBhcmVudC5yZXZlcnNlP3RoaXMuZHQ9dGhpcy5kdXJhdGlvbjp0aGlzLmR0PTA7dmFyIGU9W10saT0hMSxzPTEvdCoxZTM7ZG97dGhpcy5wYXJlbnQucmV2ZXJzZT8odGhpcy5kdC09cyx0aGlzLmR0PU1hdGgubWF4KHRoaXMuZHQsMCkpOih0aGlzLmR0Kz1zLHRoaXMuZHQ9TWF0aC5taW4odGhpcy5kdCx0aGlzLmR1cmF0aW9uKSksdGhpcy5wZXJjZW50PXRoaXMuZHQvdGhpcy5kdXJhdGlvbix0aGlzLnZhbHVlPXRoaXMuZWFzaW5nRnVuY3Rpb24odGhpcy5wZXJjZW50KTt2YXIgbj17fTtmb3IodmFyIG8gaW4gdGhpcy52RW5kKXt2YXIgcj10aGlzLnZTdGFydFtvXSxhPXRoaXMudkVuZFtvXTtBcnJheS5pc0FycmF5KGEpP25bb109dGhpcy5pbnRlcnBvbGF0aW9uRnVuY3Rpb24uY2FsbCh0aGlzLmludGVycG9sYXRpb25Db250ZXh0LGEsdGhpcy52YWx1ZSk6bltvXT1yKyhhLXIpKnRoaXMudmFsdWV9ZS5wdXNoKG4pLCghdGhpcy5wYXJlbnQucmV2ZXJzZSYmMT09PXRoaXMucGVyY2VudHx8dGhpcy5wYXJlbnQucmV2ZXJzZSYmMD09PXRoaXMucGVyY2VudCkmJihpPSEwKX13aGlsZSghaSk7aWYodGhpcy55b3lvKXt2YXIgaD1lLnNsaWNlKCk7aC5yZXZlcnNlKCksZT1lLmNvbmNhdChoKX1yZXR1cm4gZX0scmVwZWF0OmZ1bmN0aW9uKCl7aWYodGhpcy55b3lvKXtpZih0aGlzLmluUmV2ZXJzZSYmMD09PXRoaXMucmVwZWF0Q291bnRlcil7Zm9yKHZhciB0IGluIHRoaXMudlN0YXJ0Q2FjaGUpdGhpcy52U3RhcnRbdF09dGhpcy52U3RhcnRDYWNoZVt0XSx0aGlzLnZFbmRbdF09dGhpcy52RW5kQ2FjaGVbdF07cmV0dXJuIHRoaXMuaW5SZXZlcnNlPSExLGkuVHdlZW5EYXRhLkNPTVBMRVRFfXRoaXMuaW5SZXZlcnNlPSF0aGlzLmluUmV2ZXJzZX1lbHNlIGlmKDA9PT10aGlzLnJlcGVhdENvdW50ZXIpcmV0dXJuIGkuVHdlZW5EYXRhLkNPTVBMRVRFO2lmKHRoaXMuaW5SZXZlcnNlKWZvcih2YXIgdCBpbiB0aGlzLnZTdGFydENhY2hlKXRoaXMudlN0YXJ0W3RdPXRoaXMudkVuZENhY2hlW3RdLHRoaXMudkVuZFt0XT10aGlzLnZTdGFydENhY2hlW3RdO2Vsc2V7Zm9yKHZhciB0IGluIHRoaXMudlN0YXJ0Q2FjaGUpdGhpcy52U3RhcnRbdF09dGhpcy52U3RhcnRDYWNoZVt0XSx0aGlzLnZFbmRbdF09dGhpcy52RW5kQ2FjaGVbdF07dGhpcy5yZXBlYXRDb3VudGVyPjAmJnRoaXMucmVwZWF0Q291bnRlci0tfXJldHVybiB0aGlzLnN0YXJ0VGltZT10aGlzLmdhbWUudGltZS50aW1lLHRoaXMueW95byYmdGhpcy5pblJldmVyc2U/dGhpcy5zdGFydFRpbWUrPXRoaXMueW95b0RlbGF5OnRoaXMuaW5SZXZlcnNlfHwodGhpcy5zdGFydFRpbWUrPXRoaXMucmVwZWF0RGVsYXkpLHRoaXMucGFyZW50LnJldmVyc2U/dGhpcy5kdD10aGlzLmR1cmF0aW9uOnRoaXMuZHQ9MCxpLlR3ZWVuRGF0YS5MT09QRUR9fSxpLlR3ZWVuRGF0YS5wcm90b3R5cGUuY29uc3RydWN0b3I9aS5Ud2VlbkRhdGEsaS5FYXNpbmc9e0xpbmVhcjp7Tm9uZTpmdW5jdGlvbih0KXtyZXR1cm4gdH19LFF1YWRyYXRpYzp7SW46ZnVuY3Rpb24odCl7cmV0dXJuIHQqdH0sT3V0OmZ1bmN0aW9uKHQpe3JldHVybiB0KigyLXQpfSxJbk91dDpmdW5jdGlvbih0KXtyZXR1cm4odCo9Mik8MT8uNSp0KnQ6LS41KigtLXQqKHQtMiktMSl9fSxDdWJpYzp7SW46ZnVuY3Rpb24odCl7cmV0dXJuIHQqdCp0fSxPdXQ6ZnVuY3Rpb24odCl7cmV0dXJuLS10KnQqdCsxfSxJbk91dDpmdW5jdGlvbih0KXtyZXR1cm4odCo9Mik8MT8uNSp0KnQqdDouNSooKHQtPTIpKnQqdCsyKX19LFF1YXJ0aWM6e0luOmZ1bmN0aW9uKHQpe3JldHVybiB0KnQqdCp0fSxPdXQ6ZnVuY3Rpb24odCl7cmV0dXJuIDEtIC0tdCp0KnQqdH0sSW5PdXQ6ZnVuY3Rpb24odCl7cmV0dXJuKHQqPTIpPDE/LjUqdCp0KnQqdDotLjUqKCh0LT0yKSp0KnQqdC0yKX19LFF1aW50aWM6e0luOmZ1bmN0aW9uKHQpe3JldHVybiB0KnQqdCp0KnR9LE91dDpmdW5jdGlvbih0KXtyZXR1cm4tLXQqdCp0KnQqdCsxfSxJbk91dDpmdW5jdGlvbih0KXtyZXR1cm4odCo9Mik8MT8uNSp0KnQqdCp0KnQ6LjUqKCh0LT0yKSp0KnQqdCp0KzIpfX0sU2ludXNvaWRhbDp7SW46ZnVuY3Rpb24odCl7cmV0dXJuIDA9PT10PzA6MT09PXQ/MToxLU1hdGguY29zKHQqTWF0aC5QSS8yKX0sT3V0OmZ1bmN0aW9uKHQpe3JldHVybiAwPT09dD8wOjE9PT10PzE6TWF0aC5zaW4odCpNYXRoLlBJLzIpfSxJbk91dDpmdW5jdGlvbih0KXtyZXR1cm4gMD09PXQ/MDoxPT09dD8xOi41KigxLU1hdGguY29zKE1hdGguUEkqdCkpfX0sRXhwb25lbnRpYWw6e0luOmZ1bmN0aW9uKHQpe3JldHVybiAwPT09dD8wOk1hdGgucG93KDEwMjQsdC0xKX0sT3V0OmZ1bmN0aW9uKHQpe3JldHVybiAxPT09dD8xOjEtTWF0aC5wb3coMiwtMTAqdCl9LEluT3V0OmZ1bmN0aW9uKHQpe3JldHVybiAwPT09dD8wOjE9PT10PzE6KHQqPTIpPDE/LjUqTWF0aC5wb3coMTAyNCx0LTEpOi41KigyLU1hdGgucG93KDIsLTEwKih0LTEpKSl9fSxDaXJjdWxhcjp7SW46ZnVuY3Rpb24odCl7cmV0dXJuIDEtTWF0aC5zcXJ0KDEtdCp0KX0sT3V0OmZ1bmN0aW9uKHQpe3JldHVybiBNYXRoLnNxcnQoMS0gLS10KnQpfSxJbk91dDpmdW5jdGlvbih0KXtyZXR1cm4odCo9Mik8MT8tLjUqKE1hdGguc3FydCgxLXQqdCktMSk6LjUqKE1hdGguc3FydCgxLSh0LT0yKSp0KSsxKX19LEVsYXN0aWM6e0luOmZ1bmN0aW9uKHQpe3ZhciBlLGk9LjE7cmV0dXJuIDA9PT10PzA6MT09PXQ/MTooIWl8fGk8MT8oaT0xLGU9LjEpOmU9LjQqTWF0aC5hc2luKDEvaSkvKDIqTWF0aC5QSSksLWkqTWF0aC5wb3coMiwxMCoodC09MSkpKk1hdGguc2luKCh0LWUpKigyKk1hdGguUEkpLy40KSl9LE91dDpmdW5jdGlvbih0KXt2YXIgZSxpPS4xO3JldHVybiAwPT09dD8wOjE9PT10PzE6KCFpfHxpPDE/KGk9MSxlPS4xKTplPS40Kk1hdGguYXNpbigxL2kpLygyKk1hdGguUEkpLGkqTWF0aC5wb3coMiwtMTAqdCkqTWF0aC5zaW4oKHQtZSkqKDIqTWF0aC5QSSkvLjQpKzEpfSxJbk91dDpmdW5jdGlvbih0KXt2YXIgZSxpPS4xO3JldHVybiAwPT09dD8wOjE9PT10PzE6KCFpfHxpPDE/KGk9MSxlPS4xKTplPS40Kk1hdGguYXNpbigxL2kpLygyKk1hdGguUEkpLCh0Kj0yKTwxP2kqTWF0aC5wb3coMiwxMCoodC09MSkpKk1hdGguc2luKCh0LWUpKigyKk1hdGguUEkpLy40KSotLjU6aSpNYXRoLnBvdygyLC0xMCoodC09MSkpKk1hdGguc2luKCh0LWUpKigyKk1hdGguUEkpLy40KSouNSsxKX19LEJhY2s6e0luOmZ1bmN0aW9uKHQpe3ZhciBlPTEuNzAxNTg7cmV0dXJuIHQqdCooKGUrMSkqdC1lKX0sT3V0OmZ1bmN0aW9uKHQpe3ZhciBlPTEuNzAxNTg7cmV0dXJuLS10KnQqKChlKzEpKnQrZSkrMX0sSW5PdXQ6ZnVuY3Rpb24odCl7dmFyIGU9Mi41OTQ5MDk1O3JldHVybih0Kj0yKTwxP3QqdCooKGUrMSkqdC1lKSouNTouNSooKHQtPTIpKnQqKChlKzEpKnQrZSkrMil9fSxCb3VuY2U6e0luOmZ1bmN0aW9uKHQpe3JldHVybiAxLWkuRWFzaW5nLkJvdW5jZS5PdXQoMS10KX0sT3V0OmZ1bmN0aW9uKHQpe3JldHVybiB0PDEvMi43NT83LjU2MjUqdCp0OnQ8Mi8yLjc1PzcuNTYyNSoodC09MS41LzIuNzUpKnQrLjc1OnQ8Mi41LzIuNzU/Ny41NjI1Kih0LT0yLjI1LzIuNzUpKnQrLjkzNzU6Ny41NjI1Kih0LT0yLjYyNS8yLjc1KSp0Ky45ODQzNzV9LEluT3V0OmZ1bmN0aW9uKHQpe3JldHVybiB0PC41Py41KmkuRWFzaW5nLkJvdW5jZS5JbigyKnQpOi41KmkuRWFzaW5nLkJvdW5jZS5PdXQoMip0LTEpKy41fX19LGkuRWFzaW5nLkRlZmF1bHQ9aS5FYXNpbmcuTGluZWFyLk5vbmUsaS5FYXNpbmcuUG93ZXIwPWkuRWFzaW5nLkxpbmVhci5Ob25lLGkuRWFzaW5nLlBvd2VyMT1pLkVhc2luZy5RdWFkcmF0aWMuT3V0LGkuRWFzaW5nLlBvd2VyMj1pLkVhc2luZy5DdWJpYy5PdXQsaS5FYXNpbmcuUG93ZXIzPWkuRWFzaW5nLlF1YXJ0aWMuT3V0LGkuRWFzaW5nLlBvd2VyND1pLkVhc2luZy5RdWludGljLk91dCxpLlRpbWU9ZnVuY3Rpb24odCl7dGhpcy5nYW1lPXQsdGhpcy50aW1lPTAsdGhpcy5wcmV2VGltZT0wLHRoaXMubm93PTAsdGhpcy5lbGFwc2VkPTAsdGhpcy5lbGFwc2VkTVM9MCx0aGlzLnBoeXNpY3NFbGFwc2VkPTEvNjAsdGhpcy5waHlzaWNzRWxhcHNlZE1TPTEvNjAqMWUzLHRoaXMuZGVzaXJlZEZwc011bHQ9MS82MCx0aGlzLl9kZXNpcmVkRnBzPTYwLHRoaXMuc3VnZ2VzdGVkRnBzPXRoaXMuZGVzaXJlZEZwcyx0aGlzLnNsb3dNb3Rpb249MSx0aGlzLmFkdmFuY2VkVGltaW5nPSExLHRoaXMuZnJhbWVzPTAsdGhpcy5mcHM9MCx0aGlzLmZwc01pbj0xZTMsdGhpcy5mcHNNYXg9MCx0aGlzLm1zTWluPTFlMyx0aGlzLm1zTWF4PTAsdGhpcy5wYXVzZUR1cmF0aW9uPTAsdGhpcy50aW1lVG9DYWxsPTAsdGhpcy50aW1lRXhwZWN0ZWQ9MCx0aGlzLmV2ZW50cz1uZXcgaS5UaW1lcih0aGlzLmdhbWUsITEpLHRoaXMuX2ZyYW1lQ291bnQ9MCx0aGlzLl9lbGFwc2VkQWNjdW11bGF0b3I9MCx0aGlzLl9zdGFydGVkPTAsdGhpcy5fdGltZUxhc3RTZWNvbmQ9MCx0aGlzLl9wYXVzZVN0YXJ0ZWQ9MCx0aGlzLl9qdXN0UmVzdW1lZD0hMSx0aGlzLl90aW1lcnM9W119LGkuVGltZS5wcm90b3R5cGU9e2Jvb3Q6ZnVuY3Rpb24oKXt0aGlzLl9zdGFydGVkPURhdGUubm93KCksdGhpcy50aW1lPURhdGUubm93KCksdGhpcy5ldmVudHMuc3RhcnQoKSx0aGlzLnRpbWVFeHBlY3RlZD10aGlzLnRpbWV9LGFkZDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fdGltZXJzLnB1c2godCksdH0sY3JlYXRlOmZ1bmN0aW9uKHQpe3ZvaWQgMD09PXQmJih0PSEwKTt2YXIgZT1uZXcgaS5UaW1lcih0aGlzLmdhbWUsdCk7cmV0dXJuIHRoaXMuX3RpbWVycy5wdXNoKGUpLGV9LHJlbW92ZUFsbDpmdW5jdGlvbigpe2Zvcih2YXIgdD0wO3Q8dGhpcy5fdGltZXJzLmxlbmd0aDt0KyspdGhpcy5fdGltZXJzW3RdLmRlc3Ryb3koKTt0aGlzLl90aW1lcnM9W10sdGhpcy5ldmVudHMucmVtb3ZlQWxsKCl9LHJlZnJlc2g6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnRpbWU7dGhpcy50aW1lPURhdGUubm93KCksdGhpcy5lbGFwc2VkTVM9dGhpcy50aW1lLXR9LHVwZGF0ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLnRpbWU7dGhpcy50aW1lPURhdGUubm93KCksdGhpcy5lbGFwc2VkTVM9dGhpcy50aW1lLWUsdGhpcy5wcmV2VGltZT10aGlzLm5vdyx0aGlzLm5vdz10LHRoaXMuZWxhcHNlZD10aGlzLm5vdy10aGlzLnByZXZUaW1lLHRoaXMuZ2FtZS5yYWYuX2lzU2V0VGltZU91dCYmKHRoaXMudGltZVRvQ2FsbD1NYXRoLmZsb29yKE1hdGgubWF4KDAsMWUzL3RoaXMuX2Rlc2lyZWRGcHMtKHRoaXMudGltZUV4cGVjdGVkLXQpKSksdGhpcy50aW1lRXhwZWN0ZWQ9dCt0aGlzLnRpbWVUb0NhbGwpLHRoaXMuYWR2YW5jZWRUaW1pbmcmJnRoaXMudXBkYXRlQWR2YW5jZWRUaW1pbmcoKSx0aGlzLmdhbWUucGF1c2VkfHwodGhpcy5ldmVudHMudXBkYXRlKHRoaXMudGltZSksdGhpcy5fdGltZXJzLmxlbmd0aCYmdGhpcy51cGRhdGVUaW1lcnMoKSl9LHVwZGF0ZVRpbWVyczpmdW5jdGlvbigpe2Zvcih2YXIgdD0wLGU9dGhpcy5fdGltZXJzLmxlbmd0aDt0PGU7KXRoaXMuX3RpbWVyc1t0XS51cGRhdGUodGhpcy50aW1lKT90Kys6KHRoaXMuX3RpbWVycy5zcGxpY2UodCwxKSxlLS0pfSx1cGRhdGVBZHZhbmNlZFRpbWluZzpmdW5jdGlvbigpe3RoaXMuX2ZyYW1lQ291bnQrKyx0aGlzLl9lbGFwc2VkQWNjdW11bGF0b3IrPXRoaXMuZWxhcHNlZCx0aGlzLl9mcmFtZUNvdW50Pj0yKnRoaXMuX2Rlc2lyZWRGcHMmJih0aGlzLnN1Z2dlc3RlZEZwcz01Kk1hdGguZmxvb3IoMjAwLyh0aGlzLl9lbGFwc2VkQWNjdW11bGF0b3IvdGhpcy5fZnJhbWVDb3VudCkpLHRoaXMuX2ZyYW1lQ291bnQ9MCx0aGlzLl9lbGFwc2VkQWNjdW11bGF0b3I9MCksdGhpcy5tc01pbj1NYXRoLm1pbih0aGlzLm1zTWluLHRoaXMuZWxhcHNlZCksdGhpcy5tc01heD1NYXRoLm1heCh0aGlzLm1zTWF4LHRoaXMuZWxhcHNlZCksdGhpcy5mcmFtZXMrKyx0aGlzLm5vdz50aGlzLl90aW1lTGFzdFNlY29uZCsxZTMmJih0aGlzLmZwcz1NYXRoLnJvdW5kKDFlMyp0aGlzLmZyYW1lcy8odGhpcy5ub3ctdGhpcy5fdGltZUxhc3RTZWNvbmQpKSx0aGlzLmZwc01pbj1NYXRoLm1pbih0aGlzLmZwc01pbix0aGlzLmZwcyksdGhpcy5mcHNNYXg9TWF0aC5tYXgodGhpcy5mcHNNYXgsdGhpcy5mcHMpLHRoaXMuX3RpbWVMYXN0U2Vjb25kPXRoaXMubm93LHRoaXMuZnJhbWVzPTApfSxnYW1lUGF1c2VkOmZ1bmN0aW9uKCl7dGhpcy5fcGF1c2VTdGFydGVkPURhdGUubm93KCksdGhpcy5ldmVudHMucGF1c2UoKTtmb3IodmFyIHQ9dGhpcy5fdGltZXJzLmxlbmd0aDt0LS07KXRoaXMuX3RpbWVyc1t0XS5fcGF1c2UoKX0sZ2FtZVJlc3VtZWQ6ZnVuY3Rpb24oKXt0aGlzLnRpbWU9RGF0ZS5ub3coKSx0aGlzLnBhdXNlRHVyYXRpb249dGhpcy50aW1lLXRoaXMuX3BhdXNlU3RhcnRlZCx0aGlzLmV2ZW50cy5yZXN1bWUoKTtmb3IodmFyIHQ9dGhpcy5fdGltZXJzLmxlbmd0aDt0LS07KXRoaXMuX3RpbWVyc1t0XS5fcmVzdW1lKCl9LHRvdGFsRWxhcHNlZFNlY29uZHM6ZnVuY3Rpb24oKXtyZXR1cm4uMDAxKih0aGlzLnRpbWUtdGhpcy5fc3RhcnRlZCl9LGVsYXBzZWRTaW5jZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy50aW1lLXR9LGVsYXBzZWRTZWNvbmRzU2luY2U6ZnVuY3Rpb24odCl7cmV0dXJuLjAwMSoodGhpcy50aW1lLXQpfSxyZXNldDpmdW5jdGlvbigpe3RoaXMuX3N0YXJ0ZWQ9dGhpcy50aW1lLHRoaXMucmVtb3ZlQWxsKCl9fSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5UaW1lLnByb3RvdHlwZSxcImRlc2lyZWRGcHNcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2Rlc2lyZWRGcHN9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9kZXNpcmVkRnBzPXQsdGhpcy5waHlzaWNzRWxhcHNlZD0xL3QsdGhpcy5waHlzaWNzRWxhcHNlZE1TPTFlMyp0aGlzLnBoeXNpY3NFbGFwc2VkLHRoaXMuZGVzaXJlZEZwc011bHQ9MS90fX0pLGkuVGltZS5wcm90b3R5cGUuY29uc3RydWN0b3I9aS5UaW1lLGkuVGltZXI9ZnVuY3Rpb24odCxlKXt2b2lkIDA9PT1lJiYoZT0hMCksdGhpcy5nYW1lPXQsdGhpcy5ydW5uaW5nPSExLHRoaXMuYXV0b0Rlc3Ryb3k9ZSx0aGlzLmV4cGlyZWQ9ITEsdGhpcy5lbGFwc2VkPTAsdGhpcy5ldmVudHM9W10sdGhpcy5vbkNvbXBsZXRlPW5ldyBpLlNpZ25hbCx0aGlzLm5leHRUaWNrPTAsdGhpcy50aW1lQ2FwPTFlMyx0aGlzLnBhdXNlZD0hMSx0aGlzLl9jb2RlUGF1c2VkPSExLHRoaXMuX3N0YXJ0ZWQ9MCx0aGlzLl9wYXVzZVN0YXJ0ZWQ9MCx0aGlzLl9wYXVzZVRvdGFsPTAsdGhpcy5fbm93PURhdGUubm93KCksdGhpcy5fbGVuPTAsdGhpcy5fbWFya2VkPTAsdGhpcy5faT0wLHRoaXMuX2RpZmY9MCx0aGlzLl9uZXdUaWNrPTB9LGkuVGltZXIuTUlOVVRFPTZlNCxpLlRpbWVyLlNFQ09ORD0xZTMsaS5UaW1lci5IQUxGPTUwMCxpLlRpbWVyLlFVQVJURVI9MjUwLGkuVGltZXIucHJvdG90eXBlPXtjcmVhdGU6ZnVuY3Rpb24odCxlLHMsbixvLHIpe3ZhciBhPXQ9TWF0aC5yb3VuZCh0KTswPT09dGhpcy5fbm93P2ErPXRoaXMuZ2FtZS50aW1lLnRpbWU6YSs9dGhpcy5fbm93O3ZhciBoPW5ldyBpLlRpbWVyRXZlbnQodGhpcyx0LGEscyxlLG4sbyxyKTtyZXR1cm4gdGhpcy5ldmVudHMucHVzaChoKSx0aGlzLm9yZGVyKCksdGhpcy5leHBpcmVkPSExLGh9LGFkZDpmdW5jdGlvbih0LGUsaSl7cmV0dXJuIHRoaXMuY3JlYXRlKHQsITEsMCxlLGksQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDMpKX0scmVwZWF0OmZ1bmN0aW9uKHQsZSxpLHMpe3JldHVybiB0aGlzLmNyZWF0ZSh0LCExLGUsaSxzLEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyw0KSl9LGxvb3A6ZnVuY3Rpb24odCxlLGkpe3JldHVybiB0aGlzLmNyZWF0ZSh0LCEwLDAsZSxpLEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywzKSl9LHN0YXJ0OmZ1bmN0aW9uKHQpe2lmKCF0aGlzLnJ1bm5pbmcpe3RoaXMuX3N0YXJ0ZWQ9dGhpcy5nYW1lLnRpbWUudGltZSsodHx8MCksdGhpcy5ydW5uaW5nPSEwO2Zvcih2YXIgZT0wO2U8dGhpcy5ldmVudHMubGVuZ3RoO2UrKyl0aGlzLmV2ZW50c1tlXS50aWNrPXRoaXMuZXZlbnRzW2VdLmRlbGF5K3RoaXMuX3N0YXJ0ZWR9fSxzdG9wOmZ1bmN0aW9uKHQpe3RoaXMucnVubmluZz0hMSx2b2lkIDA9PT10JiYodD0hMCksdCYmKHRoaXMuZXZlbnRzLmxlbmd0aD0wKX0scmVtb3ZlOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wO2U8dGhpcy5ldmVudHMubGVuZ3RoO2UrKylpZih0aGlzLmV2ZW50c1tlXT09PXQpcmV0dXJuIHRoaXMuZXZlbnRzW2VdLnBlbmRpbmdEZWxldGU9ITAsITA7cmV0dXJuITF9LG9yZGVyOmZ1bmN0aW9uKCl7dGhpcy5ldmVudHMubGVuZ3RoPjAmJih0aGlzLmV2ZW50cy5zb3J0KHRoaXMuc29ydEhhbmRsZXIpLHRoaXMubmV4dFRpY2s9dGhpcy5ldmVudHNbMF0udGljayl9LHNvcnRIYW5kbGVyOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQudGljazxlLnRpY2s/LTE6dC50aWNrPmUudGljaz8xOjB9LGNsZWFyUGVuZGluZ0V2ZW50czpmdW5jdGlvbigpe2Zvcih0aGlzLl9pPXRoaXMuZXZlbnRzLmxlbmd0aDt0aGlzLl9pLS07KXRoaXMuZXZlbnRzW3RoaXMuX2ldLnBlbmRpbmdEZWxldGUmJnRoaXMuZXZlbnRzLnNwbGljZSh0aGlzLl9pLDEpO3RoaXMuX2xlbj10aGlzLmV2ZW50cy5sZW5ndGgsdGhpcy5faT0wfSx1cGRhdGU6ZnVuY3Rpb24odCl7aWYodGhpcy5wYXVzZWQpcmV0dXJuITA7aWYodGhpcy5lbGFwc2VkPXQtdGhpcy5fbm93LHRoaXMuX25vdz10LHRoaXMuZWxhcHNlZD50aGlzLnRpbWVDYXAmJnRoaXMuYWRqdXN0RXZlbnRzKHQtdGhpcy5lbGFwc2VkKSx0aGlzLl9tYXJrZWQ9MCx0aGlzLmNsZWFyUGVuZGluZ0V2ZW50cygpLHRoaXMucnVubmluZyYmdGhpcy5fbm93Pj10aGlzLm5leHRUaWNrJiZ0aGlzLl9sZW4+MCl7Zm9yKDt0aGlzLl9pPHRoaXMuX2xlbiYmdGhpcy5ydW5uaW5nOyl7dmFyIGU9dGhpcy5ldmVudHNbdGhpcy5faV07aWYoISh0aGlzLl9ub3c+PWUudGljayl8fGUucGVuZGluZ0RlbGV0ZSlicmVhazt0aGlzLl9uZXdUaWNrPXRoaXMuX25vdytlLmRlbGF5LSh0aGlzLl9ub3ctZS50aWNrKSx0aGlzLl9uZXdUaWNrPDAmJih0aGlzLl9uZXdUaWNrPXRoaXMuX25vdytlLmRlbGF5KSwhMD09PWUubG9vcD8oZS50aWNrPXRoaXMuX25ld1RpY2ssZS5jYWxsYmFjay5hcHBseShlLmNhbGxiYWNrQ29udGV4dCxlLmFyZ3MpKTplLnJlcGVhdENvdW50PjA/KGUucmVwZWF0Q291bnQtLSxlLnRpY2s9dGhpcy5fbmV3VGljayxlLmNhbGxiYWNrLmFwcGx5KGUuY2FsbGJhY2tDb250ZXh0LGUuYXJncykpOih0aGlzLl9tYXJrZWQrKyxlLnBlbmRpbmdEZWxldGU9ITAsZS5jYWxsYmFjay5hcHBseShlLmNhbGxiYWNrQ29udGV4dCxlLmFyZ3MpKSx0aGlzLl9pKyt9dGhpcy5ldmVudHMubGVuZ3RoPnRoaXMuX21hcmtlZD90aGlzLm9yZGVyKCk6KHRoaXMuZXhwaXJlZD0hMCx0aGlzLm9uQ29tcGxldGUuZGlzcGF0Y2godGhpcykpfXJldHVybiF0aGlzLmV4cGlyZWR8fCF0aGlzLmF1dG9EZXN0cm95fSxwYXVzZTpmdW5jdGlvbigpe3RoaXMucnVubmluZyYmKHRoaXMuX2NvZGVQYXVzZWQ9ITAsdGhpcy5wYXVzZWR8fCh0aGlzLl9wYXVzZVN0YXJ0ZWQ9dGhpcy5nYW1lLnRpbWUudGltZSx0aGlzLnBhdXNlZD0hMCkpfSxfcGF1c2U6ZnVuY3Rpb24oKXshdGhpcy5wYXVzZWQmJnRoaXMucnVubmluZyYmKHRoaXMuX3BhdXNlU3RhcnRlZD10aGlzLmdhbWUudGltZS50aW1lLHRoaXMucGF1c2VkPSEwKX0sYWRqdXN0RXZlbnRzOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wO2U8dGhpcy5ldmVudHMubGVuZ3RoO2UrKylpZighdGhpcy5ldmVudHNbZV0ucGVuZGluZ0RlbGV0ZSl7dmFyIGk9dGhpcy5ldmVudHNbZV0udGljay10O2k8MCYmKGk9MCksdGhpcy5ldmVudHNbZV0udGljaz10aGlzLl9ub3craX12YXIgcz10aGlzLm5leHRUaWNrLXQ7dGhpcy5uZXh0VGljaz1zPDA/dGhpcy5fbm93OnRoaXMuX25vdytzfSxyZXN1bWU6ZnVuY3Rpb24oKXtpZih0aGlzLnBhdXNlZCl7dmFyIHQ9dGhpcy5nYW1lLnRpbWUudGltZTt0aGlzLl9wYXVzZVRvdGFsKz10LXRoaXMuX25vdyx0aGlzLl9ub3c9dCx0aGlzLmFkanVzdEV2ZW50cyh0aGlzLl9wYXVzZVN0YXJ0ZWQpLHRoaXMucGF1c2VkPSExLHRoaXMuX2NvZGVQYXVzZWQ9ITF9fSxfcmVzdW1lOmZ1bmN0aW9uKCl7dGhpcy5fY29kZVBhdXNlZHx8dGhpcy5yZXN1bWUoKX0scmVtb3ZlQWxsOmZ1bmN0aW9uKCl7dGhpcy5vbkNvbXBsZXRlLnJlbW92ZUFsbCgpLHRoaXMuZXZlbnRzLmxlbmd0aD0wLHRoaXMuX2xlbj0wLHRoaXMuX2k9MH0sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMub25Db21wbGV0ZS5yZW1vdmVBbGwoKSx0aGlzLnJ1bm5pbmc9ITEsdGhpcy5leHBpcmVkPSEwLHRoaXMuZXZlbnRzPVtdLHRoaXMuX2xlbj0wLHRoaXMuX2k9MH19LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLlRpbWVyLnByb3RvdHlwZSxcIm5leHRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubmV4dFRpY2t9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuVGltZXIucHJvdG90eXBlLFwiZHVyYXRpb25cIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucnVubmluZyYmdGhpcy5uZXh0VGljaz50aGlzLl9ub3c/dGhpcy5uZXh0VGljay10aGlzLl9ub3c6MH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5UaW1lci5wcm90b3R5cGUsXCJsZW5ndGhcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZXZlbnRzLmxlbmd0aH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5UaW1lci5wcm90b3R5cGUsXCJtc1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ydW5uaW5nP3RoaXMuX25vdy10aGlzLl9zdGFydGVkLXRoaXMuX3BhdXNlVG90YWw6MH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5UaW1lci5wcm90b3R5cGUsXCJzZWNvbmRzXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnJ1bm5pbmc/LjAwMSp0aGlzLm1zOjB9fSksaS5UaW1lci5wcm90b3R5cGUuY29uc3RydWN0b3I9aS5UaW1lcixpLlRpbWVyRXZlbnQ9ZnVuY3Rpb24odCxlLGkscyxuLG8scixhKXt0aGlzLnRpbWVyPXQsdGhpcy5kZWxheT1lLHRoaXMudGljaz1pLHRoaXMucmVwZWF0Q291bnQ9cy0xLHRoaXMubG9vcD1uLHRoaXMuY2FsbGJhY2s9byx0aGlzLmNhbGxiYWNrQ29udGV4dD1yLHRoaXMuYXJncz1hLHRoaXMucGVuZGluZ0RlbGV0ZT0hMX0saS5UaW1lckV2ZW50LnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1pLlRpbWVyRXZlbnQsaS5BbmltYXRpb25NYW5hZ2VyPWZ1bmN0aW9uKHQpe3RoaXMuc3ByaXRlPXQsdGhpcy5nYW1lPXQuZ2FtZSx0aGlzLmN1cnJlbnRGcmFtZT1udWxsLHRoaXMuY3VycmVudEFuaW09bnVsbCx0aGlzLnVwZGF0ZUlmVmlzaWJsZT0hMCx0aGlzLmlzTG9hZGVkPSExLHRoaXMuX2ZyYW1lRGF0YT1udWxsLHRoaXMuX2FuaW1zPXt9LHRoaXMuX291dHB1dEZyYW1lcz1bXX0saS5BbmltYXRpb25NYW5hZ2VyLnByb3RvdHlwZT17bG9hZEZyYW1lRGF0YTpmdW5jdGlvbih0LGUpe2lmKHZvaWQgMD09PXQpcmV0dXJuITE7aWYodGhpcy5pc0xvYWRlZClmb3IodmFyIGkgaW4gdGhpcy5fYW5pbXMpdGhpcy5fYW5pbXNbaV0udXBkYXRlRnJhbWVEYXRhKHQpO3JldHVybiB0aGlzLl9mcmFtZURhdGE9dCx2b2lkIDA9PT1lfHxudWxsPT09ZT90aGlzLmZyYW1lPTA6XCJzdHJpbmdcIj09dHlwZW9mIGU/dGhpcy5mcmFtZU5hbWU9ZTp0aGlzLmZyYW1lPWUsdGhpcy5pc0xvYWRlZD0hMCwhMH0sY29weUZyYW1lRGF0YTpmdW5jdGlvbih0LGUpe2lmKHRoaXMuX2ZyYW1lRGF0YT10LmNsb25lKCksdGhpcy5pc0xvYWRlZClmb3IodmFyIGkgaW4gdGhpcy5fYW5pbXMpdGhpcy5fYW5pbXNbaV0udXBkYXRlRnJhbWVEYXRhKHRoaXMuX2ZyYW1lRGF0YSk7cmV0dXJuIHZvaWQgMD09PWV8fG51bGw9PT1lP3RoaXMuZnJhbWU9MDpcInN0cmluZ1wiPT10eXBlb2YgZT90aGlzLmZyYW1lTmFtZT1lOnRoaXMuZnJhbWU9ZSx0aGlzLmlzTG9hZGVkPSEwLCEwfSxhZGQ6ZnVuY3Rpb24odCxlLHMsbixvKXtyZXR1cm4gZT1lfHxbXSxzPXN8fDYwLHZvaWQgMD09PW4mJihuPSExKSx2b2lkIDA9PT1vJiYobz0hKCFlfHxcIm51bWJlclwiIT10eXBlb2YgZVswXSkpLHRoaXMuX291dHB1dEZyYW1lcz1bXSx0aGlzLl9mcmFtZURhdGEuZ2V0RnJhbWVJbmRleGVzKGUsbyx0aGlzLl9vdXRwdXRGcmFtZXMpLHRoaXMuX2FuaW1zW3RdPW5ldyBpLkFuaW1hdGlvbih0aGlzLmdhbWUsdGhpcy5zcHJpdGUsdCx0aGlzLl9mcmFtZURhdGEsdGhpcy5fb3V0cHV0RnJhbWVzLHMsbiksdGhpcy5jdXJyZW50QW5pbT10aGlzLl9hbmltc1t0XSx0aGlzLnNwcml0ZS50aWxpbmdUZXh0dXJlJiYodGhpcy5zcHJpdGUucmVmcmVzaFRleHR1cmU9ITApLHRoaXMuX2FuaW1zW3RdfSx2YWxpZGF0ZUZyYW1lczpmdW5jdGlvbih0LGUpe3ZvaWQgMD09PWUmJihlPSEwKTtmb3IodmFyIGk9MDtpPHQubGVuZ3RoO2krKylpZighMD09PWUpe2lmKHRbaV0+dGhpcy5fZnJhbWVEYXRhLnRvdGFsKXJldHVybiExfWVsc2UgaWYoITE9PT10aGlzLl9mcmFtZURhdGEuY2hlY2tGcmFtZU5hbWUodFtpXSkpcmV0dXJuITE7cmV0dXJuITB9LHBsYXk6ZnVuY3Rpb24odCxlLGkscyl7aWYodGhpcy5fYW5pbXNbdF0pcmV0dXJuIHRoaXMuY3VycmVudEFuaW09PT10aGlzLl9hbmltc1t0XT8hMT09PXRoaXMuY3VycmVudEFuaW0uaXNQbGF5aW5nPyh0aGlzLmN1cnJlbnRBbmltLnBhdXNlZD0hMSx0aGlzLmN1cnJlbnRBbmltLnBsYXkoZSxpLHMpKTp0aGlzLmN1cnJlbnRBbmltOih0aGlzLmN1cnJlbnRBbmltJiZ0aGlzLmN1cnJlbnRBbmltLmlzUGxheWluZyYmdGhpcy5jdXJyZW50QW5pbS5zdG9wKCksdGhpcy5jdXJyZW50QW5pbT10aGlzLl9hbmltc1t0XSx0aGlzLmN1cnJlbnRBbmltLnBhdXNlZD0hMSx0aGlzLmN1cnJlbnRGcmFtZT10aGlzLmN1cnJlbnRBbmltLmN1cnJlbnRGcmFtZSx0aGlzLmN1cnJlbnRBbmltLnBsYXkoZSxpLHMpKX0sc3RvcDpmdW5jdGlvbih0LGUpe3ZvaWQgMD09PWUmJihlPSExKSwhdGhpcy5jdXJyZW50QW5pbXx8XCJzdHJpbmdcIj09dHlwZW9mIHQmJnQhPT10aGlzLmN1cnJlbnRBbmltLm5hbWV8fHRoaXMuY3VycmVudEFuaW0uc3RvcChlKX0sdXBkYXRlOmZ1bmN0aW9uKCl7cmV0dXJuISh0aGlzLnVwZGF0ZUlmVmlzaWJsZSYmIXRoaXMuc3ByaXRlLnZpc2libGUpJiYoISghdGhpcy5jdXJyZW50QW5pbXx8IXRoaXMuY3VycmVudEFuaW0udXBkYXRlKCkpJiYodGhpcy5jdXJyZW50RnJhbWU9dGhpcy5jdXJyZW50QW5pbS5jdXJyZW50RnJhbWUsITApKX0sbmV4dDpmdW5jdGlvbih0KXt0aGlzLmN1cnJlbnRBbmltJiYodGhpcy5jdXJyZW50QW5pbS5uZXh0KHQpLHRoaXMuY3VycmVudEZyYW1lPXRoaXMuY3VycmVudEFuaW0uY3VycmVudEZyYW1lKX0scHJldmlvdXM6ZnVuY3Rpb24odCl7dGhpcy5jdXJyZW50QW5pbSYmKHRoaXMuY3VycmVudEFuaW0ucHJldmlvdXModCksdGhpcy5jdXJyZW50RnJhbWU9dGhpcy5jdXJyZW50QW5pbS5jdXJyZW50RnJhbWUpfSxnZXRBbmltYXRpb246ZnVuY3Rpb24odCl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIHQmJnRoaXMuX2FuaW1zW3RdP3RoaXMuX2FuaW1zW3RdOm51bGx9LHJlZnJlc2hGcmFtZTpmdW5jdGlvbigpe30sZGVzdHJveTpmdW5jdGlvbigpe3Q9bnVsbDtmb3IodmFyIHQgaW4gdGhpcy5fYW5pbXMpdGhpcy5fYW5pbXMuaGFzT3duUHJvcGVydHkodCkmJnRoaXMuX2FuaW1zW3RdLmRlc3Ryb3koKTt0aGlzLl9hbmltcz17fSx0aGlzLl9vdXRwdXRGcmFtZXM9W10sdGhpcy5fZnJhbWVEYXRhPW51bGwsdGhpcy5jdXJyZW50QW5pbT1udWxsLHRoaXMuY3VycmVudEZyYW1lPW51bGwsdGhpcy5zcHJpdGU9bnVsbCx0aGlzLmdhbWU9bnVsbH19LGkuQW5pbWF0aW9uTWFuYWdlci5wcm90b3R5cGUuY29uc3RydWN0b3I9aS5BbmltYXRpb25NYW5hZ2VyLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLkFuaW1hdGlvbk1hbmFnZXIucHJvdG90eXBlLFwiZnJhbWVEYXRhXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9mcmFtZURhdGF9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuQW5pbWF0aW9uTWFuYWdlci5wcm90b3R5cGUsXCJmcmFtZVRvdGFsXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9mcmFtZURhdGEudG90YWx9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuQW5pbWF0aW9uTWFuYWdlci5wcm90b3R5cGUsXCJwYXVzZWRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY3VycmVudEFuaW0uaXNQYXVzZWR9LHNldDpmdW5jdGlvbih0KXt0aGlzLmN1cnJlbnRBbmltLnBhdXNlZD10fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLkFuaW1hdGlvbk1hbmFnZXIucHJvdG90eXBlLFwibmFtZVwiLHtnZXQ6ZnVuY3Rpb24oKXtpZih0aGlzLmN1cnJlbnRBbmltKXJldHVybiB0aGlzLmN1cnJlbnRBbmltLm5hbWV9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuQW5pbWF0aW9uTWFuYWdlci5wcm90b3R5cGUsXCJmcmFtZVwiLHtnZXQ6ZnVuY3Rpb24oKXtpZih0aGlzLmN1cnJlbnRGcmFtZSlyZXR1cm4gdGhpcy5jdXJyZW50RnJhbWUuaW5kZXh9LHNldDpmdW5jdGlvbih0KXt2YXIgZTtcIm51bWJlclwiPT10eXBlb2YgdCYmdGhpcy5fZnJhbWVEYXRhJiYoZT10aGlzLl9mcmFtZURhdGEuZ2V0RnJhbWUodCkpJiYodGhpcy5jdXJyZW50RnJhbWU9ZSx0aGlzLnNwcml0ZS5zZXRGcmFtZSh0aGlzLmN1cnJlbnRGcmFtZSkpfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLkFuaW1hdGlvbk1hbmFnZXIucHJvdG90eXBlLFwiZnJhbWVOYW1lXCIse2dldDpmdW5jdGlvbigpe2lmKHRoaXMuY3VycmVudEZyYW1lKXJldHVybiB0aGlzLmN1cnJlbnRGcmFtZS5uYW1lfSxzZXQ6ZnVuY3Rpb24odCl7dmFyIGU7XCJzdHJpbmdcIj09dHlwZW9mIHQmJnRoaXMuX2ZyYW1lRGF0YSYmKGU9dGhpcy5fZnJhbWVEYXRhLmdldEZyYW1lQnlOYW1lKHQpKT8odGhpcy5jdXJyZW50RnJhbWU9ZSx0aGlzLl9mcmFtZUluZGV4PXRoaXMuY3VycmVudEZyYW1lLmluZGV4LHRoaXMuc3ByaXRlLnNldEZyYW1lKHRoaXMuY3VycmVudEZyYW1lKSk6Y29uc29sZS53YXJuKFwiQ2Fubm90IHNldCBmcmFtZU5hbWU6IFwiK3QpfX0pLGkuQW5pbWF0aW9uPWZ1bmN0aW9uKHQsZSxzLG4sbyxyLGEpe3ZvaWQgMD09PWEmJihhPSExKSx0aGlzLmdhbWU9dCx0aGlzLl9wYXJlbnQ9ZSx0aGlzLl9mcmFtZURhdGE9bix0aGlzLm5hbWU9cyx0aGlzLl9mcmFtZXM9W10sdGhpcy5fZnJhbWVzPXRoaXMuX2ZyYW1lcy5jb25jYXQobyksdGhpcy5kZWxheT0xZTMvcix0aGlzLmxvb3A9YSx0aGlzLmxvb3BDb3VudD0wLHRoaXMua2lsbE9uQ29tcGxldGU9ITEsdGhpcy5pc0ZpbmlzaGVkPSExLHRoaXMuaXNQbGF5aW5nPSExLHRoaXMuaXNQYXVzZWQ9ITEsdGhpcy5fcGF1c2VTdGFydFRpbWU9MCx0aGlzLl9mcmFtZUluZGV4PTAsdGhpcy5fZnJhbWVEaWZmPTAsdGhpcy5fZnJhbWVTa2lwPTEsdGhpcy5jdXJyZW50RnJhbWU9dGhpcy5fZnJhbWVEYXRhLmdldEZyYW1lKHRoaXMuX2ZyYW1lc1t0aGlzLl9mcmFtZUluZGV4XSksdGhpcy5vblN0YXJ0PW5ldyBpLlNpZ25hbCx0aGlzLm9uVXBkYXRlPW51bGwsdGhpcy5vbkNvbXBsZXRlPW5ldyBpLlNpZ25hbCx0aGlzLm9uTG9vcD1uZXcgaS5TaWduYWwsdGhpcy5pc1JldmVyc2VkPSExLHRoaXMuZ2FtZS5vblBhdXNlLmFkZCh0aGlzLm9uUGF1c2UsdGhpcyksdGhpcy5nYW1lLm9uUmVzdW1lLmFkZCh0aGlzLm9uUmVzdW1lLHRoaXMpfSxpLkFuaW1hdGlvbi5wcm90b3R5cGU9e3BsYXk6ZnVuY3Rpb24odCxlLGkpe3JldHVyblwibnVtYmVyXCI9PXR5cGVvZiB0JiYodGhpcy5kZWxheT0xZTMvdCksXCJib29sZWFuXCI9PXR5cGVvZiBlJiYodGhpcy5sb29wPWUpLHZvaWQgMCE9PWkmJih0aGlzLmtpbGxPbkNvbXBsZXRlPWkpLHRoaXMuaXNQbGF5aW5nPSEwLHRoaXMuaXNGaW5pc2hlZD0hMSx0aGlzLnBhdXNlZD0hMSx0aGlzLmxvb3BDb3VudD0wLHRoaXMuX3RpbWVMYXN0RnJhbWU9dGhpcy5nYW1lLnRpbWUudGltZSx0aGlzLl90aW1lTmV4dEZyYW1lPXRoaXMuZ2FtZS50aW1lLnRpbWUrdGhpcy5kZWxheSx0aGlzLl9mcmFtZUluZGV4PXRoaXMuaXNSZXZlcnNlZD90aGlzLl9mcmFtZXMubGVuZ3RoLTE6MCx0aGlzLnVwZGF0ZUN1cnJlbnRGcmFtZSghMSwhMCksdGhpcy5fcGFyZW50LmV2ZW50cy5vbkFuaW1hdGlvblN0YXJ0JGRpc3BhdGNoKHRoaXMuX3BhcmVudCx0aGlzKSx0aGlzLm9uU3RhcnQuZGlzcGF0Y2godGhpcy5fcGFyZW50LHRoaXMpLHRoaXMuX3BhcmVudC5hbmltYXRpb25zLmN1cnJlbnRBbmltPXRoaXMsdGhpcy5fcGFyZW50LmFuaW1hdGlvbnMuY3VycmVudEZyYW1lPXRoaXMuY3VycmVudEZyYW1lLHRoaXN9LHJlc3RhcnQ6ZnVuY3Rpb24oKXt0aGlzLmlzUGxheWluZz0hMCx0aGlzLmlzRmluaXNoZWQ9ITEsdGhpcy5wYXVzZWQ9ITEsdGhpcy5sb29wQ291bnQ9MCx0aGlzLl90aW1lTGFzdEZyYW1lPXRoaXMuZ2FtZS50aW1lLnRpbWUsdGhpcy5fdGltZU5leHRGcmFtZT10aGlzLmdhbWUudGltZS50aW1lK3RoaXMuZGVsYXksdGhpcy5fZnJhbWVJbmRleD0wLHRoaXMuY3VycmVudEZyYW1lPXRoaXMuX2ZyYW1lRGF0YS5nZXRGcmFtZSh0aGlzLl9mcmFtZXNbdGhpcy5fZnJhbWVJbmRleF0pLHRoaXMuX3BhcmVudC5zZXRGcmFtZSh0aGlzLmN1cnJlbnRGcmFtZSksdGhpcy5fcGFyZW50LmFuaW1hdGlvbnMuY3VycmVudEFuaW09dGhpcyx0aGlzLl9wYXJlbnQuYW5pbWF0aW9ucy5jdXJyZW50RnJhbWU9dGhpcy5jdXJyZW50RnJhbWUsdGhpcy5vblN0YXJ0LmRpc3BhdGNoKHRoaXMuX3BhcmVudCx0aGlzKX0scmV2ZXJzZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnJldmVyc2VkPSF0aGlzLnJldmVyc2VkLHRoaXN9LHJldmVyc2VPbmNlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub25Db21wbGV0ZS5hZGRPbmNlKHRoaXMucmV2ZXJzZSx0aGlzKSx0aGlzLnJldmVyc2UoKX0sc2V0RnJhbWU6ZnVuY3Rpb24odCxlKXt2YXIgaTtpZih2b2lkIDA9PT1lJiYoZT0hMSksXCJzdHJpbmdcIj09dHlwZW9mIHQpZm9yKHM9MDtzPHRoaXMuX2ZyYW1lcy5sZW5ndGg7cysrKXRoaXMuX2ZyYW1lRGF0YS5nZXRGcmFtZSh0aGlzLl9mcmFtZXNbc10pLm5hbWU9PT10JiYoaT1zKTtlbHNlIGlmKFwibnVtYmVyXCI9PXR5cGVvZiB0KWlmKGUpaT10O2Vsc2UgZm9yKHZhciBzPTA7czx0aGlzLl9mcmFtZXMubGVuZ3RoO3MrKyl0aGlzLl9mcmFtZXNbc109PT10JiYoaT1zKTtpZihpKXt2YXIgbj10aGlzLmlzUmV2ZXJzZWQ/LTE6MTt0aGlzLl9mcmFtZUluZGV4PWktbix0aGlzLl90aW1lTmV4dEZyYW1lPXRoaXMuZ2FtZS50aW1lLnRpbWUsdGhpcy51cGRhdGUoKX19LHN0b3A6ZnVuY3Rpb24odCxlKXt2b2lkIDA9PT10JiYodD0hMSksdm9pZCAwPT09ZSYmKGU9ITEpLHRoaXMuaXNQbGF5aW5nPSExLHRoaXMuaXNGaW5pc2hlZD0hMCx0aGlzLnBhdXNlZD0hMSx0JiYodGhpcy5jdXJyZW50RnJhbWU9dGhpcy5fZnJhbWVEYXRhLmdldEZyYW1lKHRoaXMuX2ZyYW1lc1swXSksdGhpcy5fcGFyZW50LnNldEZyYW1lKHRoaXMuY3VycmVudEZyYW1lKSksZSYmKHRoaXMuX3BhcmVudC5ldmVudHMub25BbmltYXRpb25Db21wbGV0ZSRkaXNwYXRjaCh0aGlzLl9wYXJlbnQsdGhpcyksdGhpcy5vbkNvbXBsZXRlLmRpc3BhdGNoKHRoaXMuX3BhcmVudCx0aGlzKSl9LG9uUGF1c2U6ZnVuY3Rpb24oKXt0aGlzLmlzUGxheWluZyYmKHRoaXMuX2ZyYW1lRGlmZj10aGlzLl90aW1lTmV4dEZyYW1lLXRoaXMuZ2FtZS50aW1lLnRpbWUpfSxvblJlc3VtZTpmdW5jdGlvbigpe3RoaXMuaXNQbGF5aW5nJiYodGhpcy5fdGltZU5leHRGcmFtZT10aGlzLmdhbWUudGltZS50aW1lK3RoaXMuX2ZyYW1lRGlmZil9LHVwZGF0ZTpmdW5jdGlvbigpe3JldHVybiF0aGlzLmlzUGF1c2VkJiYoISEodGhpcy5pc1BsYXlpbmcmJnRoaXMuZ2FtZS50aW1lLnRpbWU+PXRoaXMuX3RpbWVOZXh0RnJhbWUpJiYodGhpcy5fZnJhbWVTa2lwPTEsdGhpcy5fZnJhbWVEaWZmPXRoaXMuZ2FtZS50aW1lLnRpbWUtdGhpcy5fdGltZU5leHRGcmFtZSx0aGlzLl90aW1lTGFzdEZyYW1lPXRoaXMuZ2FtZS50aW1lLnRpbWUsdGhpcy5fZnJhbWVEaWZmPnRoaXMuZGVsYXk/KHRoaXMuX2ZyYW1lU2tpcD1NYXRoLmZsb29yKHRoaXMuX2ZyYW1lRGlmZi90aGlzLmRlbGF5KSx0aGlzLl9mcmFtZURpZmYtPXRoaXMuX2ZyYW1lU2tpcCp0aGlzLmRlbGF5KTp0aGlzLl9mcmFtZURpZmY9MCx0aGlzLl90aW1lTmV4dEZyYW1lPXRoaXMuZ2FtZS50aW1lLnRpbWUrKHRoaXMuZGVsYXktdGhpcy5fZnJhbWVEaWZmKSx0aGlzLmlzUmV2ZXJzZWQ/dGhpcy5fZnJhbWVJbmRleC09dGhpcy5fZnJhbWVTa2lwOnRoaXMuX2ZyYW1lSW5kZXgrPXRoaXMuX2ZyYW1lU2tpcCwhdGhpcy5pc1JldmVyc2VkJiZ0aGlzLl9mcmFtZUluZGV4Pj10aGlzLl9mcmFtZXMubGVuZ3RofHx0aGlzLmlzUmV2ZXJzZWQmJnRoaXMuX2ZyYW1lSW5kZXg8PS0xP3RoaXMubG9vcD8odGhpcy5fZnJhbWVJbmRleD1NYXRoLmFicyh0aGlzLl9mcmFtZUluZGV4KSV0aGlzLl9mcmFtZXMubGVuZ3RoLHRoaXMuaXNSZXZlcnNlZCYmKHRoaXMuX2ZyYW1lSW5kZXg9dGhpcy5fZnJhbWVzLmxlbmd0aC0xLXRoaXMuX2ZyYW1lSW5kZXgpLHRoaXMuY3VycmVudEZyYW1lPXRoaXMuX2ZyYW1lRGF0YS5nZXRGcmFtZSh0aGlzLl9mcmFtZXNbdGhpcy5fZnJhbWVJbmRleF0pLHRoaXMuY3VycmVudEZyYW1lJiZ0aGlzLl9wYXJlbnQuc2V0RnJhbWUodGhpcy5jdXJyZW50RnJhbWUpLHRoaXMubG9vcENvdW50KyssdGhpcy5fcGFyZW50LmV2ZW50cy5vbkFuaW1hdGlvbkxvb3AkZGlzcGF0Y2godGhpcy5fcGFyZW50LHRoaXMpLHRoaXMub25Mb29wLmRpc3BhdGNoKHRoaXMuX3BhcmVudCx0aGlzKSwhdGhpcy5vblVwZGF0ZXx8KHRoaXMub25VcGRhdGUuZGlzcGF0Y2godGhpcyx0aGlzLmN1cnJlbnRGcmFtZSksISF0aGlzLl9mcmFtZURhdGEpKToodGhpcy5jb21wbGV0ZSgpLCExKTp0aGlzLnVwZGF0ZUN1cnJlbnRGcmFtZSghMCkpKX0sdXBkYXRlQ3VycmVudEZyYW1lOmZ1bmN0aW9uKHQsZSl7aWYodm9pZCAwPT09ZSYmKGU9ITEpLCF0aGlzLl9mcmFtZURhdGEpcmV0dXJuITE7dmFyIGk9dGhpcy5jdXJyZW50RnJhbWUuaW5kZXg7cmV0dXJuIHRoaXMuY3VycmVudEZyYW1lPXRoaXMuX2ZyYW1lRGF0YS5nZXRGcmFtZSh0aGlzLl9mcmFtZXNbdGhpcy5fZnJhbWVJbmRleF0pLHRoaXMuY3VycmVudEZyYW1lJiYoZXx8IWUmJmkhPT10aGlzLmN1cnJlbnRGcmFtZS5pbmRleCkmJnRoaXMuX3BhcmVudC5zZXRGcmFtZSh0aGlzLmN1cnJlbnRGcmFtZSksIXRoaXMub25VcGRhdGV8fCF0fHwodGhpcy5vblVwZGF0ZS5kaXNwYXRjaCh0aGlzLHRoaXMuY3VycmVudEZyYW1lKSwhIXRoaXMuX2ZyYW1lRGF0YSl9LG5leHQ6ZnVuY3Rpb24odCl7dm9pZCAwPT09dCYmKHQ9MSk7dmFyIGU9dGhpcy5fZnJhbWVJbmRleCt0O2U+PXRoaXMuX2ZyYW1lcy5sZW5ndGgmJih0aGlzLmxvb3A/ZSU9dGhpcy5fZnJhbWVzLmxlbmd0aDplPXRoaXMuX2ZyYW1lcy5sZW5ndGgtMSksZSE9PXRoaXMuX2ZyYW1lSW5kZXgmJih0aGlzLl9mcmFtZUluZGV4PWUsdGhpcy51cGRhdGVDdXJyZW50RnJhbWUoITApKX0scHJldmlvdXM6ZnVuY3Rpb24odCl7dm9pZCAwPT09dCYmKHQ9MSk7dmFyIGU9dGhpcy5fZnJhbWVJbmRleC10O2U8MCYmKHRoaXMubG9vcD9lPXRoaXMuX2ZyYW1lcy5sZW5ndGgrZTplKyspLGUhPT10aGlzLl9mcmFtZUluZGV4JiYodGhpcy5fZnJhbWVJbmRleD1lLHRoaXMudXBkYXRlQ3VycmVudEZyYW1lKCEwKSl9LHVwZGF0ZUZyYW1lRGF0YTpmdW5jdGlvbih0KXt0aGlzLl9mcmFtZURhdGE9dCx0aGlzLmN1cnJlbnRGcmFtZT10aGlzLl9mcmFtZURhdGE/dGhpcy5fZnJhbWVEYXRhLmdldEZyYW1lKHRoaXMuX2ZyYW1lc1t0aGlzLl9mcmFtZUluZGV4JXRoaXMuX2ZyYW1lcy5sZW5ndGhdKTpudWxsfSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5fZnJhbWVEYXRhJiYodGhpcy5nYW1lLm9uUGF1c2UucmVtb3ZlKHRoaXMub25QYXVzZSx0aGlzKSx0aGlzLmdhbWUub25SZXN1bWUucmVtb3ZlKHRoaXMub25SZXN1bWUsdGhpcyksdGhpcy5nYW1lPW51bGwsdGhpcy5fcGFyZW50PW51bGwsdGhpcy5fZnJhbWVzPW51bGwsdGhpcy5fZnJhbWVEYXRhPW51bGwsdGhpcy5jdXJyZW50RnJhbWU9bnVsbCx0aGlzLmlzUGxheWluZz0hMSx0aGlzLm9uU3RhcnQuZGlzcG9zZSgpLHRoaXMub25Mb29wLmRpc3Bvc2UoKSx0aGlzLm9uQ29tcGxldGUuZGlzcG9zZSgpLHRoaXMub25VcGRhdGUmJnRoaXMub25VcGRhdGUuZGlzcG9zZSgpKX0sY29tcGxldGU6ZnVuY3Rpb24oKXt0aGlzLl9mcmFtZUluZGV4PXRoaXMuX2ZyYW1lcy5sZW5ndGgtMSx0aGlzLmN1cnJlbnRGcmFtZT10aGlzLl9mcmFtZURhdGEuZ2V0RnJhbWUodGhpcy5fZnJhbWVzW3RoaXMuX2ZyYW1lSW5kZXhdKSx0aGlzLmlzUGxheWluZz0hMSx0aGlzLmlzRmluaXNoZWQ9ITAsdGhpcy5wYXVzZWQ9ITEsdGhpcy5fcGFyZW50LmV2ZW50cy5vbkFuaW1hdGlvbkNvbXBsZXRlJGRpc3BhdGNoKHRoaXMuX3BhcmVudCx0aGlzKSx0aGlzLm9uQ29tcGxldGUuZGlzcGF0Y2godGhpcy5fcGFyZW50LHRoaXMpLHRoaXMua2lsbE9uQ29tcGxldGUmJnRoaXMuX3BhcmVudC5raWxsKCl9fSxpLkFuaW1hdGlvbi5wcm90b3R5cGUuY29uc3RydWN0b3I9aS5BbmltYXRpb24sT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuQW5pbWF0aW9uLnByb3RvdHlwZSxcInBhdXNlZFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc1BhdXNlZH0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuaXNQYXVzZWQ9dCx0P3RoaXMuX3BhdXNlU3RhcnRUaW1lPXRoaXMuZ2FtZS50aW1lLnRpbWU6dGhpcy5pc1BsYXlpbmcmJih0aGlzLl90aW1lTmV4dEZyYW1lPXRoaXMuZ2FtZS50aW1lLnRpbWUrdGhpcy5kZWxheSl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuQW5pbWF0aW9uLnByb3RvdHlwZSxcInJldmVyc2VkXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmlzUmV2ZXJzZWR9LHNldDpmdW5jdGlvbih0KXt0aGlzLmlzUmV2ZXJzZWQ9dH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5BbmltYXRpb24ucHJvdG90eXBlLFwiZnJhbWVUb3RhbFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZnJhbWVzLmxlbmd0aH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5BbmltYXRpb24ucHJvdG90eXBlLFwiZnJhbWVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG51bGwhPT10aGlzLmN1cnJlbnRGcmFtZT90aGlzLmN1cnJlbnRGcmFtZS5pbmRleDp0aGlzLl9mcmFtZUluZGV4fSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5jdXJyZW50RnJhbWU9dGhpcy5fZnJhbWVEYXRhLmdldEZyYW1lKHRoaXMuX2ZyYW1lc1t0XSksbnVsbCE9PXRoaXMuY3VycmVudEZyYW1lJiYodGhpcy5fZnJhbWVJbmRleD10LHRoaXMuX3BhcmVudC5zZXRGcmFtZSh0aGlzLmN1cnJlbnRGcmFtZSksdGhpcy5vblVwZGF0ZSYmdGhpcy5vblVwZGF0ZS5kaXNwYXRjaCh0aGlzLHRoaXMuY3VycmVudEZyYW1lKSl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuQW5pbWF0aW9uLnByb3RvdHlwZSxcInNwZWVkXCIse2dldDpmdW5jdGlvbigpe3JldHVybiAxZTMvdGhpcy5kZWxheX0sc2V0OmZ1bmN0aW9uKHQpe3Q+MCYmKHRoaXMuZGVsYXk9MWUzL3QpfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLkFuaW1hdGlvbi5wcm90b3R5cGUsXCJlbmFibGVVcGRhdGVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG51bGwhPT10aGlzLm9uVXBkYXRlfSxzZXQ6ZnVuY3Rpb24odCl7dCYmbnVsbD09PXRoaXMub25VcGRhdGU/dGhpcy5vblVwZGF0ZT1uZXcgaS5TaWduYWw6dHx8bnVsbD09PXRoaXMub25VcGRhdGV8fCh0aGlzLm9uVXBkYXRlLmRpc3Bvc2UoKSx0aGlzLm9uVXBkYXRlPW51bGwpfX0pLGkuQW5pbWF0aW9uLmdlbmVyYXRlRnJhbWVOYW1lcz1mdW5jdGlvbih0LGUscyxuLG8pe3ZvaWQgMD09PW4mJihuPVwiXCIpO3ZhciByPVtdLGE9XCJcIjtpZihlPHMpZm9yKGg9ZTtoPD1zO2grKylhPXQrKGE9XCJudW1iZXJcIj09dHlwZW9mIG8/aS5VdGlscy5wYWQoaC50b1N0cmluZygpLG8sXCIwXCIsMSk6aC50b1N0cmluZygpKStuLHIucHVzaChhKTtlbHNlIGZvcih2YXIgaD1lO2g+PXM7aC0tKWE9dCsoYT1cIm51bWJlclwiPT10eXBlb2Ygbz9pLlV0aWxzLnBhZChoLnRvU3RyaW5nKCksbyxcIjBcIiwxKTpoLnRvU3RyaW5nKCkpK24sci5wdXNoKGEpO3JldHVybiByfSxpLkZyYW1lPWZ1bmN0aW9uKHQsZSxzLG4sbyxyKXt0aGlzLmluZGV4PXQsdGhpcy54PWUsdGhpcy55PXMsdGhpcy53aWR0aD1uLHRoaXMuaGVpZ2h0PW8sMCE9PXRoaXMud2lkdGgmJjAhPT10aGlzLmhlaWdodHx8Y29uc29sZS53YXJuKCdQaGFzZXIuRnJhbWU6IEZyYW1lIFwiJyt0aGlzLm5hbWUrJ1wiIGhhcyBhIHdpZHRoIG9yIGhlaWdodCBvZiB6ZXJvJyksdGhpcy5uYW1lPXIsdGhpcy5jZW50ZXJYPU1hdGguZmxvb3Iobi8yKSx0aGlzLmNlbnRlclk9TWF0aC5mbG9vcihvLzIpLHRoaXMuZGlzdGFuY2U9aS5NYXRoLmRpc3RhbmNlKDAsMCxuLG8pLHRoaXMucm90YXRlZD0hMSx0aGlzLnRyaW1tZWQ9ITEsdGhpcy5zb3VyY2VTaXplVz1uLHRoaXMuc291cmNlU2l6ZUg9byx0aGlzLnNwcml0ZVNvdXJjZVNpemVYPTAsdGhpcy5zcHJpdGVTb3VyY2VTaXplWT0wLHRoaXMuc3ByaXRlU291cmNlU2l6ZVc9MCx0aGlzLnNwcml0ZVNvdXJjZVNpemVIPTAsdGhpcy5yaWdodD10aGlzLngrdGhpcy53aWR0aCx0aGlzLmJvdHRvbT10aGlzLnkrdGhpcy5oZWlnaHR9LGkuRnJhbWUucHJvdG90eXBlPXtyZXNpemU6ZnVuY3Rpb24odCxlKXt0aGlzLndpZHRoPXQsdGhpcy5oZWlnaHQ9ZSx0aGlzLmNlbnRlclg9TWF0aC5mbG9vcih0LzIpLHRoaXMuY2VudGVyWT1NYXRoLmZsb29yKGUvMiksdGhpcy5kaXN0YW5jZT1pLk1hdGguZGlzdGFuY2UoMCwwLHQsZSksdGhpcy5zb3VyY2VTaXplVz10LHRoaXMuc291cmNlU2l6ZUg9ZSx0aGlzLnJpZ2h0PXRoaXMueCt0LHRoaXMuYm90dG9tPXRoaXMueStlfSxzZXRUcmltOmZ1bmN0aW9uKHQsZSxpLHMsbixvLHIpe3RoaXMudHJpbW1lZD10LHQmJih0aGlzLnNvdXJjZVNpemVXPWUsdGhpcy5zb3VyY2VTaXplSD1pLHRoaXMuY2VudGVyWD1NYXRoLmZsb29yKGUvMiksdGhpcy5jZW50ZXJZPU1hdGguZmxvb3IoaS8yKSx0aGlzLnNwcml0ZVNvdXJjZVNpemVYPXMsdGhpcy5zcHJpdGVTb3VyY2VTaXplWT1uLHRoaXMuc3ByaXRlU291cmNlU2l6ZVc9byx0aGlzLnNwcml0ZVNvdXJjZVNpemVIPXIpfSxjbG9uZTpmdW5jdGlvbigpe3ZhciB0PW5ldyBpLkZyYW1lKHRoaXMuaW5kZXgsdGhpcy54LHRoaXMueSx0aGlzLndpZHRoLHRoaXMuaGVpZ2h0LHRoaXMubmFtZSk7Zm9yKHZhciBlIGluIHRoaXMpdGhpcy5oYXNPd25Qcm9wZXJ0eShlKSYmKHRbZV09dGhpc1tlXSk7cmV0dXJuIHR9LGdldFJlY3Q6ZnVuY3Rpb24odCl7cmV0dXJuIHZvaWQgMD09PXQ/dD1uZXcgaS5SZWN0YW5nbGUodGhpcy54LHRoaXMueSx0aGlzLndpZHRoLHRoaXMuaGVpZ2h0KTp0LnNldFRvKHRoaXMueCx0aGlzLnksdGhpcy53aWR0aCx0aGlzLmhlaWdodCksdH19LGkuRnJhbWUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWkuRnJhbWUsaS5GcmFtZURhdGE9ZnVuY3Rpb24oKXt0aGlzLl9mcmFtZXM9W10sdGhpcy5fZnJhbWVOYW1lcz1bXX0saS5GcmFtZURhdGEucHJvdG90eXBlPXthZGRGcmFtZTpmdW5jdGlvbih0KXtyZXR1cm4gdC5pbmRleD10aGlzLl9mcmFtZXMubGVuZ3RoLHRoaXMuX2ZyYW1lcy5wdXNoKHQpLFwiXCIhPT10Lm5hbWUmJih0aGlzLl9mcmFtZU5hbWVzW3QubmFtZV09dC5pbmRleCksdH0sZ2V0RnJhbWU6ZnVuY3Rpb24odCl7cmV0dXJuIHQ+PXRoaXMuX2ZyYW1lcy5sZW5ndGgmJih0PTApLHRoaXMuX2ZyYW1lc1t0XX0sZ2V0RnJhbWVCeU5hbWU6ZnVuY3Rpb24odCl7cmV0dXJuXCJudW1iZXJcIj09dHlwZW9mIHRoaXMuX2ZyYW1lTmFtZXNbdF0/dGhpcy5fZnJhbWVzW3RoaXMuX2ZyYW1lTmFtZXNbdF1dOm51bGx9LGNoZWNrRnJhbWVOYW1lOmZ1bmN0aW9uKHQpe3JldHVybiBudWxsIT10aGlzLl9mcmFtZU5hbWVzW3RdfSxjbG9uZTpmdW5jdGlvbigpe2Zvcih2YXIgdD1uZXcgaS5GcmFtZURhdGEsZT0wO2U8dGhpcy5fZnJhbWVzLmxlbmd0aDtlKyspdC5fZnJhbWVzLnB1c2godGhpcy5fZnJhbWVzW2VdLmNsb25lKCkpO2Zvcih2YXIgcyBpbiB0aGlzLl9mcmFtZU5hbWVzKXRoaXMuX2ZyYW1lTmFtZXMuaGFzT3duUHJvcGVydHkocykmJnQuX2ZyYW1lTmFtZXMucHVzaCh0aGlzLl9mcmFtZU5hbWVzW3NdKTtyZXR1cm4gdH0sZ2V0RnJhbWVSYW5nZTpmdW5jdGlvbih0LGUsaSl7dm9pZCAwPT09aSYmKGk9W10pO2Zvcih2YXIgcz10O3M8PWU7cysrKWkucHVzaCh0aGlzLl9mcmFtZXNbc10pO3JldHVybiBpfSxnZXRGcmFtZXM6ZnVuY3Rpb24odCxlLGkpe2lmKHZvaWQgMD09PWUmJihlPSEwKSx2b2lkIDA9PT1pJiYoaT1bXSksdm9pZCAwPT09dHx8MD09PXQubGVuZ3RoKWZvcihzPTA7czx0aGlzLl9mcmFtZXMubGVuZ3RoO3MrKylpLnB1c2godGhpcy5fZnJhbWVzW3NdKTtlbHNlIGZvcih2YXIgcz0wO3M8dC5sZW5ndGg7cysrKWU/aS5wdXNoKHRoaXMuZ2V0RnJhbWUodFtzXSkpOmkucHVzaCh0aGlzLmdldEZyYW1lQnlOYW1lKHRbc10pKTtyZXR1cm4gaX0sZ2V0RnJhbWVJbmRleGVzOmZ1bmN0aW9uKHQsZSxpKXtpZih2b2lkIDA9PT1lJiYoZT0hMCksdm9pZCAwPT09aSYmKGk9W10pLHZvaWQgMD09PXR8fDA9PT10Lmxlbmd0aClmb3Iocz0wO3M8dGhpcy5fZnJhbWVzLmxlbmd0aDtzKyspaS5wdXNoKHRoaXMuX2ZyYW1lc1tzXS5pbmRleCk7ZWxzZSBmb3IodmFyIHM9MDtzPHQubGVuZ3RoO3MrKyllJiZ0aGlzLl9mcmFtZXNbdFtzXV0/aS5wdXNoKHRoaXMuX2ZyYW1lc1t0W3NdXS5pbmRleCk6dGhpcy5nZXRGcmFtZUJ5TmFtZSh0W3NdKSYmaS5wdXNoKHRoaXMuZ2V0RnJhbWVCeU5hbWUodFtzXSkuaW5kZXgpO3JldHVybiBpfSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5fZnJhbWVzPW51bGwsdGhpcy5fZnJhbWVOYW1lcz1udWxsfX0saS5GcmFtZURhdGEucHJvdG90eXBlLmNvbnN0cnVjdG9yPWkuRnJhbWVEYXRhLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLkZyYW1lRGF0YS5wcm90b3R5cGUsXCJ0b3RhbFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZnJhbWVzLmxlbmd0aH19KSxpLkFuaW1hdGlvblBhcnNlcj17c3ByaXRlU2hlZXQ6ZnVuY3Rpb24odCxlLHMsbixvLHIsYSxoKXt2b2lkIDA9PT1vJiYobz0tMSksdm9pZCAwPT09ciYmKHI9MCksdm9pZCAwPT09YSYmKGE9MCksdm9pZCAwPT09aCYmKGg9MCk7dmFyIGw9ZTtpZihcInN0cmluZ1wiPT10eXBlb2YgZSYmKGw9dC5jYWNoZS5nZXRJbWFnZShlKSksbnVsbD09PWwpcmV0dXJuIG51bGw7dmFyIGM9bC53aWR0aCx1PWwuaGVpZ2h0O3M8PTAmJihzPU1hdGguZmxvb3IoLWMvTWF0aC5taW4oLTEscykpKSxuPD0wJiYobj1NYXRoLmZsb29yKC11L01hdGgubWluKC0xLG4pKSk7dmFyIGQ9TWF0aC5mbG9vcigoYy1yKS8ocythKSkqTWF0aC5mbG9vcigodS1yKS8obithKSk7aWYoaD5kfHxoPC1kKXJldHVybiBjb25zb2xlLndhcm4oXCJQaGFzZXIuQW5pbWF0aW9uUGFyc2VyLnNwcml0ZVNoZWV0OiBza2lwRnJhbWVzID0gXCIraC50b1N0cmluZygpK1wiIGlzIGxhcmdlciB0aGFuIHRvdGFsIHNwcml0ZSBudW1iZXIgXCIrZC50b1N0cmluZygpKSxudWxsO2lmKGg8MCYmKGg9ZCtoKSwtMSE9PW8mJihkPWgrbyksMD09PWN8fDA9PT11fHxjPHN8fHU8bnx8MD09PWQpcmV0dXJuIGNvbnNvbGUud2FybihcIlBoYXNlci5BbmltYXRpb25QYXJzZXIuc3ByaXRlU2hlZXQ6ICdcIitlK1wiJ3Mgd2lkdGgvaGVpZ2h0IHplcm8gb3Igd2lkdGgvaGVpZ2h0IDwgZ2l2ZW4gZnJhbWVXaWR0aC9mcmFtZUhlaWdodFwiKSxudWxsO2Zvcih2YXIgcD1uZXcgaS5GcmFtZURhdGEsZj1yLG09cixnPTA7ZzxkO2crKylwLmFkZEZyYW1lKG5ldyBpLkZyYW1lKGcsZixtLHMsbixcIlwiKSksKGYrPXMrYSkrcz5jJiYoZj1yLG0rPW4rYSk7cmV0dXJuIHB9LEpTT05EYXRhOmZ1bmN0aW9uKHQsZSl7aWYoIWUuZnJhbWVzKXJldHVybiBjb25zb2xlLndhcm4oXCJQaGFzZXIuQW5pbWF0aW9uUGFyc2VyLkpTT05EYXRhOiBJbnZhbGlkIFRleHR1cmUgQXRsYXMgSlNPTiBnaXZlbiwgbWlzc2luZyAnZnJhbWVzJyBhcnJheVwiKSx2b2lkIGNvbnNvbGUubG9nKGUpO2Zvcih2YXIgcyxuPW5ldyBpLkZyYW1lRGF0YSxvPWUuZnJhbWVzLHI9MDtyPG8ubGVuZ3RoO3IrKylzPW4uYWRkRnJhbWUobmV3IGkuRnJhbWUocixvW3JdLmZyYW1lLngsb1tyXS5mcmFtZS55LG9bcl0uZnJhbWUudyxvW3JdLmZyYW1lLmgsb1tyXS5maWxlbmFtZSkpLG9bcl0udHJpbW1lZCYmcy5zZXRUcmltKG9bcl0udHJpbW1lZCxvW3JdLnNvdXJjZVNpemUudyxvW3JdLnNvdXJjZVNpemUuaCxvW3JdLnNwcml0ZVNvdXJjZVNpemUueCxvW3JdLnNwcml0ZVNvdXJjZVNpemUueSxvW3JdLnNwcml0ZVNvdXJjZVNpemUudyxvW3JdLnNwcml0ZVNvdXJjZVNpemUuaCksb1tyXS5yb3RhdGVkJiYocy5yb3RhdGVkPSEwKTtyZXR1cm4gbn0sSlNPTkRhdGFQeXhlbDpmdW5jdGlvbih0LGUpe2lmKFtcImxheWVyc1wiLFwidGlsZXdpZHRoXCIsXCJ0aWxlaGVpZ2h0XCIsXCJ0aWxlc3dpZGVcIixcInRpbGVzaGlnaFwiXS5mb3JFYWNoKGZ1bmN0aW9uKHQpe2lmKCFlW3RdKXJldHVybiBjb25zb2xlLndhcm4oJ1BoYXNlci5BbmltYXRpb25QYXJzZXIuSlNPTkRhdGFQeXhlbDogSW52YWxpZCBQeXhlbCBUaWxlbWFwIEpTT04gZ2l2ZW4sIG1pc3NpbmcgXCInK3QrJ1wiIGtleS4nKSx2b2lkIGNvbnNvbGUubG9nKGUpfSksMSE9PWUubGF5ZXJzLmxlbmd0aClyZXR1cm4gY29uc29sZS53YXJuKFwiUGhhc2VyLkFuaW1hdGlvblBhcnNlci5KU09ORGF0YVB5eGVsOiBUb28gbWFueSBsYXllcnMsIHRoaXMgcGFyc2VyIG9ubHkgc3VwcG9ydHMgZmxhdCBUaWxlbWFwcy5cIiksdm9pZCBjb25zb2xlLmxvZyhlKTtmb3IodmFyIHM9bmV3IGkuRnJhbWVEYXRhLG49ZS50aWxlaGVpZ2h0LG89ZS50aWxld2lkdGgscj1lLmxheWVyc1swXS50aWxlcyxhPTA7YTxyLmxlbmd0aDthKyspcy5hZGRGcmFtZShuZXcgaS5GcmFtZShhLHJbYV0ueCxyW2FdLnksbyxuLFwiZnJhbWVfXCIrYSkpLnNldFRyaW0oITEpO3JldHVybiBzfSxKU09ORGF0YUhhc2g6ZnVuY3Rpb24odCxlKXtpZighZS5mcmFtZXMpcmV0dXJuIGNvbnNvbGUud2FybihcIlBoYXNlci5BbmltYXRpb25QYXJzZXIuSlNPTkRhdGFIYXNoOiBJbnZhbGlkIFRleHR1cmUgQXRsYXMgSlNPTiBnaXZlbiwgbWlzc2luZyAnZnJhbWVzJyBvYmplY3RcIiksdm9pZCBjb25zb2xlLmxvZyhlKTt2YXIgcyxuPW5ldyBpLkZyYW1lRGF0YSxvPWUuZnJhbWVzLHI9MDtmb3IodmFyIGEgaW4gbylzPW4uYWRkRnJhbWUobmV3IGkuRnJhbWUocixvW2FdLmZyYW1lLngsb1thXS5mcmFtZS55LG9bYV0uZnJhbWUudyxvW2FdLmZyYW1lLmgsYSkpLG9bYV0udHJpbW1lZCYmcy5zZXRUcmltKG9bYV0udHJpbW1lZCxvW2FdLnNvdXJjZVNpemUudyxvW2FdLnNvdXJjZVNpemUuaCxvW2FdLnNwcml0ZVNvdXJjZVNpemUueCxvW2FdLnNwcml0ZVNvdXJjZVNpemUueSxvW2FdLnNwcml0ZVNvdXJjZVNpemUudyxvW2FdLnNwcml0ZVNvdXJjZVNpemUuaCksb1thXS5yb3RhdGVkJiYocy5yb3RhdGVkPSEwKSxyKys7cmV0dXJuIG59LFhNTERhdGE6ZnVuY3Rpb24odCxlKXtpZihlLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiVGV4dHVyZUF0bGFzXCIpKXtmb3IodmFyIHMsbixvLHIsYSxoLGwsYyx1LGQscCxmPW5ldyBpLkZyYW1lRGF0YSxtPWUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJTdWJUZXh0dXJlXCIpLGc9MDtnPG0ubGVuZ3RoO2crKyluPShvPW1bZ10uYXR0cmlidXRlcykubmFtZS52YWx1ZSxyPXBhcnNlSW50KG8ueC52YWx1ZSwxMCksYT1wYXJzZUludChvLnkudmFsdWUsMTApLGg9cGFyc2VJbnQoby53aWR0aC52YWx1ZSwxMCksbD1wYXJzZUludChvLmhlaWdodC52YWx1ZSwxMCksYz1udWxsLHU9bnVsbCxvLmZyYW1lWCYmKGM9TWF0aC5hYnMocGFyc2VJbnQoby5mcmFtZVgudmFsdWUsMTApKSx1PU1hdGguYWJzKHBhcnNlSW50KG8uZnJhbWVZLnZhbHVlLDEwKSksZD1wYXJzZUludChvLmZyYW1lV2lkdGgudmFsdWUsMTApLHA9cGFyc2VJbnQoby5mcmFtZUhlaWdodC52YWx1ZSwxMCkpLHM9Zi5hZGRGcmFtZShuZXcgaS5GcmFtZShnLHIsYSxoLGwsbikpLG51bGw9PT1jJiZudWxsPT09dXx8cy5zZXRUcmltKCEwLGgsbCxjLHUsZCxwKTtyZXR1cm4gZn1jb25zb2xlLndhcm4oXCJQaGFzZXIuQW5pbWF0aW9uUGFyc2VyLlhNTERhdGE6IEludmFsaWQgVGV4dHVyZSBBdGxhcyBYTUwgZ2l2ZW4sIG1pc3NpbmcgPFRleHR1cmVBdGxhcz4gdGFnXCIpfX0saS5DYWNoZT1mdW5jdGlvbih0KXt0aGlzLmdhbWU9dCx0aGlzLmF1dG9SZXNvbHZlVVJMPSExLHRoaXMuX2NhY2hlPXtjYW52YXM6e30saW1hZ2U6e30sdGV4dHVyZTp7fSxzb3VuZDp7fSx2aWRlbzp7fSx0ZXh0Ont9LGpzb246e30seG1sOnt9LHBoeXNpY3M6e30sdGlsZW1hcDp7fSxiaW5hcnk6e30sYml0bWFwRGF0YTp7fSxiaXRtYXBGb250Ont9LHNoYWRlcjp7fSxyZW5kZXJUZXh0dXJlOnt9LGNvbXByZXNzZWRUZXh0dXJlOnt9fSx0aGlzLl91cmxNYXA9e30sdGhpcy5fdXJsUmVzb2x2ZXI9bmV3IEltYWdlLHRoaXMuX3VybFRlbXA9bnVsbCx0aGlzLm9uU291bmRVbmxvY2s9bmV3IGkuU2lnbmFsLHRoaXMuX2NhY2hlTWFwPVtdLHRoaXMuX2NhY2hlTWFwW2kuQ2FjaGUuQ0FOVkFTXT10aGlzLl9jYWNoZS5jYW52YXMsdGhpcy5fY2FjaGVNYXBbaS5DYWNoZS5JTUFHRV09dGhpcy5fY2FjaGUuaW1hZ2UsdGhpcy5fY2FjaGVNYXBbaS5DYWNoZS5URVhUVVJFXT10aGlzLl9jYWNoZS50ZXh0dXJlLHRoaXMuX2NhY2hlTWFwW2kuQ2FjaGUuU09VTkRdPXRoaXMuX2NhY2hlLnNvdW5kLHRoaXMuX2NhY2hlTWFwW2kuQ2FjaGUuVEVYVF09dGhpcy5fY2FjaGUudGV4dCx0aGlzLl9jYWNoZU1hcFtpLkNhY2hlLlBIWVNJQ1NdPXRoaXMuX2NhY2hlLnBoeXNpY3MsdGhpcy5fY2FjaGVNYXBbaS5DYWNoZS5USUxFTUFQXT10aGlzLl9jYWNoZS50aWxlbWFwLHRoaXMuX2NhY2hlTWFwW2kuQ2FjaGUuQklOQVJZXT10aGlzLl9jYWNoZS5iaW5hcnksdGhpcy5fY2FjaGVNYXBbaS5DYWNoZS5CSVRNQVBEQVRBXT10aGlzLl9jYWNoZS5iaXRtYXBEYXRhLHRoaXMuX2NhY2hlTWFwW2kuQ2FjaGUuQklUTUFQRk9OVF09dGhpcy5fY2FjaGUuYml0bWFwRm9udCx0aGlzLl9jYWNoZU1hcFtpLkNhY2hlLkpTT05dPXRoaXMuX2NhY2hlLmpzb24sdGhpcy5fY2FjaGVNYXBbaS5DYWNoZS5YTUxdPXRoaXMuX2NhY2hlLnhtbCx0aGlzLl9jYWNoZU1hcFtpLkNhY2hlLlZJREVPXT10aGlzLl9jYWNoZS52aWRlbyx0aGlzLl9jYWNoZU1hcFtpLkNhY2hlLlNIQURFUl09dGhpcy5fY2FjaGUuc2hhZGVyLHRoaXMuX2NhY2hlTWFwW2kuQ2FjaGUuUkVOREVSX1RFWFRVUkVdPXRoaXMuX2NhY2hlLnJlbmRlclRleHR1cmUsdGhpcy5fcGVuZGluZ0NvdW50PTAsdGhpcy5vblJlYWR5PW5ldyBpLlNpZ25hbCx0aGlzLl9hZGRJbWFnZXMoKX0saS5DYWNoZS5DQU5WQVM9MSxpLkNhY2hlLklNQUdFPTIsaS5DYWNoZS5URVhUVVJFPTMsaS5DYWNoZS5TT1VORD00LGkuQ2FjaGUuVEVYVD01LGkuQ2FjaGUuUEhZU0lDUz02LGkuQ2FjaGUuVElMRU1BUD03LGkuQ2FjaGUuQklOQVJZPTgsaS5DYWNoZS5CSVRNQVBEQVRBPTksaS5DYWNoZS5CSVRNQVBGT05UPTEwLGkuQ2FjaGUuSlNPTj0xMSxpLkNhY2hlLlhNTD0xMixpLkNhY2hlLlZJREVPPTEzLGkuQ2FjaGUuU0hBREVSPTE0LGkuQ2FjaGUuUkVOREVSX1RFWFRVUkU9MTUsaS5DYWNoZS5ERUZBVUxUPW51bGwsaS5DYWNoZS5ERUZBVUxUX0tFWT1cIl9fZGVmYXVsdFwiLGkuQ2FjaGUuREVGQVVMVF9TUkM9XCJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUNBQUFBQWdBUU1BQUFCSnRPaTNBQUFBQTFCTVZFWC8vLytueEJ2SUFBQUFBWFJTVGxNQVFPYllaZ0FBQUJWSlJFRlVlRjdOd0lFQUFBQUFnS0Q5cWRlb2NBTUFvQUFCbTNEa2NBQUFBQUJKUlU1RXJrSmdnZz09XCIsaS5DYWNoZS5NSVNTSU5HPW51bGwsaS5DYWNoZS5NSVNTSU5HX0tFWT1cIl9fbWlzc2luZ1wiLGkuQ2FjaGUuTUlTU0lOR19TUkM9XCJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUNBQUFBQWdDQUlBQUFEOEdPMmpBQUFBR1hSRldIUlRiMlowZDJGeVpRQkJaRzlpWlNCSmJXRm5aVkpsWVdSNWNjbGxQQUFBQUo5SlJFRlVlTnEwMXNzT3d5QU1SRkc0NnYvL010MUVTbWdoK0RGbUUyR1BPQkFSS2IyTlZqbysxN1BYTEQ4YTErcGw1K0Erd1NnRnlneW1XWUhCYjBGdHNLaEpEZFpsbmNHMkl6SjRheW9NRHYyMHdUbVNNekNsRWdiV1lOVEFrUTBaK09KK0EvZVduQWFSOStveENGNE9zMEg4aHRzTVVwK3B3Y2dCQmlNTm5Bd0Y4R3FJZ0wyaEF6YUdGRmdaYXVEUEtBQm1vd1o0R0wzNjkvMHJ3QUNwMnlBL3R0bXZzUUFBQUFCSlJVNUVya0pnZ2c9PVwiLGkuQ2FjaGUuUkVBRFlfVElNRU9VVD0xZTMsaS5DYWNoZS5wcm90b3R5cGU9e2FkZENvbXByZXNzZWRUZXh0dXJlTWV0YURhdGE6ZnVuY3Rpb24odCxlLHMsbil7dGhpcy5jaGVja0ltYWdlS2V5KHQpJiZ0aGlzLnJlbW92ZUltYWdlKHQpO3ZhciBvPXMgaW4gaS5Mb2FkZXJQYXJzZXI/aS5Mb2FkZXJQYXJzZXJbc10obik6bixyPXtrZXk6dCx1cmw6ZSxkYXRhOm8sYmFzZTpuZXcgUElYSS5CYXNlVGV4dHVyZShvLG51bGwsdGhpcy5nYW1lLnJlc29sdXRpb24pLGZyYW1lOm5ldyBpLkZyYW1lKDAsMCwwLG8ud2lkdGgsby5oZWlnaHQsdCksZnJhbWVEYXRhOm5ldyBpLkZyYW1lRGF0YSxmaWxlRm9ybWF0OnN9O3JldHVybiByLmZyYW1lRGF0YS5hZGRGcmFtZShuZXcgaS5GcmFtZSgwLDAsMCxvLndpZHRoLG8uaGVpZ2h0LGUpKSx0aGlzLl9jYWNoZS5pbWFnZVt0XT1yLHRoaXMuX3Jlc29sdmVVUkwoZSxyKSxyfSxhZGRDYW52YXM6ZnVuY3Rpb24odCxlLGkpe3ZvaWQgMD09PWkmJihpPWUuZ2V0Q29udGV4dChcIjJkXCIpKSx0aGlzLl9jYWNoZS5jYW52YXNbdF09e2NhbnZhczplLGNvbnRleHQ6aX19LGFkZEltYWdlOmZ1bmN0aW9uKHQsZSxzKXt0aGlzLmNoZWNrSW1hZ2VLZXkodCkmJnRoaXMucmVtb3ZlSW1hZ2UodCksITE9PT1zLmNvbXBsZXRlJiZjb25zb2xlLndhcm4oJ1BoYXNlci5DYWNoZS5hZGRJbWFnZTogSW1hZ2UgXCInK3QrXCJcXFwiIGhhc24ndCBiZWVuIHJldHJpZXZlZCB5ZXRcIik7dmFyIG49e2tleTp0LHVybDplLGRhdGE6cyxiYXNlOm5ldyBQSVhJLkJhc2VUZXh0dXJlKHMsbnVsbCx0aGlzLmdhbWUucmVzb2x1dGlvbiksZnJhbWU6bmV3IGkuRnJhbWUoMCwwLDAscy53aWR0aCxzLmhlaWdodCx0KSxmcmFtZURhdGE6bmV3IGkuRnJhbWVEYXRhfTtyZXR1cm4gbi5mcmFtZURhdGEuYWRkRnJhbWUobmV3IGkuRnJhbWUoMCwwLDAscy53aWR0aCxzLmhlaWdodCxlKSksdGhpcy5fY2FjaGUuaW1hZ2VbdF09bix0aGlzLl9yZXNvbHZlVVJMKGUsbiksXCJfX2RlZmF1bHRcIj09PXQ/aS5DYWNoZS5ERUZBVUxUPW5ldyBQSVhJLlRleHR1cmUobi5iYXNlKTpcIl9fbWlzc2luZ1wiPT09dCYmKGkuQ2FjaGUuTUlTU0lORz1uZXcgUElYSS5UZXh0dXJlKG4uYmFzZSkpLG59LGFkZEltYWdlQXN5bmM6ZnVuY3Rpb24odCxlLGkpe3ZhciBzPXRoaXMsbj1uZXcgSW1hZ2U7bi5vbmxvYWQ9ZnVuY3Rpb24oKXtpLmNhbGwodGhpcyxzLmFkZEltYWdlKHQsbnVsbCxuKSkscy5fcmVtb3ZlUGVuZGluZygpLG4ub25sb2FkPW51bGx9LHRoaXMuX2FkZFBlbmRpbmcoKSxuLnNyYz1lfSxhZGREZWZhdWx0SW1hZ2U6ZnVuY3Rpb24oKXt0aGlzLmFkZEltYWdlQXN5bmMoaS5DYWNoZS5ERUZBVUxUX0tFWSxpLkNhY2hlLkRFRkFVTFRfU1JDLGZ1bmN0aW9uKHQpe3QuYmFzZS5za2lwUmVuZGVyPSEwLGkuQ2FjaGUuREVGQVVMVD1uZXcgUElYSS5UZXh0dXJlKHQuYmFzZSl9KX0sYWRkTWlzc2luZ0ltYWdlOmZ1bmN0aW9uKCl7dGhpcy5hZGRJbWFnZUFzeW5jKGkuQ2FjaGUuTUlTU0lOR19LRVksaS5DYWNoZS5NSVNTSU5HX1NSQyxmdW5jdGlvbih0KXtpLkNhY2hlLk1JU1NJTkc9bmV3IFBJWEkuVGV4dHVyZSh0LmJhc2UpfSl9LGFkZFNvdW5kOmZ1bmN0aW9uKHQsZSxpLHMsbil7dm9pZCAwPT09cyYmKHM9ITAsbj0hMSksdm9pZCAwPT09biYmKHM9ITEsbj0hMCk7dmFyIG89ITE7biYmKG89ITApLHRoaXMuX2NhY2hlLnNvdW5kW3RdPXt1cmw6ZSxkYXRhOmksaXNEZWNvZGluZzohMSxkZWNvZGVkOm8sd2ViQXVkaW86cyxhdWRpb1RhZzpuLGxvY2tlZDp0aGlzLmdhbWUuc291bmQudG91Y2hMb2NrZWR9LHRoaXMuX3Jlc29sdmVVUkwoZSx0aGlzLl9jYWNoZS5zb3VuZFt0XSl9LGFkZFRleHQ6ZnVuY3Rpb24odCxlLGkpe3RoaXMuX2NhY2hlLnRleHRbdF09e3VybDplLGRhdGE6aX0sdGhpcy5fcmVzb2x2ZVVSTChlLHRoaXMuX2NhY2hlLnRleHRbdF0pfSxhZGRQaHlzaWNzRGF0YTpmdW5jdGlvbih0LGUsaSxzKXt0aGlzLl9jYWNoZS5waHlzaWNzW3RdPXt1cmw6ZSxkYXRhOmksZm9ybWF0OnN9LHRoaXMuX3Jlc29sdmVVUkwoZSx0aGlzLl9jYWNoZS5waHlzaWNzW3RdKX0sYWRkVGlsZW1hcDpmdW5jdGlvbih0LGUsaSxzKXt0aGlzLl9jYWNoZS50aWxlbWFwW3RdPXt1cmw6ZSxkYXRhOmksZm9ybWF0OnN9LHRoaXMuX3Jlc29sdmVVUkwoZSx0aGlzLl9jYWNoZS50aWxlbWFwW3RdKX0sYWRkQmluYXJ5OmZ1bmN0aW9uKHQsZSl7dGhpcy5fY2FjaGUuYmluYXJ5W3RdPWV9LGFkZEJpdG1hcERhdGE6ZnVuY3Rpb24odCxlLHMpe3JldHVybiBlLmtleT10LHZvaWQgMD09PXMmJihzPW5ldyBpLkZyYW1lRGF0YSkuYWRkRnJhbWUoZS50ZXh0dXJlRnJhbWUpLHRoaXMuX2NhY2hlLmJpdG1hcERhdGFbdF09e2RhdGE6ZSxmcmFtZURhdGE6c30sZX0sYWRkQml0bWFwRm9udDpmdW5jdGlvbih0LGUscyxuLG8scixhKXt2YXIgaD17dXJsOmUsZGF0YTpzLGZvbnQ6bnVsbCxiYXNlOm5ldyBQSVhJLkJhc2VUZXh0dXJlKHMsbnVsbCx0aGlzLmdhbWUucmVzb2x1dGlvbil9O3ZvaWQgMD09PXImJihyPTApLHZvaWQgMD09PWEmJihhPTApLGguZm9udD1cImpzb25cIj09PW8/aS5Mb2FkZXJQYXJzZXIuanNvbkJpdG1hcEZvbnQobixoLmJhc2UscixhLCExLHRoaXMuZ2FtZS5yZXNvbHV0aW9uKTppLkxvYWRlclBhcnNlci54bWxCaXRtYXBGb250KG4saC5iYXNlLHIsYSwhMSx0aGlzLmdhbWUucmVzb2x1dGlvbiksdGhpcy5fY2FjaGUuYml0bWFwRm9udFt0XT1oLHRoaXMuX3Jlc29sdmVVUkwoZSxoKX0sYWRkQml0bWFwRm9udEZyb21BdGxhczpmdW5jdGlvbih0LGUscyxuLG8scixhKXt2YXIgaD10aGlzLmdldEZyYW1lQnlOYW1lKGUscyk7aWYoaCl7dmFyIGw9e2ZvbnQ6bnVsbCxiYXNlOnRoaXMuZ2V0QmFzZVRleHR1cmUoZSksZnJhbWU6aH07dm9pZCAwPT09ciYmKHI9MCksdm9pZCAwPT09YSYmKGE9MCk7dmFyIGM7XCJqc29uXCI9PT1vPyhjPXRoaXMuZ2V0SlNPTihuKSxsLmZvbnQ9aS5Mb2FkZXJQYXJzZXIuanNvbkJpdG1hcEZvbnQoYyxsLmJhc2UscixhLGgsdGhpcy5nYW1lLnJlc29sdXRpb24pKTooYz10aGlzLmdldFhNTChuKSxsLmZvbnQ9aS5Mb2FkZXJQYXJzZXIueG1sQml0bWFwRm9udChjLGwuYmFzZSxyLGEsaCx0aGlzLmdhbWUucmVzb2x1dGlvbikpLHRoaXMuX2NhY2hlLmJpdG1hcEZvbnRbdF09bH19LGFkZEpTT046ZnVuY3Rpb24odCxlLGkpe3RoaXMuX2NhY2hlLmpzb25bdF09e3VybDplLGRhdGE6aX0sdGhpcy5fcmVzb2x2ZVVSTChlLHRoaXMuX2NhY2hlLmpzb25bdF0pfSxhZGRYTUw6ZnVuY3Rpb24odCxlLGkpe3RoaXMuX2NhY2hlLnhtbFt0XT17dXJsOmUsZGF0YTppfSx0aGlzLl9yZXNvbHZlVVJMKGUsdGhpcy5fY2FjaGUueG1sW3RdKX0sYWRkVmlkZW86ZnVuY3Rpb24odCxlLGkscyl7dGhpcy5fY2FjaGUudmlkZW9bdF09e3VybDplLGRhdGE6aSxpc0Jsb2I6cyxsb2NrZWQ6ITB9LHRoaXMuX3Jlc29sdmVVUkwoZSx0aGlzLl9jYWNoZS52aWRlb1t0XSl9LGFkZFNoYWRlcjpmdW5jdGlvbih0LGUsaSl7dGhpcy5fY2FjaGUuc2hhZGVyW3RdPXt1cmw6ZSxkYXRhOml9LHRoaXMuX3Jlc29sdmVVUkwoZSx0aGlzLl9jYWNoZS5zaGFkZXJbdF0pfSxhZGRSZW5kZXJUZXh0dXJlOmZ1bmN0aW9uKHQsZSl7dGhpcy5fY2FjaGUucmVuZGVyVGV4dHVyZVt0XT17dGV4dHVyZTplLGZyYW1lOm5ldyBpLkZyYW1lKDAsMCwwLGUud2lkdGgsZS5oZWlnaHQsXCJcIixcIlwiKX19LGFkZFNwcml0ZVNoZWV0OmZ1bmN0aW9uKHQsZSxzLG4sbyxyLGEsaCxsKXt2b2lkIDA9PT1yJiYocj0tMSksdm9pZCAwPT09YSYmKGE9MCksdm9pZCAwPT09aCYmKGg9MCk7dmFyIGM9e2tleTp0LHVybDplLGRhdGE6cyxmcmFtZVdpZHRoOm4sZnJhbWVIZWlnaHQ6byxtYXJnaW46YSxzcGFjaW5nOmgsYmFzZTpuZXcgUElYSS5CYXNlVGV4dHVyZShzLG51bGwsdGhpcy5nYW1lLnJlc29sdXRpb24pLGZyYW1lRGF0YTppLkFuaW1hdGlvblBhcnNlci5zcHJpdGVTaGVldCh0aGlzLmdhbWUscyxuLG8scixhLGgsbCl9O3RoaXMuX2NhY2hlLmltYWdlW3RdPWMsdGhpcy5fcmVzb2x2ZVVSTChlLGMpfSxhZGRUZXh0dXJlQXRsYXM6ZnVuY3Rpb24odCxlLHMsbixvKXt2YXIgcj17a2V5OnQsdXJsOmUsZGF0YTpzLGJhc2U6bmV3IFBJWEkuQmFzZVRleHR1cmUocyxudWxsLHRoaXMuZ2FtZS5yZXNvbHV0aW9uKX07bz09PWkuTG9hZGVyLlRFWFRVUkVfQVRMQVNfWE1MX1NUQVJMSU5HP3IuZnJhbWVEYXRhPWkuQW5pbWF0aW9uUGFyc2VyLlhNTERhdGEodGhpcy5nYW1lLG4sdCk6bz09PWkuTG9hZGVyLlRFWFRVUkVfQVRMQVNfSlNPTl9QWVhFTD9yLmZyYW1lRGF0YT1pLkFuaW1hdGlvblBhcnNlci5KU09ORGF0YVB5eGVsKHRoaXMuZ2FtZSxuLHQpOkFycmF5LmlzQXJyYXkobi5mcmFtZXMpP3IuZnJhbWVEYXRhPWkuQW5pbWF0aW9uUGFyc2VyLkpTT05EYXRhKHRoaXMuZ2FtZSxuLHQpOnIuZnJhbWVEYXRhPWkuQW5pbWF0aW9uUGFyc2VyLkpTT05EYXRhSGFzaCh0aGlzLmdhbWUsbix0KSx0aGlzLl9jYWNoZS5pbWFnZVt0XT1yLHRoaXMuX3Jlc29sdmVVUkwoZSxyKX0scmVsb2FkU291bmQ6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxpPXRoaXMuZ2V0U291bmQodCk7aSYmKGkuZGF0YS5zcmM9aS51cmwsaS5kYXRhLmFkZEV2ZW50TGlzdGVuZXIoXCJjYW5wbGF5dGhyb3VnaFwiLGZ1bmN0aW9uKCl7cmV0dXJuIGUucmVsb2FkU291bmRDb21wbGV0ZSh0KX0sITEpLGkuZGF0YS5sb2FkKCkpfSxyZWxvYWRTb3VuZENvbXBsZXRlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ2V0U291bmQodCk7ZSYmKGUubG9ja2VkPSExLHRoaXMub25Tb3VuZFVubG9jay5kaXNwYXRjaCh0KSl9LHVwZGF0ZVNvdW5kOmZ1bmN0aW9uKHQsZSxpKXt2YXIgcz10aGlzLmdldFNvdW5kKHQpO3MmJihzW2VdPWkpfSxkZWNvZGVkU291bmQ6ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLmdldFNvdW5kKHQpO2kuZGF0YT1lLGkuZGVjb2RlZD0hMCxpLmlzRGVjb2Rpbmc9ITF9LGlzU291bmREZWNvZGVkOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ2V0SXRlbSh0LGkuQ2FjaGUuU09VTkQsXCJpc1NvdW5kRGVjb2RlZFwiKTtpZihlKXJldHVybiBlLmRlY29kZWR9LGlzU291bmRSZWFkeTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmdldEl0ZW0odCxpLkNhY2hlLlNPVU5ELFwiaXNTb3VuZERlY29kZWRcIik7aWYoZSlyZXR1cm4gZS5kZWNvZGVkJiYhdGhpcy5nYW1lLnNvdW5kLnRvdWNoTG9ja2VkfSxjaGVja0tleTpmdW5jdGlvbih0LGUpe3JldHVybiEhdGhpcy5fY2FjaGVNYXBbdF1bZV19LGNoZWNrVVJMOmZ1bmN0aW9uKHQpe3JldHVybiEhdGhpcy5fdXJsTWFwW3RoaXMuX3Jlc29sdmVVUkwodCldfSxjaGVja0NhbnZhc0tleTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jaGVja0tleShpLkNhY2hlLkNBTlZBUyx0KX0sY2hlY2tJbWFnZUtleTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jaGVja0tleShpLkNhY2hlLklNQUdFLHQpfSxjaGVja1RleHR1cmVLZXk6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY2hlY2tLZXkoaS5DYWNoZS5URVhUVVJFLHQpfSxjaGVja1NvdW5kS2V5OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmNoZWNrS2V5KGkuQ2FjaGUuU09VTkQsdCl9LGNoZWNrVGV4dEtleTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jaGVja0tleShpLkNhY2hlLlRFWFQsdCl9LGNoZWNrUGh5c2ljc0tleTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jaGVja0tleShpLkNhY2hlLlBIWVNJQ1MsdCl9LGNoZWNrVGlsZW1hcEtleTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jaGVja0tleShpLkNhY2hlLlRJTEVNQVAsdCl9LGNoZWNrQmluYXJ5S2V5OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmNoZWNrS2V5KGkuQ2FjaGUuQklOQVJZLHQpfSxjaGVja0JpdG1hcERhdGFLZXk6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY2hlY2tLZXkoaS5DYWNoZS5CSVRNQVBEQVRBLHQpfSxjaGVja0JpdG1hcEZvbnRLZXk6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY2hlY2tLZXkoaS5DYWNoZS5CSVRNQVBGT05ULHQpfSxjaGVja0pTT05LZXk6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY2hlY2tLZXkoaS5DYWNoZS5KU09OLHQpfSxjaGVja1hNTEtleTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jaGVja0tleShpLkNhY2hlLlhNTCx0KX0sY2hlY2tWaWRlb0tleTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jaGVja0tleShpLkNhY2hlLlZJREVPLHQpfSxjaGVja1NoYWRlcktleTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jaGVja0tleShpLkNhY2hlLlNIQURFUix0KX0sY2hlY2tSZW5kZXJUZXh0dXJlS2V5OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmNoZWNrS2V5KGkuQ2FjaGUuUkVOREVSX1RFWFRVUkUsdCl9LGdldEl0ZW06ZnVuY3Rpb24odCxlLGkscyl7cmV0dXJuIHRoaXMuY2hlY2tLZXkoZSx0KT92b2lkIDA9PT1zP3RoaXMuX2NhY2hlTWFwW2VdW3RdOnRoaXMuX2NhY2hlTWFwW2VdW3RdW3NdOihpJiZjb25zb2xlLndhcm4oXCJQaGFzZXIuQ2FjaGUuXCIraSsnOiBLZXkgXCInK3QrJ1wiIG5vdCBmb3VuZCBpbiBDYWNoZS4nKSxudWxsKX0sZ2V0Q2FudmFzOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmdldEl0ZW0odCxpLkNhY2hlLkNBTlZBUyxcImdldENhbnZhc1wiLFwiY2FudmFzXCIpfSxnZXRJbWFnZTpmdW5jdGlvbih0LGUpe3ZvaWQgMCE9PXQmJm51bGwhPT10fHwodD1cIl9fZGVmYXVsdFwiKSx2b2lkIDA9PT1lJiYoZT0hMSk7dmFyIHM9dGhpcy5nZXRJdGVtKHQsaS5DYWNoZS5JTUFHRSxcImdldEltYWdlXCIpO3JldHVybiBudWxsPT09cyYmKHM9dGhpcy5nZXRJdGVtKFwiX19taXNzaW5nXCIsaS5DYWNoZS5JTUFHRSxcImdldEltYWdlXCIpKSxlP3M6cy5kYXRhfSxnZXRUZXh0dXJlRnJhbWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZ2V0SXRlbSh0LGkuQ2FjaGUuVEVYVFVSRSxcImdldFRleHR1cmVGcmFtZVwiLFwiZnJhbWVcIil9LGdldFNvdW5kOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmdldEl0ZW0odCxpLkNhY2hlLlNPVU5ELFwiZ2V0U291bmRcIil9LGdldFNvdW5kRGF0YTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5nZXRJdGVtKHQsaS5DYWNoZS5TT1VORCxcImdldFNvdW5kRGF0YVwiLFwiZGF0YVwiKX0sZ2V0VGV4dDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5nZXRJdGVtKHQsaS5DYWNoZS5URVhULFwiZ2V0VGV4dFwiLFwiZGF0YVwiKX0sZ2V0UGh5c2ljc0RhdGE6ZnVuY3Rpb24odCxlLHMpe3ZhciBuPXRoaXMuZ2V0SXRlbSh0LGkuQ2FjaGUuUEhZU0lDUyxcImdldFBoeXNpY3NEYXRhXCIsXCJkYXRhXCIpO2lmKG51bGw9PT1ufHx2b2lkIDA9PT1lfHxudWxsPT09ZSlyZXR1cm4gbjtpZihuW2VdKXt2YXIgbz1uW2VdO2lmKCFvfHwhcylyZXR1cm4gbztmb3IodmFyIHIgaW4gbylpZigocj1vW3JdKS5maXh0dXJlS2V5PT09cylyZXR1cm4gcjtjb25zb2xlLndhcm4oJ1BoYXNlci5DYWNoZS5nZXRQaHlzaWNzRGF0YTogQ291bGQgbm90IGZpbmQgZ2l2ZW4gZml4dHVyZUtleTogXCInK3MrXCIgaW4gXCIrdCsnXCInKX1lbHNlIGNvbnNvbGUud2FybignUGhhc2VyLkNhY2hlLmdldFBoeXNpY3NEYXRhOiBJbnZhbGlkIGtleS9vYmplY3Q6IFwiJyt0K1wiIC8gXCIrZSsnXCInKTtyZXR1cm4gbnVsbH0sZ2V0VGlsZW1hcERhdGE6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZ2V0SXRlbSh0LGkuQ2FjaGUuVElMRU1BUCxcImdldFRpbGVtYXBEYXRhXCIpfSxnZXRCaW5hcnk6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZ2V0SXRlbSh0LGkuQ2FjaGUuQklOQVJZLFwiZ2V0QmluYXJ5XCIpfSxnZXRCaXRtYXBEYXRhOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmdldEl0ZW0odCxpLkNhY2hlLkJJVE1BUERBVEEsXCJnZXRCaXRtYXBEYXRhXCIsXCJkYXRhXCIpfSxnZXRCaXRtYXBGb250OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmdldEl0ZW0odCxpLkNhY2hlLkJJVE1BUEZPTlQsXCJnZXRCaXRtYXBGb250XCIpfSxnZXRKU09OOmZ1bmN0aW9uKHQsZSl7dmFyIHM9dGhpcy5nZXRJdGVtKHQsaS5DYWNoZS5KU09OLFwiZ2V0SlNPTlwiLFwiZGF0YVwiKTtyZXR1cm4gcz9lP2kuVXRpbHMuZXh0ZW5kKCEwLEFycmF5LmlzQXJyYXkocyk/W106e30scyk6czpudWxsfSxnZXRYTUw6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZ2V0SXRlbSh0LGkuQ2FjaGUuWE1MLFwiZ2V0WE1MXCIsXCJkYXRhXCIpfSxnZXRWaWRlbzpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5nZXRJdGVtKHQsaS5DYWNoZS5WSURFTyxcImdldFZpZGVvXCIpfSxnZXRTaGFkZXI6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZ2V0SXRlbSh0LGkuQ2FjaGUuU0hBREVSLFwiZ2V0U2hhZGVyXCIsXCJkYXRhXCIpfSxnZXRSZW5kZXJUZXh0dXJlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmdldEl0ZW0odCxpLkNhY2hlLlJFTkRFUl9URVhUVVJFLFwiZ2V0UmVuZGVyVGV4dHVyZVwiKX0sZ2V0QmFzZVRleHR1cmU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9aS5DYWNoZS5JTUFHRSksdGhpcy5nZXRJdGVtKHQsZSxcImdldEJhc2VUZXh0dXJlXCIsXCJiYXNlXCIpfSxnZXRGcmFtZTpmdW5jdGlvbih0LGUpe3JldHVybiB2b2lkIDA9PT1lJiYoZT1pLkNhY2hlLklNQUdFKSx0aGlzLmdldEl0ZW0odCxlLFwiZ2V0RnJhbWVcIixcImZyYW1lXCIpfSxnZXRGcmFtZUNvdW50OmZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5nZXRGcmFtZURhdGEodCxlKTtyZXR1cm4gaT9pLnRvdGFsOjB9LGdldEZyYW1lRGF0YTpmdW5jdGlvbih0LGUpe3JldHVybiB2b2lkIDA9PT1lJiYoZT1pLkNhY2hlLklNQUdFKSx0aGlzLmdldEl0ZW0odCxlLFwiZ2V0RnJhbWVEYXRhXCIsXCJmcmFtZURhdGFcIil9LGhhc0ZyYW1lRGF0YTpmdW5jdGlvbih0LGUpe3JldHVybiB2b2lkIDA9PT1lJiYoZT1pLkNhY2hlLklNQUdFKSxudWxsIT09dGhpcy5nZXRJdGVtKHQsZSxcIlwiLFwiZnJhbWVEYXRhXCIpfSx1cGRhdGVGcmFtZURhdGE6ZnVuY3Rpb24odCxlLHMpe3ZvaWQgMD09PXMmJihzPWkuQ2FjaGUuSU1BR0UpLHRoaXMuX2NhY2hlTWFwW3NdW3RdJiYodGhpcy5fY2FjaGVNYXBbc11bdF0uZnJhbWVEYXRhPWUpfSxnZXRGcmFtZUJ5SW5kZXg6ZnVuY3Rpb24odCxlLGkpe3ZhciBzPXRoaXMuZ2V0RnJhbWVEYXRhKHQsaSk7cmV0dXJuIHM/cy5nZXRGcmFtZShlKTpudWxsfSxnZXRGcmFtZUJ5TmFtZTpmdW5jdGlvbih0LGUsaSl7dmFyIHM9dGhpcy5nZXRGcmFtZURhdGEodCxpKTtyZXR1cm4gcz9zLmdldEZyYW1lQnlOYW1lKGUpOm51bGx9LGdldFVSTDpmdW5jdGlvbih0KXtyZXR1cm4odD10aGlzLl9yZXNvbHZlVVJMKHQpKT90aGlzLl91cmxNYXBbdF06KGNvbnNvbGUud2FybignUGhhc2VyLkNhY2hlLmdldFVybDogSW52YWxpZCB1cmw6IFwiJyt0KydcIiBvciBDYWNoZS5hdXRvUmVzb2x2ZVVSTCB3YXMgZmFsc2UnKSxudWxsKX0sZ2V0S2V5czpmdW5jdGlvbih0KXt2b2lkIDA9PT10JiYodD1pLkNhY2hlLklNQUdFKTt2YXIgZT1bXTtpZih0aGlzLl9jYWNoZU1hcFt0XSlmb3IodmFyIHMgaW4gdGhpcy5fY2FjaGVNYXBbdF0pXCJfX2RlZmF1bHRcIiE9PXMmJlwiX19taXNzaW5nXCIhPT1zJiZlLnB1c2gocyk7cmV0dXJuIGV9LHJlbW92ZUNhbnZhczpmdW5jdGlvbih0KXtkZWxldGUgdGhpcy5fY2FjaGUuY2FudmFzW3RdfSxyZW1vdmVJbWFnZTpmdW5jdGlvbih0LGUpe3ZvaWQgMD09PWUmJihlPSEwKTt2YXIgaT10aGlzLmdldEltYWdlKHQsITApO2UmJmkuYmFzZSYmaS5iYXNlLmRlc3Ryb3koKSxkZWxldGUgdGhpcy5fY2FjaGUuaW1hZ2VbdF19LHJlbW92ZVNvdW5kOmZ1bmN0aW9uKHQpe2RlbGV0ZSB0aGlzLl9jYWNoZS5zb3VuZFt0XX0scmVtb3ZlVGV4dDpmdW5jdGlvbih0KXtkZWxldGUgdGhpcy5fY2FjaGUudGV4dFt0XX0scmVtb3ZlUGh5c2ljczpmdW5jdGlvbih0KXtkZWxldGUgdGhpcy5fY2FjaGUucGh5c2ljc1t0XX0scmVtb3ZlVGlsZW1hcDpmdW5jdGlvbih0KXtkZWxldGUgdGhpcy5fY2FjaGUudGlsZW1hcFt0XX0scmVtb3ZlQmluYXJ5OmZ1bmN0aW9uKHQpe2RlbGV0ZSB0aGlzLl9jYWNoZS5iaW5hcnlbdF19LHJlbW92ZUJpdG1hcERhdGE6ZnVuY3Rpb24odCl7ZGVsZXRlIHRoaXMuX2NhY2hlLmJpdG1hcERhdGFbdF19LHJlbW92ZUJpdG1hcEZvbnQ6ZnVuY3Rpb24odCl7ZGVsZXRlIHRoaXMuX2NhY2hlLmJpdG1hcEZvbnRbdF19LHJlbW92ZUpTT046ZnVuY3Rpb24odCl7ZGVsZXRlIHRoaXMuX2NhY2hlLmpzb25bdF19LHJlbW92ZVhNTDpmdW5jdGlvbih0KXtkZWxldGUgdGhpcy5fY2FjaGUueG1sW3RdfSxyZW1vdmVWaWRlbzpmdW5jdGlvbih0KXtkZWxldGUgdGhpcy5fY2FjaGUudmlkZW9bdF19LHJlbW92ZVNoYWRlcjpmdW5jdGlvbih0KXtkZWxldGUgdGhpcy5fY2FjaGUuc2hhZGVyW3RdfSxyZW1vdmVSZW5kZXJUZXh0dXJlOmZ1bmN0aW9uKHQpe2RlbGV0ZSB0aGlzLl9jYWNoZS5yZW5kZXJUZXh0dXJlW3RdfSxyZW1vdmVTcHJpdGVTaGVldDpmdW5jdGlvbih0KXtkZWxldGUgdGhpcy5fY2FjaGUuc3ByaXRlU2hlZXRbdF19LHJlbW92ZVRleHR1cmVBdGxhczpmdW5jdGlvbih0KXtkZWxldGUgdGhpcy5fY2FjaGUuaW1hZ2VbdF19LGNsZWFyR0xUZXh0dXJlczpmdW5jdGlvbigpe2Zvcih2YXIgdCBpbiB0aGlzLl9jYWNoZS5pbWFnZSl0aGlzLl9jYWNoZS5pbWFnZVt0XS5iYXNlLl9nbFRleHR1cmVzPVtdfSxfcmVzb2x2ZVVSTDpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmF1dG9SZXNvbHZlVVJMPyh0aGlzLl91cmxSZXNvbHZlci5zcmM9dGhpcy5nYW1lLmxvYWQuYmFzZVVSTCt0LHRoaXMuX3VybFRlbXA9dGhpcy5fdXJsUmVzb2x2ZXIuc3JjLHRoaXMuX3VybFJlc29sdmVyLnNyYz1cIlwiLGUmJih0aGlzLl91cmxNYXBbdGhpcy5fdXJsVGVtcF09ZSksdGhpcy5fdXJsVGVtcCk6bnVsbH0sZGVzdHJveTpmdW5jdGlvbigpe2Zvcih2YXIgdD0wO3Q8dGhpcy5fY2FjaGVNYXAubGVuZ3RoO3QrKyl7dmFyIGU9dGhpcy5fY2FjaGVNYXBbdF07Zm9yKHZhciBpIGluIGUpXCJfX2RlZmF1bHRcIiE9PWkmJlwiX19taXNzaW5nXCIhPT1pJiYodGhpcy5kZXN0cm95SXRlbShlW2ldKSxkZWxldGUgZVtpXSl9dGhpcy5fdXJsTWFwPW51bGwsdGhpcy5fdXJsUmVzb2x2ZXI9bnVsbCx0aGlzLl91cmxUZW1wPW51bGx9LGRlc3Ryb3lJdGVtOmZ1bmN0aW9uKHQpe3QuZGVzdHJveT90LmRlc3Ryb3koKToodC5iYXNlJiZ0LmJhc2UuZGVzdHJveSYmdC5iYXNlLmRlc3Ryb3koKSx0LmRhdGEmJnQuZGF0YS5kZXN0cm95JiZ0LmRhdGEuZGVzdHJveSgpLHQuZnJhbWVEYXRhJiZ0LmZyYW1lRGF0YS5kZXN0cm95JiZ0LmZyYW1lRGF0YS5kZXN0cm95KCksdC50ZXh0dXJlJiZ0LnRleHR1cmUuZGVzdHJveSYmdC50ZXh0dXJlLmRlc3Ryb3koITApKX0sX2FkZEltYWdlczpmdW5jdGlvbigpe3RoaXMuX3BlbmRpbmdDb3VudD0wLHRoaXMuYWRkRGVmYXVsdEltYWdlKCksdGhpcy5hZGRNaXNzaW5nSW1hZ2UoKTt2YXIgdD10aGlzLGU9aS5DYWNoZS5SRUFEWV9USU1FT1VUO2kuQ2FjaGUuUkVBRFlfVElNRU9VVD4wP3NldFRpbWVvdXQoZnVuY3Rpb24oKXt0LmlzUmVhZHl8fChjb25zb2xlLndhcm4oXCJQaGFzZXIuQ2FjaGU6IFN0aWxsIHdhaXRpbmcgZm9yIGltYWdlcyBhZnRlciAlcyBtcy5cIixlKSx0Ll9yZWFkeSgpKX0saS5DYWNoZS5SRUFEWV9USU1FT1VUKTp0aGlzLl9yZWFkeSgpfSxfYWRkUGVuZGluZzpmdW5jdGlvbigpe3RoaXMuX3BlbmRpbmdDb3VudCs9MX0sX3JlbW92ZVBlbmRpbmc6ZnVuY3Rpb24oKXt0aGlzLl9wZW5kaW5nQ291bnQtPTEsdGhpcy5fY2hlY2tSZWFkeSgpfSxfY2hlY2tSZWFkeTpmdW5jdGlvbigpe3RoaXMuaXNSZWFkeSYmdGhpcy5fcmVhZHkoKX0sX3JlYWR5OmZ1bmN0aW9uKCl7dGhpcy5fcGVuZGluZ0NvdW50PTAsdGhpcy5vblJlYWR5LmRpc3BhdGNoKHRoaXMpfX0saS5DYWNoZS5wcm90b3R5cGUuY29uc3RydWN0b3I9aS5DYWNoZSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5DYWNoZS5wcm90b3R5cGUsXCJpc1JlYWR5XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9wZW5kaW5nQ291bnQ8PTB9fSksaS5Mb2FkZXI9ZnVuY3Rpb24odCl7dGhpcy5nYW1lPXQsdGhpcy5jYWNoZT10LmNhY2hlLHRoaXMucmVzZXRMb2NrZWQ9ITEsdGhpcy5pc0xvYWRpbmc9ITEsdGhpcy5oYXNMb2FkZWQ9ITEsdGhpcy5wcmVsb2FkU3ByaXRlPW51bGwsdGhpcy5jcm9zc09yaWdpbj0hMSx0aGlzLmJhc2VVUkw9XCJcIix0aGlzLnBhdGg9XCJcIix0aGlzLmhlYWRlcnM9e3JlcXVlc3RlZFdpdGg6ITEsanNvbjpcImFwcGxpY2F0aW9uL2pzb25cIix4bWw6XCJhcHBsaWNhdGlvbi94bWxcIn0sdGhpcy5vbkxvYWRTdGFydD1uZXcgaS5TaWduYWwsdGhpcy5vbkxvYWRDb21wbGV0ZT1uZXcgaS5TaWduYWwsdGhpcy5vblBhY2tDb21wbGV0ZT1uZXcgaS5TaWduYWwsdGhpcy5vbkZpbGVTdGFydD1uZXcgaS5TaWduYWwsdGhpcy5vbkZpbGVDb21wbGV0ZT1uZXcgaS5TaWduYWwsdGhpcy5vbkZpbGVFcnJvcj1uZXcgaS5TaWduYWwsdGhpcy51c2VYRG9tYWluUmVxdWVzdD0hMSx0aGlzLl93YXJuZWRBYm91dFhEb21haW5SZXF1ZXN0PSExLHRoaXMuZW5hYmxlUGFyYWxsZWw9ITAsdGhpcy5tYXhQYXJhbGxlbERvd25sb2Fkcz00LHRoaXMuX3dpdGhTeW5jUG9pbnREZXB0aD0wLHRoaXMuX2ZpbGVMaXN0PVtdLHRoaXMuX2ZsaWdodFF1ZXVlPVtdLHRoaXMuX3Byb2Nlc3NpbmdIZWFkPTAsdGhpcy5fZmlsZUxvYWRTdGFydGVkPSExLHRoaXMuX3RvdGFsUGFja0NvdW50PTAsdGhpcy5fdG90YWxGaWxlQ291bnQ9MCx0aGlzLl9sb2FkZWRQYWNrQ291bnQ9MCx0aGlzLl9sb2FkZWRGaWxlQ291bnQ9MH0saS5Mb2FkZXIuVEVYVFVSRV9BVExBU19KU09OX0FSUkFZPTAsaS5Mb2FkZXIuVEVYVFVSRV9BVExBU19KU09OX0hBU0g9MSxpLkxvYWRlci5URVhUVVJFX0FUTEFTX1hNTF9TVEFSTElORz0yLGkuTG9hZGVyLlBIWVNJQ1NfTElNRV9DT1JPTkFfSlNPTj0zLGkuTG9hZGVyLlBIWVNJQ1NfUEhBU0VSX0pTT049NCxpLkxvYWRlci5URVhUVVJFX0FUTEFTX0pTT05fUFlYRUw9NSxpLkxvYWRlci5wcm90b3R5cGU9e3NldFByZWxvYWRTcHJpdGU6ZnVuY3Rpb24odCxlKXtlPWV8fDAsdGhpcy5wcmVsb2FkU3ByaXRlPXtzcHJpdGU6dCxkaXJlY3Rpb246ZSx3aWR0aDp0LndpZHRoLGhlaWdodDp0LmhlaWdodCxyZWN0Om51bGx9LHRoaXMucHJlbG9hZFNwcml0ZS5yZWN0PTA9PT1lP25ldyBpLlJlY3RhbmdsZSgwLDAsMSx0LmhlaWdodCk6bmV3IGkuUmVjdGFuZ2xlKDAsMCx0LndpZHRoLDEpLHQuY3JvcCh0aGlzLnByZWxvYWRTcHJpdGUucmVjdCksdC52aXNpYmxlPSEwfSxyZXNpemU6ZnVuY3Rpb24oKXt0aGlzLnByZWxvYWRTcHJpdGUmJnRoaXMucHJlbG9hZFNwcml0ZS5oZWlnaHQhPT10aGlzLnByZWxvYWRTcHJpdGUuc3ByaXRlLmhlaWdodCYmKHRoaXMucHJlbG9hZFNwcml0ZS5yZWN0LmhlaWdodD10aGlzLnByZWxvYWRTcHJpdGUuc3ByaXRlLmhlaWdodCl9LGNoZWNrS2V5RXhpc3RzOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuZ2V0QXNzZXRJbmRleCh0LGUpPi0xfSxnZXRBc3NldEluZGV4OmZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBpPS0xLHM9MDtzPHRoaXMuX2ZpbGVMaXN0Lmxlbmd0aDtzKyspe3ZhciBuPXRoaXMuX2ZpbGVMaXN0W3NdO2lmKG4udHlwZT09PXQmJm4ua2V5PT09ZSYmKGk9cywhbi5sb2FkZWQmJiFuLmxvYWRpbmcpKWJyZWFrfXJldHVybiBpfSxnZXRBc3NldDpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuZ2V0QXNzZXRJbmRleCh0LGUpO3JldHVybiBpPi0xJiZ7aW5kZXg6aSxmaWxlOnRoaXMuX2ZpbGVMaXN0W2ldfX0scmVzZXQ6ZnVuY3Rpb24odCxlKXt2b2lkIDA9PT1lJiYoZT0hMSksdGhpcy5yZXNldExvY2tlZHx8KHQmJih0aGlzLnByZWxvYWRTcHJpdGU9bnVsbCksdGhpcy5pc0xvYWRpbmc9ITEsdGhpcy5fcHJvY2Vzc2luZ0hlYWQ9MCx0aGlzLl9maWxlTGlzdC5sZW5ndGg9MCx0aGlzLl9mbGlnaHRRdWV1ZS5sZW5ndGg9MCx0aGlzLl9maWxlTG9hZFN0YXJ0ZWQ9ITEsdGhpcy5fdG90YWxGaWxlQ291bnQ9MCx0aGlzLl90b3RhbFBhY2tDb3VudD0wLHRoaXMuX2xvYWRlZFBhY2tDb3VudD0wLHRoaXMuX2xvYWRlZEZpbGVDb3VudD0wLGUmJih0aGlzLm9uTG9hZFN0YXJ0LnJlbW92ZUFsbCgpLHRoaXMub25Mb2FkQ29tcGxldGUucmVtb3ZlQWxsKCksdGhpcy5vblBhY2tDb21wbGV0ZS5yZW1vdmVBbGwoKSx0aGlzLm9uRmlsZVN0YXJ0LnJlbW92ZUFsbCgpLHRoaXMub25GaWxlQ29tcGxldGUucmVtb3ZlQWxsKCksdGhpcy5vbkZpbGVFcnJvci5yZW1vdmVBbGwoKSkpfSxhZGRUb0ZpbGVMaXN0OmZ1bmN0aW9uKHQsZSxpLHMsbixvKXtpZih2b2lkIDA9PT1uJiYobj0hMSksdm9pZCAwPT09ZXx8XCJcIj09PWUpcmV0dXJuIGNvbnNvbGUud2FybihcIlBoYXNlci5Mb2FkZXI6IEludmFsaWQgb3Igbm8ga2V5IGdpdmVuIG9mIHR5cGUgXCIrdCksdGhpcztpZih2b2lkIDA9PT1pfHxudWxsPT09aSl7aWYoIW8pcmV0dXJuIGNvbnNvbGUud2FybihcIlBoYXNlci5Mb2FkZXI6IE5vIFVSTCBnaXZlbiBmb3IgZmlsZSB0eXBlOiBcIit0K1wiIGtleTogXCIrZSksdGhpcztpPWUrb312YXIgcj17dHlwZTp0LGtleTplLHBhdGg6dGhpcy5wYXRoLHVybDppLHN5bmNQb2ludDp0aGlzLl93aXRoU3luY1BvaW50RGVwdGg+MCxkYXRhOm51bGwsbG9hZGluZzohMSxsb2FkZWQ6ITEsZXJyb3I6ITF9O2lmKHMpZm9yKHZhciBhIGluIHMpclthXT1zW2FdO3ZhciBoPXRoaXMuZ2V0QXNzZXRJbmRleCh0LGUpO2lmKG4mJmg+LTEpe3ZhciBsPXRoaXMuX2ZpbGVMaXN0W2hdO2wubG9hZGluZ3x8bC5sb2FkZWQ/KHRoaXMuX2ZpbGVMaXN0LnB1c2gociksdGhpcy5fdG90YWxGaWxlQ291bnQrKyk6dGhpcy5fZmlsZUxpc3RbaF09cn1lbHNlLTE9PT1oJiYodGhpcy5fZmlsZUxpc3QucHVzaChyKSx0aGlzLl90b3RhbEZpbGVDb3VudCsrKTtyZXR1cm4gdGhpc30scmVwbGFjZUluRmlsZUxpc3Q6ZnVuY3Rpb24odCxlLGkscyl7cmV0dXJuIHRoaXMuYWRkVG9GaWxlTGlzdCh0LGUsaSxzLCEwKX0scGFjazpmdW5jdGlvbih0LGUsaSxzKXtpZih2b2lkIDA9PT1lJiYoZT1udWxsKSx2b2lkIDA9PT1pJiYoaT1udWxsKSx2b2lkIDA9PT1zJiYocz1udWxsKSwhZSYmIWkpcmV0dXJuIGNvbnNvbGUud2FybihcIlBoYXNlci5Mb2FkZXIucGFjayAtIEJvdGggdXJsIGFuZCBkYXRhIGFyZSBudWxsLiBPbmUgbXVzdCBiZSBzZXQuXCIpLHRoaXM7dmFyIG49e3R5cGU6XCJwYWNrZmlsZVwiLGtleTp0LHVybDplLHBhdGg6dGhpcy5wYXRoLHN5bmNQb2ludDohMCxkYXRhOm51bGwsbG9hZGluZzohMSxsb2FkZWQ6ITEsZXJyb3I6ITEsY2FsbGJhY2tDb250ZXh0OnN9O2kmJihcInN0cmluZ1wiPT10eXBlb2YgaSYmKGk9SlNPTi5wYXJzZShpKSksbi5kYXRhPWl8fHt9LG4ubG9hZGVkPSEwKTtmb3IodmFyIG89MDtvPHRoaXMuX2ZpbGVMaXN0Lmxlbmd0aCsxO28rKyl7dmFyIHI9dGhpcy5fZmlsZUxpc3Rbb107aWYoIXJ8fCFyLmxvYWRlZCYmIXIubG9hZGluZyYmXCJwYWNrZmlsZVwiIT09ci50eXBlKXt0aGlzLl9maWxlTGlzdC5zcGxpY2UobywwLG4pLHRoaXMuX3RvdGFsUGFja0NvdW50Kys7YnJlYWt9fXJldHVybiB0aGlzfSxpbWFnZTpmdW5jdGlvbih0LGUsaSl7cmV0dXJuXCJvYmplY3RcIj09dHlwZW9mIGU/dGhpcy50ZXh0dXJlKHQsZSxpKTp0aGlzLmFkZFRvRmlsZUxpc3QoXCJpbWFnZVwiLHQsZSx2b2lkIDAsaSxcIi5wbmdcIil9LGltYWdlRnJvbUJpdG1hcERhdGE6ZnVuY3Rpb24odCxlLGkpe3JldHVybiB0aGlzLmltYWdlKHQsZS5jYW52YXMudG9EYXRhVVJMKFwiaW1hZ2UvcG5nXCIpLGkpfSx0ZXh0dXJlOmZ1bmN0aW9uKHQsZSxzKXtpZih0aGlzLmdhbWUucmVuZGVyVHlwZT09PWkuV0VCR0wpe3ZhciBuLG89dGhpcy5nYW1lLnJlbmRlcmVyLmV4dGVuc2lvbnMuY29tcHJlc3Npb247Zm9yKG4gaW4gZSlpZihuLnRvVXBwZXJDYXNlKClpbiBvKXJldHVybiB0aGlzLmFkZFRvRmlsZUxpc3QoXCJ0ZXh0dXJlXCIsdCxlW25dLHZvaWQgMCxzLFwiLnB2clwiKX1yZXR1cm4gZS50cnVlY29sb3ImJnRoaXMuYWRkVG9GaWxlTGlzdChcImltYWdlXCIsdCxlLnRydWVjb2xvcix2b2lkIDAscyxcIi5wbmdcIiksdGhpc30saW1hZ2VzOmZ1bmN0aW9uKHQsZSl7aWYoQXJyYXkuaXNBcnJheShlKSlmb3IoaT0wO2k8dC5sZW5ndGg7aSsrKXRoaXMuaW1hZ2UodFtpXSxlW2ldKTtlbHNlIGZvcih2YXIgaT0wO2k8dC5sZW5ndGg7aSsrKXRoaXMuaW1hZ2UodFtpXSk7cmV0dXJuIHRoaXN9LHRleHQ6ZnVuY3Rpb24odCxlLGkpe3JldHVybiB0aGlzLmFkZFRvRmlsZUxpc3QoXCJ0ZXh0XCIsdCxlLHZvaWQgMCxpLFwiLnR4dFwiKX0sanNvbjpmdW5jdGlvbih0LGUsaSl7cmV0dXJuIHRoaXMuYWRkVG9GaWxlTGlzdChcImpzb25cIix0LGUsdm9pZCAwLGksXCIuanNvblwiKX0sc2hhZGVyOmZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gdGhpcy5hZGRUb0ZpbGVMaXN0KFwic2hhZGVyXCIsdCxlLHZvaWQgMCxpLFwiLmZyYWdcIil9LHhtbDpmdW5jdGlvbih0LGUsaSl7cmV0dXJuIHRoaXMuYWRkVG9GaWxlTGlzdChcInhtbFwiLHQsZSx2b2lkIDAsaSxcIi54bWxcIil9LHNjcmlwdDpmdW5jdGlvbih0LGUsaSxzKXtyZXR1cm4gdm9pZCAwPT09aSYmKGk9ITEpLCExIT09aSYmdm9pZCAwPT09cyYmKHM9dGhpcyksdGhpcy5hZGRUb0ZpbGVMaXN0KFwic2NyaXB0XCIsdCxlLHtzeW5jUG9pbnQ6ITAsY2FsbGJhY2s6aSxjYWxsYmFja0NvbnRleHQ6c30sITEsXCIuanNcIil9LGJpbmFyeTpmdW5jdGlvbih0LGUsaSxzKXtyZXR1cm4gdm9pZCAwPT09aSYmKGk9ITEpLCExIT09aSYmdm9pZCAwPT09cyYmKHM9aSksdGhpcy5hZGRUb0ZpbGVMaXN0KFwiYmluYXJ5XCIsdCxlLHtjYWxsYmFjazppLGNhbGxiYWNrQ29udGV4dDpzfSwhMSxcIi5iaW5cIil9LHNwcml0ZXNoZWV0OmZ1bmN0aW9uKHQsZSxpLHMsbixvLHIsYSl7cmV0dXJuIHZvaWQgMD09PW4mJihuPS0xKSx2b2lkIDA9PT1vJiYobz0wKSx2b2lkIDA9PT1yJiYocj0wKSx2b2lkIDA9PT1hJiYoYT0wKSx0aGlzLmFkZFRvRmlsZUxpc3QoXCJzcHJpdGVzaGVldFwiLHQsZSx7ZnJhbWVXaWR0aDppLGZyYW1lSGVpZ2h0OnMsZnJhbWVNYXg6bixtYXJnaW46byxzcGFjaW5nOnIsc2tpcEZyYW1lczphfSwhMSxcIi5wbmdcIil9LGF1ZGlvOmZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gdGhpcy5nYW1lLnNvdW5kLm5vQXVkaW8/dGhpczoodm9pZCAwPT09aSYmKGk9ITApLFwic3RyaW5nXCI9PXR5cGVvZiBlJiYoZT1bZV0pLHRoaXMuYWRkVG9GaWxlTGlzdChcImF1ZGlvXCIsdCxlLHtidWZmZXI6bnVsbCxhdXRvRGVjb2RlOml9KSl9LGF1ZGlvU3ByaXRlOmZ1bmN0aW9uKHQsZSxpLHMsbil7cmV0dXJuIHRoaXMuZ2FtZS5zb3VuZC5ub0F1ZGlvP3RoaXM6KHZvaWQgMD09PWkmJihpPW51bGwpLHZvaWQgMD09PXMmJihzPW51bGwpLHZvaWQgMD09PW4mJihuPSEwKSx0aGlzLmF1ZGlvKHQsZSxuKSxpP3RoaXMuanNvbih0K1wiLWF1ZGlvYXRsYXNcIixpKTpzPyhcInN0cmluZ1wiPT10eXBlb2YgcyYmKHM9SlNPTi5wYXJzZShzKSksdGhpcy5jYWNoZS5hZGRKU09OKHQrXCItYXVkaW9hdGxhc1wiLFwiXCIscykpOmNvbnNvbGUud2FybihcIlBoYXNlci5Mb2FkZXIuYXVkaW9zcHJpdGUgLSBZb3UgbXVzdCBzcGVjaWZ5IGVpdGhlciBhIGpzb25VUkwgb3IgcHJvdmlkZSBhIGpzb25EYXRhIG9iamVjdFwiKSx0aGlzKX0sYXVkaW9zcHJpdGU6ZnVuY3Rpb24odCxlLGkscyxuKXtyZXR1cm4gdGhpcy5hdWRpb1Nwcml0ZSh0LGUsaSxzLG4pfSx2aWRlbzpmdW5jdGlvbih0LGUsaSxzKXtyZXR1cm4gdm9pZCAwPT09aSYmKGk9dGhpcy5nYW1lLmRldmljZS5maXJlZm94P1wibG9hZGVkZGF0YVwiOlwiY2FucGxheXRocm91Z2hcIiksdm9pZCAwPT09cyYmKHM9ITEpLFwic3RyaW5nXCI9PXR5cGVvZiBlJiYoZT1bZV0pLHRoaXMuYWRkVG9GaWxlTGlzdChcInZpZGVvXCIsdCxlLHtidWZmZXI6bnVsbCxhc0Jsb2I6cyxsb2FkRXZlbnQ6aX0pfSx0aWxlbWFwOmZ1bmN0aW9uKHQsZSxzLG4pe2lmKHZvaWQgMD09PWUmJihlPW51bGwpLHZvaWQgMD09PXMmJihzPW51bGwpLHZvaWQgMD09PW4mJihuPWkuVGlsZW1hcC5DU1YpLGV8fHN8fChlPW49PT1pLlRpbGVtYXAuQ1NWP3QrXCIuY3N2XCI6dCtcIi5qc29uXCIpLHMpe3N3aXRjaChuKXtjYXNlIGkuVGlsZW1hcC5DU1Y6YnJlYWs7Y2FzZSBpLlRpbGVtYXAuVElMRURfSlNPTjpcInN0cmluZ1wiPT10eXBlb2YgcyYmKHM9SlNPTi5wYXJzZShzKSl9dGhpcy5jYWNoZS5hZGRUaWxlbWFwKHQsbnVsbCxzLG4pfWVsc2UgdGhpcy5hZGRUb0ZpbGVMaXN0KFwidGlsZW1hcFwiLHQsZSx7Zm9ybWF0Om59KTtyZXR1cm4gdGhpc30scGh5c2ljczpmdW5jdGlvbih0LGUscyxuKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9bnVsbCksdm9pZCAwPT09cyYmKHM9bnVsbCksdm9pZCAwPT09biYmKG49aS5QaHlzaWNzLkxJTUVfQ09ST05BX0pTT04pLGV8fHN8fChlPXQrXCIuanNvblwiKSxzPyhcInN0cmluZ1wiPT10eXBlb2YgcyYmKHM9SlNPTi5wYXJzZShzKSksdGhpcy5jYWNoZS5hZGRQaHlzaWNzRGF0YSh0LG51bGwscyxuKSk6dGhpcy5hZGRUb0ZpbGVMaXN0KFwicGh5c2ljc1wiLHQsZSx7Zm9ybWF0Om59KSx0aGlzfSxiaXRtYXBGb250OmZ1bmN0aW9uKHQsZSxpLHMsbixvKXtpZih2b2lkIDAhPT1lJiZudWxsIT09ZXx8KGU9dCtcIi5wbmdcIiksdm9pZCAwPT09aSYmKGk9bnVsbCksdm9pZCAwPT09cyYmKHM9bnVsbCksbnVsbD09PWkmJm51bGw9PT1zJiYoaT10K1wiLnhtbFwiKSx2b2lkIDA9PT1uJiYobj0wKSx2b2lkIDA9PT1vJiYobz0wKSxpKXRoaXMuYWRkVG9GaWxlTGlzdChcImJpdG1hcGZvbnRcIix0LGUse2F0bGFzVVJMOmkseFNwYWNpbmc6bix5U3BhY2luZzpvfSk7ZWxzZSBpZihcInN0cmluZ1wiPT10eXBlb2Ygcyl7dmFyIHIsYTt0cnl7cj1KU09OLnBhcnNlKHMpfWNhdGNoKHQpe2E9dGhpcy5wYXJzZVhtbChzKX1pZighYSYmIXIpdGhyb3cgbmV3IEVycm9yKFwiUGhhc2VyLkxvYWRlci4gSW52YWxpZCBCaXRtYXAgRm9udCBhdGxhcyBnaXZlblwiKTt0aGlzLmFkZFRvRmlsZUxpc3QoXCJiaXRtYXBmb250XCIsdCxlLHthdGxhc1VSTDpudWxsLGF0bGFzRGF0YTpyfHxhLGF0bGFzVHlwZTpyP1wianNvblwiOlwieG1sXCIseFNwYWNpbmc6bix5U3BhY2luZzpvfSl9cmV0dXJuIHRoaXN9LGF0bGFzSlNPTkFycmF5OmZ1bmN0aW9uKHQsZSxzLG4pe3JldHVybiB0aGlzLmF0bGFzKHQsZSxzLG4saS5Mb2FkZXIuVEVYVFVSRV9BVExBU19KU09OX0FSUkFZKX0sYXRsYXNKU09OSGFzaDpmdW5jdGlvbih0LGUscyxuKXtyZXR1cm4gdGhpcy5hdGxhcyh0LGUscyxuLGkuTG9hZGVyLlRFWFRVUkVfQVRMQVNfSlNPTl9IQVNIKX0sYXRsYXNYTUw6ZnVuY3Rpb24odCxlLHMsbil7cmV0dXJuIHZvaWQgMD09PXMmJihzPW51bGwpLHZvaWQgMD09PW4mJihuPW51bGwpLHN8fG58fChzPXQrXCIueG1sXCIpLHRoaXMuYXRsYXModCxlLHMsbixpLkxvYWRlci5URVhUVVJFX0FUTEFTX1hNTF9TVEFSTElORyl9LGF0bGFzOmZ1bmN0aW9uKHQsZSxzLG4sbyl7aWYodm9pZCAwIT09ZSYmbnVsbCE9PWV8fChlPXQrXCIucG5nXCIpLHZvaWQgMD09PXMmJihzPW51bGwpLHZvaWQgMD09PW4mJihuPW51bGwpLHZvaWQgMD09PW8mJihvPWkuTG9hZGVyLlRFWFRVUkVfQVRMQVNfSlNPTl9BUlJBWSksc3x8bnx8KHM9bz09PWkuTG9hZGVyLlRFWFRVUkVfQVRMQVNfWE1MX1NUQVJMSU5HP3QrXCIueG1sXCI6dCtcIi5qc29uXCIpLHMpdGhpcy5hZGRUb0ZpbGVMaXN0KFwidGV4dHVyZWF0bGFzXCIsdCxlLHthdGxhc1VSTDpzLGZvcm1hdDpvfSk7ZWxzZXtzd2l0Y2gobyl7Y2FzZSBpLkxvYWRlci5URVhUVVJFX0FUTEFTX0pTT05fQVJSQVk6XCJzdHJpbmdcIj09dHlwZW9mIG4mJihuPUpTT04ucGFyc2UobikpO2JyZWFrO2Nhc2UgaS5Mb2FkZXIuVEVYVFVSRV9BVExBU19YTUxfU1RBUkxJTkc6aWYoXCJzdHJpbmdcIj09dHlwZW9mIG4pe3ZhciByPXRoaXMucGFyc2VYbWwobik7aWYoIXIpdGhyb3cgbmV3IEVycm9yKFwiUGhhc2VyLkxvYWRlci4gSW52YWxpZCBUZXh0dXJlIEF0bGFzIFhNTCBnaXZlblwiKTtuPXJ9fXRoaXMuYWRkVG9GaWxlTGlzdChcInRleHR1cmVhdGxhc1wiLHQsZSx7YXRsYXNVUkw6bnVsbCxhdGxhc0RhdGE6bixmb3JtYXQ6b30pfXJldHVybiB0aGlzfSx3aXRoU3luY1BvaW50OmZ1bmN0aW9uKHQsZSl7dGhpcy5fd2l0aFN5bmNQb2ludERlcHRoKys7dHJ5e3QuY2FsbChlfHx0aGlzLHRoaXMpfWZpbmFsbHl7dGhpcy5fd2l0aFN5bmNQb2ludERlcHRoLS19cmV0dXJuIHRoaXN9LGFkZFN5bmNQb2ludDpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuZ2V0QXNzZXQodCxlKTtyZXR1cm4gaSYmKGkuZmlsZS5zeW5jUG9pbnQ9ITApLHRoaXN9LHJlbW92ZUZpbGU6ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLmdldEFzc2V0KHQsZSk7aSYmKGkubG9hZGVkfHxpLmxvYWRpbmd8fHRoaXMuX2ZpbGVMaXN0LnNwbGljZShpLmluZGV4LDEpKX0scmVtb3ZlQWxsOmZ1bmN0aW9uKCl7dGhpcy5fZmlsZUxpc3QubGVuZ3RoPTAsdGhpcy5fZmxpZ2h0UXVldWUubGVuZ3RoPTB9LHN0YXJ0OmZ1bmN0aW9uKCl7dGhpcy5pc0xvYWRpbmd8fCh0aGlzLmhhc0xvYWRlZD0hMSx0aGlzLmlzTG9hZGluZz0hMCx0aGlzLnVwZGF0ZVByb2dyZXNzKCksdGhpcy5wcm9jZXNzTG9hZFF1ZXVlKCkpfSxwcm9jZXNzTG9hZFF1ZXVlOmZ1bmN0aW9uKCl7aWYoIXRoaXMuaXNMb2FkaW5nKXJldHVybiBjb25zb2xlLndhcm4oXCJQaGFzZXIuTG9hZGVyIC0gYWN0aXZlIGxvYWRpbmcgY2FuY2VsZWQgLyByZXNldFwiKSx2b2lkIHRoaXMuZmluaXNoZWRMb2FkaW5nKCEwKTtmb3IoaT0wO2k8dGhpcy5fZmxpZ2h0UXVldWUubGVuZ3RoO2krKykoKHM9dGhpcy5fZmxpZ2h0UXVldWVbaV0pLmxvYWRlZHx8cy5lcnJvcikmJih0aGlzLl9mbGlnaHRRdWV1ZS5zcGxpY2UoaSwxKSxpLS0scy5sb2FkaW5nPSExLHMucmVxdWVzdFVybD1udWxsLHMucmVxdWVzdE9iamVjdD1udWxsLHMuZXJyb3ImJnRoaXMub25GaWxlRXJyb3IuZGlzcGF0Y2gocy5rZXkscyksXCJwYWNrZmlsZVwiIT09cy50eXBlPyh0aGlzLl9sb2FkZWRGaWxlQ291bnQrKyx0aGlzLm9uRmlsZUNvbXBsZXRlLmRpc3BhdGNoKHRoaXMucHJvZ3Jlc3Mscy5rZXksIXMuZXJyb3IsdGhpcy5fbG9hZGVkRmlsZUNvdW50LHRoaXMuX3RvdGFsRmlsZUNvdW50KSk6XCJwYWNrZmlsZVwiPT09cy50eXBlJiZzLmVycm9yJiYodGhpcy5fbG9hZGVkUGFja0NvdW50KyssdGhpcy5vblBhY2tDb21wbGV0ZS5kaXNwYXRjaChzLmtleSwhcy5lcnJvcix0aGlzLl9sb2FkZWRQYWNrQ291bnQsdGhpcy5fdG90YWxQYWNrQ291bnQpKSk7Zm9yKHZhciB0PSExLGU9dGhpcy5lbmFibGVQYXJhbGxlbD9NYXRoLm1heCgxLHRoaXMubWF4UGFyYWxsZWxEb3dubG9hZHMpOjEsaT10aGlzLl9wcm9jZXNzaW5nSGVhZDtpPHRoaXMuX2ZpbGVMaXN0Lmxlbmd0aDtpKyspe3ZhciBzPXRoaXMuX2ZpbGVMaXN0W2ldO2lmKFwicGFja2ZpbGVcIj09PXMudHlwZSYmIXMuZXJyb3ImJnMubG9hZGVkJiZpPT09dGhpcy5fcHJvY2Vzc2luZ0hlYWQmJih0aGlzLnByb2Nlc3NQYWNrKHMpLHRoaXMuX2xvYWRlZFBhY2tDb3VudCsrLHRoaXMub25QYWNrQ29tcGxldGUuZGlzcGF0Y2gocy5rZXksIXMuZXJyb3IsdGhpcy5fbG9hZGVkUGFja0NvdW50LHRoaXMuX3RvdGFsUGFja0NvdW50KSkscy5sb2FkZWR8fHMuZXJyb3I/aT09PXRoaXMuX3Byb2Nlc3NpbmdIZWFkJiYodGhpcy5fcHJvY2Vzc2luZ0hlYWQ9aSsxKTohcy5sb2FkaW5nJiZ0aGlzLl9mbGlnaHRRdWV1ZS5sZW5ndGg8ZSYmKFwicGFja2ZpbGVcIiE9PXMudHlwZXx8cy5kYXRhP3R8fCh0aGlzLl9maWxlTG9hZFN0YXJ0ZWR8fCh0aGlzLl9maWxlTG9hZFN0YXJ0ZWQ9ITAsdGhpcy5vbkxvYWRTdGFydC5kaXNwYXRjaCgpKSx0aGlzLl9mbGlnaHRRdWV1ZS5wdXNoKHMpLHMubG9hZGluZz0hMCx0aGlzLm9uRmlsZVN0YXJ0LmRpc3BhdGNoKHRoaXMucHJvZ3Jlc3Mscy5rZXkscy51cmwpLHRoaXMubG9hZEZpbGUocykpOih0aGlzLl9mbGlnaHRRdWV1ZS5wdXNoKHMpLHMubG9hZGluZz0hMCx0aGlzLmxvYWRGaWxlKHMpKSksIXMubG9hZGVkJiZzLnN5bmNQb2ludCYmKHQ9ITApLHRoaXMuX2ZsaWdodFF1ZXVlLmxlbmd0aD49ZXx8dCYmdGhpcy5fbG9hZGVkUGFja0NvdW50PT09dGhpcy5fdG90YWxQYWNrQ291bnQpYnJlYWt9aWYodGhpcy51cGRhdGVQcm9ncmVzcygpLHRoaXMuX3Byb2Nlc3NpbmdIZWFkPj10aGlzLl9maWxlTGlzdC5sZW5ndGgpdGhpcy5maW5pc2hlZExvYWRpbmcoKTtlbHNlIGlmKCF0aGlzLl9mbGlnaHRRdWV1ZS5sZW5ndGgpe2NvbnNvbGUud2FybihcIlBoYXNlci5Mb2FkZXIgLSBhYm9ydGluZzogcHJvY2Vzc2luZyBxdWV1ZSBlbXB0eSwgbG9hZGluZyBtYXkgaGF2ZSBzdGFsbGVkXCIpO3ZhciBuPXRoaXM7c2V0VGltZW91dChmdW5jdGlvbigpe24uZmluaXNoZWRMb2FkaW5nKCEwKX0sMmUzKX19LGZpbmlzaGVkTG9hZGluZzpmdW5jdGlvbih0KXt0aGlzLmhhc0xvYWRlZHx8KHRoaXMuaGFzTG9hZGVkPSEwLHRoaXMuaXNMb2FkaW5nPSExLHR8fHRoaXMuX2ZpbGVMb2FkU3RhcnRlZHx8KHRoaXMuX2ZpbGVMb2FkU3RhcnRlZD0hMCx0aGlzLm9uTG9hZFN0YXJ0LmRpc3BhdGNoKCkpLHRoaXMucmVzZXQoKSx0aGlzLm9uTG9hZENvbXBsZXRlLmRpc3BhdGNoKCksdGhpcy5nYW1lLnN0YXRlLmxvYWRDb21wbGV0ZSgpKX0sYXN5bmNDb21wbGV0ZTpmdW5jdGlvbih0LGUpe3ZvaWQgMD09PWUmJihlPVwiXCIpLHQubG9hZGVkPSEwLHQuZXJyb3I9ISFlLGUmJih0LmVycm9yTWVzc2FnZT1lLGNvbnNvbGUud2FybihcIlBoYXNlci5Mb2FkZXIgLSBcIit0LnR5cGUrXCJbXCIrdC5rZXkrXCJdOiBcIitlKSksdGhpcy5wcm9jZXNzTG9hZFF1ZXVlKCl9LHByb2Nlc3NQYWNrOmZ1bmN0aW9uKHQpe3ZhciBlPXQuZGF0YVt0LmtleV07aWYoZSlmb3IodmFyIHM9MDtzPGUubGVuZ3RoO3MrKyl7dmFyIG49ZVtzXTtzd2l0Y2gobi50eXBlKXtjYXNlXCJpbWFnZVwiOnRoaXMuaW1hZ2Uobi5rZXksbi51cmwsbi5vdmVyd3JpdGUpO2JyZWFrO2Nhc2VcInRleHRcIjp0aGlzLnRleHQobi5rZXksbi51cmwsbi5vdmVyd3JpdGUpO2JyZWFrO2Nhc2VcImpzb25cIjp0aGlzLmpzb24obi5rZXksbi51cmwsbi5vdmVyd3JpdGUpO2JyZWFrO2Nhc2VcInhtbFwiOnRoaXMueG1sKG4ua2V5LG4udXJsLG4ub3ZlcndyaXRlKTticmVhaztjYXNlXCJzY3JpcHRcIjp0aGlzLnNjcmlwdChuLmtleSxuLnVybCxuLmNhbGxiYWNrLHQuY2FsbGJhY2tDb250ZXh0fHx0aGlzKTticmVhaztjYXNlXCJiaW5hcnlcIjp0aGlzLmJpbmFyeShuLmtleSxuLnVybCxuLmNhbGxiYWNrLHQuY2FsbGJhY2tDb250ZXh0fHx0aGlzKTticmVhaztjYXNlXCJzcHJpdGVzaGVldFwiOnRoaXMuc3ByaXRlc2hlZXQobi5rZXksbi51cmwsbi5mcmFtZVdpZHRoLG4uZnJhbWVIZWlnaHQsbi5mcmFtZU1heCxuLm1hcmdpbixuLnNwYWNpbmcsbi5za2lwRnJhbWVzKTticmVhaztjYXNlXCJ2aWRlb1wiOnRoaXMudmlkZW8obi5rZXksbi51cmxzKTticmVhaztjYXNlXCJhdWRpb1wiOnRoaXMuYXVkaW8obi5rZXksbi51cmxzLG4uYXV0b0RlY29kZSk7YnJlYWs7Y2FzZVwiYXVkaW9zcHJpdGVcIjp0aGlzLmF1ZGlvc3ByaXRlKG4ua2V5LG4udXJscyxuLmpzb25VUkwsbi5qc29uRGF0YSxuLmF1dG9EZWNvZGUpO2JyZWFrO2Nhc2VcInRpbGVtYXBcIjp0aGlzLnRpbGVtYXAobi5rZXksbi51cmwsbi5kYXRhLGkuVGlsZW1hcFtuLmZvcm1hdF0pO2JyZWFrO2Nhc2VcInBoeXNpY3NcIjp0aGlzLnBoeXNpY3Mobi5rZXksbi51cmwsbi5kYXRhLGkuTG9hZGVyW24uZm9ybWF0XSk7YnJlYWs7Y2FzZVwiYml0bWFwRm9udFwiOnRoaXMuYml0bWFwRm9udChuLmtleSxuLnRleHR1cmVVUkwsbi5hdGxhc1VSTCxuLmF0bGFzRGF0YSxuLnhTcGFjaW5nLG4ueVNwYWNpbmcpO2JyZWFrO2Nhc2VcImF0bGFzSlNPTkFycmF5XCI6dGhpcy5hdGxhc0pTT05BcnJheShuLmtleSxuLnRleHR1cmVVUkwsbi5hdGxhc1VSTCxuLmF0bGFzRGF0YSk7YnJlYWs7Y2FzZVwiYXRsYXNKU09OSGFzaFwiOnRoaXMuYXRsYXNKU09OSGFzaChuLmtleSxuLnRleHR1cmVVUkwsbi5hdGxhc1VSTCxuLmF0bGFzRGF0YSk7YnJlYWs7Y2FzZVwiYXRsYXNYTUxcIjp0aGlzLmF0bGFzWE1MKG4ua2V5LG4udGV4dHVyZVVSTCxuLmF0bGFzVVJMLG4uYXRsYXNEYXRhKTticmVhaztjYXNlXCJhdGxhc1wiOnRoaXMuYXRsYXMobi5rZXksbi50ZXh0dXJlVVJMLG4uYXRsYXNVUkwsbi5hdGxhc0RhdGEsaS5Mb2FkZXJbbi5mb3JtYXRdKTticmVhaztjYXNlXCJzaGFkZXJcIjp0aGlzLnNoYWRlcihuLmtleSxuLnVybCxuLm92ZXJ3cml0ZSl9fWVsc2UgY29uc29sZS53YXJuKFwiUGhhc2VyLkxvYWRlciAtIFwiK3Qua2V5K1wiOiBwYWNrIGhhcyBkYXRhLCBidXQgbm90IGZvciBwYWNrIGtleVwiKX0sdHJhbnNmb3JtVXJsOmZ1bmN0aW9uKHQsZSl7cmV0dXJuISF0JiYodC5tYXRjaCgvXig/OmJsb2I6fGRhdGE6fGh0dHA6XFwvXFwvfGh0dHBzOlxcL1xcL3xcXC9cXC8pLyk/dDp0aGlzLmJhc2VVUkwrZS5wYXRoK3QpfSxsb2FkRmlsZTpmdW5jdGlvbih0KXtzd2l0Y2godC50eXBlKXtjYXNlXCJwYWNrZmlsZVwiOnRoaXMueGhyTG9hZCh0LHRoaXMudHJhbnNmb3JtVXJsKHQudXJsLHQpLFwidGV4dFwiLHRoaXMuZmlsZUNvbXBsZXRlKTticmVhaztjYXNlXCJpbWFnZVwiOmNhc2VcInNwcml0ZXNoZWV0XCI6Y2FzZVwidGV4dHVyZWF0bGFzXCI6Y2FzZVwiYml0bWFwZm9udFwiOnRoaXMubG9hZEltYWdlVGFnKHQpO2JyZWFrO2Nhc2VcImF1ZGlvXCI6dC51cmw9dGhpcy5nZXRBdWRpb1VSTCh0LnVybCksdC51cmw/dGhpcy5nYW1lLnNvdW5kLnVzaW5nV2ViQXVkaW8/dGhpcy54aHJMb2FkKHQsdGhpcy50cmFuc2Zvcm1VcmwodC51cmwsdCksXCJhcnJheWJ1ZmZlclwiLHRoaXMuZmlsZUNvbXBsZXRlKTp0aGlzLmdhbWUuc291bmQudXNpbmdBdWRpb1RhZyYmdGhpcy5sb2FkQXVkaW9UYWcodCk6dGhpcy5maWxlRXJyb3IodCxudWxsLFwiTm8gc3VwcG9ydGVkIGF1ZGlvIFVSTCBzcGVjaWZpZWQgb3IgZGV2aWNlIGRvZXMgbm90IGhhdmUgYXVkaW8gcGxheWJhY2sgc3VwcG9ydFwiKTticmVhaztjYXNlXCJ2aWRlb1wiOnQudXJsPXRoaXMuZ2V0VmlkZW9VUkwodC51cmwpLHQudXJsP3QuYXNCbG9iP3RoaXMueGhyTG9hZCh0LHRoaXMudHJhbnNmb3JtVXJsKHQudXJsLHQpLFwiYmxvYlwiLHRoaXMuZmlsZUNvbXBsZXRlKTp0aGlzLmxvYWRWaWRlb1RhZyh0KTp0aGlzLmZpbGVFcnJvcih0LG51bGwsXCJObyBzdXBwb3J0ZWQgdmlkZW8gVVJMIHNwZWNpZmllZCBvciBkZXZpY2UgZG9lcyBub3QgaGF2ZSB2aWRlbyBwbGF5YmFjayBzdXBwb3J0XCIpO2JyZWFrO2Nhc2VcImpzb25cIjp0aGlzLnhockxvYWQodCx0aGlzLnRyYW5zZm9ybVVybCh0LnVybCx0KSxcInRleHRcIix0aGlzLmpzb25Mb2FkQ29tcGxldGUpO2JyZWFrO2Nhc2VcInhtbFwiOnRoaXMueGhyTG9hZCh0LHRoaXMudHJhbnNmb3JtVXJsKHQudXJsLHQpLFwidGV4dFwiLHRoaXMueG1sTG9hZENvbXBsZXRlKTticmVhaztjYXNlXCJ0aWxlbWFwXCI6dC5mb3JtYXQ9PT1pLlRpbGVtYXAuVElMRURfSlNPTj90aGlzLnhockxvYWQodCx0aGlzLnRyYW5zZm9ybVVybCh0LnVybCx0KSxcInRleHRcIix0aGlzLmpzb25Mb2FkQ29tcGxldGUpOnQuZm9ybWF0PT09aS5UaWxlbWFwLkNTVj90aGlzLnhockxvYWQodCx0aGlzLnRyYW5zZm9ybVVybCh0LnVybCx0KSxcInRleHRcIix0aGlzLmNzdkxvYWRDb21wbGV0ZSk6dGhpcy5hc3luY0NvbXBsZXRlKHQsXCJpbnZhbGlkIFRpbGVtYXAgZm9ybWF0OiBcIit0LmZvcm1hdCk7YnJlYWs7Y2FzZVwidGV4dFwiOmNhc2VcInNjcmlwdFwiOmNhc2VcInNoYWRlclwiOmNhc2VcInBoeXNpY3NcIjp0aGlzLnhockxvYWQodCx0aGlzLnRyYW5zZm9ybVVybCh0LnVybCx0KSxcInRleHRcIix0aGlzLmZpbGVDb21wbGV0ZSk7YnJlYWs7Y2FzZVwidGV4dHVyZVwiOlwidHJ1ZWNvbG9yXCI9PT10LmtleS5zcGxpdChcIl9cIikucG9wKCk/dGhpcy5sb2FkSW1hZ2VUYWcodCk6dGhpcy54aHJMb2FkKHQsdGhpcy50cmFuc2Zvcm1VcmwodC51cmwsdCksXCJhcnJheWJ1ZmZlclwiLHRoaXMuZmlsZUNvbXBsZXRlKTticmVhaztjYXNlXCJiaW5hcnlcIjp0aGlzLnhockxvYWQodCx0aGlzLnRyYW5zZm9ybVVybCh0LnVybCx0KSxcImFycmF5YnVmZmVyXCIsdGhpcy5maWxlQ29tcGxldGUpfX0sbG9hZEltYWdlVGFnOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7dC5kYXRhPW5ldyBJbWFnZSx0LmRhdGEubmFtZT10LmtleSx0aGlzLmNyb3NzT3JpZ2luJiYodC5kYXRhLmNyb3NzT3JpZ2luPXRoaXMuY3Jvc3NPcmlnaW4pLHQuZGF0YS5vbmxvYWQ9ZnVuY3Rpb24oKXt0LmRhdGEub25sb2FkJiYodC5kYXRhLm9ubG9hZD1udWxsLHQuZGF0YS5vbmVycm9yPW51bGwsZS5maWxlQ29tcGxldGUodCkpfSx0LmRhdGEub25lcnJvcj1mdW5jdGlvbigpe3QuZGF0YS5vbmxvYWQmJih0LmRhdGEub25sb2FkPW51bGwsdC5kYXRhLm9uZXJyb3I9bnVsbCxlLmZpbGVFcnJvcih0KSl9LHQuZGF0YS5zcmM9dGhpcy50cmFuc2Zvcm1VcmwodC51cmwsdCksIXRoaXMuZ2FtZS5kZXZpY2UuZmlyZWZveCYmdC5kYXRhLmNvbXBsZXRlJiZ0LmRhdGEud2lkdGgmJnQuZGF0YS5oZWlnaHQmJih0LmRhdGEub25sb2FkPW51bGwsdC5kYXRhLm9uZXJyb3I9bnVsbCx0aGlzLmZpbGVDb21wbGV0ZSh0KSl9LGxvYWRWaWRlb1RhZzpmdW5jdGlvbih0KXt2YXIgZT10aGlzO3QuZGF0YT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidmlkZW9cIiksdC5kYXRhLm5hbWU9dC5rZXksdC5kYXRhLmNvbnRyb2xzPSExLHQuZGF0YS5hdXRvcGxheT0hMTt2YXIgcz1mdW5jdGlvbigpe3QuZGF0YS5yZW1vdmVFdmVudExpc3RlbmVyKHQubG9hZEV2ZW50LHMsITEpLHQuZGF0YS5vbmVycm9yPW51bGwsdC5kYXRhLmNhbnBsYXk9ITAsaS5HQU1FU1tlLmdhbWUuaWRdLmxvYWQuZmlsZUNvbXBsZXRlKHQpfTt0LmRhdGEub25lcnJvcj1mdW5jdGlvbigpe3QuZGF0YS5yZW1vdmVFdmVudExpc3RlbmVyKHQubG9hZEV2ZW50LHMsITEpLHQuZGF0YS5vbmVycm9yPW51bGwsdC5kYXRhLmNhbnBsYXk9ITEsZS5maWxlRXJyb3IodCl9LHQuZGF0YS5hZGRFdmVudExpc3RlbmVyKHQubG9hZEV2ZW50LHMsITEpLHQuZGF0YS5zcmM9dGhpcy50cmFuc2Zvcm1VcmwodC51cmwsdCksdC5kYXRhLmxvYWQoKX0sbG9hZEF1ZGlvVGFnOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7aWYodGhpcy5nYW1lLnNvdW5kLnRvdWNoTG9ja2VkKXQuZGF0YT1uZXcgQXVkaW8sdC5kYXRhLm5hbWU9dC5rZXksdC5kYXRhLnByZWxvYWQ9XCJhdXRvXCIsdC5kYXRhLnNyYz10aGlzLnRyYW5zZm9ybVVybCh0LnVybCx0KSx0aGlzLmZpbGVDb21wbGV0ZSh0KTtlbHNle3QuZGF0YT1uZXcgQXVkaW8sdC5kYXRhLm5hbWU9dC5rZXk7dmFyIGk9ZnVuY3Rpb24oKXt0LmRhdGEucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNhbnBsYXl0aHJvdWdoXCIsaSwhMSksdC5kYXRhLm9uZXJyb3I9bnVsbCxlLmZpbGVDb21wbGV0ZSh0KX07dC5kYXRhLm9uZXJyb3I9ZnVuY3Rpb24oKXt0LmRhdGEucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNhbnBsYXl0aHJvdWdoXCIsaSwhMSksdC5kYXRhLm9uZXJyb3I9bnVsbCxlLmZpbGVFcnJvcih0KX0sdC5kYXRhLnByZWxvYWQ9XCJhdXRvXCIsdC5kYXRhLnNyYz10aGlzLnRyYW5zZm9ybVVybCh0LnVybCx0KSx0LmRhdGEuYWRkRXZlbnRMaXN0ZW5lcihcImNhbnBsYXl0aHJvdWdoXCIsaSwhMSksdC5kYXRhLmxvYWQoKX19LHhockxvYWQ6ZnVuY3Rpb24odCxlLGkscyxuKXtpZih0aGlzLnVzZVhEb21haW5SZXF1ZXN0JiZ3aW5kb3cuWERvbWFpblJlcXVlc3QpdGhpcy54aHJMb2FkV2l0aFhEUih0LGUsaSxzLG4pO2Vsc2V7dmFyIG89bmV3IFhNTEh0dHBSZXF1ZXN0O28ub3BlbihcIkdFVFwiLGUsITApLG8ucmVzcG9uc2VUeXBlPWksITEhPT10aGlzLmhlYWRlcnMucmVxdWVzdGVkV2l0aCYmby5zZXRSZXF1ZXN0SGVhZGVyKFwiWC1SZXF1ZXN0ZWQtV2l0aFwiLHRoaXMuaGVhZGVycy5yZXF1ZXN0ZWRXaXRoKSx0aGlzLmhlYWRlcnNbdC50eXBlXSYmby5zZXRSZXF1ZXN0SGVhZGVyKFwiQWNjZXB0XCIsdGhpcy5oZWFkZXJzW3QudHlwZV0pLG49bnx8dGhpcy5maWxlRXJyb3I7dmFyIHI9dGhpcztvLm9ubG9hZD1mdW5jdGlvbigpe3RyeXtyZXR1cm4gND09PW8ucmVhZHlTdGF0ZSYmby5zdGF0dXM+PTQwMCYmby5zdGF0dXM8PTU5OT9uLmNhbGwocix0LG8pOnMuY2FsbChyLHQsbyl9Y2F0Y2goZSl7ci5oYXNMb2FkZWQ/d2luZG93LmNvbnNvbGUmJmNvbnNvbGUuZXJyb3IoZSk6ci5hc3luY0NvbXBsZXRlKHQsZS5tZXNzYWdlfHxcIkV4Y2VwdGlvblwiKX19LG8ub25lcnJvcj1mdW5jdGlvbigpe3RyeXtyZXR1cm4gbi5jYWxsKHIsdCxvKX1jYXRjaChlKXtyLmhhc0xvYWRlZD93aW5kb3cuY29uc29sZSYmY29uc29sZS5lcnJvcihlKTpyLmFzeW5jQ29tcGxldGUodCxlLm1lc3NhZ2V8fFwiRXhjZXB0aW9uXCIpfX0sdC5yZXF1ZXN0T2JqZWN0PW8sdC5yZXF1ZXN0VXJsPWUsby5zZW5kKCl9fSx4aHJMb2FkV2l0aFhEUjpmdW5jdGlvbih0LGUsaSxzLG4pe3RoaXMuX3dhcm5lZEFib3V0WERvbWFpblJlcXVlc3R8fHRoaXMuZ2FtZS5kZXZpY2UuaWUmJiEodGhpcy5nYW1lLmRldmljZS5pZVZlcnNpb24+PTEwKXx8KHRoaXMuX3dhcm5lZEFib3V0WERvbWFpblJlcXVlc3Q9ITAsY29uc29sZS53YXJuKFwiUGhhc2VyLkxvYWRlciAtIHVzaW5nIFhEb21haW5SZXF1ZXN0IG91dHNpZGUgb2YgSUUgOVwiKSk7dmFyIG89bmV3IHdpbmRvdy5YRG9tYWluUmVxdWVzdDtvLm9wZW4oXCJHRVRcIixlLCEwKSxvLnJlc3BvbnNlVHlwZT1pLG8udGltZW91dD0zZTMsbj1ufHx0aGlzLmZpbGVFcnJvcjt2YXIgcj10aGlzO28ub25lcnJvcj1mdW5jdGlvbigpe3RyeXtyZXR1cm4gbi5jYWxsKHIsdCxvKX1jYXRjaChlKXtyLmFzeW5jQ29tcGxldGUodCxlLm1lc3NhZ2V8fFwiRXhjZXB0aW9uXCIpfX0sby5vbnRpbWVvdXQ9ZnVuY3Rpb24oKXt0cnl7cmV0dXJuIG4uY2FsbChyLHQsbyl9Y2F0Y2goZSl7ci5hc3luY0NvbXBsZXRlKHQsZS5tZXNzYWdlfHxcIkV4Y2VwdGlvblwiKX19LG8ub25wcm9ncmVzcz1mdW5jdGlvbigpe30sby5vbmxvYWQ9ZnVuY3Rpb24oKXt0cnl7cmV0dXJuIDQ9PT1vLnJlYWR5U3RhdGUmJm8uc3RhdHVzPj00MDAmJm8uc3RhdHVzPD01OTk/bi5jYWxsKHIsdCxvKTpzLmNhbGwocix0LG8pfWNhdGNoKGUpe3IuYXN5bmNDb21wbGV0ZSh0LGUubWVzc2FnZXx8XCJFeGNlcHRpb25cIil9fSx0LnJlcXVlc3RPYmplY3Q9byx0LnJlcXVlc3RVcmw9ZSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7by5zZW5kKCl9LDApfSxnZXRWaWRlb1VSTDpmdW5jdGlvbih0KXtmb3IodmFyIGU9MDtlPHQubGVuZ3RoO2UrKyl7dmFyIGkscz10W2VdO2lmKHMudXJpKXtpZihpPXMudHlwZSxzPXMudXJpLHRoaXMuZ2FtZS5kZXZpY2UuY2FuUGxheVZpZGVvKGkpKXJldHVybiBzfWVsc2V7aWYoMD09PXMuaW5kZXhPZihcImJsb2I6XCIpfHwwPT09cy5pbmRleE9mKFwiZGF0YTpcIikpcmV0dXJuIHM7aWYocy5pbmRleE9mKFwiP1wiKT49MCYmKHM9cy5zdWJzdHIoMCxzLmluZGV4T2YoXCI/XCIpKSksaT1zLnN1YnN0cigoTWF0aC5tYXgoMCxzLmxhc3RJbmRleE9mKFwiLlwiKSl8fDEvMCkrMSkudG9Mb3dlckNhc2UoKSx0aGlzLmdhbWUuZGV2aWNlLmNhblBsYXlWaWRlbyhpKSlyZXR1cm4gdFtlXX19cmV0dXJuIG51bGx9LGdldEF1ZGlvVVJMOmZ1bmN0aW9uKHQpe2lmKHRoaXMuZ2FtZS5zb3VuZC5ub0F1ZGlvKXJldHVybiBudWxsO2Zvcih2YXIgZT0wO2U8dC5sZW5ndGg7ZSsrKXt2YXIgaSxzPXRbZV07aWYocy51cmkpe2lmKGk9cy50eXBlLHM9cy51cmksdGhpcy5nYW1lLmRldmljZS5jYW5QbGF5QXVkaW8oaSkpcmV0dXJuIHN9ZWxzZXtpZigwPT09cy5pbmRleE9mKFwiYmxvYjpcIil8fDA9PT1zLmluZGV4T2YoXCJkYXRhOlwiKSlyZXR1cm4gcztpZihzLmluZGV4T2YoXCI/XCIpPj0wJiYocz1zLnN1YnN0cigwLHMuaW5kZXhPZihcIj9cIikpKSxpPXMuc3Vic3RyKChNYXRoLm1heCgwLHMubGFzdEluZGV4T2YoXCIuXCIpKXx8MS8wKSsxKS50b0xvd2VyQ2FzZSgpLHRoaXMuZ2FtZS5kZXZpY2UuY2FuUGxheUF1ZGlvKGkpKXJldHVybiB0W2VdfX1yZXR1cm4gbnVsbH0sZmlsZUVycm9yOmZ1bmN0aW9uKHQsZSxpKXt2YXIgcz1cImVycm9yIGxvYWRpbmcgYXNzZXQgZnJvbSBVUkwgXCIrKHQucmVxdWVzdFVybHx8dGhpcy50cmFuc2Zvcm1VcmwodC51cmwsdCkpOyFpJiZlJiYoaT1lLnN0YXR1cyksaSYmKHM9cytcIiAoXCIraStcIilcIiksdGhpcy5hc3luY0NvbXBsZXRlKHQscyl9LGZpbGVDb21wbGV0ZTpmdW5jdGlvbih0LGUpe3ZhciBzPSEwO3N3aXRjaCh0LnR5cGUpe2Nhc2VcInBhY2tmaWxlXCI6bz1KU09OLnBhcnNlKGUucmVzcG9uc2VUZXh0KTt0LmRhdGE9b3x8e307YnJlYWs7Y2FzZVwidGV4dHVyZVwiOnZhciBuPS9cXC4oW14uXSspJC8uZXhlYyh0LnVybC5zcGxpdChcIj9cIiwxKVswXSlbMV0udG9Mb3dlckNhc2UoKTtudWxsIT09dC5kYXRhP3RoaXMuY2FjaGUuYWRkQ29tcHJlc3NlZFRleHR1cmVNZXRhRGF0YSh0LmtleSx0LnVybCxuLHQuZGF0YSk6dGhpcy5jYWNoZS5hZGRDb21wcmVzc2VkVGV4dHVyZU1ldGFEYXRhKHQua2V5LHQudXJsLG4sZS5yZXNwb25zZSk7YnJlYWs7Y2FzZVwiaW1hZ2VcIjp0aGlzLmNhY2hlLmFkZEltYWdlKHQua2V5LHQudXJsLHQuZGF0YSk7YnJlYWs7Y2FzZVwic3ByaXRlc2hlZXRcIjp0aGlzLmNhY2hlLmFkZFNwcml0ZVNoZWV0KHQua2V5LHQudXJsLHQuZGF0YSx0LmZyYW1lV2lkdGgsdC5mcmFtZUhlaWdodCx0LmZyYW1lTWF4LHQubWFyZ2luLHQuc3BhY2luZyx0LnNraXBGcmFtZXMpO2JyZWFrO2Nhc2VcInRleHR1cmVhdGxhc1wiOmlmKG51bGw9PXQuYXRsYXNVUkwpdGhpcy5jYWNoZS5hZGRUZXh0dXJlQXRsYXModC5rZXksdC51cmwsdC5kYXRhLHQuYXRsYXNEYXRhLHQuZm9ybWF0KTtlbHNlIGlmKHM9ITEsdC5mb3JtYXQ9PT1pLkxvYWRlci5URVhUVVJFX0FUTEFTX0pTT05fQVJSQVl8fHQuZm9ybWF0PT09aS5Mb2FkZXIuVEVYVFVSRV9BVExBU19KU09OX0hBU0h8fHQuZm9ybWF0PT09aS5Mb2FkZXIuVEVYVFVSRV9BVExBU19KU09OX1BZWEVMKXRoaXMueGhyTG9hZCh0LHRoaXMudHJhbnNmb3JtVXJsKHQuYXRsYXNVUkwsdCksXCJ0ZXh0XCIsdGhpcy5qc29uTG9hZENvbXBsZXRlKTtlbHNle2lmKHQuZm9ybWF0IT09aS5Mb2FkZXIuVEVYVFVSRV9BVExBU19YTUxfU1RBUkxJTkcpdGhyb3cgbmV3IEVycm9yKFwiUGhhc2VyLkxvYWRlci4gSW52YWxpZCBUZXh0dXJlIEF0bGFzIGZvcm1hdDogXCIrdC5mb3JtYXQpO3RoaXMueGhyTG9hZCh0LHRoaXMudHJhbnNmb3JtVXJsKHQuYXRsYXNVUkwsdCksXCJ0ZXh0XCIsdGhpcy54bWxMb2FkQ29tcGxldGUpfWJyZWFrO2Nhc2VcImJpdG1hcGZvbnRcIjp0LmF0bGFzVVJMPyhzPSExLHRoaXMueGhyTG9hZCh0LHRoaXMudHJhbnNmb3JtVXJsKHQuYXRsYXNVUkwsdCksXCJ0ZXh0XCIsZnVuY3Rpb24odCxlKXt2YXIgaTt0cnl7aT1KU09OLnBhcnNlKGUucmVzcG9uc2VUZXh0KX1jYXRjaCh0KXt9aT8odC5hdGxhc1R5cGU9XCJqc29uXCIsdGhpcy5qc29uTG9hZENvbXBsZXRlKHQsZSkpOih0LmF0bGFzVHlwZT1cInhtbFwiLHRoaXMueG1sTG9hZENvbXBsZXRlKHQsZSkpfSkpOnRoaXMuY2FjaGUuYWRkQml0bWFwRm9udCh0LmtleSx0LnVybCx0LmRhdGEsdC5hdGxhc0RhdGEsdC5hdGxhc1R5cGUsdC54U3BhY2luZyx0LnlTcGFjaW5nKTticmVhaztjYXNlXCJ2aWRlb1wiOmlmKHQuYXNCbG9iKXRyeXt0LmRhdGE9ZS5yZXNwb25zZX1jYXRjaChlKXt0aHJvdyBuZXcgRXJyb3IoXCJQaGFzZXIuTG9hZGVyLiBVbmFibGUgdG8gcGFyc2UgdmlkZW8gZmlsZSBhcyBCbG9iOiBcIit0LmtleSl9dGhpcy5jYWNoZS5hZGRWaWRlbyh0LmtleSx0LnVybCx0LmRhdGEsdC5hc0Jsb2IpO2JyZWFrO2Nhc2VcImF1ZGlvXCI6dGhpcy5nYW1lLnNvdW5kLnVzaW5nV2ViQXVkaW8/KHQuZGF0YT1lLnJlc3BvbnNlLHRoaXMuY2FjaGUuYWRkU291bmQodC5rZXksdC51cmwsdC5kYXRhLCEwLCExKSx0LmF1dG9EZWNvZGUmJnRoaXMuZ2FtZS5zb3VuZC5kZWNvZGUodC5rZXkpKTp0aGlzLmNhY2hlLmFkZFNvdW5kKHQua2V5LHQudXJsLHQuZGF0YSwhMSwhMCk7YnJlYWs7Y2FzZVwidGV4dFwiOnQuZGF0YT1lLnJlc3BvbnNlVGV4dCx0aGlzLmNhY2hlLmFkZFRleHQodC5rZXksdC51cmwsdC5kYXRhKTticmVhaztjYXNlXCJzaGFkZXJcIjp0LmRhdGE9ZS5yZXNwb25zZVRleHQsdGhpcy5jYWNoZS5hZGRTaGFkZXIodC5rZXksdC51cmwsdC5kYXRhKTticmVhaztjYXNlXCJwaHlzaWNzXCI6dmFyIG89SlNPTi5wYXJzZShlLnJlc3BvbnNlVGV4dCk7dGhpcy5jYWNoZS5hZGRQaHlzaWNzRGF0YSh0LmtleSx0LnVybCxvLHQuZm9ybWF0KTticmVhaztjYXNlXCJzY3JpcHRcIjp0LmRhdGE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKSx0LmRhdGEubGFuZ3VhZ2U9XCJqYXZhc2NyaXB0XCIsdC5kYXRhLnR5cGU9XCJ0ZXh0L2phdmFzY3JpcHRcIix0LmRhdGEuZGVmZXI9ITEsdC5kYXRhLnRleHQ9ZS5yZXNwb25zZVRleHQsZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZCh0LmRhdGEpLHQuY2FsbGJhY2smJih0LmRhdGE9dC5jYWxsYmFjay5jYWxsKHQuY2FsbGJhY2tDb250ZXh0LHQua2V5LGUucmVzcG9uc2VUZXh0KSk7YnJlYWs7Y2FzZVwiYmluYXJ5XCI6dC5jYWxsYmFjaz90LmRhdGE9dC5jYWxsYmFjay5jYWxsKHQuY2FsbGJhY2tDb250ZXh0LHQua2V5LGUucmVzcG9uc2UpOnQuZGF0YT1lLnJlc3BvbnNlLHRoaXMuY2FjaGUuYWRkQmluYXJ5KHQua2V5LHQuZGF0YSl9cyYmdGhpcy5hc3luY0NvbXBsZXRlKHQpfSxqc29uTG9hZENvbXBsZXRlOmZ1bmN0aW9uKHQsZSl7dmFyIGk9SlNPTi5wYXJzZShlLnJlc3BvbnNlVGV4dCk7XCJ0aWxlbWFwXCI9PT10LnR5cGU/dGhpcy5jYWNoZS5hZGRUaWxlbWFwKHQua2V5LHQudXJsLGksdC5mb3JtYXQpOlwiYml0bWFwZm9udFwiPT09dC50eXBlP3RoaXMuY2FjaGUuYWRkQml0bWFwRm9udCh0LmtleSx0LnVybCx0LmRhdGEsaSx0LmF0bGFzVHlwZSx0LnhTcGFjaW5nLHQueVNwYWNpbmcpOlwianNvblwiPT09dC50eXBlP3RoaXMuY2FjaGUuYWRkSlNPTih0LmtleSx0LnVybCxpKTp0aGlzLmNhY2hlLmFkZFRleHR1cmVBdGxhcyh0LmtleSx0LnVybCx0LmRhdGEsaSx0LmZvcm1hdCksdGhpcy5hc3luY0NvbXBsZXRlKHQpfSxjc3ZMb2FkQ29tcGxldGU6ZnVuY3Rpb24odCxlKXt2YXIgaT1lLnJlc3BvbnNlVGV4dDt0aGlzLmNhY2hlLmFkZFRpbGVtYXAodC5rZXksdC51cmwsaSx0LmZvcm1hdCksdGhpcy5hc3luY0NvbXBsZXRlKHQpfSx4bWxMb2FkQ29tcGxldGU6ZnVuY3Rpb24odCxlKXt2YXIgaT1lLnJlc3BvbnNlVGV4dCxzPXRoaXMucGFyc2VYbWwoaSk7aWYoIXMpe3ZhciBuPWUucmVzcG9uc2VUeXBlfHxlLmNvbnRlbnRUeXBlO3JldHVybiBjb25zb2xlLndhcm4oXCJQaGFzZXIuTG9hZGVyIC0gXCIrdC5rZXkrXCI6IGludmFsaWQgWE1MIChcIituK1wiKVwiKSx2b2lkIHRoaXMuYXN5bmNDb21wbGV0ZSh0LFwiaW52YWxpZCBYTUxcIil9XCJiaXRtYXBmb250XCI9PT10LnR5cGU/dGhpcy5jYWNoZS5hZGRCaXRtYXBGb250KHQua2V5LHQudXJsLHQuZGF0YSxzLHQuYXRsYXNUeXBlLHQueFNwYWNpbmcsdC55U3BhY2luZyk6XCJ0ZXh0dXJlYXRsYXNcIj09PXQudHlwZT90aGlzLmNhY2hlLmFkZFRleHR1cmVBdGxhcyh0LmtleSx0LnVybCx0LmRhdGEscyx0LmZvcm1hdCk6XCJ4bWxcIj09PXQudHlwZSYmdGhpcy5jYWNoZS5hZGRYTUwodC5rZXksdC51cmwscyksdGhpcy5hc3luY0NvbXBsZXRlKHQpfSxwYXJzZVhtbDpmdW5jdGlvbih0KXt2YXIgZTt0cnl7aWYod2luZG93LkRPTVBhcnNlcil7dmFyIGk9bmV3IERPTVBhcnNlcjtlPWkucGFyc2VGcm9tU3RyaW5nKHQsXCJ0ZXh0L3htbFwiKX1lbHNlKGU9bmV3IEFjdGl2ZVhPYmplY3QoXCJNaWNyb3NvZnQuWE1MRE9NXCIpKS5hc3luYz1cImZhbHNlXCIsZS5sb2FkWE1MKHQpfWNhdGNoKHQpe2U9bnVsbH1yZXR1cm4gZSYmZS5kb2N1bWVudEVsZW1lbnQmJiFlLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwicGFyc2VyZXJyb3JcIikubGVuZ3RoP2U6bnVsbH0sdXBkYXRlUHJvZ3Jlc3M6ZnVuY3Rpb24oKXt0aGlzLnByZWxvYWRTcHJpdGUmJigwPT09dGhpcy5wcmVsb2FkU3ByaXRlLmRpcmVjdGlvbj90aGlzLnByZWxvYWRTcHJpdGUucmVjdC53aWR0aD1NYXRoLmZsb29yKHRoaXMucHJlbG9hZFNwcml0ZS53aWR0aC8xMDAqdGhpcy5wcm9ncmVzcyk6dGhpcy5wcmVsb2FkU3ByaXRlLnJlY3QuaGVpZ2h0PU1hdGguZmxvb3IodGhpcy5wcmVsb2FkU3ByaXRlLmhlaWdodC8xMDAqdGhpcy5wcm9ncmVzcyksdGhpcy5wcmVsb2FkU3ByaXRlLnNwcml0ZT90aGlzLnByZWxvYWRTcHJpdGUuc3ByaXRlLnVwZGF0ZUNyb3AoKTp0aGlzLnByZWxvYWRTcHJpdGU9bnVsbCl9LHRvdGFsTG9hZGVkRmlsZXM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbG9hZGVkRmlsZUNvdW50fSx0b3RhbFF1ZXVlZEZpbGVzOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RvdGFsRmlsZUNvdW50LXRoaXMuX2xvYWRlZEZpbGVDb3VudH0sdG90YWxMb2FkZWRQYWNrczpmdW5jdGlvbigpe3JldHVybiB0aGlzLl90b3RhbFBhY2tDb3VudH0sdG90YWxRdWV1ZWRQYWNrczpmdW5jdGlvbigpe3JldHVybiB0aGlzLl90b3RhbFBhY2tDb3VudC10aGlzLl9sb2FkZWRQYWNrQ291bnR9fSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5Mb2FkZXIucHJvdG90eXBlLFwicHJvZ3Jlc3NGbG9hdFwiLHtnZXQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9sb2FkZWRGaWxlQ291bnQvdGhpcy5fdG90YWxGaWxlQ291bnQqMTAwO3JldHVybiBpLk1hdGguY2xhbXAodHx8MCwwLDEwMCl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuTG9hZGVyLnByb3RvdHlwZSxcInByb2dyZXNzXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBNYXRoLnJvdW5kKHRoaXMucHJvZ3Jlc3NGbG9hdCl9fSksaS5Mb2FkZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yPWkuTG9hZGVyLGkuTG9hZGVyUGFyc2VyPXtiaXRtYXBGb250OmZ1bmN0aW9uKHQsZSxpLHMsbixvKXtyZXR1cm4gdGhpcy54bWxCaXRtYXBGb250KHQsZSxpLHMsbixvKX0seG1sQml0bWFwRm9udDpmdW5jdGlvbih0LGUsaSxzLG4sbyl7bnVsbD09byYmKG89MSk7dmFyIHI9e30sYT10LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaW5mb1wiKVswXSxoPXQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJjb21tb25cIilbMF07ci5mb250PWEuZ2V0QXR0cmlidXRlKFwiZmFjZVwiKSxyLnNpemU9cGFyc2VJbnQoYS5nZXRBdHRyaWJ1dGUoXCJzaXplXCIpLDEwKSxyLmxpbmVIZWlnaHQ9cGFyc2VJbnQoaC5nZXRBdHRyaWJ1dGUoXCJsaW5lSGVpZ2h0XCIpLDEwKStzLHIuY2hhcnM9e307Zm9yKHZhciBsPXQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJjaGFyXCIpLGM9bj9uLng6MCx1PW4/bi55OjAsZD0wO2Q8bC5sZW5ndGg7ZCsrKXt2YXIgcD1wYXJzZUludChsW2RdLmdldEF0dHJpYnV0ZShcImlkXCIpLDEwKTtyLmNoYXJzW3BdPXt4OmMrcGFyc2VJbnQobFtkXS5nZXRBdHRyaWJ1dGUoXCJ4XCIpLDEwKSx5OnUrcGFyc2VJbnQobFtkXS5nZXRBdHRyaWJ1dGUoXCJ5XCIpLDEwKSx3aWR0aDpwYXJzZUludChsW2RdLmdldEF0dHJpYnV0ZShcIndpZHRoXCIpLDEwKSxoZWlnaHQ6cGFyc2VJbnQobFtkXS5nZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIiksMTApLHhPZmZzZXQ6cGFyc2VJbnQobFtkXS5nZXRBdHRyaWJ1dGUoXCJ4b2Zmc2V0XCIpLDEwKS9vLHlPZmZzZXQ6cGFyc2VJbnQobFtkXS5nZXRBdHRyaWJ1dGUoXCJ5b2Zmc2V0XCIpLDEwKS9vLHhBZHZhbmNlOihwYXJzZUludChsW2RdLmdldEF0dHJpYnV0ZShcInhhZHZhbmNlXCIpLDEwKStpKS9vLGtlcm5pbmc6e319fXZhciBmPXQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJrZXJuaW5nXCIpO2ZvcihkPTA7ZDxmLmxlbmd0aDtkKyspe3ZhciBtPXBhcnNlSW50KGZbZF0uZ2V0QXR0cmlidXRlKFwiZmlyc3RcIiksMTApLGc9cGFyc2VJbnQoZltkXS5nZXRBdHRyaWJ1dGUoXCJzZWNvbmRcIiksMTApLHk9cGFyc2VJbnQoZltkXS5nZXRBdHRyaWJ1dGUoXCJhbW91bnRcIiksMTApL287ci5jaGFyc1tnXS5rZXJuaW5nW21dPXl9cmV0dXJuIHRoaXMuZmluYWxpemVCaXRtYXBGb250KGUscil9LGpzb25CaXRtYXBGb250OmZ1bmN0aW9uKHQsZSxpLHMsbixvKXtudWxsPT1vJiYobz0xKTt2YXIgcj17Zm9udDp0LmZvbnQuaW5mby5fZmFjZSxzaXplOnBhcnNlSW50KHQuZm9udC5pbmZvLl9zaXplLDEwKSxsaW5lSGVpZ2h0OnBhcnNlSW50KHQuZm9udC5jb21tb24uX2xpbmVIZWlnaHQsMTApK3MsY2hhcnM6e319LGE9bj9uLng6MCxoPW4/bi55OjA7cmV0dXJuIHQuZm9udC5jaGFycy5jaGFyLmZvckVhY2goZnVuY3Rpb24odCl7dmFyIGU9cGFyc2VJbnQodC5faWQsMTApO3IuY2hhcnNbZV09e3g6YStwYXJzZUludCh0Ll94LDEwKSx5OmgrcGFyc2VJbnQodC5feSwxMCksd2lkdGg6cGFyc2VJbnQodC5fd2lkdGgsMTApLGhlaWdodDpwYXJzZUludCh0Ll9oZWlnaHQsMTApLHhPZmZzZXQ6cGFyc2VJbnQodC5feG9mZnNldCwxMCkvbyx5T2Zmc2V0OnBhcnNlSW50KHQuX3lvZmZzZXQsMTApL28seEFkdmFuY2U6KHBhcnNlSW50KHQuX3hhZHZhbmNlLDEwKStpKS9vLGtlcm5pbmc6e319fSksdC5mb250Lmtlcm5pbmdzJiZ0LmZvbnQua2VybmluZ3Mua2VybmluZyYmdC5mb250Lmtlcm5pbmdzLmtlcm5pbmcuZm9yRWFjaChmdW5jdGlvbih0KXtyLmNoYXJzW3QuX3NlY29uZF0ua2VybmluZ1t0Ll9maXJzdF09cGFyc2VJbnQodC5fYW1vdW50LDEwKS9vfSksdGhpcy5maW5hbGl6ZUJpdG1hcEZvbnQoZSxyKX0sZmluYWxpemVCaXRtYXBGb250OmZ1bmN0aW9uKHQsZSl7cmV0dXJuIE9iamVjdC5rZXlzKGUuY2hhcnMpLmZvckVhY2goZnVuY3Rpb24ocyl7dmFyIG49ZS5jaGFyc1tzXTtuLnRleHR1cmU9bmV3IFBJWEkuVGV4dHVyZSh0LG5ldyBpLlJlY3RhbmdsZShuLngsbi55LG4ud2lkdGgsbi5oZWlnaHQpKX0pLGV9LHB2cjpmdW5jdGlvbih0KXt2YXIgZSxpPW5ldyBVaW50MzJBcnJheSh0LnNsaWNlKDAsNTIpKSxzPW5ldyBVaW50OEFycmF5KHQpLG49bnVsbCxvPWlbM108PDMyfGlbMl0scj0wO2lmKDU1NzI3Njk2PT09aVswXSYmWzAsMSwyLDMsNiw3LDksMTFdLmluZGV4T2Yobyk+PTApe3N3aXRjaChvPj0wJiZvPD0zP2U9XCJQVlJUQ1wiOm8+PTcmJm88PTExP2U9XCJTM1RDXCI6Nj09PW8mJihlPVwiRVRDMVwiKSxvKXtjYXNlIDA6cj0zNTg0MTticmVhaztjYXNlIDE6cj0zNTg0MzticmVhaztjYXNlIDI6cj0zNTg0MDticmVhaztjYXNlIDM6cj0zNTg0MjticmVhaztjYXNlIDY6cj0zNjE5NjticmVhaztjYXNlIDc6cj0zMzc3NzticmVhaztjYXNlIDk6cj0zMzc3ODticmVhaztjYXNlIDExOnI9MzM3Nzk7YnJlYWs7ZGVmYXVsdDpyPS0xfW49e2NvbXBsZXRlOiEwLGZpbGVGb3JtYXQ6XCJQVlJcIixjb21wcmVzc2lvbkFsZ29yaXRobTplLGZsYWdzOmlbMV0scGl4ZWxGb3JtYXQ6byxjb2xvclNwYWNlOmlbNF0sY2hhbm5lbFR5cGU6aVs1XSxoZWlnaHQ6aVs2XSx3aWR0aDppWzddLGRlcHRoOmlbOF0sbnVtYmVyT2ZTdXJmYWNlczppWzldLG51bWJlck9mRmFjZXM6aVsxMF0sbnVtYmVyT2ZNaXBtYXBzOmlbMTFdLG1ldGFEYXRhU2l6ZTppWzEyXSx0ZXh0dXJlRGF0YTpzLnN1YmFycmF5KDUyK2lbMTJdLHMuYnl0ZUxlbmd0aCksZ2xFeHRlbnNpb25Gb3JtYXQ6cn19cmV0dXJuIG59LGRkczpmdW5jdGlvbih0KXt2YXIgZT1uZXcgVWludDhBcnJheSh0KSxpPW5ldyBVaW50MzJBcnJheSh0KSxzPW51bGw7cmV0dXJuIDY4PT09ZVswXSYmNjg9PT1lWzFdJiY4Mz09PWVbMl0mJjMyPT09ZVszXSYmXCJEWDEwXCI9PT0ocz17Y29tcGxldGU6ITAsZmlsZUZvcm1hdDpcIkREU1wiLGNvbXByZXNzaW9uQWxnb3JpdGhtOlwiUzNUQ1wiLHNpemU6aVsxXSxmbGFnczppWzJdLGhlaWdodDppWzNdLHdpZHRoOmlbNF0scGl0Y2g6aVs1XSxkZXB0aDppWzZdLG1pcG1hcENvdW50OmlbN10sZm9ybWF0U2l6ZTppWzE5XSxmb3JtYXRGbGFnOmlbMTldLGZvcm1hdEZvdXJDQzpbU3RyaW5nLmZyb21DaGFyQ29kZShlWzg0XSksU3RyaW5nLmZyb21DaGFyQ29kZShlWzg1XSksU3RyaW5nLmZyb21DaGFyQ29kZShlWzg2XSksU3RyaW5nLmZyb21DaGFyQ29kZShlWzg3XSldLmpvaW4oXCJcIiksZm9ybWF0Qml0Q291bnQ6aVsyMV0sZm9ybWF0UkJpdE1hc2s6aVsyMl0sZm9ybWF0R0JpdE1hc2s6aVsyM10sZm9ybWF0QkJpdE1hc2s6aVsyNF0sZm9ybWF0QUJpdE1hc2s6aVsyNV0sY2FwczE6aVsyNl0sY2FwczI6aVsyN10sY2FwczM6aVsyOF0sY2FwczQ6aVsyOV0scmVzZXJ2ZWQyOmlbMzBdLERYR0lGb3JtYXQ6bnVsbCxyZXNvdXJjZURpbWVuc2lvbjpudWxsLG1pc2NGbGFnOm51bGwsYXJyYXlTaXplOm51bGwsdGV4dHVyZURhdGE6ZS5zdWJhcnJheShpWzFdKzQsZS5ieXRlTGVuZ3RoKX0pLmZvcm1hdEZvdXJDQyYmKHMuRFhHSUZvcm1hdD1pWzMxXSxzLnJlc291cmNlRGltZW5zaW9uPWlbMzJdLHMubWlzY0ZsYWc9aVszM10scy5hcnJheVNpemU9aVszNF0scy5taXNjRmxhZz1pWzM1XSksc30sa3R4OmZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBVaW50OEFycmF5KHQpLGk9bmV3IFVpbnQzMkFycmF5KHQpLHM9bnVsbCxuPTE2K2lbMTVdLzR8MCxvPWlbbl0scj1pWzddLGE9MDtpZigxNzE9PT1lWzBdJiY3NT09PWVbMV0mJjg0PT09ZVsyXSYmODg9PT1lWzNdJiYzMj09PWVbNF0mJjQ5PT09ZVs1XSYmNDk9PT1lWzZdJiYxODc9PT1lWzddJiYxMz09PWVbOF0mJjEwPT09ZVs5XSYmMjY9PT1lWzEwXSYmMTA9PT1lWzExXSYmWzM2MTk2LDM1ODQwLDM1ODQxLDM1ODQyLDM1ODQzLDMzNzc2LDMzNzc3LDMzNzc4LDMzNzc5XS5pbmRleE9mKHIpPj0wKXtzd2l0Y2gocil7Y2FzZSAzNjE5NjphPVwiRVRDMVwiO2JyZWFrO2Nhc2UgMzU4NDA6Y2FzZSAzNTg0MTpjYXNlIDM1ODQyOmNhc2UgMzU4NDM6YT1cIlBWUlRDXCI7YnJlYWs7Y2FzZSAzMzc3NjpjYXNlIDMzNzc3OmNhc2UgMzM3Nzg6Y2FzZSAzMzc3OTphPVwiUzNUQ1wifXM9e2NvbXBsZXRlOiEwLGZpbGVGb3JtYXQ6XCJLVFhcIixjb21wcmVzc2lvbkFsZ29yaXRobTphLGVuZGlhbm5lc3M6aVszXSxnbFR5cGU6aVs0XSxnbFR5cGVTaXplOmlbNV0sZ2xGb3JtYXQ6aVs2XSxnbEludGVybmFsRm9ybWF0OmlbN10sZ2xCYXNlSW50ZXJuYWxGb3JtYXQ6aVs4XSx3aWR0aDppWzldLGhlaWdodDppWzEwXSxwaXhlbERlcHRoOmlbMTFdLG51bWJlck9mQXJyYXlFbGVtZW50czppWzEyXSxudW1iZXJPZkZhY2VzOmlbMTNdLG51bWJlck9mTWlwbWFwTGV2ZWxzOmlbMTRdLGJ5dGVzT2ZLZXlWYWx1ZURhdGE6aVsxNV0sa2V5QW5kVmFsdWVCeXRlU2l6ZTppWzE2XSxpbWFnZVNpemU6byx0ZXh0dXJlRGF0YTplLnN1YmFycmF5KDQqKG4rMSksbysxMDApfX1yZXR1cm4gc30scGttOmZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBVaW50OEFycmF5KHQpLGk9bnVsbDtyZXR1cm4gODA9PT1lWzBdJiY3NT09PWVbMV0mJjc3PT09ZVsyXSYmMzI9PT1lWzNdJiYoaT17Y29tcGxldGU6ITAsZmlsZUZvcm1hdDpcIlBLTVwiLGNvbXByZXNzaW9uQWxnb3JpdGhtOlwiRVRDMVwiLGZvcm1hdDo2NTUzNSYoZVs2XTw8OHxlWzddKSx3aWR0aDo2NTUzNSYoZVs4XTw8OHxlWzldKSxoZWlnaHQ6NjU1MzUmKGVbMTBdPDw4fGVbMTFdKSxvcmlnaW5hbFdpZHRoOjY1NTM1JihlWzEyXTw8OHxlWzEzXSksb3JpZ2luYWxIZWlnaHQ6NjU1MzUmKGVbMTRdPDw4fGVbMTVdKSx0ZXh0dXJlRGF0YTplLnN1YmFycmF5KDE2LGUubGVuZ3RoKX0pLGl9fSxpLkF1ZGlvU3ByaXRlPWZ1bmN0aW9uKHQsZSl7dGhpcy5nYW1lPXQsdGhpcy5rZXk9ZSx0aGlzLmNvbmZpZz10aGlzLmdhbWUuY2FjaGUuZ2V0SlNPTihlK1wiLWF1ZGlvYXRsYXNcIiksdGhpcy5hdXRvcGxheUtleT1udWxsLHRoaXMuYXV0b3BsYXk9ITEsdGhpcy5zb3VuZHM9e307Zm9yKHZhciBpIGluIHRoaXMuY29uZmlnLnNwcml0ZW1hcCl7dmFyIHM9dGhpcy5jb25maWcuc3ByaXRlbWFwW2ldLG49dGhpcy5nYW1lLmFkZC5zb3VuZCh0aGlzLmtleSk7bi5hZGRNYXJrZXIoaSxzLnN0YXJ0LHMuZW5kLXMuc3RhcnQsbnVsbCxzLmxvb3ApLHRoaXMuc291bmRzW2ldPW59dGhpcy5jb25maWcuYXV0b3BsYXkmJih0aGlzLmF1dG9wbGF5S2V5PXRoaXMuY29uZmlnLmF1dG9wbGF5LHRoaXMucGxheSh0aGlzLmF1dG9wbGF5S2V5KSx0aGlzLmF1dG9wbGF5PXRoaXMuc291bmRzW3RoaXMuYXV0b3BsYXlLZXldKX0saS5BdWRpb1Nwcml0ZS5wcm90b3R5cGU9e3BsYXk6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9MSksdGhpcy5zb3VuZHNbdF0ucGxheSh0LG51bGwsZSl9LHN0b3A6ZnVuY3Rpb24odCl7aWYodCl0aGlzLnNvdW5kc1t0XS5zdG9wKCk7ZWxzZSBmb3IodmFyIGUgaW4gdGhpcy5zb3VuZHMpdGhpcy5zb3VuZHNbZV0uc3RvcCgpfSxnZXQ6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuc291bmRzW3RdfX0saS5BdWRpb1Nwcml0ZS5wcm90b3R5cGUuY29uc3RydWN0b3I9aS5BdWRpb1Nwcml0ZSxpLlNvdW5kPWZ1bmN0aW9uKHQsZSxzLG4sbyl7dm9pZCAwPT09cyYmKHM9MSksdm9pZCAwPT09biYmKG49ITEpLHZvaWQgMD09PW8mJihvPXQuc291bmQuY29ubmVjdFRvTWFzdGVyKSx0aGlzLmdhbWU9dCx0aGlzLm5hbWU9ZSx0aGlzLmtleT1lLHRoaXMubG9vcD1uLHRoaXMubWFya2Vycz17fSx0aGlzLmNvbnRleHQ9bnVsbCx0aGlzLmF1dG9wbGF5PSExLHRoaXMudG90YWxEdXJhdGlvbj0wLHRoaXMuc3RhcnRUaW1lPTAsdGhpcy5jdXJyZW50VGltZT0wLHRoaXMuZHVyYXRpb249MCx0aGlzLmR1cmF0aW9uTVM9MCx0aGlzLnBvc2l0aW9uPTAsdGhpcy5zdG9wVGltZT0wLHRoaXMucGF1c2VkPSExLHRoaXMucGF1c2VkUG9zaXRpb249MCx0aGlzLnBhdXNlZFRpbWU9MCx0aGlzLmlzUGxheWluZz0hMSx0aGlzLmN1cnJlbnRNYXJrZXI9XCJcIix0aGlzLmZhZGVUd2Vlbj1udWxsLHRoaXMucGVuZGluZ1BsYXliYWNrPSExLHRoaXMub3ZlcnJpZGU9ITEsdGhpcy5hbGxvd011bHRpcGxlPSExLHRoaXMudXNpbmdXZWJBdWRpbz10aGlzLmdhbWUuc291bmQudXNpbmdXZWJBdWRpbyx0aGlzLnVzaW5nQXVkaW9UYWc9dGhpcy5nYW1lLnNvdW5kLnVzaW5nQXVkaW9UYWcsdGhpcy5leHRlcm5hbE5vZGU9bnVsbCx0aGlzLm1hc3RlckdhaW5Ob2RlPW51bGwsdGhpcy5nYWluTm9kZT1udWxsLHRoaXMuX3NvdW5kPW51bGwsdGhpcy5fZ2xvYmFsVm9sdW1lPTEsdGhpcy5fbWFya2VkVG9EZWxldGU9ITEsdGhpcy5fcmVtb3ZlRnJvbVNvdW5kTWFuYWdlcj0hMSx0aGlzLnVzaW5nV2ViQXVkaW8/KHRoaXMuY29udGV4dD10aGlzLmdhbWUuc291bmQuY29udGV4dCx0aGlzLm1hc3RlckdhaW5Ob2RlPXRoaXMuZ2FtZS5zb3VuZC5tYXN0ZXJHYWluLHZvaWQgMD09PXRoaXMuY29udGV4dC5jcmVhdGVHYWluP3RoaXMuZ2Fpbk5vZGU9dGhpcy5jb250ZXh0LmNyZWF0ZUdhaW5Ob2RlKCk6dGhpcy5nYWluTm9kZT10aGlzLmNvbnRleHQuY3JlYXRlR2FpbigpLHRoaXMuZ2Fpbk5vZGUuZ2Fpbi52YWx1ZT1zKnRoaXMuZ2FtZS5zb3VuZC52b2x1bWUsbyYmdGhpcy5nYWluTm9kZS5jb25uZWN0KHRoaXMubWFzdGVyR2Fpbk5vZGUpKTp0aGlzLnVzaW5nQXVkaW9UYWcmJih0aGlzLmdhbWUuY2FjaGUuZ2V0U291bmQoZSkmJnRoaXMuZ2FtZS5jYWNoZS5pc1NvdW5kUmVhZHkoZSk/KHRoaXMuX3NvdW5kPXRoaXMuZ2FtZS5jYWNoZS5nZXRTb3VuZERhdGEoZSksdGhpcy50b3RhbER1cmF0aW9uPTAsdGhpcy5fc291bmQuZHVyYXRpb24mJih0aGlzLnRvdGFsRHVyYXRpb249dGhpcy5fc291bmQuZHVyYXRpb24pKTp0aGlzLmdhbWUuY2FjaGUub25Tb3VuZFVubG9jay5hZGQodGhpcy5zb3VuZEhhc1VubG9ja2VkLHRoaXMpKSx0aGlzLm9uRGVjb2RlZD1uZXcgaS5TaWduYWwsdGhpcy5vblBsYXk9bmV3IGkuU2lnbmFsLHRoaXMub25QYXVzZT1uZXcgaS5TaWduYWwsdGhpcy5vblJlc3VtZT1uZXcgaS5TaWduYWwsdGhpcy5vbkxvb3A9bmV3IGkuU2lnbmFsLHRoaXMub25TdG9wPW5ldyBpLlNpZ25hbCx0aGlzLm9uTXV0ZT1uZXcgaS5TaWduYWwsdGhpcy5vbk1hcmtlckNvbXBsZXRlPW5ldyBpLlNpZ25hbCx0aGlzLm9uRmFkZUNvbXBsZXRlPW5ldyBpLlNpZ25hbCx0aGlzLl92b2x1bWU9cyx0aGlzLl9idWZmZXI9bnVsbCx0aGlzLl9tdXRlZD0hMSx0aGlzLl90ZW1wTWFya2VyPTAsdGhpcy5fdGVtcFBvc2l0aW9uPTAsdGhpcy5fdGVtcFZvbHVtZT0wLHRoaXMuX3RlbXBQYXVzZT0wLHRoaXMuX211dGVWb2x1bWU9MCx0aGlzLl90ZW1wTG9vcD0wLHRoaXMuX3BhdXNlZD0hMSx0aGlzLl9vbkRlY29kZWRFdmVudERpc3BhdGNoZWQ9ITF9LGkuU291bmQucHJvdG90eXBlPXtzb3VuZEhhc1VubG9ja2VkOmZ1bmN0aW9uKHQpe3Q9PT10aGlzLmtleSYmKHRoaXMuX3NvdW5kPXRoaXMuZ2FtZS5jYWNoZS5nZXRTb3VuZERhdGEodGhpcy5rZXkpLHRoaXMudG90YWxEdXJhdGlvbj10aGlzLl9zb3VuZC5kdXJhdGlvbil9LGFkZE1hcmtlcjpmdW5jdGlvbih0LGUsaSxzLG4pe3ZvaWQgMCE9PWkmJm51bGwhPT1pfHwoaT0xKSx2b2lkIDAhPT1zJiZudWxsIT09c3x8KHM9MSksdm9pZCAwPT09biYmKG49ITEpLHRoaXMubWFya2Vyc1t0XT17bmFtZTp0LHN0YXJ0OmUsc3RvcDplK2ksdm9sdW1lOnMsZHVyYXRpb246aSxkdXJhdGlvbk1TOjFlMyppLGxvb3A6bn19LHJlbW92ZU1hcmtlcjpmdW5jdGlvbih0KXtkZWxldGUgdGhpcy5tYXJrZXJzW3RdfSxvbkVuZGVkSGFuZGxlcjpmdW5jdGlvbigpe3RoaXMuX3NvdW5kLm9uZW5kZWQ9bnVsbCx0aGlzLmlzUGxheWluZz0hMSx0aGlzLmN1cnJlbnRUaW1lPXRoaXMuZHVyYXRpb25NUyx0aGlzLnN0b3AoKSx0aGlzLl9tYXJrZWRUb0RlbGV0ZSYmKHRoaXMuZXh0ZXJuYWxOb2RlP3RoaXMuX3NvdW5kLmRpc2Nvbm5lY3QodGhpcy5leHRlcm5hbE5vZGUpOnRoaXMuZ2Fpbk5vZGUmJnRoaXMuX3NvdW5kLmRpc2Nvbm5lY3QodGhpcy5nYWluTm9kZSksdGhpcy5fcmVtb3ZlRnJvbVNvdW5kTWFuYWdlcj90aGlzLmdhbWUuc291bmQucmVtb3ZlKHRoaXMpOih0aGlzLm1hcmtlcnM9e30sdGhpcy5jb250ZXh0PW51bGwsdGhpcy5fYnVmZmVyPW51bGwsdGhpcy5leHRlcm5hbE5vZGU9bnVsbCx0aGlzLm9uRGVjb2RlZC5kaXNwb3NlKCksdGhpcy5vblBsYXkuZGlzcG9zZSgpLHRoaXMub25QYXVzZS5kaXNwb3NlKCksdGhpcy5vblJlc3VtZS5kaXNwb3NlKCksdGhpcy5vbkxvb3AuZGlzcG9zZSgpLHRoaXMub25TdG9wLmRpc3Bvc2UoKSx0aGlzLm9uTXV0ZS5kaXNwb3NlKCksdGhpcy5vbk1hcmtlckNvbXBsZXRlLmRpc3Bvc2UoKSkpfSx1cGRhdGU6ZnVuY3Rpb24oKXt0aGlzLmdhbWUuY2FjaGUuY2hlY2tTb3VuZEtleSh0aGlzLmtleSk/KHRoaXMuaXNEZWNvZGVkJiYhdGhpcy5fb25EZWNvZGVkRXZlbnREaXNwYXRjaGVkJiYodGhpcy5vbkRlY29kZWQuZGlzcGF0Y2godGhpcyksdGhpcy5fb25EZWNvZGVkRXZlbnREaXNwYXRjaGVkPSEwKSx0aGlzLnBlbmRpbmdQbGF5YmFjayYmdGhpcy5nYW1lLmNhY2hlLmlzU291bmRSZWFkeSh0aGlzLmtleSkmJih0aGlzLnBlbmRpbmdQbGF5YmFjaz0hMSx0aGlzLnBsYXkodGhpcy5fdGVtcE1hcmtlcix0aGlzLl90ZW1wUG9zaXRpb24sdGhpcy5fdGVtcFZvbHVtZSx0aGlzLl90ZW1wTG9vcCkpLHRoaXMuaXNQbGF5aW5nJiYodGhpcy5jdXJyZW50VGltZT10aGlzLmdhbWUudGltZS50aW1lLXRoaXMuc3RhcnRUaW1lLHRoaXMuY3VycmVudFRpbWU+PXRoaXMuZHVyYXRpb25NUyYmKHRoaXMudXNpbmdXZWJBdWRpbz90aGlzLmxvb3A/KHRoaXMub25Mb29wLmRpc3BhdGNoKHRoaXMpLHRoaXMuaXNQbGF5aW5nPSExLFwiXCI9PT10aGlzLmN1cnJlbnRNYXJrZXI/KHRoaXMuY3VycmVudFRpbWU9MCx0aGlzLnN0YXJ0VGltZT10aGlzLmdhbWUudGltZS50aW1lLHRoaXMuaXNQbGF5aW5nPSEwKToodGhpcy5vbk1hcmtlckNvbXBsZXRlLmRpc3BhdGNoKHRoaXMuY3VycmVudE1hcmtlcix0aGlzKSx0aGlzLnBsYXkodGhpcy5jdXJyZW50TWFya2VyLDAsdGhpcy52b2x1bWUsITAsITApKSk6XCJcIiE9PXRoaXMuY3VycmVudE1hcmtlciYmdGhpcy5zdG9wKCk6dGhpcy5sb29wPyh0aGlzLm9uTG9vcC5kaXNwYXRjaCh0aGlzKSxcIlwiPT09dGhpcy5jdXJyZW50TWFya2VyJiYodGhpcy5jdXJyZW50VGltZT0wLHRoaXMuc3RhcnRUaW1lPXRoaXMuZ2FtZS50aW1lLnRpbWUpLHRoaXMuaXNQbGF5aW5nPSExLHRoaXMucGxheSh0aGlzLmN1cnJlbnRNYXJrZXIsMCx0aGlzLnZvbHVtZSwhMCwhMCkpOnRoaXMuc3RvcCgpKSkpOnRoaXMuZGVzdHJveSgpfSxsb29wRnVsbDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5wbGF5KG51bGwsMCx0LCEwKX0scGxheTpmdW5jdGlvbih0LGUsaSxzLG4pe2lmKHZvaWQgMCE9PXQmJiExIT09dCYmbnVsbCE9PXR8fCh0PVwiXCIpLHZvaWQgMD09PW4mJihuPSEwKSx0aGlzLmlzUGxheWluZyYmIXRoaXMuYWxsb3dNdWx0aXBsZSYmIW4mJiF0aGlzLm92ZXJyaWRlKXJldHVybiB0aGlzO2lmKHRoaXMuX3NvdW5kJiZ0aGlzLmlzUGxheWluZyYmIXRoaXMuYWxsb3dNdWx0aXBsZSYmKHRoaXMub3ZlcnJpZGV8fG4pKXtpZih0aGlzLnVzaW5nV2ViQXVkaW8pe2lmKHZvaWQgMD09PXRoaXMuX3NvdW5kLnN0b3ApdGhpcy5fc291bmQubm90ZU9mZigwKTtlbHNlIHRyeXt0aGlzLl9zb3VuZC5zdG9wKDApfWNhdGNoKHQpe310aGlzLmV4dGVybmFsTm9kZT90aGlzLl9zb3VuZC5kaXNjb25uZWN0KHRoaXMuZXh0ZXJuYWxOb2RlKTp0aGlzLmdhaW5Ob2RlJiZ0aGlzLl9zb3VuZC5kaXNjb25uZWN0KHRoaXMuZ2Fpbk5vZGUpfWVsc2UgdGhpcy51c2luZ0F1ZGlvVGFnJiYodGhpcy5fc291bmQucGF1c2UoKSx0aGlzLl9zb3VuZC5jdXJyZW50VGltZT0wKTt0aGlzLmlzUGxheWluZz0hMX1pZihcIlwiPT09dCYmT2JqZWN0LmtleXModGhpcy5tYXJrZXJzKS5sZW5ndGg+MClyZXR1cm4gdGhpcztpZihcIlwiIT09dCl7aWYoIXRoaXMubWFya2Vyc1t0XSlyZXR1cm4gY29uc29sZS53YXJuKFwiUGhhc2VyLlNvdW5kLnBsYXk6IGF1ZGlvIG1hcmtlciBcIit0K1wiIGRvZXNuJ3QgZXhpc3RcIiksdGhpczt0aGlzLmN1cnJlbnRNYXJrZXI9dCx0aGlzLnBvc2l0aW9uPXRoaXMubWFya2Vyc1t0XS5zdGFydCx0aGlzLnZvbHVtZT10aGlzLm1hcmtlcnNbdF0udm9sdW1lLHRoaXMubG9vcD10aGlzLm1hcmtlcnNbdF0ubG9vcCx0aGlzLmR1cmF0aW9uPXRoaXMubWFya2Vyc1t0XS5kdXJhdGlvbix0aGlzLmR1cmF0aW9uTVM9dGhpcy5tYXJrZXJzW3RdLmR1cmF0aW9uTVMsdm9pZCAwIT09aSYmKHRoaXMudm9sdW1lPWkpLHZvaWQgMCE9PXMmJih0aGlzLmxvb3A9cyksdGhpcy5fdGVtcE1hcmtlcj10LHRoaXMuX3RlbXBQb3NpdGlvbj10aGlzLnBvc2l0aW9uLHRoaXMuX3RlbXBWb2x1bWU9dGhpcy52b2x1bWUsdGhpcy5fdGVtcExvb3A9dGhpcy5sb29wfWVsc2UgZT1lfHwwLHZvaWQgMD09PWkmJihpPXRoaXMuX3ZvbHVtZSksdm9pZCAwPT09cyYmKHM9dGhpcy5sb29wKSx0aGlzLnBvc2l0aW9uPU1hdGgubWF4KDAsZSksdGhpcy52b2x1bWU9aSx0aGlzLmxvb3A9cyx0aGlzLmR1cmF0aW9uPTAsdGhpcy5kdXJhdGlvbk1TPTAsdGhpcy5fdGVtcE1hcmtlcj10LHRoaXMuX3RlbXBQb3NpdGlvbj1lLHRoaXMuX3RlbXBWb2x1bWU9aSx0aGlzLl90ZW1wTG9vcD1zO3JldHVybiB0aGlzLnVzaW5nV2ViQXVkaW8/dGhpcy5nYW1lLmNhY2hlLmlzU291bmREZWNvZGVkKHRoaXMua2V5KT8odGhpcy5fc291bmQ9dGhpcy5jb250ZXh0LmNyZWF0ZUJ1ZmZlclNvdXJjZSgpLHRoaXMuZXh0ZXJuYWxOb2RlP3RoaXMuX3NvdW5kLmNvbm5lY3QodGhpcy5leHRlcm5hbE5vZGUpOnRoaXMuX3NvdW5kLmNvbm5lY3QodGhpcy5nYWluTm9kZSksdGhpcy5fYnVmZmVyPXRoaXMuZ2FtZS5jYWNoZS5nZXRTb3VuZERhdGEodGhpcy5rZXkpLHRoaXMuX3NvdW5kLmJ1ZmZlcj10aGlzLl9idWZmZXIsdGhpcy5sb29wJiZcIlwiPT09dCYmKHRoaXMuX3NvdW5kLmxvb3A9ITApLHRoaXMubG9vcHx8XCJcIiE9PXR8fCh0aGlzLl9zb3VuZC5vbmVuZGVkPXRoaXMub25FbmRlZEhhbmRsZXIuYmluZCh0aGlzKSksdGhpcy50b3RhbER1cmF0aW9uPXRoaXMuX3NvdW5kLmJ1ZmZlci5kdXJhdGlvbiwwPT09dGhpcy5kdXJhdGlvbiYmKHRoaXMuZHVyYXRpb249dGhpcy50b3RhbER1cmF0aW9uLHRoaXMuZHVyYXRpb25NUz1NYXRoLmNlaWwoMWUzKnRoaXMudG90YWxEdXJhdGlvbikpLHZvaWQgMD09PXRoaXMuX3NvdW5kLnN0YXJ0P3RoaXMuX3NvdW5kLm5vdGVHcmFpbk9uKDAsdGhpcy5wb3NpdGlvbix0aGlzLmR1cmF0aW9uKTp0aGlzLmxvb3AmJlwiXCI9PT10P3RoaXMuX3NvdW5kLnN0YXJ0KDAsMCk6dGhpcy5fc291bmQuc3RhcnQoMCx0aGlzLnBvc2l0aW9uLHRoaXMuZHVyYXRpb24pLHRoaXMuaXNQbGF5aW5nPSEwLHRoaXMuc3RhcnRUaW1lPXRoaXMuZ2FtZS50aW1lLnRpbWUsdGhpcy5jdXJyZW50VGltZT0wLHRoaXMuc3RvcFRpbWU9dGhpcy5zdGFydFRpbWUrdGhpcy5kdXJhdGlvbk1TLHRoaXMub25QbGF5LmRpc3BhdGNoKHRoaXMpKToodGhpcy5wZW5kaW5nUGxheWJhY2s9ITAsdGhpcy5nYW1lLmNhY2hlLmdldFNvdW5kKHRoaXMua2V5KSYmITE9PT10aGlzLmdhbWUuY2FjaGUuZ2V0U291bmQodGhpcy5rZXkpLmlzRGVjb2RpbmcmJnRoaXMuZ2FtZS5zb3VuZC5kZWNvZGUodGhpcy5rZXksdGhpcykpOnRoaXMuZ2FtZS5jYWNoZS5nZXRTb3VuZCh0aGlzLmtleSkmJnRoaXMuZ2FtZS5jYWNoZS5nZXRTb3VuZCh0aGlzLmtleSkubG9ja2VkPyh0aGlzLmdhbWUuY2FjaGUucmVsb2FkU291bmQodGhpcy5rZXkpLHRoaXMucGVuZGluZ1BsYXliYWNrPSEwKTp0aGlzLl9zb3VuZCYmKHRoaXMuZ2FtZS5kZXZpY2UuY29jb29uSlN8fDQ9PT10aGlzLl9zb3VuZC5yZWFkeVN0YXRlKT8odGhpcy5fc291bmQucGxheSgpLHRoaXMudG90YWxEdXJhdGlvbj10aGlzLl9zb3VuZC5kdXJhdGlvbiwwPT09dGhpcy5kdXJhdGlvbiYmKHRoaXMuZHVyYXRpb249dGhpcy50b3RhbER1cmF0aW9uLHRoaXMuZHVyYXRpb25NUz0xZTMqdGhpcy50b3RhbER1cmF0aW9uKSx0aGlzLl9zb3VuZC5jdXJyZW50VGltZT10aGlzLnBvc2l0aW9uLHRoaXMuX3NvdW5kLm11dGVkPXRoaXMuX211dGVkLHRoaXMuX211dGVkfHx0aGlzLmdhbWUuc291bmQubXV0ZT90aGlzLl9zb3VuZC52b2x1bWU9MDp0aGlzLl9zb3VuZC52b2x1bWU9dGhpcy5fdm9sdW1lLHRoaXMuaXNQbGF5aW5nPSEwLHRoaXMuc3RhcnRUaW1lPXRoaXMuZ2FtZS50aW1lLnRpbWUsdGhpcy5jdXJyZW50VGltZT0wLHRoaXMuc3RvcFRpbWU9dGhpcy5zdGFydFRpbWUrdGhpcy5kdXJhdGlvbk1TLHRoaXMub25QbGF5LmRpc3BhdGNoKHRoaXMpKTp0aGlzLnBlbmRpbmdQbGF5YmFjaz0hMCx0aGlzfSxyZXN0YXJ0OmZ1bmN0aW9uKHQsZSxpLHMpe3Q9dHx8XCJcIixlPWV8fDAsaT1pfHwxLHZvaWQgMD09PXMmJihzPSExKSx0aGlzLnBsYXkodCxlLGkscywhMCl9LHBhdXNlOmZ1bmN0aW9uKCl7dGhpcy5pc1BsYXlpbmcmJnRoaXMuX3NvdW5kJiYodGhpcy5wYXVzZWQ9ITAsdGhpcy5wYXVzZWRQb3NpdGlvbj10aGlzLmN1cnJlbnRUaW1lLHRoaXMucGF1c2VkVGltZT10aGlzLmdhbWUudGltZS50aW1lLHRoaXMuX3RlbXBQYXVzZT10aGlzLl9zb3VuZC5jdXJyZW50VGltZSx0aGlzLm9uUGF1c2UuZGlzcGF0Y2godGhpcyksdGhpcy5zdG9wKCkpfSxyZXN1bWU6ZnVuY3Rpb24oKXtpZih0aGlzLnBhdXNlZCYmdGhpcy5fc291bmQpe2lmKHRoaXMudXNpbmdXZWJBdWRpbyl7dmFyIHQ9TWF0aC5tYXgoMCx0aGlzLnBvc2l0aW9uK3RoaXMucGF1c2VkUG9zaXRpb24vMWUzKTt0aGlzLl9zb3VuZD10aGlzLmNvbnRleHQuY3JlYXRlQnVmZmVyU291cmNlKCksdGhpcy5fc291bmQuYnVmZmVyPXRoaXMuX2J1ZmZlcix0aGlzLmV4dGVybmFsTm9kZT90aGlzLl9zb3VuZC5jb25uZWN0KHRoaXMuZXh0ZXJuYWxOb2RlKTp0aGlzLl9zb3VuZC5jb25uZWN0KHRoaXMuZ2Fpbk5vZGUpLHRoaXMubG9vcCYmKHRoaXMuX3NvdW5kLmxvb3A9ITApLHRoaXMubG9vcHx8XCJcIiE9PXRoaXMuY3VycmVudE1hcmtlcnx8KHRoaXMuX3NvdW5kLm9uZW5kZWQ9dGhpcy5vbkVuZGVkSGFuZGxlci5iaW5kKHRoaXMpKTt2YXIgZT10aGlzLmR1cmF0aW9uLXRoaXMucGF1c2VkUG9zaXRpb24vMWUzO3ZvaWQgMD09PXRoaXMuX3NvdW5kLnN0YXJ0P3RoaXMuX3NvdW5kLm5vdGVHcmFpbk9uKDAsdCxlKTp0aGlzLmxvb3AmJnRoaXMuZ2FtZS5kZXZpY2UuY2hyb21lPzQyPT09dGhpcy5nYW1lLmRldmljZS5jaHJvbWVWZXJzaW9uP3RoaXMuX3NvdW5kLnN0YXJ0KDApOnRoaXMuX3NvdW5kLnN0YXJ0KDAsdCk6dGhpcy5fc291bmQuc3RhcnQoMCx0LGUpfWVsc2UgdGhpcy5fc291bmQuY3VycmVudFRpbWU9dGhpcy5fdGVtcFBhdXNlLHRoaXMuX3NvdW5kLnBsYXkoKTt0aGlzLmlzUGxheWluZz0hMCx0aGlzLnBhdXNlZD0hMSx0aGlzLnN0YXJ0VGltZSs9dGhpcy5nYW1lLnRpbWUudGltZS10aGlzLnBhdXNlZFRpbWUsdGhpcy5vblJlc3VtZS5kaXNwYXRjaCh0aGlzKX19LHN0b3A6ZnVuY3Rpb24oKXtpZih0aGlzLmlzUGxheWluZyYmdGhpcy5fc291bmQpaWYodGhpcy51c2luZ1dlYkF1ZGlvKXtpZih2b2lkIDA9PT10aGlzLl9zb3VuZC5zdG9wKXRoaXMuX3NvdW5kLm5vdGVPZmYoMCk7ZWxzZSB0cnl7dGhpcy5fc291bmQuc3RvcCgwKX1jYXRjaCh0KXt9dGhpcy5leHRlcm5hbE5vZGU/dGhpcy5fc291bmQuZGlzY29ubmVjdCh0aGlzLmV4dGVybmFsTm9kZSk6dGhpcy5nYWluTm9kZSYmdGhpcy5fc291bmQuZGlzY29ubmVjdCh0aGlzLmdhaW5Ob2RlKX1lbHNlIHRoaXMudXNpbmdBdWRpb1RhZyYmKHRoaXMuX3NvdW5kLnBhdXNlKCksdGhpcy5fc291bmQuY3VycmVudFRpbWU9MCk7aWYodGhpcy5wZW5kaW5nUGxheWJhY2s9ITEsdGhpcy5pc1BsYXlpbmc9ITEsIXRoaXMucGF1c2VkKXt2YXIgdD10aGlzLmN1cnJlbnRNYXJrZXI7XCJcIiE9PXRoaXMuY3VycmVudE1hcmtlciYmdGhpcy5vbk1hcmtlckNvbXBsZXRlLmRpc3BhdGNoKHRoaXMuY3VycmVudE1hcmtlcix0aGlzKSx0aGlzLmN1cnJlbnRNYXJrZXI9XCJcIixudWxsIT09dGhpcy5mYWRlVHdlZW4mJnRoaXMuZmFkZVR3ZWVuLnN0b3AoKSx0aGlzLm9uU3RvcC5kaXNwYXRjaCh0aGlzLHQpfX0sZmFkZUluOmZ1bmN0aW9uKHQsZSxpKXt2b2lkIDA9PT1lJiYoZT0hMSksdm9pZCAwPT09aSYmKGk9dGhpcy5jdXJyZW50TWFya2VyKSx0aGlzLnBhdXNlZHx8KHRoaXMucGxheShpLDAsMCxlKSx0aGlzLmZhZGVUbyh0LDEpKX0sZmFkZU91dDpmdW5jdGlvbih0KXt0aGlzLmZhZGVUbyh0LDApfSxmYWRlVG86ZnVuY3Rpb24odCxlKXt0aGlzLmlzUGxheWluZyYmIXRoaXMucGF1c2VkJiZlIT09dGhpcy52b2x1bWUmJih2b2lkIDA9PT10JiYodD0xZTMpLHZvaWQgMCE9PWU/KHRoaXMuZmFkZVR3ZWVuPXRoaXMuZ2FtZS5hZGQudHdlZW4odGhpcykudG8oe3ZvbHVtZTplfSx0LGkuRWFzaW5nLkxpbmVhci5Ob25lLCEwKSx0aGlzLmZhZGVUd2Vlbi5vbkNvbXBsZXRlLmFkZCh0aGlzLmZhZGVDb21wbGV0ZSx0aGlzKSk6Y29uc29sZS53YXJuKFwiUGhhc2VyLlNvdW5kLmZhZGVUbzogTm8gVm9sdW1lIFNwZWNpZmllZC5cIikpfSxmYWRlQ29tcGxldGU6ZnVuY3Rpb24oKXt0aGlzLm9uRmFkZUNvbXBsZXRlLmRpc3BhdGNoKHRoaXMsdGhpcy52b2x1bWUpLDA9PT10aGlzLnZvbHVtZSYmdGhpcy5zdG9wKCl9LHVwZGF0ZUdsb2JhbFZvbHVtZTpmdW5jdGlvbih0KXt0aGlzLnVzaW5nQXVkaW9UYWcmJnRoaXMuX3NvdW5kJiYodGhpcy5fZ2xvYmFsVm9sdW1lPXQsdGhpcy5fc291bmQudm9sdW1lPXRoaXMuX2dsb2JhbFZvbHVtZSp0aGlzLl92b2x1bWUpfSxkZXN0cm95OmZ1bmN0aW9uKHQpe3ZvaWQgMD09PXQmJih0PSEwKSx0aGlzLl9tYXJrZWRUb0RlbGV0ZT0hMCx0aGlzLl9yZW1vdmVGcm9tU291bmRNYW5hZ2VyPXQsdGhpcy5zdG9wKCksdD90aGlzLmdhbWUuc291bmQucmVtb3ZlKHRoaXMpOih0aGlzLm1hcmtlcnM9e30sdGhpcy5jb250ZXh0PW51bGwsdGhpcy5fYnVmZmVyPW51bGwsdGhpcy5leHRlcm5hbE5vZGU9bnVsbCx0aGlzLm9uRGVjb2RlZC5kaXNwb3NlKCksdGhpcy5vblBsYXkuZGlzcG9zZSgpLHRoaXMub25QYXVzZS5kaXNwb3NlKCksdGhpcy5vblJlc3VtZS5kaXNwb3NlKCksdGhpcy5vbkxvb3AuZGlzcG9zZSgpLHRoaXMub25TdG9wLmRpc3Bvc2UoKSx0aGlzLm9uTXV0ZS5kaXNwb3NlKCksdGhpcy5vbk1hcmtlckNvbXBsZXRlLmRpc3Bvc2UoKSl9fSxpLlNvdW5kLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1pLlNvdW5kLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLlNvdW5kLnByb3RvdHlwZSxcImlzRGVjb2RpbmdcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2FtZS5jYWNoZS5nZXRTb3VuZCh0aGlzLmtleSkuaXNEZWNvZGluZ319KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5Tb3VuZC5wcm90b3R5cGUsXCJpc0RlY29kZWRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2FtZS5jYWNoZS5pc1NvdW5kRGVjb2RlZCh0aGlzLmtleSl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuU291bmQucHJvdG90eXBlLFwibXV0ZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbXV0ZWR8fHRoaXMuZ2FtZS5zb3VuZC5tdXRlfSxzZXQ6ZnVuY3Rpb24odCl7KHQ9dHx8ITEpIT09dGhpcy5fbXV0ZWQmJih0Pyh0aGlzLl9tdXRlZD0hMCx0aGlzLl9tdXRlVm9sdW1lPXRoaXMuX3RlbXBWb2x1bWUsdGhpcy51c2luZ1dlYkF1ZGlvP3RoaXMuZ2Fpbk5vZGUuZ2Fpbi52YWx1ZT0wOnRoaXMudXNpbmdBdWRpb1RhZyYmdGhpcy5fc291bmQmJih0aGlzLl9zb3VuZC52b2x1bWU9MCkpOih0aGlzLl9tdXRlZD0hMSx0aGlzLnVzaW5nV2ViQXVkaW8/dGhpcy5nYWluTm9kZS5nYWluLnZhbHVlPXRoaXMuX211dGVWb2x1bWU6dGhpcy51c2luZ0F1ZGlvVGFnJiZ0aGlzLl9zb3VuZCYmKHRoaXMuX3NvdW5kLnZvbHVtZT10aGlzLl9tdXRlVm9sdW1lKSksdGhpcy5vbk11dGUuZGlzcGF0Y2godGhpcykpfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLlNvdW5kLnByb3RvdHlwZSxcInZvbHVtZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdm9sdW1lfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy51c2luZ0F1ZGlvVGFnJiYodD10aGlzLmdhbWUubWF0aC5jbGFtcCh0LDAsMSkpLHRoaXMuX211dGVkP3RoaXMuX211dGVWb2x1bWU9dDoodGhpcy5fdGVtcFZvbHVtZT10LHRoaXMuX3ZvbHVtZT10LHRoaXMudXNpbmdXZWJBdWRpbz90aGlzLmdhaW5Ob2RlLmdhaW4udmFsdWU9dDp0aGlzLnVzaW5nQXVkaW9UYWcmJnRoaXMuX3NvdW5kJiYodGhpcy5fc291bmQudm9sdW1lPXRoaXMuX2dsb2JhbFZvbHVtZSp0KSl9fSksaS5Tb3VuZE1hbmFnZXI9ZnVuY3Rpb24odCl7dGhpcy5nYW1lPXQsdGhpcy5vblNvdW5kRGVjb2RlPW5ldyBpLlNpZ25hbCx0aGlzLm9uVm9sdW1lQ2hhbmdlPW5ldyBpLlNpZ25hbCx0aGlzLm9uTXV0ZT1uZXcgaS5TaWduYWwsdGhpcy5vblVuTXV0ZT1uZXcgaS5TaWduYWwsdGhpcy5jb250ZXh0PW51bGwsdGhpcy51c2luZ1dlYkF1ZGlvPSExLHRoaXMudXNpbmdBdWRpb1RhZz0hMSx0aGlzLm5vQXVkaW89ITEsdGhpcy5jb25uZWN0VG9NYXN0ZXI9ITAsdGhpcy50b3VjaExvY2tlZD0hMSx0aGlzLmNoYW5uZWxzPTMyLHRoaXMubXV0ZU9uUGF1c2U9ITAsdGhpcy5fY29kZU11dGVkPSExLHRoaXMuX211dGVkPSExLHRoaXMuX3VubG9ja1NvdXJjZT1udWxsLHRoaXMuX3ZvbHVtZT0xLHRoaXMuX3NvdW5kcz1bXSx0aGlzLl93YXRjaExpc3Q9bmV3IGkuQXJyYXlTZXQsdGhpcy5fd2F0Y2hpbmc9ITEsdGhpcy5fd2F0Y2hDYWxsYmFjaz1udWxsLHRoaXMuX3dhdGNoQ29udGV4dD1udWxsfSxpLlNvdW5kTWFuYWdlci5wcm90b3R5cGU9e2Jvb3Q6ZnVuY3Rpb24oKXtpZih0aGlzLmdhbWUuZGV2aWNlLmlPUyYmITE9PT10aGlzLmdhbWUuZGV2aWNlLndlYkF1ZGlvJiYodGhpcy5jaGFubmVscz0xKSx3aW5kb3cuUGhhc2VyR2xvYmFsKXtpZighMD09PXdpbmRvdy5QaGFzZXJHbG9iYWwuZGlzYWJsZUF1ZGlvKXJldHVybiB0aGlzLm5vQXVkaW89ITAsdm9pZCh0aGlzLnRvdWNoTG9ja2VkPSExKTtpZighMD09PXdpbmRvdy5QaGFzZXJHbG9iYWwuZGlzYWJsZVdlYkF1ZGlvKXJldHVybiB0aGlzLnVzaW5nQXVkaW9UYWc9ITAsdm9pZCh0aGlzLnRvdWNoTG9ja2VkPSExKX1pZih3aW5kb3cuUGhhc2VyR2xvYmFsJiZ3aW5kb3cuUGhhc2VyR2xvYmFsLmF1ZGlvQ29udGV4dCl0aGlzLmNvbnRleHQ9d2luZG93LlBoYXNlckdsb2JhbC5hdWRpb0NvbnRleHQ7ZWxzZSBpZih3aW5kb3cuQXVkaW9Db250ZXh0KXRyeXt0aGlzLmNvbnRleHQ9bmV3IHdpbmRvdy5BdWRpb0NvbnRleHR9Y2F0Y2godCl7dGhpcy5jb250ZXh0PW51bGwsdGhpcy51c2luZ1dlYkF1ZGlvPSExLHRoaXMudG91Y2hMb2NrZWQ9ITF9ZWxzZSBpZih3aW5kb3cud2Via2l0QXVkaW9Db250ZXh0KXRyeXt0aGlzLmNvbnRleHQ9bmV3IHdpbmRvdy53ZWJraXRBdWRpb0NvbnRleHR9Y2F0Y2godCl7dGhpcy5jb250ZXh0PW51bGwsdGhpcy51c2luZ1dlYkF1ZGlvPSExLHRoaXMudG91Y2hMb2NrZWQ9ITF9aWYobnVsbD09PXRoaXMuY29udGV4dCl7aWYodm9pZCAwPT09d2luZG93LkF1ZGlvKXJldHVybiB2b2lkKHRoaXMubm9BdWRpbz0hMCk7dGhpcy51c2luZ0F1ZGlvVGFnPSEwfWVsc2UgdGhpcy51c2luZ1dlYkF1ZGlvPSEwLHZvaWQgMD09PXRoaXMuY29udGV4dC5jcmVhdGVHYWluP3RoaXMubWFzdGVyR2Fpbj10aGlzLmNvbnRleHQuY3JlYXRlR2Fpbk5vZGUoKTp0aGlzLm1hc3RlckdhaW49dGhpcy5jb250ZXh0LmNyZWF0ZUdhaW4oKSx0aGlzLl9zZXRHYWluKDEpLHRoaXMubWFzdGVyR2Fpbi5jb25uZWN0KHRoaXMuY29udGV4dC5kZXN0aW5hdGlvbik7dGhpcy5ub0F1ZGlvfHx0aGlzLmdhbWUuZGV2aWNlLm5lZWRzVG91Y2hVbmxvY2soKSYmdGhpcy5zZXRUb3VjaExvY2soKX0sc2V0VG91Y2hMb2NrOmZ1bmN0aW9uKCl7dGhpcy5ub0F1ZGlvfHx3aW5kb3cuUGhhc2VyR2xvYmFsJiYhMD09PXdpbmRvdy5QaGFzZXJHbG9iYWwuZGlzYWJsZUF1ZGlvfHwodGhpcy5nYW1lLmRldmljZS5pT1NWZXJzaW9uPjh8fHRoaXMuZ2FtZS5kZXZpY2UuY2hyb21lVmVyc2lvbj49NTU/dGhpcy5nYW1lLmlucHV0LmFkZFRvdWNoTG9ja0NhbGxiYWNrKHRoaXMudW5sb2NrLHRoaXMsITApOnRoaXMuZ2FtZS5pbnB1dC5hZGRUb3VjaExvY2tDYWxsYmFjayh0aGlzLnVubG9jayx0aGlzKSx0aGlzLnRvdWNoTG9ja2VkPSEwKX0sdW5sb2NrOmZ1bmN0aW9uKCl7aWYodGhpcy5ub0F1ZGlvfHwhdGhpcy50b3VjaExvY2tlZHx8bnVsbCE9PXRoaXMuX3VubG9ja1NvdXJjZSlyZXR1cm4hMDtpZih0aGlzLnVzaW5nQXVkaW9UYWcpdGhpcy50b3VjaExvY2tlZD0hMSx0aGlzLl91bmxvY2tTb3VyY2U9bnVsbDtlbHNlIGlmKHRoaXMudXNpbmdXZWJBdWRpbyl7dmFyIHQ9dGhpcy5jb250ZXh0LmNyZWF0ZUJ1ZmZlcigxLDEsMjIwNTApO3RoaXMuX3VubG9ja1NvdXJjZT10aGlzLmNvbnRleHQuY3JlYXRlQnVmZmVyU291cmNlKCksdGhpcy5fdW5sb2NrU291cmNlLmJ1ZmZlcj10LHRoaXMuX3VubG9ja1NvdXJjZS5jb25uZWN0KHRoaXMuY29udGV4dC5kZXN0aW5hdGlvbiksdm9pZCAwPT09dGhpcy5fdW5sb2NrU291cmNlLnN0YXJ0P3RoaXMuX3VubG9ja1NvdXJjZS5ub3RlT24oMCk6dGhpcy5fdW5sb2NrU291cmNlLnN0YXJ0KDApLFwic3VzcGVuZGVkXCI9PT10aGlzLl91bmxvY2tTb3VyY2UuY29udGV4dC5zdGF0ZSYmdGhpcy5fdW5sb2NrU291cmNlLmNvbnRleHQucmVzdW1lKCl9cmV0dXJuITB9LHN0b3BBbGw6ZnVuY3Rpb24oKXtpZighdGhpcy5ub0F1ZGlvKWZvcih2YXIgdD0wO3Q8dGhpcy5fc291bmRzLmxlbmd0aDt0KyspdGhpcy5fc291bmRzW3RdJiZ0aGlzLl9zb3VuZHNbdF0uc3RvcCgpfSxwYXVzZUFsbDpmdW5jdGlvbigpe2lmKCF0aGlzLm5vQXVkaW8pZm9yKHZhciB0PTA7dDx0aGlzLl9zb3VuZHMubGVuZ3RoO3QrKyl0aGlzLl9zb3VuZHNbdF0mJnRoaXMuX3NvdW5kc1t0XS5wYXVzZSgpfSxyZXN1bWVBbGw6ZnVuY3Rpb24oKXtpZighdGhpcy5ub0F1ZGlvKWZvcih2YXIgdD0wO3Q8dGhpcy5fc291bmRzLmxlbmd0aDt0KyspdGhpcy5fc291bmRzW3RdJiZ0aGlzLl9zb3VuZHNbdF0ucmVzdW1lKCl9LGRlY29kZTpmdW5jdGlvbih0LGUpe2U9ZXx8bnVsbDt2YXIgaT10aGlzLmdhbWUuY2FjaGUuZ2V0U291bmREYXRhKHQpO2lmKGkmJiExPT09dGhpcy5nYW1lLmNhY2hlLmlzU291bmREZWNvZGVkKHQpKXt0aGlzLmdhbWUuY2FjaGUudXBkYXRlU291bmQodCxcImlzRGVjb2RpbmdcIiwhMCk7dmFyIHM9dGhpczt0cnl7dGhpcy5jb250ZXh0LmRlY29kZUF1ZGlvRGF0YShpLGZ1bmN0aW9uKGkpe2kmJihzLmdhbWUuY2FjaGUuZGVjb2RlZFNvdW5kKHQsaSkscy5vblNvdW5kRGVjb2RlLmRpc3BhdGNoKHQsZSkpfSl9Y2F0Y2godCl7fX19LHNldERlY29kZWRDYWxsYmFjazpmdW5jdGlvbih0LGUscyl7XCJzdHJpbmdcIj09dHlwZW9mIHQmJih0PVt0XSksdGhpcy5fd2F0Y2hMaXN0LnJlc2V0KCk7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspdFtuXWluc3RhbmNlb2YgaS5Tb3VuZD90aGlzLmdhbWUuY2FjaGUuaXNTb3VuZERlY29kZWQodFtuXS5rZXkpfHx0aGlzLl93YXRjaExpc3QuYWRkKHRbbl0ua2V5KTp0aGlzLmdhbWUuY2FjaGUuaXNTb3VuZERlY29kZWQodFtuXSl8fHRoaXMuX3dhdGNoTGlzdC5hZGQodFtuXSk7MD09PXRoaXMuX3dhdGNoTGlzdC50b3RhbD8odGhpcy5fd2F0Y2hpbmc9ITEsZS5jYWxsKHMpKToodGhpcy5fd2F0Y2hpbmc9ITAsdGhpcy5fd2F0Y2hDYWxsYmFjaz1lLHRoaXMuX3dhdGNoQ29udGV4dD1zKX0sdXBkYXRlOmZ1bmN0aW9uKCl7aWYoIXRoaXMubm9BdWRpbyl7IXRoaXMudG91Y2hMb2NrZWR8fG51bGw9PT10aGlzLl91bmxvY2tTb3VyY2V8fHRoaXMuX3VubG9ja1NvdXJjZS5wbGF5YmFja1N0YXRlIT09dGhpcy5fdW5sb2NrU291cmNlLlBMQVlJTkdfU1RBVEUmJnRoaXMuX3VubG9ja1NvdXJjZS5wbGF5YmFja1N0YXRlIT09dGhpcy5fdW5sb2NrU291cmNlLkZJTklTSEVEX1NUQVRFfHwodGhpcy50b3VjaExvY2tlZD0hMSx0aGlzLl91bmxvY2tTb3VyY2U9bnVsbCk7Zm9yKHZhciB0PTA7dDx0aGlzLl9zb3VuZHMubGVuZ3RoO3QrKyl0aGlzLl9zb3VuZHNbdF0udXBkYXRlKCk7aWYodGhpcy5fd2F0Y2hpbmcpe2Zvcih2YXIgZT10aGlzLl93YXRjaExpc3QuZmlyc3Q7ZTspdGhpcy5nYW1lLmNhY2hlLmlzU291bmREZWNvZGVkKGUpJiZ0aGlzLl93YXRjaExpc3QucmVtb3ZlKGUpLGU9dGhpcy5fd2F0Y2hMaXN0Lm5leHQ7MD09PXRoaXMuX3dhdGNoTGlzdC50b3RhbCYmKHRoaXMuX3dhdGNoaW5nPSExLHRoaXMuX3dhdGNoQ2FsbGJhY2suY2FsbCh0aGlzLl93YXRjaENvbnRleHQpKX19fSxhZGQ6ZnVuY3Rpb24odCxlLHMsbil7dm9pZCAwPT09ZSYmKGU9MSksdm9pZCAwPT09cyYmKHM9ITEpLHZvaWQgMD09PW4mJihuPXRoaXMuY29ubmVjdFRvTWFzdGVyKTt2YXIgbz1uZXcgaS5Tb3VuZCh0aGlzLmdhbWUsdCxlLHMsbik7cmV0dXJuIHRoaXMuX3NvdW5kcy5wdXNoKG8pLG99LGFkZFNwcml0ZTpmdW5jdGlvbih0KXtyZXR1cm4gbmV3IGkuQXVkaW9TcHJpdGUodGhpcy5nYW1lLHQpfSxyZW1vdmU6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMuX3NvdW5kcy5sZW5ndGg7ZS0tOylpZih0aGlzLl9zb3VuZHNbZV09PT10KXJldHVybiB0aGlzLl9zb3VuZHNbZV0uZGVzdHJveSghMSksdGhpcy5fc291bmRzLnNwbGljZShlLDEpLCEwO3JldHVybiExfSxyZW1vdmVCeUtleTpmdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy5fc291bmRzLmxlbmd0aCxpPTA7ZS0tOyl0aGlzLl9zb3VuZHNbZV0ua2V5PT09dCYmKHRoaXMuX3NvdW5kc1tlXS5kZXN0cm95KCExKSx0aGlzLl9zb3VuZHMuc3BsaWNlKGUsMSksaSsrKTtyZXR1cm4gaX0scGxheTpmdW5jdGlvbih0LGUsaSl7aWYoIXRoaXMubm9BdWRpbyl7dmFyIHM9dGhpcy5hZGQodCxlLGkpO3JldHVybiBzLnBsYXkoKSxzfX0sc2V0TXV0ZTpmdW5jdGlvbigpe2lmKCF0aGlzLl9tdXRlZCl7dGhpcy5fbXV0ZWQ9ITAsdGhpcy51c2luZ1dlYkF1ZGlvJiYodGhpcy5fbXV0ZVZvbHVtZT10aGlzLm1hc3RlckdhaW4uZ2Fpbi52YWx1ZSx0aGlzLl9zZXRHYWluKDApKTtmb3IodmFyIHQ9MDt0PHRoaXMuX3NvdW5kcy5sZW5ndGg7dCsrKXRoaXMuX3NvdW5kc1t0XS51c2luZ0F1ZGlvVGFnJiYodGhpcy5fc291bmRzW3RdLm11dGU9ITApO3RoaXMub25NdXRlLmRpc3BhdGNoKCl9fSx1bnNldE11dGU6ZnVuY3Rpb24oKXtpZih0aGlzLl9tdXRlZCYmIXRoaXMuX2NvZGVNdXRlZCl7dGhpcy5fbXV0ZWQ9ITEsdGhpcy51c2luZ1dlYkF1ZGlvJiZ0aGlzLl9zZXRHYWluKHRoaXMuX211dGVWb2x1bWUpO2Zvcih2YXIgdD0wO3Q8dGhpcy5fc291bmRzLmxlbmd0aDt0KyspdGhpcy5fc291bmRzW3RdLnVzaW5nQXVkaW9UYWcmJih0aGlzLl9zb3VuZHNbdF0ubXV0ZT0hMSk7dGhpcy5vblVuTXV0ZS5kaXNwYXRjaCgpfX0sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuc3RvcEFsbCgpO2Zvcih2YXIgdD0wO3Q8dGhpcy5fc291bmRzLmxlbmd0aDt0KyspdGhpcy5fc291bmRzW3RdJiZ0aGlzLl9zb3VuZHNbdF0uZGVzdHJveSgpO3RoaXMuX3NvdW5kcz1bXSx0aGlzLm9uU291bmREZWNvZGUuZGlzcG9zZSgpLHRoaXMuY29udGV4dCYmKHdpbmRvdy5QaGFzZXJHbG9iYWw/d2luZG93LlBoYXNlckdsb2JhbC5hdWRpb0NvbnRleHQ9dGhpcy5jb250ZXh0OnRoaXMuY29udGV4dC5jbG9zZSYmdGhpcy5jb250ZXh0LmNsb3NlKCkpfSxfc2V0R2FpbjpmdW5jdGlvbih0KXt0aGlzLm1hc3RlckdhaW4uZ2Fpbi5zZXRUYXJnZXRBdFRpbWUodCwwLC4wMSl9fSxpLlNvdW5kTWFuYWdlci5wcm90b3R5cGUuY29uc3RydWN0b3I9aS5Tb3VuZE1hbmFnZXIsT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuU291bmRNYW5hZ2VyLnByb3RvdHlwZSxcIm11dGVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX211dGVkfSxzZXQ6ZnVuY3Rpb24odCl7aWYodD10fHwhMSl7aWYodGhpcy5fbXV0ZWQpcmV0dXJuO3RoaXMuX2NvZGVNdXRlZD0hMCx0aGlzLnNldE11dGUoKX1lbHNle2lmKCF0aGlzLl9tdXRlZClyZXR1cm47dGhpcy5fY29kZU11dGVkPSExLHRoaXMudW5zZXRNdXRlKCl9fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLlNvdW5kTWFuYWdlci5wcm90b3R5cGUsXCJ2b2x1bWVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3ZvbHVtZX0sc2V0OmZ1bmN0aW9uKHQpe2lmKHQ8MD90PTA6dD4xJiYodD0xKSx0aGlzLl92b2x1bWUhPT10KXtpZih0aGlzLl92b2x1bWU9dCx0aGlzLnVzaW5nV2ViQXVkaW8pdGhpcy5fc2V0R2Fpbih0KTtlbHNlIGZvcih2YXIgZT0wO2U8dGhpcy5fc291bmRzLmxlbmd0aDtlKyspdGhpcy5fc291bmRzW2VdLnVzaW5nQXVkaW9UYWcmJnRoaXMuX3NvdW5kc1tlXS51cGRhdGVHbG9iYWxWb2x1bWUodCk7dGhpcy5vblZvbHVtZUNoYW5nZS5kaXNwYXRjaCh0KX19fSksaS5TY2FsZU1hbmFnZXI9ZnVuY3Rpb24odCxlLHMpe3RoaXMuZ2FtZT10LHRoaXMuZG9tPWkuRE9NLHRoaXMuZ3JpZD1udWxsLHRoaXMud2lkdGg9MCx0aGlzLmhlaWdodD0wLHRoaXMubWluV2lkdGg9bnVsbCx0aGlzLm1heFdpZHRoPW51bGwsdGhpcy5taW5IZWlnaHQ9bnVsbCx0aGlzLm1heEhlaWdodD1udWxsLHRoaXMub2Zmc2V0PW5ldyBpLlBvaW50LHRoaXMuZm9yY2VMYW5kc2NhcGU9ITEsdGhpcy5mb3JjZVBvcnRyYWl0PSExLHRoaXMuaW5jb3JyZWN0T3JpZW50YXRpb249ITEsdGhpcy5fcGFnZUFsaWduSG9yaXpvbnRhbGx5PSExLHRoaXMuX3BhZ2VBbGlnblZlcnRpY2FsbHk9ITEsdGhpcy5vbk9yaWVudGF0aW9uQ2hhbmdlPW5ldyBpLlNpZ25hbCx0aGlzLmVudGVySW5jb3JyZWN0T3JpZW50YXRpb249bmV3IGkuU2lnbmFsLHRoaXMubGVhdmVJbmNvcnJlY3RPcmllbnRhdGlvbj1uZXcgaS5TaWduYWwsdGhpcy5oYXNQaGFzZXJTZXRGdWxsU2NyZWVuPSExLHRoaXMuZnVsbFNjcmVlblRhcmdldD1udWxsLHRoaXMuX2NyZWF0ZWRGdWxsU2NyZWVuVGFyZ2V0PW51bGwsdGhpcy5vbkZ1bGxTY3JlZW5Jbml0PW5ldyBpLlNpZ25hbCx0aGlzLm9uRnVsbFNjcmVlbkNoYW5nZT1uZXcgaS5TaWduYWwsdGhpcy5vbkZ1bGxTY3JlZW5FcnJvcj1uZXcgaS5TaWduYWwsdGhpcy5zY3JlZW5PcmllbnRhdGlvbj10aGlzLmRvbS5nZXRTY3JlZW5PcmllbnRhdGlvbigpLHRoaXMuc2NhbGVGYWN0b3I9bmV3IGkuUG9pbnQoMSwxKSx0aGlzLnNjYWxlRmFjdG9ySW52ZXJzZWQ9bmV3IGkuUG9pbnQoMSwxKSx0aGlzLm1hcmdpbj17bGVmdDowLHRvcDowLHJpZ2h0OjAsYm90dG9tOjAseDowLHk6MH0sdGhpcy5ib3VuZHM9bmV3IGkuUmVjdGFuZ2xlLHRoaXMuYXNwZWN0UmF0aW89MCx0aGlzLnNvdXJjZUFzcGVjdFJhdGlvPTAsdGhpcy5ldmVudD1udWxsLHRoaXMud2luZG93Q29uc3RyYWludHM9e3JpZ2h0OlwibGF5b3V0XCIsYm90dG9tOlwiXCJ9LHRoaXMuY29tcGF0aWJpbGl0eT17c3VwcG9ydHNGdWxsU2NyZWVuOiExLG9yaWVudGF0aW9uRmFsbGJhY2s6bnVsbCxub01hcmdpbnM6ITEsc2Nyb2xsVG86bnVsbCxmb3JjZU1pbmltdW1Eb2N1bWVudEhlaWdodDohMSxjYW5FeHBhbmRQYXJlbnQ6ITAsY2xpY2tUcmFtcG9saW5lOlwiXCJ9LHRoaXMuX3NjYWxlTW9kZT1pLlNjYWxlTWFuYWdlci5OT19TQ0FMRSx0aGlzLl9mdWxsU2NyZWVuU2NhbGVNb2RlPWkuU2NhbGVNYW5hZ2VyLk5PX1NDQUxFLHRoaXMucGFyZW50SXNXaW5kb3c9ITEsdGhpcy5wYXJlbnROb2RlPW51bGwsdGhpcy5wYXJlbnRTY2FsZUZhY3Rvcj1uZXcgaS5Qb2ludCgxLDEpLHRoaXMudHJhY2tQYXJlbnRJbnRlcnZhbD0yZTMsdGhpcy5vblNpemVDaGFuZ2U9bmV3IGkuU2lnbmFsLHRoaXMub25SZXNpemU9bnVsbCx0aGlzLm9uUmVzaXplQ29udGV4dD1udWxsLHRoaXMuX3BlbmRpbmdTY2FsZU1vZGU9bnVsbCx0aGlzLl9mdWxsU2NyZWVuUmVzdG9yZT1udWxsLHRoaXMuX2dhbWVTaXplPW5ldyBpLlJlY3RhbmdsZSx0aGlzLl91c2VyU2NhbGVGYWN0b3I9bmV3IGkuUG9pbnQoMSwxKSx0aGlzLl91c2VyU2NhbGVUcmltPW5ldyBpLlBvaW50KDAsMCksdGhpcy5fbGFzdFVwZGF0ZT0wLHRoaXMuX3VwZGF0ZVRocm90dGxlPTAsdGhpcy5fdXBkYXRlVGhyb3R0bGVSZXNldD0xMDAsdGhpcy5fcGFyZW50Qm91bmRzPW5ldyBpLlJlY3RhbmdsZSx0aGlzLl90ZW1wQm91bmRzPW5ldyBpLlJlY3RhbmdsZSx0aGlzLl9sYXN0UmVwb3J0ZWRDYW52YXNTaXplPW5ldyBpLlJlY3RhbmdsZSx0aGlzLl9sYXN0UmVwb3J0ZWRHYW1lU2l6ZT1uZXcgaS5SZWN0YW5nbGUsdGhpcy5fYm9vdGVkPSExLHQuY29uZmlnJiZ0aGlzLnBhcnNlQ29uZmlnKHQuY29uZmlnKSx0aGlzLnNldHVwU2NhbGUoZSxzKX0saS5TY2FsZU1hbmFnZXIuRVhBQ1RfRklUPTAsaS5TY2FsZU1hbmFnZXIuTk9fU0NBTEU9MSxpLlNjYWxlTWFuYWdlci5TSE9XX0FMTD0yLGkuU2NhbGVNYW5hZ2VyLlJFU0laRT0zLGkuU2NhbGVNYW5hZ2VyLlVTRVJfU0NBTEU9NCxpLlNjYWxlTWFuYWdlci5wcm90b3R5cGU9e2Jvb3Q6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmNvbXBhdGliaWxpdHk7dC5zdXBwb3J0c0Z1bGxTY3JlZW49dGhpcy5nYW1lLmRldmljZS5mdWxsc2NyZWVuJiYhdGhpcy5nYW1lLmRldmljZS5jb2Nvb25KUyx0aGlzLmdhbWUuZGV2aWNlLmlQYWR8fHRoaXMuZ2FtZS5kZXZpY2Uud2ViQXBwfHx0aGlzLmdhbWUuZGV2aWNlLmRlc2t0b3B8fCh0aGlzLmdhbWUuZGV2aWNlLmFuZHJvaWQmJiF0aGlzLmdhbWUuZGV2aWNlLmNocm9tZT90LnNjcm9sbFRvPW5ldyBpLlBvaW50KDAsMSk6dC5zY3JvbGxUbz1uZXcgaS5Qb2ludCgwLDApKSx0aGlzLmdhbWUuZGV2aWNlLmRlc2t0b3A/KHQub3JpZW50YXRpb25GYWxsYmFjaz1cInNjcmVlblwiLHQuY2xpY2tUcmFtcG9saW5lPVwid2hlbi1ub3QtbW91c2VcIik6KHQub3JpZW50YXRpb25GYWxsYmFjaz1cIlwiLHQuY2xpY2tUcmFtcG9saW5lPVwiXCIpO3ZhciBlPXRoaXM7dGhpcy5fb3JpZW50YXRpb25DaGFuZ2U9ZnVuY3Rpb24odCl7cmV0dXJuIGUub3JpZW50YXRpb25DaGFuZ2UodCl9LHRoaXMuX3dpbmRvd1Jlc2l6ZT1mdW5jdGlvbih0KXtyZXR1cm4gZS53aW5kb3dSZXNpemUodCl9LHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwib3JpZW50YXRpb25jaGFuZ2VcIix0aGlzLl9vcmllbnRhdGlvbkNoYW5nZSwhMSksd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIix0aGlzLl93aW5kb3dSZXNpemUsITEpLHRoaXMuY29tcGF0aWJpbGl0eS5zdXBwb3J0c0Z1bGxTY3JlZW4mJih0aGlzLl9mdWxsU2NyZWVuQ2hhbmdlPWZ1bmN0aW9uKHQpe3JldHVybiBlLmZ1bGxTY3JlZW5DaGFuZ2UodCl9LHRoaXMuX2Z1bGxTY3JlZW5FcnJvcj1mdW5jdGlvbih0KXtyZXR1cm4gZS5mdWxsU2NyZWVuRXJyb3IodCl9LGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJ3ZWJraXRmdWxsc2NyZWVuY2hhbmdlXCIsdGhpcy5fZnVsbFNjcmVlbkNoYW5nZSwhMSksZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vemZ1bGxzY3JlZW5jaGFuZ2VcIix0aGlzLl9mdWxsU2NyZWVuQ2hhbmdlLCExKSxkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiTVNGdWxsc2NyZWVuQ2hhbmdlXCIsdGhpcy5fZnVsbFNjcmVlbkNoYW5nZSwhMSksZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImZ1bGxzY3JlZW5jaGFuZ2VcIix0aGlzLl9mdWxsU2NyZWVuQ2hhbmdlLCExKSxkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwid2Via2l0ZnVsbHNjcmVlbmVycm9yXCIsdGhpcy5fZnVsbFNjcmVlbkVycm9yLCExKSxkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwibW96ZnVsbHNjcmVlbmVycm9yXCIsdGhpcy5fZnVsbFNjcmVlbkVycm9yLCExKSxkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiTVNGdWxsc2NyZWVuRXJyb3JcIix0aGlzLl9mdWxsU2NyZWVuRXJyb3IsITEpLGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJmdWxsc2NyZWVuZXJyb3JcIix0aGlzLl9mdWxsU2NyZWVuRXJyb3IsITEpKSx0aGlzLmdhbWUub25SZXN1bWUuYWRkKHRoaXMuX2dhbWVSZXN1bWVkLHRoaXMpLHRoaXMuZG9tLmdldE9mZnNldCh0aGlzLmdhbWUuY2FudmFzLHRoaXMub2Zmc2V0KSx0aGlzLmJvdW5kcy5zZXRUbyh0aGlzLm9mZnNldC54LHRoaXMub2Zmc2V0LnksdGhpcy53aWR0aCx0aGlzLmhlaWdodCksdGhpcy5zZXRHYW1lU2l6ZSh0aGlzLmdhbWUud2lkdGgsdGhpcy5nYW1lLmhlaWdodCksdGhpcy5zY3JlZW5PcmllbnRhdGlvbj10aGlzLmRvbS5nZXRTY3JlZW5PcmllbnRhdGlvbih0aGlzLmNvbXBhdGliaWxpdHkub3JpZW50YXRpb25GYWxsYmFjayksaS5GbGV4R3JpZCYmKHRoaXMuZ3JpZD1uZXcgaS5GbGV4R3JpZCh0aGlzLHRoaXMud2lkdGgsdGhpcy5oZWlnaHQpKSx0aGlzLl9ib290ZWQ9ITAsbnVsbCE9PXRoaXMuX3BlbmRpbmdTY2FsZU1vZGUmJih0aGlzLnNjYWxlTW9kZT10aGlzLl9wZW5kaW5nU2NhbGVNb2RlLHRoaXMuX3BlbmRpbmdTY2FsZU1vZGU9bnVsbCl9LHBhcnNlQ29uZmlnOmZ1bmN0aW9uKHQpe3ZvaWQgMCE9PXQuc2NhbGVNb2RlJiYodGhpcy5fYm9vdGVkP3RoaXMuc2NhbGVNb2RlPXQuc2NhbGVNb2RlOnRoaXMuX3BlbmRpbmdTY2FsZU1vZGU9dC5zY2FsZU1vZGUpLHZvaWQgMCE9PXQuZnVsbFNjcmVlblNjYWxlTW9kZSYmKHRoaXMuZnVsbFNjcmVlblNjYWxlTW9kZT10LmZ1bGxTY3JlZW5TY2FsZU1vZGUpLHQuZnVsbFNjcmVlblRhcmdldCYmKHRoaXMuZnVsbFNjcmVlblRhcmdldD10LmZ1bGxTY3JlZW5UYXJnZXQpfSxzZXR1cFNjYWxlOmZ1bmN0aW9uKHQsZSl7dmFyIHMsbj1uZXcgaS5SZWN0YW5nbGU7XCJcIiE9PXRoaXMuZ2FtZS5wYXJlbnQmJihcInN0cmluZ1wiPT10eXBlb2YgdGhpcy5nYW1lLnBhcmVudD9zPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuZ2FtZS5wYXJlbnQpOnRoaXMuZ2FtZS5wYXJlbnQmJjE9PT10aGlzLmdhbWUucGFyZW50Lm5vZGVUeXBlJiYocz10aGlzLmdhbWUucGFyZW50KSkscz8odGhpcy5wYXJlbnROb2RlPXMsdGhpcy5wYXJlbnRJc1dpbmRvdz0hMSx0aGlzLmdldFBhcmVudEJvdW5kcyh0aGlzLl9wYXJlbnRCb3VuZHMpLG4ud2lkdGg9dGhpcy5fcGFyZW50Qm91bmRzLndpZHRoLG4uaGVpZ2h0PXRoaXMuX3BhcmVudEJvdW5kcy5oZWlnaHQsdGhpcy5vZmZzZXQuc2V0KHRoaXMuX3BhcmVudEJvdW5kcy54LHRoaXMuX3BhcmVudEJvdW5kcy55KSk6KHRoaXMucGFyZW50Tm9kZT1udWxsLHRoaXMucGFyZW50SXNXaW5kb3c9ITAsbi53aWR0aD10aGlzLmRvbS52aXN1YWxCb3VuZHMud2lkdGgsbi5oZWlnaHQ9dGhpcy5kb20udmlzdWFsQm91bmRzLmhlaWdodCx0aGlzLm9mZnNldC5zZXQoMCwwKSk7dmFyIG89MCxyPTA7XCJudW1iZXJcIj09dHlwZW9mIHQ/bz10Oih0aGlzLnBhcmVudFNjYWxlRmFjdG9yLng9cGFyc2VJbnQodCwxMCkvMTAwLG89bi53aWR0aCp0aGlzLnBhcmVudFNjYWxlRmFjdG9yLngpLFwibnVtYmVyXCI9PXR5cGVvZiBlP3I9ZToodGhpcy5wYXJlbnRTY2FsZUZhY3Rvci55PXBhcnNlSW50KGUsMTApLzEwMCxyPW4uaGVpZ2h0KnRoaXMucGFyZW50U2NhbGVGYWN0b3IueSksbz1NYXRoLmZsb29yKG8pLHI9TWF0aC5mbG9vcihyKSx0aGlzLl9nYW1lU2l6ZS5zZXRUbygwLDAsbyxyKSx0aGlzLnVwZGF0ZURpbWVuc2lvbnMobyxyLCExKX0sX2dhbWVSZXN1bWVkOmZ1bmN0aW9uKCl7dGhpcy5xdWV1ZVVwZGF0ZSghMCl9LHNldEdhbWVTaXplOmZ1bmN0aW9uKHQsZSl7dGhpcy5fZ2FtZVNpemUuc2V0VG8oMCwwLHQsZSksdGhpcy5jdXJyZW50U2NhbGVNb2RlIT09aS5TY2FsZU1hbmFnZXIuUkVTSVpFJiZ0aGlzLnVwZGF0ZURpbWVuc2lvbnModCxlLCEwKSx0aGlzLnF1ZXVlVXBkYXRlKCEwKX0sc2V0VXNlclNjYWxlOmZ1bmN0aW9uKHQsZSxpLHMsbixvKXt0aGlzLl91c2VyU2NhbGVGYWN0b3Iuc2V0VG8odCxlKSx0aGlzLl91c2VyU2NhbGVUcmltLnNldFRvKDB8aSwwfHMpLHZvaWQgMD09PW4mJihuPSEwKSx2b2lkIDA9PT1vJiYobz0hMCksbiYmdGhpcy5xdWV1ZVVwZGF0ZShvKX0sc2V0UmVzaXplQ2FsbGJhY2s6ZnVuY3Rpb24odCxlKXt0aGlzLm9uUmVzaXplPXQsdGhpcy5vblJlc2l6ZUNvbnRleHQ9ZX0sc2lnbmFsU2l6ZUNoYW5nZTpmdW5jdGlvbigpe2lmKCFpLlJlY3RhbmdsZS5zYW1lRGltZW5zaW9ucyh0aGlzLHRoaXMuX2xhc3RSZXBvcnRlZENhbnZhc1NpemUpfHwhaS5SZWN0YW5nbGUuc2FtZURpbWVuc2lvbnModGhpcy5nYW1lLHRoaXMuX2xhc3RSZXBvcnRlZEdhbWVTaXplKSl7dmFyIHQ9dGhpcy53aWR0aCxlPXRoaXMuaGVpZ2h0O3RoaXMuX2xhc3RSZXBvcnRlZENhbnZhc1NpemUuc2V0VG8oMCwwLHQsZSksdGhpcy5fbGFzdFJlcG9ydGVkR2FtZVNpemUuc2V0VG8oMCwwLHRoaXMuZ2FtZS53aWR0aCx0aGlzLmdhbWUuaGVpZ2h0KSx0aGlzLmdyaWQmJnRoaXMuZ3JpZC5vblJlc2l6ZSh0LGUpLHRoaXMub25TaXplQ2hhbmdlLmRpc3BhdGNoKHRoaXMsdCxlKSx0aGlzLmN1cnJlbnRTY2FsZU1vZGU9PT1pLlNjYWxlTWFuYWdlci5SRVNJWkUmJih0aGlzLmdhbWUuc3RhdGUucmVzaXplKHQsZSksdGhpcy5nYW1lLmxvYWQucmVzaXplKHQsZSkpfX0sc2V0TWluTWF4OmZ1bmN0aW9uKHQsZSxpLHMpe3RoaXMubWluV2lkdGg9dCx0aGlzLm1pbkhlaWdodD1lLHZvaWQgMCE9PWkmJih0aGlzLm1heFdpZHRoPWkpLHZvaWQgMCE9PXMmJih0aGlzLm1heEhlaWdodD1zKX0scHJlVXBkYXRlOmZ1bmN0aW9uKCl7aWYoISh0aGlzLmdhbWUudGltZS50aW1lPHRoaXMuX2xhc3RVcGRhdGUrdGhpcy5fdXBkYXRlVGhyb3R0bGUpKXt2YXIgdD10aGlzLl91cGRhdGVUaHJvdHRsZTt0aGlzLl91cGRhdGVUaHJvdHRsZVJlc2V0PXQ+PTQwMD8wOjEwMCx0aGlzLmRvbS5nZXRPZmZzZXQodGhpcy5nYW1lLmNhbnZhcyx0aGlzLm9mZnNldCk7dmFyIGU9dGhpcy5fcGFyZW50Qm91bmRzLndpZHRoLHM9dGhpcy5fcGFyZW50Qm91bmRzLmhlaWdodCxuPXRoaXMuZ2V0UGFyZW50Qm91bmRzKHRoaXMuX3BhcmVudEJvdW5kcyksbz1uLndpZHRoIT09ZXx8bi5oZWlnaHQhPT1zLHI9dGhpcy51cGRhdGVPcmllbnRhdGlvblN0YXRlKCk7KG98fHIpJiYodGhpcy5vblJlc2l6ZSYmdGhpcy5vblJlc2l6ZS5jYWxsKHRoaXMub25SZXNpemVDb250ZXh0LHRoaXMsbiksdGhpcy51cGRhdGVMYXlvdXQoKSx0aGlzLnNpZ25hbFNpemVDaGFuZ2UoKSk7dmFyIGE9Mip0aGlzLl91cGRhdGVUaHJvdHRsZTt0aGlzLl91cGRhdGVUaHJvdHRsZTx0JiYoYT1NYXRoLm1pbih0LHRoaXMuX3VwZGF0ZVRocm90dGxlUmVzZXQpKSx0aGlzLl91cGRhdGVUaHJvdHRsZT1pLk1hdGguY2xhbXAoYSwyNSx0aGlzLnRyYWNrUGFyZW50SW50ZXJ2YWwpLHRoaXMuX2xhc3RVcGRhdGU9dGhpcy5nYW1lLnRpbWUudGltZX19LHBhdXNlVXBkYXRlOmZ1bmN0aW9uKCl7dGhpcy5wcmVVcGRhdGUoKSx0aGlzLl91cGRhdGVUaHJvdHRsZT10aGlzLnRyYWNrUGFyZW50SW50ZXJ2YWx9LHVwZGF0ZURpbWVuc2lvbnM6ZnVuY3Rpb24odCxlLGkpe3RoaXMud2lkdGg9dCp0aGlzLnBhcmVudFNjYWxlRmFjdG9yLngsdGhpcy5oZWlnaHQ9ZSp0aGlzLnBhcmVudFNjYWxlRmFjdG9yLnksdGhpcy5nYW1lLndpZHRoPXRoaXMud2lkdGgsdGhpcy5nYW1lLmhlaWdodD10aGlzLmhlaWdodCx0aGlzLnNvdXJjZUFzcGVjdFJhdGlvPXRoaXMud2lkdGgvdGhpcy5oZWlnaHQsdGhpcy51cGRhdGVTY2FsaW5nQW5kQm91bmRzKCksaSYmKHRoaXMuZ2FtZS5yZW5kZXJlci5yZXNpemUodGhpcy53aWR0aCx0aGlzLmhlaWdodCksdGhpcy5nYW1lLmNhbWVyYS5zZXRTaXplKHRoaXMud2lkdGgsdGhpcy5oZWlnaHQpLHRoaXMuZ2FtZS53b3JsZC5yZXNpemUodGhpcy53aWR0aCx0aGlzLmhlaWdodCkpfSx1cGRhdGVTY2FsaW5nQW5kQm91bmRzOmZ1bmN0aW9uKCl7dGhpcy5zY2FsZUZhY3Rvci54PXRoaXMuZ2FtZS53aWR0aC90aGlzLndpZHRoLHRoaXMuc2NhbGVGYWN0b3IueT10aGlzLmdhbWUuaGVpZ2h0L3RoaXMuaGVpZ2h0LHRoaXMuc2NhbGVGYWN0b3JJbnZlcnNlZC54PXRoaXMud2lkdGgvdGhpcy5nYW1lLndpZHRoLHRoaXMuc2NhbGVGYWN0b3JJbnZlcnNlZC55PXRoaXMuaGVpZ2h0L3RoaXMuZ2FtZS5oZWlnaHQsdGhpcy5hc3BlY3RSYXRpbz10aGlzLndpZHRoL3RoaXMuaGVpZ2h0LHRoaXMuZ2FtZS5jYW52YXMmJnRoaXMuZG9tLmdldE9mZnNldCh0aGlzLmdhbWUuY2FudmFzLHRoaXMub2Zmc2V0KSx0aGlzLmJvdW5kcy5zZXRUbyh0aGlzLm9mZnNldC54LHRoaXMub2Zmc2V0LnksdGhpcy53aWR0aCx0aGlzLmhlaWdodCksdGhpcy5nYW1lLmlucHV0JiZ0aGlzLmdhbWUuaW5wdXQuc2NhbGUmJnRoaXMuZ2FtZS5pbnB1dC5zY2FsZS5zZXRUbyh0aGlzLnNjYWxlRmFjdG9yLngsdGhpcy5zY2FsZUZhY3Rvci55KX0sZm9yY2VPcmllbnRhdGlvbjpmdW5jdGlvbih0LGUpe3ZvaWQgMD09PWUmJihlPSExKSwhMCE9PXR8fCEwIT09ZT8odGhpcy5mb3JjZUxhbmRzY2FwZT10LHRoaXMuZm9yY2VQb3J0cmFpdD1lLHRoaXMucXVldWVVcGRhdGUoITApKTpjb25zb2xlLndhcm4oXCJQaGFzZXIuU2NhbGVNYW5hZ2VyOiBmb3JjZUxhbmRzY2FwZSBhbmQgZm9yY2VQb3J0cmFpdCBjYW5ub3QgYm90aCBiZSB0cnVlLlwiKX0sY2xhc3NpZnlPcmllbnRhdGlvbjpmdW5jdGlvbih0KXtyZXR1cm5cInBvcnRyYWl0LXByaW1hcnlcIj09PXR8fFwicG9ydHJhaXQtc2Vjb25kYXJ5XCI9PT10P1wicG9ydHJhaXRcIjpcImxhbmRzY2FwZS1wcmltYXJ5XCI9PT10fHxcImxhbmRzY2FwZS1zZWNvbmRhcnlcIj09PXQ/XCJsYW5kc2NhcGVcIjpudWxsfSx1cGRhdGVPcmllbnRhdGlvblN0YXRlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5zY3JlZW5PcmllbnRhdGlvbixlPXRoaXMuaW5jb3JyZWN0T3JpZW50YXRpb247dGhpcy5zY3JlZW5PcmllbnRhdGlvbj10aGlzLmRvbS5nZXRTY3JlZW5PcmllbnRhdGlvbih0aGlzLmNvbXBhdGliaWxpdHkub3JpZW50YXRpb25GYWxsYmFjayksdGhpcy5pbmNvcnJlY3RPcmllbnRhdGlvbj10aGlzLmZvcmNlTGFuZHNjYXBlJiYhdGhpcy5pc0xhbmRzY2FwZXx8dGhpcy5mb3JjZVBvcnRyYWl0JiYhdGhpcy5pc1BvcnRyYWl0O3ZhciBpPXQhPT10aGlzLnNjcmVlbk9yaWVudGF0aW9uLHM9ZSE9PXRoaXMuaW5jb3JyZWN0T3JpZW50YXRpb247cmV0dXJuIHMmJih0aGlzLmluY29ycmVjdE9yaWVudGF0aW9uP3RoaXMuZW50ZXJJbmNvcnJlY3RPcmllbnRhdGlvbi5kaXNwYXRjaCgpOnRoaXMubGVhdmVJbmNvcnJlY3RPcmllbnRhdGlvbi5kaXNwYXRjaCgpKSwoaXx8cykmJnRoaXMub25PcmllbnRhdGlvbkNoYW5nZS5kaXNwYXRjaCh0aGlzLHQsZSksaXx8c30sb3JpZW50YXRpb25DaGFuZ2U6ZnVuY3Rpb24odCl7dGhpcy5ldmVudD10LHRoaXMucXVldWVVcGRhdGUoITApfSx3aW5kb3dSZXNpemU6ZnVuY3Rpb24odCl7dGhpcy5ldmVudD10LHRoaXMucXVldWVVcGRhdGUoITApfSxzY3JvbGxUb3A6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmNvbXBhdGliaWxpdHkuc2Nyb2xsVG87dCYmd2luZG93LnNjcm9sbFRvKHQueCx0LnkpfSxyZWZyZXNoOmZ1bmN0aW9uKCl7dGhpcy5zY3JvbGxUb3AoKSx0aGlzLnF1ZXVlVXBkYXRlKCEwKX0sdXBkYXRlTGF5b3V0OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5jdXJyZW50U2NhbGVNb2RlO2lmKHQhPT1pLlNjYWxlTWFuYWdlci5SRVNJWkUpe2lmKHRoaXMuc2Nyb2xsVG9wKCksdGhpcy5jb21wYXRpYmlsaXR5LmZvcmNlTWluaW11bURvY3VtZW50SGVpZ2h0JiYoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLm1pbkhlaWdodD13aW5kb3cuaW5uZXJIZWlnaHQrXCJweFwiKSx0aGlzLmluY29ycmVjdE9yaWVudGF0aW9uP3RoaXMuc2V0TWF4aW11bSgpOnQ9PT1pLlNjYWxlTWFuYWdlci5FWEFDVF9GSVQ/dGhpcy5zZXRFeGFjdEZpdCgpOnQ9PT1pLlNjYWxlTWFuYWdlci5TSE9XX0FMTD8hdGhpcy5pc0Z1bGxTY3JlZW4mJnRoaXMuYm91bmRpbmdQYXJlbnQmJnRoaXMuY29tcGF0aWJpbGl0eS5jYW5FeHBhbmRQYXJlbnQ/KHRoaXMuc2V0U2hvd0FsbCghMCksdGhpcy5yZXNldENhbnZhcygpLHRoaXMuc2V0U2hvd0FsbCgpKTp0aGlzLnNldFNob3dBbGwoKTp0PT09aS5TY2FsZU1hbmFnZXIuTk9fU0NBTEU/KHRoaXMud2lkdGg9dGhpcy5nYW1lLndpZHRoLHRoaXMuaGVpZ2h0PXRoaXMuZ2FtZS5oZWlnaHQpOnQ9PT1pLlNjYWxlTWFuYWdlci5VU0VSX1NDQUxFJiYodGhpcy53aWR0aD10aGlzLmdhbWUud2lkdGgqdGhpcy5fdXNlclNjYWxlRmFjdG9yLngtdGhpcy5fdXNlclNjYWxlVHJpbS54LHRoaXMuaGVpZ2h0PXRoaXMuZ2FtZS5oZWlnaHQqdGhpcy5fdXNlclNjYWxlRmFjdG9yLnktdGhpcy5fdXNlclNjYWxlVHJpbS55KSwhdGhpcy5jb21wYXRpYmlsaXR5LmNhbkV4cGFuZFBhcmVudCYmKHQ9PT1pLlNjYWxlTWFuYWdlci5TSE9XX0FMTHx8dD09PWkuU2NhbGVNYW5hZ2VyLlVTRVJfU0NBTEUpKXt2YXIgZT10aGlzLmdldFBhcmVudEJvdW5kcyh0aGlzLl90ZW1wQm91bmRzKTt0aGlzLndpZHRoPU1hdGgubWluKHRoaXMud2lkdGgsZS53aWR0aCksdGhpcy5oZWlnaHQ9TWF0aC5taW4odGhpcy5oZWlnaHQsZS5oZWlnaHQpfXRoaXMud2lkdGg9MHx0aGlzLndpZHRoLHRoaXMuaGVpZ2h0PTB8dGhpcy5oZWlnaHQsdGhpcy5yZWZsb3dDYW52YXMoKX1lbHNlIHRoaXMucmVmbG93R2FtZSgpfSxnZXRQYXJlbnRCb3VuZHM6ZnVuY3Rpb24odCl7dmFyIGU9dHx8bmV3IGkuUmVjdGFuZ2xlLHM9dGhpcy5ib3VuZGluZ1BhcmVudCxuPXRoaXMuZG9tLnZpc3VhbEJvdW5kcyxvPXRoaXMuZG9tLmxheW91dEJvdW5kcztpZihzKXt2YXIgcj1zLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLGE9cy5vZmZzZXRQYXJlbnQ/cy5vZmZzZXRQYXJlbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk6cy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtlLnNldFRvKHIubGVmdC1hLmxlZnQsci50b3AtYS50b3Asci53aWR0aCxyLmhlaWdodCk7dmFyIGg9dGhpcy53aW5kb3dDb25zdHJhaW50cztpZihoLnJpZ2h0KXtsPVwibGF5b3V0XCI9PT1oLnJpZ2h0P286bjtlLnJpZ2h0PU1hdGgubWluKGUucmlnaHQsbC53aWR0aCl9aWYoaC5ib3R0b20pe3ZhciBsPVwibGF5b3V0XCI9PT1oLmJvdHRvbT9vOm47ZS5ib3R0b209TWF0aC5taW4oZS5ib3R0b20sbC5oZWlnaHQpfX1lbHNlIGUuc2V0VG8oMCwwLG4ud2lkdGgsbi5oZWlnaHQpO3JldHVybiBlLnNldFRvKE1hdGgucm91bmQoZS54KSxNYXRoLnJvdW5kKGUueSksTWF0aC5yb3VuZChlLndpZHRoKSxNYXRoLnJvdW5kKGUuaGVpZ2h0KSksZX0sYWxpZ246ZnVuY3Rpb24odCxlKXtudWxsIT10JiYodGhpcy5wYWdlQWxpZ25Ib3Jpem9udGFsbHk9dCksbnVsbCE9ZSYmKHRoaXMucGFnZUFsaWduVmVydGljYWxseT1lKX0sYWxpZ25DYW52YXM6ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLmdldFBhcmVudEJvdW5kcyh0aGlzLl90ZW1wQm91bmRzKSxzPXRoaXMuZ2FtZS5jYW52YXMsbj10aGlzLm1hcmdpbjtpZih0KXtuLmxlZnQ9bi5yaWdodD0wO2g9cy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtpZih0aGlzLndpZHRoPGkud2lkdGgmJiF0aGlzLmluY29ycmVjdE9yaWVudGF0aW9uKXt2YXIgbz1oLmxlZnQtaS54LHI9aS53aWR0aC8yLXRoaXMud2lkdGgvMixhPShyPU1hdGgubWF4KHIsMCkpLW87bi5sZWZ0PU1hdGgucm91bmQoYSl9cy5zdHlsZS5tYXJnaW5MZWZ0PW4ubGVmdCtcInB4XCIsMCE9PW4ubGVmdCYmKG4ucmlnaHQ9LShpLndpZHRoLWgud2lkdGgtbi5sZWZ0KSxzLnN0eWxlLm1hcmdpblJpZ2h0PW4ucmlnaHQrXCJweFwiKX1pZihlKXtuLnRvcD1uLmJvdHRvbT0wO3ZhciBoPXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7aWYodGhpcy5oZWlnaHQ8aS5oZWlnaHQmJiF0aGlzLmluY29ycmVjdE9yaWVudGF0aW9uKXt2YXIgbz1oLnRvcC1pLnkscj1pLmhlaWdodC8yLXRoaXMuaGVpZ2h0LzIsYT0ocj1NYXRoLm1heChyLDApKS1vO24udG9wPU1hdGgucm91bmQoYSl9cy5zdHlsZS5tYXJnaW5Ub3A9bi50b3ArXCJweFwiLDAhPT1uLnRvcCYmKG4uYm90dG9tPS0oaS5oZWlnaHQtaC5oZWlnaHQtbi50b3ApLHMuc3R5bGUubWFyZ2luQm90dG9tPW4uYm90dG9tK1wicHhcIil9bi54PW4ubGVmdCxuLnk9bi50b3B9LHJlZmxvd0dhbWU6ZnVuY3Rpb24oKXt0aGlzLnJlc2V0Q2FudmFzKFwiXCIsXCJcIik7dmFyIHQ9dGhpcy5nZXRQYXJlbnRCb3VuZHModGhpcy5fdGVtcEJvdW5kcyk7dGhpcy51cGRhdGVEaW1lbnNpb25zKHQud2lkdGgsdC5oZWlnaHQsITApfSxyZWZsb3dDYW52YXM6ZnVuY3Rpb24oKXt0aGlzLmluY29ycmVjdE9yaWVudGF0aW9ufHwodGhpcy53aWR0aD1pLk1hdGguY2xhbXAodGhpcy53aWR0aCx0aGlzLm1pbldpZHRofHwwLHRoaXMubWF4V2lkdGh8fHRoaXMud2lkdGgpLHRoaXMuaGVpZ2h0PWkuTWF0aC5jbGFtcCh0aGlzLmhlaWdodCx0aGlzLm1pbkhlaWdodHx8MCx0aGlzLm1heEhlaWdodHx8dGhpcy5oZWlnaHQpKSx0aGlzLnJlc2V0Q2FudmFzKCksdGhpcy5jb21wYXRpYmlsaXR5Lm5vTWFyZ2luc3x8KHRoaXMuaXNGdWxsU2NyZWVuJiZ0aGlzLl9jcmVhdGVkRnVsbFNjcmVlblRhcmdldD90aGlzLmFsaWduQ2FudmFzKCEwLCEwKTp0aGlzLmFsaWduQ2FudmFzKHRoaXMucGFnZUFsaWduSG9yaXpvbnRhbGx5LHRoaXMucGFnZUFsaWduVmVydGljYWxseSkpLHRoaXMudXBkYXRlU2NhbGluZ0FuZEJvdW5kcygpfSxyZXNldENhbnZhczpmdW5jdGlvbih0LGUpe3ZvaWQgMD09PXQmJih0PXRoaXMud2lkdGgrXCJweFwiKSx2b2lkIDA9PT1lJiYoZT10aGlzLmhlaWdodCtcInB4XCIpO3ZhciBpPXRoaXMuZ2FtZS5jYW52YXM7dGhpcy5jb21wYXRpYmlsaXR5Lm5vTWFyZ2luc3x8KGkuc3R5bGUubWFyZ2luTGVmdD1cIlwiLGkuc3R5bGUubWFyZ2luVG9wPVwiXCIsaS5zdHlsZS5tYXJnaW5SaWdodD1cIlwiLGkuc3R5bGUubWFyZ2luQm90dG9tPVwiXCIpLGkuc3R5bGUud2lkdGg9dCxpLnN0eWxlLmhlaWdodD1lfSxxdWV1ZVVwZGF0ZTpmdW5jdGlvbih0KXt0JiYodGhpcy5fcGFyZW50Qm91bmRzLndpZHRoPTAsdGhpcy5fcGFyZW50Qm91bmRzLmhlaWdodD0wKSx0aGlzLl91cGRhdGVUaHJvdHRsZT10aGlzLl91cGRhdGVUaHJvdHRsZVJlc2V0fSxyZXNldDpmdW5jdGlvbih0KXt0JiZ0aGlzLmdyaWQmJnRoaXMuZ3JpZC5yZXNldCgpfSxzZXRNYXhpbXVtOmZ1bmN0aW9uKCl7dGhpcy53aWR0aD10aGlzLmRvbS52aXN1YWxCb3VuZHMud2lkdGgsdGhpcy5oZWlnaHQ9dGhpcy5kb20udmlzdWFsQm91bmRzLmhlaWdodH0sc2V0U2hvd0FsbDpmdW5jdGlvbih0KXt2YXIgZSxpPXRoaXMuZ2V0UGFyZW50Qm91bmRzKHRoaXMuX3RlbXBCb3VuZHMpLHM9aS53aWR0aCxuPWkuaGVpZ2h0O2U9dD9NYXRoLm1heChuL3RoaXMuZ2FtZS5oZWlnaHQscy90aGlzLmdhbWUud2lkdGgpOk1hdGgubWluKG4vdGhpcy5nYW1lLmhlaWdodCxzL3RoaXMuZ2FtZS53aWR0aCksdGhpcy53aWR0aD1NYXRoLnJvdW5kKHRoaXMuZ2FtZS53aWR0aCplKSx0aGlzLmhlaWdodD1NYXRoLnJvdW5kKHRoaXMuZ2FtZS5oZWlnaHQqZSl9LHNldEV4YWN0Rml0OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nZXRQYXJlbnRCb3VuZHModGhpcy5fdGVtcEJvdW5kcyk7dGhpcy53aWR0aD10LndpZHRoLHRoaXMuaGVpZ2h0PXQuaGVpZ2h0LHRoaXMuaXNGdWxsU2NyZWVufHwodGhpcy5tYXhXaWR0aCYmKHRoaXMud2lkdGg9TWF0aC5taW4odGhpcy53aWR0aCx0aGlzLm1heFdpZHRoKSksdGhpcy5tYXhIZWlnaHQmJih0aGlzLmhlaWdodD1NYXRoLm1pbih0aGlzLmhlaWdodCx0aGlzLm1heEhlaWdodCkpKX0sY3JlYXRlRnVsbFNjcmVlblRhcmdldDpmdW5jdGlvbigpe3ZhciB0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7cmV0dXJuIHQuc3R5bGUubWFyZ2luPVwiMFwiLHQuc3R5bGUucGFkZGluZz1cIjBcIix0LnN0eWxlLmJhY2tncm91bmQ9XCIjMDAwXCIsdH0sc3RhcnRGdWxsU2NyZWVuOmZ1bmN0aW9uKHQsZSl7aWYodGhpcy5pc0Z1bGxTY3JlZW4pcmV0dXJuITE7e2lmKHRoaXMuY29tcGF0aWJpbGl0eS5zdXBwb3J0c0Z1bGxTY3JlZW4pe2lmKFwid2hlbi1ub3QtbW91c2VcIj09PXRoaXMuY29tcGF0aWJpbGl0eS5jbGlja1RyYW1wb2xpbmUpe3ZhciBzPXRoaXMuZ2FtZS5pbnB1dDtpZihzLmFjdGl2ZVBvaW50ZXImJnMuYWN0aXZlUG9pbnRlciE9PXMubW91c2VQb2ludGVyJiYoZXx8ITEhPT1lKSlyZXR1cm4gdm9pZCBzLmFjdGl2ZVBvaW50ZXIuYWRkQ2xpY2tUcmFtcG9saW5lKFwic3RhcnRGdWxsU2NyZWVuXCIsdGhpcy5zdGFydEZ1bGxTY3JlZW4sdGhpcyxbdCwhMV0pfXZvaWQgMCE9PXQmJnRoaXMuZ2FtZS5yZW5kZXJUeXBlPT09aS5DQU5WQVMmJih0aGlzLmdhbWUuc3RhZ2Uuc21vb3RoZWQ9dCk7dmFyIG49dGhpcy5mdWxsU2NyZWVuVGFyZ2V0O258fCh0aGlzLmNsZWFudXBDcmVhdGVkVGFyZ2V0KCksdGhpcy5fY3JlYXRlZEZ1bGxTY3JlZW5UYXJnZXQ9dGhpcy5jcmVhdGVGdWxsU2NyZWVuVGFyZ2V0KCksbj10aGlzLl9jcmVhdGVkRnVsbFNjcmVlblRhcmdldCk7dmFyIG89e3RhcmdldEVsZW1lbnQ6bn07aWYodGhpcy5oYXNQaGFzZXJTZXRGdWxsU2NyZWVuPSEwLHRoaXMub25GdWxsU2NyZWVuSW5pdC5kaXNwYXRjaCh0aGlzLG8pLHRoaXMuX2NyZWF0ZWRGdWxsU2NyZWVuVGFyZ2V0KXt2YXIgcj10aGlzLmdhbWUuY2FudmFzO3IucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUobixyKSxuLmFwcGVuZENoaWxkKHIpfXJldHVybiB0aGlzLmdhbWUuZGV2aWNlLmZ1bGxzY3JlZW5LZXlib2FyZD9uW3RoaXMuZ2FtZS5kZXZpY2UucmVxdWVzdEZ1bGxzY3JlZW5dKEVsZW1lbnQuQUxMT1dfS0VZQk9BUkRfSU5QVVQpOm5bdGhpcy5nYW1lLmRldmljZS5yZXF1ZXN0RnVsbHNjcmVlbl0oKSwhMH12YXIgYT10aGlzO3NldFRpbWVvdXQoZnVuY3Rpb24oKXthLmZ1bGxTY3JlZW5FcnJvcigpfSwxMCl9fSxzdG9wRnVsbFNjcmVlbjpmdW5jdGlvbigpe3JldHVybiEoIXRoaXMuaXNGdWxsU2NyZWVufHwhdGhpcy5jb21wYXRpYmlsaXR5LnN1cHBvcnRzRnVsbFNjcmVlbikmJih0aGlzLmhhc1BoYXNlclNldEZ1bGxTY3JlZW49ITEsZG9jdW1lbnRbdGhpcy5nYW1lLmRldmljZS5jYW5jZWxGdWxsc2NyZWVuXSgpLCEwKX0sY2xlYW51cENyZWF0ZWRUYXJnZXQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9jcmVhdGVkRnVsbFNjcmVlblRhcmdldDtpZih0JiZ0LnBhcmVudE5vZGUpe3ZhciBlPXQucGFyZW50Tm9kZTtlLmluc2VydEJlZm9yZSh0aGlzLmdhbWUuY2FudmFzLHQpLGUucmVtb3ZlQ2hpbGQodCl9dGhpcy5fY3JlYXRlZEZ1bGxTY3JlZW5UYXJnZXQ9bnVsbH0scHJlcFNjcmVlbk1vZGU6ZnVuY3Rpb24odCl7dmFyIGU9ISF0aGlzLl9jcmVhdGVkRnVsbFNjcmVlblRhcmdldCxzPXRoaXMuX2NyZWF0ZWRGdWxsU2NyZWVuVGFyZ2V0fHx0aGlzLmZ1bGxTY3JlZW5UYXJnZXQ7dD8oZXx8dGhpcy5mdWxsU2NyZWVuU2NhbGVNb2RlPT09aS5TY2FsZU1hbmFnZXIuRVhBQ1RfRklUKSYmcyE9PXRoaXMuZ2FtZS5jYW52YXMmJih0aGlzLl9mdWxsU2NyZWVuUmVzdG9yZT17dGFyZ2V0V2lkdGg6cy5zdHlsZS53aWR0aCx0YXJnZXRIZWlnaHQ6cy5zdHlsZS5oZWlnaHR9LHMuc3R5bGUud2lkdGg9XCIxMDAlXCIscy5zdHlsZS5oZWlnaHQ9XCIxMDAlXCIpOih0aGlzLl9mdWxsU2NyZWVuUmVzdG9yZSYmKHMuc3R5bGUud2lkdGg9dGhpcy5fZnVsbFNjcmVlblJlc3RvcmUudGFyZ2V0V2lkdGgscy5zdHlsZS5oZWlnaHQ9dGhpcy5fZnVsbFNjcmVlblJlc3RvcmUudGFyZ2V0SGVpZ2h0LHRoaXMuX2Z1bGxTY3JlZW5SZXN0b3JlPW51bGwpLHRoaXMudXBkYXRlRGltZW5zaW9ucyh0aGlzLl9nYW1lU2l6ZS53aWR0aCx0aGlzLl9nYW1lU2l6ZS5oZWlnaHQsITApLHRoaXMucmVzZXRDYW52YXMoKSl9LGZ1bGxTY3JlZW5DaGFuZ2U6ZnVuY3Rpb24odCl7dGhpcy5ldmVudD10LHRoaXMuaXNGdWxsU2NyZWVuPyh0aGlzLnByZXBTY3JlZW5Nb2RlKCEwKSx0aGlzLnVwZGF0ZUxheW91dCgpLHRoaXMucXVldWVVcGRhdGUoITApKToodGhpcy5wcmVwU2NyZWVuTW9kZSghMSksdGhpcy5jbGVhbnVwQ3JlYXRlZFRhcmdldCgpLHRoaXMudXBkYXRlTGF5b3V0KCksdGhpcy5xdWV1ZVVwZGF0ZSghMCkpLHRoaXMub25GdWxsU2NyZWVuQ2hhbmdlLmRpc3BhdGNoKHRoaXMsdGhpcy53aWR0aCx0aGlzLmhlaWdodCl9LGZ1bGxTY3JlZW5FcnJvcjpmdW5jdGlvbih0KXt0aGlzLmV2ZW50PXQsdGhpcy5jbGVhbnVwQ3JlYXRlZFRhcmdldCgpLGNvbnNvbGUud2FybihcIlBoYXNlci5TY2FsZU1hbmFnZXI6IHJlcXVlc3RGdWxsc2NyZWVuIGZhaWxlZCBvciBkZXZpY2UgZG9lcyBub3Qgc3VwcG9ydCB0aGUgRnVsbHNjcmVlbiBBUElcIiksdGhpcy5vbkZ1bGxTY3JlZW5FcnJvci5kaXNwYXRjaCh0aGlzKX0sc2NhbGVTcHJpdGU6ZnVuY3Rpb24odCxlLGkscyl7aWYodm9pZCAwPT09ZSYmKGU9dGhpcy53aWR0aCksdm9pZCAwPT09aSYmKGk9dGhpcy5oZWlnaHQpLHZvaWQgMD09PXMmJihzPSExKSwhdHx8IXQuc2NhbGUpcmV0dXJuIHQ7aWYodC5zY2FsZS54PTEsdC5zY2FsZS55PTEsdC53aWR0aDw9MHx8dC5oZWlnaHQ8PTB8fGU8PTB8fGk8PTApcmV0dXJuIHQ7dmFyIG49ZSxvPXQuaGVpZ2h0KmUvdC53aWR0aCxyPXQud2lkdGgqaS90LmhlaWdodCxhPWksaD1yPmU7cmV0dXJuKGg9aD9zOiFzKT8odC53aWR0aD1NYXRoLmZsb29yKG4pLHQuaGVpZ2h0PU1hdGguZmxvb3IobykpOih0LndpZHRoPU1hdGguZmxvb3IociksdC5oZWlnaHQ9TWF0aC5mbG9vcihhKSksdH0sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuZ2FtZS5vblJlc3VtZS5yZW1vdmUodGhpcy5fZ2FtZVJlc3VtZWQsdGhpcyksd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJvcmllbnRhdGlvbmNoYW5nZVwiLHRoaXMuX29yaWVudGF0aW9uQ2hhbmdlLCExKSx3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLHRoaXMuX3dpbmRvd1Jlc2l6ZSwhMSksdGhpcy5jb21wYXRpYmlsaXR5LnN1cHBvcnRzRnVsbFNjcmVlbiYmKGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ3ZWJraXRmdWxsc2NyZWVuY2hhbmdlXCIsdGhpcy5fZnVsbFNjcmVlbkNoYW5nZSwhMSksZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vemZ1bGxzY3JlZW5jaGFuZ2VcIix0aGlzLl9mdWxsU2NyZWVuQ2hhbmdlLCExKSxkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwiTVNGdWxsc2NyZWVuQ2hhbmdlXCIsdGhpcy5fZnVsbFNjcmVlbkNoYW5nZSwhMSksZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImZ1bGxzY3JlZW5jaGFuZ2VcIix0aGlzLl9mdWxsU2NyZWVuQ2hhbmdlLCExKSxkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwid2Via2l0ZnVsbHNjcmVlbmVycm9yXCIsdGhpcy5fZnVsbFNjcmVlbkVycm9yLCExKSxkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW96ZnVsbHNjcmVlbmVycm9yXCIsdGhpcy5fZnVsbFNjcmVlbkVycm9yLCExKSxkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwiTVNGdWxsc2NyZWVuRXJyb3JcIix0aGlzLl9mdWxsU2NyZWVuRXJyb3IsITEpLGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJmdWxsc2NyZWVuZXJyb3JcIix0aGlzLl9mdWxsU2NyZWVuRXJyb3IsITEpKX19LGkuU2NhbGVNYW5hZ2VyLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1pLlNjYWxlTWFuYWdlcixPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5TY2FsZU1hbmFnZXIucHJvdG90eXBlLFwiYm91bmRpbmdQYXJlbnRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGFyZW50SXNXaW5kb3d8fHRoaXMuaXNGdWxsU2NyZWVuJiZ0aGlzLmhhc1BoYXNlclNldEZ1bGxTY3JlZW4mJiF0aGlzLl9jcmVhdGVkRnVsbFNjcmVlblRhcmdldD9udWxsOnRoaXMuZ2FtZS5jYW52YXMmJnRoaXMuZ2FtZS5jYW52YXMucGFyZW50Tm9kZXx8bnVsbH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5TY2FsZU1hbmFnZXIucHJvdG90eXBlLFwic2NhbGVNb2RlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zY2FsZU1vZGV9LHNldDpmdW5jdGlvbih0KXtyZXR1cm4gdCE9PXRoaXMuX3NjYWxlTW9kZSYmKHRoaXMuaXNGdWxsU2NyZWVufHwodGhpcy51cGRhdGVEaW1lbnNpb25zKHRoaXMuX2dhbWVTaXplLndpZHRoLHRoaXMuX2dhbWVTaXplLmhlaWdodCwhMCksdGhpcy5xdWV1ZVVwZGF0ZSghMCkpLHRoaXMuX3NjYWxlTW9kZT10KSx0aGlzLl9zY2FsZU1vZGV9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuU2NhbGVNYW5hZ2VyLnByb3RvdHlwZSxcImZ1bGxTY3JlZW5TY2FsZU1vZGVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2Z1bGxTY3JlZW5TY2FsZU1vZGV9LHNldDpmdW5jdGlvbih0KXtyZXR1cm4gdCE9PXRoaXMuX2Z1bGxTY3JlZW5TY2FsZU1vZGUmJih0aGlzLmlzRnVsbFNjcmVlbj8odGhpcy5wcmVwU2NyZWVuTW9kZSghMSksdGhpcy5fZnVsbFNjcmVlblNjYWxlTW9kZT10LHRoaXMucHJlcFNjcmVlbk1vZGUoITApLHRoaXMucXVldWVVcGRhdGUoITApKTp0aGlzLl9mdWxsU2NyZWVuU2NhbGVNb2RlPXQpLHRoaXMuX2Z1bGxTY3JlZW5TY2FsZU1vZGV9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuU2NhbGVNYW5hZ2VyLnByb3RvdHlwZSxcImN1cnJlbnRTY2FsZU1vZGVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXNGdWxsU2NyZWVuP3RoaXMuX2Z1bGxTY3JlZW5TY2FsZU1vZGU6dGhpcy5fc2NhbGVNb2RlfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLlNjYWxlTWFuYWdlci5wcm90b3R5cGUsXCJwYWdlQWxpZ25Ib3Jpem9udGFsbHlcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BhZ2VBbGlnbkhvcml6b250YWxseX0sc2V0OmZ1bmN0aW9uKHQpe3QhPT10aGlzLl9wYWdlQWxpZ25Ib3Jpem9udGFsbHkmJih0aGlzLl9wYWdlQWxpZ25Ib3Jpem9udGFsbHk9dCx0aGlzLnF1ZXVlVXBkYXRlKCEwKSl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuU2NhbGVNYW5hZ2VyLnByb3RvdHlwZSxcInBhZ2VBbGlnblZlcnRpY2FsbHlcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BhZ2VBbGlnblZlcnRpY2FsbHl9LHNldDpmdW5jdGlvbih0KXt0IT09dGhpcy5fcGFnZUFsaWduVmVydGljYWxseSYmKHRoaXMuX3BhZ2VBbGlnblZlcnRpY2FsbHk9dCx0aGlzLnF1ZXVlVXBkYXRlKCEwKSl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuU2NhbGVNYW5hZ2VyLnByb3RvdHlwZSxcImlzRnVsbFNjcmVlblwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4hIShkb2N1bWVudC5mdWxsc2NyZWVuRWxlbWVudHx8ZG9jdW1lbnQud2Via2l0RnVsbHNjcmVlbkVsZW1lbnR8fGRvY3VtZW50Lm1vekZ1bGxTY3JlZW5FbGVtZW50fHxkb2N1bWVudC5tc0Z1bGxzY3JlZW5FbGVtZW50KX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5TY2FsZU1hbmFnZXIucHJvdG90eXBlLFwiaXNQb3J0cmFpdFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm5cInBvcnRyYWl0XCI9PT10aGlzLmNsYXNzaWZ5T3JpZW50YXRpb24odGhpcy5zY3JlZW5PcmllbnRhdGlvbil9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuU2NhbGVNYW5hZ2VyLnByb3RvdHlwZSxcImlzTGFuZHNjYXBlXCIse2dldDpmdW5jdGlvbigpe3JldHVyblwibGFuZHNjYXBlXCI9PT10aGlzLmNsYXNzaWZ5T3JpZW50YXRpb24odGhpcy5zY3JlZW5PcmllbnRhdGlvbil9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuU2NhbGVNYW5hZ2VyLnByb3RvdHlwZSxcImlzR2FtZVBvcnRyYWl0XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmhlaWdodD50aGlzLndpZHRofX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLlNjYWxlTWFuYWdlci5wcm90b3R5cGUsXCJpc0dhbWVMYW5kc2NhcGVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMud2lkdGg+dGhpcy5oZWlnaHR9fSksaS5VdGlscy5EZWJ1Zz1mdW5jdGlvbih0KXt0aGlzLmdhbWU9dCx0aGlzLnNwcml0ZT1udWxsLHRoaXMuYm1kPW51bGwsdGhpcy5jYW52YXM9bnVsbCx0aGlzLmNvbnRleHQ9bnVsbCx0aGlzLmZvbnQ9XCIxNHB4IENvdXJpZXJcIix0aGlzLmNvbHVtbldpZHRoPTEwMCx0aGlzLmxpbmVIZWlnaHQ9MTYsdGhpcy5saW5lV2lkdGg9MSx0aGlzLnJlbmRlclNoYWRvdz0hMCx0aGlzLmN1cnJlbnRYPTAsdGhpcy5jdXJyZW50WT0wLHRoaXMuY3VycmVudEFscGhhPTEsdGhpcy5kaXJ0eT0hMSx0aGlzLmlzRGlzYWJsZWQ9ITEsdGhpcy5fbGluZT1udWxsLHRoaXMuX3JlY3Q9bnVsbH0saS5VdGlscy5EZWJ1Zy5wcm90b3R5cGU9e2Jvb3Q6ZnVuY3Rpb24oKXt0aGlzLmdhbWUucmVuZGVyVHlwZT09PWkuQ0FOVkFTP3RoaXMuY29udGV4dD10aGlzLmdhbWUuY29udGV4dDoodGhpcy5ibWQ9bmV3IGkuQml0bWFwRGF0YSh0aGlzLmdhbWUsXCJfX0RFQlVHXCIsdGhpcy5nYW1lLndpZHRoLHRoaXMuZ2FtZS5oZWlnaHQsITApLHRoaXMuc3ByaXRlPXRoaXMuZ2FtZS5tYWtlLmltYWdlKDAsMCx0aGlzLmJtZCksdGhpcy5nYW1lLnN0YWdlLmFkZENoaWxkKHRoaXMuc3ByaXRlKSx0aGlzLmdhbWUuc2NhbGUub25TaXplQ2hhbmdlLmFkZCh0aGlzLnJlc2l6ZSx0aGlzKSx0aGlzLmNhbnZhcz1pLkNhbnZhc1Bvb2wuY3JlYXRlKHRoaXMsdGhpcy5nYW1lLndpZHRoLHRoaXMuZ2FtZS5oZWlnaHQpLHRoaXMuY29udGV4dD10aGlzLmNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIikpLHRoaXMuX2xpbmU9bmV3IGkuTGluZSx0aGlzLl9yZWN0PW5ldyBpLlJlY3RhbmdsZX0scmVzaXplOmZ1bmN0aW9uKCl7dGhpcy5ibWQucmVzaXplKHRoaXMuZ2FtZS53aWR0aCx0aGlzLmdhbWUuaGVpZ2h0KSx0aGlzLmNhbnZhcy53aWR0aD10aGlzLmdhbWUud2lkdGgsdGhpcy5jYW52YXMuaGVpZ2h0PXRoaXMuZ2FtZS5oZWlnaHR9LHByZVVwZGF0ZTpmdW5jdGlvbigpe3RoaXMuZGlydHkmJnRoaXMuc3ByaXRlJiYodGhpcy5ibWQuY2xlYXIoKSx0aGlzLmJtZC5kcmF3KHRoaXMuY2FudmFzLDAsMCksdGhpcy5jb250ZXh0LmNsZWFyUmVjdCgwLDAsdGhpcy5nYW1lLndpZHRoLHRoaXMuZ2FtZS5oZWlnaHQpLHRoaXMuZGlydHk9ITEpfSxyZXNldDpmdW5jdGlvbigpe3RoaXMuY29udGV4dCYmdGhpcy5jb250ZXh0LmNsZWFyUmVjdCgwLDAsdGhpcy5nYW1lLndpZHRoLHRoaXMuZ2FtZS5oZWlnaHQpLHRoaXMuc3ByaXRlJiZ0aGlzLmJtZC5jbGVhcigpfSxzdGFydDpmdW5jdGlvbih0LGUsaSxzKXtcIm51bWJlclwiIT10eXBlb2YgdCYmKHQ9MCksXCJudW1iZXJcIiE9dHlwZW9mIGUmJihlPTApLGk9aXx8XCJyZ2IoMjU1LDI1NSwyNTUpXCIsdm9pZCAwPT09cyYmKHM9MCksdGhpcy5jdXJyZW50WD10LHRoaXMuY3VycmVudFk9ZSx0aGlzLmN1cnJlbnRDb2xvcj1pLHRoaXMuY29sdW1uV2lkdGg9cyx0aGlzLmRpcnR5PSEwLHRoaXMuY29udGV4dC5zYXZlKCksdGhpcy5jb250ZXh0LnNldFRyYW5zZm9ybSgxLDAsMCwxLDAsMCksdGhpcy5jb250ZXh0LnN0cm9rZVN0eWxlPWksdGhpcy5jb250ZXh0LmZpbGxTdHlsZT1pLHRoaXMuY29udGV4dC5mb250PXRoaXMuZm9udCx0aGlzLmNvbnRleHQuZ2xvYmFsQWxwaGE9dGhpcy5jdXJyZW50QWxwaGF9LHN0b3A6ZnVuY3Rpb24oKXt0aGlzLmNvbnRleHQucmVzdG9yZSgpfSxsaW5lOmZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMuY3VycmVudFgsZT0wO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspdGhpcy5yZW5kZXJTaGFkb3cmJih0aGlzLmNvbnRleHQuZmlsbFN0eWxlPVwicmdiKDAsMCwwKVwiLHRoaXMuY29udGV4dC5maWxsVGV4dChhcmd1bWVudHNbZV0sdCsxLHRoaXMuY3VycmVudFkrMSksdGhpcy5jb250ZXh0LmZpbGxTdHlsZT10aGlzLmN1cnJlbnRDb2xvciksdGhpcy5jb250ZXh0LmZpbGxUZXh0KGFyZ3VtZW50c1tlXSx0LHRoaXMuY3VycmVudFkpLHQrPXRoaXMuY29sdW1uV2lkdGg7dGhpcy5jdXJyZW50WSs9dGhpcy5saW5lSGVpZ2h0fSxzb3VuZEluZm86ZnVuY3Rpb24odCxlLGkscyl7dGhpcy5zdGFydChlLGkscyksdGhpcy5saW5lKFwiU291bmQ6IFwiK3Qua2V5K1wiIExvY2tlZDogXCIrdC5nYW1lLnNvdW5kLnRvdWNoTG9ja2VkKSx0aGlzLmxpbmUoXCJJcyBSZWFkeT86IFwiK3RoaXMuZ2FtZS5jYWNoZS5pc1NvdW5kUmVhZHkodC5rZXkpK1wiIFBlbmRpbmcgUGxheWJhY2s6IFwiK3QucGVuZGluZ1BsYXliYWNrKSx0aGlzLmxpbmUoXCJEZWNvZGVkOiBcIit0LmlzRGVjb2RlZCtcIiBEZWNvZGluZzogXCIrdC5pc0RlY29kaW5nKSx0aGlzLmxpbmUoXCJUb3RhbCBEdXJhdGlvbjogXCIrdC50b3RhbER1cmF0aW9uK1wiIFBsYXlpbmc6IFwiK3QuaXNQbGF5aW5nKSx0aGlzLmxpbmUoXCJUaW1lOiBcIit0LmN1cnJlbnRUaW1lKSx0aGlzLmxpbmUoXCJWb2x1bWU6IFwiK3Qudm9sdW1lK1wiIE11dGVkOiBcIit0Lm11dGUpLHRoaXMubGluZShcIldlYkF1ZGlvOiBcIit0LnVzaW5nV2ViQXVkaW8rXCIgQXVkaW86IFwiK3QudXNpbmdBdWRpb1RhZyksXCJcIiE9PXQuY3VycmVudE1hcmtlciYmKHRoaXMubGluZShcIk1hcmtlcjogXCIrdC5jdXJyZW50TWFya2VyK1wiIER1cmF0aW9uOiBcIit0LmR1cmF0aW9uK1wiIChtczogXCIrdC5kdXJhdGlvbk1TK1wiKVwiKSx0aGlzLmxpbmUoXCJTdGFydDogXCIrdC5tYXJrZXJzW3QuY3VycmVudE1hcmtlcl0uc3RhcnQrXCIgU3RvcDogXCIrdC5tYXJrZXJzW3QuY3VycmVudE1hcmtlcl0uc3RvcCksdGhpcy5saW5lKFwiUG9zaXRpb246IFwiK3QucG9zaXRpb24pKSx0aGlzLnN0b3AoKX0sY2FtZXJhOmZ1bmN0aW9uKHQsZSxpKXt2YXIgcz10LmRlYWR6b25lLG49dC50YXJnZXQsbz10LnZpZXc7cyYmKHRoaXMuX3JlY3Quc2V0VG8oby54K3MueCxvLnkrcy55LHMud2lkdGgscy5oZWlnaHQpLHRoaXMucmVjdGFuZ2xlKHRoaXMuX3JlY3QsZSxpKSksbiYmKHRoaXMuX2xpbmUuc2V0VG8oby5jZW50ZXJYLG8uY2VudGVyWSxuLngsbi55KSx0aGlzLmdlb20odGhpcy5fbGluZSxlLGkpLHRoaXMuZ2VvbShuLGUsITEsMykpfSxjYW1lcmFJbmZvOmZ1bmN0aW9uKHQsZSxpLHMpe3ZhciBuPXQuYm91bmRzLG89dC5kZWFkem9uZSxyPXQudGFyZ2V0LGE9dC52aWV3O3RoaXMuc3RhcnQoZSxpLHMpLHRoaXMubGluZShcIkNhbWVyYSAoXCIrdC53aWR0aCtcIiB4IFwiK3QuaGVpZ2h0K1wiKVwiKSx0aGlzLmxpbmUoXCJ4OiBcIit0LngrXCIgeTogXCIrdC55KSxuJiZ0aGlzLmxpbmUoXCJCb3VuZHMgeDogXCIrbi54K1wiIHk6IFwiK24ueStcIiB3OiBcIituLndpZHRoK1wiIGg6IFwiK24uaGVpZ2h0KSx0aGlzLmxpbmUoXCJWaWV3IHg6IFwiK2EueCtcIiB5OiBcIithLnkrXCIgdzogXCIrYS53aWR0aCtcIiBoOiBcIithLmhlaWdodCksdGhpcy5saW5lKFwiRGVhZHpvbmU6IFwiKyhvP1wieDogXCIrby54K1wiIHk6IFwiK28ueStcIiB3OiBcIitvLndpZHRoK1wiIGg6IFwiK28uaGVpZ2h0Om8pKSx0aGlzLmxpbmUoXCJUb3RhbCBpbiB2aWV3OiBcIit0LnRvdGFsSW5WaWV3KSx0aGlzLmxpbmUoXCJBdCBsaW1pdDogeDogXCIrdC5hdExpbWl0LngrXCIgeTogXCIrdC5hdExpbWl0LnkpLHRoaXMubGluZShcIlRhcmdldDogXCIrKHI/ci5uYW1lfHxyOnIpKSx0aGlzLnN0b3AoKX0sdGltZXI6ZnVuY3Rpb24odCxlLGkscyl7dGhpcy5zdGFydChlLGkscyksdGhpcy5saW5lKFwiVGltZXIgKHJ1bm5pbmc6IFwiK3QucnVubmluZytcIiBleHBpcmVkOiBcIit0LmV4cGlyZWQrXCIpXCIpLHRoaXMubGluZShcIk5leHQgVGljazogXCIrdC5uZXh0K1wiIER1cmF0aW9uOiBcIit0LmR1cmF0aW9uKSx0aGlzLmxpbmUoXCJQYXVzZWQ6IFwiK3QucGF1c2VkK1wiIExlbmd0aDogXCIrdC5sZW5ndGgpLHRoaXMuc3RvcCgpfSxwb2ludGVyOmZ1bmN0aW9uKHQsZSxpLHMsbil7bnVsbCE9dCYmKHZvaWQgMD09PWUmJihlPSExKSxpPWl8fFwicmdiYSgwLDI1NSwwLDAuNSlcIixzPXN8fFwicmdiYSgyNTUsMCwwLDAuNSlcIiwhMD09PWUmJiEwPT09dC5pc1VwfHwodGhpcy5zdGFydCh0LngsdC55LTEwMCxuKSx0aGlzLmNvbnRleHQuYmVnaW5QYXRoKCksdGhpcy5jb250ZXh0LmFyYyh0LngsdC55LHQuY2lyY2xlLnJhZGl1cywwLDIqTWF0aC5QSSksdC5hY3RpdmU/dGhpcy5jb250ZXh0LmZpbGxTdHlsZT1pOnRoaXMuY29udGV4dC5maWxsU3R5bGU9cyx0aGlzLmNvbnRleHQuZmlsbCgpLHRoaXMuY29udGV4dC5jbG9zZVBhdGgoKSx0aGlzLmNvbnRleHQuYmVnaW5QYXRoKCksdGhpcy5jb250ZXh0Lm1vdmVUbyh0LnBvc2l0aW9uRG93bi54LHQucG9zaXRpb25Eb3duLnkpLHRoaXMuY29udGV4dC5saW5lVG8odC5wb3NpdGlvbi54LHQucG9zaXRpb24ueSksdGhpcy5jb250ZXh0LmxpbmVXaWR0aD0yLHRoaXMuY29udGV4dC5zdHJva2UoKSx0aGlzLmNvbnRleHQuY2xvc2VQYXRoKCksdGhpcy5saW5lKFwiSUQ6IFwiK3QuaWQrXCIgQWN0aXZlOiBcIit0LmFjdGl2ZSksdGhpcy5saW5lKFwiV29ybGQgWDogXCIrdC53b3JsZFgrXCIgV29ybGQgWTogXCIrdC53b3JsZFkpLHRoaXMubGluZShcIlNjcmVlbiBYOiBcIit0LngrXCIgU2NyZWVuIFk6IFwiK3QueStcIiBJbjogXCIrdC53aXRoaW5HYW1lKSx0aGlzLmxpbmUoXCJEdXJhdGlvbjogXCIrdC5kdXJhdGlvbitcIiBtc1wiKSx0aGlzLmxpbmUoXCJpcyBEb3duOiBcIit0LmlzRG93bitcIiBpcyBVcDogXCIrdC5pc1VwKSx0aGlzLnN0b3AoKSkpfSxzcHJpdGVJbnB1dEluZm86ZnVuY3Rpb24odCxlLGkscyl7dGhpcy5zdGFydChlLGkscyksdGhpcy5saW5lKFwiU3ByaXRlIElucHV0OiAoXCIrdC53aWR0aCtcIiB4IFwiK3QuaGVpZ2h0K1wiKVwiKSx0aGlzLmxpbmUoXCJ4OiBcIit0LmlucHV0LnBvaW50ZXJYKCkudG9GaXhlZCgxKStcIiB5OiBcIit0LmlucHV0LnBvaW50ZXJZKCkudG9GaXhlZCgxKSksdGhpcy5saW5lKFwib3ZlcjogXCIrdC5pbnB1dC5wb2ludGVyT3ZlcigpK1wiIGR1cmF0aW9uOiBcIit0LmlucHV0Lm92ZXJEdXJhdGlvbigpLnRvRml4ZWQoMCkpLHRoaXMubGluZShcImRvd246IFwiK3QuaW5wdXQucG9pbnRlckRvd24oKStcIiBkdXJhdGlvbjogXCIrdC5pbnB1dC5kb3duRHVyYXRpb24oKS50b0ZpeGVkKDApKSx0aGlzLmxpbmUoXCJqdXN0IG92ZXI6IFwiK3QuaW5wdXQuanVzdE92ZXIoKStcIiBqdXN0IG91dDogXCIrdC5pbnB1dC5qdXN0T3V0KCkpLHRoaXMuc3RvcCgpfSxrZXk6ZnVuY3Rpb24odCxlLGkscyl7dGhpcy5zdGFydChlLGkscywxNTApLHRoaXMubGluZShcIktleTpcIix0LmtleUNvZGUsXCJpc0Rvd246XCIsdC5pc0Rvd24pLHRoaXMubGluZShcImp1c3REb3duOlwiLHQuanVzdERvd24sXCJqdXN0VXA6XCIsdC5qdXN0VXApLHRoaXMubGluZShcIlRpbWUgRG93bjpcIix0LnRpbWVEb3duLnRvRml4ZWQoMCksXCJkdXJhdGlvbjpcIix0LmR1cmF0aW9uLnRvRml4ZWQoMCkpLHRoaXMuc3RvcCgpfSxpbnB1dEluZm86ZnVuY3Rpb24odCxlLGkpe3RoaXMuc3RhcnQodCxlLGkpLHRoaXMubGluZShcIklucHV0XCIpLHRoaXMubGluZShcIlg6IFwiK3RoaXMuZ2FtZS5pbnB1dC54K1wiIFk6IFwiK3RoaXMuZ2FtZS5pbnB1dC55KSx0aGlzLmxpbmUoXCJXb3JsZCBYOiBcIit0aGlzLmdhbWUuaW5wdXQud29ybGRYK1wiIFdvcmxkIFk6IFwiK3RoaXMuZ2FtZS5pbnB1dC53b3JsZFkpLHRoaXMubGluZShcIlNjYWxlIFg6IFwiK3RoaXMuZ2FtZS5pbnB1dC5zY2FsZS54LnRvRml4ZWQoMSkrXCIgU2NhbGUgWTogXCIrdGhpcy5nYW1lLmlucHV0LnNjYWxlLngudG9GaXhlZCgxKSksdGhpcy5saW5lKFwiU2NyZWVuIFg6IFwiK3RoaXMuZ2FtZS5pbnB1dC5hY3RpdmVQb2ludGVyLnNjcmVlblgrXCIgU2NyZWVuIFk6IFwiK3RoaXMuZ2FtZS5pbnB1dC5hY3RpdmVQb2ludGVyLnNjcmVlblkpLHRoaXMuc3RvcCgpfSxzcHJpdGVCb3VuZHM6ZnVuY3Rpb24odCxlLGkpe3ZhciBzPXQuZ2V0Qm91bmRzKCk7cy54Kz10aGlzLmdhbWUuY2FtZXJhLngscy55Kz10aGlzLmdhbWUuY2FtZXJhLnksdGhpcy5yZWN0YW5nbGUocyxlLGkpfSxyb3BlU2VnbWVudHM6ZnVuY3Rpb24odCxlLGkpe3ZhciBzPXRoaXM7dC5zZWdtZW50cy5mb3JFYWNoKGZ1bmN0aW9uKHQpe3MucmVjdGFuZ2xlKHQsZSxpKX0sdGhpcyl9LHNwcml0ZUluZm86ZnVuY3Rpb24odCxlLGkscyl7dGhpcy5zdGFydChlLGkscyksdGhpcy5saW5lKFwiU3ByaXRlOiAgKFwiK3Qud2lkdGgrXCIgeCBcIit0LmhlaWdodCtcIikgYW5jaG9yOiBcIit0LmFuY2hvci54K1wiIHggXCIrdC5hbmNob3IueSksdGhpcy5saW5lKFwieDogXCIrdC54LnRvRml4ZWQoMSkrXCIgeTogXCIrdC55LnRvRml4ZWQoMSkpLHRoaXMubGluZShcImFuZ2xlOiBcIit0LmFuZ2xlLnRvRml4ZWQoMSkrXCIgcm90YXRpb246IFwiK3Qucm90YXRpb24udG9GaXhlZCgxKSksdGhpcy5saW5lKFwidmlzaWJsZTogXCIrdC52aXNpYmxlK1wiIGluIGNhbWVyYTogXCIrdC5pbkNhbWVyYSksdGhpcy5saW5lKFwiYm91bmRzIHg6IFwiK3QuX2JvdW5kcy54LnRvRml4ZWQoMSkrXCIgeTogXCIrdC5fYm91bmRzLnkudG9GaXhlZCgxKStcIiB3OiBcIit0Ll9ib3VuZHMud2lkdGgudG9GaXhlZCgxKStcIiBoOiBcIit0Ll9ib3VuZHMuaGVpZ2h0LnRvRml4ZWQoMSkpLHRoaXMuc3RvcCgpfSxzcHJpdGVDb29yZHM6ZnVuY3Rpb24odCxlLGkscyl7dGhpcy5zdGFydChlLGkscywxMDApLHQubmFtZSYmdGhpcy5saW5lKHQubmFtZSksdGhpcy5saW5lKFwieDpcIix0LngudG9GaXhlZCgyKSxcInk6XCIsdC55LnRvRml4ZWQoMikpLHRoaXMubGluZShcInBvcyB4OlwiLHQucG9zaXRpb24ueC50b0ZpeGVkKDIpLFwicG9zIHk6XCIsdC5wb3NpdGlvbi55LnRvRml4ZWQoMikpLHRoaXMubGluZShcIndvcmxkIHg6XCIsdC53b3JsZC54LnRvRml4ZWQoMiksXCJ3b3JsZCB5OlwiLHQud29ybGQueS50b0ZpeGVkKDIpKSx0aGlzLnN0b3AoKX0sbGluZUluZm86ZnVuY3Rpb24odCxlLGkscyl7dGhpcy5zdGFydChlLGkscyw4MCksdGhpcy5saW5lKFwic3RhcnQueDpcIix0LnN0YXJ0LngudG9GaXhlZCgyKSxcInN0YXJ0Lnk6XCIsdC5zdGFydC55LnRvRml4ZWQoMikpLHRoaXMubGluZShcImVuZC54OlwiLHQuZW5kLngudG9GaXhlZCgyKSxcImVuZC55OlwiLHQuZW5kLnkudG9GaXhlZCgyKSksdGhpcy5saW5lKFwibGVuZ3RoOlwiLHQubGVuZ3RoLnRvRml4ZWQoMiksXCJhbmdsZTpcIix0LmFuZ2xlKSx0aGlzLnN0b3AoKX0scGl4ZWw6ZnVuY3Rpb24odCxlLGkscyl7cz1zfHwyLHRoaXMuc3RhcnQoKSx0aGlzLmNvbnRleHQuZmlsbFN0eWxlPWksdGhpcy5jb250ZXh0LmZpbGxSZWN0KHQsZSxzLHMpLHRoaXMuc3RvcCgpfSxnZW9tOmZ1bmN0aW9uKHQsZSxzLG4pe3ZvaWQgMD09PXMmJihzPSEwKSx2b2lkIDA9PT1uJiYobj0wKSxlPWV8fFwicmdiYSgwLDI1NSwwLDAuNClcIix0aGlzLnN0YXJ0KCksdGhpcy5jb250ZXh0LmZpbGxTdHlsZT1lLHRoaXMuY29udGV4dC5zdHJva2VTdHlsZT1lLHRoaXMuY29udGV4dC5saW5lV2lkdGg9dGhpcy5saW5lV2lkdGgsdCBpbnN0YW5jZW9mIGkuUmVjdGFuZ2xlfHwxPT09bj9zP3RoaXMuY29udGV4dC5maWxsUmVjdCh0LngtdGhpcy5nYW1lLmNhbWVyYS54LHQueS10aGlzLmdhbWUuY2FtZXJhLnksdC53aWR0aCx0LmhlaWdodCk6dGhpcy5jb250ZXh0LnN0cm9rZVJlY3QodC54LXRoaXMuZ2FtZS5jYW1lcmEueCx0LnktdGhpcy5nYW1lLmNhbWVyYS55LHQud2lkdGgsdC5oZWlnaHQpOnQgaW5zdGFuY2VvZiBpLkNpcmNsZXx8Mj09PW4/KHRoaXMuY29udGV4dC5iZWdpblBhdGgoKSx0aGlzLmNvbnRleHQuYXJjKHQueC10aGlzLmdhbWUuY2FtZXJhLngsdC55LXRoaXMuZ2FtZS5jYW1lcmEueSx0LnJhZGl1cywwLDIqTWF0aC5QSSwhMSksdGhpcy5jb250ZXh0LmNsb3NlUGF0aCgpLHM/dGhpcy5jb250ZXh0LmZpbGwoKTp0aGlzLmNvbnRleHQuc3Ryb2tlKCkpOnQgaW5zdGFuY2VvZiBpLlBvaW50fHwzPT09bj90aGlzLmNvbnRleHQuZmlsbFJlY3QodC54LXRoaXMuZ2FtZS5jYW1lcmEueCx0LnktdGhpcy5nYW1lLmNhbWVyYS55LDQsNCk6dCBpbnN0YW5jZW9mIGkuTGluZXx8ND09PW4/KHRoaXMuY29udGV4dC5iZWdpblBhdGgoKSx0aGlzLmNvbnRleHQubW92ZVRvKHQuc3RhcnQueCsuNS10aGlzLmdhbWUuY2FtZXJhLngsdC5zdGFydC55Ky41LXRoaXMuZ2FtZS5jYW1lcmEueSksdGhpcy5jb250ZXh0LmxpbmVUbyh0LmVuZC54Ky41LXRoaXMuZ2FtZS5jYW1lcmEueCx0LmVuZC55Ky41LXRoaXMuZ2FtZS5jYW1lcmEueSksdGhpcy5jb250ZXh0LmNsb3NlUGF0aCgpLHRoaXMuY29udGV4dC5zdHJva2UoKSk6KHQgaW5zdGFuY2VvZiBpLkVsbGlwc2V8fDU9PT1uKSYmKHRoaXMuY29udGV4dC5iZWdpblBhdGgoKSx0aGlzLmNvbnRleHQuZWxsaXBzZSh0LngtdGhpcy5nYW1lLmNhbWVyYS54LHQueS10aGlzLmdhbWUuY2FtZXJhLnksdC53aWR0aC8yLHQuaGVpZ2h0LzIsMCwyKk1hdGguUEksITEpLHRoaXMuY29udGV4dC5jbG9zZVBhdGgoKSxzP3RoaXMuY29udGV4dC5maWxsKCk6dGhpcy5jb250ZXh0LnN0cm9rZSgpKSx0aGlzLnN0b3AoKX0scmVjdGFuZ2xlOmZ1bmN0aW9uKHQsZSxpKXt2b2lkIDA9PT1pJiYoaT0hMCksZT1lfHxcInJnYmEoMCwgMjU1LCAwLCAwLjQpXCIsdGhpcy5zdGFydCgpLGk/KHRoaXMuY29udGV4dC5maWxsU3R5bGU9ZSx0aGlzLmNvbnRleHQuZmlsbFJlY3QodC54LXRoaXMuZ2FtZS5jYW1lcmEueCx0LnktdGhpcy5nYW1lLmNhbWVyYS55LHQud2lkdGgsdC5oZWlnaHQpKToodGhpcy5jb250ZXh0LmxpbmVXaWR0aD10aGlzLmxpbmVXaWR0aCx0aGlzLmNvbnRleHQuc3Ryb2tlU3R5bGU9ZSx0aGlzLmNvbnRleHQuc3Ryb2tlUmVjdCh0LngtdGhpcy5nYW1lLmNhbWVyYS54LHQueS10aGlzLmdhbWUuY2FtZXJhLnksdC53aWR0aCx0LmhlaWdodCkpLHRoaXMuc3RvcCgpfSx0ZXh0OmZ1bmN0aW9uKHQsZSxpLHMsbil7cz1zfHxcInJnYigyNTUsMjU1LDI1NSlcIixuPW58fFwiMTZweCBDb3VyaWVyXCIsdGhpcy5zdGFydCgpLHRoaXMuY29udGV4dC5mb250PW4sdGhpcy5yZW5kZXJTaGFkb3cmJih0aGlzLmNvbnRleHQuZmlsbFN0eWxlPVwicmdiKDAsMCwwKVwiLHRoaXMuY29udGV4dC5maWxsVGV4dCh0LGUrMSxpKzEpKSx0aGlzLmNvbnRleHQuZmlsbFN0eWxlPXMsdGhpcy5jb250ZXh0LmZpbGxUZXh0KHQsZSxpKSx0aGlzLnN0b3AoKX0scXVhZFRyZWU6ZnVuY3Rpb24odCxlKXtlPWV8fFwicmdiYSgyNTUsMCwwLDAuMylcIix0aGlzLnN0YXJ0KCk7dmFyIGk9dC5ib3VuZHM7aWYoMD09PXQubm9kZXMubGVuZ3RoKXt0aGlzLmNvbnRleHQuc3Ryb2tlU3R5bGU9ZSx0aGlzLmNvbnRleHQuc3Ryb2tlUmVjdChpLngsaS55LGkud2lkdGgsaS5oZWlnaHQpLHRoaXMudGV4dChcInNpemU6IFwiK3Qub2JqZWN0cy5sZW5ndGgsaS54KzQsaS55KzE2LFwicmdiKDAsMjAwLDApXCIsXCIxMnB4IENvdXJpZXJcIiksdGhpcy5jb250ZXh0LnN0cm9rZVN0eWxlPVwicmdiKDAsMjU1LDApXCI7Zm9yKHM9MDtzPHQub2JqZWN0cy5sZW5ndGg7cysrKXRoaXMuY29udGV4dC5zdHJva2VSZWN0KHQub2JqZWN0c1tzXS54LHQub2JqZWN0c1tzXS55LHQub2JqZWN0c1tzXS53aWR0aCx0Lm9iamVjdHNbc10uaGVpZ2h0KX1lbHNlIGZvcih2YXIgcz0wO3M8dC5ub2Rlcy5sZW5ndGg7cysrKXRoaXMucXVhZFRyZWUodC5ub2Rlc1tzXSk7dGhpcy5zdG9wKCl9LGJvZHk6ZnVuY3Rpb24odCxlLHMpe3QuYm9keSYmKHRoaXMuc3RhcnQoKSx0LmJvZHkudHlwZT09PWkuUGh5c2ljcy5BUkNBREU/aS5QaHlzaWNzLkFyY2FkZS5Cb2R5LnJlbmRlcih0aGlzLmNvbnRleHQsdC5ib2R5LGUscyx0aGlzLmxpbmVXaWR0aCk6dC5ib2R5LnR5cGU9PT1pLlBoeXNpY3MuTklOSkE/aS5QaHlzaWNzLk5pbmphLkJvZHkucmVuZGVyKHRoaXMuY29udGV4dCx0LmJvZHksZSxzKTp0LmJvZHkudHlwZT09PWkuUGh5c2ljcy5CT1gyRCYmaS5QaHlzaWNzLkJveDJELnJlbmRlckJvZHkodGhpcy5jb250ZXh0LHQuYm9keSxlKSx0aGlzLnN0b3AoKSl9LGJvZHlJbmZvOmZ1bmN0aW9uKHQsZSxzLG4pe3QuYm9keSYmKHRoaXMuc3RhcnQoZSxzLG4sMjEwKSx0LmJvZHkudHlwZT09PWkuUGh5c2ljcy5BUkNBREU/aS5QaHlzaWNzLkFyY2FkZS5Cb2R5LnJlbmRlckJvZHlJbmZvKHRoaXMsdC5ib2R5KTp0LmJvZHkudHlwZT09PWkuUGh5c2ljcy5CT1gyRCYmdGhpcy5nYW1lLnBoeXNpY3MuYm94MmQucmVuZGVyQm9keUluZm8odGhpcyx0LmJvZHkpLHRoaXMuc3RvcCgpKX0sYm94MmRXb3JsZDpmdW5jdGlvbigpe3RoaXMuc3RhcnQoKSx0aGlzLmNvbnRleHQudHJhbnNsYXRlKC10aGlzLmdhbWUuY2FtZXJhLnZpZXcueCwtdGhpcy5nYW1lLmNhbWVyYS52aWV3LnksMCksdGhpcy5nYW1lLnBoeXNpY3MuYm94MmQucmVuZGVyRGVidWdEcmF3KHRoaXMuY29udGV4dCksdGhpcy5zdG9wKCl9LGJveDJkQm9keTpmdW5jdGlvbih0LGUpe3RoaXMuc3RhcnQoKSxpLlBoeXNpY3MuQm94MkQucmVuZGVyQm9keSh0aGlzLmNvbnRleHQsdCxlKSx0aGlzLnN0b3AoKX0sZGlzcGxheUxpc3Q6ZnVuY3Rpb24odCl7aWYodm9pZCAwPT09dCYmKHQ9dGhpcy5nYW1lLndvcmxkKSx0Lmhhc093blByb3BlcnR5KFwicmVuZGVyT3JkZXJJRFwiKT9jb25zb2xlLmxvZyhcIltcIit0LnJlbmRlck9yZGVySUQrXCJdXCIsdCk6Y29uc29sZS5sb2coXCJbXVwiLHQpLHQuY2hpbGRyZW4mJnQuY2hpbGRyZW4ubGVuZ3RoPjApZm9yKHZhciBlPTA7ZTx0LmNoaWxkcmVuLmxlbmd0aDtlKyspdGhpcy5nYW1lLmRlYnVnLmRpc3BsYXlMaXN0KHQuY2hpbGRyZW5bZV0pfSxyZW5kZXJlcjpmdW5jdGlvbih0LGUsaSl7dmFyIHM9dGhpcy5nYW1lLnJlbmRlcmVyLG49cy5yZW5kZXJTZXNzaW9uO2lmKHRoaXMuc3RhcnQodCxlLGkpLHRoaXMubGluZSgocy5nbD9cIldlYkdMXCI6XCJDYW52YXNcIikrXCIgUmVuZGVyZXIgKFwiK3Mud2lkdGgrXCIgeCBcIitzLmhlaWdodCtcIilcIiksdGhpcy5saW5lKFwiYXV0b1Jlc2l6ZTogXCIrcy5hdXRvUmVzaXplKSx0aGlzLmxpbmUoXCJjbGVhckJlZm9yZVJlbmRlcjogXCIrcy5jbGVhckJlZm9yZVJlbmRlciksdGhpcy5saW5lKFwicmVzb2x1dGlvbjogXCIrcy5yZXNvbHV0aW9uKSx0aGlzLmxpbmUoXCJ0cmFuc3BhcmVudDogXCIrcy50cmFuc3BhcmVudCksdGhpcy5saW5lKFwicmVuZGVyU2Vzc2lvbjpcIikscy5nbCl7dGhpcy5saW5lKFwiICBjdXJyZW50QmF0Y2hlZFRleHR1cmVzOiAoXCIrcy5jdXJyZW50QmF0Y2hlZFRleHR1cmVzLmxlbmd0aCtcIilcIik7Zm9yKHZhciBvPTA7bzxzLmN1cnJlbnRCYXRjaGVkVGV4dHVyZXMubGVuZ3RoO28rKyl0aGlzLmxpbmUoXCIgICAgXCIrcy5jdXJyZW50QmF0Y2hlZFRleHR1cmVzW29dKTt0aGlzLmxpbmUoXCIgIGRyYXdDb3VudDogXCIrbi5kcmF3Q291bnQpLHRoaXMubGluZShcIiAgbWF4VGV4dHVyZXM6IFwiK3MubWF4VGV4dHVyZXMpLHRoaXMubGluZShcIiAgbWF4VGV4dHVyZVNpemU6IFwiK3MubWF4VGV4dHVyZVNpemUpLHRoaXMubGluZShcIiAgbWF4VGV4dHVyZUF2YWlsYWJsZVNwYWNlOiBcIituLm1heFRleHR1cmVBdmFpbGFibGVTcGFjZSksdGhpcy5saW5lKFwiICByb3VuZFBpeGVsczogXCIrbi5yb3VuZFBpeGVscyl9ZWxzZSB0aGlzLmxpbmUoXCIgIHJvdW5kUGl4ZWxzOiBcIituLnJvdW5kUGl4ZWxzKSx0aGlzLmxpbmUoXCIgIHNjYWxlTW9kZTogXCIrKDA9PT1uLnNjYWxlTW9kZT9cIkxJTkVBUlwiOjE9PT1uLnNjYWxlTW9kZT9cIk5FQVJFU1RcIjpuLnNjYWxlTW9kZSkpO3RoaXMuc3RvcCgpfSxjYW52YXNQb29sOmZ1bmN0aW9uKHQsZSxzLG4pe3ZhciBvPWkuQ2FudmFzUG9vbDt0aGlzLnN0YXJ0KHQsZSxzLG58fDEwMCksdGhpcy5saW5lKFwiQ2FudmFzIFBvb2xcIiksdGhpcy5saW5lKFwiVXNlZDpcIixvLmdldFRvdGFsKCkpLHRoaXMubGluZShcIkZyZWU6XCIsby5nZXRGcmVlKCkpLHRoaXMubGluZShcIlRvdGFsOlwiLG8ubGVuZ3RoKSx0aGlzLnN0b3AoKX0scGh5c2ljc0dyb3VwOmZ1bmN0aW9uKHQsZSxpLHMpe3QuZm9yRWFjaCh0aGlzLmJvZHksdGhpcyxzLGUsaSl9LHBoYXNlcjpmdW5jdGlvbih0LGUscyl7dGhpcy50ZXh0KFwiUGhhc2VyIHZcIitpLlZFUlNJT04rXCIgXCIrKHRoaXMuZ2FtZS5yZW5kZXJUeXBlPT09aS5XRUJHTD9cIldlYkdMXCI6XCJDYW52YXNcIikrXCIgXCIrKHRoaXMuZ2FtZS5kZXZpY2Uud2ViQXVkaW8/XCJXZWJBdWRpb1wiOlwiSFRNTCBBdWRpb1wiKSx0LGUscyx0aGlzLmZvbnQpfSxkZXN0cm95OmZ1bmN0aW9uKCl7aS5DYW52YXNQb29sLnJlbW92ZSh0aGlzKX19LGkuVXRpbHMuRGVidWcucHJvdG90eXBlLmNvbnN0cnVjdG9yPWkuVXRpbHMuRGVidWcsaS5ET009e2dldE9mZnNldDpmdW5jdGlvbih0LGUpe2U9ZXx8bmV3IGkuUG9pbnQ7dmFyIHM9dC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxuPWkuRE9NLnNjcm9sbFksbz1pLkRPTS5zY3JvbGxYLHI9ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFRvcCxhPWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRMZWZ0O3JldHVybiBlLng9cy5sZWZ0K28tYSxlLnk9cy50b3Arbi1yLGV9LGdldEJvdW5kczpmdW5jdGlvbih0LGUpe3JldHVybiB2b2lkIDA9PT1lJiYoZT0wKSwhKCEodD10JiYhdC5ub2RlVHlwZT90WzBdOnQpfHwxIT09dC5ub2RlVHlwZSkmJnRoaXMuY2FsaWJyYXRlKHQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksZSl9LGNhbGlicmF0ZTpmdW5jdGlvbih0LGUpe2U9K2V8fDA7dmFyIGk9e3dpZHRoOjAsaGVpZ2h0OjAsbGVmdDowLHJpZ2h0OjAsdG9wOjAsYm90dG9tOjB9O3JldHVybiBpLndpZHRoPShpLnJpZ2h0PXQucmlnaHQrZSktKGkubGVmdD10LmxlZnQtZSksaS5oZWlnaHQ9KGkuYm90dG9tPXQuYm90dG9tK2UpLShpLnRvcD10LnRvcC1lKSxpfSxnZXRBc3BlY3RSYXRpbzpmdW5jdGlvbih0KXt2YXIgZT0odD1udWxsPT10P3RoaXMudmlzdWFsQm91bmRzOjE9PT10Lm5vZGVUeXBlP3RoaXMuZ2V0Qm91bmRzKHQpOnQpLndpZHRoLGk9dC5oZWlnaHQ7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgZSYmKGU9ZS5jYWxsKHQpKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBpJiYoaT1pLmNhbGwodCkpLGUvaX0saW5MYXlvdXRWaWV3cG9ydDpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuZ2V0Qm91bmRzKHQsZSk7cmV0dXJuISFpJiZpLmJvdHRvbT49MCYmaS5yaWdodD49MCYmaS50b3A8PXRoaXMubGF5b3V0Qm91bmRzLndpZHRoJiZpLmxlZnQ8PXRoaXMubGF5b3V0Qm91bmRzLmhlaWdodH0sZ2V0U2NyZWVuT3JpZW50YXRpb246ZnVuY3Rpb24odCl7dmFyIGU9d2luZG93LnNjcmVlbixpPWUub3JpZW50YXRpb258fGUubW96T3JpZW50YXRpb258fGUubXNPcmllbnRhdGlvbjtpZihpJiZcInN0cmluZ1wiPT10eXBlb2YgaS50eXBlKXJldHVybiBpLnR5cGU7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGkpcmV0dXJuIGk7dmFyIHM9XCJwb3J0cmFpdC1wcmltYXJ5XCIsbj1cImxhbmRzY2FwZS1wcmltYXJ5XCI7aWYoXCJzY3JlZW5cIj09PXQpcmV0dXJuIGUuaGVpZ2h0PmUud2lkdGg/czpuO2lmKFwidmlld3BvcnRcIj09PXQpcmV0dXJuIHRoaXMudmlzdWFsQm91bmRzLmhlaWdodD50aGlzLnZpc3VhbEJvdW5kcy53aWR0aD9zOm47aWYoXCJ3aW5kb3cub3JpZW50YXRpb25cIj09PXQmJlwibnVtYmVyXCI9PXR5cGVvZiB3aW5kb3cub3JpZW50YXRpb24pcmV0dXJuIDA9PT13aW5kb3cub3JpZW50YXRpb258fDE4MD09PXdpbmRvdy5vcmllbnRhdGlvbj9zOm47aWYod2luZG93Lm1hdGNoTWVkaWEpe2lmKHdpbmRvdy5tYXRjaE1lZGlhKFwiKG9yaWVudGF0aW9uOiBwb3J0cmFpdClcIikubWF0Y2hlcylyZXR1cm4gcztpZih3aW5kb3cubWF0Y2hNZWRpYShcIihvcmllbnRhdGlvbjogbGFuZHNjYXBlKVwiKS5tYXRjaGVzKXJldHVybiBufXJldHVybiB0aGlzLnZpc3VhbEJvdW5kcy5oZWlnaHQ+dGhpcy52aXN1YWxCb3VuZHMud2lkdGg/czpufSx2aXN1YWxCb3VuZHM6bmV3IGkuUmVjdGFuZ2xlLGxheW91dEJvdW5kczpuZXcgaS5SZWN0YW5nbGUsZG9jdW1lbnRCb3VuZHM6bmV3IGkuUmVjdGFuZ2xlfSxpLkRldmljZS53aGVuUmVhZHkoZnVuY3Rpb24odCl7dmFyIGU9d2luZG93JiZcInBhZ2VYT2Zmc2V0XCJpbiB3aW5kb3c/ZnVuY3Rpb24oKXtyZXR1cm4gd2luZG93LnBhZ2VYT2Zmc2V0fTpmdW5jdGlvbigpe3JldHVybiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdH0scz13aW5kb3cmJlwicGFnZVlPZmZzZXRcImluIHdpbmRvdz9mdW5jdGlvbigpe3JldHVybiB3aW5kb3cucGFnZVlPZmZzZXR9OmZ1bmN0aW9uKCl7cmV0dXJuIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3B9O2lmKE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLkRPTSxcInNjcm9sbFhcIix7Z2V0OmV9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5ET00sXCJzY3JvbGxZXCIse2dldDpzfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuRE9NLnZpc3VhbEJvdW5kcyxcInhcIix7Z2V0OmV9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5ET00udmlzdWFsQm91bmRzLFwieVwiLHtnZXQ6c30pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLkRPTS5sYXlvdXRCb3VuZHMsXCJ4XCIse3ZhbHVlOjB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5ET00ubGF5b3V0Qm91bmRzLFwieVwiLHt2YWx1ZTowfSksdC5kZXNrdG9wJiZkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGg8PXdpbmRvdy5pbm5lcldpZHRoJiZkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0PD13aW5kb3cuaW5uZXJIZWlnaHQpe3ZhciBuPWZ1bmN0aW9uKCl7cmV0dXJuIE1hdGgubWF4KHdpbmRvdy5pbm5lcldpZHRoLGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCl9LG89ZnVuY3Rpb24oKXtyZXR1cm4gTWF0aC5tYXgod2luZG93LmlubmVySGVpZ2h0LGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQpfTtPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5ET00udmlzdWFsQm91bmRzLFwid2lkdGhcIix7Z2V0Om59KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5ET00udmlzdWFsQm91bmRzLFwiaGVpZ2h0XCIse2dldDpvfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuRE9NLmxheW91dEJvdW5kcyxcIndpZHRoXCIse2dldDpufSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuRE9NLmxheW91dEJvdW5kcyxcImhlaWdodFwiLHtnZXQ6b30pfWVsc2UgT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuRE9NLnZpc3VhbEJvdW5kcyxcIndpZHRoXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB3aW5kb3cuaW5uZXJXaWR0aH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5ET00udmlzdWFsQm91bmRzLFwiaGVpZ2h0XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB3aW5kb3cuaW5uZXJIZWlnaHR9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuRE9NLmxheW91dEJvdW5kcyxcIndpZHRoXCIse2dldDpmdW5jdGlvbigpe3ZhciB0PWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCxlPXdpbmRvdy5pbm5lcldpZHRoO3JldHVybiB0PGU/ZTp0fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLkRPTS5sYXlvdXRCb3VuZHMsXCJoZWlnaHRcIix7Z2V0OmZ1bmN0aW9uKCl7dmFyIHQ9ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCxlPXdpbmRvdy5pbm5lckhlaWdodDtyZXR1cm4gdDxlP2U6dH19KTtPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5ET00uZG9jdW1lbnRCb3VuZHMsXCJ4XCIse3ZhbHVlOjB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5ET00uZG9jdW1lbnRCb3VuZHMsXCJ5XCIse3ZhbHVlOjB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5ET00uZG9jdW1lbnRCb3VuZHMsXCJ3aWR0aFwiLHtnZXQ6ZnVuY3Rpb24oKXt2YXIgdD1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7cmV0dXJuIE1hdGgubWF4KHQuY2xpZW50V2lkdGgsdC5vZmZzZXRXaWR0aCx0LnNjcm9sbFdpZHRoKX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5ET00uZG9jdW1lbnRCb3VuZHMsXCJoZWlnaHRcIix7Z2V0OmZ1bmN0aW9uKCl7dmFyIHQ9ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O3JldHVybiBNYXRoLm1heCh0LmNsaWVudEhlaWdodCx0Lm9mZnNldEhlaWdodCx0LnNjcm9sbEhlaWdodCl9fSl9LG51bGwsITApLGkuQXJyYXlTZXQ9ZnVuY3Rpb24odCl7dGhpcy5wb3NpdGlvbj0wLHRoaXMubGlzdD10fHxbXX0saS5BcnJheVNldC5wcm90b3R5cGU9e2FkZDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5leGlzdHModCl8fHRoaXMubGlzdC5wdXNoKHQpLHR9LGdldEluZGV4OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmxpc3QuaW5kZXhPZih0KX0sZ2V0QnlLZXk6ZnVuY3Rpb24odCxlKXtmb3IodmFyIGk9dGhpcy5saXN0Lmxlbmd0aDtpLS07KWlmKHRoaXMubGlzdFtpXVt0XT09PWUpcmV0dXJuIHRoaXMubGlzdFtpXTtyZXR1cm4gbnVsbH0sZXhpc3RzOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmxpc3QuaW5kZXhPZih0KT4tMX0scmVzZXQ6ZnVuY3Rpb24oKXt0aGlzLmxpc3QubGVuZ3RoPTB9LHJlbW92ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmxpc3QuaW5kZXhPZih0KTtpZihlPi0xKXJldHVybiB0aGlzLmxpc3Quc3BsaWNlKGUsMSksdH0sc2V0QWxsOmZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBpPXRoaXMubGlzdC5sZW5ndGg7aS0tOyl0aGlzLmxpc3RbaV0mJih0aGlzLmxpc3RbaV1bdF09ZSl9LGNhbGxBbGw6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKSxpPXRoaXMubGlzdC5sZW5ndGg7aS0tOyl0aGlzLmxpc3RbaV0mJnRoaXMubGlzdFtpXVt0XSYmdGhpcy5saXN0W2ldW3RdLmFwcGx5KHRoaXMubGlzdFtpXSxlKX0scmVtb3ZlQWxsOmZ1bmN0aW9uKHQpe3ZvaWQgMD09PXQmJih0PSExKTtmb3IodmFyIGU9dGhpcy5saXN0Lmxlbmd0aDtlLS07KWlmKHRoaXMubGlzdFtlXSl7dmFyIGk9dGhpcy5yZW1vdmUodGhpcy5saXN0W2VdKTt0JiZpLmRlc3Ryb3koKX10aGlzLnBvc2l0aW9uPTAsdGhpcy5saXN0PVtdfX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuQXJyYXlTZXQucHJvdG90eXBlLFwidG90YWxcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubGlzdC5sZW5ndGh9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuQXJyYXlTZXQucHJvdG90eXBlLFwiZmlyc3RcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucG9zaXRpb249MCx0aGlzLmxpc3QubGVuZ3RoPjA/dGhpcy5saXN0WzBdOm51bGx9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuQXJyYXlTZXQucHJvdG90eXBlLFwibmV4dFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wb3NpdGlvbjx0aGlzLmxpc3QubGVuZ3RoPyh0aGlzLnBvc2l0aW9uKyssdGhpcy5saXN0W3RoaXMucG9zaXRpb25dKTpudWxsfX0pLGkuQXJyYXlTZXQucHJvdG90eXBlLmNvbnN0cnVjdG9yPWkuQXJyYXlTZXQsaS5BcnJheVV0aWxzPXtnZXRSYW5kb21JdGVtOmZ1bmN0aW9uKHQsZSxpKXtpZihudWxsPT09dClyZXR1cm4gbnVsbDt2b2lkIDA9PT1lJiYoZT0wKSx2b2lkIDA9PT1pJiYoaT10Lmxlbmd0aCk7dmFyIHM9ZStNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqaSk7cmV0dXJuIHZvaWQgMD09PXRbc10/bnVsbDp0W3NdfSxyZW1vdmVSYW5kb21JdGVtOmZ1bmN0aW9uKHQsZSxpKXtpZihudWxsPT10KXJldHVybiBudWxsO3ZvaWQgMD09PWUmJihlPTApLHZvaWQgMD09PWkmJihpPXQubGVuZ3RoKTt2YXIgcz1lK01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSppKTtpZihzPHQubGVuZ3RoKXt2YXIgbj10LnNwbGljZShzLDEpO3JldHVybiB2b2lkIDA9PT1uWzBdP251bGw6blswXX1yZXR1cm4gbnVsbH0scmVtb3ZlOmZ1bmN0aW9uKHQsZSxpKXt2YXIgcz10Lmxlbmd0aDtpZighKGU+PXN8fDA9PT1pKSl7bnVsbD09aSYmKGk9MSk7Zm9yKHZhciBuPXMtaSxvPWU7bzxuOysrbyl0W29dPXRbbytpXTt0Lmxlbmd0aD1ufX0sc2h1ZmZsZTpmdW5jdGlvbih0KXtmb3IodmFyIGU9dC5sZW5ndGgtMTtlPjA7ZS0tKXt2YXIgaT1NYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqKGUrMSkpLHM9dFtlXTt0W2VdPXRbaV0sdFtpXT1zfXJldHVybiB0fSx0cmFuc3Bvc2VNYXRyaXg6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXQubGVuZ3RoLGk9dFswXS5sZW5ndGgscz1uZXcgQXJyYXkoaSksbj0wO248aTtuKyspe3Nbbl09bmV3IEFycmF5KGUpO2Zvcih2YXIgbz1lLTE7bz4tMTtvLS0pc1tuXVtvXT10W29dW25dfXJldHVybiBzfSxyb3RhdGVNYXRyaXg6ZnVuY3Rpb24odCxlKXtpZihcInN0cmluZ1wiIT10eXBlb2YgZSYmKGU9KGUlMzYwKzM2MCklMzYwKSw5MD09PWV8fC0yNzA9PT1lfHxcInJvdGF0ZUxlZnRcIj09PWUpdD0odD1pLkFycmF5VXRpbHMudHJhbnNwb3NlTWF0cml4KHQpKS5yZXZlcnNlKCk7ZWxzZSBpZigtOTA9PT1lfHwyNzA9PT1lfHxcInJvdGF0ZVJpZ2h0XCI9PT1lKXQ9dC5yZXZlcnNlKCksdD1pLkFycmF5VXRpbHMudHJhbnNwb3NlTWF0cml4KHQpO2Vsc2UgaWYoMTgwPT09TWF0aC5hYnMoZSl8fFwicm90YXRlMTgwXCI9PT1lKXtmb3IodmFyIHM9MDtzPHQubGVuZ3RoO3MrKyl0W3NdLnJldmVyc2UoKTt0PXQucmV2ZXJzZSgpfXJldHVybiB0fSxmaW5kQ2xvc2VzdDpmdW5jdGlvbih0LGUpe2lmKCFlLmxlbmd0aClyZXR1cm4gTmFOO2lmKDE9PT1lLmxlbmd0aHx8dDxlWzBdKXJldHVybiBlWzBdO2Zvcih2YXIgaT0xO2VbaV08dDspaSsrO3ZhciBzPWVbaS0xXSxuPWk8ZS5sZW5ndGg/ZVtpXTpOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7cmV0dXJuIG4tdDw9dC1zP246c30scm90YXRlUmlnaHQ6ZnVuY3Rpb24odCl7dmFyIGU9dC5wb3AoKTtyZXR1cm4gdC51bnNoaWZ0KGUpLGV9LHJvdGF0ZUxlZnQ6ZnVuY3Rpb24odCl7dmFyIGU9dC5zaGlmdCgpO3JldHVybiB0LnB1c2goZSksZX0scm90YXRlOmZ1bmN0aW9uKHQpe3ZhciBlPXQuc2hpZnQoKTtyZXR1cm4gdC5wdXNoKGUpLGV9LG51bWJlckFycmF5OmZ1bmN0aW9uKHQsZSl7dm9pZCAwIT09ZSYmbnVsbCE9PWV8fChlPXQsdD0wKTtmb3IodmFyIGk9W10scz10O3M8PWU7cysrKWkucHVzaChzKTtyZXR1cm4gaX0sbnVtYmVyQXJyYXlTdGVwOmZ1bmN0aW9uKHQsZSxzKXt2b2lkIDAhPT10JiZudWxsIT09dHx8KHQ9MCksdm9pZCAwIT09ZSYmbnVsbCE9PWV8fChlPXQsdD0wKSx2b2lkIDA9PT1zJiYocz0xKTtmb3IodmFyIG49W10sbz1NYXRoLm1heChpLk1hdGgucm91bmRBd2F5RnJvbVplcm8oKGUtdCkvKHN8fDEpKSwwKSxyPTA7cjxvO3IrKyluLnB1c2godCksdCs9cztyZXR1cm4gbn19LGkuTGlua2VkTGlzdD1mdW5jdGlvbigpe3RoaXMubmV4dD1udWxsLHRoaXMucHJldj1udWxsLHRoaXMuZmlyc3Q9bnVsbCx0aGlzLmxhc3Q9bnVsbCx0aGlzLnRvdGFsPTB9LGkuTGlua2VkTGlzdC5wcm90b3R5cGU9e2FkZDpmdW5jdGlvbih0KXtyZXR1cm4gMD09PXRoaXMudG90YWwmJm51bGw9PT10aGlzLmZpcnN0JiZudWxsPT09dGhpcy5sYXN0Pyh0aGlzLmZpcnN0PXQsdGhpcy5sYXN0PXQsdGhpcy5uZXh0PXQsdC5wcmV2PXRoaXMsdGhpcy50b3RhbCsrLHQpOih0aGlzLmxhc3QubmV4dD10LHQucHJldj10aGlzLmxhc3QsdGhpcy5sYXN0PXQsdGhpcy50b3RhbCsrLHQpfSxyZXNldDpmdW5jdGlvbigpe3RoaXMuZmlyc3Q9bnVsbCx0aGlzLmxhc3Q9bnVsbCx0aGlzLm5leHQ9bnVsbCx0aGlzLnByZXY9bnVsbCx0aGlzLnRvdGFsPTB9LHJlbW92ZTpmdW5jdGlvbih0KXtpZigxPT09dGhpcy50b3RhbClyZXR1cm4gdGhpcy5yZXNldCgpLHZvaWQodC5uZXh0PXQucHJldj1udWxsKTt0PT09dGhpcy5maXJzdD90aGlzLmZpcnN0PXRoaXMuZmlyc3QubmV4dDp0PT09dGhpcy5sYXN0JiYodGhpcy5sYXN0PXRoaXMubGFzdC5wcmV2KSx0LnByZXYmJih0LnByZXYubmV4dD10Lm5leHQpLHQubmV4dCYmKHQubmV4dC5wcmV2PXQucHJldiksdC5uZXh0PXQucHJldj1udWxsLG51bGw9PT10aGlzLmZpcnN0JiYodGhpcy5sYXN0PW51bGwpLHRoaXMudG90YWwtLX0sY2FsbEFsbDpmdW5jdGlvbih0KXtpZih0aGlzLmZpcnN0JiZ0aGlzLmxhc3Qpe3ZhciBlPXRoaXMuZmlyc3Q7ZG97ZSYmZVt0XSYmZVt0XS5jYWxsKGUpLGU9ZS5uZXh0fXdoaWxlKGUhPT10aGlzLmxhc3QubmV4dCl9fX0saS5MaW5rZWRMaXN0LnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1pLkxpbmtlZExpc3QsaS5DcmVhdGU9ZnVuY3Rpb24odCl7dGhpcy5nYW1lPXQsdGhpcy5ibWQ9bnVsbCx0aGlzLmNhbnZhcz1udWxsLHRoaXMuY3R4PW51bGwsdGhpcy5wYWxldHRlcz1bezA6XCIjMDAwXCIsMTpcIiM5RDlEOURcIiwyOlwiI0ZGRlwiLDM6XCIjQkUyNjMzXCIsNDpcIiNFMDZGOEJcIiw1OlwiIzQ5M0MyQlwiLDY6XCIjQTQ2NDIyXCIsNzpcIiNFQjg5MzFcIiw4OlwiI0Y3RTI2QlwiLDk6XCIjMkY0ODRFXCIsQTpcIiM0NDg5MUFcIixCOlwiI0EzQ0UyN1wiLEM6XCIjMUIyNjMyXCIsRDpcIiMwMDU3ODRcIixFOlwiIzMxQTJGMlwiLEY6XCIjQjJEQ0VGXCJ9LHswOlwiIzAwMFwiLDE6XCIjMTkxMDI4XCIsMjpcIiM0NmFmNDVcIiwzOlwiI2ExZDY4NVwiLDQ6XCIjNDUzZTc4XCIsNTpcIiM3NjY0ZmVcIiw2OlwiIzgzMzEyOVwiLDc6XCIjOWVjMmU4XCIsODpcIiNkYzUzNGJcIiw5OlwiI2UxOGQ3OVwiLEE6XCIjZDZiOTdiXCIsQjpcIiNlOWQ4YTFcIixDOlwiIzIxNmM0YlwiLEQ6XCIjZDM2NWM4XCIsRTpcIiNhZmFhYjlcIixGOlwiI2Y1ZjRlYlwifSx7MDpcIiMwMDBcIiwxOlwiIzIyMzRkMVwiLDI6XCIjMGM3ZTQ1XCIsMzpcIiM0NGFhY2NcIiw0OlwiIzhhMzYyMlwiLDU6XCIjNWMyZTc4XCIsNjpcIiNhYTVjM2RcIiw3OlwiI2I1YjViNVwiLDg6XCIjNWU2MDZlXCIsOTpcIiM0YzgxZmJcIixBOlwiIzZjZDk0N1wiLEI6XCIjN2JlMmY5XCIsQzpcIiNlYjhhNjBcIixEOlwiI2UyM2Q2OVwiLEU6XCIjZmZkOTNmXCIsRjpcIiNmZmZcIn0sezA6XCIjMDAwXCIsMTpcIiNmZmZcIiwyOlwiIzhiNDEzMVwiLDM6XCIjN2JiZGM1XCIsNDpcIiM4YjQxYWNcIiw1OlwiIzZhYWM0MVwiLDY6XCIjMzkzMWE0XCIsNzpcIiNkNWRlNzNcIiw4OlwiIzk0NWEyMFwiLDk6XCIjNWE0MTAwXCIsQTpcIiNiZDczNmFcIixCOlwiIzUyNTI1MlwiLEM6XCIjODM4MzgzXCIsRDpcIiNhY2VlOGJcIixFOlwiIzdiNzNkZVwiLEY6XCIjYWNhY2FjXCJ9LHswOlwiIzAwMFwiLDE6XCIjMTkxMDI4XCIsMjpcIiM0NmFmNDVcIiwzOlwiI2ExZDY4NVwiLDQ6XCIjNDUzZTc4XCIsNTpcIiM3NjY0ZmVcIiw2OlwiIzgzMzEyOVwiLDc6XCIjOWVjMmU4XCIsODpcIiNkYzUzNGJcIiw5OlwiI2UxOGQ3OVwiLEE6XCIjZDZiOTdiXCIsQjpcIiNlOWQ4YTFcIixDOlwiIzIxNmM0YlwiLEQ6XCIjZDM2NWM4XCIsRTpcIiNhZmFhYjlcIixGOlwiI2ZmZlwifV19LGkuQ3JlYXRlLlBBTEVUVEVfQVJORT0wLGkuQ3JlYXRlLlBBTEVUVEVfSk1QPTEsaS5DcmVhdGUuUEFMRVRURV9DR0E9MixpLkNyZWF0ZS5QQUxFVFRFX0M2ND0zLGkuQ3JlYXRlLlBBTEVUVEVfSkFQQU5FU0VfTUFDSElORT00LGkuQ3JlYXRlLnByb3RvdHlwZT17dGV4dHVyZTpmdW5jdGlvbih0LGUsaSxzLG4sbyxyLGEpe3ZvaWQgMD09PWkmJihpPTgpLHZvaWQgMD09PXMmJihzPWkpLHZvaWQgMD09PW4mJihuPTApLHZvaWQgMD09PW8mJihvPSEwKTt2YXIgaD1lWzBdLmxlbmd0aCppLGw9ZS5sZW5ndGgqcztudWxsPT09dGhpcy5ibWQmJih0aGlzLmJtZD10aGlzLmdhbWUubWFrZS5iaXRtYXBEYXRhKCksdGhpcy5jYW52YXM9dGhpcy5ibWQuY2FudmFzLHRoaXMuY3R4PXRoaXMuYm1kLmNvbnRleHQpLHRoaXMuYm1kLnJlc2l6ZShoLGwpLHRoaXMuYm1kLmNsZWFyKCk7Zm9yKHZhciBjPTA7YzxlLmxlbmd0aDtjKyspZm9yKHZhciB1PWVbY10sZD0wO2Q8dS5sZW5ndGg7ZCsrKXt2YXIgcD11W2RdO1wiLlwiIT09cCYmXCIgXCIhPT1wJiYodGhpcy5jdHguZmlsbFN0eWxlPXRoaXMucGFsZXR0ZXNbbl1bcF0sdGhpcy5jdHguZmlsbFJlY3QoZCppLGMqcyxpLHMpKX1yZXR1cm4gbz90aGlzLmJtZC5nZW5lcmF0ZVRleHR1cmUodCxyLGEpOnRoaXMuY29weSgpfSxncmlkOmZ1bmN0aW9uKHQsZSxpLHMsbixvLHIsYSxoKXt2b2lkIDA9PT1yJiYocj0hMCksbnVsbD09PXRoaXMuYm1kJiYodGhpcy5ibWQ9dGhpcy5nYW1lLm1ha2UuYml0bWFwRGF0YSgpLHRoaXMuY2FudmFzPXRoaXMuYm1kLmNhbnZhcyx0aGlzLmN0eD10aGlzLmJtZC5jb250ZXh0KSx0aGlzLmJtZC5yZXNpemUoZSxpKSx0aGlzLmN0eC5maWxsU3R5bGU9bztmb3IodmFyIGw9MDtsPGk7bCs9bil0aGlzLmN0eC5maWxsUmVjdCgwLGwsZSwxKTtmb3IodmFyIGM9MDtjPGU7Yys9cyl0aGlzLmN0eC5maWxsUmVjdChjLDAsMSxpKTtyZXR1cm4gcj90aGlzLmJtZC5nZW5lcmF0ZVRleHR1cmUodCxhLGgpOnRoaXMuY29weSgpfSxjb3B5OmZ1bmN0aW9uKHQsZSxpLHMsbixvLHIpe3JldHVybiBudWxsPT10JiYodD10aGlzLmdhbWUubWFrZS5iaXRtYXBEYXRhKCkpLHQucmVzaXplKHRoaXMuYm1kLndpZHRoLHRoaXMuYm1kLmhlaWdodCksdC5kcmF3KHRoaXMuYm1kLGUsaSxzLG4sbyxyKX19LGkuQ3JlYXRlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1pLkNyZWF0ZSxpLkZsZXhHcmlkPWZ1bmN0aW9uKHQsZSxzKXt0aGlzLmdhbWU9dC5nYW1lLHRoaXMubWFuYWdlcj10LHRoaXMud2lkdGg9ZSx0aGlzLmhlaWdodD1zLHRoaXMuYm91bmRzQ3VzdG9tPW5ldyBpLlJlY3RhbmdsZSgwLDAsZSxzKSx0aGlzLmJvdW5kc0ZsdWlkPW5ldyBpLlJlY3RhbmdsZSgwLDAsZSxzKSx0aGlzLmJvdW5kc0Z1bGw9bmV3IGkuUmVjdGFuZ2xlKDAsMCxlLHMpLHRoaXMuYm91bmRzTm9uZT1uZXcgaS5SZWN0YW5nbGUoMCwwLGUscyksdGhpcy5wb3NpdGlvbkN1c3RvbT1uZXcgaS5Qb2ludCgwLDApLHRoaXMucG9zaXRpb25GbHVpZD1uZXcgaS5Qb2ludCgwLDApLHRoaXMucG9zaXRpb25GdWxsPW5ldyBpLlBvaW50KDAsMCksdGhpcy5wb3NpdGlvbk5vbmU9bmV3IGkuUG9pbnQoMCwwKSx0aGlzLnNjYWxlQ3VzdG9tPW5ldyBpLlBvaW50KDEsMSksdGhpcy5zY2FsZUZsdWlkPW5ldyBpLlBvaW50KDEsMSksdGhpcy5zY2FsZUZsdWlkSW52ZXJzZWQ9bmV3IGkuUG9pbnQoMSwxKSx0aGlzLnNjYWxlRnVsbD1uZXcgaS5Qb2ludCgxLDEpLHRoaXMuc2NhbGVOb25lPW5ldyBpLlBvaW50KDEsMSksdGhpcy5jdXN0b21XaWR0aD0wLHRoaXMuY3VzdG9tSGVpZ2h0PTAsdGhpcy5jdXN0b21PZmZzZXRYPTAsdGhpcy5jdXN0b21PZmZzZXRZPTAsdGhpcy5yYXRpb0g9ZS9zLHRoaXMucmF0aW9WPXMvZSx0aGlzLm11bHRpcGxpZXI9MCx0aGlzLmxheWVycz1bXX0saS5GbGV4R3JpZC5wcm90b3R5cGU9e3NldFNpemU6ZnVuY3Rpb24odCxlKXt0aGlzLndpZHRoPXQsdGhpcy5oZWlnaHQ9ZSx0aGlzLnJhdGlvSD10L2UsdGhpcy5yYXRpb1Y9ZS90LHRoaXMuc2NhbGVOb25lPW5ldyBpLlBvaW50KDEsMSksdGhpcy5ib3VuZHNOb25lLndpZHRoPXRoaXMud2lkdGgsdGhpcy5ib3VuZHNOb25lLmhlaWdodD10aGlzLmhlaWdodCx0aGlzLnJlZnJlc2goKX0sY3JlYXRlQ3VzdG9tTGF5ZXI6ZnVuY3Rpb24odCxlLHMsbil7dm9pZCAwPT09biYmKG49ITApLHRoaXMuY3VzdG9tV2lkdGg9dCx0aGlzLmN1c3RvbUhlaWdodD1lLHRoaXMuYm91bmRzQ3VzdG9tLndpZHRoPXQsdGhpcy5ib3VuZHNDdXN0b20uaGVpZ2h0PWU7dmFyIG89bmV3IGkuRmxleExheWVyKHRoaXMsdGhpcy5wb3NpdGlvbkN1c3RvbSx0aGlzLmJvdW5kc0N1c3RvbSx0aGlzLnNjYWxlQ3VzdG9tKTtyZXR1cm4gbiYmdGhpcy5nYW1lLndvcmxkLmFkZChvKSx0aGlzLmxheWVycy5wdXNoKG8pLHZvaWQgMCE9PXMmJm51bGwhPT10eXBlb2YgcyYmby5hZGRNdWx0aXBsZShzKSxvfSxjcmVhdGVGbHVpZExheWVyOmZ1bmN0aW9uKHQsZSl7dm9pZCAwPT09ZSYmKGU9ITApO3ZhciBzPW5ldyBpLkZsZXhMYXllcih0aGlzLHRoaXMucG9zaXRpb25GbHVpZCx0aGlzLmJvdW5kc0ZsdWlkLHRoaXMuc2NhbGVGbHVpZCk7cmV0dXJuIGUmJnRoaXMuZ2FtZS53b3JsZC5hZGQocyksdGhpcy5sYXllcnMucHVzaChzKSx2b2lkIDAhPT10JiZudWxsIT09dHlwZW9mIHQmJnMuYWRkTXVsdGlwbGUodCksc30sY3JlYXRlRnVsbExheWVyOmZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBpLkZsZXhMYXllcih0aGlzLHRoaXMucG9zaXRpb25GdWxsLHRoaXMuYm91bmRzRnVsbCx0aGlzLnNjYWxlRmx1aWQpO3JldHVybiB0aGlzLmdhbWUud29ybGQuYWRkKGUpLHRoaXMubGF5ZXJzLnB1c2goZSksdm9pZCAwIT09dCYmZS5hZGRNdWx0aXBsZSh0KSxlfSxjcmVhdGVGaXhlZExheWVyOmZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBpLkZsZXhMYXllcih0aGlzLHRoaXMucG9zaXRpb25Ob25lLHRoaXMuYm91bmRzTm9uZSx0aGlzLnNjYWxlTm9uZSk7cmV0dXJuIHRoaXMuZ2FtZS53b3JsZC5hZGQoZSksdGhpcy5sYXllcnMucHVzaChlKSx2b2lkIDAhPT10JiZlLmFkZE11bHRpcGxlKHQpLGV9LHJlc2V0OmZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMubGF5ZXJzLmxlbmd0aDt0LS07KXRoaXMubGF5ZXJzW3RdLnBlcnNpc3R8fCh0aGlzLmxheWVyc1t0XS5wb3NpdGlvbj1udWxsLHRoaXMubGF5ZXJzW3RdLnNjYWxlPW51bGwsdGhpcy5sYXllcnMuc2xpY2UodCwxKSl9LG9uUmVzaXplOmZ1bmN0aW9uKHQsZSl7dGhpcy5yYXRpb0g9dC9lLHRoaXMucmF0aW9WPWUvdCx0aGlzLnJlZnJlc2godCxlKX0scmVmcmVzaDpmdW5jdGlvbigpe3RoaXMubXVsdGlwbGllcj1NYXRoLm1pbih0aGlzLm1hbmFnZXIuaGVpZ2h0L3RoaXMuaGVpZ2h0LHRoaXMubWFuYWdlci53aWR0aC90aGlzLndpZHRoKSx0aGlzLmJvdW5kc0ZsdWlkLndpZHRoPU1hdGgucm91bmQodGhpcy53aWR0aCp0aGlzLm11bHRpcGxpZXIpLHRoaXMuYm91bmRzRmx1aWQuaGVpZ2h0PU1hdGgucm91bmQodGhpcy5oZWlnaHQqdGhpcy5tdWx0aXBsaWVyKSx0aGlzLnNjYWxlRmx1aWQuc2V0KHRoaXMuYm91bmRzRmx1aWQud2lkdGgvdGhpcy53aWR0aCx0aGlzLmJvdW5kc0ZsdWlkLmhlaWdodC90aGlzLmhlaWdodCksdGhpcy5zY2FsZUZsdWlkSW52ZXJzZWQuc2V0KHRoaXMud2lkdGgvdGhpcy5ib3VuZHNGbHVpZC53aWR0aCx0aGlzLmhlaWdodC90aGlzLmJvdW5kc0ZsdWlkLmhlaWdodCksdGhpcy5zY2FsZUZ1bGwuc2V0KHRoaXMuYm91bmRzRnVsbC53aWR0aC90aGlzLndpZHRoLHRoaXMuYm91bmRzRnVsbC5oZWlnaHQvdGhpcy5oZWlnaHQpLHRoaXMuYm91bmRzRnVsbC53aWR0aD1NYXRoLnJvdW5kKHRoaXMubWFuYWdlci53aWR0aCp0aGlzLnNjYWxlRmx1aWRJbnZlcnNlZC54KSx0aGlzLmJvdW5kc0Z1bGwuaGVpZ2h0PU1hdGgucm91bmQodGhpcy5tYW5hZ2VyLmhlaWdodCp0aGlzLnNjYWxlRmx1aWRJbnZlcnNlZC55KSx0aGlzLmJvdW5kc0ZsdWlkLmNlbnRlck9uKHRoaXMubWFuYWdlci5ib3VuZHMuY2VudGVyWCx0aGlzLm1hbmFnZXIuYm91bmRzLmNlbnRlclkpLHRoaXMuYm91bmRzTm9uZS5jZW50ZXJPbih0aGlzLm1hbmFnZXIuYm91bmRzLmNlbnRlclgsdGhpcy5tYW5hZ2VyLmJvdW5kcy5jZW50ZXJZKSx0aGlzLnBvc2l0aW9uRmx1aWQuc2V0KHRoaXMuYm91bmRzRmx1aWQueCx0aGlzLmJvdW5kc0ZsdWlkLnkpLHRoaXMucG9zaXRpb25Ob25lLnNldCh0aGlzLmJvdW5kc05vbmUueCx0aGlzLmJvdW5kc05vbmUueSl9LGZpdFNwcml0ZTpmdW5jdGlvbih0KXt0aGlzLm1hbmFnZXIuc2NhbGVTcHJpdGUodCksdC54PXRoaXMubWFuYWdlci5ib3VuZHMuY2VudGVyWCx0Lnk9dGhpcy5tYW5hZ2VyLmJvdW5kcy5jZW50ZXJZfSxkZWJ1ZzpmdW5jdGlvbigpe3RoaXMuZ2FtZS5kZWJ1Zy50ZXh0KHRoaXMuYm91bmRzRmx1aWQud2lkdGgrXCIgeCBcIit0aGlzLmJvdW5kc0ZsdWlkLmhlaWdodCx0aGlzLmJvdW5kc0ZsdWlkLngrNCx0aGlzLmJvdW5kc0ZsdWlkLnkrMTYpLHRoaXMuZ2FtZS5kZWJ1Zy5nZW9tKHRoaXMuYm91bmRzRmx1aWQsXCJyZ2JhKDI1NSwwLDAsMC45XCIsITEpfX0saS5GbGV4R3JpZC5wcm90b3R5cGUuY29uc3RydWN0b3I9aS5GbGV4R3JpZCxpLkZsZXhMYXllcj1mdW5jdGlvbih0LGUscyxuKXtpLkdyb3VwLmNhbGwodGhpcyx0LmdhbWUsbnVsbCxcIl9fZmxleExheWVyXCIrdC5nYW1lLnJuZC51dWlkKCksITEpLHRoaXMubWFuYWdlcj10Lm1hbmFnZXIsdGhpcy5ncmlkPXQsdGhpcy5wZXJzaXN0PSExLHRoaXMucG9zaXRpb249ZSx0aGlzLmJvdW5kcz1zLHRoaXMuc2NhbGU9bix0aGlzLnRvcExlZnQ9cy50b3BMZWZ0LHRoaXMudG9wTWlkZGxlPW5ldyBpLlBvaW50KHMuaGFsZldpZHRoLDApLHRoaXMudG9wUmlnaHQ9cy50b3BSaWdodCx0aGlzLmJvdHRvbUxlZnQ9cy5ib3R0b21MZWZ0LHRoaXMuYm90dG9tTWlkZGxlPW5ldyBpLlBvaW50KHMuaGFsZldpZHRoLHMuYm90dG9tKSx0aGlzLmJvdHRvbVJpZ2h0PXMuYm90dG9tUmlnaHR9LGkuRmxleExheWVyLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGkuR3JvdXAucHJvdG90eXBlKSxpLkZsZXhMYXllci5wcm90b3R5cGUuY29uc3RydWN0b3I9aS5GbGV4TGF5ZXIsaS5GbGV4TGF5ZXIucHJvdG90eXBlLnJlc2l6ZT1mdW5jdGlvbigpe30saS5GbGV4TGF5ZXIucHJvdG90eXBlLmRlYnVnPWZ1bmN0aW9uKCl7dGhpcy5nYW1lLmRlYnVnLnRleHQodGhpcy5ib3VuZHMud2lkdGgrXCIgeCBcIit0aGlzLmJvdW5kcy5oZWlnaHQsdGhpcy5ib3VuZHMueCs0LHRoaXMuYm91bmRzLnkrMTYpLHRoaXMuZ2FtZS5kZWJ1Zy5nZW9tKHRoaXMuYm91bmRzLFwicmdiYSgwLDAsMjU1LDAuOVwiLCExKSx0aGlzLmdhbWUuZGVidWcuZ2VvbSh0aGlzLnRvcExlZnQsXCJyZ2JhKDI1NSwyNTUsMjU1LDAuOVwiKSx0aGlzLmdhbWUuZGVidWcuZ2VvbSh0aGlzLnRvcE1pZGRsZSxcInJnYmEoMjU1LDI1NSwyNTUsMC45XCIpLHRoaXMuZ2FtZS5kZWJ1Zy5nZW9tKHRoaXMudG9wUmlnaHQsXCJyZ2JhKDI1NSwyNTUsMjU1LDAuOVwiKX0saS5Db2xvcj17cGFja1BpeGVsOmZ1bmN0aW9uKHQsZSxzLG4pe3JldHVybiBpLkRldmljZS5MSVRUTEVfRU5ESUFOPyhuPDwyNHxzPDwxNnxlPDw4fHQpPj4+MDoodDw8MjR8ZTw8MTZ8czw8OHxuKT4+PjB9LHVucGFja1BpeGVsOmZ1bmN0aW9uKHQsZSxzLG4pe3JldHVybiB2b2lkIDAhPT1lJiZudWxsIT09ZXx8KGU9aS5Db2xvci5jcmVhdGVDb2xvcigpKSx2b2lkIDAhPT1zJiZudWxsIT09c3x8KHM9ITEpLHZvaWQgMCE9PW4mJm51bGwhPT1ufHwobj0hMSksaS5EZXZpY2UuTElUVExFX0VORElBTj8oZS5hPSg0Mjc4MTkwMDgwJnQpPj4+MjQsZS5iPSgxNjcxMTY4MCZ0KT4+PjE2LGUuZz0oNjUyODAmdCk+Pj44LGUucj0yNTUmdCk6KGUucj0oNDI3ODE5MDA4MCZ0KT4+PjI0LGUuZz0oMTY3MTE2ODAmdCk+Pj4xNixlLmI9KDY1MjgwJnQpPj4+OCxlLmE9MjU1JnQpLGUuY29sb3I9dCxlLnJnYmE9XCJyZ2JhKFwiK2UucitcIixcIitlLmcrXCIsXCIrZS5iK1wiLFwiK2UuYS8yNTUrXCIpXCIscyYmaS5Db2xvci5SR0J0b0hTTChlLnIsZS5nLGUuYixlKSxuJiZpLkNvbG9yLlJHQnRvSFNWKGUucixlLmcsZS5iLGUpLGV9LGZyb21SR0JBOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIGV8fChlPWkuQ29sb3IuY3JlYXRlQ29sb3IoKSksZS5yPSg0Mjc4MTkwMDgwJnQpPj4+MjQsZS5nPSgxNjcxMTY4MCZ0KT4+PjE2LGUuYj0oNjUyODAmdCk+Pj44LGUuYT0yNTUmdCxlLnJnYmE9XCJyZ2JhKFwiK2UucitcIixcIitlLmcrXCIsXCIrZS5iK1wiLFwiK2UuYStcIilcIixlfSx0b1JHQkE6ZnVuY3Rpb24odCxlLGkscyl7cmV0dXJuIHQ8PDI0fGU8PDE2fGk8PDh8c30sdG9BQkdSOmZ1bmN0aW9uKHQsZSxpLHMpe3JldHVybihzPDwyNHxpPDwxNnxlPDw4fHQpPj4+MH0saGV4VG9SR0JBcnJheTpmdW5jdGlvbih0KXtyZXR1cm5bKHQ+PjE2JjI1NSkvMjU1LCh0Pj44JjI1NSkvMjU1LCgyNTUmdCkvMjU1XX0sUkdCQXJyYXlUb0hleDpmdW5jdGlvbih0KXtyZXR1cm4oMjU1KnRbMF08PDE2KSsoMjU1KnRbMV08PDgpKzI1NSp0WzJdfSxSR0J0b0hTTDpmdW5jdGlvbih0LGUscyxuKXtufHwobj1pLkNvbG9yLmNyZWF0ZUNvbG9yKHQsZSxzLDEpKSx0Lz0yNTUsZS89MjU1LHMvPTI1NTt2YXIgbz1NYXRoLm1pbih0LGUscykscj1NYXRoLm1heCh0LGUscyk7aWYobi5oPTAsbi5zPTAsbi5sPShyK28pLzIsciE9PW8pe3ZhciBhPXItbztuLnM9bi5sPi41P2EvKDItci1vKTphLyhyK28pLHI9PT10P24uaD0oZS1zKS9hKyhlPHM/NjowKTpyPT09ZT9uLmg9KHMtdCkvYSsyOnI9PT1zJiYobi5oPSh0LWUpL2ErNCksbi5oLz02fXJldHVybiBufSxIU0x0b1JHQjpmdW5jdGlvbih0LGUscyxuKXtpZihuPyhuLnI9cyxuLmc9cyxuLmI9cyk6bj1pLkNvbG9yLmNyZWF0ZUNvbG9yKHMscyxzKSwwIT09ZSl7dmFyIG89czwuNT9zKigxK2UpOnMrZS1zKmUscj0yKnMtbztuLnI9aS5Db2xvci5odWVUb0NvbG9yKHIsbyx0KzEvMyksbi5nPWkuQ29sb3IuaHVlVG9Db2xvcihyLG8sdCksbi5iPWkuQ29sb3IuaHVlVG9Db2xvcihyLG8sdC0xLzMpfXJldHVybiBuLnI9TWF0aC5mbG9vcigyNTUqbi5yfDApLG4uZz1NYXRoLmZsb29yKDI1NSpuLmd8MCksbi5iPU1hdGguZmxvb3IoMjU1Km4uYnwwKSxpLkNvbG9yLnVwZGF0ZUNvbG9yKG4pLG59LFJHQnRvSFNWOmZ1bmN0aW9uKHQsZSxzLG4pe258fChuPWkuQ29sb3IuY3JlYXRlQ29sb3IodCxlLHMsMjU1KSksdC89MjU1LGUvPTI1NSxzLz0yNTU7dmFyIG89TWF0aC5taW4odCxlLHMpLHI9TWF0aC5tYXgodCxlLHMpLGE9ci1vO3JldHVybiBuLmg9MCxuLnM9MD09PXI/MDphL3Isbi52PXIsciE9PW8mJihyPT09dD9uLmg9KGUtcykvYSsoZTxzPzY6MCk6cj09PWU/bi5oPShzLXQpL2ErMjpyPT09cyYmKG4uaD0odC1lKS9hKzQpLG4uaC89Niksbn0sSFNWdG9SR0I6ZnVuY3Rpb24odCxlLHMsbil7dm9pZCAwPT09biYmKG49aS5Db2xvci5jcmVhdGVDb2xvcigwLDAsMCwxLHQsZSwwLHMpKTt2YXIgbyxyLGEsaD1NYXRoLmZsb29yKDYqdCksbD02KnQtaCxjPXMqKDEtZSksdT1zKigxLWwqZSksZD1zKigxLSgxLWwpKmUpO3N3aXRjaChoJTYpe2Nhc2UgMDpvPXMscj1kLGE9YzticmVhaztjYXNlIDE6bz11LHI9cyxhPWM7YnJlYWs7Y2FzZSAyOm89YyxyPXMsYT1kO2JyZWFrO2Nhc2UgMzpvPWMscj11LGE9czticmVhaztjYXNlIDQ6bz1kLHI9YyxhPXM7YnJlYWs7Y2FzZSA1Om89cyxyPWMsYT11fXJldHVybiBuLnI9TWF0aC5mbG9vcigyNTUqbyksbi5nPU1hdGguZmxvb3IoMjU1KnIpLG4uYj1NYXRoLmZsb29yKDI1NSphKSxpLkNvbG9yLnVwZGF0ZUNvbG9yKG4pLG59LGh1ZVRvQ29sb3I6ZnVuY3Rpb24odCxlLGkpe3JldHVybiBpPDAmJihpKz0xKSxpPjEmJihpLT0xKSxpPDEvNj90KzYqKGUtdCkqaTppPC41P2U6aTwyLzM/dCsoZS10KSooMi8zLWkpKjY6dH0sY3JlYXRlQ29sb3I6ZnVuY3Rpb24odCxlLHMsbixvLHIsYSxoKXt2YXIgbD17cjp0fHwwLGc6ZXx8MCxiOnN8fDAsYTpufHwxLGg6b3x8MCxzOnJ8fDAsbDphfHwwLHY6aHx8MCxjb2xvcjowLGNvbG9yMzI6MCxyZ2JhOlwiXCJ9O3JldHVybiBpLkNvbG9yLnVwZGF0ZUNvbG9yKGwpfSx1cGRhdGVDb2xvcjpmdW5jdGlvbih0KXtyZXR1cm4gdC5yZ2JhPVwicmdiYShcIit0LnIudG9GaXhlZCgpK1wiLFwiK3QuZy50b0ZpeGVkKCkrXCIsXCIrdC5iLnRvRml4ZWQoKStcIixcIit0LmEudG9TdHJpbmcoKStcIilcIix0LmNvbG9yPWkuQ29sb3IuZ2V0Q29sb3IodC5yLHQuZyx0LmIpLHQuY29sb3IzMj1pLkNvbG9yLmdldENvbG9yMzIoMjU1KnQuYSx0LnIsdC5nLHQuYiksdH0sZ2V0Q29sb3IzMjpmdW5jdGlvbih0LGUsaSxzKXtyZXR1cm4gdDw8MjR8ZTw8MTZ8aTw8OHxzfSxnZXRDb2xvcjpmdW5jdGlvbih0LGUsaSl7cmV0dXJuIHQ8PDE2fGU8PDh8aX0sUkdCdG9TdHJpbmc6ZnVuY3Rpb24odCxlLHMsbixvKXtyZXR1cm4gdm9pZCAwPT09biYmKG49MjU1KSx2b2lkIDA9PT1vJiYobz1cIiNcIiksXCIjXCI9PT1vP1wiI1wiKygoMTw8MjQpKyh0PDwxNikrKGU8PDgpK3MpLnRvU3RyaW5nKDE2KS5zbGljZSgxKTpcIjB4XCIraS5Db2xvci5jb21wb25lbnRUb0hleChuKStpLkNvbG9yLmNvbXBvbmVudFRvSGV4KHQpK2kuQ29sb3IuY29tcG9uZW50VG9IZXgoZSkraS5Db2xvci5jb21wb25lbnRUb0hleChzKX0saGV4VG9SR0I6ZnVuY3Rpb24odCl7dmFyIGU9aS5Db2xvci5oZXhUb0NvbG9yKHQpO2lmKGUpcmV0dXJuIGkuQ29sb3IuZ2V0Q29sb3IzMihlLmEsZS5yLGUuZyxlLmIpfSxoZXhUb0NvbG9yOmZ1bmN0aW9uKHQsZSl7dD10LnJlcGxhY2UoL14oPzojfDB4KT8oW2EtZlxcZF0pKFthLWZcXGRdKShbYS1mXFxkXSkkL2ksZnVuY3Rpb24odCxlLGkscyl7cmV0dXJuIGUrZStpK2krcytzfSk7dmFyIHM9L14oPzojfDB4KT8oW2EtZlxcZF17Mn0pKFthLWZcXGRdezJ9KShbYS1mXFxkXXsyfSkkL2kuZXhlYyh0KTtpZihzKXt2YXIgbj1wYXJzZUludChzWzFdLDE2KSxvPXBhcnNlSW50KHNbMl0sMTYpLHI9cGFyc2VJbnQoc1szXSwxNik7ZT8oZS5yPW4sZS5nPW8sZS5iPXIpOmU9aS5Db2xvci5jcmVhdGVDb2xvcihuLG8scil9cmV0dXJuIGV9LHdlYlRvQ29sb3I6ZnVuY3Rpb24odCxlKXtlfHwoZT1pLkNvbG9yLmNyZWF0ZUNvbG9yKCkpO3ZhciBzPS9ecmdiYT9cXChcXHMqKFxcZCspXFxzKixcXHMqKFxcZCspXFxzKixcXHMqKFxcZCspXFxzKig/OixcXHMqKFxcZCsoPzpcXC5cXGQrKT8pKT9cXHMqXFwpJC8uZXhlYyh0KTtyZXR1cm4gcyYmKGUucj1+fk51bWJlcihzWzFdKSxlLmc9fn5OdW1iZXIoc1syXSksZS5iPX5+TnVtYmVyKHNbM10pLGUuYT12b2lkIDAhPT1zWzRdP051bWJlcihzWzRdKToxLGkuQ29sb3IudXBkYXRlQ29sb3IoZSkpLGV9LHZhbHVlVG9Db2xvcjpmdW5jdGlvbih0LGUpe2lmKGV8fChlPWkuQ29sb3IuY3JlYXRlQ29sb3IoKSksXCJzdHJpbmdcIj09dHlwZW9mIHQpcmV0dXJuIDA9PT10LmluZGV4T2YoXCJyZ2JcIik/aS5Db2xvci53ZWJUb0NvbG9yKHQsZSk6KGUuYT0xLGkuQ29sb3IuaGV4VG9Db2xvcih0LGUpKTtpZihcIm51bWJlclwiPT10eXBlb2YgdCl7dmFyIHM9aS5Db2xvci5nZXRSR0IodCk7cmV0dXJuIGUucj1zLnIsZS5nPXMuZyxlLmI9cy5iLGUuYT1zLmEvMjU1LGV9cmV0dXJuIGV9LGNvbXBvbmVudFRvSGV4OmZ1bmN0aW9uKHQpe3ZhciBlPXQudG9TdHJpbmcoMTYpO3JldHVybiAxPT09ZS5sZW5ndGg/XCIwXCIrZTplfSxIU1ZDb2xvcldoZWVsOmZ1bmN0aW9uKHQsZSl7dm9pZCAwPT09dCYmKHQ9MSksdm9pZCAwPT09ZSYmKGU9MSk7Zm9yKHZhciBzPVtdLG49MDtuPD0zNTk7bisrKXMucHVzaChpLkNvbG9yLkhTVnRvUkdCKG4vMzU5LHQsZSkpO3JldHVybiBzfSxIU0xDb2xvcldoZWVsOmZ1bmN0aW9uKHQsZSl7dm9pZCAwPT09dCYmKHQ9LjUpLHZvaWQgMD09PWUmJihlPS41KTtmb3IodmFyIHM9W10sbj0wO248PTM1OTtuKyspcy5wdXNoKGkuQ29sb3IuSFNMdG9SR0Iobi8zNTksdCxlKSk7cmV0dXJuIHN9LGludGVycG9sYXRlQ29sb3I6ZnVuY3Rpb24odCxlLHMsbixvLHIpe3ZvaWQgMD09PW8mJihvPTI1NSksdm9pZCAwPT09ciYmKHI9MCk7dmFyIGE9aS5Db2xvci5nZXRSR0IodCksaD1pLkNvbG9yLmdldFJHQihlKTtpZigwPT09cil2YXIgbD0oaC5yZWQtYS5yZWQpKm4vcythLnJlZCxjPShoLmdyZWVuLWEuZ3JlZW4pKm4vcythLmdyZWVuLHU9KGguYmx1ZS1hLmJsdWUpKm4vcythLmJsdWU7aWYoMT09PXIpe3ZhciBkLHA9aS5Db2xvci5SR0J0b0hTVihhLnIsYS5nLGEuYiksZj1pLkNvbG9yLlJHQnRvSFNWKGgucixoLmcsaC5iKSxtPWYuaC1wLmg7aWYocC5oPmYuaCl7dmFyIGc9Zi5oO2YuaD1wLmgscC5oPWcsbT0tbSxuPXMtbn1tPi41JiYocC5oPXAuaCsxLGQ9KChmLmgtcC5oKSpuL3MrcC5oKSUxKSxtPD0uNSYmKGQ9KGYuaC1wLmgpKm4vcytwLmgpO3ZhciB5PShmLnMtcC5zKSpuL3MrcC5zLHY9KGYudi1wLnYpKm4vcytwLnYseD1pLkNvbG9yLkhTVnRvUkdCKGQseSx2LHgpLGw9eC5yLGM9eC5nLHU9eC5ifXJldHVybiBpLkNvbG9yLmdldENvbG9yMzIobyxsLGMsdSl9LGludGVycG9sYXRlQ29sb3JXaXRoUkdCOmZ1bmN0aW9uKHQsZSxzLG4sbyxyKXt2YXIgYT1pLkNvbG9yLmdldFJHQih0KSxoPShlLWEucmVkKSpyL28rYS5yZWQsbD0ocy1hLmdyZWVuKSpyL28rYS5ncmVlbixjPShuLWEuYmx1ZSkqci9vK2EuYmx1ZTtyZXR1cm4gaS5Db2xvci5nZXRDb2xvcihoLGwsYyl9LGludGVycG9sYXRlUkdCOmZ1bmN0aW9uKHQsZSxzLG4sbyxyLGEsaCl7dmFyIGw9KG4tdCkqaC9hK3QsYz0oby1lKSpoL2ErZSx1PShyLXMpKmgvYStzO3JldHVybiBpLkNvbG9yLmdldENvbG9yKGwsYyx1KX0sbGluZWFyOmZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gdGhpcy5pbnRlcnBvbGF0ZUNvbG9yKHQsZSwxLGkpfSxsaW5lYXJJbnRlcnBvbGF0aW9uOmZ1bmN0aW9uKHQsZSl7dmFyIHM9aS5NYXRoLmxpbmVhcigwLHQubGVuZ3RoLTEsZSksbj10W01hdGguZmxvb3IocyldLG89dFtNYXRoLmNlaWwocyldO3JldHVybiB0aGlzLmxpbmVhcihuLG8scyUxKX0sZ2V0UmFuZG9tQ29sb3I6ZnVuY3Rpb24odCxlLHMpe2lmKHZvaWQgMD09PXQmJih0PTApLHZvaWQgMD09PWUmJihlPTI1NSksdm9pZCAwPT09cyYmKHM9MjU1KSxlPjI1NXx8dD5lKXJldHVybiBpLkNvbG9yLmdldENvbG9yKDI1NSwyNTUsMjU1KTt2YXIgbj10K01hdGgucm91bmQoTWF0aC5yYW5kb20oKSooZS10KSksbz10K01hdGgucm91bmQoTWF0aC5yYW5kb20oKSooZS10KSkscj10K01hdGgucm91bmQoTWF0aC5yYW5kb20oKSooZS10KSk7cmV0dXJuIGkuQ29sb3IuZ2V0Q29sb3IzMihzLG4sbyxyKX0sZ2V0UkdCOmZ1bmN0aW9uKHQpe3JldHVybiB0PjE2Nzc3MjE1P3thbHBoYTp0Pj4+MjQscmVkOnQ+PjE2JjI1NSxncmVlbjp0Pj44JjI1NSxibHVlOjI1NSZ0LGE6dD4+PjI0LHI6dD4+MTYmMjU1LGc6dD4+OCYyNTUsYjoyNTUmdH06e2FscGhhOjI1NSxyZWQ6dD4+MTYmMjU1LGdyZWVuOnQ+PjgmMjU1LGJsdWU6MjU1JnQsYToyNTUscjp0Pj4xNiYyNTUsZzp0Pj44JjI1NSxiOjI1NSZ0fX0sZ2V0V2ViUkdCOmZ1bmN0aW9uKHQpe2lmKFwib2JqZWN0XCI9PXR5cGVvZiB0KXJldHVyblwicmdiYShcIit0LnIudG9TdHJpbmcoKStcIixcIit0LmcudG9TdHJpbmcoKStcIixcIit0LmIudG9TdHJpbmcoKStcIixcIisodC5hLzI1NSkudG9TdHJpbmcoKStcIilcIjt2YXIgZT1pLkNvbG9yLmdldFJHQih0KTtyZXR1cm5cInJnYmEoXCIrZS5yLnRvU3RyaW5nKCkrXCIsXCIrZS5nLnRvU3RyaW5nKCkrXCIsXCIrZS5iLnRvU3RyaW5nKCkrXCIsXCIrKGUuYS8yNTUpLnRvU3RyaW5nKCkrXCIpXCJ9LGdldEFscGhhOmZ1bmN0aW9uKHQpe3JldHVybiB0Pj4+MjR9LGdldEFscGhhRmxvYXQ6ZnVuY3Rpb24odCl7cmV0dXJuKHQ+Pj4yNCkvMjU1fSxnZXRSZWQ6ZnVuY3Rpb24odCl7cmV0dXJuIHQ+PjE2JjI1NX0sZ2V0R3JlZW46ZnVuY3Rpb24odCl7cmV0dXJuIHQ+PjgmMjU1fSxnZXRCbHVlOmZ1bmN0aW9uKHQpe3JldHVybiAyNTUmdH0sYmxlbmROb3JtYWw6ZnVuY3Rpb24odCl7cmV0dXJuIHR9LGJsZW5kTGlnaHRlbjpmdW5jdGlvbih0LGUpe3JldHVybiBlPnQ/ZTp0fSxibGVuZERhcmtlbjpmdW5jdGlvbih0LGUpe3JldHVybiBlPnQ/dDplfSxibGVuZE11bHRpcGx5OmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQqZS8yNTV9LGJsZW5kQXZlcmFnZTpmdW5jdGlvbih0LGUpe3JldHVybih0K2UpLzJ9LGJsZW5kQWRkOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIE1hdGgubWluKDI1NSx0K2UpfSxibGVuZFN1YnRyYWN0OmZ1bmN0aW9uKHQsZSl7cmV0dXJuIE1hdGgubWF4KDAsdCtlLTI1NSl9LGJsZW5kRGlmZmVyZW5jZTpmdW5jdGlvbih0LGUpe3JldHVybiBNYXRoLmFicyh0LWUpfSxibGVuZE5lZ2F0aW9uOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIDI1NS1NYXRoLmFicygyNTUtdC1lKX0sYmxlbmRTY3JlZW46ZnVuY3Rpb24odCxlKXtyZXR1cm4gMjU1LSgoMjU1LXQpKigyNTUtZSk+PjgpfSxibGVuZEV4Y2x1c2lvbjpmdW5jdGlvbih0LGUpe3JldHVybiB0K2UtMip0KmUvMjU1fSxibGVuZE92ZXJsYXk6ZnVuY3Rpb24odCxlKXtyZXR1cm4gZTwxMjg/Mip0KmUvMjU1OjI1NS0yKigyNTUtdCkqKDI1NS1lKS8yNTV9LGJsZW5kU29mdExpZ2h0OmZ1bmN0aW9uKHQsZSl7cmV0dXJuIGU8MTI4PzIqKDY0Kyh0Pj4xKSkqKGUvMjU1KToyNTUtMiooMjU1LSg2NCsodD4+MSkpKSooMjU1LWUpLzI1NX0sYmxlbmRIYXJkTGlnaHQ6ZnVuY3Rpb24odCxlKXtyZXR1cm4gaS5Db2xvci5ibGVuZE92ZXJsYXkoZSx0KX0sYmxlbmRDb2xvckRvZGdlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIDI1NT09PWU/ZTpNYXRoLm1pbigyNTUsKHQ8PDgpLygyNTUtZSkpfSxibGVuZENvbG9yQnVybjpmdW5jdGlvbih0LGUpe3JldHVybiAwPT09ZT9lOk1hdGgubWF4KDAsMjU1LSgyNTUtdDw8OCkvZSl9LGJsZW5kTGluZWFyRG9kZ2U6ZnVuY3Rpb24odCxlKXtyZXR1cm4gaS5Db2xvci5ibGVuZEFkZCh0LGUpfSxibGVuZExpbmVhckJ1cm46ZnVuY3Rpb24odCxlKXtyZXR1cm4gaS5Db2xvci5ibGVuZFN1YnRyYWN0KHQsZSl9LGJsZW5kTGluZWFyTGlnaHQ6ZnVuY3Rpb24odCxlKXtyZXR1cm4gZTwxMjg/aS5Db2xvci5ibGVuZExpbmVhckJ1cm4odCwyKmUpOmkuQ29sb3IuYmxlbmRMaW5lYXJEb2RnZSh0LDIqKGUtMTI4KSl9LGJsZW5kVml2aWRMaWdodDpmdW5jdGlvbih0LGUpe3JldHVybiBlPDEyOD9pLkNvbG9yLmJsZW5kQ29sb3JCdXJuKHQsMiplKTppLkNvbG9yLmJsZW5kQ29sb3JEb2RnZSh0LDIqKGUtMTI4KSl9LGJsZW5kUGluTGlnaHQ6ZnVuY3Rpb24odCxlKXtyZXR1cm4gZTwxMjg/aS5Db2xvci5ibGVuZERhcmtlbih0LDIqZSk6aS5Db2xvci5ibGVuZExpZ2h0ZW4odCwyKihlLTEyOCkpfSxibGVuZEhhcmRNaXg6ZnVuY3Rpb24odCxlKXtyZXR1cm4gaS5Db2xvci5ibGVuZFZpdmlkTGlnaHQodCxlKTwxMjg/MDoyNTV9LGJsZW5kUmVmbGVjdDpmdW5jdGlvbih0LGUpe3JldHVybiAyNTU9PT1lP2U6TWF0aC5taW4oMjU1LHQqdC8oMjU1LWUpKX0sYmxlbmRHbG93OmZ1bmN0aW9uKHQsZSl7cmV0dXJuIGkuQ29sb3IuYmxlbmRSZWZsZWN0KGUsdCl9LGJsZW5kUGhvZW5peDpmdW5jdGlvbih0LGUpe3JldHVybiBNYXRoLm1pbih0LGUpLU1hdGgubWF4KHQsZSkrMjU1fX0saS5QaHlzaWNzPWZ1bmN0aW9uKHQsZSl7ZT1lfHx7fSx0aGlzLmdhbWU9dCx0aGlzLmNvbmZpZz1lLHRoaXMuYXJjYWRlPW51bGwsdGhpcy5wMj1udWxsLHRoaXMubmluamE9bnVsbCx0aGlzLmJveDJkPW51bGwsdGhpcy5jaGlwbXVuaz1udWxsLHRoaXMubWF0dGVyPW51bGwsdGhpcy5wYXJzZUNvbmZpZygpfSxpLlBoeXNpY3MuQVJDQURFPTAsaS5QaHlzaWNzLlAySlM9MSxpLlBoeXNpY3MuTklOSkE9MixpLlBoeXNpY3MuQk9YMkQ9MyxpLlBoeXNpY3MuQ0hJUE1VTks9NCxpLlBoeXNpY3MuTUFUVEVSSlM9NSxpLlBoeXNpY3MucHJvdG90eXBlPXtwYXJzZUNvbmZpZzpmdW5jdGlvbigpe3RoaXMuY29uZmlnLmhhc093blByb3BlcnR5KFwiYXJjYWRlXCIpJiYhMCE9PXRoaXMuY29uZmlnLmFyY2FkZXx8IWkuUGh5c2ljcy5oYXNPd25Qcm9wZXJ0eShcIkFyY2FkZVwiKXx8KHRoaXMuYXJjYWRlPW5ldyBpLlBoeXNpY3MuQXJjYWRlKHRoaXMuZ2FtZSkpLHRoaXMuY29uZmlnLmhhc093blByb3BlcnR5KFwibmluamFcIikmJiEwPT09dGhpcy5jb25maWcubmluamEmJmkuUGh5c2ljcy5oYXNPd25Qcm9wZXJ0eShcIk5pbmphXCIpJiYodGhpcy5uaW5qYT1uZXcgaS5QaHlzaWNzLk5pbmphKHRoaXMuZ2FtZSkpLHRoaXMuY29uZmlnLmhhc093blByb3BlcnR5KFwicDJcIikmJiEwPT09dGhpcy5jb25maWcucDImJmkuUGh5c2ljcy5oYXNPd25Qcm9wZXJ0eShcIlAyXCIpJiYodGhpcy5wMj1uZXcgaS5QaHlzaWNzLlAyKHRoaXMuZ2FtZSx0aGlzLmNvbmZpZykpLHRoaXMuY29uZmlnLmhhc093blByb3BlcnR5KFwiYm94MmRcIikmJiEwPT09dGhpcy5jb25maWcuYm94MmQmJmkuUGh5c2ljcy5oYXNPd25Qcm9wZXJ0eShcIkJPWDJEXCIpJiYodGhpcy5ib3gyZD1uZXcgaS5QaHlzaWNzLkJPWDJEKHRoaXMuZ2FtZSx0aGlzLmNvbmZpZykpLHRoaXMuY29uZmlnLmhhc093blByb3BlcnR5KFwibWF0dGVyXCIpJiYhMD09PXRoaXMuY29uZmlnLm1hdHRlciYmaS5QaHlzaWNzLmhhc093blByb3BlcnR5KFwiTWF0dGVyXCIpJiYodGhpcy5tYXR0ZXI9bmV3IGkuUGh5c2ljcy5NYXR0ZXIodGhpcy5nYW1lLHRoaXMuY29uZmlnKSl9LHN0YXJ0U3lzdGVtOmZ1bmN0aW9uKHQpe3Q9PT1pLlBoeXNpY3MuQVJDQURFP3RoaXMuYXJjYWRlPW5ldyBpLlBoeXNpY3MuQXJjYWRlKHRoaXMuZ2FtZSk6dD09PWkuUGh5c2ljcy5QMkpTP251bGw9PT10aGlzLnAyP3RoaXMucDI9bmV3IGkuUGh5c2ljcy5QMih0aGlzLmdhbWUsdGhpcy5jb25maWcpOnRoaXMucDIucmVzZXQoKTp0PT09aS5QaHlzaWNzLk5JTkpBP3RoaXMubmluamE9bmV3IGkuUGh5c2ljcy5OaW5qYSh0aGlzLmdhbWUpOnQ9PT1pLlBoeXNpY3MuQk9YMkQ/bnVsbD09PXRoaXMuYm94MmQ/dGhpcy5ib3gyZD1uZXcgaS5QaHlzaWNzLkJveDJEKHRoaXMuZ2FtZSx0aGlzLmNvbmZpZyk6dGhpcy5ib3gyZC5yZXNldCgpOnQ9PT1pLlBoeXNpY3MuTUFUVEVSSlMmJihudWxsPT09dGhpcy5tYXR0ZXI/dGhpcy5tYXR0ZXI9bmV3IGkuUGh5c2ljcy5NYXR0ZXIodGhpcy5nYW1lLHRoaXMuY29uZmlnKTp0aGlzLm1hdHRlci5yZXNldCgpKX0sZW5hYmxlOmZ1bmN0aW9uKHQsZSxzKXt2b2lkIDA9PT1lJiYoZT1pLlBoeXNpY3MuQVJDQURFKSx2b2lkIDA9PT1zJiYocz0hMSksZT09PWkuUGh5c2ljcy5BUkNBREU/dGhpcy5hcmNhZGUuZW5hYmxlKHQpOmU9PT1pLlBoeXNpY3MuUDJKUyYmdGhpcy5wMj90aGlzLnAyLmVuYWJsZSh0LHMpOmU9PT1pLlBoeXNpY3MuTklOSkEmJnRoaXMubmluamE/dGhpcy5uaW5qYS5lbmFibGVBQUJCKHQpOmU9PT1pLlBoeXNpY3MuQk9YMkQmJnRoaXMuYm94MmQ/dGhpcy5ib3gyZC5lbmFibGUodCk6ZT09PWkuUGh5c2ljcy5NQVRURVJKUyYmdGhpcy5tYXR0ZXI/dGhpcy5tYXR0ZXIuZW5hYmxlKHQpOmNvbnNvbGUud2Fybih0LmtleStcIiBpcyBhdHRlbXB0aW5nIHRvIGVuYWJsZSBhIHBoeXNpY3MgYm9keSB1c2luZyBhbiB1bmtub3duIHBoeXNpY3Mgc3lzdGVtLlwiKX0scHJlVXBkYXRlOmZ1bmN0aW9uKCl7dGhpcy5wMiYmdGhpcy5wMi5wcmVVcGRhdGUoKSx0aGlzLmJveDJkJiZ0aGlzLmJveDJkLnByZVVwZGF0ZSgpLHRoaXMubWF0dGVyJiZ0aGlzLm1hdHRlci5wcmVVcGRhdGUoKX0sdXBkYXRlOmZ1bmN0aW9uKCl7dGhpcy5wMiYmdGhpcy5wMi51cGRhdGUoKSx0aGlzLmJveDJkJiZ0aGlzLmJveDJkLnVwZGF0ZSgpLHRoaXMubWF0dGVyJiZ0aGlzLm1hdHRlci51cGRhdGUoKX0sc2V0Qm91bmRzVG9Xb3JsZDpmdW5jdGlvbigpe3RoaXMuYXJjYWRlJiZ0aGlzLmFyY2FkZS5zZXRCb3VuZHNUb1dvcmxkKCksdGhpcy5uaW5qYSYmdGhpcy5uaW5qYS5zZXRCb3VuZHNUb1dvcmxkKCksdGhpcy5wMiYmdGhpcy5wMi5zZXRCb3VuZHNUb1dvcmxkKCksdGhpcy5ib3gyZCYmdGhpcy5ib3gyZC5zZXRCb3VuZHNUb1dvcmxkKCksdGhpcy5tYXR0ZXImJnRoaXMubWF0dGVyLnNldEJvdW5kc1RvV29ybGQoKX0sY2xlYXI6ZnVuY3Rpb24oKXt0aGlzLnAyJiZ0aGlzLnAyLmNsZWFyKCksdGhpcy5ib3gyZCYmdGhpcy5ib3gyZC5jbGVhcigpLHRoaXMubWF0dGVyJiZ0aGlzLm1hdHRlci5jbGVhcigpfSxyZXNldDpmdW5jdGlvbigpe3RoaXMucDImJnRoaXMucDIucmVzZXQoKSx0aGlzLmJveDJkJiZ0aGlzLmJveDJkLnJlc2V0KCksdGhpcy5tYXR0ZXImJnRoaXMubWF0dGVyLnJlc2V0KCl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLnAyJiZ0aGlzLnAyLmRlc3Ryb3koKSx0aGlzLmJveDJkJiZ0aGlzLmJveDJkLmRlc3Ryb3koKSx0aGlzLm1hdHRlciYmdGhpcy5tYXR0ZXIuZGVzdHJveSgpLHRoaXMuYXJjYWRlPW51bGwsdGhpcy5uaW5qYT1udWxsLHRoaXMucDI9bnVsbCx0aGlzLmJveDJkPW51bGwsdGhpcy5tYXR0ZXI9bnVsbH19LGkuUGh5c2ljcy5wcm90b3R5cGUuY29uc3RydWN0b3I9aS5QaHlzaWNzLGkuUGh5c2ljcy5BcmNhZGU9ZnVuY3Rpb24odCl7dGhpcy5nYW1lPXQsdGhpcy5ncmF2aXR5PW5ldyBpLlBvaW50LHRoaXMuYm91bmRzPW5ldyBpLlJlY3RhbmdsZSgwLDAsdC53b3JsZC53aWR0aCx0LndvcmxkLmhlaWdodCksdGhpcy5jaGVja0NvbGxpc2lvbj17dXA6ITAsZG93bjohMCxsZWZ0OiEwLHJpZ2h0OiEwfSx0aGlzLm1heE9iamVjdHM9MTAsdGhpcy5tYXhMZXZlbHM9NCx0aGlzLk9WRVJMQVBfQklBUz00LHRoaXMuZm9yY2VYPSExLHRoaXMuc29ydERpcmVjdGlvbj1pLlBoeXNpY3MuQXJjYWRlLkxFRlRfUklHSFQsdGhpcy5za2lwUXVhZFRyZWU9ITAsdGhpcy5pc1BhdXNlZD0hMSx0aGlzLnF1YWRUcmVlPW5ldyBpLlF1YWRUcmVlKHRoaXMuZ2FtZS53b3JsZC5ib3VuZHMueCx0aGlzLmdhbWUud29ybGQuYm91bmRzLnksdGhpcy5nYW1lLndvcmxkLmJvdW5kcy53aWR0aCx0aGlzLmdhbWUud29ybGQuYm91bmRzLmhlaWdodCx0aGlzLm1heE9iamVjdHMsdGhpcy5tYXhMZXZlbHMpLHRoaXMuX3RvdGFsPTAsdGhpcy5zZXRCb3VuZHNUb1dvcmxkKCl9LGkuUGh5c2ljcy5BcmNhZGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWkuUGh5c2ljcy5BcmNhZGUsaS5QaHlzaWNzLkFyY2FkZS5TT1JUX05PTkU9MCxpLlBoeXNpY3MuQXJjYWRlLkxFRlRfUklHSFQ9MSxpLlBoeXNpY3MuQXJjYWRlLlJJR0hUX0xFRlQ9MixpLlBoeXNpY3MuQXJjYWRlLlRPUF9CT1RUT009MyxpLlBoeXNpY3MuQXJjYWRlLkJPVFRPTV9UT1A9NCxpLlBoeXNpY3MuQXJjYWRlLnByb3RvdHlwZT17c2V0Qm91bmRzOmZ1bmN0aW9uKHQsZSxpLHMpe3RoaXMuYm91bmRzLnNldFRvKHQsZSxpLHMpfSxzZXRCb3VuZHNUb1dvcmxkOmZ1bmN0aW9uKCl7dGhpcy5ib3VuZHMuY29weUZyb20odGhpcy5nYW1lLndvcmxkLmJvdW5kcyl9LGVuYWJsZTpmdW5jdGlvbih0LGUpe3ZvaWQgMD09PWUmJihlPSEwKTt2YXIgcz0xO2lmKEFycmF5LmlzQXJyYXkodCkpZm9yKHM9dC5sZW5ndGg7cy0tOyl0W3NdaW5zdGFuY2VvZiBpLkdyb3VwP3RoaXMuZW5hYmxlKHRbc10uY2hpbGRyZW4sZSk6KHRoaXMuZW5hYmxlQm9keSh0W3NdKSxlJiZ0W3NdLmhhc093blByb3BlcnR5KFwiY2hpbGRyZW5cIikmJnRbc10uY2hpbGRyZW4ubGVuZ3RoPjAmJnRoaXMuZW5hYmxlKHRbc10sITApKTtlbHNlIHQgaW5zdGFuY2VvZiBpLkdyb3VwP3RoaXMuZW5hYmxlKHQuY2hpbGRyZW4sZSk6KHRoaXMuZW5hYmxlQm9keSh0KSxlJiZ0Lmhhc093blByb3BlcnR5KFwiY2hpbGRyZW5cIikmJnQuY2hpbGRyZW4ubGVuZ3RoPjAmJnRoaXMuZW5hYmxlKHQuY2hpbGRyZW4sITApKX0sZW5hYmxlQm9keTpmdW5jdGlvbih0KXt0Lmhhc093blByb3BlcnR5KFwiYm9keVwiKSYmbnVsbD09PXQuYm9keSYmKHQuYm9keT1uZXcgaS5QaHlzaWNzLkFyY2FkZS5Cb2R5KHQpLHQucGFyZW50JiZ0LnBhcmVudCBpbnN0YW5jZW9mIGkuR3JvdXAmJnQucGFyZW50LmFkZFRvSGFzaCh0KSl9LHVwZGF0ZU1vdGlvbjpmdW5jdGlvbih0KXtpZih0LmFsbG93Um90YXRpb24pe3ZhciBlPXRoaXMuY29tcHV0ZVZlbG9jaXR5KDAsdCx0LmFuZ3VsYXJWZWxvY2l0eSx0LmFuZ3VsYXJBY2NlbGVyYXRpb24sdC5hbmd1bGFyRHJhZyx0Lm1heEFuZ3VsYXIpLXQuYW5ndWxhclZlbG9jaXR5O3QuYW5ndWxhclZlbG9jaXR5Kz1lLHQucm90YXRpb24rPXQuYW5ndWxhclZlbG9jaXR5KnRoaXMuZ2FtZS50aW1lLnBoeXNpY3NFbGFwc2VkfXQudmVsb2NpdHkueD10aGlzLmNvbXB1dGVWZWxvY2l0eSgxLHQsdC52ZWxvY2l0eS54LHQuYWNjZWxlcmF0aW9uLngsdC5kcmFnLngsdC5tYXhWZWxvY2l0eS54KSx0LnZlbG9jaXR5Lnk9dGhpcy5jb21wdXRlVmVsb2NpdHkoMix0LHQudmVsb2NpdHkueSx0LmFjY2VsZXJhdGlvbi55LHQuZHJhZy55LHQubWF4VmVsb2NpdHkueSl9LGNvbXB1dGVWZWxvY2l0eTpmdW5jdGlvbih0LGUsaSxzLG4sbyl7cmV0dXJuIHZvaWQgMD09PW8mJihvPTFlNCksMT09PXQmJmUuYWxsb3dHcmF2aXR5P2krPSh0aGlzLmdyYXZpdHkueCtlLmdyYXZpdHkueCkqdGhpcy5nYW1lLnRpbWUucGh5c2ljc0VsYXBzZWQ6Mj09PXQmJmUuYWxsb3dHcmF2aXR5JiYoaSs9KHRoaXMuZ3Jhdml0eS55K2UuZ3Jhdml0eS55KSp0aGlzLmdhbWUudGltZS5waHlzaWNzRWxhcHNlZCkscz9pKz1zKnRoaXMuZ2FtZS50aW1lLnBoeXNpY3NFbGFwc2VkOm4mJmUuYWxsb3dEcmFnJiYoaS0obio9dGhpcy5nYW1lLnRpbWUucGh5c2ljc0VsYXBzZWQpPjA/aS09bjppK248MD9pKz1uOmk9MCksaT5vP2k9bzppPC1vJiYoaT0tbyksaX0sb3ZlcmxhcDpmdW5jdGlvbih0LGUsaSxzLG4pe3JldHVybiBpPWl8fG51bGwscz1zfHxudWxsLG49bnx8aSx0aGlzLl90b3RhbD0wLHRoaXMuY29sbGlkZU9iamVjdHModCxlLGkscyxuLCEwKSx0aGlzLl90b3RhbD4wfSxjb2xsaWRlOmZ1bmN0aW9uKHQsZSxpLHMsbil7cmV0dXJuIGk9aXx8bnVsbCxzPXN8fG51bGwsbj1ufHxpLHRoaXMuX3RvdGFsPTAsdGhpcy5jb2xsaWRlT2JqZWN0cyh0LGUsaSxzLG4sITEpLHRoaXMuX3RvdGFsPjB9LHNvcnRMZWZ0UmlnaHQ6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5ib2R5JiZlLmJvZHk/dC5ib2R5LngtZS5ib2R5Lng6MH0sc29ydFJpZ2h0TGVmdDpmdW5jdGlvbih0LGUpe3JldHVybiB0LmJvZHkmJmUuYm9keT9lLmJvZHkueC10LmJvZHkueDowfSxzb3J0VG9wQm90dG9tOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuYm9keSYmZS5ib2R5P3QuYm9keS55LWUuYm9keS55OjB9LHNvcnRCb3R0b21Ub3A6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5ib2R5JiZlLmJvZHk/ZS5ib2R5LnktdC5ib2R5Lnk6MH0sc29ydDpmdW5jdGlvbih0LGUpe251bGwhPT10LnBoeXNpY3NTb3J0RGlyZWN0aW9uP2U9dC5waHlzaWNzU29ydERpcmVjdGlvbjp2b2lkIDA9PT1lJiYoZT10aGlzLnNvcnREaXJlY3Rpb24pLGU9PT1pLlBoeXNpY3MuQXJjYWRlLkxFRlRfUklHSFQ/dC5oYXNoLnNvcnQodGhpcy5zb3J0TGVmdFJpZ2h0KTplPT09aS5QaHlzaWNzLkFyY2FkZS5SSUdIVF9MRUZUP3QuaGFzaC5zb3J0KHRoaXMuc29ydFJpZ2h0TGVmdCk6ZT09PWkuUGh5c2ljcy5BcmNhZGUuVE9QX0JPVFRPTT90Lmhhc2guc29ydCh0aGlzLnNvcnRUb3BCb3R0b20pOmU9PT1pLlBoeXNpY3MuQXJjYWRlLkJPVFRPTV9UT1AmJnQuaGFzaC5zb3J0KHRoaXMuc29ydEJvdHRvbVRvcCl9LGNvbGxpZGVPYmplY3RzOmZ1bmN0aW9uKHQsZSxpLHMsbixvKXtpZighQXJyYXkuaXNBcnJheSh0KSYmQXJyYXkuaXNBcnJheShlKSlmb3Iocj0wO3I8ZS5sZW5ndGg7cisrKWVbcl0mJnRoaXMuY29sbGlkZUhhbmRsZXIodCxlW3JdLGkscyxuLG8pO2Vsc2UgaWYoQXJyYXkuaXNBcnJheSh0KSYmIUFycmF5LmlzQXJyYXkoZSkpZm9yKHI9MDtyPHQubGVuZ3RoO3IrKyl0W3JdJiZ0aGlzLmNvbGxpZGVIYW5kbGVyKHRbcl0sZSxpLHMsbixvKTtlbHNlIGlmKEFycmF5LmlzQXJyYXkodCkmJkFycmF5LmlzQXJyYXkoZSkpe2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKWlmKHRbcl0pZm9yKHZhciBhPTA7YTxlLmxlbmd0aDthKyspZVthXSYmdGhpcy5jb2xsaWRlSGFuZGxlcih0W3JdLGVbYV0saSxzLG4sbyl9ZWxzZSB0aGlzLmNvbGxpZGVIYW5kbGVyKHQsZSxpLHMsbixvKX0sY29sbGlkZUhhbmRsZXI6ZnVuY3Rpb24odCxlLHMsbixvLHIpe2lmKHZvaWQgMD09PWUmJnQucGh5c2ljc1R5cGU9PT1pLkdST1VQKXJldHVybiB0aGlzLnNvcnQodCksdm9pZCB0aGlzLmNvbGxpZGVHcm91cFZzU2VsZih0LHMsbixvLHIpO3QmJmUmJnQuZXhpc3RzJiZlLmV4aXN0cyYmKHRoaXMuc29ydERpcmVjdGlvbiE9PWkuUGh5c2ljcy5BcmNhZGUuU09SVF9OT05FJiYodC5waHlzaWNzVHlwZT09PWkuR1JPVVAmJnRoaXMuc29ydCh0KSxlLnBoeXNpY3NUeXBlPT09aS5HUk9VUCYmdGhpcy5zb3J0KGUpKSx0LnBoeXNpY3NUeXBlPT09aS5TUFJJVEU/ZS5waHlzaWNzVHlwZT09PWkuU1BSSVRFP3RoaXMuY29sbGlkZVNwcml0ZVZzU3ByaXRlKHQsZSxzLG4sbyxyKTplLnBoeXNpY3NUeXBlPT09aS5HUk9VUD90aGlzLmNvbGxpZGVTcHJpdGVWc0dyb3VwKHQsZSxzLG4sbyxyKTplLnBoeXNpY3NUeXBlPT09aS5USUxFTUFQTEFZRVImJnRoaXMuY29sbGlkZVNwcml0ZVZzVGlsZW1hcExheWVyKHQsZSxzLG4sbyxyKTp0LnBoeXNpY3NUeXBlPT09aS5HUk9VUD9lLnBoeXNpY3NUeXBlPT09aS5TUFJJVEU/dGhpcy5jb2xsaWRlU3ByaXRlVnNHcm91cChlLHQscyxuLG8scik6ZS5waHlzaWNzVHlwZT09PWkuR1JPVVA/dGhpcy5jb2xsaWRlR3JvdXBWc0dyb3VwKHQsZSxzLG4sbyxyKTplLnBoeXNpY3NUeXBlPT09aS5USUxFTUFQTEFZRVImJnRoaXMuY29sbGlkZUdyb3VwVnNUaWxlbWFwTGF5ZXIodCxlLHMsbixvLHIpOnQucGh5c2ljc1R5cGU9PT1pLlRJTEVNQVBMQVlFUiYmKGUucGh5c2ljc1R5cGU9PT1pLlNQUklURT90aGlzLmNvbGxpZGVTcHJpdGVWc1RpbGVtYXBMYXllcihlLHQscyxuLG8scik6ZS5waHlzaWNzVHlwZT09PWkuR1JPVVAmJnRoaXMuY29sbGlkZUdyb3VwVnNUaWxlbWFwTGF5ZXIoZSx0LHMsbixvLHIpKSl9LGNvbGxpZGVTcHJpdGVWc1Nwcml0ZTpmdW5jdGlvbih0LGUsaSxzLG4sbyl7cmV0dXJuISghdC5ib2R5fHwhZS5ib2R5KSYmKHRoaXMuc2VwYXJhdGUodC5ib2R5LGUuYm9keSxzLG4sbykmJihpJiZpLmNhbGwobix0LGUpLHRoaXMuX3RvdGFsKyspLCEwKX0sY29sbGlkZVNwcml0ZVZzR3JvdXA6ZnVuY3Rpb24odCxlLHMsbixvLHIpe2lmKDAhPT1lLmxlbmd0aCYmdC5ib2R5KWlmKHRoaXMuc2tpcFF1YWRUcmVlfHx0LmJvZHkuc2tpcFF1YWRUcmVlKWZvcih2YXIgYT17fSxoPTA7aDxlLmhhc2gubGVuZ3RoO2grKyl7dmFyIGw9ZS5oYXNoW2hdO2lmKGwmJmwuZXhpc3RzJiZsLmJvZHkpe2lmKGE9bC5ib2R5LmdldEJvdW5kcyhhKSx0aGlzLnNvcnREaXJlY3Rpb249PT1pLlBoeXNpY3MuQXJjYWRlLkxFRlRfUklHSFQpe2lmKHQuYm9keS5yaWdodDxhLngpYnJlYWs7aWYoYS5yaWdodDx0LmJvZHkueCljb250aW51ZX1lbHNlIGlmKHRoaXMuc29ydERpcmVjdGlvbj09PWkuUGh5c2ljcy5BcmNhZGUuUklHSFRfTEVGVCl7aWYodC5ib2R5Lng+YS5yaWdodClicmVhaztpZihhLng+dC5ib2R5LnJpZ2h0KWNvbnRpbnVlfWVsc2UgaWYodGhpcy5zb3J0RGlyZWN0aW9uPT09aS5QaHlzaWNzLkFyY2FkZS5UT1BfQk9UVE9NKXtpZih0LmJvZHkuYm90dG9tPGEueSlicmVhaztpZihhLmJvdHRvbTx0LmJvZHkueSljb250aW51ZX1lbHNlIGlmKHRoaXMuc29ydERpcmVjdGlvbj09PWkuUGh5c2ljcy5BcmNhZGUuQk9UVE9NX1RPUCl7aWYodC5ib2R5Lnk+YS5ib3R0b20pYnJlYWs7aWYoYS55PnQuYm9keS5ib3R0b20pY29udGludWV9dGhpcy5jb2xsaWRlU3ByaXRlVnNTcHJpdGUodCxsLHMsbixvLHIpfX1lbHNle3RoaXMucXVhZFRyZWUuY2xlYXIoKSx0aGlzLnF1YWRUcmVlLnJlc2V0KHRoaXMuZ2FtZS53b3JsZC5ib3VuZHMueCx0aGlzLmdhbWUud29ybGQuYm91bmRzLnksdGhpcy5nYW1lLndvcmxkLmJvdW5kcy53aWR0aCx0aGlzLmdhbWUud29ybGQuYm91bmRzLmhlaWdodCx0aGlzLm1heE9iamVjdHMsdGhpcy5tYXhMZXZlbHMpLHRoaXMucXVhZFRyZWUucG9wdWxhdGUoZSk7Zm9yKHZhciBjPXRoaXMucXVhZFRyZWUucmV0cmlldmUodCksaD0wO2g8Yy5sZW5ndGg7aCsrKXRoaXMuc2VwYXJhdGUodC5ib2R5LGNbaF0sbixvLHIpJiYocyYmcy5jYWxsKG8sdCxjW2hdLnNwcml0ZSksdGhpcy5fdG90YWwrKyl9fSxjb2xsaWRlR3JvdXBWc1NlbGY6ZnVuY3Rpb24odCxlLHMsbixvKXtpZigwIT09dC5sZW5ndGgpZm9yKHZhciByPTA7cjx0Lmhhc2gubGVuZ3RoO3IrKyl7dmFyIGE9e30saD10Lmhhc2hbcl07aWYoaCYmaC5leGlzdHMmJmguYm9keSl7YT1oLmJvZHkuZ2V0Qm91bmRzKGEpO2Zvcih2YXIgbD1yKzE7bDx0Lmhhc2gubGVuZ3RoO2wrKyl7dmFyIGM9e30sdT10Lmhhc2hbbF07aWYodSYmdS5leGlzdHMmJnUuYm9keSl7aWYoYz11LmJvZHkuZ2V0Qm91bmRzKGMpLHRoaXMuc29ydERpcmVjdGlvbj09PWkuUGh5c2ljcy5BcmNhZGUuTEVGVF9SSUdIVCl7aWYoYS5yaWdodDxjLngpYnJlYWs7aWYoYy5yaWdodDxhLngpY29udGludWV9ZWxzZSBpZih0aGlzLnNvcnREaXJlY3Rpb249PT1pLlBoeXNpY3MuQXJjYWRlLlJJR0hUX0xFRlQpe2lmKGEueD5jLnJpZ2h0KWNvbnRpbnVlO2lmKGMueD5hLnJpZ2h0KWJyZWFrfWVsc2UgaWYodGhpcy5zb3J0RGlyZWN0aW9uPT09aS5QaHlzaWNzLkFyY2FkZS5UT1BfQk9UVE9NKXtpZihhLmJvdHRvbTxjLnkpY29udGludWU7aWYoYy5ib3R0b208YS55KWJyZWFrfWVsc2UgaWYodGhpcy5zb3J0RGlyZWN0aW9uPT09aS5QaHlzaWNzLkFyY2FkZS5CT1RUT01fVE9QKXtpZihhLnk+Yy5ib3R0b20pY29udGludWU7aWYoYy55PmguYm9keS5ib3R0b20pYnJlYWt9dGhpcy5jb2xsaWRlU3ByaXRlVnNTcHJpdGUoaCx1LGUscyxuLG8pfX19fX0sY29sbGlkZUdyb3VwVnNHcm91cDpmdW5jdGlvbih0LGUscyxuLG8scil7aWYoMCE9PXQubGVuZ3RoJiYwIT09ZS5sZW5ndGgpZm9yKHZhciBhPTA7YTx0LmNoaWxkcmVuLmxlbmd0aDthKyspdC5jaGlsZHJlblthXS5leGlzdHMmJih0LmNoaWxkcmVuW2FdLnBoeXNpY3NUeXBlPT09aS5HUk9VUD90aGlzLmNvbGxpZGVHcm91cFZzR3JvdXAodC5jaGlsZHJlblthXSxlLHMsbixvLHIpOnRoaXMuY29sbGlkZVNwcml0ZVZzR3JvdXAodC5jaGlsZHJlblthXSxlLHMsbixvLHIpKX0sc2VwYXJhdGU6ZnVuY3Rpb24odCxlLGkscyxuKXtpZighdC5lbmFibGV8fCFlLmVuYWJsZXx8dC5jaGVja0NvbGxpc2lvbi5ub25lfHxlLmNoZWNrQ29sbGlzaW9uLm5vbmV8fCF0aGlzLmludGVyc2VjdHModCxlKSlyZXR1cm4hMTtpZihpJiYhMT09PWkuY2FsbChzLHQuc3ByaXRlLGUuc3ByaXRlKSlyZXR1cm4hMTtpZih0LmlzQ2lyY2xlJiZlLmlzQ2lyY2xlKXJldHVybiB0aGlzLnNlcGFyYXRlQ2lyY2xlKHQsZSxuKTtpZih0LmlzQ2lyY2xlIT09ZS5pc0NpcmNsZSl7dmFyIG89dC5pc0NpcmNsZT9lOnQscj10LmlzQ2lyY2xlP3Q6ZSxhPXt4Om8ueCx5Om8ueSxyaWdodDpvLnJpZ2h0LGJvdHRvbTpvLmJvdHRvbX0saD1yLmNlbnRlcjtpZigoaC55PGEueXx8aC55PmEuYm90dG9tKSYmKGgueDxhLnh8fGgueD5hLnJpZ2h0KSlyZXR1cm4gdGhpcy5zZXBhcmF0ZUNpcmNsZSh0LGUsbil9dmFyIGw9ITEsYz0hMTt0aGlzLmZvcmNlWHx8TWF0aC5hYnModGhpcy5ncmF2aXR5LnkrdC5ncmF2aXR5LnkpPE1hdGguYWJzKHRoaXMuZ3Jhdml0eS54K3QuZ3Jhdml0eS54KT8obD10aGlzLnNlcGFyYXRlWCh0LGUsbiksdGhpcy5pbnRlcnNlY3RzKHQsZSkmJihjPXRoaXMuc2VwYXJhdGVZKHQsZSxuKSkpOihjPXRoaXMuc2VwYXJhdGVZKHQsZSxuKSx0aGlzLmludGVyc2VjdHModCxlKSYmKGw9dGhpcy5zZXBhcmF0ZVgodCxlLG4pKSk7dmFyIHU9bHx8YztyZXR1cm4gdSYmKG4/KHQub25PdmVybGFwJiZ0Lm9uT3ZlcmxhcC5kaXNwYXRjaCh0LnNwcml0ZSxlLnNwcml0ZSksZS5vbk92ZXJsYXAmJmUub25PdmVybGFwLmRpc3BhdGNoKGUuc3ByaXRlLHQuc3ByaXRlKSk6KHQub25Db2xsaWRlJiZ0Lm9uQ29sbGlkZS5kaXNwYXRjaCh0LnNwcml0ZSxlLnNwcml0ZSksZS5vbkNvbGxpZGUmJmUub25Db2xsaWRlLmRpc3BhdGNoKGUuc3ByaXRlLHQuc3ByaXRlKSkpLHV9LGludGVyc2VjdHM6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdCE9PWUmJih0LmlzQ2lyY2xlP2UuaXNDaXJjbGU/aS5NYXRoLmRpc3RhbmNlKHQuY2VudGVyLngsdC5jZW50ZXIueSxlLmNlbnRlci54LGUuY2VudGVyLnkpPD10LmhhbGZXaWR0aCtlLmhhbGZXaWR0aDp0aGlzLmNpcmNsZUJvZHlJbnRlcnNlY3RzKHQsZSk6ZS5pc0NpcmNsZT90aGlzLmNpcmNsZUJvZHlJbnRlcnNlY3RzKGUsdCk6ISh0LnJpZ2h0PD1lLnBvc2l0aW9uLngpJiYoISh0LmJvdHRvbTw9ZS5wb3NpdGlvbi55KSYmKCEodC5wb3NpdGlvbi54Pj1lLnJpZ2h0KSYmISh0LnBvc2l0aW9uLnk+PWUuYm90dG9tKSkpKX0sY2lyY2xlQm9keUludGVyc2VjdHM6ZnVuY3Rpb24odCxlKXt2YXIgcz1pLk1hdGguY2xhbXAodC5jZW50ZXIueCxlLmxlZnQsZS5yaWdodCksbj1pLk1hdGguY2xhbXAodC5jZW50ZXIueSxlLnRvcCxlLmJvdHRvbSk7cmV0dXJuKHQuY2VudGVyLngtcykqKHQuY2VudGVyLngtcykrKHQuY2VudGVyLnktbikqKHQuY2VudGVyLnktbik8PXQuaGFsZldpZHRoKnQuaGFsZldpZHRofSxzZXBhcmF0ZUNpcmNsZTpmdW5jdGlvbih0LGUscyl7dGhpcy5nZXRPdmVybGFwWCh0LGUpLHRoaXMuZ2V0T3ZlcmxhcFkodCxlKTt2YXIgbj1lLmNlbnRlci54LXQuY2VudGVyLngsbz1lLmNlbnRlci55LXQuY2VudGVyLnkscj1NYXRoLmF0YW4yKG8sbiksYT0wO2lmKHQuaXNDaXJjbGUhPT1lLmlzQ2lyY2xlKXt2YXIgaD17eDplLmlzQ2lyY2xlP3QucG9zaXRpb24ueDplLnBvc2l0aW9uLngseTplLmlzQ2lyY2xlP3QucG9zaXRpb24ueTplLnBvc2l0aW9uLnkscmlnaHQ6ZS5pc0NpcmNsZT90LnJpZ2h0OmUucmlnaHQsYm90dG9tOmUuaXNDaXJjbGU/dC5ib3R0b206ZS5ib3R0b219LGw9e3g6dC5pc0NpcmNsZT90LmNlbnRlci54OmUuY2VudGVyLngseTp0LmlzQ2lyY2xlP3QuY2VudGVyLnk6ZS5jZW50ZXIueSxyYWRpdXM6dC5pc0NpcmNsZT90LmhhbGZXaWR0aDplLmhhbGZXaWR0aH07bC55PGgueT9sLng8aC54P2E9aS5NYXRoLmRpc3RhbmNlKGwueCxsLnksaC54LGgueSktbC5yYWRpdXM6bC54PmgucmlnaHQmJihhPWkuTWF0aC5kaXN0YW5jZShsLngsbC55LGgucmlnaHQsaC55KS1sLnJhZGl1cyk6bC55PmguYm90dG9tJiYobC54PGgueD9hPWkuTWF0aC5kaXN0YW5jZShsLngsbC55LGgueCxoLmJvdHRvbSktbC5yYWRpdXM6bC54PmgucmlnaHQmJihhPWkuTWF0aC5kaXN0YW5jZShsLngsbC55LGgucmlnaHQsaC5ib3R0b20pLWwucmFkaXVzKSksYSo9LTF9ZWxzZSBhPXQuaGFsZldpZHRoK2UuaGFsZldpZHRoLWkuTWF0aC5kaXN0YW5jZSh0LmNlbnRlci54LHQuY2VudGVyLnksZS5jZW50ZXIueCxlLmNlbnRlci55KTtpZihzfHwwPT09YXx8dC5pbW1vdmFibGUmJmUuaW1tb3ZhYmxlfHx0LmN1c3RvbVNlcGFyYXRlWHx8ZS5jdXN0b21TZXBhcmF0ZVgpcmV0dXJuIDAhPT1hJiYodC5vbk92ZXJsYXAmJnQub25PdmVybGFwLmRpc3BhdGNoKHQuc3ByaXRlLGUuc3ByaXRlKSxlLm9uT3ZlcmxhcCYmZS5vbk92ZXJsYXAuZGlzcGF0Y2goZS5zcHJpdGUsdC5zcHJpdGUpKSwwIT09YTt2YXIgYz17eDp0LnZlbG9jaXR5LngqTWF0aC5jb3MocikrdC52ZWxvY2l0eS55Kk1hdGguc2luKHIpLHk6dC52ZWxvY2l0eS54Kk1hdGguc2luKHIpLXQudmVsb2NpdHkueSpNYXRoLmNvcyhyKX0sdT17eDplLnZlbG9jaXR5LngqTWF0aC5jb3MocikrZS52ZWxvY2l0eS55Kk1hdGguc2luKHIpLHk6ZS52ZWxvY2l0eS54Kk1hdGguc2luKHIpLWUudmVsb2NpdHkueSpNYXRoLmNvcyhyKX0sZD0oKHQubWFzcy1lLm1hc3MpKmMueCsyKmUubWFzcyp1LngpLyh0Lm1hc3MrZS5tYXNzKSxwPSgyKnQubWFzcypjLngrKGUubWFzcy10Lm1hc3MpKnUueCkvKHQubWFzcytlLm1hc3MpO3JldHVybiB0LmltbW92YWJsZXx8KHQudmVsb2NpdHkueD0oZCpNYXRoLmNvcyhyKS1jLnkqTWF0aC5zaW4ocikpKnQuYm91bmNlLngsdC52ZWxvY2l0eS55PShjLnkqTWF0aC5jb3MocikrZCpNYXRoLnNpbihyKSkqdC5ib3VuY2UueSksZS5pbW1vdmFibGV8fChlLnZlbG9jaXR5Lng9KHAqTWF0aC5jb3MociktdS55Kk1hdGguc2luKHIpKSplLmJvdW5jZS54LGUudmVsb2NpdHkueT0odS55Kk1hdGguY29zKHIpK3AqTWF0aC5zaW4ocikpKmUuYm91bmNlLnkpLE1hdGguYWJzKHIpPE1hdGguUEkvMj90LnZlbG9jaXR5Lng+MCYmIXQuaW1tb3ZhYmxlJiZlLnZlbG9jaXR5Lng+dC52ZWxvY2l0eS54P3QudmVsb2NpdHkueCo9LTE6ZS52ZWxvY2l0eS54PDAmJiFlLmltbW92YWJsZSYmdC52ZWxvY2l0eS54PGUudmVsb2NpdHkueD9lLnZlbG9jaXR5LngqPS0xOnQudmVsb2NpdHkueT4wJiYhdC5pbW1vdmFibGUmJmUudmVsb2NpdHkueT50LnZlbG9jaXR5Lnk/dC52ZWxvY2l0eS55Kj0tMTplLnZlbG9jaXR5Lnk8MCYmIWUuaW1tb3ZhYmxlJiZ0LnZlbG9jaXR5Lnk8ZS52ZWxvY2l0eS55JiYoZS52ZWxvY2l0eS55Kj0tMSk6TWF0aC5hYnMocik+TWF0aC5QSS8yJiYodC52ZWxvY2l0eS54PDAmJiF0LmltbW92YWJsZSYmZS52ZWxvY2l0eS54PHQudmVsb2NpdHkueD90LnZlbG9jaXR5LngqPS0xOmUudmVsb2NpdHkueD4wJiYhZS5pbW1vdmFibGUmJnQudmVsb2NpdHkueD5lLnZlbG9jaXR5Lng/ZS52ZWxvY2l0eS54Kj0tMTp0LnZlbG9jaXR5Lnk8MCYmIXQuaW1tb3ZhYmxlJiZlLnZlbG9jaXR5Lnk8dC52ZWxvY2l0eS55P3QudmVsb2NpdHkueSo9LTE6ZS52ZWxvY2l0eS55PjAmJiFlLmltbW92YWJsZSYmdC52ZWxvY2l0eS54PmUudmVsb2NpdHkueSYmKGUudmVsb2NpdHkueSo9LTEpKSx0LmltbW92YWJsZXx8KHQueCs9dC52ZWxvY2l0eS54KnRoaXMuZ2FtZS50aW1lLnBoeXNpY3NFbGFwc2VkLWEqTWF0aC5jb3MociksdC55Kz10LnZlbG9jaXR5LnkqdGhpcy5nYW1lLnRpbWUucGh5c2ljc0VsYXBzZWQtYSpNYXRoLnNpbihyKSksZS5pbW1vdmFibGV8fChlLngrPWUudmVsb2NpdHkueCp0aGlzLmdhbWUudGltZS5waHlzaWNzRWxhcHNlZCthKk1hdGguY29zKHIpLGUueSs9ZS52ZWxvY2l0eS55KnRoaXMuZ2FtZS50aW1lLnBoeXNpY3NFbGFwc2VkK2EqTWF0aC5zaW4ocikpLHQub25Db2xsaWRlJiZ0Lm9uQ29sbGlkZS5kaXNwYXRjaCh0LnNwcml0ZSxlLnNwcml0ZSksZS5vbkNvbGxpZGUmJmUub25Db2xsaWRlLmRpc3BhdGNoKGUuc3ByaXRlLHQuc3ByaXRlKSwhMH0sZ2V0T3ZlcmxhcFg6ZnVuY3Rpb24odCxlLGkpe3ZhciBzPTAsbj10LmRlbHRhQWJzWCgpK2UuZGVsdGFBYnNYKCkrdGhpcy5PVkVSTEFQX0JJQVM7cmV0dXJuIDA9PT10LmRlbHRhWCgpJiYwPT09ZS5kZWx0YVgoKT8odC5lbWJlZGRlZD0hMCxlLmVtYmVkZGVkPSEwKTp0LmRlbHRhWCgpPmUuZGVsdGFYKCk/KHM9dC5yaWdodC1lLngpPm4mJiFpfHwhMT09PXQuY2hlY2tDb2xsaXNpb24ucmlnaHR8fCExPT09ZS5jaGVja0NvbGxpc2lvbi5sZWZ0P3M9MDoodC50b3VjaGluZy5ub25lPSExLHQudG91Y2hpbmcucmlnaHQ9ITAsZS50b3VjaGluZy5ub25lPSExLGUudG91Y2hpbmcubGVmdD0hMCk6dC5kZWx0YVgoKTxlLmRlbHRhWCgpJiYoLShzPXQueC1lLndpZHRoLWUueCk+biYmIWl8fCExPT09dC5jaGVja0NvbGxpc2lvbi5sZWZ0fHwhMT09PWUuY2hlY2tDb2xsaXNpb24ucmlnaHQ/cz0wOih0LnRvdWNoaW5nLm5vbmU9ITEsdC50b3VjaGluZy5sZWZ0PSEwLGUudG91Y2hpbmcubm9uZT0hMSxlLnRvdWNoaW5nLnJpZ2h0PSEwKSksdC5vdmVybGFwWD1zLGUub3ZlcmxhcFg9cyxzfSxnZXRPdmVybGFwWTpmdW5jdGlvbih0LGUsaSl7dmFyIHM9MCxuPXQuZGVsdGFBYnNZKCkrZS5kZWx0YUFic1koKSt0aGlzLk9WRVJMQVBfQklBUztyZXR1cm4gMD09PXQuZGVsdGFZKCkmJjA9PT1lLmRlbHRhWSgpPyh0LmVtYmVkZGVkPSEwLGUuZW1iZWRkZWQ9ITApOnQuZGVsdGFZKCk+ZS5kZWx0YVkoKT8ocz10LmJvdHRvbS1lLnkpPm4mJiFpfHwhMT09PXQuY2hlY2tDb2xsaXNpb24uZG93bnx8ITE9PT1lLmNoZWNrQ29sbGlzaW9uLnVwP3M9MDoodC50b3VjaGluZy5ub25lPSExLHQudG91Y2hpbmcuZG93bj0hMCxlLnRvdWNoaW5nLm5vbmU9ITEsZS50b3VjaGluZy51cD0hMCk6dC5kZWx0YVkoKTxlLmRlbHRhWSgpJiYoLShzPXQueS1lLmJvdHRvbSk+biYmIWl8fCExPT09dC5jaGVja0NvbGxpc2lvbi51cHx8ITE9PT1lLmNoZWNrQ29sbGlzaW9uLmRvd24/cz0wOih0LnRvdWNoaW5nLm5vbmU9ITEsdC50b3VjaGluZy51cD0hMCxlLnRvdWNoaW5nLm5vbmU9ITEsZS50b3VjaGluZy5kb3duPSEwKSksdC5vdmVybGFwWT1zLGUub3ZlcmxhcFk9cyxzfSxzZXBhcmF0ZVg6ZnVuY3Rpb24odCxlLGkpe3ZhciBzPXRoaXMuZ2V0T3ZlcmxhcFgodCxlLGkpO2lmKGl8fDA9PT1zfHx0LmltbW92YWJsZSYmZS5pbW1vdmFibGV8fHQuY3VzdG9tU2VwYXJhdGVYfHxlLmN1c3RvbVNlcGFyYXRlWClyZXR1cm4gMCE9PXN8fHQuZW1iZWRkZWQmJmUuZW1iZWRkZWQ7dmFyIG49dC52ZWxvY2l0eS54LG89ZS52ZWxvY2l0eS54O2lmKHQuaW1tb3ZhYmxlfHxlLmltbW92YWJsZSl0LmltbW92YWJsZT8oZS54Kz1zLGUudmVsb2NpdHkueD1uLW8qZS5ib3VuY2UueCx0Lm1vdmVzJiYoZS55Kz0odC55LXQucHJldi55KSp0LmZyaWN0aW9uLnkpKToodC54LT1zLHQudmVsb2NpdHkueD1vLW4qdC5ib3VuY2UueCxlLm1vdmVzJiYodC55Kz0oZS55LWUucHJldi55KSplLmZyaWN0aW9uLnkpKTtlbHNle3MqPS41LHQueC09cyxlLngrPXM7dmFyIHI9TWF0aC5zcXJ0KG8qbyplLm1hc3MvdC5tYXNzKSoobz4wPzE6LTEpLGE9TWF0aC5zcXJ0KG4qbip0Lm1hc3MvZS5tYXNzKSoobj4wPzE6LTEpLGg9LjUqKHIrYSk7ci09aCxhLT1oLHQudmVsb2NpdHkueD1oK3IqdC5ib3VuY2UueCxlLnZlbG9jaXR5Lng9aCthKmUuYm91bmNlLnh9cmV0dXJuITB9LHNlcGFyYXRlWTpmdW5jdGlvbih0LGUsaSl7dmFyIHM9dGhpcy5nZXRPdmVybGFwWSh0LGUsaSk7aWYoaXx8MD09PXN8fHQuaW1tb3ZhYmxlJiZlLmltbW92YWJsZXx8dC5jdXN0b21TZXBhcmF0ZVl8fGUuY3VzdG9tU2VwYXJhdGVZKXJldHVybiAwIT09c3x8dC5lbWJlZGRlZCYmZS5lbWJlZGRlZDt2YXIgbj10LnZlbG9jaXR5Lnksbz1lLnZlbG9jaXR5Lnk7aWYodC5pbW1vdmFibGV8fGUuaW1tb3ZhYmxlKXQuaW1tb3ZhYmxlPyhlLnkrPXMsZS52ZWxvY2l0eS55PW4tbyplLmJvdW5jZS55LHQubW92ZXMmJihlLngrPSh0LngtdC5wcmV2LngpKnQuZnJpY3Rpb24ueCkpOih0LnktPXMsdC52ZWxvY2l0eS55PW8tbip0LmJvdW5jZS55LGUubW92ZXMmJih0LngrPShlLngtZS5wcmV2LngpKmUuZnJpY3Rpb24ueCkpO2Vsc2V7cyo9LjUsdC55LT1zLGUueSs9czt2YXIgcj1NYXRoLnNxcnQobypvKmUubWFzcy90Lm1hc3MpKihvPjA/MTotMSksYT1NYXRoLnNxcnQobipuKnQubWFzcy9lLm1hc3MpKihuPjA/MTotMSksaD0uNSoocithKTtyLT1oLGEtPWgsdC52ZWxvY2l0eS55PWgrcip0LmJvdW5jZS55LGUudmVsb2NpdHkueT1oK2EqZS5ib3VuY2UueX1yZXR1cm4hMH0sZ2V0T2JqZWN0c1VuZGVyUG9pbnRlcjpmdW5jdGlvbih0LGUsaSxzKXtpZigwIT09ZS5sZW5ndGgmJnQuZXhpc3RzKXJldHVybiB0aGlzLmdldE9iamVjdHNBdExvY2F0aW9uKHQueCx0LnksZSxpLHMsdCl9LGdldE9iamVjdHNBdExvY2F0aW9uOmZ1bmN0aW9uKHQsZSxzLG4sbyxyKXt0aGlzLnF1YWRUcmVlLmNsZWFyKCksdGhpcy5xdWFkVHJlZS5yZXNldCh0aGlzLmdhbWUud29ybGQuYm91bmRzLngsdGhpcy5nYW1lLndvcmxkLmJvdW5kcy55LHRoaXMuZ2FtZS53b3JsZC5ib3VuZHMud2lkdGgsdGhpcy5nYW1lLndvcmxkLmJvdW5kcy5oZWlnaHQsdGhpcy5tYXhPYmplY3RzLHRoaXMubWF4TGV2ZWxzKSx0aGlzLnF1YWRUcmVlLnBvcHVsYXRlKHMpO2Zvcih2YXIgYT1uZXcgaS5SZWN0YW5nbGUodCxlLDEsMSksaD1bXSxsPXRoaXMucXVhZFRyZWUucmV0cmlldmUoYSksYz0wO2M8bC5sZW5ndGg7YysrKWxbY10uaGl0VGVzdCh0LGUpJiYobiYmbi5jYWxsKG8scixsW2NdLnNwcml0ZSksaC5wdXNoKGxbY10uc3ByaXRlKSk7cmV0dXJuIGh9LG1vdmVUb09iamVjdDpmdW5jdGlvbih0LGUsaSxzKXt2b2lkIDA9PT1pJiYoaT02MCksdm9pZCAwPT09cyYmKHM9MCk7dmFyIG49TWF0aC5hdGFuMihlLnktdC55LGUueC10LngpO3JldHVybiBzPjAmJihpPXRoaXMuZGlzdGFuY2VCZXR3ZWVuKHQsZSkvKHMvMWUzKSksdC5ib2R5LnZlbG9jaXR5LnNldFRvUG9sYXIobixpKSxufSxtb3ZlVG9Qb2ludGVyOmZ1bmN0aW9uKHQsZSxpLHMpe3ZvaWQgMD09PWUmJihlPTYwKSxpPWl8fHRoaXMuZ2FtZS5pbnB1dC5hY3RpdmVQb2ludGVyLHZvaWQgMD09PXMmJihzPTApO3ZhciBuPXRoaXMuYW5nbGVUb1BvaW50ZXIodCxpKTtyZXR1cm4gcz4wJiYoZT10aGlzLmRpc3RhbmNlVG9Qb2ludGVyKHQsaSkvKHMvMWUzKSksdC5ib2R5LnZlbG9jaXR5LnNldFRvUG9sYXIobixlKSxufSxtb3ZlVG9YWTpmdW5jdGlvbih0LGUsaSxzLG4pe3ZvaWQgMD09PXMmJihzPTYwKSx2b2lkIDA9PT1uJiYobj0wKTt2YXIgbz1NYXRoLmF0YW4yKGktdC55LGUtdC54KTtyZXR1cm4gbj4wJiYocz10aGlzLmRpc3RhbmNlVG9YWSh0LGUsaSkvKG4vMWUzKSksdC5ib2R5LnZlbG9jaXR5LnNldFRvUG9sYXIobyxzKSxvfSx2ZWxvY2l0eUZyb21BbmdsZTpmdW5jdGlvbih0LGUscyl7cmV0dXJuIHZvaWQgMD09PWUmJihlPTYwKSwocz1zfHxuZXcgaS5Qb2ludCkuc2V0VG9Qb2xhcih0LGUsITApfSx2ZWxvY2l0eUZyb21Sb3RhdGlvbjpmdW5jdGlvbih0LGUscyl7cmV0dXJuIHZvaWQgMD09PWUmJihlPTYwKSwocz1zfHxuZXcgaS5Qb2ludCkuc2V0VG9Qb2xhcih0LGUpfSxhY2NlbGVyYXRpb25Gcm9tUm90YXRpb246ZnVuY3Rpb24odCxlLHMpe3JldHVybiB2b2lkIDA9PT1lJiYoZT02MCksKHM9c3x8bmV3IGkuUG9pbnQpLnNldFRvUG9sYXIodCxlKX0sYWNjZWxlcmF0ZVRvT2JqZWN0OmZ1bmN0aW9uKHQsZSxpLHMsbil7dm9pZCAwPT09aSYmKGk9NjApLHZvaWQgMD09PXMmJihzPTFlMyksdm9pZCAwPT09biYmKG49MWUzKTt2YXIgbz10aGlzLmFuZ2xlQmV0d2Vlbih0LGUpO3JldHVybiB0LmJvZHkuYWNjZWxlcmF0aW9uLnNldFRvUG9sYXIobyxpKSx0LmJvZHkubWF4VmVsb2NpdHkuc2V0VG8ocyxuKSxvfSxhY2NlbGVyYXRlVG9Qb2ludGVyOmZ1bmN0aW9uKHQsZSxpLHMsbil7dm9pZCAwPT09aSYmKGk9NjApLHZvaWQgMD09PWUmJihlPXRoaXMuZ2FtZS5pbnB1dC5hY3RpdmVQb2ludGVyKSx2b2lkIDA9PT1zJiYocz0xZTMpLHZvaWQgMD09PW4mJihuPTFlMyk7dmFyIG89dGhpcy5hbmdsZVRvUG9pbnRlcih0LGUpO3JldHVybiB0LmJvZHkuYWNjZWxlcmF0aW9uLnNldFRvUG9sYXIobyxpKSx0LmJvZHkubWF4VmVsb2NpdHkuc2V0VG8ocyxuKSxvfSxhY2NlbGVyYXRlVG9YWTpmdW5jdGlvbih0LGUsaSxzLG4sbyl7dm9pZCAwPT09cyYmKHM9NjApLHZvaWQgMD09PW4mJihuPTFlMyksdm9pZCAwPT09byYmKG89MWUzKTt2YXIgcj10aGlzLmFuZ2xlVG9YWSh0LGUsaSk7cmV0dXJuIHQuYm9keS5hY2NlbGVyYXRpb24uc2V0VG8ocixzKSx0LmJvZHkubWF4VmVsb2NpdHkuc2V0VG8obixvKSxyfSxkaXN0YW5jZUJldHdlZW46ZnVuY3Rpb24odCxlLGkpe3ZvaWQgMD09PWkmJihpPSExKTt2YXIgcz1pP3Qud29ybGQueC1lLndvcmxkLng6dC54LWUueCxuPWk/dC53b3JsZC55LWUud29ybGQueTp0LnktZS55O3JldHVybiBNYXRoLnNxcnQocypzK24qbil9LGRpc3RhbmNlVG9YWTpmdW5jdGlvbih0LGUsaSxzKXt2b2lkIDA9PT1zJiYocz0hMSk7dmFyIG49cz90LndvcmxkLngtZTp0LngtZSxvPXM/dC53b3JsZC55LWk6dC55LWk7cmV0dXJuIE1hdGguc3FydChuKm4rbypvKX0sZGlzdGFuY2VUb1BvaW50ZXI6ZnVuY3Rpb24odCxlLGkpe3ZvaWQgMD09PWUmJihlPXRoaXMuZ2FtZS5pbnB1dC5hY3RpdmVQb2ludGVyKSx2b2lkIDA9PT1pJiYoaT0hMSk7dmFyIHM9aT90LndvcmxkLngtZS53b3JsZFg6dC54LWUud29ybGRYLG49aT90LndvcmxkLnktZS53b3JsZFk6dC55LWUud29ybGRZO3JldHVybiBNYXRoLnNxcnQocypzK24qbil9LGNsb3Nlc3Q6ZnVuY3Rpb24odCxlLGkpe2Zvcih2YXIgcz0xLzAsbj1udWxsLG89MCxyPWUubGVuZ3RoO288cjtvKyspe3ZhciBhPWVbb10saD10aGlzLmRpc3RhbmNlQmV0d2Vlbih0LGEsaSk7aDxzJiYobj1hLHM9aCl9cmV0dXJuIG59LGZhcnRoZXN0OmZ1bmN0aW9uKHQsZSxpKXtmb3IodmFyIHM9LTEsbj1udWxsLG89MCxyPWUubGVuZ3RoO288cjtvKyspe3ZhciBhPWVbb10saD10aGlzLmRpc3RhbmNlQmV0d2Vlbih0LGEsaSk7aD5zJiYobj1hLHM9aCl9cmV0dXJuIG59LGFuZ2xlQmV0d2VlbjpmdW5jdGlvbih0LGUsaSl7cmV0dXJuIHZvaWQgMD09PWkmJihpPSExKSxpP01hdGguYXRhbjIoZS53b3JsZC55LXQud29ybGQueSxlLndvcmxkLngtdC53b3JsZC54KTpNYXRoLmF0YW4yKGUueS10LnksZS54LXQueCl9LGFuZ2xlQmV0d2VlbkNlbnRlcnM6ZnVuY3Rpb24odCxlKXt2YXIgaT1lLmNlbnRlclgtdC5jZW50ZXJYLHM9ZS5jZW50ZXJZLXQuY2VudGVyWTtyZXR1cm4gTWF0aC5hdGFuMihzLGkpfSxhbmdsZVRvWFk6ZnVuY3Rpb24odCxlLGkscyl7cmV0dXJuIHZvaWQgMD09PXMmJihzPSExKSxzP01hdGguYXRhbjIoaS10LndvcmxkLnksZS10LndvcmxkLngpOk1hdGguYXRhbjIoaS10LnksZS10LngpfSxhbmdsZVRvUG9pbnRlcjpmdW5jdGlvbih0LGUsaSl7cmV0dXJuIHZvaWQgMD09PWUmJihlPXRoaXMuZ2FtZS5pbnB1dC5hY3RpdmVQb2ludGVyKSx2b2lkIDA9PT1pJiYoaT0hMSksaT9NYXRoLmF0YW4yKGUud29ybGRZLXQud29ybGQueSxlLndvcmxkWC10LndvcmxkLngpOk1hdGguYXRhbjIoZS53b3JsZFktdC55LGUud29ybGRYLXQueCl9LHdvcmxkQW5nbGVUb1BvaW50ZXI6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5hbmdsZVRvUG9pbnRlcih0LGUsITApfX0saS5QaHlzaWNzLkFyY2FkZS5Cb2R5PWZ1bmN0aW9uKHQpe3RoaXMuc3ByaXRlPXQsdGhpcy5nYW1lPXQuZ2FtZSx0aGlzLnR5cGU9aS5QaHlzaWNzLkFSQ0FERSx0aGlzLmVuYWJsZT0hMCx0aGlzLmlzQ2lyY2xlPSExLHRoaXMucmFkaXVzPTAsdGhpcy5vZmZzZXQ9bmV3IGkuUG9pbnQsdGhpcy5wb3NpdGlvbj1uZXcgaS5Qb2ludCh0LngsdC55KSx0aGlzLnByZXY9bmV3IGkuUG9pbnQodGhpcy5wb3NpdGlvbi54LHRoaXMucG9zaXRpb24ueSksdGhpcy5hbGxvd1JvdGF0aW9uPSEwLHRoaXMucm90YXRpb249dC5hbmdsZSx0aGlzLnByZVJvdGF0aW9uPXQuYW5nbGUsdGhpcy53aWR0aD10LndpZHRoLHRoaXMuaGVpZ2h0PXQuaGVpZ2h0LHRoaXMuc291cmNlV2lkdGg9dC53aWR0aCx0aGlzLnNvdXJjZUhlaWdodD10LmhlaWdodCx0LnRleHR1cmUmJih0aGlzLnNvdXJjZVdpZHRoPXQudGV4dHVyZS5mcmFtZS53aWR0aCx0aGlzLnNvdXJjZUhlaWdodD10LnRleHR1cmUuZnJhbWUuaGVpZ2h0KSx0aGlzLmhhbGZXaWR0aD1NYXRoLmFicyh0LndpZHRoLzIpLHRoaXMuaGFsZkhlaWdodD1NYXRoLmFicyh0LmhlaWdodC8yKSx0aGlzLmNlbnRlcj1uZXcgaS5Qb2ludCh0LngrdGhpcy5oYWxmV2lkdGgsdC55K3RoaXMuaGFsZkhlaWdodCksdGhpcy52ZWxvY2l0eT1uZXcgaS5Qb2ludCx0aGlzLm5ld1ZlbG9jaXR5PW5ldyBpLlBvaW50LHRoaXMuZGVsdGFNYXg9bmV3IGkuUG9pbnQsdGhpcy5hY2NlbGVyYXRpb249bmV3IGkuUG9pbnQsdGhpcy5hbGxvd0RyYWc9ITAsdGhpcy5kcmFnPW5ldyBpLlBvaW50LHRoaXMuYWxsb3dHcmF2aXR5PSEwLHRoaXMuZ3Jhdml0eT1uZXcgaS5Qb2ludCx0aGlzLmJvdW5jZT1uZXcgaS5Qb2ludCx0aGlzLndvcmxkQm91bmNlPW51bGwsdGhpcy5vbldvcmxkQm91bmRzPW51bGwsdGhpcy5vbkNvbGxpZGU9bnVsbCx0aGlzLm9uT3ZlcmxhcD1udWxsLHRoaXMubWF4VmVsb2NpdHk9bmV3IGkuUG9pbnQoMWU0LDFlNCksdGhpcy5mcmljdGlvbj1uZXcgaS5Qb2ludCgxLDApLHRoaXMuYW5ndWxhclZlbG9jaXR5PTAsdGhpcy5hbmd1bGFyQWNjZWxlcmF0aW9uPTAsdGhpcy5hbmd1bGFyRHJhZz0wLHRoaXMubWF4QW5ndWxhcj0xZTMsdGhpcy5tYXNzPTEsdGhpcy5hbmdsZT0wLHRoaXMuc3BlZWQ9MCx0aGlzLmZhY2luZz1pLk5PTkUsdGhpcy5pbW1vdmFibGU9ITEsdGhpcy5tb3Zlcz0hMCx0aGlzLmN1c3RvbVNlcGFyYXRlWD0hMSx0aGlzLmN1c3RvbVNlcGFyYXRlWT0hMSx0aGlzLm92ZXJsYXBYPTAsdGhpcy5vdmVybGFwWT0wLHRoaXMub3ZlcmxhcFI9MCx0aGlzLmVtYmVkZGVkPSExLHRoaXMuY29sbGlkZVdvcmxkQm91bmRzPSExLHRoaXMuY2hlY2tDb2xsaXNpb249e25vbmU6ITEsdXA6ITAsZG93bjohMCxsZWZ0OiEwLHJpZ2h0OiEwfSx0aGlzLnRvdWNoaW5nPXtub25lOiEwLHVwOiExLGRvd246ITEsbGVmdDohMSxyaWdodDohMX0sdGhpcy53YXNUb3VjaGluZz17bm9uZTohMCx1cDohMSxkb3duOiExLGxlZnQ6ITEscmlnaHQ6ITF9LHRoaXMuYmxvY2tlZD17bm9uZTohMCx1cDohMSxkb3duOiExLGxlZnQ6ITEscmlnaHQ6ITF9LHRoaXMudGlsZVBhZGRpbmc9bmV3IGkuUG9pbnQsdGhpcy5kaXJ0eT0hMSx0aGlzLnNraXBRdWFkVHJlZT0hMSx0aGlzLnN5bmNCb3VuZHM9ITEsdGhpcy5pc01vdmluZz0hMSx0aGlzLnN0b3BWZWxvY2l0eU9uQ29sbGlkZT0hMCx0aGlzLm1vdmVUaW1lcj0wLHRoaXMubW92ZURpc3RhbmNlPTAsdGhpcy5tb3ZlRHVyYXRpb249MCx0aGlzLm1vdmVUYXJnZXQ9bnVsbCx0aGlzLm1vdmVFbmQ9bnVsbCx0aGlzLm9uTW92ZUNvbXBsZXRlPW5ldyBpLlNpZ25hbCx0aGlzLm1vdmVtZW50Q2FsbGJhY2s9bnVsbCx0aGlzLm1vdmVtZW50Q2FsbGJhY2tDb250ZXh0PW51bGwsdGhpcy5fcmVzZXQ9ITAsdGhpcy5fc3g9dC5zY2FsZS54LHRoaXMuX3N5PXQuc2NhbGUueSx0aGlzLl9keD0wLHRoaXMuX2R5PTB9LGkuUGh5c2ljcy5BcmNhZGUuQm9keS5wcm90b3R5cGU9e3VwZGF0ZUJvdW5kczpmdW5jdGlvbigpe2lmKHRoaXMuc3luY0JvdW5kcyl7dmFyIHQ9dGhpcy5zcHJpdGUuZ2V0Qm91bmRzKCk7dC5jZWlsQWxsKCksdC53aWR0aD09PXRoaXMud2lkdGgmJnQuaGVpZ2h0PT09dGhpcy5oZWlnaHR8fCh0aGlzLndpZHRoPXQud2lkdGgsdGhpcy5oZWlnaHQ9dC5oZWlnaHQsdGhpcy5fcmVzZXQ9ITApfWVsc2V7dmFyIGU9TWF0aC5hYnModGhpcy5zcHJpdGUuc2NhbGUueCksaT1NYXRoLmFicyh0aGlzLnNwcml0ZS5zY2FsZS55KTtlPT09dGhpcy5fc3gmJmk9PT10aGlzLl9zeXx8KHRoaXMud2lkdGg9dGhpcy5zb3VyY2VXaWR0aCplLHRoaXMuaGVpZ2h0PXRoaXMuc291cmNlSGVpZ2h0KmksdGhpcy5fc3g9ZSx0aGlzLl9zeT1pLHRoaXMuX3Jlc2V0PSEwKX10aGlzLl9yZXNldCYmKHRoaXMuaGFsZldpZHRoPU1hdGguZmxvb3IodGhpcy53aWR0aC8yKSx0aGlzLmhhbGZIZWlnaHQ9TWF0aC5mbG9vcih0aGlzLmhlaWdodC8yKSx0aGlzLnVwZGF0ZUNlbnRlcigpKX0sdXBkYXRlQ2VudGVyOmZ1bmN0aW9uKCl7dGhpcy5jZW50ZXIuc2V0VG8odGhpcy5wb3NpdGlvbi54K3RoaXMuaGFsZldpZHRoLHRoaXMucG9zaXRpb24ueSt0aGlzLmhhbGZIZWlnaHQpfSxwcmVVcGRhdGU6ZnVuY3Rpb24oKXt0aGlzLmVuYWJsZSYmIXRoaXMuZ2FtZS5waHlzaWNzLmFyY2FkZS5pc1BhdXNlZCYmKHRoaXMuZGlydHk9ITAsdGhpcy53YXNUb3VjaGluZy5ub25lPXRoaXMudG91Y2hpbmcubm9uZSx0aGlzLndhc1RvdWNoaW5nLnVwPXRoaXMudG91Y2hpbmcudXAsdGhpcy53YXNUb3VjaGluZy5kb3duPXRoaXMudG91Y2hpbmcuZG93bix0aGlzLndhc1RvdWNoaW5nLmxlZnQ9dGhpcy50b3VjaGluZy5sZWZ0LHRoaXMud2FzVG91Y2hpbmcucmlnaHQ9dGhpcy50b3VjaGluZy5yaWdodCx0aGlzLnRvdWNoaW5nLm5vbmU9ITAsdGhpcy50b3VjaGluZy51cD0hMSx0aGlzLnRvdWNoaW5nLmRvd249ITEsdGhpcy50b3VjaGluZy5sZWZ0PSExLHRoaXMudG91Y2hpbmcucmlnaHQ9ITEsdGhpcy5ibG9ja2VkLm5vbmU9ITAsdGhpcy5ibG9ja2VkLnVwPSExLHRoaXMuYmxvY2tlZC5kb3duPSExLHRoaXMuYmxvY2tlZC5sZWZ0PSExLHRoaXMuYmxvY2tlZC5yaWdodD0hMSx0aGlzLm92ZXJsYXBSPTAsdGhpcy5vdmVybGFwWD0wLHRoaXMub3ZlcmxhcFk9MCx0aGlzLmVtYmVkZGVkPSExLHRoaXMudXBkYXRlQm91bmRzKCksdGhpcy5wb3NpdGlvbi54PXRoaXMuc3ByaXRlLndvcmxkLngtdGhpcy5zcHJpdGUuYW5jaG9yLngqdGhpcy5zcHJpdGUud2lkdGgrdGhpcy5zcHJpdGUuc2NhbGUueCp0aGlzLm9mZnNldC54LHRoaXMucG9zaXRpb24ueC09dGhpcy5zcHJpdGUuc2NhbGUueDwwP3RoaXMud2lkdGg6MCx0aGlzLnBvc2l0aW9uLnk9dGhpcy5zcHJpdGUud29ybGQueS10aGlzLnNwcml0ZS5hbmNob3IueSp0aGlzLnNwcml0ZS5oZWlnaHQrdGhpcy5zcHJpdGUuc2NhbGUueSp0aGlzLm9mZnNldC55LHRoaXMucG9zaXRpb24ueS09dGhpcy5zcHJpdGUuc2NhbGUueTwwP3RoaXMuaGVpZ2h0OjAsdGhpcy51cGRhdGVDZW50ZXIoKSx0aGlzLnJvdGF0aW9uPXRoaXMuc3ByaXRlLmFuZ2xlLHRoaXMucHJlUm90YXRpb249dGhpcy5yb3RhdGlvbiwodGhpcy5fcmVzZXR8fHRoaXMuc3ByaXRlLmZyZXNoKSYmKHRoaXMucHJldi54PXRoaXMucG9zaXRpb24ueCx0aGlzLnByZXYueT10aGlzLnBvc2l0aW9uLnkpLHRoaXMubW92ZXMmJih0aGlzLmdhbWUucGh5c2ljcy5hcmNhZGUudXBkYXRlTW90aW9uKHRoaXMpLHRoaXMubmV3VmVsb2NpdHkuc2V0KHRoaXMudmVsb2NpdHkueCp0aGlzLmdhbWUudGltZS5waHlzaWNzRWxhcHNlZCx0aGlzLnZlbG9jaXR5LnkqdGhpcy5nYW1lLnRpbWUucGh5c2ljc0VsYXBzZWQpLHRoaXMucG9zaXRpb24ueCs9dGhpcy5uZXdWZWxvY2l0eS54LHRoaXMucG9zaXRpb24ueSs9dGhpcy5uZXdWZWxvY2l0eS55LHRoaXMudXBkYXRlQ2VudGVyKCksdGhpcy5wb3NpdGlvbi54PT09dGhpcy5wcmV2LngmJnRoaXMucG9zaXRpb24ueT09PXRoaXMucHJldi55fHwodGhpcy5hbmdsZT1NYXRoLmF0YW4yKHRoaXMudmVsb2NpdHkueSx0aGlzLnZlbG9jaXR5LngpKSx0aGlzLnNwZWVkPU1hdGguc3FydCh0aGlzLnZlbG9jaXR5LngqdGhpcy52ZWxvY2l0eS54K3RoaXMudmVsb2NpdHkueSp0aGlzLnZlbG9jaXR5LnkpLHRoaXMuY29sbGlkZVdvcmxkQm91bmRzJiZ0aGlzLmNoZWNrV29ybGRCb3VuZHMoKSYmdGhpcy5vbldvcmxkQm91bmRzJiZ0aGlzLm9uV29ybGRCb3VuZHMuZGlzcGF0Y2godGhpcy5zcHJpdGUsdGhpcy5ibG9ja2VkLnVwLHRoaXMuYmxvY2tlZC5kb3duLHRoaXMuYmxvY2tlZC5sZWZ0LHRoaXMuYmxvY2tlZC5yaWdodCkpLHRoaXMuX2R4PXRoaXMuZGVsdGFYKCksdGhpcy5fZHk9dGhpcy5kZWx0YVkoKSx0aGlzLl9yZXNldD0hMSl9LHVwZGF0ZU1vdmVtZW50OmZ1bmN0aW9uKCl7dmFyIHQ9MCxlPTAhPT10aGlzLm92ZXJsYXBYfHwwIT09dGhpcy5vdmVybGFwWTtpZih0aGlzLm1vdmVEdXJhdGlvbj4wPyh0aGlzLm1vdmVUaW1lcis9dGhpcy5nYW1lLnRpbWUuZWxhcHNlZE1TLHQ9dGhpcy5tb3ZlVGltZXIvdGhpcy5tb3ZlRHVyYXRpb24pOih0aGlzLm1vdmVUYXJnZXQuZW5kLnNldCh0aGlzLnBvc2l0aW9uLngsdGhpcy5wb3NpdGlvbi55KSx0PXRoaXMubW92ZVRhcmdldC5sZW5ndGgvdGhpcy5tb3ZlRGlzdGFuY2UpLHRoaXMubW92ZW1lbnRDYWxsYmFjayl2YXIgaT10aGlzLm1vdmVtZW50Q2FsbGJhY2suY2FsbCh0aGlzLm1vdmVtZW50Q2FsbGJhY2tDb250ZXh0LHRoaXMsdGhpcy52ZWxvY2l0eSx0KTtyZXR1cm4hKGV8fHQ+PTF8fHZvaWQgMCE9PWkmJiEwIT09aSl8fCh0aGlzLnN0b3BNb3ZlbWVudCh0Pj0xfHx0aGlzLnN0b3BWZWxvY2l0eU9uQ29sbGlkZSYmZSksITEpfSxzdG9wTW92ZW1lbnQ6ZnVuY3Rpb24odCl7dGhpcy5pc01vdmluZyYmKHRoaXMuaXNNb3Zpbmc9ITEsdCYmdGhpcy52ZWxvY2l0eS5zZXQoMCksdGhpcy5vbk1vdmVDb21wbGV0ZS5kaXNwYXRjaCh0aGlzLnNwcml0ZSwwIT09dGhpcy5vdmVybGFwWHx8MCE9PXRoaXMub3ZlcmxhcFkpKX0scG9zdFVwZGF0ZTpmdW5jdGlvbigpe3RoaXMuZW5hYmxlJiZ0aGlzLmRpcnR5JiYodGhpcy5pc01vdmluZyYmdGhpcy51cGRhdGVNb3ZlbWVudCgpLHRoaXMuZGlydHk9ITEsdGhpcy5kZWx0YVgoKTwwP3RoaXMuZmFjaW5nPWkuTEVGVDp0aGlzLmRlbHRhWCgpPjAmJih0aGlzLmZhY2luZz1pLlJJR0hUKSx0aGlzLmRlbHRhWSgpPDA/dGhpcy5mYWNpbmc9aS5VUDp0aGlzLmRlbHRhWSgpPjAmJih0aGlzLmZhY2luZz1pLkRPV04pLHRoaXMubW92ZXMmJih0aGlzLl9keD10aGlzLmRlbHRhWCgpLHRoaXMuX2R5PXRoaXMuZGVsdGFZKCksMCE9PXRoaXMuZGVsdGFNYXgueCYmMCE9PXRoaXMuX2R4JiYodGhpcy5fZHg8MCYmdGhpcy5fZHg8LXRoaXMuZGVsdGFNYXgueD90aGlzLl9keD0tdGhpcy5kZWx0YU1heC54OnRoaXMuX2R4PjAmJnRoaXMuX2R4PnRoaXMuZGVsdGFNYXgueCYmKHRoaXMuX2R4PXRoaXMuZGVsdGFNYXgueCkpLDAhPT10aGlzLmRlbHRhTWF4LnkmJjAhPT10aGlzLl9keSYmKHRoaXMuX2R5PDAmJnRoaXMuX2R5PC10aGlzLmRlbHRhTWF4Lnk/dGhpcy5fZHk9LXRoaXMuZGVsdGFNYXgueTp0aGlzLl9keT4wJiZ0aGlzLl9keT50aGlzLmRlbHRhTWF4LnkmJih0aGlzLl9keT10aGlzLmRlbHRhTWF4LnkpKSx0aGlzLnNwcml0ZS5wb3NpdGlvbi54Kz10aGlzLl9keCx0aGlzLnNwcml0ZS5wb3NpdGlvbi55Kz10aGlzLl9keSx0aGlzLl9yZXNldD0hMCksdGhpcy51cGRhdGVDZW50ZXIoKSx0aGlzLmFsbG93Um90YXRpb24mJih0aGlzLnNwcml0ZS5hbmdsZSs9dGhpcy5kZWx0YVooKSksdGhpcy5wcmV2Lng9dGhpcy5wb3NpdGlvbi54LHRoaXMucHJldi55PXRoaXMucG9zaXRpb24ueSl9LGNoZWNrV29ybGRCb3VuZHM6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnBvc2l0aW9uLGU9dGhpcy5nYW1lLnBoeXNpY3MuYXJjYWRlLmJvdW5kcyxpPXRoaXMuZ2FtZS5waHlzaWNzLmFyY2FkZS5jaGVja0NvbGxpc2lvbixzPXRoaXMud29ybGRCb3VuY2U/LXRoaXMud29ybGRCb3VuY2UueDotdGhpcy5ib3VuY2UueCxuPXRoaXMud29ybGRCb3VuY2U/LXRoaXMud29ybGRCb3VuY2UueTotdGhpcy5ib3VuY2UueTtyZXR1cm4gdC54PGUueCYmaS5sZWZ0Pyh0Lng9ZS54LHRoaXMudmVsb2NpdHkueCo9cyx0aGlzLmJsb2NrZWQubGVmdD0hMCx0aGlzLmJsb2NrZWQubm9uZT0hMSk6dGhpcy5yaWdodD5lLnJpZ2h0JiZpLnJpZ2h0JiYodC54PWUucmlnaHQtdGhpcy53aWR0aCx0aGlzLnZlbG9jaXR5LngqPXMsdGhpcy5ibG9ja2VkLnJpZ2h0PSEwLHRoaXMuYmxvY2tlZC5ub25lPSExKSx0Lnk8ZS55JiZpLnVwPyh0Lnk9ZS55LHRoaXMudmVsb2NpdHkueSo9bix0aGlzLmJsb2NrZWQudXA9ITAsdGhpcy5ibG9ja2VkLm5vbmU9ITEpOnRoaXMuYm90dG9tPmUuYm90dG9tJiZpLmRvd24mJih0Lnk9ZS5ib3R0b20tdGhpcy5oZWlnaHQsdGhpcy52ZWxvY2l0eS55Kj1uLHRoaXMuYmxvY2tlZC5kb3duPSEwLHRoaXMuYmxvY2tlZC5ub25lPSExKSwhdGhpcy5ibG9ja2VkLm5vbmV9LG1vdmVGcm9tOmZ1bmN0aW9uKHQsZSxpKXtpZih2b2lkIDA9PT1lJiYoZT10aGlzLnNwZWVkKSwwPT09ZSlyZXR1cm4hMTt2YXIgcztyZXR1cm4gdm9pZCAwPT09aT8ocz10aGlzLmFuZ2xlLGk9dGhpcy5nYW1lLm1hdGgucmFkVG9EZWcocykpOnM9dGhpcy5nYW1lLm1hdGguZGVnVG9SYWQoaSksdGhpcy5tb3ZlVGltZXI9MCx0aGlzLm1vdmVEdXJhdGlvbj10LDA9PT1pfHwxODA9PT1pP3RoaXMudmVsb2NpdHkuc2V0KE1hdGguY29zKHMpKmUsMCk6OTA9PT1pfHwyNzA9PT1pP3RoaXMudmVsb2NpdHkuc2V0KDAsTWF0aC5zaW4ocykqZSk6dGhpcy52ZWxvY2l0eS5zZXRUb1BvbGFyKHMsZSksdGhpcy5pc01vdmluZz0hMCwhMH0sbW92ZVRvOmZ1bmN0aW9uKHQsZSxzKXt2YXIgbj1lLyh0LzFlMyk7aWYoMD09PW4pcmV0dXJuITE7dmFyIG87cmV0dXJuIHZvaWQgMD09PXM/KG89dGhpcy5hbmdsZSxzPXRoaXMuZ2FtZS5tYXRoLnJhZFRvRGVnKG8pKTpvPXRoaXMuZ2FtZS5tYXRoLmRlZ1RvUmFkKHMpLGU9TWF0aC5hYnMoZSksdGhpcy5tb3ZlRHVyYXRpb249MCx0aGlzLm1vdmVEaXN0YW5jZT1lLG51bGw9PT10aGlzLm1vdmVUYXJnZXQmJih0aGlzLm1vdmVUYXJnZXQ9bmV3IGkuTGluZSx0aGlzLm1vdmVFbmQ9bmV3IGkuUG9pbnQpLHRoaXMubW92ZVRhcmdldC5mcm9tQW5nbGUodGhpcy54LHRoaXMueSxvLGUpLHRoaXMubW92ZUVuZC5zZXQodGhpcy5tb3ZlVGFyZ2V0LmVuZC54LHRoaXMubW92ZVRhcmdldC5lbmQueSksdGhpcy5tb3ZlVGFyZ2V0LnNldFRvKHRoaXMueCx0aGlzLnksdGhpcy54LHRoaXMueSksMD09PXN8fDE4MD09PXM/dGhpcy52ZWxvY2l0eS5zZXQoTWF0aC5jb3MobykqbiwwKTo5MD09PXN8fDI3MD09PXM/dGhpcy52ZWxvY2l0eS5zZXQoMCxNYXRoLnNpbihvKSpuKTp0aGlzLnZlbG9jaXR5LnNldFRvUG9sYXIobyxuKSx0aGlzLmlzTW92aW5nPSEwLCEwfSxzZXRTaXplOmZ1bmN0aW9uKHQsZSxpLHMpe3ZvaWQgMD09PWkmJihpPXRoaXMub2Zmc2V0LngpLHZvaWQgMD09PXMmJihzPXRoaXMub2Zmc2V0LnkpLHRoaXMuc291cmNlV2lkdGg9dCx0aGlzLnNvdXJjZUhlaWdodD1lLHRoaXMud2lkdGg9dGhpcy5zb3VyY2VXaWR0aCp0aGlzLl9zeCx0aGlzLmhlaWdodD10aGlzLnNvdXJjZUhlaWdodCp0aGlzLl9zeSx0aGlzLmhhbGZXaWR0aD1NYXRoLmZsb29yKHRoaXMud2lkdGgvMiksdGhpcy5oYWxmSGVpZ2h0PU1hdGguZmxvb3IodGhpcy5oZWlnaHQvMiksdGhpcy5vZmZzZXQuc2V0VG8oaSxzKSx0aGlzLnVwZGF0ZUNlbnRlcigpLHRoaXMuaXNDaXJjbGU9ITEsdGhpcy5yYWRpdXM9MH0sc2V0Q2lyY2xlOmZ1bmN0aW9uKHQsZSxpKXt2b2lkIDA9PT1lJiYoZT10aGlzLm9mZnNldC54KSx2b2lkIDA9PT1pJiYoaT10aGlzLm9mZnNldC55KSx0PjA/KHRoaXMuaXNDaXJjbGU9ITAsdGhpcy5yYWRpdXM9dCx0aGlzLnNvdXJjZVdpZHRoPTIqdCx0aGlzLnNvdXJjZUhlaWdodD0yKnQsdGhpcy53aWR0aD10aGlzLnNvdXJjZVdpZHRoKnRoaXMuX3N4LHRoaXMuaGVpZ2h0PXRoaXMuc291cmNlSGVpZ2h0KnRoaXMuX3N5LHRoaXMuaGFsZldpZHRoPU1hdGguZmxvb3IodGhpcy53aWR0aC8yKSx0aGlzLmhhbGZIZWlnaHQ9TWF0aC5mbG9vcih0aGlzLmhlaWdodC8yKSx0aGlzLm9mZnNldC5zZXRUbyhlLGkpLHRoaXMudXBkYXRlQ2VudGVyKCkpOnRoaXMuaXNDaXJjbGU9ITF9LHJlc2V0OmZ1bmN0aW9uKHQsZSl7dGhpcy5zdG9wKCksdGhpcy5wb3NpdGlvbi54PXQtdGhpcy5zcHJpdGUuYW5jaG9yLngqdGhpcy5zcHJpdGUud2lkdGgrdGhpcy5zcHJpdGUuc2NhbGUueCp0aGlzLm9mZnNldC54LHRoaXMucG9zaXRpb24ueC09dGhpcy5zcHJpdGUuc2NhbGUueDwwP3RoaXMud2lkdGg6MCx0aGlzLnBvc2l0aW9uLnk9ZS10aGlzLnNwcml0ZS5hbmNob3IueSp0aGlzLnNwcml0ZS5oZWlnaHQrdGhpcy5zcHJpdGUuc2NhbGUueSp0aGlzLm9mZnNldC55LHRoaXMucG9zaXRpb24ueS09dGhpcy5zcHJpdGUuc2NhbGUueTwwP3RoaXMuaGVpZ2h0OjAsdGhpcy5wcmV2Lng9dGhpcy5wb3NpdGlvbi54LHRoaXMucHJldi55PXRoaXMucG9zaXRpb24ueSx0aGlzLnJvdGF0aW9uPXRoaXMuc3ByaXRlLmFuZ2xlLHRoaXMucHJlUm90YXRpb249dGhpcy5yb3RhdGlvbix0aGlzLnVwZGF0ZUJvdW5kcygpLHRoaXMudXBkYXRlQ2VudGVyKCl9LHN0b3A6ZnVuY3Rpb24oKXt0aGlzLnZlbG9jaXR5LnNldCgwKSx0aGlzLmFjY2VsZXJhdGlvbi5zZXQoMCksdGhpcy5zcGVlZD0wLHRoaXMuYW5ndWxhclZlbG9jaXR5PTAsdGhpcy5hbmd1bGFyQWNjZWxlcmF0aW9uPTB9LGdldEJvdW5kczpmdW5jdGlvbih0KXtyZXR1cm4gdC54PXRoaXMueCx0Lnk9dGhpcy55LHQucmlnaHQ9dGhpcy5yaWdodCx0LmJvdHRvbT10aGlzLmJvdHRvbSx0fSxoaXRUZXN0OmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuaXNDaXJjbGU/aS5DaXJjbGUuY29udGFpbnModGhpcyx0LGUpOmkuUmVjdGFuZ2xlLmNvbnRhaW5zKHRoaXMsdCxlKX0sb25GbG9vcjpmdW5jdGlvbigpe3JldHVybiB0aGlzLmJsb2NrZWQuZG93bn0sb25DZWlsaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYmxvY2tlZC51cH0sb25XYWxsOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYmxvY2tlZC5sZWZ0fHx0aGlzLmJsb2NrZWQucmlnaHR9LGRlbHRhQWJzWDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRlbHRhWCgpPjA/dGhpcy5kZWx0YVgoKTotdGhpcy5kZWx0YVgoKX0sZGVsdGFBYnNZOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGVsdGFZKCk+MD90aGlzLmRlbHRhWSgpOi10aGlzLmRlbHRhWSgpfSxkZWx0YVg6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wb3NpdGlvbi54LXRoaXMucHJldi54fSxkZWx0YVk6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wb3NpdGlvbi55LXRoaXMucHJldi55fSxkZWx0YVo6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yb3RhdGlvbi10aGlzLnByZVJvdGF0aW9ufSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5zcHJpdGUucGFyZW50JiZ0aGlzLnNwcml0ZS5wYXJlbnQgaW5zdGFuY2VvZiBpLkdyb3VwJiZ0aGlzLnNwcml0ZS5wYXJlbnQucmVtb3ZlRnJvbUhhc2godGhpcy5zcHJpdGUpLHRoaXMuc3ByaXRlLmJvZHk9bnVsbCx0aGlzLnNwcml0ZT1udWxsfX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuUGh5c2ljcy5BcmNhZGUuQm9keS5wcm90b3R5cGUsXCJsZWZ0XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnBvc2l0aW9uLnh9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuUGh5c2ljcy5BcmNhZGUuQm9keS5wcm90b3R5cGUsXCJyaWdodFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wb3NpdGlvbi54K3RoaXMud2lkdGh9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuUGh5c2ljcy5BcmNhZGUuQm9keS5wcm90b3R5cGUsXCJ0b3BcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucG9zaXRpb24ueX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5QaHlzaWNzLkFyY2FkZS5Cb2R5LnByb3RvdHlwZSxcImJvdHRvbVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wb3NpdGlvbi55K3RoaXMuaGVpZ2h0fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLlBoeXNpY3MuQXJjYWRlLkJvZHkucHJvdG90eXBlLFwieFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wb3NpdGlvbi54fSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5wb3NpdGlvbi54PXR9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuUGh5c2ljcy5BcmNhZGUuQm9keS5wcm90b3R5cGUsXCJ5XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnBvc2l0aW9uLnl9LHNldDpmdW5jdGlvbih0KXt0aGlzLnBvc2l0aW9uLnk9dH19KSxpLlBoeXNpY3MuQXJjYWRlLkJvZHkucmVuZGVyPWZ1bmN0aW9uKHQsZSxpLHMsbil7dm9pZCAwPT09cyYmKHM9ITApLGk9aXx8XCJyZ2JhKDAsMjU1LDAsMC40KVwiLHQuZmlsbFN0eWxlPWksdC5zdHJva2VTdHlsZT1pLHQubGluZVdpZHRoPW58fDEsZS5pc0NpcmNsZT8odC5iZWdpblBhdGgoKSx0LmFyYyhlLmNlbnRlci54LWUuZ2FtZS5jYW1lcmEueCxlLmNlbnRlci55LWUuZ2FtZS5jYW1lcmEueSxlLmhhbGZXaWR0aCwwLDIqTWF0aC5QSSkscz90LmZpbGwoKTp0LnN0cm9rZSgpKTpzP3QuZmlsbFJlY3QoZS5wb3NpdGlvbi54LWUuZ2FtZS5jYW1lcmEueCxlLnBvc2l0aW9uLnktZS5nYW1lLmNhbWVyYS55LGUud2lkdGgsZS5oZWlnaHQpOnQuc3Ryb2tlUmVjdChlLnBvc2l0aW9uLngtZS5nYW1lLmNhbWVyYS54LGUucG9zaXRpb24ueS1lLmdhbWUuY2FtZXJhLnksZS53aWR0aCxlLmhlaWdodCl9LGkuUGh5c2ljcy5BcmNhZGUuQm9keS5yZW5kZXJCb2R5SW5mbz1mdW5jdGlvbih0LGUpe3QubGluZShcIng6IFwiK2UueC50b0ZpeGVkKDIpLFwieTogXCIrZS55LnRvRml4ZWQoMiksXCJ3aWR0aDogXCIrZS53aWR0aCxcImhlaWdodDogXCIrZS5oZWlnaHQpLHQubGluZShcInZlbG9jaXR5IHg6IFwiK2UudmVsb2NpdHkueC50b0ZpeGVkKDIpLFwieTogXCIrZS52ZWxvY2l0eS55LnRvRml4ZWQoMiksXCJkZWx0YVg6IFwiK2UuX2R4LnRvRml4ZWQoMiksXCJkZWx0YVk6IFwiK2UuX2R5LnRvRml4ZWQoMikpLHQubGluZShcImFjY2VsZXJhdGlvbiB4OiBcIitlLmFjY2VsZXJhdGlvbi54LnRvRml4ZWQoMiksXCJ5OiBcIitlLmFjY2VsZXJhdGlvbi55LnRvRml4ZWQoMiksXCJzcGVlZDogXCIrZS5zcGVlZC50b0ZpeGVkKDIpLFwiYW5nbGU6IFwiK2UuYW5nbGUudG9GaXhlZCgyKSksdC5saW5lKFwiZ3Jhdml0eSB4OiBcIitlLmdyYXZpdHkueCxcInk6IFwiK2UuZ3Jhdml0eS55LFwiYm91bmNlIHg6IFwiK2UuYm91bmNlLngudG9GaXhlZCgyKSxcInk6IFwiK2UuYm91bmNlLnkudG9GaXhlZCgyKSksdC5saW5lKFwidG91Y2hpbmcgbGVmdDogXCIrZS50b3VjaGluZy5sZWZ0LFwicmlnaHQ6IFwiK2UudG91Y2hpbmcucmlnaHQsXCJ1cDogXCIrZS50b3VjaGluZy51cCxcImRvd246IFwiK2UudG91Y2hpbmcuZG93biksdC5saW5lKFwiYmxvY2tlZCBsZWZ0OiBcIitlLmJsb2NrZWQubGVmdCxcInJpZ2h0OiBcIitlLmJsb2NrZWQucmlnaHQsXCJ1cDogXCIrZS5ibG9ja2VkLnVwLFwiZG93bjogXCIrZS5ibG9ja2VkLmRvd24pfSxpLlBoeXNpY3MuQXJjYWRlLkJvZHkucHJvdG90eXBlLmNvbnN0cnVjdG9yPWkuUGh5c2ljcy5BcmNhZGUuQm9keSxpLlBoeXNpY3MuQXJjYWRlLlRpbGVtYXBDb2xsaXNpb249ZnVuY3Rpb24oKXt9LGkuUGh5c2ljcy5BcmNhZGUuVGlsZW1hcENvbGxpc2lvbi5wcm90b3R5cGU9e1RJTEVfQklBUzoxNixjb2xsaWRlU3ByaXRlVnNUaWxlbWFwTGF5ZXI6ZnVuY3Rpb24odCxlLGkscyxuLG8pe2lmKHQuYm9keSl7dmFyIHI9ZS5nZXRUaWxlcyh0LmJvZHkucG9zaXRpb24ueC10LmJvZHkudGlsZVBhZGRpbmcueC1lLmdldFRpbGVPZmZzZXRYKCksdC5ib2R5LnBvc2l0aW9uLnktdC5ib2R5LnRpbGVQYWRkaW5nLnktZS5nZXRUaWxlT2Zmc2V0WSgpLHQuYm9keS53aWR0aCt0LmJvZHkudGlsZVBhZGRpbmcueCx0LmJvZHkuaGVpZ2h0K3QuYm9keS50aWxlUGFkZGluZy55LCExLCExKTtpZigwIT09ci5sZW5ndGgpZm9yKHZhciBhPTA7YTxyLmxlbmd0aDthKyspcz9zLmNhbGwobix0LHJbYV0pJiZ0aGlzLnNlcGFyYXRlVGlsZShhLHQuYm9keSxyW2FdLGUsbykmJih0aGlzLl90b3RhbCsrLGkmJmkuY2FsbChuLHQsclthXSkpOnRoaXMuc2VwYXJhdGVUaWxlKGEsdC5ib2R5LHJbYV0sZSxvKSYmKHRoaXMuX3RvdGFsKyssaSYmaS5jYWxsKG4sdCxyW2FdKSl9fSxjb2xsaWRlR3JvdXBWc1RpbGVtYXBMYXllcjpmdW5jdGlvbih0LGUsaSxzLG4sbyl7aWYoMCE9PXQubGVuZ3RoKWZvcih2YXIgcj0wO3I8dC5jaGlsZHJlbi5sZW5ndGg7cisrKXQuY2hpbGRyZW5bcl0uZXhpc3RzJiZ0aGlzLmNvbGxpZGVTcHJpdGVWc1RpbGVtYXBMYXllcih0LmNoaWxkcmVuW3JdLGUsaSxzLG4sbyl9LHNlcGFyYXRlVGlsZTpmdW5jdGlvbih0LGUsaSxzLG4pe2lmKCFlLmVuYWJsZSlyZXR1cm4hMTt2YXIgbz1zLmdldFRpbGVPZmZzZXRYKCkscj1zLmdldFRpbGVPZmZzZXRZKCk7aWYoIWkuaW50ZXJzZWN0cyhlLnBvc2l0aW9uLngtbyxlLnBvc2l0aW9uLnktcixlLnJpZ2h0LW8sZS5ib3R0b20tcikpcmV0dXJuITE7aWYobilyZXR1cm4hMDtpZihpLmNvbGxpc2lvbkNhbGxiYWNrJiYhaS5jb2xsaXNpb25DYWxsYmFjay5jYWxsKGkuY29sbGlzaW9uQ2FsbGJhY2tDb250ZXh0LGUuc3ByaXRlLGkpKXJldHVybiExO2lmKHZvaWQgMCE9PWkubGF5ZXIuY2FsbGJhY2tzJiZpLmxheWVyLmNhbGxiYWNrc1tpLmluZGV4XSYmIWkubGF5ZXIuY2FsbGJhY2tzW2kuaW5kZXhdLmNhbGxiYWNrLmNhbGwoaS5sYXllci5jYWxsYmFja3NbaS5pbmRleF0uY2FsbGJhY2tDb250ZXh0LGUuc3ByaXRlLGkpKXJldHVybiExO2lmKCEoaS5mYWNlTGVmdHx8aS5mYWNlUmlnaHR8fGkuZmFjZVRvcHx8aS5mYWNlQm90dG9tKSlyZXR1cm4hMTt2YXIgYT0wLGg9MCxsPTAsYz0xO2lmKGUuZGVsdGFBYnNYKCk+ZS5kZWx0YUFic1koKT9sPS0xOmUuZGVsdGFBYnNYKCk8ZS5kZWx0YUFic1koKSYmKGM9LTEpLDAhPT1lLmRlbHRhWCgpJiYwIT09ZS5kZWx0YVkoKSYmKGkuZmFjZUxlZnR8fGkuZmFjZVJpZ2h0KSYmKGkuZmFjZVRvcHx8aS5mYWNlQm90dG9tKSYmKGw9TWF0aC5taW4oTWF0aC5hYnMoZS5wb3NpdGlvbi54LW8taS5yaWdodCksTWF0aC5hYnMoZS5yaWdodC1vLWkubGVmdCkpLGM9TWF0aC5taW4oTWF0aC5hYnMoZS5wb3NpdGlvbi55LXItaS5ib3R0b20pLE1hdGguYWJzKGUuYm90dG9tLXItaS50b3ApKSksbDxjKXtpZigoaS5mYWNlTGVmdHx8aS5mYWNlUmlnaHQpJiYwIT09KGE9dGhpcy50aWxlQ2hlY2tYKGUsaSxzKSkmJiFpLmludGVyc2VjdHMoZS5wb3NpdGlvbi54LW8sZS5wb3NpdGlvbi55LXIsZS5yaWdodC1vLGUuYm90dG9tLXIpKXJldHVybiEwOyhpLmZhY2VUb3B8fGkuZmFjZUJvdHRvbSkmJihoPXRoaXMudGlsZUNoZWNrWShlLGkscykpfWVsc2V7aWYoKGkuZmFjZVRvcHx8aS5mYWNlQm90dG9tKSYmMCE9PShoPXRoaXMudGlsZUNoZWNrWShlLGkscykpJiYhaS5pbnRlcnNlY3RzKGUucG9zaXRpb24ueC1vLGUucG9zaXRpb24ueS1yLGUucmlnaHQtbyxlLmJvdHRvbS1yKSlyZXR1cm4hMDsoaS5mYWNlTGVmdHx8aS5mYWNlUmlnaHQpJiYoYT10aGlzLnRpbGVDaGVja1goZSxpLHMpKX1yZXR1cm4gMCE9PWF8fDAhPT1ofSx0aWxlQ2hlY2tYOmZ1bmN0aW9uKHQsZSxpKXt2YXIgcz0wLG49aS5nZXRUaWxlT2Zmc2V0WCgpO3JldHVybiB0LmRlbHRhWCgpPDAmJiF0LmJsb2NrZWQubGVmdCYmZS5jb2xsaWRlUmlnaHQmJnQuY2hlY2tDb2xsaXNpb24ubGVmdD9lLmZhY2VSaWdodCYmdC54LW48ZS5yaWdodCYmKHM9dC54LW4tZS5yaWdodCk8LXRoaXMuVElMRV9CSUFTJiYocz0wKTp0LmRlbHRhWCgpPjAmJiF0LmJsb2NrZWQucmlnaHQmJmUuY29sbGlkZUxlZnQmJnQuY2hlY2tDb2xsaXNpb24ucmlnaHQmJmUuZmFjZUxlZnQmJnQucmlnaHQtbj5lLmxlZnQmJihzPXQucmlnaHQtbi1lLmxlZnQpPnRoaXMuVElMRV9CSUFTJiYocz0wKSwwIT09cyYmKHQuY3VzdG9tU2VwYXJhdGVYP3Qub3ZlcmxhcFg9czp0aGlzLnByb2Nlc3NUaWxlU2VwYXJhdGlvblgodCxzKSksc30sdGlsZUNoZWNrWTpmdW5jdGlvbih0LGUsaSl7dmFyIHM9MCxuPWkuZ2V0VGlsZU9mZnNldFkoKTtyZXR1cm4gdC5kZWx0YVkoKTwwJiYhdC5ibG9ja2VkLnVwJiZlLmNvbGxpZGVEb3duJiZ0LmNoZWNrQ29sbGlzaW9uLnVwP2UuZmFjZUJvdHRvbSYmdC55LW48ZS5ib3R0b20mJihzPXQueS1uLWUuYm90dG9tKTwtdGhpcy5USUxFX0JJQVMmJihzPTApOnQuZGVsdGFZKCk+MCYmIXQuYmxvY2tlZC5kb3duJiZlLmNvbGxpZGVVcCYmdC5jaGVja0NvbGxpc2lvbi5kb3duJiZlLmZhY2VUb3AmJnQuYm90dG9tLW4+ZS50b3AmJihzPXQuYm90dG9tLW4tZS50b3ApPnRoaXMuVElMRV9CSUFTJiYocz0wKSwwIT09cyYmKHQuY3VzdG9tU2VwYXJhdGVZP3Qub3ZlcmxhcFk9czp0aGlzLnByb2Nlc3NUaWxlU2VwYXJhdGlvblkodCxzKSksc30scHJvY2Vzc1RpbGVTZXBhcmF0aW9uWDpmdW5jdGlvbih0LGUpe2U8MD8odC5ibG9ja2VkLmxlZnQ9ITAsdC5ibG9ja2VkLm5vbmU9ITEpOmU+MCYmKHQuYmxvY2tlZC5yaWdodD0hMCx0LmJsb2NrZWQubm9uZT0hMSksdC5wb3NpdGlvbi54LT1lLDA9PT10LmJvdW5jZS54P3QudmVsb2NpdHkueD0wOnQudmVsb2NpdHkueD0tdC52ZWxvY2l0eS54KnQuYm91bmNlLnh9LHByb2Nlc3NUaWxlU2VwYXJhdGlvblk6ZnVuY3Rpb24odCxlKXtlPDA/KHQuYmxvY2tlZC51cD0hMCx0LmJsb2NrZWQubm9uZT0hMSk6ZT4wJiYodC5ibG9ja2VkLmRvd249ITAsdC5ibG9ja2VkLm5vbmU9ITEpLHQucG9zaXRpb24ueS09ZSwwPT09dC5ib3VuY2UueT90LnZlbG9jaXR5Lnk9MDp0LnZlbG9jaXR5Lnk9LXQudmVsb2NpdHkueSp0LmJvdW5jZS55fX0saS5VdGlscy5taXhpblByb3RvdHlwZShpLlBoeXNpY3MuQXJjYWRlLnByb3RvdHlwZSxpLlBoeXNpY3MuQXJjYWRlLlRpbGVtYXBDb2xsaXNpb24ucHJvdG90eXBlKSxwMi5Cb2R5LnByb3RvdHlwZS5wYXJlbnQ9bnVsbCxwMi5TcHJpbmcucHJvdG90eXBlLnBhcmVudD1udWxsLGkuUGh5c2ljcy5QMj1mdW5jdGlvbih0LGUpe3RoaXMuZ2FtZT10LHZvaWQgMD09PWU/ZT17Z3Jhdml0eTpbMCwwXSxicm9hZHBoYXNlOm5ldyBwMi5TQVBCcm9hZHBoYXNlfTooZS5oYXNPd25Qcm9wZXJ0eShcImdyYXZpdHlcIil8fChlLmdyYXZpdHk9WzAsMF0pLGUuaGFzT3duUHJvcGVydHkoXCJicm9hZHBoYXNlXCIpfHwoZS5icm9hZHBoYXNlPW5ldyBwMi5TQVBCcm9hZHBoYXNlKSksdGhpcy5jb25maWc9ZSx0aGlzLndvcmxkPW5ldyBwMi5Xb3JsZCh0aGlzLmNvbmZpZyksdGhpcy5mcmFtZVJhdGU9MS82MCx0aGlzLnVzZUVsYXBzZWRUaW1lPSExLHRoaXMucGF1c2VkPSExLHRoaXMubWF0ZXJpYWxzPVtdLHRoaXMuZ3Jhdml0eT1uZXcgaS5QaHlzaWNzLlAyLkludmVyc2VQb2ludFByb3h5KHRoaXMsdGhpcy53b3JsZC5ncmF2aXR5KSx0aGlzLndhbGxzPXtsZWZ0Om51bGwscmlnaHQ6bnVsbCx0b3A6bnVsbCxib3R0b206bnVsbH0sdGhpcy5vbkJvZHlBZGRlZD1uZXcgaS5TaWduYWwsdGhpcy5vbkJvZHlSZW1vdmVkPW5ldyBpLlNpZ25hbCx0aGlzLm9uU3ByaW5nQWRkZWQ9bmV3IGkuU2lnbmFsLHRoaXMub25TcHJpbmdSZW1vdmVkPW5ldyBpLlNpZ25hbCx0aGlzLm9uQ29uc3RyYWludEFkZGVkPW5ldyBpLlNpZ25hbCx0aGlzLm9uQ29uc3RyYWludFJlbW92ZWQ9bmV3IGkuU2lnbmFsLHRoaXMub25Db250YWN0TWF0ZXJpYWxBZGRlZD1uZXcgaS5TaWduYWwsdGhpcy5vbkNvbnRhY3RNYXRlcmlhbFJlbW92ZWQ9bmV3IGkuU2lnbmFsLHRoaXMucG9zdEJyb2FkcGhhc2VDYWxsYmFjaz1udWxsLHRoaXMuY2FsbGJhY2tDb250ZXh0PW51bGwsdGhpcy5vbkJlZ2luQ29udGFjdD1uZXcgaS5TaWduYWwsdGhpcy5vbkVuZENvbnRhY3Q9bmV3IGkuU2lnbmFsLGUuaGFzT3duUHJvcGVydHkoXCJtcHhcIikmJmUuaGFzT3duUHJvcGVydHkoXCJweG1cIikmJmUuaGFzT3duUHJvcGVydHkoXCJtcHhpXCIpJiZlLmhhc093blByb3BlcnR5KFwicHhtaVwiKSYmKHRoaXMubXB4PWUubXB4LHRoaXMubXB4aT1lLm1weGksdGhpcy5weG09ZS5weG0sdGhpcy5weG1pPWUucHhtaSksdGhpcy53b3JsZC5vbihcImJlZ2luQ29udGFjdFwiLHRoaXMuYmVnaW5Db250YWN0SGFuZGxlcix0aGlzKSx0aGlzLndvcmxkLm9uKFwiZW5kQ29udGFjdFwiLHRoaXMuZW5kQ29udGFjdEhhbmRsZXIsdGhpcyksdGhpcy5jb2xsaXNpb25Hcm91cHM9W10sdGhpcy5ub3RoaW5nQ29sbGlzaW9uR3JvdXA9bmV3IGkuUGh5c2ljcy5QMi5Db2xsaXNpb25Hcm91cCgxKSx0aGlzLmJvdW5kc0NvbGxpc2lvbkdyb3VwPW5ldyBpLlBoeXNpY3MuUDIuQ29sbGlzaW9uR3JvdXAoMiksdGhpcy5ldmVyeXRoaW5nQ29sbGlzaW9uR3JvdXA9bmV3IGkuUGh5c2ljcy5QMi5Db2xsaXNpb25Hcm91cCgyMTQ3NDgzNjQ4KSx0aGlzLmJvdW5kc0NvbGxpZGVzV2l0aD1bXSx0aGlzLl90b1JlbW92ZT1bXSx0aGlzLl9jb2xsaXNpb25Hcm91cElEPTIsdGhpcy5fYm91bmRzTGVmdD0hMCx0aGlzLl9ib3VuZHNSaWdodD0hMCx0aGlzLl9ib3VuZHNUb3A9ITAsdGhpcy5fYm91bmRzQm90dG9tPSEwLHRoaXMuX2JvdW5kc093bkdyb3VwPSExLHRoaXMuc2V0Qm91bmRzVG9Xb3JsZCghMCwhMCwhMCwhMCwhMSl9LGkuUGh5c2ljcy5QMi5wcm90b3R5cGU9e3JlbW92ZUJvZHlOZXh0U3RlcDpmdW5jdGlvbih0KXt0aGlzLl90b1JlbW92ZS5wdXNoKHQpfSxwcmVVcGRhdGU6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy5fdG9SZW1vdmUubGVuZ3RoO3QtLTspdGhpcy5yZW1vdmVCb2R5KHRoaXMuX3RvUmVtb3ZlW3RdKTt0aGlzLl90b1JlbW92ZS5sZW5ndGg9MH0sZW5hYmxlOmZ1bmN0aW9uKHQsZSxzKXt2b2lkIDA9PT1lJiYoZT0hMSksdm9pZCAwPT09cyYmKHM9ITApO3ZhciBuPTE7aWYoQXJyYXkuaXNBcnJheSh0KSlmb3Iobj10Lmxlbmd0aDtuLS07KXRbbl1pbnN0YW5jZW9mIGkuR3JvdXA/dGhpcy5lbmFibGUodFtuXS5jaGlsZHJlbixlLHMpOih0aGlzLmVuYWJsZUJvZHkodFtuXSxlKSxzJiZ0W25dLmhhc093blByb3BlcnR5KFwiY2hpbGRyZW5cIikmJnRbbl0uY2hpbGRyZW4ubGVuZ3RoPjAmJnRoaXMuZW5hYmxlKHRbbl0sZSwhMCkpO2Vsc2UgdCBpbnN0YW5jZW9mIGkuR3JvdXA/dGhpcy5lbmFibGUodC5jaGlsZHJlbixlLHMpOih0aGlzLmVuYWJsZUJvZHkodCxlKSxzJiZ0Lmhhc093blByb3BlcnR5KFwiY2hpbGRyZW5cIikmJnQuY2hpbGRyZW4ubGVuZ3RoPjAmJnRoaXMuZW5hYmxlKHQuY2hpbGRyZW4sZSwhMCkpfSxlbmFibGVCb2R5OmZ1bmN0aW9uKHQsZSl7dC5oYXNPd25Qcm9wZXJ0eShcImJvZHlcIikmJm51bGw9PT10LmJvZHkmJih0LmJvZHk9bmV3IGkuUGh5c2ljcy5QMi5Cb2R5KHRoaXMuZ2FtZSx0LHQueCx0LnksMSksdC5ib2R5LmRlYnVnPWUsdm9pZCAwIT09dC5hbmNob3ImJnQuYW5jaG9yLnNldCguNSkpfSxzZXRJbXBhY3RFdmVudHM6ZnVuY3Rpb24odCl7dD90aGlzLndvcmxkLm9uKFwiaW1wYWN0XCIsdGhpcy5pbXBhY3RIYW5kbGVyLHRoaXMpOnRoaXMud29ybGQub2ZmKFwiaW1wYWN0XCIsdGhpcy5pbXBhY3RIYW5kbGVyLHRoaXMpfSxzZXRQb3N0QnJvYWRwaGFzZUNhbGxiYWNrOmZ1bmN0aW9uKHQsZSl7dGhpcy5wb3N0QnJvYWRwaGFzZUNhbGxiYWNrPXQsdGhpcy5jYWxsYmFja0NvbnRleHQ9ZSxudWxsIT09dD90aGlzLndvcmxkLm9uKFwicG9zdEJyb2FkcGhhc2VcIix0aGlzLnBvc3RCcm9hZHBoYXNlSGFuZGxlcix0aGlzKTp0aGlzLndvcmxkLm9mZihcInBvc3RCcm9hZHBoYXNlXCIsdGhpcy5wb3N0QnJvYWRwaGFzZUhhbmRsZXIsdGhpcyl9LHBvc3RCcm9hZHBoYXNlSGFuZGxlcjpmdW5jdGlvbih0KXtpZih0aGlzLnBvc3RCcm9hZHBoYXNlQ2FsbGJhY2smJjAhPT10LnBhaXJzLmxlbmd0aClmb3IodmFyIGU9dC5wYWlycy5sZW5ndGgtMjtlPj0wO2UtPTIpdC5wYWlyc1tlXS5wYXJlbnQmJnQucGFpcnNbZSsxXS5wYXJlbnQmJiF0aGlzLnBvc3RCcm9hZHBoYXNlQ2FsbGJhY2suY2FsbCh0aGlzLmNhbGxiYWNrQ29udGV4dCx0LnBhaXJzW2VdLnBhcmVudCx0LnBhaXJzW2UrMV0ucGFyZW50KSYmdC5wYWlycy5zcGxpY2UoZSwyKX0saW1wYWN0SGFuZGxlcjpmdW5jdGlvbih0KXtpZih0LmJvZHlBLnBhcmVudCYmdC5ib2R5Qi5wYXJlbnQpe3ZhciBlPXQuYm9keUEucGFyZW50LGk9dC5ib2R5Qi5wYXJlbnQ7ZS5fYm9keUNhbGxiYWNrc1t0LmJvZHlCLmlkXSYmZS5fYm9keUNhbGxiYWNrc1t0LmJvZHlCLmlkXS5jYWxsKGUuX2JvZHlDYWxsYmFja0NvbnRleHRbdC5ib2R5Qi5pZF0sZSxpLHQuc2hhcGVBLHQuc2hhcGVCKSxpLl9ib2R5Q2FsbGJhY2tzW3QuYm9keUEuaWRdJiZpLl9ib2R5Q2FsbGJhY2tzW3QuYm9keUEuaWRdLmNhbGwoaS5fYm9keUNhbGxiYWNrQ29udGV4dFt0LmJvZHlBLmlkXSxpLGUsdC5zaGFwZUIsdC5zaGFwZUEpLGUuX2dyb3VwQ2FsbGJhY2tzW3Quc2hhcGVCLmNvbGxpc2lvbkdyb3VwXSYmZS5fZ3JvdXBDYWxsYmFja3NbdC5zaGFwZUIuY29sbGlzaW9uR3JvdXBdLmNhbGwoZS5fZ3JvdXBDYWxsYmFja0NvbnRleHRbdC5zaGFwZUIuY29sbGlzaW9uR3JvdXBdLGUsaSx0LnNoYXBlQSx0LnNoYXBlQiksaS5fZ3JvdXBDYWxsYmFja3NbdC5zaGFwZUEuY29sbGlzaW9uR3JvdXBdJiZpLl9ncm91cENhbGxiYWNrc1t0LnNoYXBlQS5jb2xsaXNpb25Hcm91cF0uY2FsbChpLl9ncm91cENhbGxiYWNrQ29udGV4dFt0LnNoYXBlQS5jb2xsaXNpb25Hcm91cF0saSxlLHQuc2hhcGVCLHQuc2hhcGVBKX19LGJlZ2luQ29udGFjdEhhbmRsZXI6ZnVuY3Rpb24odCl7dC5ib2R5QSYmdC5ib2R5QiYmKHRoaXMub25CZWdpbkNvbnRhY3QuZGlzcGF0Y2godC5ib2R5QSx0LmJvZHlCLHQuc2hhcGVBLHQuc2hhcGVCLHQuY29udGFjdEVxdWF0aW9ucyksdC5ib2R5QS5wYXJlbnQmJnQuYm9keUEucGFyZW50Lm9uQmVnaW5Db250YWN0LmRpc3BhdGNoKHQuYm9keUIucGFyZW50LHQuYm9keUIsdC5zaGFwZUEsdC5zaGFwZUIsdC5jb250YWN0RXF1YXRpb25zKSx0LmJvZHlCLnBhcmVudCYmdC5ib2R5Qi5wYXJlbnQub25CZWdpbkNvbnRhY3QuZGlzcGF0Y2godC5ib2R5QS5wYXJlbnQsdC5ib2R5QSx0LnNoYXBlQix0LnNoYXBlQSx0LmNvbnRhY3RFcXVhdGlvbnMpKX0sZW5kQ29udGFjdEhhbmRsZXI6ZnVuY3Rpb24odCl7dC5ib2R5QSYmdC5ib2R5QiYmKHRoaXMub25FbmRDb250YWN0LmRpc3BhdGNoKHQuYm9keUEsdC5ib2R5Qix0LnNoYXBlQSx0LnNoYXBlQiksdC5ib2R5QS5wYXJlbnQmJnQuYm9keUEucGFyZW50Lm9uRW5kQ29udGFjdC5kaXNwYXRjaCh0LmJvZHlCLnBhcmVudCx0LmJvZHlCLHQuc2hhcGVBLHQuc2hhcGVCKSx0LmJvZHlCLnBhcmVudCYmdC5ib2R5Qi5wYXJlbnQub25FbmRDb250YWN0LmRpc3BhdGNoKHQuYm9keUEucGFyZW50LHQuYm9keUEsdC5zaGFwZUIsdC5zaGFwZUEpKX0sc2V0Qm91bmRzVG9Xb3JsZDpmdW5jdGlvbih0LGUsaSxzLG4pe3RoaXMuc2V0Qm91bmRzKHRoaXMuZ2FtZS53b3JsZC5ib3VuZHMueCx0aGlzLmdhbWUud29ybGQuYm91bmRzLnksdGhpcy5nYW1lLndvcmxkLmJvdW5kcy53aWR0aCx0aGlzLmdhbWUud29ybGQuYm91bmRzLmhlaWdodCx0LGUsaSxzLG4pfSxzZXRXb3JsZE1hdGVyaWFsOmZ1bmN0aW9uKHQsZSxpLHMsbil7dm9pZCAwPT09ZSYmKGU9ITApLHZvaWQgMD09PWkmJihpPSEwKSx2b2lkIDA9PT1zJiYocz0hMCksdm9pZCAwPT09biYmKG49ITApLGUmJnRoaXMud2FsbHMubGVmdCYmKHRoaXMud2FsbHMubGVmdC5zaGFwZXNbMF0ubWF0ZXJpYWw9dCksaSYmdGhpcy53YWxscy5yaWdodCYmKHRoaXMud2FsbHMucmlnaHQuc2hhcGVzWzBdLm1hdGVyaWFsPXQpLHMmJnRoaXMud2FsbHMudG9wJiYodGhpcy53YWxscy50b3Auc2hhcGVzWzBdLm1hdGVyaWFsPXQpLG4mJnRoaXMud2FsbHMuYm90dG9tJiYodGhpcy53YWxscy5ib3R0b20uc2hhcGVzWzBdLm1hdGVyaWFsPXQpfSx1cGRhdGVCb3VuZHNDb2xsaXNpb25Hcm91cDpmdW5jdGlvbih0KXt2b2lkIDA9PT10JiYodD0hMCk7dmFyIGU9dD90aGlzLmJvdW5kc0NvbGxpc2lvbkdyb3VwLm1hc2s6dGhpcy5ldmVyeXRoaW5nQ29sbGlzaW9uR3JvdXAubWFzazt0aGlzLndhbGxzLmxlZnQmJih0aGlzLndhbGxzLmxlZnQuc2hhcGVzWzBdLmNvbGxpc2lvbkdyb3VwPWUpLHRoaXMud2FsbHMucmlnaHQmJih0aGlzLndhbGxzLnJpZ2h0LnNoYXBlc1swXS5jb2xsaXNpb25Hcm91cD1lKSx0aGlzLndhbGxzLnRvcCYmKHRoaXMud2FsbHMudG9wLnNoYXBlc1swXS5jb2xsaXNpb25Hcm91cD1lKSx0aGlzLndhbGxzLmJvdHRvbSYmKHRoaXMud2FsbHMuYm90dG9tLnNoYXBlc1swXS5jb2xsaXNpb25Hcm91cD1lKSx0aGlzLl9ib3VuZHNPd25Hcm91cD10fSxzZXRCb3VuZHM6ZnVuY3Rpb24odCxlLGkscyxuLG8scixhLGgpe3ZvaWQgMD09PW4mJihuPXRoaXMuX2JvdW5kc0xlZnQpLHZvaWQgMD09PW8mJihvPXRoaXMuX2JvdW5kc1JpZ2h0KSx2b2lkIDA9PT1yJiYocj10aGlzLl9ib3VuZHNUb3ApLHZvaWQgMD09PWEmJihhPXRoaXMuX2JvdW5kc0JvdHRvbSksdm9pZCAwPT09aCYmKGg9dGhpcy5fYm91bmRzT3duR3JvdXApLHRoaXMuc2V0dXBXYWxsKG4sXCJsZWZ0XCIsdCxlLDEuNTcwNzk2MzI2Nzk0ODk2NixoKSx0aGlzLnNldHVwV2FsbChvLFwicmlnaHRcIix0K2ksZSwtMS41NzA3OTYzMjY3OTQ4OTY2LGgpLHRoaXMuc2V0dXBXYWxsKHIsXCJ0b3BcIix0LGUsLTMuMTQxNTkyNjUzNTg5NzkzLGgpLHRoaXMuc2V0dXBXYWxsKGEsXCJib3R0b21cIix0LGUrcywwLGgpLHRoaXMuX2JvdW5kc0xlZnQ9bix0aGlzLl9ib3VuZHNSaWdodD1vLHRoaXMuX2JvdW5kc1RvcD1yLHRoaXMuX2JvdW5kc0JvdHRvbT1hLHRoaXMuX2JvdW5kc093bkdyb3VwPWh9LHNldHVwV2FsbDpmdW5jdGlvbih0LGUsaSxzLG4sbyl7dD8odGhpcy53YWxsc1tlXT90aGlzLndhbGxzW2VdLnBvc2l0aW9uPVt0aGlzLnB4bWkoaSksdGhpcy5weG1pKHMpXToodGhpcy53YWxsc1tlXT1uZXcgcDIuQm9keSh7bWFzczowLHBvc2l0aW9uOlt0aGlzLnB4bWkoaSksdGhpcy5weG1pKHMpXSxhbmdsZTpufSksdGhpcy53YWxsc1tlXS5hZGRTaGFwZShuZXcgcDIuUGxhbmUpLHRoaXMud29ybGQuYWRkQm9keSh0aGlzLndhbGxzW2VdKSksbyYmKHRoaXMud2FsbHNbZV0uc2hhcGVzWzBdLmNvbGxpc2lvbkdyb3VwPXRoaXMuYm91bmRzQ29sbGlzaW9uR3JvdXAubWFzaykpOnRoaXMud2FsbHNbZV0mJih0aGlzLndvcmxkLnJlbW92ZUJvZHkodGhpcy53YWxsc1tlXSksdGhpcy53YWxsc1tlXT1udWxsKX0scGF1c2U6ZnVuY3Rpb24oKXt0aGlzLnBhdXNlZD0hMH0scmVzdW1lOmZ1bmN0aW9uKCl7dGhpcy5wYXVzZWQ9ITF9LHVwZGF0ZTpmdW5jdGlvbigpe3RoaXMucGF1c2VkfHwodGhpcy51c2VFbGFwc2VkVGltZT90aGlzLndvcmxkLnN0ZXAodGhpcy5nYW1lLnRpbWUucGh5c2ljc0VsYXBzZWQpOnRoaXMud29ybGQuc3RlcCh0aGlzLmZyYW1lUmF0ZSkpfSxyZXNldDpmdW5jdGlvbigpe3RoaXMud29ybGQub24oXCJiZWdpbkNvbnRhY3RcIix0aGlzLmJlZ2luQ29udGFjdEhhbmRsZXIsdGhpcyksdGhpcy53b3JsZC5vbihcImVuZENvbnRhY3RcIix0aGlzLmVuZENvbnRhY3RIYW5kbGVyLHRoaXMpLHRoaXMubm90aGluZ0NvbGxpc2lvbkdyb3VwPW5ldyBpLlBoeXNpY3MuUDIuQ29sbGlzaW9uR3JvdXAoMSksdGhpcy5ib3VuZHNDb2xsaXNpb25Hcm91cD1uZXcgaS5QaHlzaWNzLlAyLkNvbGxpc2lvbkdyb3VwKDIpLHRoaXMuZXZlcnl0aGluZ0NvbGxpc2lvbkdyb3VwPW5ldyBpLlBoeXNpY3MuUDIuQ29sbGlzaW9uR3JvdXAoMjE0NzQ4MzY0OCksdGhpcy5fY29sbGlzaW9uR3JvdXBJRD0yLHRoaXMuc2V0Qm91bmRzVG9Xb3JsZCghMCwhMCwhMCwhMCwhMSl9LGNsZWFyOmZ1bmN0aW9uKCl7dGhpcy53b3JsZC50aW1lPTAsdGhpcy53b3JsZC5maXhlZFN0ZXBUaW1lPTAsdGhpcy53b3JsZC5zb2x2ZXImJnRoaXMud29ybGQuc29sdmVyLmVxdWF0aW9ucy5sZW5ndGgmJnRoaXMud29ybGQuc29sdmVyLnJlbW92ZUFsbEVxdWF0aW9ucygpO2Zvcih2YXIgdD10aGlzLndvcmxkLmNvbnN0cmFpbnRzLGU9dC5sZW5ndGgtMTtlPj0wO2UtLSl0aGlzLndvcmxkLnJlbW92ZUNvbnN0cmFpbnQodFtlXSk7Zm9yKHZhciBpPXRoaXMud29ybGQuYm9kaWVzLGU9aS5sZW5ndGgtMTtlPj0wO2UtLSl0aGlzLndvcmxkLnJlbW92ZUJvZHkoaVtlXSk7Zm9yKHZhciBzPXRoaXMud29ybGQuc3ByaW5ncyxlPXMubGVuZ3RoLTE7ZT49MDtlLS0pdGhpcy53b3JsZC5yZW1vdmVTcHJpbmcoc1tlXSk7Zm9yKHZhciBuPXRoaXMud29ybGQuY29udGFjdE1hdGVyaWFscyxlPW4ubGVuZ3RoLTE7ZT49MDtlLS0pdGhpcy53b3JsZC5yZW1vdmVDb250YWN0TWF0ZXJpYWwobltlXSk7dGhpcy53b3JsZC5vZmYoXCJiZWdpbkNvbnRhY3RcIix0aGlzLmJlZ2luQ29udGFjdEhhbmRsZXIsdGhpcyksdGhpcy53b3JsZC5vZmYoXCJlbmRDb250YWN0XCIsdGhpcy5lbmRDb250YWN0SGFuZGxlcix0aGlzKSx0aGlzLnBvc3RCcm9hZHBoYXNlQ2FsbGJhY2s9bnVsbCx0aGlzLmNhbGxiYWNrQ29udGV4dD1udWxsLHRoaXMuaW1wYWN0Q2FsbGJhY2s9bnVsbCx0aGlzLmNvbGxpc2lvbkdyb3Vwcz1bXSx0aGlzLl90b1JlbW92ZT1bXSx0aGlzLmJvdW5kc0NvbGxpZGVzV2l0aD1bXSx0aGlzLndhbGxzPXtsZWZ0Om51bGwscmlnaHQ6bnVsbCx0b3A6bnVsbCxib3R0b206bnVsbH19LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLmNsZWFyKCksdGhpcy5nYW1lPW51bGx9LGFkZEJvZHk6ZnVuY3Rpb24odCl7cmV0dXJuIXQuZGF0YS53b3JsZCYmKHRoaXMud29ybGQuYWRkQm9keSh0LmRhdGEpLHRoaXMub25Cb2R5QWRkZWQuZGlzcGF0Y2godCksITApfSxyZW1vdmVCb2R5OmZ1bmN0aW9uKHQpe3JldHVybiB0LmRhdGEud29ybGQ9PT10aGlzLndvcmxkJiYodGhpcy53b3JsZC5yZW1vdmVCb2R5KHQuZGF0YSksdGhpcy5vbkJvZHlSZW1vdmVkLmRpc3BhdGNoKHQpKSx0fSxhZGRTcHJpbmc6ZnVuY3Rpb24odCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBpLlBoeXNpY3MuUDIuU3ByaW5nfHx0IGluc3RhbmNlb2YgaS5QaHlzaWNzLlAyLlJvdGF0aW9uYWxTcHJpbmc/dGhpcy53b3JsZC5hZGRTcHJpbmcodC5kYXRhKTp0aGlzLndvcmxkLmFkZFNwcmluZyh0KSx0aGlzLm9uU3ByaW5nQWRkZWQuZGlzcGF0Y2godCksdH0scmVtb3ZlU3ByaW5nOmZ1bmN0aW9uKHQpe3JldHVybiB0IGluc3RhbmNlb2YgaS5QaHlzaWNzLlAyLlNwcmluZ3x8dCBpbnN0YW5jZW9mIGkuUGh5c2ljcy5QMi5Sb3RhdGlvbmFsU3ByaW5nP3RoaXMud29ybGQucmVtb3ZlU3ByaW5nKHQuZGF0YSk6dGhpcy53b3JsZC5yZW1vdmVTcHJpbmcodCksdGhpcy5vblNwcmluZ1JlbW92ZWQuZGlzcGF0Y2godCksdH0sY3JlYXRlRGlzdGFuY2VDb25zdHJhaW50OmZ1bmN0aW9uKHQsZSxzLG4sbyxyKXtpZih0PXRoaXMuZ2V0Qm9keSh0KSxlPXRoaXMuZ2V0Qm9keShlKSx0JiZlKXJldHVybiB0aGlzLmFkZENvbnN0cmFpbnQobmV3IGkuUGh5c2ljcy5QMi5EaXN0YW5jZUNvbnN0cmFpbnQodGhpcyx0LGUscyxuLG8scikpO2NvbnNvbGUud2FybihcIkNhbm5vdCBjcmVhdGUgQ29uc3RyYWludCwgaW52YWxpZCBib2R5IG9iamVjdHMgZ2l2ZW5cIil9LGNyZWF0ZUdlYXJDb25zdHJhaW50OmZ1bmN0aW9uKHQsZSxzLG4pe2lmKHQ9dGhpcy5nZXRCb2R5KHQpLGU9dGhpcy5nZXRCb2R5KGUpLHQmJmUpcmV0dXJuIHRoaXMuYWRkQ29uc3RyYWludChuZXcgaS5QaHlzaWNzLlAyLkdlYXJDb25zdHJhaW50KHRoaXMsdCxlLHMsbikpO2NvbnNvbGUud2FybihcIkNhbm5vdCBjcmVhdGUgQ29uc3RyYWludCwgaW52YWxpZCBib2R5IG9iamVjdHMgZ2l2ZW5cIil9LGNyZWF0ZVJldm9sdXRlQ29uc3RyYWludDpmdW5jdGlvbih0LGUscyxuLG8scil7aWYodD10aGlzLmdldEJvZHkodCkscz10aGlzLmdldEJvZHkocyksdCYmcylyZXR1cm4gdGhpcy5hZGRDb25zdHJhaW50KG5ldyBpLlBoeXNpY3MuUDIuUmV2b2x1dGVDb25zdHJhaW50KHRoaXMsdCxlLHMsbixvLHIpKTtjb25zb2xlLndhcm4oXCJDYW5ub3QgY3JlYXRlIENvbnN0cmFpbnQsIGludmFsaWQgYm9keSBvYmplY3RzIGdpdmVuXCIpfSxjcmVhdGVMb2NrQ29uc3RyYWludDpmdW5jdGlvbih0LGUscyxuLG8pe2lmKHQ9dGhpcy5nZXRCb2R5KHQpLGU9dGhpcy5nZXRCb2R5KGUpLHQmJmUpcmV0dXJuIHRoaXMuYWRkQ29uc3RyYWludChuZXcgaS5QaHlzaWNzLlAyLkxvY2tDb25zdHJhaW50KHRoaXMsdCxlLHMsbixvKSk7Y29uc29sZS53YXJuKFwiQ2Fubm90IGNyZWF0ZSBDb25zdHJhaW50LCBpbnZhbGlkIGJvZHkgb2JqZWN0cyBnaXZlblwiKX0sY3JlYXRlUHJpc21hdGljQ29uc3RyYWludDpmdW5jdGlvbih0LGUscyxuLG8scixhKXtpZih0PXRoaXMuZ2V0Qm9keSh0KSxlPXRoaXMuZ2V0Qm9keShlKSx0JiZlKXJldHVybiB0aGlzLmFkZENvbnN0cmFpbnQobmV3IGkuUGh5c2ljcy5QMi5QcmlzbWF0aWNDb25zdHJhaW50KHRoaXMsdCxlLHMsbixvLHIsYSkpO2NvbnNvbGUud2FybihcIkNhbm5vdCBjcmVhdGUgQ29uc3RyYWludCwgaW52YWxpZCBib2R5IG9iamVjdHMgZ2l2ZW5cIil9LGFkZENvbnN0cmFpbnQ6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMud29ybGQuYWRkQ29uc3RyYWludCh0KSx0aGlzLm9uQ29uc3RyYWludEFkZGVkLmRpc3BhdGNoKHQpLHR9LHJlbW92ZUNvbnN0cmFpbnQ6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMud29ybGQucmVtb3ZlQ29uc3RyYWludCh0KSx0aGlzLm9uQ29uc3RyYWludFJlbW92ZWQuZGlzcGF0Y2godCksdH0sYWRkQ29udGFjdE1hdGVyaWFsOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLndvcmxkLmFkZENvbnRhY3RNYXRlcmlhbCh0KSx0aGlzLm9uQ29udGFjdE1hdGVyaWFsQWRkZWQuZGlzcGF0Y2godCksdH0scmVtb3ZlQ29udGFjdE1hdGVyaWFsOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLndvcmxkLnJlbW92ZUNvbnRhY3RNYXRlcmlhbCh0KSx0aGlzLm9uQ29udGFjdE1hdGVyaWFsUmVtb3ZlZC5kaXNwYXRjaCh0KSx0fSxnZXRDb250YWN0TWF0ZXJpYWw6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy53b3JsZC5nZXRDb250YWN0TWF0ZXJpYWwodCxlKX0sc2V0TWF0ZXJpYWw6ZnVuY3Rpb24odCxlKXtmb3IodmFyIGk9ZS5sZW5ndGg7aS0tOyllW2ldLnNldE1hdGVyaWFsKHQpfSxjcmVhdGVNYXRlcmlhbDpmdW5jdGlvbih0LGUpe3Q9dHx8XCJcIjt2YXIgcz1uZXcgaS5QaHlzaWNzLlAyLk1hdGVyaWFsKHQpO3JldHVybiB0aGlzLm1hdGVyaWFscy5wdXNoKHMpLHZvaWQgMCE9PWUmJmUuc2V0TWF0ZXJpYWwocyksc30sY3JlYXRlQ29udGFjdE1hdGVyaWFsOmZ1bmN0aW9uKHQsZSxzKXt2b2lkIDA9PT10JiYodD10aGlzLmNyZWF0ZU1hdGVyaWFsKCkpLHZvaWQgMD09PWUmJihlPXRoaXMuY3JlYXRlTWF0ZXJpYWwoKSk7dmFyIG49bmV3IGkuUGh5c2ljcy5QMi5Db250YWN0TWF0ZXJpYWwodCxlLHMpO3JldHVybiB0aGlzLmFkZENvbnRhY3RNYXRlcmlhbChuKX0sZ2V0Qm9kaWVzOmZ1bmN0aW9uKCl7Zm9yKHZhciB0PVtdLGU9dGhpcy53b3JsZC5ib2RpZXMubGVuZ3RoO2UtLTspdC5wdXNoKHRoaXMud29ybGQuYm9kaWVzW2VdLnBhcmVudCk7cmV0dXJuIHR9LGdldEJvZHk6ZnVuY3Rpb24odCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBwMi5Cb2R5P3Q6dCBpbnN0YW5jZW9mIGkuUGh5c2ljcy5QMi5Cb2R5P3QuZGF0YTp0LmJvZHkmJnQuYm9keS50eXBlPT09aS5QaHlzaWNzLlAySlM/dC5ib2R5LmRhdGE6bnVsbH0sZ2V0U3ByaW5nczpmdW5jdGlvbigpe2Zvcih2YXIgdD1bXSxlPXRoaXMud29ybGQuc3ByaW5ncy5sZW5ndGg7ZS0tOyl0LnB1c2godGhpcy53b3JsZC5zcHJpbmdzW2VdLnBhcmVudCk7cmV0dXJuIHR9LGdldENvbnN0cmFpbnRzOmZ1bmN0aW9uKCl7Zm9yKHZhciB0PVtdLGU9dGhpcy53b3JsZC5jb25zdHJhaW50cy5sZW5ndGg7ZS0tOyl0LnB1c2godGhpcy53b3JsZC5jb25zdHJhaW50c1tlXSk7cmV0dXJuIHR9LGhpdFRlc3Q6ZnVuY3Rpb24odCxlLHMsbil7dm9pZCAwPT09ZSYmKGU9dGhpcy53b3JsZC5ib2RpZXMpLHZvaWQgMD09PXMmJihzPTUpLHZvaWQgMD09PW4mJihuPSExKTtmb3IodmFyIG89W3RoaXMucHhtaSh0LngpLHRoaXMucHhtaSh0LnkpXSxyPVtdLGE9ZS5sZW5ndGg7YS0tOyllW2FdaW5zdGFuY2VvZiBpLlBoeXNpY3MuUDIuQm9keSYmKCFufHxlW2FdLmRhdGEudHlwZSE9PXAyLkJvZHkuU1RBVElDKT9yLnB1c2goZVthXS5kYXRhKTplW2FdaW5zdGFuY2VvZiBwMi5Cb2R5JiZlW2FdLnBhcmVudCYmKCFufHxlW2FdLnR5cGUhPT1wMi5Cb2R5LlNUQVRJQyk/ci5wdXNoKGVbYV0pOmVbYV1pbnN0YW5jZW9mIGkuU3ByaXRlJiZlW2FdLmhhc093blByb3BlcnR5KFwiYm9keVwiKSYmKCFufHxlW2FdLmJvZHkuZGF0YS50eXBlIT09cDIuQm9keS5TVEFUSUMpJiZyLnB1c2goZVthXS5ib2R5LmRhdGEpO3JldHVybiB0aGlzLndvcmxkLmhpdFRlc3QobyxyLHMpfSx0b0pTT046ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy53b3JsZC50b0pTT04oKX0sY3JlYXRlQ29sbGlzaW9uR3JvdXA6ZnVuY3Rpb24odCl7dmFyIGU9TWF0aC5wb3coMix0aGlzLl9jb2xsaXNpb25Hcm91cElEKTt0aGlzLndhbGxzLmxlZnQmJih0aGlzLndhbGxzLmxlZnQuc2hhcGVzWzBdLmNvbGxpc2lvbk1hc2s9dGhpcy53YWxscy5sZWZ0LnNoYXBlc1swXS5jb2xsaXNpb25NYXNrfGUpLHRoaXMud2FsbHMucmlnaHQmJih0aGlzLndhbGxzLnJpZ2h0LnNoYXBlc1swXS5jb2xsaXNpb25NYXNrPXRoaXMud2FsbHMucmlnaHQuc2hhcGVzWzBdLmNvbGxpc2lvbk1hc2t8ZSksdGhpcy53YWxscy50b3AmJih0aGlzLndhbGxzLnRvcC5zaGFwZXNbMF0uY29sbGlzaW9uTWFzaz10aGlzLndhbGxzLnRvcC5zaGFwZXNbMF0uY29sbGlzaW9uTWFza3xlKSx0aGlzLndhbGxzLmJvdHRvbSYmKHRoaXMud2FsbHMuYm90dG9tLnNoYXBlc1swXS5jb2xsaXNpb25NYXNrPXRoaXMud2FsbHMuYm90dG9tLnNoYXBlc1swXS5jb2xsaXNpb25NYXNrfGUpLHRoaXMuX2NvbGxpc2lvbkdyb3VwSUQrKzt2YXIgcz1uZXcgaS5QaHlzaWNzLlAyLkNvbGxpc2lvbkdyb3VwKGUpO3JldHVybiB0aGlzLmNvbGxpc2lvbkdyb3Vwcy5wdXNoKHMpLHQmJnRoaXMuc2V0Q29sbGlzaW9uR3JvdXAodCxzKSxzfSxzZXRDb2xsaXNpb25Hcm91cDpmdW5jdGlvbih0LGUpe2lmKHQgaW5zdGFuY2VvZiBpLkdyb3VwKWZvcih2YXIgcz0wO3M8dC50b3RhbDtzKyspdC5jaGlsZHJlbltzXS5ib2R5JiZ0LmNoaWxkcmVuW3NdLmJvZHkudHlwZT09PWkuUGh5c2ljcy5QMkpTJiZ0LmNoaWxkcmVuW3NdLmJvZHkuc2V0Q29sbGlzaW9uR3JvdXAoZSk7ZWxzZSB0LmJvZHkuc2V0Q29sbGlzaW9uR3JvdXAoZSl9LGNyZWF0ZVNwcmluZzpmdW5jdGlvbih0LGUscyxuLG8scixhLGgsbCl7aWYodD10aGlzLmdldEJvZHkodCksZT10aGlzLmdldEJvZHkoZSksdCYmZSlyZXR1cm4gdGhpcy5hZGRTcHJpbmcobmV3IGkuUGh5c2ljcy5QMi5TcHJpbmcodGhpcyx0LGUscyxuLG8scixhLGgsbCkpO2NvbnNvbGUud2FybihcIkNhbm5vdCBjcmVhdGUgU3ByaW5nLCBpbnZhbGlkIGJvZHkgb2JqZWN0cyBnaXZlblwiKX0sY3JlYXRlUm90YXRpb25hbFNwcmluZzpmdW5jdGlvbih0LGUscyxuLG8pe2lmKHQ9dGhpcy5nZXRCb2R5KHQpLGU9dGhpcy5nZXRCb2R5KGUpLHQmJmUpcmV0dXJuIHRoaXMuYWRkU3ByaW5nKG5ldyBpLlBoeXNpY3MuUDIuUm90YXRpb25hbFNwcmluZyh0aGlzLHQsZSxzLG4sbykpO2NvbnNvbGUud2FybihcIkNhbm5vdCBjcmVhdGUgUm90YXRpb25hbCBTcHJpbmcsIGludmFsaWQgYm9keSBvYmplY3RzIGdpdmVuXCIpfSxjcmVhdGVCb2R5OmZ1bmN0aW9uKHQsZSxzLG4sbyxyKXt2b2lkIDA9PT1uJiYobj0hMSk7dmFyIGE9bmV3IGkuUGh5c2ljcy5QMi5Cb2R5KHRoaXMuZ2FtZSxudWxsLHQsZSxzKTtyZXR1cm4hKHImJiFhLmFkZFBvbHlnb24obyxyKSkmJihuJiZ0aGlzLndvcmxkLmFkZEJvZHkoYS5kYXRhKSxhKX0sY3JlYXRlUGFydGljbGU6ZnVuY3Rpb24odCxlLHMsbixvLHIpe3ZvaWQgMD09PW4mJihuPSExKTt2YXIgYT1uZXcgaS5QaHlzaWNzLlAyLkJvZHkodGhpcy5nYW1lLG51bGwsdCxlLHMpO3JldHVybiEociYmIWEuYWRkUG9seWdvbihvLHIpKSYmKG4mJnRoaXMud29ybGQuYWRkQm9keShhLmRhdGEpLGEpfSxjb252ZXJ0Q29sbGlzaW9uT2JqZWN0czpmdW5jdGlvbih0LGUsaSl7dm9pZCAwPT09aSYmKGk9ITApO2Zvcih2YXIgcz1bXSxuPTAsbz10LmNvbGxpc2lvbltlXS5sZW5ndGg7bjxvO24rKyl7dmFyIHI9dC5jb2xsaXNpb25bZV1bbl0sYT1yLnBvbHlsaW5lfHxyLnBvbHlnb247aWYoYSl2YXIgaD10aGlzLmNyZWF0ZUJvZHkoci54LHIueSwwLGkse30sYSk7ZWxzZSByLnJlY3RhbmdsZSYmKGg9dGhpcy5jcmVhdGVCb2R5KHIueCxyLnksMCxpKSkuYWRkUmVjdGFuZ2xlKHIud2lkdGgsci5oZWlnaHQsci53aWR0aC8yLHIuaGVpZ2h0LzIpO2gmJnMucHVzaChoKX1yZXR1cm4gc30sY2xlYXJUaWxlbWFwTGF5ZXJCb2RpZXM6ZnVuY3Rpb24odCxlKXtlPXQuZ2V0TGF5ZXIoZSk7Zm9yKHZhciBpPXQubGF5ZXJzW2VdLmJvZGllcy5sZW5ndGg7aS0tOyl0LmxheWVyc1tlXS5ib2RpZXNbaV0uZGVzdHJveSgpO3QubGF5ZXJzW2VdLmJvZGllcy5sZW5ndGg9MH0sY29udmVydFRpbGVtYXA6ZnVuY3Rpb24odCxlLGkscyl7ZT10LmdldExheWVyKGUpLHZvaWQgMD09PWkmJihpPSEwKSx2b2lkIDA9PT1zJiYocz0hMCksdGhpcy5jbGVhclRpbGVtYXBMYXllckJvZGllcyh0LGUpO2Zvcih2YXIgbj0wLG89MCxyPTAsYT0wLGg9dC5sYXllcnNbZV0uaGVpZ2h0O2E8aDthKyspe249MDtmb3IodmFyIGw9MCxjPXQubGF5ZXJzW2VdLndpZHRoO2w8YztsKyspe3ZhciB1PXQubGF5ZXJzW2VdLmRhdGFbYV1bbF07aWYodSYmdS5pbmRleD4tMSYmdS5jb2xsaWRlcylpZihzKXt2YXIgZD10LmdldFRpbGVSaWdodChlLGwsYSk7MD09PW4mJihvPXUueCp1LndpZHRoLHI9dS55KnUuaGVpZ2h0LG49dS53aWR0aCksZCYmZC5jb2xsaWRlcz9uKz11LndpZHRoOigocD10aGlzLmNyZWF0ZUJvZHkobyxyLDAsITEpKS5hZGRSZWN0YW5nbGUobix1LmhlaWdodCxuLzIsdS5oZWlnaHQvMiwwKSxpJiZ0aGlzLmFkZEJvZHkocCksdC5sYXllcnNbZV0uYm9kaWVzLnB1c2gocCksbj0wKX1lbHNle3ZhciBwPXRoaXMuY3JlYXRlQm9keSh1LngqdS53aWR0aCx1LnkqdS5oZWlnaHQsMCwhMSk7cC5hZGRSZWN0YW5nbGUodS53aWR0aCx1LmhlaWdodCx1LndpZHRoLzIsdS5oZWlnaHQvMiwwKSxpJiZ0aGlzLmFkZEJvZHkocCksdC5sYXllcnNbZV0uYm9kaWVzLnB1c2gocCl9fX1yZXR1cm4gdC5sYXllcnNbZV0uYm9kaWVzfSxtcHg6ZnVuY3Rpb24odCl7cmV0dXJuIHQqPTIwfSxweG06ZnVuY3Rpb24odCl7cmV0dXJuLjA1KnR9LG1weGk6ZnVuY3Rpb24odCl7cmV0dXJuIHQqPS0yMH0scHhtaTpmdW5jdGlvbih0KXtyZXR1cm4tLjA1KnR9fSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5QaHlzaWNzLlAyLnByb3RvdHlwZSxcImZyaWN0aW9uXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLndvcmxkLmRlZmF1bHRDb250YWN0TWF0ZXJpYWwuZnJpY3Rpb259LHNldDpmdW5jdGlvbih0KXt0aGlzLndvcmxkLmRlZmF1bHRDb250YWN0TWF0ZXJpYWwuZnJpY3Rpb249dH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5QaHlzaWNzLlAyLnByb3RvdHlwZSxcInJlc3RpdHV0aW9uXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLndvcmxkLmRlZmF1bHRDb250YWN0TWF0ZXJpYWwucmVzdGl0dXRpb259LHNldDpmdW5jdGlvbih0KXt0aGlzLndvcmxkLmRlZmF1bHRDb250YWN0TWF0ZXJpYWwucmVzdGl0dXRpb249dH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5QaHlzaWNzLlAyLnByb3RvdHlwZSxcImNvbnRhY3RNYXRlcmlhbFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy53b3JsZC5kZWZhdWx0Q29udGFjdE1hdGVyaWFsfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy53b3JsZC5kZWZhdWx0Q29udGFjdE1hdGVyaWFsPXR9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuUGh5c2ljcy5QMi5wcm90b3R5cGUsXCJhcHBseVNwcmluZ0ZvcmNlc1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy53b3JsZC5hcHBseVNwcmluZ0ZvcmNlc30sc2V0OmZ1bmN0aW9uKHQpe3RoaXMud29ybGQuYXBwbHlTcHJpbmdGb3JjZXM9dH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5QaHlzaWNzLlAyLnByb3RvdHlwZSxcImFwcGx5RGFtcGluZ1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy53b3JsZC5hcHBseURhbXBpbmd9LHNldDpmdW5jdGlvbih0KXt0aGlzLndvcmxkLmFwcGx5RGFtcGluZz10fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLlBoeXNpY3MuUDIucHJvdG90eXBlLFwiYXBwbHlHcmF2aXR5XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLndvcmxkLmFwcGx5R3Jhdml0eX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMud29ybGQuYXBwbHlHcmF2aXR5PXR9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuUGh5c2ljcy5QMi5wcm90b3R5cGUsXCJzb2x2ZUNvbnN0cmFpbnRzXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLndvcmxkLnNvbHZlQ29uc3RyYWludHN9LHNldDpmdW5jdGlvbih0KXt0aGlzLndvcmxkLnNvbHZlQ29uc3RyYWludHM9dH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5QaHlzaWNzLlAyLnByb3RvdHlwZSxcInRpbWVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMud29ybGQudGltZX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5QaHlzaWNzLlAyLnByb3RvdHlwZSxcImVtaXRJbXBhY3RFdmVudFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy53b3JsZC5lbWl0SW1wYWN0RXZlbnR9LHNldDpmdW5jdGlvbih0KXt0aGlzLndvcmxkLmVtaXRJbXBhY3RFdmVudD10fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLlBoeXNpY3MuUDIucHJvdG90eXBlLFwic2xlZXBNb2RlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLndvcmxkLnNsZWVwTW9kZX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMud29ybGQuc2xlZXBNb2RlPXR9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuUGh5c2ljcy5QMi5wcm90b3R5cGUsXCJ0b3RhbFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy53b3JsZC5ib2RpZXMubGVuZ3RofX0pLGkuUGh5c2ljcy5QMi5GaXh0dXJlTGlzdD1mdW5jdGlvbih0KXtBcnJheS5pc0FycmF5KHQpfHwodD1bdF0pLHRoaXMucmF3TGlzdD10LHRoaXMuaW5pdCgpLHRoaXMucGFyc2UodGhpcy5yYXdMaXN0KX0saS5QaHlzaWNzLlAyLkZpeHR1cmVMaXN0LnByb3RvdHlwZT17aW5pdDpmdW5jdGlvbigpe3RoaXMubmFtZWRGaXh0dXJlcz17fSx0aGlzLmdyb3VwZWRGaXh0dXJlcz1bXSx0aGlzLmFsbEZpeHR1cmVzPVtdfSxzZXRDYXRlZ29yeTpmdW5jdGlvbih0LGUpe3RoaXMuZ2V0Rml4dHVyZXMoZSkuZm9yRWFjaChmdW5jdGlvbihlKXtlLmNvbGxpc2lvbkdyb3VwPXR9KX0sc2V0TWFzazpmdW5jdGlvbih0LGUpe3RoaXMuZ2V0Rml4dHVyZXMoZSkuZm9yRWFjaChmdW5jdGlvbihlKXtlLmNvbGxpc2lvbk1hc2s9dH0pfSxzZXRTZW5zb3I6ZnVuY3Rpb24odCxlKXt0aGlzLmdldEZpeHR1cmVzKGUpLmZvckVhY2goZnVuY3Rpb24oZSl7ZS5zZW5zb3I9dH0pfSxzZXRNYXRlcmlhbDpmdW5jdGlvbih0LGUpe3RoaXMuZ2V0Rml4dHVyZXMoZSkuZm9yRWFjaChmdW5jdGlvbihlKXtlLm1hdGVyaWFsPXR9KX0sZ2V0Rml4dHVyZXM6ZnVuY3Rpb24odCl7dmFyIGU9W107aWYodCl7dCBpbnN0YW5jZW9mIEFycmF5fHwodD1bdF0pO3ZhciBpPXRoaXM7cmV0dXJuIHQuZm9yRWFjaChmdW5jdGlvbih0KXtpLm5hbWVkRml4dHVyZXNbdF0mJmUucHVzaChpLm5hbWVkRml4dHVyZXNbdF0pfSksdGhpcy5mbGF0dGVuKGUpfXJldHVybiB0aGlzLmFsbEZpeHR1cmVzfSxnZXRGaXh0dXJlQnlLZXk6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMubmFtZWRGaXh0dXJlc1t0XX0sZ2V0R3JvdXA6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZ3JvdXBlZEZpeHR1cmVzW3RdfSxwYXJzZTpmdW5jdGlvbigpe3ZhciB0LGUsaSxzO2k9dGhpcy5yYXdMaXN0LHM9W107Zm9yKHQgaW4gaSllPWlbdF0saXNOYU4odC0wKT90aGlzLm5hbWVkRml4dHVyZXNbdF09dGhpcy5mbGF0dGVuKGUpOih0aGlzLmdyb3VwZWRGaXh0dXJlc1t0XT10aGlzLmdyb3VwZWRGaXh0dXJlc1t0XXx8W10sdGhpcy5ncm91cGVkRml4dHVyZXNbdF09dGhpcy5ncm91cGVkRml4dHVyZXNbdF0uY29uY2F0KGUpKSxzLnB1c2godGhpcy5hbGxGaXh0dXJlcz10aGlzLmZsYXR0ZW4odGhpcy5ncm91cGVkRml4dHVyZXMpKX0sZmxhdHRlbjpmdW5jdGlvbih0KXt2YXIgZSxpO3JldHVybiBlPVtdLGk9YXJndW1lbnRzLmNhbGxlZSx0LmZvckVhY2goZnVuY3Rpb24odCl7cmV0dXJuIEFycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KGUsQXJyYXkuaXNBcnJheSh0KT9pKHQpOlt0XSl9KSxlfX0saS5QaHlzaWNzLlAyLlBvaW50UHJveHk9ZnVuY3Rpb24odCxlKXt0aGlzLndvcmxkPXQsdGhpcy5kZXN0aW5hdGlvbj1lfSxpLlBoeXNpY3MuUDIuUG9pbnRQcm94eS5wcm90b3R5cGUuY29uc3RydWN0b3I9aS5QaHlzaWNzLlAyLlBvaW50UHJveHksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuUGh5c2ljcy5QMi5Qb2ludFByb3h5LnByb3RvdHlwZSxcInhcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMud29ybGQubXB4KHRoaXMuZGVzdGluYXRpb25bMF0pfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5kZXN0aW5hdGlvblswXT10aGlzLndvcmxkLnB4bSh0KX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5QaHlzaWNzLlAyLlBvaW50UHJveHkucHJvdG90eXBlLFwieVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy53b3JsZC5tcHgodGhpcy5kZXN0aW5hdGlvblsxXSl9LHNldDpmdW5jdGlvbih0KXt0aGlzLmRlc3RpbmF0aW9uWzFdPXRoaXMud29ybGQucHhtKHQpfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLlBoeXNpY3MuUDIuUG9pbnRQcm94eS5wcm90b3R5cGUsXCJteFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kZXN0aW5hdGlvblswXX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuZGVzdGluYXRpb25bMF09dH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5QaHlzaWNzLlAyLlBvaW50UHJveHkucHJvdG90eXBlLFwibXlcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGVzdGluYXRpb25bMV19LHNldDpmdW5jdGlvbih0KXt0aGlzLmRlc3RpbmF0aW9uWzFdPXR9fSksaS5QaHlzaWNzLlAyLkludmVyc2VQb2ludFByb3h5PWZ1bmN0aW9uKHQsZSl7dGhpcy53b3JsZD10LHRoaXMuZGVzdGluYXRpb249ZX0saS5QaHlzaWNzLlAyLkludmVyc2VQb2ludFByb3h5LnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1pLlBoeXNpY3MuUDIuSW52ZXJzZVBvaW50UHJveHksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuUGh5c2ljcy5QMi5JbnZlcnNlUG9pbnRQcm94eS5wcm90b3R5cGUsXCJ4XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLndvcmxkLm1weGkodGhpcy5kZXN0aW5hdGlvblswXSl9LHNldDpmdW5jdGlvbih0KXt0aGlzLmRlc3RpbmF0aW9uWzBdPXRoaXMud29ybGQucHhtaSh0KX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5QaHlzaWNzLlAyLkludmVyc2VQb2ludFByb3h5LnByb3RvdHlwZSxcInlcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMud29ybGQubXB4aSh0aGlzLmRlc3RpbmF0aW9uWzFdKX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuZGVzdGluYXRpb25bMV09dGhpcy53b3JsZC5weG1pKHQpfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLlBoeXNpY3MuUDIuSW52ZXJzZVBvaW50UHJveHkucHJvdG90eXBlLFwibXhcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGVzdGluYXRpb25bMF19LHNldDpmdW5jdGlvbih0KXt0aGlzLmRlc3RpbmF0aW9uWzBdPS10fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLlBoeXNpY3MuUDIuSW52ZXJzZVBvaW50UHJveHkucHJvdG90eXBlLFwibXlcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGVzdGluYXRpb25bMV19LHNldDpmdW5jdGlvbih0KXt0aGlzLmRlc3RpbmF0aW9uWzFdPS10fX0pLGkuUGh5c2ljcy5QMi5Cb2R5PWZ1bmN0aW9uKHQsZSxzLG4sbyl7ZT1lfHxudWxsLHM9c3x8MCxuPW58fDAsdm9pZCAwPT09byYmKG89MSksdGhpcy5nYW1lPXQsdGhpcy53b3JsZD10LnBoeXNpY3MucDIsdGhpcy5zcHJpdGU9ZSx0aGlzLnR5cGU9aS5QaHlzaWNzLlAySlMsdGhpcy5vZmZzZXQ9bmV3IGkuUG9pbnQsdGhpcy5kYXRhPW5ldyBwMi5Cb2R5KHtwb3NpdGlvbjpbdGhpcy53b3JsZC5weG1pKHMpLHRoaXMud29ybGQucHhtaShuKV0sbWFzczpvfSksdGhpcy5kYXRhLnBhcmVudD10aGlzLHRoaXMudmVsb2NpdHk9bmV3IGkuUGh5c2ljcy5QMi5JbnZlcnNlUG9pbnRQcm94eSh0aGlzLndvcmxkLHRoaXMuZGF0YS52ZWxvY2l0eSksdGhpcy5mb3JjZT1uZXcgaS5QaHlzaWNzLlAyLkludmVyc2VQb2ludFByb3h5KHRoaXMud29ybGQsdGhpcy5kYXRhLmZvcmNlKSx0aGlzLmdyYXZpdHk9bmV3IGkuUG9pbnQsdGhpcy5vbkJlZ2luQ29udGFjdD1uZXcgaS5TaWduYWwsdGhpcy5vbkVuZENvbnRhY3Q9bmV3IGkuU2lnbmFsLHRoaXMuY29sbGlkZXNXaXRoPVtdLHRoaXMucmVtb3ZlTmV4dFN0ZXA9ITEsdGhpcy5kZWJ1Z0JvZHk9bnVsbCx0aGlzLmRpcnR5PSExLHRoaXMuX2NvbGxpZGVXb3JsZEJvdW5kcz0hMCx0aGlzLl9ib2R5Q2FsbGJhY2tzPXt9LHRoaXMuX2JvZHlDYWxsYmFja0NvbnRleHQ9e30sdGhpcy5fZ3JvdXBDYWxsYmFja3M9e30sdGhpcy5fZ3JvdXBDYWxsYmFja0NvbnRleHQ9e30sdGhpcy5fcmVzZXQ9ITEsZSYmKHRoaXMuc2V0UmVjdGFuZ2xlRnJvbVNwcml0ZShlKSxlLmV4aXN0cyYmdGhpcy5nYW1lLnBoeXNpY3MucDIuYWRkQm9keSh0aGlzKSl9LGkuUGh5c2ljcy5QMi5Cb2R5LnByb3RvdHlwZT17Y3JlYXRlQm9keUNhbGxiYWNrOmZ1bmN0aW9uKHQsZSxpKXt2YXIgcz0tMTt0LmlkP3M9dC5pZDp0LmJvZHkmJihzPXQuYm9keS5pZCkscz4tMSYmKG51bGw9PT1lPyhkZWxldGUgdGhpcy5fYm9keUNhbGxiYWNrc1tzXSxkZWxldGUgdGhpcy5fYm9keUNhbGxiYWNrQ29udGV4dFtzXSk6KHRoaXMuX2JvZHlDYWxsYmFja3Nbc109ZSx0aGlzLl9ib2R5Q2FsbGJhY2tDb250ZXh0W3NdPWkpKX0sY3JlYXRlR3JvdXBDYWxsYmFjazpmdW5jdGlvbih0LGUsaSl7bnVsbD09PWU/KGRlbGV0ZSB0aGlzLl9ncm91cENhbGxiYWNrc1t0Lm1hc2tdLGRlbGV0ZSB0aGlzLl9ncm91cENhbGxiYWNrQ29udGV4dFt0Lm1hc2tdKToodGhpcy5fZ3JvdXBDYWxsYmFja3NbdC5tYXNrXT1lLHRoaXMuX2dyb3VwQ2FsbGJhY2tDb250ZXh0W3QubWFza109aSl9LGdldENvbGxpc2lvbk1hc2s6ZnVuY3Rpb24oKXt2YXIgdD0wO3RoaXMuX2NvbGxpZGVXb3JsZEJvdW5kcyYmKHQ9dGhpcy5nYW1lLnBoeXNpY3MucDIuYm91bmRzQ29sbGlzaW9uR3JvdXAubWFzayk7Zm9yKHZhciBlPTA7ZTx0aGlzLmNvbGxpZGVzV2l0aC5sZW5ndGg7ZSsrKXR8PXRoaXMuY29sbGlkZXNXaXRoW2VdLm1hc2s7cmV0dXJuIHR9LHVwZGF0ZUNvbGxpc2lvbk1hc2s6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5nZXRDb2xsaXNpb25NYXNrKCk7aWYodm9pZCAwPT09dClmb3IodmFyIGk9dGhpcy5kYXRhLnNoYXBlcy5sZW5ndGgtMTtpPj0wO2ktLSl0aGlzLmRhdGEuc2hhcGVzW2ldLmNvbGxpc2lvbk1hc2s9ZTtlbHNlIHQuY29sbGlzaW9uTWFzaz1lfSxzZXRDb2xsaXNpb25Hcm91cDpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuZ2V0Q29sbGlzaW9uTWFzaygpO2lmKHZvaWQgMD09PWUpZm9yKHZhciBzPXRoaXMuZGF0YS5zaGFwZXMubGVuZ3RoLTE7cz49MDtzLS0pdGhpcy5kYXRhLnNoYXBlc1tzXS5jb2xsaXNpb25Hcm91cD10Lm1hc2ssdGhpcy5kYXRhLnNoYXBlc1tzXS5jb2xsaXNpb25NYXNrPWk7ZWxzZSBlLmNvbGxpc2lvbkdyb3VwPXQubWFzayxlLmNvbGxpc2lvbk1hc2s9aX0sY2xlYXJDb2xsaXNpb246ZnVuY3Rpb24odCxlLGkpe2lmKHZvaWQgMD09PXQmJih0PSEwKSx2b2lkIDA9PT1lJiYoZT0hMCksdm9pZCAwPT09aSlmb3IodmFyIHM9dGhpcy5kYXRhLnNoYXBlcy5sZW5ndGgtMTtzPj0wO3MtLSl0JiYodGhpcy5kYXRhLnNoYXBlc1tzXS5jb2xsaXNpb25Hcm91cD1udWxsKSxlJiYodGhpcy5kYXRhLnNoYXBlc1tzXS5jb2xsaXNpb25NYXNrPW51bGwpO2Vsc2UgdCYmKGkuY29sbGlzaW9uR3JvdXA9bnVsbCksZSYmKGkuY29sbGlzaW9uTWFzaz1udWxsKTt0JiYodGhpcy5jb2xsaWRlc1dpdGgubGVuZ3RoPTApfSxyZW1vdmVDb2xsaXNpb25Hcm91cDpmdW5jdGlvbih0LGUsaSl7dm9pZCAwPT09ZSYmKGU9ITApO3ZhciBzO2lmKEFycmF5LmlzQXJyYXkodCkpZm9yKG89MDtvPHQubGVuZ3RoO28rKykocz10aGlzLmNvbGxpZGVzV2l0aC5pbmRleE9mKHRbb10pKT4tMSYmKHRoaXMuY29sbGlkZXNXaXRoLnNwbGljZShzLDEpLGUmJihkZWxldGUgdGhpcy5fZ3JvdXBDYWxsYmFja3NbdC5tYXNrXSxkZWxldGUgdGhpcy5fZ3JvdXBDYWxsYmFja0NvbnRleHRbdC5tYXNrXSkpO2Vsc2Uocz10aGlzLmNvbGxpZGVzV2l0aC5pbmRleE9mKHQpKT4tMSYmKHRoaXMuY29sbGlkZXNXaXRoLnNwbGljZShzLDEpLGUmJihkZWxldGUgdGhpcy5fZ3JvdXBDYWxsYmFja3NbdC5tYXNrXSxkZWxldGUgdGhpcy5fZ3JvdXBDYWxsYmFja0NvbnRleHRbdC5tYXNrXSkpO3ZhciBuPXRoaXMuZ2V0Q29sbGlzaW9uTWFzaygpO2lmKHZvaWQgMD09PWkpZm9yKHZhciBvPXRoaXMuZGF0YS5zaGFwZXMubGVuZ3RoLTE7bz49MDtvLS0pdGhpcy5kYXRhLnNoYXBlc1tvXS5jb2xsaXNpb25NYXNrPW47ZWxzZSBpLmNvbGxpc2lvbk1hc2s9bn0sY29sbGlkZXM6ZnVuY3Rpb24odCxlLGkscyl7aWYoQXJyYXkuaXNBcnJheSh0KSlmb3Iobz0wO288dC5sZW5ndGg7bysrKS0xPT09dGhpcy5jb2xsaWRlc1dpdGguaW5kZXhPZih0W29dKSYmKHRoaXMuY29sbGlkZXNXaXRoLnB1c2godFtvXSksZSYmdGhpcy5jcmVhdGVHcm91cENhbGxiYWNrKHRbb10sZSxpKSk7ZWxzZS0xPT09dGhpcy5jb2xsaWRlc1dpdGguaW5kZXhPZih0KSYmKHRoaXMuY29sbGlkZXNXaXRoLnB1c2godCksZSYmdGhpcy5jcmVhdGVHcm91cENhbGxiYWNrKHQsZSxpKSk7dmFyIG49dGhpcy5nZXRDb2xsaXNpb25NYXNrKCk7aWYodm9pZCAwPT09cylmb3IodmFyIG89dGhpcy5kYXRhLnNoYXBlcy5sZW5ndGgtMTtvPj0wO28tLSl0aGlzLmRhdGEuc2hhcGVzW29dLmNvbGxpc2lvbk1hc2s9bjtlbHNlIHMuY29sbGlzaW9uTWFzaz1ufSxhZGp1c3RDZW50ZXJPZk1hc3M6ZnVuY3Rpb24oKXt0aGlzLmRhdGEuYWRqdXN0Q2VudGVyT2ZNYXNzKCksdGhpcy5zaGFwZUNoYW5nZWQoKX0sZ2V0VmVsb2NpdHlBdFBvaW50OmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuZGF0YS5nZXRWZWxvY2l0eUF0UG9pbnQodCxlKX0sYXBwbHlEYW1waW5nOmZ1bmN0aW9uKHQpe3RoaXMuZGF0YS5hcHBseURhbXBpbmcodCl9LGFwcGx5SW1wdWxzZTpmdW5jdGlvbih0LGUsaSl7dGhpcy5kYXRhLmFwcGx5SW1wdWxzZSh0LFt0aGlzLndvcmxkLnB4bWkoZSksdGhpcy53b3JsZC5weG1pKGkpXSl9LGFwcGx5SW1wdWxzZUxvY2FsOmZ1bmN0aW9uKHQsZSxpKXt0aGlzLmRhdGEuYXBwbHlJbXB1bHNlTG9jYWwodCxbdGhpcy53b3JsZC5weG1pKGUpLHRoaXMud29ybGQucHhtaShpKV0pfSxhcHBseUZvcmNlOmZ1bmN0aW9uKHQsZSxpKXt0aGlzLmRhdGEuYXBwbHlGb3JjZSh0LFt0aGlzLndvcmxkLnB4bWkoZSksdGhpcy53b3JsZC5weG1pKGkpXSl9LHNldFplcm9Gb3JjZTpmdW5jdGlvbigpe3RoaXMuZGF0YS5zZXRaZXJvRm9yY2UoKX0sc2V0WmVyb1JvdGF0aW9uOmZ1bmN0aW9uKCl7dGhpcy5kYXRhLmFuZ3VsYXJWZWxvY2l0eT0wfSxzZXRaZXJvVmVsb2NpdHk6ZnVuY3Rpb24oKXt0aGlzLmRhdGEudmVsb2NpdHlbMF09MCx0aGlzLmRhdGEudmVsb2NpdHlbMV09MH0sc2V0WmVyb0RhbXBpbmc6ZnVuY3Rpb24oKXt0aGlzLmRhdGEuZGFtcGluZz0wLHRoaXMuZGF0YS5hbmd1bGFyRGFtcGluZz0wfSx0b0xvY2FsRnJhbWU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5kYXRhLnRvTG9jYWxGcmFtZSh0LGUpfSx0b1dvcmxkRnJhbWU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5kYXRhLnRvV29ybGRGcmFtZSh0LGUpfSxyb3RhdGVMZWZ0OmZ1bmN0aW9uKHQpe3RoaXMuZGF0YS5hbmd1bGFyVmVsb2NpdHk9dGhpcy53b3JsZC5weG0oLXQpfSxyb3RhdGVSaWdodDpmdW5jdGlvbih0KXt0aGlzLmRhdGEuYW5ndWxhclZlbG9jaXR5PXRoaXMud29ybGQucHhtKHQpfSxtb3ZlRm9yd2FyZDpmdW5jdGlvbih0KXt2YXIgZT10aGlzLndvcmxkLnB4bWkoLXQpLGk9dGhpcy5kYXRhLmFuZ2xlK01hdGguUEkvMjt0aGlzLmRhdGEudmVsb2NpdHlbMF09ZSpNYXRoLmNvcyhpKSx0aGlzLmRhdGEudmVsb2NpdHlbMV09ZSpNYXRoLnNpbihpKX0sbW92ZUJhY2t3YXJkOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMud29ybGQucHhtaSgtdCksaT10aGlzLmRhdGEuYW5nbGUrTWF0aC5QSS8yO3RoaXMuZGF0YS52ZWxvY2l0eVswXT0tZSpNYXRoLmNvcyhpKSx0aGlzLmRhdGEudmVsb2NpdHlbMV09LWUqTWF0aC5zaW4oaSl9LHRocnVzdDpmdW5jdGlvbih0KXt2YXIgZT10aGlzLndvcmxkLnB4bWkoLXQpLGk9dGhpcy5kYXRhLmFuZ2xlK01hdGguUEkvMjt0aGlzLmRhdGEuZm9yY2VbMF0rPWUqTWF0aC5jb3MoaSksdGhpcy5kYXRhLmZvcmNlWzFdKz1lKk1hdGguc2luKGkpfSx0aHJ1c3RMZWZ0OmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMud29ybGQucHhtaSgtdCksaT10aGlzLmRhdGEuYW5nbGU7dGhpcy5kYXRhLmZvcmNlWzBdKz1lKk1hdGguY29zKGkpLHRoaXMuZGF0YS5mb3JjZVsxXSs9ZSpNYXRoLnNpbihpKX0sdGhydXN0UmlnaHQ6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy53b3JsZC5weG1pKC10KSxpPXRoaXMuZGF0YS5hbmdsZTt0aGlzLmRhdGEuZm9yY2VbMF0tPWUqTWF0aC5jb3MoaSksdGhpcy5kYXRhLmZvcmNlWzFdLT1lKk1hdGguc2luKGkpfSxyZXZlcnNlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMud29ybGQucHhtaSgtdCksaT10aGlzLmRhdGEuYW5nbGUrTWF0aC5QSS8yO3RoaXMuZGF0YS5mb3JjZVswXS09ZSpNYXRoLmNvcyhpKSx0aGlzLmRhdGEuZm9yY2VbMV0tPWUqTWF0aC5zaW4oaSl9LG1vdmVMZWZ0OmZ1bmN0aW9uKHQpe3RoaXMuZGF0YS52ZWxvY2l0eVswXT10aGlzLndvcmxkLnB4bWkoLXQpfSxtb3ZlUmlnaHQ6ZnVuY3Rpb24odCl7dGhpcy5kYXRhLnZlbG9jaXR5WzBdPXRoaXMud29ybGQucHhtaSh0KX0sbW92ZVVwOmZ1bmN0aW9uKHQpe3RoaXMuZGF0YS52ZWxvY2l0eVsxXT10aGlzLndvcmxkLnB4bWkoLXQpfSxtb3ZlRG93bjpmdW5jdGlvbih0KXt0aGlzLmRhdGEudmVsb2NpdHlbMV09dGhpcy53b3JsZC5weG1pKHQpfSxwcmVVcGRhdGU6ZnVuY3Rpb24oKXt0aGlzLmRpcnR5PSEwLHRoaXMucmVtb3ZlTmV4dFN0ZXAmJih0aGlzLnJlbW92ZUZyb21Xb3JsZCgpLHRoaXMucmVtb3ZlTmV4dFN0ZXA9ITEpfSxwb3N0VXBkYXRlOmZ1bmN0aW9uKCl7dGhpcy5zcHJpdGUueD10aGlzLndvcmxkLm1weGkodGhpcy5kYXRhLnBvc2l0aW9uWzBdKSt0aGlzLm9mZnNldC54LHRoaXMuc3ByaXRlLnk9dGhpcy53b3JsZC5tcHhpKHRoaXMuZGF0YS5wb3NpdGlvblsxXSkrdGhpcy5vZmZzZXQueSx0aGlzLmZpeGVkUm90YXRpb258fCh0aGlzLnNwcml0ZS5yb3RhdGlvbj10aGlzLmRhdGEuYW5nbGUpLHRoaXMuZGVidWdCb2R5JiZ0aGlzLmRlYnVnQm9keS51cGRhdGVTcHJpdGVUcmFuc2Zvcm0oKSx0aGlzLmRpcnR5PSExfSxyZXNldDpmdW5jdGlvbih0LGUsaSxzKXt2b2lkIDA9PT1pJiYoaT0hMSksdm9pZCAwPT09cyYmKHM9ITEpLHRoaXMuc2V0WmVyb0ZvcmNlKCksdGhpcy5zZXRaZXJvVmVsb2NpdHkoKSx0aGlzLnNldFplcm9Sb3RhdGlvbigpLGkmJnRoaXMuc2V0WmVyb0RhbXBpbmcoKSxzJiYodGhpcy5tYXNzPTEpLHRoaXMueD10LHRoaXMueT1lfSxhZGRUb1dvcmxkOmZ1bmN0aW9uKCl7aWYodGhpcy5nYW1lLnBoeXNpY3MucDIuX3RvUmVtb3ZlKWZvcih2YXIgdD0wO3Q8dGhpcy5nYW1lLnBoeXNpY3MucDIuX3RvUmVtb3ZlLmxlbmd0aDt0KyspdGhpcy5nYW1lLnBoeXNpY3MucDIuX3RvUmVtb3ZlW3RdPT09dGhpcyYmdGhpcy5nYW1lLnBoeXNpY3MucDIuX3RvUmVtb3ZlLnNwbGljZSh0LDEpO3RoaXMuZGF0YS53b3JsZCE9PXRoaXMuZ2FtZS5waHlzaWNzLnAyLndvcmxkJiZ0aGlzLmdhbWUucGh5c2ljcy5wMi5hZGRCb2R5KHRoaXMpfSxyZW1vdmVGcm9tV29ybGQ6ZnVuY3Rpb24oKXt0aGlzLmRhdGEud29ybGQ9PT10aGlzLmdhbWUucGh5c2ljcy5wMi53b3JsZCYmdGhpcy5nYW1lLnBoeXNpY3MucDIucmVtb3ZlQm9keU5leHRTdGVwKHRoaXMpfSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5yZW1vdmVGcm9tV29ybGQoKSx0aGlzLmNsZWFyU2hhcGVzKCksdGhpcy5fYm9keUNhbGxiYWNrcz17fSx0aGlzLl9ib2R5Q2FsbGJhY2tDb250ZXh0PXt9LHRoaXMuX2dyb3VwQ2FsbGJhY2tzPXt9LHRoaXMuX2dyb3VwQ2FsbGJhY2tDb250ZXh0PXt9LHRoaXMuZGVidWdCb2R5JiZ0aGlzLmRlYnVnQm9keS5kZXN0cm95KCEwLCEwKSx0aGlzLmRlYnVnQm9keT1udWxsLHRoaXMuc3ByaXRlJiYodGhpcy5zcHJpdGUuYm9keT1udWxsLHRoaXMuc3ByaXRlPW51bGwpfSxjbGVhclNoYXBlczpmdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLmRhdGEuc2hhcGVzLmxlbmd0aDt0LS07KXRoaXMuZGF0YS5yZW1vdmVTaGFwZSh0aGlzLmRhdGEuc2hhcGVzW3RdKTt0aGlzLnNoYXBlQ2hhbmdlZCgpfSxhZGRTaGFwZTpmdW5jdGlvbih0LGUsaSxzKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9MCksdm9pZCAwPT09aSYmKGk9MCksdm9pZCAwPT09cyYmKHM9MCksdGhpcy5kYXRhLmFkZFNoYXBlKHQsW3RoaXMud29ybGQucHhtaShlKSx0aGlzLndvcmxkLnB4bWkoaSldLHMpLHRoaXMuc2hhcGVDaGFuZ2VkKCksdH0sYWRkQ2lyY2xlOmZ1bmN0aW9uKHQsZSxpLHMpe3ZhciBuPW5ldyBwMi5DaXJjbGUoe3JhZGl1czp0aGlzLndvcmxkLnB4bSh0KX0pO3JldHVybiB0aGlzLmFkZFNoYXBlKG4sZSxpLHMpfSxhZGRSZWN0YW5nbGU6ZnVuY3Rpb24odCxlLGkscyxuKXt2YXIgbz1uZXcgcDIuQm94KHt3aWR0aDp0aGlzLndvcmxkLnB4bSh0KSxoZWlnaHQ6dGhpcy53b3JsZC5weG0oZSl9KTtyZXR1cm4gdGhpcy5hZGRTaGFwZShvLGkscyxuKX0sYWRkUGxhbmU6ZnVuY3Rpb24odCxlLGkpe3ZhciBzPW5ldyBwMi5QbGFuZTtyZXR1cm4gdGhpcy5hZGRTaGFwZShzLHQsZSxpKX0sYWRkUGFydGljbGU6ZnVuY3Rpb24odCxlLGkpe3ZhciBzPW5ldyBwMi5QYXJ0aWNsZTtyZXR1cm4gdGhpcy5hZGRTaGFwZShzLHQsZSxpKX0sYWRkTGluZTpmdW5jdGlvbih0LGUsaSxzKXt2YXIgbj1uZXcgcDIuTGluZSh7bGVuZ3RoOnRoaXMud29ybGQucHhtKHQpfSk7cmV0dXJuIHRoaXMuYWRkU2hhcGUobixlLGkscyl9LGFkZENhcHN1bGU6ZnVuY3Rpb24odCxlLGkscyxuKXt2YXIgbz1uZXcgcDIuQ2Fwc3VsZSh7bGVuZ3RoOnRoaXMud29ybGQucHhtKHQpLHJhZGl1czp0aGlzLndvcmxkLnB4bShlKX0pO3JldHVybiB0aGlzLmFkZFNoYXBlKG8saSxzLG4pfSxhZGRQb2x5Z29uOmZ1bmN0aW9uKHQsZSl7dD10fHx7fSxBcnJheS5pc0FycmF5KGUpfHwoZT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSkpO3ZhciBpPVtdO2lmKDE9PT1lLmxlbmd0aCYmQXJyYXkuaXNBcnJheShlWzBdKSlpPWVbMF0uc2xpY2UoMCk7ZWxzZSBpZihBcnJheS5pc0FycmF5KGVbMF0pKWk9ZS5zbGljZSgpO2Vsc2UgaWYoXCJudW1iZXJcIj09dHlwZW9mIGVbMF0pZm9yKHZhciBzPTAsbj1lLmxlbmd0aDtzPG47cys9MilpLnB1c2goW2Vbc10sZVtzKzFdXSk7dmFyIG89aS5sZW5ndGgtMTtpW29dWzBdPT09aVswXVswXSYmaVtvXVsxXT09PWlbMF1bMV0mJmkucG9wKCk7Zm9yKHZhciByPTA7cjxpLmxlbmd0aDtyKyspaVtyXVswXT10aGlzLndvcmxkLnB4bWkoaVtyXVswXSksaVtyXVsxXT10aGlzLndvcmxkLnB4bWkoaVtyXVsxXSk7dmFyIGE9dGhpcy5kYXRhLmZyb21Qb2x5Z29uKGksdCk7cmV0dXJuIHRoaXMuc2hhcGVDaGFuZ2VkKCksYX0scmVtb3ZlU2hhcGU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5kYXRhLnJlbW92ZVNoYXBlKHQpO3JldHVybiB0aGlzLnNoYXBlQ2hhbmdlZCgpLGV9LHNldENpcmNsZTpmdW5jdGlvbih0LGUsaSxzKXtyZXR1cm4gdGhpcy5jbGVhclNoYXBlcygpLHRoaXMuYWRkQ2lyY2xlKHQsZSxpLHMpfSxzZXRSZWN0YW5nbGU6ZnVuY3Rpb24odCxlLGkscyxuKXtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9MTYpLHZvaWQgMD09PWUmJihlPTE2KSx0aGlzLmNsZWFyU2hhcGVzKCksdGhpcy5hZGRSZWN0YW5nbGUodCxlLGkscyxuKX0sc2V0UmVjdGFuZ2xlRnJvbVNwcml0ZTpmdW5jdGlvbih0KXtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9dGhpcy5zcHJpdGUpLHRoaXMuY2xlYXJTaGFwZXMoKSx0aGlzLmFkZFJlY3RhbmdsZSh0LndpZHRoLHQuaGVpZ2h0LDAsMCx0LnJvdGF0aW9uKX0sc2V0TWF0ZXJpYWw6ZnVuY3Rpb24odCxlKXtpZih2b2lkIDA9PT1lKWZvcih2YXIgaT10aGlzLmRhdGEuc2hhcGVzLmxlbmd0aC0xO2k+PTA7aS0tKXRoaXMuZGF0YS5zaGFwZXNbaV0ubWF0ZXJpYWw9dDtlbHNlIGUubWF0ZXJpYWw9dH0sc2hhcGVDaGFuZ2VkOmZ1bmN0aW9uKCl7dGhpcy5kZWJ1Z0JvZHkmJnRoaXMuZGVidWdCb2R5LmRyYXcoKX0sYWRkUGhhc2VyUG9seWdvbjpmdW5jdGlvbih0LGUpe2Zvcih2YXIgaT10aGlzLmdhbWUuY2FjaGUuZ2V0UGh5c2ljc0RhdGEodCxlKSxzPVtdLG49MDtuPGkubGVuZ3RoO24rKyl7dmFyIG89aVtuXSxyPXRoaXMuYWRkRml4dHVyZShvKTtzW28uZmlsdGVyLmdyb3VwXT1zW28uZmlsdGVyLmdyb3VwXXx8W10sc1tvLmZpbHRlci5ncm91cF09c1tvLmZpbHRlci5ncm91cF0uY29uY2F0KHIpLG8uZml4dHVyZUtleSYmKHNbby5maXh0dXJlS2V5XT1yKX1yZXR1cm4gdGhpcy5kYXRhLmFhYmJOZWVkc1VwZGF0ZT0hMCx0aGlzLnNoYXBlQ2hhbmdlZCgpLHN9LGFkZEZpeHR1cmU6ZnVuY3Rpb24odCl7dmFyIGU9W107aWYodC5jaXJjbGUpeyhsPW5ldyBwMi5DaXJjbGUoe3JhZGl1czp0aGlzLndvcmxkLnB4bSh0LmNpcmNsZS5yYWRpdXMpfSkpLmNvbGxpc2lvbkdyb3VwPXQuZmlsdGVyLmNhdGVnb3J5Qml0cyxsLmNvbGxpc2lvbk1hc2s9dC5maWx0ZXIubWFza0JpdHMsbC5zZW5zb3I9dC5pc1NlbnNvcjt2YXIgaT1wMi52ZWMyLmNyZWF0ZSgpO2lbMF09dGhpcy53b3JsZC5weG1pKHQuY2lyY2xlLnBvc2l0aW9uWzBdLXRoaXMuc3ByaXRlLndpZHRoLzIpLGlbMV09dGhpcy53b3JsZC5weG1pKHQuY2lyY2xlLnBvc2l0aW9uWzFdLXRoaXMuc3ByaXRlLmhlaWdodC8yKSx0aGlzLmRhdGEuYWRkU2hhcGUobCxpKSxlLnB1c2gobCl9ZWxzZSBmb3IodmFyIHM9dC5wb2x5Z29ucyxuPXAyLnZlYzIuY3JlYXRlKCksbz0wO288cy5sZW5ndGg7bysrKXtmb3IodmFyIHI9c1tvXSxhPVtdLGg9MDtoPHIubGVuZ3RoO2grPTIpYS5wdXNoKFt0aGlzLndvcmxkLnB4bWkocltoXSksdGhpcy53b3JsZC5weG1pKHJbaCsxXSldKTtmb3IodmFyIGw9bmV3IHAyLkNvbnZleCh7dmVydGljZXM6YX0pLGM9MDtjIT09bC52ZXJ0aWNlcy5sZW5ndGg7YysrKXt2YXIgdT1sLnZlcnRpY2VzW2NdO3AyLnZlYzIuc3ViKHUsdSxsLmNlbnRlck9mTWFzcyl9cDIudmVjMi5zY2FsZShuLGwuY2VudGVyT2ZNYXNzLDEpLG5bMF0tPXRoaXMud29ybGQucHhtaSh0aGlzLnNwcml0ZS53aWR0aC8yKSxuWzFdLT10aGlzLndvcmxkLnB4bWkodGhpcy5zcHJpdGUuaGVpZ2h0LzIpLGwudXBkYXRlVHJpYW5nbGVzKCksbC51cGRhdGVDZW50ZXJPZk1hc3MoKSxsLnVwZGF0ZUJvdW5kaW5nUmFkaXVzKCksbC5jb2xsaXNpb25Hcm91cD10LmZpbHRlci5jYXRlZ29yeUJpdHMsbC5jb2xsaXNpb25NYXNrPXQuZmlsdGVyLm1hc2tCaXRzLGwuc2Vuc29yPXQuaXNTZW5zb3IsdGhpcy5kYXRhLmFkZFNoYXBlKGwsbiksZS5wdXNoKGwpfXJldHVybiBlfSxsb2FkUG9seWdvbjpmdW5jdGlvbih0LGUsaSl7aWYobnVsbD09PXQpcz1lO2Vsc2UgdmFyIHM9dGhpcy5nYW1lLmNhY2hlLmdldFBoeXNpY3NEYXRhKHQsZSk7XCJudW1iZXJcIiE9dHlwZW9mIGkmJihpPTEpO2Zvcih2YXIgbj1wMi52ZWMyLmNyZWF0ZSgpLG89MDtvPHMubGVuZ3RoO28rKyl7Zm9yKHZhciByPVtdLGE9MDthPHNbb10uc2hhcGUubGVuZ3RoO2ErPTIpci5wdXNoKFt0aGlzLndvcmxkLnB4bWkoc1tvXS5zaGFwZVthXSppKSx0aGlzLndvcmxkLnB4bWkoc1tvXS5zaGFwZVthKzFdKmkpXSk7Zm9yKHZhciBoPW5ldyBwMi5Db252ZXgoe3ZlcnRpY2VzOnJ9KSxsPTA7bCE9PWgudmVydGljZXMubGVuZ3RoO2wrKyl7dmFyIGM9aC52ZXJ0aWNlc1tsXTtwMi52ZWMyLnN1YihjLGMsaC5jZW50ZXJPZk1hc3MpfXAyLnZlYzIuc2NhbGUobixoLmNlbnRlck9mTWFzcywxKSxuWzBdLT10aGlzLndvcmxkLnB4bWkodGhpcy5zcHJpdGUud2lkdGgvMiksblsxXS09dGhpcy53b3JsZC5weG1pKHRoaXMuc3ByaXRlLmhlaWdodC8yKSxoLnVwZGF0ZVRyaWFuZ2xlcygpLGgudXBkYXRlQ2VudGVyT2ZNYXNzKCksaC51cGRhdGVCb3VuZGluZ1JhZGl1cygpLHRoaXMuZGF0YS5hZGRTaGFwZShoLG4pfXJldHVybiB0aGlzLmRhdGEuYWFiYk5lZWRzVXBkYXRlPSEwLHRoaXMuc2hhcGVDaGFuZ2VkKCksITB9fSxpLlBoeXNpY3MuUDIuQm9keS5wcm90b3R5cGUuY29uc3RydWN0b3I9aS5QaHlzaWNzLlAyLkJvZHksaS5QaHlzaWNzLlAyLkJvZHkuRFlOQU1JQz0xLGkuUGh5c2ljcy5QMi5Cb2R5LlNUQVRJQz0yLGkuUGh5c2ljcy5QMi5Cb2R5LktJTkVNQVRJQz00LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLlBoeXNpY3MuUDIuQm9keS5wcm90b3R5cGUsXCJzdGF0aWNcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGF0YS50eXBlPT09aS5QaHlzaWNzLlAyLkJvZHkuU1RBVElDfSxzZXQ6ZnVuY3Rpb24odCl7dCYmdGhpcy5kYXRhLnR5cGUhPT1pLlBoeXNpY3MuUDIuQm9keS5TVEFUSUM/KHRoaXMuZGF0YS50eXBlPWkuUGh5c2ljcy5QMi5Cb2R5LlNUQVRJQyx0aGlzLm1hc3M9MCk6dHx8dGhpcy5kYXRhLnR5cGUhPT1pLlBoeXNpY3MuUDIuQm9keS5TVEFUSUN8fCh0aGlzLmRhdGEudHlwZT1pLlBoeXNpY3MuUDIuQm9keS5EWU5BTUlDLHRoaXMubWFzcz0xKX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5QaHlzaWNzLlAyLkJvZHkucHJvdG90eXBlLFwiZHluYW1pY1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kYXRhLnR5cGU9PT1pLlBoeXNpY3MuUDIuQm9keS5EWU5BTUlDfSxzZXQ6ZnVuY3Rpb24odCl7dCYmdGhpcy5kYXRhLnR5cGUhPT1pLlBoeXNpY3MuUDIuQm9keS5EWU5BTUlDPyh0aGlzLmRhdGEudHlwZT1pLlBoeXNpY3MuUDIuQm9keS5EWU5BTUlDLHRoaXMubWFzcz0xKTp0fHx0aGlzLmRhdGEudHlwZSE9PWkuUGh5c2ljcy5QMi5Cb2R5LkRZTkFNSUN8fCh0aGlzLmRhdGEudHlwZT1pLlBoeXNpY3MuUDIuQm9keS5TVEFUSUMsdGhpcy5tYXNzPTApfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLlBoeXNpY3MuUDIuQm9keS5wcm90b3R5cGUsXCJraW5lbWF0aWNcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGF0YS50eXBlPT09aS5QaHlzaWNzLlAyLkJvZHkuS0lORU1BVElDfSxzZXQ6ZnVuY3Rpb24odCl7dCYmdGhpcy5kYXRhLnR5cGUhPT1pLlBoeXNpY3MuUDIuQm9keS5LSU5FTUFUSUM/KHRoaXMuZGF0YS50eXBlPWkuUGh5c2ljcy5QMi5Cb2R5LktJTkVNQVRJQyx0aGlzLm1hc3M9NCk6dHx8dGhpcy5kYXRhLnR5cGUhPT1pLlBoeXNpY3MuUDIuQm9keS5LSU5FTUFUSUN8fCh0aGlzLmRhdGEudHlwZT1pLlBoeXNpY3MuUDIuQm9keS5TVEFUSUMsdGhpcy5tYXNzPTApfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLlBoeXNpY3MuUDIuQm9keS5wcm90b3R5cGUsXCJhbGxvd1NsZWVwXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRhdGEuYWxsb3dTbGVlcH0sc2V0OmZ1bmN0aW9uKHQpe3QhPT10aGlzLmRhdGEuYWxsb3dTbGVlcCYmKHRoaXMuZGF0YS5hbGxvd1NsZWVwPXQpfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLlBoeXNpY3MuUDIuQm9keS5wcm90b3R5cGUsXCJhbmdsZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaS5NYXRoLndyYXBBbmdsZShpLk1hdGgucmFkVG9EZWcodGhpcy5kYXRhLmFuZ2xlKSl9LHNldDpmdW5jdGlvbih0KXt0aGlzLmRhdGEuYW5nbGU9aS5NYXRoLmRlZ1RvUmFkKGkuTWF0aC53cmFwQW5nbGUodCkpfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLlBoeXNpY3MuUDIuQm9keS5wcm90b3R5cGUsXCJhbmd1bGFyRGFtcGluZ1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kYXRhLmFuZ3VsYXJEYW1waW5nfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5kYXRhLmFuZ3VsYXJEYW1waW5nPXR9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuUGh5c2ljcy5QMi5Cb2R5LnByb3RvdHlwZSxcImFuZ3VsYXJGb3JjZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kYXRhLmFuZ3VsYXJGb3JjZX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuZGF0YS5hbmd1bGFyRm9yY2U9dH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5QaHlzaWNzLlAyLkJvZHkucHJvdG90eXBlLFwiYW5ndWxhclZlbG9jaXR5XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRhdGEuYW5ndWxhclZlbG9jaXR5fSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5kYXRhLmFuZ3VsYXJWZWxvY2l0eT10fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLlBoeXNpY3MuUDIuQm9keS5wcm90b3R5cGUsXCJkYW1waW5nXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRhdGEuZGFtcGluZ30sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuZGF0YS5kYW1waW5nPXR9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuUGh5c2ljcy5QMi5Cb2R5LnByb3RvdHlwZSxcImZpeGVkUm90YXRpb25cIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGF0YS5maXhlZFJvdGF0aW9ufSxzZXQ6ZnVuY3Rpb24odCl7dCE9PXRoaXMuZGF0YS5maXhlZFJvdGF0aW9uJiYodGhpcy5kYXRhLmZpeGVkUm90YXRpb249dCl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuUGh5c2ljcy5QMi5Cb2R5LnByb3RvdHlwZSxcImluZXJ0aWFcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGF0YS5pbmVydGlhfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5kYXRhLmluZXJ0aWE9dH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5QaHlzaWNzLlAyLkJvZHkucHJvdG90eXBlLFwibWFzc1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kYXRhLm1hc3N9LHNldDpmdW5jdGlvbih0KXt0IT09dGhpcy5kYXRhLm1hc3MmJih0aGlzLmRhdGEubWFzcz10LHRoaXMuZGF0YS51cGRhdGVNYXNzUHJvcGVydGllcygpKX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5QaHlzaWNzLlAyLkJvZHkucHJvdG90eXBlLFwibW90aW9uU3RhdGVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGF0YS50eXBlfSxzZXQ6ZnVuY3Rpb24odCl7dCE9PXRoaXMuZGF0YS50eXBlJiYodGhpcy5kYXRhLnR5cGU9dCl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuUGh5c2ljcy5QMi5Cb2R5LnByb3RvdHlwZSxcInJvdGF0aW9uXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRhdGEuYW5nbGV9LHNldDpmdW5jdGlvbih0KXt0aGlzLmRhdGEuYW5nbGU9dH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5QaHlzaWNzLlAyLkJvZHkucHJvdG90eXBlLFwic2xlZXBTcGVlZExpbWl0XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRhdGEuc2xlZXBTcGVlZExpbWl0fSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5kYXRhLnNsZWVwU3BlZWRMaW1pdD10fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLlBoeXNpY3MuUDIuQm9keS5wcm90b3R5cGUsXCJ4XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLndvcmxkLm1weGkodGhpcy5kYXRhLnBvc2l0aW9uWzBdKX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuZGF0YS5wb3NpdGlvblswXT10aGlzLndvcmxkLnB4bWkodCl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuUGh5c2ljcy5QMi5Cb2R5LnByb3RvdHlwZSxcInlcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMud29ybGQubXB4aSh0aGlzLmRhdGEucG9zaXRpb25bMV0pfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5kYXRhLnBvc2l0aW9uWzFdPXRoaXMud29ybGQucHhtaSh0KX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5QaHlzaWNzLlAyLkJvZHkucHJvdG90eXBlLFwiaWRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGF0YS5pZH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5QaHlzaWNzLlAyLkJvZHkucHJvdG90eXBlLFwiZGVidWdcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG51bGwhPT10aGlzLmRlYnVnQm9keX0sc2V0OmZ1bmN0aW9uKHQpe3QmJiF0aGlzLmRlYnVnQm9keT90aGlzLmRlYnVnQm9keT1uZXcgaS5QaHlzaWNzLlAyLkJvZHlEZWJ1Zyh0aGlzLmdhbWUsdGhpcy5kYXRhKTohdCYmdGhpcy5kZWJ1Z0JvZHkmJih0aGlzLmRlYnVnQm9keS5kZXN0cm95KCksdGhpcy5kZWJ1Z0JvZHk9bnVsbCl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuUGh5c2ljcy5QMi5Cb2R5LnByb3RvdHlwZSxcImNvbGxpZGVXb3JsZEJvdW5kc1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY29sbGlkZVdvcmxkQm91bmRzfSxzZXQ6ZnVuY3Rpb24odCl7dCYmIXRoaXMuX2NvbGxpZGVXb3JsZEJvdW5kcz8odGhpcy5fY29sbGlkZVdvcmxkQm91bmRzPSEwLHRoaXMudXBkYXRlQ29sbGlzaW9uTWFzaygpKTohdCYmdGhpcy5fY29sbGlkZVdvcmxkQm91bmRzJiYodGhpcy5fY29sbGlkZVdvcmxkQm91bmRzPSExLHRoaXMudXBkYXRlQ29sbGlzaW9uTWFzaygpKX19KSxpLlBoeXNpY3MuUDIuQm9keURlYnVnPWZ1bmN0aW9uKHQsZSxzKXtpLkdyb3VwLmNhbGwodGhpcyx0KTt2YXIgbj17cGl4ZWxzUGVyTGVuZ3RoVW5pdDp0LnBoeXNpY3MucDIubXB4KDEpLGRlYnVnUG9seWdvbnM6ITEsbGluZVdpZHRoOjEsYWxwaGE6LjV9O3RoaXMuc2V0dGluZ3M9aS5VdGlscy5leHRlbmQobixzKSx0aGlzLnBwdT10aGlzLnNldHRpbmdzLnBpeGVsc1Blckxlbmd0aFVuaXQsdGhpcy5wcHU9LTEqdGhpcy5wcHUsdGhpcy5ib2R5PWUsdGhpcy5jYW52YXM9bmV3IGkuR3JhcGhpY3ModCksdGhpcy5jYW52YXMuYWxwaGE9dGhpcy5zZXR0aW5ncy5hbHBoYSx0aGlzLmFkZCh0aGlzLmNhbnZhcyksdGhpcy5kcmF3KCksdGhpcy51cGRhdGVTcHJpdGVUcmFuc2Zvcm0oKX0saS5QaHlzaWNzLlAyLkJvZHlEZWJ1Zy5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShpLkdyb3VwLnByb3RvdHlwZSksaS5QaHlzaWNzLlAyLkJvZHlEZWJ1Zy5wcm90b3R5cGUuY29uc3RydWN0b3I9aS5QaHlzaWNzLlAyLkJvZHlEZWJ1ZyxpLlV0aWxzLmV4dGVuZChpLlBoeXNpY3MuUDIuQm9keURlYnVnLnByb3RvdHlwZSx7dXBkYXRlU3ByaXRlVHJhbnNmb3JtOmZ1bmN0aW9uKCl7dGhpcy5wb3NpdGlvbi54PXRoaXMuYm9keS5wb3NpdGlvblswXSp0aGlzLnBwdSx0aGlzLnBvc2l0aW9uLnk9dGhpcy5ib2R5LnBvc2l0aW9uWzFdKnRoaXMucHB1LHRoaXMucm90YXRpb249dGhpcy5ib2R5LmFuZ2xlfSxkcmF3OmZ1bmN0aW9uKCl7dmFyIHQsZSxpLHMsbixvLHIsYSxoLGwsYyx1LGQscDtpZihyPXRoaXMuYm9keSwoaD10aGlzLmNhbnZhcykuY2xlYXIoKSxpPXBhcnNlSW50KHRoaXMucmFuZG9tUGFzdGVsSGV4KCksMTYpLDE2NzExNjgwLG89dGhpcy5saW5lV2lkdGgsciBpbnN0YW5jZW9mIHAyLkJvZHkmJnIuc2hhcGVzLmxlbmd0aCl7dmFyIGY9ci5zaGFwZXMubGVuZ3RoO2ZvcihzPTA7cyE9PWY7KXtpZihlPXIuc2hhcGVzW3NdLGE9ZS5wb3NpdGlvbnx8MCx0PWUuYW5nbGV8fDAsZSBpbnN0YW5jZW9mIHAyLkNpcmNsZSl0aGlzLmRyYXdDaXJjbGUoaCxhWzBdKnRoaXMucHB1LGFbMV0qdGhpcy5wcHUsdCxlLnJhZGl1cyp0aGlzLnBwdSxpLG8pO2Vsc2UgaWYoZSBpbnN0YW5jZW9mIHAyLkNhcHN1bGUpdGhpcy5kcmF3Q2Fwc3VsZShoLGFbMF0qdGhpcy5wcHUsYVsxXSp0aGlzLnBwdSx0LGUubGVuZ3RoKnRoaXMucHB1LGUucmFkaXVzKnRoaXMucHB1LDE2NzExNjgwLGksbyk7ZWxzZSBpZihlIGluc3RhbmNlb2YgcDIuUGxhbmUpdGhpcy5kcmF3UGxhbmUoaCxhWzBdKnRoaXMucHB1LC1hWzFdKnRoaXMucHB1LGksMTY3MTE2ODAsNSpvLDEwKm8sMTAqbywxMDAqdGhpcy5wcHUsdCk7ZWxzZSBpZihlIGluc3RhbmNlb2YgcDIuTGluZSl0aGlzLmRyYXdMaW5lKGgsZS5sZW5ndGgqdGhpcy5wcHUsMTY3MTE2ODAsbyk7ZWxzZSBpZihlIGluc3RhbmNlb2YgcDIuQm94KXRoaXMuZHJhd1JlY3RhbmdsZShoLGFbMF0qdGhpcy5wcHUsYVsxXSp0aGlzLnBwdSx0LGUud2lkdGgqdGhpcy5wcHUsZS5oZWlnaHQqdGhpcy5wcHUsMTY3MTE2ODAsaSxvKTtlbHNlIGlmKGUgaW5zdGFuY2VvZiBwMi5Db252ZXgpe2ZvcihjPVtdLHU9cDIudmVjMi5jcmVhdGUoKSxuPWQ9MCxwPWUudmVydGljZXMubGVuZ3RoOzA8PXA/ZDxwOmQ+cDtuPTA8PXA/KytkOi0tZClsPWUudmVydGljZXNbbl0scDIudmVjMi5yb3RhdGUodSxsLHQpLGMucHVzaChbKHVbMF0rYVswXSkqdGhpcy5wcHUsLSh1WzFdK2FbMV0pKnRoaXMucHB1XSk7dGhpcy5kcmF3Q29udmV4KGgsYyxlLnRyaWFuZ2xlcywxNjcxMTY4MCxpLG8sdGhpcy5zZXR0aW5ncy5kZWJ1Z1BvbHlnb25zLFthWzBdKnRoaXMucHB1LC1hWzFdKnRoaXMucHB1XSl9cysrfX19LGRyYXdSZWN0YW5nbGU6ZnVuY3Rpb24odCxlLGkscyxuLG8scixhLGgpe3ZvaWQgMD09PWgmJihoPTEpLHZvaWQgMD09PXImJihyPTApLHQubGluZVN0eWxlKGgsciwxKSx0LmJlZ2luRmlsbChhKSx0LmRyYXdSZWN0KGUtbi8yLGktby8yLG4sbyl9LGRyYXdDaXJjbGU6ZnVuY3Rpb24odCxlLGkscyxuLG8scil7dm9pZCAwPT09ciYmKHI9MSksdm9pZCAwPT09byYmKG89MTY3NzcyMTUpLHQubGluZVN0eWxlKHIsMCwxKSx0LmJlZ2luRmlsbChvLDEpLHQuZHJhd0NpcmNsZShlLGksMiotbiksdC5lbmRGaWxsKCksdC5tb3ZlVG8oZSxpKSx0LmxpbmVUbyhlK24qTWF0aC5jb3MoLXMpLGkrbipNYXRoLnNpbigtcykpfSxkcmF3TGluZTpmdW5jdGlvbih0LGUsaSxzKXt2b2lkIDA9PT1zJiYocz0xKSx2b2lkIDA9PT1pJiYoaT0wKSx0LmxpbmVTdHlsZSg1KnMsaSwxKSx0Lm1vdmVUbygtZS8yLDApLHQubGluZVRvKGUvMiwwKX0sZHJhd0NvbnZleDpmdW5jdGlvbih0LGUsaSxzLG4sbyxyLGEpe3ZhciBoLGwsYyx1LGQscCxmLG0sZyx5LHY7aWYodm9pZCAwPT09byYmKG89MSksdm9pZCAwPT09cyYmKHM9MCkscil7Zm9yKGg9WzE2NzExNjgwLDY1MjgwLDI1NV0sbD0wO2whPT1lLmxlbmd0aCsxOyl1PWVbbCVlLmxlbmd0aF0sZD1lWyhsKzEpJWUubGVuZ3RoXSxmPXVbMF0seT11WzFdLG09ZFswXSx2PWRbMV0sdC5saW5lU3R5bGUobyxoW2wlaC5sZW5ndGhdLDEpLHQubW92ZVRvKGYsLXkpLHQubGluZVRvKG0sLXYpLHQuZHJhd0NpcmNsZShmLC15LDIqbyksbCsrO3JldHVybiB0LmxpbmVTdHlsZShvLDAsMSksdC5kcmF3Q2lyY2xlKGFbMF0sYVsxXSwyKm8pfWZvcih0LmxpbmVTdHlsZShvLHMsMSksdC5iZWdpbkZpbGwobiksbD0wO2whPT1lLmxlbmd0aDspcD0oYz1lW2xdKVswXSxnPWNbMV0sMD09PWw/dC5tb3ZlVG8ocCwtZyk6dC5saW5lVG8ocCwtZyksbCsrO2lmKHQuZW5kRmlsbCgpLGUubGVuZ3RoPjIpcmV0dXJuIHQubW92ZVRvKGVbZS5sZW5ndGgtMV1bMF0sLWVbZS5sZW5ndGgtMV1bMV0pLHQubGluZVRvKGVbMF1bMF0sLWVbMF1bMV0pfSxkcmF3UGF0aDpmdW5jdGlvbih0LGUsaSxzLG4pe3ZhciBvLHIsYSxoLGwsYyx1LGQscCxmLG07Zm9yKHZvaWQgMD09PW4mJihuPTEpLHZvaWQgMD09PWkmJihpPTApLHQubGluZVN0eWxlKG4saSwxKSxcIm51bWJlclwiPT10eXBlb2YgcyYmdC5iZWdpbkZpbGwocykscj1udWxsLGE9bnVsbCxvPTA7bzxlLmxlbmd0aDspZj0ocD1lW29dKVswXSxtPXBbMV0sZj09PXImJm09PT1hfHwoMD09PW8/dC5tb3ZlVG8oZixtKTooaD1yLGw9YSxjPWYsdT1tLGQ9ZVsobysxKSVlLmxlbmd0aF1bMF0sMCE9PShjLWgpKihlWyhvKzEpJWUubGVuZ3RoXVsxXS1sKS0oZC1oKSoodS1sKSYmdC5saW5lVG8oZixtKSkscj1mLGE9bSksbysrO1wibnVtYmVyXCI9PXR5cGVvZiBzJiZ0LmVuZEZpbGwoKSxlLmxlbmd0aD4yJiZcIm51bWJlclwiPT10eXBlb2YgcyYmKHQubW92ZVRvKGVbZS5sZW5ndGgtMV1bMF0sZVtlLmxlbmd0aC0xXVsxXSksdC5saW5lVG8oZVswXVswXSxlWzBdWzFdKSl9LGRyYXdQbGFuZTpmdW5jdGlvbih0LGUsaSxzLG4sbyxyLGEsaCxsKXt2YXIgYyx1O3ZvaWQgMD09PW8mJihvPTEpLHZvaWQgMD09PXMmJihzPTE2Nzc3MjE1KSx0LmxpbmVTdHlsZShvLG4sMTEpLHQuYmVnaW5GaWxsKHMpLHQubW92ZVRvKGUsLWkpLGM9ZStNYXRoLmNvcyhsKSp0aGlzLmdhbWUud2lkdGgsdT1pK01hdGguc2luKGwpKnRoaXMuZ2FtZS5oZWlnaHQsdC5saW5lVG8oYywtdSksdC5tb3ZlVG8oZSwtaSksYz1lK01hdGguY29zKGwpKi10aGlzLmdhbWUud2lkdGgsdT1pK01hdGguc2luKGwpKi10aGlzLmdhbWUuaGVpZ2h0LHQubGluZVRvKGMsLXUpfSxkcmF3Q2Fwc3VsZTpmdW5jdGlvbih0LGUsaSxzLG4sbyxyLGEsaCl7dm9pZCAwPT09aCYmKGg9MSksdm9pZCAwPT09ciYmKHI9MCksdC5saW5lU3R5bGUoaCxyLDEpO3ZhciBsPU1hdGguY29zKHMpLGM9TWF0aC5zaW4ocyk7dC5iZWdpbkZpbGwoYSwxKSx0LmRyYXdDaXJjbGUoLW4vMipsK2UsLW4vMipjK2ksMiotbyksdC5kcmF3Q2lyY2xlKG4vMipsK2Usbi8yKmMraSwyKi1vKSx0LmVuZEZpbGwoKSx0LmxpbmVTdHlsZShoLHIsMCksdC5iZWdpbkZpbGwoYSwxKSx0Lm1vdmVUbygtbi8yKmwrbypjK2UsLW4vMipjK28qbCtpKSx0LmxpbmVUbyhuLzIqbCtvKmMrZSxuLzIqYytvKmwraSksdC5saW5lVG8obi8yKmwtbypjK2Usbi8yKmMtbypsK2kpLHQubGluZVRvKC1uLzIqbC1vKmMrZSwtbi8yKmMtbypsK2kpLHQuZW5kRmlsbCgpLHQubGluZVN0eWxlKGgsciwxKSx0Lm1vdmVUbygtbi8yKmwrbypjK2UsLW4vMipjK28qbCtpKSx0LmxpbmVUbyhuLzIqbCtvKmMrZSxuLzIqYytvKmwraSksdC5tb3ZlVG8oLW4vMipsLW8qYytlLC1uLzIqYy1vKmwraSksdC5saW5lVG8obi8yKmwtbypjK2Usbi8yKmMtbypsK2kpfSxyYW5kb21QYXN0ZWxIZXg6ZnVuY3Rpb24oKXt2YXIgdCxlLGkscztyZXR1cm4gaT1bMjU1LDI1NSwyNTVdLHM9TWF0aC5mbG9vcigyNTYqTWF0aC5yYW5kb20oKSksZT1NYXRoLmZsb29yKDI1NipNYXRoLnJhbmRvbSgpKSx0PU1hdGguZmxvb3IoMjU2Kk1hdGgucmFuZG9tKCkpLHM9TWF0aC5mbG9vcigocyszKmlbMF0pLzQpLGU9TWF0aC5mbG9vcigoZSszKmlbMV0pLzQpLHQ9TWF0aC5mbG9vcigodCszKmlbMl0pLzQpLHRoaXMucmdiVG9IZXgocyxlLHQpfSxyZ2JUb0hleDpmdW5jdGlvbih0LGUsaSl7cmV0dXJuIHRoaXMuY29tcG9uZW50VG9IZXgodCkrdGhpcy5jb21wb25lbnRUb0hleChlKSt0aGlzLmNvbXBvbmVudFRvSGV4KGkpfSxjb21wb25lbnRUb0hleDpmdW5jdGlvbih0KXt2YXIgZTtyZXR1cm4gMj09PShlPXQudG9TdHJpbmcoMTYpKS5sZW5ndGg/ZTplK1wiMFwifX0pLGkuUGh5c2ljcy5QMi5TcHJpbmc9ZnVuY3Rpb24odCxlLGkscyxuLG8scixhLGgsbCl7dGhpcy5nYW1lPXQuZ2FtZSx0aGlzLndvcmxkPXQsdm9pZCAwPT09cyYmKHM9MSksdm9pZCAwPT09biYmKG49MTAwKSx2b2lkIDA9PT1vJiYobz0xKTt2YXIgYz17cmVzdExlbmd0aDpzPXQucHhtKHMpLHN0aWZmbmVzczpuLGRhbXBpbmc6b307dm9pZCAwIT09ciYmbnVsbCE9PXImJihjLndvcmxkQW5jaG9yQT1bdC5weG0oclswXSksdC5weG0oclsxXSldKSx2b2lkIDAhPT1hJiZudWxsIT09YSYmKGMud29ybGRBbmNob3JCPVt0LnB4bShhWzBdKSx0LnB4bShhWzFdKV0pLHZvaWQgMCE9PWgmJm51bGwhPT1oJiYoYy5sb2NhbEFuY2hvckE9W3QucHhtKGhbMF0pLHQucHhtKGhbMV0pXSksdm9pZCAwIT09bCYmbnVsbCE9PWwmJihjLmxvY2FsQW5jaG9yQj1bdC5weG0obFswXSksdC5weG0obFsxXSldKSx0aGlzLmRhdGE9bmV3IHAyLkxpbmVhclNwcmluZyhlLGksYyksdGhpcy5kYXRhLnBhcmVudD10aGlzfSxpLlBoeXNpY3MuUDIuU3ByaW5nLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1pLlBoeXNpY3MuUDIuU3ByaW5nLGkuUGh5c2ljcy5QMi5Sb3RhdGlvbmFsU3ByaW5nPWZ1bmN0aW9uKHQsZSxpLHMsbixvKXt0aGlzLmdhbWU9dC5nYW1lLHRoaXMud29ybGQ9dCx2b2lkIDA9PT1zJiYocz1udWxsKSx2b2lkIDA9PT1uJiYobj0xMDApLHZvaWQgMD09PW8mJihvPTEpLHMmJihzPXQucHhtKHMpKTt2YXIgcj17cmVzdEFuZ2xlOnMsc3RpZmZuZXNzOm4sZGFtcGluZzpvfTt0aGlzLmRhdGE9bmV3IHAyLlJvdGF0aW9uYWxTcHJpbmcoZSxpLHIpLHRoaXMuZGF0YS5wYXJlbnQ9dGhpc30saS5QaHlzaWNzLlAyLlNwcmluZy5wcm90b3R5cGUuY29uc3RydWN0b3I9aS5QaHlzaWNzLlAyLlNwcmluZyxpLlBoeXNpY3MuUDIuTWF0ZXJpYWw9ZnVuY3Rpb24odCl7dGhpcy5uYW1lPXQscDIuTWF0ZXJpYWwuY2FsbCh0aGlzKX0saS5QaHlzaWNzLlAyLk1hdGVyaWFsLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHAyLk1hdGVyaWFsLnByb3RvdHlwZSksaS5QaHlzaWNzLlAyLk1hdGVyaWFsLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1pLlBoeXNpY3MuUDIuTWF0ZXJpYWwsaS5QaHlzaWNzLlAyLkNvbnRhY3RNYXRlcmlhbD1mdW5jdGlvbih0LGUsaSl7cDIuQ29udGFjdE1hdGVyaWFsLmNhbGwodGhpcyx0LGUsaSl9LGkuUGh5c2ljcy5QMi5Db250YWN0TWF0ZXJpYWwucHJvdG90eXBlPU9iamVjdC5jcmVhdGUocDIuQ29udGFjdE1hdGVyaWFsLnByb3RvdHlwZSksaS5QaHlzaWNzLlAyLkNvbnRhY3RNYXRlcmlhbC5wcm90b3R5cGUuY29uc3RydWN0b3I9aS5QaHlzaWNzLlAyLkNvbnRhY3RNYXRlcmlhbCxpLlBoeXNpY3MuUDIuQ29sbGlzaW9uR3JvdXA9ZnVuY3Rpb24odCl7dGhpcy5tYXNrPXR9LGkuUGh5c2ljcy5QMi5EaXN0YW5jZUNvbnN0cmFpbnQ9ZnVuY3Rpb24odCxlLGkscyxuLG8scil7dm9pZCAwPT09cyYmKHM9MTAwKSx2b2lkIDA9PT1uJiYobj1bMCwwXSksdm9pZCAwPT09byYmKG89WzAsMF0pLHZvaWQgMD09PXImJihyPU51bWJlci5NQVhfVkFMVUUpLHRoaXMuZ2FtZT10LmdhbWUsdGhpcy53b3JsZD10O3ZhciBhPXtkaXN0YW5jZTpzPXQucHhtKHMpLGxvY2FsQW5jaG9yQTpuPVt0LnB4bWkoblswXSksdC5weG1pKG5bMV0pXSxsb2NhbEFuY2hvckI6bz1bdC5weG1pKG9bMF0pLHQucHhtaShvWzFdKV0sbWF4Rm9yY2U6cn07cDIuRGlzdGFuY2VDb25zdHJhaW50LmNhbGwodGhpcyxlLGksYSl9LGkuUGh5c2ljcy5QMi5EaXN0YW5jZUNvbnN0cmFpbnQucHJvdG90eXBlPU9iamVjdC5jcmVhdGUocDIuRGlzdGFuY2VDb25zdHJhaW50LnByb3RvdHlwZSksaS5QaHlzaWNzLlAyLkRpc3RhbmNlQ29uc3RyYWludC5wcm90b3R5cGUuY29uc3RydWN0b3I9aS5QaHlzaWNzLlAyLkRpc3RhbmNlQ29uc3RyYWludCxpLlBoeXNpY3MuUDIuR2VhckNvbnN0cmFpbnQ9ZnVuY3Rpb24odCxlLGkscyxuKXt2b2lkIDA9PT1zJiYocz0wKSx2b2lkIDA9PT1uJiYobj0xKSx0aGlzLmdhbWU9dC5nYW1lLHRoaXMud29ybGQ9dDt2YXIgbz17YW5nbGU6cyxyYXRpbzpufTtwMi5HZWFyQ29uc3RyYWludC5jYWxsKHRoaXMsZSxpLG8pfSxpLlBoeXNpY3MuUDIuR2VhckNvbnN0cmFpbnQucHJvdG90eXBlPU9iamVjdC5jcmVhdGUocDIuR2VhckNvbnN0cmFpbnQucHJvdG90eXBlKSxpLlBoeXNpY3MuUDIuR2VhckNvbnN0cmFpbnQucHJvdG90eXBlLmNvbnN0cnVjdG9yPWkuUGh5c2ljcy5QMi5HZWFyQ29uc3RyYWludCxpLlBoeXNpY3MuUDIuTG9ja0NvbnN0cmFpbnQ9ZnVuY3Rpb24odCxlLGkscyxuLG8pe3ZvaWQgMD09PXMmJihzPVswLDBdKSx2b2lkIDA9PT1uJiYobj0wKSx2b2lkIDA9PT1vJiYobz1OdW1iZXIuTUFYX1ZBTFVFKSx0aGlzLmdhbWU9dC5nYW1lLHRoaXMud29ybGQ9dDt2YXIgcj17bG9jYWxPZmZzZXRCOnM9W3QucHhtKHNbMF0pLHQucHhtKHNbMV0pXSxsb2NhbEFuZ2xlQjpuLG1heEZvcmNlOm99O3AyLkxvY2tDb25zdHJhaW50LmNhbGwodGhpcyxlLGkscil9LGkuUGh5c2ljcy5QMi5Mb2NrQ29uc3RyYWludC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShwMi5Mb2NrQ29uc3RyYWludC5wcm90b3R5cGUpLGkuUGh5c2ljcy5QMi5Mb2NrQ29uc3RyYWludC5wcm90b3R5cGUuY29uc3RydWN0b3I9aS5QaHlzaWNzLlAyLkxvY2tDb25zdHJhaW50LGkuUGh5c2ljcy5QMi5QcmlzbWF0aWNDb25zdHJhaW50PWZ1bmN0aW9uKHQsZSxpLHMsbixvLHIsYSl7dm9pZCAwPT09cyYmKHM9ITApLHZvaWQgMD09PW4mJihuPVswLDBdKSx2b2lkIDA9PT1vJiYobz1bMCwwXSksdm9pZCAwPT09ciYmKHI9WzAsMF0pLHZvaWQgMD09PWEmJihhPU51bWJlci5NQVhfVkFMVUUpLHRoaXMuZ2FtZT10LmdhbWUsdGhpcy53b3JsZD10O3ZhciBoPXtsb2NhbEFuY2hvckE6bj1bdC5weG1pKG5bMF0pLHQucHhtaShuWzFdKV0sbG9jYWxBbmNob3JCOm89W3QucHhtaShvWzBdKSx0LnB4bWkob1sxXSldLGxvY2FsQXhpc0E6cixtYXhGb3JjZTphLGRpc2FibGVSb3RhdGlvbmFsTG9jazohc307cDIuUHJpc21hdGljQ29uc3RyYWludC5jYWxsKHRoaXMsZSxpLGgpfSxpLlBoeXNpY3MuUDIuUHJpc21hdGljQ29uc3RyYWludC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShwMi5QcmlzbWF0aWNDb25zdHJhaW50LnByb3RvdHlwZSksaS5QaHlzaWNzLlAyLlByaXNtYXRpY0NvbnN0cmFpbnQucHJvdG90eXBlLmNvbnN0cnVjdG9yPWkuUGh5c2ljcy5QMi5QcmlzbWF0aWNDb25zdHJhaW50LGkuUGh5c2ljcy5QMi5SZXZvbHV0ZUNvbnN0cmFpbnQ9ZnVuY3Rpb24odCxlLGkscyxuLG8scil7dm9pZCAwPT09byYmKG89TnVtYmVyLk1BWF9WQUxVRSksdm9pZCAwPT09ciYmKHI9bnVsbCksdGhpcy5nYW1lPXQuZ2FtZSx0aGlzLndvcmxkPXQsaT1bdC5weG1pKGlbMF0pLHQucHhtaShpWzFdKV0sbj1bdC5weG1pKG5bMF0pLHQucHhtaShuWzFdKV0sciYmKHI9W3QucHhtaShyWzBdKSx0LnB4bWkoclsxXSldKTt2YXIgYT17d29ybGRQaXZvdDpyLGxvY2FsUGl2b3RBOmksbG9jYWxQaXZvdEI6bixtYXhGb3JjZTpvfTtwMi5SZXZvbHV0ZUNvbnN0cmFpbnQuY2FsbCh0aGlzLGUscyxhKX0saS5QaHlzaWNzLlAyLlJldm9sdXRlQ29uc3RyYWludC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShwMi5SZXZvbHV0ZUNvbnN0cmFpbnQucHJvdG90eXBlKSxpLlBoeXNpY3MuUDIuUmV2b2x1dGVDb25zdHJhaW50LnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1pLlBoeXNpY3MuUDIuUmV2b2x1dGVDb25zdHJhaW50LGkuSW1hZ2VDb2xsZWN0aW9uPWZ1bmN0aW9uKHQsZSxpLHMsbixvLHIpeyh2b2lkIDA9PT1pfHxpPD0wKSYmKGk9MzIpLCh2b2lkIDA9PT1zfHxzPD0wKSYmKHM9MzIpLHZvaWQgMD09PW4mJihuPTApLHZvaWQgMD09PW8mJihvPTApLHRoaXMubmFtZT10LHRoaXMuZmlyc3RnaWQ9MHxlLHRoaXMuaW1hZ2VXaWR0aD0wfGksdGhpcy5pbWFnZUhlaWdodD0wfHMsdGhpcy5pbWFnZU1hcmdpbj0wfG4sdGhpcy5pbWFnZVNwYWNpbmc9MHxvLHRoaXMucHJvcGVydGllcz1yfHx7fSx0aGlzLmltYWdlcz1bXSx0aGlzLnRvdGFsPTB9LGkuSW1hZ2VDb2xsZWN0aW9uLnByb3RvdHlwZT17Y29udGFpbnNJbWFnZUluZGV4OmZ1bmN0aW9uKHQpe3JldHVybiB0Pj10aGlzLmZpcnN0Z2lkJiZ0PHRoaXMuZmlyc3RnaWQrdGhpcy50b3RhbH0sYWRkSW1hZ2U6ZnVuY3Rpb24odCxlKXt0aGlzLmltYWdlcy5wdXNoKHtnaWQ6dCxpbWFnZTplfSksdGhpcy50b3RhbCsrfX0saS5JbWFnZUNvbGxlY3Rpb24ucHJvdG90eXBlLmNvbnN0cnVjdG9yPWkuSW1hZ2VDb2xsZWN0aW9uLGkuVGlsZT1mdW5jdGlvbih0LGUsaSxzLG4sbyl7dGhpcy5sYXllcj10LHRoaXMuaW5kZXg9ZSx0aGlzLng9aSx0aGlzLnk9cyx0aGlzLnJvdGF0aW9uPTAsdGhpcy5mbGlwcGVkPSExLHRoaXMud29ybGRYPWkqbix0aGlzLndvcmxkWT1zKm8sdGhpcy53aWR0aD1uLHRoaXMuaGVpZ2h0PW8sdGhpcy5jZW50ZXJYPU1hdGguYWJzKG4vMiksdGhpcy5jZW50ZXJZPU1hdGguYWJzKG8vMiksdGhpcy5hbHBoYT0xLHRoaXMucHJvcGVydGllcz17fSx0aGlzLnNjYW5uZWQ9ITEsdGhpcy5mYWNlVG9wPSExLHRoaXMuZmFjZUJvdHRvbT0hMSx0aGlzLmZhY2VMZWZ0PSExLHRoaXMuZmFjZVJpZ2h0PSExLHRoaXMuY29sbGlkZUxlZnQ9ITEsdGhpcy5jb2xsaWRlUmlnaHQ9ITEsdGhpcy5jb2xsaWRlVXA9ITEsdGhpcy5jb2xsaWRlRG93bj0hMSx0aGlzLmNvbGxpc2lvbkNhbGxiYWNrPW51bGwsdGhpcy5jb2xsaXNpb25DYWxsYmFja0NvbnRleHQ9dGhpc30saS5UaWxlLnByb3RvdHlwZT17Y29udGFpbnNQb2ludDpmdW5jdGlvbih0LGUpe3JldHVybiEodDx0aGlzLndvcmxkWHx8ZTx0aGlzLndvcmxkWXx8dD50aGlzLnJpZ2h0fHxlPnRoaXMuYm90dG9tKX0saW50ZXJzZWN0czpmdW5jdGlvbih0LGUsaSxzKXtyZXR1cm4hKGk8PXRoaXMud29ybGRYKSYmKCEoczw9dGhpcy53b3JsZFkpJiYoISh0Pj10aGlzLndvcmxkWCt0aGlzLndpZHRoKSYmIShlPj10aGlzLndvcmxkWSt0aGlzLmhlaWdodCkpKX0sc2V0Q29sbGlzaW9uQ2FsbGJhY2s6ZnVuY3Rpb24odCxlKXt0aGlzLmNvbGxpc2lvbkNhbGxiYWNrPXQsdGhpcy5jb2xsaXNpb25DYWxsYmFja0NvbnRleHQ9ZX0sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuY29sbGlzaW9uQ2FsbGJhY2s9bnVsbCx0aGlzLmNvbGxpc2lvbkNhbGxiYWNrQ29udGV4dD1udWxsLHRoaXMucHJvcGVydGllcz1udWxsfSxzZXRDb2xsaXNpb246ZnVuY3Rpb24odCxlLGkscyl7dGhpcy5jb2xsaWRlTGVmdD10LHRoaXMuY29sbGlkZVJpZ2h0PWUsdGhpcy5jb2xsaWRlVXA9aSx0aGlzLmNvbGxpZGVEb3duPXMsdGhpcy5mYWNlTGVmdD10LHRoaXMuZmFjZVJpZ2h0PWUsdGhpcy5mYWNlVG9wPWksdGhpcy5mYWNlQm90dG9tPXN9LHJlc2V0Q29sbGlzaW9uOmZ1bmN0aW9uKCl7dGhpcy5jb2xsaWRlTGVmdD0hMSx0aGlzLmNvbGxpZGVSaWdodD0hMSx0aGlzLmNvbGxpZGVVcD0hMSx0aGlzLmNvbGxpZGVEb3duPSExLHRoaXMuZmFjZVRvcD0hMSx0aGlzLmZhY2VCb3R0b209ITEsdGhpcy5mYWNlTGVmdD0hMSx0aGlzLmZhY2VSaWdodD0hMX0saXNJbnRlcmVzdGluZzpmdW5jdGlvbih0LGUpe3JldHVybiB0JiZlP3RoaXMuY29sbGlkZUxlZnR8fHRoaXMuY29sbGlkZVJpZ2h0fHx0aGlzLmNvbGxpZGVVcHx8dGhpcy5jb2xsaWRlRG93bnx8dGhpcy5mYWNlVG9wfHx0aGlzLmZhY2VCb3R0b218fHRoaXMuZmFjZUxlZnR8fHRoaXMuZmFjZVJpZ2h0fHx0aGlzLmNvbGxpc2lvbkNhbGxiYWNrOnQ/dGhpcy5jb2xsaWRlTGVmdHx8dGhpcy5jb2xsaWRlUmlnaHR8fHRoaXMuY29sbGlkZVVwfHx0aGlzLmNvbGxpZGVEb3duOiEhZSYmKHRoaXMuZmFjZVRvcHx8dGhpcy5mYWNlQm90dG9tfHx0aGlzLmZhY2VMZWZ0fHx0aGlzLmZhY2VSaWdodCl9LGNvcHk6ZnVuY3Rpb24odCl7dGhpcy5pbmRleD10LmluZGV4LHRoaXMuYWxwaGE9dC5hbHBoYSx0aGlzLnByb3BlcnRpZXM9dC5wcm9wZXJ0aWVzLHRoaXMuY29sbGlkZVVwPXQuY29sbGlkZVVwLHRoaXMuY29sbGlkZURvd249dC5jb2xsaWRlRG93bix0aGlzLmNvbGxpZGVMZWZ0PXQuY29sbGlkZUxlZnQsdGhpcy5jb2xsaWRlUmlnaHQ9dC5jb2xsaWRlUmlnaHQsdGhpcy5jb2xsaXNpb25DYWxsYmFjaz10LmNvbGxpc2lvbkNhbGxiYWNrLHRoaXMuY29sbGlzaW9uQ2FsbGJhY2tDb250ZXh0PXQuY29sbGlzaW9uQ2FsbGJhY2tDb250ZXh0fX0saS5UaWxlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1pLlRpbGUsT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuVGlsZS5wcm90b3R5cGUsXCJjb2xsaWRlc1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb2xsaWRlTGVmdHx8dGhpcy5jb2xsaWRlUmlnaHR8fHRoaXMuY29sbGlkZVVwfHx0aGlzLmNvbGxpZGVEb3dufX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLlRpbGUucHJvdG90eXBlLFwiY2FuQ29sbGlkZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb2xsaWRlTGVmdHx8dGhpcy5jb2xsaWRlUmlnaHR8fHRoaXMuY29sbGlkZVVwfHx0aGlzLmNvbGxpZGVEb3dufHx0aGlzLmNvbGxpc2lvbkNhbGxiYWNrfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLlRpbGUucHJvdG90eXBlLFwibGVmdFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy53b3JsZFh9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuVGlsZS5wcm90b3R5cGUsXCJyaWdodFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy53b3JsZFgrdGhpcy53aWR0aH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5UaWxlLnByb3RvdHlwZSxcInRvcFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy53b3JsZFl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuVGlsZS5wcm90b3R5cGUsXCJib3R0b21cIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMud29ybGRZK3RoaXMuaGVpZ2h0fX0pLGkuVGlsZW1hcD1mdW5jdGlvbih0LGUscyxuLG8scil7dGhpcy5nYW1lPXQsdGhpcy5rZXk9ZTt2YXIgYT1pLlRpbGVtYXBQYXJzZXIucGFyc2UodGhpcy5nYW1lLGUscyxuLG8scik7bnVsbCE9PWEmJih0aGlzLndpZHRoPWEud2lkdGgsdGhpcy5oZWlnaHQ9YS5oZWlnaHQsdGhpcy50aWxlV2lkdGg9YS50aWxlV2lkdGgsdGhpcy50aWxlSGVpZ2h0PWEudGlsZUhlaWdodCx0aGlzLm9yaWVudGF0aW9uPWEub3JpZW50YXRpb24sdGhpcy5mb3JtYXQ9YS5mb3JtYXQsdGhpcy52ZXJzaW9uPWEudmVyc2lvbix0aGlzLnByb3BlcnRpZXM9YS5wcm9wZXJ0aWVzLHRoaXMud2lkdGhJblBpeGVscz1hLndpZHRoSW5QaXhlbHMsdGhpcy5oZWlnaHRJblBpeGVscz1hLmhlaWdodEluUGl4ZWxzLHRoaXMubGF5ZXJzPWEubGF5ZXJzLHRoaXMudGlsZXNldHM9YS50aWxlc2V0cyx0aGlzLmltYWdlY29sbGVjdGlvbnM9YS5pbWFnZWNvbGxlY3Rpb25zLHRoaXMudGlsZXM9YS50aWxlcyx0aGlzLm9iamVjdHM9YS5vYmplY3RzLHRoaXMuY29sbGlkZUluZGV4ZXM9W10sdGhpcy5jb2xsaXNpb249YS5jb2xsaXNpb24sdGhpcy5pbWFnZXM9YS5pbWFnZXMsdGhpcy5lbmFibGVEZWJ1Zz0hMSx0aGlzLmN1cnJlbnRMYXllcj0wLHRoaXMuZGVidWdNYXA9W10sdGhpcy5fcmVzdWx0cz1bXSx0aGlzLl90ZW1wQT0wLHRoaXMuX3RlbXBCPTApfSxpLlRpbGVtYXAuQ1NWPTAsaS5UaWxlbWFwLlRJTEVEX0pTT049MSxpLlRpbGVtYXAuTk9SVEg9MCxpLlRpbGVtYXAuRUFTVD0xLGkuVGlsZW1hcC5TT1VUSD0yLGkuVGlsZW1hcC5XRVNUPTMsaS5UaWxlbWFwLnByb3RvdHlwZT17Y3JlYXRlOmZ1bmN0aW9uKHQsZSxpLHMsbixvKXtyZXR1cm4gdm9pZCAwPT09byYmKG89dGhpcy5nYW1lLndvcmxkKSx0aGlzLndpZHRoPWUsdGhpcy5oZWlnaHQ9aSx0aGlzLnNldFRpbGVTaXplKHMsbiksdGhpcy5sYXllcnMubGVuZ3RoPTAsdGhpcy5jcmVhdGVCbGFua0xheWVyKHQsZSxpLHMsbixvKX0sc2V0VGlsZVNpemU6ZnVuY3Rpb24odCxlKXt0aGlzLnRpbGVXaWR0aD10LHRoaXMudGlsZUhlaWdodD1lLHRoaXMud2lkdGhJblBpeGVscz10aGlzLndpZHRoKnQsdGhpcy5oZWlnaHRJblBpeGVscz10aGlzLmhlaWdodCplfSxhZGRUaWxlc2V0SW1hZ2U6ZnVuY3Rpb24odCxlLHMsbixvLHIsYSl7aWYodm9pZCAwPT09dClyZXR1cm4gbnVsbDt2b2lkIDA9PT1zJiYocz10aGlzLnRpbGVXaWR0aCksdm9pZCAwPT09biYmKG49dGhpcy50aWxlSGVpZ2h0KSx2b2lkIDA9PT1vJiYobz0wKSx2b2lkIDA9PT1yJiYocj0wKSx2b2lkIDA9PT1hJiYoYT0wKSwwPT09cyYmKHM9MzIpLDA9PT1uJiYobj0zMik7dmFyIGg9bnVsbDtpZih2b2lkIDAhPT1lJiZudWxsIT09ZXx8KGU9dCksZSBpbnN0YW5jZW9mIGkuQml0bWFwRGF0YSloPWUuY2FudmFzO2Vsc2V7aWYoIXRoaXMuZ2FtZS5jYWNoZS5jaGVja0ltYWdlS2V5KGUpKXJldHVybiBjb25zb2xlLndhcm4oJ1BoYXNlci5UaWxlbWFwLmFkZFRpbGVzZXRJbWFnZTogSW52YWxpZCBpbWFnZSBrZXkgZ2l2ZW46IFwiJytlKydcIicpLG51bGw7aD10aGlzLmdhbWUuY2FjaGUuZ2V0SW1hZ2UoZSl9dmFyIGw9dGhpcy5nZXRUaWxlc2V0SW5kZXgodCk7aWYobnVsbD09PWwmJnRoaXMuZm9ybWF0PT09aS5UaWxlbWFwLlRJTEVEX0pTT04pcmV0dXJuIGNvbnNvbGUud2FybignUGhhc2VyLlRpbGVtYXAuYWRkVGlsZXNldEltYWdlOiBObyBkYXRhIGZvdW5kIGluIHRoZSBKU09OIG1hdGNoaW5nIHRoZSB0aWxlc2V0IG5hbWU6IFwiJyt0KydcIicpLG51bGw7aWYodGhpcy50aWxlc2V0c1tsXSlyZXR1cm4gdGhpcy50aWxlc2V0c1tsXS5zZXRJbWFnZShoKSx0aGlzLnRpbGVzZXRzW2xdO3ZhciBjPW5ldyBpLlRpbGVzZXQodCxhLHMsbixvLHIse30pO2Muc2V0SW1hZ2UoaCksdGhpcy50aWxlc2V0cy5wdXNoKGMpO2Zvcih2YXIgdT10aGlzLnRpbGVzZXRzLmxlbmd0aC0xLGQ9byxwPW8sZj0wLG09MCxnPTAseT1hO3k8YStjLnRvdGFsJiYodGhpcy50aWxlc1t5XT1bZCxwLHVdLGQrPXMrciwrK2YhPT1jLnRvdGFsKSYmKCsrbSE9PWMuY29sdW1uc3x8KGQ9byxwKz1uK3IsbT0wLCsrZyE9PWMucm93cykpO3krKyk7cmV0dXJuIGN9LGNyZWF0ZUZyb21PYmplY3RzOmZ1bmN0aW9uKHQsZSxzLG4sbyxyLGEsaCxsLGMpe2lmKHZvaWQgMD09PW8mJihvPSEwKSx2b2lkIDA9PT1yJiYocj0hMSksdm9pZCAwPT09YSYmKGE9dGhpcy5nYW1lLndvcmxkKSx2b2lkIDA9PT1oJiYoaD1pLlNwcml0ZSksdm9pZCAwPT09bCYmKGw9ITApLHZvaWQgMD09PWMmJihjPSEwKSx0aGlzLm9iamVjdHNbdF0pZm9yKHZhciB1PTA7dTx0aGlzLm9iamVjdHNbdF0ubGVuZ3RoO3UrKyl7dmFyIGQ9ITEscD10aGlzLm9iamVjdHNbdF1bdV07aWYodm9pZCAwIT09cC5naWQmJlwibnVtYmVyXCI9PXR5cGVvZiBlJiZwLmdpZD09PWU/ZD0hMDp2b2lkIDAhPT1wLmlkJiZcIm51bWJlclwiPT10eXBlb2YgZSYmcC5pZD09PWU/ZD0hMDp2b2lkIDAhPT1wLm5hbWUmJlwic3RyaW5nXCI9PXR5cGVvZiBlJiZwLm5hbWU9PT1lJiYoZD0hMCksZCl7dmFyIGY9bmV3IGgodGhpcy5nYW1lLHBhcnNlRmxvYXQocC54LDEwKSxwYXJzZUZsb2F0KHAueSwxMCkscyxuKTtmLm5hbWU9cC5uYW1lLGYuYXV0b0N1bGw9cixmLmV4aXN0cz1vLGYudmlzaWJsZT1wLnZpc2libGUsYyYmKHAud2lkdGgmJihmLndpZHRoPXAud2lkdGgpLHAuaGVpZ2h0JiYoZi5oZWlnaHQ9cC5oZWlnaHQpKSxwLnJvdGF0aW9uJiYoZi5hbmdsZT1wLnJvdGF0aW9uKSxsJiYoZi55LT1mLmhlaWdodCksYS5hZGQoZik7Zm9yKHZhciBtIGluIHAucHJvcGVydGllcylhLnNldChmLG0scC5wcm9wZXJ0aWVzW21dLCExLCExLDAsITApfX1lbHNlIGNvbnNvbGUud2FybihcIlRpbGVtYXAuY3JlYXRlRnJvbU9iamVjdHM6IEludmFsaWQgb2JqZWN0Z3JvdXAgbmFtZSBnaXZlbjogXCIrdCl9LGNyZWF0ZUZyb21UaWxlczpmdW5jdGlvbih0LGUscyxuLG8scil7XCJudW1iZXJcIj09dHlwZW9mIHQmJih0PVt0XSksdm9pZCAwPT09ZXx8bnVsbD09PWU/ZT1bXTpcIm51bWJlclwiPT10eXBlb2YgZSYmKGU9W2VdKSxuPXRoaXMuZ2V0TGF5ZXIobiksdm9pZCAwPT09byYmKG89dGhpcy5nYW1lLndvcmxkKSx2b2lkIDA9PT1yJiYocj17fSksdm9pZCAwPT09ci5jdXN0b21DbGFzcyYmKHIuY3VzdG9tQ2xhc3M9aS5TcHJpdGUpLHZvaWQgMD09PXIuYWRqdXN0WSYmKHIuYWRqdXN0WT0hMCk7dmFyIGE9dGhpcy5sYXllcnNbbl0ud2lkdGgsaD10aGlzLmxheWVyc1tuXS5oZWlnaHQ7aWYodGhpcy5jb3B5KDAsMCxhLGgsbiksdGhpcy5fcmVzdWx0cy5sZW5ndGg8MilyZXR1cm4gMDtmb3IodmFyIGwsYz0wLHU9MSxkPXRoaXMuX3Jlc3VsdHMubGVuZ3RoO3U8ZDt1KyspaWYoLTEhPT10LmluZGV4T2YodGhpcy5fcmVzdWx0c1t1XS5pbmRleCkpe2w9bmV3IHIuY3VzdG9tQ2xhc3ModGhpcy5nYW1lLHRoaXMuX3Jlc3VsdHNbdV0ud29ybGRYLHRoaXMuX3Jlc3VsdHNbdV0ud29ybGRZLHMpO2Zvcih2YXIgcCBpbiByKWxbcF09cltwXTtvLmFkZChsKSxjKyt9aWYoMT09PWUubGVuZ3RoKWZvcih1PTA7dTx0Lmxlbmd0aDt1KyspdGhpcy5yZXBsYWNlKHRbdV0sZVswXSwwLDAsYSxoLG4pO2Vsc2UgaWYoZS5sZW5ndGg+MSlmb3IodT0wO3U8dC5sZW5ndGg7dSsrKXRoaXMucmVwbGFjZSh0W3VdLGVbdV0sMCwwLGEsaCxuKTtyZXR1cm4gY30sY3JlYXRlTGF5ZXI6ZnVuY3Rpb24odCxlLHMsbil7dm9pZCAwPT09ZSYmKGU9dGhpcy5nYW1lLndpZHRoKSx2b2lkIDA9PT1zJiYocz10aGlzLmdhbWUuaGVpZ2h0KSx2b2lkIDA9PT1uJiYobj10aGlzLmdhbWUud29ybGQpO3ZhciBvPXQ7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHQmJihvPXRoaXMuZ2V0TGF5ZXJJbmRleCh0KSksIShudWxsPT09b3x8bz50aGlzLmxheWVycy5sZW5ndGgpKXt2b2lkIDA9PT1lfHxlPD0wP2U9TWF0aC5taW4odGhpcy5nYW1lLndpZHRoLHRoaXMubGF5ZXJzW29dLndpZHRoSW5QaXhlbHMpOmU+dGhpcy5nYW1lLndpZHRoJiYoZT10aGlzLmdhbWUud2lkdGgpLHZvaWQgMD09PXN8fHM8PTA/cz1NYXRoLm1pbih0aGlzLmdhbWUuaGVpZ2h0LHRoaXMubGF5ZXJzW29dLmhlaWdodEluUGl4ZWxzKTpzPnRoaXMuZ2FtZS5oZWlnaHQmJihzPXRoaXMuZ2FtZS5oZWlnaHQpLHRoaXMuZW5hYmxlRGVidWcmJihjb25zb2xlLmdyb3VwKFwiVGlsZW1hcC5jcmVhdGVMYXllclwiKSxjb25zb2xlLmxvZyhcIk5hbWU6XCIsdGhpcy5sYXllcnNbb10ubmFtZSksY29uc29sZS5sb2coXCJTaXplOlwiLGUsXCJ4XCIscyksY29uc29sZS5sb2coXCJUaWxlc2V0OlwiLHRoaXMudGlsZXNldHNbMF0ubmFtZSxcImluZGV4OlwiLG8pKTt2YXIgcj1uLmFkZChuZXcgaS5UaWxlbWFwTGF5ZXIodGhpcy5nYW1lLHRoaXMsbyxlLHMpKTtyZXR1cm4gdGhpcy5lbmFibGVEZWJ1ZyYmY29uc29sZS5ncm91cEVuZCgpLHJ9Y29uc29sZS53YXJuKCdUaWxlbWFwLmNyZWF0ZUxheWVyOiBJbnZhbGlkIGxheWVyIElEIGdpdmVuOiBcIicrdCsnXCInKX0sY3JlYXRlQmxhbmtMYXllcjpmdW5jdGlvbih0LGUscyxuLG8scil7dm9pZCAwPT09ciYmKHI9dGhpcy5nYW1lLndvcmxkKTt7aWYobnVsbD09PXRoaXMuZ2V0TGF5ZXJJbmRleCh0KSl7Zm9yKHZhciBhLGg9e25hbWU6dCx4OjAseTowLHdpZHRoOmUsaGVpZ2h0OnMsd2lkdGhJblBpeGVsczplKm4saGVpZ2h0SW5QaXhlbHM6cypvLGFscGhhOjEsdmlzaWJsZTohMCxwcm9wZXJ0aWVzOnt9LGluZGV4ZXM6W10sY2FsbGJhY2tzOltdLGJvZGllczpbXSxkYXRhOm51bGx9LGw9W10sYz0wO2M8cztjKyspe2E9W107Zm9yKHZhciB1PTA7dTxlO3UrKylhLnB1c2gobmV3IGkuVGlsZShoLC0xLHUsYyxuLG8pKTtsLnB1c2goYSl9aC5kYXRhPWwsdGhpcy5sYXllcnMucHVzaChoKSx0aGlzLmN1cnJlbnRMYXllcj10aGlzLmxheWVycy5sZW5ndGgtMTt2YXIgZD1oLndpZHRoSW5QaXhlbHMscD1oLmhlaWdodEluUGl4ZWxzO3JldHVybiBkPnRoaXMuZ2FtZS53aWR0aCYmKGQ9dGhpcy5nYW1lLndpZHRoKSxwPnRoaXMuZ2FtZS5oZWlnaHQmJihwPXRoaXMuZ2FtZS5oZWlnaHQpLChsPW5ldyBpLlRpbGVtYXBMYXllcih0aGlzLmdhbWUsdGhpcyx0aGlzLmxheWVycy5sZW5ndGgtMSxkLHApKS5uYW1lPXQsci5hZGQobCl9Y29uc29sZS53YXJuKFwiVGlsZW1hcC5jcmVhdGVCbGFua0xheWVyOiBMYXllciB3aXRoIG1hdGNoaW5nIG5hbWUgYWxyZWFkeSBleGlzdHM6IFwiK3QpfX0sZ2V0SW5kZXg6ZnVuY3Rpb24odCxlKXtmb3IodmFyIGk9MDtpPHQubGVuZ3RoO2krKylpZih0W2ldLm5hbWU9PT1lKXJldHVybiBpO3JldHVybiBudWxsfSxnZXRMYXllckluZGV4OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmdldEluZGV4KHRoaXMubGF5ZXJzLHQpfSxnZXRUaWxlc2V0SW5kZXg6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZ2V0SW5kZXgodGhpcy50aWxlc2V0cyx0KX0sZ2V0SW1hZ2VJbmRleDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5nZXRJbmRleCh0aGlzLmltYWdlcyx0KX0sc2V0VGlsZUluZGV4Q2FsbGJhY2s6ZnVuY3Rpb24odCxlLGkscyl7aWYocz10aGlzLmdldExheWVyKHMpLFwibnVtYmVyXCI9PXR5cGVvZiB0KW51bGw9PT1lP2RlbGV0ZSB0aGlzLmxheWVyc1tzXS5jYWxsYmFja3NbdF06dGhpcy5sYXllcnNbc10uY2FsbGJhY2tzW3RdPXtjYWxsYmFjazplLGNhbGxiYWNrQ29udGV4dDppfTtlbHNlIGZvcih2YXIgbj0wLG89dC5sZW5ndGg7bjxvO24rKyludWxsPT09ZT9kZWxldGUgdGhpcy5sYXllcnNbc10uY2FsbGJhY2tzW3Rbbl1dOnRoaXMubGF5ZXJzW3NdLmNhbGxiYWNrc1t0W25dXT17Y2FsbGJhY2s6ZSxjYWxsYmFja0NvbnRleHQ6aX19LHNldFRpbGVMb2NhdGlvbkNhbGxiYWNrOmZ1bmN0aW9uKHQsZSxpLHMsbixvLHIpe2lmKHI9dGhpcy5nZXRMYXllcihyKSx0aGlzLmNvcHkodCxlLGkscyxyKSwhKHRoaXMuX3Jlc3VsdHMubGVuZ3RoPDIpKWZvcih2YXIgYT0xO2E8dGhpcy5fcmVzdWx0cy5sZW5ndGg7YSsrKXRoaXMuX3Jlc3VsdHNbYV0uc2V0Q29sbGlzaW9uQ2FsbGJhY2sobixvKX0sc2V0Q29sbGlzaW9uOmZ1bmN0aW9uKHQsZSxpLHMpe2lmKHZvaWQgMD09PWUmJihlPSEwKSx2b2lkIDA9PT1zJiYocz0hMCksaT10aGlzLmdldExheWVyKGkpLFwibnVtYmVyXCI9PXR5cGVvZiB0KXJldHVybiB0aGlzLnNldENvbGxpc2lvbkJ5SW5kZXgodCxlLGksITApO2lmKEFycmF5LmlzQXJyYXkodCkpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXRoaXMuc2V0Q29sbGlzaW9uQnlJbmRleCh0W25dLGUsaSwhMSk7cyYmdGhpcy5jYWxjdWxhdGVGYWNlcyhpKX19LHNldENvbGxpc2lvbkJldHdlZW46ZnVuY3Rpb24odCxlLGkscyxuKXtpZih2b2lkIDA9PT1pJiYoaT0hMCksdm9pZCAwPT09biYmKG49ITApLHM9dGhpcy5nZXRMYXllcihzKSwhKHQ+ZSkpe2Zvcih2YXIgbz10O288PWU7bysrKXRoaXMuc2V0Q29sbGlzaW9uQnlJbmRleChvLGkscywhMSk7biYmdGhpcy5jYWxjdWxhdGVGYWNlcyhzKX19LHNldENvbGxpc2lvbkJ5RXhjbHVzaW9uOmZ1bmN0aW9uKHQsZSxpLHMpe3ZvaWQgMD09PWUmJihlPSEwKSx2b2lkIDA9PT1zJiYocz0hMCksaT10aGlzLmdldExheWVyKGkpO2Zvcih2YXIgbj0wLG89dGhpcy50aWxlcy5sZW5ndGg7bjxvO24rKyktMT09PXQuaW5kZXhPZihuKSYmdGhpcy5zZXRDb2xsaXNpb25CeUluZGV4KG4sZSxpLCExKTtzJiZ0aGlzLmNhbGN1bGF0ZUZhY2VzKGkpfSxzZXRDb2xsaXNpb25CeUluZGV4OmZ1bmN0aW9uKHQsZSxpLHMpe2lmKHZvaWQgMD09PWUmJihlPSEwKSx2b2lkIDA9PT1pJiYoaT10aGlzLmN1cnJlbnRMYXllciksdm9pZCAwPT09cyYmKHM9ITApLGUpdGhpcy5jb2xsaWRlSW5kZXhlcy5wdXNoKHQpO2Vsc2V7dmFyIG49dGhpcy5jb2xsaWRlSW5kZXhlcy5pbmRleE9mKHQpO24+LTEmJnRoaXMuY29sbGlkZUluZGV4ZXMuc3BsaWNlKG4sMSl9Zm9yKHZhciBvPTA7bzx0aGlzLmxheWVyc1tpXS5oZWlnaHQ7bysrKWZvcih2YXIgcj0wO3I8dGhpcy5sYXllcnNbaV0ud2lkdGg7cisrKXt2YXIgYT10aGlzLmxheWVyc1tpXS5kYXRhW29dW3JdO2EmJmEuaW5kZXg9PT10JiYoZT9hLnNldENvbGxpc2lvbighMCwhMCwhMCwhMCk6YS5yZXNldENvbGxpc2lvbigpLGEuZmFjZVRvcD1lLGEuZmFjZUJvdHRvbT1lLGEuZmFjZUxlZnQ9ZSxhLmZhY2VSaWdodD1lKX1yZXR1cm4gcyYmdGhpcy5jYWxjdWxhdGVGYWNlcyhpKSxpfSxnZXRMYXllcjpmdW5jdGlvbih0KXtyZXR1cm4gdm9pZCAwPT09dD90PXRoaXMuY3VycmVudExheWVyOlwic3RyaW5nXCI9PXR5cGVvZiB0P3Q9dGhpcy5nZXRMYXllckluZGV4KHQpOnQgaW5zdGFuY2VvZiBpLlRpbGVtYXBMYXllciYmKHQ9dC5pbmRleCksdH0sc2V0UHJldmVudFJlY2FsY3VsYXRlOmZ1bmN0aW9uKHQpe2lmKCEwPT09dCYmITAhPT10aGlzLnByZXZlbnRpbmdSZWNhbGN1bGF0ZSYmKHRoaXMucHJldmVudGluZ1JlY2FsY3VsYXRlPSEwLHRoaXMubmVlZFRvUmVjYWxjdWxhdGU9e30pLCExPT09dCYmITA9PT10aGlzLnByZXZlbnRpbmdSZWNhbGN1bGF0ZSl7dGhpcy5wcmV2ZW50aW5nUmVjYWxjdWxhdGU9ITE7Zm9yKHZhciBlIGluIHRoaXMubmVlZFRvUmVjYWxjdWxhdGUpdGhpcy5jYWxjdWxhdGVGYWNlcyhlKTt0aGlzLm5lZWRUb1JlY2FsY3VsYXRlPSExfX0sY2FsY3VsYXRlRmFjZXM6ZnVuY3Rpb24odCl7aWYodGhpcy5wcmV2ZW50aW5nUmVjYWxjdWxhdGUpdGhpcy5uZWVkVG9SZWNhbGN1bGF0ZVt0XT0hMDtlbHNlIGZvcih2YXIgZT1udWxsLGk9bnVsbCxzPW51bGwsbj1udWxsLG89MCxyPXRoaXMubGF5ZXJzW3RdLmhlaWdodDtvPHI7bysrKWZvcih2YXIgYT0wLGg9dGhpcy5sYXllcnNbdF0ud2lkdGg7YTxoO2ErKyl7dmFyIGw9dGhpcy5sYXllcnNbdF0uZGF0YVtvXVthXTtsJiYoZT10aGlzLmdldFRpbGVBYm92ZSh0LGEsbyksaT10aGlzLmdldFRpbGVCZWxvdyh0LGEsbykscz10aGlzLmdldFRpbGVMZWZ0KHQsYSxvKSxuPXRoaXMuZ2V0VGlsZVJpZ2h0KHQsYSxvKSxsLmNvbGxpZGVzJiYobC5mYWNlVG9wPSEwLGwuZmFjZUJvdHRvbT0hMCxsLmZhY2VMZWZ0PSEwLGwuZmFjZVJpZ2h0PSEwKSxlJiZlLmNvbGxpZGVzJiYobC5mYWNlVG9wPSExKSxpJiZpLmNvbGxpZGVzJiYobC5mYWNlQm90dG9tPSExKSxzJiZzLmNvbGxpZGVzJiYobC5mYWNlTGVmdD0hMSksbiYmbi5jb2xsaWRlcyYmKGwuZmFjZVJpZ2h0PSExKSl9fSxnZXRUaWxlQWJvdmU6ZnVuY3Rpb24odCxlLGkpe3JldHVybiBpPjA/dGhpcy5sYXllcnNbdF0uZGF0YVtpLTFdW2VdOm51bGx9LGdldFRpbGVCZWxvdzpmdW5jdGlvbih0LGUsaSl7cmV0dXJuIGk8dGhpcy5sYXllcnNbdF0uaGVpZ2h0LTE/dGhpcy5sYXllcnNbdF0uZGF0YVtpKzFdW2VdOm51bGx9LGdldFRpbGVMZWZ0OmZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gZT4wP3RoaXMubGF5ZXJzW3RdLmRhdGFbaV1bZS0xXTpudWxsfSxnZXRUaWxlUmlnaHQ6ZnVuY3Rpb24odCxlLGkpe3JldHVybiBlPHRoaXMubGF5ZXJzW3RdLndpZHRoLTE/dGhpcy5sYXllcnNbdF0uZGF0YVtpXVtlKzFdOm51bGx9LHNldExheWVyOmZ1bmN0aW9uKHQpe3Q9dGhpcy5nZXRMYXllcih0KSx0aGlzLmxheWVyc1t0XSYmKHRoaXMuY3VycmVudExheWVyPXQpfSxoYXNUaWxlOmZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gaT10aGlzLmdldExheWVyKGkpLHZvaWQgMCE9PXRoaXMubGF5ZXJzW2ldLmRhdGFbZV0mJnZvaWQgMCE9PXRoaXMubGF5ZXJzW2ldLmRhdGFbZV1bdF0mJnRoaXMubGF5ZXJzW2ldLmRhdGFbZV1bdF0uaW5kZXg+LTF9LHJlbW92ZVRpbGU6ZnVuY3Rpb24odCxlLHMpe2lmKHM9dGhpcy5nZXRMYXllcihzKSx0Pj0wJiZ0PHRoaXMubGF5ZXJzW3NdLndpZHRoJiZlPj0wJiZlPHRoaXMubGF5ZXJzW3NdLmhlaWdodCYmdGhpcy5oYXNUaWxlKHQsZSxzKSl7dmFyIG49dGhpcy5sYXllcnNbc10uZGF0YVtlXVt0XTtyZXR1cm4gdGhpcy5sYXllcnNbc10uZGF0YVtlXVt0XT1uZXcgaS5UaWxlKHRoaXMubGF5ZXJzW3NdLC0xLHQsZSx0aGlzLnRpbGVXaWR0aCx0aGlzLnRpbGVIZWlnaHQpLHRoaXMubGF5ZXJzW3NdLmRpcnR5PSEwLHRoaXMuY2FsY3VsYXRlRmFjZXMocyksbn19LHJlbW92ZVRpbGVXb3JsZFhZOmZ1bmN0aW9uKHQsZSxpLHMsbil7cmV0dXJuIG49dGhpcy5nZXRMYXllcihuKSx0PXRoaXMuZ2FtZS5tYXRoLnNuYXBUb0Zsb29yKHQsaSkvaSxlPXRoaXMuZ2FtZS5tYXRoLnNuYXBUb0Zsb29yKGUscykvcyx0aGlzLnJlbW92ZVRpbGUodCxlLG4pfSxwdXRUaWxlOmZ1bmN0aW9uKHQsZSxzLG4pe2lmKG51bGw9PT10KXJldHVybiB0aGlzLnJlbW92ZVRpbGUoZSxzLG4pO2lmKG49dGhpcy5nZXRMYXllcihuKSxlPj0wJiZlPHRoaXMubGF5ZXJzW25dLndpZHRoJiZzPj0wJiZzPHRoaXMubGF5ZXJzW25dLmhlaWdodCl7dmFyIG87cmV0dXJuIHQgaW5zdGFuY2VvZiBpLlRpbGU/KG89dC5pbmRleCx0aGlzLmhhc1RpbGUoZSxzLG4pP3RoaXMubGF5ZXJzW25dLmRhdGFbc11bZV0uY29weSh0KTp0aGlzLmxheWVyc1tuXS5kYXRhW3NdW2VdPW5ldyBpLlRpbGUobixvLGUscyx0LndpZHRoLHQuaGVpZ2h0KSk6KG89dCx0aGlzLmhhc1RpbGUoZSxzLG4pP3RoaXMubGF5ZXJzW25dLmRhdGFbc11bZV0uaW5kZXg9bzp0aGlzLmxheWVyc1tuXS5kYXRhW3NdW2VdPW5ldyBpLlRpbGUodGhpcy5sYXllcnNbbl0sbyxlLHMsdGhpcy50aWxlV2lkdGgsdGhpcy50aWxlSGVpZ2h0KSksdGhpcy5jb2xsaWRlSW5kZXhlcy5pbmRleE9mKG8pPi0xP3RoaXMubGF5ZXJzW25dLmRhdGFbc11bZV0uc2V0Q29sbGlzaW9uKCEwLCEwLCEwLCEwKTp0aGlzLmxheWVyc1tuXS5kYXRhW3NdW2VdLnJlc2V0Q29sbGlzaW9uKCksdGhpcy5sYXllcnNbbl0uZGlydHk9ITAsdGhpcy5jYWxjdWxhdGVGYWNlcyhuKSx0aGlzLmxheWVyc1tuXS5kYXRhW3NdW2VdfXJldHVybiBudWxsfSxwdXRUaWxlV29ybGRYWTpmdW5jdGlvbih0LGUsaSxzLG4sbyl7cmV0dXJuIG89dGhpcy5nZXRMYXllcihvKSxlPXRoaXMuZ2FtZS5tYXRoLnNuYXBUb0Zsb29yKGUscykvcyxpPXRoaXMuZ2FtZS5tYXRoLnNuYXBUb0Zsb29yKGksbikvbix0aGlzLnB1dFRpbGUodCxlLGksbyl9LHNlYXJjaFRpbGVJbmRleDpmdW5jdGlvbih0LGUsaSxzKXt2b2lkIDA9PT1lJiYoZT0wKSx2b2lkIDA9PT1pJiYoaT0hMSkscz10aGlzLmdldExheWVyKHMpO3ZhciBuPTA7aWYoaSl7Zm9yKG89dGhpcy5sYXllcnNbc10uaGVpZ2h0LTE7bz49MDtvLS0pZm9yKHI9dGhpcy5sYXllcnNbc10ud2lkdGgtMTtyPj0wO3ItLSlpZih0aGlzLmxheWVyc1tzXS5kYXRhW29dW3JdLmluZGV4PT09dCl7aWYobj09PWUpcmV0dXJuIHRoaXMubGF5ZXJzW3NdLmRhdGFbb11bcl07bisrfX1lbHNlIGZvcih2YXIgbz0wO288dGhpcy5sYXllcnNbc10uaGVpZ2h0O28rKylmb3IodmFyIHI9MDtyPHRoaXMubGF5ZXJzW3NdLndpZHRoO3IrKylpZih0aGlzLmxheWVyc1tzXS5kYXRhW29dW3JdLmluZGV4PT09dCl7aWYobj09PWUpcmV0dXJuIHRoaXMubGF5ZXJzW3NdLmRhdGFbb11bcl07bisrfXJldHVybiBudWxsfSxnZXRUaWxlOmZ1bmN0aW9uKHQsZSxpLHMpe3JldHVybiB2b2lkIDA9PT1zJiYocz0hMSksaT10aGlzLmdldExheWVyKGkpLHQ+PTAmJnQ8dGhpcy5sYXllcnNbaV0ud2lkdGgmJmU+PTAmJmU8dGhpcy5sYXllcnNbaV0uaGVpZ2h0Py0xPT09dGhpcy5sYXllcnNbaV0uZGF0YVtlXVt0XS5pbmRleD9zP3RoaXMubGF5ZXJzW2ldLmRhdGFbZV1bdF06bnVsbDp0aGlzLmxheWVyc1tpXS5kYXRhW2VdW3RdOm51bGx9LGdldFRpbGVXb3JsZFhZOmZ1bmN0aW9uKHQsZSxpLHMsbixvKXtyZXR1cm4gdm9pZCAwPT09aSYmKGk9dGhpcy50aWxlV2lkdGgpLHZvaWQgMD09PXMmJihzPXRoaXMudGlsZUhlaWdodCksbj10aGlzLmdldExheWVyKG4pLHQ9dGhpcy5nYW1lLm1hdGguc25hcFRvRmxvb3IodCxpKS9pLGU9dGhpcy5nYW1lLm1hdGguc25hcFRvRmxvb3IoZSxzKS9zLHRoaXMuZ2V0VGlsZSh0LGUsbixvKX0sY29weTpmdW5jdGlvbih0LGUsaSxzLG4pe249dGhpcy5nZXRMYXllcihuKTt7aWYodGhpcy5sYXllcnNbbl0pe3ZvaWQgMD09PXQmJih0PTApLHZvaWQgMD09PWUmJihlPTApLHZvaWQgMD09PWkmJihpPXRoaXMubGF5ZXJzW25dLndpZHRoKSx2b2lkIDA9PT1zJiYocz10aGlzLmxheWVyc1tuXS5oZWlnaHQpLHQ8MCYmKHQ9MCksZTwwJiYoZT0wKSxpPnRoaXMubGF5ZXJzW25dLndpZHRoJiYoaT10aGlzLmxheWVyc1tuXS53aWR0aCkscz50aGlzLmxheWVyc1tuXS5oZWlnaHQmJihzPXRoaXMubGF5ZXJzW25dLmhlaWdodCksdGhpcy5fcmVzdWx0cy5sZW5ndGg9MCx0aGlzLl9yZXN1bHRzLnB1c2goe3g6dCx5OmUsd2lkdGg6aSxoZWlnaHQ6cyxsYXllcjpufSk7Zm9yKHZhciBvPWU7bzxlK3M7bysrKWZvcih2YXIgcj10O3I8dCtpO3IrKyl0aGlzLl9yZXN1bHRzLnB1c2godGhpcy5sYXllcnNbbl0uZGF0YVtvXVtyXSk7cmV0dXJuIHRoaXMuX3Jlc3VsdHN9dGhpcy5fcmVzdWx0cy5sZW5ndGg9MH19LHBhc3RlOmZ1bmN0aW9uKHQsZSxpLHMpe2lmKHZvaWQgMD09PXQmJih0PTApLHZvaWQgMD09PWUmJihlPTApLHM9dGhpcy5nZXRMYXllcihzKSxpJiYhKGkubGVuZ3RoPDIpKXtmb3IodmFyIG49dC1pWzFdLngsbz1lLWlbMV0ueSxyPTE7cjxpLmxlbmd0aDtyKyspdGhpcy5sYXllcnNbc10uZGF0YVtvK2lbcl0ueV1bbitpW3JdLnhdLmNvcHkoaVtyXSk7dGhpcy5sYXllcnNbc10uZGlydHk9ITAsdGhpcy5jYWxjdWxhdGVGYWNlcyhzKX19LHN3YXA6ZnVuY3Rpb24odCxlLGkscyxuLG8scil7cj10aGlzLmdldExheWVyKHIpLHRoaXMuY29weShpLHMsbixvLHIpLHRoaXMuX3Jlc3VsdHMubGVuZ3RoPDJ8fCh0aGlzLl90ZW1wQT10LHRoaXMuX3RlbXBCPWUsdGhpcy5fcmVzdWx0cy5mb3JFYWNoKHRoaXMuc3dhcEhhbmRsZXIsdGhpcyksdGhpcy5wYXN0ZShpLHMsdGhpcy5fcmVzdWx0cyxyKSl9LHN3YXBIYW5kbGVyOmZ1bmN0aW9uKHQpe3QuaW5kZXg9PT10aGlzLl90ZW1wQT90LmluZGV4PXRoaXMuX3RlbXBCOnQuaW5kZXg9PT10aGlzLl90ZW1wQiYmKHQuaW5kZXg9dGhpcy5fdGVtcEEpfSxmb3JFYWNoOmZ1bmN0aW9uKHQsZSxpLHMsbixvLHIpe3I9dGhpcy5nZXRMYXllcihyKSx0aGlzLmNvcHkoaSxzLG4sbyxyKSx0aGlzLl9yZXN1bHRzLmxlbmd0aDwyfHwodGhpcy5fcmVzdWx0cy5mb3JFYWNoKHQsZSksdGhpcy5wYXN0ZShpLHMsdGhpcy5fcmVzdWx0cyxyKSl9LHJlcGxhY2U6ZnVuY3Rpb24odCxlLGkscyxuLG8scil7aWYocj10aGlzLmdldExheWVyKHIpLHRoaXMuY29weShpLHMsbixvLHIpLCEodGhpcy5fcmVzdWx0cy5sZW5ndGg8Mikpe2Zvcih2YXIgYT0xO2E8dGhpcy5fcmVzdWx0cy5sZW5ndGg7YSsrKXRoaXMuX3Jlc3VsdHNbYV0uaW5kZXg9PT10JiYodGhpcy5fcmVzdWx0c1thXS5pbmRleD1lKTt0aGlzLnBhc3RlKGkscyx0aGlzLl9yZXN1bHRzLHIpfX0scmFuZG9tOmZ1bmN0aW9uKHQsZSxpLHMsbil7aWYobj10aGlzLmdldExheWVyKG4pLHRoaXMuY29weSh0LGUsaSxzLG4pLCEodGhpcy5fcmVzdWx0cy5sZW5ndGg8Mikpe2Zvcih2YXIgbz1bXSxyPTE7cjx0aGlzLl9yZXN1bHRzLmxlbmd0aDtyKyspaWYodGhpcy5fcmVzdWx0c1tyXS5pbmRleCl7dmFyIGE9dGhpcy5fcmVzdWx0c1tyXS5pbmRleDstMT09PW8uaW5kZXhPZihhKSYmby5wdXNoKGEpfWZvcih2YXIgaD0xO2g8dGhpcy5fcmVzdWx0cy5sZW5ndGg7aCsrKXRoaXMuX3Jlc3VsdHNbaF0uaW5kZXg9dGhpcy5nYW1lLnJuZC5waWNrKG8pO3RoaXMucGFzdGUodCxlLHRoaXMuX3Jlc3VsdHMsbil9fSxzaHVmZmxlOmZ1bmN0aW9uKHQsZSxzLG4sbyl7aWYobz10aGlzLmdldExheWVyKG8pLHRoaXMuY29weSh0LGUscyxuLG8pLCEodGhpcy5fcmVzdWx0cy5sZW5ndGg8Mikpe2Zvcih2YXIgcj1bXSxhPTE7YTx0aGlzLl9yZXN1bHRzLmxlbmd0aDthKyspdGhpcy5fcmVzdWx0c1thXS5pbmRleCYmci5wdXNoKHRoaXMuX3Jlc3VsdHNbYV0uaW5kZXgpO2kuQXJyYXlVdGlscy5zaHVmZmxlKHIpO2Zvcih2YXIgaD0xO2g8dGhpcy5fcmVzdWx0cy5sZW5ndGg7aCsrKXRoaXMuX3Jlc3VsdHNbaF0uaW5kZXg9cltoLTFdO3RoaXMucGFzdGUodCxlLHRoaXMuX3Jlc3VsdHMsbyl9fSxmaWxsOmZ1bmN0aW9uKHQsZSxpLHMsbixvKXtpZihvPXRoaXMuZ2V0TGF5ZXIobyksdGhpcy5jb3B5KGUsaSxzLG4sbyksISh0aGlzLl9yZXN1bHRzLmxlbmd0aDwyKSl7Zm9yKHZhciByPTE7cjx0aGlzLl9yZXN1bHRzLmxlbmd0aDtyKyspdGhpcy5fcmVzdWx0c1tyXS5pbmRleD10O3RoaXMucGFzdGUoZSxpLHRoaXMuX3Jlc3VsdHMsbyl9fSxyZW1vdmVBbGxMYXllcnM6ZnVuY3Rpb24oKXt0aGlzLmxheWVycy5sZW5ndGg9MCx0aGlzLmN1cnJlbnRMYXllcj0wfSxkdW1wOmZ1bmN0aW9uKCl7Zm9yKHZhciB0PVwiXCIsZT1bXCJcIl0saT0wO2k8dGhpcy5sYXllcnNbdGhpcy5jdXJyZW50TGF5ZXJdLmhlaWdodDtpKyspe2Zvcih2YXIgcz0wO3M8dGhpcy5sYXllcnNbdGhpcy5jdXJyZW50TGF5ZXJdLndpZHRoO3MrKyl0Kz1cIiVjICBcIix0aGlzLmxheWVyc1t0aGlzLmN1cnJlbnRMYXllcl0uZGF0YVtpXVtzXT4xP3RoaXMuZGVidWdNYXBbdGhpcy5sYXllcnNbdGhpcy5jdXJyZW50TGF5ZXJdLmRhdGFbaV1bc11dP2UucHVzaChcImJhY2tncm91bmQ6IFwiK3RoaXMuZGVidWdNYXBbdGhpcy5sYXllcnNbdGhpcy5jdXJyZW50TGF5ZXJdLmRhdGFbaV1bc11dKTplLnB1c2goXCJiYWNrZ3JvdW5kOiAjZmZmZmZmXCIpOmUucHVzaChcImJhY2tncm91bmQ6IHJnYigwLCAwLCAwKVwiKTt0Kz1cIlxcblwifWVbMF09dCxjb25zb2xlLmxvZy5hcHBseShjb25zb2xlLGUpfSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5yZW1vdmVBbGxMYXllcnMoKSx0aGlzLmRhdGE9W10sdGhpcy5nYW1lPW51bGx9fSxpLlRpbGVtYXAucHJvdG90eXBlLmNvbnN0cnVjdG9yPWkuVGlsZW1hcCxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5UaWxlbWFwLnByb3RvdHlwZSxcImxheWVyXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmxheWVyc1t0aGlzLmN1cnJlbnRMYXllcl19LHNldDpmdW5jdGlvbih0KXt0IT09dGhpcy5jdXJyZW50TGF5ZXImJnRoaXMuc2V0TGF5ZXIodCl9fSksaS5UaWxlbWFwTGF5ZXI9ZnVuY3Rpb24odCxlLHMsbixvKXtufD0wLG98PTAsaS5TcHJpdGUuY2FsbCh0aGlzLHQsMCwwKSx0aGlzLm1hcD1lLHRoaXMuaW5kZXg9cyx0aGlzLmxheWVyPWUubGF5ZXJzW3NdLHRoaXMuY2FudmFzPWkuQ2FudmFzUG9vbC5jcmVhdGUodGhpcyxuLG8pLHRoaXMuY29udGV4dD10aGlzLmNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIiksdGhpcy5zZXRUZXh0dXJlKG5ldyBQSVhJLlRleHR1cmUobmV3IFBJWEkuQmFzZVRleHR1cmUodGhpcy5jYW52YXMsbnVsbCx0aGlzLmdhbWUucmVzb2x1dGlvbikpKSx0aGlzLnR5cGU9aS5USUxFTUFQTEFZRVIsdGhpcy5waHlzaWNzVHlwZT1pLlRJTEVNQVBMQVlFUix0aGlzLnJlbmRlclNldHRpbmdzPXtlbmFibGVTY3JvbGxEZWx0YTohMCxvdmVyZHJhd1JhdGlvOi4yLGNvcHlDYW52YXM6bnVsbH0sdGhpcy5kZWJ1Zz0hMSx0aGlzLmV4aXN0cz0hMCx0aGlzLmRlYnVnU2V0dGluZ3M9e21pc3NpbmdJbWFnZUZpbGw6XCJyZ2IoMjU1LDI1NSwyNTUpXCIsZGVidWdnZWRUaWxlT3ZlcmZpbGw6XCJyZ2JhKDAsMjU1LDAsMC40KVwiLGZvcmNlRnVsbFJlZHJhdzohMCxkZWJ1Z0FscGhhOi41LGZhY2luZ0VkZ2VTdHJva2U6XCJyZ2JhKDAsMjU1LDAsMSlcIixjb2xsaWRpbmdUaWxlT3ZlcmZpbGw6XCJyZ2JhKDAsMjU1LDAsMC4yKVwifSx0aGlzLnNjcm9sbEZhY3Rvclg9MSx0aGlzLnNjcm9sbEZhY3Rvclk9MSx0aGlzLmRpcnR5PSEwLHRoaXMucmF5U3RlcFJhdGU9NCx0aGlzLl93cmFwPSExLHRoaXMuX21jPXtzY3JvbGxYOjAsc2Nyb2xsWTowLHJlbmRlcldpZHRoOjAscmVuZGVySGVpZ2h0OjAsdGlsZVdpZHRoOmUudGlsZVdpZHRoLHRpbGVIZWlnaHQ6ZS50aWxlSGVpZ2h0LGN3OmUudGlsZVdpZHRoLGNoOmUudGlsZUhlaWdodCx0aWxlc2V0czpbXX0sdGhpcy5fc2Nyb2xsWD0wLHRoaXMuX3Njcm9sbFk9MCx0aGlzLnRpbGVPZmZzZXQ9bmV3IGkuUG9pbnQodGhpcy5sYXllci5vZmZzZXRYfHwwLHRoaXMubGF5ZXIub2Zmc2V0WXx8MCksdGhpcy5fcmVzdWx0cz1bXSx0LmRldmljZS5jYW52YXNCaXRCbHRTaGlmdHx8KHRoaXMucmVuZGVyU2V0dGluZ3MuY29weUNhbnZhcz1pLlRpbGVtYXBMYXllci5lbnN1cmVTaGFyZWRDb3B5Q2FudmFzKCkpLHRoaXMuZml4ZWRUb0NhbWVyYT0hMH0saS5UaWxlbWFwTGF5ZXIucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoaS5TcHJpdGUucHJvdG90eXBlKSxpLlRpbGVtYXBMYXllci5wcm90b3R5cGUuY29uc3RydWN0b3I9aS5UaWxlbWFwTGF5ZXIsaS5UaWxlbWFwTGF5ZXIucHJvdG90eXBlLnByZVVwZGF0ZUNvcmU9aS5Db21wb25lbnQuQ29yZS5wcmVVcGRhdGUsaS5UaWxlbWFwTGF5ZXIuc2hhcmVkQ29weUNhbnZhcz1udWxsLGkuVGlsZW1hcExheWVyLmVuc3VyZVNoYXJlZENvcHlDYW52YXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zaGFyZWRDb3B5Q2FudmFzfHwodGhpcy5zaGFyZWRDb3B5Q2FudmFzPWkuQ2FudmFzUG9vbC5jcmVhdGUodGhpcywyLDIpKSx0aGlzLnNoYXJlZENvcHlDYW52YXN9LGkuVGlsZW1hcExheWVyLnByb3RvdHlwZS5wcmVVcGRhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wcmVVcGRhdGVDb3JlKCl9LGkuVGlsZW1hcExheWVyLnByb3RvdHlwZS5wb3N0VXBkYXRlPWZ1bmN0aW9uKCl7dGhpcy5maXhlZFRvQ2FtZXJhJiYodGhpcy5wb3NpdGlvbi54PSh0aGlzLmdhbWUuY2FtZXJhLnZpZXcueCt0aGlzLmNhbWVyYU9mZnNldC54KS90aGlzLmdhbWUuY2FtZXJhLnNjYWxlLngsdGhpcy5wb3NpdGlvbi55PSh0aGlzLmdhbWUuY2FtZXJhLnZpZXcueSt0aGlzLmNhbWVyYU9mZnNldC55KS90aGlzLmdhbWUuY2FtZXJhLnNjYWxlLnkpLHRoaXMuX3Njcm9sbFg9KHRoaXMuZ2FtZS5jYW1lcmEudmlldy54LXRoaXMudGlsZU9mZnNldC54KSp0aGlzLnNjcm9sbEZhY3RvclgvdGhpcy5zY2FsZS54LHRoaXMuX3Njcm9sbFk9KHRoaXMuZ2FtZS5jYW1lcmEudmlldy55LXRoaXMudGlsZU9mZnNldC55KSp0aGlzLnNjcm9sbEZhY3RvclkvdGhpcy5zY2FsZS55fSxpLlRpbGVtYXBMYXllci5wcm90b3R5cGUuX3JlbmRlckNhbnZhcz1mdW5jdGlvbih0KXt0aGlzLmZpeGVkVG9DYW1lcmEmJih0aGlzLnBvc2l0aW9uLng9KHRoaXMuZ2FtZS5jYW1lcmEudmlldy54K3RoaXMuY2FtZXJhT2Zmc2V0LngpL3RoaXMuZ2FtZS5jYW1lcmEuc2NhbGUueCx0aGlzLnBvc2l0aW9uLnk9KHRoaXMuZ2FtZS5jYW1lcmEudmlldy55K3RoaXMuY2FtZXJhT2Zmc2V0LnkpL3RoaXMuZ2FtZS5jYW1lcmEuc2NhbGUueSksdGhpcy5fc2Nyb2xsWD0odGhpcy5nYW1lLmNhbWVyYS52aWV3LngtdGhpcy50aWxlT2Zmc2V0LngpKnRoaXMuc2Nyb2xsRmFjdG9yWC90aGlzLnNjYWxlLngsdGhpcy5fc2Nyb2xsWT0odGhpcy5nYW1lLmNhbWVyYS52aWV3LnktdGhpcy50aWxlT2Zmc2V0LnkpKnRoaXMuc2Nyb2xsRmFjdG9yWS90aGlzLnNjYWxlLnksdGhpcy5yZW5kZXIoKSxQSVhJLlNwcml0ZS5wcm90b3R5cGUuX3JlbmRlckNhbnZhcy5jYWxsKHRoaXMsdCl9LGkuVGlsZW1hcExheWVyLnByb3RvdHlwZS5fcmVuZGVyV2ViR0w9ZnVuY3Rpb24odCl7dGhpcy5maXhlZFRvQ2FtZXJhJiYodGhpcy5wb3NpdGlvbi54PSh0aGlzLmdhbWUuY2FtZXJhLnZpZXcueCt0aGlzLmNhbWVyYU9mZnNldC54KS90aGlzLmdhbWUuY2FtZXJhLnNjYWxlLngsdGhpcy5wb3NpdGlvbi55PSh0aGlzLmdhbWUuY2FtZXJhLnZpZXcueSt0aGlzLmNhbWVyYU9mZnNldC55KS90aGlzLmdhbWUuY2FtZXJhLnNjYWxlLnkpLHRoaXMuX3Njcm9sbFg9KHRoaXMuZ2FtZS5jYW1lcmEudmlldy54LXRoaXMudGlsZU9mZnNldC54KSp0aGlzLnNjcm9sbEZhY3RvclgvdGhpcy5zY2FsZS54LHRoaXMuX3Njcm9sbFk9KHRoaXMuZ2FtZS5jYW1lcmEudmlldy55LXRoaXMudGlsZU9mZnNldC55KSp0aGlzLnNjcm9sbEZhY3RvclkvdGhpcy5zY2FsZS55LHRoaXMucmVuZGVyKCksUElYSS5TcHJpdGUucHJvdG90eXBlLl9yZW5kZXJXZWJHTC5jYWxsKHRoaXMsdCl9LGkuVGlsZW1hcExheWVyLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7aS5DYW52YXNQb29sLnJlbW92ZSh0aGlzKSxpLkNvbXBvbmVudC5EZXN0cm95LnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyl9LGkuVGlsZW1hcExheWVyLnByb3RvdHlwZS5yZXNpemU9ZnVuY3Rpb24odCxlKXt0aGlzLmNhbnZhcy53aWR0aD10LHRoaXMuY2FudmFzLmhlaWdodD1lLHRoaXMudGV4dHVyZS5mcmFtZS5yZXNpemUodCxlKSx0aGlzLnRleHR1cmUud2lkdGg9dCx0aGlzLnRleHR1cmUuaGVpZ2h0PWUsdGhpcy50ZXh0dXJlLmNyb3Aud2lkdGg9dCx0aGlzLnRleHR1cmUuY3JvcC5oZWlnaHQ9ZSx0aGlzLnRleHR1cmUuYmFzZVRleHR1cmUud2lkdGg9dCx0aGlzLnRleHR1cmUuYmFzZVRleHR1cmUuaGVpZ2h0PWUsdGhpcy50ZXh0dXJlLmJhc2VUZXh0dXJlLmRpcnR5KCksdGhpcy50ZXh0dXJlLnJlcXVpcmVzVXBkYXRlPSEwLHRoaXMudGV4dHVyZS5fdXBkYXRlVXZzKCksdGhpcy5kaXJ0eT0hMH0saS5UaWxlbWFwTGF5ZXIucHJvdG90eXBlLnJlc2l6ZVdvcmxkPWZ1bmN0aW9uKCl7dGhpcy5nYW1lLndvcmxkLnNldEJvdW5kcygwLDAsdGhpcy5sYXllci53aWR0aEluUGl4ZWxzKnRoaXMuc2NhbGUueCx0aGlzLmxheWVyLmhlaWdodEluUGl4ZWxzKnRoaXMuc2NhbGUueSl9LGkuVGlsZW1hcExheWVyLnByb3RvdHlwZS5nZXRUaWxlT2Zmc2V0WD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRpbGVPZmZzZXQueHx8KHRoaXMuZml4ZWRUb0NhbWVyYT8wOnRoaXMucG9zaXRpb24ueCl9LGkuVGlsZW1hcExheWVyLnByb3RvdHlwZS5nZXRUaWxlT2Zmc2V0WT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRpbGVPZmZzZXQueXx8KHRoaXMuZml4ZWRUb0NhbWVyYT8wOnRoaXMucG9zaXRpb24ueSl9LGkuVGlsZW1hcExheWVyLnByb3RvdHlwZS5fZml4WD1mdW5jdGlvbih0KXtyZXR1cm4gMT09PXRoaXMuc2Nyb2xsRmFjdG9yWHx8MD09PXRoaXMuc2Nyb2xsRmFjdG9yWCYmMD09PXRoaXMucG9zaXRpb24ueD90OjA9PT10aGlzLnNjcm9sbEZhY3RvclgmJjAhPT10aGlzLnBvc2l0aW9uLng/dC10aGlzLnBvc2l0aW9uLng6dGhpcy5fc2Nyb2xsWCsodC10aGlzLl9zY3JvbGxYL3RoaXMuc2Nyb2xsRmFjdG9yWCl9LGkuVGlsZW1hcExheWVyLnByb3RvdHlwZS5fdW5maXhYPWZ1bmN0aW9uKHQpe3JldHVybiAxPT09dGhpcy5zY3JvbGxGYWN0b3JYP3Q6dGhpcy5fc2Nyb2xsWC90aGlzLnNjcm9sbEZhY3RvclgrKHQtdGhpcy5fc2Nyb2xsWCl9LGkuVGlsZW1hcExheWVyLnByb3RvdHlwZS5fZml4WT1mdW5jdGlvbih0KXtyZXR1cm4gMT09PXRoaXMuc2Nyb2xsRmFjdG9yWXx8MD09PXRoaXMuc2Nyb2xsRmFjdG9yWSYmMD09PXRoaXMucG9zaXRpb24ueT90OjA9PT10aGlzLnNjcm9sbEZhY3RvclkmJjAhPT10aGlzLnBvc2l0aW9uLnk/dC10aGlzLnBvc2l0aW9uLnk6dGhpcy5fc2Nyb2xsWSsodC10aGlzLl9zY3JvbGxZL3RoaXMuc2Nyb2xsRmFjdG9yWSl9LGkuVGlsZW1hcExheWVyLnByb3RvdHlwZS5fdW5maXhZPWZ1bmN0aW9uKHQpe3JldHVybiAxPT09dGhpcy5zY3JvbGxGYWN0b3JZP3Q6dGhpcy5fc2Nyb2xsWS90aGlzLnNjcm9sbEZhY3RvclkrKHQtdGhpcy5fc2Nyb2xsWSl9LGkuVGlsZW1hcExheWVyLnByb3RvdHlwZS5nZXRUaWxlWD1mdW5jdGlvbih0KXtyZXR1cm4gTWF0aC5mbG9vcih0aGlzLl9maXhYKHQpL3RoaXMuX21jLnRpbGVXaWR0aCl9LGkuVGlsZW1hcExheWVyLnByb3RvdHlwZS5nZXRUaWxlWT1mdW5jdGlvbih0KXtyZXR1cm4gTWF0aC5mbG9vcih0aGlzLl9maXhZKHQpL3RoaXMuX21jLnRpbGVIZWlnaHQpfSxpLlRpbGVtYXBMYXllci5wcm90b3R5cGUuZ2V0VGlsZVhZPWZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gaS54PXRoaXMuZ2V0VGlsZVgodCksaS55PXRoaXMuZ2V0VGlsZVkoZSksaX0saS5UaWxlbWFwTGF5ZXIucHJvdG90eXBlLmdldFJheUNhc3RUaWxlcz1mdW5jdGlvbih0LGUsaSxzKXtlfHwoZT10aGlzLnJheVN0ZXBSYXRlKSx2b2lkIDA9PT1pJiYoaT0hMSksdm9pZCAwPT09cyYmKHM9ITEpO3ZhciBuPXRoaXMuZ2V0VGlsZXModC54LHQueSx0LndpZHRoLHQuaGVpZ2h0LGkscyk7aWYoMD09PW4ubGVuZ3RoKXJldHVybltdO2Zvcih2YXIgbz10LmNvb3JkaW5hdGVzT25MaW5lKGUpLHI9W10sYT0wO2E8bi5sZW5ndGg7YSsrKWZvcih2YXIgaD0wO2g8by5sZW5ndGg7aCsrKXt2YXIgbD1uW2FdLGM9b1toXTtpZihsLmNvbnRhaW5zUG9pbnQoY1swXSxjWzFdKSl7ci5wdXNoKGwpO2JyZWFrfX1yZXR1cm4gcn0saS5UaWxlbWFwTGF5ZXIucHJvdG90eXBlLmdldFRpbGVzPWZ1bmN0aW9uKHQsZSxpLHMsbixvKXt2b2lkIDA9PT1uJiYobj0hMSksdm9pZCAwPT09byYmKG89ITEpO3ZhciByPSEobnx8byk7dD10aGlzLl9maXhYKHQpLGU9dGhpcy5fZml4WShlKTtmb3IodmFyIGE9TWF0aC5mbG9vcih0Lyh0aGlzLl9tYy5jdyp0aGlzLnNjYWxlLngpKSxoPU1hdGguZmxvb3IoZS8odGhpcy5fbWMuY2gqdGhpcy5zY2FsZS55KSksbD1NYXRoLmNlaWwoKHQraSkvKHRoaXMuX21jLmN3KnRoaXMuc2NhbGUueCkpLWEsYz1NYXRoLmNlaWwoKGUrcykvKHRoaXMuX21jLmNoKnRoaXMuc2NhbGUueSkpLWg7dGhpcy5fcmVzdWx0cy5sZW5ndGg7KXRoaXMuX3Jlc3VsdHMucG9wKCk7Zm9yKHZhciB1PWg7dTxoK2M7dSsrKWZvcih2YXIgZD1hO2Q8YStsO2QrKyl7dmFyIHA9dGhpcy5sYXllci5kYXRhW3VdO3AmJnBbZF0mJihyfHxwW2RdLmlzSW50ZXJlc3RpbmcobixvKSkmJnRoaXMuX3Jlc3VsdHMucHVzaChwW2RdKX1yZXR1cm4gdGhpcy5fcmVzdWx0cy5zbGljZSgpfSxpLlRpbGVtYXBMYXllci5wcm90b3R5cGUucmVzb2x2ZVRpbGVzZXQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fbWMudGlsZXNldHM7aWYodDwyZTMpZm9yKDtlLmxlbmd0aDx0OyllLnB1c2godm9pZCAwKTt2YXIgaT10aGlzLm1hcC50aWxlc1t0XSYmdGhpcy5tYXAudGlsZXNbdF1bMl07aWYobnVsbCE9PWkpe3ZhciBzPXRoaXMubWFwLnRpbGVzZXRzW2ldO2lmKHMmJnMuY29udGFpbnNUaWxlSW5kZXgodCkpcmV0dXJuIGVbdF09c31yZXR1cm4gZVt0XT1udWxsfSxpLlRpbGVtYXBMYXllci5wcm90b3R5cGUucmVzZXRUaWxlc2V0Q2FjaGU9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy5fbWMudGlsZXNldHM7dC5sZW5ndGg7KXQucG9wKCl9LGkuVGlsZW1hcExheWVyLnByb3RvdHlwZS5zZXRTY2FsZT1mdW5jdGlvbih0LGUpe3Q9dHx8MSxlPWV8fHQ7Zm9yKHZhciBpPTA7aTx0aGlzLmxheWVyLmRhdGEubGVuZ3RoO2krKylmb3IodmFyIHM9dGhpcy5sYXllci5kYXRhW2ldLG49MDtuPHMubGVuZ3RoO24rKyl7dmFyIG89c1tuXTtvLndpZHRoPXRoaXMubWFwLnRpbGVXaWR0aCp0LG8uaGVpZ2h0PXRoaXMubWFwLnRpbGVIZWlnaHQqZSxvLndvcmxkWD1vLngqby53aWR0aCxvLndvcmxkWT1vLnkqby5oZWlnaHR9dGhpcy5zY2FsZS5zZXRUbyh0LGUpfSxpLlRpbGVtYXBMYXllci5wcm90b3R5cGUuc2hpZnRDYW52YXM9ZnVuY3Rpb24odCxlLGkpe3ZhciBzPXQuY2FudmFzLG49cy53aWR0aC1NYXRoLmFicyhlKSxvPXMuaGVpZ2h0LU1hdGguYWJzKGkpLHI9MCxhPTAsaD1lLGw9aTtlPDAmJihyPS1lLGg9MCksaTwwJiYoYT0taSxsPTApO3ZhciBjPXRoaXMucmVuZGVyU2V0dGluZ3MuY29weUNhbnZhcztpZihjKXsoYy53aWR0aDxufHxjLmhlaWdodDxvKSYmKGMud2lkdGg9bixjLmhlaWdodD1vKTt2YXIgdT1jLmdldENvbnRleHQoXCIyZFwiKTt1LmNsZWFyUmVjdCgwLDAsbixvKSx1LmRyYXdJbWFnZShzLHIsYSxuLG8sMCwwLG4sbyksdC5jbGVhclJlY3QoaCxsLG4sbyksdC5kcmF3SW1hZ2UoYywwLDAsbixvLGgsbCxuLG8pfWVsc2UgdC5zYXZlKCksdC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb249XCJjb3B5XCIsdC5kcmF3SW1hZ2UocyxyLGEsbixvLGgsbCxuLG8pLHQucmVzdG9yZSgpfSxpLlRpbGVtYXBMYXllci5wcm90b3R5cGUucmVuZGVyUmVnaW9uPWZ1bmN0aW9uKHQsZSxpLHMsbixvKXt2YXIgcj10aGlzLmNvbnRleHQsYT10aGlzLmxheWVyLndpZHRoLGg9dGhpcy5sYXllci5oZWlnaHQsbD10aGlzLl9tYy50aWxlV2lkdGgsYz10aGlzLl9tYy50aWxlSGVpZ2h0LHU9dGhpcy5fbWMudGlsZXNldHMsZD1OYU47dGhpcy5fd3JhcHx8KGk8PW4mJihpPU1hdGgubWF4KDAsaSksbj1NYXRoLm1pbihhLTEsbikpLHM8PW8mJihzPU1hdGgubWF4KDAscyksbz1NYXRoLm1pbihoLTEsbykpKTt2YXIgcCxmLG0sZyx5LHYseD1pKmwtdCxiPShpKygxPDwyMCkqYSklYTtmb3IoZz0ocysoMTw8MjApKmgpJWgsdj1vLXMsZj1zKmMtZTt2Pj0wO2crKyx2LS0sZis9Yyl7Zz49aCYmKGctPWgpO3ZhciBfPXRoaXMubGF5ZXIuZGF0YVtnXTtmb3IobT1iLHk9bi1pLHA9eDt5Pj0wO20rKyx5LS0scCs9bCl7bT49YSYmKG0tPWEpO3ZhciB3PV9bbV07aWYodyYmISh3LmluZGV4PDApKXt2YXIgVD13LmluZGV4LFA9dVtUXTt2b2lkIDA9PT1QJiYoUD10aGlzLnJlc29sdmVUaWxlc2V0KFQpKSx3LmFscGhhPT09ZHx8dGhpcy5kZWJ1Z3x8KHIuZ2xvYmFsQWxwaGE9dy5hbHBoYSxkPXcuYWxwaGEpLFA/dy5yb3RhdGlvbnx8dy5mbGlwcGVkPyhyLnNhdmUoKSxyLnRyYW5zbGF0ZShwK3cuY2VudGVyWCxmK3cuY2VudGVyWSksci5yb3RhdGUody5yb3RhdGlvbiksdy5mbGlwcGVkJiZyLnNjYWxlKC0xLDEpLFAuZHJhdyhyLC13LmNlbnRlclgsLXcuY2VudGVyWSxUKSxyLnJlc3RvcmUoKSk6UC5kcmF3KHIscCxmLFQpOnRoaXMuZGVidWdTZXR0aW5ncy5taXNzaW5nSW1hZ2VGaWxsJiYoci5maWxsU3R5bGU9dGhpcy5kZWJ1Z1NldHRpbmdzLm1pc3NpbmdJbWFnZUZpbGwsci5maWxsUmVjdChwLGYsbCxjKSksdy5kZWJ1ZyYmdGhpcy5kZWJ1Z1NldHRpbmdzLmRlYnVnZ2VkVGlsZU92ZXJmaWxsJiYoci5maWxsU3R5bGU9dGhpcy5kZWJ1Z1NldHRpbmdzLmRlYnVnZ2VkVGlsZU92ZXJmaWxsLHIuZmlsbFJlY3QocCxmLGwsYykpfX19fSxpLlRpbGVtYXBMYXllci5wcm90b3R5cGUucmVuZGVyRGVsdGFTY3JvbGw9ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLl9tYy5zY3JvbGxYLHM9dGhpcy5fbWMuc2Nyb2xsWSxuPXRoaXMuY2FudmFzLndpZHRoLG89dGhpcy5jYW52YXMuaGVpZ2h0LHI9dGhpcy5fbWMudGlsZVdpZHRoLGE9dGhpcy5fbWMudGlsZUhlaWdodCxoPTAsbD0tcixjPTAsdT0tYTtpZih0PDA/KGg9bit0LGw9bi0xKTp0PjAmJihsPXQpLGU8MD8oYz1vK2UsdT1vLTEpOmU+MCYmKHU9ZSksdGhpcy5zaGlmdENhbnZhcyh0aGlzLmNvbnRleHQsdCxlKSxoPU1hdGguZmxvb3IoKGgraSkvciksbD1NYXRoLmZsb29yKChsK2kpL3IpLGM9TWF0aC5mbG9vcigoYytzKS9hKSx1PU1hdGguZmxvb3IoKHUrcykvYSksaDw9bCl7dGhpcy5jb250ZXh0LmNsZWFyUmVjdChoKnItaSwwLChsLWgrMSkqcixvKTt2YXIgZD1NYXRoLmZsb29yKCgwK3MpL2EpLHA9TWF0aC5mbG9vcigoby0xK3MpL2EpO3RoaXMucmVuZGVyUmVnaW9uKGkscyxoLGQsbCxwKX1pZihjPD11KXt0aGlzLmNvbnRleHQuY2xlYXJSZWN0KDAsYyphLXMsbiwodS1jKzEpKmEpO3ZhciBmPU1hdGguZmxvb3IoKDAraSkvciksbT1NYXRoLmZsb29yKChuLTEraSkvcik7dGhpcy5yZW5kZXJSZWdpb24oaSxzLGYsYyxtLHUpfX0saS5UaWxlbWFwTGF5ZXIucHJvdG90eXBlLnJlbmRlckZ1bGw9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9tYy5zY3JvbGxYLGU9dGhpcy5fbWMuc2Nyb2xsWSxpPXRoaXMuY2FudmFzLndpZHRoLHM9dGhpcy5jYW52YXMuaGVpZ2h0LG49dGhpcy5fbWMudGlsZVdpZHRoLG89dGhpcy5fbWMudGlsZUhlaWdodCxyPU1hdGguZmxvb3IodC9uKSxhPU1hdGguZmxvb3IoKGktMSt0KS9uKSxoPU1hdGguZmxvb3IoZS9vKSxsPU1hdGguZmxvb3IoKHMtMStlKS9vKTt0aGlzLmNvbnRleHQuY2xlYXJSZWN0KDAsMCxpLHMpLHRoaXMucmVuZGVyUmVnaW9uKHQsZSxyLGgsYSxsKX0saS5UaWxlbWFwTGF5ZXIucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbigpe3ZhciB0PSExO2lmKHRoaXMudmlzaWJsZSl7KHRoaXMuZGlydHl8fHRoaXMubGF5ZXIuZGlydHkpJiYodGhpcy5sYXllci5kaXJ0eT0hMSx0PSEwKTt2YXIgZT10aGlzLmNhbnZhcy53aWR0aCxpPXRoaXMuY2FudmFzLmhlaWdodCxzPTB8dGhpcy5fc2Nyb2xsWCxuPTB8dGhpcy5fc2Nyb2xsWSxvPXRoaXMuX21jLHI9by5zY3JvbGxYLXMsYT1vLnNjcm9sbFktbjtpZih0fHwwIT09cnx8MCE9PWF8fG8ucmVuZGVyV2lkdGghPT1lfHxvLnJlbmRlckhlaWdodCE9PWkpcmV0dXJuIHRoaXMuY29udGV4dC5zYXZlKCksby5zY3JvbGxYPXMsby5zY3JvbGxZPW4sby5yZW5kZXJXaWR0aD09PWUmJm8ucmVuZGVySGVpZ2h0PT09aXx8KG8ucmVuZGVyV2lkdGg9ZSxvLnJlbmRlckhlaWdodD1pKSx0aGlzLmRlYnVnJiYodGhpcy5jb250ZXh0Lmdsb2JhbEFscGhhPXRoaXMuZGVidWdTZXR0aW5ncy5kZWJ1Z0FscGhhLHRoaXMuZGVidWdTZXR0aW5ncy5mb3JjZUZ1bGxSZWRyYXcmJih0PSEwKSksIXQmJnRoaXMucmVuZGVyU2V0dGluZ3MuZW5hYmxlU2Nyb2xsRGVsdGEmJk1hdGguYWJzKHIpK01hdGguYWJzKGEpPE1hdGgubWluKGUsaSk/dGhpcy5yZW5kZXJEZWx0YVNjcm9sbChyLGEpOnRoaXMucmVuZGVyRnVsbCgpLHRoaXMuZGVidWcmJih0aGlzLmNvbnRleHQuZ2xvYmFsQWxwaGE9MSx0aGlzLnJlbmRlckRlYnVnKCkpLHRoaXMudGV4dHVyZS5iYXNlVGV4dHVyZS5kaXJ0eSgpLHRoaXMuZGlydHk9ITEsdGhpcy5jb250ZXh0LnJlc3RvcmUoKSwhMH19LGkuVGlsZW1hcExheWVyLnByb3RvdHlwZS5yZW5kZXJEZWJ1Zz1mdW5jdGlvbigpe3ZhciB0LGUsaSxzLG4sbyxyPXRoaXMuX21jLnNjcm9sbFgsYT10aGlzLl9tYy5zY3JvbGxZLGg9dGhpcy5jb250ZXh0LGw9dGhpcy5jYW52YXMud2lkdGgsYz10aGlzLmNhbnZhcy5oZWlnaHQsdT10aGlzLmxheWVyLndpZHRoLGQ9dGhpcy5sYXllci5oZWlnaHQscD10aGlzLl9tYy50aWxlV2lkdGgsZj10aGlzLl9tYy50aWxlSGVpZ2h0LG09TWF0aC5mbG9vcihyL3ApLGc9TWF0aC5mbG9vcigobC0xK3IpL3ApLHk9TWF0aC5mbG9vcihhL2YpLHY9TWF0aC5mbG9vcigoYy0xK2EpL2YpLHg9bSpwLXIsYj15KmYtYSxfPShtKygxPDwyMCkqdSkldSx3PSh5KygxPDwyMCkqZCklZDtmb3IoaC5zdHJva2VTdHlsZT10aGlzLmRlYnVnU2V0dGluZ3MuZmFjaW5nRWRnZVN0cm9rZSxzPXcsbz12LXksZT1iO28+PTA7cysrLG8tLSxlKz1mKXtzPj1kJiYocy09ZCk7dmFyIFQ9dGhpcy5sYXllci5kYXRhW3NdO2ZvcihpPV8sbj1nLW0sdD14O24+PTA7aSsrLG4tLSx0Kz1wKXtpPj11JiYoaS09dSk7dmFyIFA9VFtpXTshUHx8UC5pbmRleDwwfHwhUC5jb2xsaWRlc3x8KHRoaXMuZGVidWdTZXR0aW5ncy5jb2xsaWRpbmdUaWxlT3ZlcmZpbGwmJihoLmZpbGxTdHlsZT10aGlzLmRlYnVnU2V0dGluZ3MuY29sbGlkaW5nVGlsZU92ZXJmaWxsLGguZmlsbFJlY3QodCxlLHRoaXMuX21jLmN3LHRoaXMuX21jLmNoKSksdGhpcy5kZWJ1Z1NldHRpbmdzLmZhY2luZ0VkZ2VTdHJva2UmJihoLmJlZ2luUGF0aCgpLFAuZmFjZVRvcCYmKGgubW92ZVRvKHQsZSksaC5saW5lVG8odCt0aGlzLl9tYy5jdyxlKSksUC5mYWNlQm90dG9tJiYoaC5tb3ZlVG8odCxlK3RoaXMuX21jLmNoKSxoLmxpbmVUbyh0K3RoaXMuX21jLmN3LGUrdGhpcy5fbWMuY2gpKSxQLmZhY2VMZWZ0JiYoaC5tb3ZlVG8odCxlKSxoLmxpbmVUbyh0LGUrdGhpcy5fbWMuY2gpKSxQLmZhY2VSaWdodCYmKGgubW92ZVRvKHQrdGhpcy5fbWMuY3csZSksaC5saW5lVG8odCt0aGlzLl9tYy5jdyxlK3RoaXMuX21jLmNoKSksaC5jbG9zZVBhdGgoKSxoLnN0cm9rZSgpKSl9fX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuVGlsZW1hcExheWVyLnByb3RvdHlwZSxcIndyYXBcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3dyYXB9LHNldDpmdW5jdGlvbih0KXt0aGlzLl93cmFwPXQsdGhpcy5kaXJ0eT0hMH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5UaWxlbWFwTGF5ZXIucHJvdG90eXBlLFwic2Nyb2xsWFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2Nyb2xsWH0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3Njcm9sbFg9dH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5UaWxlbWFwTGF5ZXIucHJvdG90eXBlLFwic2Nyb2xsWVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2Nyb2xsWX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3Njcm9sbFk9dH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5UaWxlbWFwTGF5ZXIucHJvdG90eXBlLFwiY29sbGlzaW9uV2lkdGhcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21jLmN3fSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fbWMuY3c9MHx0LHRoaXMuZGlydHk9ITB9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuVGlsZW1hcExheWVyLnByb3RvdHlwZSxcImNvbGxpc2lvbkhlaWdodFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbWMuY2h9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9tYy5jaD0wfHQsdGhpcy5kaXJ0eT0hMH19KSxpLlRpbGVtYXBQYXJzZXI9e0lOU0VSVF9OVUxMOiExLHBhcnNlOmZ1bmN0aW9uKHQsZSxzLG4sbyxyKXtpZih2b2lkIDA9PT1zJiYocz0zMiksdm9pZCAwPT09biYmKG49MzIpLHZvaWQgMD09PW8mJihvPTEwKSx2b2lkIDA9PT1yJiYocj0xMCksdm9pZCAwPT09ZSlyZXR1cm4gdGhpcy5nZXRFbXB0eURhdGEoKTtpZihudWxsPT09ZSlyZXR1cm4gdGhpcy5nZXRFbXB0eURhdGEocyxuLG8scik7dmFyIGE9dC5jYWNoZS5nZXRUaWxlbWFwRGF0YShlKTtpZihhKXtpZihhLmZvcm1hdD09PWkuVGlsZW1hcC5DU1YpcmV0dXJuIHRoaXMucGFyc2VDU1YoZSxhLmRhdGEscyxuKTtpZighYS5mb3JtYXR8fGEuZm9ybWF0PT09aS5UaWxlbWFwLlRJTEVEX0pTT04pcmV0dXJuIHRoaXMucGFyc2VUaWxlZEpTT04oYS5kYXRhKX1lbHNlIGNvbnNvbGUud2FybihcIlBoYXNlci5UaWxlbWFwUGFyc2VyLnBhcnNlIC0gTm8gbWFwIGRhdGEgZm91bmQgZm9yIGtleSBcIitlKX0scGFyc2VDU1Y6ZnVuY3Rpb24odCxlLHMsbil7Zm9yKHZhciBvPXRoaXMuZ2V0RW1wdHlEYXRhKCkscj1bXSxhPShlPWUudHJpbSgpKS5zcGxpdChcIlxcblwiKSxoPWEubGVuZ3RoLGw9MCxjPTA7YzxhLmxlbmd0aDtjKyspe3JbY109W107Zm9yKHZhciB1PWFbY10uc3BsaXQoXCIsXCIpLGQ9MDtkPHUubGVuZ3RoO2QrKylyW2NdW2RdPW5ldyBpLlRpbGUoby5sYXllcnNbMF0scGFyc2VJbnQodVtkXSwxMCksZCxjLHMsbik7MD09PWwmJihsPXUubGVuZ3RoKX1yZXR1cm4gby5mb3JtYXQ9aS5UaWxlbWFwLkNTVixvLm5hbWU9dCxvLndpZHRoPWwsby5oZWlnaHQ9aCxvLnRpbGVXaWR0aD1zLG8udGlsZUhlaWdodD1uLG8ud2lkdGhJblBpeGVscz1sKnMsby5oZWlnaHRJblBpeGVscz1oKm4sby5sYXllcnNbMF0ud2lkdGg9bCxvLmxheWVyc1swXS5oZWlnaHQ9aCxvLmxheWVyc1swXS53aWR0aEluUGl4ZWxzPW8ud2lkdGhJblBpeGVscyxvLmxheWVyc1swXS5oZWlnaHRJblBpeGVscz1vLmhlaWdodEluUGl4ZWxzLG8ubGF5ZXJzWzBdLmRhdGE9cixvfSxnZXRFbXB0eURhdGE6ZnVuY3Rpb24odCxlLGkscyl7cmV0dXJue3dpZHRoOnZvaWQgMCE9PWkmJm51bGwhPT1pP2k6MCxoZWlnaHQ6dm9pZCAwIT09cyYmbnVsbCE9PXM/czowLHRpbGVXaWR0aDp2b2lkIDAhPT10JiZudWxsIT09dD90OjAsdGlsZUhlaWdodDp2b2lkIDAhPT1lJiZudWxsIT09ZT9lOjAsb3JpZW50YXRpb246XCJvcnRob2dvbmFsXCIsdmVyc2lvbjpcIjFcIixwcm9wZXJ0aWVzOnt9LHdpZHRoSW5QaXhlbHM6MCxoZWlnaHRJblBpeGVsczowLGxheWVyczpbe25hbWU6XCJsYXllclwiLHg6MCx5OjAsd2lkdGg6MCxoZWlnaHQ6MCx3aWR0aEluUGl4ZWxzOjAsaGVpZ2h0SW5QaXhlbHM6MCxhbHBoYToxLHZpc2libGU6ITAscHJvcGVydGllczp7fSxpbmRleGVzOltdLGNhbGxiYWNrczpbXSxib2RpZXM6W10sZGF0YTpbXX1dLGltYWdlczpbXSxvYmplY3RzOnt9LGNvbGxpc2lvbjp7fSx0aWxlc2V0czpbXSx0aWxlczpbXX19LF9zbGljZTpmdW5jdGlvbih0LGUpe3ZhciBpPXt9O2Zvcih2YXIgcyBpbiBlKXt2YXIgbj1lW3NdO3ZvaWQgMCE9PXRbbl0mJihpW25dPXRbbl0pfXJldHVybiBpfSxwYXJzZU9iamVjdEdyb3VwOmZ1bmN0aW9uKHQsZSxpLHMsbil7dmFyIHM9c3x8dC5uYW1lLG49bnx8e3g6MCx5OjB9LG89dGhpcy5fc2xpY2U7c3x8Y29uc29sZS53YXJuKFwiTm8gbmFtZSBmb3VuZCBmb3Igb2JqZWN0R3JvdXBcIix0KSx2b2lkIDAhPT1uLngmJnZvaWQgMCE9PW4ueXx8Y29uc29sZS53YXJuKFwiTWFsZm9ybWVkIHh5IHByb3BlcnRpZXMgaW4gcmVsYXRpdmVQb3NpdGlvblwiLG4pLGVbc109ZVtzXXx8W10saVtzXT1pW3NdfHxbXTtmb3IodmFyIHI9MCxhPXQub2JqZWN0cy5sZW5ndGg7cjxhO3IrKyl7dmFyIGg9dC5vYmplY3RzW3JdO2lmKGguZ2lkKXtsPXtnaWQ6aC5naWQsbmFtZTpoLm5hbWUsdHlwZTpoLnR5cGV8fFwiXCIseDpoLngrbi54LHk6aC55K24ueSx3aWR0aDpoLndpZHRoLGhlaWdodDpoLmhlaWdodCx2aXNpYmxlOmgudmlzaWJsZSxwcm9wZXJ0aWVzOmgucHJvcGVydGllc307aC5yb3RhdGlvbiYmKGwucm90YXRpb249aC5yb3RhdGlvbiksZVtzXS5wdXNoKGwpfWVsc2UgaWYoaC5wb2x5bGluZSl7dmFyIGw9e25hbWU6aC5uYW1lLHR5cGU6aC50eXBlLHg6aC54K24ueCx5OmgueStuLnksd2lkdGg6aC53aWR0aCxoZWlnaHQ6aC5oZWlnaHQsdmlzaWJsZTpoLnZpc2libGUscHJvcGVydGllczpoLnByb3BlcnRpZXN9O2gucm90YXRpb24mJihsLnJvdGF0aW9uPWgucm90YXRpb24pLGwucG9seWxpbmU9W107Zm9yKGM9MDtjPGgucG9seWxpbmUubGVuZ3RoO2MrKylsLnBvbHlsaW5lLnB1c2goW2gucG9seWxpbmVbY10ueCxoLnBvbHlsaW5lW2NdLnldKTtpW3NdLnB1c2gobCksZVtzXS5wdXNoKGwpfWVsc2UgaWYoaC5wb2x5Z29uKXsobD1vKGgsW1wibmFtZVwiLFwidHlwZVwiLFwieFwiLFwieVwiLFwidmlzaWJsZVwiLFwicm90YXRpb25cIixcInByb3BlcnRpZXNcIl0pKS54Kz1uLngsbC55Kz1uLnksbC5wb2x5Z29uPVtdO2Zvcih2YXIgYz0wO2M8aC5wb2x5Z29uLmxlbmd0aDtjKyspbC5wb2x5Z29uLnB1c2goW2gucG9seWdvbltjXS54LGgucG9seWdvbltjXS55XSk7aVtzXS5wdXNoKGwpLGVbc10ucHVzaChsKX1lbHNlIGguZWxsaXBzZT8oKGw9byhoLFtcIm5hbWVcIixcInR5cGVcIixcImVsbGlwc2VcIixcInhcIixcInlcIixcIndpZHRoXCIsXCJoZWlnaHRcIixcInZpc2libGVcIixcInJvdGF0aW9uXCIsXCJwcm9wZXJ0aWVzXCJdKSkueCs9bi54LGwueSs9bi55LGlbc10ucHVzaChsKSxlW3NdLnB1c2gobCkpOigobD1vKGgsW1wibmFtZVwiLFwidHlwZVwiLFwieFwiLFwieVwiLFwid2lkdGhcIixcImhlaWdodFwiLFwidmlzaWJsZVwiLFwicm90YXRpb25cIixcInByb3BlcnRpZXNcIl0pKS54Kz1uLngsbC55Kz1uLnksbC5yZWN0YW5nbGU9ITAsaVtzXS5wdXNoKGwpLGVbc10ucHVzaChsKSl9cmV0dXJue29iamVjdHNDb2xsZWN0aW9uOmUsY29sbGlzaW9uQ29sbGVjdGlvbjppfX0scGFyc2VUaWxlZEpTT046ZnVuY3Rpb24odCl7aWYoXCJvcnRob2dvbmFsXCIhPT10Lm9yaWVudGF0aW9uKXJldHVybiBjb25zb2xlLndhcm4oXCJUaWxlbWFwUGFyc2VyLnBhcnNlVGlsZWRKU09OIC0gT25seSBvcnRob2dvbmFsIG1hcCB0eXBlcyBhcmUgc3VwcG9ydGVkIGluIHRoaXMgdmVyc2lvbiBvZiBQaGFzZXJcIiksbnVsbDtmb3IodmFyIGU9e3dpZHRoOnQud2lkdGgsaGVpZ2h0OnQuaGVpZ2h0LHRpbGVXaWR0aDp0LnRpbGV3aWR0aCx0aWxlSGVpZ2h0OnQudGlsZWhlaWdodCxvcmllbnRhdGlvbjp0Lm9yaWVudGF0aW9uLGZvcm1hdDppLlRpbGVtYXAuVElMRURfSlNPTix2ZXJzaW9uOnQudmVyc2lvbixwcm9wZXJ0aWVzOnQucHJvcGVydGllcyx3aWR0aEluUGl4ZWxzOnQud2lkdGgqdC50aWxld2lkdGgsaGVpZ2h0SW5QaXhlbHM6dC5oZWlnaHQqdC50aWxlaGVpZ2h0fSxzPVtdLG49MDtuPHQubGF5ZXJzLmxlbmd0aDtuKyspaWYoXCJ0aWxlbGF5ZXJcIj09PXQubGF5ZXJzW25dLnR5cGUpe3ZhciBvPXQubGF5ZXJzW25dO2lmKCFvLmNvbXByZXNzaW9uJiZvLmVuY29kaW5nJiZcImJhc2U2NFwiPT09by5lbmNvZGluZyl7Zm9yKHZhciByPXdpbmRvdy5hdG9iKG8uZGF0YSksYT1yLmxlbmd0aCxoPW5ldyBBcnJheShhKSxsPTA7bDxhO2wrPTQpaFtsLzRdPShyLmNoYXJDb2RlQXQobCl8ci5jaGFyQ29kZUF0KGwrMSk8PDh8ci5jaGFyQ29kZUF0KGwrMik8PDE2fHIuY2hhckNvZGVBdChsKzMpPDwyNCk+Pj4wO28uZGF0YT1oLGRlbGV0ZSBvLmVuY29kaW5nfWVsc2UgaWYoby5jb21wcmVzc2lvbil7Y29uc29sZS53YXJuKFwiVGlsZW1hcFBhcnNlci5wYXJzZVRpbGVkSlNPTiAtIExheWVyIGNvbXByZXNzaW9uIGlzIHVuc3VwcG9ydGVkLCBza2lwcGluZyBsYXllciAnXCIrby5uYW1lK1wiJ1wiKTtjb250aW51ZX1EPXtuYW1lOm8ubmFtZSx4Om8ueCx5Om8ueSx3aWR0aDpvLndpZHRoLGhlaWdodDpvLmhlaWdodCx3aWR0aEluUGl4ZWxzOm8ud2lkdGgqdC50aWxld2lkdGgsaGVpZ2h0SW5QaXhlbHM6by5oZWlnaHQqdC50aWxlaGVpZ2h0LGFscGhhOm8ub3BhY2l0eSxvZmZzZXRYOm8ub2Zmc2V0eCxvZmZzZXRZOm8ub2Zmc2V0eSx2aXNpYmxlOm8udmlzaWJsZSxwcm9wZXJ0aWVzOnt9LGluZGV4ZXM6W10sY2FsbGJhY2tzOltdLGJvZGllczpbXX07by5wcm9wZXJ0aWVzJiYoRC5wcm9wZXJ0aWVzPW8ucHJvcGVydGllcyk7Zm9yKHZhciBjLHUsZCxwPTAsZj1bXSxtPVtdLGc9MCxhPW8uZGF0YS5sZW5ndGg7ZzxhO2crKyl7aWYoYz0wLHU9ITEsaz1vLmRhdGFbZ10sZD0wLGs+NTM2ODcwOTEyKXN3aXRjaChrPjIxNDc0ODM2NDgmJihrLT0yMTQ3NDgzNjQ4LGQrPTQpLGs+MTA3Mzc0MTgyNCYmKGstPTEwNzM3NDE4MjQsZCs9Miksaz41MzY4NzA5MTImJihrLT01MzY4NzA5MTIsZCs9MSksZCl7Y2FzZSA1OmM9TWF0aC5QSS8yO2JyZWFrO2Nhc2UgNjpjPU1hdGguUEk7YnJlYWs7Y2FzZSAzOmM9MypNYXRoLlBJLzI7YnJlYWs7Y2FzZSA0OmM9MCx1PSEwO2JyZWFrO2Nhc2UgNzpjPU1hdGguUEkvMix1PSEwO2JyZWFrO2Nhc2UgMjpjPU1hdGguUEksdT0hMDticmVhaztjYXNlIDE6Yz0zKk1hdGguUEkvMix1PSEwfWs+MD8oKEI9bmV3IGkuVGlsZShELGsscCxtLmxlbmd0aCx0LnRpbGV3aWR0aCx0LnRpbGVoZWlnaHQpKS5yb3RhdGlvbj1jLEIuZmxpcHBlZD11LDAhPT1kJiYoQi5mbGlwcGVkVmFsPWQpLGYucHVzaChCKSk6aS5UaWxlbWFwUGFyc2VyLklOU0VSVF9OVUxMP2YucHVzaChudWxsKTpmLnB1c2gobmV3IGkuVGlsZShELC0xLHAsbS5sZW5ndGgsdC50aWxld2lkdGgsdC50aWxlaGVpZ2h0KSksKytwPT09by53aWR0aCYmKG0ucHVzaChmKSxwPTAsZj1bXSl9RC5kYXRhPW0scy5wdXNoKEQpfWUubGF5ZXJzPXM7Zm9yKHZhciB5PVtdLG49MDtuPHQubGF5ZXJzLmxlbmd0aDtuKyspaWYoXCJpbWFnZWxheWVyXCI9PT10LmxheWVyc1tuXS50eXBlKXt2YXIgdj10LmxheWVyc1tuXSx4PXtuYW1lOnYubmFtZSxpbWFnZTp2LmltYWdlLHg6di54LHk6di55LGFscGhhOnYub3BhY2l0eSx2aXNpYmxlOnYudmlzaWJsZSxwcm9wZXJ0aWVzOnt9fTt2LnByb3BlcnRpZXMmJih4LnByb3BlcnRpZXM9di5wcm9wZXJ0aWVzKSx5LnB1c2goeCl9ZS5pbWFnZXM9eTtmb3IodmFyIGI9W10sXz17fSx3PVtdLFQ9bnVsbCxuPTA7bjx0LnRpbGVzZXRzLmxlbmd0aDtuKyspe2lmKChVPXQudGlsZXNldHNbbl0pLnNvdXJjZSljb25zb2xlLndhcm4oXCJQaGFzZXIuVGlsZW1hcFBhcnNlciAtIFBoYXNlciBjYW4ndCBsb2FkIGV4dGVybmFsIHRpbGVzZXRzICglcykuIFVzZSB0aGUgRW1iZWQgVGlsZXNldCBidXR0b24gYW5kIHRoZW4gZXhwb3J0IHRoZSBtYXAgYWdhaW4uXCIsVS5zb3VyY2UpO2Vsc2UgaWYoVS5pbWFnZSl7dmFyIFA9bmV3IGkuVGlsZXNldChVLm5hbWUsVS5maXJzdGdpZCxVLnRpbGV3aWR0aCxVLnRpbGVoZWlnaHQsVS5tYXJnaW4sVS5zcGFjaW5nLFUucHJvcGVydGllcyk7VS50aWxlcHJvcGVydGllcyYmKFAudGlsZVByb3BlcnRpZXM9VS50aWxlcHJvcGVydGllcyksUC51cGRhdGVUaWxlRGF0YShVLmltYWdld2lkdGgsVS5pbWFnZWhlaWdodCksYi5wdXNoKFApfWVsc2V7aWYoIVUudGlsZXMpdGhyb3cgbmV3IEVycm9yKFwiVGlsZXNldCBcIitVLm5hbWUrXCIgaGFzIG5vIGBpbWFnZWAgb3IgYHRpbGVzYCBwcm9wZXJ0eS5cIik7dmFyIEM9bmV3IGkuSW1hZ2VDb2xsZWN0aW9uKFUubmFtZSxVLmZpcnN0Z2lkLFUudGlsZXdpZHRoLFUudGlsZWhlaWdodCxVLm1hcmdpbixVLnNwYWNpbmcsVS5wcm9wZXJ0aWVzKTtmb3IodmFyIFMgaW4gVS50aWxlcyl7dmFyIHg9VS50aWxlc1tTXS5pbWFnZSxrPVUuZmlyc3RnaWQrcGFyc2VJbnQoUywxMCk7Qy5hZGRJbWFnZShrLHgpfXcucHVzaChDKX1mb3IodmFyIFMgaW4gVS50aWxlcykoTz1VLnRpbGVzW1NdLm9iamVjdGdyb3VwKSYmKF9bcGFyc2VJbnQoUywxMCkrVS5maXJzdGdpZF09Tyk7VCYmKFQubGFzdGdpZD1VLmZpcnN0Z2lkLTEpLFQ9VX1pZigwPT09Yi5sZW5ndGgmJjA9PT13Lmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJUaGlzIHRpbGVtYXAgaGFzIG5vIHRpbGVzZXRzLlwiKTtlLnRpbGVzZXRzPWIsZS5pbWFnZWNvbGxlY3Rpb25zPXc7Zm9yKHZhciBBPXt9LE09e30sbj0wO248dC5sYXllcnMubGVuZ3RoO24rKylpZihcIm9iamVjdGdyb3VwXCI9PT10LmxheWVyc1tuXS50eXBlKXt2YXIgTz10LmxheWVyc1tuXTt0aGlzLnBhcnNlT2JqZWN0R3JvdXAoTyxBLE0pfWUub2JqZWN0cz1BLGUuY29sbGlzaW9uPU0sZS50aWxlcz1bXTtmb3Iobj0wO248ZS50aWxlc2V0cy5sZW5ndGg7bisrKWZvcih2YXIgcD0oVT1lLnRpbGVzZXRzW25dKS50aWxlTWFyZ2luLEk9VS50aWxlTWFyZ2luLEU9MCxSPTAsTD0wLGc9VS5maXJzdGdpZDtnPFUuZmlyc3RnaWQrVS50b3RhbCYmKGUudGlsZXNbZ109W3AsSSxuXSxwKz1VLnRpbGVXaWR0aCtVLnRpbGVTcGFjaW5nLCsrRSE9PVUudG90YWwpJiYoKytSIT09VS5jb2x1bW5zfHwocD1VLnRpbGVNYXJnaW4sSSs9VS50aWxlSGVpZ2h0K1UudGlsZVNwYWNpbmcsUj0wLCsrTCE9PVUucm93cykpO2crKyk7Zm9yKHZhciBELEIsRixVLG49MDtuPGUubGF5ZXJzLmxlbmd0aDtuKyspe01bKEQ9ZS5sYXllcnNbbl0pLm5hbWVdPVtdLFU9bnVsbDtmb3IobD0wO2w8RC5kYXRhLmxlbmd0aDtsKyspe2Y9RC5kYXRhW2xdO2Zvcih2YXIgRz0wO0c8Zi5sZW5ndGg7RysrKW51bGw9PT0oQj1mW0ddKXx8Qi5pbmRleDwwfHwoRj1lLnRpbGVzW0IuaW5kZXhdWzJdLChVPWUudGlsZXNldHNbRl0pLnRpbGVQcm9wZXJ0aWVzJiZVLnRpbGVQcm9wZXJ0aWVzW0IuaW5kZXgtVS5maXJzdGdpZF0mJihCLnByb3BlcnRpZXM9aS5VdGlscy5taXhpbihVLnRpbGVQcm9wZXJ0aWVzW0IuaW5kZXgtVS5maXJzdGdpZF0sQi5wcm9wZXJ0aWVzKSksKE89X1tCLmluZGV4XSkmJnRoaXMucGFyc2VPYmplY3RHcm91cChPLGUub2JqZWN0cyxlLmNvbGxpc2lvbixCLmxheWVyLm5hbWUse3g6Qi53b3JsZFgrTy54LHk6Qi53b3JsZFkrTy55fSkpfX1yZXR1cm4gZX19LGkuVGlsZXNldD1mdW5jdGlvbih0LGUsaSxzLG4sbyxyKXsodm9pZCAwPT09aXx8aTw9MCkmJihpPTMyKSwodm9pZCAwPT09c3x8czw9MCkmJihzPTMyKSx2b2lkIDA9PT1uJiYobj0wKSx2b2lkIDA9PT1vJiYobz0wKSx0aGlzLm5hbWU9dCx0aGlzLmZpcnN0Z2lkPTB8ZSx0aGlzLnRpbGVXaWR0aD0wfGksdGhpcy50aWxlSGVpZ2h0PTB8cyx0aGlzLnRpbGVNYXJnaW49MHxuLHRoaXMudGlsZVNwYWNpbmc9MHxvLHRoaXMucHJvcGVydGllcz1yfHx7fSx0aGlzLmltYWdlPW51bGwsdGhpcy5yb3dzPTAsdGhpcy5jb2x1bW5zPTAsdGhpcy50b3RhbD0wLHRoaXMuZHJhd0Nvb3Jkcz1bXX0saS5UaWxlc2V0LnByb3RvdHlwZT17ZHJhdzpmdW5jdGlvbih0LGUsaSxzKXt2YXIgbj1zLXRoaXMuZmlyc3RnaWQ8PDE7bj49MCYmbisxPHRoaXMuZHJhd0Nvb3Jkcy5sZW5ndGgmJnQuZHJhd0ltYWdlKHRoaXMuaW1hZ2UsdGhpcy5kcmF3Q29vcmRzW25dLHRoaXMuZHJhd0Nvb3Jkc1tuKzFdLHRoaXMudGlsZVdpZHRoLHRoaXMudGlsZUhlaWdodCxlLGksdGhpcy50aWxlV2lkdGgsdGhpcy50aWxlSGVpZ2h0KX0sY29udGFpbnNUaWxlSW5kZXg6ZnVuY3Rpb24odCl7cmV0dXJuIHQ+PXRoaXMuZmlyc3RnaWQmJnQ8dGhpcy5maXJzdGdpZCt0aGlzLnRvdGFsfSxzZXRJbWFnZTpmdW5jdGlvbih0KXt0aGlzLmltYWdlPXQsdGhpcy51cGRhdGVUaWxlRGF0YSh0LndpZHRoLHQuaGVpZ2h0KX0sc2V0U3BhY2luZzpmdW5jdGlvbih0LGUpe3RoaXMudGlsZU1hcmdpbj0wfHQsdGhpcy50aWxlU3BhY2luZz0wfGUsdGhpcy5pbWFnZSYmdGhpcy51cGRhdGVUaWxlRGF0YSh0aGlzLmltYWdlLndpZHRoLHRoaXMuaW1hZ2UuaGVpZ2h0KX0sdXBkYXRlVGlsZURhdGE6ZnVuY3Rpb24odCxlKXt2YXIgaT0oZS0yKnRoaXMudGlsZU1hcmdpbit0aGlzLnRpbGVTcGFjaW5nKS8odGhpcy50aWxlSGVpZ2h0K3RoaXMudGlsZVNwYWNpbmcpLHM9KHQtMip0aGlzLnRpbGVNYXJnaW4rdGhpcy50aWxlU3BhY2luZykvKHRoaXMudGlsZVdpZHRoK3RoaXMudGlsZVNwYWNpbmcpO2klMT09MCYmcyUxPT0wfHxjb25zb2xlLndhcm4oXCJQaGFzZXIuVGlsZXNldCAtIFwiK3RoaXMubmFtZStcIiBpbWFnZSB0aWxlIGFyZWEgaXMgbm90IGFuIGV2ZW4gbXVsdGlwbGUgb2YgdGlsZSBzaXplXCIpLGk9TWF0aC5mbG9vcihpKSxzPU1hdGguZmxvb3IocyksKHRoaXMucm93cyYmdGhpcy5yb3dzIT09aXx8dGhpcy5jb2x1bW5zJiZ0aGlzLmNvbHVtbnMhPT1zKSYmY29uc29sZS53YXJuKFwiUGhhc2VyLlRpbGVzZXQgLSBhY3R1YWwgYW5kIGV4cGVjdGVkIG51bWJlciBvZiB0aWxlIHJvd3MgYW5kIGNvbHVtbnMgZGlmZmVyXCIpLHRoaXMucm93cz1pLHRoaXMuY29sdW1ucz1zLHRoaXMudG90YWw9aSpzLHRoaXMuZHJhd0Nvb3Jkcy5sZW5ndGg9MDtmb3IodmFyIG49dGhpcy50aWxlTWFyZ2luLG89dGhpcy50aWxlTWFyZ2luLHI9MDtyPHRoaXMucm93cztyKyspe2Zvcih2YXIgYT0wO2E8dGhpcy5jb2x1bW5zO2ErKyl0aGlzLmRyYXdDb29yZHMucHVzaChuKSx0aGlzLmRyYXdDb29yZHMucHVzaChvKSxuKz10aGlzLnRpbGVXaWR0aCt0aGlzLnRpbGVTcGFjaW5nO249dGhpcy50aWxlTWFyZ2luLG8rPXRoaXMudGlsZUhlaWdodCt0aGlzLnRpbGVTcGFjaW5nfX19LGkuVGlsZXNldC5wcm90b3R5cGUuY29uc3RydWN0b3I9aS5UaWxlc2V0LGkuUGFydGljbGU9ZnVuY3Rpb24odCxlLHMsbixvKXtpLlNwcml0ZS5jYWxsKHRoaXMsdCxlLHMsbixvKSx0aGlzLmF1dG9TY2FsZT0hMSx0aGlzLnNjYWxlRGF0YT1udWxsLHRoaXMuX3M9MCx0aGlzLmF1dG9BbHBoYT0hMSx0aGlzLmFscGhhRGF0YT1udWxsLHRoaXMuX2E9MH0saS5QYXJ0aWNsZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShpLlNwcml0ZS5wcm90b3R5cGUpLGkuUGFydGljbGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWkuUGFydGljbGUsaS5QYXJ0aWNsZS5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKCl7dGhpcy5hdXRvU2NhbGUmJigtLXRoaXMuX3M/dGhpcy5zY2FsZS5zZXQodGhpcy5zY2FsZURhdGFbdGhpcy5fc10ueCx0aGlzLnNjYWxlRGF0YVt0aGlzLl9zXS55KTp0aGlzLmF1dG9TY2FsZT0hMSksdGhpcy5hdXRvQWxwaGEmJigtLXRoaXMuX2E/dGhpcy5hbHBoYT10aGlzLmFscGhhRGF0YVt0aGlzLl9hXS52OnRoaXMuYXV0b0FscGhhPSExKX0saS5QYXJ0aWNsZS5wcm90b3R5cGUub25FbWl0PWZ1bmN0aW9uKCl7fSxpLlBhcnRpY2xlLnByb3RvdHlwZS5zZXRBbHBoYURhdGE9ZnVuY3Rpb24odCl7dGhpcy5hbHBoYURhdGE9dCx0aGlzLl9hPXQubGVuZ3RoLTEsdGhpcy5hbHBoYT10aGlzLmFscGhhRGF0YVt0aGlzLl9hXS52LHRoaXMuYXV0b0FscGhhPSEwfSxpLlBhcnRpY2xlLnByb3RvdHlwZS5zZXRTY2FsZURhdGE9ZnVuY3Rpb24odCl7dGhpcy5zY2FsZURhdGE9dCx0aGlzLl9zPXQubGVuZ3RoLTEsdGhpcy5zY2FsZS5zZXQodGhpcy5zY2FsZURhdGFbdGhpcy5fc10ueCx0aGlzLnNjYWxlRGF0YVt0aGlzLl9zXS55KSx0aGlzLmF1dG9TY2FsZT0hMH0saS5QYXJ0aWNsZS5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24odCxlLHMpe3JldHVybiBpLkNvbXBvbmVudC5SZXNldC5wcm90b3R5cGUucmVzZXQuY2FsbCh0aGlzLHQsZSxzKSx0aGlzLmFscGhhPTEsdGhpcy5zY2FsZS5zZXQoMSksdGhpcy5hdXRvU2NhbGU9ITEsdGhpcy5hdXRvQWxwaGE9ITEsdGhpc30saS5QYXJ0aWNsZXM9ZnVuY3Rpb24odCl7dGhpcy5nYW1lPXQsdGhpcy5lbWl0dGVycz17fSx0aGlzLklEPTB9LGkuUGFydGljbGVzLnByb3RvdHlwZT17YWRkOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmVtaXR0ZXJzW3QuaWRdPXQsdH0scmVtb3ZlOmZ1bmN0aW9uKHQpe2RlbGV0ZSB0aGlzLmVtaXR0ZXJzW3QuaWRdfSx1cGRhdGU6ZnVuY3Rpb24oKXtmb3IodmFyIHQgaW4gdGhpcy5lbWl0dGVycyl0aGlzLmVtaXR0ZXJzW3RdLmV4aXN0cyYmdGhpcy5lbWl0dGVyc1t0XS51cGRhdGUoKX19LGkuUGFydGljbGVzLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1pLlBhcnRpY2xlcyxpLlBhcnRpY2xlcy5BcmNhZGU9e30saS5QYXJ0aWNsZXMuQXJjYWRlLkVtaXR0ZXI9ZnVuY3Rpb24odCxlLHMsbil7dGhpcy5tYXhQYXJ0aWNsZXM9bnx8NTAsaS5Hcm91cC5jYWxsKHRoaXMsdCksdGhpcy5faWQ9dGhpcy5nYW1lLnBhcnRpY2xlcy5JRCsrLHRoaXMubmFtZT1cImVtaXR0ZXJcIit0aGlzLmlkLHRoaXMudHlwZT1pLkVNSVRURVIsdGhpcy5waHlzaWNzVHlwZT1pLkdST1VQLHRoaXMuYXJlYT1uZXcgaS5SZWN0YW5nbGUoZSxzLDEsMSksdGhpcy5taW5BbmdsZT1udWxsLHRoaXMubWF4QW5nbGU9bnVsbCx0aGlzLm1pblNwZWVkPTAsdGhpcy5tYXhTcGVlZD0xMDAsdGhpcy5taW5QYXJ0aWNsZVNwZWVkPW5ldyBpLlBvaW50KC0xMDAsLTEwMCksdGhpcy5tYXhQYXJ0aWNsZVNwZWVkPW5ldyBpLlBvaW50KDEwMCwxMDApLHRoaXMubWluUGFydGljbGVTY2FsZT0xLHRoaXMubWF4UGFydGljbGVTY2FsZT0xLHRoaXMuc2NhbGVEYXRhPW51bGwsdGhpcy5taW5Sb3RhdGlvbj0tMzYwLHRoaXMubWF4Um90YXRpb249MzYwLHRoaXMubWluUGFydGljbGVBbHBoYT0xLHRoaXMubWF4UGFydGljbGVBbHBoYT0xLHRoaXMuYWxwaGFEYXRhPW51bGwsdGhpcy5wYXJ0aWNsZUNsYXNzPWkuUGFydGljbGUsdGhpcy5wYXJ0aWNsZURyYWc9bmV3IGkuUG9pbnQsdGhpcy5hbmd1bGFyRHJhZz0wLHRoaXMuZnJlcXVlbmN5PTEwMCx0aGlzLmxpZmVzcGFuPTJlMyx0aGlzLmJvdW5jZT1uZXcgaS5Qb2ludCx0aGlzLm9uPSExLHRoaXMucGFydGljbGVBbmNob3I9bmV3IGkuUG9pbnQoLjUsLjUpLHRoaXMuYmxlbmRNb2RlPWkuYmxlbmRNb2Rlcy5OT1JNQUwsdGhpcy5lbWl0WD1lLHRoaXMuZW1pdFk9cyx0aGlzLmF1dG9TY2FsZT0hMSx0aGlzLmF1dG9BbHBoYT0hMSx0aGlzLnBhcnRpY2xlQnJpbmdUb1RvcD0hMSx0aGlzLnBhcnRpY2xlU2VuZFRvQmFjaz0hMSx0aGlzLmNvdW50cz17ZW1pdHRlZDowLGZhaWxlZDowLHRvdGFsRW1pdHRlZDowLHRvdGFsRmFpbGVkOjB9LHRoaXMuX2dyYXZpdHk9bmV3IGkuUG9pbnQoMCwxMDApLHRoaXMuX21pblBhcnRpY2xlU2NhbGU9bmV3IGkuUG9pbnQoMSwxKSx0aGlzLl9tYXhQYXJ0aWNsZVNjYWxlPW5ldyBpLlBvaW50KDEsMSksdGhpcy5fdG90YWw9MCx0aGlzLl90aW1lcj0wLHRoaXMuX2NvdW50ZXI9MCx0aGlzLl9mbG93UXVhbnRpdHk9MCx0aGlzLl9mbG93VG90YWw9MCx0aGlzLl9leHBsb2RlPSEwLHRoaXMuX2ZyYW1lcz1udWxsfSxpLlBhcnRpY2xlcy5BcmNhZGUuRW1pdHRlci5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShpLkdyb3VwLnByb3RvdHlwZSksaS5QYXJ0aWNsZXMuQXJjYWRlLkVtaXR0ZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yPWkuUGFydGljbGVzLkFyY2FkZS5FbWl0dGVyLGkuUGFydGljbGVzLkFyY2FkZS5FbWl0dGVyLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24oKXtpZih0aGlzLmNvdW50cy5lbWl0dGVkPTAsdGhpcy5jb3VudHMuZmFpbGVkPTAsdGhpcy5vbiYmdGhpcy5nYW1lLnRpbWUudGltZT49dGhpcy5fdGltZXIpaWYodGhpcy5fdGltZXI9dGhpcy5nYW1lLnRpbWUudGltZSt0aGlzLmZyZXF1ZW5jeSp0aGlzLmdhbWUudGltZS5zbG93TW90aW9uLDAhPT10aGlzLl9mbG93VG90YWwpaWYodGhpcy5fZmxvd1F1YW50aXR5PjApe2Zvcih0PTA7dDx0aGlzLl9mbG93UXVhbnRpdHk7dCsrKWlmKHRoaXMuZW1pdFBhcnRpY2xlKCkmJih0aGlzLl9jb3VudGVyKyssLTEhPT10aGlzLl9mbG93VG90YWwmJnRoaXMuX2NvdW50ZXI+PXRoaXMuX2Zsb3dUb3RhbCkpe3RoaXMub249ITE7YnJlYWt9fWVsc2UgdGhpcy5lbWl0UGFydGljbGUoKSYmKHRoaXMuX2NvdW50ZXIrKywtMSE9PXRoaXMuX2Zsb3dUb3RhbCYmdGhpcy5fY291bnRlcj49dGhpcy5fZmxvd1RvdGFsJiYodGhpcy5vbj0hMSkpO2Vsc2UgdGhpcy5lbWl0UGFydGljbGUoKSYmKHRoaXMuX2NvdW50ZXIrKyx0aGlzLl90b3RhbD4wJiZ0aGlzLl9jb3VudGVyPj10aGlzLl90b3RhbCYmKHRoaXMub249ITEpKTtmb3IodmFyIHQ9dGhpcy5jaGlsZHJlbi5sZW5ndGg7dC0tOyl0aGlzLmNoaWxkcmVuW3RdLmV4aXN0cyYmdGhpcy5jaGlsZHJlblt0XS51cGRhdGUoKX0saS5QYXJ0aWNsZXMuQXJjYWRlLkVtaXR0ZXIucHJvdG90eXBlLm1ha2VQYXJ0aWNsZXM9ZnVuY3Rpb24odCxlLGkscyxuLG8pe3ZvaWQgMD09PWUmJihlPTApLHZvaWQgMD09PWkmJihpPXRoaXMubWF4UGFydGljbGVzKSx2b2lkIDA9PT1zJiYocz0hMSksdm9pZCAwPT09biYmKG49ITEpLHZvaWQgMD09PW8mJihvPW51bGwpO3ZhciByLGE9MCxoPXQsbD1lO2Zvcih0aGlzLl9mcmFtZXM9ZSxpPnRoaXMubWF4UGFydGljbGVzJiYodGhpcy5tYXhQYXJ0aWNsZXM9aSk7YTxpOylBcnJheS5pc0FycmF5KHQpJiYoaD10aGlzLmdhbWUucm5kLnBpY2sodCkpLEFycmF5LmlzQXJyYXkoZSkmJihsPXRoaXMuZ2FtZS5ybmQucGljayhlKSkscj1uZXcgdGhpcy5wYXJ0aWNsZUNsYXNzKHRoaXMuZ2FtZSwwLDAsaCxsLG8pLHRoaXMuZ2FtZS5waHlzaWNzLmFyY2FkZS5lbmFibGUociwhMSksci5ib2R5LmNoZWNrQ29sbGlzaW9uLm5vbmU9IXMsci5ib2R5LmNvbGxpZGVXb3JsZEJvdW5kcz1uLHIuYm9keS5za2lwUXVhZFRyZWU9ITAsci5leGlzdHM9ITEsci52aXNpYmxlPSExLHIuYW5jaG9yLmNvcHlGcm9tKHRoaXMucGFydGljbGVBbmNob3IpLHRoaXMuYWRkKHIpLGErKztyZXR1cm4gdGhpc30saS5QYXJ0aWNsZXMuQXJjYWRlLkVtaXR0ZXIucHJvdG90eXBlLmtpbGw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vbj0hMSx0aGlzLmFsaXZlPSExLHRoaXMuZXhpc3RzPSExLHRoaXN9LGkuUGFydGljbGVzLkFyY2FkZS5FbWl0dGVyLnByb3RvdHlwZS5yZXZpdmU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hbGl2ZT0hMCx0aGlzLmV4aXN0cz0hMCx0aGlzfSxpLlBhcnRpY2xlcy5BcmNhZGUuRW1pdHRlci5wcm90b3R5cGUuZXhwbG9kZT1mdW5jdGlvbih0LGUpe3JldHVybiB2b2lkIDA9PT1lJiYoZT10aGlzLm1heFBhcnRpY2xlcyksdGhpcy5fZmxvd1RvdGFsPTAsdGhpcy5zdGFydCghMCx0LDAsZSwhMSksdGhpc30saS5QYXJ0aWNsZXMuQXJjYWRlLkVtaXR0ZXIucHJvdG90eXBlLmZsb3c9ZnVuY3Rpb24odCxlLGkscyxuKXtyZXR1cm4gdm9pZCAwIT09ZSYmbnVsbCE9PWV8fChlPTI1MCksdm9pZCAwIT09aSYmMCE9PWl8fChpPTEpLHZvaWQgMD09PXMmJihzPS0xKSx2b2lkIDA9PT1uJiYobj0hMCksaT50aGlzLm1heFBhcnRpY2xlcyYmKGk9dGhpcy5tYXhQYXJ0aWNsZXMpLHRoaXMuX2NvdW50ZXI9MCx0aGlzLl9mbG93UXVhbnRpdHk9aSx0aGlzLl9mbG93VG90YWw9cyxuPyh0aGlzLnN0YXJ0KCEwLHQsZSxpKSx0aGlzLl9jb3VudGVyKz1pLHRoaXMub249ITAsdGhpcy5fdGltZXI9dGhpcy5nYW1lLnRpbWUudGltZStlKnRoaXMuZ2FtZS50aW1lLnNsb3dNb3Rpb24pOnRoaXMuc3RhcnQoITEsdCxlLGkpLHRoaXN9LGkuUGFydGljbGVzLkFyY2FkZS5FbWl0dGVyLnByb3RvdHlwZS5zdGFydD1mdW5jdGlvbih0LGUsaSxzLG4pe2lmKHZvaWQgMD09PXQmJih0PSEwKSx2b2lkIDA9PT1lJiYoZT0wKSx2b2lkIDAhPT1pJiZudWxsIT09aXx8KGk9MjUwKSx2b2lkIDA9PT1zJiYocz0wKSx2b2lkIDA9PT1uJiYobj0hMSkscz50aGlzLm1heFBhcnRpY2xlcyYmKHM9dGhpcy5tYXhQYXJ0aWNsZXMpLHRoaXMucmV2aXZlKCksdGhpcy52aXNpYmxlPSEwLHRoaXMubGlmZXNwYW49ZSx0aGlzLmZyZXF1ZW5jeT1pLHR8fG4pZm9yKHZhciBvPTA7bzxzO28rKyl0aGlzLmVtaXRQYXJ0aWNsZSgpO2Vsc2UgdGhpcy5vbj0hMCx0aGlzLl90b3RhbD1zLHRoaXMuX2NvdW50ZXI9MCx0aGlzLl90aW1lcj10aGlzLmdhbWUudGltZS50aW1lK2kqdGhpcy5nYW1lLnRpbWUuc2xvd01vdGlvbjtyZXR1cm4gdGhpc30saS5QYXJ0aWNsZXMuQXJjYWRlLkVtaXR0ZXIucHJvdG90eXBlLmVtaXRQYXJ0aWNsZT1mdW5jdGlvbih0LGUsaSxzKXt2b2lkIDA9PT10JiYodD1udWxsKSx2b2lkIDA9PT1lJiYoZT1udWxsKTt2YXIgbj10aGlzLmdldE5leHRQYXJ0aWNsZSgpO2lmKG51bGw9PT1uKXJldHVybiB0aGlzLmNvdW50cy5mYWlsZWQrKyx0aGlzLmNvdW50cy50b3RhbEZhaWxlZCsrLCExO3RoaXMuY291bnRzLmVtaXR0ZWQrKyx0aGlzLmNvdW50cy50b3RhbEVtaXR0ZWQrKzt2YXIgbz10aGlzLmdhbWUucm5kO3ZvaWQgMCE9PWkmJnZvaWQgMCE9PXM/bi5sb2FkVGV4dHVyZShpLHMpOnZvaWQgMCE9PWkmJihuLmxvYWRUZXh0dXJlKGkpLG4uZnJhbWU9QXJyYXkuaXNBcnJheSh0aGlzLl9mcmFtZXMpP28ucGljayh0aGlzLl9mcmFtZXMpOnRoaXMuX2ZyYW1lcyk7dmFyIHI9dGhpcy5lbWl0WCxhPXRoaXMuZW1pdFk7cmV0dXJuIG51bGwhPT10P3I9dDp0aGlzLndpZHRoPjEmJihyPW8uYmV0d2Vlbih0aGlzLmxlZnQsdGhpcy5yaWdodCkpLG51bGwhPT1lP2E9ZTp0aGlzLmhlaWdodD4xJiYoYT1vLmJldHdlZW4odGhpcy50b3AsdGhpcy5ib3R0b20pKSx0aGlzLnJlc2V0UGFydGljbGUobixyLGEpLCEwfSxpLlBhcnRpY2xlcy5BcmNhZGUuRW1pdHRlci5wcm90b3R5cGUuZ2V0TmV4dFBhcnRpY2xlPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMubGVuZ3RoO3QtLTspe3ZhciBlPXRoaXMubmV4dCgpO2lmKCFlLmV4aXN0cylyZXR1cm4gZX1yZXR1cm4gbnVsbH0saS5QYXJ0aWNsZXMuQXJjYWRlLkVtaXR0ZXIucHJvdG90eXBlLnJlc2V0UGFydGljbGU9ZnVuY3Rpb24odCxlLGkpe3ZhciBzPXRoaXMuZ2FtZS5ybmQ7dC5yZXNldChlLGkpLHQuYW5nbGU9MCx0LmxpZmVzcGFuPXRoaXMubGlmZXNwYW4sdGhpcy5wYXJ0aWNsZUJyaW5nVG9Ub3A/dGhpcy5icmluZ1RvVG9wKHQpOnRoaXMucGFydGljbGVTZW5kVG9CYWNrJiZ0aGlzLnNlbmRUb0JhY2sodCksdGhpcy5hdXRvU2NhbGU/dC5zZXRTY2FsZURhdGEodGhpcy5zY2FsZURhdGEpOjEhPT10aGlzLm1pblBhcnRpY2xlU2NhbGV8fDEhPT10aGlzLm1heFBhcnRpY2xlU2NhbGU/dC5zY2FsZS5zZXQocy5yZWFsSW5SYW5nZSh0aGlzLm1pblBhcnRpY2xlU2NhbGUsdGhpcy5tYXhQYXJ0aWNsZVNjYWxlKSk6dGhpcy5fbWluUGFydGljbGVTY2FsZS54IT09dGhpcy5fbWF4UGFydGljbGVTY2FsZS54fHx0aGlzLl9taW5QYXJ0aWNsZVNjYWxlLnkhPT10aGlzLl9tYXhQYXJ0aWNsZVNjYWxlLnk/dC5zY2FsZS5zZXQocy5yZWFsSW5SYW5nZSh0aGlzLl9taW5QYXJ0aWNsZVNjYWxlLngsdGhpcy5fbWF4UGFydGljbGVTY2FsZS54KSxzLnJlYWxJblJhbmdlKHRoaXMuX21pblBhcnRpY2xlU2NhbGUueSx0aGlzLl9tYXhQYXJ0aWNsZVNjYWxlLnkpKTp0LnNjYWxlLnNldCh0aGlzLl9taW5QYXJ0aWNsZVNjYWxlLngsdGhpcy5fbWluUGFydGljbGVTY2FsZS55KSx0aGlzLmF1dG9BbHBoYT90LnNldEFscGhhRGF0YSh0aGlzLmFscGhhRGF0YSk6dC5hbHBoYT1zLnJlYWxJblJhbmdlKHRoaXMubWluUGFydGljbGVBbHBoYSx0aGlzLm1heFBhcnRpY2xlQWxwaGEpLHQuYmxlbmRNb2RlPXRoaXMuYmxlbmRNb2RlO3ZhciBuPXQuYm9keTtuLnVwZGF0ZUJvdW5kcygpLG4uYm91bmNlLmNvcHlGcm9tKHRoaXMuYm91bmNlKSxuLmRyYWcuY29weUZyb20odGhpcy5wYXJ0aWNsZURyYWcpLG51bGwhPXRoaXMubWluQW5nbGUmJm51bGwhPXRoaXMubWF4QW5nbGU/dGhpcy5nYW1lLnBoeXNpY3MuYXJjYWRlLnZlbG9jaXR5RnJvbUFuZ2xlKHRoaXMubWluQW5nbGU9PT10aGlzLm1heEFuZ2xlP3RoaXMubWluQW5nbGU6cy5iZXR3ZWVuKHRoaXMubWluQW5nbGUsdGhpcy5tYXhBbmdsZSksdGhpcy5taW5TcGVlZD09PXRoaXMubWF4U3BlZWQ/dGhpcy5taW5TcGVlZDpzLmJldHdlZW4odGhpcy5taW5TcGVlZCx0aGlzLm1heFNwZWVkKSxuLnZlbG9jaXR5KToobi52ZWxvY2l0eS54PXMuYmV0d2Vlbih0aGlzLm1pblBhcnRpY2xlU3BlZWQueCx0aGlzLm1heFBhcnRpY2xlU3BlZWQueCksbi52ZWxvY2l0eS55PXMuYmV0d2Vlbih0aGlzLm1pblBhcnRpY2xlU3BlZWQueSx0aGlzLm1heFBhcnRpY2xlU3BlZWQueSkpLG4uYW5ndWxhclZlbG9jaXR5PXMuYmV0d2Vlbih0aGlzLm1pblJvdGF0aW9uLHRoaXMubWF4Um90YXRpb24pLG4uZ3Jhdml0eS5jb3B5RnJvbSh0aGlzLmdyYXZpdHkpLG4uYW5ndWxhckRyYWc9dGhpcy5hbmd1bGFyRHJhZyx0Lm9uRW1pdCgpfSxpLlBhcnRpY2xlcy5BcmNhZGUuRW1pdHRlci5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuZ2FtZS5wYXJ0aWNsZXMucmVtb3ZlKHRoaXMpLGkuR3JvdXAucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzLCEwLCExKX0saS5QYXJ0aWNsZXMuQXJjYWRlLkVtaXR0ZXIucHJvdG90eXBlLnNldFNpemU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5hcmVhLndpZHRoPXQsdGhpcy5hcmVhLmhlaWdodD1lLHRoaXN9LGkuUGFydGljbGVzLkFyY2FkZS5FbWl0dGVyLnByb3RvdHlwZS5zZXRYU3BlZWQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdD10fHwwLGU9ZXx8MCx0aGlzLm1pblBhcnRpY2xlU3BlZWQueD10LHRoaXMubWF4UGFydGljbGVTcGVlZC54PWUsdGhpc30saS5QYXJ0aWNsZXMuQXJjYWRlLkVtaXR0ZXIucHJvdG90eXBlLnNldFlTcGVlZD1mdW5jdGlvbih0LGUpe3JldHVybiB0PXR8fDAsZT1lfHwwLHRoaXMubWluUGFydGljbGVTcGVlZC55PXQsdGhpcy5tYXhQYXJ0aWNsZVNwZWVkLnk9ZSx0aGlzfSxpLlBhcnRpY2xlcy5BcmNhZGUuRW1pdHRlci5wcm90b3R5cGUuc2V0Um90YXRpb249ZnVuY3Rpb24odCxlKXtyZXR1cm4gdD10fHwwLGU9ZXx8MCx0aGlzLm1pblJvdGF0aW9uPXQsdGhpcy5tYXhSb3RhdGlvbj1lLHRoaXN9LGkuUGFydGljbGVzLkFyY2FkZS5FbWl0dGVyLnByb3RvdHlwZS5zZXRBbHBoYT1mdW5jdGlvbih0LGUscyxuLG8pe2lmKHZvaWQgMD09PXQmJih0PTEpLHZvaWQgMD09PWUmJihlPTEpLHZvaWQgMD09PXMmJihzPTApLHZvaWQgMD09PW4mJihuPWkuRWFzaW5nLkxpbmVhci5Ob25lKSx2b2lkIDA9PT1vJiYobz0hMSksdGhpcy5taW5QYXJ0aWNsZUFscGhhPXQsdGhpcy5tYXhQYXJ0aWNsZUFscGhhPWUsdGhpcy5hdXRvQWxwaGE9ITEscz4wJiZ0IT09ZSl7dmFyIHI9e3Y6dH0sYT10aGlzLmdhbWUubWFrZS50d2VlbihyKS50byh7djplfSxzLG4pO2EueW95byhvKSx0aGlzLmFscGhhRGF0YT1hLmdlbmVyYXRlRGF0YSg2MCksdGhpcy5hbHBoYURhdGEucmV2ZXJzZSgpLHRoaXMuYXV0b0FscGhhPSEwfXJldHVybiB0aGlzfSxpLlBhcnRpY2xlcy5BcmNhZGUuRW1pdHRlci5wcm90b3R5cGUuc2V0U2NhbGU9ZnVuY3Rpb24odCxlLHMsbixvLHIsYSl7aWYodm9pZCAwPT09dCYmKHQ9MSksdm9pZCAwPT09ZSYmKGU9MSksdm9pZCAwPT09cyYmKHM9MSksdm9pZCAwPT09biYmKG49MSksdm9pZCAwPT09byYmKG89MCksdm9pZCAwPT09ciYmKHI9aS5FYXNpbmcuTGluZWFyLk5vbmUpLHZvaWQgMD09PWEmJihhPSExKSx0aGlzLm1pblBhcnRpY2xlU2NhbGU9MSx0aGlzLm1heFBhcnRpY2xlU2NhbGU9MSx0aGlzLl9taW5QYXJ0aWNsZVNjYWxlLnNldCh0LHMpLHRoaXMuX21heFBhcnRpY2xlU2NhbGUuc2V0KGUsbiksdGhpcy5hdXRvU2NhbGU9ITEsbz4wJiYodCE9PWV8fHMhPT1uKSl7dmFyIGg9e3g6dCx5OnN9LGw9dGhpcy5nYW1lLm1ha2UudHdlZW4oaCkudG8oe3g6ZSx5Om59LG8scik7bC55b3lvKGEpLHRoaXMuc2NhbGVEYXRhPWwuZ2VuZXJhdGVEYXRhKDYwKSx0aGlzLnNjYWxlRGF0YS5yZXZlcnNlKCksdGhpcy5hdXRvU2NhbGU9ITB9cmV0dXJuIHRoaXN9LGkuUGFydGljbGVzLkFyY2FkZS5FbWl0dGVyLnByb3RvdHlwZS5zZXRBbmdsZT1mdW5jdGlvbih0LGUsaSxzKXtyZXR1cm4gdGhpcy5taW5BbmdsZT10LHRoaXMubWF4QW5nbGU9ZSxudWxsIT1pJiYodGhpcy5taW5TcGVlZD1pKSxudWxsIT1zJiYodGhpcy5tYXhTcGVlZD1zKSx0aGlzfSxpLlBhcnRpY2xlcy5BcmNhZGUuRW1pdHRlci5wcm90b3R5cGUuYXQ9ZnVuY3Rpb24odCl7cmV0dXJuIHQuY2VudGVyPyh0aGlzLmVtaXRYPXQuY2VudGVyLngsdGhpcy5lbWl0WT10LmNlbnRlci55KToodGhpcy5lbWl0WD10LndvcmxkLngrdC5hbmNob3IueCp0LndpZHRoLHRoaXMuZW1pdFk9dC53b3JsZC55K3QuYW5jaG9yLnkqdC5oZWlnaHQpLHRoaXN9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLlBhcnRpY2xlcy5BcmNhZGUuRW1pdHRlci5wcm90b3R5cGUsXCJncmF2aXR5XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9ncmF2aXR5fSxzZXQ6ZnVuY3Rpb24odCl7XCJudW1iZXJcIj09dHlwZW9mIHQ/dGhpcy5fZ3Jhdml0eS55PXQ6dGhpcy5fZ3Jhdml0eT10fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLlBhcnRpY2xlcy5BcmNhZGUuRW1pdHRlci5wcm90b3R5cGUsXCJpZFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faWR9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuUGFydGljbGVzLkFyY2FkZS5FbWl0dGVyLnByb3RvdHlwZSxcIndpZHRoXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmFyZWEud2lkdGh9LHNldDpmdW5jdGlvbih0KXt0aGlzLmFyZWEud2lkdGg9dH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5QYXJ0aWNsZXMuQXJjYWRlLkVtaXR0ZXIucHJvdG90eXBlLFwiaGVpZ2h0XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmFyZWEuaGVpZ2h0fSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5hcmVhLmhlaWdodD10fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLlBhcnRpY2xlcy5BcmNhZGUuRW1pdHRlci5wcm90b3R5cGUsXCJ4XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVtaXRYfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5lbWl0WD10fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLlBhcnRpY2xlcy5BcmNhZGUuRW1pdHRlci5wcm90b3R5cGUsXCJ5XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVtaXRZfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5lbWl0WT10fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLlBhcnRpY2xlcy5BcmNhZGUuRW1pdHRlci5wcm90b3R5cGUsXCJsZWZ0XCIse2dldDpmdW5jdGlvbigpe3JldHVybiBNYXRoLmZsb29yKHRoaXMueC10aGlzLmFyZWEud2lkdGgvMil9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuUGFydGljbGVzLkFyY2FkZS5FbWl0dGVyLnByb3RvdHlwZSxcInJpZ2h0XCIse2dldDpmdW5jdGlvbigpe3JldHVybiBNYXRoLmZsb29yKHRoaXMueCt0aGlzLmFyZWEud2lkdGgvMil9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuUGFydGljbGVzLkFyY2FkZS5FbWl0dGVyLnByb3RvdHlwZSxcInRvcFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gTWF0aC5mbG9vcih0aGlzLnktdGhpcy5hcmVhLmhlaWdodC8yKX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5QYXJ0aWNsZXMuQXJjYWRlLkVtaXR0ZXIucHJvdG90eXBlLFwiYm90dG9tXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBNYXRoLmZsb29yKHRoaXMueSt0aGlzLmFyZWEuaGVpZ2h0LzIpfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLlBhcnRpY2xlcy5BcmNhZGUuRW1pdHRlci5wcm90b3R5cGUsXCJvdXRwdXRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDFlMyp0aGlzLl9mbG93UXVhbnRpdHkvdGhpcy5mcmVxdWVuY3l9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuUGFydGljbGVzLkFyY2FkZS5FbWl0dGVyLnByb3RvdHlwZSxcImxpZmVzcGFuT3V0cHV0XCIse2dldDpmdW5jdGlvbigpe3JldHVybigwPT09dGhpcy5saWZlc3Bhbj8xLzA6dGhpcy5saWZlc3BhbikqdGhpcy5fZmxvd1F1YW50aXR5L3RoaXMuZnJlcXVlbmN5fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLlBhcnRpY2xlcy5BcmNhZGUuRW1pdHRlci5wcm90b3R5cGUsXCJyZW1haW5kZXJcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWF4UGFydGljbGVzLXRoaXMubGlmZXNwYW5PdXRwdXR9fSksaS5XZWFwb249ZnVuY3Rpb24odCxlKXtpLlBsdWdpbi5jYWxsKHRoaXMsdCxlKSx0aGlzLmJ1bGxldHM9bnVsbCx0aGlzLmF1dG9FeHBhbmRCdWxsZXRzR3JvdXA9ITEsdGhpcy5hdXRvZmlyZT0hMSx0aGlzLnNob3RzPTAsdGhpcy5maXJlTGltaXQ9MCx0aGlzLmZpcmVSYXRlPTEwMCx0aGlzLmZpcmVSYXRlVmFyaWFuY2U9MCx0aGlzLmZpcmVGcm9tPW5ldyBpLlJlY3RhbmdsZSgwLDAsMSwxKSx0aGlzLmZpcmVBbmdsZT1pLkFOR0xFX1VQLHRoaXMuYnVsbGV0SW5oZXJpdFNwcml0ZVNwZWVkPSExLHRoaXMuYnVsbGV0QW5pbWF0aW9uPVwiXCIsdGhpcy5idWxsZXRGcmFtZVJhbmRvbT0hMSx0aGlzLmJ1bGxldEZyYW1lQ3ljbGU9ITEsdGhpcy5idWxsZXRXb3JsZFdyYXA9ITEsdGhpcy5idWxsZXRXb3JsZFdyYXBQYWRkaW5nPTAsdGhpcy5idWxsZXRBbmdsZU9mZnNldD0wLHRoaXMuYnVsbGV0QW5nbGVWYXJpYW5jZT0wLHRoaXMuYnVsbGV0U3BlZWQ9MjAwLHRoaXMuYnVsbGV0U3BlZWRWYXJpYW5jZT0wLHRoaXMuYnVsbGV0TGlmZXNwYW49MCx0aGlzLmJ1bGxldEtpbGxEaXN0YW5jZT0wLHRoaXMuYnVsbGV0R3Jhdml0eT1uZXcgaS5Qb2ludCgwLDApLHRoaXMuYnVsbGV0Um90YXRlVG9WZWxvY2l0eT0hMSx0aGlzLmJ1bGxldEtleT1cIlwiLHRoaXMuYnVsbGV0RnJhbWU9XCJcIix0aGlzLl9idWxsZXRDbGFzcz1pLkJ1bGxldCx0aGlzLl9idWxsZXRDb2xsaWRlV29ybGRCb3VuZHM9ITEsdGhpcy5fYnVsbGV0S2lsbFR5cGU9aS5XZWFwb24uS0lMTF9XT1JMRF9CT1VORFMsdGhpcy5fZGF0YT17Y3VzdG9tQm9keTohMSx3aWR0aDowLGhlaWdodDowLG9mZnNldFg6MCxvZmZzZXRZOjB9LHRoaXMuYm91bmRzPW5ldyBpLlJlY3RhbmdsZSx0aGlzLmJ1bGxldEJvdW5kcz10LndvcmxkLmJvdW5kcyx0aGlzLmJ1bGxldEZyYW1lcz1bXSx0aGlzLmJ1bGxldEZyYW1lSW5kZXg9MCx0aGlzLmFuaW1zPXt9LHRoaXMub25GaXJlPW5ldyBpLlNpZ25hbCx0aGlzLm9uS2lsbD1uZXcgaS5TaWduYWwsdGhpcy5vbkZpcmVMaW1pdD1uZXcgaS5TaWduYWwsdGhpcy50cmFja2VkU3ByaXRlPW51bGwsdGhpcy50cmFja2VkUG9pbnRlcj1udWxsLHRoaXMubXVsdGlGaXJlPSExLHRoaXMuX2hhc0ZpcmVkPSExLHRoaXMudHJhY2tSb3RhdGlvbj0hMSx0aGlzLnRyYWNrT2Zmc2V0PW5ldyBpLlBvaW50LHRoaXMuX25leHRGaXJlPTAsdGhpcy5fdGVtcE5leHRGaXJlPTAsdGhpcy5fcm90YXRlZFBvaW50PW5ldyBpLlBvaW50fSxpLldlYXBvbi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShpLlBsdWdpbi5wcm90b3R5cGUpLGkuV2VhcG9uLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1pLldlYXBvbixpLldlYXBvbi5LSUxMX05FVkVSPTAsaS5XZWFwb24uS0lMTF9MSUZFU1BBTj0xLGkuV2VhcG9uLktJTExfRElTVEFOQ0U9MixpLldlYXBvbi5LSUxMX1dFQVBPTl9CT1VORFM9MyxpLldlYXBvbi5LSUxMX0NBTUVSQV9CT1VORFM9NCxpLldlYXBvbi5LSUxMX1dPUkxEX0JPVU5EUz01LGkuV2VhcG9uLktJTExfU1RBVElDX0JPVU5EUz02LGkuV2VhcG9uLnByb3RvdHlwZS5jcmVhdGVCdWxsZXRzPWZ1bmN0aW9uKHQsZSxzLG4pe3JldHVybiB2b2lkIDA9PT10JiYodD0xKSx2b2lkIDA9PT1uJiYobj10aGlzLmdhbWUud29ybGQpLHRoaXMuYnVsbGV0c3x8KHRoaXMuYnVsbGV0cz10aGlzLmdhbWUuYWRkLnBoeXNpY3NHcm91cChpLlBoeXNpY3MuQVJDQURFLG4pLHRoaXMuYnVsbGV0cy5jbGFzc1R5cGU9dGhpcy5fYnVsbGV0Q2xhc3MpLDAhPT10JiYoLTE9PT10JiYodGhpcy5hdXRvRXhwYW5kQnVsbGV0c0dyb3VwPSEwLHQ9MSksdGhpcy5idWxsZXRzLmNyZWF0ZU11bHRpcGxlKHQsZSxzKSx0aGlzLmJ1bGxldHMuc2V0QWxsKFwiZGF0YS5idWxsZXRNYW5hZ2VyXCIsdGhpcyksdGhpcy5idWxsZXRLZXk9ZSx0aGlzLmJ1bGxldEZyYW1lPXMpLHRoaXN9LGkuV2VhcG9uLnByb3RvdHlwZS5mb3JFYWNoPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuYnVsbGV0cy5mb3JFYWNoRXhpc3RzKHQsZSxhcmd1bWVudHMpLHRoaXN9LGkuV2VhcG9uLnByb3RvdHlwZS5wYXVzZUFsbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmJ1bGxldHMuc2V0QWxsKFwiYm9keS5lbmFibGVcIiwhMSksdGhpc30saS5XZWFwb24ucHJvdG90eXBlLnJlc3VtZUFsbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmJ1bGxldHMuc2V0QWxsKFwiYm9keS5lbmFibGVcIiwhMCksdGhpc30saS5XZWFwb24ucHJvdG90eXBlLmtpbGxBbGw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5idWxsZXRzLmNhbGxBbGxFeGlzdHMoXCJraWxsXCIsITApLHRoaXMuYnVsbGV0cy5zZXRBbGwoXCJib2R5LmVuYWJsZVwiLCEwKSx0aGlzfSxpLldlYXBvbi5wcm90b3R5cGUucmVzZXRTaG90cz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5zaG90cz0wLHZvaWQgMCE9PXQmJih0aGlzLmZpcmVMaW1pdD10KSx0aGlzfSxpLldlYXBvbi5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMucGFyZW50LnJlbW92ZSh0aGlzLCExKSx0aGlzLmJ1bGxldHMuZGVzdHJveSgpLHRoaXMuZ2FtZT1udWxsLHRoaXMucGFyZW50PW51bGwsdGhpcy5hY3RpdmU9ITEsdGhpcy52aXNpYmxlPSExfSxpLldlYXBvbi5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKCl7dGhpcy5fYnVsbGV0S2lsbFR5cGU9PT1pLldlYXBvbi5LSUxMX1dFQVBPTl9CT1VORFMmJih0aGlzLnRyYWNrZWRTcHJpdGU/KHRoaXMudHJhY2tlZFNwcml0ZS51cGRhdGVUcmFuc2Zvcm0oKSx0aGlzLmJvdW5kcy5jZW50ZXJPbih0aGlzLnRyYWNrZWRTcHJpdGUud29ybGRQb3NpdGlvbi54LHRoaXMudHJhY2tlZFNwcml0ZS53b3JsZFBvc2l0aW9uLnkpKTp0aGlzLnRyYWNrZWRQb2ludGVyJiZ0aGlzLmJvdW5kcy5jZW50ZXJPbih0aGlzLnRyYWNrZWRQb2ludGVyLndvcmxkWCx0aGlzLnRyYWNrZWRQb2ludGVyLndvcmxkWSkpLHRoaXMuYXV0b2ZpcmUmJnRoaXMuZmlyZSgpfSxpLldlYXBvbi5wcm90b3R5cGUucG9zdFJlbmRlcj1mdW5jdGlvbigpe3RoaXMubXVsdGlGaXJlJiZ0aGlzLl9oYXNGaXJlZCYmKHRoaXMuX2hhc0ZpcmVkPSExLHRoaXMuX25leHRGaXJlPXRoaXMuX3RlbXBOZXh0RmlyZSl9LGkuV2VhcG9uLnByb3RvdHlwZS50cmFja1Nwcml0ZT1mdW5jdGlvbih0LGUsaSxzKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9MCksdm9pZCAwPT09aSYmKGk9MCksdm9pZCAwPT09cyYmKHM9ITEpLHRoaXMudHJhY2tlZFBvaW50ZXI9bnVsbCx0aGlzLnRyYWNrZWRTcHJpdGU9dCx0aGlzLnRyYWNrUm90YXRpb249cyx0aGlzLnRyYWNrT2Zmc2V0LnNldChlLGkpLHRoaXN9LGkuV2VhcG9uLnByb3RvdHlwZS50cmFja1BvaW50ZXI9ZnVuY3Rpb24odCxlLGkpe3JldHVybiB2b2lkIDA9PT10JiYodD10aGlzLmdhbWUuaW5wdXQuYWN0aXZlUG9pbnRlciksdm9pZCAwPT09ZSYmKGU9MCksdm9pZCAwPT09aSYmKGk9MCksdGhpcy50cmFja2VkUG9pbnRlcj10LHRoaXMudHJhY2tlZFNwcml0ZT1udWxsLHRoaXMudHJhY2tSb3RhdGlvbj0hMSx0aGlzLnRyYWNrT2Zmc2V0LnNldChlLGkpLHRoaXN9LGkuV2VhcG9uLnByb3RvdHlwZS5maXJlTWFueT1mdW5jdGlvbih0LGUpe3RoaXMubXVsdGlGaXJlPSEwO3ZhciBpPVtdLHM9dGhpcztyZXR1cm4gZXx8dGhpcy50cmFja2VkU3ByaXRlfHx0aGlzLnRyYWNrZWRQb2ludGVyP3QuZm9yRWFjaChmdW5jdGlvbih0KXtpLnB1c2gocy5maXJlKGUsbnVsbCxudWxsLHQueCx0LnkpKX0pOnQuZm9yRWFjaChmdW5jdGlvbih0KXtpLnB1c2gocy5maXJlKHQpKX0pLGl9LGkuV2VhcG9uLnByb3RvdHlwZS5maXJlT2Zmc2V0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHZvaWQgMD09PXQmJih0PTApLHZvaWQgMD09PWUmJihlPTApLHRoaXMuZmlyZShudWxsLG51bGwsbnVsbCx0LGUpfSxpLldlYXBvbi5wcm90b3R5cGUuZmlyZT1mdW5jdGlvbih0LGUscyxuLG8pe2lmKHZvaWQgMD09PWUmJihlPW51bGwpLHZvaWQgMD09PXMmJihzPW51bGwpLHRoaXMuZ2FtZS50aW1lLm5vdzx0aGlzLl9uZXh0RmlyZXx8dGhpcy5maXJlTGltaXQ+MCYmdGhpcy5zaG90cz09PXRoaXMuZmlyZUxpbWl0KXJldHVybiBudWxsO3ZhciByPXRoaXMuYnVsbGV0U3BlZWQ7MCE9PXRoaXMuYnVsbGV0U3BlZWRWYXJpYW5jZSYmKHIrPWkuTWF0aC5iZXR3ZWVuKC10aGlzLmJ1bGxldFNwZWVkVmFyaWFuY2UsdGhpcy5idWxsZXRTcGVlZFZhcmlhbmNlKSksdD90aGlzLmZpcmVGcm9tLndpZHRoPjE/dGhpcy5maXJlRnJvbS5jZW50ZXJPbih0LngsdC55KToodGhpcy5maXJlRnJvbS54PXQueCx0aGlzLmZpcmVGcm9tLnk9dC55KTp0aGlzLnRyYWNrZWRTcHJpdGU/KHRoaXMudHJhY2tSb3RhdGlvbj8odGhpcy5fcm90YXRlZFBvaW50LnNldCh0aGlzLnRyYWNrZWRTcHJpdGUud29ybGQueCt0aGlzLnRyYWNrT2Zmc2V0LngsdGhpcy50cmFja2VkU3ByaXRlLndvcmxkLnkrdGhpcy50cmFja09mZnNldC55KSx0aGlzLl9yb3RhdGVkUG9pbnQucm90YXRlKHRoaXMudHJhY2tlZFNwcml0ZS53b3JsZC54LHRoaXMudHJhY2tlZFNwcml0ZS53b3JsZC55LHRoaXMudHJhY2tlZFNwcml0ZS53b3JsZFJvdGF0aW9uKSx0aGlzLmZpcmVGcm9tLndpZHRoPjE/dGhpcy5maXJlRnJvbS5jZW50ZXJPbih0aGlzLl9yb3RhdGVkUG9pbnQueCx0aGlzLl9yb3RhdGVkUG9pbnQueSk6KHRoaXMuZmlyZUZyb20ueD10aGlzLl9yb3RhdGVkUG9pbnQueCx0aGlzLmZpcmVGcm9tLnk9dGhpcy5fcm90YXRlZFBvaW50LnkpKTp0aGlzLmZpcmVGcm9tLndpZHRoPjE/dGhpcy5maXJlRnJvbS5jZW50ZXJPbih0aGlzLnRyYWNrZWRTcHJpdGUud29ybGQueCt0aGlzLnRyYWNrT2Zmc2V0LngsdGhpcy50cmFja2VkU3ByaXRlLndvcmxkLnkrdGhpcy50cmFja09mZnNldC55KToodGhpcy5maXJlRnJvbS54PXRoaXMudHJhY2tlZFNwcml0ZS53b3JsZC54K3RoaXMudHJhY2tPZmZzZXQueCx0aGlzLmZpcmVGcm9tLnk9dGhpcy50cmFja2VkU3ByaXRlLndvcmxkLnkrdGhpcy50cmFja09mZnNldC55KSx0aGlzLmJ1bGxldEluaGVyaXRTcHJpdGVTcGVlZCYmKHIrPXRoaXMudHJhY2tlZFNwcml0ZS5ib2R5LnNwZWVkKSk6dGhpcy50cmFja2VkUG9pbnRlciYmKHRoaXMuZmlyZUZyb20ud2lkdGg+MT90aGlzLmZpcmVGcm9tLmNlbnRlck9uKHRoaXMudHJhY2tlZFBvaW50ZXIud29ybGQueCt0aGlzLnRyYWNrT2Zmc2V0LngsdGhpcy50cmFja2VkUG9pbnRlci53b3JsZC55K3RoaXMudHJhY2tPZmZzZXQueSk6KHRoaXMuZmlyZUZyb20ueD10aGlzLnRyYWNrZWRQb2ludGVyLndvcmxkLngrdGhpcy50cmFja09mZnNldC54LHRoaXMuZmlyZUZyb20ueT10aGlzLnRyYWNrZWRQb2ludGVyLndvcmxkLnkrdGhpcy50cmFja09mZnNldC55KSksdm9pZCAwIT09biYmKHRoaXMuZmlyZUZyb20ueCs9biksdm9pZCAwIT09byYmKHRoaXMuZmlyZUZyb20ueSs9byk7dmFyIGE9dGhpcy5maXJlRnJvbS53aWR0aD4xP3RoaXMuZmlyZUZyb20ucmFuZG9tWDp0aGlzLmZpcmVGcm9tLngsaD10aGlzLmZpcmVGcm9tLmhlaWdodD4xP3RoaXMuZmlyZUZyb20ucmFuZG9tWTp0aGlzLmZpcmVGcm9tLnksbD10aGlzLnRyYWNrUm90YXRpb24/dGhpcy50cmFja2VkU3ByaXRlLmFuZ2xlOnRoaXMuZmlyZUFuZ2xlO251bGwhPT1lJiZudWxsIT09cyYmKGw9dGhpcy5nYW1lLm1hdGgucmFkVG9EZWcoTWF0aC5hdGFuMihzLWgsZS1hKSkpLDAhPT10aGlzLmJ1bGxldEFuZ2xlVmFyaWFuY2UmJihsKz1pLk1hdGguYmV0d2VlbigtdGhpcy5idWxsZXRBbmdsZVZhcmlhbmNlLHRoaXMuYnVsbGV0QW5nbGVWYXJpYW5jZSkpO3ZhciBjPTAsdT0wOzA9PT1sfHwxODA9PT1sP2M9TWF0aC5jb3ModGhpcy5nYW1lLm1hdGguZGVnVG9SYWQobCkpKnI6OTA9PT1sfHwyNzA9PT1sP3U9TWF0aC5zaW4odGhpcy5nYW1lLm1hdGguZGVnVG9SYWQobCkpKnI6KGM9TWF0aC5jb3ModGhpcy5nYW1lLm1hdGguZGVnVG9SYWQobCkpKnIsdT1NYXRoLnNpbih0aGlzLmdhbWUubWF0aC5kZWdUb1JhZChsKSkqcik7dmFyIGQ9bnVsbDtpZih0aGlzLmF1dG9FeHBhbmRCdWxsZXRzR3JvdXA/KGQ9dGhpcy5idWxsZXRzLmdldEZpcnN0RXhpc3RzKCExLCEwLGEsaCx0aGlzLmJ1bGxldEtleSx0aGlzLmJ1bGxldEZyYW1lKSkuZGF0YS5idWxsZXRNYW5hZ2VyPXRoaXM6ZD10aGlzLmJ1bGxldHMuZ2V0Rmlyc3RFeGlzdHMoITEpLGQpe2lmKGQucmVzZXQoYSxoKSxkLmRhdGEuZnJvbVg9YSxkLmRhdGEuZnJvbVk9aCxkLmRhdGEua2lsbFR5cGU9dGhpcy5idWxsZXRLaWxsVHlwZSxkLmRhdGEua2lsbERpc3RhbmNlPXRoaXMuYnVsbGV0S2lsbERpc3RhbmNlLGQuZGF0YS5yb3RhdGVUb1ZlbG9jaXR5PXRoaXMuYnVsbGV0Um90YXRlVG9WZWxvY2l0eSx0aGlzLmJ1bGxldEtpbGxUeXBlPT09aS5XZWFwb24uS0lMTF9MSUZFU1BBTiYmKGQubGlmZXNwYW49dGhpcy5idWxsZXRMaWZlc3BhbiksZC5hbmdsZT1sK3RoaXMuYnVsbGV0QW5nbGVPZmZzZXQsXCJcIiE9PXRoaXMuYnVsbGV0QW5pbWF0aW9uKXtpZihudWxsPT09ZC5hbmltYXRpb25zLmdldEFuaW1hdGlvbih0aGlzLmJ1bGxldEFuaW1hdGlvbikpe3ZhciBwPXRoaXMuYW5pbXNbdGhpcy5idWxsZXRBbmltYXRpb25dO2QuYW5pbWF0aW9ucy5hZGQocC5uYW1lLHAuZnJhbWVzLHAuZnJhbWVSYXRlLHAubG9vcCxwLnVzZU51bWVyaWNJbmRleCl9ZC5hbmltYXRpb25zLnBsYXkodGhpcy5idWxsZXRBbmltYXRpb24pfWVsc2UgdGhpcy5idWxsZXRGcmFtZUN5Y2xlPyhkLmZyYW1lPXRoaXMuYnVsbGV0RnJhbWVzW3RoaXMuYnVsbGV0RnJhbWVJbmRleF0sKyt0aGlzLmJ1bGxldEZyYW1lSW5kZXg+PXRoaXMuYnVsbGV0RnJhbWVzLmxlbmd0aCYmKHRoaXMuYnVsbGV0RnJhbWVJbmRleD0wKSk6dGhpcy5idWxsZXRGcmFtZVJhbmRvbSYmKGQuZnJhbWU9dGhpcy5idWxsZXRGcmFtZXNbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKnRoaXMuYnVsbGV0RnJhbWVzLmxlbmd0aCldKTtkLmRhdGEuYm9keURpcnR5JiYodGhpcy5fZGF0YS5jdXN0b21Cb2R5JiZkLmJvZHkuc2V0U2l6ZSh0aGlzLl9kYXRhLndpZHRoLHRoaXMuX2RhdGEuaGVpZ2h0LHRoaXMuX2RhdGEub2Zmc2V0WCx0aGlzLl9kYXRhLm9mZnNldFkpLGQuYm9keS5jb2xsaWRlV29ybGRCb3VuZHM9dGhpcy5idWxsZXRDb2xsaWRlV29ybGRCb3VuZHMsZC5kYXRhLmJvZHlEaXJ0eT0hMSksZC5ib2R5LnZlbG9jaXR5LnNldChjLHUpLGQuYm9keS5ncmF2aXR5LnNldCh0aGlzLmJ1bGxldEdyYXZpdHkueCx0aGlzLmJ1bGxldEdyYXZpdHkueSk7dmFyIGY9MDtpZigwIT09dGhpcy5idWxsZXRTcGVlZFZhcmlhbmNlKXt2YXIgbT10aGlzLmZpcmVSYXRlOyhtKz1pLk1hdGguYmV0d2VlbigtdGhpcy5maXJlUmF0ZVZhcmlhbmNlLHRoaXMuZmlyZVJhdGVWYXJpYW5jZSkpPDAmJihtPTApLGY9dGhpcy5nYW1lLnRpbWUubm93K219ZWxzZSBmPXRoaXMuZ2FtZS50aW1lLm5vdyt0aGlzLmZpcmVSYXRlO3RoaXMubXVsdGlGaXJlP3RoaXMuX2hhc0ZpcmVkfHwodGhpcy5faGFzRmlyZWQ9ITAsdGhpcy5fdGVtcE5leHRGaXJlPWYsdGhpcy5zaG90cysrKToodGhpcy5fbmV4dEZpcmU9Zix0aGlzLnNob3RzKyspLHRoaXMub25GaXJlLmRpc3BhdGNoKGQsdGhpcyxyKSx0aGlzLmZpcmVMaW1pdD4wJiZ0aGlzLnNob3RzPT09dGhpcy5maXJlTGltaXQmJnRoaXMub25GaXJlTGltaXQuZGlzcGF0Y2godGhpcyx0aGlzLmZpcmVMaW1pdCl9cmV0dXJuIGR9LGkuV2VhcG9uLnByb3RvdHlwZS5maXJlQXRQb2ludGVyPWZ1bmN0aW9uKHQpe3JldHVybiB2b2lkIDA9PT10JiYodD10aGlzLmdhbWUuaW5wdXQuYWN0aXZlUG9pbnRlciksdGhpcy5maXJlKG51bGwsdC53b3JsZFgsdC53b3JsZFkpfSxpLldlYXBvbi5wcm90b3R5cGUuZmlyZUF0U3ByaXRlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmZpcmUobnVsbCx0LndvcmxkLngsdC53b3JsZC55KX0saS5XZWFwb24ucHJvdG90eXBlLmZpcmVBdFhZPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuZmlyZShudWxsLHQsZSl9LGkuV2VhcG9uLnByb3RvdHlwZS5zZXRCdWxsZXRCb2R5T2Zmc2V0PWZ1bmN0aW9uKHQsZSxpLHMpe3JldHVybiB2b2lkIDA9PT1pJiYoaT0wKSx2b2lkIDA9PT1zJiYocz0wKSx0aGlzLl9kYXRhLmN1c3RvbUJvZHk9ITAsdGhpcy5fZGF0YS53aWR0aD10LHRoaXMuX2RhdGEuaGVpZ2h0PWUsdGhpcy5fZGF0YS5vZmZzZXRYPWksdGhpcy5fZGF0YS5vZmZzZXRZPXMsdGhpcy5idWxsZXRzLmNhbGxBbGwoXCJib2R5LnNldFNpemVcIixcImJvZHlcIix0LGUsaSxzKSx0aGlzLmJ1bGxldHMuc2V0QWxsKFwiZGF0YS5ib2R5RGlydHlcIiwhMSksdGhpc30saS5XZWFwb24ucHJvdG90eXBlLnNldEJ1bGxldEZyYW1lcz1mdW5jdGlvbih0LGUscyxuKXtyZXR1cm4gdm9pZCAwPT09cyYmKHM9ITApLHZvaWQgMD09PW4mJihuPSExKSx0aGlzLmJ1bGxldEZyYW1lcz1pLkFycmF5VXRpbHMubnVtYmVyQXJyYXkodCxlKSx0aGlzLmJ1bGxldEZyYW1lSW5kZXg9MCx0aGlzLmJ1bGxldEZyYW1lQ3ljbGU9cyx0aGlzLmJ1bGxldEZyYW1lUmFuZG9tPW4sdGhpc30saS5XZWFwb24ucHJvdG90eXBlLmFkZEJ1bGxldEFuaW1hdGlvbj1mdW5jdGlvbih0LGUsaSxzLG4pe3JldHVybiB0aGlzLmFuaW1zW3RdPXtuYW1lOnQsZnJhbWVzOmUsZnJhbWVSYXRlOmksbG9vcDpzLHVzZU51bWVyaWNJbmRleDpufSx0aGlzLmJ1bGxldHMuY2FsbEFsbChcImFuaW1hdGlvbnMuYWRkXCIsXCJhbmltYXRpb25zXCIsdCxlLGkscyxuKSx0aGlzLmJ1bGxldEFuaW1hdGlvbj10LHRoaXN9LGkuV2VhcG9uLnByb3RvdHlwZS5kZWJ1Zz1mdW5jdGlvbih0LGUsaSl7dm9pZCAwPT09dCYmKHQ9MTYpLHZvaWQgMD09PWUmJihlPTMyKSx2b2lkIDA9PT1pJiYoaT0hMSksdGhpcy5nYW1lLmRlYnVnLnRleHQoXCJXZWFwb24gUGx1Z2luXCIsdCxlKSx0aGlzLmdhbWUuZGVidWcudGV4dChcIkJ1bGxldHMgQWxpdmU6IFwiK3RoaXMuYnVsbGV0cy50b3RhbCtcIiAtIFRvdGFsOiBcIit0aGlzLmJ1bGxldHMubGVuZ3RoLHQsZSsyNCksaSYmdGhpcy5idWxsZXRzLmZvckVhY2hFeGlzdHModGhpcy5nYW1lLmRlYnVnLmJvZHksdGhpcy5nYW1lLmRlYnVnLFwicmdiYSgyNTUsIDAsIDI1NSwgMC44KVwiKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuV2VhcG9uLnByb3RvdHlwZSxcImJ1bGxldENsYXNzXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9idWxsZXRDbGFzc30sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2J1bGxldENsYXNzPXQsdGhpcy5idWxsZXRzJiYodGhpcy5idWxsZXRzLmNsYXNzVHlwZT10aGlzLl9idWxsZXRDbGFzcyl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuV2VhcG9uLnByb3RvdHlwZSxcImJ1bGxldEtpbGxUeXBlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9idWxsZXRLaWxsVHlwZX0sc2V0OmZ1bmN0aW9uKHQpe3N3aXRjaCh0KXtjYXNlIGkuV2VhcG9uLktJTExfU1RBVElDX0JPVU5EUzpjYXNlIGkuV2VhcG9uLktJTExfV0VBUE9OX0JPVU5EUzp0aGlzLmJ1bGxldEJvdW5kcz10aGlzLmJvdW5kczticmVhaztjYXNlIGkuV2VhcG9uLktJTExfQ0FNRVJBX0JPVU5EUzp0aGlzLmJ1bGxldEJvdW5kcz10aGlzLmdhbWUuY2FtZXJhLnZpZXc7YnJlYWs7Y2FzZSBpLldlYXBvbi5LSUxMX1dPUkxEX0JPVU5EUzp0aGlzLmJ1bGxldEJvdW5kcz10aGlzLmdhbWUud29ybGQuYm91bmRzfXRoaXMuX2J1bGxldEtpbGxUeXBlPXR9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuV2VhcG9uLnByb3RvdHlwZSxcImJ1bGxldENvbGxpZGVXb3JsZEJvdW5kc1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYnVsbGV0Q29sbGlkZVdvcmxkQm91bmRzfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fYnVsbGV0Q29sbGlkZVdvcmxkQm91bmRzPXQsdGhpcy5idWxsZXRzLnNldEFsbChcImJvZHkuY29sbGlkZVdvcmxkQm91bmRzXCIsdCksdGhpcy5idWxsZXRzLnNldEFsbChcImRhdGEuYm9keURpcnR5XCIsITEpfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLldlYXBvbi5wcm90b3R5cGUsXCJ4XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmZpcmVGcm9tLnh9LHNldDpmdW5jdGlvbih0KXt0aGlzLmZpcmVGcm9tLng9dH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5XZWFwb24ucHJvdG90eXBlLFwieVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5maXJlRnJvbS55fSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5maXJlRnJvbS55PXR9fSksaS5CdWxsZXQ9ZnVuY3Rpb24odCxlLHMsbixvKXtpLlNwcml0ZS5jYWxsKHRoaXMsdCxlLHMsbixvKSx0aGlzLmFuY2hvci5zZXQoLjUpLHRoaXMuZGF0YT17YnVsbGV0TWFuYWdlcjpudWxsLGZyb21YOjAsZnJvbVk6MCxib2R5RGlydHk6ITAscm90YXRlVG9WZWxvY2l0eTohMSxraWxsVHlwZTowLGtpbGxEaXN0YW5jZTowfX0saS5CdWxsZXQucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoaS5TcHJpdGUucHJvdG90eXBlKSxpLkJ1bGxldC5wcm90b3R5cGUuY29uc3RydWN0b3I9aS5CdWxsZXQsaS5CdWxsZXQucHJvdG90eXBlLmtpbGw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hbGl2ZT0hMSx0aGlzLmV4aXN0cz0hMSx0aGlzLnZpc2libGU9ITEsdGhpcy5kYXRhLmJ1bGxldE1hbmFnZXIub25LaWxsLmRpc3BhdGNoKHRoaXMpLHRoaXN9LGkuQnVsbGV0LnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24oKXt0aGlzLmV4aXN0cyYmKHRoaXMuZGF0YS5raWxsVHlwZT5pLldlYXBvbi5LSUxMX0xJRkVTUEFOJiYodGhpcy5kYXRhLmtpbGxUeXBlPT09aS5XZWFwb24uS0lMTF9ESVNUQU5DRT90aGlzLmdhbWUucGh5c2ljcy5hcmNhZGUuZGlzdGFuY2VUb1hZKHRoaXMsdGhpcy5kYXRhLmZyb21YLHRoaXMuZGF0YS5mcm9tWSwhMCk+dGhpcy5kYXRhLmtpbGxEaXN0YW5jZSYmdGhpcy5raWxsKCk6dGhpcy5kYXRhLmJ1bGxldE1hbmFnZXIuYnVsbGV0Qm91bmRzLmludGVyc2VjdHModGhpcyl8fHRoaXMua2lsbCgpKSx0aGlzLmRhdGEucm90YXRlVG9WZWxvY2l0eSYmKHRoaXMucm90YXRpb249TWF0aC5hdGFuMih0aGlzLmJvZHkudmVsb2NpdHkueSx0aGlzLmJvZHkudmVsb2NpdHkueCkpLHRoaXMuZGF0YS5idWxsZXRNYW5hZ2VyLmJ1bGxldFdvcmxkV3JhcCYmdGhpcy5nYW1lLndvcmxkLndyYXAodGhpcyx0aGlzLmRhdGEuYnVsbGV0TWFuYWdlci5idWxsZXRXb3JsZFdyYXBQYWRkaW5nKSl9LGkuVmlkZW89ZnVuY3Rpb24odCxlLHMpe2lmKHZvaWQgMD09PWUmJihlPW51bGwpLHZvaWQgMD09PXMmJihzPW51bGwpLHRoaXMuZ2FtZT10LHRoaXMua2V5PWUsdGhpcy53aWR0aD0wLHRoaXMuaGVpZ2h0PTAsdGhpcy50eXBlPWkuVklERU8sdGhpcy5kaXNhYmxlVGV4dHVyZVVwbG9hZD0hMSx0aGlzLnRvdWNoTG9ja2VkPSExLHRoaXMub25QbGF5PW5ldyBpLlNpZ25hbCx0aGlzLm9uQ2hhbmdlU291cmNlPW5ldyBpLlNpZ25hbCx0aGlzLm9uQ29tcGxldGU9bmV3IGkuU2lnbmFsLHRoaXMub25BY2Nlc3M9bmV3IGkuU2lnbmFsLHRoaXMub25FcnJvcj1uZXcgaS5TaWduYWwsdGhpcy5vblRpbWVvdXQ9bmV3IGkuU2lnbmFsLHRoaXMudGltZW91dD0xNWUzLHRoaXMuX3RpbWVPdXRJRD1udWxsLHRoaXMudmlkZW89bnVsbCx0aGlzLnZpZGVvU3RyZWFtPW51bGwsdGhpcy5pc1N0cmVhbWluZz0hMSx0aGlzLnJldHJ5TGltaXQ9MjAsdGhpcy5yZXRyeT0wLHRoaXMucmV0cnlJbnRlcnZhbD01MDAsdGhpcy5fcmV0cnlJRD1udWxsLHRoaXMuX2NvZGVNdXRlZD0hMSx0aGlzLl9tdXRlZD0hMSx0aGlzLl9jb2RlUGF1c2VkPSExLHRoaXMuX3BhdXNlZD0hMSx0aGlzLl9wZW5kaW5nPSExLHRoaXMuX3BlbmRpbmdDaGFuZ2VTb3VyY2U9ITEsdGhpcy5fYXV0b3BsYXk9ITEsdGhpcy5fZW5kQ2FsbGJhY2s9bnVsbCx0aGlzLl9wbGF5Q2FsbGJhY2s9bnVsbCxlJiZ0aGlzLmdhbWUuY2FjaGUuY2hlY2tWaWRlb0tleShlKSl7dmFyIG49dGhpcy5nYW1lLmNhY2hlLmdldFZpZGVvKGUpO24uaXNCbG9iP3RoaXMuY3JlYXRlVmlkZW9Gcm9tQmxvYihuLmRhdGEpOnRoaXMudmlkZW89bi5kYXRhLHRoaXMud2lkdGg9dGhpcy52aWRlby52aWRlb1dpZHRoLHRoaXMuaGVpZ2h0PXRoaXMudmlkZW8udmlkZW9IZWlnaHR9ZWxzZSBzJiZ0aGlzLmNyZWF0ZVZpZGVvRnJvbVVSTChzLCExKTt0aGlzLnZpZGVvJiYhcz8odGhpcy5iYXNlVGV4dHVyZT1uZXcgUElYSS5CYXNlVGV4dHVyZSh0aGlzLnZpZGVvLG51bGwsdGhpcy5nYW1lLnJlc29sdXRpb24pLHRoaXMuYmFzZVRleHR1cmUuZm9yY2VMb2FkZWQodGhpcy53aWR0aCx0aGlzLmhlaWdodCkpOih0aGlzLmJhc2VUZXh0dXJlPW5ldyBQSVhJLkJhc2VUZXh0dXJlKGkuQ2FjaGUuREVGQVVMVC5iYXNlVGV4dHVyZS5zb3VyY2UsbnVsbCx0aGlzLmdhbWUucmVzb2x1dGlvbiksdGhpcy5iYXNlVGV4dHVyZS5mb3JjZUxvYWRlZCh0aGlzLndpZHRoLHRoaXMuaGVpZ2h0KSksdGhpcy50ZXh0dXJlPW5ldyBQSVhJLlRleHR1cmUodGhpcy5iYXNlVGV4dHVyZSksdGhpcy50ZXh0dXJlRnJhbWU9bmV3IGkuRnJhbWUoMCwwLDAsdGhpcy53aWR0aCx0aGlzLmhlaWdodCxcInZpZGVvXCIpLHRoaXMudGV4dHVyZS5zZXRGcmFtZSh0aGlzLnRleHR1cmVGcmFtZSksdGhpcy50ZXh0dXJlLnZhbGlkPSExLG51bGwhPT1lJiZ0aGlzLnZpZGVvJiYodGhpcy50ZXh0dXJlLnZhbGlkPXRoaXMudmlkZW8uY2FucGxheSksdGhpcy5zbmFwc2hvdD1udWxsLGkuQml0bWFwRGF0YSYmKHRoaXMuc25hcHNob3Q9bmV3IGkuQml0bWFwRGF0YSh0aGlzLmdhbWUsXCJcIix0aGlzLndpZHRoLHRoaXMuaGVpZ2h0KSksdGhpcy5nYW1lLmRldmljZS5uZWVkc1RvdWNoVW5sb2NrKCk/dGhpcy5zZXRUb3VjaExvY2soKTpuJiYobi5sb2NrZWQ9ITEpfSxpLlZpZGVvLnByb3RvdHlwZT17Y29ubmVjdFRvTWVkaWFTdHJlYW06ZnVuY3Rpb24odCxlKXtyZXR1cm4gdCYmZSYmKHRoaXMudmlkZW89dCx0aGlzLnZpZGVvU3RyZWFtPWUsdGhpcy5pc1N0cmVhbWluZz0hMCx0aGlzLmJhc2VUZXh0dXJlLnNvdXJjZT10aGlzLnZpZGVvLHRoaXMudXBkYXRlVGV4dHVyZShudWxsLHRoaXMudmlkZW8udmlkZW9XaWR0aCx0aGlzLnZpZGVvLnZpZGVvSGVpZ2h0KSx0aGlzLm9uQWNjZXNzLmRpc3BhdGNoKHRoaXMpKSx0aGlzfSxzdGFydE1lZGlhU3RyZWFtOmZ1bmN0aW9uKHQsZSxpKXtpZih2b2lkIDA9PT10JiYodD0hMSksdm9pZCAwPT09ZSYmKGU9bnVsbCksdm9pZCAwPT09aSYmKGk9bnVsbCksIXRoaXMuZ2FtZS5kZXZpY2UuZ2V0VXNlck1lZGlhKXJldHVybiB0aGlzLm9uRXJyb3IuZGlzcGF0Y2godGhpcyxcIk5vIGdldFVzZXJNZWRpYVwiKSwhMTtudWxsIT09dGhpcy52aWRlb1N0cmVhbSYmKHRoaXMudmlkZW9TdHJlYW0uYWN0aXZlP3RoaXMudmlkZW9TdHJlYW0uYWN0aXZlPSExOnRoaXMudmlkZW9TdHJlYW0uc3RvcCgpKSx0aGlzLnJlbW92ZVZpZGVvRWxlbWVudCgpLHRoaXMudmlkZW89ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInZpZGVvXCIpLHRoaXMudmlkZW8uc2V0QXR0cmlidXRlKFwiYXV0b3BsYXlcIixcImF1dG9wbGF5XCIpLG51bGwhPT1lJiYodGhpcy52aWRlby53aWR0aD1lKSxudWxsIT09aSYmKHRoaXMudmlkZW8uaGVpZ2h0PWkpLHRoaXMuX3RpbWVPdXRJRD13aW5kb3cuc2V0VGltZW91dCh0aGlzLmdldFVzZXJNZWRpYVRpbWVvdXQuYmluZCh0aGlzKSx0aGlzLnRpbWVvdXQpO3RyeXtuYXZpZ2F0b3IuZ2V0VXNlck1lZGlhKHthdWRpbzp0LHZpZGVvOiEwfSx0aGlzLmdldFVzZXJNZWRpYVN1Y2Nlc3MuYmluZCh0aGlzKSx0aGlzLmdldFVzZXJNZWRpYUVycm9yLmJpbmQodGhpcykpfWNhdGNoKHQpe3RoaXMuZ2V0VXNlck1lZGlhRXJyb3IodCl9cmV0dXJuIHRoaXN9LGdldFVzZXJNZWRpYVRpbWVvdXQ6ZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQodGhpcy5fdGltZU91dElEKSx0aGlzLm9uVGltZW91dC5kaXNwYXRjaCh0aGlzKX0sZ2V0VXNlck1lZGlhRXJyb3I6ZnVuY3Rpb24odCl7Y2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVPdXRJRCksdGhpcy5vbkVycm9yLmRpc3BhdGNoKHRoaXMsdCl9LGdldFVzZXJNZWRpYVN1Y2Nlc3M6ZnVuY3Rpb24odCl7Y2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVPdXRJRCksdGhpcy52aWRlb1N0cmVhbT10LHZvaWQgMCE9PXRoaXMudmlkZW8ubW96U3JjT2JqZWN0P3RoaXMudmlkZW8ubW96U3JjT2JqZWN0PXQ6dGhpcy52aWRlby5zcmM9d2luZG93LlVSTCYmd2luZG93LlVSTC5jcmVhdGVPYmplY3RVUkwodCl8fHQ7dmFyIGU9dGhpczt0aGlzLnZpZGVvLm9ubG9hZGVkZGF0YT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXtpZihpPjApaWYoZS52aWRlby52aWRlb1dpZHRoPjApe3ZhciBzPWUudmlkZW8udmlkZW9XaWR0aCxuPWUudmlkZW8udmlkZW9IZWlnaHQ7aXNOYU4oZS52aWRlby52aWRlb0hlaWdodCkmJihuPXMvKDQvMykpLGUudmlkZW8ucGxheSgpLGUuaXNTdHJlYW1pbmc9ITAsZS5iYXNlVGV4dHVyZS5zb3VyY2U9ZS52aWRlbyxlLnVwZGF0ZVRleHR1cmUobnVsbCxzLG4pLGUub25BY2Nlc3MuZGlzcGF0Y2goZSl9ZWxzZSB3aW5kb3cuc2V0VGltZW91dCh0LDUwMCk7ZWxzZSBjb25zb2xlLndhcm4oXCJVbmFibGUgdG8gY29ubmVjdCB0byB2aWRlbyBzdHJlYW0uIFdlYmNhbSBlcnJvcj9cIik7aS0tfXZhciBpPTEwO3QoKX19LGNyZWF0ZVZpZGVvRnJvbUJsb2I6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztyZXR1cm4gdGhpcy52aWRlbz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidmlkZW9cIiksdGhpcy52aWRlby5jb250cm9scz0hMSx0aGlzLnZpZGVvLnNldEF0dHJpYnV0ZShcImF1dG9wbGF5XCIsXCJhdXRvcGxheVwiKSx0aGlzLnZpZGVvLmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkZWRkYXRhXCIsZnVuY3Rpb24odCl7ZS51cGRhdGVUZXh0dXJlKHQpfSwhMCksdGhpcy52aWRlby5zcmM9d2luZG93LlVSTC5jcmVhdGVPYmplY3RVUkwodCksdGhpcy52aWRlby5jYW5wbGF5PSEwLHRoaXN9LGNyZWF0ZVZpZGVvRnJvbVVSTDpmdW5jdGlvbih0LGUpe3JldHVybiB2b2lkIDA9PT1lJiYoZT0hMSksdGhpcy50ZXh0dXJlJiYodGhpcy50ZXh0dXJlLnZhbGlkPSExKSx0aGlzLnZpZGVvPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ2aWRlb1wiKSx0aGlzLnZpZGVvLmNvbnRyb2xzPSExLGUmJnRoaXMudmlkZW8uc2V0QXR0cmlidXRlKFwiYXV0b3BsYXlcIixcImF1dG9wbGF5XCIpLHRoaXMudmlkZW8uc3JjPXQsdGhpcy52aWRlby5jYW5wbGF5PSEwLHRoaXMudmlkZW8ubG9hZCgpLHRoaXMucmV0cnk9dGhpcy5yZXRyeUxpbWl0LHRoaXMuX3JldHJ5SUQ9d2luZG93LnNldFRpbWVvdXQodGhpcy5jaGVja1ZpZGVvUHJvZ3Jlc3MuYmluZCh0aGlzKSx0aGlzLnJldHJ5SW50ZXJ2YWwpLHRoaXMua2V5PXQsdGhpc30sdXBkYXRlVGV4dHVyZTpmdW5jdGlvbih0LGUsaSl7dmFyIHM9ITE7dm9pZCAwIT09ZSYmbnVsbCE9PWV8fChlPXRoaXMudmlkZW8udmlkZW9XaWR0aCxzPSEwKSx2b2lkIDAhPT1pJiZudWxsIT09aXx8KGk9dGhpcy52aWRlby52aWRlb0hlaWdodCksdGhpcy53aWR0aD1lLHRoaXMuaGVpZ2h0PWksdGhpcy5iYXNlVGV4dHVyZS5zb3VyY2UhPT10aGlzLnZpZGVvJiYodGhpcy5iYXNlVGV4dHVyZS5zb3VyY2U9dGhpcy52aWRlbyksdGhpcy5iYXNlVGV4dHVyZS5mb3JjZUxvYWRlZChlLGkpLHRoaXMudGV4dHVyZS5mcmFtZS5yZXNpemUoZSxpKSx0aGlzLnRleHR1cmUud2lkdGg9ZSx0aGlzLnRleHR1cmUuaGVpZ2h0PWksdGhpcy50ZXh0dXJlLnZhbGlkPSEwLHRoaXMuc25hcHNob3QmJnRoaXMuc25hcHNob3QucmVzaXplKGUsaSkscyYmbnVsbCE9PXRoaXMua2V5JiYodGhpcy5vbkNoYW5nZVNvdXJjZS5kaXNwYXRjaCh0aGlzLGUsaSksdGhpcy5fYXV0b3BsYXkmJih0aGlzLnZpZGVvLnBsYXkoKSx0aGlzLm9uUGxheS5kaXNwYXRjaCh0aGlzLHRoaXMubG9vcCx0aGlzLnBsYXliYWNrUmF0ZSkpKX0sY29tcGxldGU6ZnVuY3Rpb24oKXt0aGlzLm9uQ29tcGxldGUuZGlzcGF0Y2godGhpcyl9LHBsYXk6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5fcGVuZGluZ0NoYW5nZVNvdXJjZT90aGlzOih2b2lkIDA9PT10JiYodD0hMSksdm9pZCAwPT09ZSYmKGU9MSksdGhpcy5nYW1lLnNvdW5kLm9uTXV0ZSYmKHRoaXMuZ2FtZS5zb3VuZC5vbk11dGUuYWRkKHRoaXMuc2V0TXV0ZSx0aGlzKSx0aGlzLmdhbWUuc291bmQub25Vbk11dGUuYWRkKHRoaXMudW5zZXRNdXRlLHRoaXMpLHRoaXMuZ2FtZS5zb3VuZC5tdXRlJiZ0aGlzLnNldE11dGUoKSksdGhpcy5nYW1lLm9uUGF1c2UuYWRkKHRoaXMuc2V0UGF1c2UsdGhpcyksdGhpcy5nYW1lLm9uUmVzdW1lLmFkZCh0aGlzLnNldFJlc3VtZSx0aGlzKSx0aGlzLl9lbmRDYWxsYmFjaz10aGlzLmNvbXBsZXRlLmJpbmQodGhpcyksdGhpcy52aWRlby5hZGRFdmVudExpc3RlbmVyKFwiZW5kZWRcIix0aGlzLl9lbmRDYWxsYmFjaywhMCksdGhpcy52aWRlby5hZGRFdmVudExpc3RlbmVyKFwid2Via2l0ZW5kZnVsbHNjcmVlblwiLHRoaXMuX2VuZENhbGxiYWNrLCEwKSx0aGlzLnZpZGVvLmxvb3A9dD9cImxvb3BcIjpcIlwiLHRoaXMudmlkZW8ucGxheWJhY2tSYXRlPWUsdGhpcy50b3VjaExvY2tlZD90aGlzLl9wZW5kaW5nPSEwOih0aGlzLl9wZW5kaW5nPSExLG51bGwhPT10aGlzLmtleSYmKDQhPT10aGlzLnZpZGVvLnJlYWR5U3RhdGU/KHRoaXMucmV0cnk9dGhpcy5yZXRyeUxpbWl0LHRoaXMuX3JldHJ5SUQ9d2luZG93LnNldFRpbWVvdXQodGhpcy5jaGVja1ZpZGVvUHJvZ3Jlc3MuYmluZCh0aGlzKSx0aGlzLnJldHJ5SW50ZXJ2YWwpKToodGhpcy5fcGxheUNhbGxiYWNrPXRoaXMucGxheUhhbmRsZXIuYmluZCh0aGlzKSx0aGlzLnZpZGVvLmFkZEV2ZW50TGlzdGVuZXIoXCJwbGF5aW5nXCIsdGhpcy5fcGxheUNhbGxiYWNrLCEwKSkpLHRoaXMudmlkZW8ucGxheSgpLHRoaXMub25QbGF5LmRpc3BhdGNoKHRoaXMsdCxlKSksdGhpcyl9LHBsYXlIYW5kbGVyOmZ1bmN0aW9uKCl7dGhpcy52aWRlby5yZW1vdmVFdmVudExpc3RlbmVyKFwicGxheWluZ1wiLHRoaXMuX3BsYXlDYWxsYmFjaywhMCksdGhpcy51cGRhdGVUZXh0dXJlKCl9LHN0b3A6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nYW1lLnNvdW5kLm9uTXV0ZSYmKHRoaXMuZ2FtZS5zb3VuZC5vbk11dGUucmVtb3ZlKHRoaXMuc2V0TXV0ZSx0aGlzKSx0aGlzLmdhbWUuc291bmQub25Vbk11dGUucmVtb3ZlKHRoaXMudW5zZXRNdXRlLHRoaXMpKSx0aGlzLmdhbWUub25QYXVzZS5yZW1vdmUodGhpcy5zZXRQYXVzZSx0aGlzKSx0aGlzLmdhbWUub25SZXN1bWUucmVtb3ZlKHRoaXMuc2V0UmVzdW1lLHRoaXMpLHRoaXMuaXNTdHJlYW1pbmc/KHRoaXMudmlkZW8ubW96U3JjT2JqZWN0Pyh0aGlzLnZpZGVvLm1velNyY09iamVjdC5zdG9wKCksdGhpcy52aWRlby5zcmM9bnVsbCk6KHRoaXMudmlkZW8uc3JjPVwiXCIsdGhpcy52aWRlb1N0cmVhbS5hY3RpdmU/dGhpcy52aWRlb1N0cmVhbS5hY3RpdmU9ITE6dGhpcy52aWRlb1N0cmVhbS5nZXRUcmFja3M/dGhpcy52aWRlb1N0cmVhbS5nZXRUcmFja3MoKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3Quc3RvcCgpfSk6dGhpcy52aWRlb1N0cmVhbS5zdG9wKCkpLHRoaXMudmlkZW9TdHJlYW09bnVsbCx0aGlzLmlzU3RyZWFtaW5nPSExKToodGhpcy52aWRlby5yZW1vdmVFdmVudExpc3RlbmVyKFwiZW5kZWRcIix0aGlzLl9lbmRDYWxsYmFjaywhMCksdGhpcy52aWRlby5yZW1vdmVFdmVudExpc3RlbmVyKFwid2Via2l0ZW5kZnVsbHNjcmVlblwiLHRoaXMuX2VuZENhbGxiYWNrLCEwKSx0aGlzLnZpZGVvLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJwbGF5aW5nXCIsdGhpcy5fcGxheUNhbGxiYWNrLCEwKSx0aGlzLnRvdWNoTG9ja2VkP3RoaXMuX3BlbmRpbmc9ITE6dGhpcy52aWRlby5wYXVzZSgpKSx0aGlzfSxhZGQ6ZnVuY3Rpb24odCl7aWYoQXJyYXkuaXNBcnJheSh0KSlmb3IodmFyIGU9MDtlPHQubGVuZ3RoO2UrKyl0W2VdLmxvYWRUZXh0dXJlJiZ0W2VdLmxvYWRUZXh0dXJlKHRoaXMpO2Vsc2UgdC5sb2FkVGV4dHVyZSh0aGlzKTtyZXR1cm4gdGhpc30sYWRkVG9Xb3JsZDpmdW5jdGlvbih0LGUsaSxzLG4sbyl7bj1ufHwxLG89b3x8MTt2YXIgcj10aGlzLmdhbWUuYWRkLmltYWdlKHQsZSx0aGlzKTtyZXR1cm4gci5hbmNob3Iuc2V0KGkscyksci5zY2FsZS5zZXQobixvKSxyfSxyZW5kZXI6ZnVuY3Rpb24oKXshdGhpcy5kaXNhYmxlVGV4dHVyZVVwbG9hZCYmdGhpcy5wbGF5aW5nJiZ0aGlzLmJhc2VUZXh0dXJlLmRpcnR5KCl9LHNldE11dGU6ZnVuY3Rpb24oKXt0aGlzLl9tdXRlZHx8KHRoaXMuX211dGVkPSEwLHRoaXMudmlkZW8ubXV0ZWQ9ITApfSx1bnNldE11dGU6ZnVuY3Rpb24oKXt0aGlzLl9tdXRlZCYmIXRoaXMuX2NvZGVNdXRlZCYmKHRoaXMuX211dGVkPSExLHRoaXMudmlkZW8ubXV0ZWQ9ITEpfSxzZXRQYXVzZTpmdW5jdGlvbigpe3RoaXMuX3BhdXNlZHx8dGhpcy50b3VjaExvY2tlZHx8KHRoaXMuX3BhdXNlZD0hMCx0aGlzLnZpZGVvLnBhdXNlKCkpfSxzZXRSZXN1bWU6ZnVuY3Rpb24oKXshdGhpcy5fcGF1c2VkfHx0aGlzLl9jb2RlUGF1c2VkfHx0aGlzLnRvdWNoTG9ja2VkfHwodGhpcy5fcGF1c2VkPSExLHRoaXMudmlkZW8uZW5kZWR8fHRoaXMudmlkZW8ucGxheSgpKX0sY2hhbmdlU291cmNlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHZvaWQgMD09PWUmJihlPSEwKSx0aGlzLnRleHR1cmUudmFsaWQ9ITEsdGhpcy52aWRlby5wYXVzZSgpLHRoaXMuX3BlbmRpbmdDaGFuZ2VTb3VyY2U9ITAsdGhpcy5yZXRyeT10aGlzLnJldHJ5TGltaXQsdGhpcy5fcmV0cnlJRD13aW5kb3cuc2V0VGltZW91dCh0aGlzLmNoZWNrVmlkZW9Qcm9ncmVzcy5iaW5kKHRoaXMpLHRoaXMucmV0cnlJbnRlcnZhbCksdGhpcy52aWRlby5zcmM9dCx0aGlzLnZpZGVvLmxvYWQoKSx0aGlzLl9hdXRvcGxheT1lLGV8fCh0aGlzLnBhdXNlZD0hMCksdGhpc30sY2hlY2tWaWRlb1Byb2dyZXNzOmZ1bmN0aW9uKCl7ND09PXRoaXMudmlkZW8ucmVhZHlTdGF0ZT8odGhpcy5fcGVuZGluZ0NoYW5nZVNvdXJjZT0hMSx0aGlzLnVwZGF0ZVRleHR1cmUoKSk6LS10aGlzLnJldHJ5PjA/dGhpcy5fcmV0cnlJRD13aW5kb3cuc2V0VGltZW91dCh0aGlzLmNoZWNrVmlkZW9Qcm9ncmVzcy5iaW5kKHRoaXMpLHRoaXMucmV0cnlJbnRlcnZhbCk6Y29uc29sZS53YXJuKFwiUGhhc2VyLlZpZGVvOiBVbmFibGUgdG8gc3RhcnQgZG93bmxvYWRpbmcgdmlkZW8gaW4gdGltZVwiLHRoaXMuaXNTdHJlYW1pbmcpfSxzZXRUb3VjaExvY2s6ZnVuY3Rpb24oKXt0aGlzLmdhbWUuaW5wdXQuYWRkVG91Y2hMb2NrQ2FsbGJhY2sodGhpcy51bmxvY2ssdGhpcyksdGhpcy50b3VjaExvY2tlZD0hMH0sdW5sb2NrOmZ1bmN0aW9uKCl7aWYodGhpcy50b3VjaExvY2tlZD0hMSx0aGlzLnZpZGVvLnBsYXkoKSx0aGlzLm9uUGxheS5kaXNwYXRjaCh0aGlzLHRoaXMubG9vcCx0aGlzLnBsYXliYWNrUmF0ZSksdGhpcy5rZXkpe3ZhciB0PXRoaXMuZ2FtZS5jYWNoZS5nZXRWaWRlbyh0aGlzLmtleSk7dCYmIXQuaXNCbG9iJiYodC5sb2NrZWQ9ITEpfXJldHVybiEwfSxncmFiOmZ1bmN0aW9uKHQsZSxpKXtpZih2b2lkIDA9PT10JiYodD0hMSksdm9pZCAwPT09ZSYmKGU9MSksdm9pZCAwPT09aSYmKGk9bnVsbCksbnVsbCE9PXRoaXMuc25hcHNob3QpcmV0dXJuIHQmJnRoaXMuc25hcHNob3QuY2xzKCksdGhpcy5zbmFwc2hvdC5jb3B5KHRoaXMudmlkZW8sMCwwLHRoaXMud2lkdGgsdGhpcy5oZWlnaHQsMCwwLHRoaXMud2lkdGgsdGhpcy5oZWlnaHQsMCwwLDAsMSwxLGUsaSksdGhpcy5zbmFwc2hvdDtjb25zb2xlLndhcm4oXCJWaWRlby5ncmFiIGNhbm5vdCBydW4gYmVjYXVzZSBQaGFzZXIuQml0bWFwRGF0YSBpcyB1bmF2YWlsYWJsZVwiKX0scmVtb3ZlVmlkZW9FbGVtZW50OmZ1bmN0aW9uKCl7aWYodGhpcy52aWRlbyl7Zm9yKHRoaXMudmlkZW8ucGFyZW50Tm9kZSYmdGhpcy52aWRlby5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMudmlkZW8pO3RoaXMudmlkZW8uaGFzQ2hpbGROb2RlcygpOyl0aGlzLnZpZGVvLnJlbW92ZUNoaWxkKHRoaXMudmlkZW8uZmlyc3RDaGlsZCk7dGhpcy52aWRlby5yZW1vdmVBdHRyaWJ1dGUoXCJhdXRvcGxheVwiKSx0aGlzLnZpZGVvLnJlbW92ZUF0dHJpYnV0ZShcInNyY1wiKSx0aGlzLnZpZGVvPW51bGx9fSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5zdG9wKCksdGhpcy5yZW1vdmVWaWRlb0VsZW1lbnQoKSx0aGlzLnRvdWNoTG9ja2VkJiZ0aGlzLmdhbWUuaW5wdXQudG91Y2gucmVtb3ZlVG91Y2hMb2NrQ2FsbGJhY2sodGhpcy51bmxvY2ssdGhpcyksdGhpcy5fcmV0cnlJRCYmd2luZG93LmNsZWFyVGltZW91dCh0aGlzLl9yZXRyeUlEKX19LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLlZpZGVvLnByb3RvdHlwZSxcImN1cnJlbnRUaW1lXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnZpZGVvP3RoaXMudmlkZW8uY3VycmVudFRpbWU6MH0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMudmlkZW8uY3VycmVudFRpbWU9dH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5WaWRlby5wcm90b3R5cGUsXCJkdXJhdGlvblwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52aWRlbz90aGlzLnZpZGVvLmR1cmF0aW9uOjB9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuVmlkZW8ucHJvdG90eXBlLFwicHJvZ3Jlc3NcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudmlkZW8/dGhpcy52aWRlby5jdXJyZW50VGltZS90aGlzLnZpZGVvLmR1cmF0aW9uOjB9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuVmlkZW8ucHJvdG90eXBlLFwibXV0ZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbXV0ZWR9LHNldDpmdW5jdGlvbih0KXtpZih0PXR8fG51bGwpe2lmKHRoaXMuX211dGVkKXJldHVybjt0aGlzLl9jb2RlTXV0ZWQ9ITAsdGhpcy5zZXRNdXRlKCl9ZWxzZXtpZighdGhpcy5fbXV0ZWQpcmV0dXJuO3RoaXMuX2NvZGVNdXRlZD0hMSx0aGlzLnVuc2V0TXV0ZSgpfX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5WaWRlby5wcm90b3R5cGUsXCJwYXVzZWRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BhdXNlZH0sc2V0OmZ1bmN0aW9uKHQpe2lmKHQ9dHx8bnVsbCwhdGhpcy50b3VjaExvY2tlZClpZih0KXtpZih0aGlzLl9wYXVzZWQpcmV0dXJuO3RoaXMuX2NvZGVQYXVzZWQ9ITAsdGhpcy5zZXRQYXVzZSgpfWVsc2V7aWYoIXRoaXMuX3BhdXNlZClyZXR1cm47dGhpcy5fY29kZVBhdXNlZD0hMSx0aGlzLnNldFJlc3VtZSgpfX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5WaWRlby5wcm90b3R5cGUsXCJ2b2x1bWVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudmlkZW8/dGhpcy52aWRlby52b2x1bWU6MX0sc2V0OmZ1bmN0aW9uKHQpe3Q8MD90PTA6dD4xJiYodD0xKSx0aGlzLnZpZGVvJiYodGhpcy52aWRlby52b2x1bWU9dCl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuVmlkZW8ucHJvdG90eXBlLFwicGxheWJhY2tSYXRlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnZpZGVvP3RoaXMudmlkZW8ucGxheWJhY2tSYXRlOjF9LHNldDpmdW5jdGlvbih0KXt0aGlzLnZpZGVvJiYodGhpcy52aWRlby5wbGF5YmFja1JhdGU9dCl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuVmlkZW8ucHJvdG90eXBlLFwibG9vcFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4hIXRoaXMudmlkZW8mJnRoaXMudmlkZW8ubG9vcH0sc2V0OmZ1bmN0aW9uKHQpe3QmJnRoaXMudmlkZW8/dGhpcy52aWRlby5sb29wPVwibG9vcFwiOnRoaXMudmlkZW8mJih0aGlzLnZpZGVvLmxvb3A9XCJcIil9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuVmlkZW8ucHJvdG90eXBlLFwicGxheWluZ1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4hIXRoaXMudmlkZW8mJiEodGhpcy52aWRlby5wYXVzZWQmJnRoaXMudmlkZW8uZW5kZWQpfX0pLGkuVmlkZW8ucHJvdG90eXBlLmNvbnN0cnVjdG9yPWkuVmlkZW8sdm9pZCAwPT09UElYSS5ibGVuZE1vZGVzJiYoUElYSS5ibGVuZE1vZGVzPWkuYmxlbmRNb2Rlcyksdm9pZCAwPT09UElYSS5zY2FsZU1vZGVzJiYoUElYSS5zY2FsZU1vZGVzPWkuc2NhbGVNb2Rlcyksdm9pZCAwPT09UElYSS5UZXh0dXJlLmVtcHR5VGV4dHVyZSYmKFBJWEkuVGV4dHVyZS5lbXB0eVRleHR1cmU9bmV3IFBJWEkuVGV4dHVyZShuZXcgUElYSS5CYXNlVGV4dHVyZSkpLHZvaWQgMD09PVBJWEkuRGlzcGxheU9iamVjdC5fdGVtcE1hdHJpeCYmKFBJWEkuRGlzcGxheU9iamVjdC5fdGVtcE1hdHJpeD1uZXcgaS5NYXRyaXgpLFBJWEkuVGV4dHVyZVNpbGVudEZhaWw9ITAsUElYSS5jYW5Vc2VOZXdDYW52YXNCbGVuZE1vZGVzPWZ1bmN0aW9uKCl7cmV0dXJuIGkuRGV2aWNlLmNhblVzZU11bHRpcGx5fSxcInVuZGVmaW5lZFwiIT10eXBlb2YgZXhwb3J0cz8oXCJ1bmRlZmluZWRcIiE9dHlwZW9mIG1vZHVsZSYmbW9kdWxlLmV4cG9ydHMmJihleHBvcnRzPW1vZHVsZS5leHBvcnRzPWkpLGV4cG9ydHMuUGhhc2VyPWkpOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFwiUGhhc2VyXCIsZS5QaGFzZXI9aSk6ZS5QaGFzZXI9aSxpfSkuY2FsbCh0aGlzKTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGhhc2VyLXNwbGl0Lm1hcFxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3BoYXNlci1jZS9idWlsZC9jdXN0b20vcGhhc2VyLXNwbGl0Lm1pbi5qc1xuLy8gbW9kdWxlIGlkID0gOVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvKiogRGllIFNjaGxhbmdlIHNvbGwgaWhyZSBLw7ZycGVydGVpbGUgd2llIGRpZSBMaXN0ZSBpaHJlIE5vZGVzIHZlcndhbHRlbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2NobGFuZ2Uge1xuICAgIFxuICAgIGNvbnN0cnVjdG9yKCkge1xuXG4gICAgICAgIC8vdGhpcy5maXJzdCA9IG5ldyBPYmplY3QoKTtcbiAgICAgICAgLy90aGlzLmZpcnN0LnR5cCA9ICdzcGllbGVyJztcblxuICAgICAgICAvL3RoaXMubGFzdCA9IG5ldyBPYmplY3QoKTtcbiAgICAgICAgLy90aGlzLmxhc3QudHlwID0gJ3ZlcmZvbGdlcic7XG5cbiAgICAgICAgdGhpcy5sdmwxID0gW1xuICAgICAgICAgICAgeyBmaXJzdDogbmV3IE9iamVjdCgpLCB0eXA6ICdzcGllbGVyJ30sXG4gICAgICAgICAgICB7IHNlY29uZDogbmV3IE9iamVjdCgpLCB0eXA6ICd2ZXJmb2xnZXInfSxcbiAgICAgICAgICAgIHsgdGhpcmQ6IG5ldyBPYmplY3QoKSwgdHlwOiAndmVyZm9sZ2VyJ31cbiAgICAgICAgXTtcblxuICAgIH1cbiAgICBcbiAgICAvKiogS8O2cnBlcnRlaWwgenVyIFNjaGxhbmdlIGhpbnp1ZsO8Z2VuXG4gICAgYWRkKCl7XG4gICAgICAgIGZpcnN0LmFkZCgpO1xuICAgIH1cbiAgICBcbiAgICAvKiogS8O2cnBlcnRlaWwgYXVzIFNjaGxhbmdlIGVudGZlcm5lbiBcbiAgICBkZWxldGUoYW56YWhsKXtcbiAgICAgICAgaWYoYW56YWhsIDwgZ2V0TGVuZ3RoKCkpe1xuICAgICAgICAgICAgZmlyc3QuZGVsZXRlKGFuemFobCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZXtcbiAgICAgICAgICAgIGZpcnN0LmRlbGV0ZShnZXRMZW5ndGgoKS0xKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBcbiAgICAvKiogR2lidCBkaWUgTMOkbmdlIGRlciBTY2hsYW5nZSBpbiBGb3JtIGVpbmVzIFphaGxlbndlcnRlcyB6dXLDvGNrIFxuICAgIGdldExlbmd0aCgpe1xuICAgICAgICByZXR1cm4gZmlyc3QuY291bnQoKTtcbiAgICB9XG4gICAgXG4gICAgLyoqIFdlaXN0IGRlbSBTY2hsYW5nZW5rb3BmIGVpbmUgbmV1ZSBQb3NpdGlvbiB6dSBcbiAgICBtb3ZlKG5ld1gsIG5ld1kpe1xuICAgICAgICB0aGlzLmZpcnN0Lm1vdmUoZmlyc3QucG9zaXRpb25YICsgbmV3WCwgZmlyc3QucG9zaXRpb25ZICsgbmV3WSk7XG4gICAgfVxuXHRcblx0LyoqIGdpYnQgZGllIGluZm9ybWF0aW9uZW4gw7xiZXIgYWxsZSBLw7ZycGVydGVpbGUgYWxzIEFycmF5IHp1csO8Y2sgXG5cdGdldEluZm8oKXtcblx0XHR2YXIgaW5mbyA9IG5ldyBBcnJheSh0aGlzLmdldExlbmd0aCgpKTtcblx0XHRcblx0XHRmb3IodmFyIGkgPSAwOyBpIDwgdGhpcy5nZXRMZW5ndGgoKTsgaSsrKXtcblx0XHRcdHZhciBjdXJyZW50Tm9kZSA9IHRoaXMuZmlyc3Q7XG5cdFx0XHRpbmZvWzBdID0gY3VycmVudE5vZGU7XG5cdFx0XHRpZihjdXJyZW50Tm9kZS5uYWVjaHN0ZXIgIT0gdW5kZWZpbmVkKXtcblx0XHRcdFx0Y3VycmVudE5vZGUgPSBjdXJyZW50Tm9kZS5uYWVjaHN0ZXI7XG5cdFx0XHR9IGVsc2UgeyBicmVhazsgfVxuXHRcdH1cblx0fSovXG4gICAgXG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vanNQcm90by9zY2hsYW5nZS5qcyIsImltcG9ydCAncGl4aSc7XG5pbXBvcnQgJ3AyJztcbmltcG9ydCAncGhhc2VyJztcblxuaW1wb3J0IHsgU2NobGFuZ2UgfSBmcm9tICcuL3NjaGxhbmdlJztcblxuLy9Lb250cm9sbGVya2xhc3NlIGbDvHIgZGllIEltcGxlbWVudGF0aW9uIGRlcyBWaWV3c1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVmlldyB7XG5cblx0Y29uc3RydWN0b3IoZ2FtZSwgY2FudmFzV2lkdGgsIGNhbnZhc0hlaWdodCwgc2NobGFuZ2UpIHtcbiAgICAgICAgdGhpcy5nYW1lID0gZ2FtZTtcblxuICAgICAgICB0aGlzLmNhbnZhc1dpZHRoID0gY2FudmFzV2lkdGg7XG4gICAgICAgIHRoaXMuY2FudmFzSGVpZ2h0ID0gY2FudmFzSGVpZ2h0O1xuXG4gICAgICAgIHRoaXMuc3BpZWxlcmdyb2Vzc2UgPSA2MDtcbiAgICAgICAgdGhpcy5zdGFydFggPSB0aGlzLnNwaWVsZXJncm9lc3NlO1xuICAgICAgICB0aGlzLnN0YXJ0WSA9IHRoaXMuc3BpZWxlcmdyb2Vzc2U7XG5cbiAgICAgICAgdGhpcy5laW5oZWl0WCA9IHRoaXMuY2FudmFzV2lkdGggLyAxNTtcdC8vNjBweFxuXHRcdHRoaXMuZWluaGVpdFkgPSB0aGlzLmNhbnZhc0hlaWdodCAvIDExOyBcdC8vNjBweFxuXG4gICAgICAgIHRoaXMuc2NobGFuZ2UgPSBzY2hsYW5nZTtcbiAgICAgICAgdGhpcy5pID0gMDtcbiAgICB9XG5cbiAgICAvKiogXG4gICAgKiBTdGFydHNjaGxhbmdlXG4gICAgKiBiaXNoZXIgMSBLb3BmIG1pdCAyIFZlcmZvbGdlcm5cbiAgICAqL1xuICAgIHplaWNobmVTY2hsYW5nZV9MVkwxKCkge1xuXG4gICAgICAgIHRoaXMuc2NobGFuZ2UubHZsMVsyXS5pbWFnZSA9IHRoaXMuZ2FtZS5hZGQuaW1hZ2UodGhpcy5zdGFydFgsIHRoaXMuc3RhcnRZLCAndmVyZm9sZ2VyJyk7XG4gICAgICAgIHRoaXMuc2NobGFuZ2UubHZsMVsxXS5pbWFnZSA9IHRoaXMuZ2FtZS5hZGQuaW1hZ2UodGhpcy5zdGFydFggKyB0aGlzLnNwaWVsZXJncm9lc3NlLCB0aGlzLnN0YXJ0WSwgJ3ZlcmZvbGdlcicpO1xuXG5cbiAgICAgICAgLy90aGlzLnNjaGxhbmdlLmx2bDFbMF0uaW1hZ2UgPSB0aGlzLmdhbWUuYWRkLmltYWdlKHRoaXMuc3RhcnRYICsgKDIgKiB0aGlzLnNwaWVsZXJncm9lc3NlKSwgdGhpcy5zdGFydFksICdzcGllbGVyJyk7XG5cbiAgICAgICAgdGhpcy5zY2hsYW5nZS5sdmwxWzBdLmltYWdlID0gdGhpcy5nYW1lLmFkZC5zcHJpdGUodGhpcy5zdGFydFggKyAoMiAqIHRoaXMuc3BpZWxlcmdyb2Vzc2UpLCB0aGlzLnN0YXJ0WSwgJ3NwaWVsZXInKTtcbiAgICAgICAgdGhpcy5zY2hsYW5nZS5sdmwxWzBdLmltYWdlLmZyYW1lID0gMzsgLy8gc3ByaXRlIHNjaGF1dCBuYWNoIHJlY2h0c1xuICBcbiAgICB9XG5cbiAgICAvKmFkZEFuaW1hdGlvbigpIHtcbiAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8IHRoaXMuc2NobGFuZ2UubHZsMS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5zY2hsYW5nZS5sdmwxW2ldLmltYWdlLmFuaW1hdGlvbnMuYWRkKCd3YWxrJywgWzEsIDJdLCA1LCB0cnVlKTtcbiAgICAgICAgfVxuICAgIH0qL1xuXG4gICAgLyoqIFxuICAgICogQmV3ZWd0IGRpZSBTY2hsYW5nZSBcbiAgICAqIGFuIGRlciDDvGJlcmdlYmVuZW4gUG9zaXRpb25cbiAgICAqL1xuICAgIGJld2VnZVNwaWVsZXIoeCwgeSwgY2hhbmdlSWQpIHtcblxuICAgICAgICB2YXIgbGFzdF94ID0gdGhpcy5zY2hsYW5nZS5sdmwxWzFdLmltYWdlLndvcmxkLng7XG4gICAgICAgIHZhciBsYXN0X3kgPSB0aGlzLnNjaGxhbmdlLmx2bDFbMV0uaW1hZ2Uud29ybGQueTtcblxuICAgICAgICB2YXIgeF9hbHQgPSB0aGlzLnNjaGxhbmdlLmx2bDFbMF0uaW1hZ2Uud29ybGQueDtcbiAgICAgICAgdmFyIHlfYWx0ID0gdGhpcy5zY2hsYW5nZS5sdmwxWzBdLmltYWdlLndvcmxkLnk7XG5cbiAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8IHRoaXMuc2NobGFuZ2UubHZsMS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5zY2hsYW5nZS5sdmwxW2ldLmltYWdlLmRlc3Ryb3koKTtcblxuICAgICAgICAgICAgc3dpdGNoKGkpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDA6ICAgICB0aGlzLnNjaGxhbmdlLmx2bDFbaV0uaW1hZ2UgPSB0aGlzLmdhbWUuYWRkLnNwcml0ZSh4LCB5LCAnc3BpZWxlcicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaChjaGFuZ2VJZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6IHRoaXMuc2NobGFuZ2UubHZsMVtpXS5pbWFnZS5hbmltYXRpb25zLmFkZCgnd2FsaycsIFs0LCA1XSwgNSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOiB0aGlzLnNjaGxhbmdlLmx2bDFbaV0uaW1hZ2UuYW5pbWF0aW9ucy5hZGQoJ3dhbGsnLCBbMTAsIDExXSwgNSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyOiB0aGlzLnNjaGxhbmdlLmx2bDFbaV0uaW1hZ2UuYW5pbWF0aW9ucy5hZGQoJ3dhbGsnLCBbMSwgMl0sIDUsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMzogdGhpcy5zY2hsYW5nZS5sdmwxW2ldLmltYWdlLmFuaW1hdGlvbnMuYWRkKCd3YWxrJywgWzcsIDhdLCA1LCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNjaGxhbmdlLmx2bDFbaV0uaW1hZ2UuYW5pbWF0aW9ucy5wbGF5KCd3YWxrJyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMTogICAgIHRoaXMuc2NobGFuZ2UubHZsMVtpXS5pbWFnZSA9IHRoaXMuZ2FtZS5hZGQuaW1hZ2UoeF9hbHQsIHlfYWx0LCAndmVyZm9sZ2VyJyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMjogICAgIHRoaXMuc2NobGFuZ2UubHZsMVtpXS5pbWFnZSA9IHRoaXMuZ2FtZS5hZGQuaW1hZ2UobGFzdF94LCBsYXN0X3ksICd2ZXJmb2xnZXInKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgfVxuXG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vanNQcm90by92aWV3LmpzIiwiaW1wb3J0ICdwaXhpJztcbmltcG9ydCAncDInO1xuaW1wb3J0ICdwaGFzZXInO1xuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8qKiBIQVVQVEtMQVNTRSAqLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNYWluIHtcblxuICAgIGNvbnN0cnVjdG9yKGdhbWUsIGNhbnZhc1dpZHRoLCBjYW52YXNIZWlnaHQpIHtcbiAgICAgICAgdGhpcy5nYW1lID0gZ2FtZTsgLy8gUmVmZXJlbnogenVtIFBoYXNlci5HYW1lLU9iamVrdFxuICAgICAgICB0aGlzLmNhbnZhc1dpZHRoID0gY2FudmFzV2lkdGg7XG4gICAgICAgIHRoaXMuY2FudmFzSGVpZ2h0ID0gY2FudmFzSGVpZ2h0O1xuXG4gICAgICAgIHRoaXMuZ2FtZVRleHQ7IC8vIFRlc3RcblxuICAgICAgICB0aGlzLmZyYW1lQ291bnRlciA9IDA7XG4gICAgICAgIHRoaXMuc3BpZWxnZXNjaHdpbmRpZ2tlaXQgPSAyMDtcblxuICAgICAgICAvLyBLbGFzc2VuaW1wb3J0XG4gICAgICAgIGxldCBTY2hsYW5nZSA9IHJlcXVpcmUoJy4vc2NobGFuZ2UuanMnKS5kZWZhdWx0OyAvLyBrbGFzc2VuIGltcG9ydFxuICAgICAgICB0aGlzLnNjaGxhbmdlID0gbmV3IFNjaGxhbmdlKCk7XG5cbiAgICAgICAgbGV0IFZpZXcgPSByZXF1aXJlKCcuL3ZpZXcuanMnKS5kZWZhdWx0OyAvLyBrbGFzc2VuIGltcG9ydFxuICAgICAgICB0aGlzLnZpZXcgPSBuZXcgVmlldyh0aGlzLmdhbWUsIHRoaXMuY2FudmFzV2lkdGgsIHRoaXMuY2FudmFzSGVpZ2h0LCB0aGlzLnNjaGxhbmdlKTtcblxuICAgICAgICBsZXQgQ29udHJvbGxlciA9IHJlcXVpcmUoJy4vY29udHJvbGxlci5qcycpLmRlZmF1bHQ7IC8vIGtsYXNzZW4gaW1wb3J0XG4gICAgICAgIHRoaXMuY29udHJvbGxlciA9IG5ldyBDb250cm9sbGVyKHRoaXMuZ2FtZSwgdGhpcy52aWV3LCB0aGlzLmNhbnZhc1dpZHRoLCB0aGlzLmNhbnZhc0hlaWdodCk7XG5cbiAgICAgICAgdGhpcy5sYXVmcmljaHR1bmc7XG5cbiAgICB9XG5cbiAgICAvKiogXG4gICAgKiBQSEFTRVItTWV0aG9kZSBTUFJJVEVTL0RBVEVJRU4gTEFERU5cbiAgICAqIENhbnZhcy1FaW5zdGVsbHVuZ2VuIHVuZCBCaWxkLS9BdWRpby1EYXRlaWVuXG4gICAgKi9cbiAgICBwcmVsb2FkKCkge1xuICAgICAgICB0aGlzLmdhbWUuc3RhZ2UuYmFja2dyb3VuZENvbG9yID0gXCIjRkZGXCI7XG5cbiAgICAgICAgLy90aGlzLmdhbWUubG9hZC5pbWFnZSgnc3BpZWxlcicsICcuLi9pbWFnZXMvc3BpZWxlci5wbmcnKTtcbiAgICAgICAgdGhpcy5nYW1lLmxvYWQuc3ByaXRlc2hlZXQoJ3NwaWVsZXInLCAnLi4vaW1hZ2VzL3NwaWVsZXIucG5nJywgNjAsIDYwLCAxMik7XG4gICAgICAgIHRoaXMuZ2FtZS5sb2FkLmltYWdlKCd2ZXJmb2xnZXInLCAnLi4vaW1hZ2VzL3ZlcmZvbGdlci5qcGcnKTtcbiAgICAgICAgdGhpcy5nYW1lLmxvYWQuaW1hZ2UoJ3N0ZWluJywgJy4uL2ltYWdlcy9zdGVpbi5qcGcnKTtcbiAgICB9XG5cbiAgICAvKiogXG4gICAgKiBQSEFTRVItTWV0aG9kZSBPQkpFS1RFIEVSWkVVR0VOIFxuICAgICogSGllciB3ZXJkZW4gZGllIGJlbsO2dGlndGVuIE9iamVrdGUgdW5kIGRpZSBTdGV1ZXJ1bmcgZXJ6ZXVndC5cbiAgICAqL1xuICAgIGNyZWF0ZSgpIHtcblxuICAgICAgICAvLyBTY2hsYW5nZSBhdXMgS29wZiB1bmQgVmVyZm9sZ2VyIGVyemV1Z2VuXG4gICAgICAgIHRoaXMudmlldy56ZWljaG5lU2NobGFuZ2VfTFZMMSgpO1xuXG4gICAgICAgIC8vIE1hdWVyIGF1cyBTdGVpbmVuIChNb2RlbCkgZXJ6ZXVnZW5cblxuICAgICAgICAvLyByYW5kb20gcGlja3VwIChNb2RlbCkgZXJ6ZXVnZW5cblxuICAgICAgICAvLyBUZXh0IHp1bSBUZXN0IChEYW1pdCBoYWJlIGljaCBnZXRlc3RldCBvYiBkaWUgU3RldWVydW5nIGZ1bmt0aW9uaWVydClcbiAgICAgICAgLy8gZGVyIFRleHQgYmlzaGVyIG51ciBlaW5lIDBcbiAgICAgICAgdGhpcy5nYW1lVGV4dCA9IHRoaXMuZ2FtZS5hZGQudGV4dCh0aGlzLmNhbnZhc1dpZHRoLCB0aGlzLmNhbnZhc0hlaWdodCwgXCIwXCIsIHtcbiAgICAgICAgICAgIGZvbnQ6IFwiMjhweCBBcmlhbFwiLFxuICAgICAgICAgICAgZmlsbDogXCIjMDAwXCJcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIFBsYXR6aWVydW5nIGRlcyBUZXh0ZXMgYW4gZGllIHJlY2h0ZSB1bnRlcmUgRWNrZSBkZXMgRmVsZGVzXG4gICAgICAgIHRoaXMuZ2FtZVRleHQuYW5jaG9yLnNldFRvKDEsIDEpO1xuICAgIH1cblxuICAgIC8qKiBcbiAgICAqIFBIQVNFUi1NZXRob2RlIEdBTUVMT09QXG4gICAgKiBIaWVyIHdpcmQgZGllIFNwaWVsZS1Mb2dpayBkdXJjaGxhdWZlbiEhIVxuICAgICovXG4gICAgdXBkYXRlKCkgeyBcblxuICAgICAgICB0aGlzLmNvbnRyb2xsZXIudXBkYXRlTGF1ZnJpY2h0dW5nKCk7IC8vIExhdWZyaWNodHVuZyBha3R1YWxpc2llcmVuXG5cbiAgICAgICAgdGhpcy5mcmFtZUNvdW50ZXIrKztcblxuICAgICAgICAvKiogXG4gICAgICAgICogRGllc2UgaWYtQWJmcmFnZSByZWdlbHQgZGllIEdlc2Nod2luZGlna2VpdCBkZXMgU3BpZWxzLCBkYSBkaWUgXG4gICAgICAgICogdXBkYXRlKCktTWV0aG9kZSBhdXMgUGhhc2VyIGVpbiBzZWhyIHNjaG5lbGxlciB1bmQgdW5lbmRsaWNoZXIgTG9vcCBpc3QuXG4gICAgICAgICpcbiAgICAgICAgKiBEaWVzZSB1cGRhdGUoKS1Mb29wIGzDpHVmdCBhbHNvIGR1cmNoIHVuZW5kbGljaCB2aWVsZSBcIkZyYW1lc1wiIHVuZCBkdXJjaCBmcmFtZUNvdW50ZXIgdW5kIHNwaWVsZ2VzY2h3aW5kaWdrZWl0IHdpcmQgZXMgXG4gICAgICAgICogbnVuIHNvIGVpbmdlc3RlbGx0IGRhcyBhbGxlIDIwIEZyYW1lcyAxIEFrdGlvbiBhdXNnZWbDvGhydCB3aXJkIHVuZCBkZXIgTG9vcCBkYW5uIHdpZWRlciB2b24gdm9ybmUgYmVnaW5udC5cbiAgICAgICAgKi9cbiAgICAgICAgaWYgKHRoaXMuZnJhbWVDb3VudGVyID09IHRoaXMuc3BpZWxnZXNjaHdpbmRpZ2tlaXQpIHtcblxuICAgICAgICAgICAgLy8gSElFUiBXSVJEIERJRSBTQ0hMQU5HRSBNSVQgREVNIENVUlNPUiBCRVdFR1RcbiAgICAgICAgICAgIC8vIGRpZSBTY2hsYW5nZSB3aXJkIGRhZHVyY2ggYmV3ZWd0LCBkYXMgZWluIG5ldWVyIEtvcGYgdm9ybmUgZHJhbmdlc2V0enQgd2lyZCB1bmQgZGFzIGhpbnRlcnN0ZSBvYmpla3QgZ2Vsw7ZzY2h0XG4gICAgICAgICAgICB0aGlzLmNvbnRyb2xsZXIuYmV3ZWdlU3BpZWxlcigpO1xuXG4gICAgICAgICAgICAvLyBISUVSIFdFUkRFTiBLT0xMSVNJT05FTiBBQkdFRlJBR1RcblxuICAgICAgICAgICAgLy90aGlzLmNvbnRyb2xsZXJUZXN0KCk7IC8vIHRlc3RldCBvbiBkZXIgQ29udHJvbGxlciBmdW5rdGlvbmllcnQsIHdlbm4gamEgd2lyZCBhdXMgZGVyIDAgYmVpIHVwLXRhc3RlIGVpbmUgOVxuXG4gICAgICAgICAgICB0aGlzLmZyYW1lQ291bnRlciA9IDA7XG4gICAgICAgIH1cblxuICAgIH1cblxuICAgIC8qKiBcbiAgICAqIFRlc3QtTWV0aG9kZW4gXG4gICAgKi9cbiAgICBjb250cm9sbGVyVGVzdCgpIHtcblxuICAgICAgICBpZih0aGlzLmNvbnRyb2xsZXIuZ2V0Q3Vyc29yKCkudXAuaXNEb3duKSB7XG4gICAgICAgICAgICB0aGlzLmdhbWVUZXh0LnRleHQgPSA5O1xuICAgICAgICB9XG5cbiAgICB9XG5cbn1cblxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vLy8vLy8vLy8vLy8vLy8vKiogU3RhcnQgc29iYWxkIEJyb3dzZXJmZW5zdGVyIGdlbGFkZW4gKi8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCAoKSA9PiB7XG5cbiAgICAvKiogRWluc3RlbGx1bmdlbiBmw7xyIGRhcyBDYW52YXMgKi9cbiAgICBjb25zdCBjYW52YXNXaWR0aCA9IDkwMDtcbiAgICBjb25zdCBjYW52YXNIZWlnaHQgPSA2NjA7XG5cbiAgICAvKiogXG4gICAgKiBQSEFTRVIuR0FNRSBPQkpFS1RcbiAgICAqIEVyemV1Z3QgZGFzIENhbnZhcyB1bmQgZGllIFBoYXNlci1NZXRob2RlbiBkaWUgXG4gICAgKiBpbXBsZW1lbnRpZXJ0IHdlcmRlbiBtw7xzc2VuIGbDvHIgZGVuIFNwaWVsZWFibGF1ZlxuICAgICovXG4gICAgbGV0IGdhbWUgPSBuZXcgUGhhc2VyLkdhbWUoXG4gICAgICAgIGNhbnZhc1dpZHRoLCAgICAvLyBjYW52YXMgYnJlaXRlXG4gICAgICAgIGNhbnZhc0hlaWdodCwgICAvLyBjYW52YXMgaMO2aGVcbiAgICAgICAgUGhhc2VyLkNBTlZBUywgIC8vIHJlbmRlcmluZy10eXBcbiAgICAgICAgJ2dhbWUtYm94JywgICAgIC8vIGlkIGRlcyBlbHRlcm5rbm90ZW5zIGluIGRlbSBjYW52YXMgZXJ6ZXVndCB3ZXJkZW4gc29sbFxuICAgICAgICB7ICAgXG4gICAgICAgICAgICAvLyBGdW5rdGlvbmVuIGRpZSBpbXBsZW1lbnRpZXJ0IHdlcmRlbiBNw5xTU0VOIFxuICAgICAgICAgICAgcHJlbG9hZDogcHJlbG9hZCwgLy8gRGF0ZWllbiBsYWRlblxuICAgICAgICAgICAgY3JlYXRlOiBjcmVhdGUsICAgLy8gT2JqZWt0ZSBlcnpldWdlblxuICAgICAgICAgICAgdXBkYXRlOiB1cGRhdGUgICAgLy8gR2FtZWxvb3BcbiAgICAgICAgfVxuICAgICk7XG5cbiAgICAvKiogSGF1cHRrbGFzc2UgKi9cbiAgICBsZXQgbWFpbiA9IG5ldyBNYWluKGdhbWUsIGNhbnZhc1dpZHRoLCBjYW52YXNIZWlnaHQpO1xuXG4gICAgLyoqIFBIQVNFUi1NZXRob2RlIFNQUklURVMvREFURUlFTiBMQURFTiAqL1xuICAgIGZ1bmN0aW9uIHByZWxvYWQoKSB7XG4gICAgICAgIG1haW4ucHJlbG9hZCgpO1xuICAgIH1cblxuICAgIC8qKiBQSEFTRVItTWV0aG9kZSBPQkpFS1RFIEVSWkVVR0VOICovXG4gICAgZnVuY3Rpb24gY3JlYXRlKCkge1xuICAgICAgICBtYWluLmNyZWF0ZSgpO1xuICAgIH1cblxuICAgIC8qKiBQSEFTRVItTWV0aG9kZSBHQU1FTE9PUCAqL1xuICAgIGZ1bmN0aW9uIHVwZGF0ZSgpIHtcbiAgICAgICAgbWFpbi51cGRhdGUoKTtcbiAgICB9XG5cbiAgICAvKiogVGVzdGF1c2dhYmUgKi9cbiAgICBtYWluLnRvU3RyaW5nKCk7XG5cbn0pO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2pzUHJvdG8vbWFpbi5qcyIsIi8vIHNoaW0gZm9yIHVzaW5nIHByb2Nlc3MgaW4gYnJvd3NlclxudmFyIHByb2Nlc3MgPSBtb2R1bGUuZXhwb3J0cyA9IHt9O1xuXG4vLyBjYWNoZWQgZnJvbSB3aGF0ZXZlciBnbG9iYWwgaXMgcHJlc2VudCBzbyB0aGF0IHRlc3QgcnVubmVycyB0aGF0IHN0dWIgaXRcbi8vIGRvbid0IGJyZWFrIHRoaW5ncy4gIEJ1dCB3ZSBuZWVkIHRvIHdyYXAgaXQgaW4gYSB0cnkgY2F0Y2ggaW4gY2FzZSBpdCBpc1xuLy8gd3JhcHBlZCBpbiBzdHJpY3QgbW9kZSBjb2RlIHdoaWNoIGRvZXNuJ3QgZGVmaW5lIGFueSBnbG9iYWxzLiAgSXQncyBpbnNpZGUgYVxuLy8gZnVuY3Rpb24gYmVjYXVzZSB0cnkvY2F0Y2hlcyBkZW9wdGltaXplIGluIGNlcnRhaW4gZW5naW5lcy5cblxudmFyIGNhY2hlZFNldFRpbWVvdXQ7XG52YXIgY2FjaGVkQ2xlYXJUaW1lb3V0O1xuXG5mdW5jdGlvbiBkZWZhdWx0U2V0VGltb3V0KCkge1xuICAgIHRocm93IG5ldyBFcnJvcignc2V0VGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xufVxuZnVuY3Rpb24gZGVmYXVsdENsZWFyVGltZW91dCAoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdjbGVhclRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbihmdW5jdGlvbiAoKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBzZXRUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBjbGVhclRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgfVxufSAoKSlcbmZ1bmN0aW9uIHJ1blRpbWVvdXQoZnVuKSB7XG4gICAgaWYgKGNhY2hlZFNldFRpbWVvdXQgPT09IHNldFRpbWVvdXQpIHtcbiAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfVxuICAgIC8vIGlmIHNldFRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRTZXRUaW1lb3V0ID09PSBkZWZhdWx0U2V0VGltb3V0IHx8ICFjYWNoZWRTZXRUaW1lb3V0KSAmJiBzZXRUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfSBjYXRjaChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbChudWxsLCBmdW4sIDApO1xuICAgICAgICB9IGNhdGNoKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3JcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwodGhpcywgZnVuLCAwKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG59XG5mdW5jdGlvbiBydW5DbGVhclRpbWVvdXQobWFya2VyKSB7XG4gICAgaWYgKGNhY2hlZENsZWFyVGltZW91dCA9PT0gY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIC8vIGlmIGNsZWFyVGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcbiAgICBpZiAoKGNhY2hlZENsZWFyVGltZW91dCA9PT0gZGVmYXVsdENsZWFyVGltZW91dCB8fCAhY2FjaGVkQ2xlYXJUaW1lb3V0KSAmJiBjbGVhclRpbWVvdXQpIHtcbiAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3NcbiAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0ICB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKG51bGwsIG1hcmtlcik7XG4gICAgICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3IuXG4gICAgICAgICAgICAvLyBTb21lIHZlcnNpb25zIG9mIEkuRS4gaGF2ZSBkaWZmZXJlbnQgcnVsZXMgZm9yIGNsZWFyVGltZW91dCB2cyBzZXRUaW1lb3V0XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwodGhpcywgbWFya2VyKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG5cbn1cbnZhciBxdWV1ZSA9IFtdO1xudmFyIGRyYWluaW5nID0gZmFsc2U7XG52YXIgY3VycmVudFF1ZXVlO1xudmFyIHF1ZXVlSW5kZXggPSAtMTtcblxuZnVuY3Rpb24gY2xlYW5VcE5leHRUaWNrKCkge1xuICAgIGlmICghZHJhaW5pbmcgfHwgIWN1cnJlbnRRdWV1ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgaWYgKGN1cnJlbnRRdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgcXVldWUgPSBjdXJyZW50UXVldWUuY29uY2F0KHF1ZXVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgfVxuICAgIGlmIChxdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgZHJhaW5RdWV1ZSgpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZHJhaW5RdWV1ZSgpIHtcbiAgICBpZiAoZHJhaW5pbmcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgdGltZW91dCA9IHJ1blRpbWVvdXQoY2xlYW5VcE5leHRUaWNrKTtcbiAgICBkcmFpbmluZyA9IHRydWU7XG5cbiAgICB2YXIgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIHdoaWxlKGxlbikge1xuICAgICAgICBjdXJyZW50UXVldWUgPSBxdWV1ZTtcbiAgICAgICAgcXVldWUgPSBbXTtcbiAgICAgICAgd2hpbGUgKCsrcXVldWVJbmRleCA8IGxlbikge1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRRdWV1ZSkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRRdWV1ZVtxdWV1ZUluZGV4XS5ydW4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgICAgIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB9XG4gICAgY3VycmVudFF1ZXVlID0gbnVsbDtcbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIHJ1bkNsZWFyVGltZW91dCh0aW1lb3V0KTtcbn1cblxucHJvY2Vzcy5uZXh0VGljayA9IGZ1bmN0aW9uIChmdW4pIHtcbiAgICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSk7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBxdWV1ZS5wdXNoKG5ldyBJdGVtKGZ1biwgYXJncykpO1xuICAgIGlmIChxdWV1ZS5sZW5ndGggPT09IDEgJiYgIWRyYWluaW5nKSB7XG4gICAgICAgIHJ1blRpbWVvdXQoZHJhaW5RdWV1ZSk7XG4gICAgfVxufTtcblxuLy8gdjggbGlrZXMgcHJlZGljdGlibGUgb2JqZWN0c1xuZnVuY3Rpb24gSXRlbShmdW4sIGFycmF5KSB7XG4gICAgdGhpcy5mdW4gPSBmdW47XG4gICAgdGhpcy5hcnJheSA9IGFycmF5O1xufVxuSXRlbS5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZnVuLmFwcGx5KG51bGwsIHRoaXMuYXJyYXkpO1xufTtcbnByb2Nlc3MudGl0bGUgPSAnYnJvd3Nlcic7XG5wcm9jZXNzLmJyb3dzZXIgPSB0cnVlO1xucHJvY2Vzcy5lbnYgPSB7fTtcbnByb2Nlc3MuYXJndiA9IFtdO1xucHJvY2Vzcy52ZXJzaW9uID0gJyc7IC8vIGVtcHR5IHN0cmluZyB0byBhdm9pZCByZWdleHAgaXNzdWVzXG5wcm9jZXNzLnZlcnNpb25zID0ge307XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG5wcm9jZXNzLm9uID0gbm9vcDtcbnByb2Nlc3MuYWRkTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5vbmNlID0gbm9vcDtcbnByb2Nlc3Mub2ZmID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBub29wO1xucHJvY2Vzcy5lbWl0ID0gbm9vcDtcbnByb2Nlc3MucHJlcGVuZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucHJlcGVuZE9uY2VMaXN0ZW5lciA9IG5vb3A7XG5cbnByb2Nlc3MubGlzdGVuZXJzID0gZnVuY3Rpb24gKG5hbWUpIHsgcmV0dXJuIFtdIH1cblxucHJvY2Vzcy5iaW5kaW5nID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xuXG5wcm9jZXNzLmN3ZCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuICcvJyB9O1xucHJvY2Vzcy5jaGRpciA9IGZ1bmN0aW9uIChkaXIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcbnByb2Nlc3MudW1hc2sgPSBmdW5jdGlvbigpIHsgcmV0dXJuIDA7IH07XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9ub2RlX21vZHVsZXMvcHJvY2Vzcy9icm93c2VyLmpzIiwiaW1wb3J0ICdwaXhpJztcbmltcG9ydCAncDInO1xuaW1wb3J0ICdwaGFzZXInO1xuXG5pbXBvcnQgeyBWaWV3IH0gZnJvbSAnLi92aWV3JztcblxuLy9Lb250cm9sbGVya2xhc3NlIGRlcyBTcGllbHNcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENvbnRyb2xsZXIge1xuXG5cdGNvbnN0cnVjdG9yKGdhbWUsIHZpZXcsIGNhbnZhc1dpZHRoLCBjYW52YXNIZWlnaHQpIHtcbiAgICAgICAgdGhpcy5nYW1lID0gZ2FtZTtcblx0XHR0aGlzLnZpZXcgPSB2aWV3O1xuXHRcdHRoaXMuY2FudmFzV2lkdGggPSBjYW52YXNXaWR0aDtcblx0XHR0aGlzLmNhbnZhc0hlaWdodCA9IGNhbnZhc0hlaWdodDtcblxuICAgICAgICB0aGlzLmN1cnNvcjtcblx0XHR0aGlzLnJpY2h0dW5nID0gT2JqZWN0LmZyZWV6ZSh7dXA6IDAsIGRvd246IDEsIHJpZ2h0OiAyLCBsZWZ0OiAzfSk7IC8vIGZyZWV6ZTogdmVyaGluZGVydCBkYXMgSGluenVmw7xnZW4gdm9uIG5ldWVuIEVpZ2Vuc2NoYWZ0ZW4genVtIE9iamVrdFxuXHRcdHRoaXMubGF1ZnJpY2h0dW5nO1xuXHRcdHRoaXMuc3BpZWxlcmdyb2Vzc2UgPSA2MDsgLy8gaW5jcmVtZW50IHVtIDYwXG5cblx0XHR0aGlzLnggPSB0aGlzLnZpZXcuc3RhcnRYICsgKDIgKiB0aGlzLnNwaWVsZXJncm9lc3NlKTtcblx0XHR0aGlzLnkgPSB0aGlzLnZpZXcuc3RhcnRZO1xuXG4gICAgICAgIHRoaXMuY2hhbmdlSWQ7XG4gICAgfVxuXG4gICAgLyoqIEdldHRlciBmw7xyIGRpZSBDdXJzb3IgS2V5cyAqL1xuICAgIGdldEN1cnNvcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2FtZS5pbnB1dC5rZXlib2FyZC5jcmVhdGVDdXJzb3JLZXlzKCk7XG4gICAgfVxuXG4gICAgLyoqIMOEbmRlcnQgZGllIExhdWZyaWNodHVuZyAqL1xuICAgIHVwZGF0ZUxhdWZyaWNodHVuZygpIHtcblxuICAgICAgICBpZiAodGhpcy5nZXRDdXJzb3IoKS5yaWdodC5pc0Rvd24gJiYgdGhpcy5sYXVmcmljaHR1bmcgIT0gdGhpcy5yaWNodHVuZy5sZWZ0KSB7XG5cbiAgICAgICAgICAgIHRoaXMubGF1ZnJpY2h0dW5nID0gdGhpcy5yaWNodHVuZy5yaWdodDsgLy8gcmljaHR1bmcgcmVjaHRzXG5cbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5nZXRDdXJzb3IoKS5sZWZ0LmlzRG93biAmJiB0aGlzLmxhdWZyaWNodHVuZyAhPSB0aGlzLnJpY2h0dW5nLnJpZ2h0KSB7XG5cbiAgICAgICAgICAgIHRoaXMubGF1ZnJpY2h0dW5nID0gdGhpcy5yaWNodHVuZy5sZWZ0OyAvLyByaWNodHVuZyBsaW5rc1xuXG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuZ2V0Q3Vyc29yKCkudXAuaXNEb3duICYmIHRoaXMubGF1ZnJpY2h0dW5nICE9IHRoaXMucmljaHR1bmcuZG93bikgeyBcblxuICAgICAgICAgICAgdGhpcy5sYXVmcmljaHR1bmcgPSB0aGlzLnJpY2h0dW5nLnVwOyAvLyByaWNodHVuZyBvYmVuXG5cbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5nZXRDdXJzb3IoKS5kb3duLmlzRG93biAmJiB0aGlzLmxhdWZyaWNodHVuZyAhPSB0aGlzLnJpY2h0dW5nLnVwKSB7IFxuXG4gICAgICAgICAgICB0aGlzLmxhdWZyaWNodHVuZyA9IHRoaXMucmljaHR1bmcuZG93bjsgLy8gcmljaHR1bmcgdW50ZW5cblxuICAgICAgICB9XG5cbiAgICB9XG5cbiAgICAvKiogXG4gICAgKiBBdXMgZGVyIGRlcnplaXRpZ2VuIFBvc2l0aW9uIHdlcmRlbiBuZXVlIEtvb3JkaW5hdGVuIGJlcmVjaG5ldCAodm9uIDEgU2Nocml0dCB3ZWl0ZXIpXG4gICAgKiB1bmQgYW4gZGVyIG5ldSBiZXJlY2huZXRlbiBQb3NpdGlvbiBlaW4gbmV1ZXIgS29wZiBlcnpldWd0LlxuICAgICovXG4gICAgYmV3ZWdlU3BpZWxlcigpIHtcblxuICAgICAgICBpZiAodGhpcy5sYXVmcmljaHR1bmcgPT0gdGhpcy5yaWNodHVuZy5yaWdodCkgeyAvLyB3ZW5uIHJpY2h0dW5nIHJlY2h0cyBpc3RcblxuICAgICAgICAgICAgdGhpcy54ICs9IHRoaXMuc3BpZWxlcmdyb2Vzc2U7IC8vIHBvc2l0aW9uIHggKyBicmVpdGUgZGVzIHNwaWVsZXJzXG4gICAgICAgICAgICB0aGlzLmNoYW5nZUlkID0gMDtcblxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMubGF1ZnJpY2h0dW5nID09IHRoaXMucmljaHR1bmcubGVmdCkgeyAvLyB3ZW5uIHJpY2h0dW5nIGxpbmtzIGlzdFxuXG4gICAgICAgICAgICB0aGlzLnggLT0gdGhpcy5zcGllbGVyZ3JvZXNzZTsgLy8gcG9zaXRpb24geCAtIGJyZWl0ZSBkZXMgc3BpZWxlcnNcbiAgICAgICAgICAgIHRoaXMuY2hhbmdlSWQgPSAxO1xuXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5sYXVmcmljaHR1bmcgPT0gdGhpcy5yaWNodHVuZy51cCkgeyAvLyB3ZW5uIHJpY2h0dW5nIG9iZW4gaXN0XG5cbiAgICAgICAgICAgIHRoaXMueSAtPSB0aGlzLnNwaWVsZXJncm9lc3NlOyAvLyBwb3NpdGlvbiB5IC0gaMO2aGUgZGVzIHNwaWVsZXJzXG4gICAgICAgICAgICB0aGlzLmNoYW5nZUlkID0gMjtcblxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMubGF1ZnJpY2h0dW5nID09IHRoaXMucmljaHR1bmcuZG93bikgeyAvLyB3ZW5uIHJpY2h0dW5nIHVudGVuIGlzdFxuXG4gICAgICAgICAgICB0aGlzLnkgKz0gdGhpcy5zcGllbGVyZ3JvZXNzZTsgLy8gcG9zaXRpb24geSArIGjDtmhlIGRlcyBzcGllbGVyc1xuICAgICAgICAgICAgdGhpcy5jaGFuZ2VJZCA9IDM7XG5cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAqIFNjaGxhbmdlIGzDpHVmdCBnZWdlbiBkZW4gUmFuZCBkZXMgQ2FudmFzIHVuZCBrb21tdCBcbiAgICAgICAgKiBhbiBkZXIgYW5kZXJlbiBTZWl0ZSB3aWVkZXIgcmF1cy5cbiAgICAgICAgKiBCcmF1Y2hlbiB3aXIgbmljaHQgd2VubiB3aXIgZWluZSBXYW5kIG1hY2hlbiwgXG4gICAgICAgICogZGFubiB3aXJkIGVpbmUgS29sbGlzaW9uIHN0YXR0ZGVzZW4gaW1wbGVtZW50aWVydC5cbiAgICAgICAgKi9cbiAgICAgICAgaWYgKHRoaXMueCA8PSAwIC0gdGhpcy5zcGllbGVyZ3JvZXNzZSkgeyAvLyB3ZW5uIHggcG9zaXRpb24ga2xlaW5lci9nbGVpY2ggMCAtIHNwaWVsZXJicmVpdGUgaXN0XG5cbiAgICAgICAgICAgIHRoaXMueCA9IHRoaXMuY2FudmFzV2lkdGggLSB0aGlzLnNwaWVsZXJncm9lc3NlOyAvLyBwb3NpdGlvbiB4ID0gY2FudmFzLWJyZWl0ZSAtIHNwaWVsZXJicmVpdGVcblxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMueCA+PSB0aGlzLmNhbnZhc1dpZHRoKSB7IC8vIHdlbm4gcG9zaXRpb24geCBncsO2w59lciBhbHMgY2FudmFzLWJyZWl0ZVxuXG4gICAgICAgICAgICB0aGlzLnggPSAwOyAvLyB4ID0gMFxuXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy55IDw9IDAgLSB0aGlzLnNwaWVsZXJncm9lc3NlKSB7IC8vIHdlbm4gcG9zaXRpb24geSBrbGVpbmVyL2dsZWljaCAwIC0gc3BpZWxlcmjDtmhlIGlzdFxuXG4gICAgICAgICAgICB0aGlzLnkgPSB0aGlzLmNhbnZhc0hlaWdodCAtIHRoaXMuc3BpZWxlcmdyb2Vzc2U7IC8vIHBvc2l0aW9uIHkgPSBjYW52YXMgaMO2aGUgLSBzcGllbGVyaMO2aGVcblxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMueSA+PSB0aGlzLmNhbnZhc0hlaWdodCkgeyAvLyB3ZW5uIHBvc2l0aW9uIHkgZ3LDtsOfZXIgYWxzIGNhbnZhcy1ow7ZoZSBpc3RcblxuICAgICAgICAgICAgdGhpcy55ID0gMDsgLy8geSA9IDBcblxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMubGF1ZnJpY2h0dW5nICE9IHVuZGVmaW5lZCkgeyAvLyB3ZW5uIHNwaWVsZXIgcmljaHR1bmcgYmVzdGltbXQgaXN0XG5cbiAgICAgICAgICAgIHRoaXMudmlldy5iZXdlZ2VTcGllbGVyKHRoaXMueCwgdGhpcy55LCB0aGlzLmNoYW5nZUlkKTsgLy8gbmV1ZW4ga29wZiBlcnpldWdlbiB1bmQgbGV0enRlbiBsw7ZzY2hlblxuXG4gICAgICAgIH1cblxuICAgIH1cblxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2pzUHJvdG8vY29udHJvbGxlci5qcyJdLCJzb3VyY2VSb290IjoiIn0=