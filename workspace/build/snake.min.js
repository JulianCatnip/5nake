/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 8);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Einzelobjekt = __webpack_require__(1).default;
//import { Einzelobjekt } from './einzelobjekt';

/** 
* Die Schlange soll ihre Körperteile wie die Liste ihre Nodes verwalten.
*/

var Schlange = function () {

    /** Constructor */
    function Schlange() {
        _classCallCheck(this, Schlange);

        /** Schlange besteht aus einer Liste */

        this.list = [new Einzelobjekt(3, 1, 'spieler'), new Einzelobjekt(2, 1, 'verfolger'), new Einzelobjekt(1, 1, 'verfolger'), new Einzelobjekt(0, 1, 'verfolger')];

        /**
        * Ein Einzelobjekt ist 1x1 Einheiten (60px) groß)
        */
        this.objektGroesse = 1;

        /**
        * Startpunkt der Schlange P(1 Einheit;1 Einheit)
        */
        this.startX = 1;
        this.startY = 1;
    }

    /** 
    * Initialisiere die Schlange mit 3 Verfolgern 
    * an einer bestimmten Startposition.
    */
    /*initSchlange() {
          var positionX0 = this.startX + (2 * this.objektGroesse);
        var positionX1 = this.startX + this.objektGroesse;
          
        this.list[0].objekt = new Einzelobjekt(positionX0, this.startY, 'spieler');
        this.list[1].objekt = new Einzelobjekt(positionX1, this.startY, 'verfolger');
        this.list[2].objekt = new Einzelobjekt(this.startX, this.startY, 'verfolger');
        
    }*/

    /** Körperteil zur Schlange hinzufügen */


    _createClass(Schlange, [{
        key: 'add',
        value: function add() {
            //Erweitert das Array durch ein Einzelobjekt 
            var neuesItem = new Einzelobjekt(this.list[this.list.length - 1].getPositionX(), this.list[this.list.length - 1].getPositionY(), 'verfolger');
            this.list.push(neuesItem);
        }

        /** Körperteil aus Schlange entfernen 
        @ returned das getötete Objekt dessen sprite gelöscht werden muss*/

    }, {
        key: 'delete',
        value: function _delete() {
            if (this.list.length > 2) {
                var zutoeten = this.list[this.list.length - 1];
                this.list = this.list.slice(0, this.list.length - 1);
                return zutoeten;
            }
        }

        /** Gibt die Länge der Schlange in Form eines Zahlenwertes zurück */

    }, {
        key: 'getLength',
        value: function getLength() {
            return this.list.length;
        }

        /** Weist dem Schlangenkopf eine neue Position zu */

    }, {
        key: 'move',
        value: function move(newX, newY) {
            //Speicher für die alte Position X
            var oldX;
            //Speicher für die alte Position Y
            var oldY;
            for (var i = 0; i < this.list.length; i++) {
                //Alte Position Speichern
                oldX = this.list[i].getPositionX();
                oldY = this.list[i].getPositionY();
                //Neue Position setzen
                this.list[i].setPositionX(newX);
                this.list[i].setPositionY(newY);
                //new neu besetzen
                newX = oldX;
                newY = oldY;
            }
        }

        /** gibt die informationen über alle Körperteile als Array zurück */

    }, {
        key: 'getInfo',
        value: function getInfo() {
            return this.list;
        }
    }]);

    return Schlange;
}();

exports.default = Schlange;

/***/ }),
/* 1 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
	value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

/**
* Einzelobjekt erstellen, von dem andere Objekte erben können
* Einzelobjekt: Spieler, Verfolger, Pickup(+randomspawn), Stein, Feind(+randomspawn)
*/
var Einzelobjekt = function () {

	/** 
 * Constructor
 * @param x-Koordinate eines Objektes
 * @param y-Koordinate eines Objektes
 * @param typ Typ des Objektes (spieler / verfolger / pickup / stein / feind), Spritename
 * Gibt eine Laufrichtung an (rauf, runter, links, rechts)
 */
	function Einzelobjekt(positionX, positionY, typ) {
		_classCallCheck(this, Einzelobjekt);

		/** Wichtig für die Sprite zuordnung */
		this.positionX = positionX;
		this.positionY = positionY;
		this.typ = typ; // typ == spritename!#
		this.laufrichtung = 'runter';
		//this.image = null;
	}

	/** Gibt X-Koordinate der Position zurück */


	_createClass(Einzelobjekt, [{
		key: 'getPositionX',
		value: function getPositionX() {
			return this.positionX;
		}

		/** Gibt Y-Koordinate der Position zurück */

	}, {
		key: 'getPositionY',
		value: function getPositionY() {
			return this.positionY;
		}

		/** Gibt Typ des Objekts zurück */

	}, {
		key: 'getTyp',
		value: function getTyp() {
			return this.typ;
		}

		/** Ändert die X-Koordinate der Position */

	}, {
		key: 'setPositionX',
		value: function setPositionX(newX) {
			if (newX < this.positionX) {
				this.laufrichtung = 'links';
			} else if (newX > this.positionX) {
				this.laufrichtung = 'rechts';
			}
			this.positionX = newX;
		}

		/** Ändert die Y-Koordinate der Position */

	}, {
		key: 'setPositionY',
		value: function setPositionY(newY) {
			if (newY < this.positionY) {
				this.laufrichtung = 'rauf';
			} else if (newY > this.positionY) {
				this.laufrichtung = 'runter';
			}
			this.positionY = newY;
		}
	}]);

	return Einzelobjekt;
}();

exports.default = Einzelobjekt;

/***/ }),
/* 2 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(global) {

module.exports = global["PIXI"] = __webpack_require__(9);
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(3)))

/***/ }),
/* 3 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

var g;

// This works in non-strict mode
g = function () {
	return this;
}();

try {
	// This works if eval is allowed (see CSP)
	g = g || Function("return this")() || (1, eval)("this");
} catch (e) {
	// This works if the window reference is available
	if ((typeof window === "undefined" ? "undefined" : _typeof(window)) === "object") g = window;
}

// g can still be undefined, but nothing to do about it...
// We return undefined, instead of nothing here, so it's
// easier to handle this case. if(!global) { ...}

module.exports = g;

/***/ }),
/* 4 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(global) {

module.exports = global["p2"] = __webpack_require__(10);
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(3)))

/***/ }),
/* 5 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(global) {

module.exports = global["Phaser"] = __webpack_require__(11);
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(3)))

/***/ }),
/* 6 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

__webpack_require__(2);

__webpack_require__(4);

__webpack_require__(5);

var _schlange = __webpack_require__(0);

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

/** 
* View
* Zur Dastellung des Spiels auf dem Canvas
*/
var View = function () {

    /**
    * Constructor
    * @param game : Phaser.Game-Objekt
    * @param schlange : Schlangen-Objekt
    */
    function View(game, schlange) {
        _classCallCheck(this, View);

        /** 
        * Phaser.Game Objekt 
        * Wird benötigt um auf jegliche Funktionen des Frameworks zuzugreifen.
        */
        this.game = game;

        /** Text für tot und PauseScreen */
        this.text = undefined;

        /**
        * Schlangen-Objekt
        */
        //this.schlange = schlange;

        /**
        * Größe der einzelnen Einheiten
        */
        this.objektGroesse = 60;
    }

    /** 
    * Startschlange
    * 1 Kopf mit 2 Verfolgern
    */
    //zeichneSchlange() {

    /** Schlange initialisieren */
    //this.schlange.initSchlange();

    /** Durch Schlange iterieren und den Objekten das Entsprechende Sprite zurodnen */
    // for(var i = this.schlange.getLength()-1; i >= 0; i--){
    /*    if(i == 0){
            this.schlange.list[i].image = this.game.add.sprite(this.schlange.list[i].objekt.getPositionX()*this.objektGroesse, this.schlange.list[i].objekt.getPositionY()*this.objektGroesse, this.schlange.list[i].objekt.getTyp());
            this.schlange.list[i].image.frame = 3;
        } else {
            this.schlange.list[i].image = this.game.add.image(this.schlange.list[i].objekt.getPositionX()*this.objektGroesse, this.schlange.list[i].objekt.getPositionY()*this.objektGroesse, this.schlange.list[i].objekt.getTyp());
        }
    }
    }*/

    /** 
    * Längenanzeige der Schlange mit DOM
    */


    _createClass(View, [{
        key: 'laengenAnzeige',
        value: function laengenAnzeige(laenge) {
            var tag = document.getElementById("length");
            tag.innerHTML = laenge;
        }

        /** 
        * Zeitanzeige des Spiels mit DOM
        @param time: Zeit in Sekunden
        */

    }, {
        key: 'zeitAnzeige',
        value: function zeitAnzeige(time) {
            var tag = document.getElementById("time");
            tag.innerHTML = time;
        }

        /** 
        * Anzeige des Punktestands mit DOM
        */

    }, {
        key: 'punkteAnzeige',
        value: function punkteAnzeige(punkte) {
            var tag = document.getElementById("points");
            tag.innerHTML = punkte;
        }

        /** 
        * Bewegt die Schlange 
        * zu der übergebenen Position
        * @param x : neue x-Koordinate für den Kopf
        * @param y : neue y-Koordinate für den Kopf
        * @param changeId : Id der Richtung der Bewegung um das richtige Sprite zu setzen
        */
        // updatePosition(objekt, changeId) {


        ///////////////////// ALT /////////////////////
        /** Koordinaten der Vorgänger speichern 
        // Koordinaten des ehemaligen Vorletzten
        var last_x = this.schlange.lvl1[1].image.world.x; 
        var last_y = this.schlange.lvl1[1].image.world.y;
          // Koordinaten Kopfes vor der Bewegung
        var x_alt = this.schlange.lvl1[0].image.world.x;
        var y_alt = this.schlange.lvl1[0].image.world.y;
          /** Durch alle Schlangenglieder iterieren 
        for(var i = 0; i < this.schlange.lvl1.length; i++) {
              this.schlange.lvl1[i].image.destroy(); // vorherige Sprites löschen
              /** Je nach Schlangenglied Sprite an neuer Position erzeugen 
            switch(i) {
                case 0:     this.schlange.lvl1[i].image = this.game.add.sprite(x, y, 'spieler');
                              // Animation: Wechselt Sprite bei Richtungswechsel
                            switch(changeId) {
                                case 0: this.schlange.lvl1[i].image.animations.add('walk', [4, 5], 5, true);
                                    break;
                                case 1: this.schlange.lvl1[i].image.animations.add('walk', [10, 11], 5, true);
                                    break;
                                case 2: this.schlange.lvl1[i].image.animations.add('walk', [1, 2], 5, true);
                                    break;
                                case 3: this.schlange.lvl1[i].image.animations.add('walk', [7, 8], 5, true);
                            }
                              // Animation abspielen
                            this.schlange.lvl1[i].image.animations.play('walk');
                      break;
                  case 1:     this.schlange.lvl1[i].image = this.game.add.image(x_alt, y_alt, 'verfolger');
                      break;
                  case 2:     this.schlange.lvl1[i].image = this.game.add.image(last_x, last_y, 'verfolger');
            }
          }*/

        // }

        /** Update Position
        Übernimmt ein Objekt, liest dessen Daten aus und zeichnet passend einen Sprite
        @param Objekt das gezeichnet werden soll
        */

    }, {
        key: 'draw',
        value: function draw(objekt, kill) {
            if (!kill) {
                if (objekt.image != undefined) {
                    //oldx = objekt.image.x;
                    //oldy = objekt.image.y;
                    //Alten Sprite löschen
                    objekt.image.destroy();
                }
                objekt.image = this.game.add.sprite(objekt.getPositionX() * this.objektGroesse, objekt.getPositionY() * this.objektGroesse, objekt.typ);

                ///// TODO: RICHTIGE ANIMATION ABSPIELEN ////
                if (objekt.typ == 'spieler') {
                    objekt.image.frame = 3;
                }
            } else {
                if (objekt.image != undefined) {
                    objekt.image.destroy();
                }
            }
        }

        /**
        Zeichnet Pausebildschirm der auf down Knopfdruck verschwindet*/

    }, {
        key: 'drawPauseScreen',
        value: function drawPauseScreen() {
            if (this.text == undefined) {
                this.text = this.game.add.text(this.game.world.centerX, this.game.world.centerY, "- Press DOWN to Continue -");
                //  Centers the text
                this.text.anchor.set(0.5);
                this.text.align = 'center';

                //  Our font + size
                this.text.font = 'Arial';
                this.text.fontWeight = 'bold';
                this.text.fontSize = 30;
                this.text.fill = '#101010';
            }
        }

        /** Lässt text verschwinden */

    }, {
        key: 'removeText',
        value: function removeText() {
            this.game.world.remove(this.text);
        }
    }]);

    return View;
}();

exports.default = View;

/***/ }),
/* 7 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
	value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

//import { Einzelobjekt } from './einzelobjekt';
var Einzelobjekt = __webpack_require__(1).default;
/**
* Taucht zufällig im Spielfeld auf
* Game Over bei Kollision mit Schlange
*/

var Gegner = function () {

	/** Constructor */
	function Gegner(_maxX, _maxY, _typ) {
		_classCallCheck(this, Gegner);

		/** Gegner besteht aus einer Liste */
		var Einzelobjekt = __webpack_require__(1).default;
		this.typ = _typ;
		this.maxX = _maxX - 1;
		this.maxY = _maxY - 1;

		/**
    Initialisieren vom Array */
		this.list = [new Einzelobjekt(Math.floor(Math.random() * (this.maxX - 2 + 1)) + 2, Math.floor(Math.random() * (this.maxY - 2 + 1)) + 2, this.typ)];
	}

	/**
 * Fügt ein weiteres Objekt dem Array zu 
 @param gegenstand mit dem nicht kollidiert werden darf*/


	_createClass(Gegner, [{
		key: 'add',
		value: function add(gegenstand) {
			this.list.push(new Einzelobjekt(Math.floor(Math.random() * (this.maxX - 2 + 1)) + 2, Math.floor(Math.random() * (this.maxY - 2 + 1)) + 2, this.typ));
			this.stackVerhindern(gegenstand);
		}

		/**
  * Testet ob die Objekte dieser Liste mit dem auf einem anderen Objekt kollidieren
  * (zb: Verhindert dass Gegner auf Pickups spawnen)*/

	}, {
		key: 'stackVerhindern',
		value: function stackVerhindern(gegenstand) {
			var gleich = true;
			for (var i = 0; i < this.list.length; i++) {
				while (gleich) {
					//XKoordinate überprüfen
					if (this.list[i].getPositionX() == gegenstand.getPositionX()) {
						//YKoordinate überprüfen
						if (this.list[i].getPositionY() == gegenstand.getPositionY()) {
							//Bei Gleichheit respawnen
							this.reset(this.list[i]);
						} else {
							gleich = false;
						}
					} else {
						gleich = false;
					}
				}
			}
		}

		/**
  * Setzt alle Inhalte auf neue zufällige Positionen */

	}, {
		key: 'respawn',
		value: function respawn(gegenstand) {
			for (var i = 0; i < this.list.length; i++) {
				this.reset(this.list[i]);
			}
			this.stackVerhindern(gegenstand);
		}

		/**
  * Setzt ein Einzelobjekt auf neue Position */

	}, {
		key: 'reset',
		value: function reset(objekt) {
			objekt.setPositionX(Math.floor(Math.random() * (this.maxX - 2 + 1)) + 2);
			objekt.setPositionY(Math.floor(Math.random() * (this.maxY - 2 + 1)) + 2);
		}

		/** gibt die informationen über alle Gegner als Array zurück */

	}, {
		key: 'getInfo',
		value: function getInfo() {
			return this.list;
		}
	}]);

	return Gegner;
}();

exports.default = Gegner;

/***/ }),
/* 8 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

__webpack_require__(2);

__webpack_require__(4);

__webpack_require__(5);

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

/** 
* HAUPTKLASSE 
* Erzeugt Model, View und Controller
* Implementiert preload(), create() und update()-Methode für Phaser.Game
*/
var Main = function () {

    /**
    * Constructor
    * @param game : Phaser.Game-Objekt
    * @param canvasWidth : Canvas-Breite
    * @param canvasHeight : Canvas-Höhe
    */
    function Main(game, canvasWidth, canvasHeight) {
        _classCallCheck(this, Main);

        /** 
        * Phaser.Game Objekt 
        * Wird benötigt um auf jegliche Funktionen des Frameworks zuzugreifen.
        */
        this.game = game;

        /**
        * Canvas Höhe und Breite
        */
        this.canvasWidth = canvasWidth;
        this.canvasHeight = canvasHeight;

        /** 
        * Klassenimporte 
        */
        var Schlange = __webpack_require__(0).default; // klassen import
        this.schlange = new Schlange();

        var View = __webpack_require__(6).default; // klassen import
        this.view = new View(this.game, this.schlange);

        var Controller = __webpack_require__(13).default; // klassen import
        this.controller = new Controller(this.game, this.view, this.canvasWidth, this.canvasHeight);

        /** 
        * Zur Steuerung der Geschwindigkeit in der Game-Loop 
        */
        this.frameCounter = 0;
        this.spielgeschwindigkeit = 20;

        /**
        * Steuerung der Spawnlogik von SchlangenKörperteilen*/
        this.snekSpawn = 0;

        /**
        * SpielStand */
        //this.score = 0;

        /**
        * Typ der aktuellen Kollision */
        this.kollisionstyp = 'frei';

        /**
        * Ist das spiel pausiert oder nicht
        * fängt mit true an (Press any Key to continue)*/
        this.paused = true;

        /**
        * Ist der Spieler tot oder nicht */
        this.dead = false;
    }

    /** 
    * PHASER-Methode SPRITES/DATEIEN LADEN
    * Canvas-Einstellungen und Bild-/Audio-Dateien
    */


    _createClass(Main, [{
        key: 'preload',
        value: function preload() {
            this.game.stage.backgroundColor = "#FFF"; // hier später evtl ein Boden-Hintergrundbild

            this.game.load.spritesheet('spieler', '../images/spieler.png', 60, 60, 12);
            this.game.load.image('verfolger', '../images/verfolger.jpg');
            this.game.load.image('stein', '../images/stein.jpg');
            this.game.load.image('item', '../images/item.jpg');
            // usw...
        }

        /** 
        * PHASER-Methode OBJEKTE ERZEUGEN 
        * Hier werden die benötigten Objekte und die Steuerung erzeugt.
        */

    }, {
        key: 'create',
        value: function create() {

            /** Schlange aus Spieler und Verfolger erzeugen */
            //this.view.zeichneSchlange();
            //this.view.laengenAnzeige();
            this.controller.zeichneObjekte();
        }

        /** 
        * PHASER-Methode GAMELOOP
        * Hier wird die Spiele-Logik durchlaufen!!!
        */

    }, {
        key: 'update',
        value: function update() {

            //Wenn das Spiel nicht pausiert ist
            if (!this.paused) {

                this.controller.updateLaufrichtung(); // Laufrichtung aktualisieren
                this.frameCounter++;

                /** 
                * Diese if-Abfrage regelt die Geschwindigkeit des Spiels, da die 
                * update()-Methode aus Phaser ein sehr schneller und unendlicher Loop ist.
                *
                * Diese update()-Loop läuft also durch unendlich viele "Frames" und durch frameCounter und spielgeschwindigkeit wird es 
                * nun so eingestellt das alle 20 Frames 1 Aktion ausgeführt wird und der Loop dann wieder von vorne beginnt.
                */
                if (this.frameCounter == this.spielgeschwindigkeit) {

                    // HIER WIRD DIE SCHLANGE MIT DEM CURSOR BEWEGT
                    this.controller.bewegeSchlange();

                    // OBJEKTE WERDEN AUTOMATISCH IM CONTROLLER INITIALISIERT UND GESPAWNT!

                    // HIER WERDEN KOLLISIONEN ABGEFRAGT 
                    this.kollisionstyp = this.controller.kollision();

                    if (this.kollisionstyp != 'frei') {
                        switch (this.kollisionstyp) {
                            case 'feind':
                                /** TODO: GAMEOVER;*/console.log('GAMEOVER');
                                break;
                            case 'boon':
                                /** TODO: Apply Boon;*/console.log('BOON');
                                break;
                            case 'pickup':
                                this.controller.respawnAll();
                                this.controller.verkuerzeSchlange();
                                //this.score + 10;
                                break;
                        }
                    }

                    ////////////////// TODO: //////////////////


                    /*
                    if (this.view.kollisionMitVerfolger() || this.view.kollisionMitFeind() || this.view.kollisionMitWand()) {
                        // Game over...-Meldung
                        // this.view.loescheSchlange(); // schlange löschen
                          // this.view.zeichneSchlange_LVL1(); // neue schlange initialisieren
                        // this.spielgeschwindigkeit = 20; // Geschwindigkeit reseten
                        // laufrichtung reseten
                        // start des Spielers reseten
                        // Punktestand reseten
                    }
                    
                    if (this.view.kollisionMitPickup()) {
                        // Punktestand raufsetzen
                        // Pickup löschen
                        // this.view.platziereRandomPickup(); // neues Pickup platzieren
                        // this.spielgeschwindigkeit--; // spielgeschwindigkeit vergrößern?
                        // if (this.spielgeschwindigkeit <= 5) { // geschwindigkeit nie kleiner als 5
                            this.spielgeschwindigkeit = 5;
                        }
                    }
                    */
                    // ...
                    // HIER WERDEN DIE EINZELENEN KOMPONENTEN GEZEICHNET
                    this.controller.zeichneObjekte();
                    //Erhöhen des logik counters
                    this.snekSpawn++;
                    this.snekSpawn %= 10;
                    if (this.snekSpawn == 0) {
                        this.controller.vergroessereSchlange();
                    }

                    this.frameCounter = 0;
                }
            } else if (this.dead) {//Was Passiert wenn das Spiel nicht Pausiert sondern zuende ist? (Tot)
                // HIER TOT SCREEN EINFÜGEN
            } else {
                //Was passiert um das Spiel zu starten bzw was passiert im Pausescreen? 
                this.view.drawPauseScreen();
                //Wenn eine Taste gedrückt ist
                if (this.controller.getCursor().down.isDown) {
                    this.paused = false;
                    this.view.removeText();
                    this.controller.calculateSeconds();
                }
            }
        }
    }]);

    return Main;
}();

/////////////////////////////////////////////////////////////////////////////
/////////////////** Start sobald Browserfenster geladen *////////////////////
/////////////////////////////////////////////////////////////////////////////


exports.default = Main;
window.addEventListener('load', function () {

    /** Einstellungen für das Canvas */
    var canvasWidth = 900;
    var canvasHeight = 660;

    /** 
    * PHASER.GAME OBJEKT
    * Erzeugt das Canvas und die Phaser-Methoden die 
    * implementiert werden müssen für den Spieleablauf
    */
    var game = new Phaser.Game(canvasWidth, // canvas breite
    canvasHeight, // canvas höhe
    Phaser.CANVAS, // rendering-typ
    'game-box', // id des elternknotens in dem canvas erzeugt werden soll
    {
        // Funktionen die implementiert werden MÜSSEN 
        preload: preload, // Dateien laden
        create: create, // Objekte erzeugen
        update: update // Gameloop
    });

    /** Hauptklasse */
    var main = new Main(game, canvasWidth, canvasHeight);

    /** PHASER-Methode SPRITES/DATEIEN LADEN */
    function preload() {
        main.preload();
    }

    /** PHASER-Methode OBJEKTE ERZEUGEN */
    function create() {
        main.create();
    }

    /** PHASER-Methode GAMELOOP */
    function update() {
        main.update();
    }
});

/***/ }),
/* 9 */
/***/ (function(module, exports, __webpack_require__) {

/* Phaser v2.9.4 PIXI Build - http://phaser.io - @photonstorm - (c) 2016 Photon Storm Ltd. */

(function(){function e(e,t,r,s){var o=e.createTexture();return e.bindTexture(e.TEXTURE_2D,o),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,s===i.scaleModes.LINEAR?e.LINEAR:e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,s===i.scaleModes.LINEAR?e.LINEAR:e.NEAREST),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,t,r,0,e.RGBA,e.UNSIGNED_BYTE,null),o}function t(t,r,i,o,a){var n=t.createFramebuffer(),h=t.createRenderbuffer(),l=null,u=0;return t.activeTexture(t.TEXTURE0+a),t.bindFramebuffer(t.FRAMEBUFFER,n),t.bindRenderbuffer(t.RENDERBUFFER,h),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,this.renderBuffer),l=e(t,r,i,o),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,l,0),(u=t.checkFramebufferStatus(t.FRAMEBUFFER))!==t.FRAMEBUFFER_COMPLETE&&console.error("Incomplete GL framebuffer. ",s[u]),n.width=r,n.height=i,n.targetTexture=l,n.renderBuffer=h,n}var r=this,i=i||{};i.DisplayObject=function(){this.position=new i.Point(0,0),this.scale=new i.Point(1,1),this.pivot=new i.Point(0,0),this.rotation=0,this.alpha=1,this.visible=!0,this.hitArea=null,this.renderable=!1,this.parent=null,this.worldAlpha=1,this.worldTransform=new Phaser.Matrix,this.worldPosition=new i.Point(0,0),this.worldScale=new i.Point(1,1),this.worldRotation=0,this.filterArea=null,this._sr=0,this._cr=1,this._bounds=new i.Rectangle(0,0,0,0),this._currentBounds=null,this._mask=null,this._cacheAsBitmap=!1,this._cacheIsDirty=!1},i.DisplayObject.prototype={constructor:i.DisplayObject,destroy:function(){if(this.children){for(var e=this.children.length;e--;)this.children[e].destroy();this.children=[]}this.hitArea=null,this.parent=null,this.worldTransform=null,this.filterArea=null,this.renderable=!1,this._bounds=null,this._currentBounds=null,this._mask=null,this._destroyCachedSprite()},updateTransform:function(e){if(!e&&!this.parent&&!this.game)return this;var t=this.parent;e?t=e:this.parent||(t=this.game.world);var r,i,s,o,a,n,h=t.worldTransform,l=this.worldTransform;this.rotation%Phaser.Math.PI2?(this.rotation!==this.rotationCache&&(this.rotationCache=this.rotation,this._sr=Math.sin(this.rotation),this._cr=Math.cos(this.rotation)),r=this._cr*this.scale.x,i=this._sr*this.scale.x,s=-this._sr*this.scale.y,o=this._cr*this.scale.y,a=this.position.x,n=this.position.y,(this.pivot.x||this.pivot.y)&&(a-=this.pivot.x*r+this.pivot.y*s,n-=this.pivot.x*i+this.pivot.y*o),l.a=r*h.a+i*h.c,l.b=r*h.b+i*h.d,l.c=s*h.a+o*h.c,l.d=s*h.b+o*h.d,l.tx=a*h.a+n*h.c+h.tx,l.ty=a*h.b+n*h.d+h.ty):(r=this.scale.x,i=0,s=0,o=this.scale.y,a=this.position.x-this.pivot.x*r,n=this.position.y-this.pivot.y*o,l.a=r*h.a,l.b=r*h.b,l.c=o*h.c,l.d=o*h.d,l.tx=a*h.a+n*h.c+h.tx,l.ty=a*h.b+n*h.d+h.ty),r=l.a,i=l.b,s=l.c;var u=r*(o=l.d)-i*s;if(r||i){var d=Math.sqrt(r*r+i*i);this.worldRotation=i>0?Math.acos(r/d):-Math.acos(r/d),this.worldScale.x=d,this.worldScale.y=u/d}else if(s||o){var c=Math.sqrt(s*s+o*o);this.worldRotation=Phaser.Math.HALF_PI-(o>0?Math.acos(-s/c):-Math.acos(s/c)),this.worldScale.x=u/c,this.worldScale.y=c}else this.worldScale.x=0,this.worldScale.y=0;return this.worldAlpha=this.alpha*t.worldAlpha,this.worldPosition.x=l.tx,this.worldPosition.y=l.ty,this._currentBounds=null,this.transformCallback&&this.transformCallback.call(this.transformCallbackContext,l,h),this},preUpdate:function(){},generateTexture:function(e,t,r){var s=this.getLocalBounds(),o=new Phaser.RenderTexture(this.game,0|s.width,0|s.height,r,t,e);return i.DisplayObject._tempMatrix.tx=-s.x,i.DisplayObject._tempMatrix.ty=-s.y,o.render(this,i.DisplayObject._tempMatrix),o},updateCache:function(){return this._generateCachedSprite(),this},toGlobal:function(e){return this.updateTransform(),this.worldTransform.apply(e)},toLocal:function(e,t){return t&&(e=t.toGlobal(e)),this.updateTransform(),this.worldTransform.applyInverse(e)},_renderCachedSprite:function(e){this._cachedSprite.worldAlpha=this.worldAlpha,e.gl?i.Sprite.prototype._renderWebGL.call(this._cachedSprite,e):i.Sprite.prototype._renderCanvas.call(this._cachedSprite,e)},_generateCachedSprite:function(){this._cacheAsBitmap=!1;var e=this.getLocalBounds();if(e.width=Math.max(1,Math.ceil(e.width)),e.height=Math.max(1,Math.ceil(e.height)),this.updateTransform(),this._cachedSprite)this._cachedSprite.texture.resize(e.width,e.height);else{var t=0;this.texture&&this.texture.baseTexture&&i._enableMultiTextureToggle&&(t=this.texture.baseTexture.textureIndex);var r=new Phaser.RenderTexture(this.game,e.width,e.height,void 0,void 0,void 0,void 0,t);this._cachedSprite=new i.Sprite(r),this._cachedSprite.worldTransform=this.worldTransform}var s=this._filters;this._filters=null,this._cachedSprite.filters=s,i.DisplayObject._tempMatrix.tx=-e.x,i.DisplayObject._tempMatrix.ty=-e.y,this._cachedSprite.texture.render(this,i.DisplayObject._tempMatrix,!0),this._cachedSprite.anchor.x=-e.x/e.width,this._cachedSprite.anchor.y=-e.y/e.height,this._filters=s,this._cacheAsBitmap=!0},_destroyCachedSprite:function(){this._cachedSprite&&(this._cachedSprite.texture.destroy(!0),this._cachedSprite=null)}},i.DisplayObject.prototype.displayObjectUpdateTransform=i.DisplayObject.prototype.updateTransform,Object.defineProperties(i.DisplayObject.prototype,{x:{get:function(){return this.position.x},set:function(e){this.position.x=e}},y:{get:function(){return this.position.y},set:function(e){this.position.y=e}},worldVisible:{get:function(){if(this.visible){var e=this.parent;if(!e)return this.visible;do{if(!e.visible)return!1;e=e.parent}while(e);return!0}return!1}},mask:{get:function(){return this._mask},set:function(e){this._mask&&(this._mask.isMask=!1),this._mask=e,e&&(this._mask.isMask=!0)}},filters:{get:function(){return this._filters},set:function(e){if(Array.isArray(e)){for(var t=[],r=0;r<e.length;r++)for(var s=e[r].passes,o=0;o<s.length;o++)t.push(s[o]);this._filterBlock={target:this,filterPasses:t}}this._filters=e,this.blendMode&&this.blendMode===i.blendModes.MULTIPLY&&(this.blendMode=i.blendModes.NORMAL)}},cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(e){this._cacheAsBitmap!==e&&(e?this._generateCachedSprite():this._destroyCachedSprite(),this._cacheAsBitmap=e)}}}),i.DisplayObjectContainer=function(){i.DisplayObject.call(this),this.children=[],this.ignoreChildInput=!1},i.DisplayObjectContainer.prototype=Object.create(i.DisplayObject.prototype),i.DisplayObjectContainer.prototype.constructor=i.DisplayObjectContainer,i.DisplayObjectContainer.prototype.addChild=function(e){return this.addChildAt(e,this.children.length)},i.DisplayObjectContainer.prototype.addChildAt=function(e,t){if(t>=0&&t<=this.children.length)return e.parent&&e.parent.removeChild(e),e.parent=this,this.children.splice(t,0,e),e;throw new Error(e+"addChildAt: The index "+t+" supplied is out of bounds "+this.children.length)},i.DisplayObjectContainer.prototype.swapChildren=function(e,t){if(e!==t){var r=this.getChildIndex(e),i=this.getChildIndex(t);if(r<0||i<0)throw new Error("swapChildren: Both the supplied DisplayObjects must be a child of the caller.");this.children[r]=t,this.children[i]=e}},i.DisplayObjectContainer.prototype.getChildIndex=function(e){var t=this.children.indexOf(e);if(-1===t)throw new Error("The supplied DisplayObject must be a child of the caller");return t},i.DisplayObjectContainer.prototype.setChildIndex=function(e,t){if(t<0||t>=this.children.length)throw new Error("The supplied index is out of bounds");var r=this.getChildIndex(e);this.children.splice(r,1),this.children.splice(t,0,e)},i.DisplayObjectContainer.prototype.getChildAt=function(e){if(e<0||e>=this.children.length)throw new Error("getChildAt: Supplied index "+e+" does not exist in the child list, or the supplied DisplayObject must be a child of the caller");return this.children[e]},i.DisplayObjectContainer.prototype.removeChild=function(e){var t=this.children.indexOf(e);if(-1!==t)return this.removeChildAt(t)},i.DisplayObjectContainer.prototype.removeChildAt=function(e){var t=this.getChildAt(e);return t&&(t.parent=void 0,this.children.splice(e,1)),t},i.DisplayObjectContainer.prototype.removeChildren=function(e,t){void 0===e&&(e=0),void 0===t&&(t=this.children.length);var r=t-e;if(r>0&&r<=t){for(var i=this.children.splice(e,r),s=0;s<i.length;s++)i[s].parent=void 0;return i}if(0===r&&0===this.children.length)return[];throw new Error("removeChildren: Range Error, numeric values are outside the acceptable range")},i.DisplayObjectContainer.prototype.updateTransform=function(){if(this.visible&&(this.displayObjectUpdateTransform(),!this._cacheAsBitmap))for(var e=0;e<this.children.length;e++)this.children[e].updateTransform()},i.DisplayObjectContainer.prototype.displayObjectContainerUpdateTransform=i.DisplayObjectContainer.prototype.updateTransform,i.DisplayObjectContainer.prototype.getBounds=function(e){var t=e&&e instanceof i.DisplayObject,r=!0;t?r=e instanceof i.DisplayObjectContainer&&e.contains(this):e=this;var s;if(t){var o=e.worldTransform;for(e.worldTransform=Phaser.identityMatrix,s=0;s<e.children.length;s++)e.children[s].updateTransform()}var a,n,h,l=1/0,u=1/0,d=-1/0,c=-1/0,f=!1;for(s=0;s<this.children.length;s++)this.children[s].visible&&(f=!0,l=l<(a=this.children[s].getBounds()).x?l:a.x,u=u<a.y?u:a.y,n=a.width+a.x,h=a.height+a.y,d=d>n?d:n,c=c>h?c:h);var x=this._bounds;if(!f){var p=(x=new i.Rectangle).x,g=x.width+x.x,v=x.y,T=x.height+x.y,m=this.worldTransform,E=m.a,_=m.b,S=m.c,y=m.d,b=m.tx,A=m.ty,R=E*g+S*T+b,M=y*T+_*g+A,C=E*p+S*T+b,L=y*T+_*p+A,B=E*p+S*v+b,P=y*v+_*p+A,w=E*g+S*v+b,U=y*v+_*g+A;d=R,c=M,u=M,l=w<(l=B<(l=C<(l=R)?C:l)?B:l)?w:l,u=U<(u=P<(u=L<u?L:u)?P:u)?U:u,d=w>(d=B>(d=C>d?C:d)?B:d)?w:d,c=U>(c=P>(c=L>c?L:c)?P:c)?U:c}if(x.x=l,x.y=u,x.width=d-l,x.height=c-u,t)for(e.worldTransform=o,s=0;s<e.children.length;s++)e.children[s].updateTransform();if(!r){var F=e.getBounds();x.x-=F.x,x.y-=F.y}return x},i.DisplayObjectContainer.prototype.getLocalBounds=function(){return this.getBounds(this)},i.DisplayObjectContainer.prototype.contains=function(e){return!!e&&(e===this||this.contains(e.parent))},i.DisplayObjectContainer.prototype._renderWebGL=function(e){if(this.visible&&!(this.alpha<=0))if(this._cacheAsBitmap)this._renderCachedSprite(e);else{var t;if(this._mask||this._filters){for(this._filters&&(e.spriteBatch.flush(),e.filterManager.pushFilter(this._filterBlock)),this._mask&&(e.spriteBatch.stop(),e.maskManager.pushMask(this.mask,e),e.spriteBatch.start()),t=0;t<this.children.length;t++)this.children[t]._renderWebGL(e);e.spriteBatch.stop(),this._mask&&e.maskManager.popMask(this._mask,e),this._filters&&e.filterManager.popFilter(),e.spriteBatch.start()}else for(t=0;t<this.children.length;t++)this.children[t]._renderWebGL(e)}},i.DisplayObjectContainer.prototype._renderCanvas=function(e){if(!1!==this.visible&&0!==this.alpha)if(this._cacheAsBitmap)this._renderCachedSprite(e);else{this._mask&&e.maskManager.pushMask(this._mask,e);for(var t=0;t<this.children.length;t++)this.children[t]._renderCanvas(e);this._mask&&e.maskManager.popMask(e)}},Object.defineProperty(i.DisplayObjectContainer.prototype,"width",{get:function(){return this.getLocalBounds().width*this.scale.x},set:function(e){var t=this.getLocalBounds().width;this.scale.x=0!==t?e/t:1,this._width=e}}),Object.defineProperty(i.DisplayObjectContainer.prototype,"height",{get:function(){return this.getLocalBounds().height*this.scale.y},set:function(e){var t=this.getLocalBounds().height;this.scale.y=0!==t?e/t:1,this._height=e}}),i.Sprite=function(e){i.DisplayObjectContainer.call(this),this.anchor=new i.Point(i.Sprite.defaultAnchor.x,i.Sprite.defaultAnchor.y),this.texture=e||i.Texture.emptyTexture,this._width=0,this._height=0,this.tint=16777215,this.cachedTint=-1,this.tintedTexture=null,this.blendMode=i.blendModes.NORMAL,this.shader=null,this.exists=!0,this.texture.baseTexture.hasLoaded&&this.onTextureUpdate(),this.renderable=!0},i.Sprite.defaultAnchor={x:0,y:0},i.Sprite.prototype=Object.create(i.DisplayObjectContainer.prototype),i.Sprite.prototype.constructor=i.Sprite,Object.defineProperty(i.Sprite.prototype,"width",{get:function(){return this.scale.x*this.texture.frame.width},set:function(e){this.scale.x=e/this.texture.frame.width,this._width=e}}),Object.defineProperty(i.Sprite.prototype,"height",{get:function(){return this.scale.y*this.texture.frame.height},set:function(e){this.scale.y=e/this.texture.frame.height,this._height=e}}),i.Sprite.prototype.setTexture=function(e,t){t&&this.texture.baseTexture.destroy(),this.texture.baseTexture.skipRender=!1,this.texture=e,this.texture.valid=!0,this.cachedTint=-1},i.Sprite.prototype.onTextureUpdate=function(){this._width&&(this.scale.x=this._width/this.texture.frame.width),this._height&&(this.scale.y=this._height/this.texture.frame.height)},i.Sprite.prototype.getBounds=function(e){var t=this.texture.frame.width,r=this.texture.frame.height,i=t*(1-this.anchor.x),s=t*-this.anchor.x,o=r*(1-this.anchor.y),a=r*-this.anchor.y,n=e||this.worldTransform,h=n.a,l=n.b,u=n.c,d=n.d,c=n.tx,f=n.ty,x=-1/0,p=-1/0,g=1/0,v=1/0;if(0===l&&0===u){if(h<0){h*=-1;T=i;i=-s,s=-T}if(d<0){d*=-1;var T=o;o=-a,a=-T}g=h*s+c,x=h*i+c,v=d*a+f,p=d*o+f}else{var m=h*s+u*a+c,E=d*a+l*s+f,_=h*i+u*a+c,S=d*a+l*i+f,y=h*i+u*o+c,b=d*o+l*i+f,A=h*s+u*o+c,R=d*o+l*s+f;g=A<(g=y<(g=_<(g=m<g?m:g)?_:g)?y:g)?A:g,v=R<(v=b<(v=S<(v=E<v?E:v)?S:v)?b:v)?R:v,x=A>(x=y>(x=_>(x=m>x?m:x)?_:x)?y:x)?A:x,p=R>(p=b>(p=S>(p=E>p?E:p)?S:p)?b:p)?R:p}var M=this._bounds;return M.x=g,M.width=x-g,M.y=v,M.height=p-v,this._currentBounds=M,M},i.Sprite.prototype.getLocalBounds=function(){var e=this.worldTransform;this.worldTransform=Phaser.identityMatrix;for(var t=0;t<this.children.length;t++)this.children[t].updateTransform();var r=this.getBounds();for(this.worldTransform=e,t=0;t<this.children.length;t++)this.children[t].updateTransform();return r},i.Sprite.prototype._renderWebGL=function(e,t){if(this.visible&&!(this.alpha<=0)&&this.renderable){var r=this.worldTransform;if(t&&(r=t),this._mask||this._filters){var i=e.spriteBatch;this._filters&&(i.flush(),e.filterManager.pushFilter(this._filterBlock)),this._mask&&(i.stop(),e.maskManager.pushMask(this.mask,e),i.start()),i.render(this);for(s=0;s<this.children.length;s++)this.children[s]._renderWebGL(e);i.stop(),this._mask&&e.maskManager.popMask(this._mask,e),this._filters&&e.filterManager.popFilter(),i.start()}else{e.spriteBatch.render(this);for(var s=0;s<this.children.length;s++)this.children[s]._renderWebGL(e,r)}}},i.Sprite.prototype._renderCanvas=function(e,t){if(!(!this.visible||0===this.alpha||!this.renderable||this.texture.crop.width<=0||this.texture.crop.height<=0)){var r=this.worldTransform;if(t&&(r=t),this.blendMode!==e.currentBlendMode&&(e.currentBlendMode=this.blendMode,e.context.globalCompositeOperation=i.blendModesCanvas[e.currentBlendMode]),this._mask&&e.maskManager.pushMask(this._mask,e),this.texture.valid){var s=this.texture.baseTexture.resolution/e.resolution;e.context.globalAlpha=this.worldAlpha,e.smoothProperty&&e.scaleMode!==this.texture.baseTexture.scaleMode&&(e.scaleMode=this.texture.baseTexture.scaleMode,e.context[e.smoothProperty]=e.scaleMode===i.scaleModes.LINEAR);var o=this.texture.trim?this.texture.trim.x-this.anchor.x*this.texture.trim.width:this.anchor.x*-this.texture.frame.width,a=this.texture.trim?this.texture.trim.y-this.anchor.y*this.texture.trim.height:this.anchor.y*-this.texture.frame.height,n=r.tx*e.resolution+e.shakeX,h=r.ty*e.resolution+e.shakeY,l=this.texture.crop.width,u=this.texture.crop.height;if(this.texture.rotated){var d=r.a,c=r.b,f=r.c,x=r.d,p=l;n=r.c*u+n,h=r.d*u+h,r.a=6.123233995736766e-17*d-f,r.b=6.123233995736766e-17*c-x,r.c=d+6.123233995736766e-17*f,r.d=c+6.123233995736766e-17*x,l=u,u=p}if(e.roundPixels?(e.context.setTransform(r.a,r.b,r.c,r.d,0|n,0|h),o|=0,a|=0):e.context.setTransform(r.a,r.b,r.c,r.d,n,h),o/=s,a/=s,16777215!==this.tint)(this.texture.requiresReTint||this.cachedTint!==this.tint)&&(this.tintedTexture=i.CanvasTinter.getTintedTexture(this,this.tint),this.cachedTint=this.tint,this.texture.requiresReTint=!1),e.context.drawImage(this.tintedTexture,0,0,l,u,o,a,l/s,u/s);else{var g=this.texture.crop.x,v=this.texture.crop.y;l=Math.floor(l),u=Math.floor(u),e.context.drawImage(this.texture.baseTexture.source,g,v,l,u,o,a,l/s,u/s)}for(T=0;T<this.children.length;T++)this.children[T]._renderCanvas(e);this._mask&&e.maskManager.popMask(e)}else{for(var T=0;T<this.children.length;T++)this.children[T]._renderCanvas(e);this._mask&&e.maskManager.popMask(e)}}},i.initDefaultShaders=function(){},i.CompileVertexShader=function(e,t){return i._CompileShader(e,t,e.VERTEX_SHADER)},i.CompileFragmentShader=function(e,t){return i._CompileShader(e,t,e.FRAGMENT_SHADER)},i._CompileShader=function(e,t,r){var i=t;Array.isArray(t)&&(i=t.join("\n"));var s=e.createShader(r);return e.shaderSource(s,i),e.compileShader(s),e.getShaderParameter(s,e.COMPILE_STATUS)?s:(window.console.log(e.getShaderInfoLog(s)),null)},i.compileProgram=function(e,t,r){var s=i.CompileFragmentShader(e,r),o=i.CompileVertexShader(e,t),a=e.createProgram();return e.attachShader(a,o),e.attachShader(a,s),e.linkProgram(a),e.getProgramParameter(a,e.LINK_STATUS)||(window.console.log(e.getProgramInfoLog(a)),window.console.log("Could not initialise shaders")),a},i.PixiShader=function(e){this._UID=Phaser._UID++,this.gl=e,this.program=null,this.fragmentSrc=null,this.textureCount=0,this.firstRun=!0,this.dirty=!0,this.attributes=[],this.init()},i.PixiShader.prototype.constructor=i.PixiShader,i.PixiShader.prototype.initMultitexShader=function(){var e=this.gl;this.MAX_TEXTURES=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);for(var t="\tif (vTextureIndex == 0.0) { gl_FragColor = texture2D(uSamplerArray[0], vTextureCoord) * vColor;return;}\n",r=1;r<this.MAX_TEXTURES;++r)t+="\tif (vTextureIndex == "+r+".0) {gl_FragColor = texture2D(uSamplerArray["+r+"], vTextureCoord) * vColor;return;}\n";this.fragmentSrc=["// PixiShader Fragment Shader.","precision lowp float;","bool isnan( float val ) {  return ( val < 0.0 || 0.0 < val || val == 0.0 ) ? false : true; }","varying vec2 vTextureCoord;","varying vec4 vColor;","varying float vTextureIndex;","uniform sampler2D uSamplerArray["+this.MAX_TEXTURES+"];","const vec4 BLUE = vec4(1.0, 0.0, 1.0, 1.0);","const vec4 RED = vec4(1.0, 0.0, 0.0, 1.0);","void main(void) {",t,"   if(vTextureIndex >= "+this.MAX_TEXTURES+".0) { gl_FragColor = BLUE;return;}","   if(isnan(vTextureIndex)) { gl_FragColor = RED;return;}","}"];var s=i.compileProgram(e,this.vertexSrc||i.PixiShader.defaultVertexSrc,this.fragmentSrc);e.useProgram(s),this.uSamplerArray=e.getUniformLocation(s,"uSamplerArray[0]"),this.projectionVector=e.getUniformLocation(s,"projectionVector"),this.offsetVector=e.getUniformLocation(s,"offsetVector"),this.dimensions=e.getUniformLocation(s,"dimensions"),this.aVertexPosition=e.getAttribLocation(s,"aVertexPosition"),this.aTextureCoord=e.getAttribLocation(s,"aTextureCoord"),this.colorAttribute=e.getAttribLocation(s,"aColor"),this.aTextureIndex=e.getAttribLocation(s,"aTextureIndex");var o=[],a=e.createTexture();e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,a),e.texImage2D(e.TEXTURE_2D,0,e.RGB,1,1,0,e.RGB,e.UNSIGNED_BYTE,null);for(var n=0;n<this.MAX_TEXTURES;++n)e.activeTexture(e.TEXTURE0+n),e.bindTexture(e.TEXTURE_2D,a),o.push(n);e.activeTexture(e.TEXTURE0),e.uniform1iv(this.uSamplerArray,o),-1===this.colorAttribute&&(this.colorAttribute=2),this.attributes=[this.aVertexPosition,this.aTextureCoord,this.colorAttribute,this.aTextureIndex];for(var h in this.uniforms)this.uniforms[h].uniformLocation=e.getUniformLocation(s,h);this.initUniforms(),this.program=s},i.PixiShader.prototype.initDefaultShader=function(){null===this.fragmentSrc&&(this.fragmentSrc=["precision lowp float;","varying vec2 vTextureCoord;","varying vec4 vColor;","varying float vTextureIndex;","uniform sampler2D uSampler;","void main(void) {","   gl_FragColor = texture2D(uSampler, vTextureCoord) * vColor ;","}"]);var e=this.gl,t=i.compileProgram(e,this.vertexSrc||i.PixiShader.defaultVertexSrc,this.fragmentSrc);e.useProgram(t),this.uSampler=e.getUniformLocation(t,"uSampler"),this.projectionVector=e.getUniformLocation(t,"projectionVector"),this.offsetVector=e.getUniformLocation(t,"offsetVector"),this.dimensions=e.getUniformLocation(t,"dimensions"),this.aVertexPosition=e.getAttribLocation(t,"aVertexPosition"),this.aTextureCoord=e.getAttribLocation(t,"aTextureCoord"),this.colorAttribute=e.getAttribLocation(t,"aColor"),this.aTextureIndex=e.getAttribLocation(t,"aTextureIndex"),-1===this.colorAttribute&&(this.colorAttribute=2),this.attributes=[this.aVertexPosition,this.aTextureCoord,this.colorAttribute,this.aTextureIndex];for(var r in this.uniforms)this.uniforms[r].uniformLocation=e.getUniformLocation(t,r);this.initUniforms(),this.program=t},i.PixiShader.prototype.init=function(e){i._enableMultiTextureToggle&&!e?this.initMultitexShader():this.initDefaultShader()},i.PixiShader.prototype.initUniforms=function(){this.textureCount=1;var e,t=this.gl;for(var r in this.uniforms){var i=(e=this.uniforms[r]).type;"sampler2D"===i?(e._init=!1,null!==e.value&&this.initSampler2D(e)):"mat2"===i||"mat3"===i||"mat4"===i?(e.glMatrix=!0,e.glValueLength=1,"mat2"===i?e.glFunc=t.uniformMatrix2fv:"mat3"===i?e.glFunc=t.uniformMatrix3fv:"mat4"===i&&(e.glFunc=t.uniformMatrix4fv)):(e.glFunc=t["uniform"+i],e.glValueLength="2f"===i||"2i"===i?2:"3f"===i||"3i"===i?3:"4f"===i||"4i"===i?4:1)}},i.PixiShader.prototype.initSampler2D=function(e){if(e.value&&e.value.baseTexture&&e.value.baseTexture.hasLoaded){var t=this.gl;if(t.activeTexture(t.TEXTURE0+this.textureCount),t.bindTexture(t.TEXTURE_2D,e.value.baseTexture._glTextures[t.id]),e.textureData){var r=e.textureData,i=r.magFilter?r.magFilter:t.LINEAR,s=r.minFilter?r.minFilter:t.LINEAR,o=r.wrapS?r.wrapS:t.CLAMP_TO_EDGE,a=r.wrapT?r.wrapT:t.CLAMP_TO_EDGE,n=r.luminance?t.LUMINANCE:t.RGBA;if(r.repeat&&(o=t.REPEAT,a=t.REPEAT),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,!!r.flipY),r.width){var h=r.width?r.width:512,l=r.height?r.height:2,u=r.border?r.border:0;t.texImage2D(t.TEXTURE_2D,0,n,h,l,u,n,t.UNSIGNED_BYTE,null)}else t.texImage2D(t.TEXTURE_2D,0,n,t.RGBA,t.UNSIGNED_BYTE,e.value.baseTexture.source);t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,i),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,s),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,o),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,a)}t.uniform1i(e.uniformLocation,this.textureCount),e._init=!0,this.textureCount++}},i.PixiShader.prototype.syncUniforms=function(){this.textureCount=1;var e,t=this.gl;for(var r in this.uniforms)1===(e=this.uniforms[r]).glValueLength?!0===e.glMatrix?e.glFunc.call(t,e.uniformLocation,e.transpose,e.value):e.glFunc.call(t,e.uniformLocation,e.value):2===e.glValueLength?e.glFunc.call(t,e.uniformLocation,e.value.x,e.value.y):3===e.glValueLength?e.glFunc.call(t,e.uniformLocation,e.value.x,e.value.y,e.value.z):4===e.glValueLength?e.glFunc.call(t,e.uniformLocation,e.value.x,e.value.y,e.value.z,e.value.w):"sampler2D"===e.type&&(e._init?(t.activeTexture(t["TEXTURE"+this.textureCount]),e.value.baseTexture._dirty[t.id]?i.instances[t.id].updateTexture(e.value.baseTexture):t.bindTexture(t.TEXTURE_2D,e.value.baseTexture._glTextures[t.id]),t.uniform1i(e.uniformLocation,this.textureCount),this.textureCount++):this.initSampler2D(e))},i.PixiShader.prototype.destroy=function(){this.gl.deleteProgram(this.program),this.uniforms=null,this.gl=null,this.attributes=null},i.PixiShader.defaultVertexSrc=["// PixiShader Vertex Shader","// With multi-texture rendering","attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","attribute vec4 aColor;","attribute float aTextureIndex;","uniform vec2 projectionVector;","uniform vec2 offsetVector;","varying vec2 vTextureCoord;","varying vec4 vColor;","varying float vTextureIndex;","const vec2 center = vec2(-1.0, 1.0);","void main(void) {","   if (aTextureIndex > 0.0) gl_Position = vec4(0.0);","   gl_Position = vec4( ((aVertexPosition + offsetVector) / projectionVector) + center , 0.0, 1.0);","   vTextureCoord = aTextureCoord;","   vColor = vec4(aColor.rgb * aColor.a, aColor.a);","   vTextureIndex = aTextureIndex;","}"],i.PixiFastShader=function(e){if(this._UID=Phaser._UID++,this.gl=e,this.program=null,i._enableMultiTextureToggle){var e=this.gl;this.MAX_TEXTURES=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);for(var t="\tif (vTextureIndex == 0.0) { gl_FragColor = texture2D(uSamplerArray[0], vTextureCoord) * vColor;return;}\n",r=1;r<this.MAX_TEXTURES;++r)t+="\tif (vTextureIndex == "+r+".0) { gl_FragColor = texture2D(uSamplerArray["+r+"], vTextureCoord) * vColor;return;}\n";this.fragmentSrc=["// PixiFastShader Fragment Shader.","precision lowp float;","bool isnan( float val ) {  return ( val < 0.0 || 0.0 < val || val == 0.0 ) ? false : true; }","varying vec2 vTextureCoord;","varying float vColor;","varying float vTextureIndex;","uniform sampler2D uSamplerArray["+this.MAX_TEXTURES+"];","const vec4 BLUE = vec4(1.0, 0.0, 1.0, 1.0);","const vec4 RED = vec4(1.0, 0.0, 0.0, 1.0);","void main(void) {",t,"   if(vTextureIndex >= "+this.MAX_TEXTURES+".0) { gl_FragColor = BLUE;return;}","   if(isnan(vTextureIndex)) {gl_FragColor = RED;return;}","}"]}else this.fragmentSrc=["// PixiFastShader Fragment Shader.","precision lowp float;","varying vec2 vTextureCoord;","varying float vColor;","varying float vTextureIndex;","uniform sampler2D uSampler;","void main(void) {","   gl_FragColor = texture2D(uSampler, vTextureCoord) * vColor;","}"];this.vertexSrc=["// PixiFastShader Vertex Shader.","attribute vec2 aVertexPosition;","attribute vec2 aPositionCoord;","attribute vec2 aScale;","attribute float aRotation;","attribute vec2 aTextureCoord;","attribute float aColor;","attribute float aTextureIndex;","uniform vec2 projectionVector;","uniform vec2 offsetVector;","uniform mat3 uMatrix;","varying vec2 vTextureCoord;","varying float vColor;","varying float vTextureIndex;","const vec2 center = vec2(-1.0, 1.0);","void main(void) {","   vec2 v;","   vec2 sv = aVertexPosition * aScale;","   v.x = (sv.x) * cos(aRotation) - (sv.y) * sin(aRotation);","   v.y = (sv.x) * sin(aRotation) + (sv.y) * cos(aRotation);","   v = ( uMatrix * vec3(v + aPositionCoord , 1.0) ).xy ;","   gl_Position = vec4( ( v / projectionVector) + center , 0.0, 1.0);","   vTextureCoord = aTextureCoord;","   vTextureIndex = aTextureIndex;","   vColor = aColor;","}"],this.textureCount=0,this.init()},i.PixiFastShader.prototype.constructor=i.PixiFastShader,i.PixiFastShader.prototype.init=function(){var e=this.gl,t=i.compileProgram(e,this.vertexSrc,this.fragmentSrc);if(e.useProgram(t),this.uSampler=i._enableMultiTextureToggle?e.getUniformLocation(t,"uSamplerArray[0]"):e.getUniformLocation(t,"uSampler"),i._enableMultiTextureToggle){var r=[],s=e.createTexture();e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,s),e.texImage2D(e.TEXTURE_2D,0,e.RGB,1,1,0,e.RGB,e.UNSIGNED_BYTE,null);for(var o=0;o<this.MAX_TEXTURES;++o)e.activeTexture(e.TEXTURE0+o),e.bindTexture(e.TEXTURE_2D,s),r.push(o);e.activeTexture(e.TEXTURE0),e.uniform1iv(this.uSampler,r)}this.projectionVector=e.getUniformLocation(t,"projectionVector"),this.offsetVector=e.getUniformLocation(t,"offsetVector"),this.dimensions=e.getUniformLocation(t,"dimensions"),this.uMatrix=e.getUniformLocation(t,"uMatrix"),this.aVertexPosition=e.getAttribLocation(t,"aVertexPosition"),this.aPositionCoord=e.getAttribLocation(t,"aPositionCoord"),this.aScale=e.getAttribLocation(t,"aScale"),this.aRotation=e.getAttribLocation(t,"aRotation"),this.aTextureCoord=e.getAttribLocation(t,"aTextureCoord"),this.colorAttribute=e.getAttribLocation(t,"aColor"),this.aTextureIndex=e.getAttribLocation(t,"aTextureIndex"),-1===this.colorAttribute&&(this.colorAttribute=2),this.attributes=[this.aVertexPosition,this.aPositionCoord,this.aScale,this.aRotation,this.aTextureCoord,this.colorAttribute,this.aTextureIndex],this.program=t},i.PixiFastShader.prototype.destroy=function(){this.gl.deleteProgram(this.program),this.uniforms=null,this.gl=null,this.attributes=null},i.StripShader=function(e){if(this._UID=Phaser._UID++,this.gl=e,this.program=null,i._enableMultiTextureToggle){var e=this.gl;this.MAX_TEXTURES=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);for(var t="\tif (vTextureIndex == 0.0) { gl_FragColor = texture2D(uSamplerArray[0], vTextureCoord);return;}\n",r=1;r<this.MAX_TEXTURES;++r)t+="\tif (vTextureIndex == "+r+".0) { gl_FragColor = texture2D(uSamplerArray["+r+"], vTextureCoord) ;return;}\n";this.fragmentSrc=["//StripShader Fragment Shader.","precision mediump float;","bool isnan( float val ) {  return ( val < 0.0 || 0.0 < val || val == 0.0 ) ? false : true; }","varying vec2 vTextureCoord;","varying float vTextureIndex;","uniform float alpha;","uniform sampler2D uSamplerArray["+this.MAX_TEXTURES+"];","const vec4 BLUE = vec4(1.0, 0.0, 1.0, 1.0);","const vec4 RED = vec4(1.0, 0.0, 0.0, 1.0);","void main(void) {",t,"   if(vTextureIndex >= "+this.MAX_TEXTURES+".0) { gl_FragColor = BLUE;return;}","   if(isnan(vTextureIndex)) {gl_FragColor = RED;return;}","}"]}else this.fragmentSrc=["//StripShader Fragment Shader.","precision mediump float;","varying vec2 vTextureCoord;","varying float vTextureIndex;","uniform float alpha;","uniform sampler2D uSampler;","void main(void) {","   gl_FragColor = texture2D(uSampler, vTextureCoord);","}"];this.vertexSrc=["//StripShader Vertex Shader.","attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","attribute float aTextureIndex;","uniform mat3 translationMatrix;","uniform vec2 projectionVector;","uniform vec2 offsetVector;","varying vec2 vTextureCoord;","varying float vTextureIndex;","void main(void) {","   vec3 v = translationMatrix * vec3(aVertexPosition , 1.0);","   v -= offsetVector.xyx;","   gl_Position = vec4( v.x / projectionVector.x -1.0, v.y / -projectionVector.y + 1.0 , 0.0, 1.0);","   vTextureCoord = aTextureCoord;","   vTextureIndex = aTextureIndex;","}"],this.init()},i.StripShader.prototype.constructor=i.StripShader,i.StripShader.prototype.init=function(){var e=this.gl,t=i.compileProgram(e,this.vertexSrc,this.fragmentSrc);if(e.useProgram(t),this.uSampler=i._enableMultiTextureToggle?e.getUniformLocation(t,"uSamplerArray[0]"):e.getUniformLocation(t,"uSampler"),i._enableMultiTextureToggle){var r=[],s=e.createTexture();e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,s),e.texImage2D(e.TEXTURE_2D,0,e.RGB,1,1,0,e.RGB,e.UNSIGNED_BYTE,null);for(var o=0;o<this.MAX_TEXTURES;++o)e.activeTexture(e.TEXTURE0+o),e.bindTexture(e.TEXTURE_2D,s),r.push(o);e.activeTexture(e.TEXTURE0),e.uniform1iv(this.uSampler,r)}this.projectionVector=e.getUniformLocation(t,"projectionVector"),this.offsetVector=e.getUniformLocation(t,"offsetVector"),this.colorAttribute=e.getAttribLocation(t,"aColor"),this.aTextureIndex=e.getAttribLocation(t,"aTextureIndex"),this.aVertexPosition=e.getAttribLocation(t,"aVertexPosition"),this.aTextureCoord=e.getAttribLocation(t,"aTextureCoord"),this.attributes=[this.aVertexPosition,this.aTextureCoord,this.aTextureIndex],this.translationMatrix=e.getUniformLocation(t,"translationMatrix"),this.alpha=e.getUniformLocation(t,"alpha"),this.program=t},i.StripShader.prototype.destroy=function(){this.gl.deleteProgram(this.program),this.uniforms=null,this.gl=null,this.attribute=null},i.PrimitiveShader=function(e){this._UID=Phaser._UID++,this.gl=e,this.program=null,this.fragmentSrc=["precision mediump float;","varying vec4 vColor;","void main(void) {","   gl_FragColor = vColor;","}"],this.vertexSrc=["attribute vec2 aVertexPosition;","attribute vec4 aColor;","uniform mat3 translationMatrix;","uniform vec2 projectionVector;","uniform vec2 offsetVector;","uniform float alpha;","uniform float flipY;","uniform vec3 tint;","varying vec4 vColor;","void main(void) {","   vec3 v = translationMatrix * vec3(aVertexPosition , 1.0);","   v -= offsetVector.xyx;","   gl_Position = vec4( v.x / projectionVector.x -1.0, (v.y / projectionVector.y * -flipY) + flipY , 0.0, 1.0);","   vColor = aColor * vec4(tint * alpha, alpha);","}"],this.init()},i.PrimitiveShader.prototype.constructor=i.PrimitiveShader,i.PrimitiveShader.prototype.init=function(){var e=this.gl,t=i.compileProgram(e,this.vertexSrc,this.fragmentSrc);e.useProgram(t),this.projectionVector=e.getUniformLocation(t,"projectionVector"),this.offsetVector=e.getUniformLocation(t,"offsetVector"),this.tintColor=e.getUniformLocation(t,"tint"),this.flipY=e.getUniformLocation(t,"flipY"),this.aVertexPosition=e.getAttribLocation(t,"aVertexPosition"),this.colorAttribute=e.getAttribLocation(t,"aColor"),this.attributes=[this.aVertexPosition,this.colorAttribute],this.translationMatrix=e.getUniformLocation(t,"translationMatrix"),this.alpha=e.getUniformLocation(t,"alpha"),this.program=t},i.PrimitiveShader.prototype.destroy=function(){this.gl.deleteProgram(this.program),this.uniforms=null,this.gl=null,this.attributes=null},i.ComplexPrimitiveShader=function(e){this._UID=Phaser._UID++,this.gl=e,this.program=null,this.fragmentSrc=["precision mediump float;","varying vec4 vColor;","void main(void) {","   gl_FragColor = vColor;","}"],this.vertexSrc=["attribute vec2 aVertexPosition;","uniform mat3 translationMatrix;","uniform vec2 projectionVector;","uniform vec2 offsetVector;","uniform vec3 tint;","uniform float alpha;","uniform vec3 color;","uniform float flipY;","varying vec4 vColor;","void main(void) {","   vec3 v = translationMatrix * vec3(aVertexPosition , 1.0);","   v -= offsetVector.xyx;","   gl_Position = vec4( v.x / projectionVector.x -1.0, (v.y / projectionVector.y * -flipY) + flipY , 0.0, 1.0);","   vColor = vec4(color * alpha * tint, alpha);","}"],this.init()},i.ComplexPrimitiveShader.prototype.constructor=i.ComplexPrimitiveShader,i.ComplexPrimitiveShader.prototype.init=function(){var e=this.gl,t=i.compileProgram(e,this.vertexSrc,this.fragmentSrc);e.useProgram(t),this.projectionVector=e.getUniformLocation(t,"projectionVector"),this.offsetVector=e.getUniformLocation(t,"offsetVector"),this.tintColor=e.getUniformLocation(t,"tint"),this.color=e.getUniformLocation(t,"color"),this.flipY=e.getUniformLocation(t,"flipY"),this.aVertexPosition=e.getAttribLocation(t,"aVertexPosition"),this.attributes=[this.aVertexPosition,this.colorAttribute],this.translationMatrix=e.getUniformLocation(t,"translationMatrix"),this.alpha=e.getUniformLocation(t,"alpha"),this.program=t},i.ComplexPrimitiveShader.prototype.destroy=function(){this.gl.deleteProgram(this.program),this.uniforms=null,this.gl=null,this.attribute=null},i.glContexts=[],i.instances=[],i._enableMultiTextureToggle=!1,i.WebGLRenderer=function(e){this.game=e,i.defaultRenderer||(i.defaultRenderer=this),this.extensions={},this.type=Phaser.WEBGL,this.resolution=e.resolution,this.transparent=e.transparent,this.autoResize=!1,this.preserveDrawingBuffer=e.preserveDrawingBuffer,this.clearBeforeRender=e.clearBeforeRender,this.width=e.width,this.height=e.height,this.view=e.canvas,this._contextOptions={alpha:this.transparent,antialias:e.antialias,premultipliedAlpha:this.transparent&&"notMultiplied"!==this.transparent,stencil:!0,preserveDrawingBuffer:this.preserveDrawingBuffer},this.projection=new i.Point,this.offset=new i.Point,this.shaderManager=new i.WebGLShaderManager,this.spriteBatch=new i.WebGLSpriteBatch(e),this.maskManager=new i.WebGLMaskManager,this.filterManager=new i.WebGLFilterManager,this.stencilManager=new i.WebGLStencilManager,this.blendModeManager=new i.WebGLBlendModeManager,this.renderSession={},this.currentBatchedTextures=[],this.renderSession.game=this.game,this.renderSession.gl=this.gl,this.renderSession.drawCount=0,this.renderSession.shaderManager=this.shaderManager,this.renderSession.maskManager=this.maskManager,this.renderSession.filterManager=this.filterManager,this.renderSession.blendModeManager=this.blendModeManager,this.renderSession.spriteBatch=this.spriteBatch,this.renderSession.stencilManager=this.stencilManager,this.renderSession.renderer=this,this.renderSession.resolution=this.resolution,this.renderSession.roundPixels=!1,this.renderSession.maxTextureAvailableSpace=null,this.initContext(),this.mapBlendModes()},i.WebGLRenderer.prototype.constructor=i.WebGLRenderer,i.WebGLRenderer.prototype.initContext=function(){var e=this.view.getContext("webgl",this._contextOptions)||this.view.getContext("experimental-webgl",this._contextOptions);if(this.gl=e,!e)throw new Error("This browser does not support webGL. Try using the canvas renderer");this.maxTextures=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),this.maxTextureSize=this.gl.getParameter(e.MAX_TEXTURE_SIZE),this.glContextId=e.id=i.WebGLRenderer.glContextId++,i.glContexts[this.glContextId]=e,i.instances[this.glContextId]=this,e.disable(e.DEPTH_TEST),e.disable(e.CULL_FACE),e.enable(e.BLEND),this.shaderManager.setContext(e),this.spriteBatch.setContext(e),this.maskManager.setContext(e),this.filterManager.setContext(e),this.blendModeManager.setContext(e),this.stencilManager.setContext(e),this.renderSession.gl=this.gl,this.resize(this.width,this.height),this.extensions.compression={};var t=e.getExtension("WEBGL_compressed_texture_etc1")||e.getExtension("WEBKIT_WEBGL_compressed_texture_etc1"),r=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),s=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");t&&(this.extensions.compression.ETC1=t),r&&(this.extensions.compression.PVRTC=r),s&&(this.extensions.compression.S3TC=s)},i.WebGLRenderer.prototype.setTexturePriority=function(e){if(i._enableMultiTextureToggle){for(var t=function(e){return--e,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,++e},r=this.gl,s=r.getParameter(r.MAX_TEXTURE_IMAGE_UNITS),o=r.getParameter(r.MAX_TEXTURE_SIZE),a=this.game.cache._cache.image,n=null,h=0;h<this.currentBatchedTextures.length;h++)(n=this.currentBatchedTextures[h])in a?a[n].base.textureIndex=0:console.warn('setTexturePriority: There is no image "%s" in the image cache.',n);var l=o-t(Math.max(this.width,this.height));this.currentBatchedTextures.length=0;for(var u=0;u<e.length;++u)if((n=e[u])in a){var d=a[n].base;(l-=t(Math.max(d.width,d.height)))<=0?(d.textureIndex=0,console.warn('setTexturePriority: Image "%s" was given textureIndex=0 because there is no available texture space (%s).',n,l)):d.textureIndex=1+u%(s-1),this.currentBatchedTextures.push(n)}else console.warn('setTexturePriority: There is no image "%s" in the image cache.',n);return this.renderSession.maxTextureAvailableSpace=l,this.currentBatchedTextures}console.warn("setTexturePriority error: Multi Texture support hasn't been enabled in the Phaser Game Config.")},i.WebGLRenderer.prototype.render=function(e){if(!this.contextLost){var t=this.gl;t.viewport(0,0,this.width,this.height),t.bindFramebuffer(t.FRAMEBUFFER,null),this.game.clearBeforeRender&&(t.clearColor(e._bgColor.r,e._bgColor.g,e._bgColor.b,e._bgColor.a),t.clear(t.COLOR_BUFFER_BIT)),this.offset.x=this.game.camera._shake.x,this.offset.y=this.game.camera._shake.y,this.renderDisplayObject(e,this.projection)}},i.WebGLRenderer.prototype.renderDisplayObject=function(e,t,r,s){this.renderSession.blendModeManager.setBlendMode(i.blendModes.NORMAL),this.renderSession.drawCount=0,this.renderSession.flipY=r?-1:1,this.renderSession.projection=t,this.renderSession.offset=this.offset,this.spriteBatch.begin(this.renderSession),this.filterManager.begin(this.renderSession,r),e._renderWebGL(this.renderSession,s),this.spriteBatch.end()},i.WebGLRenderer.prototype.resize=function(e,t){this.width=e*this.resolution,this.height=t*this.resolution,this.view.width=this.width,this.view.height=this.height,this.autoResize&&(this.view.style.width=this.width/this.resolution+"px",this.view.style.height=this.height/this.resolution+"px"),this.gl.viewport(0,0,this.width,this.height),this.projection.x=this.width/2/this.resolution,this.projection.y=-this.height/2/this.resolution},i.WebGLRenderer.prototype.updateCompressedTexture=function(e){if(!e.hasLoaded)return!1;var t=this.gl,r=e.source;return e._glTextures[t.id]||(e._glTextures[t.id]=t.createTexture()),t.activeTexture(t.TEXTURE0+e.textureIndex),t.bindTexture(t.TEXTURE_2D,e._glTextures[t.id]),t.compressedTexImage2D(t.TEXTURE_2D,0,r.glExtensionFormat,r.width,r.height,0,r.textureData),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,e.scaleMode===i.scaleModes.LINEAR?t.LINEAR:t.NEAREST),e.mipmap&&Phaser.Math.isPowerOfTwo(e.width,e.height)?(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,e.scaleMode===i.scaleModes.LINEAR?t.LINEAR_MIPMAP_LINEAR:t.NEAREST_MIPMAP_NEAREST),t.generateMipmap(t.TEXTURE_2D)):t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,e.scaleMode===i.scaleModes.LINEAR?t.LINEAR:t.NEAREST),e._powerOf2?(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT)):(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE)),e._dirty[t.id]=!1,!0},i.WebGLRenderer.prototype.updateTexture=function(e){if(!e.hasLoaded)return!1;if(e.source.compressionAlgorithm)return this.updateCompressedTexture(e);var t=this.gl;return e._glTextures[t.id]||(e._glTextures[t.id]=t.createTexture()),t.activeTexture(t.TEXTURE0+e.textureIndex),t.bindTexture(t.TEXTURE_2D,e._glTextures[t.id]),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.premultipliedAlpha),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e.source),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,e.scaleMode===i.scaleModes.LINEAR?t.LINEAR:t.NEAREST),e.mipmap&&Phaser.Math.isPowerOfTwo(e.width,e.height)?(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,e.scaleMode===i.scaleModes.LINEAR?t.LINEAR_MIPMAP_LINEAR:t.NEAREST_MIPMAP_NEAREST),t.generateMipmap(t.TEXTURE_2D)):t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,e.scaleMode===i.scaleModes.LINEAR?t.LINEAR:t.NEAREST),e._powerOf2?(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT)):(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE)),e._dirty[t.id]=!1,!0},i.WebGLRenderer.prototype.destroy=function(){i.glContexts[this.glContextId]=null,this.projection=null,this.offset=null,this.shaderManager.destroy(),this.spriteBatch.destroy(),this.maskManager.destroy(),this.filterManager.destroy(),this.shaderManager=null,this.spriteBatch=null,this.maskManager=null,this.filterManager=null,this.gl=null,this.renderSession=null,Phaser.CanvasPool.remove(this),i.instances[this.glContextId]=null,i.WebGLRenderer.glContextId--},i.WebGLRenderer.prototype.mapBlendModes=function(){var e=this.gl;if(!i.blendModesWebGL){var t=[],r=i.blendModes;t[r.NORMAL]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[r.ADD]=[e.SRC_ALPHA,e.DST_ALPHA],t[r.MULTIPLY]=[e.DST_COLOR,e.ONE_MINUS_SRC_ALPHA],t[r.SCREEN]=[e.SRC_ALPHA,e.ONE],t[r.OVERLAY]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[r.DARKEN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[r.LIGHTEN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[r.COLOR_DODGE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[r.COLOR_BURN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[r.HARD_LIGHT]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[r.SOFT_LIGHT]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[r.DIFFERENCE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[r.EXCLUSION]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[r.HUE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[r.SATURATION]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[r.COLOR]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[r.LUMINOSITY]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],i.blendModesWebGL=t}},i.WebGLRenderer.prototype.getMaxTextureUnit=function(){var e=this.gl;return e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS)},i.enableMultiTexture=function(){i._enableMultiTextureToggle=!0},i.WebGLRenderer.glContextId=0,i.WebGLRenderer.textureArray=[],i.WebGLBlendModeManager=function(){this.currentBlendMode=99999},i.WebGLBlendModeManager.prototype.constructor=i.WebGLBlendModeManager,i.WebGLBlendModeManager.prototype.setContext=function(e){this.gl=e},i.WebGLBlendModeManager.prototype.setBlendMode=function(e){if(this.currentBlendMode===e)return!1;this.currentBlendMode=e;var t=i.blendModesWebGL[this.currentBlendMode];return t&&this.gl.blendFunc(t[0],t[1]),!0},i.WebGLBlendModeManager.prototype.destroy=function(){this.gl=null},i.WebGLMaskManager=function(){},i.WebGLMaskManager.prototype.constructor=i.WebGLMaskManager,i.WebGLMaskManager.prototype.setContext=function(e){this.gl=e},i.WebGLMaskManager.prototype.pushMask=function(e,t){var r=t.gl;e.dirty&&i.WebGLGraphics.updateGraphics(e,r),void 0!==e._webGL[r.id]&&void 0!==e._webGL[r.id].data&&0!==e._webGL[r.id].data.length&&t.stencilManager.pushStencil(e,e._webGL[r.id].data[0],t)},i.WebGLMaskManager.prototype.popMask=function(e,t){var r=this.gl;void 0!==e._webGL[r.id]&&void 0!==e._webGL[r.id].data&&0!==e._webGL[r.id].data.length&&t.stencilManager.popStencil(e,e._webGL[r.id].data[0],t)},i.WebGLMaskManager.prototype.destroy=function(){this.gl=null},i.WebGLStencilManager=function(){this.stencilStack=[],this.reverse=!0,this.count=0},i.WebGLStencilManager.prototype.setContext=function(e){this.gl=e},i.WebGLStencilManager.prototype.pushStencil=function(e,t,r){var i=this.gl;this.bindGraphics(e,t,r),0===this.stencilStack.length&&(i.enable(i.STENCIL_TEST),i.clear(i.STENCIL_BUFFER_BIT),this.reverse=!0,this.count=0),this.stencilStack.push(t);var s=this.count;i.colorMask(!1,!1,!1,!1),i.stencilFunc(i.ALWAYS,0,255),i.stencilOp(i.KEEP,i.KEEP,i.INVERT),1===t.mode?(i.drawElements(i.TRIANGLE_FAN,t.indices.length-4,i.UNSIGNED_SHORT,0),this.reverse?(i.stencilFunc(i.EQUAL,255-s,255),i.stencilOp(i.KEEP,i.KEEP,i.DECR)):(i.stencilFunc(i.EQUAL,s,255),i.stencilOp(i.KEEP,i.KEEP,i.INCR)),i.drawElements(i.TRIANGLE_FAN,4,i.UNSIGNED_SHORT,2*(t.indices.length-4)),this.reverse?i.stencilFunc(i.EQUAL,255-(s+1),255):i.stencilFunc(i.EQUAL,s+1,255),this.reverse=!this.reverse):(this.reverse?(i.stencilFunc(i.EQUAL,s,255),i.stencilOp(i.KEEP,i.KEEP,i.INCR)):(i.stencilFunc(i.EQUAL,255-s,255),i.stencilOp(i.KEEP,i.KEEP,i.DECR)),i.drawElements(i.TRIANGLE_STRIP,t.indices.length,i.UNSIGNED_SHORT,0),this.reverse?i.stencilFunc(i.EQUAL,s+1,255):i.stencilFunc(i.EQUAL,255-(s+1),255)),i.colorMask(!0,!0,!0,!0),i.stencilOp(i.KEEP,i.KEEP,i.KEEP),this.count++},i.WebGLStencilManager.prototype.bindGraphics=function(e,t,r){this._currentGraphics=e;var i,s=this.gl,o=r.projection,a=r.offset;1===t.mode?(i=r.shaderManager.complexPrimitiveShader,r.shaderManager.setShader(i),s.uniform1f(i.flipY,r.flipY),s.uniformMatrix3fv(i.translationMatrix,!1,e.worldTransform.toArray(!0)),s.uniform2f(i.projectionVector,o.x,-o.y),s.uniform2f(i.offsetVector,-a.x,-a.y),s.uniform3fv(i.tintColor,Phaser.Color.hexToRGBArray(e.tint)),s.uniform3fv(i.color,t.color),s.uniform1f(i.alpha,e.worldAlpha*t.alpha),s.bindBuffer(s.ARRAY_BUFFER,t.buffer),s.vertexAttribPointer(i.aVertexPosition,2,s.FLOAT,!1,8,0),s.bindBuffer(s.ELEMENT_ARRAY_BUFFER,t.indexBuffer)):(i=r.shaderManager.primitiveShader,r.shaderManager.setShader(i),s.uniformMatrix3fv(i.translationMatrix,!1,e.worldTransform.toArray(!0)),s.uniform1f(i.flipY,r.flipY),s.uniform2f(i.projectionVector,o.x,-o.y),s.uniform2f(i.offsetVector,-a.x,-a.y),s.uniform3fv(i.tintColor,Phaser.Color.hexToRGBArray(e.tint)),s.uniform1f(i.alpha,e.worldAlpha),s.bindBuffer(s.ARRAY_BUFFER,t.buffer),s.vertexAttribPointer(i.aVertexPosition,2,s.FLOAT,!1,24,0),s.vertexAttribPointer(i.colorAttribute,4,s.FLOAT,!1,24,8),s.bindBuffer(s.ELEMENT_ARRAY_BUFFER,t.indexBuffer))},i.WebGLStencilManager.prototype.popStencil=function(e,t,r){var i=this.gl;if(this.stencilStack.pop(),this.count--,0===this.stencilStack.length)i.disable(i.STENCIL_TEST);else{var s=this.count;this.bindGraphics(e,t,r),i.colorMask(!1,!1,!1,!1),1===t.mode?(this.reverse=!this.reverse,this.reverse?(i.stencilFunc(i.EQUAL,255-(s+1),255),i.stencilOp(i.KEEP,i.KEEP,i.INCR)):(i.stencilFunc(i.EQUAL,s+1,255),i.stencilOp(i.KEEP,i.KEEP,i.DECR)),i.drawElements(i.TRIANGLE_FAN,4,i.UNSIGNED_SHORT,2*(t.indices.length-4)),i.stencilFunc(i.ALWAYS,0,255),i.stencilOp(i.KEEP,i.KEEP,i.INVERT),i.drawElements(i.TRIANGLE_FAN,t.indices.length-4,i.UNSIGNED_SHORT,0),this.reverse?i.stencilFunc(i.EQUAL,s,255):i.stencilFunc(i.EQUAL,255-s,255)):(this.reverse?(i.stencilFunc(i.EQUAL,s+1,255),i.stencilOp(i.KEEP,i.KEEP,i.DECR)):(i.stencilFunc(i.EQUAL,255-(s+1),255),i.stencilOp(i.KEEP,i.KEEP,i.INCR)),i.drawElements(i.TRIANGLE_STRIP,t.indices.length,i.UNSIGNED_SHORT,0),this.reverse?i.stencilFunc(i.EQUAL,s,255):i.stencilFunc(i.EQUAL,255-s,255)),i.colorMask(!0,!0,!0,!0),i.stencilOp(i.KEEP,i.KEEP,i.KEEP)}},i.WebGLStencilManager.prototype.destroy=function(){this.stencilStack=null,this.gl=null},i.WebGLShaderManager=function(){this.maxAttibs=10,this.attribState=[],this.tempAttribState=[];for(var e=0;e<this.maxAttibs;e++)this.attribState[e]=!1;this.stack=[]},i.WebGLShaderManager.prototype.constructor=i.WebGLShaderManager,i.WebGLShaderManager.prototype.setContext=function(e){this.gl=e,this.primitiveShader=new i.PrimitiveShader(e),this.complexPrimitiveShader=new i.ComplexPrimitiveShader(e),this.defaultShader=new i.PixiShader(e),this.fastShader=new i.PixiFastShader(e),this.stripShader=new i.StripShader(e),this.creatureShader=i.CreatureShader?new i.CreatureShader(e):null,this.setShader(this.defaultShader)},i.WebGLShaderManager.prototype.setAttribs=function(e){var t;for(t=0;t<this.tempAttribState.length;t++)this.tempAttribState[t]=!1;for(t=0;t<e.length;t++){var r=e[t];this.tempAttribState[r]=!0}var i=this.gl;for(t=0;t<this.attribState.length;t++)this.attribState[t]!==this.tempAttribState[t]&&(this.attribState[t]=this.tempAttribState[t],this.tempAttribState[t]?i.enableVertexAttribArray(t):i.disableVertexAttribArray(t))},i.WebGLShaderManager.prototype.setShader=function(e){return this._currentId!==e._UID&&(this._currentId=e._UID,this.currentShader=e,this.gl.useProgram(e.program),this.setAttribs(e.attributes),!0)},i.WebGLShaderManager.prototype.destroy=function(){this.attribState=null,this.tempAttribState=null,this.primitiveShader.destroy(),this.complexPrimitiveShader.destroy(),this.defaultShader.destroy(),this.fastShader.destroy(),this.stripShader.destroy(),this.creatureShader&&this.creatureShader.destroy(),this.gl=null},i.WebGLSpriteBatch=function(e){this.game=e,this.vertSize=5,this.size=2e3,this.vertexSize=24;var t=this.vertexSize*this.size*4,r=6*this.size;this.vertices=new ArrayBuffer(t),this.positions=new Float32Array(this.vertices),this.colors=new Uint32Array(this.vertices),this.indices=new Uint16Array(r),this.lastIndexCount=0;for(var i=0,s=0;i<r;i+=6,s+=4)this.indices[i+0]=s+0,this.indices[i+1]=s+1,this.indices[i+2]=s+2,this.indices[i+3]=s+0,this.indices[i+4]=s+2,this.indices[i+5]=s+3;this.drawing=!1,this.currentBatchSize=0,this.currentBaseTexture=null,this.dirty=!0,this.textures=[],this.blendModes=[],this.shaders=[],this.sprites=[],this.defaultShader=null},i.WebGLSpriteBatch.prototype.setContext=function(e){if(this.MAX_TEXTURES=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),this.gl=e,i._enableMultiTextureToggle){for(var t="\tif (vTextureIndex == 0.0) {gl_FragColor = texture2D(uSamplerArray[0], vTextureCoord) * vColor;return;}\n",r=1;r<this.MAX_TEXTURES;++r)t+="\tif (vTextureIndex == "+r+".0) {gl_FragColor = texture2D(uSamplerArray["+r+"], vTextureCoord) * vColor;return;}\n";this.defaultShader=new Phaser.Filter(this.game,void 0,["//WebGLSpriteBatch Fragment Shader.","precision lowp float;","varying vec2 vTextureCoord;","varying vec4 vColor;","varying float vTextureIndex;","uniform sampler2D uSamplerArray["+this.MAX_TEXTURES+"];","void main(void) {",t,"\tgl_FragColor = texture2D(uSamplerArray[0], vTextureCoord) * vColor;","}"])}else this.defaultShader=new Phaser.Filter(this.game,void 0,["//WebGLSpriteBatch Fragment Shader.","precision lowp float;","varying vec2 vTextureCoord;","varying vec4 vColor;","varying float vTextureIndex;","uniform sampler2D uSampler;","void main(void) {","   gl_FragColor = texture2D(uSampler, vTextureCoord) * vColor;","}"]);this.vertexBuffer=e.createBuffer(),this.indexBuffer=e.createBuffer(),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this.indexBuffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,this.indices,e.STATIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,this.vertexBuffer),e.bufferData(e.ARRAY_BUFFER,this.vertices,e.DYNAMIC_DRAW),this.currentBlendMode=99999;var s=new i.PixiShader(e);s.fragmentSrc=this.defaultShader.fragmentSrc,s.uniforms={},s.init(),this.defaultShader.shaders[e.id]=s},i.WebGLSpriteBatch.prototype.begin=function(e){this.renderSession=e,this.shader=this.renderSession.shaderManager.defaultShader,this.start()},i.WebGLSpriteBatch.prototype.end=function(){this.flush()},i.WebGLSpriteBatch.prototype.render=function(e,t){var r=e.texture,s=r.baseTexture,o=this.gl;i.WebGLRenderer.textureArray[s.textureIndex]!=s&&(this.flush(),o.activeTexture(o.TEXTURE0+s.textureIndex),o.bindTexture(o.TEXTURE_2D,s._glTextures[o.id]),i.WebGLRenderer.textureArray[s.textureIndex]=s);var a=e.worldTransform;t&&(a=t),this.currentBatchSize>=this.size&&(this.flush(),this.currentBaseTexture=r.baseTexture);var n=r._uvs;if(n){var h,l,u,d,c=e.anchor.x,f=e.anchor.y;if(r.trim){var x=r.trim;h=(l=x.x-c*x.width)+r.crop.width,u=(d=x.y-f*x.height)+r.crop.height}else h=r.frame.width*(1-c),l=r.frame.width*-c,u=r.frame.height*(1-f),d=r.frame.height*-f;var p=this.currentBatchSize*this.vertexSize,g=(this.currentBatchSize,r.baseTexture.resolution),v=r.baseTexture.textureIndex,T=a.a/g,m=a.b/g,E=a.c/g,_=a.d/g,S=a.tx,y=a.ty,b=(r.crop.width,r.crop.height);if(r.rotated){var A=a.a,R=a.b,M=a.c,C=a.d,L=l,B=h;S=a.c*b+S,y=a.d*b+y,T=6.123233995736766e-17*A-M,m=6.123233995736766e-17*R-C,E=A+6.123233995736766e-17*M,_=R+6.123233995736766e-17*C,r._updateUvsInverted(),h=u,l=d,u=B,d=L}var P=this.colors,w=this.positions,U=e.tint,F=(U>>16)+(65280&U)+((255&U)<<16)+(255*e.worldAlpha<<24);this.renderSession.roundPixels?(w[p++]=T*l+E*d+S|0,w[p++]=_*d+m*l+y|0,w[p++]=n.x0,w[p++]=n.y0,P[p++]=F,w[p++]=v,w[p++]=T*h+E*d+S|0,w[p++]=_*d+m*h+y|0,w[p++]=n.x1,w[p++]=n.y1,P[p++]=F,w[p++]=v,w[p++]=T*h+E*u+S|0,w[p++]=_*u+m*h+y|0,w[p++]=n.x2,w[p++]=n.y2,P[p++]=F,w[p++]=v,w[p++]=T*l+E*u+S|0,w[p++]=_*u+m*l+y|0,w[p++]=n.x3,w[p++]=n.y3,P[p++]=F,w[p++]=v):(w[p++]=T*l+E*d+S,w[p++]=_*d+m*l+y,w[p++]=n.x0,w[p++]=n.y0,P[p++]=F,w[p++]=v,w[p++]=T*h+E*d+S,w[p++]=_*d+m*h+y,w[p++]=n.x1,w[p++]=n.y1,P[p++]=F,w[p++]=v,w[p++]=T*h+E*u+S,w[p++]=_*u+m*h+y,w[p++]=n.x2,w[p++]=n.y2,P[p++]=F,w[p++]=v,w[p++]=T*l+E*u+S,w[p++]=_*u+m*l+y,w[p++]=n.x3,w[p++]=n.y3,P[p++]=F,w[p++]=v),this.sprites[this.currentBatchSize++]=e}},i.WebGLSpriteBatch.prototype.renderTilingSprite=function(e){var t=e.tilingTexture,r=t.baseTexture,s=this.gl,o=e.texture.baseTexture.textureIndex;i.WebGLRenderer.textureArray[o]!=r&&(this.flush(),s.activeTexture(s.TEXTURE0+o),s.bindTexture(s.TEXTURE_2D,r._glTextures[s.id]),i.WebGLRenderer.textureArray[o]=r),this.currentBatchSize>=this.size&&(this.flush(),this.currentBaseTexture=t.baseTexture),e._uvs||(e._uvs=new i.TextureUvs);var a=e._uvs,n=t.baseTexture.width,h=t.baseTexture.height;e.tilePosition.x%=n*e.tileScaleOffset.x,e.tilePosition.y%=h*e.tileScaleOffset.y;var l=e.tilePosition.x/(n*e.tileScaleOffset.x),u=e.tilePosition.y/(h*e.tileScaleOffset.y),d=e.width/n/(e.tileScale.x*e.tileScaleOffset.x),c=e.height/h/(e.tileScale.y*e.tileScaleOffset.y);a.x0=0-l,a.y0=0-u,a.x1=1*d-l,a.y1=0-u,a.x2=1*d-l,a.y2=1*c-u,a.x3=0-l,a.y3=1*c-u;var f=e.tint,x=(f>>16)+(65280&f)+((255&f)<<16)+(255*e.worldAlpha<<24),p=this.positions,g=this.colors,v=e.width,T=e.height,m=e.anchor.x,E=e.anchor.y,_=v*(1-m),S=v*-m,y=T*(1-E),b=T*-E,A=this.currentBatchSize*this.vertexSize,R=t.baseTexture.resolution,M=e.worldTransform,C=M.a/R,L=M.b/R,B=M.c/R,P=M.d/R,w=M.tx,U=M.ty;p[A++]=C*S+B*b+w,p[A++]=P*b+L*S+U,p[A++]=a.x0,p[A++]=a.y0,g[A++]=x,p[A++]=o,p[A++]=C*_+B*b+w,p[A++]=P*b+L*_+U,p[A++]=a.x1,p[A++]=a.y1,g[A++]=x,p[A++]=o,p[A++]=C*_+B*y+w,p[A++]=P*y+L*_+U,p[A++]=a.x2,p[A++]=a.y2,g[A++]=x,p[A++]=o,p[A++]=C*S+B*y+w,p[A++]=P*y+L*S+U,p[A++]=a.x3,p[A++]=a.y3,g[A++]=x,p[A++]=o,this.sprites[this.currentBatchSize++]=e},i.WebGLSpriteBatch.prototype.flush=function(){if(0!==this.currentBatchSize){var e,t=this.gl;if(this.dirty){this.dirty=!1,e=this.defaultShader.shaders[t.id],t.activeTexture(t.TEXTURE0),t.bindBuffer(t.ARRAY_BUFFER,this.vertexBuffer),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer);var r=this.vertexSize;t.vertexAttribPointer(e.aVertexPosition,2,t.FLOAT,!1,r,0),t.vertexAttribPointer(e.aTextureCoord,2,t.FLOAT,!1,r,8),t.vertexAttribPointer(e.colorAttribute,4,t.UNSIGNED_BYTE,!0,r,16),t.vertexAttribPointer(e.aTextureIndex,1,t.FLOAT,!1,r,20)}if(this.currentBatchSize>.5*this.size)t.bufferSubData(t.ARRAY_BUFFER,0,this.vertices);else{t.bindBuffer(t.ARRAY_BUFFER,this.vertexBuffer);var s=this.positions.subarray(0,this.currentBatchSize*this.vertexSize);t.bufferSubData(t.ARRAY_BUFFER,0,s)}for(var o,a,n,h,l=0,u=0,d=null,c=this.renderSession.blendModeManager.currentBlendMode,f=null,x=!1,p=!1,g=0,v=this.currentBatchSize;g<v;g++){o=(h=this.sprites[g]).tilingTexture?h.tilingTexture.baseTexture:h.texture.baseTexture,x=c!==(a=h.blendMode),p=f!==(n=h.shader||this.defaultShader);var T=o.skipRender;if(T&&h.children.length>0&&(T=!1),(x||p)&&(this.renderBatch(d,l,u),u=g,l=0,d=o,x&&(c=a,this.renderSession.blendModeManager.setBlendMode(c)),p)){(e=(f=n).shaders[t.id])||((e=new i.PixiShader(t)).fragmentSrc=f.fragmentSrc,e.uniforms=f.uniforms,e.init(),f.shaders[t.id]=e),this.renderSession.shaderManager.setShader(e),e.dirty&&e.syncUniforms();var m=this.renderSession.projection;t.uniform2f(e.projectionVector,m.x,m.y);var E=this.renderSession.offset;t.uniform2f(e.offsetVector,E.x,E.y)}l++}this.renderBatch(d,l,u),this.currentBatchSize=0}},i.WebGLSpriteBatch.prototype.renderBatch=function(e,t,r){if(0!==t){var i=this.gl;if(e._dirty[i.id]){if(!this.renderSession.renderer.updateTexture(e))return}else i.bindTexture(i.TEXTURE_2D,e._glTextures[i.id]);i.drawElements(i.TRIANGLES,6*t,i.UNSIGNED_SHORT,6*r*2),this.renderSession.drawCount++}},i.WebGLSpriteBatch.prototype.stop=function(){this.flush(),this.dirty=!0},i.WebGLSpriteBatch.prototype.start=function(){this.dirty=!0},i.WebGLSpriteBatch.prototype.destroy=function(){this.vertices=null,this.indices=null,this.gl.deleteBuffer(this.vertexBuffer),this.gl.deleteBuffer(this.indexBuffer),this.currentBaseTexture=null,this.gl=null},i.WebGLFastSpriteBatch=function(e){this.vertSize=11,this.maxSize=6e3,this.size=this.maxSize;var t=4*this.size*this.vertSize,r=6*this.maxSize;this.vertices=new Float32Array(t),this.indices=new Uint16Array(r),this.vertexBuffer=null,this.indexBuffer=null,this.lastIndexCount=0;for(var i=0,s=0;i<r;i+=6,s+=4)this.indices[i+0]=s+0,this.indices[i+1]=s+1,this.indices[i+2]=s+2,this.indices[i+3]=s+0,this.indices[i+4]=s+2,this.indices[i+5]=s+3;this.drawing=!1,this.currentBatchSize=0,this.currentBaseTexture=null,this.currentBlendMode=0,this.renderSession=null,this.shader=null,this.matrix=null,this.setContext(e)},i.WebGLFastSpriteBatch.prototype.constructor=i.WebGLFastSpriteBatch,i.WebGLFastSpriteBatch.prototype.setContext=function(e){this.gl=e,this.vertexBuffer=e.createBuffer(),this.indexBuffer=e.createBuffer(),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this.indexBuffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,this.indices,e.STATIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,this.vertexBuffer),e.bufferData(e.ARRAY_BUFFER,this.vertices,e.DYNAMIC_DRAW)},i.WebGLFastSpriteBatch.prototype.begin=function(e,t){this.renderSession=t,this.shader=this.renderSession.shaderManager.fastShader,this.matrix=e.worldTransform.toArray(!0),this.start()},i.WebGLFastSpriteBatch.prototype.end=function(){this.flush()},i.WebGLFastSpriteBatch.prototype.render=function(e){var t=e.children,r=t[0];if(r.texture._uvs){this.currentBaseTexture=r.texture.baseTexture,r.blendMode!==this.renderSession.blendModeManager.currentBlendMode&&(this.flush(),this.renderSession.blendModeManager.setBlendMode(r.blendMode));for(var i=0,s=t.length;i<s;i++)this.renderSprite(t[i]);this.flush()}},i.WebGLFastSpriteBatch.prototype.renderSprite=function(e){var t=e.texture.baseTexture,r=this.gl,s=e.texture.baseTexture.textureIndex;if((i.WebGLRenderer.textureArray[s]==t||!t._glTextures[r.id]||e.texture.baseTexture.skipRender||(this.flush(),r.activeTexture(r.TEXTURE0+s),r.bindTexture(r.TEXTURE_2D,t._glTextures[r.id]),i.WebGLRenderer.textureArray[s]=t,e.texture._uvs))&&e.visible){var o,a,n,h,l,u,d=this.vertices;if(o=e.texture._uvs,e.texture.frame.width,e.texture.frame.height,e.texture.trim){var c=e.texture.trim;a=(n=c.x-e.anchor.x*c.width)+e.texture.crop.width,h=(l=c.y-e.anchor.y*c.height)+e.texture.crop.height}else a=e.texture.frame.width*(1-e.anchor.x),n=e.texture.frame.width*-e.anchor.x,h=e.texture.frame.height*(1-e.anchor.y),l=e.texture.frame.height*-e.anchor.y;u=4*this.currentBatchSize*this.vertSize,d[u++]=n,d[u++]=l,d[u++]=e.position.x,d[u++]=e.position.y,d[u++]=e.scale.x,d[u++]=e.scale.y,d[u++]=e.rotation,d[u++]=o.x0,d[u++]=o.y1,d[u++]=e.alpha,d[u++]=s,d[u++]=a,d[u++]=l,d[u++]=e.position.x,d[u++]=e.position.y,d[u++]=e.scale.x,d[u++]=e.scale.y,d[u++]=e.rotation,d[u++]=o.x1,d[u++]=o.y1,d[u++]=e.alpha,d[u++]=s,d[u++]=a,d[u++]=h,d[u++]=e.position.x,d[u++]=e.position.y,d[u++]=e.scale.x,d[u++]=e.scale.y,d[u++]=e.rotation,d[u++]=o.x2,d[u++]=o.y2,d[u++]=e.alpha,d[u++]=s,d[u++]=n,d[u++]=h,d[u++]=e.position.x,d[u++]=e.position.y,d[u++]=e.scale.x,d[u++]=e.scale.y,d[u++]=e.rotation,d[u++]=o.x3,d[u++]=o.y3,d[u++]=e.alpha,d[u++]=s,++this.currentBatchSize>=this.size&&this.flush()}},i.WebGLFastSpriteBatch.prototype.flush=function(){if(0!==this.currentBatchSize){var e=this.gl;if(this.currentBaseTexture._glTextures[e.id]){if(this.currentBatchSize>.5*this.size)e.bufferSubData(e.ARRAY_BUFFER,0,this.vertices);else{var t=this.vertices.subarray(0,4*this.currentBatchSize*this.vertSize);e.bufferSubData(e.ARRAY_BUFFER,0,t)}e.drawElements(e.TRIANGLES,6*this.currentBatchSize,e.UNSIGNED_SHORT,0),this.currentBatchSize=0,this.renderSession.drawCount++}else this.renderSession.renderer.updateTexture(this.currentBaseTexture,e)}},i.WebGLFastSpriteBatch.prototype.stop=function(){this.flush()},i.WebGLFastSpriteBatch.prototype.start=function(){var e=this.gl;e.activeTexture(e.TEXTURE0),e.bindBuffer(e.ARRAY_BUFFER,this.vertexBuffer),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this.indexBuffer);var t=this.renderSession.projection;e.uniform2f(this.shader.projectionVector,t.x,t.y),e.uniformMatrix3fv(this.shader.uMatrix,!1,this.matrix);var r=4*this.vertSize;e.vertexAttribPointer(this.shader.aVertexPosition,2,e.FLOAT,!1,r,0),e.vertexAttribPointer(this.shader.aPositionCoord,2,e.FLOAT,!1,r,8),e.vertexAttribPointer(this.shader.aScale,2,e.FLOAT,!1,r,16),e.vertexAttribPointer(this.shader.aRotation,1,e.FLOAT,!1,r,24),e.vertexAttribPointer(this.shader.aTextureCoord,2,e.FLOAT,!1,r,28),e.vertexAttribPointer(this.shader.colorAttribute,1,e.FLOAT,!1,r,36),e.vertexAttribPointer(this.shader.aTextureIndex,1,e.FLOAT,!1,r,40)},i.WebGLFilterManager=function(){this.filterStack=[],this.offsetX=0,this.offsetY=0},i.WebGLFilterManager.prototype.constructor=i.WebGLFilterManager,i.WebGLFilterManager.prototype.setContext=function(e){this.gl=e,this.texturePool=[],this.initShaderBuffers()},i.WebGLFilterManager.prototype.begin=function(e,t){this.renderSession=e,this.defaultShader=e.shaderManager.defaultShader;var r=this.renderSession.projection;this.width=2*r.x,this.height=2*-r.y,this.buffer=t},i.WebGLFilterManager.prototype.pushFilter=function(e){var t=this.gl,r=this.renderSession.projection,s=this.renderSession.offset;e._filterArea=e.target.filterArea||e.target.getBounds(),e._previous_stencil_mgr=this.renderSession.stencilManager,this.renderSession.stencilManager=new i.WebGLStencilManager,this.renderSession.stencilManager.setContext(t),t.disable(t.STENCIL_TEST),this.filterStack.push(e);var o=e.filterPasses[0];this.offsetX+=e._filterArea.x,this.offsetY+=e._filterArea.y;var a=this.texturePool.pop();a?a.resize(this.width*this.renderSession.resolution,this.height*this.renderSession.resolution):a=new i.FilterTexture(this.gl,this.width*this.renderSession.resolution,this.height*this.renderSession.resolution),t.bindTexture(t.TEXTURE_2D,a.texture);var n=e._filterArea,h=o.padding;n.x-=h,n.y-=h,n.width+=2*h,n.height+=2*h,n.x<0&&(n.x=0),n.width>this.width&&(n.width=this.width),n.y<0&&(n.y=0),n.height>this.height&&(n.height=this.height),t.bindFramebuffer(t.FRAMEBUFFER,a.frameBuffer),t.viewport(0,0,n.width*this.renderSession.resolution,n.height*this.renderSession.resolution),r.x=n.width/2,r.y=-n.height/2,s.x=-n.x,s.y=-n.y,t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT),e._glFilterTexture=a},i.WebGLFilterManager.prototype.popFilter=function(){var e=this.gl,t=this.filterStack.pop(),r=t._filterArea,s=t._glFilterTexture,o=this.renderSession.projection,a=this.renderSession.offset;if(t.filterPasses.length>1){e.viewport(0,0,r.width*this.renderSession.resolution,r.height*this.renderSession.resolution),e.bindBuffer(e.ARRAY_BUFFER,this.vertexBuffer),this.vertexArray[0]=0,this.vertexArray[1]=r.height,this.vertexArray[2]=r.width,this.vertexArray[3]=r.height,this.vertexArray[4]=0,this.vertexArray[5]=0,this.vertexArray[6]=r.width,this.vertexArray[7]=0,e.bufferSubData(e.ARRAY_BUFFER,0,this.vertexArray),e.bindBuffer(e.ARRAY_BUFFER,this.uvBuffer),this.uvArray[2]=r.width/this.width,this.uvArray[5]=r.height/this.height,this.uvArray[6]=r.width/this.width,this.uvArray[7]=r.height/this.height,e.bufferSubData(e.ARRAY_BUFFER,0,this.uvArray);var n=s,h=this.texturePool.pop();h||(h=new i.FilterTexture(this.gl,this.width*this.renderSession.resolution,this.height*this.renderSession.resolution)),h.resize(this.width*this.renderSession.resolution,this.height*this.renderSession.resolution),e.bindFramebuffer(e.FRAMEBUFFER,h.frameBuffer),e.clear(e.COLOR_BUFFER_BIT),e.disable(e.BLEND);for(var l=0;l<t.filterPasses.length-1;l++){var u=t.filterPasses[l];e.bindFramebuffer(e.FRAMEBUFFER,h.frameBuffer),e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,n.texture),this.applyFilterPass(u,r,r.width,r.height);var d=n;n=h,h=d}e.enable(e.BLEND),s=n,this.texturePool.push(h)}var c=t.filterPasses[t.filterPasses.length-1];this.offsetX-=r.x,this.offsetY-=r.y;var f=this.width,x=this.height,p=0,g=0,v=this.buffer;if(0===this.filterStack.length)e.colorMask(!0,!0,!0,!0);else{var T=this.filterStack[this.filterStack.length-1];f=(r=T._filterArea).width,x=r.height,p=r.x,g=r.y,v=T._glFilterTexture.frameBuffer}o.x=f/2,o.y=-x/2,a.x=p,a.y=g;var m=(r=t._filterArea).x-p,E=r.y-g;e.bindBuffer(e.ARRAY_BUFFER,this.vertexBuffer),this.vertexArray[0]=m,this.vertexArray[1]=E+r.height,this.vertexArray[2]=m+r.width,this.vertexArray[3]=E+r.height,this.vertexArray[4]=m,this.vertexArray[5]=E,this.vertexArray[6]=m+r.width,this.vertexArray[7]=E,e.bufferSubData(e.ARRAY_BUFFER,0,this.vertexArray),e.bindBuffer(e.ARRAY_BUFFER,this.uvBuffer),this.uvArray[2]=r.width/this.width,this.uvArray[5]=r.height/this.height,this.uvArray[6]=r.width/this.width,this.uvArray[7]=r.height/this.height,e.bufferSubData(e.ARRAY_BUFFER,0,this.uvArray),e.viewport(0,0,f*this.renderSession.resolution,x*this.renderSession.resolution),e.bindFramebuffer(e.FRAMEBUFFER,v),e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,s.texture),this.renderSession.stencilManager&&this.renderSession.stencilManager.destroy(),this.renderSession.stencilManager=t._previous_stencil_mgr,t._previous_stencil_mgr=null,this.renderSession.stencilManager.count>0?e.enable(e.STENCIL_TEST):e.disable(e.STENCIL_TEST),this.applyFilterPass(c,r,f,x),this.texturePool.push(s),t._glFilterTexture=null},i.WebGLFilterManager.prototype.applyFilterPass=function(e,t,r,s){var o=this.gl,a=e.shaders[o.id];a||((a=new i.PixiShader(o)).fragmentSrc=e.fragmentSrc,a.uniforms=e.uniforms,a.init(!0),e.shaders[o.id]=a),this.renderSession.shaderManager.setShader(a),o.uniform2f(a.projectionVector,r/2,-s/2),o.uniform2f(a.offsetVector,0,0),e.uniforms.dimensions&&(e.uniforms.dimensions.value[0]=this.width,e.uniforms.dimensions.value[1]=this.height,e.uniforms.dimensions.value[2]=this.vertexArray[0],e.uniforms.dimensions.value[3]=this.vertexArray[5]),a.syncUniforms(),o.bindBuffer(o.ARRAY_BUFFER,this.vertexBuffer),o.vertexAttribPointer(a.aVertexPosition,2,o.FLOAT,!1,0,0),o.bindBuffer(o.ARRAY_BUFFER,this.uvBuffer),o.vertexAttribPointer(a.aTextureCoord,2,o.FLOAT,!1,0,0),o.bindBuffer(o.ARRAY_BUFFER,this.colorBuffer),o.vertexAttribPointer(a.colorAttribute,2,o.FLOAT,!1,0,0),o.bindBuffer(o.ELEMENT_ARRAY_BUFFER,this.indexBuffer),o.drawElements(o.TRIANGLES,6,o.UNSIGNED_SHORT,0),this.renderSession.drawCount++},i.WebGLFilterManager.prototype.initShaderBuffers=function(){var e=this.gl;this.vertexBuffer=e.createBuffer(),this.uvBuffer=e.createBuffer(),this.colorBuffer=e.createBuffer(),this.indexBuffer=e.createBuffer(),this.vertexArray=new Float32Array([0,0,1,0,0,1,1,1]),e.bindBuffer(e.ARRAY_BUFFER,this.vertexBuffer),e.bufferData(e.ARRAY_BUFFER,this.vertexArray,e.STATIC_DRAW),this.uvArray=new Float32Array([0,0,1,0,0,1,1,1]),e.bindBuffer(e.ARRAY_BUFFER,this.uvBuffer),e.bufferData(e.ARRAY_BUFFER,this.uvArray,e.STATIC_DRAW),this.colorArray=new Float32Array([1,16777215,1,16777215,1,16777215,1,16777215]),e.bindBuffer(e.ARRAY_BUFFER,this.colorBuffer),e.bufferData(e.ARRAY_BUFFER,this.colorArray,e.STATIC_DRAW),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this.indexBuffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,new Uint16Array([0,1,2,1,3,2]),e.STATIC_DRAW)},i.WebGLFilterManager.prototype.destroy=function(){var e=this.gl;this.filterStack=null,this.offsetX=0,this.offsetY=0;for(var t=0;t<this.texturePool.length;t++)this.texturePool[t].destroy();this.texturePool=null,e.deleteBuffer(this.vertexBuffer),e.deleteBuffer(this.uvBuffer),e.deleteBuffer(this.colorBuffer),e.deleteBuffer(this.indexBuffer)};var s={36054:"Incomplete attachment",36055:"Missing attachment",36057:"Incomplete dimensions",36061:"Framebuffer unsupported"};return i.FilterTexture=function(e,r,s,o,a){a="number"==typeof a?a:0,this.gl=e,this.frameBuffer=t(e,r,s,o||i.scaleModes.DEFAULT,a),this.texture=this.frameBuffer.targetTexture,this.width=r,this.height=s,this.renderBuffer=this.frameBuffer.renderBuffer},i.FilterTexture.prototype.constructor=i.FilterTexture,i.FilterTexture.prototype.clear=function(){var e=this.gl;e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT)},i.FilterTexture.prototype.resize=function(e,t){if(this.width!==e||this.height!==t){this.width=e,this.height=t;var r=this.gl;r.bindTexture(r.TEXTURE_2D,this.texture),r.texImage2D(r.TEXTURE_2D,0,r.RGBA,e,t,0,r.RGBA,r.UNSIGNED_BYTE,null),r.bindRenderbuffer(r.RENDERBUFFER,this.renderBuffer),r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,e,t)}},i.FilterTexture.prototype.destroy=function(){var e=this.gl;e.deleteFramebuffer(this.frameBuffer),e.deleteTexture(this.texture),this.frameBuffer=null,this.texture=null},i.CanvasBuffer=function(e,t){this.width=e,this.height=t,this.canvas=Phaser.CanvasPool.create(this,this.width,this.height),this.context=this.canvas.getContext("2d"),this.canvas.width=e,this.canvas.height=t},i.CanvasBuffer.prototype.constructor=i.CanvasBuffer,i.CanvasBuffer.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.width,this.height)},i.CanvasBuffer.prototype.resize=function(e,t){this.width=this.canvas.width=e,this.height=this.canvas.height=t},i.CanvasBuffer.prototype.destroy=function(){Phaser.CanvasPool.remove(this)},i.CanvasMaskManager=function(){},i.CanvasMaskManager.prototype.constructor=i.CanvasMaskManager,i.CanvasMaskManager.prototype.pushMask=function(e,t){var r=t.context;r.save();var s=e.alpha,o=e.worldTransform,a=t.resolution;r.setTransform(o.a*a,o.b*a,o.c*a,o.d*a,o.tx*a,o.ty*a),i.CanvasGraphics.renderGraphicsMask(e,r),r.clip(),e.worldAlpha=s},i.CanvasMaskManager.prototype.popMask=function(e){e.context.restore()},i.CanvasTinter=function(){},i.CanvasTinter.getTintedTexture=function(e,t){var r=e.tintedTexture||Phaser.CanvasPool.create(this);return i.CanvasTinter.tintMethod(e.texture,t,r),r},i.CanvasTinter.tintWithMultiply=function(e,t,r){var i=r.getContext("2d"),s=e.crop,o=s.width,a=s.height;e.rotated&&(o=a,a=s.width),r.width===o&&r.height===a||(r.width=o,r.height=a),i.clearRect(0,0,o,a),i.fillStyle="#"+("00000"+(0|t).toString(16)).substr(-6),i.fillRect(0,0,o,a),i.globalCompositeOperation="multiply",i.drawImage(e.baseTexture.source,s.x,s.y,o,a,0,0,o,a),i.globalCompositeOperation="destination-atop",i.drawImage(e.baseTexture.source,s.x,s.y,o,a,0,0,o,a)},i.CanvasTinter.tintWithPerPixel=function(e,t,r){var s=r.getContext("2d"),o=e.crop,a=o.width,n=o.height;e.rotated&&(a=n,n=o.width),r.width===a&&r.height===n||(r.width=a,r.height=n),s.globalCompositeOperation="copy",s.drawImage(e.baseTexture.source,o.x,o.y,a,n,0,0,a,n);for(var h=Phaser.Color.hexToRGBArray(t),l=h[0],u=h[1],d=h[2],c=s.getImageData(0,0,a,n),f=c.data,x=0;x<f.length;x+=4)if(f[x+0]*=l,f[x+1]*=u,f[x+2]*=d,!i.CanvasTinter.canHandleAlpha){var p=f[x+3];f[x+0]/=255/p,f[x+1]/=255/p,f[x+2]/=255/p}s.putImageData(c,0,0)},i.CanvasRenderer=function(e){this.game=e,i.defaultRenderer||(i.defaultRenderer=this),this.type=Phaser.CANVAS,this.resolution=e.resolution,this.clearBeforeRender=e.clearBeforeRender,this.transparent=e.transparent,this.autoResize=!1,this.width=e.width*this.resolution,this.height=e.height*this.resolution,this.view=e.canvas,this.context=this.view.getContext("2d",{alpha:this.transparent}),this.refresh=!0,this.count=0,this.maskManager=new i.CanvasMaskManager,this.renderSession={context:this.context,maskManager:this.maskManager,scaleMode:null,smoothProperty:Phaser.Canvas.getSmoothingPrefix(this.context),roundPixels:!1},this.mapBlendModes(),this.resize(this.width,this.height)},i.CanvasRenderer.prototype.constructor=i.CanvasRenderer,i.CanvasRenderer.prototype.render=function(e){this.context.setTransform(1,0,0,1,0,0),this.context.globalAlpha=1,this.renderSession.currentBlendMode=0,this.renderSession.shakeX=this.game.camera._shake.x,this.renderSession.shakeY=this.game.camera._shake.y,this.context.globalCompositeOperation="source-over",navigator.isCocoonJS&&this.view.screencanvas&&(this.context.fillStyle="black",this.context.clear()),this.clearBeforeRender&&(this.transparent?this.context.clearRect(0,0,this.width,this.height):e._bgColor&&(this.context.fillStyle=e._bgColor.rgba,this.context.fillRect(0,0,this.width,this.height))),this.renderDisplayObject(e)},i.CanvasRenderer.prototype.setTexturePriority=function(e){},i.CanvasRenderer.prototype.destroy=function(e){void 0===e&&(e=!0),e&&this.view.parent&&this.view.parent.removeChild(this.view),this.view=null,this.context=null,this.maskManager=null,this.renderSession=null},i.CanvasRenderer.prototype.resize=function(e,t){this.width=e*this.resolution,this.height=t*this.resolution,this.view.width=this.width,this.view.height=this.height,this.autoResize&&(this.view.style.width=this.width/this.resolution+"px",this.view.style.height=this.height/this.resolution+"px"),this.renderSession.smoothProperty&&(this.context[this.renderSession.smoothProperty]=this.renderSession.scaleMode===i.scaleModes.LINEAR)},i.CanvasRenderer.prototype.renderDisplayObject=function(e,t,r){this.renderSession.context=t||this.context,this.renderSession.resolution=this.resolution,e._renderCanvas(this.renderSession,r)},i.CanvasRenderer.prototype.mapBlendModes=function(){if(!i.blendModesCanvas){var e=[],t=i.blendModes,r=this.game.device.canUseMultiply;e[t.NORMAL]="source-over",e[t.ADD]="lighter",e[t.MULTIPLY]=r?"multiply":"source-over",e[t.SCREEN]=r?"screen":"source-over",e[t.OVERLAY]=r?"overlay":"source-over",e[t.DARKEN]=r?"darken":"source-over",e[t.LIGHTEN]=r?"lighten":"source-over",e[t.COLOR_DODGE]=r?"color-dodge":"source-over",e[t.COLOR_BURN]=r?"color-burn":"source-over",e[t.HARD_LIGHT]=r?"hard-light":"source-over",e[t.SOFT_LIGHT]=r?"soft-light":"source-over",e[t.DIFFERENCE]=r?"difference":"source-over",e[t.EXCLUSION]=r?"exclusion":"source-over",e[t.HUE]=r?"hue":"source-over",e[t.SATURATION]=r?"saturation":"source-over",e[t.COLOR]=r?"color":"source-over",e[t.LUMINOSITY]=r?"luminosity":"source-over",i.blendModesCanvas=e}},i.BaseTexture=function(e,t,r){this.resolution=r||1,this.width=100,this.height=100,this.scaleMode=t||i.scaleModes.DEFAULT,this.hasLoaded=!1,this.source=e,this.premultipliedAlpha=!0,this._glTextures=[],this.mipmap=!1,this.textureIndex=0,this._dirty=[!0,!0,!0,!0],e&&((this.source.complete||this.source.getContext)&&this.source.width&&this.source.height&&(this.hasLoaded=!0,this.width=this.source.naturalWidth||this.source.width,this.height=this.source.naturalHeight||this.source.height,this.dirty()),this.skipRender=!1,this._powerOf2=!1)},i.BaseTexture.prototype.constructor=i.BaseTexture,i.BaseTexture.prototype.forceLoaded=function(e,t){this.hasLoaded=!0,this.width=e,this.height=t,this.dirty()},i.BaseTexture.prototype.destroy=function(){this.source&&Phaser.CanvasPool.removeByCanvas(this.source),this.source=null,this.unloadFromGPU()},i.BaseTexture.prototype.updateSourceImage=function(e){console.warn("PIXI.BaseTexture.updateSourceImage is deprecated. Use Phaser.Sprite.loadTexture instead.")},i.BaseTexture.prototype.dirty=function(){for(var e=0;e<this._glTextures.length;e++)this._dirty[e]=!0},i.BaseTexture.prototype.unloadFromGPU=function(){this.dirty();for(var e=this._glTextures.length-1;e>=0;e--){var t=this._glTextures[e],r=i.glContexts[e];r&&t&&r.deleteTexture(t)}this._glTextures.length=0,this.dirty()},i.BaseTexture.fromCanvas=function(e,t,r){return 0===e.width&&(e.width=1),0===e.height&&(e.height=1),r=r||1,new i.BaseTexture(e,t,r)},i.TextureSilentFail=!1,i.Texture=function(e,t,r,s){this.noFrame=!1,t||(this.noFrame=!0,t=new i.Rectangle(0,0,1,1)),e instanceof i.Texture&&(e=e.baseTexture),this.baseTexture=e,this.frame=t,this.trim=s,this.valid=!1,this.isTiling=!1,this.requiresUpdate=!1,this.requiresReTint=!1,this._uvs=null,this.width=0,this.height=0,this.crop=r||new i.Rectangle(0,0,1,1),this.rotated=!1,e.hasLoaded&&(this.noFrame&&(t=new i.Rectangle(0,0,e.width,e.height)),this.setFrame(t))},i.Texture.prototype.constructor=i.Texture,i.Texture.prototype.onBaseTextureLoaded=function(){var e=this.baseTexture;this.noFrame&&(this.frame=new i.Rectangle(0,0,e.width,e.height)),this.setFrame(this.frame)},i.Texture.prototype.destroy=function(e){e&&this.baseTexture.destroy(),this.valid=!1},i.Texture.prototype.setFrame=function(e){if(this.noFrame=!1,this.frame=e,this.width=e.width,this.height=e.height,this.crop.x=e.x,this.crop.y=e.y,this.crop.width=e.width,this.crop.height=e.height,this.trim||!(e.x+e.width>this.baseTexture.width||e.y+e.height>this.baseTexture.height))this.valid=e&&e.width&&e.height&&this.baseTexture.source&&this.baseTexture.hasLoaded,this.trim&&(this.width=this.trim.width,this.height=this.trim.height,this.frame.width=this.trim.width,this.frame.height=this.trim.height),this.valid&&this._updateUvs();else{if(!i.TextureSilentFail)throw new Error("Texture Error: frame does not fit inside the base Texture dimensions "+this);this.valid=!1}},i.Texture.prototype._updateUvs=function(){this._uvs||(this._uvs=new i.TextureUvs);var e=this.crop,t=this.baseTexture.width,r=this.baseTexture.height;this._uvs.x0=e.x/t,this._uvs.y0=e.y/r,this._uvs.x1=(e.x+e.width)/t,this._uvs.y1=e.y/r,this._uvs.x2=(e.x+e.width)/t,this._uvs.y2=(e.y+e.height)/r,this._uvs.x3=e.x/t,this._uvs.y3=(e.y+e.height)/r},i.Texture.prototype._updateUvsInverted=function(){this._uvs||(this._uvs=new i.TextureUvs);var e=this.crop,t=this.baseTexture.width,r=this.baseTexture.height;this._uvs.x0=e.x/t,this._uvs.y0=e.y/r,this._uvs.x1=(e.x+e.height)/t,this._uvs.y1=e.y/r,this._uvs.x2=(e.x+e.height)/t,this._uvs.y2=(e.y+e.width)/r,this._uvs.x3=e.x/t,this._uvs.y3=(e.y+e.width)/r},i.Texture.fromCanvas=function(e,t){var r=i.BaseTexture.fromCanvas(e,t);return new i.Texture(r)},i.TextureUvs=function(){this.x0=0,this.y0=0,this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.x3=0,this.y3=0}, true?("undefined"!=typeof module&&module.exports&&(exports=module.exports=i),exports.PIXI=i):"undefined"!=typeof define&&define.amd?define("PIXI",r.PIXI=i):r.PIXI=i,i}).call(this);
//# sourceMappingURL=pixi.map

/***/ }),
/* 10 */
/***/ (function(module, exports, __webpack_require__) {

var require;var require;/* Phaser v2.9.4 P2.JS Build - http://phaser.io - @photonstorm - (c) 2016 Photon Storm Ltd. */

!function(t){if(true)module.exports=t();else{var e;"undefined"!=typeof window?e=window:"undefined"!=typeof global?e=global:"undefined"!=typeof self&&(e=self),e.p2=t()}}(function(){return function t(e,o,i){function n(a,r){if(!o[a]){if(!e[a]){var c="function"==typeof require&&require;if(!r&&c)return require(a,!0);if(s)return s(a,!0);throw new Error("Cannot find module '"+a+"'")}var h=o[a]={exports:{}};e[a][0].call(h.exports,function(t){var o=e[a][1][t];return n(o||t)},h,h.exports,t,e,o,i)}return o[a].exports}for(var s="function"==typeof require&&require,a=0;a<i.length;a++)n(i[a]);return n}({1:[function(t,e,o){function i(){}var n=t("./Scalar");e.exports=i,i.lineInt=function(t,e,o){o=o||0;var i,s,a,r,c,h,l,p=[0,0];return i=t[1][1]-t[0][1],s=t[0][0]-t[1][0],a=i*t[0][0]+s*t[0][1],r=e[1][1]-e[0][1],c=e[0][0]-e[1][0],h=r*e[0][0]+c*e[0][1],l=i*c-r*s,n.eq(l,0,o)||(p[0]=(c*a-s*h)/l,p[1]=(i*h-r*a)/l),p},i.segmentsIntersect=function(t,e,o,i){var n=e[0]-t[0],s=e[1]-t[1],a=i[0]-o[0],r=i[1]-o[1];if(a*s-r*n==0)return!1;var c=(n*(o[1]-t[1])+s*(t[0]-o[0]))/(a*s-r*n),h=(a*(t[1]-o[1])+r*(o[0]-t[0]))/(r*n-a*s);return c>=0&&c<=1&&h>=0&&h<=1}},{"./Scalar":4}],2:[function(t,e,o){function i(){}e.exports=i,i.area=function(t,e,o){return(e[0]-t[0])*(o[1]-t[1])-(o[0]-t[0])*(e[1]-t[1])},i.left=function(t,e,o){return i.area(t,e,o)>0},i.leftOn=function(t,e,o){return i.area(t,e,o)>=0},i.right=function(t,e,o){return i.area(t,e,o)<0},i.rightOn=function(t,e,o){return i.area(t,e,o)<=0};var n=[],s=[];i.collinear=function(t,e,o,a){if(a){var r=n,c=s;r[0]=e[0]-t[0],r[1]=e[1]-t[1],c[0]=o[0]-e[0],c[1]=o[1]-e[1];var h=r[0]*c[0]+r[1]*c[1],l=Math.sqrt(r[0]*r[0]+r[1]*r[1]),p=Math.sqrt(c[0]*c[0]+c[1]*c[1]);return Math.acos(h/(l*p))<a}return 0==i.area(t,e,o)},i.sqdist=function(t,e){var o=e[0]-t[0],i=e[1]-t[1];return o*o+i*i}},{}],3:[function(t,e,o){function i(){this.vertices=[]}function n(t,e,o,i,n){n=n||0;var s=e[1]-t[1],a=t[0]-e[0],c=s*t[0]+a*t[1],h=i[1]-o[1],l=o[0]-i[0],p=h*o[0]+l*o[1],u=s*l-h*a;return r.eq(u,0,n)?[0,0]:[(l*c-a*p)/u,(s*p-h*c)/u]}var s=t("./Line"),a=t("./Point"),r=t("./Scalar");e.exports=i,i.prototype.at=function(t){var e=this.vertices,o=e.length;return e[t<0?t%o+o:t%o]},i.prototype.first=function(){return this.vertices[0]},i.prototype.last=function(){return this.vertices[this.vertices.length-1]},i.prototype.clear=function(){this.vertices.length=0},i.prototype.append=function(t,e,o){if(void 0===e)throw new Error("From is not given!");if(void 0===o)throw new Error("To is not given!");if(o-1<e)throw new Error("lol1");if(o>t.vertices.length)throw new Error("lol2");if(e<0)throw new Error("lol3");for(var i=e;i<o;i++)this.vertices.push(t.vertices[i])},i.prototype.makeCCW=function(){for(var t=0,e=this.vertices,o=1;o<this.vertices.length;++o)(e[o][1]<e[t][1]||e[o][1]==e[t][1]&&e[o][0]>e[t][0])&&(t=o);a.left(this.at(t-1),this.at(t),this.at(t+1))||this.reverse()},i.prototype.reverse=function(){for(var t=[],e=0,o=this.vertices.length;e!==o;e++)t.push(this.vertices.pop());this.vertices=t},i.prototype.isReflex=function(t){return a.right(this.at(t-1),this.at(t),this.at(t+1))};var c=[],h=[];i.prototype.canSee=function(t,e){var o,i,n=c,r=h;if(a.leftOn(this.at(t+1),this.at(t),this.at(e))&&a.rightOn(this.at(t-1),this.at(t),this.at(e)))return!1;i=a.sqdist(this.at(t),this.at(e));for(var l=0;l!==this.vertices.length;++l)if((l+1)%this.vertices.length!==t&&l!==t&&a.leftOn(this.at(t),this.at(e),this.at(l+1))&&a.rightOn(this.at(t),this.at(e),this.at(l))&&(n[0]=this.at(t),n[1]=this.at(e),r[0]=this.at(l),r[1]=this.at(l+1),o=s.lineInt(n,r),a.sqdist(this.at(t),o)<i))return!1;return!0},i.prototype.copy=function(t,e,o){var n=o||new i;if(n.clear(),t<e)for(s=t;s<=e;s++)n.vertices.push(this.vertices[s]);else{for(s=0;s<=e;s++)n.vertices.push(this.vertices[s]);for(var s=t;s<this.vertices.length;s++)n.vertices.push(this.vertices[s])}return n},i.prototype.getCutEdges=function(){for(var t=[],e=[],o=[],n=new i,s=Number.MAX_VALUE,a=0;a<this.vertices.length;++a)if(this.isReflex(a))for(var r=0;r<this.vertices.length;++r)if(this.canSee(a,r)){e=this.copy(a,r,n).getCutEdges(),o=this.copy(r,a,n).getCutEdges();for(var c=0;c<o.length;c++)e.push(o[c]);e.length<s&&(t=e,s=e.length,t.push([this.at(a),this.at(r)]))}return t},i.prototype.decomp=function(){var t=this.getCutEdges();return t.length>0?this.slice(t):[this]},i.prototype.slice=function(t){if(0==t.length)return[this];if(t instanceof Array&&t.length&&t[0]instanceof Array&&2==t[0].length&&t[0][0]instanceof Array){for(var e=[this],o=0;o<t.length;o++)for(var i=t[o],n=0;n<e.length;n++){var s=e[n].slice(i);if(s){e.splice(n,1),e.push(s[0],s[1]);break}}return e}var i=t,o=this.vertices.indexOf(i[0]),n=this.vertices.indexOf(i[1]);return-1!=o&&-1!=n&&[this.copy(o,n),this.copy(n,o)]},i.prototype.isSimple=function(){for(var t=this.vertices,e=0;e<t.length-1;e++)for(var o=0;o<e-1;o++)if(s.segmentsIntersect(t[e],t[e+1],t[o],t[o+1]))return!1;for(e=1;e<t.length-2;e++)if(s.segmentsIntersect(t[0],t[t.length-1],t[e],t[e+1]))return!1;return!0},i.prototype.quickDecomp=function(t,e,o,s,r,c){r=r||100,c=c||0,s=s||25,t=void 0!==t?t:[],e=e||[],o=o||[];var h=[0,0],l=[0,0],p=[0,0],u=0,d=0,f=0,v=0,y=0,m=0,g=0,A=new i,b=new i,E=this,B=this.vertices;if(B.length<3)return t;if(++c>r)return console.warn("quickDecomp: max level ("+r+") reached."),t;for(var q=0;q<this.vertices.length;++q)if(E.isReflex(q)){e.push(E.vertices[q]),u=d=Number.MAX_VALUE;for(P=0;P<this.vertices.length;++P)a.left(E.at(q-1),E.at(q),E.at(P))&&a.rightOn(E.at(q-1),E.at(q),E.at(P-1))&&(p=n(E.at(q-1),E.at(q),E.at(P),E.at(P-1)),a.right(E.at(q+1),E.at(q),p)&&(f=a.sqdist(E.vertices[q],p))<d&&(d=f,l=p,m=P)),a.left(E.at(q+1),E.at(q),E.at(P+1))&&a.rightOn(E.at(q+1),E.at(q),E.at(P))&&(p=n(E.at(q+1),E.at(q),E.at(P),E.at(P+1)),a.left(E.at(q-1),E.at(q),p)&&(f=a.sqdist(E.vertices[q],p))<u&&(u=f,h=p,y=P));if(m==(y+1)%this.vertices.length)p[0]=(l[0]+h[0])/2,p[1]=(l[1]+h[1])/2,o.push(p),q<y?(A.append(E,q,y+1),A.vertices.push(p),b.vertices.push(p),0!=m&&b.append(E,m,E.vertices.length),b.append(E,0,q+1)):(0!=q&&A.append(E,q,E.vertices.length),A.append(E,0,y+1),A.vertices.push(p),b.vertices.push(p),b.append(E,m,q+1));else{if(m>y&&(y+=this.vertices.length),v=Number.MAX_VALUE,y<m)return t;for(var P=m;P<=y;++P)a.leftOn(E.at(q-1),E.at(q),E.at(P))&&a.rightOn(E.at(q+1),E.at(q),E.at(P))&&(f=a.sqdist(E.at(q),E.at(P)))<v&&(v=f,g=P%this.vertices.length);q<g?(A.append(E,q,g+1),0!=g&&b.append(E,g,B.length),b.append(E,0,q+1)):(0!=q&&A.append(E,q,B.length),A.append(E,0,g+1),b.append(E,g,q+1))}return A.vertices.length<b.vertices.length?(A.quickDecomp(t,e,o,s,r,c),b.quickDecomp(t,e,o,s,r,c)):(b.quickDecomp(t,e,o,s,r,c),A.quickDecomp(t,e,o,s,r,c)),t}return t.push(this),t},i.prototype.removeCollinearPoints=function(t){for(var e=0,o=this.vertices.length-1;this.vertices.length>3&&o>=0;--o)a.collinear(this.at(o-1),this.at(o),this.at(o+1),t)&&(this.vertices.splice(o%this.vertices.length,1),o--,e++);return e}},{"./Line":1,"./Point":2,"./Scalar":4}],4:[function(t,e,o){function i(){}e.exports=i,i.eq=function(t,e,o){return o=o||0,Math.abs(t-e)<o}},{}],5:[function(t,e,o){e.exports={Polygon:t("./Polygon"),Point:t("./Point")}},{"./Point":2,"./Polygon":3}],6:[function(t,e,o){e.exports={name:"p2",version:"0.7.1",description:"A JavaScript 2D physics engine.",author:"Stefan Hedman <schteppe@gmail.com> (http://steffe.se)",keywords:["p2.js","p2","physics","engine","2d"],main:"./src/p2.js",engines:{node:"*"},repository:{type:"git",url:"https://github.com/schteppe/p2.js.git"},bugs:{url:"https://github.com/schteppe/p2.js/issues"},licenses:[{type:"MIT"}],devDependencies:{grunt:"^0.4.5","grunt-contrib-jshint":"^0.11.2","grunt-contrib-nodeunit":"^0.4.1","grunt-contrib-uglify":"~0.4.0","grunt-contrib-watch":"~0.5.0","grunt-browserify":"~2.0.1","grunt-contrib-concat":"^0.4.0"},dependencies:{"poly-decomp":"0.1.1"}}},{}],7:[function(t,e,o){function i(t){this.lowerBound=n.create(),t&&t.lowerBound&&n.copy(this.lowerBound,t.lowerBound),this.upperBound=n.create(),t&&t.upperBound&&n.copy(this.upperBound,t.upperBound)}var n=t("../math/vec2");t("../utils/Utils");e.exports=i;var s=n.create();i.prototype.setFromPoints=function(t,e,o,i){var a=this.lowerBound,r=this.upperBound;"number"!=typeof o&&(o=0),0!==o?n.rotate(a,t[0],o):n.copy(a,t[0]),n.copy(r,a);for(var c=Math.cos(o),h=Math.sin(o),l=1;l<t.length;l++){var p=t[l];if(0!==o){var u=p[0],d=p[1];s[0]=c*u-h*d,s[1]=h*u+c*d,p=s}for(var f=0;f<2;f++)p[f]>r[f]&&(r[f]=p[f]),p[f]<a[f]&&(a[f]=p[f])}e&&(n.add(this.lowerBound,this.lowerBound,e),n.add(this.upperBound,this.upperBound,e)),i&&(this.lowerBound[0]-=i,this.lowerBound[1]-=i,this.upperBound[0]+=i,this.upperBound[1]+=i)},i.prototype.copy=function(t){n.copy(this.lowerBound,t.lowerBound),n.copy(this.upperBound,t.upperBound)},i.prototype.extend=function(t){for(var e=2;e--;){var o=t.lowerBound[e];this.lowerBound[e]>o&&(this.lowerBound[e]=o);var i=t.upperBound[e];this.upperBound[e]<i&&(this.upperBound[e]=i)}},i.prototype.overlaps=function(t){var e=this.lowerBound,o=this.upperBound,i=t.lowerBound,n=t.upperBound;return(i[0]<=o[0]&&o[0]<=n[0]||e[0]<=n[0]&&n[0]<=o[0])&&(i[1]<=o[1]&&o[1]<=n[1]||e[1]<=n[1]&&n[1]<=o[1])},i.prototype.containsPoint=function(t){var e=this.lowerBound,o=this.upperBound;return e[0]<=t[0]&&t[0]<=o[0]&&e[1]<=t[1]&&t[1]<=o[1]},i.prototype.overlapsRay=function(t){var e=1/t.direction[0],o=1/t.direction[1],i=(this.lowerBound[0]-t.from[0])*e,n=(this.upperBound[0]-t.from[0])*e,s=(this.lowerBound[1]-t.from[1])*o,a=(this.upperBound[1]-t.from[1])*o,r=Math.max(Math.max(Math.min(i,n),Math.min(s,a))),c=Math.min(Math.min(Math.max(i,n),Math.max(s,a)));return c<0?-1:r>c?-1:r}},{"../math/vec2":30,"../utils/Utils":57}],8:[function(t,e,o){function i(t){this.type=t,this.result=[],this.world=null,this.boundingVolumeType=i.AABB}var n=t("../math/vec2"),s=t("../objects/Body");e.exports=i,i.AABB=1,i.BOUNDING_CIRCLE=2,i.prototype.setWorld=function(t){this.world=t},i.prototype.getCollisionPairs=function(t){};var a=n.create();i.boundingRadiusCheck=function(t,e){n.sub(a,t.position,e.position);var o=n.squaredLength(a),i=t.boundingRadius+e.boundingRadius;return o<=i*i},i.aabbCheck=function(t,e){return t.getAABB().overlaps(e.getAABB())},i.prototype.boundingVolumeCheck=function(t,e){var o;switch(this.boundingVolumeType){case i.BOUNDING_CIRCLE:o=i.boundingRadiusCheck(t,e);break;case i.AABB:o=i.aabbCheck(t,e);break;default:throw new Error("Bounding volume type not recognized: "+this.boundingVolumeType)}return o},i.canCollide=function(t,e){var o=s.KINEMATIC,i=s.STATIC;return(t.type!==i||e.type!==i)&&(!(t.type===o&&e.type===i||t.type===i&&e.type===o)&&((t.type!==o||e.type!==o)&&((t.sleepState!==s.SLEEPING||e.sleepState!==s.SLEEPING)&&!(t.sleepState===s.SLEEPING&&e.type===i||e.sleepState===s.SLEEPING&&t.type===i))))},i.NAIVE=1,i.SAP=2},{"../math/vec2":30,"../objects/Body":31}],9:[function(t,e,o){function i(){n.call(this,n.NAIVE)}t("../shapes/Circle"),t("../shapes/Plane"),t("../shapes/Shape"),t("../shapes/Particle");var n=t("../collision/Broadphase");t("../math/vec2");e.exports=i,(i.prototype=new n).constructor=i,i.prototype.getCollisionPairs=function(t){var e=t.bodies,o=this.result;o.length=0;for(var i=0,s=e.length;i!==s;i++)for(var a=e[i],r=0;r<i;r++){var c=e[r];n.canCollide(a,c)&&this.boundingVolumeCheck(a,c)&&o.push(a,c)}return o},i.prototype.aabbQuery=function(t,e,o){o=o||[];for(var i=t.bodies,n=0;n<i.length;n++){var s=i[n];s.aabbNeedsUpdate&&s.updateAABB(),s.aabb.overlaps(e)&&o.push(s)}return o}},{"../collision/Broadphase":8,"../math/vec2":30,"../shapes/Circle":39,"../shapes/Particle":43,"../shapes/Plane":44,"../shapes/Shape":45}],10:[function(t,e,o){function i(){this.contactEquations=[],this.frictionEquations=[],this.enableFriction=!0,this.enabledEquations=!0,this.slipForce=10,this.frictionCoefficient=.3,this.surfaceVelocity=0,this.contactEquationPool=new l({size:32}),this.frictionEquationPool=new p({size:64}),this.restitution=0,this.stiffness=d.DEFAULT_STIFFNESS,this.relaxation=d.DEFAULT_RELAXATION,this.frictionStiffness=d.DEFAULT_STIFFNESS,this.frictionRelaxation=d.DEFAULT_RELAXATION,this.enableFrictionReduction=!0,this.collidingBodiesLastStep=new u,this.contactSkinSize=.01}function n(t,e){a.set(t.vertices[0],.5*-e.length,-e.radius),a.set(t.vertices[1],.5*e.length,-e.radius),a.set(t.vertices[2],.5*e.length,e.radius),a.set(t.vertices[3],.5*-e.length,e.radius)}function s(t,e,o,i){for(var n=X,s=z,h=Y,l=K,p=t,u=e.vertices,d=null,f=0;f!==u.length+1;f++){var v=u[f%u.length],y=u[(f+1)%u.length];a.rotate(n,v,i),a.rotate(s,y,i),c(n,n,o),c(s,s,o),r(h,n,p),r(l,s,p);var m=a.crossLength(h,l);if(null===d&&(d=m),m*d<=0)return!1;d=m}return!0}var a=t("../math/vec2"),r=a.sub,c=a.add,h=a.dot,l=(t("../utils/Utils"),t("../utils/ContactEquationPool")),p=t("../utils/FrictionEquationPool"),u=t("../utils/TupleDictionary"),d=t("../equations/Equation"),f=(t("../equations/ContactEquation"),t("../equations/FrictionEquation"),t("../shapes/Circle")),v=t("../shapes/Convex"),y=t("../shapes/Shape"),m=(t("../objects/Body"),t("../shapes/Box"));e.exports=i;var g=a.fromValues(0,1),A=a.fromValues(0,0),b=a.fromValues(0,0),E=a.fromValues(0,0),B=a.fromValues(0,0),q=a.fromValues(0,0),P=a.fromValues(0,0),w=a.fromValues(0,0),S=a.fromValues(0,0),C=a.fromValues(0,0),L=a.fromValues(0,0),x=a.fromValues(0,0),F=a.fromValues(0,0),M=a.fromValues(0,0),I=a.fromValues(0,0),R=a.fromValues(0,0),V=a.fromValues(0,0),T=a.fromValues(0,0),N=a.fromValues(0,0),G=[],O=a.create(),U=a.create();i.prototype.bodiesOverlap=function(t,e){for(var o=O,i=U,n=0,s=t.shapes.length;n!==s;n++){var a=t.shapes[n];t.toWorldFrame(o,a.position);for(var r=0,c=e.shapes.length;r!==c;r++){var h=e.shapes[r];if(e.toWorldFrame(i,h.position),this[a.type|h.type](t,a,o,a.angle+t.angle,e,h,i,h.angle+e.angle,!0))return!0}}return!1},i.prototype.collidedLastStep=function(t,e){var o=0|t.id,i=0|e.id;return!!this.collidingBodiesLastStep.get(o,i)},i.prototype.reset=function(){this.collidingBodiesLastStep.reset();for(var t=this.contactEquations,e=t.length;e--;){var o=t[e],i=o.bodyA.id,n=o.bodyB.id;this.collidingBodiesLastStep.set(i,n,!0)}for(var s=this.contactEquations,a=this.frictionEquations,r=0;r<s.length;r++)this.contactEquationPool.release(s[r]);for(r=0;r<a.length;r++)this.frictionEquationPool.release(a[r]);this.contactEquations.length=this.frictionEquations.length=0},i.prototype.createContactEquation=function(t,e,o,i){var n=this.contactEquationPool.get();return n.bodyA=t,n.bodyB=e,n.shapeA=o,n.shapeB=i,n.restitution=this.restitution,n.firstImpact=!this.collidedLastStep(t,e),n.stiffness=this.stiffness,n.relaxation=this.relaxation,n.needsUpdate=!0,n.enabled=this.enabledEquations,n.offset=this.contactSkinSize,n},i.prototype.createFrictionEquation=function(t,e,o,i){var n=this.frictionEquationPool.get();return n.bodyA=t,n.bodyB=e,n.shapeA=o,n.shapeB=i,n.setSlipForce(this.slipForce),n.frictionCoefficient=this.frictionCoefficient,n.relativeVelocity=this.surfaceVelocity,n.enabled=this.enabledEquations,n.needsUpdate=!0,n.stiffness=this.frictionStiffness,n.relaxation=this.frictionRelaxation,n.contactEquations.length=0,n},i.prototype.createFrictionFromContact=function(t){var e=this.createFrictionEquation(t.bodyA,t.bodyB,t.shapeA,t.shapeB);return a.copy(e.contactPointA,t.contactPointA),a.copy(e.contactPointB,t.contactPointB),a.rotate90cw(e.t,t.normalA),e.contactEquations.push(t),e},i.prototype.createFrictionFromAverage=function(t){var e=this.contactEquations[this.contactEquations.length-1],o=this.createFrictionEquation(e.bodyA,e.bodyB,e.shapeA,e.shapeB),i=e.bodyA;e.bodyB;a.set(o.contactPointA,0,0),a.set(o.contactPointB,0,0),a.set(o.t,0,0);for(var n=0;n!==t;n++)(e=this.contactEquations[this.contactEquations.length-1-n]).bodyA===i?(a.add(o.t,o.t,e.normalA),a.add(o.contactPointA,o.contactPointA,e.contactPointA),a.add(o.contactPointB,o.contactPointB,e.contactPointB)):(a.sub(o.t,o.t,e.normalA),a.add(o.contactPointA,o.contactPointA,e.contactPointB),a.add(o.contactPointB,o.contactPointB,e.contactPointA)),o.contactEquations.push(e);var s=1/t;return a.scale(o.contactPointA,o.contactPointA,s),a.scale(o.contactPointB,o.contactPointB,s),a.normalize(o.t,o.t),a.rotate90cw(o.t,o.t),o},i.prototype[y.LINE|y.CONVEX]=i.prototype.convexLine=function(t,e,o,i,n,s,a,r,c){return!c&&0},i.prototype[y.LINE|y.BOX]=i.prototype.lineBox=function(t,e,o,i,n,s,a,r,c){return!c&&0};var k=new m({width:1,height:1}),_=a.create();i.prototype[y.CAPSULE|y.CONVEX]=i.prototype[y.CAPSULE|y.BOX]=i.prototype.convexCapsule=function(t,e,o,i,s,r,c,h,l){var p=_;a.set(p,r.length/2,0),a.rotate(p,p,h),a.add(p,p,c);var u=this.circleConvex(s,r,p,h,t,e,o,i,l,r.radius);a.set(p,-r.length/2,0),a.rotate(p,p,h),a.add(p,p,c);var d=this.circleConvex(s,r,p,h,t,e,o,i,l,r.radius);if(l&&(u||d))return!0;var f=k;return n(f,r),this.convexConvex(t,e,o,i,s,f,c,h,l)+u+d},i.prototype[y.CAPSULE|y.LINE]=i.prototype.lineCapsule=function(t,e,o,i,n,s,a,r,c){return!c&&0};var D=a.create(),W=a.create(),j=new m({width:1,height:1});i.prototype[y.CAPSULE|y.CAPSULE]=i.prototype.capsuleCapsule=function(t,e,o,i,s,r,c,h,l){for(var p=D,u=W,d=0,f=0;f<2;f++){a.set(p,(0===f?-1:1)*e.length/2,0),a.rotate(p,p,i),a.add(p,p,o);for(var v=0;v<2;v++){a.set(u,(0===v?-1:1)*r.length/2,0),a.rotate(u,u,h),a.add(u,u,c),this.enableFrictionReduction&&(A=this.enableFriction,this.enableFriction=!1);var y=this.circleCircle(t,e,p,i,s,r,u,h,l,e.radius,r.radius);if(this.enableFrictionReduction&&(this.enableFriction=A),l&&y)return!0;d+=y}}this.enableFrictionReduction&&(A=this.enableFriction,this.enableFriction=!1);var m=j;n(m,e);var g=this.convexCapsule(t,m,o,i,s,r,c,h,l);if(this.enableFrictionReduction&&(this.enableFriction=A),l&&g)return!0;if(d+=g,this.enableFrictionReduction){var A=this.enableFriction;this.enableFriction=!1}n(m,r);var b=this.convexCapsule(s,m,c,h,t,e,o,i,l);return this.enableFrictionReduction&&(this.enableFriction=A),!(!l||!b)||(d+=b,this.enableFrictionReduction&&d&&this.enableFriction&&this.frictionEquations.push(this.createFrictionFromAverage(d)),d)},i.prototype[y.LINE|y.LINE]=i.prototype.lineLine=function(t,e,o,i,n,s,a,r,c){return!c&&0},i.prototype[y.PLANE|y.LINE]=i.prototype.planeLine=function(t,e,o,i,n,s,l,p,u){var d=A,f=b,v=E,y=B,m=q,L=P,x=w,F=S,M=C,I=G,R=0;a.set(d,-s.length/2,0),a.set(f,s.length/2,0),a.rotate(v,d,p),a.rotate(y,f,p),c(v,v,l),c(y,y,l),a.copy(d,v),a.copy(f,y),r(m,f,d),a.normalize(L,m),a.rotate90cw(M,L),a.rotate(F,g,i),I[0]=d,I[1]=f;for(var V=0;V<I.length;V++){var T=I[V];r(x,T,o);var N=h(x,F);if(N<0){if(u)return!0;var O=this.createContactEquation(t,n,e,s);R++,a.copy(O.normalA,F),a.normalize(O.normalA,O.normalA),a.scale(x,F,N),r(O.contactPointA,T,x),r(O.contactPointA,O.contactPointA,t.position),r(O.contactPointB,T,l),c(O.contactPointB,O.contactPointB,l),r(O.contactPointB,O.contactPointB,n.position),this.contactEquations.push(O),this.enableFrictionReduction||this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(O))}}return!u&&(this.enableFrictionReduction||R&&this.enableFriction&&this.frictionEquations.push(this.createFrictionFromAverage(R)),R)},i.prototype[y.PARTICLE|y.CAPSULE]=i.prototype.particleCapsule=function(t,e,o,i,n,s,a,r,c){return this.circleLine(t,e,o,i,n,s,a,r,c,s.radius,0)},i.prototype[y.CIRCLE|y.LINE]=i.prototype.circleLine=function(t,e,o,i,n,s,l,p,u,d,f){var d=d||0,f=void 0!==f?f:e.radius,v=A,y=b,m=E,g=B,R=q,V=P,T=w,N=S,O=C,U=L,k=x,_=F,D=M,W=I,j=G;a.set(N,-s.length/2,0),a.set(O,s.length/2,0),a.rotate(U,N,p),a.rotate(k,O,p),c(U,U,l),c(k,k,l),a.copy(N,U),a.copy(O,k),r(V,O,N),a.normalize(T,V),a.rotate90cw(R,T),r(_,o,N);var X=h(_,R);r(g,N,l),r(D,o,l);var z=f+d;if(Math.abs(X)<z){a.scale(v,R,X),r(m,o,v),a.scale(y,R,h(R,D)),a.normalize(y,y),a.scale(y,y,d),c(m,m,y);var Y=h(T,m),K=h(T,N),H=h(T,O);if(Y>K&&Y<H){if(u)return!0;Q=this.createContactEquation(t,n,e,s);return a.scale(Q.normalA,v,-1),a.normalize(Q.normalA,Q.normalA),a.scale(Q.contactPointA,Q.normalA,f),c(Q.contactPointA,Q.contactPointA,o),r(Q.contactPointA,Q.contactPointA,t.position),r(Q.contactPointB,m,l),c(Q.contactPointB,Q.contactPointB,l),r(Q.contactPointB,Q.contactPointB,n.position),this.contactEquations.push(Q),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(Q)),1}}j[0]=N,j[1]=O;for(var Z=0;Z<j.length;Z++){var J=j[Z];if(r(_,J,o),a.squaredLength(_)<Math.pow(z,2)){if(u)return!0;var Q=this.createContactEquation(t,n,e,s);return a.copy(Q.normalA,_),a.normalize(Q.normalA,Q.normalA),a.scale(Q.contactPointA,Q.normalA,f),c(Q.contactPointA,Q.contactPointA,o),r(Q.contactPointA,Q.contactPointA,t.position),r(Q.contactPointB,J,l),a.scale(W,Q.normalA,-d),c(Q.contactPointB,Q.contactPointB,W),c(Q.contactPointB,Q.contactPointB,l),r(Q.contactPointB,Q.contactPointB,n.position),this.contactEquations.push(Q),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(Q)),1}}return 0},i.prototype[y.CIRCLE|y.CAPSULE]=i.prototype.circleCapsule=function(t,e,o,i,n,s,a,r,c){return this.circleLine(t,e,o,i,n,s,a,r,c,s.radius)},i.prototype[y.CIRCLE|y.CONVEX]=i.prototype[y.CIRCLE|y.BOX]=i.prototype.circleConvex=function(t,e,o,i,n,h,l,p,u,d){for(var d="number"==typeof d?d:e.radius,f=A,v=b,y=E,m=B,g=q,P=L,w=x,S=M,C=I,F=R,T=V,N=!1,G=Number.MAX_VALUE,O=h.vertices,U=0;U!==O.length+1;U++){var k=O[U%O.length],_=O[(U+1)%O.length];if(a.rotate(f,k,p),a.rotate(v,_,p),c(f,f,l),c(v,v,l),r(y,v,f),a.normalize(m,y),a.rotate90cw(g,m),a.scale(C,g,-e.radius),c(C,C,o),s(C,h,l,p)){a.sub(F,f,C);var D=Math.abs(a.dot(F,g));D<G&&(a.copy(T,C),G=D,a.scale(S,g,D),a.add(S,S,C),N=!0)}}if(N){if(u)return!0;j=this.createContactEquation(t,n,e,h);return a.sub(j.normalA,T,o),a.normalize(j.normalA,j.normalA),a.scale(j.contactPointA,j.normalA,d),c(j.contactPointA,j.contactPointA,o),r(j.contactPointA,j.contactPointA,t.position),r(j.contactPointB,S,l),c(j.contactPointB,j.contactPointB,l),r(j.contactPointB,j.contactPointB,n.position),this.contactEquations.push(j),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(j)),1}if(d>0)for(U=0;U<O.length;U++){var W=O[U];if(a.rotate(w,W,p),c(w,w,l),r(P,w,o),a.squaredLength(P)<Math.pow(d,2)){if(u)return!0;var j=this.createContactEquation(t,n,e,h);return a.copy(j.normalA,P),a.normalize(j.normalA,j.normalA),a.scale(j.contactPointA,j.normalA,d),c(j.contactPointA,j.contactPointA,o),r(j.contactPointA,j.contactPointA,t.position),r(j.contactPointB,w,l),c(j.contactPointB,j.contactPointB,l),r(j.contactPointB,j.contactPointB,n.position),this.contactEquations.push(j),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(j)),1}}return 0};var X=a.create(),z=a.create(),Y=a.create(),K=a.create();i.prototype[y.PARTICLE|y.CONVEX]=i.prototype[y.PARTICLE|y.BOX]=i.prototype.particleConvex=function(t,e,o,i,n,l,p,u,d){var f=A,v=b,y=E,m=B,g=q,S=P,C=w,x=L,F=M,I=T,R=N,V=Number.MAX_VALUE,G=!1,O=l.vertices;if(!s(o,l,p,u))return 0;if(d)return!0;for(var U=0;U!==O.length+1;U++){var k=O[U%O.length],_=O[(U+1)%O.length];a.rotate(f,k,u),a.rotate(v,_,u),c(f,f,p),c(v,v,p),r(y,v,f),a.normalize(m,y),a.rotate90cw(g,m),r(x,o,f);h(x,g);r(S,f,p),r(C,o,p),a.sub(I,f,o);var D=Math.abs(a.dot(I,g));D<V&&(V=D,a.scale(F,g,D),a.add(F,F,o),a.copy(R,g),G=!0)}if(G){var W=this.createContactEquation(t,n,e,l);return a.scale(W.normalA,R,-1),a.normalize(W.normalA,W.normalA),a.set(W.contactPointA,0,0),c(W.contactPointA,W.contactPointA,o),r(W.contactPointA,W.contactPointA,t.position),r(W.contactPointB,F,p),c(W.contactPointB,W.contactPointB,p),r(W.contactPointB,W.contactPointB,n.position),this.contactEquations.push(W),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(W)),1}return 0},i.prototype[y.CIRCLE]=i.prototype.circleCircle=function(t,e,o,i,n,s,h,l,p,u,d){var f=A,u=u||e.radius,d=d||s.radius;r(f,o,h);var v=u+d;if(a.squaredLength(f)>Math.pow(v,2))return 0;if(p)return!0;var y=this.createContactEquation(t,n,e,s);return r(y.normalA,h,o),a.normalize(y.normalA,y.normalA),a.scale(y.contactPointA,y.normalA,u),a.scale(y.contactPointB,y.normalA,-d),c(y.contactPointA,y.contactPointA,o),r(y.contactPointA,y.contactPointA,t.position),c(y.contactPointB,y.contactPointB,h),r(y.contactPointB,y.contactPointB,n.position),this.contactEquations.push(y),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(y)),1},i.prototype[y.PLANE|y.CONVEX]=i.prototype[y.PLANE|y.BOX]=i.prototype.planeConvex=function(t,e,o,i,n,s,l,p,u){var d=A,f=b,v=E,y=0;a.rotate(f,g,i);for(var m=0;m!==s.vertices.length;m++){var B=s.vertices[m];if(a.rotate(d,B,p),c(d,d,l),r(v,d,o),h(v,f)<=0){if(u)return!0;y++;var q=this.createContactEquation(t,n,e,s);r(v,d,o),a.copy(q.normalA,f);var P=h(v,q.normalA);a.scale(v,q.normalA,P),r(q.contactPointB,d,n.position),r(q.contactPointA,d,v),r(q.contactPointA,q.contactPointA,t.position),this.contactEquations.push(q),this.enableFrictionReduction||this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(q))}}return this.enableFrictionReduction&&this.enableFriction&&y&&this.frictionEquations.push(this.createFrictionFromAverage(y)),y},i.prototype[y.PARTICLE|y.PLANE]=i.prototype.particlePlane=function(t,e,o,i,n,s,c,l,p){var u=A,d=b;l=l||0,r(u,o,c),a.rotate(d,g,l);var f=h(u,d);if(f>0)return 0;if(p)return!0;var v=this.createContactEquation(n,t,s,e);return a.copy(v.normalA,d),a.scale(u,v.normalA,f),r(v.contactPointA,o,u),r(v.contactPointA,v.contactPointA,n.position),r(v.contactPointB,o,t.position),this.contactEquations.push(v),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(v)),1},i.prototype[y.CIRCLE|y.PARTICLE]=i.prototype.circleParticle=function(t,e,o,i,n,s,h,l,p){var u=A;if(r(u,h,o),a.squaredLength(u)>Math.pow(e.radius,2))return 0;if(p)return!0;var d=this.createContactEquation(t,n,e,s);return a.copy(d.normalA,u),a.normalize(d.normalA,d.normalA),a.scale(d.contactPointA,d.normalA,e.radius),c(d.contactPointA,d.contactPointA,o),r(d.contactPointA,d.contactPointA,t.position),r(d.contactPointB,h,n.position),this.contactEquations.push(d),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(d)),1};var H=new f({radius:1}),Z=a.create(),J=a.create();a.create();i.prototype[y.PLANE|y.CAPSULE]=i.prototype.planeCapsule=function(t,e,o,i,n,s,r,h,l){var p=Z,u=J,d=H;a.set(p,-s.length/2,0),a.rotate(p,p,h),c(p,p,r),a.set(u,s.length/2,0),a.rotate(u,u,h),c(u,u,r),d.radius=s.radius;var f;this.enableFrictionReduction&&(f=this.enableFriction,this.enableFriction=!1);var v=this.circlePlane(n,d,p,0,t,e,o,i,l),y=this.circlePlane(n,d,u,0,t,e,o,i,l);if(this.enableFrictionReduction&&(this.enableFriction=f),l)return v||y;var m=v+y;return this.enableFrictionReduction&&m&&this.frictionEquations.push(this.createFrictionFromAverage(m)),m},i.prototype[y.CIRCLE|y.PLANE]=i.prototype.circlePlane=function(t,e,o,i,n,s,l,p,u){var d=t,f=e,v=o,y=n,m=l,B=p;B=B||0;var q=A,P=b,w=E;r(q,v,m),a.rotate(P,g,B);var S=h(P,q);if(S>f.radius)return 0;if(u)return!0;var C=this.createContactEquation(y,d,s,e);return a.copy(C.normalA,P),a.scale(C.contactPointB,C.normalA,-f.radius),c(C.contactPointB,C.contactPointB,v),r(C.contactPointB,C.contactPointB,d.position),a.scale(w,C.normalA,S),r(C.contactPointA,q,w),c(C.contactPointA,C.contactPointA,m),r(C.contactPointA,C.contactPointA,y.position),this.contactEquations.push(C),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(C)),1},i.prototype[y.CONVEX]=i.prototype[y.CONVEX|y.BOX]=i.prototype[y.BOX]=i.prototype.convexConvex=function(t,e,o,n,s,l,p,u,d,f){var v=A,y=b,m=E,g=B,P=q,L=w,x=S,F=C,M=0,f="number"==typeof f?f:0;if(!i.findSeparatingAxis(e,o,n,l,p,u,v))return 0;r(x,p,o),h(v,x)>0&&a.scale(v,v,-1);var I=i.getClosestEdge(e,n,v,!0),R=i.getClosestEdge(l,u,v);if(-1===I||-1===R)return 0;for(var V=0;V<2;V++){var T=I,N=R,G=e,O=l,U=o,k=p,_=n,D=u,W=t,j=s;if(0===V){var X;X=T,T=N,N=X,X=G,G=O,O=X,X=U,U=k,k=X,X=_,_=D,D=X,X=W,W=j,j=X}for(var z=N;z<N+2;z++){var Y=O.vertices[(z+O.vertices.length)%O.vertices.length];a.rotate(y,Y,D),c(y,y,k);for(var K=0,H=T-1;H<T+2;H++){var Z=G.vertices[(H+G.vertices.length)%G.vertices.length],J=G.vertices[(H+1+G.vertices.length)%G.vertices.length];a.rotate(m,Z,_),a.rotate(g,J,_),c(m,m,U),c(g,g,U),r(P,g,m),a.rotate90cw(F,P),a.normalize(F,F),r(x,y,m);$=h(F,x);(H===T&&$<=f||H!==T&&$<=0)&&K++}if(K>=3){if(d)return!0;var Q=this.createContactEquation(W,j,G,O);M++;var Z=G.vertices[T%G.vertices.length],J=G.vertices[(T+1)%G.vertices.length];a.rotate(m,Z,_),a.rotate(g,J,_),c(m,m,U),c(g,g,U),r(P,g,m),a.rotate90cw(Q.normalA,P),a.normalize(Q.normalA,Q.normalA),r(x,y,m);var $=h(Q.normalA,x);a.scale(L,Q.normalA,$),r(Q.contactPointA,y,U),r(Q.contactPointA,Q.contactPointA,L),c(Q.contactPointA,Q.contactPointA,U),r(Q.contactPointA,Q.contactPointA,W.position),r(Q.contactPointB,y,k),c(Q.contactPointB,Q.contactPointB,k),r(Q.contactPointB,Q.contactPointB,j.position),this.contactEquations.push(Q),this.enableFrictionReduction||this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(Q))}}}return this.enableFrictionReduction&&this.enableFriction&&M&&this.frictionEquations.push(this.createFrictionFromAverage(M)),M};var Q=a.fromValues(0,0);i.projectConvexOntoAxis=function(t,e,o,i,n){var s,r,c=null,l=null,p=Q;a.rotate(p,i,-o);for(var u=0;u<t.vertices.length;u++)s=t.vertices[u],r=h(s,p),(null===c||r>c)&&(c=r),(null===l||r<l)&&(l=r);if(l>c){var d=l;l=c,c=d}var f=h(e,i);a.set(n,l+f,c+f)};var $=a.fromValues(0,0),tt=a.fromValues(0,0),et=a.fromValues(0,0),ot=a.fromValues(0,0),it=a.fromValues(0,0),nt=a.fromValues(0,0);i.findSeparatingAxis=function(t,e,o,n,s,c,h){var l=null,p=!1,u=!1,d=$,f=tt,v=et,y=ot,g=it,A=nt;if(t instanceof m&&n instanceof m)for(P=0;2!==P;P++){var b=t,E=o;1===P&&(b=n,E=c);for(w=0;2!==w;w++){0===w?a.set(y,0,1):1===w&&a.set(y,1,0),0!==E&&a.rotate(y,y,E),i.projectConvexOntoAxis(t,e,o,y,g),i.projectConvexOntoAxis(n,s,c,y,A);var B=g,q=A;g[0]>A[0]&&(q=g,B=A,!0),p=(S=q[0]-B[1])<=0,(null===l||S>l)&&(a.copy(h,y),l=S,u=p)}}else for(var P=0;2!==P;P++){var b=t,E=o;1===P&&(b=n,E=c);for(var w=0;w!==b.vertices.length;w++){a.rotate(f,b.vertices[w],E),a.rotate(v,b.vertices[(w+1)%b.vertices.length],E),r(d,v,f),a.rotate90cw(y,d),a.normalize(y,y),i.projectConvexOntoAxis(t,e,o,y,g),i.projectConvexOntoAxis(n,s,c,y,A);var B=g,q=A;g[0]>A[0]&&(q=g,B=A,!0);var S=q[0]-B[1];p=S<=0,(null===l||S>l)&&(a.copy(h,y),l=S,u=p)}}return u};var st=a.fromValues(0,0),at=a.fromValues(0,0),rt=a.fromValues(0,0);i.getClosestEdge=function(t,e,o,i){var n=st,s=at,c=rt;a.rotate(n,o,-e),i&&a.scale(n,n,-1);for(var l=-1,p=t.vertices.length,u=-1,d=0;d!==p;d++){r(s,t.vertices[(d+1)%p],t.vertices[d%p]),a.rotate90cw(c,s),a.normalize(c,c);var f=h(c,n);(-1===l||f>u)&&(l=d%p,u=f)}return l};var ct=a.create(),ht=a.create(),lt=a.create(),pt=a.create(),ut=a.create(),dt=a.create(),ft=a.create();i.prototype[y.CIRCLE|y.HEIGHTFIELD]=i.prototype.circleHeightfield=function(t,e,o,i,n,s,h,l,p,u){var d=s.heights,u=u||e.radius,f=s.elementWidth,v=ht,y=ct,m=ut,g=ft,A=dt,b=lt,E=pt,B=Math.floor((o[0]-u-h[0])/f),q=Math.ceil((o[0]+u-h[0])/f);B<0&&(B=0),q>=d.length&&(q=d.length-1);for(var P=d[B],w=d[q],S=B;S<q;S++)d[S]<w&&(w=d[S]),d[S]>P&&(P=d[S]);if(o[1]-u>P)return!p&&0;for(var C=!1,S=B;S<q;S++){a.set(b,S*f,d[S]),a.set(E,(S+1)*f,d[S+1]),a.add(b,b,h),a.add(E,E,h),a.sub(A,E,b),a.rotate(A,A,Math.PI/2),a.normalize(A,A),a.scale(y,A,-u),a.add(y,y,o),a.sub(v,y,b);var L=a.dot(v,A);if(y[0]>=b[0]&&y[0]<E[0]&&L<=0){if(p)return!0;C=!0,a.scale(v,A,-L),a.add(m,y,v),a.copy(g,A);x=this.createContactEquation(n,t,s,e);a.copy(x.normalA,g),a.scale(x.contactPointB,x.normalA,-u),c(x.contactPointB,x.contactPointB,o),r(x.contactPointB,x.contactPointB,t.position),a.copy(x.contactPointA,m),a.sub(x.contactPointA,x.contactPointA,n.position),this.contactEquations.push(x),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(x))}}if(C=!1,u>0)for(S=B;S<=q;S++)if(a.set(b,S*f,d[S]),a.add(b,b,h),a.sub(v,o,b),a.squaredLength(v)<Math.pow(u,2)){if(p)return!0;C=!0;var x=this.createContactEquation(n,t,s,e);a.copy(x.normalA,v),a.normalize(x.normalA,x.normalA),a.scale(x.contactPointB,x.normalA,-u),c(x.contactPointB,x.contactPointB,o),r(x.contactPointB,x.contactPointB,t.position),r(x.contactPointA,b,h),c(x.contactPointA,x.contactPointA,h),r(x.contactPointA,x.contactPointA,n.position),this.contactEquations.push(x),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(x))}return C?1:0};var vt=a.create(),yt=a.create(),mt=a.create(),gt=new v({vertices:[a.create(),a.create(),a.create(),a.create()]});i.prototype[y.BOX|y.HEIGHTFIELD]=i.prototype[y.CONVEX|y.HEIGHTFIELD]=i.prototype.convexHeightfield=function(t,e,o,i,n,s,r,c,h){var l=s.heights,p=s.elementWidth,u=vt,d=yt,f=mt,v=gt,y=Math.floor((t.aabb.lowerBound[0]-r[0])/p),m=Math.ceil((t.aabb.upperBound[0]-r[0])/p);y<0&&(y=0),m>=l.length&&(m=l.length-1);for(var g=l[y],A=l[m],b=y;b<m;b++)l[b]<A&&(A=l[b]),l[b]>g&&(g=l[b]);if(t.aabb.lowerBound[1]>g)return!h&&0;for(var E=0,b=y;b<m;b++){a.set(u,b*p,l[b]),a.set(d,(b+1)*p,l[b+1]),a.add(u,u,r),a.add(d,d,r);a.set(f,.5*(d[0]+u[0]),.5*(d[1]+u[1]-100)),a.sub(v.vertices[0],d,f),a.sub(v.vertices[1],u,f),a.copy(v.vertices[2],v.vertices[1]),a.copy(v.vertices[3],v.vertices[0]),v.vertices[2][1]-=100,v.vertices[3][1]-=100,E+=this.convexConvex(t,e,o,i,n,v,f,0,h)}return E}},{"../equations/ContactEquation":21,"../equations/Equation":22,"../equations/FrictionEquation":23,"../math/vec2":30,"../objects/Body":31,"../shapes/Box":37,"../shapes/Circle":39,"../shapes/Convex":40,"../shapes/Shape":45,"../utils/ContactEquationPool":48,"../utils/FrictionEquationPool":49,"../utils/TupleDictionary":56,"../utils/Utils":57}],11:[function(t,e,o){function i(t){t=t||{},this.from=t.from?s.fromValues(t.from[0],t.from[1]):s.create(),this.to=t.to?s.fromValues(t.to[0],t.to[1]):s.create(),this.checkCollisionResponse=void 0===t.checkCollisionResponse||t.checkCollisionResponse,this.skipBackfaces=!!t.skipBackfaces,this.collisionMask=void 0!==t.collisionMask?t.collisionMask:-1,this.collisionGroup=void 0!==t.collisionGroup?t.collisionGroup:-1,this.mode=void 0!==t.mode?t.mode:i.ANY,this.callback=t.callback||function(t){},this.direction=s.create(),this.length=1,this.update()}function n(t,e,o){s.sub(r,o,t);var i=s.dot(r,e);return s.scale(c,e,i),s.add(c,c,t),s.squaredDistance(o,c)}e.exports=i;var s=t("../math/vec2");t("../collision/RaycastResult"),t("../shapes/Shape"),t("../collision/AABB");i.prototype.constructor=i,i.CLOSEST=1,i.ANY=2,i.ALL=4,i.prototype.update=function(){var t=this.direction;s.sub(t,this.to,this.from),this.length=s.length(t),s.normalize(t,t)},i.prototype.intersectBodies=function(t,e){for(var o=0,i=e.length;!t.shouldStop(this)&&o<i;o++){var n=e[o],s=n.getAABB();(s.overlapsRay(this)>=0||s.containsPoint(this.from))&&this.intersectBody(t,n)}};var a=s.create();i.prototype.intersectBody=function(t,e){var o=this.checkCollisionResponse;if(!o||e.collisionResponse)for(var i=a,n=0,r=e.shapes.length;n<r;n++){var c=e.shapes[n];if((!o||c.collisionResponse)&&(0!=(this.collisionGroup&c.collisionMask)&&0!=(c.collisionGroup&this.collisionMask))){s.rotate(i,c.position,e.angle),s.add(i,i,e.position);var h=c.angle+e.angle;if(this.intersectShape(t,c,h,i,e),t.shouldStop(this))break}}},i.prototype.intersectShape=function(t,e,o,i,s){n(this.from,this.direction,i)>e.boundingRadius*e.boundingRadius||(this._currentBody=s,this._currentShape=e,e.raycast(t,this,i,o),this._currentBody=this._currentShape=null)},i.prototype.getAABB=function(t){var e=this.to,o=this.from;s.set(t.lowerBound,Math.min(e[0],o[0]),Math.min(e[1],o[1])),s.set(t.upperBound,Math.max(e[0],o[0]),Math.max(e[1],o[1]))};s.create();i.prototype.reportIntersection=function(t,e,o,n){this.from,this.to;var a=this._currentShape,r=this._currentBody;if(!(this.skipBackfaces&&s.dot(o,this.direction)>0))switch(this.mode){case i.ALL:t.set(o,a,r,e,n),this.callback(t);break;case i.CLOSEST:(e<t.fraction||!t.hasHit())&&t.set(o,a,r,e,n);break;case i.ANY:t.set(o,a,r,e,n)}};var r=s.create(),c=s.create()},{"../collision/AABB":7,"../collision/RaycastResult":12,"../math/vec2":30,"../shapes/Shape":45}],12:[function(t,e,o){function i(){this.normal=n.create(),this.shape=null,this.body=null,this.faceIndex=-1,this.fraction=-1,this.isStopped=!1}var n=t("../math/vec2"),s=t("../collision/Ray");e.exports=i,i.prototype.reset=function(){n.set(this.normal,0,0),this.shape=null,this.body=null,this.faceIndex=-1,this.fraction=-1,this.isStopped=!1},i.prototype.getHitDistance=function(t){return n.distance(t.from,t.to)*this.fraction},i.prototype.hasHit=function(){return-1!==this.fraction},i.prototype.getHitPoint=function(t,e){n.lerp(t,e.from,e.to,this.fraction)},i.prototype.stop=function(){this.isStopped=!0},i.prototype.shouldStop=function(t){return this.isStopped||-1!==this.fraction&&t.mode===s.ANY},i.prototype.set=function(t,e,o,i,s){n.copy(this.normal,t),this.shape=e,this.body=o,this.fraction=i,this.faceIndex=s}},{"../collision/Ray":11,"../math/vec2":30}],13:[function(t,e,o){function i(){s.call(this,s.SAP),this.axisList=[],this.axisIndex=0;var t=this;this._addBodyHandler=function(e){t.axisList.push(e.body)},this._removeBodyHandler=function(e){var o=t.axisList.indexOf(e.body);-1!==o&&t.axisList.splice(o,1)}}var n=t("../utils/Utils"),s=t("../collision/Broadphase");e.exports=i,(i.prototype=new s).constructor=i,i.prototype.setWorld=function(t){this.axisList.length=0,n.appendArray(this.axisList,t.bodies),t.off("addBody",this._addBodyHandler).off("removeBody",this._removeBodyHandler),t.on("addBody",this._addBodyHandler).on("removeBody",this._removeBodyHandler),this.world=t},i.sortAxisList=function(t,e){e|=0;for(var o=1,i=t.length;o<i;o++){for(var n=t[o],s=o-1;s>=0&&!(t[s].aabb.lowerBound[e]<=n.aabb.lowerBound[e]);s--)t[s+1]=t[s];t[s+1]=n}return t},i.prototype.sortList=function(){var t=this.axisList,e=this.axisIndex;i.sortAxisList(t,e)},i.prototype.getCollisionPairs=function(t){var e=this.axisList,o=this.result,i=this.axisIndex;o.length=0;for(var n=e.length;n--;){var a=e[n];a.aabbNeedsUpdate&&a.updateAABB()}this.sortList();for(var r=0,c=0|e.length;r!==c;r++)for(var h=e[r],l=r+1;l<c;l++){var p=e[l];if(!(p.aabb.lowerBound[i]<=h.aabb.upperBound[i]))break;s.canCollide(h,p)&&this.boundingVolumeCheck(h,p)&&o.push(h,p)}return o},i.prototype.aabbQuery=function(t,e,o){o=o||[],this.sortList();var i=this.axisIndex,n="x";1===i&&(n="y"),2===i&&(n="z");for(var s=this.axisList,a=(e.lowerBound[n],e.upperBound[n],0);a<s.length;a++){var r=s[a];r.aabbNeedsUpdate&&r.updateAABB(),r.aabb.overlaps(e)&&o.push(r)}return o}},{"../collision/Broadphase":8,"../utils/Utils":57}],14:[function(t,e,o){function i(t,e,o,i){this.type=o,i=n.defaults(i,{collideConnected:!0,wakeUpBodies:!0}),this.equations=[],this.bodyA=t,this.bodyB=e,this.collideConnected=i.collideConnected,i.wakeUpBodies&&(t&&t.wakeUp(),e&&e.wakeUp())}e.exports=i;var n=t("../utils/Utils");i.prototype.update=function(){throw new Error("method update() not implmemented in this Constraint subclass!")},i.DISTANCE=1,i.GEAR=2,i.LOCK=3,i.PRISMATIC=4,i.REVOLUTE=5,i.prototype.setStiffness=function(t){for(var e=this.equations,o=0;o!==e.length;o++){var i=e[o];i.stiffness=t,i.needsUpdate=!0}},i.prototype.setRelaxation=function(t){for(var e=this.equations,o=0;o!==e.length;o++){var i=e[o];i.relaxation=t,i.needsUpdate=!0}}},{"../utils/Utils":57}],15:[function(t,e,o){function i(t,e,o){o=r.defaults(o,{localAnchorA:[0,0],localAnchorB:[0,0]}),n.call(this,t,e,n.DISTANCE,o),this.localAnchorA=a.fromValues(o.localAnchorA[0],o.localAnchorA[1]),this.localAnchorB=a.fromValues(o.localAnchorB[0],o.localAnchorB[1]);var i=this.localAnchorA,c=this.localAnchorB;if(this.distance=0,"number"==typeof o.distance)this.distance=o.distance;else{var h=a.create(),l=a.create(),p=a.create();a.rotate(h,i,t.angle),a.rotate(l,c,e.angle),a.add(p,e.position,l),a.sub(p,p,h),a.sub(p,p,t.position),this.distance=a.length(p)}var u;u=void 0===o.maxForce?Number.MAX_VALUE:o.maxForce;var d=new s(t,e,-u,u);this.equations=[d],this.maxForce=u;var p=a.create(),f=a.create(),v=a.create(),y=this;d.computeGq=function(){var t=this.bodyA,e=this.bodyB,o=t.position,n=e.position;return a.rotate(f,i,t.angle),a.rotate(v,c,e.angle),a.add(p,n,v),a.sub(p,p,f),a.sub(p,p,o),a.length(p)-y.distance},this.setMaxForce(u),this.upperLimitEnabled=!1,this.upperLimit=1,this.lowerLimitEnabled=!1,this.lowerLimit=0,this.position=0}var n=t("./Constraint"),s=t("../equations/Equation"),a=t("../math/vec2"),r=t("../utils/Utils");e.exports=i,(i.prototype=new n).constructor=i;var c=a.create(),h=a.create(),l=a.create();i.prototype.update=function(){var t=this.equations[0],e=this.bodyA,o=this.bodyB,i=(this.distance,e.position),n=o.position,s=this.equations[0],r=t.G;a.rotate(h,this.localAnchorA,e.angle),a.rotate(l,this.localAnchorB,o.angle),a.add(c,n,l),a.sub(c,c,h),a.sub(c,c,i),this.position=a.length(c);var p=!1;if(this.upperLimitEnabled&&this.position>this.upperLimit&&(s.maxForce=0,s.minForce=-this.maxForce,this.distance=this.upperLimit,p=!0),this.lowerLimitEnabled&&this.position<this.lowerLimit&&(s.maxForce=this.maxForce,s.minForce=0,this.distance=this.lowerLimit,p=!0),!this.lowerLimitEnabled&&!this.upperLimitEnabled||p){s.enabled=!0,a.normalize(c,c);var u=a.crossLength(h,c),d=a.crossLength(l,c);r[0]=-c[0],r[1]=-c[1],r[2]=-u,r[3]=c[0],r[4]=c[1],r[5]=d}else s.enabled=!1},i.prototype.setMaxForce=function(t){var e=this.equations[0];e.minForce=-t,e.maxForce=t},i.prototype.getMaxForce=function(){return this.equations[0].maxForce}},{"../equations/Equation":22,"../math/vec2":30,"../utils/Utils":57,"./Constraint":14}],16:[function(t,e,o){function i(t,e,o){o=o||{},n.call(this,t,e,n.GEAR,o),this.ratio=void 0!==o.ratio?o.ratio:1,this.angle=void 0!==o.angle?o.angle:e.angle-this.ratio*t.angle,o.angle=this.angle,o.ratio=this.ratio,this.equations=[new s(t,e,o)],void 0!==o.maxTorque&&this.setMaxTorque(o.maxTorque)}var n=t("./Constraint"),s=(t("../equations/Equation"),t("../equations/AngleLockEquation"));t("../math/vec2");e.exports=i,(i.prototype=new n).constructor=i,i.prototype.update=function(){var t=this.equations[0];t.ratio!==this.ratio&&t.setRatio(this.ratio),t.angle=this.angle},i.prototype.setMaxTorque=function(t){this.equations[0].setMaxTorque(t)},i.prototype.getMaxTorque=function(t){return this.equations[0].maxForce}},{"../equations/AngleLockEquation":20,"../equations/Equation":22,"../math/vec2":30,"./Constraint":14}],17:[function(t,e,o){function i(t,e,o){o=o||{},n.call(this,t,e,n.LOCK,o);var i=void 0===o.maxForce?Number.MAX_VALUE:o.maxForce,r=(o.localAngleB,new a(t,e,-i,i)),c=new a(t,e,-i,i),h=new a(t,e,-i,i),l=s.create(),p=s.create(),u=this;r.computeGq=function(){return s.rotate(l,u.localOffsetB,t.angle),s.sub(p,e.position,t.position),s.sub(p,p,l),p[0]},c.computeGq=function(){return s.rotate(l,u.localOffsetB,t.angle),s.sub(p,e.position,t.position),s.sub(p,p,l),p[1]};var d=s.create(),f=s.create();h.computeGq=function(){return s.rotate(d,u.localOffsetB,e.angle-u.localAngleB),s.scale(d,d,-1),s.sub(p,t.position,e.position),s.add(p,p,d),s.rotate(f,d,-Math.PI/2),s.normalize(f,f),s.dot(p,f)},this.localOffsetB=s.create(),o.localOffsetB?s.copy(this.localOffsetB,o.localOffsetB):(s.sub(this.localOffsetB,e.position,t.position),s.rotate(this.localOffsetB,this.localOffsetB,-t.angle)),this.localAngleB=0,"number"==typeof o.localAngleB?this.localAngleB=o.localAngleB:this.localAngleB=e.angle-t.angle,this.equations.push(r,c,h),this.setMaxForce(i)}var n=t("./Constraint"),s=t("../math/vec2"),a=t("../equations/Equation");e.exports=i,(i.prototype=new n).constructor=i,i.prototype.setMaxForce=function(t){for(var e=this.equations,o=0;o<this.equations.length;o++)e[o].maxForce=t,e[o].minForce=-t},i.prototype.getMaxForce=function(){return this.equations[0].maxForce};var r=s.create(),c=s.create(),h=s.create(),l=s.fromValues(1,0),p=s.fromValues(0,1);i.prototype.update=function(){var t=this.equations[0],e=this.equations[1],o=this.equations[2],i=this.bodyA,n=this.bodyB;s.rotate(r,this.localOffsetB,i.angle),s.rotate(c,this.localOffsetB,n.angle-this.localAngleB),s.scale(c,c,-1),s.rotate(h,c,Math.PI/2),s.normalize(h,h),t.G[0]=-1,t.G[1]=0,t.G[2]=-s.crossLength(r,l),t.G[3]=1,e.G[0]=0,e.G[1]=-1,e.G[2]=-s.crossLength(r,p),e.G[4]=1,o.G[0]=-h[0],o.G[1]=-h[1],o.G[3]=h[0],o.G[4]=h[1],o.G[5]=s.crossLength(c,h)}},{"../equations/Equation":22,"../math/vec2":30,"./Constraint":14}],18:[function(t,e,o){function i(t,e,o){o=o||{},n.call(this,t,e,n.PRISMATIC,o);var i=r.fromValues(0,0),h=r.fromValues(1,0),l=r.fromValues(0,0);o.localAnchorA&&r.copy(i,o.localAnchorA),o.localAxisA&&r.copy(h,o.localAxisA),o.localAnchorB&&r.copy(l,o.localAnchorB),this.localAnchorA=i,this.localAnchorB=l,this.localAxisA=h;var p=this.maxForce=void 0!==o.maxForce?o.maxForce:Number.MAX_VALUE,u=new a(t,e,-p,p),d=new r.create,f=new r.create,v=new r.create,y=new r.create;if(u.computeGq=function(){return r.dot(v,y)},u.updateJacobian=function(){var o=this.G,n=t.position,s=e.position;r.rotate(d,i,t.angle),r.rotate(f,l,e.angle),r.add(v,s,f),r.sub(v,v,n),r.sub(v,v,d),r.rotate(y,h,t.angle+Math.PI/2),o[0]=-y[0],o[1]=-y[1],o[2]=-r.crossLength(d,y)+r.crossLength(y,v),o[3]=y[0],o[4]=y[1],o[5]=r.crossLength(f,y)},this.equations.push(u),!o.disableRotationalLock){var m=new c(t,e,-p,p);this.equations.push(m)}this.position=0,this.velocity=0,this.lowerLimitEnabled=void 0!==o.lowerLimit,this.upperLimitEnabled=void 0!==o.upperLimit,this.lowerLimit=void 0!==o.lowerLimit?o.lowerLimit:0,this.upperLimit=void 0!==o.upperLimit?o.upperLimit:1,this.upperLimitEquation=new s(t,e),this.lowerLimitEquation=new s(t,e),this.upperLimitEquation.minForce=this.lowerLimitEquation.minForce=0,this.upperLimitEquation.maxForce=this.lowerLimitEquation.maxForce=p,this.motorEquation=new a(t,e),this.motorEnabled=!1,this.motorSpeed=0;var g=this,A=this.motorEquation;A.computeGW;A.computeGq=function(){return 0},A.computeGW=function(){var t=this.G,e=this.bodyA,o=this.bodyB,i=e.velocity,n=o.velocity,s=e.angularVelocity,a=o.angularVelocity;return this.gmult(t,i,s,n,a)+g.motorSpeed}}var n=t("./Constraint"),s=t("../equations/ContactEquation"),a=t("../equations/Equation"),r=t("../math/vec2"),c=t("../equations/RotationalLockEquation");e.exports=i,(i.prototype=new n).constructor=i;var h=r.create(),l=r.create(),p=r.create(),u=r.create(),d=r.create(),f=r.create();i.prototype.update=function(){var t=this.equations,e=t[0],o=this.upperLimit,i=this.lowerLimit,n=this.upperLimitEquation,s=this.lowerLimitEquation,a=this.bodyA,c=this.bodyB,v=this.localAxisA,y=this.localAnchorA,m=this.localAnchorB;e.updateJacobian(),r.rotate(h,v,a.angle),r.rotate(u,y,a.angle),r.add(l,u,a.position),r.rotate(d,m,c.angle),r.add(p,d,c.position);var g=this.position=r.dot(p,h)-r.dot(l,h);if(this.motorEnabled){var A=this.motorEquation.G;A[0]=h[0],A[1]=h[1],A[2]=r.crossLength(h,d),A[3]=-h[0],A[4]=-h[1],A[5]=-r.crossLength(h,u)}if(this.upperLimitEnabled&&g>o?(r.scale(n.normalA,h,-1),r.sub(n.contactPointA,l,a.position),r.sub(n.contactPointB,p,c.position),r.scale(f,h,o),r.add(n.contactPointA,n.contactPointA,f),-1===t.indexOf(n)&&t.push(n)):-1!==(b=t.indexOf(n))&&t.splice(b,1),this.lowerLimitEnabled&&g<i)r.scale(s.normalA,h,1),r.sub(s.contactPointA,l,a.position),r.sub(s.contactPointB,p,c.position),r.scale(f,h,i),r.sub(s.contactPointB,s.contactPointB,f),-1===t.indexOf(s)&&t.push(s);else{var b=t.indexOf(s);-1!==b&&t.splice(b,1)}},i.prototype.enableMotor=function(){this.motorEnabled||(this.equations.push(this.motorEquation),this.motorEnabled=!0)},i.prototype.disableMotor=function(){if(this.motorEnabled){var t=this.equations.indexOf(this.motorEquation);this.equations.splice(t,1),this.motorEnabled=!1}},i.prototype.setLimits=function(t,e){"number"==typeof t?(this.lowerLimit=t,this.lowerLimitEnabled=!0):(this.lowerLimit=t,this.lowerLimitEnabled=!1),"number"==typeof e?(this.upperLimit=e,this.upperLimitEnabled=!0):(this.upperLimit=e,this.upperLimitEnabled=!1)}},{"../equations/ContactEquation":21,"../equations/Equation":22,"../equations/RotationalLockEquation":24,"../math/vec2":30,"./Constraint":14}],19:[function(t,e,o){function i(t,e,o){o=o||{},n.call(this,t,e,n.REVOLUTE,o);var i=this.maxForce=void 0!==o.maxForce?o.maxForce:Number.MAX_VALUE;this.pivotA=c.create(),this.pivotB=c.create(),o.worldPivot?(c.sub(this.pivotA,o.worldPivot,t.position),c.sub(this.pivotB,o.worldPivot,e.position),c.rotate(this.pivotA,this.pivotA,-t.angle),c.rotate(this.pivotB,this.pivotB,-e.angle)):(c.copy(this.pivotA,o.localPivotA),c.copy(this.pivotB,o.localPivotB));var f=this.equations=[new s(t,e,-i,i),new s(t,e,-i,i)],v=f[0],y=f[1],m=this;v.computeGq=function(){return c.rotate(h,m.pivotA,t.angle),c.rotate(l,m.pivotB,e.angle),c.add(d,e.position,l),c.sub(d,d,t.position),c.sub(d,d,h),c.dot(d,p)},y.computeGq=function(){return c.rotate(h,m.pivotA,t.angle),c.rotate(l,m.pivotB,e.angle),c.add(d,e.position,l),c.sub(d,d,t.position),c.sub(d,d,h),c.dot(d,u)},y.minForce=v.minForce=-i,y.maxForce=v.maxForce=i,this.motorEquation=new a(t,e),this.motorEnabled=!1,this.angle=0,this.lowerLimitEnabled=!1,this.upperLimitEnabled=!1,this.lowerLimit=0,this.upperLimit=0,this.upperLimitEquation=new r(t,e),this.lowerLimitEquation=new r(t,e),this.upperLimitEquation.minForce=0,this.lowerLimitEquation.maxForce=0}var n=t("./Constraint"),s=t("../equations/Equation"),a=t("../equations/RotationalVelocityEquation"),r=t("../equations/RotationalLockEquation"),c=t("../math/vec2");e.exports=i;var h=c.create(),l=c.create(),p=c.fromValues(1,0),u=c.fromValues(0,1),d=c.create();(i.prototype=new n).constructor=i,i.prototype.setLimits=function(t,e){"number"==typeof t?(this.lowerLimit=t,this.lowerLimitEnabled=!0):(this.lowerLimit=t,this.lowerLimitEnabled=!1),"number"==typeof e?(this.upperLimit=e,this.upperLimitEnabled=!0):(this.upperLimit=e,this.upperLimitEnabled=!1)},i.prototype.update=function(){var t=this.bodyA,e=this.bodyB,o=this.pivotA,i=this.pivotB,n=this.equations,s=(n[0],n[1],n[0]),a=n[1],r=this.upperLimit,d=this.lowerLimit,f=this.upperLimitEquation,v=this.lowerLimitEquation,y=this.angle=e.angle-t.angle;if(this.upperLimitEnabled&&y>r?(f.angle=r,-1===n.indexOf(f)&&n.push(f)):-1!==(m=n.indexOf(f))&&n.splice(m,1),this.lowerLimitEnabled&&y<d)v.angle=d,-1===n.indexOf(v)&&n.push(v);else{var m=n.indexOf(v);-1!==m&&n.splice(m,1)}c.rotate(h,o,t.angle),c.rotate(l,i,e.angle),s.G[0]=-1,s.G[1]=0,s.G[2]=-c.crossLength(h,p),s.G[3]=1,s.G[4]=0,s.G[5]=c.crossLength(l,p),a.G[0]=0,a.G[1]=-1,a.G[2]=-c.crossLength(h,u),a.G[3]=0,a.G[4]=1,a.G[5]=c.crossLength(l,u)},i.prototype.enableMotor=function(){this.motorEnabled||(this.equations.push(this.motorEquation),this.motorEnabled=!0)},i.prototype.disableMotor=function(){if(this.motorEnabled){var t=this.equations.indexOf(this.motorEquation);this.equations.splice(t,1),this.motorEnabled=!1}},i.prototype.motorIsEnabled=function(){return!!this.motorEnabled},i.prototype.setMotorSpeed=function(t){if(this.motorEnabled){var e=this.equations.indexOf(this.motorEquation);this.equations[e].relativeVelocity=t}},i.prototype.getMotorSpeed=function(){return!!this.motorEnabled&&this.motorEquation.relativeVelocity}},{"../equations/Equation":22,"../equations/RotationalLockEquation":24,"../equations/RotationalVelocityEquation":25,"../math/vec2":30,"./Constraint":14}],20:[function(t,e,o){function i(t,e,o){o=o||{},n.call(this,t,e,-Number.MAX_VALUE,Number.MAX_VALUE),this.angle=o.angle||0,this.ratio="number"==typeof o.ratio?o.ratio:1,this.setRatio(this.ratio)}var n=t("./Equation");t("../math/vec2");e.exports=i,(i.prototype=new n).constructor=i,i.prototype.computeGq=function(){return this.ratio*this.bodyA.angle-this.bodyB.angle+this.angle},i.prototype.setRatio=function(t){var e=this.G;e[2]=t,e[5]=-1,this.ratio=t},i.prototype.setMaxTorque=function(t){this.maxForce=t,this.minForce=-t}},{"../math/vec2":30,"./Equation":22}],21:[function(t,e,o){function i(t,e){n.call(this,t,e,0,Number.MAX_VALUE),this.contactPointA=s.create(),this.penetrationVec=s.create(),this.contactPointB=s.create(),this.normalA=s.create(),this.restitution=0,this.firstImpact=!1,this.shapeA=null,this.shapeB=null}var n=t("./Equation"),s=t("../math/vec2");e.exports=i,(i.prototype=new n).constructor=i,i.prototype.computeB=function(t,e,o){var i=this.bodyA,n=this.bodyB,a=this.contactPointA,r=this.contactPointB,c=i.position,h=n.position,l=this.penetrationVec,p=this.normalA,u=this.G,d=s.crossLength(a,p),f=s.crossLength(r,p);u[0]=-p[0],u[1]=-p[1],u[2]=-d,u[3]=p[0],u[4]=p[1],u[5]=f,s.add(l,h,r),s.sub(l,l,c),s.sub(l,l,a);var v,y;return this.firstImpact&&0!==this.restitution?(y=0,v=1/e*(1+this.restitution)*this.computeGW()):(y=s.dot(p,l)+this.offset,v=this.computeGW()),-y*t-v*e-o*this.computeGiMf()};var a=s.create(),r=s.create(),c=s.create();i.prototype.getVelocityAlongNormal=function(){return this.bodyA.getVelocityAtPoint(a,this.contactPointA),this.bodyB.getVelocityAtPoint(r,this.contactPointB),s.subtract(c,a,r),s.dot(this.normalA,c)}},{"../math/vec2":30,"./Equation":22}],22:[function(t,e,o){function i(t,e,o,n){this.minForce=void 0===o?-Number.MAX_VALUE:o,this.maxForce=void 0===n?Number.MAX_VALUE:n,this.bodyA=t,this.bodyB=e,this.stiffness=i.DEFAULT_STIFFNESS,this.relaxation=i.DEFAULT_RELAXATION,this.G=new s.ARRAY_TYPE(6);for(var a=0;a<6;a++)this.G[a]=0;this.offset=0,this.a=0,this.b=0,this.epsilon=0,this.timeStep=1/60,this.needsUpdate=!0,this.multiplier=0,this.relativeVelocity=0,this.enabled=!0}e.exports=i;var n=t("../math/vec2"),s=t("../utils/Utils");t("../objects/Body");i.prototype.constructor=i,i.DEFAULT_STIFFNESS=1e6,i.DEFAULT_RELAXATION=4,i.prototype.update=function(){var t=this.stiffness,e=this.relaxation,o=this.timeStep;this.a=4/(o*(1+4*e)),this.b=4*e/(1+4*e),this.epsilon=4/(o*o*t*(1+4*e)),this.needsUpdate=!1},i.prototype.gmult=function(t,e,o,i,n){return t[0]*e[0]+t[1]*e[1]+t[2]*o+t[3]*i[0]+t[4]*i[1]+t[5]*n},i.prototype.computeB=function(t,e,o){var i=this.computeGW();return-this.computeGq()*t-i*e-this.computeGiMf()*o};var a=n.create(),r=n.create();i.prototype.computeGq=function(){var t=this.G,e=this.bodyA,o=this.bodyB,i=(e.position,o.position,e.angle),n=o.angle;return this.gmult(t,a,i,r,n)+this.offset},i.prototype.computeGW=function(){var t=this.G,e=this.bodyA,o=this.bodyB,i=e.velocity,n=o.velocity,s=e.angularVelocity,a=o.angularVelocity;return this.gmult(t,i,s,n,a)+this.relativeVelocity},i.prototype.computeGWlambda=function(){var t=this.G,e=this.bodyA,o=this.bodyB,i=e.vlambda,n=o.vlambda,s=e.wlambda,a=o.wlambda;return this.gmult(t,i,s,n,a)};var c=n.create(),h=n.create();i.prototype.computeGiMf=function(){var t=this.bodyA,e=this.bodyB,o=t.force,i=t.angularForce,s=e.force,a=e.angularForce,r=t.invMassSolve,l=e.invMassSolve,p=t.invInertiaSolve,u=e.invInertiaSolve,d=this.G;return n.scale(c,o,r),n.multiply(c,t.massMultiplier,c),n.scale(h,s,l),n.multiply(h,e.massMultiplier,h),this.gmult(d,c,i*p,h,a*u)},i.prototype.computeGiMGt=function(){var t=this.bodyA,e=this.bodyB,o=t.invMassSolve,i=e.invMassSolve,n=t.invInertiaSolve,s=e.invInertiaSolve,a=this.G;return a[0]*a[0]*o*t.massMultiplier[0]+a[1]*a[1]*o*t.massMultiplier[1]+a[2]*a[2]*n+a[3]*a[3]*i*e.massMultiplier[0]+a[4]*a[4]*i*e.massMultiplier[1]+a[5]*a[5]*s};var l=n.create(),p=n.create(),u=n.create();n.create(),n.create(),n.create();i.prototype.addToWlambda=function(t){var e=this.bodyA,o=this.bodyB,i=l,s=p,a=u,r=e.invMassSolve,c=o.invMassSolve,h=e.invInertiaSolve,d=o.invInertiaSolve,f=this.G;s[0]=f[0],s[1]=f[1],a[0]=f[3],a[1]=f[4],n.scale(i,s,r*t),n.multiply(i,i,e.massMultiplier),n.add(e.vlambda,e.vlambda,i),e.wlambda+=h*f[2]*t,n.scale(i,a,c*t),n.multiply(i,i,o.massMultiplier),n.add(o.vlambda,o.vlambda,i),o.wlambda+=d*f[5]*t},i.prototype.computeInvC=function(t){return 1/(this.computeGiMGt()+t)}},{"../math/vec2":30,"../objects/Body":31,"../utils/Utils":57}],23:[function(t,e,o){function i(t,e,o){s.call(this,t,e,-o,o),this.contactPointA=n.create(),this.contactPointB=n.create(),this.t=n.create(),this.contactEquations=[],this.shapeA=null,this.shapeB=null,this.frictionCoefficient=.3}var n=t("../math/vec2"),s=t("./Equation");t("../utils/Utils");e.exports=i,(i.prototype=new s).constructor=i,i.prototype.setSlipForce=function(t){this.maxForce=t,this.minForce=-t},i.prototype.getSlipForce=function(){return this.maxForce},i.prototype.computeB=function(t,e,o){this.bodyA,this.bodyB;var i=this.contactPointA,s=this.contactPointB,a=this.t,r=this.G;return r[0]=-a[0],r[1]=-a[1],r[2]=-n.crossLength(i,a),r[3]=a[0],r[4]=a[1],r[5]=n.crossLength(s,a),-this.computeGW()*e-o*this.computeGiMf()}},{"../math/vec2":30,"../utils/Utils":57,"./Equation":22}],24:[function(t,e,o){function i(t,e,o){o=o||{},n.call(this,t,e,-Number.MAX_VALUE,Number.MAX_VALUE),this.angle=o.angle||0;var i=this.G;i[2]=1,i[5]=-1}var n=t("./Equation"),s=t("../math/vec2");e.exports=i,(i.prototype=new n).constructor=i;var a=s.create(),r=s.create(),c=s.fromValues(1,0),h=s.fromValues(0,1);i.prototype.computeGq=function(){return s.rotate(a,c,this.bodyA.angle+this.angle),s.rotate(r,h,this.bodyB.angle),s.dot(a,r)}},{"../math/vec2":30,"./Equation":22}],25:[function(t,e,o){function i(t,e){n.call(this,t,e,-Number.MAX_VALUE,Number.MAX_VALUE),this.relativeVelocity=1,this.ratio=1}var n=t("./Equation");t("../math/vec2");e.exports=i,(i.prototype=new n).constructor=i,i.prototype.computeB=function(t,e,o){var i=this.G;i[2]=-1,i[5]=this.ratio;var n=this.computeGiMf();return-this.computeGW()*e-o*n}},{"../math/vec2":30,"./Equation":22}],26:[function(t,e,o){var i=function(){};e.exports=i,i.prototype={constructor:i,on:function(t,e,o){e.context=o||this,void 0===this._listeners&&(this._listeners={});var i=this._listeners;return void 0===i[t]&&(i[t]=[]),-1===i[t].indexOf(e)&&i[t].push(e),this},has:function(t,e){if(void 0===this._listeners)return!1;var o=this._listeners;if(e){if(void 0!==o[t]&&-1!==o[t].indexOf(e))return!0}else if(void 0!==o[t])return!0;return!1},off:function(t,e){if(void 0===this._listeners)return this;var o=this._listeners,i=o[t].indexOf(e);return-1!==i&&o[t].splice(i,1),this},emit:function(t){if(void 0===this._listeners)return this;var e=this._listeners[t.type];if(void 0!==e){t.target=this;for(var o=0,i=e.length;o<i;o++){var n=e[o];n.call(n.context,t)}}return this}}},{}],27:[function(t,e,o){function i(t,e,o){if(o=o||{},!(t instanceof n&&e instanceof n))throw new Error("First two arguments must be Material instances.");this.id=i.idCounter++,this.materialA=t,this.materialB=e,this.friction=void 0!==o.friction?Number(o.friction):.3,this.restitution=void 0!==o.restitution?Number(o.restitution):0,this.stiffness=void 0!==o.stiffness?Number(o.stiffness):s.DEFAULT_STIFFNESS,this.relaxation=void 0!==o.relaxation?Number(o.relaxation):s.DEFAULT_RELAXATION,this.frictionStiffness=void 0!==o.frictionStiffness?Number(o.frictionStiffness):s.DEFAULT_STIFFNESS,this.frictionRelaxation=void 0!==o.frictionRelaxation?Number(o.frictionRelaxation):s.DEFAULT_RELAXATION,this.surfaceVelocity=void 0!==o.surfaceVelocity?Number(o.surfaceVelocity):0,this.contactSkinSize=.005}var n=t("./Material"),s=t("../equations/Equation");e.exports=i,i.idCounter=0},{"../equations/Equation":22,"./Material":28}],28:[function(t,e,o){function i(t){this.id=t||i.idCounter++}e.exports=i,i.idCounter=0},{}],29:[function(t,e,o){var i={};i.GetArea=function(t){if(t.length<6)return 0;for(var e=t.length-2,o=0,i=0;i<e;i+=2)o+=(t[i+2]-t[i])*(t[i+1]+t[i+3]);return.5*-(o+=(t[0]-t[e])*(t[e+1]+t[1]))},i.Triangulate=function(t){var e=t.length>>1;if(e<3)return[];for(var o=[],n=[],s=0;s<e;s++)n.push(s);for(var s=0,a=e;a>3;){var r=n[(s+0)%a],c=n[(s+1)%a],h=n[(s+2)%a],l=t[2*r],p=t[2*r+1],u=t[2*c],d=t[2*c+1],f=t[2*h],v=t[2*h+1],y=!1;if(i._convex(l,p,u,d,f,v)){y=!0;for(var m=0;m<a;m++){var g=n[m];if(g!=r&&g!=c&&g!=h&&i._PointInTriangle(t[2*g],t[2*g+1],l,p,u,d,f,v)){y=!1;break}}}if(y)o.push(r,c,h),n.splice((s+1)%a,1),a--,s=0;else if(s++>3*a)break}return o.push(n[0],n[1],n[2]),o},i._PointInTriangle=function(t,e,o,i,n,s,a,r){var c=a-o,h=r-i,l=n-o,p=s-i,u=t-o,d=e-i,f=c*c+h*h,v=c*l+h*p,y=c*u+h*d,m=l*l+p*p,g=l*u+p*d,A=1/(f*m-v*v),b=(m*y-v*g)*A,E=(f*g-v*y)*A;return b>=0&&E>=0&&b+E<1},i._convex=function(t,e,o,i,n,s){return(e-i)*(n-o)+(o-t)*(s-i)>=0},e.exports=i},{}],30:[function(t,e,o){var i=e.exports={},n=t("../utils/Utils");i.crossLength=function(t,e){return t[0]*e[1]-t[1]*e[0]},i.crossVZ=function(t,e,o){return i.rotate(t,e,-Math.PI/2),i.scale(t,t,o),t},i.crossZV=function(t,e,o){return i.rotate(t,o,Math.PI/2),i.scale(t,t,e),t},i.rotate=function(t,e,o){if(0!==o){var i=Math.cos(o),n=Math.sin(o),s=e[0],a=e[1];t[0]=i*s-n*a,t[1]=n*s+i*a}else t[0]=e[0],t[1]=e[1]},i.rotate90cw=function(t,e){var o=e[0],i=e[1];t[0]=i,t[1]=-o},i.toLocalFrame=function(t,e,o,n){i.copy(t,e),i.sub(t,t,o),i.rotate(t,t,-n)},i.toGlobalFrame=function(t,e,o,n){i.copy(t,e),i.rotate(t,t,n),i.add(t,t,o)},i.vectorToLocalFrame=function(t,e,o){i.rotate(t,e,-o)},i.vectorToGlobalFrame=function(t,e,o){i.rotate(t,e,o)},i.centroid=function(t,e,o,n){return i.add(t,e,o),i.add(t,t,n),i.scale(t,t,1/3),t},i.create=function(){var t=new n.ARRAY_TYPE(2);return t[0]=0,t[1]=0,t},i.clone=function(t){var e=new n.ARRAY_TYPE(2);return e[0]=t[0],e[1]=t[1],e},i.fromValues=function(t,e){var o=new n.ARRAY_TYPE(2);return o[0]=t,o[1]=e,o},i.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t},i.set=function(t,e,o){return t[0]=e,t[1]=o,t},i.add=function(t,e,o){return t[0]=e[0]+o[0],t[1]=e[1]+o[1],t},i.subtract=function(t,e,o){return t[0]=e[0]-o[0],t[1]=e[1]-o[1],t},i.sub=i.subtract,i.multiply=function(t,e,o){return t[0]=e[0]*o[0],t[1]=e[1]*o[1],t},i.mul=i.multiply,i.divide=function(t,e,o){return t[0]=e[0]/o[0],t[1]=e[1]/o[1],t},i.div=i.divide,i.scale=function(t,e,o){return t[0]=e[0]*o,t[1]=e[1]*o,t},i.distance=function(t,e){var o=e[0]-t[0],i=e[1]-t[1];return Math.sqrt(o*o+i*i)},i.dist=i.distance,i.squaredDistance=function(t,e){var o=e[0]-t[0],i=e[1]-t[1];return o*o+i*i},i.sqrDist=i.squaredDistance,i.length=function(t){var e=t[0],o=t[1];return Math.sqrt(e*e+o*o)},i.len=i.length,i.squaredLength=function(t){var e=t[0],o=t[1];return e*e+o*o},i.sqrLen=i.squaredLength,i.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t},i.normalize=function(t,e){var o=e[0],i=e[1],n=o*o+i*i;return n>0&&(n=1/Math.sqrt(n),t[0]=e[0]*n,t[1]=e[1]*n),t},i.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]},i.str=function(t){return"vec2("+t[0]+", "+t[1]+")"},i.lerp=function(t,e,o,i){var n=e[0],s=e[1];return t[0]=n+i*(o[0]-n),t[1]=s+i*(o[1]-s),t},i.reflect=function(t,e,o){var i=e[0]*o[0]+e[1]*o[1];t[0]=e[0]-2*o[0]*i,t[1]=e[1]-2*o[1]*i},i.getLineSegmentsIntersection=function(t,e,o,n,s){var a=i.getLineSegmentsIntersectionFraction(e,o,n,s);return!(a<0)&&(t[0]=e[0]+a*(o[0]-e[0]),t[1]=e[1]+a*(o[1]-e[1]),!0)},i.getLineSegmentsIntersectionFraction=function(t,e,o,i){var n,s,a=e[0]-t[0],r=e[1]-t[1],c=i[0]-o[0],h=i[1]-o[1];return n=(-r*(t[0]-o[0])+a*(t[1]-o[1]))/(-c*r+a*h),s=(c*(t[1]-o[1])-h*(t[0]-o[0]))/(-c*r+a*h),n>=0&&n<=1&&s>=0&&s<=1?s:-1}},{"../utils/Utils":57}],31:[function(t,e,o){function i(t){t=t||{},l.call(this),this.id=t.id||++i._idCounter,this.world=null,this.shapes=[],this.mass=t.mass||0,this.invMass=0,this.inertia=0,this.invInertia=0,this.invMassSolve=0,this.invInertiaSolve=0,this.fixedRotation=!!t.fixedRotation,this.fixedX=!!t.fixedX,this.fixedY=!!t.fixedY,this.massMultiplier=n.create(),this.position=n.fromValues(0,0),t.position&&n.copy(this.position,t.position),this.interpolatedPosition=n.fromValues(0,0),this.interpolatedAngle=0,this.previousPosition=n.fromValues(0,0),this.previousAngle=0,this.velocity=n.fromValues(0,0),t.velocity&&n.copy(this.velocity,t.velocity),this.vlambda=n.fromValues(0,0),this.wlambda=0,this.angle=t.angle||0,this.angularVelocity=t.angularVelocity||0,this.force=n.create(),t.force&&n.copy(this.force,t.force),this.angularForce=t.angularForce||0,this.damping="number"==typeof t.damping?t.damping:.1,this.angularDamping="number"==typeof t.angularDamping?t.angularDamping:.1,this.type=i.STATIC,void 0!==t.type?this.type=t.type:t.mass?this.type=i.DYNAMIC:this.type=i.STATIC,this.boundingRadius=0,this.aabb=new h,this.aabbNeedsUpdate=!0,this.allowSleep=void 0===t.allowSleep||t.allowSleep,this.wantsToSleep=!1,this.sleepState=i.AWAKE,this.sleepSpeedLimit=void 0!==t.sleepSpeedLimit?t.sleepSpeedLimit:.2,this.sleepTimeLimit=void 0!==t.sleepTimeLimit?t.sleepTimeLimit:1,this.gravityScale=void 0!==t.gravityScale?t.gravityScale:1,this.collisionResponse=void 0===t.collisionResponse||t.collisionResponse,this.idleTime=0,this.timeLastSleepy=0,this.ccdSpeedThreshold=void 0!==t.ccdSpeedThreshold?t.ccdSpeedThreshold:-1,this.ccdIterations=void 0!==t.ccdIterations?t.ccdIterations:10,this.concavePath=null,this._wakeUpAfterNarrowphase=!1,this.updateMassProperties()}var n=t("../math/vec2"),s=t("poly-decomp"),a=t("../shapes/Convex"),r=t("../collision/RaycastResult"),c=t("../collision/Ray"),h=t("../collision/AABB"),l=t("../events/EventEmitter");e.exports=i,i.prototype=new l,i.prototype.constructor=i,i._idCounter=0,i.prototype.updateSolveMassProperties=function(){this.sleepState===i.SLEEPING||this.type===i.KINEMATIC?(this.invMassSolve=0,this.invInertiaSolve=0):(this.invMassSolve=this.invMass,this.invInertiaSolve=this.invInertia)},i.prototype.setDensity=function(t){var e=this.getArea();this.mass=e*t,this.updateMassProperties()},i.prototype.getArea=function(){for(var t=0,e=0;e<this.shapes.length;e++)t+=this.shapes[e].area;return t},i.prototype.getAABB=function(){return this.aabbNeedsUpdate&&this.updateAABB(),this.aabb};var p=new h,u=n.create();i.prototype.updateAABB=function(){for(var t=this.shapes,e=t.length,o=u,i=this.angle,s=0;s!==e;s++){var a=t[s],r=a.angle+i;n.rotate(o,a.position,i),n.add(o,o,this.position),a.computeAABB(p,o,r),0===s?this.aabb.copy(p):this.aabb.extend(p)}this.aabbNeedsUpdate=!1},i.prototype.updateBoundingRadius=function(){for(var t=this.shapes,e=t.length,o=0,i=0;i!==e;i++){var s=t[i],a=n.length(s.position),r=s.boundingRadius;a+r>o&&(o=a+r)}this.boundingRadius=o},i.prototype.addShape=function(t,e,o){if(t.body)throw new Error("A shape can only be added to one body.");t.body=this,e?n.copy(t.position,e):n.set(t.position,0,0),t.angle=o||0,this.shapes.push(t),this.updateMassProperties(),this.updateBoundingRadius(),this.aabbNeedsUpdate=!0},i.prototype.removeShape=function(t){var e=this.shapes.indexOf(t);return-1!==e&&(this.shapes.splice(e,1),this.aabbNeedsUpdate=!0,t.body=null,!0)},i.prototype.updateMassProperties=function(){if(this.type===i.STATIC||this.type===i.KINEMATIC)this.mass=Number.MAX_VALUE,this.invMass=0,this.inertia=Number.MAX_VALUE,this.invInertia=0;else{var t=this.shapes,e=t.length,o=this.mass/e,s=0;if(this.fixedRotation)this.inertia=Number.MAX_VALUE,this.invInertia=0;else{for(var a=0;a<e;a++){var r=t[a],c=n.squaredLength(r.position);s+=r.computeMomentOfInertia(o)+o*c}this.inertia=s,this.invInertia=s>0?1/s:0}this.invMass=1/this.mass,n.set(this.massMultiplier,this.fixedX?0:1,this.fixedY?0:1)}};n.create();i.prototype.applyForce=function(t,e){if(n.add(this.force,this.force,t),e){var o=n.crossLength(e,t);this.angularForce+=o}};var d=n.create(),f=n.create(),v=n.create();i.prototype.applyForceLocal=function(t,e){e=e||v;var o=d,i=f;this.vectorToWorldFrame(o,t),this.vectorToWorldFrame(i,e),this.applyForce(o,i)};var y=n.create();i.prototype.applyImpulse=function(t,e){if(this.type===i.DYNAMIC){var o=y;if(n.scale(o,t,this.invMass),n.multiply(o,this.massMultiplier,o),n.add(this.velocity,o,this.velocity),e){var s=n.crossLength(e,t);s*=this.invInertia,this.angularVelocity+=s}}};var m=n.create(),g=n.create(),A=n.create();i.prototype.applyImpulseLocal=function(t,e){e=e||A;var o=m,i=g;this.vectorToWorldFrame(o,t),this.vectorToWorldFrame(i,e),this.applyImpulse(o,i)},i.prototype.toLocalFrame=function(t,e){n.toLocalFrame(t,e,this.position,this.angle)},i.prototype.toWorldFrame=function(t,e){n.toGlobalFrame(t,e,this.position,this.angle)},i.prototype.vectorToLocalFrame=function(t,e){n.vectorToLocalFrame(t,e,this.angle)},i.prototype.vectorToWorldFrame=function(t,e){n.vectorToGlobalFrame(t,e,this.angle)},i.prototype.fromPolygon=function(t,e){e=e||{};for(c=this.shapes.length;c>=0;--c)this.removeShape(this.shapes[c]);var o=new s.Polygon;if(o.vertices=t,o.makeCCW(),"number"==typeof e.removeCollinearPoints&&o.removeCollinearPoints(e.removeCollinearPoints),void 0===e.skipSimpleCheck&&!o.isSimple())return!1;this.concavePath=o.vertices.slice(0);for(c=0;c<this.concavePath.length;c++){p=[0,0];n.copy(p,this.concavePath[c]),this.concavePath[c]=p}var i;i=e.optimalDecomp?o.decomp():o.quickDecomp();for(var r=n.create(),c=0;c!==i.length;c++){for(var h=new a({vertices:i[c].vertices}),l=0;l!==h.vertices.length;l++){var p=h.vertices[l];n.sub(p,p,h.centerOfMass)}n.scale(r,h.centerOfMass,1),h.updateTriangles(),h.updateCenterOfMass(),h.updateBoundingRadius(),this.addShape(h,r)}return this.adjustCenterOfMass(),this.aabbNeedsUpdate=!0,!0};n.fromValues(0,0);var b=n.fromValues(0,0),E=n.fromValues(0,0),B=n.fromValues(0,0);i.prototype.adjustCenterOfMass=function(){var t=b,e=E,o=B,i=0;n.set(e,0,0);for(a=0;a!==this.shapes.length;a++){s=this.shapes[a];n.scale(t,s.position,s.area),n.add(e,e,t),i+=s.area}n.scale(o,e,1/i);for(a=0;a!==this.shapes.length;a++){var s=this.shapes[a];n.sub(s.position,s.position,o)}n.add(this.position,this.position,o);for(var a=0;this.concavePath&&a<this.concavePath.length;a++)n.sub(this.concavePath[a],this.concavePath[a],o);this.updateMassProperties(),this.updateBoundingRadius()},i.prototype.setZeroForce=function(){n.set(this.force,0,0),this.angularForce=0},i.prototype.resetConstraintVelocity=function(){var t=this,e=t.vlambda;n.set(e,0,0),t.wlambda=0},i.prototype.addConstraintVelocity=function(){var t=this,e=t.velocity;n.add(e,e,t.vlambda),t.angularVelocity+=t.wlambda},i.prototype.applyDamping=function(t){if(this.type===i.DYNAMIC){var e=this.velocity;n.scale(e,e,Math.pow(1-this.damping,t)),this.angularVelocity*=Math.pow(1-this.angularDamping,t)}},i.prototype.wakeUp=function(){var t=this.sleepState;this.sleepState=i.AWAKE,this.idleTime=0,t!==i.AWAKE&&this.emit(i.wakeUpEvent)},i.prototype.sleep=function(){this.sleepState=i.SLEEPING,this.angularVelocity=0,this.angularForce=0,n.set(this.velocity,0,0),n.set(this.force,0,0),this.emit(i.sleepEvent)},i.prototype.sleepTick=function(t,e,o){if(this.allowSleep&&this.type!==i.SLEEPING){this.wantsToSleep=!1;this.sleepState;n.squaredLength(this.velocity)+Math.pow(this.angularVelocity,2)>=Math.pow(this.sleepSpeedLimit,2)?(this.idleTime=0,this.sleepState=i.AWAKE):(this.idleTime+=o,this.sleepState=i.SLEEPY),this.idleTime>this.sleepTimeLimit&&(e?this.wantsToSleep=!0:this.sleep())}},i.prototype.overlaps=function(t){return this.world.overlapKeeper.bodiesAreOverlapping(this,t)};var q=n.create(),P=n.create();i.prototype.integrate=function(t){var e=this.invMass,o=this.force,i=this.position,s=this.velocity;n.copy(this.previousPosition,this.position),this.previousAngle=this.angle,this.fixedRotation||(this.angularVelocity+=this.angularForce*this.invInertia*t),n.scale(q,o,t*e),n.multiply(q,this.massMultiplier,q),n.add(s,q,s),this.integrateToTimeOfImpact(t)||(n.scale(P,s,t),n.add(i,i,P),this.fixedRotation||(this.angle+=this.angularVelocity*t)),this.aabbNeedsUpdate=!0};var w=new r,S=new c({mode:c.ALL}),C=n.create(),L=n.create(),x=n.create(),F=n.create();i.prototype.integrateToTimeOfImpact=function(t){if(this.ccdSpeedThreshold<0||n.squaredLength(this.velocity)<Math.pow(this.ccdSpeedThreshold,2))return!1;n.normalize(C,this.velocity),n.scale(L,this.velocity,t),n.add(L,L,this.position),n.sub(x,L,this.position);var e,o=this.angularVelocity*t,i=n.length(x),s=1,a=this;if(w.reset(),S.callback=function(t){t.body!==a&&(e=t.body,t.getHitPoint(L,S),n.sub(x,L,a.position),s=n.length(x)/i,t.stop())},n.copy(S.from,this.position),n.copy(S.to,L),S.update(),this.world.raycast(w,S),!e)return!1;var r=this.angle;n.copy(F,this.position);for(var c=0,h=0,l=0,p=s;p>=h&&c<this.ccdIterations;)c++,l=(p-h)/2,n.scale(P,x,s),n.add(this.position,F,P),this.angle=r+o*s,this.updateAABB(),this.aabb.overlaps(e.aabb)&&this.world.narrowphase.bodiesOverlap(this,e)?h=l:p=l;return s=l,n.copy(this.position,F),this.angle=r,n.scale(P,x,s),n.add(this.position,this.position,P),this.fixedRotation||(this.angle+=o*s),!0},i.prototype.getVelocityAtPoint=function(t,e){return n.crossVZ(t,e,this.angularVelocity),n.subtract(t,this.velocity,t),t},i.sleepyEvent={type:"sleepy"},i.sleepEvent={type:"sleep"},i.wakeUpEvent={type:"wakeup"},i.DYNAMIC=1,i.STATIC=2,i.KINEMATIC=4,i.AWAKE=0,i.SLEEPY=1,i.SLEEPING=2},{"../collision/AABB":7,"../collision/Ray":11,"../collision/RaycastResult":12,"../events/EventEmitter":26,"../math/vec2":30,"../shapes/Convex":40,"poly-decomp":5}],32:[function(t,e,o){function i(t,e,o){o=o||{},s.call(this,t,e,o),this.localAnchorA=n.fromValues(0,0),this.localAnchorB=n.fromValues(0,0),o.localAnchorA&&n.copy(this.localAnchorA,o.localAnchorA),o.localAnchorB&&n.copy(this.localAnchorB,o.localAnchorB),o.worldAnchorA&&this.setWorldAnchorA(o.worldAnchorA),o.worldAnchorB&&this.setWorldAnchorB(o.worldAnchorB);var i=n.create(),a=n.create();this.getWorldAnchorA(i),this.getWorldAnchorB(a);var r=n.distance(i,a);this.restLength="number"==typeof o.restLength?o.restLength:r}var n=t("../math/vec2"),s=t("./Spring");t("../utils/Utils");e.exports=i,(i.prototype=new s).constructor=i,i.prototype.setWorldAnchorA=function(t){this.bodyA.toLocalFrame(this.localAnchorA,t)},i.prototype.setWorldAnchorB=function(t){this.bodyB.toLocalFrame(this.localAnchorB,t)},i.prototype.getWorldAnchorA=function(t){this.bodyA.toWorldFrame(t,this.localAnchorA)},i.prototype.getWorldAnchorB=function(t){this.bodyB.toWorldFrame(t,this.localAnchorB)};var a=n.create(),r=n.create(),c=n.create(),h=n.create(),l=n.create(),p=n.create(),u=n.create(),d=n.create(),f=n.create();i.prototype.applyForce=function(){var t=this.stiffness,e=this.damping,o=this.restLength,i=this.bodyA,s=this.bodyB,v=a,y=r,m=c,g=h,A=f,b=l,E=p,B=u,q=d;this.getWorldAnchorA(b),this.getWorldAnchorB(E),n.sub(B,b,i.position),n.sub(q,E,s.position),n.sub(v,E,b);var P=n.len(v);n.normalize(y,v),n.sub(m,s.velocity,i.velocity),n.crossZV(A,s.angularVelocity,q),n.add(m,m,A),n.crossZV(A,i.angularVelocity,B),n.sub(m,m,A),n.scale(g,y,-t*(P-o)-e*n.dot(m,y)),n.sub(i.force,i.force,g),n.add(s.force,s.force,g);var w=n.crossLength(B,g),S=n.crossLength(q,g);i.angularForce-=w,s.angularForce+=S}},{"../math/vec2":30,"../utils/Utils":57,"./Spring":34}],33:[function(t,e,o){function i(t,e,o){o=o||{},n.call(this,t,e,o),this.restAngle="number"==typeof o.restAngle?o.restAngle:e.angle-t.angle}t("../math/vec2");var n=t("./Spring");e.exports=i,(i.prototype=new n).constructor=i,i.prototype.applyForce=function(){var t=this.stiffness,e=this.damping,o=this.restAngle,i=this.bodyA,n=this.bodyB,s=-t*(n.angle-i.angle-o)-e*(n.angularVelocity-i.angularVelocity)*0;i.angularForce-=s,n.angularForce+=s}},{"../math/vec2":30,"./Spring":34}],34:[function(t,e,o){function i(t,e,o){o=n.defaults(o,{stiffness:100,damping:1}),this.stiffness=o.stiffness,this.damping=o.damping,this.bodyA=t,this.bodyB=e}t("../math/vec2");var n=t("../utils/Utils");e.exports=i,i.prototype.applyForce=function(){}},{"../math/vec2":30,"../utils/Utils":57}],35:[function(t,e,o){function i(t,e){e=e||{},this.chassisBody=t,this.wheels=[],this.groundBody=new c({mass:0}),this.world=null;var o=this;this.preStepCallback=function(){o.update()}}function n(t,e){e=e||{},this.vehicle=t,this.forwardEquation=new r(t.chassisBody,t.groundBody),this.sideEquation=new r(t.chassisBody,t.groundBody),this.steerValue=0,this.engineForce=0,this.setSideFriction(void 0!==e.sideFriction?e.sideFriction:5),this.localForwardVector=s.fromValues(0,1),e.localForwardVector&&s.copy(this.localForwardVector,e.localForwardVector),this.localPosition=s.fromValues(0,0),e.localPosition&&s.copy(this.localPosition,e.localPosition),a.apply(this,t.chassisBody,t.groundBody),this.equations.push(this.forwardEquation,this.sideEquation),this.setBrakeForce(0)}var s=t("../math/vec2"),a=(t("../utils/Utils"),t("../constraints/Constraint")),r=t("../equations/FrictionEquation"),c=t("../objects/Body");e.exports=i,i.prototype.addToWorld=function(t){this.world=t,t.addBody(this.groundBody),t.on("preStep",this.preStepCallback);for(var e=0;e<this.wheels.length;e++){var o=this.wheels[e];t.addConstraint(o)}},i.prototype.removeFromWorld=function(){var t=this.world;t.removeBody(this.groundBody),t.off("preStep",this.preStepCallback);for(var e=0;e<this.wheels.length;e++){var o=this.wheels[e];t.removeConstraint(o)}this.world=null},i.prototype.addWheel=function(t){var e=new n(this,t);return this.wheels.push(e),e},i.prototype.update=function(){for(var t=0;t<this.wheels.length;t++)this.wheels[t].update()},(n.prototype=new a).setBrakeForce=function(t){this.forwardEquation.setSlipForce(t)},n.prototype.setSideFriction=function(t){this.sideEquation.setSlipForce(t)};var h=s.create(),l=s.create();n.prototype.getSpeed=function(){return this.vehicle.chassisBody.vectorToWorldFrame(l,this.localForwardVector),this.vehicle.chassisBody.getVelocityAtPoint(h,l),s.dot(h,l)};var p=s.create();n.prototype.update=function(){this.vehicle.chassisBody.vectorToWorldFrame(this.forwardEquation.t,this.localForwardVector),s.rotate(this.sideEquation.t,this.localForwardVector,Math.PI/2),this.vehicle.chassisBody.vectorToWorldFrame(this.sideEquation.t,this.sideEquation.t),s.rotate(this.forwardEquation.t,this.forwardEquation.t,this.steerValue),s.rotate(this.sideEquation.t,this.sideEquation.t,this.steerValue),this.vehicle.chassisBody.toWorldFrame(this.forwardEquation.contactPointB,this.localPosition),s.copy(this.sideEquation.contactPointB,this.forwardEquation.contactPointB),this.vehicle.chassisBody.vectorToWorldFrame(this.forwardEquation.contactPointA,this.localPosition),s.copy(this.sideEquation.contactPointA,this.forwardEquation.contactPointA),s.normalize(p,this.forwardEquation.t),s.scale(p,p,this.engineForce),this.vehicle.chassisBody.applyForce(p,this.forwardEquation.contactPointA)}},{"../constraints/Constraint":14,"../equations/FrictionEquation":23,"../math/vec2":30,"../objects/Body":31,"../utils/Utils":57}],36:[function(t,e,o){var i=e.exports={AABB:t("./collision/AABB"),AngleLockEquation:t("./equations/AngleLockEquation"),Body:t("./objects/Body"),Broadphase:t("./collision/Broadphase"),Capsule:t("./shapes/Capsule"),Circle:t("./shapes/Circle"),Constraint:t("./constraints/Constraint"),ContactEquation:t("./equations/ContactEquation"),ContactEquationPool:t("./utils/ContactEquationPool"),ContactMaterial:t("./material/ContactMaterial"),Convex:t("./shapes/Convex"),DistanceConstraint:t("./constraints/DistanceConstraint"),Equation:t("./equations/Equation"),EventEmitter:t("./events/EventEmitter"),FrictionEquation:t("./equations/FrictionEquation"),FrictionEquationPool:t("./utils/FrictionEquationPool"),GearConstraint:t("./constraints/GearConstraint"),GSSolver:t("./solver/GSSolver"),Heightfield:t("./shapes/Heightfield"),Line:t("./shapes/Line"),LockConstraint:t("./constraints/LockConstraint"),Material:t("./material/Material"),Narrowphase:t("./collision/Narrowphase"),NaiveBroadphase:t("./collision/NaiveBroadphase"),Particle:t("./shapes/Particle"),Plane:t("./shapes/Plane"),Pool:t("./utils/Pool"),RevoluteConstraint:t("./constraints/RevoluteConstraint"),PrismaticConstraint:t("./constraints/PrismaticConstraint"),Ray:t("./collision/Ray"),RaycastResult:t("./collision/RaycastResult"),Box:t("./shapes/Box"),RotationalVelocityEquation:t("./equations/RotationalVelocityEquation"),SAPBroadphase:t("./collision/SAPBroadphase"),Shape:t("./shapes/Shape"),Solver:t("./solver/Solver"),Spring:t("./objects/Spring"),TopDownVehicle:t("./objects/TopDownVehicle"),LinearSpring:t("./objects/LinearSpring"),RotationalSpring:t("./objects/RotationalSpring"),Utils:t("./utils/Utils"),World:t("./world/World"),vec2:t("./math/vec2"),version:t("../package.json").version};Object.defineProperty(i,"Rectangle",{get:function(){return console.warn("The Rectangle class has been renamed to Box."),this.Box}})},{"../package.json":6,"./collision/AABB":7,"./collision/Broadphase":8,"./collision/NaiveBroadphase":9,"./collision/Narrowphase":10,"./collision/Ray":11,"./collision/RaycastResult":12,"./collision/SAPBroadphase":13,"./constraints/Constraint":14,"./constraints/DistanceConstraint":15,"./constraints/GearConstraint":16,"./constraints/LockConstraint":17,"./constraints/PrismaticConstraint":18,"./constraints/RevoluteConstraint":19,"./equations/AngleLockEquation":20,"./equations/ContactEquation":21,"./equations/Equation":22,"./equations/FrictionEquation":23,"./equations/RotationalVelocityEquation":25,"./events/EventEmitter":26,"./material/ContactMaterial":27,"./material/Material":28,"./math/vec2":30,"./objects/Body":31,"./objects/LinearSpring":32,"./objects/RotationalSpring":33,"./objects/Spring":34,"./objects/TopDownVehicle":35,"./shapes/Box":37,"./shapes/Capsule":38,"./shapes/Circle":39,"./shapes/Convex":40,"./shapes/Heightfield":41,"./shapes/Line":42,"./shapes/Particle":43,"./shapes/Plane":44,"./shapes/Shape":45,"./solver/GSSolver":46,"./solver/Solver":47,"./utils/ContactEquationPool":48,"./utils/FrictionEquationPool":49,"./utils/Pool":55,"./utils/Utils":57,"./world/World":61}],37:[function(t,e,o){function i(t){"number"==typeof arguments[0]&&"number"==typeof arguments[1]&&(t={width:arguments[0],height:arguments[1]},console.warn("The Rectangle has been renamed to Box and its constructor signature has changed. Please use the following format: new Box({ width: 1, height: 1, ... })")),t=t||{};var e=this.width=t.width||1,o=this.height=t.height||1,i=[n.fromValues(-e/2,-o/2),n.fromValues(e/2,-o/2),n.fromValues(e/2,o/2),n.fromValues(-e/2,o/2)],r=[n.fromValues(1,0),n.fromValues(0,1)];t.vertices=i,t.axes=r,t.type=s.BOX,a.call(this,t)}var n=t("../math/vec2"),s=t("./Shape"),a=t("./Convex");e.exports=i,(i.prototype=new a).constructor=i,i.prototype.computeMomentOfInertia=function(t){var e=this.width,o=this.height;return t*(o*o+e*e)/12},i.prototype.updateBoundingRadius=function(){var t=this.width,e=this.height;this.boundingRadius=Math.sqrt(t*t+e*e)/2};n.create(),n.create(),n.create(),n.create();i.prototype.computeAABB=function(t,e,o){t.setFromPoints(this.vertices,e,o,0)},i.prototype.updateArea=function(){this.area=this.width*this.height}},{"../math/vec2":30,"./Convex":40,"./Shape":45}],38:[function(t,e,o){function i(t){"number"==typeof arguments[0]&&"number"==typeof arguments[1]&&(t={length:arguments[0],radius:arguments[1]},console.warn("The Capsule constructor signature has changed. Please use the following format: new Capsule({ radius: 1, length: 1 })")),t=t||{},this.length=t.length||1,this.radius=t.radius||1,t.type=n.CAPSULE,n.call(this,t)}var n=t("./Shape"),s=t("../math/vec2");e.exports=i,(i.prototype=new n).constructor=i,i.prototype.computeMomentOfInertia=function(t){var e=this.radius,o=this.length+e,i=2*e;return t*(i*i+o*o)/12},i.prototype.updateBoundingRadius=function(){this.boundingRadius=this.radius+this.length/2},i.prototype.updateArea=function(){this.area=Math.PI*this.radius*this.radius+2*this.radius*this.length};var a=s.create();i.prototype.computeAABB=function(t,e,o){var i=this.radius;s.set(a,this.length/2,0),0!==o&&s.rotate(a,a,o),s.set(t.upperBound,Math.max(a[0]+i,-a[0]+i),Math.max(a[1]+i,-a[1]+i)),s.set(t.lowerBound,Math.min(a[0]-i,-a[0]-i),Math.min(a[1]-i,-a[1]-i)),s.add(t.lowerBound,t.lowerBound,e),s.add(t.upperBound,t.upperBound,e)};var r=s.create(),c=s.create(),h=s.create(),l=s.create(),p=s.fromValues(0,1);i.prototype.raycast=function(t,e,o,i){for(var n=e.from,a=e.to,u=(e.direction,r),d=c,f=h,v=l,y=this.length/2,m=0;m<2;m++){var g=this.radius*(2*m-1);if(s.set(f,-y,g),s.set(v,y,g),s.toGlobalFrame(f,f,o,i),s.toGlobalFrame(v,v,o,i),(q=s.getLineSegmentsIntersectionFraction(n,a,f,v))>=0&&(s.rotate(d,p,i),s.scale(d,d,2*m-1),e.reportIntersection(t,q,d,-1),t.shouldStop(e)))return}for(var A=Math.pow(this.radius,2)+Math.pow(y,2),m=0;m<2;m++){s.set(f,y*(2*m-1),0),s.toGlobalFrame(f,f,o,i);var b=Math.pow(a[0]-n[0],2)+Math.pow(a[1]-n[1],2),E=2*((a[0]-n[0])*(n[0]-f[0])+(a[1]-n[1])*(n[1]-f[1])),B=Math.pow(n[0]-f[0],2)+Math.pow(n[1]-f[1],2)-Math.pow(this.radius,2),q=Math.pow(E,2)-4*b*B;if(!(q<0))if(0===q){if(s.lerp(u,n,a,q),s.squaredDistance(u,o)>A&&(s.sub(d,u,f),s.normalize(d,d),e.reportIntersection(t,q,d,-1),t.shouldStop(e)))return}else{var P=Math.sqrt(q),w=1/(2*b),S=(-E-P)*w,C=(-E+P)*w;if(S>=0&&S<=1&&(s.lerp(u,n,a,S),s.squaredDistance(u,o)>A&&(s.sub(d,u,f),s.normalize(d,d),e.reportIntersection(t,S,d,-1),t.shouldStop(e))))return;if(C>=0&&C<=1&&(s.lerp(u,n,a,C),s.squaredDistance(u,o)>A&&(s.sub(d,u,f),s.normalize(d,d),e.reportIntersection(t,C,d,-1),t.shouldStop(e))))return}}}},{"../math/vec2":30,"./Shape":45}],39:[function(t,e,o){function i(t){"number"==typeof arguments[0]&&(t={radius:arguments[0]},console.warn("The Circle constructor signature has changed. Please use the following format: new Circle({ radius: 1 })")),t=t||{},this.radius=t.radius||1,t.type=n.CIRCLE,n.call(this,t)}var n=t("./Shape"),s=t("../math/vec2");e.exports=i,(i.prototype=new n).constructor=i,i.prototype.computeMomentOfInertia=function(t){var e=this.radius;return t*e*e/2},i.prototype.updateBoundingRadius=function(){this.boundingRadius=this.radius},i.prototype.updateArea=function(){this.area=Math.PI*this.radius*this.radius},i.prototype.computeAABB=function(t,e,o){var i=this.radius;s.set(t.upperBound,i,i),s.set(t.lowerBound,-i,-i),e&&(s.add(t.lowerBound,t.lowerBound,e),s.add(t.upperBound,t.upperBound,e))};var a=s.create(),r=s.create();i.prototype.raycast=function(t,e,o,i){var n=e.from,c=e.to,h=this.radius,l=Math.pow(c[0]-n[0],2)+Math.pow(c[1]-n[1],2),p=2*((c[0]-n[0])*(n[0]-o[0])+(c[1]-n[1])*(n[1]-o[1])),u=Math.pow(n[0]-o[0],2)+Math.pow(n[1]-o[1],2)-Math.pow(h,2),d=Math.pow(p,2)-4*l*u,f=a,v=r;if(!(d<0))if(0===d)s.lerp(f,n,c,d),s.sub(v,f,o),s.normalize(v,v),e.reportIntersection(t,d,v,-1);else{var y=Math.sqrt(d),m=1/(2*l),g=(-p-y)*m,A=(-p+y)*m;if(g>=0&&g<=1&&(s.lerp(f,n,c,g),s.sub(v,f,o),s.normalize(v,v),e.reportIntersection(t,g,v,-1),t.shouldStop(e)))return;A>=0&&A<=1&&(s.lerp(f,n,c,A),s.sub(v,f,o),s.normalize(v,v),e.reportIntersection(t,A,v,-1))}}},{"../math/vec2":30,"./Shape":45}],40:[function(t,e,o){function i(t){Array.isArray(arguments[0])&&(t={vertices:arguments[0],axes:arguments[1]},console.warn("The Convex constructor signature has changed. Please use the following format: new Convex({ vertices: [...], ... })")),t=t||{},this.vertices=[];for(var e=void 0!==t.vertices?t.vertices:[],o=0;o<e.length;o++){var i=s.create();s.copy(i,e[o]),this.vertices.push(i)}if(this.axes=[],t.axes)for(o=0;o<t.axes.length;o++){var a=s.create();s.copy(a,t.axes[o]),this.axes.push(a)}else for(o=0;o<this.vertices.length;o++){var r=this.vertices[o],c=this.vertices[(o+1)%this.vertices.length],h=s.create();s.sub(h,c,r),s.rotate90cw(h,h),s.normalize(h,h),this.axes.push(h)}if(this.centerOfMass=s.fromValues(0,0),this.triangles=[],this.vertices.length&&(this.updateTriangles(),this.updateCenterOfMass()),this.boundingRadius=0,t.type=n.CONVEX,n.call(this,t),this.updateBoundingRadius(),this.updateArea(),this.area<0)throw new Error("Convex vertices must be given in conter-clockwise winding.")}var n=t("./Shape"),s=t("../math/vec2"),a=t("../math/polyk");t("poly-decomp");e.exports=i,(i.prototype=new n).constructor=i;var r=s.create(),c=s.create();i.prototype.projectOntoLocalAxis=function(t,e){for(var o,i,n=null,a=null,t=r,c=0;c<this.vertices.length;c++)o=this.vertices[c],i=s.dot(o,t),(null===n||i>n)&&(n=i),(null===a||i<a)&&(a=i);if(a>n){var h=a;a=n,n=h}s.set(e,a,n)},i.prototype.projectOntoWorldAxis=function(t,e,o,i){var n=c;this.projectOntoLocalAxis(t,i),0!==o?s.rotate(n,t,o):n=t;var a=s.dot(e,n);s.set(i,i[0]+a,i[1]+a)},i.prototype.updateTriangles=function(){this.triangles.length=0;for(var t=[],e=0;e<this.vertices.length;e++){var o=this.vertices[e];t.push(o[0],o[1])}for(var i=a.Triangulate(t),e=0;e<i.length;e+=3){var n=i[e],s=i[e+1],r=i[e+2];this.triangles.push([n,s,r])}};var h=s.create(),l=s.create(),p=s.create(),u=s.create(),d=s.create();s.create(),s.create(),s.create(),s.create();i.prototype.updateCenterOfMass=function(){var t=this.triangles,e=this.vertices,o=this.centerOfMass,n=h,a=p,r=u,c=d,f=l;s.set(o,0,0);for(var v=0,y=0;y!==t.length;y++){var m=t[y],a=e[m[0]],r=e[m[1]],c=e[m[2]];s.centroid(n,a,r,c);var g=i.triangleArea(a,r,c);v+=g,s.scale(f,n,g),s.add(o,o,f)}s.scale(o,o,1/v)},i.prototype.computeMomentOfInertia=function(t){for(var e=0,o=0,i=this.vertices.length,n=i-1,a=0;a<i;n=a,a++){var r=this.vertices[n],c=this.vertices[a],h=Math.abs(s.crossLength(r,c));e+=h*(s.dot(c,c)+s.dot(c,r)+s.dot(r,r)),o+=h}return t/6*(e/o)},i.prototype.updateBoundingRadius=function(){for(var t=this.vertices,e=0,o=0;o!==t.length;o++){var i=s.squaredLength(t[o]);i>e&&(e=i)}this.boundingRadius=Math.sqrt(e)},i.triangleArea=function(t,e,o){return.5*((e[0]-t[0])*(o[1]-t[1])-(o[0]-t[0])*(e[1]-t[1]))},i.prototype.updateArea=function(){this.updateTriangles(),this.area=0;for(var t=this.triangles,e=this.vertices,o=0;o!==t.length;o++){var n=t[o],s=e[n[0]],a=e[n[1]],r=e[n[2]],c=i.triangleArea(s,a,r);this.area+=c}},i.prototype.computeAABB=function(t,e,o){t.setFromPoints(this.vertices,e,o,0)};var f=s.create(),v=s.create(),y=s.create();i.prototype.raycast=function(t,e,o,i){var n=f,a=v,r=y,c=this.vertices;s.toLocalFrame(n,e.from,o,i),s.toLocalFrame(a,e.to,o,i);for(var h=c.length,l=0;l<h&&!t.shouldStop(e);l++){var p=c[l],u=c[(l+1)%h],d=s.getLineSegmentsIntersectionFraction(n,a,p,u);d>=0&&(s.sub(r,u,p),s.rotate(r,r,-Math.PI/2+i),s.normalize(r,r),e.reportIntersection(t,d,r,l))}}},{"../math/polyk":29,"../math/vec2":30,"./Shape":45,"poly-decomp":5}],41:[function(t,e,o){function i(t){if(Array.isArray(arguments[0])){if(t={heights:arguments[0]},"object"==typeof arguments[1])for(var e in arguments[1])t[e]=arguments[1][e];console.warn("The Heightfield constructor signature has changed. Please use the following format: new Heightfield({ heights: [...], ... })")}t=t||{},this.heights=t.heights?t.heights.slice(0):[],this.maxValue=t.maxValue||null,this.minValue=t.minValue||null,this.elementWidth=t.elementWidth||.1,void 0!==t.maxValue&&void 0!==t.minValue||this.updateMaxMinValues(),t.type=n.HEIGHTFIELD,n.call(this,t)}var n=t("./Shape"),s=t("../math/vec2");t("../utils/Utils");e.exports=i,(i.prototype=new n).constructor=i,i.prototype.updateMaxMinValues=function(){for(var t=this.heights,e=t[0],o=t[0],i=0;i!==t.length;i++){var n=t[i];n>e&&(e=n),n<o&&(o=n)}this.maxValue=e,this.minValue=o},i.prototype.computeMomentOfInertia=function(t){return Number.MAX_VALUE},i.prototype.updateBoundingRadius=function(){this.boundingRadius=Number.MAX_VALUE},i.prototype.updateArea=function(){for(var t=this.heights,e=0,o=0;o<t.length-1;o++)e+=(t[o]+t[o+1])/2*this.elementWidth;this.area=e};var a=[s.create(),s.create(),s.create(),s.create()];i.prototype.computeAABB=function(t,e,o){s.set(a[0],0,this.maxValue),s.set(a[1],this.elementWidth*this.heights.length,this.maxValue),s.set(a[2],this.elementWidth*this.heights.length,this.minValue),s.set(a[3],0,this.minValue),t.setFromPoints(a,e,o)},i.prototype.getLineSegment=function(t,e,o){var i=this.heights,n=this.elementWidth;s.set(t,o*n,i[o]),s.set(e,(o+1)*n,i[o+1])},i.prototype.getSegmentIndex=function(t){return Math.floor(t[0]/this.elementWidth)},i.prototype.getClampedSegmentIndex=function(t){var e=this.getSegmentIndex(t);return e=Math.min(this.heights.length,Math.max(e,0))};s.create();var r=s.create(),c=s.create(),h=s.create(),l=s.create(),p=s.create();s.fromValues(0,1);i.prototype.raycast=function(t,e,o,i){var n=e.from,a=e.to,u=(e.direction,r),d=c,f=h,v=l,y=p;s.toLocalFrame(v,n,o,i),s.toLocalFrame(y,a,o,i);var m=this.getClampedSegmentIndex(v),g=this.getClampedSegmentIndex(y);if(m>g){var A=m;m=g,g=A}for(var b=0;b<this.heights.length-1;b++){this.getLineSegment(d,f,b);var E=s.getLineSegmentsIntersectionFraction(v,y,d,f);if(E>=0&&(s.sub(u,f,d),s.rotate(u,u,i+Math.PI/2),s.normalize(u,u),e.reportIntersection(t,E,u,-1),t.shouldStop(e)))return}}},{"../math/vec2":30,"../utils/Utils":57,"./Shape":45}],42:[function(t,e,o){function i(t){"number"==typeof arguments[0]&&(t={length:arguments[0]},console.warn("The Line constructor signature has changed. Please use the following format: new Line({ length: 1, ... })")),t=t||{},this.length=t.length||1,t.type=n.LINE,n.call(this,t)}var n=t("./Shape"),s=t("../math/vec2");e.exports=i,(i.prototype=new n).constructor=i,i.prototype.computeMomentOfInertia=function(t){return t*Math.pow(this.length,2)/12},i.prototype.updateBoundingRadius=function(){this.boundingRadius=this.length/2};var a=[s.create(),s.create()];i.prototype.computeAABB=function(t,e,o){var i=this.length/2;s.set(a[0],-i,0),s.set(a[1],i,0),t.setFromPoints(a,e,o,0)};s.create();var r=s.create(),c=s.create(),h=s.create(),l=s.fromValues(0,1);i.prototype.raycast=function(t,e,o,i){var n=e.from,a=e.to,p=c,u=h,d=this.length/2;s.set(p,-d,0),s.set(u,d,0),s.toGlobalFrame(p,p,o,i),s.toGlobalFrame(u,u,o,i);var f=s.getLineSegmentsIntersectionFraction(p,u,n,a);if(f>=0){var v=r;s.rotate(v,l,i),e.reportIntersection(t,f,v,-1)}}},{"../math/vec2":30,"./Shape":45}],43:[function(t,e,o){function i(t){(t=t||{}).type=n.PARTICLE,n.call(this,t)}var n=t("./Shape"),s=t("../math/vec2");e.exports=i,(i.prototype=new n).constructor=i,i.prototype.computeMomentOfInertia=function(t){return 0},i.prototype.updateBoundingRadius=function(){this.boundingRadius=0},i.prototype.computeAABB=function(t,e,o){s.copy(t.lowerBound,e),s.copy(t.upperBound,e)}},{"../math/vec2":30,"./Shape":45}],44:[function(t,e,o){function i(t){(t=t||{}).type=n.PLANE,n.call(this,t)}var n=t("./Shape"),s=t("../math/vec2");t("../utils/Utils");e.exports=i,(i.prototype=new n).constructor=i,i.prototype.computeMomentOfInertia=function(t){return 0},i.prototype.updateBoundingRadius=function(){this.boundingRadius=Number.MAX_VALUE},i.prototype.computeAABB=function(t,e,o){var i=o%(2*Math.PI),n=s.set,a=t.lowerBound,r=t.upperBound;n(a,-1e7,-1e7),n(r,1e7,1e7),0===i?r[1]=0:i===Math.PI/2?a[0]=0:i===Math.PI?a[1]=0:i===3*Math.PI/2&&(r[0]=0)},i.prototype.updateArea=function(){this.area=Number.MAX_VALUE};var a=s.create(),r=(s.create(),s.create(),s.create()),c=s.create();i.prototype.raycast=function(t,e,o,i){var n=e.from,h=e.to,l=e.direction,p=a,u=r,d=c;s.set(u,0,1),s.rotate(u,u,i),s.sub(d,n,o);var f=s.dot(d,u);if(s.sub(d,h,o),!(f*s.dot(d,u)>0||s.squaredDistance(n,h)<f*f)){var v=s.dot(u,l);s.sub(p,n,o);var y=-s.dot(u,p)/v/e.length;e.reportIntersection(t,y,u,-1)}}},{"../math/vec2":30,"../utils/Utils":57,"./Shape":45}],45:[function(t,e,o){function i(t){t=t||{},this.body=null,this.position=n.fromValues(0,0),t.position&&n.copy(this.position,t.position),this.angle=t.angle||0,this.type=t.type||0,this.id=i.idCounter++,this.boundingRadius=0,this.collisionGroup=void 0!==t.collisionGroup?t.collisionGroup:1,this.collisionResponse=void 0===t.collisionResponse||t.collisionResponse,this.collisionMask=void 0!==t.collisionMask?t.collisionMask:1,this.material=t.material||null,this.area=0,this.sensor=void 0!==t.sensor&&t.sensor,this.type&&this.updateBoundingRadius(),this.updateArea()}e.exports=i;var n=t("../math/vec2");i.idCounter=0,i.CIRCLE=1,i.PARTICLE=2,i.PLANE=4,i.CONVEX=8,i.LINE=16,i.BOX=32,Object.defineProperty(i,"RECTANGLE",{get:function(){return console.warn("Shape.RECTANGLE is deprecated, use Shape.BOX instead."),i.BOX}}),i.CAPSULE=64,i.HEIGHTFIELD=128,i.prototype.computeMomentOfInertia=function(t){},i.prototype.updateBoundingRadius=function(){},i.prototype.updateArea=function(){},i.prototype.computeAABB=function(t,e,o){},i.prototype.raycast=function(t,e,o,i){}},{"../math/vec2":30}],46:[function(t,e,o){function i(t){a.call(this,t,a.GS),t=t||{},this.iterations=t.iterations||10,this.tolerance=t.tolerance||1e-7,this.arrayStep=30,this.lambda=new r.ARRAY_TYPE(this.arrayStep),this.Bs=new r.ARRAY_TYPE(this.arrayStep),this.invCs=new r.ARRAY_TYPE(this.arrayStep),this.useZeroRHS=!1,this.frictionIterations=void 0!==t.frictionIterations?0:t.frictionIterations,this.usedIterations=0}function n(t){for(var e=t.length;e--;)t[e]=0}var s=t("../math/vec2"),a=t("./Solver"),r=t("../utils/Utils"),c=t("../equations/FrictionEquation");e.exports=i,(i.prototype=new a).constructor=i,i.prototype.solve=function(t,e){this.sortEquations();var o=0,a=this.iterations,h=this.frictionIterations,l=this.equations,p=l.length,u=Math.pow(this.tolerance*p,2),d=e.bodies,f=e.bodies.length,v=(s.add,s.set,this.useZeroRHS),y=this.lambda;if(this.usedIterations=0,p)for(A=0;A!==f;A++)(q=d[A]).updateSolveMassProperties();y.length<p&&(y=this.lambda=new r.ARRAY_TYPE(p+this.arrayStep),this.Bs=new r.ARRAY_TYPE(p+this.arrayStep),this.invCs=new r.ARRAY_TYPE(p+this.arrayStep)),n(y);for(var m=this.invCs,g=this.Bs,y=this.lambda,A=0;A!==l.length;A++)((b=l[A]).timeStep!==t||b.needsUpdate)&&(b.timeStep=t,b.update()),g[A]=b.computeB(b.a,b.b,t),m[A]=b.computeInvC(b.epsilon);var b,E,B;if(0!==p){for(A=0;A!==f;A++){var q=d[A];q.resetConstraintVelocity()}if(h){for(o=0;o!==h;o++){for(E=0,B=0;B!==p;B++){b=l[B];C=i.iterateEquation(B,b,b.epsilon,g,m,y,v,t,o);E+=Math.abs(C)}if(this.usedIterations++,E*E<=u)break}for(i.updateMultipliers(l,y,1/t),B=0;B!==p;B++){var P=l[B];if(P instanceof c){for(var w=0,S=0;S!==P.contactEquations.length;S++)w+=P.contactEquations[S].multiplier;w*=P.frictionCoefficient/P.contactEquations.length,P.maxForce=w,P.minForce=-w}}}for(o=0;o!==a;o++){for(E=0,B=0;B!==p;B++){b=l[B];var C=i.iterateEquation(B,b,b.epsilon,g,m,y,v,t,o);E+=Math.abs(C)}if(this.usedIterations++,E*E<=u)break}for(A=0;A!==f;A++)d[A].addConstraintVelocity();i.updateMultipliers(l,y,1/t)}},i.updateMultipliers=function(t,e,o){for(var i=t.length;i--;)t[i].multiplier=e[i]*o},i.iterateEquation=function(t,e,o,i,n,s,a,r,c){var h=i[t],l=n[t],p=s[t],u=e.computeGWlambda(),d=e.maxForce,f=e.minForce;a&&(h=0);var v=l*(h-u-o*p),y=p+v;return y<f*r?v=f*r-p:y>d*r&&(v=d*r-p),s[t]+=v,e.addToWlambda(v),v}},{"../equations/FrictionEquation":23,"../math/vec2":30,"../utils/Utils":57,"./Solver":47}],47:[function(t,e,o){function i(t,e){t=t||{},n.call(this),this.type=e,this.equations=[],this.equationSortFunction=t.equationSortFunction||!1}t("../utils/Utils");var n=t("../events/EventEmitter");e.exports=i,(i.prototype=new n).constructor=i,i.prototype.solve=function(t,e){throw new Error("Solver.solve should be implemented by subclasses!")};var s={bodies:[]};i.prototype.solveIsland=function(t,e){this.removeAllEquations(),e.equations.length&&(this.addEquations(e.equations),s.bodies.length=0,e.getBodies(s.bodies),s.bodies.length&&this.solve(t,s))},i.prototype.sortEquations=function(){this.equationSortFunction&&this.equations.sort(this.equationSortFunction)},i.prototype.addEquation=function(t){t.enabled&&this.equations.push(t)},i.prototype.addEquations=function(t){for(var e=0,o=t.length;e!==o;e++){var i=t[e];i.enabled&&this.equations.push(i)}},i.prototype.removeEquation=function(t){var e=this.equations.indexOf(t);-1!==e&&this.equations.splice(e,1)},i.prototype.removeAllEquations=function(){this.equations.length=0},i.GS=1,i.ISLAND=2},{"../events/EventEmitter":26,"../utils/Utils":57}],48:[function(t,e,o){function i(){s.apply(this,arguments)}var n=t("../equations/ContactEquation"),s=t("./Pool");e.exports=i,(i.prototype=new s).constructor=i,i.prototype.create=function(){return new n},i.prototype.destroy=function(t){return t.bodyA=t.bodyB=null,this}},{"../equations/ContactEquation":21,"./Pool":55}],49:[function(t,e,o){function i(){s.apply(this,arguments)}var n=t("../equations/FrictionEquation"),s=t("./Pool");e.exports=i,(i.prototype=new s).constructor=i,i.prototype.create=function(){return new n},i.prototype.destroy=function(t){return t.bodyA=t.bodyB=null,this}},{"../equations/FrictionEquation":23,"./Pool":55}],50:[function(t,e,o){function i(){s.apply(this,arguments)}var n=t("../world/IslandNode"),s=t("./Pool");e.exports=i,(i.prototype=new s).constructor=i,i.prototype.create=function(){return new n},i.prototype.destroy=function(t){return t.reset(),this}},{"../world/IslandNode":60,"./Pool":55}],51:[function(t,e,o){function i(){s.apply(this,arguments)}var n=t("../world/Island"),s=t("./Pool");e.exports=i,(i.prototype=new s).constructor=i,i.prototype.create=function(){return new n},i.prototype.destroy=function(t){return t.reset(),this}},{"../world/Island":58,"./Pool":55}],52:[function(t,e,o){function i(){this.overlappingShapesLastState=new n,this.overlappingShapesCurrentState=new n,this.recordPool=new s({size:16}),this.tmpDict=new n,this.tmpArray1=[]}var n=t("./TupleDictionary"),s=(t("./OverlapKeeperRecord"),t("./OverlapKeeperRecordPool"));t("./Utils");e.exports=i,i.prototype.tick=function(){for(var t=this.overlappingShapesLastState,e=this.overlappingShapesCurrentState,o=t.keys.length;o--;){var i=t.keys[o],n=t.getByKey(i);e.getByKey(i);n&&this.recordPool.release(n)}t.reset(),t.copy(e),e.reset()},i.prototype.setOverlapping=function(t,e,o,i){this.overlappingShapesLastState;var n=this.overlappingShapesCurrentState;if(!n.get(e.id,i.id)){var s=this.recordPool.get();s.set(t,e,o,i),n.set(e.id,i.id,s)}},i.prototype.getNewOverlaps=function(t){return this.getDiff(this.overlappingShapesLastState,this.overlappingShapesCurrentState,t)},i.prototype.getEndOverlaps=function(t){return this.getDiff(this.overlappingShapesCurrentState,this.overlappingShapesLastState,t)},i.prototype.bodiesAreOverlapping=function(t,e){for(var o=this.overlappingShapesCurrentState,i=o.keys.length;i--;){var n=o.keys[i],s=o.data[n];if(s.bodyA===t&&s.bodyB===e||s.bodyA===e&&s.bodyB===t)return!0}return!1},i.prototype.getDiff=function(t,e,o){var i=t,n=e;(o=o||[]).length=0;for(var s=n.keys.length;s--;){var a=n.keys[s],r=n.data[a];if(!r)throw new Error("Key "+a+" had no data!");i.data[a]||o.push(r)}return o},i.prototype.isNewOverlap=function(t,e){var o=0|t.id,i=0|e.id,n=this.overlappingShapesLastState,s=this.overlappingShapesCurrentState;return!n.get(o,i)&&!!s.get(o,i)},i.prototype.getNewBodyOverlaps=function(t){this.tmpArray1.length=0;var e=this.getNewOverlaps(this.tmpArray1);return this.getBodyDiff(e,t)},i.prototype.getEndBodyOverlaps=function(t){this.tmpArray1.length=0;var e=this.getEndOverlaps(this.tmpArray1);return this.getBodyDiff(e,t)},i.prototype.getBodyDiff=function(t,e){e=e||[];for(var o=this.tmpDict,i=t.length;i--;){var n=t[i];o.set(0|n.bodyA.id,0|n.bodyB.id,n)}for(i=o.keys.length;i--;)(n=o.getByKey(o.keys[i]))&&e.push(n.bodyA,n.bodyB);return o.reset(),e}},{"./OverlapKeeperRecord":53,"./OverlapKeeperRecordPool":54,"./TupleDictionary":56,"./Utils":57}],53:[function(t,e,o){function i(t,e,o,i){this.shapeA=e,this.shapeB=i,this.bodyA=t,this.bodyB=o}e.exports=i,i.prototype.set=function(t,e,o,n){i.call(this,t,e,o,n)}},{}],54:[function(t,e,o){function i(){s.apply(this,arguments)}var n=t("./OverlapKeeperRecord"),s=t("./Pool");e.exports=i,(i.prototype=new s).constructor=i,i.prototype.create=function(){return new n},i.prototype.destroy=function(t){return t.bodyA=t.bodyB=t.shapeA=t.shapeB=null,this}},{"./OverlapKeeperRecord":53,"./Pool":55}],55:[function(t,e,o){function i(t){t=t||{},this.objects=[],void 0!==t.size&&this.resize(t.size)}e.exports=i,i.prototype.resize=function(t){for(var e=this.objects;e.length>t;)e.pop();for(;e.length<t;)e.push(this.create());return this},i.prototype.get=function(){var t=this.objects;return t.length?t.pop():this.create()},i.prototype.release=function(t){return this.destroy(t),this.objects.push(t),this}},{}],56:[function(t,e,o){function i(){this.data={},this.keys=[]}var n=t("./Utils");e.exports=i,i.prototype.getKey=function(t,e){return t|=0,e|=0,(0|t)==(0|e)?-1:0|((0|t)>(0|e)?t<<16|65535&e:e<<16|65535&t)},i.prototype.getByKey=function(t){return t|=0,this.data[t]},i.prototype.get=function(t,e){return this.data[this.getKey(t,e)]},i.prototype.set=function(t,e,o){if(!o)throw new Error("No data!");var i=this.getKey(t,e);return this.data[i]||this.keys.push(i),this.data[i]=o,i},i.prototype.reset=function(){for(var t=this.data,e=this.keys,o=e.length;o--;)delete t[e[o]];e.length=0},i.prototype.copy=function(t){this.reset(),n.appendArray(this.keys,t.keys);for(var e=t.keys.length;e--;){var o=t.keys[e];this.data[o]=t.data[o]}}},{"./Utils":57}],57:[function(t,e,o){function i(){}e.exports=i,i.appendArray=function(t,e){if(e.length<15e4)t.push.apply(t,e);else for(var o=0,i=e.length;o!==i;++o)t.push(e[o])},i.splice=function(t,e,o){o=o||1;for(var i=e,n=t.length-o;i<n;i++)t[i]=t[i+o];t.length=n},i.ARRAY_TYPE="undefined"!=typeof P2_ARRAY_TYPE?P2_ARRAY_TYPE:"undefined"!=typeof Float32Array?Float32Array:Array,i.extend=function(t,e){for(var o in e)t[o]=e[o]},i.defaults=function(t,e){t=t||{};for(var o in e)o in t||(t[o]=e[o]);return t}},{}],58:[function(t,e,o){function i(){this.equations=[],this.bodies=[]}var n=t("../objects/Body");e.exports=i,i.prototype.reset=function(){this.equations.length=this.bodies.length=0};var s=[];i.prototype.getBodies=function(t){var e=t||[],o=this.equations;s.length=0;for(var i=0;i!==o.length;i++){var n=o[i];-1===s.indexOf(n.bodyA.id)&&(e.push(n.bodyA),s.push(n.bodyA.id)),-1===s.indexOf(n.bodyB.id)&&(e.push(n.bodyB),s.push(n.bodyB.id))}return e},i.prototype.wantsToSleep=function(){for(var t=0;t<this.bodies.length;t++){var e=this.bodies[t];if(e.type===n.DYNAMIC&&!e.wantsToSleep)return!1}return!0},i.prototype.sleep=function(){for(var t=0;t<this.bodies.length;t++)this.bodies[t].sleep();return!0}},{"../objects/Body":31}],59:[function(t,e,o){function i(t){this.nodePool=new n({size:16}),this.islandPool=new s({size:8}),this.equations=[],this.islands=[],this.nodes=[],this.queue=[]}t("../math/vec2"),t("./Island"),t("./IslandNode");var n=t("./../utils/IslandNodePool"),s=t("./../utils/IslandPool"),a=t("../objects/Body");e.exports=i,i.getUnvisitedNode=function(t){for(var e=t.length,o=0;o!==e;o++){var i=t[o];if(!i.visited&&i.body.type===a.DYNAMIC)return i}return!1},i.prototype.visit=function(t,e,o){e.push(t.body);for(var i=t.equations.length,n=0;n!==i;n++){var s=t.equations[n];-1===o.indexOf(s)&&o.push(s)}},i.prototype.bfs=function(t,e,o){var n=this.queue;for(n.length=0,n.push(t),t.visited=!0,this.visit(t,e,o);n.length;)for(var s,r=n.pop();s=i.getUnvisitedNode(r.neighbors);)s.visited=!0,this.visit(s,e,o),s.body.type===a.DYNAMIC&&n.push(s)},i.prototype.split=function(t){for(var e=t.bodies,o=this.nodes,n=this.equations;o.length;)this.nodePool.release(o.pop());for(c=0;c!==e.length;c++){var s=this.nodePool.get();s.body=e[c],o.push(s)}for(var a=0;a!==n.length;a++){var r=n[a],c=e.indexOf(r.bodyA),h=e.indexOf(r.bodyB),l=o[c],p=o[h];l.neighbors.push(p),p.neighbors.push(l),l.equations.push(r),p.equations.push(r)}for(var u=this.islands,c=0;c<u.length;c++)this.islandPool.release(u[c]);u.length=0;for(var d;d=i.getUnvisitedNode(o);){var f=this.islandPool.get();this.bfs(d,f.bodies,f.equations),u.push(f)}return u}},{"../math/vec2":30,"../objects/Body":31,"./../utils/IslandNodePool":50,"./../utils/IslandPool":51,"./Island":58,"./IslandNode":60}],60:[function(t,e,o){function i(t){this.body=t,this.neighbors=[],this.equations=[],this.visited=!1}e.exports=i,i.prototype.reset=function(){this.equations.length=0,this.neighbors.length=0,this.visited=!1,this.body=null}},{}],61:[function(t,e,o){function i(t){p.apply(this),t=t||{},this.springs=[],this.bodies=[],this.disabledBodyCollisionPairs=[],this.solver=t.solver||new n,this.narrowphase=new m(this),this.islandManager=new b,this.gravity=s.fromValues(0,-9.78),t.gravity&&s.copy(this.gravity,t.gravity),this.frictionGravity=s.length(this.gravity)||10,this.useWorldGravityAsFrictionGravity=!0,this.useFrictionGravityOnZeroGravity=!0,this.broadphase=t.broadphase||new y,this.broadphase.setWorld(this),this.constraints=[],this.defaultMaterial=new d,this.defaultContactMaterial=new f(this.defaultMaterial,this.defaultMaterial),this.lastTimeStep=1/60,this.applySpringForces=!0,this.applyDamping=!0,this.applyGravity=!0,this.solveConstraints=!0,this.contactMaterials=[],this.time=0,this.accumulator=0,this.stepping=!1,this.bodiesToBeRemoved=[],this.islandSplit=void 0===t.islandSplit||!!t.islandSplit,this.emitImpactEvent=!0,this._constraintIdCounter=0,this._bodyIdCounter=0,this.postStepEvent={type:"postStep"},this.addBodyEvent={type:"addBody",body:null},this.removeBodyEvent={type:"removeBody",body:null},this.addSpringEvent={type:"addSpring",spring:null},this.impactEvent={type:"impact",bodyA:null,bodyB:null,shapeA:null,shapeB:null,contactEquation:null},this.postBroadphaseEvent={type:"postBroadphase",pairs:null},this.sleepMode=i.NO_SLEEPING,this.beginContactEvent={type:"beginContact",shapeA:null,shapeB:null,bodyA:null,bodyB:null,contactEquations:[]},this.endContactEvent={type:"endContact",shapeA:null,shapeB:null,bodyA:null,bodyB:null},this.preSolveEvent={type:"preSolve",contactEquations:null,frictionEquations:null},this.overlappingShapesLastState={keys:[]},this.overlappingShapesCurrentState={keys:[]},this.overlapKeeper=new A}var n=t("../solver/GSSolver"),s=(t("../solver/Solver"),t("../collision/Ray"),t("../math/vec2")),a=t("../shapes/Circle"),r=t("../shapes/Convex"),c=(t("../shapes/Line"),t("../shapes/Plane")),h=t("../shapes/Capsule"),l=t("../shapes/Particle"),p=t("../events/EventEmitter"),u=t("../objects/Body"),d=(t("../shapes/Shape"),t("../objects/LinearSpring"),t("../material/Material")),f=t("../material/ContactMaterial"),v=(t("../constraints/DistanceConstraint"),t("../constraints/Constraint"),t("../constraints/LockConstraint"),t("../constraints/RevoluteConstraint"),t("../constraints/PrismaticConstraint"),t("../constraints/GearConstraint"),t("../../package.json"),t("../collision/Broadphase"),t("../collision/AABB")),y=t("../collision/SAPBroadphase"),m=t("../collision/Narrowphase"),g=t("../utils/Utils"),A=t("../utils/OverlapKeeper"),b=t("./IslandManager");t("../objects/RotationalSpring");e.exports=i,i.prototype=new Object(p.prototype),i.prototype.constructor=i,i.NO_SLEEPING=1,i.BODY_SLEEPING=2,i.ISLAND_SLEEPING=4,i.prototype.addConstraint=function(t){this.constraints.push(t)},i.prototype.addContactMaterial=function(t){this.contactMaterials.push(t)},i.prototype.removeContactMaterial=function(t){var e=this.contactMaterials.indexOf(t);-1!==e&&g.splice(this.contactMaterials,e,1)},i.prototype.getContactMaterial=function(t,e){for(var o=this.contactMaterials,i=0,n=o.length;i!==n;i++){var s=o[i];if(s.materialA.id===t.id&&s.materialB.id===e.id||s.materialA.id===e.id&&s.materialB.id===t.id)return s}return!1},i.prototype.removeConstraint=function(t){var e=this.constraints.indexOf(t);-1!==e&&g.splice(this.constraints,e,1)};s.create(),s.create(),s.create(),s.create(),s.create(),s.create();var E=s.create(),B=s.fromValues(0,0),q=s.fromValues(0,0);s.fromValues(0,0),s.fromValues(0,0);i.prototype.step=function(t,e,o){if(o=o||10,0===(e=e||0))this.internalStep(t),this.time+=t;else{this.accumulator+=e;for(var i=0;this.accumulator>=t&&i<o;)this.internalStep(t),this.time+=t,this.accumulator-=t,i++;for(var n=this.accumulator%t/t,a=0;a!==this.bodies.length;a++){var r=this.bodies[a];s.lerp(r.interpolatedPosition,r.previousPosition,r.position,n),r.interpolatedAngle=r.previousAngle+n*(r.angle-r.previousAngle)}}};var P=[];i.prototype.internalStep=function(t){this.stepping=!0;var e=this.springs.length,o=this.springs,n=this.bodies,a=this.gravity,r=this.solver,c=this.bodies.length,h=this.broadphase,l=this.narrowphase,p=this.constraints,d=E,f=(s.scale,s.add),v=(s.rotate,this.islandManager);if(this.overlapKeeper.tick(),this.lastTimeStep=t,this.useWorldGravityAsFrictionGravity){var y=s.length(this.gravity);0===y&&this.useFrictionGravityOnZeroGravity||(this.frictionGravity=y)}if(this.applyGravity)for(q=0;q!==c;q++){var m=(A=n[q]).force;A.type===u.DYNAMIC&&A.sleepState!==u.SLEEPING&&(s.scale(d,a,A.mass*A.gravityScale),f(m,m,d))}if(this.applySpringForces)for(q=0;q!==e;q++)o[q].applyForce();if(this.applyDamping)for(q=0;q!==c;q++){var A=n[q];A.type===u.DYNAMIC&&A.applyDamping(t)}for(var b=h.getCollisionPairs(this),B=this.disabledBodyCollisionPairs,q=B.length-2;q>=0;q-=2)for(S=b.length-2;S>=0;S-=2)(B[q]===b[S]&&B[q+1]===b[S+1]||B[q+1]===b[S]&&B[q]===b[S+1])&&b.splice(S,2);X=p.length;for(q=0;q!==X;q++){var w=p[q];if(!w.collideConnected)for(var S=b.length-2;S>=0;S-=2)(w.bodyA===b[S]&&w.bodyB===b[S+1]||w.bodyB===b[S]&&w.bodyA===b[S+1])&&b.splice(S,2)}this.postBroadphaseEvent.pairs=b,this.emit(this.postBroadphaseEvent),this.postBroadphaseEvent.pairs=null,l.reset(this);for(var q=0,C=b.length;q!==C;q+=2)for(var L=b[q],x=b[q+1],F=0,M=L.shapes.length;F!==M;F++)for(var I=L.shapes[F],R=I.position,V=I.angle,T=0,N=x.shapes.length;T!==N;T++){var G=x.shapes[T],O=G.position,U=G.angle,k=this.defaultContactMaterial;if(I.material&&G.material){var _=this.getContactMaterial(I.material,G.material);_&&(k=_)}this.runNarrowphase(l,L,I,R,V,x,G,O,U,k,this.frictionGravity)}for(q=0;q!==c;q++)(z=n[q])._wakeUpAfterNarrowphase&&(z.wakeUp(),z._wakeUpAfterNarrowphase=!1);if(this.has("endContact")){this.overlapKeeper.getEndOverlaps(P);for(var D=this.endContactEvent,T=P.length;T--;){var W=P[T];D.shapeA=W.shapeA,D.shapeB=W.shapeB,D.bodyA=W.bodyA,D.bodyB=W.bodyB,this.emit(D)}P.length=0}var j=this.preSolveEvent;j.contactEquations=l.contactEquations,j.frictionEquations=l.frictionEquations,this.emit(j),j.contactEquations=j.frictionEquations=null;var X=p.length;for(q=0;q!==X;q++)p[q].update();if(l.contactEquations.length||l.frictionEquations.length||X)if(this.islandSplit){for(v.equations.length=0,g.appendArray(v.equations,l.contactEquations),g.appendArray(v.equations,l.frictionEquations),q=0;q!==X;q++)g.appendArray(v.equations,p[q].equations);v.split(this);for(q=0;q!==v.islands.length;q++)(H=v.islands[q]).equations.length&&r.solveIsland(t,H)}else{for(r.addEquations(l.contactEquations),r.addEquations(l.frictionEquations),q=0;q!==X;q++)r.addEquations(p[q].equations);this.solveConstraints&&r.solve(t,this),r.removeAllEquations()}for(q=0;q!==c;q++){var z=n[q];z.integrate(t)}for(q=0;q!==c;q++)n[q].setZeroForce();if(this.emitImpactEvent&&this.has("impact"))for(var Y=this.impactEvent,q=0;q!==l.contactEquations.length;q++){var K=l.contactEquations[q];K.firstImpact&&(Y.bodyA=K.bodyA,Y.bodyB=K.bodyB,Y.shapeA=K.shapeA,Y.shapeB=K.shapeB,Y.contactEquation=K,this.emit(Y))}if(this.sleepMode===i.BODY_SLEEPING)for(q=0;q!==c;q++)n[q].sleepTick(this.time,!1,t);else if(this.sleepMode===i.ISLAND_SLEEPING&&this.islandSplit){for(q=0;q!==c;q++)n[q].sleepTick(this.time,!0,t);for(q=0;q<this.islandManager.islands.length;q++){var H=this.islandManager.islands[q];H.wantsToSleep()&&H.sleep()}}this.stepping=!1;for(var Z=this.bodiesToBeRemoved,q=0;q!==Z.length;q++)this.removeBody(Z[q]);Z.length=0,this.emit(this.postStepEvent)},i.prototype.runNarrowphase=function(t,e,o,i,n,a,r,c,h,l,p){if(0!=(o.collisionGroup&r.collisionMask)&&0!=(r.collisionGroup&o.collisionMask)){s.rotate(B,i,e.angle),s.rotate(q,c,a.angle),s.add(B,B,e.position),s.add(q,q,a.position);var d=n+e.angle,f=h+a.angle;t.enableFriction=l.friction>0,t.frictionCoefficient=l.friction;var v;v=e.type===u.STATIC||e.type===u.KINEMATIC?a.mass:a.type===u.STATIC||a.type===u.KINEMATIC?e.mass:e.mass*a.mass/(e.mass+a.mass),t.slipForce=l.friction*p*v,t.restitution=l.restitution,t.surfaceVelocity=l.surfaceVelocity,t.frictionStiffness=l.frictionStiffness,t.frictionRelaxation=l.frictionRelaxation,t.stiffness=l.stiffness,t.relaxation=l.relaxation,t.contactSkinSize=l.contactSkinSize,t.enabledEquations=e.collisionResponse&&a.collisionResponse&&o.collisionResponse&&r.collisionResponse;var y=t[o.type|r.type],m=0;if(y){var g=o.sensor||r.sensor,A=t.frictionEquations.length;m=o.type<r.type?y.call(t,e,o,B,d,a,r,q,f,g):y.call(t,a,r,q,f,e,o,B,d,g);var b=t.frictionEquations.length-A;if(m){if(e.allowSleep&&e.type===u.DYNAMIC&&e.sleepState===u.SLEEPING&&a.sleepState===u.AWAKE&&a.type!==u.STATIC&&s.squaredLength(a.velocity)+Math.pow(a.angularVelocity,2)>=2*Math.pow(a.sleepSpeedLimit,2)&&(e._wakeUpAfterNarrowphase=!0),a.allowSleep&&a.type===u.DYNAMIC&&a.sleepState===u.SLEEPING&&e.sleepState===u.AWAKE&&e.type!==u.STATIC&&s.squaredLength(e.velocity)+Math.pow(e.angularVelocity,2)>=2*Math.pow(e.sleepSpeedLimit,2)&&(a._wakeUpAfterNarrowphase=!0),this.overlapKeeper.setOverlapping(e,o,a,r),this.has("beginContact")&&this.overlapKeeper.isNewOverlap(o,r)){var E=this.beginContactEvent;if(E.shapeA=o,E.shapeB=r,E.bodyA=e,E.bodyB=a,E.contactEquations.length=0,"number"==typeof m)for(P=t.contactEquations.length-m;P<t.contactEquations.length;P++)E.contactEquations.push(t.contactEquations[P]);this.emit(E)}if("number"==typeof m&&b>1)for(var P=t.frictionEquations.length-b;P<t.frictionEquations.length;P++){var w=t.frictionEquations[P];w.setSlipForce(w.getSlipForce()/b)}}}}},i.prototype.addSpring=function(t){this.springs.push(t);var e=this.addSpringEvent;e.spring=t,this.emit(e),e.spring=null},i.prototype.removeSpring=function(t){var e=this.springs.indexOf(t);-1!==e&&g.splice(this.springs,e,1)},i.prototype.addBody=function(t){if(-1===this.bodies.indexOf(t)){this.bodies.push(t),t.world=this;var e=this.addBodyEvent;e.body=t,this.emit(e),e.body=null}},i.prototype.removeBody=function(t){if(this.stepping)this.bodiesToBeRemoved.push(t);else{t.world=null;var e=this.bodies.indexOf(t);-1!==e&&(g.splice(this.bodies,e,1),this.removeBodyEvent.body=t,t.resetConstraintVelocity(),this.emit(this.removeBodyEvent),this.removeBodyEvent.body=null)}},i.prototype.getBodyById=function(t){for(var e=this.bodies,o=0;o<e.length;o++){var i=e[o];if(i.id===t)return i}return!1},i.prototype.disableBodyCollision=function(t,e){this.disabledBodyCollisionPairs.push(t,e)},i.prototype.enableBodyCollision=function(t,e){for(var o=this.disabledBodyCollisionPairs,i=0;i<o.length;i+=2)if(o[i]===t&&o[i+1]===e||o[i+1]===t&&o[i]===e)return void o.splice(i,2)},i.prototype.clear=function(){this.time=0,this.solver&&this.solver.equations.length&&this.solver.removeAllEquations();for(var t=this.constraints,e=t.length-1;e>=0;e--)this.removeConstraint(t[e]);for(var o=this.bodies,e=o.length-1;e>=0;e--)this.removeBody(o[e]);for(var n=this.springs,e=n.length-1;e>=0;e--)this.removeSpring(n[e]);for(var s=this.contactMaterials,e=s.length-1;e>=0;e--)this.removeContactMaterial(s[e]);i.apply(this)};var w=s.create(),S=(s.fromValues(0,0),s.fromValues(0,0));i.prototype.hitTest=function(t,e,o){o=o||0;var i=new u({position:t}),n=new l,p=t,d=w,f=S;i.addShape(n);for(var v=this.narrowphase,y=[],m=0,g=e.length;m!==g;m++)for(var A=e[m],b=0,E=A.shapes.length;b!==E;b++){var B=A.shapes[b];s.rotate(d,B.position,A.angle),s.add(d,d,A.position);var q=B.angle+A.angle;(B instanceof a&&v.circleParticle(A,B,d,q,i,n,p,0,!0)||B instanceof r&&v.particleConvex(i,n,p,0,A,B,d,q,!0)||B instanceof c&&v.particlePlane(i,n,p,0,A,B,d,q,!0)||B instanceof h&&v.particleCapsule(i,n,p,0,A,B,d,q,!0)||B instanceof l&&s.squaredLength(s.sub(f,d,t))<o*o)&&y.push(A)}return y},i.prototype.setGlobalStiffness=function(t){for(var e=this.constraints,o=0;o!==e.length;o++)for(var i=e[o],n=0;n!==i.equations.length;n++){var s=i.equations[n];s.stiffness=t,s.needsUpdate=!0}for(var a=this.contactMaterials,o=0;o!==a.length;o++)(i=a[o]).stiffness=i.frictionStiffness=t;(i=this.defaultContactMaterial).stiffness=i.frictionStiffness=t},i.prototype.setGlobalRelaxation=function(t){for(n=0;n!==this.constraints.length;n++)for(var e=this.constraints[n],o=0;o!==e.equations.length;o++){var i=e.equations[o];i.relaxation=t,i.needsUpdate=!0}for(var n=0;n!==this.contactMaterials.length;n++)(e=this.contactMaterials[n]).relaxation=e.frictionRelaxation=t;(e=this.defaultContactMaterial).relaxation=e.frictionRelaxation=t};var C=new v,L=[];i.prototype.raycast=function(t,e){return e.getAABB(C),this.broadphase.aabbQuery(this,C,L),e.intersectBodies(t,L),L.length=0,t.hasHit()}},{"../../package.json":6,"../collision/AABB":7,"../collision/Broadphase":8,"../collision/Narrowphase":10,"../collision/Ray":11,"../collision/SAPBroadphase":13,"../constraints/Constraint":14,"../constraints/DistanceConstraint":15,"../constraints/GearConstraint":16,"../constraints/LockConstraint":17,"../constraints/PrismaticConstraint":18,"../constraints/RevoluteConstraint":19,"../events/EventEmitter":26,"../material/ContactMaterial":27,"../material/Material":28,"../math/vec2":30,"../objects/Body":31,"../objects/LinearSpring":32,"../objects/RotationalSpring":33,"../shapes/Capsule":38,"../shapes/Circle":39,"../shapes/Convex":40,"../shapes/Line":42,"../shapes/Particle":43,"../shapes/Plane":44,"../shapes/Shape":45,"../solver/GSSolver":46,"../solver/Solver":47,"../utils/OverlapKeeper":52,"../utils/Utils":57,"./IslandManager":59}]},{},[36])(36)});
//# sourceMappingURL=p2.map

/***/ }),
/* 11 */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(process) {/* Phaser v2.9.4 - http://phaser.io - @photonstorm - (c) 2016 Photon Storm Ltd. */

(function(){function t(t,e){this._scaleFactor=t,this._deltaMode=e,this.originalEvent=null}var e=this,i=i||{VERSION:"2.9.4",GAMES:[],AUTO:0,CANVAS:1,WEBGL:2,HEADLESS:3,WEBGL_MULTI:4,NONE:0,LEFT:1,RIGHT:2,UP:3,DOWN:4,SPRITE:0,BUTTON:1,IMAGE:2,GRAPHICS:3,TEXT:4,TILESPRITE:5,BITMAPTEXT:6,GROUP:7,RENDERTEXTURE:8,TILEMAP:9,TILEMAPLAYER:10,EMITTER:11,POLYGON:12,BITMAPDATA:13,CANVAS_FILTER:14,WEBGL_FILTER:15,ELLIPSE:16,SPRITEBATCH:17,RETROFONT:18,POINTER:19,ROPE:20,CIRCLE:21,RECTANGLE:22,LINE:23,MATRIX:24,POINT:25,ROUNDEDRECTANGLE:26,CREATURE:27,VIDEO:28,PENDING_ATLAS:-1,HORIZONTAL:0,VERTICAL:1,LANDSCAPE:0,PORTRAIT:1,ANGLE_UP:270,ANGLE_DOWN:90,ANGLE_LEFT:180,ANGLE_RIGHT:0,ANGLE_NORTH_EAST:315,ANGLE_NORTH_WEST:225,ANGLE_SOUTH_EAST:45,ANGLE_SOUTH_WEST:135,TOP_LEFT:0,TOP_CENTER:1,TOP_RIGHT:2,LEFT_TOP:3,LEFT_CENTER:4,LEFT_BOTTOM:5,CENTER:6,RIGHT_TOP:7,RIGHT_CENTER:8,RIGHT_BOTTOM:9,BOTTOM_LEFT:10,BOTTOM_CENTER:11,BOTTOM_RIGHT:12,blendModes:{NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16},scaleModes:{DEFAULT:0,LINEAR:0,NEAREST:1},PIXI:PIXI||{},_UID:0};if(Math.trunc||(Math.trunc=function(t){return t<0?Math.ceil(t):Math.floor(t)}),Function.prototype.bind||(Function.prototype.bind=function(){var t=Array.prototype.slice;return function(e){function i(){var o=n.concat(t.call(arguments));s.apply(this instanceof i?this:e,o)}var s=this,n=t.call(arguments,1);if("function"!=typeof s)throw new TypeError;return i.prototype=function t(e){if(e&&(t.prototype=e),!(this instanceof t))return new t}(s.prototype),i}}()),Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),Array.prototype.forEach||(Array.prototype.forEach=function(t){"use strict";if(void 0===this||null===this)throw new TypeError;var e=Object(this),i=e.length>>>0;if("function"!=typeof t)throw new TypeError;for(var s=arguments.length>=2?arguments[1]:void 0,n=0;n<i;n++)n in e&&t.call(s,e[n],n,e)}),"function"!=typeof window.Uint32Array&&"object"!=typeof window.Uint32Array){var s=function(t){var e=new Array;window[t]=function(t){if("number"==typeof t){Array.call(this,t),this.length=t;for(e=0;e<this.length;e++)this[e]=0}else{Array.call(this,t.length),this.length=t.length;for(var e=0;e<this.length;e++)this[e]=t[e]}},window[t].prototype=e,window[t].constructor=window[t]};s("Float32Array"),s("Uint32Array"),s("Uint16Array"),s("Int16Array"),s("ArrayBuffer")}window.console||(window.console={},window.console.log=window.console.assert=function(){},window.console.warn=window.console.assert=function(){}),Object.assign||(Object.assign=function(t,e){"use strict";if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(t),s=Object.prototype.hasOwnProperty,n=1;n<arguments.length;n++){var o=arguments[n];if(null!=o)for(var r in o)s.call(o,r)&&(i[r]=o[r])}return i}),i.Utils={reverseString:function(t){return t.split("").reverse().join("")},getProperty:function(t,e){var i=e.split(".");switch(i.length){case 1:return t[e];case 2:return t[i[0]][i[1]];case 3:return t[i[0]][i[1]][i[2]];case 4:return t[i[0]][i[1]][i[2]][i[3]];default:return this._getProperty(t,e)}},setProperties:function(t,e){for(var i in e)this.setProperty(t,i,e[i]);return t},setProperty:function(t,e,i){var s=e.split(".");switch(s.length){case 1:t[e]=i;break;case 2:t[s[0]][s[1]]=i;break;case 3:t[s[0]][s[1]][s[2]]=i;break;case 4:t[s[0]][s[1]][s[2]][s[3]]=i;break;default:this._setProperty(t,e,i)}},_getProperty:function(t,e){for(var i=e.split("."),s=i.length,n=0,o=t;n<s;){var r=i[n];if(null==o)return;o=o[r],n++}return o},_setProperty:function(t,e,i){var s=e.split("."),n=s.length,o=0,r=t,a=s[0];if(1===n)t[e]=i;else{for(;o<n-1;)r=r[a],a=s[++o];r[a]=i}return t},chanceRoll:function(t){return void 0===t&&(t=50),t>0&&100*Math.random()<=t},randomChoice:function(t,e){return Math.random()<.5?t:e},parseDimension:function(t,e){var i=0,s=0;return"string"==typeof t?"%"===t.substr(-1)?(i=parseInt(t,10)/100,s=0===e?window.innerWidth*i:window.innerHeight*i):s=parseInt(t,10):s=t,s},pad:function(t,e,i,s){if(void 0===e)var e=0;if(void 0===i)var i=" ";if(void 0===s)var s=3;var n=0;if(e+1>=(t=t.toString()).length)switch(s){case 1:t=new Array(e+1-t.length).join(i)+t;break;case 3:var o=Math.ceil((n=e-t.length)/2),r=n-o;t=new Array(r+1).join(i)+t+new Array(o+1).join(i);break;default:t+=new Array(e+1-t.length).join(i)}return t},isPlainObject:function(t){if("object"!=typeof t||t.nodeType||t===t.window)return!1;try{if(t.constructor&&!{}.hasOwnProperty.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(t){return!1}return!0},extend:function(){var t,e,s,n,o,r,a=arguments[0]||{},h=1,l=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[1]||{},h=2),l===h&&(a=this,--h);h<l;h++)if(null!=(t=arguments[h]))for(e in t)s=a[e],a!==(n=t[e])&&(c&&n&&(i.Utils.isPlainObject(n)||(o=Array.isArray(n)))?(o?(o=!1,r=s&&Array.isArray(s)?s:[]):r=s&&i.Utils.isPlainObject(s)?s:{},a[e]=i.Utils.extend(c,r,n)):void 0!==n&&(a[e]=n));return a},mixinPrototype:function(t,e,i){void 0===i&&(i=!1);for(var s=Object.keys(e),n=0;n<s.length;n++){var o=s[n],r=e[o];!i&&o in t||(!r||"function"!=typeof r.get&&"function"!=typeof r.set?t[o]=r:"function"==typeof r.clone?t[o]=r.clone():Object.defineProperty(t,o,r))}},mixin:function(t,e){if(!t||"object"!=typeof t)return e;for(var s in t){var n=t[s];if(!n.childNodes&&!n.cloneNode){var o=typeof t[s];t[s]&&"object"===o?typeof e[s]===o?e[s]=i.Utils.mixin(t[s],e[s]):e[s]=i.Utils.mixin(t[s],new n.constructor):e[s]=t[s]}}return e}},i.Circle=function(t,e,s){t=t||0,e=e||0,s=s||0,this.x=t,this.y=e,this._diameter=s,this._radius=0,s>0&&(this._radius=.5*s),this.type=i.CIRCLE},i.Circle.prototype={circumference:function(){return Math.PI*this._radius*2},random:function(t){void 0===t&&(t=new i.Point);var e=2*Math.PI*Math.random(),s=Math.random()+Math.random(),n=s>1?2-s:s,o=n*Math.cos(e),r=n*Math.sin(e);return t.x=this.x+o*this.radius,t.y=this.y+r*this.radius,t},getBounds:function(){return new i.Rectangle(this.x-this.radius,this.y-this.radius,this.diameter,this.diameter)},setTo:function(t,e,i){return this.x=t,this.y=e,this._diameter=i,this._radius=.5*i,this},copyFrom:function(t){return this.setTo(t.x,t.y,t.diameter)},copyTo:function(t){return t.x=this.x,t.y=this.y,t.diameter=this._diameter,t},distance:function(t,e){var s=i.Math.distance(this.x,this.y,t.x,t.y);return e?Math.round(s):s},clone:function(t){return void 0===t||null===t?t=new i.Circle(this.x,this.y,this.diameter):t.setTo(this.x,this.y,this.diameter),t},contains:function(t,e){return i.Circle.contains(this,t,e)},circumferencePoint:function(t,e,s){return i.Circle.circumferencePoint(this,t,e,s)},sample:function(t,e,s,n,o){t||(t=60),null==e&&(e=0),null==s&&(s=i.Math.PI2),o||(o=[]);for(var r=0;r<t;)this.circumferencePoint(i.Math.linear(e,s,r/t),n,o[r]||(o[r]=new i.Point)),r+=1;return o},offset:function(t,e){return this.x+=t,this.y+=e,this},offsetPoint:function(t){return this.offset(t.x,t.y)},toString:function(){return"[{Phaser.Circle (x="+this.x+" y="+this.y+" diameter="+this.diameter+" radius="+this.radius+")}]"}},i.Circle.prototype.constructor=i.Circle,Object.defineProperty(i.Circle.prototype,"diameter",{get:function(){return this._diameter},set:function(t){t>0&&(this._diameter=t,this._radius=.5*t)}}),Object.defineProperty(i.Circle.prototype,"radius",{get:function(){return this._radius},set:function(t){t>0&&(this._radius=t,this._diameter=2*t)}}),Object.defineProperty(i.Circle.prototype,"left",{get:function(){return this.x-this._radius},set:function(t){t>this.x?(this._radius=0,this._diameter=0):this.radius=this.x-t}}),Object.defineProperty(i.Circle.prototype,"right",{get:function(){return this.x+this._radius},set:function(t){t<this.x?(this._radius=0,this._diameter=0):this.radius=t-this.x}}),Object.defineProperty(i.Circle.prototype,"top",{get:function(){return this.y-this._radius},set:function(t){t>this.y?(this._radius=0,this._diameter=0):this.radius=this.y-t}}),Object.defineProperty(i.Circle.prototype,"bottom",{get:function(){return this.y+this._radius},set:function(t){t<this.y?(this._radius=0,this._diameter=0):this.radius=t-this.y}}),Object.defineProperty(i.Circle.prototype,"area",{get:function(){return this._radius>0?Math.PI*this._radius*this._radius:0}}),Object.defineProperty(i.Circle.prototype,"empty",{get:function(){return 0===this._diameter},set:function(t){!0===t&&this.setTo(0,0,0)}}),i.Circle.contains=function(t,e,i){return t.radius>0&&e>=t.left&&e<=t.right&&i>=t.top&&i<=t.bottom&&(t.x-e)*(t.x-e)+(t.y-i)*(t.y-i)<=t.radius*t.radius},i.Circle.equals=function(t,e){return t.x===e.x&&t.y===e.y&&t.diameter===e.diameter},i.Circle.intersects=function(t,e){return i.Math.distance(t.x,t.y,e.x,e.y)<=t.radius+e.radius},i.Circle.circumferencePoint=function(t,e,s,n){return void 0===s&&(s=!1),void 0===n&&(n=new i.Point),!0===s&&(e=i.Math.degToRad(e)),n.x=t.x+t.radius*Math.cos(e),n.y=t.y+t.radius*Math.sin(e),n},i.Circle.intersectsRectangle=function(t,e){var i=Math.abs(t.x-e.x-e.halfWidth);if(i>e.halfWidth+t.radius)return!1;var s=Math.abs(t.y-e.y-e.halfHeight);if(s>e.halfHeight+t.radius)return!1;if(i<=e.halfWidth||s<=e.halfHeight)return!0;var n=i-e.halfWidth,o=s-e.halfHeight;return n*n+o*o<=t.radius*t.radius},i.Circle.intersectsLine=function(t,e,s){var n=t.x,o=t.y,r=(e.end.y-e.start.y)/(e.end.x-e.start.x),a=e.end.y-r*e.end.x,h=t.radius,l=t.radius,c=a+r*n,u=(n*(l*l)-r*(h*h)*(a-o)+h*l*Math.sqrt(h*h*(r*r)+l*l-c*c-o*o+2*c*o))/(h*h*(r*r)+l*l),d=(n*(l*l)-r*(h*h)*(a-o)-h*l*Math.sqrt(h*h*(r*r)+l*l-c*c-o*o+2*c*o))/(h*h*(r*r)+l*l),p=r*u+a,f=r*d+a,m=new i.Point(u,p),g=new i.Point(d,f),y=e.pointOnSegment(m.x,m.y,.01),v=e.pointOnSegment(g.x,g.y,.01);return y&&v?!s||[m,g]:y?!s||[m]:v?!s||[g]:!!s&&[]},PIXI.Circle=i.Circle,i.Ellipse=function(t,e,s,n){t=t||0,e=e||0,s=s||0,n=n||0,this.x=t,this.y=e,this.width=s,this.height=n,this.type=i.ELLIPSE},i.Ellipse.prototype={setTo:function(t,e,i,s){return this.x=t,this.y=e,this.width=i,this.height=s,this},getBounds:function(){return new i.Rectangle(this.x-this.width,this.y-this.height,this.width,this.height)},copyFrom:function(t){return this.setTo(t.x,t.y,t.width,t.height)},copyTo:function(t){return t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t},clone:function(t){return void 0===t||null===t?t=new i.Ellipse(this.x,this.y,this.width,this.height):t.setTo(this.x,this.y,this.width,this.height),t},contains:function(t,e){return i.Ellipse.contains(this,t,e)},random:function(t){void 0===t&&(t=new i.Point);var e=Math.random()*Math.PI*2,s=Math.random();return t.x=Math.sqrt(s)*Math.cos(e),t.y=Math.sqrt(s)*Math.sin(e),t.x=this.x+t.x*this.width/2,t.y=this.y+t.y*this.height/2,t},toString:function(){return"[{Phaser.Ellipse (x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+")}]"}},i.Ellipse.prototype.constructor=i.Ellipse,Object.defineProperty(i.Ellipse.prototype,"left",{get:function(){return this.x},set:function(t){this.x=t}}),Object.defineProperty(i.Ellipse.prototype,"right",{get:function(){return this.x+this.width},set:function(t){t<this.x?this.width=0:this.width=t-this.x}}),Object.defineProperty(i.Ellipse.prototype,"top",{get:function(){return this.y},set:function(t){this.y=t}}),Object.defineProperty(i.Ellipse.prototype,"bottom",{get:function(){return this.y+this.height},set:function(t){t<this.y?this.height=0:this.height=t-this.y}}),Object.defineProperty(i.Ellipse.prototype,"empty",{get:function(){return 0===this.width||0===this.height},set:function(t){!0===t&&this.setTo(0,0,0,0)}}),i.Ellipse.contains=function(t,e,i){if(t.width<=0||t.height<=0)return!1;var s=(e-t.x)/t.width-.5,n=(i-t.y)/t.height-.5;return s*=s,n*=n,s+n<.25},i.Ellipse.intersectsLine=function(t,e,s){var n=t.x,o=t.y,r=(e.end.y-e.start.y)/(e.end.x-e.start.x),a=e.end.y-r*e.end.x,h=t.width/2,l=t.height/2,c=a+r*n,u=(n*(l*l)-r*(h*h)*(a-o)+h*l*Math.sqrt(h*h*(r*r)+l*l-c*c-o*o+2*c*o))/(h*h*(r*r)+l*l),d=(n*(l*l)-r*(h*h)*(a-o)-h*l*Math.sqrt(h*h*(r*r)+l*l-c*c-o*o+2*c*o))/(h*h*(r*r)+l*l),p=r*u+a,f=r*d+a,m=new i.Point(u,p),g=new i.Point(d,f),y=e.pointOnSegment(m.x,m.y,.01),v=e.pointOnSegment(g.x,g.y,.01);return y&&v?!s||[m,g]:y?!s||[m]:v?!s||[g]:!!s&&[]},PIXI.Ellipse=i.Ellipse,i.Line=function(t,e,s,n){t=t||0,e=e||0,s=s||0,n=n||0,this.start=new i.Point(t,e),this.end=new i.Point(s,n),this.type=i.LINE},i.Line.prototype={setTo:function(t,e,i,s){return this.start.setTo(t,e),this.end.setTo(i,s),this},fromPoints:function(t,e){return this.setTo(t.x,t.y,e.x,e.y),this},fromSprite:function(t,e,i){return void 0===i&&(i=!1),i?this.setTo(t.centerX,t.centerY,e.centerX,e.centerY):this.fromPoints(t,e)},fromAngle:function(t,e,i,s){return this.start.setTo(t,e),this.end.setTo(t+Math.cos(i)*s,e+Math.sin(i)*s),this},rotate:function(t,e){var i=(this.start.x+this.end.x)/2,s=(this.start.y+this.end.y)/2;return this.start.rotate(i,s,t,e),this.end.rotate(i,s,t,e),this},rotateAround:function(t,e,i,s){return this.start.rotate(t,e,i,s),this.end.rotate(t,e,i,s),this},intersects:function(t,e,s){return i.Line.intersectsPoints(this.start,this.end,t.start,t.end,e,s)},reflect:function(t){return i.Line.reflect(this,t)},midPoint:function(t){return void 0===t&&(t=new i.Point),t.x=(this.start.x+this.end.x)/2,t.y=(this.start.y+this.end.y)/2,t},centerOn:function(t,e){var i=t-(this.start.x+this.end.x)/2,s=e-(this.start.y+this.end.y)/2;this.start.add(i,s),this.end.add(i,s)},pointOnLine:function(t,e,s){return i.Math.fuzzyEqual((t-this.start.x)*(this.end.y-this.start.y),(this.end.x-this.start.x)*(e-this.start.y),s||0)},pointOnSegment:function(t,e,i){var s=Math.min(this.start.x,this.end.x),n=Math.max(this.start.x,this.end.x),o=Math.min(this.start.y,this.end.y),r=Math.max(this.start.y,this.end.y);return this.pointOnLine(t,e,i)&&t>=s&&t<=n&&e>=o&&e<=r},random:function(t){void 0===t&&(t=new i.Point);var e=Math.random();return t.x=this.start.x+e*(this.end.x-this.start.x),t.y=this.start.y+e*(this.end.y-this.start.y),t},coordinatesOnLine:function(t,e){void 0===t&&(t=1),void 0===e&&(e=[]);var i=Math.round(this.start.x),s=Math.round(this.start.y),n=Math.round(this.end.x),o=Math.round(this.end.y),r=Math.abs(n-i),a=Math.abs(o-s),h=i<n?1:-1,l=s<o?1:-1,c=r-a;e.push([i,s]);for(var u=1;i!==n||s!==o;){var d=c<<1;d>-a&&(c-=a,i+=h),d<r&&(c+=r,s+=l),u%t==0&&e.push([i,s]),u++}return e},clone:function(t){return void 0===t||null===t?t=new i.Line(this.start.x,this.start.y,this.end.x,this.end.y):t.setTo(this.start.x,this.start.y,this.end.x,this.end.y),t}},Object.defineProperty(i.Line.prototype,"length",{get:function(){return Math.sqrt((this.end.x-this.start.x)*(this.end.x-this.start.x)+(this.end.y-this.start.y)*(this.end.y-this.start.y))}}),Object.defineProperty(i.Line.prototype,"angle",{get:function(){return i.Point.angle(this.end,this.start)}}),Object.defineProperty(i.Line.prototype,"slope",{get:function(){return(this.end.y-this.start.y)/(this.end.x-this.start.x)}}),Object.defineProperty(i.Line.prototype,"perpSlope",{get:function(){return-(this.end.x-this.start.x)/(this.end.y-this.start.y)}}),Object.defineProperty(i.Line.prototype,"x",{get:function(){return Math.min(this.start.x,this.end.x)}}),Object.defineProperty(i.Line.prototype,"y",{get:function(){return Math.min(this.start.y,this.end.y)}}),Object.defineProperty(i.Line.prototype,"left",{get:function(){return Math.min(this.start.x,this.end.x)}}),Object.defineProperty(i.Line.prototype,"right",{get:function(){return Math.max(this.start.x,this.end.x)}}),Object.defineProperty(i.Line.prototype,"top",{get:function(){return Math.min(this.start.y,this.end.y)}}),Object.defineProperty(i.Line.prototype,"bottom",{get:function(){return Math.max(this.start.y,this.end.y)}}),Object.defineProperty(i.Line.prototype,"width",{get:function(){return Math.abs(this.start.x-this.end.x)}}),Object.defineProperty(i.Line.prototype,"height",{get:function(){return Math.abs(this.start.y-this.end.y)}}),Object.defineProperty(i.Line.prototype,"normalX",{get:function(){return Math.cos(this.angle-1.5707963267948966)}}),Object.defineProperty(i.Line.prototype,"normalY",{get:function(){return Math.sin(this.angle-1.5707963267948966)}}),Object.defineProperty(i.Line.prototype,"normalAngle",{get:function(){return i.Math.wrap(this.angle-1.5707963267948966,-Math.PI,Math.PI)}}),i.Line.intersectsPoints=function(t,e,s,n,o,r){void 0===o&&(o=!0),void 0===r&&(r=new i.Point);var a=e.y-t.y,h=n.y-s.y,l=t.x-e.x,c=s.x-n.x,u=e.x*t.y-t.x*e.y,d=n.x*s.y-s.x*n.y,p=a*c-h*l;if(0===p)return null;if(r.x=(l*d-c*u)/p,r.y=(h*u-a*d)/p,o){var f=(n.y-s.y)*(e.x-t.x)-(n.x-s.x)*(e.y-t.y),m=((n.x-s.x)*(t.y-s.y)-(n.y-s.y)*(t.x-s.x))/f,g=((e.x-t.x)*(t.y-s.y)-(e.y-t.y)*(t.x-s.x))/f;return m>=0&&m<=1&&g>=0&&g<=1?r:null}return r},i.Line.intersects=function(t,e,s,n){return i.Line.intersectsPoints(t.start,t.end,e.start,e.end,s,n)},i.Line.intersectsRectangle=function(t,e){if(0===t.length||e.empty)return!1;var i=t.start.x,s=t.start.y,n=t.end.x,o=t.end.y,r=e.x,a=e.y,h=e.right,l=e.bottom,c=0;if(i>=r&&i<=h&&s>=a&&s<=l||n>=r&&n<=h&&o>=a&&o<=l)return!0;if(i<r&&n>=r){if((c=s+(o-s)*(r-i)/(n-i))>a&&c<=l)return!0}else if(i>h&&n<=h&&(c=s+(o-s)*(h-i)/(n-i))>=a&&c<=l)return!0;if(s<a&&o>=a){if((c=i+(n-i)*(a-s)/(o-s))>=r&&c<=h)return!0}else if(s>l&&o<=l&&(c=i+(n-i)*(l-s)/(o-s))>=r&&c<=h)return!0;return!1},i.Line.intersectionWithRectangle=function(t,e,s){var n=i.Line.intersectionWithRectangle;s||(s=new i.Point),n.edges||(n.edges=[new i.Line,new i.Line,new i.Line,new i.Line]),n.edgeIntersection||(n.edgeIntersection=new i.Point);var o=n.edges,r=n.edgeIntersection.set(0),a=e.x,h=e.y,l=e.right,c=e.bottom,u=1/0;o[0].setTo(a,h,l,h),o[1].setTo(a,c,l,c),o[2].setTo(a,h,a,c),o[3].setTo(l,h,l,c);for(var d,p=0;d=o[p];p++)if(t.intersects(d,!0,r)){var f=t.start.distance(r);f<u&&(u=f,s.copyFrom(r))}return null!=f?s:null},i.Line.reflect=function(t,e){return 2*e.normalAngle-3.141592653589793-t.angle},i.Matrix=function(t,e,s,n,o,r){void 0!==t&&null!==t||(t=1),void 0!==e&&null!==e||(e=0),void 0!==s&&null!==s||(s=0),void 0!==n&&null!==n||(n=1),void 0!==o&&null!==o||(o=0),void 0!==r&&null!==r||(r=0),this.a=t,this.b=e,this.c=s,this.d=n,this.tx=o,this.ty=r,this.type=i.MATRIX},i.Matrix.prototype={fromArray:function(t){return this.setTo(t[0],t[1],t[3],t[4],t[2],t[5])},setTo:function(t,e,i,s,n,o){return this.a=t,this.b=e,this.c=i,this.d=s,this.tx=n,this.ty=o,this},clone:function(t){return void 0===t||null===t?t=new i.Matrix(this.a,this.b,this.c,this.d,this.tx,this.ty):(t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty),t},copyTo:function(t){return t.copyFrom(this),t},copyFrom:function(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this},toArray:function(t,e){return void 0===e&&(e=new Float32Array(9)),t?(e[0]=this.a,e[1]=this.b,e[2]=0,e[3]=this.c,e[4]=this.d,e[5]=0,e[6]=this.tx,e[7]=this.ty,e[8]=1):(e[0]=this.a,e[1]=this.c,e[2]=this.tx,e[3]=this.b,e[4]=this.d,e[5]=this.ty,e[6]=0,e[7]=0,e[8]=1),e},apply:function(t,e){return void 0===e&&(e=new i.Point),e.x=this.a*t.x+this.c*t.y+this.tx,e.y=this.b*t.x+this.d*t.y+this.ty,e},applyInverse:function(t,e){void 0===e&&(e=new i.Point);var s=1/(this.a*this.d+this.c*-this.b),n=t.x,o=t.y;return e.x=this.d*s*n+-this.c*s*o+(this.ty*this.c-this.tx*this.d)*s,e.y=this.a*s*o+-this.b*s*n+(-this.ty*this.a+this.tx*this.b)*s,e},translate:function(t,e){return this.tx+=t,this.ty+=e,this},scale:function(t,e){return this.a*=t,this.d*=e,this.c*=t,this.b*=e,this.tx*=t,this.ty*=e,this},rotate:function(t){var e=Math.cos(t),i=Math.sin(t),s=this.a,n=this.c,o=this.tx;return this.a=s*e-this.b*i,this.b=s*i+this.b*e,this.c=n*e-this.d*i,this.d=n*i+this.d*e,this.tx=o*e-this.ty*i,this.ty=o*i+this.ty*e,this},append:function(t){var e=this.a,i=this.b,s=this.c,n=this.d;return this.a=t.a*e+t.b*s,this.b=t.a*i+t.b*n,this.c=t.c*e+t.d*s,this.d=t.c*i+t.d*n,this.tx=t.tx*e+t.ty*s+this.tx,this.ty=t.tx*i+t.ty*n+this.ty,this},identity:function(){return this.setTo(1,0,0,1,0,0)}},i.identityMatrix=new i.Matrix,i.Point=function(t,e){t=t||0,e=e||0,this.x=t,this.y=e,this.type=i.POINT},i.Point.prototype={copyFrom:function(t){return this.setTo(t.x,t.y)},invert:function(){return this.setTo(this.y,this.x)},setTo:function(t,e){return i.Point.set(this,t,e)},set:function(t,e){return i.Point.set(this,t,e)},setToPolar:function(t,e,s){return null==e&&(e=1),s&&(t=i.Math.degToRad(t)),this.setTo(Math.cos(t)*e,Math.sin(t)*e)},add:function(t,e){return this.x+=t,this.y+=e,this},subtract:function(t,e){return this.x-=t,this.y-=e,this},multiply:function(t,e){return this.x*=t,this.y*=e,this},divide:function(t,e){return this.x/=t,this.y/=e,this},clampX:function(t,e){return this.x=i.Math.clamp(this.x,t,e),this},clampY:function(t,e){return this.y=i.Math.clamp(this.y,t,e),this},clamp:function(t,e){return this.x=i.Math.clamp(this.x,t,e),this.y=i.Math.clamp(this.y,t,e),this},clip:function(t){var e=t.left,i=t.top,s=t.right,n=t.bottom;return this.x<e?this.x=e:this.x>s&&(this.x=s),this.y<i?this.y=i:this.y>n&&(this.y=n),this},clone:function(t){return void 0===t||null===t?t=new i.Point(this.x,this.y):t.setTo(this.x,this.y),t},copyTo:function(t){return t.x=this.x,t.y=this.y,t},distance:function(t,e){return i.Point.distance(this,t,e)},equals:function(t){return t.x===this.x&&t.y===this.y},equalsXY:function(t,e){return this.x===t&&this.y===e},fuzzyEquals:function(t,e){return i.Point.fuzzyEquals(this,t,e)},fuzzyEqualsXY:function(t,e,s){return i.Point.fuzzyEqualsXY(this,t,e,s)},angle:function(t,e){return this.angleXY(t.x,t.y,e)},angleXY:function(t,e,s){var n=Math.atan2(e-this.y,t-this.x);return s?i.Math.radToDeg(n):n},atan:function(t){var e=Math.atan2(this.y,this.x);return t?i.Math.radToDeg(e):e},rotate:function(t,e,s,n,o){return i.Point.rotate(this,t,e,s,n,o)},getMagnitude:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},getMagnitudeSq:function(){return this.x*this.x+this.y*this.y},setMagnitude:function(t){return this.normalize().multiply(t,t)},normalize:function(){if(!this.isZero()){var t=this.getMagnitude();this.x/=t,this.y/=t}return this},limit:function(t){return this.getMagnitudeSq()>t*t&&this.setMagnitude(t),this},expand:function(t){return this.getMagnitudeSq()<t*t&&this.setMagnitude(t),this},isZero:function(){return 0===this.x&&0===this.y},dot:function(t){return this.x*t.x+this.y*t.y},cross:function(t){return this.x*t.y-this.y*t.x},perp:function(){return this.setTo(-this.y,this.x)},rperp:function(){return this.setTo(this.y,-this.x)},normalRightHand:function(){return this.setTo(-1*this.y,this.x)},floor:function(){return this.setTo(Math.floor(this.x),Math.floor(this.y))},ceil:function(){return this.setTo(Math.ceil(this.x),Math.ceil(this.y))},toString:function(){return"[{Point (x="+this.x+" y="+this.y+")}]"}},i.Point.prototype.constructor=i.Point,i.Point.add=function(t,e,s){return void 0===s&&(s=new i.Point),s.x=t.x+e.x,s.y=t.y+e.y,s},i.Point.subtract=function(t,e,s){return void 0===s&&(s=new i.Point),s.x=t.x-e.x,s.y=t.y-e.y,s},i.Point.multiply=function(t,e,s){return void 0===s&&(s=new i.Point),s.x=t.x*e.x,s.y=t.y*e.y,s},i.Point.divide=function(t,e,s){return void 0===s&&(s=new i.Point),s.x=t.x/e.x,s.y=t.y/e.y,s},i.Point.equals=function(t,e){return t.x===e.x&&t.y===e.y},i.Point.equalsXY=function(t,e,i){return t.x===e&&t.y===i},i.Point.fuzzyEquals=function(t,e,s){return i.Math.fuzzyEquals(t.x,e.x,s)&&i.Math.fuzzyEquals(t.y,e.y,s)},i.Point.fuzzyEqualsXY=function(t,e,s,n){return i.Math.fuzzyEquals(t.x,e,n)&&i.Math.fuzzyEquals(t.y,s,n)},i.Point.angle=function(t,e){return Math.atan2(t.y-e.y,t.x-e.x)},i.Point.negative=function(t,e){return void 0===e&&(e=new i.Point),e.setTo(-t.x,-t.y)},i.Point.multiplyAdd=function(t,e,s,n){return void 0===n&&(n=new i.Point),n.setTo(t.x+e.x*s,t.y+e.y*s)},i.Point.interpolate=function(t,e,s,n){return void 0===n&&(n=new i.Point),n.setTo(t.x+(e.x-t.x)*s,t.y+(e.y-t.y)*s)},i.Point.perp=function(t,e){return void 0===e&&(e=new i.Point),e.setTo(-t.y,t.x)},i.Point.rperp=function(t,e){return void 0===e&&(e=new i.Point),e.setTo(t.y,-t.x)},i.Point.distance=function(t,e,s){var n=i.Math.distance(t.x,t.y,e.x,e.y);return s?Math.round(n):n},i.Point.project=function(t,e,s){void 0===s&&(s=new i.Point);var n=t.dot(e)/e.getMagnitudeSq();return 0!==n&&s.setTo(n*e.x,n*e.y),s},i.Point.projectUnit=function(t,e,s){void 0===s&&(s=new i.Point);var n=t.dot(e);return 0!==n&&s.setTo(n*e.x,n*e.y),s},i.Point.normalRightHand=function(t,e){return void 0===e&&(e=new i.Point),e.setTo(-1*t.y,t.x)},i.Point.normalize=function(t,e){void 0===e&&(e=new i.Point);var s=t.getMagnitude();return 0!==s&&e.setTo(t.x/s,t.y/s),e},i.Point.rotate=function(t,e,s,n,o,r){if(o&&(n=i.Math.degToRad(n)),void 0===r){t.subtract(e,s);var a=Math.sin(n),h=Math.cos(n),l=h*t.x-a*t.y,c=a*t.x+h*t.y;t.x=l+e,t.y=c+s}else{var u=n+Math.atan2(t.y-s,t.x-e);t.x=e+r*Math.cos(u),t.y=s+r*Math.sin(u)}return t},i.Point.centroid=function(t,e){if(void 0===e&&(e=new i.Point),"[object Array]"!==Object.prototype.toString.call(t))throw new Error("Phaser.Point. Parameter 'points' must be an array");var s=t.length;if(s<1)throw new Error("Phaser.Point. Parameter 'points' array must not be empty");if(1===s)return e.copyFrom(t[0]),e;for(var n=0;n<s;n++)i.Point.add(e,t[n],e);return e.divide(s,s),e},i.Point.parse=function(t,e,s){e=e||"x",s=s||"y";var n=new i.Point;return t[e]&&(n.x=parseInt(t[e],10)),t[s]&&(n.y=parseInt(t[s],10)),n},i.Point.isPoint=function(t){return null!=t&&"number"==typeof t.x&&"number"==typeof t.y},i.Point.set=function(t,e,i){return t.x=e||0,t.y=i||(0!==i?t.x:0),t},i.Point.sortClockwise=function(t,e){e||(e=this.centroid(t));var i=e.x,s=e.y;return t.sort(function(t,e){if(t.x-i>=0&&e.x-i<0)return-1;if(t.x-i<0&&e.x-i>=0)return 1;if(t.x-i==0&&e.x-i==0)return t.y-s>=0||e.y-s>=0?t.y>e.y?1:-1:e.y>t.y?1:-1;var n=(t.x-i)*-(e.y-s)-(e.x-i)*-(t.y-s);return n<0?-1:n>0?1:(t.x-i)*(t.x-i)+(t.y-s)*(t.y-s)>(e.x-i)*(e.x-i)+(e.y-s)*(e.y-s)?-1:1})},PIXI.Point=i.Point,i.Polygon=function(){this.area=0,this._points=[],arguments.length>0&&this.setTo.apply(this,arguments),this.closed=!0,this.flattened=!1,this.type=i.POLYGON},i.Polygon.prototype={toNumberArray:function(t){void 0===t&&(t=[]);for(var e=0;e<this._points.length;e++)"number"==typeof this._points[e]?(t.push(this._points[e]),t.push(this._points[e+1]),e++):(t.push(this._points[e].x),t.push(this._points[e].y));return t},flatten:function(){return this._points=this.toNumberArray(),this.flattened=!0,this},clone:function(t){var e=this._points.slice();return void 0===t||null===t?t=new i.Polygon(e):t.setTo(e),t},contains:function(t,e){var i=!1;if(this.flattened)for(var s=-2,n=this._points.length-2;(s+=2)<this._points.length;n=s){var o=this._points[s],r=this._points[s+1],a=this._points[n],h=this._points[n+1];(r<=e&&e<h||h<=e&&e<r)&&t<(a-o)*(e-r)/(h-r)+o&&(i=!i)}else for(var s=-1,n=this._points.length-1;++s<this._points.length;n=s){var o=this._points[s].x,r=this._points[s].y,a=this._points[n].x,h=this._points[n].y;(r<=e&&e<h||h<=e&&e<r)&&t<(a-o)*(e-r)/(h-r)+o&&(i=!i)}return i},setTo:function(t){if(this.area=0,this._points=[],arguments.length>0){Array.isArray(t)||(t=Array.prototype.slice.call(arguments));for(var e=Number.MAX_VALUE,i=0,s=t.length;i<s;i++){if("number"==typeof t[i]){n=new PIXI.Point(t[i],t[i+1]);i++}else if(Array.isArray(t[i]))n=new PIXI.Point(t[i][0],t[i][1]);else var n=new PIXI.Point(t[i].x,t[i].y);this._points.push(n),n.y<e&&(e=n.y)}this.calculateArea(e)}return this},calculateArea:function(t){for(var e,i,s,n,o=0,r=this._points.length;o<r;o++)e=this._points[o],i=o===r-1?this._points[0]:this._points[o+1],s=(e.y-t+(i.y-t))/2,n=e.x-i.x,this.area+=s*n;return this.area}},i.Polygon.prototype.constructor=i.Polygon,Object.defineProperty(i.Polygon.prototype,"points",{get:function(){return this._points},set:function(t){null!=t?this.setTo(t):this.setTo()}}),PIXI.Polygon=i.Polygon,i.Rectangle=function(t,e,s,n){t=t||0,e=e||0,s=s||0,n=n||0,this.x=t,this.y=e,this.width=s,this.height=n,this.type=i.RECTANGLE},i.Rectangle.prototype={offset:function(t,e){return this.x+=t,this.y+=e,this},offsetPoint:function(t){return this.offset(t.x,t.y)},setTo:function(t,e,i,s){return this.x=t,this.y=e,this.width=i,this.height=s,this},scale:function(t,e){return void 0===e&&(e=t),this.width*=t,this.height*=e,this},centerOn:function(t,e){return this.centerX=t,this.centerY=e,this},floor:function(){this.x=Math.floor(this.x),this.y=Math.floor(this.y)},floorAll:function(){this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.width=Math.floor(this.width),this.height=Math.floor(this.height)},ceil:function(){this.x=Math.ceil(this.x),this.y=Math.ceil(this.y)},ceilAll:function(){this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.width=Math.ceil(this.width),this.height=Math.ceil(this.height)},copyFrom:function(t){return this.setTo(t.x,t.y,t.width,t.height)},copyFromBounds:function(t){return this.setTo(t.left,t.top,t.width,t.height)},copyTo:function(t){return t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t},inflate:function(t,e){return i.Rectangle.inflate(this,t,e)},size:function(t){return i.Rectangle.size(this,t)},resize:function(t,e){return this.width=t,this.height=e,this},clone:function(t){return i.Rectangle.clone(this,t)},contains:function(t,e){return i.Rectangle.contains(this,t,e)},containsRect:function(t){return i.Rectangle.containsRect(t,this)},equals:function(t){return i.Rectangle.equals(this,t)},intersection:function(t,e){return i.Rectangle.intersection(this,t,e)},intersects:function(t){return i.Rectangle.intersects(this,t)},intersectsRaw:function(t,e,s,n,o){return i.Rectangle.intersectsRaw(this,t,e,s,n,o)},union:function(t,e){return i.Rectangle.union(this,t,e)},random:function(t){return void 0===t&&(t=new i.Point),t.x=this.randomX,t.y=this.randomY,t},getPoint:function(t,e){switch(void 0===e&&(e=new i.Point),t){default:case i.TOP_LEFT:return e.set(this.x,this.y);case i.TOP_CENTER:return e.set(this.centerX,this.y);case i.TOP_RIGHT:return e.set(this.right,this.y);case i.LEFT_CENTER:return e.set(this.x,this.centerY);case i.CENTER:return e.set(this.centerX,this.centerY);case i.RIGHT_CENTER:return e.set(this.right,this.centerY);case i.BOTTOM_LEFT:return e.set(this.x,this.bottom);case i.BOTTOM_CENTER:return e.set(this.centerX,this.bottom);case i.BOTTOM_RIGHT:return e.set(this.right,this.bottom)}},sides:function(t,e,s,n){arguments.length||(t=new i.Line,e=new i.Line,s=new i.Line,n=new i.Line);var o=this.x,r=this.y,a=this.right,h=this.bottom;return t.setTo(o,r,a,r),e.setTo(a,r,a,h),s.setTo(o,h,a,h),n.setTo(o,r,o,h),arguments.length?null:[t,e,s,n]},toString:function(){return"[{Rectangle (x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+" empty="+this.empty+")}]"}},Object.defineProperty(i.Rectangle.prototype,"halfWidth",{get:function(){return Math.round(this.width/2)}}),Object.defineProperty(i.Rectangle.prototype,"halfHeight",{get:function(){return Math.round(this.height/2)}}),Object.defineProperty(i.Rectangle.prototype,"bottom",{get:function(){return this.y+this.height},set:function(t){t<=this.y?this.height=0:this.height=t-this.y}}),Object.defineProperty(i.Rectangle.prototype,"bottomLeft",{get:function(){return new i.Point(this.x,this.bottom)},set:function(t){this.x=t.x,this.bottom=t.y}}),Object.defineProperty(i.Rectangle.prototype,"bottomRight",{get:function(){return new i.Point(this.right,this.bottom)},set:function(t){this.right=t.x,this.bottom=t.y}}),Object.defineProperty(i.Rectangle.prototype,"left",{get:function(){return this.x},set:function(t){t>=this.right?this.width=0:this.width=this.right-t,this.x=t}}),Object.defineProperty(i.Rectangle.prototype,"right",{get:function(){return this.x+this.width},set:function(t){t<=this.x?this.width=0:this.width=t-this.x}}),Object.defineProperty(i.Rectangle.prototype,"volume",{get:function(){return this.width*this.height}}),Object.defineProperty(i.Rectangle.prototype,"perimeter",{get:function(){return 2*this.width+2*this.height}}),Object.defineProperty(i.Rectangle.prototype,"centerX",{get:function(){return this.x+this.halfWidth},set:function(t){this.x=t-this.halfWidth}}),Object.defineProperty(i.Rectangle.prototype,"centerY",{get:function(){return this.y+this.halfHeight},set:function(t){this.y=t-this.halfHeight}}),Object.defineProperty(i.Rectangle.prototype,"randomX",{get:function(){return this.x+Math.random()*this.width}}),Object.defineProperty(i.Rectangle.prototype,"randomY",{get:function(){return this.y+Math.random()*this.height}}),Object.defineProperty(i.Rectangle.prototype,"top",{get:function(){return this.y},set:function(t){t>=this.bottom?(this.height=0,this.y=t):this.height=this.bottom-t}}),Object.defineProperty(i.Rectangle.prototype,"topLeft",{get:function(){return new i.Point(this.x,this.y)},set:function(t){this.x=t.x,this.y=t.y}}),Object.defineProperty(i.Rectangle.prototype,"topRight",{get:function(){return new i.Point(this.x+this.width,this.y)},set:function(t){this.right=t.x,this.y=t.y}}),Object.defineProperty(i.Rectangle.prototype,"empty",{get:function(){return!this.width||!this.height},set:function(t){!0===t&&this.setTo(0,0,0,0)}}),i.Rectangle.prototype.constructor=i.Rectangle,i.Rectangle.inflate=function(t,e,i){return t.x-=e,t.width+=2*e,t.y-=i,t.height+=2*i,t},i.Rectangle.inflatePoint=function(t,e){return i.Rectangle.inflate(t,e.x,e.y)},i.Rectangle.size=function(t,e){return void 0===e||null===e?e=new i.Point(t.width,t.height):e.setTo(t.width,t.height),e},i.Rectangle.clone=function(t,e){return void 0===e||null===e?e=new i.Rectangle(t.x,t.y,t.width,t.height):e.setTo(t.x,t.y,t.width,t.height),e},i.Rectangle.createFromBounds=function(t,e){return void 0!==e&&null!==e||(e=new i.Rectangle(t.x,t.y,t.width,t.height)),e.copyFromBounds(t)},i.Rectangle.contains=function(t,e,i){return!(t.width<=0||t.height<=0)&&(e>=t.x&&e<t.right&&i>=t.y&&i<t.bottom)},i.Rectangle.containsRaw=function(t,e,i,s,n,o){return n>=t&&n<t+i&&o>=e&&o<e+s},i.Rectangle.containsPoint=function(t,e){return i.Rectangle.contains(t,e.x,e.y)},i.Rectangle.containsRect=function(t,e){return!(t.volume>e.volume)&&(t.x>=e.x&&t.y>=e.y&&t.right<e.right&&t.bottom<e.bottom)},i.Rectangle.equals=function(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height},i.Rectangle.sameDimensions=function(t,e){return t.width===e.width&&t.height===e.height},i.Rectangle.intersection=function(t,e,s){return void 0===s&&(s=new i.Rectangle),i.Rectangle.intersects(t,e)&&(s.x=Math.max(t.x,e.x),s.y=Math.max(t.y,e.y),s.width=Math.min(t.right,e.right)-s.x,s.height=Math.min(t.bottom,e.bottom)-s.y),s},i.Rectangle.intersects=function(t,e){return!(t.width<=0||t.height<=0||e.width<=0||e.height<=0)&&!(t.right<e.x||t.bottom<e.y||t.x>e.right||t.y>e.bottom)},i.Rectangle.intersectsRaw=function(t,e,i,s,n,o){return void 0===o&&(o=0),!(e>t.right+o||i<t.left-o||s>t.bottom+o||n<t.top-o)},i.Rectangle.union=function(t,e,s){return void 0===s&&(s=new i.Rectangle),s.setTo(Math.min(t.x,e.x),Math.min(t.y,e.y),Math.max(t.right,e.right)-Math.min(t.left,e.left),Math.max(t.bottom,e.bottom)-Math.min(t.top,e.top))},i.Rectangle.aabb=function(t,e){void 0===e&&(e=new i.Rectangle);var s=Number.NEGATIVE_INFINITY,n=Number.POSITIVE_INFINITY,o=Number.NEGATIVE_INFINITY,r=Number.POSITIVE_INFINITY;return t.forEach(function(t){t.x>s&&(s=t.x),t.x<n&&(n=t.x),t.y>o&&(o=t.y),t.y<r&&(r=t.y)}),e.setTo(n,r,s-n,o-r),e},PIXI.Rectangle=i.Rectangle,PIXI.EmptyRectangle=new i.Rectangle(0,0,0,0),i.RoundedRectangle=function(t,e,s,n,o){void 0===t&&(t=0),void 0===e&&(e=0),void 0===s&&(s=0),void 0===n&&(n=0),void 0===o&&(o=20),this.x=t,this.y=e,this.width=s,this.height=n,this.radius=o||20,this.type=i.ROUNDEDRECTANGLE},i.RoundedRectangle.prototype={clone:function(){return new i.RoundedRectangle(this.x,this.y,this.width,this.height,this.radius)},contains:function(t,e){if(this.width<=0||this.height<=0)return!1;var i=this.x;if(t>=i&&t<=i+this.width){var s=this.y;if(e>=s&&e<=s+this.height)return!0}return!1}},i.RoundedRectangle.prototype.constructor=i.RoundedRectangle,PIXI.RoundedRectangle=i.RoundedRectangle,i.Camera=function(t,e,s,n,o,r){this.game=t,this.world=t.world,this.id=0,this.view=new i.Rectangle(s,n,o,r),this.bounds=new i.Rectangle(s,n,o,r),this.deadzone=null,this.visible=!0,this.roundPx=!0,this.atLimit={x:!1,y:!1},this.target=null,this.displayObject=null,this.scale=null,this.totalInView=0,this.lerp=new i.Point(1,1),this.onShakeComplete=new i.Signal,this.onFlashComplete=new i.Signal,this.onFadeComplete=new i.Signal,this.fx=null,this._targetPosition=new i.Point,this._edge=0,this._position=new i.Point,this._shake={intensity:0,duration:0,horizontal:!1,vertical:!1,shakeBounds:!0,x:0,y:0},this._fxDuration=0,this._fxType=0,this._fixedView=new i.Rectangle},i.Camera.FOLLOW_LOCKON=0,i.Camera.FOLLOW_PLATFORMER=1,i.Camera.FOLLOW_TOPDOWN=2,i.Camera.FOLLOW_TOPDOWN_TIGHT=3,i.Camera.SHAKE_BOTH=4,i.Camera.SHAKE_HORIZONTAL=5,i.Camera.SHAKE_VERTICAL=6,i.Camera.ENABLE_FX=!0,i.Camera.prototype={boot:function(){this.displayObject=this.game.world,this.scale=this.game.world.scale,this.game.camera=this,i.Graphics&&i.Camera.ENABLE_FX&&(this.fx=new i.Graphics(this.game),this.game.stage.addChild(this.fx))},preUpdate:function(){this.totalInView=0},follow:function(t,e,s,n){void 0===e&&(e=i.Camera.FOLLOW_LOCKON),void 0===s&&(s=1),void 0===n&&(n=1),this.target=t,this.lerp.set(s,n);var o;switch(e){case i.Camera.FOLLOW_PLATFORMER:var r=this.width/8,a=this.height/3;this.deadzone=new i.Rectangle((this.width-r)/2,(this.height-a)/2-.25*a,r,a);break;case i.Camera.FOLLOW_TOPDOWN:o=Math.max(this.width,this.height)/4,this.deadzone=new i.Rectangle((this.width-o)/2,(this.height-o)/2,o,o);break;case i.Camera.FOLLOW_TOPDOWN_TIGHT:o=Math.max(this.width,this.height)/8,this.deadzone=new i.Rectangle((this.width-o)/2,(this.height-o)/2,o,o);break;case i.Camera.FOLLOW_LOCKON:default:this.deadzone=null}},unfollow:function(){this.target=null},focusOn:function(t){this.setPosition(Math.round(t.x-this.view.halfWidth),Math.round(t.y-this.view.halfHeight))},focusOnXY:function(t,e){this.setPosition(Math.round(t-this.view.halfWidth),Math.round(e-this.view.halfHeight))},shake:function(t,e,s,n,o){return void 0===t&&(t=.05),void 0===e&&(e=500),void 0===s&&(s=!0),void 0===n&&(n=i.Camera.SHAKE_BOTH),void 0===o&&(o=!0),!(!s&&this._shake.duration>0)&&(this._shake.intensity=t,this._shake.duration=e,this._shake.shakeBounds=o,this._shake.x=0,this._shake.y=0,this._shake.horizontal=n===i.Camera.SHAKE_BOTH||n===i.Camera.SHAKE_HORIZONTAL,this._shake.vertical=n===i.Camera.SHAKE_BOTH||n===i.Camera.SHAKE_VERTICAL,!0)},flash:function(t,e,i,s){return void 0===t&&(t=16777215),void 0===e&&(e=500),void 0===i&&(i=!1),void 0===s&&(s=1),!(!this.fx||!i&&this._fxDuration>0)&&(this.fx.clear(),this.fx.beginFill(t,s),this.fx.drawRect(0,0,this.width,this.height),this.fx.endFill(),this.fx.alpha=1,this._fxDuration=e,this._fxType=0,!0)},fade:function(t,e,i,s){return void 0===t&&(t=0),void 0===e&&(e=500),void 0===i&&(i=!1),void 0===s&&(s=1),!(!this.fx||!i&&this._fxDuration>0)&&(this.fx.clear(),this.fx.beginFill(t,s),this.fx.drawRect(0,0,this.width,this.height),this.fx.endFill(),this.fx.alpha=0,this._fxDuration=e,this._fxType=1,!0)},update:function(){this._fxDuration>0&&this.updateFX(),this._shake.duration>0&&this.updateShake(),this.bounds&&this.checkBounds(),this.roundPx&&(this.view.floor(),this._shake.x=Math.floor(this._shake.x),this._shake.y=Math.floor(this._shake.y)),this.displayObject.position.x=-this.view.x,this.displayObject.position.y=-this.view.y},updateFX:function(){0===this._fxType?(this.fx.alpha-=this.game.time.elapsedMS/this._fxDuration,this.fx.alpha<=0&&(this._fxDuration=0,this.fx.alpha=0,this.onFlashComplete.dispatch())):(this.fx.alpha+=this.game.time.elapsedMS/this._fxDuration,this.fx.alpha>=1&&(this._fxDuration=0,this.fx.alpha=1,this.onFadeComplete.dispatch()))},updateShake:function(){this._shake.duration-=this.game.time.elapsedMS,this._shake.duration<=0?(this.onShakeComplete.dispatch(),this._shake.x=0,this._shake.y=0):(this._shake.horizontal&&(this._shake.x=this.game.rnd.frac()*this._shake.intensity*this.view.width*2-this._shake.intensity*this.view.width),this._shake.vertical&&(this._shake.y=this.game.rnd.frac()*this._shake.intensity*this.view.height*2-this._shake.intensity*this.view.height))},updateTarget:function(){this._targetPosition.x=this.view.x+this.target.worldPosition.x,this._targetPosition.y=this.view.y+this.target.worldPosition.y,this.deadzone?(this._edge=this._targetPosition.x-this.view.x,this._edge<this.deadzone.left?this.view.x=this.game.math.linear(this.view.x,this._targetPosition.x-this.deadzone.left,this.lerp.x):this._edge>this.deadzone.right&&(this.view.x=this.game.math.linear(this.view.x,this._targetPosition.x-this.deadzone.right,this.lerp.x)),this._edge=this._targetPosition.y-this.view.y,this._edge<this.deadzone.top?this.view.y=this.game.math.linear(this.view.y,this._targetPosition.y-this.deadzone.top,this.lerp.y):this._edge>this.deadzone.bottom&&(this.view.y=this.game.math.linear(this.view.y,this._targetPosition.y-this.deadzone.bottom,this.lerp.y))):(this.view.x=this.game.math.linear(this.view.x,this._targetPosition.x-this.view.halfWidth,this.lerp.x),this.view.y=this.game.math.linear(this.view.y,this._targetPosition.y-this.view.halfHeight,this.lerp.y)),this.bounds&&this.checkBounds(),this.roundPx&&this.view.floor(),this.displayObject.position.x=-this.view.x,this.displayObject.position.y=-this.view.y},setBoundsToWorld:function(){this.bounds&&this.bounds.copyFrom(this.game.world.bounds)},checkBounds:function(){this.atLimit.x=!1,this.atLimit.y=!1;var t=this.view.x+this._shake.x,e=this.view.right+this._shake.x,i=this.view.y+this._shake.y,s=this.view.bottom+this._shake.y;t<=this.bounds.x*this.scale.x?(this.atLimit.x=!0,this.view.x=this.bounds.x*this.scale.x,this._shake.shakeBounds||(this._shake.x=0)):e>=this.bounds.right*this.scale.x&&(this.atLimit.x=!0,this.view.x=this.bounds.right*this.scale.x-this.width,this._shake.shakeBounds||(this._shake.x=0)),i<=this.bounds.top*this.scale.y?(this.atLimit.y=!0,this.view.y=this.bounds.top*this.scale.y,this._shake.shakeBounds||(this._shake.y=0)):s>=this.bounds.bottom*this.scale.y&&(this.atLimit.y=!0,this.view.y=this.bounds.bottom*this.scale.y-this.height,this._shake.shakeBounds||(this._shake.y=0))},setPosition:function(t,e){this.view.x=t,this.view.y=e,this.bounds&&this.checkBounds()},setSize:function(t,e){this.view.width=t,this.view.height=e},reset:function(){this.target=null,this.view.x=0,this.view.y=0,this._shake.duration=0,this._shake.x=0,this._shake.y=0,this.resetFX()},resetFX:function(){this.fx&&(this.fx.clear(),this.fx.alpha=0),this._fxDuration=0}},i.Camera.prototype.constructor=i.Camera,Object.defineProperty(i.Camera.prototype,"x",{get:function(){return this.view.x},set:function(t){this.view.x=t,this.bounds&&this.checkBounds()}}),Object.defineProperty(i.Camera.prototype,"y",{get:function(){return this.view.y},set:function(t){this.view.y=t,this.bounds&&this.checkBounds()}}),Object.defineProperty(i.Camera.prototype,"position",{get:function(){return this._position.set(this.view.x,this.view.y),this._position},set:function(t){void 0!==t.x&&(this.view.x=t.x),void 0!==t.y&&(this.view.y=t.y),this.bounds&&this.checkBounds()}}),Object.defineProperty(i.Camera.prototype,"width",{get:function(){return this.view.width},set:function(t){this.view.width=t}}),Object.defineProperty(i.Camera.prototype,"height",{get:function(){return this.view.height},set:function(t){this.view.height=t}}),Object.defineProperty(i.Camera.prototype,"shakeIntensity",{get:function(){return this._shake.intensity},set:function(t){this._shake.intensity=t}}),Object.defineProperty(i.Camera.prototype,"fixedView",{get:function(){return this._fixedView.setTo(0,0,this.view.width,this.view.height),this._fixedView}}),i.State=function(){this.game=null,this.key="",this.add=null,this.make=null,this.camera=null,this.cache=null,this.input=null,this.load=null,this.math=null,this.sound=null,this.scale=null,this.stage=null,this.state=null,this.time=null,this.tweens=null,this.world=null,this.particles=null,this.physics=null,this.rnd=null},i.State.prototype={init:function(){},preload:function(){},loadUpdate:function(){},loadRender:function(){},create:function(){},update:function(){},preRender:function(){},render:function(){},resize:function(){},paused:function(){},resumed:function(){},pauseUpdate:function(){},shutdown:function(){}},i.State.prototype.constructor=i.State,i.StateManager=function(t,e){this.game=t,this.states={},this._pendingState=null,void 0!==e&&null!==e&&(this._pendingState=e),this._clearWorld=!1,this._clearCache=!1,this._created=!1,this._args=[],this.current="",this.onStateChange=new i.Signal,this.onInitCallback=null,this.onPreloadCallback=null,this.onCreateCallback=null,this.onUpdateCallback=null,this.onRenderCallback=null,this.onResizeCallback=null,this.onPreRenderCallback=null,this.onLoadUpdateCallback=null,this.onLoadRenderCallback=null,this.onPausedCallback=null,this.onResumedCallback=null,this.onPauseUpdateCallback=null,this.onShutDownCallback=null},i.StateManager.prototype={boot:function(){this.game.onPause.add(this.pause,this),this.game.onResume.add(this.resume,this),null!==this._pendingState&&"string"!=typeof this._pendingState&&this.add("default",this._pendingState,!0)},add:function(t,e,s){void 0===s&&(s=!1);var n;return e instanceof i.State?n=e:"object"==typeof e?(n=e).game=this.game:"function"==typeof e&&(n=new e(this.game)),this.states[t]=n,s&&(this.game.isBooted?this.start(t):this._pendingState=t),n},remove:function(t){this.current===t&&(this.callbackContext=null,this.onInitCallback=null,this.onShutDownCallback=null,this.onPreloadCallback=null,this.onLoadRenderCallback=null,this.onLoadUpdateCallback=null,this.onCreateCallback=null,this.onUpdateCallback=null,this.onPreRenderCallback=null,this.onRenderCallback=null,this.onResizeCallback=null,this.onPausedCallback=null,this.onResumedCallback=null,this.onPauseUpdateCallback=null),delete this.states[t]},start:function(t,e,i){void 0===e&&(e=!0),void 0===i&&(i=!1),this.checkState(t)&&(this._pendingState=t,this._clearWorld=e,this._clearCache=i,arguments.length>3&&(this._args=Array.prototype.splice.call(arguments,3)))},restart:function(t,e){void 0===t&&(t=!0),void 0===e&&(e=!1),this._pendingState=this.current,this._clearWorld=t,this._clearCache=e,arguments.length>2&&(this._args=Array.prototype.slice.call(arguments,2))},dummy:function(){},preUpdate:function(){if(this._pendingState&&this.game.isBooted){var t=this.current;if(this.clearCurrentState(),this.setCurrentState(this._pendingState),this.onStateChange.dispatch(this.current,t),this.current!==this._pendingState)return;this._pendingState=null,this.onPreloadCallback?(this.game.load.reset(!0),this.onPreloadCallback.call(this.callbackContext,this.game),0===this.game.load.totalQueuedFiles()&&0===this.game.load.totalQueuedPacks()?this.loadComplete():this.game.load.start()):this.loadComplete()}},clearCurrentState:function(){this.current&&(this.onShutDownCallback&&this.onShutDownCallback.call(this.callbackContext,this.game),this.game.tweens.removeAll(),this.game.camera.reset(),this.game.input.reset(!0),this.game.physics.clear(),this.game.time.removeAll(),this.game.scale.reset(this._clearWorld),this.game.debug&&this.game.debug.reset(),this._clearWorld&&(this.game.world.shutdown(),this._clearCache&&this.game.cache.destroy()))},checkState:function(t){var e=this.states[t];return e?!!(e.preload||e.create||e.update||e.render)||(console.warn("Invalid Phaser State object given. Must contain at least one of the required functions: preload, create, update or render"),!1):(console.warn("Phaser.StateManager - No state found with the key: "+t),!1)},link:function(t){this.states[t].game=this.game,this.states[t].add=this.game.add,this.states[t].make=this.game.make,this.states[t].camera=this.game.camera,this.states[t].cache=this.game.cache,this.states[t].input=this.game.input,this.states[t].load=this.game.load,this.states[t].math=this.game.math,this.states[t].sound=this.game.sound,this.states[t].scale=this.game.scale,this.states[t].state=this,this.states[t].stage=this.game.stage,this.states[t].time=this.game.time,this.states[t].tweens=this.game.tweens,this.states[t].world=this.game.world,this.states[t].particles=this.game.particles,this.states[t].rnd=this.game.rnd,this.states[t].physics=this.game.physics,this.states[t].key=t},unlink:function(t){this.states[t]&&(this.states[t].game=null,this.states[t].add=null,this.states[t].make=null,this.states[t].camera=null,this.states[t].cache=null,this.states[t].input=null,this.states[t].load=null,this.states[t].math=null,this.states[t].sound=null,this.states[t].scale=null,this.states[t].state=null,this.states[t].stage=null,this.states[t].time=null,this.states[t].tweens=null,this.states[t].world=null,this.states[t].particles=null,this.states[t].rnd=null,this.states[t].physics=null)},setCurrentState:function(t){this.callbackContext=this.states[t],this.link(t),this.onInitCallback=this.states[t].init||this.dummy,this.onPreloadCallback=this.states[t].preload||null,this.onLoadRenderCallback=this.states[t].loadRender||null,this.onLoadUpdateCallback=this.states[t].loadUpdate||null,this.onCreateCallback=this.states[t].create||null,this.onUpdateCallback=this.states[t].update||null,this.onPreRenderCallback=this.states[t].preRender||null,this.onRenderCallback=this.states[t].render||null,this.onResizeCallback=this.states[t].resize||null,this.onPausedCallback=this.states[t].paused||null,this.onResumedCallback=this.states[t].resumed||null,this.onPauseUpdateCallback=this.states[t].pauseUpdate||null,this.onShutDownCallback=this.states[t].shutdown||this.dummy,""!==this.current&&this.game.physics.reset(),this.current=t,this._created=!1,this.onInitCallback.apply(this.callbackContext,this._args),t===this._pendingState&&(this._args=[]),this.game._kickstart=!0},getCurrentState:function(){return this.states[this.current]},loadComplete:function(){!1===this._created&&this.onLoadUpdateCallback&&this.onLoadUpdateCallback.call(this.callbackContext,this.game),!1===this._created&&this.onCreateCallback?(this._created=!0,this.onCreateCallback.call(this.callbackContext,this.game)):this._created=!0},pause:function(){this._created&&this.onPausedCallback&&this.onPausedCallback.call(this.callbackContext,this.game)},resume:function(){this._created&&this.onResumedCallback&&this.onResumedCallback.call(this.callbackContext,this.game)},update:function(){this._created?this.onUpdateCallback&&this.onUpdateCallback.call(this.callbackContext,this.game):this.onLoadUpdateCallback&&this.onLoadUpdateCallback.call(this.callbackContext,this.game)},pauseUpdate:function(){this._created?this.onPauseUpdateCallback&&this.onPauseUpdateCallback.call(this.callbackContext,this.game):this.onLoadUpdateCallback&&this.onLoadUpdateCallback.call(this.callbackContext,this.game)},preRender:function(t){this._created&&this.onPreRenderCallback&&this.onPreRenderCallback.call(this.callbackContext,this.game,t)},resize:function(t,e){this.onResizeCallback&&this.onResizeCallback.call(this.callbackContext,t,e)},render:function(){this._created?this.onRenderCallback&&(this.game.renderType===i.CANVAS?(this.game.context.save(),this.game.context.setTransform(1,0,0,1,0,0),this.onRenderCallback.call(this.callbackContext,this.game),this.game.context.restore()):this.onRenderCallback.call(this.callbackContext,this.game)):this.onLoadRenderCallback&&this.onLoadRenderCallback.call(this.callbackContext,this.game)},destroy:function(){this._clearWorld=!0,this._clearCache=!0,this.clearCurrentState(),this.callbackContext=null,this.onInitCallback=null,this.onShutDownCallback=null,this.onPreloadCallback=null,this.onLoadRenderCallback=null,this.onLoadUpdateCallback=null,this.onCreateCallback=null,this.onUpdateCallback=null,this.onRenderCallback=null,this.onPausedCallback=null,this.onResumedCallback=null,this.onPauseUpdateCallback=null,this.game=null,this.states={},this._pendingState=null,this.current=""}},i.StateManager.prototype.constructor=i.StateManager,Object.defineProperty(i.StateManager.prototype,"created",{get:function(){return this._created}}),i.Signal=function(){},i.Signal.prototype={_bindings:null,_prevParams:null,memorize:!1,_shouldPropagate:!0,active:!0,_boundDispatch:!1,validateListener:function(t,e){if("function"!=typeof t)throw new Error("Phaser.Signal: listener is a required param of {fn}() and should be a Function.".replace("{fn}",e))},_registerListener:function(t,e,s,n,o){var r,a=this._indexOfListener(t,s);if(-1!==a){if((r=this._bindings[a]).isOnce()!==e)throw new Error("You cannot add"+(e?"":"Once")+"() then add"+(e?"Once":"")+"() the same listener without removing the relationship first.")}else r=new i.SignalBinding(this,t,e,s,n,o),this._addBinding(r);return this.memorize&&this._prevParams&&r.execute(this._prevParams),r},_addBinding:function(t){this._bindings||(this._bindings=[]);var e=this._bindings.length;do{e--}while(this._bindings[e]&&t._priority<=this._bindings[e]._priority);this._bindings.splice(e+1,0,t)},_indexOfListener:function(t,e){if(!this._bindings)return-1;void 0===e&&(e=null);for(var i,s=this._bindings.length;s--;)if((i=this._bindings[s])._listener===t&&i.context===e)return s;return-1},has:function(t,e){return-1!==this._indexOfListener(t,e)},add:function(t,e,i){this.validateListener(t,"add");var s=[];if(arguments.length>3)for(var n=3;n<arguments.length;n++)s.push(arguments[n]);return this._registerListener(t,!1,e,i,s)},addOnce:function(t,e,i){this.validateListener(t,"addOnce");var s=[];if(arguments.length>3)for(var n=3;n<arguments.length;n++)s.push(arguments[n]);return this._registerListener(t,!0,e,i,s)},remove:function(t,e){this.validateListener(t,"remove");var i=this._indexOfListener(t,e);return-1!==i&&(this._bindings[i]._destroy(),this._bindings.splice(i,1)),t},removeAll:function(t){if(void 0===t&&(t=null),this._bindings){for(var e=this._bindings.length;e--;)t?this._bindings[e].context===t&&(this._bindings[e]._destroy(),this._bindings.splice(e,1)):this._bindings[e]._destroy();t||(this._bindings.length=0)}},getNumListeners:function(){return this._bindings?this._bindings.length:0},halt:function(){this._shouldPropagate=!1},dispatch:function(){if(this.active&&this._bindings){var t,e=Array.prototype.slice.call(arguments),i=this._bindings.length;if(this.memorize&&(this._prevParams=e),i){t=this._bindings.slice(),this._shouldPropagate=!0;do{i--}while(t[i]&&this._shouldPropagate&&!1!==t[i].execute(e))}}},forget:function(){this._prevParams&&(this._prevParams=null)},dispose:function(){this.removeAll(),this._bindings=null,this._prevParams&&(this._prevParams=null)},toString:function(){return"[Phaser.Signal active:"+this.active+" numListeners:"+this.getNumListeners()+"]"}},Object.defineProperty(i.Signal.prototype,"boundDispatch",{get:function(){var t=this;return this._boundDispatch||(this._boundDispatch=function(){return t.dispatch.apply(t,arguments)})}}),i.Signal.prototype.constructor=i.Signal,i.SignalBinding=function(t,e,i,s,n,o){this._listener=e,i&&(this._isOnce=!0),null!=s&&(this.context=s),this._signal=t,n&&(this._priority=n),o&&o.length&&(this._args=o)},i.SignalBinding.prototype={context:null,_isOnce:!1,_priority:0,_args:null,callCount:0,active:!0,params:null,execute:function(t){var e,i;return this.active&&this._listener&&(i=this.params?this.params.concat(t):t,this._args&&(i=i.concat(this._args)),e=this._listener.apply(this.context,i),this.callCount++,this._isOnce&&this.detach()),e},detach:function(){return this.isBound()?this._signal.remove(this._listener,this.context):null},isBound:function(){return!!this._signal&&!!this._listener},isOnce:function(){return this._isOnce},getListener:function(){return this._listener},getSignal:function(){return this._signal},_destroy:function(){delete this._signal,delete this._listener,delete this.context},toString:function(){return"[Phaser.SignalBinding isOnce:"+this._isOnce+", isBound:"+this.isBound()+", active:"+this.active+"]"}},i.SignalBinding.prototype.constructor=i.SignalBinding,i.Filter=function(t,e,s){this.game=t,this.type=i.WEBGL_FILTER,this.passes=[this],this.shaders=[],this.dirty=!0,this.padding=0,this.prevPoint=new i.Point;var n=new Date;if(this.uniforms={resolution:{type:"2f",value:{x:256,y:256}},time:{type:"1f",value:0},mouse:{type:"2f",value:{x:0,y:0}},date:{type:"4fv",value:[n.getFullYear(),n.getMonth(),n.getDate(),60*n.getHours()*60+60*n.getMinutes()+n.getSeconds()]},sampleRate:{type:"1f",value:44100},iChannel0:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel1:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel2:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel3:{type:"sampler2D",value:null,textureData:{repeat:!0}}},e)for(var o in e)this.uniforms[o]=e[o];"string"==typeof s&&(s=s.split("\n")),this.fragmentSrc=s||[]},i.Filter.prototype={init:function(){},setResolution:function(t,e){this.uniforms.resolution.value.x=t,this.uniforms.resolution.value.y=e},update:function(t){if(t){var e=t.x/this.game.width,i=1-t.y/this.game.height;e===this.prevPoint.x&&i===this.prevPoint.y||(this.uniforms.mouse.value.x=e.toFixed(2),this.uniforms.mouse.value.y=i.toFixed(2),this.prevPoint.set(e,i))}this.uniforms.time.value=this.game.time.totalElapsedSeconds()},addToWorld:function(t,e,s,n,o,r){void 0===o&&(o=0),void 0===r&&(r=0),void 0!==s&&null!==s?this.width=s:s=this.width,void 0!==n&&null!==n?this.height=n:n=this.height;var a=this.game.add.image(t,e,i.Cache.DEFAULT);return a.width=s,a.height=n,a.anchor.set(o,r),a.filters=[this],a},syncUniforms:function(){for(var t=0;t<this.shaders.length;t++)this.shaders[t].dirty=!0},destroy:function(){this.passes.length=0,this.shaders.length=0,this.fragmentSrc.length=0,this.game=null,this.uniforms=null,this.prevPoint=null}},i.Filter.prototype.constructor=i.Filter,Object.defineProperty(i.Filter.prototype,"width",{get:function(){return this.uniforms.resolution.value.x},set:function(t){this.uniforms.resolution.value.x=t}}),Object.defineProperty(i.Filter.prototype,"height",{get:function(){return this.uniforms.resolution.value.y},set:function(t){this.uniforms.resolution.value.y=t}}),i.Plugin=function(t,e){void 0===e&&(e=null),this.game=t,this.parent=e,this.active=!1,this.visible=!1,this.hasPreUpdate=!1,this.hasUpdate=!1,this.hasPostUpdate=!1,this.hasRender=!1,this.hasPostRender=!1},i.Plugin.prototype={preUpdate:function(){},update:function(){},render:function(){},postRender:function(){},destroy:function(){this.game=null,this.parent=null,this.active=!1,this.visible=!1}},i.Plugin.prototype.constructor=i.Plugin,i.PluginManager=function(t){this.game=t,this.plugins=[],this._len=0,this._i=0},i.PluginManager.prototype={add:function(t){var e=Array.prototype.slice.call(arguments,1),i=!1;return"function"==typeof t?t=new t(this.game,this):(t.game=this.game,t.parent=this),"function"==typeof t.preUpdate&&(t.hasPreUpdate=!0,i=!0),"function"==typeof t.update&&(t.hasUpdate=!0,i=!0),"function"==typeof t.postUpdate&&(t.hasPostUpdate=!0,i=!0),"function"==typeof t.render&&(t.hasRender=!0,i=!0),"function"==typeof t.postRender&&(t.hasPostRender=!0,i=!0),i?((t.hasPreUpdate||t.hasUpdate||t.hasPostUpdate)&&(t.active=!0),(t.hasRender||t.hasPostRender)&&(t.visible=!0),this._len=this.plugins.push(t),"function"==typeof t.init&&t.init.apply(t,e),t):null},remove:function(t,e){for(void 0===e&&(e=!0),this._i=this._len;this._i--;)if(this.plugins[this._i]===t)return e&&t.destroy(),this.plugins.splice(this._i,1),void this._len--},removeAll:function(){for(this._i=this._len;this._i--;)this.plugins[this._i].destroy();this.plugins.length=0,this._len=0},preUpdate:function(){for(this._i=this._len;this._i--;)this.plugins[this._i].active&&this.plugins[this._i].hasPreUpdate&&this.plugins[this._i].preUpdate()},update:function(){for(this._i=this._len;this._i--;)this.plugins[this._i].active&&this.plugins[this._i].hasUpdate&&this.plugins[this._i].update()},postUpdate:function(){for(this._i=this._len;this._i--;)this.plugins[this._i].active&&this.plugins[this._i].hasPostUpdate&&this.plugins[this._i].postUpdate()},render:function(){for(this._i=this._len;this._i--;)this.plugins[this._i].visible&&this.plugins[this._i].hasRender&&this.plugins[this._i].render()},postRender:function(){for(this._i=this._len;this._i--;)this.plugins[this._i].visible&&this.plugins[this._i].hasPostRender&&this.plugins[this._i].postRender()},destroy:function(){this.removeAll(),this.game=null}},i.PluginManager.prototype.constructor=i.PluginManager,i.Stage=function(t){this.game=t,PIXI.DisplayObjectContainer.call(this),this.name="_stage_root",this.disableVisibilityChange=!1,this.exists=!0,this.worldTransform=new i.Matrix,this.stage=this,this.currentRenderOrderID=0,this._hiddenVar="hidden",this._onChange=null,this._bgColor={r:0,g:0,b:0,a:0,color:0,rgba:"#000000"},this.game.transparent||(this._bgColor.a=1),t.config&&this.parseConfig(t.config)},i.Stage.prototype=Object.create(PIXI.DisplayObjectContainer.prototype),i.Stage.prototype.constructor=i.Stage,i.Stage.prototype.parseConfig=function(t){t.disableVisibilityChange&&(this.disableVisibilityChange=t.disableVisibilityChange),t.backgroundColor&&this.setBackgroundColor(t.backgroundColor)},i.Stage.prototype.boot=function(){i.DOM.getOffset(this.game.canvas,this.offset),i.Canvas.setUserSelect(this.game.canvas,"none"),i.Canvas.setTouchAction(this.game.canvas,"none"),this.checkVisibility()},i.Stage.prototype.preUpdate=function(){this.currentRenderOrderID=0;for(var t=0;t<this.children.length;){var e=this.children[t];e.preUpdate(),this===e.parent&&t++}},i.Stage.prototype.update=function(){for(var t=this.children.length;t--;)this.children[t].update()},i.Stage.prototype.postUpdate=function(){this.game.camera.update(),this.game.camera.target&&(this.game.camera.target.postUpdate(),this.updateTransform(),this.game.camera.updateTarget());for(var t=0;t<this.children.length;t++)this.children[t].postUpdate();this.updateTransform()},i.Stage.prototype.updateTransform=function(){this.worldAlpha=1;for(var t=0;t<this.children.length;t++)this.children[t].updateTransform()},i.Stage.prototype.checkVisibility=function(){void 0!==document.hidden?this._hiddenVar="visibilitychange":void 0!==document.webkitHidden?this._hiddenVar="webkitvisibilitychange":void 0!==document.mozHidden?this._hiddenVar="mozvisibilitychange":void 0!==document.msHidden?this._hiddenVar="msvisibilitychange":this._hiddenVar=null;var t=this;this._onChange=function(e){return t.visibilityChange(e)},this._onClick=function(e){void 0===document.hasFocus||document.hasFocus()||t.visibilityChange(e)},this._hiddenVar&&document.addEventListener(this._hiddenVar,this._onChange,!1),window.onblur=this._onChange,window.onfocus=this._onChange,window.onpagehide=this._onChange,window.onpageshow=this._onChange,window.addEventListener("click",this._onClick),this.game.device.cocoonJSApp&&(CocoonJS.App.onSuspended.addEventListener(function(){i.Stage.prototype.visibilityChange.call(t,{type:"pause"})}),CocoonJS.App.onActivated.addEventListener(function(){i.Stage.prototype.visibilityChange.call(t,{type:"resume"})}))},i.Stage.prototype.visibilityChange=function(t){switch(t.type){case"blur":case"pagehide":return void this.game.focusLoss(t);case"click":case"focus":case"pageshow":return void this.game.focusGain(t)}this.disableVisibilityChange||(document.hidden||document.mozHidden||document.msHidden||document.webkitHidden||"pause"===t.type?this.game.gamePaused(t):this.game.gameResumed(t))},i.Stage.prototype.setBackgroundColor=function(t){this.game.transparent||(i.Color.valueToColor(t,this._bgColor),i.Color.updateColor(this._bgColor),this._bgColor.r/=255,this._bgColor.g/=255,this._bgColor.b/=255,this._bgColor.a=1)},i.Stage.prototype.destroy=function(){this._hiddenVar&&document.removeEventListener(this._hiddenVar,this._onChange,!1),window.onpagehide=null,window.onpageshow=null,window.onblur=null,window.onfocus=null,window.removeEventListener("click",this._onClick)},i.Stage.prototype.add=function(t,e,i){return t.parent===this?t:(t.body&&t.parent&&t.parent.hash&&t.parent.removeFromHash(t),void 0===i?this.addChild(t):this.addChildAt(t,i),t)},Object.defineProperty(i.Stage.prototype,"backgroundColor",{get:function(){return this._bgColor.color},set:function(t){this.setBackgroundColor(t)}}),Object.defineProperty(i.Stage.prototype,"smoothed",{get:function(){return PIXI.scaleModes.DEFAULT===PIXI.scaleModes.LINEAR},set:function(t){PIXI.scaleModes.DEFAULT=t?PIXI.scaleModes.LINEAR:PIXI.scaleModes.NEAREST}}),i.Group=function(t,e,s,n,o,r){void 0===n&&(n=!1),void 0===o&&(o=!1),void 0===r&&(r=i.Physics.ARCADE),this.game=t,void 0===e&&(e=t.world),this.name=s||"group",this.z=0,PIXI.DisplayObjectContainer.call(this),n?(this.game.stage.addChild(this),this.z=this.game.stage.children.length):e&&(e.addChild(this),this.z=e.children.length),this.type=i.GROUP,this.physicsType=i.GROUP,this.alive=!0,this.exists=!0,this.ignoreDestroy=!1,this.pendingDestroy=!1,this.classType=i.Sprite,this.cursor=null,this.inputEnableChildren=!1,this.updateOnlyExistingChildren=!1,this.onChildInputDown=new i.Signal,this.onChildInputUp=new i.Signal,this.onChildInputOver=new i.Signal,this.onChildInputOut=new i.Signal,this.enableBody=o,this.enableBodyDebug=!1,this.physicsBodyType=r,this.physicsSortDirection=null,this.onDestroy=new i.Signal,this.cursorIndex=0,this.fixedToCamera=!1,this.cameraOffset=new i.Point,this.hash=[],this._sortProperty="z"},i.Group.prototype=Object.create(PIXI.DisplayObjectContainer.prototype),i.Group.prototype.constructor=i.Group,i.Group.RETURN_NONE=0,i.Group.RETURN_TOTAL=1,i.Group.RETURN_CHILD=2,i.Group.RETURN_ALL=3,i.Group.SORT_ASCENDING=-1,i.Group.SORT_DESCENDING=1,i.Group.prototype.add=function(t,e,i){return void 0===e&&(e=!1),t.parent===this?t:(t.body&&t.parent&&t.parent.hash&&t.parent.removeFromHash(t),void 0===i?(t.z=this.children.length,this.addChild(t)):(this.addChildAt(t,i),this.updateZ()),this.enableBody&&t.hasOwnProperty("body")&&null===t.body?this.game.physics.enable(t,this.physicsBodyType):t.body&&this.addToHash(t),!this.inputEnableChildren||t.input&&!t.inputEnabled||(t.inputEnabled=!0),!e&&t.events&&t.events.onAddedToGroup$dispatch(t,this),null===this.cursor&&(this.cursor=t),t)},i.Group.prototype.addAt=function(t,e,i){return this.add(t,i,e)},i.Group.prototype.addToHash=function(t){return t.parent===this&&-1===this.hash.indexOf(t)&&(this.hash.push(t),!0)},i.Group.prototype.removeFromHash=function(t){if(t){var e=this.hash.indexOf(t);if(-1!==e)return this.hash.splice(e,1),!0}return!1},i.Group.prototype.addMultiple=function(t,e){if(t instanceof i.Group)t.moveAll(this,e);else if(Array.isArray(t))for(var s=0;s<t.length;s++)this.add(t[s],e);return t},i.Group.prototype.getAt=function(t){return t<0||t>=this.children.length?-1:this.getChildAt(t)},i.Group.prototype.create=function(t,e,i,s,n,o){void 0===n&&(n=!0);var r=new this.classType(this.game,t,e,i,s);return r.exists=n,r.visible=n,r.alive=n,this.add(r,!1,o)},i.Group.prototype.createMultiple=function(t,e,i,s,n,o){void 0===i&&(i=0),void 0===s&&(s=!1),Array.isArray(e)||(e=[e]),Array.isArray(i)||(i=[i]);var r=this,a=[];return e.forEach(function(e){i.forEach(function(i){for(var h=0;h<t;h++){var l=r.create(0,0,e,i,s);n&&n.call(o||l,l,h),a.push(l)}})}),a},i.Group.prototype.updateZ=function(){for(var t=this.children.length;t--;)this.children[t].z=t},i.Group.prototype.align=function(t,e,s,n,o,r){if(void 0===o&&(o=i.TOP_LEFT),void 0===r&&(r=0),0===this.children.length||r>this.children.length||-1===t&&-1===e)return!1;for(var a=new i.Rectangle(0,0,s,n),h=t*s,l=e*n,c=r;c<this.children.length;c++){var u=this.children[c];if(u.alignIn)if(u.alignIn(a,o),-1===t)a.y+=n,a.y===l&&(a.x+=s,a.y=0);else if(-1===e)a.x+=s,a.x===h&&(a.x=0,a.y+=n);else if(a.x+=s,a.x===h&&(a.x=0,a.y+=n,a.y===l))return!0}return!0},i.Group.prototype.resetCursor=function(t){if(void 0===t&&(t=0),t>this.children.length-1&&(t=0),this.cursor)return this.cursorIndex=t,this.cursor=this.children[this.cursorIndex],this.cursor},i.Group.prototype.next=function(){if(this.cursor)return this.cursorIndex>=this.children.length-1?this.cursorIndex=0:this.cursorIndex++,this.cursor=this.children[this.cursorIndex],this.cursor},i.Group.prototype.previous=function(){if(this.cursor)return 0===this.cursorIndex?this.cursorIndex=this.children.length-1:this.cursorIndex--,this.cursor=this.children[this.cursorIndex],this.cursor},i.Group.prototype.swap=function(t,e){this.swapChildren(t,e),this.updateZ()},i.Group.prototype.bringToTop=function(t){return t.parent===this&&this.getIndex(t)<this.children.length&&(this.remove(t,!1,!0),this.add(t,!0)),t},i.Group.prototype.sendToBack=function(t){return t.parent===this&&this.getIndex(t)>0&&(this.remove(t,!1,!0),this.addAt(t,0,!0)),t},i.Group.prototype.moveUp=function(t){if(t.parent===this&&this.getIndex(t)<this.children.length-1){var e=this.getIndex(t),i=this.getAt(e+1);i&&this.swap(t,i)}return t},i.Group.prototype.moveDown=function(t){if(t.parent===this&&this.getIndex(t)>0){var e=this.getIndex(t),i=this.getAt(e-1);i&&this.swap(t,i)}return t},i.Group.prototype.xy=function(t,e,i){if(t<0||t>this.children.length)return-1;this.getChildAt(t).x=e,this.getChildAt(t).y=i},i.Group.prototype.reverse=function(){this.children.reverse(),this.updateZ()},i.Group.prototype.getIndex=function(t){return this.children.indexOf(t)},i.Group.prototype.getByName=function(t){for(var e=0;e<this.children.length;e++)if(this.children[e].name===t)return this.children[e];return null},i.Group.prototype.replace=function(t,e){var s=this.getIndex(t);if(-1!==s)return e.parent&&(e.parent instanceof i.Group?e.parent.remove(e):e.parent.removeChild(e)),this.remove(t),this.addAt(e,s),t},i.Group.prototype.hasProperty=function(t,e){var i=e.length;return 1===i&&e[0]in t||(2===i&&e[0]in t&&e[1]in t[e[0]]||(3===i&&e[0]in t&&e[1]in t[e[0]]&&e[2]in t[e[0]][e[1]]||4===i&&e[0]in t&&e[1]in t[e[0]]&&e[2]in t[e[0]][e[1]]&&e[3]in t[e[0]][e[1]][e[2]]))},i.Group.prototype.setProperty=function(t,e,i,s,n){if(void 0===n&&(n=!1),s=s||0,!this.hasProperty(t,e)&&(!n||s>0))return!1;var o=e.length;return 1===o?0===s?t[e[0]]=i:1===s?t[e[0]]+=i:2===s?t[e[0]]-=i:3===s?t[e[0]]*=i:4===s&&(t[e[0]]/=i):2===o?0===s?t[e[0]][e[1]]=i:1===s?t[e[0]][e[1]]+=i:2===s?t[e[0]][e[1]]-=i:3===s?t[e[0]][e[1]]*=i:4===s&&(t[e[0]][e[1]]/=i):3===o?0===s?t[e[0]][e[1]][e[2]]=i:1===s?t[e[0]][e[1]][e[2]]+=i:2===s?t[e[0]][e[1]][e[2]]-=i:3===s?t[e[0]][e[1]][e[2]]*=i:4===s&&(t[e[0]][e[1]][e[2]]/=i):4===o&&(0===s?t[e[0]][e[1]][e[2]][e[3]]=i:1===s?t[e[0]][e[1]][e[2]][e[3]]+=i:2===s?t[e[0]][e[1]][e[2]][e[3]]-=i:3===s?t[e[0]][e[1]][e[2]][e[3]]*=i:4===s&&(t[e[0]][e[1]][e[2]][e[3]]/=i)),!0},i.Group.prototype.checkProperty=function(t,e,s,n){if(void 0===n&&(n=!1),this!==t.parent)return!1;var o=i.Utils.getProperty(t,e);return!(void 0===o&&n||o!==s)},i.Group.prototype.set=function(t,e,i,s,n,o,r){if(void 0===r&&(r=!1),e=e.split("."),void 0===s&&(s=!1),void 0===n&&(n=!1),(!1===s||s&&t.alive)&&(!1===n||n&&t.visible))return this.setProperty(t,e,i,o,r)},i.Group.prototype.setAll=function(t,e,i,s,n,o){void 0===i&&(i=!1),void 0===s&&(s=!1),void 0===o&&(o=!1),t=t.split("."),n=n||0;for(var r=0;r<this.children.length;r++)(!i||i&&this.children[r].alive)&&(!s||s&&this.children[r].visible)&&this.setProperty(this.children[r],t,e,n,o)},i.Group.prototype.setAllChildren=function(t,e,s,n,o,r){void 0===s&&(s=!1),void 0===n&&(n=!1),void 0===r&&(r=!1),o=o||0;for(var a=0;a<this.children.length;a++)(!s||s&&this.children[a].alive)&&(!n||n&&this.children[a].visible)&&(this.children[a]instanceof i.Group?this.children[a].setAllChildren(t,e,s,n,o,r):this.setProperty(this.children[a],t.split("."),e,o,r))},i.Group.prototype.checkAll=function(t,e,i,s,n){void 0===i&&(i=!1),void 0===s&&(s=!1),void 0===n&&(n=!1);for(var o=0;o<this.children.length;o++){var r=this.children[o];if((!i||i&&r.alive)&&(!s||s&&r.visible)&&!this.checkProperty(r,t,e,n))return!1}return!0},i.Group.prototype.checkAny=function(t,e,i,s){void 0===i&&(i=!1),void 0===s&&(s=!1);for(var n=0;n<this.children.length;n++){var o=this.children[n];if((!i||i&&o.alive)&&(!s||s&&o.visible)&&this.checkProperty(o,t,e))return!0}return!1},i.Group.prototype.addAll=function(t,e,i,s){this.setAll(t,e,i,s,1)},i.Group.prototype.subAll=function(t,e,i,s){this.setAll(t,e,i,s,2)},i.Group.prototype.multiplyAll=function(t,e,i,s){this.setAll(t,e,i,s,3)},i.Group.prototype.divideAll=function(t,e,i,s){this.setAll(t,e,i,s,4)},i.Group.prototype.kill=function(){this.alive=!1,this.exists=!1,this.visible=!1},i.Group.prototype.killAll=function(){this.callAllExists("kill",!0)},i.Group.prototype.revive=function(){this.alive=!0,this.exists=!0,this.visible=!0},i.Group.prototype.reviveAll=function(){this.callAllExists("revive",!1)},i.Group.prototype.resetAll=function(t,e,i,s,n){this.forEach(this.resetChild,this,n,t,e,i,s)},i.Group.prototype.callAllExists=function(t,e){var i;if(arguments.length>2){i=[];for(s=2;s<arguments.length;s++)i.push(arguments[s])}for(var s=0;s<this.children.length;s++)this.children[s].exists===e&&this.children[s][t]&&this.children[s][t].apply(this.children[s],i)},i.Group.prototype.callbackFromArray=function(t,e,i){if(1===i){if(t[e[0]])return t[e[0]]}else if(2===i){if(t[e[0]][e[1]])return t[e[0]][e[1]]}else if(3===i){if(t[e[0]][e[1]][e[2]])return t[e[0]][e[1]][e[2]]}else if(4===i){if(t[e[0]][e[1]][e[2]][e[3]])return t[e[0]][e[1]][e[2]][e[3]]}else if(t[e])return t[e];return!1},i.Group.prototype.callAll=function(t,e){if(void 0!==t){var i=(t=t.split(".")).length;if(void 0===e||null===e||""===e)e=null;else if("string"==typeof e)var s=(e=e.split(".")).length;var n;if(arguments.length>2){n=[];for(a=2;a<arguments.length;a++)n.push(arguments[a])}for(var o=null,r=null,a=0;a<this.children.length;a++)o=this.callbackFromArray(this.children[a],t,i),e&&o?(r=this.callbackFromArray(this.children[a],e,s),o&&o.apply(r,n)):o&&o.apply(this.children[a],n)}},i.Group.prototype.preUpdate=function(){if(this.pendingDestroy)return this.destroy(),!1;if(!this.exists||!this.parent.exists)return this.renderOrderID=-1,!1;for(var t=0;t<this.children.length;){var e=this.children[t];e.preUpdate(),this===e.parent&&t++}return!0},i.Group.prototype.update=function(){for(var t=this.children.length;t--;){var e=this.children.length;t>=e&&(t=e-1);var i=this.children[t];this.updateOnlyExistingChildren&&!i.exists||i.update()}},i.Group.prototype.postUpdate=function(){this.fixedToCamera&&(this.x=(this.game.camera.view.x+this.cameraOffset.x)/this.game.camera.scale.x,this.y=(this.game.camera.view.y+this.cameraOffset.y)/this.game.camera.scale.y);for(var t=0;t<this.children.length;t++)this.children[t].postUpdate()},i.Group.prototype.filter=function(t,e){for(var s=-1,n=this.children.length,o=[];++s<n;){var r=this.children[s];(!e||e&&r.exists)&&t(r,s,this.children)&&o.push(r)}return new i.ArraySet(o)},i.Group.prototype.forEach=function(t,e,i){if(void 0===i&&(i=!1),arguments.length<=3)for(n=0;n<this.children.length;n++)(!i||i&&this.children[n].exists)&&t.call(e,this.children[n]);else{for(var s=[null],n=3;n<arguments.length;n++)s.push(arguments[n]);for(n=0;n<this.children.length;n++)(!i||i&&this.children[n].exists)&&(s[0]=this.children[n],t.apply(e,s))}},i.Group.prototype.forEachExists=function(t,e){var s;if(arguments.length>2){s=[null];for(var n=2;n<arguments.length;n++)s.push(arguments[n])}this.iterate("exists",!0,i.Group.RETURN_TOTAL,t,e,s)},i.Group.prototype.forEachAlive=function(t,e){var s;if(arguments.length>2){s=[null];for(var n=2;n<arguments.length;n++)s.push(arguments[n])}this.iterate("alive",!0,i.Group.RETURN_TOTAL,t,e,s)},i.Group.prototype.forEachDead=function(t,e){var s;if(arguments.length>2){s=[null];for(var n=2;n<arguments.length;n++)s.push(arguments[n])}this.iterate("alive",!1,i.Group.RETURN_TOTAL,t,e,s)},i.Group.prototype.sort=function(t,e){this.children.length<2||(void 0===t&&(t="z"),void 0===e&&(e=i.Group.SORT_ASCENDING),this._sortProperty=t,e===i.Group.SORT_ASCENDING?this.children.sort(this.ascendingSortHandler.bind(this)):this.children.sort(this.descendingSortHandler.bind(this)),this.updateZ())},i.Group.prototype.customSort=function(t,e){this.children.length<2||(this.children.sort(t.bind(e)),this.updateZ())},i.Group.prototype.ascendingSortHandler=function(t,e){return t[this._sortProperty]<e[this._sortProperty]?-1:t[this._sortProperty]>e[this._sortProperty]?1:t.z<e.z?-1:1},i.Group.prototype.descendingSortHandler=function(t,e){return t[this._sortProperty]<e[this._sortProperty]?1:t[this._sortProperty]>e[this._sortProperty]?-1:0},i.Group.prototype.iterate=function(t,e,s,n,o,r){if(0===this.children.length){if(s===i.Group.RETURN_TOTAL)return 0;if(s===i.Group.RETURN_ALL)return[]}var a=0;if(s===i.Group.RETURN_ALL)var h=[];for(var l=0;l<this.children.length;l++)if(this.children[l][t]===e){if(a++,n&&(r?(r[0]=this.children[l],n.apply(o,r)):n.call(o,this.children[l])),s===i.Group.RETURN_CHILD)return this.children[l];s===i.Group.RETURN_ALL&&h.push(this.children[l])}return s===i.Group.RETURN_TOTAL?a:s===i.Group.RETURN_ALL?h:null},i.Group.prototype.getFirst=function(t,e){return this.iterate(t,e,i.Group.RETURN_CHILD)},i.Group.prototype.getFirstExists=function(t,e,i,s,n,o){void 0===e&&(e=!1),"boolean"!=typeof t&&(t=!0);var r=this.getFirst("exists",t);return null===r&&e?this.create(i,s,n,o):this.resetChild(r,i,s,n,o)},i.Group.prototype.getFirstAlive=function(t,e,i,s,n){void 0===t&&(t=!1);var o=this.getFirst("alive",!0);return null===o&&t?this.create(e,i,s,n):this.resetChild(o,e,i,s,n)},i.Group.prototype.getFirstDead=function(t,e,i,s,n){void 0===t&&(t=!1);var o=this.getFirst("alive",!1);return null===o&&t?this.create(e,i,s,n):this.resetChild(o,e,i,s,n)},i.Group.prototype.resetChild=function(t,e,i,s,n){return null===t?null:(void 0===e&&(e=null),void 0===i&&(i=null),null!==e&&null!==i&&t.reset(e,i),void 0!==s&&t.loadTexture(s,n),t)},i.Group.prototype.getTop=function(){if(this.children.length>0)return this.children[this.children.length-1]},i.Group.prototype.getBottom=function(){if(this.children.length>0)return this.children[0]},i.Group.prototype.getClosestTo=function(t,e,s){for(var n=Number.MAX_VALUE,o=0,r=null,a=0;a<this.children.length;a++){var h=this.children[a];h.exists&&(o=Math.abs(i.Point.distance(t,h)))<n&&(!e||e.call(s,h,o))&&(n=o,r=h)}return r},i.Group.prototype.getFurthestFrom=function(t,e,s){for(var n=0,o=0,r=null,a=0;a<this.children.length;a++){var h=this.children[a];h.exists&&(o=Math.abs(i.Point.distance(t,h)))>n&&(!e||e.call(s,h,o))&&(n=o,r=h)}return r},i.Group.prototype.count=function(t,e){return this.iterate(t,e,i.Group.RETURN_TOTAL)},i.Group.prototype.countLiving=function(){return this.count("alive",!0)},i.Group.prototype.countDead=function(){return this.count("alive",!1)},i.Group.prototype.getRandom=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=this.children.length),0===e?null:i.ArrayUtils.getRandomItem(this.children,t,e)},i.Group.prototype.getRandomExists=function(t,e){var i=this.getAll("exists",!0,t,e);return this.game.rnd.pick(i)},i.Group.prototype.getAll=function(t,e,i,s){void 0===i&&(i=0),void 0===s&&(s=this.children.length);for(var n=[],o=i;o<s;o++){var r=this.children[o];t?r[t]===e&&n.push(r):n.push(r)}return n},i.Group.prototype.remove=function(t,e,i){if(void 0===e&&(e=!1),void 0===i&&(i=!1),0===this.children.length||-1===this.children.indexOf(t))return!1;i||!t.events||t.destroyPhase||t.events.onRemovedFromGroup$dispatch(t,this);var s=this.removeChild(t);return this.removeFromHash(t),this.updateZ(),this.cursor===t&&this.next(),e&&s&&s.destroy(!0),!0},i.Group.prototype.moveAll=function(t,e){if(void 0===e&&(e=!1),this.children.length>0&&t instanceof i.Group){do{t.add(this.children[0],e)}while(this.children.length>0);this.hash=[],this.cursor=null}return t},i.Group.prototype.removeAll=function(t,e,i){if(void 0===t&&(t=!1),void 0===e&&(e=!1),void 0===i&&(i=!1),0!==this.children.length){do{!e&&this.children[0].events&&this.children[0].events.onRemovedFromGroup$dispatch(this.children[0],this);var s=this.removeChild(this.children[0]);this.removeFromHash(s),t&&s&&s.destroy(!0,i)}while(this.children.length>0);this.hash=[],this.cursor=null}},i.Group.prototype.removeBetween=function(t,e,i,s){if(void 0===e&&(e=this.children.length-1),void 0===i&&(i=!1),void 0===s&&(s=!1),0!==this.children.length){if(t>e||t<0||e>this.children.length)return!1;for(var n=e;n>=t;){!s&&this.children[n].events&&this.children[n].events.onRemovedFromGroup$dispatch(this.children[n],this);var o=this.removeChild(this.children[n]);this.removeFromHash(o),i&&o&&o.destroy(!0),this.cursor===this.children[n]&&(this.cursor=null),n--}this.updateZ()}},i.Group.prototype.scatter=function(t,e){null==t&&(t=this.game.world.bounds),this.forEach(function(e){e.position.set(t.randomX,t.randomY)},null,e)},i.Group.prototype.shuffle=function(){i.ArrayUtils.shuffle(this.children),this.updateZ()},i.Group.prototype.destroy=function(t,e){null===this.game||this.ignoreDestroy||(void 0===t&&(t=!0),void 0===e&&(e=!1),this.onDestroy.dispatch(this,t,e),this.removeAll(t),this.cursor=null,this.filters=null,this.pendingDestroy=!1,e||(this.parent&&this.parent.removeChild(this),this.game=null,this.exists=!1))},Object.defineProperty(i.Group.prototype,"total",{get:function(){return this.iterate("exists",!0,i.Group.RETURN_TOTAL)}}),Object.defineProperty(i.Group.prototype,"length",{get:function(){return this.children.length}}),Object.defineProperty(i.Group.prototype,"angle",{get:function(){return i.Math.radToDeg(this.rotation)},set:function(t){this.rotation=i.Math.degToRad(t)}}),Object.defineProperty(i.Group.prototype,"centerX",{get:function(){return this.getBounds(this.parent).centerX},set:function(t){var e=this.getBounds(this.parent),i=this.x-e.x;this.x=t+i-e.halfWidth}}),Object.defineProperty(i.Group.prototype,"centerY",{get:function(){return this.getBounds(this.parent).centerY},set:function(t){var e=this.getBounds(this.parent),i=this.y-e.y;this.y=t+i-e.halfHeight}}),Object.defineProperty(i.Group.prototype,"left",{get:function(){return this.getBounds(this.parent).left},set:function(t){var e=this.getBounds(this.parent),i=this.x-e.x;this.x=t+i}}),Object.defineProperty(i.Group.prototype,"right",{get:function(){return this.getBounds(this.parent).right},set:function(t){var e=this.getBounds(this.parent),i=this.x-e.x;this.x=t+i-e.width}}),Object.defineProperty(i.Group.prototype,"top",{get:function(){return this.getBounds(this.parent).top},set:function(t){var e=this.getBounds(this.parent),i=this.y-e.y;this.y=t+i}}),Object.defineProperty(i.Group.prototype,"bottom",{get:function(){return this.getBounds(this.parent).bottom},set:function(t){var e=this.getBounds(this.parent),i=this.y-e.y;this.y=t+i-e.height}}),i.World=function(t){i.Group.call(this,t,null,"__world",!1),this.bounds=new i.Rectangle(0,0,t.width,t.height),this.camera=null,this._definedSize=!1,this._width=t.width,this._height=t.height,this.game.state.onStateChange.add(this.stateChange,this)},i.World.prototype=Object.create(i.Group.prototype),i.World.prototype.constructor=i.World,i.World.prototype.boot=function(){this.camera=new i.Camera(this.game,0,0,0,this.game.width,this.game.height),this.game.stage.addChild(this),this.camera.boot()},i.World.prototype.stateChange=function(){this.x=0,this.y=0,this.camera.reset()},i.World.prototype.setBounds=function(t,e,i,s){this._definedSize=!0,this._width=i,this._height=s,this.bounds.setTo(t,e,i,s),this.x=t,this.y=e,this.camera.bounds&&this.camera.bounds.setTo(t,e,Math.max(i,this.game.width),Math.max(s,this.game.height)),this.game.physics.setBoundsToWorld()},i.World.prototype.resize=function(t,e){this._definedSize&&(t<this._width&&(t=this._width),e<this._height&&(e=this._height)),this.bounds.width=t,this.bounds.height=e,this.game.camera.setBoundsToWorld(),this.game.physics.setBoundsToWorld()},i.World.prototype.shutdown=function(){this.destroy(!0,!0)},i.World.prototype.wrap=function(t,e,i,s,n){void 0===e&&(e=0),void 0===i&&(i=!1),void 0===s&&(s=!0),void 0===n&&(n=!0),i?(t.getBounds(),s&&(t.x+t._currentBounds.width<this.bounds.x?t.x=this.bounds.right:t.x>this.bounds.right&&(t.x=this.bounds.left)),n&&(t.y+t._currentBounds.height<this.bounds.top?t.y=this.bounds.bottom:t.y>this.bounds.bottom&&(t.y=this.bounds.top))):(s&&t.x+e<this.bounds.x?t.x=this.bounds.right+e:s&&t.x-e>this.bounds.right&&(t.x=this.bounds.left-e),n&&t.y+e<this.bounds.top?t.y=this.bounds.bottom+e:n&&t.y-e>this.bounds.bottom&&(t.y=this.bounds.top-e))},i.World.prototype.wrapAll=function(t,e,i,s,n,o){t.forEach(this.wrap,this,e,i,s,n,o)},Object.defineProperty(i.World.prototype,"width",{get:function(){return this.bounds.width},set:function(t){t<this.game.width&&(t=this.game.width),this.bounds.width=t,this._width=t,this._definedSize=!0}}),Object.defineProperty(i.World.prototype,"height",{get:function(){return this.bounds.height},set:function(t){t<this.game.height&&(t=this.game.height),this.bounds.height=t,this._height=t,this._definedSize=!0}}),Object.defineProperty(i.World.prototype,"centerX",{get:function(){return this.bounds.halfWidth+this.bounds.x}}),Object.defineProperty(i.World.prototype,"centerY",{get:function(){return this.bounds.halfHeight+this.bounds.y}}),Object.defineProperty(i.World.prototype,"randomX",{get:function(){return this.bounds.x<0?this.game.rnd.between(this.bounds.x,this.bounds.width-Math.abs(this.bounds.x)):this.game.rnd.between(this.bounds.x,this.bounds.width)}}),Object.defineProperty(i.World.prototype,"randomY",{get:function(){return this.bounds.y<0?this.game.rnd.between(this.bounds.y,this.bounds.height-Math.abs(this.bounds.y)):this.game.rnd.between(this.bounds.y,this.bounds.height)}}),i.Game=function(t,e,s,n,o,r,a,h){return this.id=i.GAMES.push(this)-1,this.config=null,this.physicsConfig=h,this.parent="",this.width=800,this.height=600,this.resolution=1,this._width=800,this._height=600,this.transparent=!1,this.antialias=!0,this.multiTexture=!1,this.preserveDrawingBuffer=!1,this.clearBeforeRender=!0,this.renderer=null,this.renderType=i.AUTO,this.state=null,this.isBooted=!1,this.isRunning=!1,this.raf=null,this.add=null,this.make=null,this.cache=null,this.input=null,this.load=null,this.math=null,this.net=null,this.scale=null,this.sound=null,this.stage=null,this.time=null,this.tweens=null,this.world=null,this.physics=null,this.plugins=null,this.rnd=null,this.device=i.Device,this.camera=null,this.canvas=null,this.context=null,this.debug=null,this.particles=null,this.create=null,this.lockRender=!1,this.stepping=!1,this.pendingStep=!1,this.stepCount=0,this.onPause=null,this.onResume=null,this.onBlur=null,this.onFocus=null,this._paused=!1,this._codePaused=!1,this.currentUpdateID=0,this.updatesThisFrame=1,this._deltaTime=0,this._lastCount=0,this._spiraling=0,this._kickstart=!0,this.fpsProblemNotifier=new i.Signal,this.forceSingleUpdate=!0,this._nextFpsNotification=0,1===arguments.length&&"object"==typeof arguments[0]?this.parseConfig(arguments[0]):(this.config={enableDebug:!0},void 0!==t&&(this._width=t),void 0!==e&&(this._height=e),void 0!==s&&(this.renderType=s),void 0!==n&&(this.parent=n),void 0!==r&&(this.transparent=r),void 0!==a&&(this.antialias=a),this.rnd=new i.RandomDataGenerator([(Date.now()*Math.random()).toString()]),this.state=new i.StateManager(this,o)),this.device.whenReady(this.boot,this),this},i.Game.prototype={parseConfig:function(t){this.config=t,void 0===t.enableDebug&&(this.config.enableDebug=!0),t.width&&(this._width=t.width),t.height&&(this._height=t.height),t.renderer&&(this.renderType=t.renderer),t.parent&&(this.parent=t.parent),void 0!==t.transparent&&(this.transparent=t.transparent),void 0!==t.antialias&&(this.antialias=t.antialias),void 0!==t.multiTexture&&(this.multiTexture=t.multiTexture),t.resolution&&(this.resolution=t.resolution),void 0!==t.preserveDrawingBuffer&&(this.preserveDrawingBuffer=t.preserveDrawingBuffer),t.physicsConfig&&(this.physicsConfig=t.physicsConfig);var e=[(Date.now()*Math.random()).toString()];t.seed&&(e=t.seed),this.rnd=new i.RandomDataGenerator(e);var s=null;t.state&&(s=t.state),this.state=new i.StateManager(this,s)},boot:function(){this.isBooted||(this.onPause=new i.Signal,this.onResume=new i.Signal,this.onBlur=new i.Signal,this.onFocus=new i.Signal,this.isBooted=!0,PIXI.game=this,this.math=i.Math,this.scale=new i.ScaleManager(this,this._width,this._height),this.stage=new i.Stage(this),this.setUpRenderer(),this.world=new i.World(this),this.add=new i.GameObjectFactory(this),this.make=new i.GameObjectCreator(this),this.cache=new i.Cache(this),this.load=new i.Loader(this),this.time=new i.Time(this),this.tweens=new i.TweenManager(this),this.input=new i.Input(this),this.sound=new i.SoundManager(this),this.physics=new i.Physics(this,this.physicsConfig),this.particles=new i.Particles(this),this.create=new i.Create(this),this.plugins=new i.PluginManager(this),this.net=new i.Net(this),this.time.boot(),this.stage.boot(),this.world.boot(),this.scale.boot(),this.input.boot(),this.sound.boot(),this.state.boot(),this.config.enableDebug?(this.debug=new i.Utils.Debug(this),this.debug.boot()):this.debug={preUpdate:function(){},update:function(){},reset:function(){},isDisabled:!0},this.showDebugHeader(),this.isRunning=!0,this.config&&this.config.forceSetTimeOut?this.raf=new i.RequestAnimationFrame(this,this.config.forceSetTimeOut):this.raf=new i.RequestAnimationFrame(this,!1),this._kickstart=!0,window.focus&&(!window.PhaserGlobal||window.PhaserGlobal&&!window.PhaserGlobal.stopFocus)&&window.focus(),this.cache.isReady?this.raf.start():this.cache.onReady.addOnce(function(){this.raf.start()},this))},showDebugHeader:function(){if(!window.PhaserGlobal||!window.PhaserGlobal.hideBanner){var t=i.VERSION,e="Canvas",s="HTML Audio",n=1;if(this.renderType===i.WEBGL?(e="WebGL",n++):this.renderType===i.HEADLESS&&(e="Headless"),this.device.webAudio&&(s="WebAudio",n++),this.device.ie)window.console&&console.log("Phaser v"+t+" | Pixi.js | "+e+" | "+s+" | http://phaser.io");else{for(var o=["%c %c %c Phaser CE v"+t+" | Pixi.js | "+e+" | "+s+"  %c %c %c http://phaser.io %c♥%c♥%c♥","background: #fb8cb3","background: #d44a52","color: #ffffff; background: #871905;","background: #d44a52","background: #fb8cb3","background: #ffffff"],r=0;r<3;r++)r<n?o.push("color: #ff2424; background: #fff"):o.push("color: #959595; background: #fff");console.log.apply(console,o)}}},setUpRenderer:function(){if(this.config.canvas?this.canvas=this.config.canvas:this.canvas=i.Canvas.create(this,this.width,this.height,this.config.canvasID,!0),this.config.canvasStyle?this.canvas.style=this.config.canvasStyle:this.canvas.style["-webkit-full-screen"]="width: 100%; height: 100%",this.renderType===i.HEADLESS||this.renderType===i.CANVAS||this.renderType===i.AUTO&&!this.device.webGL){if(!this.device.canvas)throw new Error("Phaser.Game - Cannot create Canvas or WebGL context, aborting.");this.renderer=new PIXI.CanvasRenderer(this),this.context=this.renderer.context,this.renderType===i.AUTO&&(this.renderType=i.CANVAS)}else(this.multiTexture||this.renderType===i.WEBGL_MULTI)&&(PIXI.enableMultiTexture(),this.multiTexture=!0),this.renderType=i.WEBGL,this.renderer=new PIXI.WebGLRenderer(this),this.context=null,this.canvas.addEventListener("webglcontextlost",this.contextLost.bind(this),!1),this.canvas.addEventListener("webglcontextrestored",this.contextRestored.bind(this),!1);this.device.cocoonJS&&(this.canvas.screencanvas=this.renderType===i.CANVAS),this.renderType!==i.HEADLESS&&(this.stage.smoothed=this.antialias,i.Canvas.addToDOM(this.canvas,this.parent,!1),i.Canvas.setTouchAction(this.canvas))},contextLost:function(t){t.preventDefault(),this.renderer.contextLost=!0},contextRestored:function(){this.renderer.initContext(),this.cache.clearGLTextures(),this.renderer.contextLost=!1},update:function(t){if(this.time.update(t),this._kickstart)return this.updateLogic(this.time.desiredFpsMult),this.updateRender(this.time.slowMotion*this.time.desiredFps),void(this._kickstart=!1);if(this._spiraling>1&&!this.forceSingleUpdate)this.time.time>this._nextFpsNotification&&(this._nextFpsNotification=this.time.time+1e4,this.fpsProblemNotifier.dispatch()),this._deltaTime=0,this._spiraling=0,this.updateRender(this.time.slowMotion*this.time.desiredFps);else{var e=1e3*this.time.slowMotion/this.time.desiredFps;this._deltaTime+=Math.max(Math.min(3*e,this.time.elapsed),0);var i=0;for(this.updatesThisFrame=Math.floor(this._deltaTime/e),this.forceSingleUpdate&&(this.updatesThisFrame=Math.min(1,this.updatesThisFrame));this._deltaTime>=e&&(this._deltaTime-=e,this.currentUpdateID=i,this.updateLogic(this.time.desiredFpsMult),i++,!this.forceSingleUpdate||1!==i);)this.time.refresh();i>this._lastCount?this._spiraling++:i<this._lastCount&&(this._spiraling=0),this._lastCount=i,this.updateRender(this._deltaTime/e)}},updateLogic:function(t){this._paused||this.pendingStep?(this.scale.pauseUpdate(),this.state.pauseUpdate(t),this.debug.preUpdate()):(this.stepping&&(this.pendingStep=!0),this.scale.preUpdate(),this.debug.preUpdate(),this.camera.preUpdate(),this.physics.preUpdate(),this.state.preUpdate(t),this.plugins.preUpdate(t),this.stage.preUpdate(),this.state.update(),this.stage.update(),this.tweens.update(),this.sound.update(),this.input.update(),this.physics.update(),this.plugins.update(),this.stage.postUpdate(),this.plugins.postUpdate()),this.stage.updateTransform()},updateRender:function(t){this.lockRender||(this.state.preRender(t),this.renderType!==i.HEADLESS&&(this.renderer.render(this.stage),this.plugins.render(t),this.state.render(t)),this.plugins.postRender(t))},enableStep:function(){this.stepping=!0,this.pendingStep=!1,this.stepCount=0},disableStep:function(){this.stepping=!1,this.pendingStep=!1},step:function(){this.pendingStep=!1,this.stepCount++},destroy:function(){this.raf.stop(),this.debug.destroy&&this.debug.destroy(),this.state.destroy(),this.sound.destroy(),this.scale.destroy(),this.stage.destroy(),this.input.destroy(),this.physics.destroy(),this.plugins.destroy(),this.debug=null,this.state=null,this.sound=null,this.scale=null,this.stage=null,this.input=null,this.physics=null,this.plugins=null,this.cache=null,this.load=null,this.time=null,this.world=null,this.isBooted=!1,this.renderer.destroy(!1),i.Canvas.removeFromDOM(this.canvas),PIXI.defaultRenderer=null,i.GAMES[this.id]=null},gamePaused:function(t){this._paused||(this._paused=!0,this.time.gamePaused(),this.sound.muteOnPause&&this.sound.setMute(),this.onPause.dispatch(t),this.device.cordova&&this.device.iOS&&(this.lockRender=!0))},gameResumed:function(t){this._paused&&!this._codePaused&&(this._paused=!1,this.time.gameResumed(),this.input.reset(),this.sound.muteOnPause&&this.sound.unsetMute(),this.onResume.dispatch(t),this.device.cordova&&this.device.iOS&&(this.lockRender=!1))},focusLoss:function(t){this.onBlur.dispatch(t),this.stage.disableVisibilityChange||this.gamePaused(t)},focusGain:function(t){this.onFocus.dispatch(t),this.stage.disableVisibilityChange||this.gameResumed(t)}},i.Game.prototype.constructor=i.Game,Object.defineProperty(i.Game.prototype,"paused",{get:function(){return this._paused},set:function(t){!0===t?(!1===this._paused&&(this._paused=!0,this.sound.setMute(),this.time.gamePaused(),this.onPause.dispatch(this)),this._codePaused=!0):(this._paused&&(this._paused=!1,this.input.reset(),this.sound.unsetMute(),this.time.gameResumed(),this.onResume.dispatch(this)),this._codePaused=!1)}}),i.Input=function(t){this.game=t,this.hitCanvas=null,this.hitContext=null,this.moveCallbacks=[],this.customCandidateHandler=null,this.customCandidateHandlerContext=null,this.pollRate=0,this.enabled=!0,this.multiInputOverride=i.Input.MOUSE_TOUCH_COMBINE,this.position=null,this.speed=null,this.circle=null,this.scale=null,this.maxPointers=-1,this.tapRate=200,this.doubleTapRate=300,this.holdRate=2e3,this.justPressedRate=200,this.justReleasedRate=200,this.recordPointerHistory=!1,this.recordRate=100,this.recordLimit=100,this.touchLockCallbacks=[],this.pointer1=null,this.pointer2=null,this.pointer3=null,this.pointer4=null,this.pointer5=null,this.pointer6=null,this.pointer7=null,this.pointer8=null,this.pointer9=null,this.pointer10=null,this.pointers=[],this.activePointer=null,this.mousePointer=null,this.mouse=null,this.keyboard=null,this.touch=null,this.mspointer=null,this.gamepad=null,this.resetLocked=!1,this.onDown=null,this.onUp=null,this.onTap=null,this.onHold=null,this.minPriorityID=0,this.interactiveItems=new i.ArraySet,this._localPoint=new i.Point,this._pollCounter=0,this._oldPosition=null,this._x=0,this._y=0},i.Input.MOUSE_OVERRIDES_TOUCH=0,i.Input.TOUCH_OVERRIDES_MOUSE=1,i.Input.MOUSE_TOUCH_COMBINE=2,i.Input.MAX_POINTERS=10,i.Input.prototype={boot:function(){this.mousePointer=new i.Pointer(this.game,0,i.PointerMode.CURSOR),this.addPointer(),this.addPointer(),this.mouse=new i.Mouse(this.game),this.touch=new i.Touch(this.game),this.mspointer=new i.MSPointer(this.game),i.Keyboard&&(this.keyboard=new i.Keyboard(this.game)),i.Gamepad&&(this.gamepad=new i.Gamepad(this.game)),this.onDown=new i.Signal,this.onUp=new i.Signal,this.onTap=new i.Signal,this.onHold=new i.Signal,this.scale=new i.Point(1,1),this.speed=new i.Point,this.position=new i.Point,this._oldPosition=new i.Point,this.circle=new i.Circle(0,0,44),this.activePointer=this.mousePointer,this.hitCanvas=i.CanvasPool.create(this,1,1),this.hitContext=this.hitCanvas.getContext("2d"),this.mouse.start(),this.game.device.mspointer||this.touch.start(),this.mspointer.start(),this.mousePointer.active=!0,this.keyboard&&this.keyboard.start();var t=this;this._onClickTrampoline=function(e){t.onClickTrampoline(e)},this.game.canvas.addEventListener("click",this._onClickTrampoline,!1)},destroy:function(){this.mouse.stop(),this.touch.stop(),this.mspointer.stop(),this.keyboard&&this.keyboard.stop(),this.gamepad&&this.gamepad.stop(),this.moveCallbacks=[],i.CanvasPool.remove(this),this.game.canvas.removeEventListener("click",this._onClickTrampoline)},setInteractiveCandidateHandler:function(t,e){this.customCandidateHandler=t,this.customCandidateHandlerContext=e},addMoveCallback:function(t,e){this.moveCallbacks.push({callback:t,context:e})},addTouchLockCallback:function(t,e,i){void 0===i&&(i=!1),this.touchLockCallbacks.push({callback:t,context:e,onEnd:i})},removeTouchLockCallback:function(t,e){for(var i=this.touchLockCallbacks.length;i--;)if(this.touchLockCallbacks[i].callback===t&&this.touchLockCallbacks[i].context===e)return this.touchLockCallbacks.splice(i,1),!0;return!1},executeTouchLockCallbacks:function(t,e){for(var i=this.touchLockCallbacks.length;i--;){var s=this.touchLockCallbacks[i];s.onEnd===t&&s.callback.call(s.context,this,e)&&this.touchLockCallbacks.splice(i,1)}},deleteMoveCallback:function(t,e){for(var i=this.moveCallbacks.length;i--;)if(this.moveCallbacks[i].callback===t&&this.moveCallbacks[i].context===e)return void this.moveCallbacks.splice(i,1)},addPointer:function(){if(this.pointers.length>=i.Input.MAX_POINTERS)return console.warn("Phaser.Input.addPointer: Maximum limit of "+i.Input.MAX_POINTERS+" pointers reached."),null;var t=this.pointers.length+1,e=new i.Pointer(this.game,t,i.PointerMode.CONTACT);return this.pointers.push(e),this["pointer"+t]=e,e},update:function(){if(this.keyboard&&this.keyboard.update(),this.pollRate>0&&this._pollCounter<this.pollRate)this._pollCounter++;else{this.speed.x=this.position.x-this._oldPosition.x,this.speed.y=this.position.y-this._oldPosition.y,this._oldPosition.copyFrom(this.position),this.mousePointer.update(),this.gamepad&&this.gamepad.active&&this.gamepad.update();for(var t=0;t<this.pointers.length;t++)this.pointers[t].update();this._pollCounter=0}},reset:function(t){if(this.game.isBooted&&!this.resetLocked){void 0===t&&(t=!1),this.mousePointer.reset(),this.keyboard&&this.keyboard.reset(t),this.gamepad&&this.gamepad.reset();for(var e=0;e<this.pointers.length;e++)this.pointers[e].reset();"none"!==this.game.canvas.style.cursor&&(this.game.canvas.style.cursor=""),t&&(this.onDown.dispose(),this.onUp.dispose(),this.onTap.dispose(),this.onHold.dispose(),this.onDown=new i.Signal,this.onUp=new i.Signal,this.onTap=new i.Signal,this.onHold=new i.Signal,this.moveCallbacks=[]),this._pollCounter=0}},resetSpeed:function(t,e){this._oldPosition.setTo(t,e),this.speed.setTo(0,0)},startPointer:function(t){if(this.maxPointers>=0&&this.countActivePointers(this.maxPointers)>=this.maxPointers)return null;if(!this.pointer1.active)return this.pointer1.start(t);if(!this.pointer2.active)return this.pointer2.start(t);for(var e=2;e<this.pointers.length;e++){var i=this.pointers[e];if(!i.active)return i.start(t)}return null},updatePointer:function(t){if(this.pointer1.active&&this.pointer1.identifier===t.identifier)return this.pointer1.move(t);if(this.pointer2.active&&this.pointer2.identifier===t.identifier)return this.pointer2.move(t);for(var e=2;e<this.pointers.length;e++){var i=this.pointers[e];if(i.active&&i.identifier===t.identifier)return i.move(t)}return null},stopPointer:function(t){if(this.pointer1.active&&this.pointer1.identifier===t.identifier)return this.pointer1.stop(t);if(this.pointer2.active&&this.pointer2.identifier===t.identifier)return this.pointer2.stop(t);for(var e=2;e<this.pointers.length;e++){var i=this.pointers[e];if(i.active&&i.identifier===t.identifier)return i.stop(t)}return null},countActivePointers:function(t){void 0===t&&(t=this.pointers.length);for(var e=t,i=0;i<this.pointers.length&&e>0;i++)this.pointers[i].active&&e--;return t-e},getPointer:function(t){void 0===t&&(t=!1);for(var e=0;e<this.pointers.length;e++){var i=this.pointers[e];if(i.active===t)return i}return null},getPointerFromIdentifier:function(t){for(var e=0;e<this.pointers.length;e++){var i=this.pointers[e];if(i.identifier===t)return i}return null},getPointerFromId:function(t){for(var e=0;e<this.pointers.length;e++){var i=this.pointers[e];if(i.pointerId===t)return i}return null},getLocalPosition:function(t,e,s){void 0===s&&(s=new i.Point);var n=t.worldTransform,o=1/(n.a*n.d+n.c*-n.b);return s.setTo(n.d*o*e.x+-n.c*o*e.y+(n.ty*n.c-n.tx*n.d)*o,n.a*o*e.y+-n.b*o*e.x+(-n.ty*n.a+n.tx*n.b)*o)},hitTest:function(t,e,s){if(!t.worldVisible)return!1;if(this.getLocalPosition(t,e,this._localPoint),s.copyFrom(this._localPoint),t.hitArea&&t.hitArea.contains)return t.hitArea.contains(this._localPoint.x,this._localPoint.y);if(i.Creature&&t instanceof i.Creature){var n=Math.abs(t.width),o=Math.abs(t.height),r=t.x-n*t.anchorX;if(this.game.camera.x+e.x>=r&&this.game.camera.x+e.x<r+n){a=t.y-o*t.anchorY;if(this.game.camera.y+e.y>=a&&this.game.camera.y+e.y<a+o)return!0}}else if(t instanceof i.TileSprite){var n=t.width,o=t.height,r=-n*t.anchor.x;if(this._localPoint.x>=r&&this._localPoint.x<r+n){a=-o*t.anchor.y;if(this._localPoint.y>=a&&this._localPoint.y<a+o)return!0}}else if(t instanceof PIXI.Sprite){var n=t.texture.frame.width/t.texture.baseTexture.resolution,o=t.texture.frame.height/t.texture.baseTexture.resolution,r=-n*t.anchor.x;if(this._localPoint.x>=r&&this._localPoint.x<r+n){var a=-o*t.anchor.y;if(this._localPoint.y>=a&&this._localPoint.y<a+o)return!0}}else if(t instanceof i.Graphics)for(l=0;l<t.graphicsData.length;l++){var h=t.graphicsData[l];if(h.fill&&(h.shape&&h.shape.contains(this._localPoint.x,this._localPoint.y)))return!0}for(var l=0;l<t.children.length;l++)if(this.hitTest(t.children[l],e,s))return!0;return!1},onClickTrampoline:function(){this.activePointer.processClickTrampolines()}},i.Input.prototype.constructor=i.Input,Object.defineProperty(i.Input.prototype,"x",{get:function(){return this._x},set:function(t){this._x=Math.floor(t)}}),Object.defineProperty(i.Input.prototype,"y",{get:function(){return this._y},set:function(t){this._y=Math.floor(t)}}),Object.defineProperty(i.Input.prototype,"pollLocked",{get:function(){return this.pollRate>0&&this._pollCounter<this.pollRate}}),Object.defineProperty(i.Input.prototype,"totalInactivePointers",{get:function(){return this.pointers.length-this.countActivePointers()}}),Object.defineProperty(i.Input.prototype,"totalActivePointers",{get:function(){return this.countActivePointers()}}),Object.defineProperty(i.Input.prototype,"worldX",{get:function(){return this.game.camera.view.x+this.x}}),Object.defineProperty(i.Input.prototype,"worldY",{get:function(){return this.game.camera.view.y+this.y}}),i.Mouse=function(t){this.game=t,this.input=t.input,this.callbackContext=this.game,this.mouseDownCallback=null,this.mouseUpCallback=null,this.mouseOutCallback=null,this.mouseOverCallback=null,this.mouseWheelCallback=null,this.capture=!1,this.button=-1,this.wheelDelta=0,this.enabled=!0,this.locked=!1,this.stopOnGameOut=!1,this.pointerLock=new i.Signal,this.event=null,this._onMouseDown=null,this._onMouseMove=null,this._onMouseUp=null,this._onMouseOut=null,this._onMouseOver=null,this._onMouseWheel=null,this._wheelEvent=null},i.Mouse.NO_BUTTON=-1,i.Mouse.LEFT_BUTTON=0,i.Mouse.MIDDLE_BUTTON=1,i.Mouse.RIGHT_BUTTON=2,i.Mouse.BACK_BUTTON=3,i.Mouse.FORWARD_BUTTON=4,i.Mouse.WHEEL_UP=1,i.Mouse.WHEEL_DOWN=-1,i.Mouse.prototype={start:function(){if((!this.game.device.android||!1!==this.game.device.chrome)&&null===this._onMouseDown){var e=this;this._onMouseDown=function(t){return e.onMouseDown(t)},this._onMouseMove=function(t){return e.onMouseMove(t)},this._onMouseUp=function(t){return e.onMouseUp(t)},this._onMouseUpGlobal=function(t){return e.onMouseUpGlobal(t)},this._onMouseOutGlobal=function(t){return e.onMouseOutGlobal(t)},this._onMouseOut=function(t){return e.onMouseOut(t)},this._onMouseOver=function(t){return e.onMouseOver(t)},this._onMouseWheel=function(t){return e.onMouseWheel(t)};var i=this.game.canvas;i.addEventListener("mousedown",this._onMouseDown,!0),i.addEventListener("mousemove",this._onMouseMove,!0),i.addEventListener("mouseup",this._onMouseUp,!0),this.game.device.cocoonJS||(window.addEventListener("mouseup",this._onMouseUpGlobal,!0),window.addEventListener("mouseout",this._onMouseOutGlobal,!0),i.addEventListener("mouseover",this._onMouseOver,!0),i.addEventListener("mouseout",this._onMouseOut,!0));var s=this.game.device.wheelEvent;s&&(i.addEventListener(s,this._onMouseWheel,!0),"mousewheel"===s?this._wheelEvent=new t(-.025,1):"DOMMouseScroll"===s&&(this._wheelEvent=new t(1,1)))}},onMouseDown:function(t){this.event=t,this.capture&&t.preventDefault(),this.mouseDownCallback&&this.mouseDownCallback.call(this.callbackContext,t),this.input.enabled&&this.enabled&&(t.identifier=0,this.input.mousePointer.start(t))},onMouseMove:function(t){this.event=t,this.capture&&t.preventDefault(),this.mouseMoveCallback&&this.mouseMoveCallback.call(this.callbackContext,t),this.input.enabled&&this.enabled&&(t.identifier=0,this.input.mousePointer.move(t))},onMouseUp:function(t){this.event=t,this.capture&&t.preventDefault(),this.mouseUpCallback&&this.mouseUpCallback.call(this.callbackContext,t),this.input.enabled&&this.enabled&&(t.identifier=0,this.input.mousePointer.stop(t))},onMouseUpGlobal:function(t){this.input.mousePointer.withinGame||(this.mouseUpCallback&&this.mouseUpCallback.call(this.callbackContext,t),t.identifier=0,this.input.mousePointer.stop(t))},onMouseOutGlobal:function(t){this.event=t,this.capture&&t.preventDefault(),this.input.mousePointer.withinGame=!1,this.input.enabled&&this.enabled&&(this.input.mousePointer.stop(t),this.input.mousePointer.resetButtons())},onMouseOut:function(t){this.event=t,this.capture&&t.preventDefault(),this.input.mousePointer.withinGame=!1,this.mouseOutCallback&&this.mouseOutCallback.call(this.callbackContext,t),this.input.enabled&&this.enabled&&this.stopOnGameOut&&(t.identifier=0,this.input.mousePointer.stop(t))},onMouseOver:function(t){this.event=t,this.capture&&t.preventDefault(),this.input.mousePointer.withinGame=!0,this.mouseOverCallback&&this.mouseOverCallback.call(this.callbackContext,t)},onMouseWheel:function(t){this._wheelEvent&&(t=this._wheelEvent.bindEvent(t)),this.event=t,this.capture&&t.preventDefault(),this.wheelDelta=i.Math.clamp(-t.deltaY,-1,1),this.mouseWheelCallback&&this.mouseWheelCallback.call(this.callbackContext,t)},requestPointerLock:function(){if(this.game.device.pointerLock){var t=this.game.canvas;t.requestPointerLock=t.requestPointerLock||t.mozRequestPointerLock||t.webkitRequestPointerLock,t.requestPointerLock();var e=this;this._pointerLockChange=function(t){return e.pointerLockChange(t)},document.addEventListener("pointerlockchange",this._pointerLockChange,!0),document.addEventListener("mozpointerlockchange",this._pointerLockChange,!0),document.addEventListener("webkitpointerlockchange",this._pointerLockChange,!0)}},pointerLockChange:function(t){var e=this.game.canvas;document.pointerLockElement===e||document.mozPointerLockElement===e||document.webkitPointerLockElement===e?(this.locked=!0,this.pointerLock.dispatch(!0,t)):(this.locked=!1,this.pointerLock.dispatch(!1,t))},releasePointerLock:function(){document.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock,document.exitPointerLock(),document.removeEventListener("pointerlockchange",this._pointerLockChange,!0),document.removeEventListener("mozpointerlockchange",this._pointerLockChange,!0),document.removeEventListener("webkitpointerlockchange",this._pointerLockChange,!0)},stop:function(){var t=this.game.canvas;t.removeEventListener("mousedown",this._onMouseDown,!0),t.removeEventListener("mousemove",this._onMouseMove,!0),t.removeEventListener("mouseup",this._onMouseUp,!0),t.removeEventListener("mouseover",this._onMouseOver,!0),t.removeEventListener("mouseout",this._onMouseOut,!0);var e=this.game.device.wheelEvent;e&&t.removeEventListener(e,this._onMouseWheel,!0),window.removeEventListener("mouseup",this._onMouseUpGlobal,!0),window.removeEventListener("mouseout",this._onMouseOutGlobal,!0),document.removeEventListener("pointerlockchange",this._pointerLockChange,!0),document.removeEventListener("mozpointerlockchange",this._pointerLockChange,!0),document.removeEventListener("webkitpointerlockchange",this._pointerLockChange,!0)}},i.Mouse.prototype.constructor=i.Mouse,(t.prototype={}).constructor=t,t.prototype.bindEvent=function(e){if(!t._stubsGenerated&&e){for(var i in e)i in t.prototype||Object.defineProperty(t.prototype,i,{get:function(t){return function(){var e=this.originalEvent[t];return"function"!=typeof e?e:e.bind(this.originalEvent)}}(i)});t._stubsGenerated=!0}return this.originalEvent=e,this},Object.defineProperties(t.prototype,{type:{value:"wheel"},deltaMode:{get:function(){return this._deltaMode}},deltaY:{get:function(){return this._scaleFactor*(this.originalEvent.wheelDelta||this.originalEvent.detail)||0}},deltaX:{get:function(){return this._scaleFactor*this.originalEvent.wheelDeltaX||0}},deltaZ:{value:0}}),i.MSPointer=function(t){this.game=t,this.input=t.input,this.callbackContext=this.game,this.pointerDownCallback=null,this.pointerMoveCallback=null,this.pointerUpCallback=null,this.capture=!0,this.button=-1,this.event=null,this.enabled=!0,this._onMSPointerDown=null,this._onMSPointerMove=null,this._onMSPointerUp=null,this._onMSPointerUpGlobal=null,this._onMSPointerOut=null,this._onMSPointerOver=null},i.MSPointer.prototype={start:function(){if(null===this._onMSPointerDown){var t=this;if(this.game.device.mspointer){this._onMSPointerDown=function(e){return t.onPointerDown(e)},this._onMSPointerMove=function(e){return t.onPointerMove(e)},this._onMSPointerUp=function(e){return t.onPointerUp(e)},this._onMSPointerUpGlobal=function(e){return t.onPointerUpGlobal(e)},this._onMSPointerOut=function(e){return t.onPointerOut(e)},this._onMSPointerOver=function(e){return t.onPointerOver(e)};var e=this.game.canvas;e.addEventListener("MSPointerDown",this._onMSPointerDown,!1),e.addEventListener("MSPointerMove",this._onMSPointerMove,!1),e.addEventListener("MSPointerUp",this._onMSPointerUp,!1),e.addEventListener("pointerdown",this._onMSPointerDown,!1),e.addEventListener("pointermove",this._onMSPointerMove,!1),e.addEventListener("pointerup",this._onMSPointerUp,!1),e.style["-ms-content-zooming"]="none",e.style["-ms-touch-action"]="none",this.game.device.cocoonJS||(window.addEventListener("MSPointerUp",this._onMSPointerUpGlobal,!0),e.addEventListener("MSPointerOver",this._onMSPointerOver,!0),e.addEventListener("MSPointerOut",this._onMSPointerOut,!0),window.addEventListener("pointerup",this._onMSPointerUpGlobal,!0),e.addEventListener("pointerover",this._onMSPointerOver,!0),e.addEventListener("pointerout",this._onMSPointerOut,!0))}}},onPointerDown:function(t){this.game.input.executeTouchLockCallbacks(!1,t),this.event=t,this.capture&&t.preventDefault(),this.pointerDownCallback&&this.pointerDownCallback.call(this.callbackContext,t),this.input.enabled&&this.enabled&&(t.identifier=t.pointerId,"mouse"===t.pointerType||4===t.pointerType?this.input.mousePointer.start(t):this.input.startPointer(t))},onPointerMove:function(t){this.event=t,this.capture&&t.preventDefault(),this.pointerMoveCallback&&this.pointerMoveCallback.call(this.callbackContext,t),this.input.enabled&&this.enabled&&(t.identifier=t.pointerId,"mouse"===t.pointerType||4===t.pointerType?this.input.mousePointer.move(t):this.input.updatePointer(t))},onPointerUp:function(t){this.game.input.executeTouchLockCallbacks(!0,t),this.event=t,this.capture&&t.preventDefault(),this.pointerUpCallback&&this.pointerUpCallback.call(this.callbackContext,t),this.input.enabled&&this.enabled&&(t.identifier=t.pointerId,"mouse"===t.pointerType||4===t.pointerType?this.input.mousePointer.stop(t):this.input.stopPointer(t))},onPointerUpGlobal:function(t){if("mouse"!==t.pointerType&&4!==t.pointerType||this.input.mousePointer.withinGame){var e=this.input.getPointerFromIdentifier(t.identifier);e&&e.withinGame&&this.onPointerUp(t)}else this.onPointerUp(t)},onPointerOut:function(t){if(this.event=t,this.capture&&t.preventDefault(),"mouse"===t.pointerType||4===t.pointerType)this.input.mousePointer.withinGame=!1;else{var e=this.input.getPointerFromIdentifier(t.identifier);e&&(e.withinGame=!1)}this.input.mouse.mouseOutCallback&&this.input.mouse.mouseOutCallback.call(this.input.mouse.callbackContext,t),this.input.enabled&&this.enabled&&this.input.mouse.stopOnGameOut&&(t.identifier=0,e?e.stop(t):this.input.mousePointer.stop(t))},onPointerOver:function(t){if(this.event=t,this.capture&&t.preventDefault(),"mouse"===t.pointerType||4===t.pointerType)this.input.mousePointer.withinGame=!0;else{var e=this.input.getPointerFromIdentifier(t.identifier);e&&(e.withinGame=!0)}this.input.mouse.mouseOverCallback&&this.input.mouse.mouseOverCallback.call(this.input.mouse.callbackContext,t)},stop:function(){var t=this.game.canvas;t.removeEventListener("MSPointerDown",this._onMSPointerDown,!1),t.removeEventListener("MSPointerMove",this._onMSPointerMove,!1),t.removeEventListener("MSPointerUp",this._onMSPointerUp,!1),t.removeEventListener("pointerdown",this._onMSPointerDown,!1),t.removeEventListener("pointermove",this._onMSPointerMove,!1),t.removeEventListener("pointerup",this._onMSPointerUp,!1),window.removeEventListener("MSPointerUp",this._onMSPointerUpGlobal,!0),t.removeEventListener("MSPointerOver",this._onMSPointerOver,!0),t.removeEventListener("MSPointerOut",this._onMSPointerOut,!0),window.removeEventListener("pointerup",this._onMSPointerUpGlobal,!0),t.removeEventListener("pointerover",this._onMSPointerOver,!0),t.removeEventListener("pointerout",this._onMSPointerOut,!0)}},i.MSPointer.prototype.constructor=i.MSPointer,i.DeviceButton=function(t,e){this.parent=t,this.game=t.game,this.event=null,this.isDown=!1,this.isUp=!0,this.timeDown=0,this.timeUp=0,this.repeats=0,this.altKey=!1,this.shiftKey=!1,this.ctrlKey=!1,this.value=0,this.buttonCode=e,this.onDown=new i.Signal,this.onUp=new i.Signal,this.onFloat=new i.Signal},i.DeviceButton.prototype={start:function(t,e){this.isDown||(this.isDown=!0,this.isUp=!1,this.timeDown=this.game.time.time,this.repeats=0,this.event=t,this.value=e,t&&(this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.ctrlKey=t.ctrlKey),this.onDown.dispatch(this,e))},stop:function(t,e){this.isUp||(this.isDown=!1,this.isUp=!0,this.timeUp=this.game.time.time,this.event=t,this.value=e,t&&(this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.ctrlKey=t.ctrlKey),this.onUp.dispatch(this,e))},startStop:function(t,e,i){t?this.start(e,i):this.stop(e,i)},padFloat:function(t){this.isDown=!1,this.isUp=!1,this.value=t,this.onFloat.dispatch(this,t)},justPressed:function(t){return t=t||250,this.isDown&&this.timeDown+t>this.game.time.time},justReleased:function(t){return t=t||250,this.isUp&&this.timeUp+t>this.game.time.time},reset:function(){this.isDown=!1,this.isUp=!0,this.timeDown=this.game.time.time,this.repeats=0,this.altKey=!1,this.shiftKey=!1,this.ctrlKey=!1},destroy:function(){this.onDown.dispose(),this.onUp.dispose(),this.onFloat.dispose(),this.parent=null,this.game=null}},i.DeviceButton.prototype.constructor=i.DeviceButton,Object.defineProperty(i.DeviceButton.prototype,"duration",{get:function(){return this.isUp?-1:this.game.time.time-this.timeDown}}),i.Pointer=function(t,e,s){this.game=t,this.id=e,this.type=i.POINTER,this.exists=!0,this.identifier=0,this.pointerId=null,this.pointerMode=s||i.PointerMode.CURSOR|i.PointerMode.CONTACT,this.target=null,this.button=null,this.leftButton=new i.DeviceButton(this,i.Pointer.LEFT_BUTTON),this.middleButton=new i.DeviceButton(this,i.Pointer.MIDDLE_BUTTON),this.rightButton=new i.DeviceButton(this,i.Pointer.RIGHT_BUTTON),this.backButton=new i.DeviceButton(this,i.Pointer.BACK_BUTTON),this.forwardButton=new i.DeviceButton(this,i.Pointer.FORWARD_BUTTON),this.eraserButton=new i.DeviceButton(this,i.Pointer.ERASER_BUTTON),this._holdSent=!1,this._history=[],this._nextDrop=0,this._stateReset=!1,this.withinGame=!1,this.clientX=-1,this.clientY=-1,this.pageX=-1,this.pageY=-1,this.screenX=-1,this.screenY=-1,this.rawMovementX=0,this.rawMovementY=0,this.movementX=0,this.movementY=0,this.x=-1,this.y=-1,this.isMouse=0===e,this.isDown=!1,this.isUp=!0,this.timeDown=0,this.timeUp=0,this.previousTapTime=0,this.totalTouches=0,this.msSinceLastClick=Number.MAX_VALUE,this.targetObject=null,this.interactiveCandidates=[],this.active=!1,this.dirty=!1,this.position=new i.Point,this.positionDown=new i.Point,this.positionUp=new i.Point,this.circle=new i.Circle(0,0,44),this._clickTrampolines=null,this._trampolineTargetObject=null},i.Pointer.NO_BUTTON=0,i.Pointer.LEFT_BUTTON=1,i.Pointer.RIGHT_BUTTON=2,i.Pointer.MIDDLE_BUTTON=4,i.Pointer.BACK_BUTTON=8,i.Pointer.FORWARD_BUTTON=16,i.Pointer.ERASER_BUTTON=32,i.Pointer.prototype={resetButtons:function(){this.isDown=!1,this.isUp=!0,this.isMouse&&(this.leftButton.reset(),this.middleButton.reset(),this.rightButton.reset(),this.backButton.reset(),this.forwardButton.reset(),this.eraserButton.reset())},processButtonsDown:function(t,e){t===i.Mouse.LEFT_BUTTON&&this.leftButton.start(e),t===i.Mouse.RIGHT_BUTTON&&this.rightButton.start(e),t===i.Mouse.MIDDLE_BUTTON&&this.middleButton.start(e),t===i.Mouse.BACK_BUTTON&&this.backButton.start(e),t===i.Mouse.FORWARD_BUTTON&&this.forwardButton.start(e)},processButtonsUp:function(t,e){t===i.Mouse.LEFT_BUTTON&&this.leftButton.stop(e),t===i.Mouse.RIGHT_BUTTON&&this.rightButton.stop(e),t===i.Mouse.MIDDLE_BUTTON&&this.middleButton.stop(e),t===i.Mouse.BACK_BUTTON&&this.backButton.stop(e),t===i.Mouse.FORWARD_BUTTON&&this.forwardButton.stop(e)},processButtonsUpDown:function(t,e){var s="down"===e.type.toLowerCase().substr(-4),n="move"===e.type.toLowerCase().substr(-4);void 0!==t?(s&&1===t&&e.ctrlKey&&(t=2),this.leftButton.startStop(i.Pointer.LEFT_BUTTON&t,e),this.rightButton.startStop(i.Pointer.RIGHT_BUTTON&t,e),this.middleButton.startStop(i.Pointer.MIDDLE_BUTTON&t,e),this.backButton.startStop(i.Pointer.BACK_BUTTON&t,e),this.forwardButton.startStop(i.Pointer.FORWARD_BUTTON&t,e),this.eraserButton.startStop(i.Pointer.ERASER_BUTTON&t,e)):void 0!==e.button?s&&e.ctrlKey&&0===e.button?this.rightButton.start(e):s?this.processButtonsDown(e.button,e):n||this.processButtonsUp(e.button,e):s?e.ctrlKey?this.rightButton.start(e):this.leftButton.start(e):(this.leftButton.stop(e),this.rightButton.stop(e))},updateButtons:function(t){this.button=t.button,this.processButtonsUpDown(t.buttons,t),this.isUp=!0,this.isDown=!1,(this.leftButton.isDown||this.rightButton.isDown||this.middleButton.isDown||this.backButton.isDown||this.forwardButton.isDown||this.eraserButton.isDown)&&(this.isUp=!1,this.isDown=!0)},start:function(t){var e=this.game.input;return t.pointerId&&(this.pointerId=t.pointerId),this.identifier=t.identifier,this.target=t.target,this.isMouse?this.updateButtons(t):(this.isDown=!0,this.isUp=!1),this.active=!0,this.withinGame=!0,this.dirty=!1,this._history=[],this._clickTrampolines=null,this._trampolineTargetObject=null,this.msSinceLastClick=this.game.time.time-this.timeDown,this.timeDown=this.game.time.time,this._holdSent=!1,this.move(t,!0),this.positionDown.setTo(this.x,this.y),(e.multiInputOverride===i.Input.MOUSE_OVERRIDES_TOUCH||e.multiInputOverride===i.Input.MOUSE_TOUCH_COMBINE||e.multiInputOverride===i.Input.TOUCH_OVERRIDES_MOUSE&&0===e.totalActivePointers)&&(e.x=this.x,e.y=this.y,e.position.setTo(this.x,this.y),e.onDown.dispatch(this,t),e.resetSpeed(this.x,this.y)),this._stateReset=!1,this.totalTouches++,null!==this.targetObject&&this.targetObject._touchedHandler(this),this},update:function(){var t=this.game.input;this.active&&(this.dirty&&(t.interactiveItems.total>0&&this.processInteractiveObjects(!1),this.dirty=!1),!1===this._holdSent&&this.duration>=t.holdRate&&((t.multiInputOverride===i.Input.MOUSE_OVERRIDES_TOUCH||t.multiInputOverride===i.Input.MOUSE_TOUCH_COMBINE||t.multiInputOverride===i.Input.TOUCH_OVERRIDES_MOUSE&&0===t.totalActivePointers)&&t.onHold.dispatch(this),this._holdSent=!0),t.recordPointerHistory&&this.game.time.time>=this._nextDrop&&(this._nextDrop=this.game.time.time+t.recordRate,this._history.push({x:this.position.x,y:this.position.y}),this._history.length>t.recordLimit&&this._history.shift()))},move:function(t,e){var s=this.game.input;if(!s.pollLocked){void 0===e&&(e=!1),void 0!==t.button&&(this.button=t.button),this.isMouse&&this.updateButtons(t),this.clientX=t.clientX,this.clientY=t.clientY,this.pageX=t.pageX,this.pageY=t.pageY,this.screenX=t.screenX,this.screenY=t.screenY,this.isMouse&&s.mouse.locked&&!e&&(this.rawMovementX=t.movementX||t.mozMovementX||t.webkitMovementX||0,this.rawMovementY=t.movementY||t.mozMovementY||t.webkitMovementY||0,this.movementX+=this.rawMovementX,this.movementY+=this.rawMovementY),this.x=(this.pageX-this.game.scale.offset.x)*s.scale.x,this.y=(this.pageY-this.game.scale.offset.y)*s.scale.y,this.position.setTo(this.x,this.y),this.circle.x=this.x,this.circle.y=this.y,(s.multiInputOverride===i.Input.MOUSE_OVERRIDES_TOUCH||s.multiInputOverride===i.Input.MOUSE_TOUCH_COMBINE||s.multiInputOverride===i.Input.TOUCH_OVERRIDES_MOUSE&&0===s.totalActivePointers)&&(s.activePointer=this,s.x=this.x,s.y=this.y,s.position.setTo(s.x,s.y),s.circle.x=s.x,s.circle.y=s.y),this.withinGame=this.game.scale.bounds.contains(this.pageX,this.pageY);for(var n=s.moveCallbacks.length;n--;)s.moveCallbacks[n].callback.call(s.moveCallbacks[n].context,this,this.x,this.y,e);return null===this.targetObject||this.game.paused&&!this.targetObject.noPause||!0!==this.targetObject.isDragged?s.interactiveItems.total>0&&this.processInteractiveObjects(e):!1===this.targetObject.update(this)&&(this.targetObject=null),this}},processInteractiveObjects:function(t){var e=0,i=-1,s=null,n=this.game.input.interactiveItems.first;for(this.interactiveCandidates=[];n;)n.checked=!1,!n.validForInput(i,e,!1)||this.game.paused&&!n.sprite.noPause||(n.checked=!0,(t&&n.checkPointerDown(this,!0)||!t&&n.checkPointerOver(this,!0))&&(e=n.sprite.renderOrderID,i=n.priorityID,s=n,this.interactiveCandidates.push(n))),n=this.game.input.interactiveItems.next;for(n=this.game.input.interactiveItems.first;n;)!n.checked&&n.validForInput(i,e,!0)&&(t&&n.checkPointerDown(this,!1)||!t&&n.checkPointerOver(this,!1))&&(e=n.sprite.renderOrderID,i=n.priorityID,s=n,this.interactiveCandidates.push(n)),n=this.game.input.interactiveItems.next;return this.game.input.customCandidateHandler&&(s=this.game.input.customCandidateHandler.call(this.game.input.customCandidateHandlerContext,this,this.interactiveCandidates,s)),this.swapTarget(s,!1),null!==this.targetObject},swapTarget:function(t,e){void 0===e&&(e=!1),null===t?this.targetObject&&(this.targetObject._pointerOutHandler(this,e),this.targetObject=null):null===this.targetObject?(this.targetObject=t,t._pointerOverHandler(this,e)):this.targetObject===t?!1===t.update(this)&&(this.targetObject=null):(this.targetObject._pointerOutHandler(this,e),this.targetObject=t,this.targetObject._pointerOverHandler(this,e))},leave:function(t){this.withinGame=!1,this.move(t,!1)},stop:function(t){var e=this.game.input;{if(!this._stateReset||!this.withinGame)return this.timeUp=this.game.time.time,(e.multiInputOverride===i.Input.MOUSE_OVERRIDES_TOUCH||e.multiInputOverride===i.Input.MOUSE_TOUCH_COMBINE||e.multiInputOverride===i.Input.TOUCH_OVERRIDES_MOUSE&&0===e.totalActivePointers)&&(e.onUp.dispatch(this,t),this.duration>=0&&this.duration<=e.tapRate&&(this.timeUp-this.previousTapTime<e.doubleTapRate?e.onTap.dispatch(this,!0):e.onTap.dispatch(this,!1),this.previousTapTime=this.timeUp)),this.isMouse?this.updateButtons(t):(this.isDown=!1,this.isUp=!0),this.id>0&&(this.active=!1),this.withinGame=this.game.scale.bounds.contains(t.pageX,t.pageY),this.pointerId=null,this.identifier=null,this.positionUp.setTo(this.x,this.y),!1===this.isMouse&&e.currentPointers--,e.interactiveItems.callAll("_releasedHandler",this),this._clickTrampolines&&(this._trampolineTargetObject=this.targetObject),this.targetObject=null,this;t.preventDefault()}},justPressed:function(t){return t=t||this.game.input.justPressedRate,!0===this.isDown&&this.timeDown+t>this.game.time.time},justReleased:function(t){return t=t||this.game.input.justReleasedRate,this.isUp&&this.timeUp+t>this.game.time.time},addClickTrampoline:function(t,e,i,s){if(this.isDown){for(var n=this._clickTrampolines=this._clickTrampolines||[],o=0;o<n.length;o++)if(n[o].name===t){n.splice(o,1);break}n.push({name:t,targetObject:this.targetObject,callback:e,callbackContext:i,callbackArgs:s})}},processClickTrampolines:function(){var t=this._clickTrampolines;if(t){for(var e=0;e<t.length;e++){var i=t[e];i.targetObject===this._trampolineTargetObject&&i.callback.apply(i.callbackContext,i.callbackArgs)}this._clickTrampolines=null,this._trampolineTargetObject=null}},reset:function(){!1===this.isMouse&&(this.active=!1),this.pointerId=null,this.identifier=null,this.dirty=!1,this.totalTouches=0,this._holdSent=!1,this._history.length=0,this._stateReset=!0,this.resetButtons(),this.targetObject&&this.targetObject._releasedHandler(this),this.targetObject=null},resetMovement:function(){this.movementX=0,this.movementY=0}},i.Pointer.prototype.constructor=i.Pointer,Object.defineProperty(i.Pointer.prototype,"duration",{get:function(){return this.isUp?-1:this.game.time.time-this.timeDown}}),Object.defineProperty(i.Pointer.prototype,"worldX",{get:function(){return this.game.world.camera.x+this.x}}),Object.defineProperty(i.Pointer.prototype,"worldY",{get:function(){return this.game.world.camera.y+this.y}}),i.PointerMode={CURSOR:1,CONTACT:2},i.Touch=function(t){this.game=t,this.enabled=!0,this.callbackContext=this.game,this.touchStartCallback=null,this.touchMoveCallback=null,this.touchEndCallback=null,this.touchEnterCallback=null,this.touchLeaveCallback=null,this.touchCancelCallback=null,this.preventDefault=!0,this.event=null,this._onTouchStart=null,this._onTouchMove=null,this._onTouchEnd=null,this._onTouchEnter=null,this._onTouchLeave=null,this._onTouchCancel=null,this._onTouchMove=null},i.Touch.prototype={start:function(){if(null===this._onTouchStart){var t=this;this.game.device.touch&&(this._onTouchStart=function(e){return t.onTouchStart(e)},this._onTouchMove=function(e){return t.onTouchMove(e)},this._onTouchEnd=function(e){return t.onTouchEnd(e)},this._onTouchEnter=function(e){return t.onTouchEnter(e)},this._onTouchLeave=function(e){return t.onTouchLeave(e)},this._onTouchCancel=function(e){return t.onTouchCancel(e)},this.game.canvas.addEventListener("touchstart",this._onTouchStart,!1),this.game.canvas.addEventListener("touchmove",this._onTouchMove,!1),this.game.canvas.addEventListener("touchend",this._onTouchEnd,!1),this.game.canvas.addEventListener("touchcancel",this._onTouchCancel,!1),this.game.device.cocoonJS||(this.game.canvas.addEventListener("touchenter",this._onTouchEnter,!1),this.game.canvas.addEventListener("touchleave",this._onTouchLeave,!1))),this.addTouchLockCallback=this.game.input.addTouchLockCallback.bind(this.game.input),this.removeTouchLockCallback=this.game.input.removeTouchLockCallback.bind(this.game.input)}},consumeDocumentTouches:function(){this._documentTouchMove=function(t){t.preventDefault()},document.addEventListener("touchmove",this._documentTouchMove,!1)},onTouchStart:function(t){if(this.game.input.executeTouchLockCallbacks(!1,t),this.event=t,this.game.input.enabled&&this.enabled){this.touchStartCallback&&this.touchStartCallback.call(this.callbackContext,t),this.preventDefault&&t.preventDefault();for(var e=0;e<t.changedTouches.length;e++)this.game.input.startPointer(t.changedTouches[e])}},onTouchCancel:function(t){if(this.event=t,this.touchCancelCallback&&this.touchCancelCallback.call(this.callbackContext,t),this.game.input.enabled&&this.enabled){this.preventDefault&&t.preventDefault();for(var e=0;e<t.changedTouches.length;e++)this.game.input.stopPointer(t.changedTouches[e])}},onTouchEnter:function(t){this.event=t,this.touchEnterCallback&&this.touchEnterCallback.call(this.callbackContext,t),this.game.input.enabled&&this.enabled&&this.preventDefault&&t.preventDefault()},onTouchLeave:function(t){this.event=t,this.touchLeaveCallback&&this.touchLeaveCallback.call(this.callbackContext,t),this.preventDefault&&t.preventDefault()},onTouchMove:function(t){this.event=t,this.touchMoveCallback&&this.touchMoveCallback.call(this.callbackContext,t),this.preventDefault&&t.preventDefault();for(var e=0;e<t.changedTouches.length;e++)this.game.input.updatePointer(t.changedTouches[e])},onTouchEnd:function(t){this.game.input.executeTouchLockCallbacks(!0,t),this.event=t,this.touchEndCallback&&this.touchEndCallback.call(this.callbackContext,t),this.preventDefault&&t.preventDefault();for(var e=0;e<t.changedTouches.length;e++)this.game.input.stopPointer(t.changedTouches[e])},stop:function(){this.game.device.touch&&(this.game.canvas.removeEventListener("touchstart",this._onTouchStart),this.game.canvas.removeEventListener("touchmove",this._onTouchMove),this.game.canvas.removeEventListener("touchend",this._onTouchEnd),this.game.canvas.removeEventListener("touchenter",this._onTouchEnter),this.game.canvas.removeEventListener("touchleave",this._onTouchLeave),this.game.canvas.removeEventListener("touchcancel",this._onTouchCancel))}},i.Touch.prototype.constructor=i.Touch,i.InputHandler=function(t){this.sprite=t,this.game=t.game,this.enabled=!1,this.checked=!1,this.priorityID=0,this.useHandCursor=!1,this._setHandCursor=!1,this.isDragged=!1,this.allowHorizontalDrag=!0,this.allowVerticalDrag=!0,this.bringToTop=!1,this.snapOffset=null,this.snapOnDrag=!1,this.snapOnRelease=!1,this.snapX=0,this.snapY=0,this.snapOffsetX=0,this.snapOffsetY=0,this.pixelPerfectOver=!1,this.pixelPerfectClick=!1,this.pixelPerfectAlpha=255,this.draggable=!1,this.boundsRect=null,this.boundsSprite=null,this.scaleLayer=!1,this.dragOffset=new i.Point,this.dragFromCenter=!1,this.dragStopBlocksInputUp=!1,this.dragStartPoint=new i.Point,this.dragDistanceThreshold=0,this.dragTimeThreshold=0,this.downPoint=new i.Point,this.snapPoint=new i.Point,this._dragPoint=new i.Point,this._dragPhase=!1,this._pendingDrag=!1,this._dragTimePass=!1,this._dragDistancePass=!1,this._wasEnabled=!1,this._tempPoint=new i.Point,this._pointerData=[],this._pointerData.push({id:0,x:0,y:0,camX:0,camY:0,isDown:!1,isUp:!1,isOver:!1,isOut:!1,timeOver:0,timeOut:0,timeDown:0,timeUp:0,downDuration:0,isDragged:!1})},i.InputHandler.prototype={start:function(t,e){if(t=t||0,void 0===e&&(e=!1),!1===this.enabled){this.game.input.interactiveItems.add(this),this.useHandCursor=e,this.priorityID=t;for(var s=0;s<10;s++)this._pointerData[s]={id:s,x:0,y:0,isDown:!1,isUp:!1,isOver:!1,isOut:!1,timeOver:0,timeOut:0,timeDown:0,timeUp:0,downDuration:0,isDragged:!1};this.snapOffset=new i.Point,this.enabled=!0,this._wasEnabled=!0}return this.sprite.events.onAddedToGroup.add(this.addedToGroup,this),this.sprite.events.onRemovedFromGroup.add(this.removedFromGroup,this),this.sprite},addedToGroup:function(){this._dragPhase||this._wasEnabled&&!this.enabled&&this.start()},removedFromGroup:function(){this._dragPhase||(this.enabled?(this._wasEnabled=!0,this.stop()):this._wasEnabled=!1)},reset:function(){this.enabled=!1;for(var t=0;t<10;t++)this._pointerData[t]={id:t,x:0,y:0,isDown:!1,isUp:!1,isOver:!1,isOut:!1,timeOver:0,timeOut:0,timeDown:0,timeUp:0,downDuration:0,isDragged:!1}},stop:function(){!1!==this.enabled&&(this.enabled=!1,this.game.input.interactiveItems.remove(this))},destroy:function(){this.sprite&&(this._setHandCursor&&(this.game.canvas.style.cursor="",this._setHandCursor=!1),this.enabled=!1,this.game.input.interactiveItems.remove(this),this._pointerData.length=0,this.boundsRect=null,this.boundsSprite=null,this.sprite=null)},validForInput:function(t,e,i){return void 0===i&&(i=!0),!(!this.enabled||0===this.sprite.scale.x||0===this.sprite.scale.y||this.priorityID<this.game.input.minPriorityID||this.sprite.parent&&this.sprite.parent.ignoreChildInput)&&(!(!i&&(this.pixelPerfectClick||this.pixelPerfectOver))&&(this.priorityID>t||this.priorityID===t&&this.sprite.renderOrderID>e))},isPixelPerfect:function(){return this.pixelPerfectClick||this.pixelPerfectOver},pointerX:function(t){return t=t||0,this._pointerData[t].x},pointerY:function(t){return t=t||0,this._pointerData[t].y},pointerDown:function(t){return t=t||0,this._pointerData[t].isDown},pointerUp:function(t){return t=t||0,this._pointerData[t].isUp},pointerTimeDown:function(t){return t=t||0,this._pointerData[t].timeDown},pointerTimeUp:function(t){return t=t||0,this._pointerData[t].timeUp},pointerOver:function(t){if(!this.enabled)return!1;if(void 0===t){for(var e=0;e<10;e++)if(this._pointerData[e].isOver)return!0;return!1}return this._pointerData[t].isOver},pointerOut:function(t){if(!this.enabled)return!1;if(void 0!==t)return this._pointerData[t].isOut;for(var e=0;e<10;e++)if(this._pointerData[e].isOut)return!0},pointerTimeOver:function(t){return t=t||0,this._pointerData[t].timeOver},pointerTimeOut:function(t){return t=t||0,this._pointerData[t].timeOut},pointerDragged:function(t){return t=t||0,this._pointerData[t].isDragged},checkPointerDown:function(t,e){return!!(t.isDown&&this.enabled&&this.sprite&&this.sprite.parent&&this.sprite.visible&&this.sprite.parent.visible&&0!==this.sprite.worldScale.x&&0!==this.sprite.worldScale.y)&&(!!this.game.input.hitTest(this.sprite,t,this._tempPoint)&&(void 0===e&&(e=!1),!(!e&&this.pixelPerfectClick)||this.checkPixel(this._tempPoint.x,this._tempPoint.y)))},checkPointerOver:function(t,e){return!!(this.enabled&&this.sprite&&this.sprite.parent&&this.sprite.visible&&this.sprite.parent.visible&&0!==this.sprite.worldScale.x&&0!==this.sprite.worldScale.y)&&(!!this.game.input.hitTest(this.sprite,t,this._tempPoint)&&(void 0===e&&(e=!1),!(!e&&this.pixelPerfectOver)||this.checkPixel(this._tempPoint.x,this._tempPoint.y)))},checkPixel:function(t,e,i){if(this.sprite.texture.baseTexture.source){if(null===t&&null===e){this.game.input.getLocalPosition(this.sprite,i,this._tempPoint);var t=this._tempPoint.x,e=this._tempPoint.y}if(0!==this.sprite.anchor.x&&(t-=-this.sprite.texture.frame.width*this.sprite.anchor.x),0!==this.sprite.anchor.y&&(e-=-this.sprite.texture.frame.height*this.sprite.anchor.y),t+=this.sprite.texture.frame.x,e+=this.sprite.texture.frame.y,this.sprite.texture.trim&&(t-=this.sprite.texture.trim.x,e-=this.sprite.texture.trim.y,t<this.sprite.texture.crop.x||t>this.sprite.texture.crop.right||e<this.sprite.texture.crop.y||e>this.sprite.texture.crop.bottom))return this._dx=t,this._dy=e,!1;if(this._dx=t,this._dy=e,this.game.input.hitContext.clearRect(0,0,1,1),this.game.input.hitContext.drawImage(this.sprite.texture.baseTexture.source,t,e,1,1,0,0,1,1),this.game.input.hitContext.getImageData(0,0,1,1).data[3]>=this.pixelPerfectAlpha)return!0}return!1},update:function(t){if(null!==this.sprite&&void 0!==this.sprite.parent)return this.enabled&&this.sprite.visible&&this.sprite.parent.visible?this._pendingDrag?(this._dragDistancePass||(this._dragDistancePass=i.Math.distance(t.x,t.y,this.downPoint.x,this.downPoint.y)>=this.dragDistanceThreshold),this._dragDistancePass&&this._dragTimePass&&this.startDrag(t),!0):this.draggable&&this._draggedPointerID===t.id?this.updateDrag(t,!1):this._pointerData[t.id].isOver?this.checkPointerOver(t)?(this._pointerData[t.id].x=t.x-this.sprite.x,this._pointerData[t.id].y=t.y-this.sprite.y,!0):(this._pointerOutHandler(t),!1):void 0:(this._pointerOutHandler(t),!1)},_pointerOverHandler:function(t,e){if(null!==this.sprite){var i=this._pointerData[t.id];if(!1===i.isOver||t.dirty){var s=!1===i.isOver;i.isOver=!0,i.isOut=!1,i.timeOver=this.game.time.time,i.x=t.x-this.sprite.x,i.y=t.y-this.sprite.y,this.useHandCursor&&!1===i.isDragged&&(this.game.canvas.style.cursor="pointer",this._setHandCursor=!0),!e&&s&&this.sprite&&this.sprite.events&&this.sprite.events.onInputOver$dispatch(this.sprite,t),this.sprite.parent&&this.sprite.parent.onChildInputOver&&this.sprite.parent.onChildInputOver.dispatch(this.sprite,t)}}},_pointerOutHandler:function(t,e){if(null!==this.sprite){var i=this._pointerData[t.id];i.isOver=!1,i.isOut=!0,i.timeOut=this.game.time.time,this.useHandCursor&&!1===i.isDragged&&(this.game.canvas.style.cursor="",this._setHandCursor=!1),!e&&this.sprite&&this.sprite.events&&(this.sprite.events.onInputOut$dispatch(this.sprite,t),this.sprite&&this.sprite.parent&&this.sprite.parent.onChildInputOut&&this.sprite.parent.onChildInputOut.dispatch(this.sprite,t))}},_touchedHandler:function(t){if(null!==this.sprite){var e=this._pointerData[t.id];if(!e.isDown&&e.isOver){if(this.pixelPerfectClick&&!this.checkPixel(null,null,t))return;if(e.isDown=!0,e.isUp=!1,e.timeDown=this.game.time.time,this.downPoint.set(t.x,t.y),t.dirty=!0,this.sprite&&this.sprite.events&&(this.sprite.events.onInputDown$dispatch(this.sprite,t),this.sprite&&this.sprite.parent&&this.sprite.parent.onChildInputDown&&this.sprite.parent.onChildInputDown.dispatch(this.sprite,t),null===this.sprite))return;this.draggable&&!1===this.isDragged&&(0===this.dragTimeThreshold&&0===this.dragDistanceThreshold?this.startDrag(t):(this._pendingDrag=!0,this._dragDistancePass=0===this.dragDistanceThreshold,this.dragTimeThreshold>0?(this._dragTimePass=!1,this.game.time.events.add(this.dragTimeThreshold,this.dragTimeElapsed,this,t)):this._dragTimePass=!0)),this.bringToTop&&this.sprite.bringToTop()}}},dragTimeElapsed:function(t){this._dragTimePass=!0,this._pendingDrag&&this.sprite&&this._dragDistancePass&&this.startDrag(t)},_releasedHandler:function(t){if(null!==this.sprite){var e=this._pointerData[t.id];if(e.isDown&&t.isUp){e.isDown=!1,e.isUp=!0,e.timeUp=this.game.time.time,e.downDuration=e.timeUp-e.timeDown;var i=this.checkPointerOver(t);this.sprite&&this.sprite.events&&(this.dragStopBlocksInputUp&&(!this.dragStopBlocksInputUp||this.draggable&&this.isDragged&&this._draggedPointerID===t.id)||this.sprite.events.onInputUp$dispatch(this.sprite,t,i),this.sprite&&this.sprite.parent&&this.sprite.parent.onChildInputUp&&this.sprite.parent.onChildInputUp.dispatch(this.sprite,t,i),i&&(i=this.checkPointerOver(t))),e.isOver=i,!i&&this.useHandCursor&&(this.game.canvas.style.cursor="default",this._setHandCursor=!1),t.dirty=!0,this._pendingDrag=!1,this.draggable&&this.isDragged&&this._draggedPointerID===t.id&&this.stopDrag(t)}}},updateDrag:function(t,e){if(void 0===e&&(e=!1),t.isUp)return this.stopDrag(t),!1;var i=this.globalToLocal(t);if(this.sprite.fixedToCamera)var s=this.game.camera.scale.x*i.x+this._dragPoint.x+this.dragOffset.x,n=this.game.camera.scale.y*i.y+this._dragPoint.y+this.dragOffset.y;else var s=i.x+this._dragPoint.x+this.dragOffset.x,n=i.y+this._dragPoint.y+this.dragOffset.y;if(this.sprite.fixedToCamera)this.allowHorizontalDrag&&(this.sprite.cameraOffset.x=s-this.game.camera.x),this.allowVerticalDrag&&(this.sprite.cameraOffset.y=n-this.game.camera.y),this.boundsRect&&this.checkBoundsRect(),this.boundsSprite&&this.checkBoundsSprite(),this.snapOnDrag&&(this.sprite.cameraOffset.x=Math.round((this.sprite.cameraOffset.x-this.snapOffsetX%this.snapX)/this.snapX)*this.snapX+this.snapOffsetX%this.snapX,this.sprite.cameraOffset.y=Math.round((this.sprite.cameraOffset.y-this.snapOffsetY%this.snapY)/this.snapY)*this.snapY+this.snapOffsetY%this.snapY,this.snapPoint.set(this.sprite.cameraOffset.x,this.sprite.cameraOffset.y));else{var o=this.game.camera.x-this._pointerData[t.id].camX,r=this.game.camera.y-this._pointerData[t.id].camY;this.allowHorizontalDrag&&(this.sprite.x=s+o),this.allowVerticalDrag&&(this.sprite.y=n+r),this.boundsRect&&this.checkBoundsRect(),this.boundsSprite&&this.checkBoundsSprite(),this.snapOnDrag&&(this.sprite.x=Math.round((this.sprite.x-this.snapOffsetX%this.snapX)/this.snapX)*this.snapX+this.snapOffsetX%this.snapX,this.sprite.y=Math.round((this.sprite.y-this.snapOffsetY%this.snapY)/this.snapY)*this.snapY+this.snapOffsetY%this.snapY,this.snapPoint.set(this.sprite.x,this.sprite.y))}return this.sprite.events.onDragUpdate.dispatch(this.sprite,t,s,n,this.snapPoint,e),!0},justOver:function(t,e){return t=t||0,e=e||500,this._pointerData[t].isOver&&this.overDuration(t)<e},justOut:function(t,e){return t=t||0,e=e||500,this._pointerData[t].isOut&&this.game.time.time-this._pointerData[t].timeOut<e},justPressed:function(t,e){return t=t||0,e=e||500,this._pointerData[t].isDown&&this.downDuration(t)<e},justReleased:function(t,e){return t=t||0,e=e||500,this._pointerData[t].isUp&&this.game.time.time-this._pointerData[t].timeUp<e},overDuration:function(t){return t=t||0,this._pointerData[t].isOver?this.game.time.time-this._pointerData[t].timeOver:-1},downDuration:function(t){return t=t||0,this._pointerData[t].isDown?this.game.time.time-this._pointerData[t].timeDown:-1},enableDrag:function(t,e,s,n,o,r){void 0===t&&(t=!1),void 0===e&&(e=!1),void 0===s&&(s=!1),void 0===n&&(n=255),void 0===o&&(o=null),void 0===r&&(r=null),this._dragPoint=new i.Point,this.draggable=!0,this.bringToTop=e,this.dragOffset=new i.Point,this.dragFromCenter=t,this.pixelPerfectClick=s,this.pixelPerfectAlpha=n,o&&(this.boundsRect=o),r&&(this.boundsSprite=r)},disableDrag:function(){if(this._pointerData)for(var t=0;t<10;t++)this._pointerData[t].isDragged=!1;this.draggable=!1,this.isDragged=!1,this._draggedPointerID=-1,this._pendingDrag=!1},startDrag:function(t){var e=this.sprite.x,s=this.sprite.y,n=this.globalToLocal(t);if(this.isDragged=!0,this._draggedPointerID=t.id,this._pointerData[t.id].camX=this.game.camera.x,this._pointerData[t.id].camY=this.game.camera.y,this._pointerData[t.id].isDragged=!0,this.sprite.fixedToCamera){if(this.dragFromCenter){var o=this.sprite.getBounds(),r=this.globalToLocal(new i.Point(o.centerX,o.centerY));this.sprite.cameraOffset.x=n.x+(this.sprite.cameraOffset.x-r.x),this.sprite.cameraOffset.y=n.y+(this.sprite.cameraOffset.y-r.y)}this._dragPoint.setTo(this.sprite.cameraOffset.x-t.x,this.sprite.cameraOffset.y-t.y)}else{if(this.dragFromCenter){var o=this.sprite.getBounds(),r=this.globalToLocal(new i.Point(o.centerX,o.centerY));this.sprite.x=n.x+(this.sprite.x-r.x),this.sprite.y=n.y+(this.sprite.y-r.y)}this._dragPoint.setTo(this.sprite.x-n.x,this.sprite.y-n.y)}this.updateDrag(t,!0),this.bringToTop&&(this._dragPhase=!0,this.sprite.bringToTop()),this.dragStartPoint.set(e,s),this.sprite.events.onDragStart$dispatch(this.sprite,t,e,s),this._pendingDrag=!1},globalToLocalX:function(t){return this.scaleLayer&&(t-=this.game.scale.grid.boundsFluid.x,t*=this.game.scale.grid.scaleFluidInversed.x),t},globalToLocalY:function(t){return this.scaleLayer&&(t-=this.game.scale.grid.boundsFluid.y,t*=this.game.scale.grid.scaleFluidInversed.y),t},globalToLocal:function(t){return this.sprite.parent?this.game.input.getLocalPosition(this.sprite.parent,{x:t.x,y:t.y}):t},stopDrag:function(t){this.isDragged=!1,this._draggedPointerID=-1,this._pointerData[t.id].isDragged=!1,this._dragPhase=!1,this._pendingDrag=!1,this.snapOnRelease&&(this.sprite.fixedToCamera?(this.sprite.cameraOffset.x=Math.round((this.sprite.cameraOffset.x-this.snapOffsetX%this.snapX)/this.snapX)*this.snapX+this.snapOffsetX%this.snapX,this.sprite.cameraOffset.y=Math.round((this.sprite.cameraOffset.y-this.snapOffsetY%this.snapY)/this.snapY)*this.snapY+this.snapOffsetY%this.snapY):(this.sprite.x=Math.round((this.sprite.x-this.snapOffsetX%this.snapX)/this.snapX)*this.snapX+this.snapOffsetX%this.snapX,this.sprite.y=Math.round((this.sprite.y-this.snapOffsetY%this.snapY)/this.snapY)*this.snapY+this.snapOffsetY%this.snapY)),this.sprite.events.onDragStop$dispatch(this.sprite,t),!1===this.checkPointerOver(t)&&this._pointerOutHandler(t)},setDragLock:function(t,e){void 0===t&&(t=!0),void 0===e&&(e=!0),this.allowHorizontalDrag=t,this.allowVerticalDrag=e},enableSnap:function(t,e,i,s,n,o){void 0===i&&(i=!0),void 0===s&&(s=!1),void 0===n&&(n=0),void 0===o&&(o=0),this.snapX=t,this.snapY=e,this.snapOffsetX=n,this.snapOffsetY=o,this.snapOnDrag=i,this.snapOnRelease=s},disableSnap:function(){this.snapOnDrag=!1,this.snapOnRelease=!1},checkBoundsRect:function(){this.sprite.fixedToCamera?(this.sprite.cameraOffset.x<this.boundsRect.left?this.sprite.cameraOffset.x=this.boundsRect.left:this.sprite.cameraOffset.x+this.sprite.width>this.boundsRect.right&&(this.sprite.cameraOffset.x=this.boundsRect.right-this.sprite.width),this.sprite.cameraOffset.y<this.boundsRect.top?this.sprite.cameraOffset.y=this.boundsRect.top:this.sprite.cameraOffset.y+this.sprite.height>this.boundsRect.bottom&&(this.sprite.cameraOffset.y=this.boundsRect.bottom-this.sprite.height)):(this.sprite.left<this.boundsRect.left?this.sprite.x=this.boundsRect.x+this.sprite.offsetX:this.sprite.right>this.boundsRect.right&&(this.sprite.x=this.boundsRect.right-(this.sprite.width-this.sprite.offsetX)),this.sprite.top<this.boundsRect.top?this.sprite.y=this.boundsRect.top+this.sprite.offsetY:this.sprite.bottom>this.boundsRect.bottom&&(this.sprite.y=this.boundsRect.bottom-(this.sprite.height-this.sprite.offsetY)))},checkBoundsSprite:function(){this.sprite.fixedToCamera&&this.boundsSprite.fixedToCamera?(this.sprite.cameraOffset.x<this.boundsSprite.cameraOffset.x?this.sprite.cameraOffset.x=this.boundsSprite.cameraOffset.x:this.sprite.cameraOffset.x+this.sprite.width>this.boundsSprite.cameraOffset.x+this.boundsSprite.width&&(this.sprite.cameraOffset.x=this.boundsSprite.cameraOffset.x+this.boundsSprite.width-this.sprite.width),this.sprite.cameraOffset.y<this.boundsSprite.cameraOffset.y?this.sprite.cameraOffset.y=this.boundsSprite.cameraOffset.y:this.sprite.cameraOffset.y+this.sprite.height>this.boundsSprite.cameraOffset.y+this.boundsSprite.height&&(this.sprite.cameraOffset.y=this.boundsSprite.cameraOffset.y+this.boundsSprite.height-this.sprite.height)):(this.sprite.left<this.boundsSprite.left?this.sprite.x=this.boundsSprite.left+this.sprite.offsetX:this.sprite.right>this.boundsSprite.right&&(this.sprite.x=this.boundsSprite.right-(this.sprite.width-this.sprite.offsetX)),this.sprite.top<this.boundsSprite.top?this.sprite.y=this.boundsSprite.top+this.sprite.offsetY:this.sprite.bottom>this.boundsSprite.bottom&&(this.sprite.y=this.boundsSprite.bottom-(this.sprite.height-this.sprite.offsetY)))}},i.InputHandler.prototype.constructor=i.InputHandler,i.Gamepad=function(t){this.game=t,this._gamepadIndexMap={},this._rawPads=[],this._active=!1,this.enabled=!0,this._gamepadSupportAvailable=!!navigator.webkitGetGamepads||!!navigator.webkitGamepads||-1!==navigator.userAgent.indexOf("Firefox/")||!!navigator.getGamepads,this._prevRawGamepadTypes=[],this._prevTimestamps=[],this.callbackContext=this,this.onConnectCallback=null,this.onDisconnectCallback=null,this.onDownCallback=null,this.onUpCallback=null,this.onAxisCallback=null,this.onFloatCallback=null,this._ongamepadconnected=null,this._gamepaddisconnected=null,this._gamepads=[new i.SinglePad(t,this),new i.SinglePad(t,this),new i.SinglePad(t,this),new i.SinglePad(t,this)]},i.Gamepad.prototype={addCallbacks:function(t,e){void 0!==e&&(this.onConnectCallback="function"==typeof e.onConnect?e.onConnect:this.onConnectCallback,this.onDisconnectCallback="function"==typeof e.onDisconnect?e.onDisconnect:this.onDisconnectCallback,this.onDownCallback="function"==typeof e.onDown?e.onDown:this.onDownCallback,this.onUpCallback="function"==typeof e.onUp?e.onUp:this.onUpCallback,this.onAxisCallback="function"==typeof e.onAxis?e.onAxis:this.onAxisCallback,this.onFloatCallback="function"==typeof e.onFloat?e.onFloat:this.onFloatCallback,this.callbackContext=t)},start:function(){if(!this._active){this._active=!0;var t=this;this._onGamepadConnected=function(e){return t.onGamepadConnected(e)},this._onGamepadDisconnected=function(e){return t.onGamepadDisconnected(e)},window.addEventListener("gamepadconnected",this._onGamepadConnected,!1),window.addEventListener("gamepaddisconnected",this._onGamepadDisconnected,!1)}},onGamepadConnected:function(t){var e=t.gamepad;this._rawPads.push(e),this._gamepads[e.index].connect(e)},onGamepadDisconnected:function(t){var e=t.gamepad;for(var i in this._rawPads)this._rawPads[i].index===e.index&&this._rawPads.splice(i,1);this._gamepads[e.index].disconnect()},update:function(){this._pollGamepads(),this.pad1.pollStatus(),this.pad2.pollStatus(),this.pad3.pollStatus(),this.pad4.pollStatus()},_pollGamepads:function(){if(this._active){if(navigator.getGamepads)t=navigator.getGamepads();else if(navigator.webkitGetGamepads)t=navigator.webkitGetGamepads();else if(navigator.webkitGamepads)var t=navigator.webkitGamepads();if(t){this._rawPads=[];for(var e=!1,i=0;i<t.length&&(typeof t[i]!==this._prevRawGamepadTypes[i]&&(e=!0,this._prevRawGamepadTypes[i]=typeof t[i]),t[i]&&this._rawPads.push(t[i]),3!==i);i++);for(var s=0;s<this._gamepads.length;s++)this._gamepads[s]._rawPad=this._rawPads[s];if(e){for(var n,o={rawIndices:{},padIndices:{}},r=0;r<this._gamepads.length;r++)if((n=this._gamepads[r]).connected)for(var a=0;a<this._rawPads.length;a++)this._rawPads[a].index===n.index&&(o.rawIndices[n.index]=!0,o.padIndices[r]=!0);for(var h=0;h<this._gamepads.length;h++)if(n=this._gamepads[h],!o.padIndices[h]){this._rawPads.length<1&&n.disconnect();for(var l=0;l<this._rawPads.length&&!o.padIndices[h];l++){var c=this._rawPads[l];if(c){if(o.rawIndices[c.index]){n.disconnect();continue}n.connect(c),o.rawIndices[c.index]=!0,o.padIndices[h]=!0}else n.disconnect()}}}}}},setDeadZones:function(t){for(var e=0;e<this._gamepads.length;e++)this._gamepads[e].deadZone=t},stop:function(){this._active=!1,window.removeEventListener("gamepadconnected",this._onGamepadConnected),window.removeEventListener("gamepaddisconnected",this._onGamepadDisconnected)},reset:function(){this.update();for(var t=0;t<this._gamepads.length;t++)this._gamepads[t].reset()},justPressed:function(t,e){for(var i=0;i<this._gamepads.length;i++)if(!0===this._gamepads[i].justPressed(t,e))return!0;return!1},justReleased:function(t,e){for(var i=0;i<this._gamepads.length;i++)if(!0===this._gamepads[i].justReleased(t,e))return!0;return!1},isDown:function(t){for(var e=0;e<this._gamepads.length;e++)if(!0===this._gamepads[e].isDown(t))return!0;return!1},destroy:function(){this.stop();for(var t=0;t<this._gamepads.length;t++)this._gamepads[t].destroy()}},i.Gamepad.prototype.constructor=i.Gamepad,Object.defineProperty(i.Gamepad.prototype,"active",{get:function(){return this._active}}),Object.defineProperty(i.Gamepad.prototype,"supported",{get:function(){return this._gamepadSupportAvailable}}),Object.defineProperty(i.Gamepad.prototype,"padsConnected",{get:function(){return this._rawPads.length}}),Object.defineProperty(i.Gamepad.prototype,"pad1",{get:function(){return this._gamepads[0]}}),Object.defineProperty(i.Gamepad.prototype,"pad2",{get:function(){return this._gamepads[1]}}),Object.defineProperty(i.Gamepad.prototype,"pad3",{get:function(){return this._gamepads[2]}}),Object.defineProperty(i.Gamepad.prototype,"pad4",{get:function(){return this._gamepads[3]}}),i.Gamepad.BUTTON_0=0,i.Gamepad.BUTTON_1=1,i.Gamepad.BUTTON_2=2,i.Gamepad.BUTTON_3=3,i.Gamepad.BUTTON_4=4,i.Gamepad.BUTTON_5=5,i.Gamepad.BUTTON_6=6,i.Gamepad.BUTTON_7=7,i.Gamepad.BUTTON_8=8,i.Gamepad.BUTTON_9=9,i.Gamepad.BUTTON_10=10,i.Gamepad.BUTTON_11=11,i.Gamepad.BUTTON_12=12,i.Gamepad.BUTTON_13=13,i.Gamepad.BUTTON_14=14,i.Gamepad.BUTTON_15=15,i.Gamepad.AXIS_0=0,i.Gamepad.AXIS_1=1,i.Gamepad.AXIS_2=2,i.Gamepad.AXIS_3=3,i.Gamepad.AXIS_4=4,i.Gamepad.AXIS_5=5,i.Gamepad.AXIS_6=6,i.Gamepad.AXIS_7=7,i.Gamepad.AXIS_8=8,i.Gamepad.AXIS_9=9,i.Gamepad.XBOX360_A=0,i.Gamepad.XBOX360_B=1,i.Gamepad.XBOX360_X=2,i.Gamepad.XBOX360_Y=3,i.Gamepad.XBOX360_LEFT_BUMPER=4,i.Gamepad.XBOX360_RIGHT_BUMPER=5,i.Gamepad.XBOX360_LEFT_TRIGGER=6,i.Gamepad.XBOX360_RIGHT_TRIGGER=7,i.Gamepad.XBOX360_BACK=8,i.Gamepad.XBOX360_START=9,i.Gamepad.XBOX360_STICK_LEFT_BUTTON=10,i.Gamepad.XBOX360_STICK_RIGHT_BUTTON=11,i.Gamepad.XBOX360_DPAD_LEFT=14,i.Gamepad.XBOX360_DPAD_RIGHT=15,i.Gamepad.XBOX360_DPAD_UP=12,i.Gamepad.XBOX360_DPAD_DOWN=13,i.Gamepad.XBOX360_STICK_LEFT_X=0,i.Gamepad.XBOX360_STICK_LEFT_Y=1,i.Gamepad.XBOX360_STICK_RIGHT_X=2,i.Gamepad.XBOX360_STICK_RIGHT_Y=3,i.Gamepad.PS3XC_X=0,i.Gamepad.PS3XC_CIRCLE=1,i.Gamepad.PS3XC_SQUARE=2,i.Gamepad.PS3XC_TRIANGLE=3,i.Gamepad.PS3XC_L1=4,i.Gamepad.PS3XC_R1=5,i.Gamepad.PS3XC_L2=6,i.Gamepad.PS3XC_R2=7,i.Gamepad.PS3XC_SELECT=8,i.Gamepad.PS3XC_START=9,i.Gamepad.PS3XC_STICK_LEFT_BUTTON=10,i.Gamepad.PS3XC_STICK_RIGHT_BUTTON=11,i.Gamepad.PS3XC_DPAD_UP=12,i.Gamepad.PS3XC_DPAD_DOWN=13,i.Gamepad.PS3XC_DPAD_LEFT=14,i.Gamepad.PS3XC_DPAD_RIGHT=15,i.Gamepad.PS3XC_STICK_LEFT_X=0,i.Gamepad.PS3XC_STICK_LEFT_Y=1,i.Gamepad.PS3XC_STICK_RIGHT_X=2,i.Gamepad.PS3XC_STICK_RIGHT_Y=3,i.SinglePad=function(t,e){this.game=t,this.index=null,this.connected=!1,this.callbackContext=this,this.onConnectCallback=null,this.onDisconnectCallback=null,this.onDownCallback=null,this.onUpCallback=null,this.onAxisCallback=null,this.onFloatCallback=null,this.deadZone=.26,this._padParent=e,this._rawPad=null,this._prevTimestamp=null,this._buttons=[],this._buttonsLen=0,this._axes=[],this._axesLen=0},i.SinglePad.prototype={addCallbacks:function(t,e){void 0!==e&&(this.onConnectCallback="function"==typeof e.onConnect?e.onConnect:this.onConnectCallback,this.onDisconnectCallback="function"==typeof e.onDisconnect?e.onDisconnect:this.onDisconnectCallback,this.onDownCallback="function"==typeof e.onDown?e.onDown:this.onDownCallback,this.onUpCallback="function"==typeof e.onUp?e.onUp:this.onUpCallback,this.onAxisCallback="function"==typeof e.onAxis?e.onAxis:this.onAxisCallback,this.onFloatCallback="function"==typeof e.onFloat?e.onFloat:this.onFloatCallback,this.callbackContext=t)},getButton:function(t){return this._buttons[t]?this._buttons[t]:null},pollStatus:function(){if(this.connected&&this.game.input.enabled&&this.game.input.gamepad.enabled&&(!this._rawPad.timestamp||this._rawPad.timestamp!==this._prevTimestamp)){for(var t=0;t<this._buttonsLen;t++){var e=isNaN(this._rawPad.buttons[t])?this._rawPad.buttons[t].value:this._rawPad.buttons[t];e!==this._buttons[t].value&&(1===e?this.processButtonDown(t,e):0===e?this.processButtonUp(t,e):this.processButtonFloat(t,e))}for(var i=0;i<this._axesLen;i++){var s=this._rawPad.axes[i];s>0&&s>this.deadZone||s<0&&s<-this.deadZone?this.processAxisChange(i,s):this.processAxisChange(i,0)}this._prevTimestamp=this._rawPad.timestamp}},connect:function(t){var e=!this.connected;this.connected=!0,this.index=t.index,this._rawPad=t,this._buttons=[],this._buttonsLen=t.buttons.length,this._axes=[],this._axesLen=t.axes.length;for(var s=0;s<this._axesLen;s++)this._axes[s]=t.axes[s];for(var n in t.buttons)n=parseInt(n,10),this._buttons[n]=new i.DeviceButton(this,n);e&&this._padParent.onConnectCallback&&this._padParent.onConnectCallback.call(this._padParent.callbackContext,this.index),e&&this.onConnectCallback&&this.onConnectCallback.call(this.callbackContext)},disconnect:function(){var t=this.connected,e=this.index;this.connected=!1,this.index=null,this._rawPad=void 0;for(var i=0;i<this._buttonsLen;i++)this._buttons[i].destroy();this._buttons=[],this._buttonsLen=0,this._axes=[],this._axesLen=0,t&&this._padParent.onDisconnectCallback&&this._padParent.onDisconnectCallback.call(this._padParent.callbackContext,e),t&&this.onDisconnectCallback&&this.onDisconnectCallback.call(this.callbackContext)},destroy:function(){this._rawPad=void 0;for(var t=0;t<this._buttonsLen;t++)this._buttons[t].destroy();this._buttons=[],this._buttonsLen=0,this._axes=[],this._axesLen=0,this.onConnectCallback=null,this.onDisconnectCallback=null,this.onDownCallback=null,this.onUpCallback=null,this.onAxisCallback=null,this.onFloatCallback=null},processAxisChange:function(t,e){this._axes[t]!==e&&(this._axes[t]=e,this._padParent.onAxisCallback&&this._padParent.onAxisCallback.call(this._padParent.callbackContext,this,t,e),this.onAxisCallback&&this.onAxisCallback.call(this.callbackContext,this,t,e))},processButtonDown:function(t,e){this._buttons[t]&&this._buttons[t].start(null,e),this._padParent.onDownCallback&&this._padParent.onDownCallback.call(this._padParent.callbackContext,t,e,this.index),this.onDownCallback&&this.onDownCallback.call(this.callbackContext,t,e)},processButtonUp:function(t,e){this._padParent.onUpCallback&&this._padParent.onUpCallback.call(this._padParent.callbackContext,t,e,this.index),this.onUpCallback&&this.onUpCallback.call(this.callbackContext,t,e),this._buttons[t]&&this._buttons[t].stop(null,e)},processButtonFloat:function(t,e){this._padParent.onFloatCallback&&this._padParent.onFloatCallback.call(this._padParent.callbackContext,t,e,this.index),this.onFloatCallback&&this.onFloatCallback.call(this.callbackContext,t,e),this._buttons[t]&&this._buttons[t].padFloat(e)},axis:function(t){return!!this._axes[t]&&this._axes[t]},isDown:function(t){return!!this._buttons[t]&&this._buttons[t].isDown},isUp:function(t){return!!this._buttons[t]&&this._buttons[t].isUp},justReleased:function(t,e){if(this._buttons[t])return this._buttons[t].justReleased(e)},justPressed:function(t,e){if(this._buttons[t])return this._buttons[t].justPressed(e)},buttonValue:function(t){return this._buttons[t]?this._buttons[t].value:null},reset:function(){for(var t=0;t<this._axes.length;t++)this._axes[t]=0}},i.SinglePad.prototype.constructor=i.SinglePad,i.Key=function(t,e){this.game=t,this._enabled=!0,this.event=null,this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.timeDown=0,this.duration=0,this.timeUp=-2500,this.durationUp=-2500,this.repeats=0,this.keyCode=e,this.onDown=new i.Signal,this.onHoldCallback=null,this.onHoldContext=null,this.onUp=new i.Signal,this._justDown=!1,this._justUp=!1},i.Key.prototype={update:function(){this._enabled&&(this.isDown?(this.duration=this.game.time.time-this.timeDown,this.repeats++,this.onHoldCallback&&this.onHoldCallback.call(this.onHoldContext,this)):this.durationUp=this.game.time.time-this.timeUp)},processKeyDown:function(t){this._enabled&&(this.event=t,this.isDown||(this.altKey=t.altKey,this.ctrlKey=t.ctrlKey,this.shiftKey=t.shiftKey,this.isDown=!0,this.isUp=!1,this.timeDown=this.game.time.time,this.duration=0,this.durationUp=this.game.time.time-this.timeUp,this.repeats=0,this._justDown=!0,this.onDown.dispatch(this)))},processKeyUp:function(t){this._enabled&&(this.event=t,this.isUp||(this.isDown=!1,this.isUp=!0,this.timeUp=this.game.time.time,this.duration=this.game.time.time-this.timeDown,this.durationUp=0,this._justUp=!0,this.onUp.dispatch(this)))},reset:function(t){void 0===t&&(t=!0),this.isDown=!1,this.isUp=!0,this.timeUp=this.game.time.time,this.duration=0,this.durationUp=-2500,this._enabled=!0,this._justDown=!1,this._justUp=!1,t&&(this.onDown.removeAll(),this.onUp.removeAll(),this.onHoldCallback=null,this.onHoldContext=null)},downDuration:function(t){return void 0===t&&(t=50),this.isDown&&this.duration<t},upDuration:function(t){return void 0===t&&(t=50),!this.isDown&&this.game.time.time-this.timeUp<t},justPressed:function(){return this.isDown&&0===this.duration},justReleased:function(){return!this.isDown&&0===this.durationUp}},Object.defineProperty(i.Key.prototype,"justDown",{get:function(){var t=this._justDown;return this._justDown=!1,t}}),Object.defineProperty(i.Key.prototype,"justUp",{get:function(){var t=this._justUp;return this._justUp=!1,t}}),Object.defineProperty(i.Key.prototype,"enabled",{get:function(){return this._enabled},set:function(t){(t=!!t)!==this._enabled&&(t||this.reset(!1),this._enabled=t)}}),i.Key.prototype.constructor=i.Key,i.Keyboard=function(t){this.game=t,this.enabled=!0,this.event=null,this.pressEvent=null,this.callbackContext=this,this.onDownCallback=null,this.onPressCallback=null,this.onUpCallback=null,this._keys=[],this._capture=[],this._onKeyDown=null,this._onKeyPress=null,this._onKeyUp=null,this._i=0,this._k=0},i.Keyboard.prototype={addCallbacks:function(t,e,i,s){this.callbackContext=t,void 0!==e&&null!==e&&(this.onDownCallback=e),void 0!==i&&null!==i&&(this.onUpCallback=i),void 0!==s&&null!==s&&(this.onPressCallback=s)},removeCallbacks:function(){this.callbackContext=this,this.onDownCallback=null,this.onUpCallback=null,this.onPressCallback=null},addKey:function(t){return this._keys[t]||(this._keys[t]=new i.Key(this.game,t),this.addKeyCapture(t)),this._keys[t]},addKeys:function(t){var e={};for(var i in t)e[i]=this.addKey(t[i]);return e},removeKey:function(t){this._keys[t]&&(this._keys[t]=null,this.removeKeyCapture(t))},createCursorKeys:function(){return this.addKeys({up:i.KeyCode.UP,down:i.KeyCode.DOWN,left:i.KeyCode.LEFT,right:i.KeyCode.RIGHT})},start:function(){if(!this.game.device.cocoonJS&&null===this._onKeyDown){var t=this;this._onKeyDown=function(e){return t.processKeyDown(e)},this._onKeyUp=function(e){return t.processKeyUp(e)},this._onKeyPress=function(e){return t.processKeyPress(e)},window.addEventListener("keydown",this._onKeyDown,!1),window.addEventListener("keyup",this._onKeyUp,!1),window.addEventListener("keypress",this._onKeyPress,!1)}},stop:function(){window.removeEventListener("keydown",this._onKeyDown),window.removeEventListener("keyup",this._onKeyUp),window.removeEventListener("keypress",this._onKeyPress),this._onKeyDown=null,this._onKeyUp=null,this._onKeyPress=null},destroy:function(){this.stop(),this.clearCaptures(),this._keys.length=0,this._i=0},addKeyCapture:function(t){if("object"==typeof t)for(var e in t)this._capture[t[e]]=!0;else this._capture[t]=!0},removeKeyCapture:function(t){delete this._capture[t]},clearCaptures:function(){this._capture={}},update:function(){for(this._i=this._keys.length;this._i--;)this._keys[this._i]&&this._keys[this._i].update()},processKeyDown:function(t){if(this.event=t,this.game.input.enabled&&this.enabled){var e=t.keyCode;this._capture[e]&&t.preventDefault(),this._keys[e]||(this._keys[e]=new i.Key(this.game,e)),this._keys[e].processKeyDown(t),this._k=e,this.onDownCallback&&this.onDownCallback.call(this.callbackContext,t)}},processKeyPress:function(t){this.pressEvent=t,this.game.input.enabled&&this.enabled&&this.onPressCallback&&this.onPressCallback.call(this.callbackContext,String.fromCharCode(t.charCode),t)},processKeyUp:function(t){if(this.event=t,this.game.input.enabled&&this.enabled){var e=t.keyCode;this._capture[e]&&t.preventDefault(),this._keys[e]||(this._keys[e]=new i.Key(this.game,e)),this._keys[e].processKeyUp(t),this.onUpCallback&&this.onUpCallback.call(this.callbackContext,t)}},reset:function(t){void 0===t&&(t=!0),this.event=null;for(var e=this._keys.length;e--;)this._keys[e]&&this._keys[e].reset(t)},downDuration:function(t,e){return this._keys[t]?this._keys[t].downDuration(e):null},upDuration:function(t,e){return this._keys[t]?this._keys[t].upDuration(e):null},justPressed:function(t){return this._keys[t]?this._keys[t].justPressed():null},justReleased:function(t){return this._keys[t]?this._keys[t].justReleased():null},isDown:function(t){return this._keys[t]?this._keys[t].isDown:null}},Object.defineProperty(i.Keyboard.prototype,"lastChar",{get:function(){return this.event&&32===this.event.charCode?"":this.pressEvent?String.fromCharCode(this.pressEvent.charCode):null}}),Object.defineProperty(i.Keyboard.prototype,"lastKey",{get:function(){return this._keys[this._k]}}),i.Keyboard.prototype.constructor=i.Keyboard,i.KeyCode={A:"A".charCodeAt(0),B:"B".charCodeAt(0),C:"C".charCodeAt(0),D:"D".charCodeAt(0),E:"E".charCodeAt(0),F:"F".charCodeAt(0),G:"G".charCodeAt(0),H:"H".charCodeAt(0),I:"I".charCodeAt(0),J:"J".charCodeAt(0),K:"K".charCodeAt(0),L:"L".charCodeAt(0),M:"M".charCodeAt(0),N:"N".charCodeAt(0),O:"O".charCodeAt(0),P:"P".charCodeAt(0),Q:"Q".charCodeAt(0),R:"R".charCodeAt(0),S:"S".charCodeAt(0),T:"T".charCodeAt(0),U:"U".charCodeAt(0),V:"V".charCodeAt(0),W:"W".charCodeAt(0),X:"X".charCodeAt(0),Y:"Y".charCodeAt(0),Z:"Z".charCodeAt(0),ZERO:"0".charCodeAt(0),ONE:"1".charCodeAt(0),TWO:"2".charCodeAt(0),THREE:"3".charCodeAt(0),FOUR:"4".charCodeAt(0),FIVE:"5".charCodeAt(0),SIX:"6".charCodeAt(0),SEVEN:"7".charCodeAt(0),EIGHT:"8".charCodeAt(0),NINE:"9".charCodeAt(0),NUMPAD_0:96,NUMPAD_1:97,NUMPAD_2:98,NUMPAD_3:99,NUMPAD_4:100,NUMPAD_5:101,NUMPAD_6:102,NUMPAD_7:103,NUMPAD_8:104,NUMPAD_9:105,NUMPAD_MULTIPLY:106,NUMPAD_ADD:107,NUMPAD_ENTER:108,NUMPAD_SUBTRACT:109,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,COLON:186,EQUALS:187,COMMA:188,UNDERSCORE:189,PERIOD:190,QUESTION_MARK:191,TILDE:192,OPEN_BRACKET:219,BACKWARD_SLASH:220,CLOSED_BRACKET:221,QUOTES:222,BACKSPACE:8,TAB:9,CLEAR:12,ENTER:13,SHIFT:16,CONTROL:17,ALT:18,CAPS_LOCK:20,ESC:27,SPACEBAR:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PLUS:43,MINUS:44,INSERT:45,DELETE:46,HELP:47,NUM_LOCK:144};for(var n in i.KeyCode)i.KeyCode.hasOwnProperty(n)&&!n.match(/[a-z]/)&&(i.Keyboard[n]=i.KeyCode[n]);i.Component=function(){},i.Component.Angle=function(){},i.Component.Angle.prototype={angle:{get:function(){return i.Math.wrapAngle(i.Math.radToDeg(this.rotation))},set:function(t){this.rotation=i.Math.degToRad(i.Math.wrapAngle(t))}}},i.Component.Animation=function(){},i.Component.Animation.prototype={play:function(t,e,i,s){if(this.animations)return this.animations.play(t,e,i,s)}},i.Component.AutoCull=function(){},i.Component.AutoCull.prototype={autoCull:!1,inCamera:{get:function(){return this.autoCull||this.checkWorldBounds||(this._bounds.copyFrom(this.getBounds()),this._bounds.x+=this.game.camera.view.x,this._bounds.y+=this.game.camera.view.y),this.game.world.camera.view.intersects(this._bounds)}}},i.Component.Bounds=function(){},i.Component.Bounds.prototype={offsetX:{get:function(){return this.anchor.x*this.width}},offsetY:{get:function(){return this.anchor.y*this.height}},centerX:{get:function(){return this.x-this.offsetX+.5*this.width},set:function(t){this.x=t+this.offsetX-.5*this.width}},centerY:{get:function(){return this.y-this.offsetY+.5*this.height},set:function(t){this.y=t+this.offsetY-.5*this.height}},left:{get:function(){return this.x-this.offsetX},set:function(t){this.x=t+this.offsetX}},right:{get:function(){return this.x+this.width-this.offsetX},set:function(t){this.x=t-this.width+this.offsetX}},top:{get:function(){return this.y-this.offsetY},set:function(t){this.y=t+this.offsetY}},bottom:{get:function(){return this.y+this.height-this.offsetY},set:function(t){this.y=t-this.height+this.offsetY}},alignIn:function(t,e,s,n){switch(void 0===s&&(s=0),void 0===n&&(n=0),e){default:case i.TOP_LEFT:this.left=t.left-s,this.top=t.top-n;break;case i.TOP_CENTER:this.centerX=t.centerX+s,this.top=t.top-n;break;case i.TOP_RIGHT:this.right=t.right+s,this.top=t.top-n;break;case i.LEFT_CENTER:this.left=t.left-s,this.centerY=t.centerY+n;break;case i.CENTER:this.centerX=t.centerX+s,this.centerY=t.centerY+n;break;case i.RIGHT_CENTER:this.right=t.right+s,this.centerY=t.centerY+n;break;case i.BOTTOM_LEFT:this.left=t.left-s,this.bottom=t.bottom+n;break;case i.BOTTOM_CENTER:this.centerX=t.centerX+s,this.bottom=t.bottom+n;break;case i.BOTTOM_RIGHT:this.right=t.right+s,this.bottom=t.bottom+n}return this},alignTo:function(t,e,s,n){switch(void 0===s&&(s=0),void 0===n&&(n=0),e){default:case i.TOP_LEFT:this.left=t.left-s,this.bottom=t.top-n;break;case i.TOP_CENTER:this.centerX=t.centerX+s,this.bottom=t.top-n;break;case i.TOP_RIGHT:this.right=t.right+s,this.bottom=t.top-n;break;case i.LEFT_TOP:this.right=t.left-s,this.top=t.top-n;break;case i.LEFT_CENTER:this.right=t.left-s,this.centerY=t.centerY+n;break;case i.LEFT_BOTTOM:this.right=t.left-s,this.bottom=t.bottom+n;break;case i.RIGHT_TOP:this.left=t.right+s,this.top=t.top-n;break;case i.RIGHT_CENTER:this.left=t.right+s,this.centerY=t.centerY+n;break;case i.RIGHT_BOTTOM:this.left=t.right+s,this.bottom=t.bottom+n;break;case i.BOTTOM_LEFT:this.left=t.left-s,this.top=t.bottom+n;break;case i.BOTTOM_CENTER:this.centerX=t.centerX+s,this.top=t.bottom+n;break;case i.BOTTOM_RIGHT:this.right=t.right+s,this.top=t.bottom+n}return this}},i.Group.prototype.alignIn=i.Component.Bounds.prototype.alignIn,i.Group.prototype.alignTo=i.Component.Bounds.prototype.alignTo,i.Component.BringToTop=function(){},i.Component.BringToTop.prototype.bringToTop=function(){return this.parent&&this.parent.bringToTop(this),this},i.Component.BringToTop.prototype.sendToBack=function(){return this.parent&&this.parent.sendToBack(this),this},i.Component.BringToTop.prototype.moveUp=function(){return this.parent&&this.parent.moveUp(this),this},i.Component.BringToTop.prototype.moveDown=function(){return this.parent&&this.parent.moveDown(this),this},i.Component.Core=function(){},i.Component.Core.skipTypeChecks=!1,i.Component.Core.install=function(t){i.Utils.mixinPrototype(this,i.Component.Core.prototype),this.components={};for(var e=0;e<t.length;e++){var s=t[e],n=!1;"Destroy"===s&&(n=!0),i.Utils.mixinPrototype(this,i.Component[s].prototype,n),this.components[s]=!0}},i.Component.Core.init=function(t,e,s,n,o){if(!i.Component.Core.skipTypeChecks){if(!(t instanceof i.Game))throw new Error("The value passed as the `game` argument ("+t+") is not an instance of Phaser.Game.");"number"!=typeof e&&(console.warn("The `x` argument value (%s) should be a number.",e),e=0),"number"!=typeof s&&(console.warn("The `y` argument value (%s) should be a number.",s),s=0)}this.game=t,this.key=n,this.data={},this.position.set(e,s),this.world=new i.Point(e,s),this.previousPosition=new i.Point(e,s),this.events=new i.Events(this),this._bounds=new i.Rectangle,this.components.PhysicsBody&&(this.body=this.body),this.components.Animation&&(this.animations=new i.AnimationManager(this)),this.components.LoadTexture&&null!==n&&this.loadTexture(n,o),this.components.FixedToCamera&&(this.cameraOffset=new i.Point(e,s))},i.Component.Core.preUpdate=function(){return this.pendingDestroy?(this.destroy(),!1):(this.previousPosition.set(this.world.x,this.world.y),this.previousRotation=this.rotation,this.exists&&this.parent.exists?(this.world.setTo(this.game.camera.x+this.worldTransform.tx,this.game.camera.y+this.worldTransform.ty),this.visible&&(this.renderOrderID=this.game.stage.currentRenderOrderID++),this.animations&&this.animations.update(),this.body&&this.body.preUpdate(),this.preUpdateChildren(),!0):(this.renderOrderID=-1,!1))},i.Component.Core.prototype={game:null,name:"",data:{},components:{},z:0,events:void 0,animations:void 0,key:"",world:null,debug:!1,previousPosition:null,previousRotation:0,renderOrderID:0,fresh:!0,pendingDestroy:!1,_bounds:null,_exists:!0,exists:{get:function(){return this._exists},set:function(t){t?(this._exists=!0,this.body&&this.body.type===i.Physics.P2JS&&this.body.addToWorld(),this.visible=!0):(this._exists=!1,this.body&&this.body.type===i.Physics.P2JS&&this.body.removeFromWorld(),this.visible=!1)}},preUpdateChildren:function(){for(var t=0;t<this.children.length;){var e=this.children[t];e.preUpdate(),this===e.parent&&t++}},update:function(){},postUpdate:function(){this.customRender&&this.key.render(),this.components.PhysicsBody&&i.Component.PhysicsBody.postUpdate.call(this),this.components.FixedToCamera&&i.Component.FixedToCamera.postUpdate.call(this);for(var t=0;t<this.children.length;t++)this.children[t].postUpdate()}},i.Component.Crop=function(){},i.Component.Crop.prototype={cropRect:null,_crop:null,crop:function(t,e){void 0===e&&(e=!1),t?(e&&null!==this.cropRect?this.cropRect.setTo(t.x,t.y,t.width,t.height):e&&null===this.cropRect?this.cropRect=new i.Rectangle(t.x,t.y,t.width,t.height):this.cropRect=t,this.updateCrop()):(this._crop=null,this.cropRect=null,this.resetFrame())},updateCrop:function(){if(this.cropRect){var t=this.texture.crop.x,e=this.texture.crop.y,s=this.texture.crop.width,n=this.texture.crop.height;this._crop=i.Rectangle.clone(this.cropRect,this._crop),this._crop.x+=this._frame.x,this._crop.y+=this._frame.y;var o=Math.max(this._frame.x,this._crop.x),r=Math.max(this._frame.y,this._crop.y),a=Math.min(this._frame.right,this._crop.right)-o,h=Math.min(this._frame.bottom,this._crop.bottom)-r;this.texture.crop.x=o,this.texture.crop.y=r,this.texture.crop.width=a,this.texture.crop.height=h,this.texture.frame.width=Math.min(a,this.cropRect.width),this.texture.frame.height=Math.min(h,this.cropRect.height),this.texture.width=this.texture.frame.width,this.texture.height=this.texture.frame.height,this.texture._updateUvs(),16777215===this.tint||t===o&&e===r&&s===a&&n===h||(this.texture.requiresReTint=!0)}}},i.Component.Delta=function(){},i.Component.Delta.prototype={deltaX:{get:function(){return this.world.x-this.previousPosition.x}},deltaY:{get:function(){return this.world.y-this.previousPosition.y}},deltaZ:{get:function(){return this.rotation-this.previousRotation}}},i.Component.Destroy=function(){},i.Component.Destroy.prototype={destroyPhase:!1,destroy:function(t,e){if(null!==this.game&&!this.destroyPhase){void 0===t&&(t=!0),void 0===e&&(e=!1),this.destroyPhase=!0,this.events&&this.events.onDestroy$dispatch(this),this.parent&&(this.parent instanceof i.Group?this.parent.remove(this):this.parent.removeChild(this)),this.input&&this.input.destroy(),this.animations&&this.animations.destroy(),this.body&&this.body.destroy(),this.events&&this.events.destroy(),this.game.tweens.removeFrom(this);var s=this.children.length;if(t)for(;s--;)this.children[s].destroy(t);else for(;s--;)this.removeChild(this.children[s]);this._crop&&(this._crop=null,this.cropRect=null),this._frame&&(this._frame=null),i.Video&&this.key instanceof i.Video&&this.key.onChangeSource.remove(this.resizeFrame,this),i.BitmapText&&this._glyphs&&(this._glyphs=[]),this.alive=!1,this.exists=!1,this.visible=!1,this.filters=null,this.mask=null,this.game=null,this.data={},this.renderable=!1,this.transformCallback&&(this.transformCallback=null,this.transformCallbackContext=null),this.hitArea=null,this.parent=null,this.stage=null,this.worldTransform=null,this.filterArea=null,this._bounds=null,this._currentBounds=null,this._mask=null,this._destroyCachedSprite(),e&&this.texture.destroy(!0),this.destroyPhase=!1,this.pendingDestroy=!1}}},i.Events=function(t){this.parent=t},i.Events.prototype={destroy:function(){this._parent=null,this._onDestroy&&this._onDestroy.dispose(),this._onAddedToGroup&&this._onAddedToGroup.dispose(),this._onRemovedFromGroup&&this._onRemovedFromGroup.dispose(),this._onKilled&&this._onKilled.dispose(),this._onRevived&&this._onRevived.dispose(),this._onEnterBounds&&this._onEnterBounds.dispose(),this._onOutOfBounds&&this._onOutOfBounds.dispose(),this._onInputOver&&this._onInputOver.dispose(),this._onInputOut&&this._onInputOut.dispose(),this._onInputDown&&this._onInputDown.dispose(),this._onInputUp&&this._onInputUp.dispose(),this._onDragStart&&this._onDragStart.dispose(),this._onDragUpdate&&this._onDragUpdate.dispose(),this._onDragStop&&this._onDragStop.dispose(),this._onAnimationStart&&this._onAnimationStart.dispose(),this._onAnimationComplete&&this._onAnimationComplete.dispose(),this._onAnimationLoop&&this._onAnimationLoop.dispose()},onAddedToGroup:null,onRemovedFromGroup:null,onDestroy:null,onKilled:null,onRevived:null,onOutOfBounds:null,onEnterBounds:null,onInputOver:null,onInputOut:null,onInputDown:null,onInputUp:null,onDragStart:null,onDragUpdate:null,onDragStop:null,onAnimationStart:null,onAnimationComplete:null,onAnimationLoop:null},i.Events.prototype.constructor=i.Events;for(var o in i.Events.prototype)i.Events.prototype.hasOwnProperty(o)&&0===o.indexOf("on")&&null===i.Events.prototype[o]&&function(t,e){"use strict";Object.defineProperty(i.Events.prototype,t,{get:function(){return this[e]||(this[e]=new i.Signal)}}),i.Events.prototype[t+"$dispatch"]=function(){return this[e]?this[e].dispatch.apply(this[e],arguments):null}}(o,"_"+o);i.Component.FixedToCamera=function(){},i.Component.FixedToCamera.postUpdate=function(){this.fixedToCamera&&(this.position.x=(this.game.camera.view.x+this.cameraOffset.x)/this.game.camera.scale.x,this.position.y=(this.game.camera.view.y+this.cameraOffset.y)/this.game.camera.scale.y)},i.Component.FixedToCamera.prototype={_fixedToCamera:!1,fixedToCamera:{get:function(){return this._fixedToCamera},set:function(t){t?(this._fixedToCamera=!0,this.cameraOffset.set(this.x,this.y)):this._fixedToCamera=!1}},cameraOffset:new i.Point},i.Component.Health=function(){},i.Component.Health.prototype={health:1,maxHealth:100,damage:function(t){return this.alive&&(this.health-=t,this.health<=0&&this.kill()),this},setHealth:function(t){return this.health=t,this.health>this.maxHealth&&(this.health=this.maxHealth),this},heal:function(t){return this.alive&&(this.health+=t,this.health>this.maxHealth&&(this.health=this.maxHealth)),this}},i.Component.InCamera=function(){},i.Component.InCamera.prototype={inCamera:{get:function(){return this.game.world.camera.view.intersects(this._bounds)}}},i.Component.InputEnabled=function(){},i.Component.InputEnabled.prototype={input:null,inputEnabled:{get:function(){return this.input&&this.input.enabled},set:function(t){t?null===this.input?(this.input=new i.InputHandler(this),this.input.start()):this.input&&!this.input.enabled&&this.input.start():this.input&&this.input.enabled&&this.input.stop()}}},i.Component.InWorld=function(){},i.Component.InWorld.preUpdate=function(){if(this.pendingDestroy)return this.destroy(),!1;if(this.autoCull||this.checkWorldBounds){if(this._bounds.copyFrom(this.getBounds()),this._bounds.x+=this.game.camera.view.x,this._bounds.y+=this.game.camera.view.y,this.autoCull)if(this.game.world.camera.view.intersects(this._bounds))this.renderable=!0,this.game.world.camera.totalInView++;else if(this.renderable=!1,this.outOfCameraBoundsKill)return this.kill(),!1;if(this.checkWorldBounds)if(this._outOfBoundsFired&&this.game.world.bounds.intersects(this._bounds))this._outOfBoundsFired=!1,this.events.onEnterBounds$dispatch(this);else if(!this._outOfBoundsFired&&!this.game.world.bounds.intersects(this._bounds)&&(this._outOfBoundsFired=!0,this.events.onOutOfBounds$dispatch(this),this.outOfBoundsKill))return this.kill(),!1}return!0},i.Component.InWorld.prototype={checkWorldBounds:!1,outOfBoundsKill:!1,outOfCameraBoundsKill:!1,_outOfBoundsFired:!1,inWorld:{get:function(){return this.game.world.bounds.intersects(this.getBounds())}}},i.Component.LifeSpan=function(){},i.Component.LifeSpan.preUpdate=function(){return this.pendingDestroy?(this.destroy(),!1):!(this.lifespan>0&&(this.lifespan-=this.game.time.physicsElapsedMS,this.lifespan<=0))||(this.kill(),!1)},i.Component.LifeSpan.prototype={alive:!0,lifespan:0,revive:function(t){return void 0===t&&(t=100),this.alive=!0,this.exists=!0,this.visible=!0,"function"==typeof this.setHealth&&this.setHealth(t),this.events&&this.events.onRevived$dispatch(this),this},kill:function(){return this.alive=!1,this.exists=!1,this.visible=!1,this.events&&this.events.onKilled$dispatch(this),this}},i.Component.LoadTexture=function(){},i.Component.LoadTexture.prototype={customRender:!1,_frame:null,loadTexture:function(t,e,s){t===i.PENDING_ATLAS?(t=e,e=0):e=e||0,(s||void 0===s)&&this.animations&&this.animations.stop(),this.key=t,this.customRender=!1;var n=this.game.cache,o=!0,r=!this.texture.baseTexture.scaleMode;if(i.RenderTexture&&t instanceof i.RenderTexture)this.key=t.key,this.setTexture(t);else if(i.BitmapData&&t instanceof i.BitmapData)this.customRender=!0,this.setTexture(t.texture),o=n.hasFrameData(t.key,i.Cache.BITMAPDATA)?!this.animations.loadFrameData(n.getFrameData(t.key,i.Cache.BITMAPDATA),e):!this.animations.loadFrameData(t.frameData,0);else if(i.Video&&t instanceof i.Video){this.customRender=!0;var a=t.texture.valid;this.setTexture(t.texture),this.setFrame(t.texture.frame.clone()),t.onChangeSource.add(this.resizeFrame,this),this.texture.valid=a}else if(i.Tilemap&&t instanceof i.TilemapLayer)this.setTexture(PIXI.Texture.fromCanvas(t.canvas));else if(t instanceof PIXI.Texture)this.setTexture(t);else{var h=n.getImage(t,!0);this.key=h.key,this.setTexture(new PIXI.Texture(h.base)),this.texture.baseTexture.skipRender="__default"===t,o=!this.animations.loadFrameData(h.frameData,e)}o&&(this._frame=i.Rectangle.clone(this.texture.frame)),r||(this.texture.baseTexture.scaleMode=1)},setFrame:function(t){this._frame=t,this.texture.frame.x=t.x,this.texture.frame.y=t.y,this.texture.frame.width=t.width,this.texture.frame.height=t.height,this.texture.crop.x=t.x,this.texture.crop.y=t.y,this.texture.crop.width=t.width,this.texture.crop.height=t.height,t.trimmed?(this.texture.trim?(this.texture.trim.x=t.spriteSourceSizeX,this.texture.trim.y=t.spriteSourceSizeY,this.texture.trim.width=t.sourceSizeW,this.texture.trim.height=t.sourceSizeH):this.texture.trim={x:t.spriteSourceSizeX,y:t.spriteSourceSizeY,width:t.sourceSizeW,height:t.sourceSizeH},this.texture.width=t.sourceSizeW,this.texture.height=t.sourceSizeH,this.texture.frame.width=t.sourceSizeW,this.texture.frame.height=t.sourceSizeH):!t.trimmed&&this.texture.trim&&(this.texture.trim=null),t.rotated&&(this.texture.rotated=!0),this.cropRect&&this.updateCrop(),this.texture.requiresReTint=!0,this.texture._updateUvs(),this.tilingTexture&&(this.refreshTexture=!0)},resizeFrame:function(t,e,i){this.texture.frame.resize(e,i),this.texture.setFrame(this.texture.frame)},resetFrame:function(){this._frame&&this.setFrame(this._frame)},frame:{get:function(){return this.animations.frame},set:function(t){this.animations.frame=t}},frameName:{get:function(){return this.animations.frameName},set:function(t){this.animations.frameName=t}}},i.Component.Overlap=function(){},i.Component.Overlap.prototype={overlap:function(t){return i.Rectangle.intersects(this.getBounds(),t.getBounds())}},i.Component.PhysicsBody=function(){},i.Component.PhysicsBody.preUpdate=function(){return this.pendingDestroy?(this.destroy(),!1):this.fresh&&this.exists?(this.world.setTo(this.parent.position.x+this.position.x,this.parent.position.y+this.position.y),this.worldTransform.tx=this.world.x,this.worldTransform.ty=this.world.y,this.previousPosition.set(this.world.x,this.world.y),this.previousRotation=this.rotation,this.body&&this.body.preUpdate(),this.fresh=!1,this.preUpdateChildren(),!1):(this.previousPosition.set(this.world.x,this.world.y),this.previousRotation=this.rotation,!(!this._exists||!this.parent.exists)||(this.renderOrderID=-1,!1))},i.Component.PhysicsBody.postUpdate=function(){this.exists&&this.body&&this.body.postUpdate()},i.Component.PhysicsBody.prototype={body:null,x:{get:function(){return this.position.x},set:function(t){this.position.x=t,this.body&&!this.body.dirty&&(this.body._reset=!0)}},y:{get:function(){return this.position.y},set:function(t){this.position.y=t,this.body&&!this.body.dirty&&(this.body._reset=!0)}}},i.Component.Reset=function(){},i.Component.Reset.prototype.reset=function(t,e,i){return void 0===i&&(i=1),this.world.set(t,e),this.position.set(t,e),this.fresh=!0,this.exists=!0,this.visible=!0,this.renderable=!0,this.components.InWorld&&(this._outOfBoundsFired=!1),this.components.LifeSpan&&(this.alive=!0,this.health=i),this.components.PhysicsBody&&this.body&&this.body.reset(t,e,!1,!1),this},i.Component.ScaleMinMax=function(){},i.Component.ScaleMinMax.prototype={transformCallback:null,transformCallbackContext:this,scaleMin:null,scaleMax:null,checkTransform:function(t){this.scaleMin&&(t.a<this.scaleMin.x&&(t.a=this.scaleMin.x),t.d<this.scaleMin.y&&(t.d=this.scaleMin.y)),this.scaleMax&&(t.a>this.scaleMax.x&&(t.a=this.scaleMax.x),t.d>this.scaleMax.y&&(t.d=this.scaleMax.y))},setScaleMinMax:function(t,e,s,n){void 0===e?e=s=n=t:void 0===s&&(s=n=e,e=t),null===t?this.scaleMin=null:this.scaleMin?this.scaleMin.set(t,e):this.scaleMin=new i.Point(t,e),null===s?this.scaleMax=null:this.scaleMax?this.scaleMax.set(s,n):this.scaleMax=new i.Point(s,n),null===this.scaleMin?this.transformCallback=null:(this.transformCallback=this.checkTransform,this.transformCallbackContext=this)}},i.Component.Smoothed=function(){},i.Component.Smoothed.prototype={smoothed:{get:function(){return!this.texture.baseTexture.scaleMode},set:function(t){t?this.texture&&(this.texture.baseTexture.scaleMode=0):this.texture&&(this.texture.baseTexture.scaleMode=1)}}},i.GameObjectFactory=function(t){this.game=t,this.world=this.game.world},i.GameObjectFactory.prototype={existing:function(t){return this.world.add(t)},weapon:function(t,e,s,n,o){var r=this.game.plugins.add(i.Weapon);return o&&(r.bulletClass=o),r.createBullets(t,e,s,n),r},image:function(t,e,s,n,o){return void 0===o&&(o=this.world),o.add(new i.Image(this.game,t,e,s,n))},sprite:function(t,e,s,n,o){return void 0===o&&(o=this.world),o.add(new i.Sprite(this.game,t,e,s,n))},creature:function(t,e,s,n,o){void 0===o&&(o=this.world);var r=new i.Creature(this.game,t,e,s,n);return o.add(r),r},tween:function(t){return this.game.tweens.create(t)},group:function(t,e,s,n,o){return new i.Group(this.game,t,e,s,n,o)},physicsGroup:function(t,e,s,n){return new i.Group(this.game,e,s,n,!0,t)},spriteBatch:function(t,e,s){return void 0===t&&(t=null),void 0===e&&(e="group"),void 0===s&&(s=!1),new i.SpriteBatch(this.game,t,e,s)},audio:function(t,e,i,s){return this.game.sound.add(t,e,i,s)},sound:function(t,e,i,s){return this.game.sound.add(t,e,i,s)},audioSprite:function(t){return this.game.sound.addSprite(t)},tileSprite:function(t,e,s,n,o,r,a){return void 0===a&&(a=this.world),a.add(new i.TileSprite(this.game,t,e,s,n,o,r))},rope:function(t,e,s,n,o,r){return void 0===r&&(r=this.world),r.add(new i.Rope(this.game,t,e,s,n,o))},text:function(t,e,s,n,o){return void 0===o&&(o=this.world),o.add(new i.Text(this.game,t,e,s,n))},button:function(t,e,s,n,o,r,a,h,l,c){return void 0===c&&(c=this.world),c.add(new i.Button(this.game,t,e,s,n,o,r,a,h,l))},graphics:function(t,e,s){return void 0===s&&(s=this.world),s.add(new i.Graphics(this.game,t,e))},emitter:function(t,e,s){return this.game.particles.add(new i.Particles.Arcade.Emitter(this.game,t,e,s))},retroFont:function(t,e,s,n,o,r,a,h,l){return new i.RetroFont(this.game,t,e,s,n,o,r,a,h,l)},bitmapText:function(t,e,s,n,o,r){return void 0===r&&(r=this.world),r.add(new i.BitmapText(this.game,t,e,s,n,o))},tilemap:function(t,e,s,n,o){return new i.Tilemap(this.game,t,e,s,n,o)},renderTexture:function(t,e,s,n){void 0!==s&&""!==s||(s=this.game.rnd.uuid()),void 0===n&&(n=!1);var o=new i.RenderTexture(this.game,t,e,s);return n&&this.game.cache.addRenderTexture(s,o),o},video:function(t,e){return new i.Video(this.game,t,e)},bitmapData:function(t,e,s,n){void 0===n&&(n=!1),void 0!==s&&""!==s||(s=this.game.rnd.uuid());var o=new i.BitmapData(this.game,s,t,e);return n&&this.game.cache.addBitmapData(s,o),o},filter:function(t){var e=Array.prototype.slice.call(arguments,1);return(t=new i.Filter[t](this.game)).init.apply(t,e),t},plugin:function(t){return this.game.plugins.add(t)}},i.GameObjectFactory.prototype.constructor=i.GameObjectFactory,i.GameObjectCreator=function(t){this.game=t,this.world=this.game.world},i.GameObjectCreator.prototype={image:function(t,e,s,n){return new i.Image(this.game,t,e,s,n)},sprite:function(t,e,s,n){return new i.Sprite(this.game,t,e,s,n)},tween:function(t){return new i.Tween(t,this.game,this.game.tweens)},group:function(t,e,s,n,o){return new i.Group(this.game,t,e,s,n,o)},spriteBatch:function(t,e,s){return void 0===e&&(e="group"),void 0===s&&(s=!1),new i.SpriteBatch(this.game,t,e,s)},audio:function(t,e,i,s){return this.game.sound.add(t,e,i,s)},audioSprite:function(t){return this.game.sound.addSprite(t)},sound:function(t,e,i,s){return this.game.sound.add(t,e,i,s)},tileSprite:function(t,e,s,n,o,r){return new i.TileSprite(this.game,t,e,s,n,o,r)},rope:function(t,e,s,n,o){return new i.Rope(this.game,t,e,s,n,o)},text:function(t,e,s,n){return new i.Text(this.game,t,e,s,n)},button:function(t,e,s,n,o,r,a,h,l){return new i.Button(this.game,t,e,s,n,o,r,a,h,l)},graphics:function(t,e){return new i.Graphics(this.game,t,e)},emitter:function(t,e,s){return new i.Particles.Arcade.Emitter(this.game,t,e,s)},retroFont:function(t,e,s,n,o,r,a,h,l){return new i.RetroFont(this.game,t,e,s,n,o,r,a,h,l)},bitmapText:function(t,e,s,n,o,r){return new i.BitmapText(this.game,t,e,s,n,o,r)},tilemap:function(t,e,s,n,o){return new i.Tilemap(this.game,t,e,s,n,o)},renderTexture:function(t,e,s,n){void 0!==s&&""!==s||(s=this.game.rnd.uuid()),void 0===n&&(n=!1);var o=new i.RenderTexture(this.game,t,e,s);return n&&this.game.cache.addRenderTexture(s,o),o},bitmapData:function(t,e,s,n){void 0===n&&(n=!1),void 0!==s&&""!==s||(s=this.game.rnd.uuid());var o=new i.BitmapData(this.game,s,t,e);return n&&this.game.cache.addBitmapData(s,o),o},filter:function(t){var e=Array.prototype.slice.call(arguments,1);return(t=new i.Filter[t](this.game)).init.apply(t,e),t}},i.GameObjectCreator.prototype.constructor=i.GameObjectCreator,i.Sprite=function(t,e,s,n,o){e=e||0,s=s||0,n=n||null,o=o||null,this.type=i.SPRITE,this.physicsType=i.SPRITE,PIXI.Sprite.call(this,i.Cache.DEFAULT),i.Component.Core.init.call(this,t,e,s,n,o)},i.Sprite.prototype=Object.create(PIXI.Sprite.prototype),i.Sprite.prototype.constructor=i.Sprite,i.Component.Core.install.call(i.Sprite.prototype,["Angle","Animation","AutoCull","Bounds","BringToTop","Crop","Delta","Destroy","FixedToCamera","Health","InCamera","InputEnabled","InWorld","LifeSpan","LoadTexture","Overlap","PhysicsBody","Reset","ScaleMinMax","Smoothed"]),i.Sprite.prototype.preUpdatePhysics=i.Component.PhysicsBody.preUpdate,i.Sprite.prototype.preUpdateLifeSpan=i.Component.LifeSpan.preUpdate,i.Sprite.prototype.preUpdateInWorld=i.Component.InWorld.preUpdate,i.Sprite.prototype.preUpdateCore=i.Component.Core.preUpdate,i.Sprite.prototype.preUpdate=function(){return!!(this.preUpdatePhysics()&&this.preUpdateLifeSpan()&&this.preUpdateInWorld())&&this.preUpdateCore()},i.Image=function(t,e,s,n,o){e=e||0,s=s||0,n=n||null,o=o||null,this.type=i.IMAGE,PIXI.Sprite.call(this,i.Cache.DEFAULT),i.Component.Core.init.call(this,t,e,s,n,o)},i.Image.prototype=Object.create(PIXI.Sprite.prototype),i.Image.prototype.constructor=i.Image,i.Component.Core.install.call(i.Image.prototype,["Angle","Animation","AutoCull","Bounds","BringToTop","Crop","Destroy","FixedToCamera","InputEnabled","LifeSpan","LoadTexture","Overlap","Reset","ScaleMinMax","Smoothed"]),i.Image.prototype.preUpdateLifeSpan=i.Component.LifeSpan.preUpdate,i.Image.prototype.preUpdateInWorld=i.Component.InWorld.preUpdate,i.Image.prototype.preUpdateCore=i.Component.Core.preUpdate,i.Image.prototype.preUpdate=function(){return!(!this.preUpdateInWorld()||!this.preUpdateLifeSpan())&&this.preUpdateCore()},i.Button=function(t,e,s,n,o,r,a,h,l,c){e=e||0,s=s||0,n=n||null,o=o||null,r=r||this,i.Image.call(this,t,e,s,n,h),this.type=i.BUTTON,this.physicsType=i.SPRITE,this._onOverFrame=null,this._onOutFrame=null,this._onDownFrame=null,this._onUpFrame=null,this.onOverSound=null,this.onOutSound=null,this.onDownSound=null,this.onUpSound=null,this.onOverSoundMarker="",this.onOutSoundMarker="",this.onDownSoundMarker="",this.onUpSoundMarker="",this.onInputOver=new i.Signal,this.onInputOut=new i.Signal,this.onInputDown=new i.Signal,this.onInputUp=new i.Signal,this.onOverMouseOnly=!0,this.justReleasedPreventsOver=i.PointerMode.CONTACT,this.freezeFrames=!1,this.forceOut=!1,this.inputEnabled=!0,this.input.start(0,!0),this.input.useHandCursor=!0,this.setFrames(a,h,l,c),null!==o&&this.onInputUp.add(o,r),this.events.onInputOver.add(this.onInputOverHandler,this),this.events.onInputOut.add(this.onInputOutHandler,this),this.events.onInputDown.add(this.onInputDownHandler,this),this.events.onInputUp.add(this.onInputUpHandler,this)},i.Button.prototype=Object.create(i.Image.prototype),i.Button.prototype.constructor=i.Button;return i.Button.prototype.clearFrames=function(){this.setFrames(null,null,null,null)},i.Button.prototype.setStateFrame=function(t,e,i){var s="_on"+t+"Frame";null!==e?(this[s]=e,i&&this.changeStateFrame(t)):this[s]=null},i.Button.prototype.changeStateFrame=function(t){if(this.freezeFrames)return!1;var e=this["_on"+t+"Frame"];return"string"==typeof e?(this.frameName=e,!0):"number"==typeof e&&(this.frame=e,!0)},i.Button.prototype.setFrames=function(t,e,i,s){this.setStateFrame("Over",t,this.input.pointerOver()),this.setStateFrame("Out",e,!this.input.pointerOver()),this.setStateFrame("Down",i,this.input.pointerDown()),this.setStateFrame("Up",s,this.input.pointerUp())},i.Button.prototype.setStateSound=function(t,e,s){var n="on"+t+"Sound",o="on"+t+"SoundMarker";e instanceof i.Sound||e instanceof i.AudioSprite?(this[n]=e,this[o]="string"==typeof s?s:""):(this[n]=null,this[o]="")},i.Button.prototype.playStateSound=function(t){var e=this["on"+t+"Sound"];if(e){var i=this["on"+t+"SoundMarker"];return e.play(i),!0}return!1},i.Button.prototype.setSounds=function(t,e,i,s,n,o,r,a){this.setStateSound("Over",t,e),this.setStateSound("Out",n,o),this.setStateSound("Down",i,s),this.setStateSound("Up",r,a)},i.Button.prototype.setOverSound=function(t,e){this.setStateSound("Over",t,e)},i.Button.prototype.setOutSound=function(t,e){this.setStateSound("Out",t,e)},i.Button.prototype.setDownSound=function(t,e){this.setStateSound("Down",t,e)},i.Button.prototype.setUpSound=function(t,e){this.setStateSound("Up",t,e)},i.Button.prototype.onInputOverHandler=function(t,e){e.justReleased()&&(this.justReleasedPreventsOver&e.pointerMode)===e.pointerMode||(this.changeStateFrame("Over"),this.onOverMouseOnly&&!e.isMouse||(this.playStateSound("Over"),this.onInputOver&&this.onInputOver.dispatch(this,e)))},i.Button.prototype.onInputOutHandler=function(t,e){this.changeStateFrame("Out"),this.playStateSound("Out"),this.onInputOut&&this.onInputOut.dispatch(this,e)},i.Button.prototype.onInputDownHandler=function(t,e){this.changeStateFrame("Down"),this.playStateSound("Down"),this.onInputDown&&this.onInputDown.dispatch(this,e)},i.Button.prototype.onInputUpHandler=function(t,e,i){this.playStateSound("Up"),this.onInputUp&&this.onInputUp.dispatch(this,e,i),this.freezeFrames||(!0===this.forceOut||(this.forceOut&e.pointerMode)===e.pointerMode?this.changeStateFrame("Out"):this.changeStateFrame("Up")||(i?this.changeStateFrame("Over"):this.changeStateFrame("Out")))},i.SpriteBatch=function(t,e,s,n){void 0!==e&&null!==e||(e=t.world),i.Group.call(this,t,e,s,n),this.type=i.SPRITEBATCH,this.fastSpriteBatch=null,this.ready=!1},i.SpriteBatch.prototype=Object.create(i.Group.prototype),i.SpriteBatch.prototype.constructor=i.SpriteBatch,i.SpriteBatch.prototype._renderWebGL=function(t){!this.visible||this.alpha<=0||!this.children.length||(this.ready||(this.fastSpriteBatch=new PIXI.WebGLFastSpriteBatch(t.gl),this.ready=!0),this.fastSpriteBatch.gl!==t.gl&&this.fastSpriteBatch.setContext(t.gl),t.spriteBatch.stop(),t.shaderManager.setShader(t.shaderManager.fastShader),this.fastSpriteBatch.begin(this,t),this.fastSpriteBatch.render(this),t.spriteBatch.start())},i.SpriteBatch.prototype._renderCanvas=function(t){if(this.visible&&!(this.alpha<=0)&&this.children.length){var e=t.context;e.globalAlpha=this.worldAlpha,this.displayObjectUpdateTransform();for(var i=this.worldTransform,s=!0,n=0;n<this.children.length;n++){var o=this.children[n];if(o.visible){var r=o.texture,a=r.frame;if(e.globalAlpha=this.worldAlpha*o.alpha,o.rotation%(2*Math.PI)==0)s&&(e.setTransform(i.a,i.b,i.c,i.d,i.tx,i.ty),s=!1),e.drawImage(r.baseTexture.source,a.x,a.y,a.width,a.height,o.anchor.x*(-a.width*o.scale.x)+o.position.x+.5+t.shakeX|0,o.anchor.y*(-a.height*o.scale.y)+o.position.y+.5+t.shakeY|0,a.width*o.scale.x,a.height*o.scale.y);else{s||(s=!0),o.displayObjectUpdateTransform();var h=o.worldTransform,l=h.tx*t.resolution+t.shakeX,c=h.ty*t.resolution+t.shakeY;t.roundPixels?e.setTransform(h.a,h.b,h.c,h.d,0|l,0|c):e.setTransform(h.a,h.b,h.c,h.d,l,c),e.drawImage(r.baseTexture.source,a.x,a.y,a.width,a.height,o.anchor.x*-a.width+.5|0,o.anchor.y*-a.height+.5|0,a.width,a.height)}}}}},i.BitmapData=function(t,e,s,n,o){void 0!==s&&0!==s||(s=256),void 0!==n&&0!==n||(n=256),void 0===o&&(o=!1),this.game=t,this.key=e,this.width=s,this.height=n,this.canvas=i.Canvas.create(this,s,n,null,o),this.context=this.canvas.getContext("2d",{alpha:!0}),this.ctx=this.context,this.smoothProperty=t.renderType===i.CANVAS?t.renderer.renderSession.smoothProperty:i.Canvas.getSmoothingPrefix(this.context),this.imageData=this.context.getImageData(0,0,s,n),this.data=null,this.imageData&&(this.data=this.imageData.data),this.pixels=null,this.data&&(this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data),this.baseTexture=new PIXI.BaseTexture(this.canvas,null,this.game.resolution),this.texture=new PIXI.Texture(this.baseTexture),this.frameData=new i.FrameData,this.textureFrame=this.frameData.addFrame(new i.Frame(0,0,0,s,n,"bitmapData")),this.texture.frame=this.textureFrame,this.type=i.BITMAPDATA,this.disableTextureUpload=!1,this.dirty=!1,this.cls=this.clear,this._image=null,this._pos=new i.Point,this._size=new i.Point,this._scale=new i.Point,this._rotate=0,this._alpha={prev:1,current:1},this._anchor=new i.Point,this._tempR=0,this._tempG=0,this._tempB=0,this._circle=new i.Circle,this._swapCanvas=void 0},i.BitmapData.prototype={move:function(t,e,i){return 0!==t&&this.moveH(t,i),0!==e&&this.moveV(e,i),this},moveH:function(t,e){void 0===e&&(e=!0),void 0===this._swapCanvas&&(this._swapCanvas=i.CanvasPool.create(this,this.width,this.height));var s=this._swapCanvas.getContext("2d"),n=this.height,o=this.canvas;if(s.clearRect(0,0,this.width,this.height),t<0){t=Math.abs(t);r=this.width-t;e&&s.drawImage(o,0,0,t,n,r,0,t,n),s.drawImage(o,t,0,r,n,0,0,r,n)}else{var r=this.width-t;e&&s.drawImage(o,r,0,t,n,0,0,t,n),s.drawImage(o,0,0,r,n,t,0,r,n)}return this.clear(),this.copy(this._swapCanvas)},moveV:function(t,e){void 0===e&&(e=!0),void 0===this._swapCanvas&&(this._swapCanvas=i.CanvasPool.create(this,this.width,this.height));var s=this._swapCanvas.getContext("2d"),n=this.width,o=this.canvas;if(s.clearRect(0,0,this.width,this.height),t<0){t=Math.abs(t);r=this.height-t;e&&s.drawImage(o,0,0,n,t,0,r,n,t),s.drawImage(o,0,t,n,r,0,0,n,r)}else{var r=this.height-t;e&&s.drawImage(o,0,r,n,t,0,0,n,t),s.drawImage(o,0,0,n,r,0,t,n,r)}return this.clear(),this.copy(this._swapCanvas)},add:function(t){if(Array.isArray(t))for(var e=0;e<t.length;e++)t[e].loadTexture&&t[e].loadTexture(this);else t.loadTexture(this);return this},load:function(t){if("string"==typeof t&&(t=this.game.cache.getImage(t)),t)return this.resize(t.width,t.height),this.cls(),this.draw(t),this.update(),this},clear:function(t,e,i,s){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=this.width),void 0===s&&(s=this.height),this.context.clearRect(t,e,i,s),this.dirty=!0,this},fill:function(t,e,i,s){return void 0===s&&(s=1),this.context.fillStyle="rgba("+t+","+e+","+i+","+s+")",this.context.fillRect(0,0,this.width,this.height),this.dirty=!0,this},generateTexture:function(t,e,i){var s=this.game.cache,n=new Image;if(e&&(n.onload=function(){var o=s.addImage(t,"",n),r=new PIXI.Texture(o.base);e.call(i||null,r),n.onload=null}),n.src=this.canvas.toDataURL("image/png"),!e){var o=s.addImage(t,"",n);return new PIXI.Texture(o.base)}return null},resize:function(t,e){return t===this.width&&e===this.height||(this.width=t,this.height=e,this.canvas.width=t,this.canvas.height=e,void 0!==this._swapCanvas&&(this._swapCanvas.width=t,this._swapCanvas.height=e),this.baseTexture.width=t,this.baseTexture.height=e,this.textureFrame.width=t,this.textureFrame.height=e,this.texture.width=t,this.texture.height=e,this.texture.crop.width=t,this.texture.crop.height=e,this.update(),this.dirty=!0),this},update:function(t,e,i,s){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=Math.max(1,this.width)),void 0===s&&(s=Math.max(1,this.height)),this.imageData=this.context.getImageData(t,e,i,s),this.data=this.imageData.data,this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data,this},processPixelRGB:function(t,e,s,n,o,r){void 0===s&&(s=0),void 0===n&&(n=0),void 0===o&&(o=this.width),void 0===r&&(r=this.height);for(var a=s+o,h=n+r,l=i.Color.createColor(),c={r:0,g:0,b:0,a:0},u=!1,d=n;d<h;d++)for(var p=s;p<a;p++)i.Color.unpackPixel(this.getPixel32(p,d),l),!1!==(c=t.call(e,l,p,d))&&null!==c&&void 0!==c&&(this.setPixel32(p,d,c.r,c.g,c.b,c.a,!1),u=!0);return u&&(this.context.putImageData(this.imageData,0,0),this.dirty=!0),this},processPixel:function(t,e,i,s,n,o){void 0===i&&(i=0),void 0===s&&(s=0),void 0===n&&(n=this.width),void 0===o&&(o=this.height);for(var r=i+n,a=s+o,h=0,l=0,c=!1,u=s;u<a;u++)for(var d=i;d<r;d++)h=this.getPixel32(d,u),(l=t.call(e,h,d,u))!==h&&(this.pixels[u*this.width+d]=l,c=!0);return c&&(this.context.putImageData(this.imageData,0,0),this.dirty=!0),this},replaceRGB:function(t,e,s,n,o,r,a,h,l){var c=0,u=0,d=this.width,p=this.height,f=i.Color.packPixel(t,e,s,n);void 0!==l&&l instanceof i.Rectangle&&(c=l.x,u=l.y,d=l.width,p=l.height);for(var m=0;m<p;m++)for(var g=0;g<d;g++)this.getPixel32(c+g,u+m)===f&&this.setPixel32(c+g,u+m,o,r,a,h,!1);return this.context.putImageData(this.imageData,0,0),this.dirty=!0,this},setHSL:function(t,e,s,n){var o=t||0===t,r=e||0===e,a=s||0===s;if(o||r||a){void 0===n&&(n=new i.Rectangle(0,0,this.width,this.height));for(var h=i.Color.createColor(),l=n.y;l<n.bottom;l++)for(var c=n.x;c<n.right;c++)i.Color.unpackPixel(this.getPixel32(c,l),h,!0),o&&(h.h=t),r&&(h.s=e),a&&(h.l=s),i.Color.HSLtoRGB(h.h,h.s,h.l,h),this.setPixel32(c,l,h.r,h.g,h.b,h.a,!1);return this.context.putImageData(this.imageData,0,0),this.dirty=!0,this}},shiftHSL:function(t,e,s,n){if(void 0!==t&&null!==t||(t=!1),void 0!==e&&null!==e||(e=!1),void 0!==s&&null!==s||(s=!1),t||e||s){void 0===n&&(n=new i.Rectangle(0,0,this.width,this.height));for(var o=i.Color.createColor(),r=n.y;r<n.bottom;r++)for(var a=n.x;a<n.right;a++)i.Color.unpackPixel(this.getPixel32(a,r),o,!0),t&&(o.h=this.game.math.wrap(o.h+t,0,1)),e&&(o.s=this.game.math.clamp(o.s+e,0,1)),s&&(o.l=this.game.math.clamp(o.l+s,0,1)),i.Color.HSLtoRGB(o.h,o.s,o.l,o),this.setPixel32(a,r,o.r,o.g,o.b,o.a,!1);return this.context.putImageData(this.imageData,0,0),this.dirty=!0,this}},setPixel32:function(t,e,s,n,o,r,a){return void 0===a&&(a=!0),t>=0&&t<=this.width&&e>=0&&e<=this.height&&(i.Device.LITTLE_ENDIAN?this.pixels[e*this.width+t]=r<<24|o<<16|n<<8|s:this.pixels[e*this.width+t]=s<<24|n<<16|o<<8|r,a&&(this.context.putImageData(this.imageData,0,0),this.dirty=!0)),this},setPixel:function(t,e,i,s,n,o){return this.setPixel32(t,e,i,s,n,255,o)},getPixel:function(t,e,s){s||(s=i.Color.createColor());var n=~~(t+e*this.width);return n*=4,s.r=this.data[n],s.g=this.data[++n],s.b=this.data[++n],s.a=this.data[++n],s},getPixel32:function(t,e){if(t>=0&&t<=this.width&&e>=0&&e<=this.height)return this.pixels[e*this.width+t]},getPixelRGB:function(t,e,s,n,o){return i.Color.unpackPixel(this.getPixel32(t,e),s,n,o)},getPixels:function(t){return this.context.getImageData(t.x,t.y,t.width,t.height)},getFirstPixel:function(t){void 0===t&&(t=0);var e=i.Color.createColor(),s=0,n=0,o=1,r=!1;1===t?(o=-1,n=this.height):3===t&&(o=-1,s=this.width);do{i.Color.unpackPixel(this.getPixel32(s,n),e),0===t||1===t?++s===this.width&&(s=0,((n+=o)>=this.height||n<=0)&&(r=!0)):2!==t&&3!==t||++n===this.height&&(n=0,((s+=o)>=this.width||s<=0)&&(r=!0))}while(0===e.a&&!r);return e.x=s,e.y=n,e},getBounds:function(t){return void 0===t&&(t=new i.Rectangle),t.x=this.getFirstPixel(2).x,t.x===this.width?t.setTo(0,0,0,0):(t.y=this.getFirstPixel(0).y,t.width=this.getFirstPixel(3).x-t.x+1,t.height=this.getFirstPixel(1).y-t.y+1,t)},addToWorld:function(t,e,i,s,n,o){n=n||1,o=o||1;var r=this.game.add.image(t,e,this);return r.anchor.set(i,s),r.scale.set(n,o),r},copy:function(t,e,s,n,o,r,a,h,l,c,u,d,p,f,m,g,y){if(void 0!==t&&null!==t||(t=this),t instanceof i.RenderTexture&&(t=t.getCanvas()),this._image=t,t instanceof i.Sprite||t instanceof i.Image||t instanceof i.Text||t instanceof PIXI.Sprite)this._pos.set(t.texture.crop.x,t.texture.crop.y),this._size.set(t.texture.crop.width,t.texture.crop.height),this._scale.set(t.scale.x,t.scale.y),this._anchor.set(t.anchor.x,t.anchor.y),this._rotate=t.rotation,this._alpha.current=t.alpha,t.texture instanceof i.RenderTexture?this._image=t.texture.getCanvas():this._image=t.texture.baseTexture.source,void 0!==r&&null!==r||(r=t.x),void 0!==a&&null!==a||(a=t.y),t.texture.trim&&(r+=t.texture.trim.x-t.anchor.x*t.texture.trim.width,a+=t.texture.trim.y-t.anchor.y*t.texture.trim.height),16777215!==t.tint&&(t.cachedTint!==t.tint&&(t.cachedTint=t.tint,t.tintedTexture=PIXI.CanvasTinter.getTintedTexture(t,t.tint)),this._image=t.tintedTexture,this._pos.set(0));else{if(this._pos.set(0),this._scale.set(1),this._anchor.set(0),this._rotate=0,this._alpha.current=1,t instanceof i.BitmapData)this._image=t.canvas;else if("string"==typeof t){if(null===(t=this.game.cache.getImage(t)))return;this._image=t}this._size.set(this._image.width,this._image.height)}if(void 0!==e&&null!==e||(e=0),void 0!==s&&null!==s||(s=0),n&&(this._size.x=n),o&&(this._size.y=o),void 0!==r&&null!==r||(r=e),void 0!==a&&null!==a||(a=s),void 0!==h&&null!==h||(h=this._size.x),void 0!==l&&null!==l||(l=this._size.y),"number"==typeof c&&(this._rotate=c),"number"==typeof u&&(this._anchor.x=u),"number"==typeof d&&(this._anchor.y=d),"number"==typeof p&&(this._scale.x=p),"number"==typeof f&&(this._scale.y=f),"number"==typeof m&&(this._alpha.current=m),void 0===g&&(g=null),void 0===y&&(y=!1),!(this._alpha.current<=0||0===this._scale.x||0===this._scale.y||0===this._size.x||0===this._size.y)){var v=this.context;return this._alpha.prev=v.globalAlpha,v.save(),v.globalAlpha=this._alpha.current,g&&(this.op=g),y&&(r|=0,a|=0),v.translate(r,a),v.scale(this._scale.x,this._scale.y),v.rotate(this._rotate),v.drawImage(this._image,this._pos.x+e,this._pos.y+s,this._size.x,this._size.y,-h*this._anchor.x,-l*this._anchor.y,h,l),v.restore(),v.globalAlpha=this._alpha.prev,this.dirty=!0,this}},copyTransform:function(t,e,s){if(void 0===e&&(e=null),void 0===s&&(s=!1),!t.hasOwnProperty("worldTransform")||!t.worldVisible||0===t.worldAlpha)return this;var n=t.worldTransform;if(this._pos.set(t.texture.crop.x,t.texture.crop.y),this._size.set(t.texture.crop.width,t.texture.crop.height),0===n.a||0===n.d||0===this._size.x||0===this._size.y)return this;t.texture instanceof i.RenderTexture?this._image=t.texture.getCanvas():this._image=t.texture.baseTexture.source;var o=n.tx,r=n.ty;t.texture.trim&&(o+=t.texture.trim.x-t.anchor.x*t.texture.trim.width,r+=t.texture.trim.y-t.anchor.y*t.texture.trim.height),16777215!==t.tint&&(t.cachedTint!==t.tint&&(t.cachedTint=t.tint,t.tintedTexture=PIXI.CanvasTinter.getTintedTexture(t,t.tint)),this._image=t.tintedTexture,this._pos.set(0)),s&&(o|=0,r|=0);var a=this.context;return this._alpha.prev=a.globalAlpha,a.save(),a.globalAlpha=this._alpha.current,e&&(this.op=e),a[this.smoothProperty]=t.texture.baseTexture.scaleMode===PIXI.scaleModes.LINEAR,a.setTransform(n.a,n.b,n.c,n.d,o,r),a.drawImage(this._image,this._pos.x,this._pos.y,this._size.x,this._size.y,-this._size.x*t.anchor.x,-this._size.y*t.anchor.y,this._size.x,this._size.y),a.restore(),a.globalAlpha=this._alpha.prev,this.dirty=!0,this},copyRect:function(t,e,i,s,n,o,r){return this.copy(t,e.x,e.y,e.width,e.height,i,s,e.width,e.height,0,0,0,1,1,n,o,r)},draw:function(t,e,i,s,n,o,r){return this.copy(t,null,null,null,null,e,i,s,n,null,null,null,null,null,null,o,r)},drawGroup:function(t,e,i){return t.total>0&&t.forEachExists(this.drawGroupProxy,this,e,i),this},drawGroupProxy:function(t,e,s){if(t.hasOwnProperty("texture")&&this.copyTransform(t,e,s),t.type===i.GROUP&&t.exists)this.drawGroup(t,e,s);else if(t.hasOwnProperty("children")&&t.children.length>0)for(var n=0;n<t.children.length;n++)t.children[n].exists&&this.copyTransform(t.children[n],e,s)},drawFull:function(t,e,s){if(!1===t.worldVisible||0===t.worldAlpha||t.hasOwnProperty("exists")&&!1===t.exists)return this;if(t.type!==i.GROUP&&t.type!==i.EMITTER&&t.type!==i.BITMAPTEXT)if(t.type===i.GRAPHICS){var n=t.getBounds();this.ctx.save(),this.ctx.translate(n.x,n.y),PIXI.CanvasGraphics.renderGraphics(t,this.ctx),this.ctx.restore()}else this.copy(t,null,null,null,null,t.worldPosition.x,t.worldPosition.y,null,null,t.worldRotation,null,null,t.worldScale.x,t.worldScale.y,t.worldAlpha,e,s);if(t.children)for(var o=0;o<t.children.length;o++)this.drawFull(t.children[o],e,s);return this},shadow:function(t,e,i,s){var n=this.context;return void 0===t||null===t?n.shadowColor="rgba(0,0,0,0)":(n.shadowColor=t,n.shadowBlur=e||5,n.shadowOffsetX=i||10,n.shadowOffsetY=s||10),this},alphaMask:function(t,e,i,s){return void 0===s||null===s?this.draw(e).blendSourceAtop():this.draw(e,s.x,s.y,s.width,s.height).blendSourceAtop(),void 0===i||null===i?this.draw(t).blendReset():this.draw(t,i.x,i.y,i.width,i.height).blendReset(),this},extract:function(t,e,i,s,n,o,r,a,h){return void 0===n&&(n=255),void 0===o&&(o=!1),void 0===r&&(r=e),void 0===a&&(a=i),void 0===h&&(h=s),o&&t.resize(this.width,this.height),this.processPixelRGB(function(o,l,c){return o.r===e&&o.g===i&&o.b===s&&t.setPixel32(l,c,r,a,h,n,!1),!1},this),t.context.putImageData(t.imageData,0,0),t.dirty=!0,t},rect:function(t,e,i,s,n){return void 0!==n&&(this.context.fillStyle=n),this.context.fillRect(t,e,i,s),this},text:function(t,e,i,s,n,o){void 0===e&&(e=0),void 0===i&&(i=0),void 0===s&&(s="14px Courier"),void 0===n&&(n="rgb(255,255,255)"),void 0===o&&(o=!0);var r=this.context,a=r.font;return r.font=s,o&&(r.fillStyle="rgb(0,0,0)",r.fillText(t,e+1,i+1)),r.fillStyle=n,r.fillText(t,e,i),r.font=a,this},circle:function(t,e,i,s){var n=this.context;return void 0!==s&&(n.fillStyle=s),n.beginPath(),n.arc(t,e,i,0,2*Math.PI,!1),n.closePath(),n.fill(),this},line:function(t,e,i,s,n,o){void 0===n&&(n="#fff"),void 0===o&&(o=1);var r=this.context;return r.beginPath(),r.moveTo(t,e),r.lineTo(i,s),r.lineWidth=o,r.strokeStyle=n,r.stroke(),r.closePath(),this},polygon:function(t,e,i,s){void 0===s&&(s="#fff"),void 0===i&&(i=0);var n=this.context;e&&(n.fillStyle=e),i&&(n.lineWidth=i,n.strokeStyle=s),n.beginPath(),n.moveTo(t[0].x,t[0].y);for(var o=1,r=t.length;o<r;o++){var a=t[o];n.lineTo(a.x,a.y)}return n.closePath(),e&&n.fill(),i&&n.stroke(),this},textureLine:function(t,e,s){if(void 0===s&&(s="repeat-x"),"string"!=typeof e||(e=this.game.cache.getImage(e))){var n=t.length;"no-repeat"===s&&n>e.width&&(n=e.width);var o=this.context;return o.fillStyle=o.createPattern(e,s),this._circle=new i.Circle(t.start.x,t.start.y,e.height),this._circle.circumferencePoint(t.angle-1.5707963267948966,!1,this._pos),o.save(),o.translate(this._pos.x,this._pos.y),o.rotate(t.angle),o.fillRect(0,0,n,e.height),o.restore(),this.dirty=!0,this}},render:function(){return!this.disableTextureUpload&&this.dirty&&(this.baseTexture.dirty(),this.dirty=!1),this},destroy:function(){this.frameData.destroy(),this.texture.destroy(!0),i.CanvasPool.remove(this)},blendReset:function(){return this.op="source-over",this},blendSourceOver:function(){return this.op="source-over",this},blendSourceIn:function(){return this.op="source-in",this},blendSourceOut:function(){return this.op="source-out",this},blendSourceAtop:function(){return this.op="source-atop",this},blendDestinationOver:function(){return this.op="destination-over",this},blendDestinationIn:function(){return this.op="destination-in",this},blendDestinationOut:function(){return this.op="destination-out",this},blendDestinationAtop:function(){return this.op="destination-atop",this},blendXor:function(){return this.op="xor",this},blendAdd:function(){return this.op="lighter",this},blendMultiply:function(){return this.op="multiply",this},blendScreen:function(){return this.op="screen",this},blendOverlay:function(){return this.op="overlay",this},blendDarken:function(){return this.op="darken",this},blendLighten:function(){return this.op="lighten",this},blendColorDodge:function(){return this.op="color-dodge",this},blendColorBurn:function(){return this.op="color-burn",this},blendHardLight:function(){return this.op="hard-light",this},blendSoftLight:function(){return this.op="soft-light",this},blendDifference:function(){return this.op="difference",this},blendExclusion:function(){return this.op="exclusion",this},blendHue:function(){return this.op="hue",this},blendSaturation:function(){return this.op="saturation",this},blendColor:function(){return this.op="color",this},blendLuminosity:function(){return this.op="luminosity",this},copyBitmapData:function(t,e,i){t.update();for(var s,n=0;n<t.height;n++){s=(i+n)*this.width+e;for(var o=0;o<t.width;o++)this.pixels[s+o]=t.pixels[n*t.width+o]}return this}},Object.defineProperty(i.BitmapData.prototype,"smoothed",{get:function(){i.Canvas.getSmoothingEnabled(this.context)},set:function(t){i.Canvas.setSmoothingEnabled(this.context,t)}}),Object.defineProperty(i.BitmapData.prototype,"op",{get:function(){return this.context.globalCompositeOperation},set:function(t){this.context.globalCompositeOperation=t}}),i.BitmapData.getTransform=function(t,e,i,s,n,o){return"number"!=typeof t&&(t=0),"number"!=typeof e&&(e=0),"number"!=typeof i&&(i=1),"number"!=typeof s&&(s=1),"number"!=typeof n&&(n=0),"number"!=typeof o&&(o=0),{sx:i,sy:s,scaleX:i,scaleY:s,skewX:n,skewY:o,translateX:t,translateY:e,tx:t,ty:e}},i.BitmapData.prototype.constructor=i.BitmapData,i.EarCut={},i.EarCut.Triangulate=function(t,e,s){s=s||2;var n=e&&e.length,o=n?e[0]*s:t.length,r=i.EarCut.linkedList(t,0,o,s,!0),a=[];if(!r)return a;var h,l,c,u,d,p,f;if(n&&(r=i.EarCut.eliminateHoles(t,e,r,s)),t.length>80*s){h=c=t[0],l=u=t[1];for(var m=s;m<o;m+=s)d=t[m],p=t[m+1],d<h&&(h=d),p<l&&(l=p),d>c&&(c=d),p>u&&(u=p);f=Math.max(c-h,u-l)}return i.EarCut.earcutLinked(r,a,s,h,l,f),a},i.EarCut.linkedList=function(t,e,s,n,o){var r,a,h,l=0;for(r=e,a=s-n;r<s;r+=n)l+=(t[a]-t[r])*(t[r+1]+t[a+1]),a=r;if(o===l>0)for(r=e;r<s;r+=n)h=i.EarCut.insertNode(r,t[r],t[r+1],h);else for(r=s-n;r>=e;r-=n)h=i.EarCut.insertNode(r,t[r],t[r+1],h);return h},i.EarCut.filterPoints=function(t,e){if(!t)return t;e||(e=t);var s,n=t;do{if(s=!1,n.steiner||!i.EarCut.equals(n,n.next)&&0!==i.EarCut.area(n.prev,n,n.next))n=n.next;else{if(i.EarCut.removeNode(n),(n=e=n.prev)===n.next)return null;s=!0}}while(s||n!==e);return e},i.EarCut.earcutLinked=function(t,e,s,n,o,r,a){if(t){!a&&r&&i.EarCut.indexCurve(t,n,o,r);for(var h,l,c=t;t.prev!==t.next;)if(h=t.prev,l=t.next,r?i.EarCut.isEarHashed(t,n,o,r):i.EarCut.isEar(t))e.push(h.i/s),e.push(t.i/s),e.push(l.i/s),i.EarCut.removeNode(t),t=l.next,c=l.next;else if((t=l)===c){a?1===a?(t=i.EarCut.cureLocalIntersections(t,e,s),i.EarCut.earcutLinked(t,e,s,n,o,r,2)):2===a&&i.EarCut.splitEarcut(t,e,s,n,o,r):i.EarCut.earcutLinked(i.EarCut.filterPoints(t),e,s,n,o,r,1);break}}},i.EarCut.isEar=function(t){var e=t.prev,s=t,n=t.next;if(i.EarCut.area(e,s,n)>=0)return!1;for(var o=t.next.next;o!==t.prev;){if(i.EarCut.pointInTriangle(e.x,e.y,s.x,s.y,n.x,n.y,o.x,o.y)&&i.EarCut.area(o.prev,o,o.next)>=0)return!1;o=o.next}return!0},i.EarCut.isEarHashed=function(t,e,s,n){var o=t.prev,r=t,a=t.next;if(i.EarCut.area(o,r,a)>=0)return!1;for(var h=o.x<r.x?o.x<a.x?o.x:a.x:r.x<a.x?r.x:a.x,l=o.y<r.y?o.y<a.y?o.y:a.y:r.y<a.y?r.y:a.y,c=o.x>r.x?o.x>a.x?o.x:a.x:r.x>a.x?r.x:a.x,u=o.y>r.y?o.y>a.y?o.y:a.y:r.y>a.y?r.y:a.y,d=i.EarCut.zOrder(h,l,e,s,n),p=i.EarCut.zOrder(c,u,e,s,n),f=t.nextZ;f&&f.z<=p;){if(f!==t.prev&&f!==t.next&&i.EarCut.pointInTriangle(o.x,o.y,r.x,r.y,a.x,a.y,f.x,f.y)&&i.EarCut.area(f.prev,f,f.next)>=0)return!1;f=f.nextZ}for(f=t.prevZ;f&&f.z>=d;){if(f!==t.prev&&f!==t.next&&i.EarCut.pointInTriangle(o.x,o.y,r.x,r.y,a.x,a.y,f.x,f.y)&&i.EarCut.area(f.prev,f,f.next)>=0)return!1;f=f.prevZ}return!0},i.EarCut.cureLocalIntersections=function(t,e,s){var n=t;do{var o=n.prev,r=n.next.next;i.EarCut.intersects(o,n,n.next,r)&&i.EarCut.locallyInside(o,r)&&i.EarCut.locallyInside(r,o)&&(e.push(o.i/s),e.push(n.i/s),e.push(r.i/s),i.EarCut.removeNode(n),i.EarCut.removeNode(n.next),n=t=r),n=n.next}while(n!==t);return n},i.EarCut.splitEarcut=function(t,e,s,n,o,r){var a=t;do{for(var h=a.next.next;h!==a.prev;){if(a.i!==h.i&&i.EarCut.isValidDiagonal(a,h)){var l=i.EarCut.splitPolygon(a,h);return a=i.EarCut.filterPoints(a,a.next),l=i.EarCut.filterPoints(l,l.next),i.EarCut.earcutLinked(a,e,s,n,o,r),void i.EarCut.earcutLinked(l,e,s,n,o,r)}h=h.next}a=a.next}while(a!==t)},i.EarCut.eliminateHoles=function(t,e,s,n){var o,r,a,h,l,c=[];for(o=0,r=e.length;o<r;o++)a=e[o]*n,h=o<r-1?e[o+1]*n:t.length,(l=i.EarCut.linkedList(t,a,h,n,!1))===l.next&&(l.steiner=!0),c.push(i.EarCut.getLeftmost(l));for(c.sort(compareX),o=0;o<c.length;o++)i.EarCut.eliminateHole(c[o],s),s=i.EarCut.filterPoints(s,s.next);return s},i.EarCut.compareX=function(t,e){return t.x-e.x},i.EarCut.eliminateHole=function(t,e){if(e=i.EarCut.findHoleBridge(t,e)){var s=i.EarCut.splitPolygon(e,t);i.EarCut.filterPoints(s,s.next)}},i.EarCut.findHoleBridge=function(t,e){var s,n=e,o=t.x,r=t.y,a=-1/0;do{if(r<=n.y&&r>=n.next.y){var h=n.x+(r-n.y)*(n.next.x-n.x)/(n.next.y-n.y);h<=o&&h>a&&(a=h,s=n.x<n.next.x?n:n.next)}n=n.next}while(n!==e);if(!s)return null;if(t.x===s.x)return s.prev;var l,c=s,u=1/0;for(n=s.next;n!==c;)o>=n.x&&n.x>=s.x&&i.EarCut.pointInTriangle(r<s.y?o:a,r,s.x,s.y,r<s.y?a:o,r,n.x,n.y)&&((l=Math.abs(r-n.y)/(o-n.x))<u||l===u&&n.x>s.x)&&i.EarCut.locallyInside(n,t)&&(s=n,u=l),n=n.next;return s},i.EarCut.indexCurve=function(t,e,s,n){var o=t;do{null===o.z&&(o.z=i.EarCut.zOrder(o.x,o.y,e,s,n)),o.prevZ=o.prev,o.nextZ=o.next,o=o.next}while(o!==t);o.prevZ.nextZ=null,o.prevZ=null,i.EarCut.sortLinked(o)},i.EarCut.sortLinked=function(t){var e,i,s,n,o,r,a,h,l=1;do{for(i=t,t=null,o=null,r=0;i;){for(r++,s=i,a=0,e=0;e<l&&(a++,s=s.nextZ);e++);for(h=l;a>0||h>0&&s;)0===a?(n=s,s=s.nextZ,h--):0!==h&&s?i.z<=s.z?(n=i,i=i.nextZ,a--):(n=s,s=s.nextZ,h--):(n=i,i=i.nextZ,a--),o?o.nextZ=n:t=n,n.prevZ=o,o=n;i=s}o.nextZ=null,l*=2}while(r>1);return t},i.EarCut.zOrder=function(t,e,i,s,n){return t=32767*(t-i)/n,e=32767*(e-s)/n,t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),t|e<<1},i.EarCut.getLeftmost=function(t){var e=t,i=t;do{e.x<i.x&&(i=e),e=e.next}while(e!==t);return i},i.EarCut.pointInTriangle=function(t,e,i,s,n,o,r,a){return(n-r)*(e-a)-(t-r)*(o-a)>=0&&(t-r)*(s-a)-(i-r)*(e-a)>=0&&(i-r)*(o-a)-(n-r)*(s-a)>=0},i.EarCut.isValidDiagonal=function(t,e){return i.EarCut.equals(t,e)||t.next.i!==e.i&&t.prev.i!==e.i&&!i.EarCut.intersectsPolygon(t,e)&&i.EarCut.locallyInside(t,e)&&i.EarCut.locallyInside(e,t)&&i.EarCut.middleInside(t,e)},i.EarCut.area=function(t,e,i){return(e.y-t.y)*(i.x-e.x)-(e.x-t.x)*(i.y-e.y)},i.EarCut.equals=function(t,e){return t.x===e.x&&t.y===e.y},i.EarCut.intersects=function(t,e,s,n){return i.EarCut.area(t,e,s)>0!=i.EarCut.area(t,e,n)>0&&i.EarCut.area(s,n,t)>0!=i.EarCut.area(s,n,e)>0},i.EarCut.intersectsPolygon=function(t,e){var s=t;do{if(s.i!==t.i&&s.next.i!==t.i&&s.i!==e.i&&s.next.i!==e.i&&i.EarCut.intersects(s,s.next,t,e))return!0;s=s.next}while(s!==t);return!1},i.EarCut.locallyInside=function(t,e){return i.EarCut.area(t.prev,t,t.next)<0?i.EarCut.area(t,e,t.next)>=0&&i.EarCut.area(t,t.prev,e)>=0:i.EarCut.area(t,e,t.prev)<0||i.EarCut.area(t,t.next,e)<0},i.EarCut.middleInside=function(t,e){var i=t,s=!1,n=(t.x+e.x)/2,o=(t.y+e.y)/2;do{i.y>o!=i.next.y>o&&n<(i.next.x-i.x)*(o-i.y)/(i.next.y-i.y)+i.x&&(s=!s),i=i.next}while(i!==t);return s},i.EarCut.splitPolygon=function(t,e){var s=new i.EarCut.Node(t.i,t.x,t.y),n=new i.EarCut.Node(e.i,e.x,e.y),o=t.next,r=e.prev;return t.next=e,e.prev=t,s.next=o,o.prev=s,n.next=s,s.prev=n,r.next=n,n.prev=r,n},i.EarCut.insertNode=function(t,e,s,n){var o=new i.EarCut.Node(t,e,s);return n?(o.next=n.next,o.prev=n,n.next.prev=o,n.next=o):(o.prev=o,o.next=o),o},i.EarCut.removeNode=function(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)},i.EarCut.Node=function(t,e,i){this.i=t,this.x=e,this.y=i,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1},PIXI.WebGLGraphics=function(){},PIXI.WebGLGraphics.stencilBufferLimit=6,PIXI.WebGLGraphics.renderGraphics=function(t,e){var s,n=e.gl,o=e.projection,r=e.offset,a=e.shaderManager.primitiveShader;t.dirty&&PIXI.WebGLGraphics.updateGraphics(t,n);var h=t._webGL[n.id];if(h)for(var l=0;l<h.data.length;l++)1===h.data[l].mode?(s=h.data[l],e.stencilManager.pushStencil(t,s,e),n.drawElements(n.TRIANGLE_FAN,4,n.UNSIGNED_SHORT,2*(s.indices.length-4)),e.stencilManager.popStencil(t,s,e)):(s=h.data[l],e.shaderManager.setShader(a),a=e.shaderManager.primitiveShader,n.uniformMatrix3fv(a.translationMatrix,!1,t.worldTransform.toArray(!0)),n.uniform1f(a.flipY,1),n.uniform2f(a.projectionVector,o.x,-o.y),n.uniform2f(a.offsetVector,-r.x,-r.y),n.uniform3fv(a.tintColor,i.Color.hexToRGBArray(t.tint)),n.uniform1f(a.alpha,t.worldAlpha),n.bindBuffer(n.ARRAY_BUFFER,s.buffer),n.vertexAttribPointer(a.aVertexPosition,2,n.FLOAT,!1,24,0),n.vertexAttribPointer(a.colorAttribute,4,n.FLOAT,!1,24,8),n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,s.indexBuffer),n.drawElements(n.TRIANGLE_STRIP,s.indices.length,n.UNSIGNED_SHORT,0))},PIXI.WebGLGraphics.updateGraphics=function(t,e){var s=t._webGL[e.id];s||(s=t._webGL[e.id]={lastIndex:0,data:[],gl:e}),t.dirty=!1;var n;if(t.clearDirty){for(t.clearDirty=!1,n=0;n<s.data.length;n++){var o=s.data[n];o.reset(),PIXI.WebGLGraphics.graphicsDataPool.push(o)}s.data=[],s.lastIndex=0}var r;for(n=s.lastIndex;n<t.graphicsData.length;n++){var a=t.graphicsData[n];a.type===i.POLYGON?(a.points=a.shape.points.slice(),a.shape.closed&&(a.points[0]===a.points[a.points.length-2]&&a.points[1]===a.points[a.points.length-1]||a.points.push(a.points[0],a.points[1])),a.fill&&a.points.length>=PIXI.WebGLGraphics.stencilBufferLimit&&(a.points.length<2*PIXI.WebGLGraphics.stencilBufferLimit?(r=PIXI.WebGLGraphics.switchMode(s,0),PIXI.WebGLGraphics.buildPoly(a,r)||(r=PIXI.WebGLGraphics.switchMode(s,1),PIXI.WebGLGraphics.buildComplexPoly(a,r))):(r=PIXI.WebGLGraphics.switchMode(s,1),PIXI.WebGLGraphics.buildComplexPoly(a,r))),a.lineWidth>0&&(r=PIXI.WebGLGraphics.switchMode(s,0),PIXI.WebGLGraphics.buildLine(a,r))):(r=PIXI.WebGLGraphics.switchMode(s,0),a.type===i.RECTANGLE?PIXI.WebGLGraphics.buildRectangle(a,r):a.type===i.CIRCLE||a.type===i.ELLIPSE?PIXI.WebGLGraphics.buildCircle(a,r):a.type===i.ROUNDEDRECTANGLE&&PIXI.WebGLGraphics.buildRoundedRectangle(a,r)),s.lastIndex++}for(n=0;n<s.data.length;n++)(r=s.data[n]).dirty&&r.upload()},PIXI.WebGLGraphics.switchMode=function(t,e){var i;return t.data.length?(i=t.data[t.data.length-1]).mode===e&&1!==e||((i=PIXI.WebGLGraphics.graphicsDataPool.pop()||new PIXI.WebGLGraphicsData(t.gl)).mode=e,t.data.push(i)):((i=PIXI.WebGLGraphics.graphicsDataPool.pop()||new PIXI.WebGLGraphicsData(t.gl)).mode=e,t.data.push(i)),i.dirty=!0,i},PIXI.WebGLGraphics.buildRectangle=function(t,e){var s=t.shape,n=s.x,o=s.y,r=s.width,a=s.height;if(t.fill){var h=i.Color.hexToRGBArray(t.fillColor),l=t.fillAlpha,c=h[0]*l,u=h[1]*l,d=h[2]*l,p=e.points,f=e.indices,m=p.length/6;p.push(n,o),p.push(c,u,d,l),p.push(n+r,o),p.push(c,u,d,l),p.push(n,o+a),p.push(c,u,d,l),p.push(n+r,o+a),p.push(c,u,d,l),f.push(m,m,m+1,m+2,m+3,m+3)}if(t.lineWidth){var g=t.points;t.points=[n,o,n+r,o,n+r,o+a,n,o+a,n,o],PIXI.WebGLGraphics.buildLine(t,e),t.points=g}},PIXI.WebGLGraphics.buildRoundedRectangle=function(t,e){var s=t.shape,n=s.x,o=s.y,r=s.width,a=s.height,h=s.radius,l=[];if(l.push(n,o+h),l=l.concat(PIXI.WebGLGraphics.quadraticBezierCurve(n,o+a-h,n,o+a,n+h,o+a)),l=l.concat(PIXI.WebGLGraphics.quadraticBezierCurve(n+r-h,o+a,n+r,o+a,n+r,o+a-h)),l=l.concat(PIXI.WebGLGraphics.quadraticBezierCurve(n+r,o+h,n+r,o,n+r-h,o)),l=l.concat(PIXI.WebGLGraphics.quadraticBezierCurve(n+h,o,n,o,n,o+h)),t.fill){var c=i.Color.hexToRGBArray(t.fillColor),u=t.fillAlpha,d=c[0]*u,p=c[1]*u,f=c[2]*u,m=e.points,g=e.indices,y=m.length/6,v=i.EarCut.Triangulate(l,null,2),x=0;for(x=0;x<v.length;x+=3)g.push(v[x]+y),g.push(v[x]+y),g.push(v[x+1]+y),g.push(v[x+2]+y),g.push(v[x+2]+y);for(x=0;x<l.length;x++)m.push(l[x],l[++x],d,p,f,u)}if(t.lineWidth){var b=t.points;t.points=l,PIXI.WebGLGraphics.buildLine(t,e),t.points=b}},PIXI.WebGLGraphics.quadraticBezierCurve=function(t,e,i,s,n,o){function r(t,e,i){return t+(e-t)*i}for(var a,h,l,c,u,d,p=[],f=0,m=0;m<=20;m++)a=r(t,i,f=m/20),h=r(e,s,f),l=r(i,n,f),c=r(s,o,f),u=r(a,l,f),d=r(h,c,f),p.push(u,d);return p},PIXI.WebGLGraphics.buildCircle=function(t,e){var s,n,o=t.shape,r=o.x,a=o.y;t.type===i.CIRCLE?(s=o.radius,n=o.radius):(s=o.width,n=o.height);var h=2*Math.PI/40,l=0;if(t.fill){var c=i.Color.hexToRGBArray(t.fillColor),u=t.fillAlpha,d=c[0]*u,p=c[1]*u,f=c[2]*u,m=e.points,g=e.indices,y=m.length/6;for(g.push(y),l=0;l<41;l++)m.push(r,a,d,p,f,u),m.push(r+Math.sin(h*l)*s,a+Math.cos(h*l)*n,d,p,f,u),g.push(y++,y++);g.push(y-1)}if(t.lineWidth){var v=t.points;for(t.points=[],l=0;l<41;l++)t.points.push(r+Math.sin(h*l)*s,a+Math.cos(h*l)*n);PIXI.WebGLGraphics.buildLine(t,e),t.points=v}},PIXI.WebGLGraphics.buildLine=function(t,e){var s=0,n=t.points;if(0!==n.length){if(t.lineWidth%2)for(s=0;s<n.length;s++)n[s]+=.5;var o=new PIXI.Point(n[0],n[1]),r=new PIXI.Point(n[n.length-2],n[n.length-1]);if(o.x===r.x&&o.y===r.y){(n=n.slice()).pop(),n.pop();var a=(r=new PIXI.Point(n[n.length-2],n[n.length-1])).x+.5*(o.x-r.x),h=r.y+.5*(o.y-r.y);n.unshift(a,h),n.push(a,h)}var l,c,u,d,p,f,m,g,y,v,x,b,_,w,T,P,C,S,k,A,M,O,I=e.points,E=e.indices,R=n.length/2,L=n.length,D=I.length/6,B=t.lineWidth/2,F=i.Color.hexToRGBArray(t.lineColor),U=t.lineAlpha,G=F[0]*U,N=F[1]*U,X=F[2]*U;for(u=n[0],d=n[1],p=n[2],y=-(d-(f=n[3])),v=u-p,y/=O=Math.sqrt(y*y+v*v),v/=O,y*=B,v*=B,I.push(u-y,d-v,G,N,X,U),I.push(u+y,d+v,G,N,X,U),s=1;s<R-1;s++)u=n[2*(s-1)],d=n[2*(s-1)+1],p=n[2*s],f=n[2*s+1],m=n[2*(s+1)],g=n[2*(s+1)+1],y=-(d-f),v=u-p,y/=O=Math.sqrt(y*y+v*v),v/=O,y*=B,v*=B,x=-(f-g),b=p-m,x/=O=Math.sqrt(x*x+b*b),b/=O,C=(-y+u)*(-v+f)-(-y+p)*(-v+d),A=(-(x*=B)+m)*(-(b*=B)+f)-(-x+p)*(-b+g),M=(T=-v+d-(-v+f))*(k=-x+p-(-x+m))-(S=-b+g-(-b+f))*(P=-y+p-(-y+u)),Math.abs(M)<.1?(M+=10.1,I.push(p-y,f-v,G,N,X,U),I.push(p+y,f+v,G,N,X,U)):((l=(P*A-k*C)/M)-p)*(l-p)+((c=(S*C-T*A)/M)-f)+(c-f)>19600?(_=y-x,w=v-b,_/=O=Math.sqrt(_*_+w*w),w/=O,_*=B,w*=B,I.push(p-_,f-w),I.push(G,N,X,U),I.push(p+_,f+w),I.push(G,N,X,U),I.push(p-_,f-w),I.push(G,N,X,U),L++):(I.push(l,c),I.push(G,N,X,U),I.push(p-(l-p),f-(c-f)),I.push(G,N,X,U));for(u=n[2*(R-2)],d=n[2*(R-2)+1],p=n[2*(R-1)],y=-(d-(f=n[2*(R-1)+1])),v=u-p,y/=O=Math.sqrt(y*y+v*v),v/=O,y*=B,v*=B,I.push(p-y,f-v),I.push(G,N,X,U),I.push(p+y,f+v),I.push(G,N,X,U),E.push(D),s=0;s<L;s++)E.push(D++);E.push(D-1)}},PIXI.WebGLGraphics.buildComplexPoly=function(t,e){var s=t.points.slice();if(!(s.length<6)){var n=e.indices;e.points=s,e.alpha=t.fillAlpha,e.color=i.Color.hexToRGBArray(t.fillColor);for(var o,r,a=1/0,h=-1/0,l=1/0,c=-1/0,u=0;u<s.length;u+=2)o=s[u],r=s[u+1],a=o<a?o:a,h=o>h?o:h,l=r<l?r:l,c=r>c?r:c;s.push(a,l,h,l,h,c,a,c);var d=s.length/2;for(u=0;u<d;u++)n.push(u)}},PIXI.WebGLGraphics.buildPoly=function(t,e){var s=t.points;if(!(s.length<6)){var n=e.points,o=e.indices,r=s.length/2,a=i.Color.hexToRGBArray(t.fillColor),h=t.fillAlpha,l=a[0]*h,c=a[1]*h,u=a[2]*h,d=i.EarCut.Triangulate(s,null,2);if(!d)return!1;var p=n.length/6,f=0;for(f=0;f<d.length;f+=3)o.push(d[f]+p),o.push(d[f]+p),o.push(d[f+1]+p),o.push(d[f+2]+p),o.push(d[f+2]+p);for(f=0;f<r;f++)n.push(s[2*f],s[2*f+1],l,c,u,h);return!0}},PIXI.WebGLGraphics.graphicsDataPool=[],PIXI.WebGLGraphicsData=function(t){this.gl=t,this.color=[0,0,0],this.points=[],this.indices=[],this.buffer=t.createBuffer(),this.indexBuffer=t.createBuffer(),this.mode=1,this.alpha=1,this.dirty=!0},PIXI.WebGLGraphicsData.prototype.reset=function(){this.points=[],this.indices=[]},PIXI.WebGLGraphicsData.prototype.upload=function(){var t=this.gl;this.glPoints=new Float32Array(this.points),t.bindBuffer(t.ARRAY_BUFFER,this.buffer),t.bufferData(t.ARRAY_BUFFER,this.glPoints,t.STATIC_DRAW),this.glIndicies=new Uint16Array(this.indices),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,this.glIndicies,t.STATIC_DRAW),this.dirty=!1},PIXI.CanvasGraphics=function(){},PIXI.CanvasGraphics.renderGraphics=function(t,e){var s=t.worldAlpha;t.dirty&&(this.updateGraphicsTint(t),t.dirty=!1);for(var n=0;n<t.graphicsData.length;n++){var o=t.graphicsData[n],r=o.shape,a=o._fillTint,h=o._lineTint;if(e.lineWidth=o.lineWidth,o.type===i.POLYGON){e.beginPath();var l=r.points;e.moveTo(l[0],l[1]);for(var c=1;c<l.length/2;c++)e.lineTo(l[2*c],l[2*c+1]);r.closed&&e.lineTo(l[0],l[1]),l[0]===l[l.length-2]&&l[1]===l[l.length-1]&&e.closePath(),o.fill&&(e.globalAlpha=o.fillAlpha*s,e.fillStyle="#"+("00000"+(0|a).toString(16)).substr(-6),e.fill()),o.lineWidth&&(e.globalAlpha=o.lineAlpha*s,e.strokeStyle="#"+("00000"+(0|h).toString(16)).substr(-6),e.stroke())}else if(o.type===i.RECTANGLE)(o.fillColor||0===o.fillColor)&&(e.globalAlpha=o.fillAlpha*s,e.fillStyle="#"+("00000"+(0|a).toString(16)).substr(-6),e.fillRect(r.x,r.y,r.width,r.height)),o.lineWidth&&(e.globalAlpha=o.lineAlpha*s,e.strokeStyle="#"+("00000"+(0|h).toString(16)).substr(-6),e.strokeRect(r.x,r.y,r.width,r.height));else if(o.type===i.CIRCLE)e.beginPath(),e.arc(r.x,r.y,r.radius,0,2*Math.PI),e.closePath(),o.fill&&(e.globalAlpha=o.fillAlpha*s,e.fillStyle="#"+("00000"+(0|a).toString(16)).substr(-6),e.fill()),o.lineWidth&&(e.globalAlpha=o.lineAlpha*s,e.strokeStyle="#"+("00000"+(0|h).toString(16)).substr(-6),e.stroke());else if(o.type===i.ELLIPSE){var u=2*r.width,d=2*r.height,p=r.x-u/2,f=r.y-d/2;e.beginPath();var m=u/2*.5522848,g=d/2*.5522848,y=p+u,v=f+d,x=p+u/2,b=f+d/2;e.moveTo(p,b),e.bezierCurveTo(p,b-g,x-m,f,x,f),e.bezierCurveTo(x+m,f,y,b-g,y,b),e.bezierCurveTo(y,b+g,x+m,v,x,v),e.bezierCurveTo(x-m,v,p,b+g,p,b),e.closePath(),o.fill&&(e.globalAlpha=o.fillAlpha*s,e.fillStyle="#"+("00000"+(0|a).toString(16)).substr(-6),e.fill()),o.lineWidth&&(e.globalAlpha=o.lineAlpha*s,e.strokeStyle="#"+("00000"+(0|h).toString(16)).substr(-6),e.stroke())}else if(o.type===i.ROUNDEDRECTANGLE){var _=r.x,w=r.y,T=r.width,P=r.height,C=r.radius,S=Math.min(T,P)/2|0;C=C>S?S:C,e.beginPath(),e.moveTo(_,w+C),e.lineTo(_,w+P-C),e.quadraticCurveTo(_,w+P,_+C,w+P),e.lineTo(_+T-C,w+P),e.quadraticCurveTo(_+T,w+P,_+T,w+P-C),e.lineTo(_+T,w+C),e.quadraticCurveTo(_+T,w,_+T-C,w),e.lineTo(_+C,w),e.quadraticCurveTo(_,w,_,w+C),e.closePath(),(o.fillColor||0===o.fillColor)&&(e.globalAlpha=o.fillAlpha*s,e.fillStyle="#"+("00000"+(0|a).toString(16)).substr(-6),e.fill()),o.lineWidth&&(e.globalAlpha=o.lineAlpha*s,e.strokeStyle="#"+("00000"+(0|h).toString(16)).substr(-6),e.stroke())}}},PIXI.CanvasGraphics.renderGraphicsMask=function(t,e){var s=t.graphicsData.length;if(0!==s){e.beginPath();for(var n=0;n<s;n++){var o=t.graphicsData[n],r=o.shape;if(o.type===i.POLYGON){var a=r.points;e.moveTo(a[0],a[1]);for(var h=1;h<a.length/2;h++)e.lineTo(a[2*h],a[2*h+1]);a[0]===a[a.length-2]&&a[1]===a[a.length-1]&&e.closePath()}else if(o.type===i.RECTANGLE)e.rect(r.x,r.y,r.width,r.height),e.closePath();else if(o.type===i.CIRCLE)e.arc(r.x,r.y,r.radius,0,2*Math.PI),e.closePath();else if(o.type===i.ELLIPSE){var l=2*r.width,c=2*r.height,u=r.x-l/2,d=r.y-c/2,p=l/2*.5522848,f=c/2*.5522848,m=u+l,g=d+c,y=u+l/2,v=d+c/2;e.moveTo(u,v),e.bezierCurveTo(u,v-f,y-p,d,y,d),e.bezierCurveTo(y+p,d,m,v-f,m,v),e.bezierCurveTo(m,v+f,y+p,g,y,g),e.bezierCurveTo(y-p,g,u,v+f,u,v),e.closePath()}else if(o.type===i.ROUNDEDRECTANGLE){var x=r.x,b=r.y,_=r.width,w=r.height,T=r.radius,P=Math.min(_,w)/2|0;T=T>P?P:T,e.moveTo(x,b+T),e.lineTo(x,b+w-T),e.quadraticCurveTo(x,b+w,x+T,b+w),e.lineTo(x+_-T,b+w),e.quadraticCurveTo(x+_,b+w,x+_,b+w-T),e.lineTo(x+_,b+T),e.quadraticCurveTo(x+_,b,x+_-T,b),e.lineTo(x+T,b),e.quadraticCurveTo(x,b,x,b+T),e.closePath()}}}},PIXI.CanvasGraphics.updateGraphicsTint=function(t){if(16777215!==t.tint)for(var e=(t.tint>>16&255)/255,i=(t.tint>>8&255)/255,s=(255&t.tint)/255,n=0;n<t.graphicsData.length;n++){var o=t.graphicsData[n],r=0|o.fillColor,a=0|o.lineColor;o._fillTint=((r>>16&255)/255*e*255<<16)+((r>>8&255)/255*i*255<<8)+(255&r)/255*s*255,o._lineTint=((a>>16&255)/255*e*255<<16)+((a>>8&255)/255*i*255<<8)+(255&a)/255*s*255}},i.GraphicsData=function(t,e,i,s,n,o,r){this.lineWidth=t,this.lineColor=e,this.lineAlpha=i,this._lineTint=e,this.fillColor=s,this.fillAlpha=n,this._fillTint=s,this.fill=o,this.shape=r,this.type=r.type},i.GraphicsData.prototype.constructor=i.GraphicsData,i.GraphicsData.prototype.clone=function(){return new i.GraphicsData(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.fill,this.shape)},i.Graphics=function(t,e,s){void 0===e&&(e=0),void 0===s&&(s=0),this.type=i.GRAPHICS,this.physicsType=i.SPRITE,this.anchor=new i.Point,PIXI.DisplayObjectContainer.call(this),this.renderable=!0,this.fillAlpha=1,this.lineWidth=0,this.lineColor=0,this.graphicsData=[],this.tint=16777215,this.blendMode=PIXI.blendModes.NORMAL,this.currentPath=null,this._webGL=[],this.isMask=!1,this.boundsPadding=0,this._localBounds=new i.Rectangle(0,0,1,1),this.dirty=!0,this._boundsDirty=!1,this.webGLDirty=!1,this.cachedSpriteDirty=!1,i.Component.Core.init.call(this,t,e,s,"",null)},i.Graphics.prototype=Object.create(PIXI.DisplayObjectContainer.prototype),i.Graphics.prototype.constructor=i.Graphics,i.Component.Core.install.call(i.Graphics.prototype,["Angle","AutoCull","Bounds","Destroy","FixedToCamera","InputEnabled","InWorld","LifeSpan","PhysicsBody","Reset"]),i.Graphics.prototype.preUpdatePhysics=i.Component.PhysicsBody.preUpdate,i.Graphics.prototype.preUpdateLifeSpan=i.Component.LifeSpan.preUpdate,i.Graphics.prototype.preUpdateInWorld=i.Component.InWorld.preUpdate,i.Graphics.prototype.preUpdateCore=i.Component.Core.preUpdate,i.Graphics.prototype.preUpdate=function(){return!!(this.preUpdatePhysics()&&this.preUpdateLifeSpan()&&this.preUpdateInWorld())&&this.preUpdateCore()},i.Graphics.prototype.postUpdate=function(){i.Component.PhysicsBody.postUpdate.call(this),i.Component.FixedToCamera.postUpdate.call(this),this._boundsDirty&&(this.updateLocalBounds(),this._boundsDirty=!1);for(var t=0;t<this.children.length;t++)this.children[t].postUpdate()},i.Graphics.prototype.destroy=function(t){this.clear(),i.Component.Destroy.prototype.destroy.call(this,t)},i.Graphics.prototype.drawTriangle=function(t,e){void 0===e&&(e=!1);var s=new i.Polygon(t);if(e){var n=new i.Point(this.game.camera.x-t[0].x,this.game.camera.y-t[0].y),o=new i.Point(t[1].x-t[0].x,t[1].y-t[0].y),r=new i.Point(t[1].x-t[2].x,t[1].y-t[2].y).cross(o);n.dot(r)>0&&this.drawPolygon(s)}else this.drawPolygon(s)},i.Graphics.prototype.drawTriangles=function(t,e,s){void 0===s&&(s=!1);var n,o=new i.Point,r=new i.Point,a=new i.Point,h=[];if(e)if(t[0]instanceof i.Point)for(n=0;n<e.length/3;n++)h.push(t[e[3*n]]),h.push(t[e[3*n+1]]),h.push(t[e[3*n+2]]),3===h.length&&(this.drawTriangle(h,s),h=[]);else for(n=0;n<e.length;n++)o.x=t[2*e[n]],o.y=t[2*e[n]+1],h.push(o.copyTo({})),3===h.length&&(this.drawTriangle(h,s),h=[]);else if(t[0]instanceof i.Point)for(n=0;n<t.length/3;n++)this.drawTriangle([t[3*n],t[3*n+1],t[3*n+2]],s);else for(n=0;n<t.length/6;n++)o.x=t[6*n+0],o.y=t[6*n+1],r.x=t[6*n+2],r.y=t[6*n+3],a.x=t[6*n+4],a.y=t[6*n+5],this.drawTriangle([o,r,a],s)},i.Graphics.prototype.lineStyle=function(t,e,s){return this.lineWidth=t||0,this.lineColor=e||0,this.lineAlpha=void 0===s?1:s,this.currentPath&&(this.currentPath.shape.points.length?this.drawShape(new i.Polygon(this.currentPath.shape.points.slice(-2))):(this.currentPath.lineWidth=this.lineWidth,this.currentPath.lineColor=this.lineColor,this.currentPath.lineAlpha=this.lineAlpha)),this},i.Graphics.prototype.moveTo=function(t,e){return this.drawShape(new i.Polygon([t,e])),this},i.Graphics.prototype.lineTo=function(t,e){return this.currentPath||this.moveTo(0,0),this.currentPath.shape.points.push(t,e),this.dirty=!0,this._boundsDirty=!0,this},i.Graphics.prototype.quadraticCurveTo=function(t,e,i,s){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var n,o,r=this.currentPath.shape.points;0===r.length&&this.moveTo(0,0);for(var a=r[r.length-2],h=r[r.length-1],l=0,c=1;c<=20;++c)n=a+(t-a)*(l=c/20),o=h+(e-h)*l,r.push(n+(t+(i-t)*l-n)*l,o+(e+(s-e)*l-o)*l);return this.dirty=!0,this._boundsDirty=!0,this},i.Graphics.prototype.bezierCurveTo=function(t,e,i,s,n,o){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);for(var r,a,h,l,c,u=this.currentPath.shape.points,d=u[u.length-2],p=u[u.length-1],f=0,m=1;m<=20;++m)h=(a=(r=1-(f=m/20))*r)*r,c=(l=f*f)*f,u.push(h*d+3*a*f*t+3*r*l*i+c*n,h*p+3*a*f*e+3*r*l*s+c*o);return this.dirty=!0,this._boundsDirty=!0,this},i.Graphics.prototype.arcTo=function(t,e,i,s,n){this.currentPath?0===this.currentPath.shape.points.length&&this.currentPath.shape.points.push(t,e):this.moveTo(t,e);var o=this.currentPath.shape.points,r=o[o.length-2],a=o[o.length-1]-e,h=r-t,l=s-e,c=i-t,u=Math.abs(a*c-h*l);if(u<1e-8||0===n)o[o.length-2]===t&&o[o.length-1]===e||o.push(t,e);else{var d=a*a+h*h,p=l*l+c*c,f=a*l+h*c,m=n*Math.sqrt(d)/u,g=n*Math.sqrt(p)/u,y=m*f/d,v=g*f/p,x=m*c+g*h,b=m*l+g*a,_=h*(g+y),w=a*(g+y),T=c*(m+v),P=l*(m+v),C=Math.atan2(w-b,_-x),S=Math.atan2(P-b,T-x);this.arc(x+t,b+e,n,C,S,h*l>c*a)}return this.dirty=!0,this._boundsDirty=!0,this},i.Graphics.prototype.arc=function(t,e,i,s,n,o,r){if(s===n)return this;void 0===o&&(o=!1),void 0===r&&(r=40),!o&&n<=s?n+=2*Math.PI:o&&s<=n&&(s+=2*Math.PI);var a=o?-1*(s-n):n-s,h=Math.ceil(Math.abs(a)/(2*Math.PI))*r;if(0===a)return this;var l=t+Math.cos(s)*i,c=e+Math.sin(s)*i;o&&this.filling?this.moveTo(t,e):this.moveTo(l,c);for(var u=this.currentPath.shape.points,d=a/(2*h),p=2*d,f=Math.cos(d),m=Math.sin(d),g=h-1,y=g%1/g,v=0;v<=g;v++){var x=d+s+p*(v+y*v),b=Math.cos(x),_=-Math.sin(x);u.push((f*b+m*_)*i+t,(f*-_+m*b)*i+e)}return this.dirty=!0,this._boundsDirty=!0,this},i.Graphics.prototype.beginFill=function(t,e){return this.filling=!0,this.fillColor=t||0,this.fillAlpha=void 0===e?1:e,this.currentPath&&this.currentPath.shape.points.length<=2&&(this.currentPath.fill=this.filling,this.currentPath.fillColor=this.fillColor,this.currentPath.fillAlpha=this.fillAlpha),this},i.Graphics.prototype.endFill=function(){return this.filling=!1,this.fillColor=null,this.fillAlpha=1,this},i.Graphics.prototype.drawRect=function(t,e,s,n){return this.drawShape(new i.Rectangle(t,e,s,n)),this},i.Graphics.prototype.drawRoundedRect=function(t,e,s,n,o){return this.drawShape(new i.RoundedRectangle(t,e,s,n,o)),this},i.Graphics.prototype.drawCircle=function(t,e,s){return this.drawShape(new i.Circle(t,e,s)),this},i.Graphics.prototype.drawEllipse=function(t,e,s,n){return this.drawShape(new i.Ellipse(t,e,s,n)),this},i.Graphics.prototype.drawPolygon=function(t){t instanceof i.Polygon&&(t=t.points);var e=t;if(!Array.isArray(e)){e=new Array(arguments.length);for(var s=0;s<e.length;++s)e[s]=arguments[s]}return this.drawShape(new i.Polygon(e)),this},i.Graphics.prototype.clear=function(){return this.lineWidth=0,this.filling=!1,this.dirty=!0,this._boundsDirty=!0,this.clearDirty=!0,this.graphicsData=[],this.updateLocalBounds(),this},i.Graphics.prototype.generateTexture=function(t,e,i){void 0===t&&(t=1),void 0===e&&(e=PIXI.scaleModes.DEFAULT),void 0===i&&(i=0);var s=this.getBounds();s.width+=i,s.height+=i;var n=new PIXI.CanvasBuffer(s.width*t,s.height*t),o=PIXI.Texture.fromCanvas(n.canvas,e);return o.baseTexture.resolution=t,n.context.scale(t,t),n.context.translate(-s.x,-s.y),PIXI.CanvasGraphics.renderGraphics(this,n.context),o},i.Graphics.prototype._renderWebGL=function(t){if(!1!==this.visible&&0!==this.alpha&&!0!==this.isMask){if(this._cacheAsBitmap)return(this.dirty||this.cachedSpriteDirty)&&(this._generateCachedSprite(),this.updateCachedSpriteTexture(),this.cachedSpriteDirty=!1,this.dirty=!1),this._cachedSprite.worldAlpha=this.worldAlpha,void PIXI.Sprite.prototype._renderWebGL.call(this._cachedSprite,t);if(t.spriteBatch.stop(),t.blendModeManager.setBlendMode(this.blendMode),this._mask&&t.maskManager.pushMask(this._mask,t),this._filters&&t.filterManager.pushFilter(this._filterBlock),this.blendMode!==t.spriteBatch.currentBlendMode){t.spriteBatch.currentBlendMode=this.blendMode;var e=PIXI.blendModesWebGL[t.spriteBatch.currentBlendMode];t.spriteBatch.gl.blendFunc(e[0],e[1])}if(this.webGLDirty&&(this.dirty=!0,this.webGLDirty=!1),PIXI.WebGLGraphics.renderGraphics(this,t),this.children.length){t.spriteBatch.start();for(var i=0;i<this.children.length;i++)this.children[i]._renderWebGL(t);t.spriteBatch.stop()}this._filters&&t.filterManager.popFilter(),this._mask&&t.maskManager.popMask(this.mask,t),t.drawCount++,t.spriteBatch.start()}},i.Graphics.prototype._renderCanvas=function(t){if(!1!==this.visible&&0!==this.alpha&&!0!==this.isMask){if(this._prevTint!==this.tint&&(this.dirty=!0,this._prevTint=this.tint),this._cacheAsBitmap)return(this.dirty||this.cachedSpriteDirty)&&(this._generateCachedSprite(),this.updateCachedSpriteTexture(),this.cachedSpriteDirty=!1,this.dirty=!1),this._cachedSprite.alpha=this.alpha,void PIXI.Sprite.prototype._renderCanvas.call(this._cachedSprite,t);var e=t.context,i=this.worldTransform;this.blendMode!==t.currentBlendMode&&(t.currentBlendMode=this.blendMode,e.globalCompositeOperation=PIXI.blendModesCanvas[t.currentBlendMode]),this._mask&&t.maskManager.pushMask(this._mask,t);var s=t.resolution,n=i.tx*t.resolution+t.shakeX,o=i.ty*t.resolution+t.shakeY;e.setTransform(i.a*s,i.b*s,i.c*s,i.d*s,n,o),PIXI.CanvasGraphics.renderGraphics(this,e);for(var r=0;r<this.children.length;r++)this.children[r]._renderCanvas(t);this._mask&&t.maskManager.popMask(t)}},i.Graphics.prototype.getBounds=function(t){if(this._currentBounds)return this._currentBounds;if(!this.renderable)return i.EmptyRectangle;this.dirty&&(this.updateLocalBounds(),this.webGLDirty=!0,this.cachedSpriteDirty=!0,this.dirty=!1);var e=this._localBounds,s=e.x,n=e.width+e.x,o=e.y,r=e.height+e.y,a=t||this.worldTransform,h=a.a,l=a.b,c=a.c,u=a.d,d=a.tx,p=a.ty,f=h*n+c*r+d,m=u*r+l*n+p,g=h*s+c*r+d,y=u*r+l*s+p,v=h*s+c*o+d,x=u*o+l*s+p,b=h*n+c*o+d,_=u*o+l*n+p,w=f,T=m,P=f,C=m;return P=g<P?g:P,P=v<P?v:P,P=b<P?b:P,C=y<C?y:C,C=x<C?x:C,C=_<C?_:C,w=g>w?g:w,w=v>w?v:w,w=b>w?b:w,T=y>T?y:T,T=x>T?x:T,T=_>T?_:T,this._bounds.x=P,this._bounds.width=w-P,this._bounds.y=C,this._bounds.height=T-C,this._currentBounds=this._bounds,this._currentBounds},i.Graphics.prototype.getLocalBounds=function(){var t=this.worldTransform;this.worldTransform=i.identityMatrix;for(var e=0;e<this.children.length;e++)this.children[e].updateTransform();var s=this.getBounds();for(this.worldTransform=t,e=0;e<this.children.length;e++)this.children[e].updateTransform();return s},i.Graphics.prototype.containsPoint=function(t,e){void 0===e&&(e=new i.Point),this.worldTransform.applyInverse(t,e);for(var s=this.graphicsData,n=0;n<s.length;n++){var o=s[n];if(o.fill&&(o.shape&&o.shape.contains(e.x,e.y)))return!0}return!1},i.Graphics.prototype.updateLocalBounds=function(){var t=1/0,e=-1/0,s=1/0,n=-1/0;if(this.graphicsData.length)for(var o,r,a,h,l,c,u=0;u<this.graphicsData.length;u++){var d=this.graphicsData[u],p=d.type,f=d.lineWidth;if(o=d.shape,p===i.RECTANGLE||p===i.ROUNDEDRECTANGLE)a=o.x-f/2,h=o.y-f/2,l=o.width+f,c=o.height+f,t=a<t?a:t,e=a+l>e?a+l:e,s=h<s?h:s,n=h+c>n?h+c:n;else if(p===i.CIRCLE)a=o.x,h=o.y,l=o.radius+f/2,c=o.radius+f/2,t=a-l<t?a-l:t,e=a+l>e?a+l:e,s=h-c<s?h-c:s,n=h+c>n?h+c:n;else if(p===i.ELLIPSE)a=o.x,h=o.y,l=o.width+f/2,c=o.height+f/2,t=a-l<t?a-l:t,e=a+l>e?a+l:e,s=h-c<s?h-c:s,n=h+c>n?h+c:n;else{r=o.points;for(var m=0;m<r.length;m++)r[m]instanceof i.Point?(a=r[m].x,h=r[m].y):(a=r[m],h=r[m+1],m<r.length-1&&m++),t=a-f<t?a-f:t,e=a+f>e?a+f:e,s=h-f<s?h-f:s,n=h+f>n?h+f:n}}else t=0,e=0,s=0,n=0;var g=this.boundsPadding;this._localBounds.x=t-g,this._localBounds.width=e-t+2*g,this._localBounds.y=s-g,this._localBounds.height=n-s+2*g},i.Graphics.prototype._generateCachedSprite=function(){var t=this.getLocalBounds();if(this._cachedSprite)this._cachedSprite.buffer.resize(t.width,t.height);else{var e=new PIXI.CanvasBuffer(t.width,t.height),i=PIXI.Texture.fromCanvas(e.canvas);this._cachedSprite=new PIXI.Sprite(i),this._cachedSprite.buffer=e,this._cachedSprite.worldTransform=this.worldTransform}this._cachedSprite.anchor.x=-t.x/t.width,this._cachedSprite.anchor.y=-t.y/t.height,this._cachedSprite.buffer.context.translate(-t.x,-t.y),this.worldAlpha=1,PIXI.CanvasGraphics.renderGraphics(this,this._cachedSprite.buffer.context),this._cachedSprite.alpha=this.alpha},i.Graphics.prototype.updateCachedSpriteTexture=function(){var t=this._cachedSprite,e=t.texture,i=t.buffer.canvas;e.baseTexture.width=i.width,e.baseTexture.height=i.height,e.crop.width=e.frame.width=i.width,e.crop.height=e.frame.height=i.height,t._width=i.width,t._height=i.height,e.baseTexture.dirty()},i.Graphics.prototype.destroyCachedSprite=function(){this._cachedSprite.texture.destroy(!0),this._cachedSprite=null},i.Graphics.prototype.drawShape=function(t){this.currentPath&&this.currentPath.shape.points.length<=2&&this.graphicsData.pop(),this.currentPath=null,t instanceof i.Polygon&&(t=t.clone()).flatten();var e=new i.GraphicsData(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.filling,t);return this.graphicsData.push(e),e.type===i.POLYGON&&(e.shape.closed=this.filling,this.currentPath=e),this.dirty=!0,this._boundsDirty=!0,e},Object.defineProperty(i.Graphics.prototype,"cacheAsBitmap",{get:function(){return this._cacheAsBitmap},set:function(t){this._cacheAsBitmap=t,this._cacheAsBitmap?this._generateCachedSprite():this.destroyCachedSprite(),this.dirty=!0,this.webGLDirty=!0}}),i.RenderTexture=function(t,e,s,n,o,r,a,h){if(void 0===e&&(e=100),void 0===s&&(s=100),void 0===n&&(n=""),void 0===o&&(o=i.scaleModes.DEFAULT),void 0===r&&(r=1),void 0===a&&(a=PIXI.defaultRenderer),void 0===h&&(h=0),this.game=t,this.key=n,this.type=i.RENDERTEXTURE,this._tempMatrix=new i.Matrix,this.width=e,this.height=s,this.resolution=r,this.frame=new i.Rectangle(0,0,this.width*this.resolution,this.height*this.resolution),this.crop=this.frame.clone(),this.baseTexture=new PIXI.BaseTexture,this.baseTexture.width=this.width*this.resolution,this.baseTexture.height=this.height*this.resolution,this.baseTexture._glTextures=[],this.baseTexture.resolution=this.resolution,this.baseTexture.scaleMode=o,this.baseTexture.hasLoaded=!0,PIXI.Texture.call(this,this.baseTexture,this.frame.clone()),this.renderer=a,this.renderer.type===i.WEBGL){var l=this.renderer.gl;this.baseTexture.textureIndex=h,this.baseTexture._dirty[l.id]=!1,this.textureBuffer=new PIXI.FilterTexture(l,this.width,this.height,this.baseTexture.scaleMode,h),this.baseTexture._glTextures[l.id]=this.textureBuffer.texture,this.projection=new i.Point(.5*this.width,.5*-this.height)}else this.textureBuffer=new PIXI.CanvasBuffer(this.width*this.resolution,this.height*this.resolution),this.baseTexture.source=this.textureBuffer.canvas;this.valid=!0,this.tempMatrix=new i.Matrix,this._updateUvs()},i.RenderTexture.prototype=Object.create(PIXI.Texture.prototype),i.RenderTexture.prototype.constructor=i.RenderTexture,i.RenderTexture.prototype.renderXY=function(t,e,s,n){t.updateTransform(),this._tempMatrix.copyFrom(t.worldTransform),this._tempMatrix.tx=e,this._tempMatrix.ty=s,this.renderer.type===i.WEBGL?this._renderWebGL(t,this._tempMatrix,n):this._renderCanvas(t,this._tempMatrix,n)},i.RenderTexture.prototype.renderRawXY=function(t,e,s,n){this._tempMatrix.identity().translate(e,s),this.renderer.type===i.WEBGL?this._renderWebGL(t,this._tempMatrix,n):this._renderCanvas(t,this._tempMatrix,n)},i.RenderTexture.prototype.render=function(t,e,s){void 0===e||null===e?this._tempMatrix.copyFrom(t.worldTransform):this._tempMatrix.copyFrom(e),this.renderer.type===i.WEBGL?this._renderWebGL(t,this._tempMatrix,s):this._renderCanvas(t,this._tempMatrix,s)},i.RenderTexture.prototype.resize=function(t,e,s){t===this.width&&e===this.height||(this.valid=t>0&&e>0,this.width=t,this.height=e,this.frame.width=this.crop.width=t*this.resolution,this.frame.height=this.crop.height=e*this.resolution,s&&(this.baseTexture.width=this.width*this.resolution,this.baseTexture.height=this.height*this.resolution),this.renderer.type===i.WEBGL&&(this.projection.x=this.width/2,this.projection.y=-this.height/2),this.valid&&this.textureBuffer.resize(this.width,this.height))},i.RenderTexture.prototype.clear=function(){this.valid&&(this.renderer.type===i.WEBGL&&this.renderer.gl.bindFramebuffer(this.renderer.gl.FRAMEBUFFER,this.textureBuffer.frameBuffer),this.textureBuffer.clear())},i.RenderTexture.prototype._renderWebGL=function(t,e,i){if(this.valid&&0!==t.alpha){var s=t.worldTransform;s.identity(),s.translate(0,2*this.projection.y),e&&s.append(e),s.scale(1,-1);for(var n=0;n<t.children.length;n++)t.children[n].updateTransform();var o=this.renderer.gl;o.viewport(0,0,this.width*this.resolution,this.height*this.resolution),o.bindFramebuffer(o.FRAMEBUFFER,this.textureBuffer.frameBuffer),i&&this.textureBuffer.clear(),this.renderer.spriteBatch.dirty=!0,this.renderer.renderDisplayObject(t,this.projection,this.textureBuffer.frameBuffer,e),this.renderer.spriteBatch.dirty=!0,o.bindFramebuffer(o.FRAMEBUFFER,null)}},i.RenderTexture.prototype._renderCanvas=function(t,e,i){if(this.valid&&0!==t.alpha){var s=t.worldTransform;s.identity(),e&&s.append(e);for(var n=0;n<t.children.length;n++)t.children[n].updateTransform();i&&this.textureBuffer.clear();var o=this.renderer.resolution;this.renderer.resolution=this.resolution,this.renderer.renderDisplayObject(t,this.textureBuffer.context,e),this.renderer.resolution=o}},i.RenderTexture.prototype.getImage=function(){var t=new Image;return t.src=this.getBase64(),t},i.RenderTexture.prototype.getBase64=function(){return this.getCanvas().toDataURL()},i.RenderTexture.prototype.getCanvas=function(){if(this.renderer.type===i.WEBGL){var t=this.renderer.gl,e=this.textureBuffer.width,s=this.textureBuffer.height,n=new Uint8Array(4*e*s);t.bindFramebuffer(t.FRAMEBUFFER,this.textureBuffer.frameBuffer),t.readPixels(0,0,e,s,t.RGBA,t.UNSIGNED_BYTE,n),t.bindFramebuffer(t.FRAMEBUFFER,null);var o=new PIXI.CanvasBuffer(e,s),r=o.context.getImageData(0,0,e,s);return r.data.set(n),o.context.putImageData(r,0,0),o.canvas}return this.textureBuffer.canvas},i.Text=function(t,e,s,n,o){e=e||0,s=s||0,n=void 0===n||null===n?"":n.toString(),this.type=i.TEXT,this.physicsType=i.SPRITE,this.padding=new i.Point,this.textBounds=null,this.canvas=i.CanvasPool.create(this),this.context=this.canvas.getContext("2d"),this.colors=[],this.strokeColors=[],this.fontStyles=[],this.fontWeights=[],this.autoRound=!1,this.useAdvancedWrap=!1,this.splitRegExp=/(?:\r\n|\r|\n)/,this.characterLimitSize=-1,this.characterLimitSuffix="",this._res=t.renderer.resolution,this._text=n,this._fontComponents=null,this._lineSpacing=0,this._charCount=0,this._width=0,this._height=0,i.Sprite.call(this,t,e,s,PIXI.Texture.fromCanvas(this.canvas)),this.style={},this.setStyle(o||{}),""!==n&&this.updateText()},i.Text.prototype=Object.create(i.Sprite.prototype),i.Text.prototype.constructor=i.Text,i.Text.prototype.preUpdate=function(){return!!(this.preUpdatePhysics()&&this.preUpdateLifeSpan()&&this.preUpdateInWorld())&&this.preUpdateCore()},i.Text.prototype.update=function(){},i.Text.prototype.destroy=function(t){this.texture.destroy(!0),i.Component.Destroy.prototype.destroy.call(this,t)},i.Text.prototype.setShadow=function(t,e,i,s,n,o){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i="rgba(0, 0, 0, 1)"),void 0===s&&(s=0),void 0===n&&(n=!0),void 0===o&&(o=!0),this.style.shadowOffsetX=t,this.style.shadowOffsetY=e,this.style.shadowColor=i,this.style.shadowBlur=s,this.style.shadowStroke=n,this.style.shadowFill=o,this.dirty=!0,this},i.Text.prototype.setStyle=function(t,e){void 0===e&&(e=!1);var i=Object.assign({},t);i.font=t.font||"bold 20pt Arial",i.backgroundColor=t.backgroundColor||null,i.fill=t.fill||"black",i.align=(t.align||"left").toLowerCase(),i.boundsAlignH=(t.boundsAlignH||"left").toLowerCase(),i.boundsAlignV=(t.boundsAlignV||"top").toLowerCase(),i.stroke=t.stroke||"black",i.strokeThickness=Number(t.strokeThickness)||0,i.wordWrap=t.wordWrap||!1,i.wordWrapWidth=t.wordWrapWidth||100,i.maxLines=t.maxLines||0,i.shadowOffsetX=t.shadowOffsetX||0,i.shadowOffsetY=t.shadowOffsetY||0,i.shadowColor=t.shadowColor||"rgba(0,0,0,0)",i.shadowBlur=t.shadowBlur||0,i.tabs=t.tabs||0;var s=this.fontToComponents(i.font);return i.fontStyle&&(s.fontStyle=i.fontStyle),i.fontVariant&&(s.fontVariant=i.fontVariant),i.fontWeight&&(s.fontWeight=i.fontWeight),i.fontSize&&("number"==typeof i.fontSize&&(i.fontSize=i.fontSize+"px"),s.fontSize=i.fontSize),this._fontComponents=s,i.font=this.componentsToFont(this._fontComponents),this.style=i,this.dirty=!0,e&&this.updateText(),this},i.Text.prototype.updateText=function(){this.texture.baseTexture.resolution=this._res,this.context.font=this.style.font;var t=this.text;this.characterLimitSize>-1&&this.characterLimitSize<t.length&&(t=this.text.substring(0,this.characterLimitSize)+this.characterLimitSuffix),this.style.wordWrap&&(t=this.runWordWrap(this.text));var e=t.split(this.splitRegExp),i=this.style.tabs,s=[],n=0,o=this.determineFontProperties(this.style.font),r=e.length;this.style.maxLines>0&&this.style.maxLines<e.length&&(r=this.style.maxLines),this._charCount=0;for(var a=0;a<r;a++){if(0===i){l=this.style.strokeThickness+this.padding.x;this.colors.length>0||this.strokeColors.length>0||this.fontWeights.length>0||this.fontStyles.length>0?l+=this.measureLine(e[a]):l+=this.context.measureText(e[a]).width,this.style.wordWrap&&(l-=this.context.measureText(" ").width)}else{var h=e[a].split(/(?:\t)/),l=this.padding.x+this.style.strokeThickness;if(Array.isArray(i))for(var c=0,u=0;u<h.length;u++){var d=0;d=this.colors.length>0||this.strokeColors.length>0||this.fontWeights.length>0||this.fontStyles.length>0?this.measureLine(h[u]):Math.ceil(this.context.measureText(h[u]).width),u>0&&(c+=i[u-1]),l=c+d}else for(u=0;u<h.length;u++)this.colors.length>0||this.strokeColors.length>0||this.fontWeights.length>0||this.fontStyles.length>0?l+=this.measureLine(h[u]):l+=Math.ceil(this.context.measureText(h[u]).width),l+=this.game.math.snapToCeil(l,i)-l}s[a]=Math.ceil(l),n=Math.max(n,s[a])}this.canvas.width=n*this._res;var p=o.fontSize+this.style.strokeThickness+this.padding.y,f=p*r,m=this._lineSpacing;m<0&&Math.abs(m)>p&&(m=-p),0!==m&&(f+=m>0?m*e.length:m*(e.length-1)),this.canvas.height=f*this._res,this.context.scale(this._res,this._res),navigator.isCocoonJS&&this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.style.backgroundColor&&(this.context.fillStyle=this.style.backgroundColor,this.context.fillRect(0,0,this.canvas.width,this.canvas.height)),this.context.fillStyle=this.style.fill,this.context.font=this.style.font,this.context.strokeStyle=this.style.stroke,this.context.textBaseline="alphabetic",this.context.lineWidth=this.style.strokeThickness,this.context.lineCap="round",this.context.lineJoin="round";var g,y;for(this._charCount=0,a=0;a<r;a++)g=this.style.strokeThickness/2,y=this.style.strokeThickness/2+a*p+o.ascent,a>0&&(y+=m*a),"right"===this.style.align?g+=n-s[a]:"center"===this.style.align&&(g+=(n-s[a])/2),this.autoRound&&(g=Math.round(g),y=Math.round(y)),this.colors.length>0||this.strokeColors.length>0||this.fontWeights.length>0||this.fontStyles.length>0?this.updateLine(e[a],g,y):(this.style.stroke&&this.style.strokeThickness&&(this.updateShadow(this.style.shadowStroke),0===i?this.context.strokeText(e[a],g,y):this.renderTabLine(e[a],g,y,!1)),this.style.fill&&(this.updateShadow(this.style.shadowFill),0===i?this.context.fillText(e[a],g,y):this.renderTabLine(e[a],g,y,!0)));this.updateTexture(),this.dirty=!1},i.Text.prototype.renderTabLine=function(t,e,i,s){var n=t.split(/(?:\t)/),o=this.style.tabs,r=0;if(Array.isArray(o))for(var a=0,h=0;h<n.length;h++)h>0&&(a+=o[h-1]),r=e+a,s?this.context.fillText(n[h],r,i):this.context.strokeText(n[h],r,i);else for(h=0;h<n.length;h++){var l=Math.ceil(this.context.measureText(n[h]).width);r=this.game.math.snapToCeil(e,o),s?this.context.fillText(n[h],r,i):this.context.strokeText(n[h],r,i),e=r+l}},i.Text.prototype.updateShadow=function(t){t?(this.context.shadowOffsetX=this.style.shadowOffsetX,this.context.shadowOffsetY=this.style.shadowOffsetY,this.context.shadowColor=this.style.shadowColor,this.context.shadowBlur=this.style.shadowBlur):(this.context.shadowOffsetX=0,this.context.shadowOffsetY=0,this.context.shadowColor=0,this.context.shadowBlur=0)},i.Text.prototype.measureLine=function(t){for(var e=0,i=0;i<t.length;i++){var s=t[i];if(this.fontWeights.length>0||this.fontStyles.length>0){var n=this.fontToComponents(this.context.font);this.fontStyles[this._charCount]&&(n.fontStyle=this.fontStyles[this._charCount]),this.fontWeights[this._charCount]&&(n.fontWeight=this.fontWeights[this._charCount]),this.context.font=this.componentsToFont(n)}this.style.stroke&&this.style.strokeThickness&&(this.strokeColors[this._charCount]&&(this.context.strokeStyle=this.strokeColors[this._charCount]),this.updateShadow(this.style.shadowStroke)),this.style.fill&&(this.colors[this._charCount]&&(this.context.fillStyle=this.colors[this._charCount]),this.updateShadow(this.style.shadowFill)),e+=this.context.measureText(s).width,this._charCount++}return Math.ceil(e)},i.Text.prototype.updateLine=function(t,e,i){for(var s=0;s<t.length;s++){var n=t[s];if(this.fontWeights.length>0||this.fontStyles.length>0){var o=this.fontToComponents(this.context.font);this.fontStyles[this._charCount]&&(o.fontStyle=this.fontStyles[this._charCount]),this.fontWeights[this._charCount]&&(o.fontWeight=this.fontWeights[this._charCount]),this.context.font=this.componentsToFont(o)}this.style.stroke&&this.style.strokeThickness&&(this.strokeColors[this._charCount]&&(this.context.strokeStyle=this.strokeColors[this._charCount]),this.updateShadow(this.style.shadowStroke),this.context.strokeText(n,e,i)),this.style.fill&&(this.colors[this._charCount]&&(this.context.fillStyle=this.colors[this._charCount]),this.updateShadow(this.style.shadowFill),this.context.fillText(n,e,i)),e+=this.context.measureText(n).width,this._charCount++}},i.Text.prototype.clearColors=function(){return this.colors=[],this.strokeColors=[],this.dirty=!0,this},i.Text.prototype.clearFontValues=function(){return this.fontStyles=[],this.fontWeights=[],this.dirty=!0,this},i.Text.prototype.addColor=function(t,e){return this.colors[e]=t,this.dirty=!0,this},i.Text.prototype.addStrokeColor=function(t,e){return this.strokeColors[e]=t,this.dirty=!0,this},i.Text.prototype.addFontStyle=function(t,e){return this.fontStyles[e]=t,this.dirty=!0,this},i.Text.prototype.addFontWeight=function(t,e){return this.fontWeights[e]=t,this.dirty=!0,this},i.Text.prototype.precalculateWordWrap=function(t){return this.texture.baseTexture.resolution=this._res,this.context.font=this.style.font,this.runWordWrap(t).split(/(?:\r\n|\r|\n)/)},i.Text.prototype.runWordWrap=function(t){return this.useAdvancedWrap?this.advancedWordWrap(t):this.basicWordWrap(t)},i.Text.prototype.advancedWordWrap=function(t){for(var e=this.context,i=this.style.wordWrapWidth,s="",n=t.replace(/ +/gi," ").split(/\r?\n/gi),o=n.length,r=0;r<o;r++){var a=n[r],h="";if(a=a.replace(/^ *|\s*$/gi,""),e.measureText(a).width<i)s+=a+"\n";else{for(var l=i,c=a.split(" "),u=0;u<c.length;u++){var d=c[u],p=d+" ",f=e.measureText(p).width;if(f>l){if(0===u){for(var m=p;m.length&&(m=m.slice(0,-1),!((f=e.measureText(m).width)<=l)););if(!m.length)throw new Error("This text's wordWrapWidth setting is less than a single character!");var g=d.substr(m.length);c[u]=g,h+=m}var y=c[u].length?u:u+1,v=c.slice(y).join(" ").replace(/[ \n]*$/gi,"");n[r+1]=v+" "+(n[r+1]||""),o=n.length;break}h+=p,l-=f}s+=h.replace(/[ \n]*$/gi,"")+"\n"}}return s=s.replace(/[\s|\n]*$/gi,"")},i.Text.prototype.basicWordWrap=function(t){for(var e="",i=t.split("\n"),s=0;s<i.length;s++){for(var n=this.style.wordWrapWidth,o=i[s].split(" "),r=0;r<o.length;r++){var a=this.context.measureText(o[r]).width,h=a+this.context.measureText(" ").width;h>n?(r>0&&(e+="\n"),e+=o[r]+" ",n=this.style.wordWrapWidth-a):(n-=h,e+=o[r]+" ")}s<i.length-1&&(e+="\n")}return e},i.Text.prototype.updateFont=function(t){var e=this.componentsToFont(t);this.style.font!==e&&(this.style.font=e,this.dirty=!0,this.parent&&this.updateTransform())},i.Text.prototype.fontToComponents=function(t){var e=t.match(/^\s*(?:\b(normal|italic|oblique|inherit)?\b)\s*(?:\b(normal|small-caps|inherit)?\b)\s*(?:\b(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900|inherit)?\b)\s*(?:\b(xx-small|x-small|small|medium|large|x-large|xx-large|larger|smaller|0|\d*(?:[.]\d*)?(?:%|[a-z]{2,5}))?\b)\s*(.*)\s*$/);if(e){var i=e[5].trim();return/^(?:inherit|serif|sans-serif|cursive|fantasy|monospace)$/.exec(i)||/['",]/.exec(i)||(i="'"+i+"'"),{font:t,fontStyle:e[1]||"normal",fontVariant:e[2]||"normal",fontWeight:e[3]||"normal",fontSize:e[4]||"medium",fontFamily:i}}return console.warn("Phaser.Text - unparsable CSS font: "+t),{font:t}},i.Text.prototype.componentsToFont=function(t){var e,i=[];return(e=t.fontStyle)&&"normal"!==e&&i.push(e),(e=t.fontVariant)&&"normal"!==e&&i.push(e),(e=t.fontWeight)&&"normal"!==e&&i.push(e),(e=t.fontSize)&&"medium"!==e&&i.push(e),(e=t.fontFamily)&&i.push(e),i.length||i.push(t.font),i.join(" ")},i.Text.prototype.setText=function(t,e){return void 0===e&&(e=!1),this.text=t.toString()||"",e?this.updateText():this.dirty=!0,this},i.Text.prototype.parseList=function(t){if(!Array.isArray(t))return this;for(var e="",i=0;i<t.length;i++)Array.isArray(t[i])?(e+=t[i].join("\t"),i<t.length-1&&(e+="\n")):(e+=t[i],i<t.length-1&&(e+="\t"));return this.text=e,this.dirty=!0,this},i.Text.prototype.setTextBounds=function(t,e,s,n){return void 0===t?this.textBounds=null:(this.textBounds?this.textBounds.setTo(t,e,s,n):this.textBounds=new i.Rectangle(t,e,s,n),this.style.wordWrapWidth>s&&(this.style.wordWrapWidth=s)),this.updateTexture(),this},i.Text.prototype.updateTexture=function(){var t=this.texture.baseTexture,e=this.texture.crop,i=this.texture.frame,s=this.canvas.width,n=this.canvas.height;if(t.width=s,t.height=n,e.width=s,e.height=n,i.width=s,i.height=n,this.texture.width=s,this.texture.height=n,this._width=s,this._height=n,this.textBounds){var o=this.textBounds.x,r=this.textBounds.y;"right"===this.style.boundsAlignH?o+=this.textBounds.width-this.canvas.width/this.resolution:"center"===this.style.boundsAlignH&&(o+=this.textBounds.halfWidth-this.canvas.width/this.resolution/2),"bottom"===this.style.boundsAlignV?r+=this.textBounds.height-this.canvas.height/this.resolution:"middle"===this.style.boundsAlignV&&(r+=this.textBounds.halfHeight-this.canvas.height/this.resolution/2),this.pivot.x=-o,this.pivot.y=-r}this.renderable=0!==s&&0!==n,this.texture.requiresReTint=!0,this.texture.baseTexture.dirty()},i.Text.prototype._renderWebGL=function(t){this.dirty&&(this.updateText(),this.dirty=!1),PIXI.Sprite.prototype._renderWebGL.call(this,t)},i.Text.prototype._renderCanvas=function(t){this.dirty&&(this.updateText(),this.dirty=!1),PIXI.Sprite.prototype._renderCanvas.call(this,t)},i.Text.prototype.determineFontProperties=function(t){var e=i.Text.fontPropertiesCache[t];if(!e){e={};var s=i.Text.fontPropertiesCanvas,n=i.Text.fontPropertiesContext;n.font=t;var o=Math.ceil(n.measureText("|MÉq").width),r=Math.ceil(n.measureText("|MÉq").width),a=2*r;if(r=1.4*r|0,s.width=o,s.height=a,n.fillStyle="#f00",n.fillRect(0,0,o,a),n.font=t,n.textBaseline="alphabetic",n.fillStyle="#000",n.fillText("|MÉq",0,r),!n.getImageData(0,0,o,a))return e.ascent=r,e.descent=r+6,e.fontSize=e.ascent+e.descent,i.Text.fontPropertiesCache[t]=e,e;var h,l,c=n.getImageData(0,0,o,a).data,u=c.length,d=4*o,p=0,f=!1;for(h=0;h<r;h++){for(l=0;l<d;l+=4)if(255!==c[p+l]){f=!0;break}if(f)break;p+=d}for(e.ascent=r-h,p=u-d,f=!1,h=a;h>r;h--){for(l=0;l<d;l+=4)if(255!==c[p+l]){f=!0;break}if(f)break;p-=d}e.descent=h-r,e.descent+=6,e.fontSize=e.ascent+e.descent,i.Text.fontPropertiesCache[t]=e}return e},i.Text.prototype.getBounds=function(t){return this.dirty&&(this.updateText(),this.dirty=!1),PIXI.Sprite.prototype.getBounds.call(this,t)},i.Text.prototype.setCharacterLimit=function(t,e){this.characterLimitSuffix=void 0===e?"":e,this.characterLimitSize=t,this.updateText()},Object.defineProperty(i.Text.prototype,"text",{get:function(){return this._text},set:function(t){t!==this._text&&(this._text=t.toString()||"",this.dirty=!0,this.parent&&this.updateTransform())}}),Object.defineProperty(i.Text.prototype,"cssFont",{get:function(){return this.componentsToFont(this._fontComponents)},set:function(t){t=t||"bold 20pt Arial",this._fontComponents=this.fontToComponents(t),this.updateFont(this._fontComponents)}}),Object.defineProperty(i.Text.prototype,"font",{get:function(){return this._fontComponents.fontFamily},set:function(t){t=(t=t||"Arial").trim(),/^(?:inherit|serif|sans-serif|cursive|fantasy|monospace)$/.exec(t)||/['",]/.exec(t)||(t="'"+t+"'"),this._fontComponents.fontFamily=t,this.updateFont(this._fontComponents)}}),Object.defineProperty(i.Text.prototype,"fontSize",{get:function(){var t=this._fontComponents.fontSize;return t&&/(?:^0$|px$)/.exec(t)?parseInt(t,10):t},set:function(t){"number"==typeof(t=t||"0")&&(t+="px"),this._fontComponents.fontSize=t,this.updateFont(this._fontComponents)}}),Object.defineProperty(i.Text.prototype,"fontWeight",{get:function(){return this._fontComponents.fontWeight||"normal"},set:function(t){t=t||"normal",this._fontComponents.fontWeight=t,this.updateFont(this._fontComponents)}}),Object.defineProperty(i.Text.prototype,"fontStyle",{get:function(){return this._fontComponents.fontStyle||"normal"},set:function(t){t=t||"normal",this._fontComponents.fontStyle=t,this.updateFont(this._fontComponents)}}),Object.defineProperty(i.Text.prototype,"fontVariant",{get:function(){return this._fontComponents.fontVariant||"normal"},set:function(t){t=t||"normal",this._fontComponents.fontVariant=t,this.updateFont(this._fontComponents)}}),Object.defineProperty(i.Text.prototype,"fill",{get:function(){return this.style.fill},set:function(t){t!==this.style.fill&&(this.style.fill=t,this.dirty=!0)}}),Object.defineProperty(i.Text.prototype,"align",{get:function(){return this.style.align},set:function(t){(t=t.toLowerCase())!==this.style.align&&(this.style.align=t,this.dirty=!0)}}),Object.defineProperty(i.Text.prototype,"resolution",{get:function(){return this._res},set:function(t){t!==this._res&&(this._res=t,this.dirty=!0)}}),Object.defineProperty(i.Text.prototype,"tabs",{get:function(){return this.style.tabs},set:function(t){t!==this.style.tabs&&(this.style.tabs=t,this.dirty=!0)}}),Object.defineProperty(i.Text.prototype,"boundsAlignH",{get:function(){return this.style.boundsAlignH},set:function(t){(t=t.toLowerCase())!==this.style.boundsAlignH&&(this.style.boundsAlignH=t,this.dirty=!0)}}),Object.defineProperty(i.Text.prototype,"boundsAlignV",{get:function(){return this.style.boundsAlignV},set:function(t){(t=t.toLowerCase())!==this.style.boundsAlignV&&(this.style.boundsAlignV=t,this.dirty=!0)}}),Object.defineProperty(i.Text.prototype,"stroke",{get:function(){return this.style.stroke},set:function(t){t!==this.style.stroke&&(this.style.stroke=t,this.dirty=!0)}}),Object.defineProperty(i.Text.prototype,"strokeThickness",{get:function(){return this.style.strokeThickness},set:function(t){t!==this.style.strokeThickness&&(this.style.strokeThickness=Number(t),this.dirty=!0)}}),Object.defineProperty(i.Text.prototype,"wordWrap",{get:function(){return this.style.wordWrap},set:function(t){t!==this.style.wordWrap&&(this.style.wordWrap=t,this.dirty=!0)}}),Object.defineProperty(i.Text.prototype,"wordWrapWidth",{get:function(){return this.style.wordWrapWidth},set:function(t){t!==this.style.wordWrapWidth&&(this.style.wordWrapWidth=t,this.dirty=!0)}}),Object.defineProperty(i.Text.prototype,"lineSpacing",{get:function(){return this._lineSpacing},set:function(t){t!==this._lineSpacing&&(this._lineSpacing=parseFloat(t),this.dirty=!0,this.parent&&this.updateTransform())}}),Object.defineProperty(i.Text.prototype,"shadowOffsetX",{get:function(){return this.style.shadowOffsetX},set:function(t){t!==this.style.shadowOffsetX&&(this.style.shadowOffsetX=t,this.dirty=!0)}}),Object.defineProperty(i.Text.prototype,"shadowOffsetY",{get:function(){return this.style.shadowOffsetY},set:function(t){t!==this.style.shadowOffsetY&&(this.style.shadowOffsetY=t,this.dirty=!0)}}),Object.defineProperty(i.Text.prototype,"shadowColor",{get:function(){return this.style.shadowColor},set:function(t){t!==this.style.shadowColor&&(this.style.shadowColor=t,this.dirty=!0)}}),Object.defineProperty(i.Text.prototype,"shadowBlur",{get:function(){return this.style.shadowBlur},set:function(t){t!==this.style.shadowBlur&&(this.style.shadowBlur=t,this.dirty=!0)}}),Object.defineProperty(i.Text.prototype,"shadowStroke",{get:function(){return this.style.shadowStroke},set:function(t){t!==this.style.shadowStroke&&(this.style.shadowStroke=t,this.dirty=!0)}}),Object.defineProperty(i.Text.prototype,"shadowFill",{get:function(){return this.style.shadowFill},set:function(t){t!==this.style.shadowFill&&(this.style.shadowFill=t,this.dirty=!0)}}),Object.defineProperty(i.Text.prototype,"width",{get:function(){return this.dirty&&(this.updateText(),this.dirty=!1),this.scale.x*(this.texture.frame.width/this.resolution)},set:function(t){this.scale.x=t/this.texture.frame.width,this._width=t}}),Object.defineProperty(i.Text.prototype,"height",{get:function(){return this.dirty&&(this.updateText(),this.dirty=!1),this.scale.y*(this.texture.frame.height/this.resolution)},set:function(t){this.scale.y=t/this.texture.frame.height,this._height=t}}),i.Text.fontPropertiesCache={},i.Text.fontPropertiesCanvas=document.createElement("canvas"),i.Text.fontPropertiesContext=i.Text.fontPropertiesCanvas.getContext("2d"),i.BitmapText=function(t,e,s,n,o,r,a){e=e||0,s=s||0,n=n||"",o=o||"",r=r||32,a=a||"left",PIXI.DisplayObjectContainer.call(this),this.type=i.BITMAPTEXT,this.physicsType=i.SPRITE,this.textWidth=0,this.textHeight=0,this.anchor=new i.Point,this._prevAnchor=new i.Point,this._glyphs=[],this._maxWidth=0,this._text=o.toString()||"",this._data=t.cache.getBitmapFont(n),this._font=n,this._fontSize=r,this._align=a,this._tint=16777215,this.updateText(),this.dirty=!1,i.Component.Core.init.call(this,t,e,s,"",null)},i.BitmapText.prototype=Object.create(PIXI.DisplayObjectContainer.prototype),i.BitmapText.prototype.constructor=i.BitmapText,i.Component.Core.install.call(i.BitmapText.prototype,["Angle","AutoCull","Bounds","Destroy","FixedToCamera","InputEnabled","InWorld","LifeSpan","PhysicsBody","Reset"]),i.BitmapText.prototype.preUpdatePhysics=i.Component.PhysicsBody.preUpdate,i.BitmapText.prototype.preUpdateLifeSpan=i.Component.LifeSpan.preUpdate,i.BitmapText.prototype.preUpdateInWorld=i.Component.InWorld.preUpdate,i.BitmapText.prototype.preUpdateCore=i.Component.Core.preUpdate,i.BitmapText.prototype.preUpdate=function(){return!!(this.preUpdatePhysics()&&this.preUpdateLifeSpan()&&this.preUpdateInWorld())&&this.preUpdateCore()},i.BitmapText.prototype.postUpdate=function(){i.Component.PhysicsBody.postUpdate.call(this),i.Component.FixedToCamera.postUpdate.call(this),this.body&&this.body.type===i.Physics.ARCADE&&(this.textWidth===this.body.sourceWidth&&this.textHeight===this.body.sourceHeight||this.body.setSize(this.textWidth,this.textHeight))},i.BitmapText.prototype.setText=function(t){this.text=t},i.BitmapText.prototype.scanLine=function(t,e,i){for(var s=0,n=0,o=-1,r=0,a=null,h=this._maxWidth>0?this._maxWidth:null,l=[],c=0;c<i.length;c++){var u=c===i.length-1;if(/(?:\r\n|\r|\n)/.test(i.charAt(c)))return{width:n,text:i.substr(0,c),end:u,chars:l};var d=i.charCodeAt(c),p=t.chars[d],f=0;void 0===p&&(d=32,p=t.chars[d]);var m=a&&p.kerning[a]?p.kerning[a]:0;if(/(\s)/.test(i.charAt(c))&&(o=c,r=n),f=(m+p.texture.width+p.xOffset)*e,h&&n+f>=h&&o>-1)return{width:r||n,text:i.substr(0,c-(c-o)),end:!1,chars:l};n+=(p.xAdvance+m)*e,l.push(s+(p.xOffset+m)*e),s+=(p.xAdvance+m)*e,a=d}return{width:n,text:i,end:u,chars:l}},i.BitmapText.prototype.cleanText=function(t,e){void 0===e&&(e="");var i=this._data.font;if(!i)return"";for(var s=/\r\n|\n\r|\n|\r/g,n=t.replace(s,"\n").split("\n"),o=0;o<n.length;o++){for(var r="",a=n[o],h=0;h<a.length;h++)r=i.chars[a.charCodeAt(h)]?r.concat(a[h]):r.concat(e);n[o]=r}return n.join("\n")},i.BitmapText.prototype.updateText=function(){var t=this._data.font;if(t){var e=this.text,i=this._fontSize/t.size,s=[],n=0;this.textWidth=0;do{(c=this.scanLine(t,i,e)).y=n,s.push(c),c.width>this.textWidth&&(this.textWidth=c.width),n+=t.lineHeight*i,e=e.substr(c.text.length+1)}while(!1===c.end);this.textHeight=n;for(var o=0,r=0,a=this.textWidth*this.anchor.x,h=this.textHeight*this.anchor.y,l=0;l<s.length;l++){var c=s[l];"right"===this._align?r=this.textWidth-c.width:"center"===this._align&&(r=(this.textWidth-c.width)/2);for(var u=0;u<c.text.length;u++){var d=c.text.charCodeAt(u),p=t.chars[d];void 0===p&&(d=32,p=t.chars[d]);var f=this._glyphs[o];f?f.texture=p.texture:((f=new PIXI.Sprite(p.texture)).name=c.text[u],this._glyphs.push(f)),f.position.x=c.chars[u]+r-a,f.position.y=c.y+p.yOffset*i-h,f.scale.set(i),f.tint=this.tint,f.texture.requiresReTint=!0,f.cachedTint=16777215,f.parent||this.addChild(f),o++}}for(l=o;l<this._glyphs.length;l++)this.removeChild(this._glyphs[l])}},i.BitmapText.prototype.purgeGlyphs=function(){for(var t=this._glyphs.length,e=[],i=0;i<this._glyphs.length;i++)this._glyphs[i].parent!==this?this._glyphs[i].destroy():e.push(this._glyphs[i]);return this._glyphs=[],this._glyphs=e,this.updateText(),t-e.length},i.BitmapText.prototype.updateTransform=function(){!this.dirty&&this.anchor.equals(this._prevAnchor)||(this.updateText(),this.dirty=!1,this._prevAnchor.copyFrom(this.anchor)),PIXI.DisplayObjectContainer.prototype.updateTransform.call(this)},Object.defineProperty(i.BitmapText.prototype,"align",{get:function(){return this._align},set:function(t){t===this._align||"left"!==t&&"center"!==t&&"right"!==t||(this._align=t,this.updateText())}}),Object.defineProperty(i.BitmapText.prototype,"tint",{get:function(){return this._tint},set:function(t){t!==this._tint&&(this._tint=t,this.updateText())}}),Object.defineProperty(i.BitmapText.prototype,"font",{get:function(){return this._font},set:function(t){t!==this._font&&(this._font=t.trim(),this._data=this.game.cache.getBitmapFont(this._font),this.updateText())}}),Object.defineProperty(i.BitmapText.prototype,"fontSize",{get:function(){return this._fontSize},set:function(t){(t=parseInt(t,10))!==this._fontSize&&t>0&&(this._fontSize=t,this.updateText())}}),Object.defineProperty(i.BitmapText.prototype,"text",{get:function(){return this._text},set:function(t){t!==this._text&&(this._text=t.toString()||"",this.updateText())}}),Object.defineProperty(i.BitmapText.prototype,"maxWidth",{get:function(){return this._maxWidth},set:function(t){t!==this._maxWidth&&(this._maxWidth=t,this.updateText())}}),Object.defineProperty(i.BitmapText.prototype,"smoothed",{get:function(){return!this._data.base.scaleMode},set:function(t){this._data.base.scaleMode=t?0:1}}),i.RetroFont=function(t,e,s,n,o,r,a,h,l,c){if(!t.cache.checkImageKey(e))return!1;void 0!==r&&null!==r||(r=t.cache.getImage(e).width/s),this.characterWidth=s,this.characterHeight=n,this.characterSpacingX=a||0,this.characterSpacingY=h||0,this.characterPerRow=r,this.offsetX=l||0,this.offsetY=c||0,this.align="left",this.multiLine=!1,this.autoUpperCase=!0,this.customSpacingX=0,this.customSpacingY=0,this.fixedWidth=0,this.fontSet=t.cache.getImage(e),this._text="",this.grabData=[],this.frameData=new i.FrameData;for(var u=this.offsetX,d=this.offsetY,p=0,f=0;f<o.length;f++){var m=this.frameData.addFrame(new i.Frame(f,u,d,this.characterWidth,this.characterHeight));this.grabData[o.charCodeAt(f)]=m.index,++p===this.characterPerRow?(p=0,u=this.offsetX,d+=this.characterHeight+this.characterSpacingY):u+=this.characterWidth+this.characterSpacingX}t.cache.updateFrameData(e,this.frameData),this.stamp=new i.Image(t,0,0,e,0),i.RenderTexture.call(this,t,100,100,"",i.scaleModes.NEAREST),this.type=i.RETROFONT},i.RetroFont.prototype=Object.create(i.RenderTexture.prototype),i.RetroFont.prototype.constructor=i.RetroFont,i.RetroFont.ALIGN_LEFT="left",i.RetroFont.ALIGN_RIGHT="right",i.RetroFont.ALIGN_CENTER="center",i.RetroFont.TEXT_SET1=" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",i.RetroFont.TEXT_SET2=" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ",i.RetroFont.TEXT_SET3="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ",i.RetroFont.TEXT_SET4="ABCDEFGHIJKLMNOPQRSTUVWXYZ 0123456789",i.RetroFont.TEXT_SET5="ABCDEFGHIJKLMNOPQRSTUVWXYZ.,/() '!?-*:0123456789",i.RetroFont.TEXT_SET6="ABCDEFGHIJKLMNOPQRSTUVWXYZ!?:;0123456789\"(),-.' ",i.RetroFont.TEXT_SET7="AGMSY+:4BHNTZ!;5CIOU.?06DJPV,(17EKQW\")28FLRX-'39",i.RetroFont.TEXT_SET8="0123456789 .ABCDEFGHIJKLMNOPQRSTUVWXYZ",i.RetroFont.TEXT_SET9="ABCDEFGHIJKLMNOPQRSTUVWXYZ()-0123456789.:,'\"?!",i.RetroFont.TEXT_SET10="ABCDEFGHIJKLMNOPQRSTUVWXYZ",i.RetroFont.TEXT_SET11="ABCDEFGHIJKLMNOPQRSTUVWXYZ.,\"-+!?()':;0123456789",i.RetroFont.prototype.setFixedWidth=function(t,e){void 0===e&&(e="left"),this.fixedWidth=t,this.align=e},i.RetroFont.prototype.setText=function(t,e,i,s,n,o){this.multiLine=e||!1,this.customSpacingX=i||0,this.customSpacingY=s||0,this.align=n||"left",this.autoUpperCase=!o,t.length>0&&(this.text=t)},i.RetroFont.prototype.buildRetroFontText=function(){var t=0,e=0;if(this.clear(),this.multiLine){var s=this._text.split("\n");this.fixedWidth>0?this.resize(this.fixedWidth,s.length*(this.characterHeight+this.customSpacingY)-this.customSpacingY,!0):this.resize(this.getLongestLine()*(this.characterWidth+this.customSpacingX),s.length*(this.characterHeight+this.customSpacingY)-this.customSpacingY,!0);for(var n=0;n<s.length;n++)t=0,this.align===i.RetroFont.ALIGN_RIGHT?t=this.width-s[n].length*(this.characterWidth+this.customSpacingX):this.align===i.RetroFont.ALIGN_CENTER&&(t=this.width/2-s[n].length*(this.characterWidth+this.customSpacingX)/2,t+=this.customSpacingX/2),t<0&&(t=0),this.pasteLine(s[n],t,e,this.customSpacingX),e+=this.characterHeight+this.customSpacingY}else this.fixedWidth>0?this.resize(this.fixedWidth,this.characterHeight,!0):this.resize(this._text.length*(this.characterWidth+this.customSpacingX),this.characterHeight,!0),t=0,this.align===i.RetroFont.ALIGN_RIGHT?t=this.width-this._text.length*(this.characterWidth+this.customSpacingX):this.align===i.RetroFont.ALIGN_CENTER&&(t=this.width/2-this._text.length*(this.characterWidth+this.customSpacingX)/2,t+=this.customSpacingX/2),t<0&&(t=0),this.pasteLine(this._text,t,0,this.customSpacingX);this.requiresReTint=!0},i.RetroFont.prototype.pasteLine=function(t,e,i,s){for(var n=0;n<t.length;n++)if(" "===t.charAt(n))e+=this.characterWidth+s;else if(this.grabData[t.charCodeAt(n)]>=0&&(this.stamp.frame=this.grabData[t.charCodeAt(n)],this.renderXY(this.stamp,e,i,!1),(e+=this.characterWidth+s)>this.width))break},i.RetroFont.prototype.getLongestLine=function(){var t=0;if(this._text.length>0)for(var e=this._text.split("\n"),i=0;i<e.length;i++)e[i].length>t&&(t=e[i].length);return t},i.RetroFont.prototype.removeUnsupportedCharacters=function(t){for(var e="",i=0;i<this._text.length;i++){var s=this._text[i],n=s.charCodeAt(0);(this.grabData[n]>=0||!t&&"\n"===s)&&(e=e.concat(s))}return e},i.RetroFont.prototype.updateOffset=function(t,e){if(this.offsetX!==t||this.offsetY!==e){for(var i=t-this.offsetX,s=e-this.offsetY,n=this.game.cache.getFrameData(this.stamp.key).getFrames(),o=n.length;o--;)n[o].x+=i,n[o].y+=s;this.buildRetroFontText()}},Object.defineProperty(i.RetroFont.prototype,"text",{get:function(){return this._text},set:function(t){var e;(e=this.autoUpperCase?t.toUpperCase():t)!==this._text&&(this._text=e,this.removeUnsupportedCharacters(this.multiLine),this.buildRetroFontText())}}),Object.defineProperty(i.RetroFont.prototype,"smoothed",{get:function(){return this.stamp.smoothed},set:function(t){this.stamp.smoothed=t,this.buildRetroFontText()}}),i.Rope=function(t,e,s,n,o,r){this.points=r||[],this._hasUpdateAnimation=!1,this._updateAnimationCallback=null,e=e||0,s=s||0,n=n||null,o=o||null,this.type=i.ROPE,PIXI.DisplayObjectContainer.call(this),this.texture=i.Cache.DEFAULT,this.uvs=new Float32Array([0,1,1,1,1,0,0,1]),this.vertices=new Float32Array([0,0,100,0,100,100,0,100]),this.colors=new Float32Array([1,1,1,1]),this.indices=new Uint16Array([0,1,2,3]),r&&(this.vertices=new Float32Array(4*r.length),this.uvs=new Float32Array(4*r.length),this.colors=new Float32Array(2*r.length),this.indices=new Uint16Array(2*r.length)),this.dirty=!0,this.canvasPadding=0,this.drawMode=i.Rope.TRIANGLE_STRIP,i.Component.Core.init.call(this,t,e,s,n,o),this.refresh()},i.Rope.prototype=Object.create(PIXI.DisplayObjectContainer.prototype),i.Rope.prototype.constructor=i.Rope,i.Component.Core.install.call(i.Rope.prototype,["Angle","Animation","AutoCull","Bounds","BringToTop","Crop","Delta","Destroy","FixedToCamera","InWorld","LifeSpan","LoadTexture","Overlap","PhysicsBody","Reset","ScaleMinMax","Smoothed"]),i.Rope.prototype.preUpdatePhysics=i.Component.PhysicsBody.preUpdate,i.Rope.prototype.preUpdateLifeSpan=i.Component.LifeSpan.preUpdate,i.Rope.prototype.preUpdateInWorld=i.Component.InWorld.preUpdate,i.Rope.prototype.preUpdateCore=i.Component.Core.preUpdate,i.Rope.TRIANGLE_STRIP=0,i.Rope.TRIANGLES=1,i.Rope.prototype.preUpdate=function(){return!!(this.preUpdatePhysics()&&this.preUpdateLifeSpan()&&this.preUpdateInWorld())&&this.preUpdateCore()},i.Rope.prototype.update=function(){this._hasUpdateAnimation&&this.updateAnimation.call(this)},i.Rope.prototype.reset=function(t,e){return i.Component.Reset.prototype.reset.call(this,t,e),this},i.Rope.prototype.refresh=function(){var t=this.points;if(!(t.length<1)){var e=this.uvs,i=this.indices,s=this.colors;this.count-=.2,e[0]=0,e[1]=0,e[2]=0,e[3]=1,s[0]=1,s[1]=1,i[0]=0,i[1]=1;for(var n,o,r=t.length,a=1;a<r;a++)o=a/(r-1),e[n=4*a]=o,e[n+1]=0,e[n+2]=o,e[n+3]=1,s[n=2*a]=1,s[n+1]=1,i[n=2*a]=n,i[n+1]=n+1}},i.Rope.prototype.updateTransform=function(){var t=this.points;if(!(t.length<1)){var e,i=t[0],s={x:0,y:0};this.count-=.2;for(var n,o,r,a,h=this.vertices,l=t.length,c=0;c<l;c++)n=t[c],o=4*c,e=c<t.length-1?t[c+1]:n,s.y=-(e.x-i.x),s.x=e.y-i.y,10*(1-c/(l-1))>1&&1,r=Math.sqrt(s.x*s.x+s.y*s.y),a=this.texture.height/2,s.x/=r,s.y/=r,s.x*=a,s.y*=a,h[o]=n.x+s.x,h[o+1]=n.y+s.y,h[o+2]=n.x-s.x,h[o+3]=n.y-s.y,i=n;PIXI.DisplayObjectContainer.prototype.updateTransform.call(this)}},i.Rope.prototype.setTexture=function(t){this.texture=t},i.Rope.prototype._renderWebGL=function(t){!this.visible||this.alpha<=0||(t.spriteBatch.stop(),this._vertexBuffer||this._initWebGL(t),t.shaderManager.setShader(t.shaderManager.stripShader),this._renderStrip(t),t.spriteBatch.start())},i.Rope.prototype._initWebGL=function(t){var e=t.gl;this._vertexBuffer=e.createBuffer(),this._indexBuffer=e.createBuffer(),this._uvBuffer=e.createBuffer(),this._colorBuffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,this._vertexBuffer),e.bufferData(e.ARRAY_BUFFER,this.vertices,e.DYNAMIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,this._uvBuffer),e.bufferData(e.ARRAY_BUFFER,this.uvs,e.STATIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,this._colorBuffer),e.bufferData(e.ARRAY_BUFFER,this.colors,e.STATIC_DRAW),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this._indexBuffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,this.indices,e.STATIC_DRAW)},i.Rope.prototype._renderStrip=function(t){var e=t.gl,s=t.projection,n=t.offset,o=t.shaderManager.stripShader,r=this.drawMode===i.Rope.TRIANGLE_STRIP?e.TRIANGLE_STRIP:e.TRIANGLES;t.blendModeManager.setBlendMode(this.blendMode),e.uniformMatrix3fv(o.translationMatrix,!1,this.worldTransform.toArray(!0)),e.uniform2f(o.projectionVector,s.x,-s.y),e.uniform2f(o.offsetVector,-n.x,-n.y),e.uniform1f(o.alpha,this.worldAlpha),this.dirty?(this.dirty=!1,e.bindBuffer(e.ARRAY_BUFFER,this._vertexBuffer),e.bufferData(e.ARRAY_BUFFER,this.vertices,e.STATIC_DRAW),e.vertexAttribPointer(o.aVertexPosition,2,e.FLOAT,!1,0,0),e.bindBuffer(e.ARRAY_BUFFER,this._uvBuffer),e.bufferData(e.ARRAY_BUFFER,this.uvs,e.STATIC_DRAW),e.vertexAttribPointer(o.aTextureCoord,2,e.FLOAT,!1,0,0),e.activeTexture(e.TEXTURE0),this.texture.baseTexture._dirty[e.id]?t.renderer.updateTexture(this.texture.baseTexture):e.bindTexture(e.TEXTURE_2D,this.texture.baseTexture._glTextures[e.id]),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this._indexBuffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,this.indices,e.STATIC_DRAW)):(e.bindBuffer(e.ARRAY_BUFFER,this._vertexBuffer),e.bufferSubData(e.ARRAY_BUFFER,0,this.vertices),e.vertexAttribPointer(o.aVertexPosition,2,e.FLOAT,!1,0,0),e.bindBuffer(e.ARRAY_BUFFER,this._uvBuffer),e.vertexAttribPointer(o.aTextureCoord,2,e.FLOAT,!1,0,0),e.activeTexture(e.TEXTURE0),this.texture.baseTexture._dirty[e.id]?t.renderer.updateTexture(this.texture.baseTexture):e.bindTexture(e.TEXTURE_2D,this.texture.baseTexture._glTextures[e.id]),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this._indexBuffer)),e.drawElements(r,this.indices.length,e.UNSIGNED_SHORT,0)},i.Rope.prototype._renderCanvas=function(t){var e=t.context,s=this.worldTransform,n=s.tx*t.resolution+t.shakeX,o=s.ty*t.resolution+t.shakeY;t.roundPixels?e.setTransform(s.a,s.b,s.c,s.d,0|n,0|o):e.setTransform(s.a,s.b,s.c,s.d,n,o),this.drawMode===i.Rope.TRIANGLE_STRIP?this._renderCanvasTriangleStrip(e):this._renderCanvasTriangles(e)},i.Rope.prototype._renderCanvasTriangleStrip=function(t){var e=this.vertices,i=this.uvs,s=e.length/2;this.count++;for(var n=0;n<s-2;n++){var o=2*n;this._renderCanvasDrawTriangle(t,e,i,o,o+2,o+4)}},i.Rope.prototype._renderCanvasTriangles=function(t){var e=this.vertices,i=this.uvs,s=this.indices,n=s.length;this.count++;for(var o=0;o<n;o+=3){var r=2*s[o],a=2*s[o+1],h=2*s[o+2];this._renderCanvasDrawTriangle(t,e,i,r,a,h)}},i.Rope.prototype._renderCanvasDrawTriangle=function(t,e,i,s,n,o){var r=this.texture.baseTexture.source,a=this.texture.width,h=this.texture.height,l=e[s],c=e[n],u=e[o],d=e[s+1],p=e[n+1],f=e[o+1],m=i[s]*a,g=i[n]*a,y=i[o]*a,v=i[s+1]*h,x=i[n+1]*h,b=i[o+1]*h;if(this.canvasPadding>0){var _=this.canvasPadding/this.worldTransform.a,w=this.canvasPadding/this.worldTransform.d,T=(l+c+u)/3,P=(d+p+f)/3,C=l-T,S=d-P,k=Math.sqrt(C*C+S*S);l=T+C/k*(k+_),d=P+S/k*(k+w),S=p-P,c=T+(C=c-T)/(k=Math.sqrt(C*C+S*S))*(k+_),p=P+S/k*(k+w),S=f-P,u=T+(C=u-T)/(k=Math.sqrt(C*C+S*S))*(k+_),f=P+S/k*(k+w)}t.save(),t.beginPath(),t.moveTo(l,d),t.lineTo(c,p),t.lineTo(u,f),t.closePath(),t.clip();var A=m*x+v*y+g*b-x*y-v*g-m*b,M=l*x+v*u+c*b-x*u-v*c-l*b,O=m*c+l*y+g*u-c*y-l*g-m*u,I=m*x*u+v*c*y+l*g*b-l*x*y-v*g*u-m*c*b,E=d*x+v*f+p*b-x*f-v*p-d*b,R=m*p+d*y+g*f-p*y-d*g-m*f,L=m*x*f+v*p*y+d*g*b-d*x*y-v*g*f-m*p*b;t.transform(M/A,E/A,O/A,R/A,I/A,L/A),t.drawImage(r,0,0),t.restore()},i.Rope.prototype.renderStripFlat=function(t){var e=this.context,i=t.vertices,s=i.length/2;this.count++,e.beginPath();for(var n=1;n<s-2;n++){var o=2*n,r=i[o],a=i[o+2],h=i[o+4],l=i[o+1],c=i[o+3],u=i[o+5];e.moveTo(r,l),e.lineTo(a,c),e.lineTo(h,u)}e.fillStyle="#FF0000",e.fill(),e.closePath()},i.Rope.prototype.getBounds=function(t){for(var e=t||this.worldTransform,i=e.a,s=e.b,n=e.c,o=e.d,r=e.tx,a=e.ty,h=-1/0,l=-1/0,c=1/0,u=1/0,d=this.vertices,p=0;p<d.length;p+=2){var f=d[p],m=d[p+1],g=i*f+n*m+r,y=o*m+s*f+a;c=g<c?g:c,u=y<u?y:u,h=g>h?g:h,l=y>l?y:l}if(c===-1/0||l===1/0)return PIXI.EmptyRectangle;var v=this._bounds;return v.x=c,v.width=h-c,v.y=u,v.height=l-u,this._currentBounds=v,v},Object.defineProperty(i.Rope.prototype,"updateAnimation",{get:function(){return this._updateAnimation},set:function(t){t&&"function"==typeof t?(this._hasUpdateAnimation=!0,this._updateAnimation=t):(this._hasUpdateAnimation=!1,this._updateAnimation=null)}}),Object.defineProperty(i.Rope.prototype,"segments",{get:function(){for(var t,e,s,n,o,r,a,h,l=[],c=0;c<this.points.length;c++)t=4*c,e=this.vertices[t]*this.scale.x,s=this.vertices[t+1]*this.scale.y,n=this.vertices[t+4]*this.scale.x,o=this.vertices[t+3]*this.scale.y,r=i.Math.difference(e,n),a=i.Math.difference(s,o),e+=this.world.x,s+=this.world.y,h=new i.Rectangle(e,s,r,a),l.push(h);return l}}),i.TileSprite=function(t,e,s,n,o,r,a){e=e||0,s=s||0,n=n||256,o=o||256,r=r||null,a=a||null,PIXI.Sprite.call(this,new PIXI.Texture(i.Cache.DEFAULT.baseTexture),n,o),this.type=i.TILESPRITE,this.physicsType=i.SPRITE,this._scroll=new i.Point,this.tileScale=new i.Point(1,1),this.tileScaleOffset=new i.Point(1,1),this.tilePosition=new i.Point,this.textureDebug=!1,this.canvasBuffer=null,this.tilingTexture=null,this.tilePattern=null,this.refreshTexture=!0,this.frameWidth=0,this.frameHeight=0,this._width=n,this._height=o,i.Component.Core.init.call(this,t,e,s,r,a)},i.TileSprite.prototype=Object.create(PIXI.Sprite.prototype),i.TileSprite.prototype.constructor=i.TileSprite,i.Component.Core.install.call(i.TileSprite.prototype,["Angle","Animation","AutoCull","Bounds","BringToTop","Destroy","FixedToCamera","Health","InCamera","InputEnabled","InWorld","LifeSpan","LoadTexture","Overlap","PhysicsBody","Reset","Smoothed"]),i.TileSprite.prototype.preUpdatePhysics=i.Component.PhysicsBody.preUpdate,i.TileSprite.prototype.preUpdateLifeSpan=i.Component.LifeSpan.preUpdate,i.TileSprite.prototype.preUpdateInWorld=i.Component.InWorld.preUpdate,i.TileSprite.prototype.preUpdateCore=i.Component.Core.preUpdate,i.TileSprite.prototype.preUpdate=function(){return 0!==this._scroll.x&&(this.tilePosition.x+=this._scroll.x*this.game.time.physicsElapsed),0!==this._scroll.y&&(this.tilePosition.y+=this._scroll.y*this.game.time.physicsElapsed),!!(this.preUpdatePhysics()&&this.preUpdateLifeSpan()&&this.preUpdateInWorld())&&this.preUpdateCore()},i.TileSprite.prototype.autoScroll=function(t,e){return this._scroll.set(t,e),this},i.TileSprite.prototype.stopScroll=function(){return this._scroll.set(0,0),this},i.TileSprite.prototype.destroy=function(t){i.Component.Destroy.prototype.destroy.call(this,t),PIXI.Sprite.prototype.destroy.call(this),this.canvasBuffer&&(this.canvasBuffer.destroy(),this.canvasBuffer=null),this.tileScale=null,this.tileScaleOffset=null,this.tilePosition=null,this.tilingTexture&&(this.tilingTexture.destroy(!0),this.tilingTexture=null)},i.TileSprite.prototype.reset=function(t,e){return i.Component.Reset.prototype.reset.call(this,t,e),this.tilePosition.x=0,this.tilePosition.y=0,this},i.TileSprite.prototype.setTexture=function(t){return this.texture!==t&&(this.texture=t,this.refreshTexture=!0,this.cachedTint=16777215),this},i.TileSprite.prototype._renderWebGL=function(t){if(this.visible&&this.renderable&&0!==this.alpha){if(this._mask&&(t.spriteBatch.stop(),t.maskManager.pushMask(this.mask,t),t.spriteBatch.start()),this._filters&&(t.spriteBatch.flush(),t.filterManager.pushFilter(this._filterBlock)),this.refreshTexture){if(this.generateTilingTexture(!0,t),!this.tilingTexture)return;this.tilingTexture.needsUpdate&&(this.tilingTexture.baseTexture.textureIndex=this.texture.baseTexture.textureIndex,t.renderer.updateTexture(this.tilingTexture.baseTexture),this.tilingTexture.needsUpdate=!1)}t.spriteBatch.renderTilingSprite(this);for(var e=0;e<this.children.length;e++)this.children[e]._renderWebGL(t);var i=!1;this._filters&&(i=!0,t.spriteBatch.stop(),t.filterManager.popFilter()),this._mask&&(i||t.spriteBatch.stop(),t.maskManager.popMask(this._mask,t)),i&&t.spriteBatch.start()}},i.TileSprite.prototype._renderCanvas=function(t){if(this.visible&&this.renderable&&0!==this.alpha){var e=t.context;this._mask&&t.maskManager.pushMask(this._mask,t),e.globalAlpha=this.worldAlpha;var i=this.worldTransform,s=t.resolution,n=i.tx*s+t.shakeX,o=i.ty*s+t.shakeY;if(e.setTransform(i.a*s,i.b*s,i.c*s,i.d*s,n,o),16777215===this.tint||!this.texture.requiresReTint&&this.cachedTint===this.tint||(this.tintedTexture=PIXI.CanvasTinter.getTintedTexture(this,this.tint),this.cachedTint=this.tint,this.texture.requiresReTint=!1,this.refreshTexture=!0),this.refreshTexture){if(this.generateTilingTexture(!1,t),!this.tilingTexture)return;this.tilePattern=e.createPattern(this.tilingTexture.baseTexture.source,"repeat")}var r=t.currentBlendMode;this.blendMode!==t.currentBlendMode&&(t.currentBlendMode=this.blendMode,e.globalCompositeOperation=PIXI.blendModesCanvas[t.currentBlendMode]);var a=this.tilePosition,h=this.tileScale;a.x%=this.tilingTexture.baseTexture.width,a.y%=this.tilingTexture.baseTexture.height,e.scale(h.x,h.y),e.translate(a.x+this.anchor.x*-this._width,a.y+this.anchor.y*-this._height),e.fillStyle=this.tilePattern,n=-a.x,o=-a.y;var l=this._width/h.x,c=this._height/h.y;t.roundPixels&&(n|=0,o|=0,l|=0,c|=0),e.fillRect(n,o,l,c),e.scale(1/h.x,1/h.y),e.translate(-a.x+this.anchor.x*this._width,-a.y+this.anchor.y*this._height),this._mask&&t.maskManager.popMask(t);for(var u=0;u<this.children.length;u++)this.children[u]._renderCanvas(t);r!==this.blendMode&&(t.currentBlendMode=r,e.globalCompositeOperation=PIXI.blendModesCanvas[r])}},i.TileSprite.prototype.onTextureUpdate=function(){},i.TileSprite.prototype.generateTilingTexture=function(t){if(this.texture.baseTexture.hasLoaded){var e=this.texture,s=e.frame,n=this._frame.sourceSizeW||this._frame.width,o=this._frame.sourceSizeH||this._frame.height,r=0,a=0;this._frame.trimmed&&(r=this._frame.spriteSourceSizeX,a=this._frame.spriteSourceSizeY),t&&(n=i.Math.getNextPowerOfTwo(n),o=i.Math.getNextPowerOfTwo(o)),this.canvasBuffer?(this.canvasBuffer.resize(n,o),this.tilingTexture.baseTexture.width=n,this.tilingTexture.baseTexture.height=o,this.tilingTexture.needsUpdate=!0):(this.canvasBuffer=new PIXI.CanvasBuffer(n,o),this.tilingTexture=PIXI.Texture.fromCanvas(this.canvasBuffer.canvas),this.tilingTexture.isTiling=!0,this.tilingTexture.needsUpdate=!0),this.textureDebug&&(this.canvasBuffer.context.strokeStyle="#00ff00",this.canvasBuffer.context.strokeRect(0,0,n,o));var h=e.crop.width,l=e.crop.height;h===n&&l===o||(h=n,l=o);var c=this.tintedTexture?this.tintedTexture:e.baseTexture.source;this.canvasBuffer.context.drawImage(c,e.crop.x,e.crop.y,e.crop.width,e.crop.height,r,a,h,l),this.tileScaleOffset.x=s.width/n,this.tileScaleOffset.y=s.height/o,this.refreshTexture=!1,this.tilingTexture.baseTexture._powerOf2=!0}},i.TileSprite.prototype.getBounds=function(){var t=this._width,e=this._height,i=t*(1-this.anchor.x),s=t*-this.anchor.x,n=e*(1-this.anchor.y),o=e*-this.anchor.y,r=this.worldTransform,a=r.a,h=r.b,l=r.c,c=r.d,u=r.tx,d=r.ty,p=a*s+l*o+u,f=c*o+h*s+d,m=a*i+l*o+u,g=c*o+h*i+d,y=a*i+l*n+u,v=c*n+h*i+d,x=a*s+l*n+u,b=c*n+h*s+d,_=-1/0,w=-1/0,T=1/0,P=1/0;T=x<(T=y<(T=m<(T=p<T?p:T)?m:T)?y:T)?x:T,P=b<(P=v<(P=g<(P=f<P?f:P)?g:P)?v:P)?b:P,_=x>(_=y>(_=m>(_=p>_?p:_)?m:_)?y:_)?x:_,w=b>(w=v>(w=g>(w=f>w?f:w)?g:w)?v:w)?b:w;var C=this._bounds;return C.x=T,C.width=_-T,C.y=P,C.height=w-P,this._currentBounds=C,C},Object.defineProperty(i.TileSprite.prototype,"width",{get:function(){return this._width},set:function(t){this._width=t}}),Object.defineProperty(i.TileSprite.prototype,"height",{get:function(){return this._height},set:function(t){this._height=t}}),i.CanvasPool={create:function(t,e,s){var n,o=i.CanvasPool.getFirst();if(-1===o){var r={parent:t,canvas:document.createElement("canvas")};i.CanvasPool.pool.push(r),n=r.canvas}else i.CanvasPool.pool[o].parent=t,n=i.CanvasPool.pool[o].canvas;return void 0!==e&&(n.width=e,n.height=s),n},getFirst:function(){for(var t=i.CanvasPool.pool,e=0;e<t.length;e++)if(!t[e].parent)return e;return-1},remove:function(t){for(var e=i.CanvasPool.pool,s=0;s<e.length;s++)e[s].parent===t&&(e[s].parent=null,e[s].canvas.width=1,e[s].canvas.height=1)},removeByCanvas:function(t){for(var e=i.CanvasPool.pool,s=0;s<e.length;s++)e[s].canvas===t&&(e[s].parent=null,e[s].canvas.width=1,e[s].canvas.height=1)},getTotal:function(){for(var t=i.CanvasPool.pool,e=0,s=0;s<t.length;s++)t[s].parent&&e++;return e},getFree:function(){for(var t=i.CanvasPool.pool,e=0,s=0;s<t.length;s++)t[s].parent||e++;return e},log:function(){console.log("CanvasPool: %s used, %s free, %s total",this.getTotal(),this.getFree(),this.pool.length)}},i.CanvasPool.pool=[],Object.defineProperty(i.CanvasPool,"length",{get:function(){return this.pool.length}}),i.Device=function(){this.deviceReadyAt=0,this.initialized=!1,this.desktop=!1,this.iOS=!1,this.iOSVersion=0,this.cocoonJS=!1,this.cocoonJSApp=!1,this.cordova=!1,this.node=!1,this.nodeWebkit=!1,this.electron=!1,this.ejecta=!1,this.crosswalk=!1,this.android=!1,this.chromeOS=!1,this.linux=!1,this.macOS=!1,this.windows=!1,this.windowsPhone=!1,this.canvas=!1,this.canvasBitBltShift=null,this.canHandleAlpha=!1,this.canUseMultiply=!1,this.webGL=!1,this.webGLError=null,this.file=!1,this.fileSystem=!1,this.localStorage=!1,this.worker=!1,this.css3D=!1,this.pointerLock=!1,this.typedArray=!1,this.vibration=!1,this.getUserMedia=!0,this.quirksMode=!1,this.touch=!1,this.mspointer=!1,this.wheelEvent=null,this.arora=!1,this.chrome=!1,this.chromeVersion=0,this.epiphany=!1,this.firefox=!1,this.firefoxVersion=0,this.ie=!1,this.ieVersion=0,this.trident=!1,this.tridentVersion=0,this.edge=!1,this.mobileSafari=!1,this.midori=!1,this.opera=!1,this.safari=!1,this.safariVersion=0,this.webApp=!1,this.silk=!1,this.audioData=!1,this.webAudio=!1,this.ogg=!1,this.opus=!1,this.mp3=!1,this.wav=!1,this.m4a=!1,this.webm=!1,this.dolby=!1,this.oggVideo=!1,this.h264Video=!1,this.mp4Video=!1,this.webmVideo=!1,this.vp9Video=!1,this.hlsVideo=!1,this.iPhone=!1,this.iPhone4=!1,this.iPad=!1,this.pixelRatio=0,this.littleEndian=!1,this.LITTLE_ENDIAN=!1,this.support32bit=!1,this.fullscreen=!1,this.requestFullscreen="",this.cancelFullscreen="",this.fullscreenKeyboard=!1},i.Device=new i.Device,i.Device.onInitialized=new i.Signal,i.Device.whenReady=function(t,e,i){var s=this._readyCheck;if(this.deviceReadyAt||!s)t.call(e,this);else if(s._monitor||i)s._queue=s._queue||[],s._queue.push([t,e]);else{s._monitor=s.bind(this),s._queue=s._queue||[],s._queue.push([t,e]);var n=void 0!==window.cordova,o=navigator.isCocoonJS;"complete"===document.readyState||"interactive"===document.readyState?window.setTimeout(s._monitor,0):n&&!o?document.addEventListener("deviceready",s._monitor,!1):(document.addEventListener("DOMContentLoaded",s._monitor,!1),window.addEventListener("load",s._monitor,!1))}},i.Device._readyCheck=function(){var t=this._readyCheck;if(document.body){if(!this.deviceReadyAt){this.deviceReadyAt=Date.now(),document.removeEventListener("deviceready",t._monitor),document.removeEventListener("DOMContentLoaded",t._monitor),window.removeEventListener("load",t._monitor),this._initialize(),this.initialized=!0,this.onInitialized.dispatch(this);for(var e;e=t._queue.shift();){var i=e[0],s=e[1];i.call(s,this)}this._readyCheck=null,this._initialize=null,this.onInitialized=null}}else window.setTimeout(t._monitor,20)},i.Device._initialize=function(){function t(){var t=new ArrayBuffer(4),e=new Uint8Array(t),i=new Uint32Array(t);return e[0]=161,e[1]=178,e[2]=195,e[3]=212,3569595041===i[0]||2712847316!==i[0]&&null}function e(){if(void 0===Uint8ClampedArray)return!1;var t=i.CanvasPool.create(this,1,1).getContext("2d");if(!t)return!1;var e=t.createImageData(1,1);return i.CanvasPool.remove(this),e.data instanceof Uint8ClampedArray}var s=this;!function(){var t=navigator.userAgent;/Playstation Vita/.test(t)?s.vita=!0:/Kindle/.test(t)||/\bKF[A-Z][A-Z]+/.test(t)||/Silk.*Mobile Safari/.test(t)?s.kindle=!0:/Android/.test(t)?s.android=!0:/CrOS/.test(t)?s.chromeOS=!0:/iP[ao]d|iPhone/i.test(t)?(s.iOS=!0,navigator.appVersion.match(/OS (\d+)/),s.iOSVersion=parseInt(RegExp.$1,10)):/Linux/.test(t)?s.linux=!0:/Mac OS/.test(t)?s.macOS=!0:/Windows/.test(t)&&(s.windows=!0),(/Windows Phone/i.test(t)||/IEMobile/i.test(t))&&(s.android=!1,s.iOS=!1,s.macOS=!1,s.windows=!0,s.windowsPhone=!0);var e=/Silk/.test(t);(s.windows||s.macOS||s.linux&&!e||s.chromeOS)&&(s.desktop=!0),(s.windowsPhone||/Windows NT/i.test(t)&&/Touch/i.test(t))&&(s.desktop=!1)}(),function(){var t=navigator.userAgent;if(/Arora/.test(t)?s.arora=!0:/Edge\/\d+/.test(t)?s.edge=!0:/Chrome\/(\d+)/.test(t)&&!s.windowsPhone?(s.chrome=!0,s.chromeVersion=parseInt(RegExp.$1,10)):/Epiphany/.test(t)?s.epiphany=!0:/Firefox\D+(\d+)/.test(t)?(s.firefox=!0,s.firefoxVersion=parseInt(RegExp.$1,10)):/AppleWebKit/.test(t)&&s.iOS?s.mobileSafari=!0:/MSIE (\d+\.\d+);/.test(t)?(s.ie=!0,s.ieVersion=parseInt(RegExp.$1,10)):/Midori/.test(t)?s.midori=!0:/Opera/.test(t)?s.opera=!0:/Safari\/(\d+)/.test(t)&&!s.windowsPhone?(s.safari=!0,/Version\/(\d+)\./.test(t)&&(s.safariVersion=parseInt(RegExp.$1,10))):/Trident\/(\d+\.\d+)(.*)rv:(\d+\.\d+)/.test(t)&&(s.ie=!0,s.trident=!0,s.tridentVersion=parseInt(RegExp.$1,10),s.ieVersion=parseInt(RegExp.$3,10)),/Silk/.test(t)&&(s.silk=!0),navigator.standalone&&(s.webApp=!0),void 0!==window.cordova&&(s.cordova=!0),"undefined"!=typeof process&&"undefined"!="function"&&(s.node=!0),s.node&&"object"==typeof process.versions&&(s.nodeWebkit=!!process.versions["node-webkit"],s.electron=!!process.versions.electron),navigator.isCocoonJS&&(s.cocoonJS=!0),s.cocoonJS)try{s.cocoonJSApp="undefined"!=typeof CocoonJS}catch(t){s.cocoonJSApp=!1}void 0!==window.ejecta&&(s.ejecta=!0),/Crosswalk/.test(t)&&(s.crosswalk=!0)}(),function(){s.audioData=!!window.Audio,s.webAudio=!(!window.AudioContext&&!window.webkitAudioContext);var t=document.createElement("audio");try{if(t.canPlayType&&(t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,"")&&(s.ogg=!0),(t.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,"")||t.canPlayType("audio/opus;").replace(/^no$/,""))&&(s.opus=!0),t.canPlayType("audio/mpeg;").replace(/^no$/,"")&&(s.mp3=!0),t.canPlayType('audio/wav; codecs="1"').replace(/^no$/,"")&&(s.wav=!0),(t.canPlayType("audio/x-m4a;")||t.canPlayType("audio/aac;").replace(/^no$/,""))&&(s.m4a=!0),t.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")&&(s.webm=!0),""!==t.canPlayType('audio/mp4;codecs="ec-3"')))if(s.edge)s.dolby=!0;else if(s.safari&&s.safariVersion>=9&&/Mac OS X (\d+)_(\d+)/.test(navigator.userAgent)){var e=parseInt(RegExp.$1,10),i=parseInt(RegExp.$2,10);(10===e&&i>=11||e>10)&&(s.dolby=!0)}}catch(t){}}(),function(){var t=document.createElement("video");try{!!t.canPlayType&&(t.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,"")&&(s.oggVideo=!0),t.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,"")&&(s.h264Video=!0,s.mp4Video=!0),t.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,"")&&(s.webmVideo=!0),t.canPlayType('video/webm; codecs="vp9"').replace(/^no$/,"")&&(s.vp9Video=!0),t.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(/^no$/,"")&&(s.hlsVideo=!0))}catch(t){}}(),function(){var t,e=document.createElement("p"),i={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};document.body.insertBefore(e,null);for(var n in i)void 0!==e.style[n]&&(e.style[n]="translate3d(1px,1px,1px)",t=window.getComputedStyle(e).getPropertyValue(i[n]));document.body.removeChild(e),s.css3D=void 0!==t&&t.length>0&&"none"!==t}(),s.pixelRatio=window.devicePixelRatio||1,s.iPhone=-1!==navigator.userAgent.toLowerCase().indexOf("iphone"),s.iPhone4=2===s.pixelRatio&&s.iPhone,s.iPad=-1!==navigator.userAgent.toLowerCase().indexOf("ipad"),"undefined"!=typeof Int8Array?s.typedArray=!0:s.typedArray=!1,"undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint32Array&&(s.littleEndian=t(),s.LITTLE_ENDIAN=s.littleEndian),s.support32bit="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof Int32Array&&null!==s.littleEndian&&e(),navigator.vibrate=navigator.vibrate||navigator.webkitVibrate||navigator.mozVibrate||navigator.msVibrate,navigator.vibrate&&(s.vibration=!0),function(){s.canvas=!!window.CanvasRenderingContext2D||s.cocoonJS;try{s.localStorage=!!localStorage.getItem}catch(t){s.localStorage=!1}s.file=!!(window.File&&window.FileReader&&window.FileList&&window.Blob),s.fileSystem=!!window.requestFileSystem,s.webGL=!!function(){if(!window.WebGLRenderingContext)return!1;try{var t=document.createElement("canvas");t.screencanvas=!1;var e={stencil:!0};return t.getContext("webgl",e)||t.getContext("experimental-webgl",e)}catch(t){return s.webGLError=t,!1}}(),s.worker=!!window.Worker,s.pointerLock="pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document,s.quirksMode="CSS1Compat"!==document.compatMode,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||navigator.oGetUserMedia,window.URL=window.URL||window.webkitURL||window.mozURL||window.msURL,s.getUserMedia=s.getUserMedia&&!!navigator.getUserMedia&&!!window.URL,s.firefox&&s.firefoxVersion<21&&(s.getUserMedia=!1),!s.iOS&&(s.ie||s.firefox||s.chrome)&&(s.canvasBitBltShift=!0),(s.safari||s.mobileSafari)&&(s.canvasBitBltShift=!1)}(),function(){var t=i.CanvasPool.create(this,6,1),e=t.getContext("2d");e.fillStyle="rgba(10, 20, 30, 0.5)",e.fillRect(0,0,1,1);var n=e.getImageData(0,0,1,1);if(n){e.putImageData(n,1,0);var o=e.getImageData(1,0,1,1);s.canHandleAlpha=o.data[0]===n.data[0]&&o.data[1]===n.data[1]&&o.data[2]===n.data[2]&&o.data[3]===n.data[3]}e.globalCompositeOperation="multiply",s.canUseMultiply="multiply"===e.globalCompositeOperation,i.CanvasPool.removeByCanvas(t),PIXI.CanvasTinter.tintMethod=s.canUseMultiply?PIXI.CanvasTinter.tintWithMultiply:PIXI.CanvasTinter.tintWithPerPixel}(),function(){for(var t=["requestFullscreen","requestFullScreen","webkitRequestFullscreen","webkitRequestFullScreen","msRequestFullscreen","msRequestFullScreen","mozRequestFullScreen","mozRequestFullscreen"],e=document.createElement("div"),i=0;i<t.length;i++)if(e[t[i]]){s.fullscreen=!0,s.requestFullscreen=t[i];break}var n=["cancelFullScreen","exitFullscreen","webkitCancelFullScreen","webkitExitFullscreen","msCancelFullScreen","msExitFullscreen","mozCancelFullScreen","mozExitFullscreen"];if(s.fullscreen)for(i=0;i<n.length;i++)if(document[n[i]]){s.cancelFullscreen=n[i];break}window.Element&&Element.ALLOW_KEYBOARD_INPUT&&(s.fullscreenKeyboard=!0)}(),("ontouchstart"in document.documentElement||window.navigator.maxTouchPoints&&window.navigator.maxTouchPoints>=1)&&(s.touch=!0),(window.PointerEvent||window.MSPointerEvent||window.navigator.msPointerEnabled||window.navigator.pointerEnabled)&&(s.mspointer=!0),s.cocoonJS||("onwheel"in window||s.ie&&"WheelEvent"in window?s.wheelEvent="wheel":"onmousewheel"in window?s.wheelEvent="mousewheel":s.firefox&&"MouseScrollEvent"in window&&(s.wheelEvent="DOMMouseScroll"))},i.Device.canPlayAudio=function(t){return!("mp3"!==t||!this.mp3)||(!("ogg"!==t||!this.ogg&&!this.opus)||(!("m4a"!==t||!this.m4a)||(!("opus"!==t||!this.opus)||(!("wav"!==t||!this.wav)||(!("webm"!==t||!this.webm)||!("mp4"!==t||!this.dolby))))))},i.Device.canPlayVideo=function(t){return!("webm"!==t||!this.webmVideo&&!this.vp9Video)||(!("mp4"!==t||!this.mp4Video&&!this.h264Video)||(!("ogg"!==t&&"ogv"!==t||!this.oggVideo)||!("mpeg"!==t||!this.hlsVideo)))},i.Device.needsTouchUnlock=function(){return!!(!this.cocoonJS&&(this.iOS||this.android)||window.PhaserGlobal&&window.PhaserGlobal.fakeiOSTouchLock)},i.Device.isConsoleOpen=function(){return console.warn("Phaser.Device.isConsoleOpen is deprecated and will be removed."),!1},i.Device.isAndroidStockBrowser=function(){var t=window.navigator.userAgent.match(/Android.*AppleWebKit\/([\d.]+)/);return t&&t[1]<537},i.Canvas={create:function(t,e,s,n,o){e=e||256,s=s||256;var r=o?document.createElement("canvas"):i.CanvasPool.create(t,e,s);return"string"==typeof n&&""!==n&&(r.id=n),r.width=e,r.height=s,r.style.display="block",r},setBackgroundColor:function(t,e){return e=e||"rgb(0,0,0)",t.style.backgroundColor=e,t},setTouchAction:function(t,e){return e=e||"none",t.style.msTouchAction=e,t.style["ms-touch-action"]=e,t.style["touch-action"]=e,t},setUserSelect:function(t,e){return e=e||"none",t.style["-webkit-touch-callout"]=e,t.style["-webkit-user-select"]=e,t.style["-khtml-user-select"]=e,t.style["-moz-user-select"]=e,t.style["-ms-user-select"]=e,t.style["user-select"]=e,t.style["-webkit-tap-highlight-color"]="rgba(0, 0, 0, 0)",t},addToDOM:function(t,e,i){var s;return void 0===i&&(i=!0),e&&("string"==typeof e?s=document.getElementById(e):"object"==typeof e&&1===e.nodeType&&(s=e)),s||(s=document.body),i&&s.style&&(s.style.overflow="hidden"),s.appendChild(t),t},removeFromDOM:function(t){t.parentNode&&t.parentNode.removeChild(t)},setTransform:function(t,e,i,s,n,o,r){return t.setTransform(s,o,r,n,e,i),t},setSmoothingEnabled:function(t,e){var s=i.Canvas.getSmoothingPrefix(t);return s&&(t[s]=e),t},getSmoothingPrefix:function(t){var e=["i","webkitI","msI","mozI","oI"];for(var i in e){var s=e[i]+"mageSmoothingEnabled";if(s in t)return s}return null},getSmoothingEnabled:function(t){var e=i.Canvas.getSmoothingPrefix(t);if(e)return t[e]},setImageRenderingCrisp:function(t){for(var e=["optimizeSpeed","crisp-edges","-moz-crisp-edges","-webkit-optimize-contrast","optimize-contrast","pixelated"],i=0;i<e.length;i++)t.style["image-rendering"]=e[i];return t.style.msInterpolationMode="nearest-neighbor",t},setImageRenderingBicubic:function(t){return t.style["image-rendering"]="auto",t.style.msInterpolationMode="bicubic",t}},i.RequestAnimationFrame=function(t,e){void 0===e&&(e=!1),this.game=t,this.isRunning=!1,this.forceSetTimeOut=e;for(var i=["ms","moz","webkit","o"],s=0;s<i.length&&!window.requestAnimationFrame;s++)window.requestAnimationFrame=window[i[s]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[i[s]+"CancelAnimationFrame"]||window[i[s]+"CancelRequestAnimationFrame"];this._isSetTimeOut=!1,this._onLoop=null,this._timeOutID=null},i.RequestAnimationFrame.prototype={start:function(){this.isRunning=!0;var t=this;!window.requestAnimationFrame||this.forceSetTimeOut?(this._isSetTimeOut=!0,this._onLoop=function(){return t.updateSetTimeout()},this._timeOutID=window.setTimeout(this._onLoop,0)):(this._isSetTimeOut=!1,this._onLoop=function(e){return t.updateRAF(e)},this._timeOutID=window.requestAnimationFrame(this._onLoop))},updateRAF:function(t){this.isRunning&&(this.game.update(Math.floor(t)),this._timeOutID=window.requestAnimationFrame(this._onLoop))},updateSetTimeout:function(){this.isRunning&&(this.game.update(Date.now()),this._timeOutID=window.setTimeout(this._onLoop,this.game.time.timeToCall))},stop:function(){this._isSetTimeOut?clearTimeout(this._timeOutID):window.cancelAnimationFrame(this._timeOutID),this.isRunning=!1},isSetTimeOut:function(){return this._isSetTimeOut},isRAF:function(){return!1===this._isSetTimeOut}},i.RequestAnimationFrame.prototype.constructor=i.RequestAnimationFrame,i.Math={PI2:2*Math.PI,HALF_PI:.5*Math.PI,DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,degToRad:function(t){return t*i.Math.DEG_TO_RAD},radToDeg:function(t){return t*i.Math.RAD_TO_DEG},getNextPowerOfTwo:function(t){if(t>0&&0==(t&t-1))return t;for(var e=1;e<t;)e<<=1;return e},isPowerOfTwo:function(t,e){return t>0&&0==(t&t-1)&&e>0&&0==(e&e-1)},random:function(t,e){if(void 0===t&&(t=0),void 0===e&&(e=1),t===e)return t;if(t>e){var i=t;t=e,e=i}return Math.random()*(e-t)+t},between:function(t,e){if(void 0===t&&(t=0),void 0===e&&(e=1),t===e)return t;if(t>e){var i=t;t=e,e=i}return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t+1))+t},fuzzyEqual:function(t,e,i){return void 0===i&&(i=1e-4),Math.abs(t-e)<i},fuzzyLessThan:function(t,e,i){return void 0===i&&(i=1e-4),t<e+i},fuzzyGreaterThan:function(t,e,i){return void 0===i&&(i=1e-4),t>e-i},fuzzyCeil:function(t,e){return void 0===e&&(e=1e-4),Math.ceil(t-e)},fuzzyFloor:function(t,e){return void 0===e&&(e=1e-4),Math.floor(t+e)},average:function(){for(var t=0,e=arguments.length,i=0;i<e;i++)t+=+arguments[i];return t/e},shear:function(t){return t%1},snapTo:function(t,e,i){return void 0===i&&(i=0),0===e?t:(t-=i,t=e*Math.round(t/e),i+t)},snapToFloor:function(t,e,i){return void 0===i&&(i=0),0===e?t:(t-=i,t=e*Math.floor(t/e),i+t)},snapToCeil:function(t,e,i){return void 0===i&&(i=0),0===e?t:(t-=i,t=e*Math.ceil(t/e),i+t)},roundTo:function(t,e,i){void 0===e&&(e=0),void 0===i&&(i=10);var s=Math.pow(i,-e);return Math.round(t*s)/s},floorTo:function(t,e,i){void 0===e&&(e=0),void 0===i&&(i=10);var s=Math.pow(i,-e);return Math.floor(t*s)/s},ceilTo:function(t,e,i){void 0===e&&(e=0),void 0===i&&(i=10);var s=Math.pow(i,-e);return Math.ceil(t*s)/s},rotateToAngle:function(t,e,s){return void 0===s&&(s=.05),t===e?t:(Math.abs(e-t)<=s||Math.abs(e-t)>=i.Math.PI2-s?t=e:(Math.abs(e-t)>Math.PI&&(e<t?e+=i.Math.PI2:e-=i.Math.PI2),e>t?t+=s:e<t&&(t-=s)),t)},getShortestAngle:function(t,e){var i=e-t;return 0===i?0:i-360*Math.floor((i- -180)/360)},angleBetween:function(t,e,i,s){return Math.atan2(s-e,i-t)},angleBetweenY:function(t,e,i,s){return Math.atan2(i-t,s-e)},angleBetweenPoints:function(t,e){return Math.atan2(e.y-t.y,e.x-t.x)},angleBetweenPointsY:function(t,e){return Math.atan2(e.x-t.x,e.y-t.y)},reverseAngle:function(t){return this.normalizeAngle(t+Math.PI,!0)},normalizeAngle:function(t){return(t%=2*Math.PI)>=0?t:t+2*Math.PI},maxAdd:function(t,e,i){return Math.min(t+e,i)},minSub:function(t,e,i){return Math.max(t-e,i)},wrap:function(t,e,i){var s=i-e;if(s<=0)return 0;var n=(t-e)%s;return n<0&&(n+=s),n+e},wrapValue:function(t,e,i){return t=Math.abs(t),e=Math.abs(e),i=Math.abs(i),(t+e)%i},isOdd:function(t){return!!(1&t)},isEven:function(t){return!(1&t)},min:function(){if(1===arguments.length&&"object"==typeof arguments[0])t=arguments[0];else var t=arguments;for(var e=1,i=0,s=t.length;e<s;e++)t[e]<t[i]&&(i=e);return t[i]},max:function(){if(1===arguments.length&&"object"==typeof arguments[0])t=arguments[0];else var t=arguments;for(var e=1,i=0,s=t.length;e<s;e++)t[e]>t[i]&&(i=e);return t[i]},minProperty:function(t){if(2===arguments.length&&"object"==typeof arguments[1])e=arguments[1];else var e=arguments.slice(1);for(var i=1,s=0,n=e.length;i<n;i++)e[i][t]<e[s][t]&&(s=i);return e[s][t]},maxProperty:function(t){if(2===arguments.length&&"object"==typeof arguments[1])e=arguments[1];else var e=arguments.slice(1);for(var i=1,s=0,n=e.length;i<n;i++)e[i][t]>e[s][t]&&(s=i);return e[s][t]},wrapAngle:function(t,e){return e?this.wrap(t,-Math.PI,Math.PI):this.wrap(t,-180,180)},linearInterpolation:function(t,e){var i=t.length-1,s=i*e,n=Math.floor(s);return e<0?this.linear(t[0],t[1],s):e>1?this.linear(t[i],t[i-1],i-s):this.linear(t[n],t[n+1>i?i:n+1],s-n)},bezierInterpolation:function(t,e){for(var i=0,s=t.length-1,n=0;n<=s;n++)i+=Math.pow(1-e,s-n)*Math.pow(e,n)*t[n]*this.bernstein(s,n);return i},catmullRomInterpolation:function(t,e){var i=t.length-1,s=i*e,n=Math.floor(s);return t[0]===t[i]?(e<0&&(n=Math.floor(s=i*(1+e))),this.catmullRom(t[(n-1+i)%i],t[n],t[(n+1)%i],t[(n+2)%i],s-n)):e<0?t[0]-(this.catmullRom(t[0],t[0],t[1],t[1],-s)-t[0]):e>1?t[i]-(this.catmullRom(t[i],t[i],t[i-1],t[i-1],s-i)-t[i]):this.catmullRom(t[n?n-1:0],t[n],t[i<n+1?i:n+1],t[i<n+2?i:n+2],s-n)},linear:function(t,e,i){return(e-t)*i+t},bernstein:function(t,e){return this.factorial(t)/this.factorial(e)/this.factorial(t-e)},factorial:function(t){if(0===t)return 1;for(var e=t;--t;)e*=t;return e},catmullRom:function(t,e,i,s,n){var o=.5*(i-t),r=.5*(s-e),a=n*n;return(2*e-2*i+o+r)*(n*a)+(-3*e+3*i-2*o-r)*a+o*n+e},difference:function(t,e){return Math.abs(t-e)},roundAwayFromZero:function(t){return t>0?Math.ceil(t):Math.floor(t)},sinCosGenerator:function(t,e,i,s){void 0===e&&(e=1),void 0===i&&(i=1),void 0===s&&(s=1);for(var n=e,o=i,r=s*Math.PI/t,a=[],h=[],l=0;l<t;l++)n+=(o-=n*r)*r,a[l]=o,h[l]=n;return{sin:h,cos:a,length:t}},hypot:function(t,e){return Math.sqrt(t*t+e*e)},distance:function(t,e,i,s){var n=t-i,o=e-s;return Math.sqrt(n*n+o*o)},distanceSq:function(t,e,i,s){var n=t-i,o=e-s;return n*n+o*o},distancePow:function(t,e,i,s,n){return void 0===n&&(n=2),Math.sqrt(Math.pow(i-t,n)+Math.pow(s-e,n))},clamp:function(t,e,i){return t<e?e:i<t?i:t},clampBottom:function(t,e){return t<e?e:t},within:function(t,e,i){return Math.abs(t-e)<=i},mapLinear:function(t,e,i,s,n){return s+(t-e)*(n-s)/(i-e)},smoothstep:function(t,e,i){return(t=Math.max(0,Math.min(1,(t-e)/(i-e))))*t*(3-2*t)},smootherstep:function(t,e,i){return(t=Math.max(0,Math.min(1,(t-e)/(i-e))))*t*t*(t*(6*t-15)+10)},sign:function(t){return t<0?-1:t>0?1:0},percent:function(t,e,i){return void 0===i&&(i=0),t>e||i>e?1:t<i||i>t?0:(t-i)/e}},i.RandomDataGenerator=function(t){void 0===t&&(t=[]),this.c=1,this.s0=0,this.s1=0,this.s2=0,"string"==typeof t?this.state(t):this.sow(t)},i.RandomDataGenerator.prototype={rnd:function(){var t=2091639*this.s0+2.3283064365386963e-10*this.c;return this.c=0|t,this.s0=this.s1,this.s1=this.s2,this.s2=t-this.c,this.s2},sow:function(t){if(this.s0=this.hash(" "),this.s1=this.hash(this.s0),this.s2=this.hash(this.s1),this.c=1,t)for(var e=0;e<t.length&&null!=t[e];e++){var i=t[e];this.s0-=this.hash(i),this.s0+=~~(this.s0<0),this.s1-=this.hash(i),this.s1+=~~(this.s1<0),this.s2-=this.hash(i),this.s2+=~~(this.s2<0)}},hash:function(t){var e,i,s;for(s=4022871197,t=t.toString(),i=0;i<t.length;i++)e=.02519603282416938*(s+=t.charCodeAt(i)),e-=s=e>>>0,s=(e*=s)>>>0,s+=4294967296*(e-=s);return 2.3283064365386963e-10*(s>>>0)},integer:function(){return 4294967296*this.rnd.apply(this)},frac:function(){return this.rnd.apply(this)+1.1102230246251565e-16*(2097152*this.rnd.apply(this)|0)},real:function(){return this.integer()+this.frac()},integerInRange:function(t,e){return Math.floor(this.realInRange(0,e-t+1)+t)},between:function(t,e){return this.integerInRange(t,e)},realInRange:function(t,e){return this.frac()*(e-t)+t},normal:function(){return 1-2*this.frac()},uuid:function(){var t="",e="";for(e=t="";t++<36;e+=~t%5|3*t&4?(15^t?8^this.frac()*(20^t?16:4):4).toString(16):"-");return e},pick:function(t){return t[this.integerInRange(0,t.length-1)]},sign:function(){return this.pick([-1,1])},weightedPick:function(t){return t[~~(Math.pow(this.frac(),2)*(t.length-1)+.5)]},timestamp:function(t,e){return this.realInRange(t||9466848e5,e||1577862e6)},angle:function(){return this.integerInRange(-180,180)},state:function(t){return"string"==typeof t&&t.match(/^!rnd/)&&(t=t.split(","),this.c=parseFloat(t[1]),this.s0=parseFloat(t[2]),this.s1=parseFloat(t[3]),this.s2=parseFloat(t[4])),["!rnd",this.c,this.s0,this.s1,this.s2].join(",")}},i.RandomDataGenerator.prototype.constructor=i.RandomDataGenerator,i.QuadTree=function(t,e,i,s,n,o,r){this.maxObjects=10,this.maxLevels=4,this.level=0,this.bounds={},this.objects=[],this.nodes=[],this._empty=[],this.reset(t,e,i,s,n,o,r)},i.QuadTree.prototype={reset:function(t,e,i,s,n,o,r){this.maxObjects=n||10,this.maxLevels=o||4,this.level=r||0,this.bounds={x:Math.round(t),y:Math.round(e),width:i,height:s,subWidth:Math.floor(i/2),subHeight:Math.floor(s/2),right:Math.round(t)+Math.floor(i/2),bottom:Math.round(e)+Math.floor(s/2)},this.objects.length=0,this.nodes.length=0},populate:function(t){t.forEach(this.populateHandler,this,!0)},populateHandler:function(t){t.body&&t.exists&&this.insert(t.body)},split:function(){this.nodes[0]=new i.QuadTree(this.bounds.right,this.bounds.y,this.bounds.subWidth,this.bounds.subHeight,this.maxObjects,this.maxLevels,this.level+1),this.nodes[1]=new i.QuadTree(this.bounds.x,this.bounds.y,this.bounds.subWidth,this.bounds.subHeight,this.maxObjects,this.maxLevels,this.level+1),this.nodes[2]=new i.QuadTree(this.bounds.x,this.bounds.bottom,this.bounds.subWidth,this.bounds.subHeight,this.maxObjects,this.maxLevels,this.level+1),this.nodes[3]=new i.QuadTree(this.bounds.right,this.bounds.bottom,this.bounds.subWidth,this.bounds.subHeight,this.maxObjects,this.maxLevels,this.level+1)},insert:function(t){var e,i=0;if(null==this.nodes[0]||-1===(e=this.getIndex(t))){if(this.objects.push(t),this.objects.length>this.maxObjects&&this.level<this.maxLevels)for(null==this.nodes[0]&&this.split();i<this.objects.length;)-1!==(e=this.getIndex(this.objects[i]))?this.nodes[e].insert(this.objects.splice(i,1)[0]):i++}else this.nodes[e].insert(t)},getIndex:function(t){var e=-1;return t.x<this.bounds.right&&t.right<this.bounds.right?t.y<this.bounds.bottom&&t.bottom<this.bounds.bottom?e=1:t.y>this.bounds.bottom&&(e=2):t.x>this.bounds.right&&(t.y<this.bounds.bottom&&t.bottom<this.bounds.bottom?e=0:t.y>this.bounds.bottom&&(e=3)),e},retrieve:function(t){if(t instanceof i.Rectangle)var e=this.objects,s=this.getIndex(t);else{if(!t.body)return this._empty;var e=this.objects,s=this.getIndex(t.body)}return this.nodes[0]&&(e=-1!==s?e.concat(this.nodes[s].retrieve(t)):(e=(e=(e=e.concat(this.nodes[0].retrieve(t))).concat(this.nodes[1].retrieve(t))).concat(this.nodes[2].retrieve(t))).concat(this.nodes[3].retrieve(t))),e},clear:function(){this.objects.length=0;for(var t=this.nodes.length;t--;)this.nodes[t].clear(),this.nodes.splice(t,1);this.nodes.length=0}},i.QuadTree.prototype.constructor=i.QuadTree,i.Net=function(t){this.game=t},i.Net.prototype={getHostName:function(){return window.location&&window.location.hostname?window.location.hostname:null},checkDomainName:function(t){return-1!==window.location.hostname.indexOf(t)},updateQueryString:function(t,e,i,s){void 0===i&&(i=!1),void 0!==s&&""!==s||(s=window.location.href);var n="",o=new RegExp("([?|&])"+t+"=.*?(&|#|$)(.*)","gi");if(o.test(s))n=void 0!==e&&null!==e?s.replace(o,"$1"+t+"="+e+"$2$3"):s.replace(o,"$1$3").replace(/(&|\?)$/,"");else if(void 0!==e&&null!==e){var r=-1!==s.indexOf("?")?"&":"?",a=s.split("#");s=a[0]+r+t+"="+e,a[1]&&(s+="#"+a[1]),n=s}else n=s;if(!i)return n;window.location.href=n},getQueryString:function(t){void 0===t&&(t="");var e={},i=location.search.substring(1).split("&");for(var s in i){var n=i[s].split("=");if(n.length>1){if(t&&t===this.decodeURI(n[0]))return this.decodeURI(n[1]);e[this.decodeURI(n[0])]=this.decodeURI(n[1])}}return e},decodeURI:function(t){return decodeURIComponent(t.replace(/\+/g," "))}},i.Net.prototype.constructor=i.Net,i.TweenManager=function(t){this.game=t,this.frameBased=!1,this._tweens=[],this._add=[],this.easeMap={Power0:i.Easing.Power0,Power1:i.Easing.Power1,Power2:i.Easing.Power2,Power3:i.Easing.Power3,Power4:i.Easing.Power4,Linear:i.Easing.Linear.None,Quad:i.Easing.Quadratic.Out,Cubic:i.Easing.Cubic.Out,Quart:i.Easing.Quartic.Out,Quint:i.Easing.Quintic.Out,Sine:i.Easing.Sinusoidal.Out,Expo:i.Easing.Exponential.Out,Circ:i.Easing.Circular.Out,Elastic:i.Easing.Elastic.Out,Back:i.Easing.Back.Out,Bounce:i.Easing.Bounce.Out,"Quad.easeIn":i.Easing.Quadratic.In,"Cubic.easeIn":i.Easing.Cubic.In,"Quart.easeIn":i.Easing.Quartic.In,"Quint.easeIn":i.Easing.Quintic.In,"Sine.easeIn":i.Easing.Sinusoidal.In,"Expo.easeIn":i.Easing.Exponential.In,"Circ.easeIn":i.Easing.Circular.In,"Elastic.easeIn":i.Easing.Elastic.In,"Back.easeIn":i.Easing.Back.In,"Bounce.easeIn":i.Easing.Bounce.In,"Quad.easeOut":i.Easing.Quadratic.Out,"Cubic.easeOut":i.Easing.Cubic.Out,"Quart.easeOut":i.Easing.Quartic.Out,"Quint.easeOut":i.Easing.Quintic.Out,"Sine.easeOut":i.Easing.Sinusoidal.Out,"Expo.easeOut":i.Easing.Exponential.Out,"Circ.easeOut":i.Easing.Circular.Out,"Elastic.easeOut":i.Easing.Elastic.Out,"Back.easeOut":i.Easing.Back.Out,"Bounce.easeOut":i.Easing.Bounce.Out,"Quad.easeInOut":i.Easing.Quadratic.InOut,"Cubic.easeInOut":i.Easing.Cubic.InOut,"Quart.easeInOut":i.Easing.Quartic.InOut,"Quint.easeInOut":i.Easing.Quintic.InOut,"Sine.easeInOut":i.Easing.Sinusoidal.InOut,"Expo.easeInOut":i.Easing.Exponential.InOut,"Circ.easeInOut":i.Easing.Circular.InOut,"Elastic.easeInOut":i.Easing.Elastic.InOut,"Back.easeInOut":i.Easing.Back.InOut,"Bounce.easeInOut":i.Easing.Bounce.InOut},this.game.onPause.add(this._pauseAll,this),this.game.onResume.add(this._resumeAll,this)},i.TweenManager.prototype={getAll:function(){return this._tweens},removeAll:function(){for(var t=0;t<this._tweens.length;t++)this._tweens[t].pendingDelete=!0;this._add=[]},removeFrom:function(t,e){void 0===e&&(e=!0);if(Array.isArray(t))for(s=0,n=t.length;s<n;s++)this.removeFrom(t[s]);else if(t.type===i.GROUP&&e)for(var s=0,n=t.children.length;s<n;s++)this.removeFrom(t.children[s]);else{for(s=0,n=this._tweens.length;s<n;s++)t===this._tweens[s].target&&this.remove(this._tweens[s]);for(s=0,n=this._add.length;s<n;s++)t===this._add[s].target&&this.remove(this._add[s])}},add:function(t){t._manager=this,this._add.push(t)},create:function(t){return new i.Tween(t,this.game,this)},remove:function(t){var e=this._tweens.indexOf(t);-1!==e?this._tweens[e].pendingDelete=!0:-1!==(e=this._add.indexOf(t))&&(this._add[e].pendingDelete=!0)},update:function(){var t=this._add.length,e=this._tweens.length;if(0===e&&0===t)return!1;for(var i=0;i<e;)this._tweens[i].update(this.game.time.time)?i++:(this._tweens.splice(i,1),e--);return t>0&&(this._tweens=this._tweens.concat(this._add),this._add.length=0),!0},isTweening:function(t,e){return e||(e=!1),this._tweens.some(function(i){return i.target===t&&!e||i.isRunning&&!i.pendingDelete})},_pauseAll:function(){for(var t=this._tweens.length-1;t>=0;t--)this._tweens[t]._pause()},_resumeAll:function(){for(var t=this._tweens.length-1;t>=0;t--)this._tweens[t]._resume()},pauseAll:function(){for(var t=this._tweens.length-1;t>=0;t--)this._tweens[t].pause()},resumeAll:function(){for(var t=this._tweens.length-1;t>=0;t--)this._tweens[t].resume(!0)}},i.TweenManager.prototype.constructor=i.TweenManager,i.Tween=function(t,e,s){this.game=e,this.target=t,this.manager=s,this.timeline=[],this.reverse=!1,this.timeScale=1,this.repeatCounter=0,this.pendingDelete=!1,this.onStart=new i.Signal,this.onLoop=new i.Signal,this.onRepeat=new i.Signal,this.onChildComplete=new i.Signal,this.onComplete=new i.Signal,this.isRunning=!1,this.current=0,this.properties={},this.chainedTween=null,this.isPaused=!1,this.frameBased=s.frameBased,this._onUpdateCallback=null,this._onUpdateCallbackContext=null,this._pausedTime=0,this._codePaused=!1,this._hasStarted=!1},i.Tween.updateColor=function(t){i.Color.updateColor(t.target)},i.Tween.prototype={to:function(t,e,s,n,o,r,a){return(void 0===e||e<=0)&&(e=1e3),void 0!==s&&null!==s||(s=i.Easing.Default),void 0===n&&(n=!1),void 0===o&&(o=0),void 0===r&&(r=0),void 0===a&&(a=!1),"string"==typeof s&&this.manager.easeMap[s]&&(s=this.manager.easeMap[s]),this.isRunning?(console.warn("Phaser.Tween.to cannot be called after Tween.start"),this):(this.timeline.push(new i.TweenData(this).to(t,e,s,o,r,a)),n&&this.start(),this)},from:function(t,e,s,n,o,r,a){return void 0===e&&(e=1e3),void 0!==s&&null!==s||(s=i.Easing.Default),void 0===n&&(n=!1),void 0===o&&(o=0),void 0===r&&(r=0),void 0===a&&(a=!1),"string"==typeof s&&this.manager.easeMap[s]&&(s=this.manager.easeMap[s]),this.isRunning?(console.warn("Phaser.Tween.from cannot be called after Tween.start"),this):(this.timeline.push(new i.TweenData(this).from(t,e,s,o,r,a)),n&&this.start(),this)},start:function(t){if(void 0===t&&(t=0),this.pendingDelete)return console.warn("Phaser.Tween.start cannot be called after Tween.stop"),this;if(null===this.game||null===this.target||0===this.timeline.length||this.isRunning)return this;for(i=0;i<this.timeline.length;i++)for(var e in this.timeline[i].vEnd)this.properties[e]=this.target[e]||0,Array.isArray(this.properties[e])||(this.properties[e]*=1);for(var i=0;i<this.timeline.length;i++)this.timeline[i].loadValues();return this.manager.add(this),this.isRunning=!0,(t<0||t>this.timeline.length-1)&&(t=0),this.current=t,this.timeline[this.current].start(),this},stop:function(t){return void 0===t&&(t=!1),this.isRunning=!1,this._onUpdateCallback=null,this._onUpdateCallbackContext=null,t&&(this.onComplete.dispatch(this.target,this),this._hasStarted=!1,this.chainedTween&&this.chainedTween.start()),this.manager.remove(this),this},updateTweenData:function(t,e,i){if(0===this.timeline.length)return this;if(void 0===i&&(i=0),-1===i)for(var s=0;s<this.timeline.length;s++)this.timeline[s][t]=e;else this.timeline[i][t]=e;return this},delay:function(t,e){return this.updateTweenData("delay",t,e)},repeat:function(t,e,i){return void 0===e&&(e=0),this.updateTweenData("repeatCounter",t,i),this.updateTweenData("repeatTotal",t,i),this.updateTweenData("repeatDelay",e,i)},repeatDelay:function(t,e){return this.updateTweenData("repeatDelay",t,e)},yoyo:function(t,e,i){return void 0===e&&(e=0),this.updateTweenData("yoyo",t,i),this.updateTweenData("yoyoDelay",e,i)},yoyoDelay:function(t,e){return this.updateTweenData("yoyoDelay",t,e)},easing:function(t,e){return"string"==typeof t&&this.manager.easeMap[t]&&(t=this.manager.easeMap[t]),this.updateTweenData("easingFunction",t,e)},interpolation:function(t,e,s){return void 0===e&&(e=i.Math),this.updateTweenData("interpolationFunction",t,s),this.updateTweenData("interpolationContext",e,s)},repeatAll:function(t){return void 0===t&&(t=0),this.repeatCounter=t,this},chain:function(){for(var t=arguments.length;t--;)t>0?arguments[t-1].chainedTween=arguments[t]:this.chainedTween=arguments[t];return this},loop:function(t){return void 0===t&&(t=!0),this.repeatCounter=t?-1:0,this},onUpdateCallback:function(t,e){return this._onUpdateCallback=t,this._onUpdateCallbackContext=e,this},pause:function(){this.isPaused=!0,this._codePaused=!0,this._pausedTime=this.game.time.time},_pause:function(){this._codePaused||(this.isPaused=!0,this._pausedTime=this.game.time.time)},resume:function(){if(this.isPaused){this.isPaused=!1,this._codePaused=!1;for(var t=0;t<this.timeline.length;t++)this.timeline[t].isRunning||(this.timeline[t].startTime+=this.game.time.time-this._pausedTime)}},_resume:function(){this._codePaused||this.resume()},update:function(t){if(this.pendingDelete||!this.target)return!1;if(this.isPaused)return!0;var e=this.timeline[this.current].update(t);if(e===i.TweenData.PENDING)return!0;if(e===i.TweenData.RUNNING)return this._hasStarted||(this.onStart.dispatch(this.target,this),this._hasStarted=!0),null!==this._onUpdateCallback&&this._onUpdateCallback.call(this._onUpdateCallbackContext,this,this.timeline[this.current].value,this.timeline[this.current]),this.isRunning;if(e===i.TweenData.LOOPED)return-1===this.timeline[this.current].repeatCounter?this.onLoop.dispatch(this.target,this):this.onRepeat.dispatch(this.target,this),!0;if(e===i.TweenData.COMPLETE){var s=!1;return this.reverse?--this.current<0&&(this.current=this.timeline.length-1,s=!0):++this.current===this.timeline.length&&(this.current=0,s=!0),s?-1===this.repeatCounter?(this.timeline[this.current].start(),this.onLoop.dispatch(this.target,this),!0):this.repeatCounter>0?(this.repeatCounter--,this.timeline[this.current].start(),this.onRepeat.dispatch(this.target,this),!0):(this.isRunning=!1,this.onComplete.dispatch(this.target,this),this._hasStarted=!1,this.chainedTween&&this.chainedTween.start(),!1):(this.onChildComplete.dispatch(this.target,this),this.timeline[this.current].start(),!0)}},generateData:function(t,e){if(null===this.game||null===this.target)return null;void 0===t&&(t=60),void 0===e&&(e=[]);for(s=0;s<this.timeline.length;s++)for(var i in this.timeline[s].vEnd)this.properties[i]=this.target[i]||0,Array.isArray(this.properties[i])||(this.properties[i]*=1);for(s=0;s<this.timeline.length;s++)this.timeline[s].loadValues();for(var s=0;s<this.timeline.length;s++)e=e.concat(this.timeline[s].generateData(t));return e}},Object.defineProperty(i.Tween.prototype,"totalDuration",{get:function(){for(var t=0,e=0;e<this.timeline.length;e++)t+=this.timeline[e].duration;return t}}),i.Tween.prototype.constructor=i.Tween,i.TweenData=function(t){this.parent=t,this.game=t.game,this.vStart={},this.vStartCache={},this.vEnd={},this.vEndCache={},this.duration=1e3,this.percent=0,this.value=0,this.repeatCounter=0,this.repeatDelay=0,this.repeatTotal=0,this.interpolate=!1,this.yoyo=!1,this.yoyoDelay=0,this.inReverse=!1,this.delay=0,this.dt=0,this.startTime=null,this.easingFunction=i.Easing.Default,this.interpolationFunction=i.Math.linearInterpolation,this.interpolationContext=i.Math,this.isRunning=!1,this.isFrom=!1},i.TweenData.PENDING=0,i.TweenData.RUNNING=1,i.TweenData.LOOPED=2,i.TweenData.COMPLETE=3,i.TweenData.prototype={to:function(t,e,i,s,n,o){return this.vEnd=t,this.duration=e,this.easingFunction=i,this.delay=s,this.repeatTotal=n,this.yoyo=o,this.isFrom=!1,this},from:function(t,e,i,s,n,o){return this.vEnd=t,this.duration=e,this.easingFunction=i,this.delay=s,this.repeatTotal=n,this.yoyo=o,this.isFrom=!0,this},start:function(){if(this.startTime=this.game.time.time+this.delay,this.parent.reverse?this.dt=this.duration:this.dt=0,this.delay>0?this.isRunning=!1:this.isRunning=!0,this.isFrom)for(var t in this.vStartCache)this.vStart[t]=this.vEndCache[t],this.vEnd[t]=this.vStartCache[t],this.parent.target[t]=this.vStart[t];return this.value=0,this.repeatCounter=this.repeatTotal,this},loadValues:function(){for(var t in this.parent.properties){if(this.vStart[t]=this.parent.properties[t],Array.isArray(this.vEnd[t])){if(0===this.vEnd[t].length)continue;0===this.percent&&(this.vEnd[t]=[this.vStart[t]].concat(this.vEnd[t]))}void 0!==this.vEnd[t]?("string"==typeof this.vEnd[t]&&(this.vEnd[t]=this.vStart[t]+parseFloat(this.vEnd[t],10)),this.parent.properties[t]=this.vEnd[t]):this.vEnd[t]=this.vStart[t],this.vStartCache[t]=this.vStart[t],this.vEndCache[t]=this.vEnd[t]}return this},update:function(t){if(this.isRunning){if(t<this.startTime)return i.TweenData.RUNNING}else{if(!(t>=this.startTime))return i.TweenData.PENDING;this.isRunning=!0}var e=this.parent.frameBased?this.game.time.physicsElapsedMS:this.game.time.elapsedMS;this.parent.reverse?(this.dt-=e*this.parent.timeScale,this.dt=Math.max(this.dt,0)):(this.dt+=e*this.parent.timeScale,this.dt=Math.min(this.dt,this.duration)),this.percent=this.dt/this.duration,this.value=this.easingFunction(this.percent);for(var s in this.vEnd){var n=this.vStart[s],o=this.vEnd[s];Array.isArray(o)?this.parent.target[s]=this.interpolationFunction.call(this.interpolationContext,o,this.value):this.parent.target[s]=n+(o-n)*this.value}return!this.parent.reverse&&1===this.percent||this.parent.reverse&&0===this.percent?this.repeat():i.TweenData.RUNNING},generateData:function(t){this.parent.reverse?this.dt=this.duration:this.dt=0;var e=[],i=!1,s=1/t*1e3;do{this.parent.reverse?(this.dt-=s,this.dt=Math.max(this.dt,0)):(this.dt+=s,this.dt=Math.min(this.dt,this.duration)),this.percent=this.dt/this.duration,this.value=this.easingFunction(this.percent);var n={};for(var o in this.vEnd){var r=this.vStart[o],a=this.vEnd[o];Array.isArray(a)?n[o]=this.interpolationFunction.call(this.interpolationContext,a,this.value):n[o]=r+(a-r)*this.value}e.push(n),(!this.parent.reverse&&1===this.percent||this.parent.reverse&&0===this.percent)&&(i=!0)}while(!i);if(this.yoyo){var h=e.slice();h.reverse(),e=e.concat(h)}return e},repeat:function(){if(this.yoyo){if(this.inReverse&&0===this.repeatCounter){for(var t in this.vStartCache)this.vStart[t]=this.vStartCache[t],this.vEnd[t]=this.vEndCache[t];return this.inReverse=!1,i.TweenData.COMPLETE}this.inReverse=!this.inReverse}else if(0===this.repeatCounter)return i.TweenData.COMPLETE;if(this.inReverse)for(var t in this.vStartCache)this.vStart[t]=this.vEndCache[t],this.vEnd[t]=this.vStartCache[t];else{for(var t in this.vStartCache)this.vStart[t]=this.vStartCache[t],this.vEnd[t]=this.vEndCache[t];this.repeatCounter>0&&this.repeatCounter--}return this.startTime=this.game.time.time,this.yoyo&&this.inReverse?this.startTime+=this.yoyoDelay:this.inReverse||(this.startTime+=this.repeatDelay),this.parent.reverse?this.dt=this.duration:this.dt=0,i.TweenData.LOOPED}},i.TweenData.prototype.constructor=i.TweenData,i.Easing={Linear:{None:function(t){return t}},Quadratic:{In:function(t){return t*t},Out:function(t){return t*(2-t)},InOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)}},Cubic:{In:function(t){return t*t*t},Out:function(t){return--t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)}},Quartic:{In:function(t){return t*t*t*t},Out:function(t){return 1- --t*t*t*t},InOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)}},Quintic:{In:function(t){return t*t*t*t*t},Out:function(t){return--t*t*t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)}},Sinusoidal:{In:function(t){return 0===t?0:1===t?1:1-Math.cos(t*Math.PI/2)},Out:function(t){return 0===t?0:1===t?1:Math.sin(t*Math.PI/2)},InOut:function(t){return 0===t?0:1===t?1:.5*(1-Math.cos(Math.PI*t))}},Exponential:{In:function(t){return 0===t?0:Math.pow(1024,t-1)},Out:function(t){return 1===t?1:1-Math.pow(2,-10*t)},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))}},Circular:{In:function(t){return 1-Math.sqrt(1-t*t)},Out:function(t){return Math.sqrt(1- --t*t)},InOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}},Elastic:{In:function(t){var e,i=.1;return 0===t?0:1===t?1:(!i||i<1?(i=1,e=.1):e=.4*Math.asin(1/i)/(2*Math.PI),-i*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/.4))},Out:function(t){var e,i=.1;return 0===t?0:1===t?1:(!i||i<1?(i=1,e=.1):e=.4*Math.asin(1/i)/(2*Math.PI),i*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/.4)+1)},InOut:function(t){var e,i=.1;return 0===t?0:1===t?1:(!i||i<1?(i=1,e=.1):e=.4*Math.asin(1/i)/(2*Math.PI),(t*=2)<1?i*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/.4)*-.5:i*Math.pow(2,-10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/.4)*.5+1)}},Back:{In:function(t){var e=1.70158;return t*t*((e+1)*t-e)},Out:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},InOut:function(t){var e=2.5949095;return(t*=2)<1?t*t*((e+1)*t-e)*.5:.5*((t-=2)*t*((e+1)*t+e)+2)}},Bounce:{In:function(t){return 1-i.Easing.Bounce.Out(1-t)},Out:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},InOut:function(t){return t<.5?.5*i.Easing.Bounce.In(2*t):.5*i.Easing.Bounce.Out(2*t-1)+.5}}},i.Easing.Default=i.Easing.Linear.None,i.Easing.Power0=i.Easing.Linear.None,i.Easing.Power1=i.Easing.Quadratic.Out,i.Easing.Power2=i.Easing.Cubic.Out,i.Easing.Power3=i.Easing.Quartic.Out,i.Easing.Power4=i.Easing.Quintic.Out,i.Time=function(t){this.game=t,this.time=0,this.prevTime=0,this.now=0,this.elapsed=0,this.elapsedMS=0,this.physicsElapsed=1/60,this.physicsElapsedMS=1/60*1e3,this.desiredFpsMult=1/60,this._desiredFps=60,this.suggestedFps=this.desiredFps,this.slowMotion=1,this.advancedTiming=!1,this.frames=0,this.fps=0,this.fpsMin=1e3,this.fpsMax=0,this.msMin=1e3,this.msMax=0,this.pauseDuration=0,this.timeToCall=0,this.timeExpected=0,this.events=new i.Timer(this.game,!1),this._frameCount=0,this._elapsedAccumulator=0,this._started=0,this._timeLastSecond=0,this._pauseStarted=0,this._justResumed=!1,this._timers=[]},i.Time.prototype={boot:function(){this._started=Date.now(),this.time=Date.now(),this.events.start(),this.timeExpected=this.time},add:function(t){return this._timers.push(t),t},create:function(t){void 0===t&&(t=!0);var e=new i.Timer(this.game,t);return this._timers.push(e),e},removeAll:function(){for(var t=0;t<this._timers.length;t++)this._timers[t].destroy();this._timers=[],this.events.removeAll()},refresh:function(){var t=this.time;this.time=Date.now(),this.elapsedMS=this.time-t},update:function(t){var e=this.time;this.time=Date.now(),this.elapsedMS=this.time-e,this.prevTime=this.now,this.now=t,this.elapsed=this.now-this.prevTime,this.game.raf._isSetTimeOut&&(this.timeToCall=Math.floor(Math.max(0,1e3/this._desiredFps-(this.timeExpected-t))),this.timeExpected=t+this.timeToCall),this.advancedTiming&&this.updateAdvancedTiming(),this.game.paused||(this.events.update(this.time),this._timers.length&&this.updateTimers())},updateTimers:function(){for(var t=0,e=this._timers.length;t<e;)this._timers[t].update(this.time)?t++:(this._timers.splice(t,1),e--)},updateAdvancedTiming:function(){this._frameCount++,this._elapsedAccumulator+=this.elapsed,this._frameCount>=2*this._desiredFps&&(this.suggestedFps=5*Math.floor(200/(this._elapsedAccumulator/this._frameCount)),this._frameCount=0,this._elapsedAccumulator=0),this.msMin=Math.min(this.msMin,this.elapsed),this.msMax=Math.max(this.msMax,this.elapsed),this.frames++,this.now>this._timeLastSecond+1e3&&(this.fps=Math.round(1e3*this.frames/(this.now-this._timeLastSecond)),this.fpsMin=Math.min(this.fpsMin,this.fps),this.fpsMax=Math.max(this.fpsMax,this.fps),this._timeLastSecond=this.now,this.frames=0)},gamePaused:function(){this._pauseStarted=Date.now(),this.events.pause();for(var t=this._timers.length;t--;)this._timers[t]._pause()},gameResumed:function(){this.time=Date.now(),this.pauseDuration=this.time-this._pauseStarted,this.events.resume();for(var t=this._timers.length;t--;)this._timers[t]._resume()},totalElapsedSeconds:function(){return.001*(this.time-this._started)},elapsedSince:function(t){return this.time-t},elapsedSecondsSince:function(t){return.001*(this.time-t)},reset:function(){this._started=this.time,this.removeAll()}},Object.defineProperty(i.Time.prototype,"desiredFps",{get:function(){return this._desiredFps},set:function(t){this._desiredFps=t,this.physicsElapsed=1/t,this.physicsElapsedMS=1e3*this.physicsElapsed,this.desiredFpsMult=1/t}}),i.Time.prototype.constructor=i.Time,i.Timer=function(t,e){void 0===e&&(e=!0),this.game=t,this.running=!1,this.autoDestroy=e,this.expired=!1,this.elapsed=0,this.events=[],this.onComplete=new i.Signal,this.nextTick=0,this.timeCap=1e3,this.paused=!1,this._codePaused=!1,this._started=0,this._pauseStarted=0,this._pauseTotal=0,this._now=Date.now(),this._len=0,this._marked=0,this._i=0,this._diff=0,this._newTick=0},i.Timer.MINUTE=6e4,i.Timer.SECOND=1e3,i.Timer.HALF=500,i.Timer.QUARTER=250,i.Timer.prototype={create:function(t,e,s,n,o,r){var a=t=Math.round(t);0===this._now?a+=this.game.time.time:a+=this._now;var h=new i.TimerEvent(this,t,a,s,e,n,o,r);return this.events.push(h),this.order(),this.expired=!1,h},add:function(t,e,i){return this.create(t,!1,0,e,i,Array.prototype.slice.call(arguments,3))},repeat:function(t,e,i,s){return this.create(t,!1,e,i,s,Array.prototype.slice.call(arguments,4))},loop:function(t,e,i){return this.create(t,!0,0,e,i,Array.prototype.slice.call(arguments,3))},start:function(t){if(!this.running){this._started=this.game.time.time+(t||0),this.running=!0;for(var e=0;e<this.events.length;e++)this.events[e].tick=this.events[e].delay+this._started}},stop:function(t){this.running=!1,void 0===t&&(t=!0),t&&(this.events.length=0)},remove:function(t){for(var e=0;e<this.events.length;e++)if(this.events[e]===t)return this.events[e].pendingDelete=!0,!0;return!1},order:function(){this.events.length>0&&(this.events.sort(this.sortHandler),this.nextTick=this.events[0].tick)},sortHandler:function(t,e){return t.tick<e.tick?-1:t.tick>e.tick?1:0},clearPendingEvents:function(){for(this._i=this.events.length;this._i--;)this.events[this._i].pendingDelete&&this.events.splice(this._i,1);this._len=this.events.length,this._i=0},update:function(t){if(this.paused)return!0;if(this.elapsed=t-this._now,this._now=t,this.elapsed>this.timeCap&&this.adjustEvents(t-this.elapsed),this._marked=0,this.clearPendingEvents(),this.running&&this._now>=this.nextTick&&this._len>0){for(;this._i<this._len&&this.running;){var e=this.events[this._i];if(!(this._now>=e.tick)||e.pendingDelete)break;this._newTick=this._now+e.delay-(this._now-e.tick),this._newTick<0&&(this._newTick=this._now+e.delay),!0===e.loop?(e.tick=this._newTick,e.callback.apply(e.callbackContext,e.args)):e.repeatCount>0?(e.repeatCount--,e.tick=this._newTick,e.callback.apply(e.callbackContext,e.args)):(this._marked++,e.pendingDelete=!0,e.callback.apply(e.callbackContext,e.args)),this._i++}this.events.length>this._marked?this.order():(this.expired=!0,this.onComplete.dispatch(this))}return!this.expired||!this.autoDestroy},pause:function(){this.running&&(this._codePaused=!0,this.paused||(this._pauseStarted=this.game.time.time,this.paused=!0))},_pause:function(){!this.paused&&this.running&&(this._pauseStarted=this.game.time.time,this.paused=!0)},adjustEvents:function(t){for(var e=0;e<this.events.length;e++)if(!this.events[e].pendingDelete){var i=this.events[e].tick-t;i<0&&(i=0),this.events[e].tick=this._now+i}var s=this.nextTick-t;this.nextTick=s<0?this._now:this._now+s},resume:function(){if(this.paused){var t=this.game.time.time;this._pauseTotal+=t-this._now,this._now=t,this.adjustEvents(this._pauseStarted),this.paused=!1,this._codePaused=!1}},_resume:function(){this._codePaused||this.resume()},removeAll:function(){this.onComplete.removeAll(),this.events.length=0,this._len=0,this._i=0},destroy:function(){this.onComplete.removeAll(),this.running=!1,this.expired=!0,this.events=[],this._len=0,this._i=0}},Object.defineProperty(i.Timer.prototype,"next",{get:function(){return this.nextTick}}),Object.defineProperty(i.Timer.prototype,"duration",{get:function(){return this.running&&this.nextTick>this._now?this.nextTick-this._now:0}}),Object.defineProperty(i.Timer.prototype,"length",{get:function(){return this.events.length}}),Object.defineProperty(i.Timer.prototype,"ms",{get:function(){return this.running?this._now-this._started-this._pauseTotal:0}}),Object.defineProperty(i.Timer.prototype,"seconds",{get:function(){return this.running?.001*this.ms:0}}),i.Timer.prototype.constructor=i.Timer,i.TimerEvent=function(t,e,i,s,n,o,r,a){this.timer=t,this.delay=e,this.tick=i,this.repeatCount=s-1,this.loop=n,this.callback=o,this.callbackContext=r,this.args=a,this.pendingDelete=!1},i.TimerEvent.prototype.constructor=i.TimerEvent,i.AnimationManager=function(t){this.sprite=t,this.game=t.game,this.currentFrame=null,this.currentAnim=null,this.updateIfVisible=!0,this.isLoaded=!1,this._frameData=null,this._anims={},this._outputFrames=[]},i.AnimationManager.prototype={loadFrameData:function(t,e){if(void 0===t)return!1;if(this.isLoaded)for(var i in this._anims)this._anims[i].updateFrameData(t);return this._frameData=t,void 0===e||null===e?this.frame=0:"string"==typeof e?this.frameName=e:this.frame=e,this.isLoaded=!0,!0},copyFrameData:function(t,e){if(this._frameData=t.clone(),this.isLoaded)for(var i in this._anims)this._anims[i].updateFrameData(this._frameData);return void 0===e||null===e?this.frame=0:"string"==typeof e?this.frameName=e:this.frame=e,this.isLoaded=!0,!0},add:function(t,e,s,n,o){return e=e||[],s=s||60,void 0===n&&(n=!1),void 0===o&&(o=!(!e||"number"!=typeof e[0])),this._outputFrames=[],this._frameData.getFrameIndexes(e,o,this._outputFrames),this._anims[t]=new i.Animation(this.game,this.sprite,t,this._frameData,this._outputFrames,s,n),this.currentAnim=this._anims[t],this.sprite.tilingTexture&&(this.sprite.refreshTexture=!0),this._anims[t]},validateFrames:function(t,e){void 0===e&&(e=!0);for(var i=0;i<t.length;i++)if(!0===e){if(t[i]>this._frameData.total)return!1}else if(!1===this._frameData.checkFrameName(t[i]))return!1;return!0},play:function(t,e,i,s){if(this._anims[t])return this.currentAnim===this._anims[t]?!1===this.currentAnim.isPlaying?(this.currentAnim.paused=!1,this.currentAnim.play(e,i,s)):this.currentAnim:(this.currentAnim&&this.currentAnim.isPlaying&&this.currentAnim.stop(),this.currentAnim=this._anims[t],this.currentAnim.paused=!1,this.currentFrame=this.currentAnim.currentFrame,this.currentAnim.play(e,i,s))},stop:function(t,e){void 0===e&&(e=!1),!this.currentAnim||"string"==typeof t&&t!==this.currentAnim.name||this.currentAnim.stop(e)},update:function(){return!(this.updateIfVisible&&!this.sprite.visible)&&(!(!this.currentAnim||!this.currentAnim.update())&&(this.currentFrame=this.currentAnim.currentFrame,!0))},next:function(t){this.currentAnim&&(this.currentAnim.next(t),this.currentFrame=this.currentAnim.currentFrame)},previous:function(t){this.currentAnim&&(this.currentAnim.previous(t),this.currentFrame=this.currentAnim.currentFrame)},getAnimation:function(t){return"string"==typeof t&&this._anims[t]?this._anims[t]:null},refreshFrame:function(){},destroy:function(){t=null;for(var t in this._anims)this._anims.hasOwnProperty(t)&&this._anims[t].destroy();this._anims={},this._outputFrames=[],this._frameData=null,this.currentAnim=null,this.currentFrame=null,this.sprite=null,this.game=null}},i.AnimationManager.prototype.constructor=i.AnimationManager,Object.defineProperty(i.AnimationManager.prototype,"frameData",{get:function(){return this._frameData}}),Object.defineProperty(i.AnimationManager.prototype,"frameTotal",{get:function(){return this._frameData.total}}),Object.defineProperty(i.AnimationManager.prototype,"paused",{get:function(){return this.currentAnim.isPaused},set:function(t){this.currentAnim.paused=t}}),Object.defineProperty(i.AnimationManager.prototype,"name",{get:function(){if(this.currentAnim)return this.currentAnim.name}}),Object.defineProperty(i.AnimationManager.prototype,"frame",{get:function(){if(this.currentFrame)return this.currentFrame.index},set:function(t){var e;"number"==typeof t&&this._frameData&&(e=this._frameData.getFrame(t))&&(this.currentFrame=e,this.sprite.setFrame(this.currentFrame))}}),Object.defineProperty(i.AnimationManager.prototype,"frameName",{get:function(){if(this.currentFrame)return this.currentFrame.name},set:function(t){var e;"string"==typeof t&&this._frameData&&(e=this._frameData.getFrameByName(t))?(this.currentFrame=e,this._frameIndex=this.currentFrame.index,this.sprite.setFrame(this.currentFrame)):console.warn("Cannot set frameName: "+t)}}),i.Animation=function(t,e,s,n,o,r,a){void 0===a&&(a=!1),this.game=t,this._parent=e,this._frameData=n,this.name=s,this._frames=[],this._frames=this._frames.concat(o),this.delay=1e3/r,this.loop=a,this.loopCount=0,this.killOnComplete=!1,this.isFinished=!1,this.isPlaying=!1,this.isPaused=!1,this._pauseStartTime=0,this._frameIndex=0,this._frameDiff=0,this._frameSkip=1,this.currentFrame=this._frameData.getFrame(this._frames[this._frameIndex]),this.onStart=new i.Signal,this.onUpdate=null,this.onComplete=new i.Signal,this.onLoop=new i.Signal,this.isReversed=!1,this.game.onPause.add(this.onPause,this),this.game.onResume.add(this.onResume,this)},i.Animation.prototype={play:function(t,e,i){return"number"==typeof t&&(this.delay=1e3/t),"boolean"==typeof e&&(this.loop=e),void 0!==i&&(this.killOnComplete=i),this.isPlaying=!0,this.isFinished=!1,this.paused=!1,this.loopCount=0,this._timeLastFrame=this.game.time.time,this._timeNextFrame=this.game.time.time+this.delay,this._frameIndex=this.isReversed?this._frames.length-1:0,this.updateCurrentFrame(!1,!0),this._parent.events.onAnimationStart$dispatch(this._parent,this),this.onStart.dispatch(this._parent,this),this._parent.animations.currentAnim=this,this._parent.animations.currentFrame=this.currentFrame,this},restart:function(){this.isPlaying=!0,this.isFinished=!1,this.paused=!1,this.loopCount=0,this._timeLastFrame=this.game.time.time,this._timeNextFrame=this.game.time.time+this.delay,this._frameIndex=0,this.currentFrame=this._frameData.getFrame(this._frames[this._frameIndex]),this._parent.setFrame(this.currentFrame),this._parent.animations.currentAnim=this,this._parent.animations.currentFrame=this.currentFrame,this.onStart.dispatch(this._parent,this)},reverse:function(){return this.reversed=!this.reversed,this},reverseOnce:function(){return this.onComplete.addOnce(this.reverse,this),this.reverse()},setFrame:function(t,e){var i;if(void 0===e&&(e=!1),"string"==typeof t)for(s=0;s<this._frames.length;s++)this._frameData.getFrame(this._frames[s]).name===t&&(i=s);else if("number"==typeof t)if(e)i=t;else for(var s=0;s<this._frames.length;s++)this._frames[s]===t&&(i=s);if(i){var n=this.isReversed?-1:1;this._frameIndex=i-n,this._timeNextFrame=this.game.time.time,this.update()}},stop:function(t,e){void 0===t&&(t=!1),void 0===e&&(e=!1),this.isPlaying=!1,this.isFinished=!0,this.paused=!1,t&&(this.currentFrame=this._frameData.getFrame(this._frames[0]),this._parent.setFrame(this.currentFrame)),e&&(this._parent.events.onAnimationComplete$dispatch(this._parent,this),this.onComplete.dispatch(this._parent,this))},onPause:function(){this.isPlaying&&(this._frameDiff=this._timeNextFrame-this.game.time.time)},onResume:function(){this.isPlaying&&(this._timeNextFrame=this.game.time.time+this._frameDiff)},update:function(){return!this.isPaused&&(!!(this.isPlaying&&this.game.time.time>=this._timeNextFrame)&&(this._frameSkip=1,this._frameDiff=this.game.time.time-this._timeNextFrame,this._timeLastFrame=this.game.time.time,this._frameDiff>this.delay?(this._frameSkip=Math.floor(this._frameDiff/this.delay),this._frameDiff-=this._frameSkip*this.delay):this._frameDiff=0,this._timeNextFrame=this.game.time.time+(this.delay-this._frameDiff),this.isReversed?this._frameIndex-=this._frameSkip:this._frameIndex+=this._frameSkip,!this.isReversed&&this._frameIndex>=this._frames.length||this.isReversed&&this._frameIndex<=-1?this.loop?(this._frameIndex=Math.abs(this._frameIndex)%this._frames.length,this.isReversed&&(this._frameIndex=this._frames.length-1-this._frameIndex),this.currentFrame=this._frameData.getFrame(this._frames[this._frameIndex]),this.currentFrame&&this._parent.setFrame(this.currentFrame),this.loopCount++,this._parent.events.onAnimationLoop$dispatch(this._parent,this),this.onLoop.dispatch(this._parent,this),!this.onUpdate||(this.onUpdate.dispatch(this,this.currentFrame),!!this._frameData)):(this.complete(),!1):this.updateCurrentFrame(!0)))},updateCurrentFrame:function(t,e){if(void 0===e&&(e=!1),!this._frameData)return!1;var i=this.currentFrame.index;return this.currentFrame=this._frameData.getFrame(this._frames[this._frameIndex]),this.currentFrame&&(e||!e&&i!==this.currentFrame.index)&&this._parent.setFrame(this.currentFrame),!this.onUpdate||!t||(this.onUpdate.dispatch(this,this.currentFrame),!!this._frameData)},next:function(t){void 0===t&&(t=1);var e=this._frameIndex+t;e>=this._frames.length&&(this.loop?e%=this._frames.length:e=this._frames.length-1),e!==this._frameIndex&&(this._frameIndex=e,this.updateCurrentFrame(!0))},previous:function(t){void 0===t&&(t=1);var e=this._frameIndex-t;e<0&&(this.loop?e=this._frames.length+e:e++),e!==this._frameIndex&&(this._frameIndex=e,this.updateCurrentFrame(!0))},updateFrameData:function(t){this._frameData=t,this.currentFrame=this._frameData?this._frameData.getFrame(this._frames[this._frameIndex%this._frames.length]):null},destroy:function(){this._frameData&&(this.game.onPause.remove(this.onPause,this),this.game.onResume.remove(this.onResume,this),this.game=null,this._parent=null,this._frames=null,this._frameData=null,this.currentFrame=null,this.isPlaying=!1,this.onStart.dispose(),this.onLoop.dispose(),this.onComplete.dispose(),this.onUpdate&&this.onUpdate.dispose())},complete:function(){this._frameIndex=this._frames.length-1,this.currentFrame=this._frameData.getFrame(this._frames[this._frameIndex]),this.isPlaying=!1,this.isFinished=!0,this.paused=!1,this._parent.events.onAnimationComplete$dispatch(this._parent,this),this.onComplete.dispatch(this._parent,this),this.killOnComplete&&this._parent.kill()}},i.Animation.prototype.constructor=i.Animation,Object.defineProperty(i.Animation.prototype,"paused",{get:function(){return this.isPaused},set:function(t){this.isPaused=t,t?this._pauseStartTime=this.game.time.time:this.isPlaying&&(this._timeNextFrame=this.game.time.time+this.delay)}}),Object.defineProperty(i.Animation.prototype,"reversed",{get:function(){return this.isReversed},set:function(t){this.isReversed=t}}),Object.defineProperty(i.Animation.prototype,"frameTotal",{get:function(){return this._frames.length}}),Object.defineProperty(i.Animation.prototype,"frame",{get:function(){return null!==this.currentFrame?this.currentFrame.index:this._frameIndex},set:function(t){this.currentFrame=this._frameData.getFrame(this._frames[t]),null!==this.currentFrame&&(this._frameIndex=t,this._parent.setFrame(this.currentFrame),this.onUpdate&&this.onUpdate.dispatch(this,this.currentFrame))}}),Object.defineProperty(i.Animation.prototype,"speed",{get:function(){return 1e3/this.delay},set:function(t){t>0&&(this.delay=1e3/t)}}),Object.defineProperty(i.Animation.prototype,"enableUpdate",{get:function(){return null!==this.onUpdate},set:function(t){t&&null===this.onUpdate?this.onUpdate=new i.Signal:t||null===this.onUpdate||(this.onUpdate.dispose(),this.onUpdate=null)}}),i.Animation.generateFrameNames=function(t,e,s,n,o){void 0===n&&(n="");var r=[],a="";if(e<s)for(h=e;h<=s;h++)a=t+(a="number"==typeof o?i.Utils.pad(h.toString(),o,"0",1):h.toString())+n,r.push(a);else for(var h=e;h>=s;h--)a=t+(a="number"==typeof o?i.Utils.pad(h.toString(),o,"0",1):h.toString())+n,r.push(a);return r},i.Frame=function(t,e,s,n,o,r){this.index=t,this.x=e,this.y=s,this.width=n,this.height=o,0!==this.width&&0!==this.height||console.warn('Phaser.Frame: Frame "'+this.name+'" has a width or height of zero'),this.name=r,this.centerX=Math.floor(n/2),this.centerY=Math.floor(o/2),this.distance=i.Math.distance(0,0,n,o),this.rotated=!1,this.trimmed=!1,this.sourceSizeW=n,this.sourceSizeH=o,this.spriteSourceSizeX=0,this.spriteSourceSizeY=0,this.spriteSourceSizeW=0,this.spriteSourceSizeH=0,this.right=this.x+this.width,this.bottom=this.y+this.height},i.Frame.prototype={resize:function(t,e){this.width=t,this.height=e,this.centerX=Math.floor(t/2),this.centerY=Math.floor(e/2),this.distance=i.Math.distance(0,0,t,e),this.sourceSizeW=t,this.sourceSizeH=e,this.right=this.x+t,this.bottom=this.y+e},setTrim:function(t,e,i,s,n,o,r){this.trimmed=t,t&&(this.sourceSizeW=e,this.sourceSizeH=i,this.centerX=Math.floor(e/2),this.centerY=Math.floor(i/2),this.spriteSourceSizeX=s,this.spriteSourceSizeY=n,this.spriteSourceSizeW=o,this.spriteSourceSizeH=r)},clone:function(){var t=new i.Frame(this.index,this.x,this.y,this.width,this.height,this.name);for(var e in this)this.hasOwnProperty(e)&&(t[e]=this[e]);return t},getRect:function(t){return void 0===t?t=new i.Rectangle(this.x,this.y,this.width,this.height):t.setTo(this.x,this.y,this.width,this.height),t}},i.Frame.prototype.constructor=i.Frame,i.FrameData=function(){this._frames=[],this._frameNames=[]},i.FrameData.prototype={addFrame:function(t){return t.index=this._frames.length,this._frames.push(t),""!==t.name&&(this._frameNames[t.name]=t.index),t},getFrame:function(t){return t>=this._frames.length&&(t=0),this._frames[t]},getFrameByName:function(t){return"number"==typeof this._frameNames[t]?this._frames[this._frameNames[t]]:null},checkFrameName:function(t){return null!=this._frameNames[t]},clone:function(){for(var t=new i.FrameData,e=0;e<this._frames.length;e++)t._frames.push(this._frames[e].clone());for(var s in this._frameNames)this._frameNames.hasOwnProperty(s)&&t._frameNames.push(this._frameNames[s]);return t},getFrameRange:function(t,e,i){void 0===i&&(i=[]);for(var s=t;s<=e;s++)i.push(this._frames[s]);return i},getFrames:function(t,e,i){if(void 0===e&&(e=!0),void 0===i&&(i=[]),void 0===t||0===t.length)for(s=0;s<this._frames.length;s++)i.push(this._frames[s]);else for(var s=0;s<t.length;s++)e?i.push(this.getFrame(t[s])):i.push(this.getFrameByName(t[s]));return i},getFrameIndexes:function(t,e,i){if(void 0===e&&(e=!0),void 0===i&&(i=[]),void 0===t||0===t.length)for(s=0;s<this._frames.length;s++)i.push(this._frames[s].index);else for(var s=0;s<t.length;s++)e&&this._frames[t[s]]?i.push(this._frames[t[s]].index):this.getFrameByName(t[s])&&i.push(this.getFrameByName(t[s]).index);return i},destroy:function(){this._frames=null,this._frameNames=null}},i.FrameData.prototype.constructor=i.FrameData,Object.defineProperty(i.FrameData.prototype,"total",{get:function(){return this._frames.length}}),i.AnimationParser={spriteSheet:function(t,e,s,n,o,r,a,h){void 0===o&&(o=-1),void 0===r&&(r=0),void 0===a&&(a=0),void 0===h&&(h=0);var l=e;if("string"==typeof e&&(l=t.cache.getImage(e)),null===l)return null;var c=l.width,u=l.height;s<=0&&(s=Math.floor(-c/Math.min(-1,s))),n<=0&&(n=Math.floor(-u/Math.min(-1,n)));var d=Math.floor((c-r)/(s+a))*Math.floor((u-r)/(n+a));if(h>d||h<-d)return console.warn("Phaser.AnimationParser.spriteSheet: skipFrames = "+h.toString()+" is larger than total sprite number "+d.toString()),null;if(h<0&&(h=d+h),-1!==o&&(d=h+o),0===c||0===u||c<s||u<n||0===d)return console.warn("Phaser.AnimationParser.spriteSheet: '"+e+"'s width/height zero or width/height < given frameWidth/frameHeight"),null;for(var p=new i.FrameData,f=r,m=r,g=0;g<d;g++)p.addFrame(new i.Frame(g,f,m,s,n,"")),(f+=s+a)+s>c&&(f=r,m+=n+a);return p},JSONData:function(t,e){if(!e.frames)return console.warn("Phaser.AnimationParser.JSONData: Invalid Texture Atlas JSON given, missing 'frames' array"),void console.log(e);for(var s,n=new i.FrameData,o=e.frames,r=0;r<o.length;r++)s=n.addFrame(new i.Frame(r,o[r].frame.x,o[r].frame.y,o[r].frame.w,o[r].frame.h,o[r].filename)),o[r].trimmed&&s.setTrim(o[r].trimmed,o[r].sourceSize.w,o[r].sourceSize.h,o[r].spriteSourceSize.x,o[r].spriteSourceSize.y,o[r].spriteSourceSize.w,o[r].spriteSourceSize.h),o[r].rotated&&(s.rotated=!0);return n},JSONDataPyxel:function(t,e){if(["layers","tilewidth","tileheight","tileswide","tileshigh"].forEach(function(t){if(!e[t])return console.warn('Phaser.AnimationParser.JSONDataPyxel: Invalid Pyxel Tilemap JSON given, missing "'+t+'" key.'),void console.log(e)}),1!==e.layers.length)return console.warn("Phaser.AnimationParser.JSONDataPyxel: Too many layers, this parser only supports flat Tilemaps."),void console.log(e);for(var s=new i.FrameData,n=e.tileheight,o=e.tilewidth,r=e.layers[0].tiles,a=0;a<r.length;a++)s.addFrame(new i.Frame(a,r[a].x,r[a].y,o,n,"frame_"+a)).setTrim(!1);return s},JSONDataHash:function(t,e){if(!e.frames)return console.warn("Phaser.AnimationParser.JSONDataHash: Invalid Texture Atlas JSON given, missing 'frames' object"),void console.log(e);var s,n=new i.FrameData,o=e.frames,r=0;for(var a in o)s=n.addFrame(new i.Frame(r,o[a].frame.x,o[a].frame.y,o[a].frame.w,o[a].frame.h,a)),o[a].trimmed&&s.setTrim(o[a].trimmed,o[a].sourceSize.w,o[a].sourceSize.h,o[a].spriteSourceSize.x,o[a].spriteSourceSize.y,o[a].spriteSourceSize.w,o[a].spriteSourceSize.h),o[a].rotated&&(s.rotated=!0),r++;return n},XMLData:function(t,e){if(e.getElementsByTagName("TextureAtlas")){for(var s,n,o,r,a,h,l,c,u,d,p,f=new i.FrameData,m=e.getElementsByTagName("SubTexture"),g=0;g<m.length;g++)n=(o=m[g].attributes).name.value,r=parseInt(o.x.value,10),a=parseInt(o.y.value,10),h=parseInt(o.width.value,10),l=parseInt(o.height.value,10),c=null,u=null,o.frameX&&(c=Math.abs(parseInt(o.frameX.value,10)),u=Math.abs(parseInt(o.frameY.value,10)),d=parseInt(o.frameWidth.value,10),p=parseInt(o.frameHeight.value,10)),s=f.addFrame(new i.Frame(g,r,a,h,l,n)),null===c&&null===u||s.setTrim(!0,h,l,c,u,d,p);return f}console.warn("Phaser.AnimationParser.XMLData: Invalid Texture Atlas XML given, missing <TextureAtlas> tag")}},i.Cache=function(t){this.game=t,this.autoResolveURL=!1,this._cache={canvas:{},image:{},texture:{},sound:{},video:{},text:{},json:{},xml:{},physics:{},tilemap:{},binary:{},bitmapData:{},bitmapFont:{},shader:{},renderTexture:{},compressedTexture:{}},this._urlMap={},this._urlResolver=new Image,this._urlTemp=null,this.onSoundUnlock=new i.Signal,this._cacheMap=[],this._cacheMap[i.Cache.CANVAS]=this._cache.canvas,this._cacheMap[i.Cache.IMAGE]=this._cache.image,this._cacheMap[i.Cache.TEXTURE]=this._cache.texture,this._cacheMap[i.Cache.SOUND]=this._cache.sound,this._cacheMap[i.Cache.TEXT]=this._cache.text,this._cacheMap[i.Cache.PHYSICS]=this._cache.physics,this._cacheMap[i.Cache.TILEMAP]=this._cache.tilemap,this._cacheMap[i.Cache.BINARY]=this._cache.binary,this._cacheMap[i.Cache.BITMAPDATA]=this._cache.bitmapData,this._cacheMap[i.Cache.BITMAPFONT]=this._cache.bitmapFont,this._cacheMap[i.Cache.JSON]=this._cache.json,this._cacheMap[i.Cache.XML]=this._cache.xml,this._cacheMap[i.Cache.VIDEO]=this._cache.video,this._cacheMap[i.Cache.SHADER]=this._cache.shader,this._cacheMap[i.Cache.RENDER_TEXTURE]=this._cache.renderTexture,this._pendingCount=0,this.onReady=new i.Signal,this._addImages()},i.Cache.CANVAS=1,i.Cache.IMAGE=2,i.Cache.TEXTURE=3,i.Cache.SOUND=4,i.Cache.TEXT=5,i.Cache.PHYSICS=6,i.Cache.TILEMAP=7,i.Cache.BINARY=8,i.Cache.BITMAPDATA=9,i.Cache.BITMAPFONT=10,i.Cache.JSON=11,i.Cache.XML=12,i.Cache.VIDEO=13,i.Cache.SHADER=14,i.Cache.RENDER_TEXTURE=15,i.Cache.DEFAULT=null,i.Cache.DEFAULT_KEY="__default",i.Cache.DEFAULT_SRC="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgAQMAAABJtOi3AAAAA1BMVEX///+nxBvIAAAAAXRSTlMAQObYZgAAABVJREFUeF7NwIEAAAAAgKD9qdeocAMAoAABm3DkcAAAAABJRU5ErkJggg==",i.Cache.MISSING=null,i.Cache.MISSING_KEY="__missing",i.Cache.MISSING_SRC="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAIAAAD8GO2jAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJ9JREFUeNq01ssOwyAMRFG46v//Mt1ESmgh+DFmE2GPOBARKb2NVjo+17PXLD8a1+pl5+A+wSgFygymWYHBb0FtsKhJDdZlncG2IzJ4ayoMDv20wTmSMzClEgbWYNTAkQ0Z+OJ+A/eWnAaR9+oxCF4Os0H8htsMUp+pwcgBBiMNnAwF8GqIgL2hAzaGFFgZauDPKABmowZ4GL369/0rwACp2yA/ttmvsQAAAABJRU5ErkJggg==",i.Cache.READY_TIMEOUT=1e3,i.Cache.prototype={addCompressedTextureMetaData:function(t,e,s,n){this.checkImageKey(t)&&this.removeImage(t);var o=s in i.LoaderParser?i.LoaderParser[s](n):n,r={key:t,url:e,data:o,base:new PIXI.BaseTexture(o,null,this.game.resolution),frame:new i.Frame(0,0,0,o.width,o.height,t),frameData:new i.FrameData,fileFormat:s};return r.frameData.addFrame(new i.Frame(0,0,0,o.width,o.height,e)),this._cache.image[t]=r,this._resolveURL(e,r),r},addCanvas:function(t,e,i){void 0===i&&(i=e.getContext("2d")),this._cache.canvas[t]={canvas:e,context:i}},addImage:function(t,e,s){this.checkImageKey(t)&&this.removeImage(t),!1===s.complete&&console.warn('Phaser.Cache.addImage: Image "'+t+"\" hasn't been retrieved yet");var n={key:t,url:e,data:s,base:new PIXI.BaseTexture(s,null,this.game.resolution),frame:new i.Frame(0,0,0,s.width,s.height,t),frameData:new i.FrameData};return n.frameData.addFrame(new i.Frame(0,0,0,s.width,s.height,e)),this._cache.image[t]=n,this._resolveURL(e,n),"__default"===t?i.Cache.DEFAULT=new PIXI.Texture(n.base):"__missing"===t&&(i.Cache.MISSING=new PIXI.Texture(n.base)),n},addImageAsync:function(t,e,i){var s=this,n=new Image;n.onload=function(){i.call(this,s.addImage(t,null,n)),s._removePending(),n.onload=null},this._addPending(),n.src=e},addDefaultImage:function(){this.addImageAsync(i.Cache.DEFAULT_KEY,i.Cache.DEFAULT_SRC,function(t){t.base.skipRender=!0,i.Cache.DEFAULT=new PIXI.Texture(t.base)})},addMissingImage:function(){this.addImageAsync(i.Cache.MISSING_KEY,i.Cache.MISSING_SRC,function(t){i.Cache.MISSING=new PIXI.Texture(t.base)})},addSound:function(t,e,i,s,n){void 0===s&&(s=!0,n=!1),void 0===n&&(s=!1,n=!0);var o=!1;n&&(o=!0),this._cache.sound[t]={url:e,data:i,isDecoding:!1,decoded:o,webAudio:s,audioTag:n,locked:this.game.sound.touchLocked},this._resolveURL(e,this._cache.sound[t])},addText:function(t,e,i){this._cache.text[t]={url:e,data:i},this._resolveURL(e,this._cache.text[t])},addPhysicsData:function(t,e,i,s){this._cache.physics[t]={url:e,data:i,format:s},this._resolveURL(e,this._cache.physics[t])},addTilemap:function(t,e,i,s){this._cache.tilemap[t]={url:e,data:i,format:s},this._resolveURL(e,this._cache.tilemap[t])},addBinary:function(t,e){this._cache.binary[t]=e},addBitmapData:function(t,e,s){return e.key=t,void 0===s&&(s=new i.FrameData).addFrame(e.textureFrame),this._cache.bitmapData[t]={data:e,frameData:s},e},addBitmapFont:function(t,e,s,n,o,r,a){var h={url:e,data:s,font:null,base:new PIXI.BaseTexture(s,null,this.game.resolution)};void 0===r&&(r=0),void 0===a&&(a=0),h.font="json"===o?i.LoaderParser.jsonBitmapFont(n,h.base,r,a,!1,this.game.resolution):i.LoaderParser.xmlBitmapFont(n,h.base,r,a,!1,this.game.resolution),this._cache.bitmapFont[t]=h,this._resolveURL(e,h)},addBitmapFontFromAtlas:function(t,e,s,n,o,r,a){var h=this.getFrameByName(e,s);if(h){var l={font:null,base:this.getBaseTexture(e),frame:h};void 0===r&&(r=0),void 0===a&&(a=0);var c;"json"===o?(c=this.getJSON(n),l.font=i.LoaderParser.jsonBitmapFont(c,l.base,r,a,h,this.game.resolution)):(c=this.getXML(n),l.font=i.LoaderParser.xmlBitmapFont(c,l.base,r,a,h,this.game.resolution)),this._cache.bitmapFont[t]=l}},addJSON:function(t,e,i){this._cache.json[t]={url:e,data:i},this._resolveURL(e,this._cache.json[t])},addXML:function(t,e,i){this._cache.xml[t]={url:e,data:i},this._resolveURL(e,this._cache.xml[t])},addVideo:function(t,e,i,s){this._cache.video[t]={url:e,data:i,isBlob:s,locked:!0},this._resolveURL(e,this._cache.video[t])},addShader:function(t,e,i){this._cache.shader[t]={url:e,data:i},this._resolveURL(e,this._cache.shader[t])},addRenderTexture:function(t,e){this._cache.renderTexture[t]={texture:e,frame:new i.Frame(0,0,0,e.width,e.height,"","")}},addSpriteSheet:function(t,e,s,n,o,r,a,h,l){void 0===r&&(r=-1),void 0===a&&(a=0),void 0===h&&(h=0);var c={key:t,url:e,data:s,frameWidth:n,frameHeight:o,margin:a,spacing:h,base:new PIXI.BaseTexture(s,null,this.game.resolution),frameData:i.AnimationParser.spriteSheet(this.game,s,n,o,r,a,h,l)};this._cache.image[t]=c,this._resolveURL(e,c)},addTextureAtlas:function(t,e,s,n,o){var r={key:t,url:e,data:s,base:new PIXI.BaseTexture(s,null,this.game.resolution)};o===i.Loader.TEXTURE_ATLAS_XML_STARLING?r.frameData=i.AnimationParser.XMLData(this.game,n,t):o===i.Loader.TEXTURE_ATLAS_JSON_PYXEL?r.frameData=i.AnimationParser.JSONDataPyxel(this.game,n,t):Array.isArray(n.frames)?r.frameData=i.AnimationParser.JSONData(this.game,n,t):r.frameData=i.AnimationParser.JSONDataHash(this.game,n,t),this._cache.image[t]=r,this._resolveURL(e,r)},reloadSound:function(t){var e=this,i=this.getSound(t);i&&(i.data.src=i.url,i.data.addEventListener("canplaythrough",function(){return e.reloadSoundComplete(t)},!1),i.data.load())},reloadSoundComplete:function(t){var e=this.getSound(t);e&&(e.locked=!1,this.onSoundUnlock.dispatch(t))},updateSound:function(t,e,i){var s=this.getSound(t);s&&(s[e]=i)},decodedSound:function(t,e){var i=this.getSound(t);i.data=e,i.decoded=!0,i.isDecoding=!1},isSoundDecoded:function(t){var e=this.getItem(t,i.Cache.SOUND,"isSoundDecoded");if(e)return e.decoded},isSoundReady:function(t){var e=this.getItem(t,i.Cache.SOUND,"isSoundDecoded");if(e)return e.decoded&&!this.game.sound.touchLocked},checkKey:function(t,e){return!!this._cacheMap[t][e]},checkURL:function(t){return!!this._urlMap[this._resolveURL(t)]},checkCanvasKey:function(t){return this.checkKey(i.Cache.CANVAS,t)},checkImageKey:function(t){return this.checkKey(i.Cache.IMAGE,t)},checkTextureKey:function(t){return this.checkKey(i.Cache.TEXTURE,t)},checkSoundKey:function(t){return this.checkKey(i.Cache.SOUND,t)},checkTextKey:function(t){return this.checkKey(i.Cache.TEXT,t)},checkPhysicsKey:function(t){return this.checkKey(i.Cache.PHYSICS,t)},checkTilemapKey:function(t){return this.checkKey(i.Cache.TILEMAP,t)},checkBinaryKey:function(t){return this.checkKey(i.Cache.BINARY,t)},checkBitmapDataKey:function(t){return this.checkKey(i.Cache.BITMAPDATA,t)},checkBitmapFontKey:function(t){return this.checkKey(i.Cache.BITMAPFONT,t)},checkJSONKey:function(t){return this.checkKey(i.Cache.JSON,t)},checkXMLKey:function(t){return this.checkKey(i.Cache.XML,t)},checkVideoKey:function(t){return this.checkKey(i.Cache.VIDEO,t)},checkShaderKey:function(t){return this.checkKey(i.Cache.SHADER,t)},checkRenderTextureKey:function(t){return this.checkKey(i.Cache.RENDER_TEXTURE,t)},getItem:function(t,e,i,s){return this.checkKey(e,t)?void 0===s?this._cacheMap[e][t]:this._cacheMap[e][t][s]:(i&&console.warn("Phaser.Cache."+i+': Key "'+t+'" not found in Cache.'),null)},getCanvas:function(t){return this.getItem(t,i.Cache.CANVAS,"getCanvas","canvas")},getImage:function(t,e){void 0!==t&&null!==t||(t="__default"),void 0===e&&(e=!1);var s=this.getItem(t,i.Cache.IMAGE,"getImage");return null===s&&(s=this.getItem("__missing",i.Cache.IMAGE,"getImage")),e?s:s.data},getTextureFrame:function(t){return this.getItem(t,i.Cache.TEXTURE,"getTextureFrame","frame")},getSound:function(t){return this.getItem(t,i.Cache.SOUND,"getSound")},getSoundData:function(t){return this.getItem(t,i.Cache.SOUND,"getSoundData","data")},getText:function(t){return this.getItem(t,i.Cache.TEXT,"getText","data")},getPhysicsData:function(t,e,s){var n=this.getItem(t,i.Cache.PHYSICS,"getPhysicsData","data");if(null===n||void 0===e||null===e)return n;if(n[e]){var o=n[e];if(!o||!s)return o;for(var r in o)if((r=o[r]).fixtureKey===s)return r;console.warn('Phaser.Cache.getPhysicsData: Could not find given fixtureKey: "'+s+" in "+t+'"')}else console.warn('Phaser.Cache.getPhysicsData: Invalid key/object: "'+t+" / "+e+'"');return null},getTilemapData:function(t){return this.getItem(t,i.Cache.TILEMAP,"getTilemapData")},getBinary:function(t){return this.getItem(t,i.Cache.BINARY,"getBinary")},getBitmapData:function(t){return this.getItem(t,i.Cache.BITMAPDATA,"getBitmapData","data")},getBitmapFont:function(t){return this.getItem(t,i.Cache.BITMAPFONT,"getBitmapFont")},getJSON:function(t,e){var s=this.getItem(t,i.Cache.JSON,"getJSON","data");return s?e?i.Utils.extend(!0,Array.isArray(s)?[]:{},s):s:null},getXML:function(t){return this.getItem(t,i.Cache.XML,"getXML","data")},getVideo:function(t){return this.getItem(t,i.Cache.VIDEO,"getVideo")},getShader:function(t){return this.getItem(t,i.Cache.SHADER,"getShader","data")},getRenderTexture:function(t){return this.getItem(t,i.Cache.RENDER_TEXTURE,"getRenderTexture")},getBaseTexture:function(t,e){return void 0===e&&(e=i.Cache.IMAGE),this.getItem(t,e,"getBaseTexture","base")},getFrame:function(t,e){return void 0===e&&(e=i.Cache.IMAGE),this.getItem(t,e,"getFrame","frame")},getFrameCount:function(t,e){var i=this.getFrameData(t,e);return i?i.total:0},getFrameData:function(t,e){return void 0===e&&(e=i.Cache.IMAGE),this.getItem(t,e,"getFrameData","frameData")},hasFrameData:function(t,e){return void 0===e&&(e=i.Cache.IMAGE),null!==this.getItem(t,e,"","frameData")},updateFrameData:function(t,e,s){void 0===s&&(s=i.Cache.IMAGE),this._cacheMap[s][t]&&(this._cacheMap[s][t].frameData=e)},getFrameByIndex:function(t,e,i){var s=this.getFrameData(t,i);return s?s.getFrame(e):null},getFrameByName:function(t,e,i){var s=this.getFrameData(t,i);return s?s.getFrameByName(e):null},getURL:function(t){return(t=this._resolveURL(t))?this._urlMap[t]:(console.warn('Phaser.Cache.getUrl: Invalid url: "'+t+'" or Cache.autoResolveURL was false'),null)},getKeys:function(t){void 0===t&&(t=i.Cache.IMAGE);var e=[];if(this._cacheMap[t])for(var s in this._cacheMap[t])"__default"!==s&&"__missing"!==s&&e.push(s);return e},removeCanvas:function(t){delete this._cache.canvas[t]},removeImage:function(t,e){void 0===e&&(e=!0);var i=this.getImage(t,!0);e&&i.base&&i.base.destroy(),delete this._cache.image[t]},removeSound:function(t){delete this._cache.sound[t]},removeText:function(t){delete this._cache.text[t]},removePhysics:function(t){delete this._cache.physics[t]},removeTilemap:function(t){delete this._cache.tilemap[t]},removeBinary:function(t){delete this._cache.binary[t]},removeBitmapData:function(t){delete this._cache.bitmapData[t]},removeBitmapFont:function(t){delete this._cache.bitmapFont[t]},removeJSON:function(t){delete this._cache.json[t]},removeXML:function(t){delete this._cache.xml[t]},removeVideo:function(t){delete this._cache.video[t]},removeShader:function(t){delete this._cache.shader[t]},removeRenderTexture:function(t){delete this._cache.renderTexture[t]},removeSpriteSheet:function(t){delete this._cache.spriteSheet[t]},removeTextureAtlas:function(t){delete this._cache.image[t]},clearGLTextures:function(){for(var t in this._cache.image)this._cache.image[t].base._glTextures=[]},_resolveURL:function(t,e){return this.autoResolveURL?(this._urlResolver.src=this.game.load.baseURL+t,this._urlTemp=this._urlResolver.src,this._urlResolver.src="",e&&(this._urlMap[this._urlTemp]=e),this._urlTemp):null},destroy:function(){for(var t=0;t<this._cacheMap.length;t++){var e=this._cacheMap[t];for(var i in e)"__default"!==i&&"__missing"!==i&&(this.destroyItem(e[i]),delete e[i])}this._urlMap=null,this._urlResolver=null,this._urlTemp=null},destroyItem:function(t){t.destroy?t.destroy():(t.base&&t.base.destroy&&t.base.destroy(),t.data&&t.data.destroy&&t.data.destroy(),t.frameData&&t.frameData.destroy&&t.frameData.destroy(),t.texture&&t.texture.destroy&&t.texture.destroy(!0))},_addImages:function(){this._pendingCount=0,this.addDefaultImage(),this.addMissingImage();var t=this,e=i.Cache.READY_TIMEOUT;i.Cache.READY_TIMEOUT>0?setTimeout(function(){t.isReady||(console.warn("Phaser.Cache: Still waiting for images after %s ms.",e),t._ready())},i.Cache.READY_TIMEOUT):this._ready()},_addPending:function(){this._pendingCount+=1},_removePending:function(){this._pendingCount-=1,this._checkReady()},_checkReady:function(){this.isReady&&this._ready()},_ready:function(){this._pendingCount=0,this.onReady.dispatch(this)}},i.Cache.prototype.constructor=i.Cache,Object.defineProperty(i.Cache.prototype,"isReady",{get:function(){return this._pendingCount<=0}}),i.Loader=function(t){this.game=t,this.cache=t.cache,this.resetLocked=!1,this.isLoading=!1,this.hasLoaded=!1,this.preloadSprite=null,this.crossOrigin=!1,this.baseURL="",this.path="",this.headers={requestedWith:!1,json:"application/json",xml:"application/xml"},this.onLoadStart=new i.Signal,this.onLoadComplete=new i.Signal,this.onPackComplete=new i.Signal,this.onFileStart=new i.Signal,this.onFileComplete=new i.Signal,this.onFileError=new i.Signal,this.useXDomainRequest=!1,this._warnedAboutXDomainRequest=!1,this.enableParallel=!0,this.maxParallelDownloads=4,this._withSyncPointDepth=0,this._fileList=[],this._flightQueue=[],this._processingHead=0,this._fileLoadStarted=!1,this._totalPackCount=0,this._totalFileCount=0,this._loadedPackCount=0,this._loadedFileCount=0},i.Loader.TEXTURE_ATLAS_JSON_ARRAY=0,i.Loader.TEXTURE_ATLAS_JSON_HASH=1,i.Loader.TEXTURE_ATLAS_XML_STARLING=2,i.Loader.PHYSICS_LIME_CORONA_JSON=3,i.Loader.PHYSICS_PHASER_JSON=4,i.Loader.TEXTURE_ATLAS_JSON_PYXEL=5,i.Loader.prototype={setPreloadSprite:function(t,e){e=e||0,this.preloadSprite={sprite:t,direction:e,width:t.width,height:t.height,rect:null},this.preloadSprite.rect=0===e?new i.Rectangle(0,0,1,t.height):new i.Rectangle(0,0,t.width,1),t.crop(this.preloadSprite.rect),t.visible=!0},resize:function(){this.preloadSprite&&this.preloadSprite.height!==this.preloadSprite.sprite.height&&(this.preloadSprite.rect.height=this.preloadSprite.sprite.height)},checkKeyExists:function(t,e){return this.getAssetIndex(t,e)>-1},getAssetIndex:function(t,e){for(var i=-1,s=0;s<this._fileList.length;s++){var n=this._fileList[s];if(n.type===t&&n.key===e&&(i=s,!n.loaded&&!n.loading))break}return i},getAsset:function(t,e){var i=this.getAssetIndex(t,e);return i>-1&&{index:i,file:this._fileList[i]}},reset:function(t,e){void 0===e&&(e=!1),this.resetLocked||(t&&(this.preloadSprite=null),this.isLoading=!1,this._processingHead=0,this._fileList.length=0,this._flightQueue.length=0,this._fileLoadStarted=!1,this._totalFileCount=0,this._totalPackCount=0,this._loadedPackCount=0,this._loadedFileCount=0,e&&(this.onLoadStart.removeAll(),this.onLoadComplete.removeAll(),this.onPackComplete.removeAll(),this.onFileStart.removeAll(),this.onFileComplete.removeAll(),this.onFileError.removeAll()))},addToFileList:function(t,e,i,s,n,o){if(void 0===n&&(n=!1),void 0===e||""===e)return console.warn("Phaser.Loader: Invalid or no key given of type "+t),this;if(void 0===i||null===i){if(!o)return console.warn("Phaser.Loader: No URL given for file type: "+t+" key: "+e),this;i=e+o}var r={type:t,key:e,path:this.path,url:i,syncPoint:this._withSyncPointDepth>0,data:null,loading:!1,loaded:!1,error:!1};if(s)for(var a in s)r[a]=s[a];var h=this.getAssetIndex(t,e);if(n&&h>-1){var l=this._fileList[h];l.loading||l.loaded?(this._fileList.push(r),this._totalFileCount++):this._fileList[h]=r}else-1===h&&(this._fileList.push(r),this._totalFileCount++);return this},replaceInFileList:function(t,e,i,s){return this.addToFileList(t,e,i,s,!0)},pack:function(t,e,i,s){if(void 0===e&&(e=null),void 0===i&&(i=null),void 0===s&&(s=null),!e&&!i)return console.warn("Phaser.Loader.pack - Both url and data are null. One must be set."),this;var n={type:"packfile",key:t,url:e,path:this.path,syncPoint:!0,data:null,loading:!1,loaded:!1,error:!1,callbackContext:s};i&&("string"==typeof i&&(i=JSON.parse(i)),n.data=i||{},n.loaded=!0);for(var o=0;o<this._fileList.length+1;o++){var r=this._fileList[o];if(!r||!r.loaded&&!r.loading&&"packfile"!==r.type){this._fileList.splice(o,0,n),this._totalPackCount++;break}}return this},image:function(t,e,i){return"object"==typeof e?this.texture(t,e,i):this.addToFileList("image",t,e,void 0,i,".png")},imageFromBitmapData:function(t,e,i){return this.image(t,e.canvas.toDataURL("image/png"),i)},imageFromGrid:function(t,e,i,s,n,o){return this.imageFromBitmapData(t,this.game.create.grid(t,e,i,s,n,o,!1))},imageFromTexture:function(t,e,i,s,n){return this.imageFromBitmapData(t,this.game.create.texture(t,e,i,s,n,!1))},texture:function(t,e,s){if(this.game.renderType===i.WEBGL){var n,o=this.game.renderer.extensions.compression;for(n in e)if(n.toUpperCase()in o)return this.addToFileList("texture",t,e[n],void 0,s,".pvr")}return e.truecolor&&this.addToFileList("image",t,e.truecolor,void 0,s,".png"),this},images:function(t,e){if(Array.isArray(e))for(i=0;i<t.length;i++)this.image(t[i],e[i]);else for(var i=0;i<t.length;i++)this.image(t[i]);return this},text:function(t,e,i){return this.addToFileList("text",t,e,void 0,i,".txt")},json:function(t,e,i){return this.addToFileList("json",t,e,void 0,i,".json")},shader:function(t,e,i){return this.addToFileList("shader",t,e,void 0,i,".frag")},xml:function(t,e,i){return this.addToFileList("xml",t,e,void 0,i,".xml")},script:function(t,e,i,s){return void 0===i&&(i=!1),!1!==i&&void 0===s&&(s=this),this.addToFileList("script",t,e,{syncPoint:!0,callback:i,callbackContext:s},!1,".js")},binary:function(t,e,i,s){return void 0===i&&(i=!1),!1!==i&&void 0===s&&(s=i),this.addToFileList("binary",t,e,{callback:i,callbackContext:s},!1,".bin")},spritesheet:function(t,e,i,s,n,o,r,a){return void 0===n&&(n=-1),void 0===o&&(o=0),void 0===r&&(r=0),void 0===a&&(a=0),this.addToFileList("spritesheet",t,e,{frameWidth:i,frameHeight:s,frameMax:n,margin:o,spacing:r,skipFrames:a},!1,".png")},audio:function(t,e,i){return this.game.sound.noAudio?this:(void 0===i&&(i=!0),"string"==typeof e&&(e=[e]),this.addToFileList("audio",t,e,{buffer:null,autoDecode:i}))},audioSprite:function(t,e,i,s,n){return this.game.sound.noAudio?this:(void 0===i&&(i=null),void 0===s&&(s=null),void 0===n&&(n=!0),this.audio(t,e,n),i?this.json(t+"-audioatlas",i):s?("string"==typeof s&&(s=JSON.parse(s)),this.cache.addJSON(t+"-audioatlas","",s)):console.warn("Phaser.Loader.audiosprite - You must specify either a jsonURL or provide a jsonData object"),this)},audiosprite:function(t,e,i,s,n){return this.audioSprite(t,e,i,s,n)},video:function(t,e,i,s){return void 0===i&&(i=this.game.device.firefox?"loadeddata":"canplaythrough"),void 0===s&&(s=!1),"string"==typeof e&&(e=[e]),this.addToFileList("video",t,e,{buffer:null,asBlob:s,loadEvent:i})},tilemap:function(t,e,s,n){if(void 0===e&&(e=null),void 0===s&&(s=null),void 0===n&&(n=i.Tilemap.CSV),e||s||(e=n===i.Tilemap.CSV?t+".csv":t+".json"),s){switch(n){case i.Tilemap.CSV:break;case i.Tilemap.TILED_JSON:"string"==typeof s&&(s=JSON.parse(s))}this.cache.addTilemap(t,null,s,n)}else this.addToFileList("tilemap",t,e,{format:n});return this},physics:function(t,e,s,n){return void 0===e&&(e=null),void 0===s&&(s=null),void 0===n&&(n=i.Physics.LIME_CORONA_JSON),e||s||(e=t+".json"),s?("string"==typeof s&&(s=JSON.parse(s)),this.cache.addPhysicsData(t,null,s,n)):this.addToFileList("physics",t,e,{format:n}),this},bitmapFont:function(t,e,i,s,n,o){if(void 0!==e&&null!==e||(e=t+".png"),void 0===i&&(i=null),void 0===s&&(s=null),null===i&&null===s&&(i=t+".xml"),void 0===n&&(n=0),void 0===o&&(o=0),i)this.addToFileList("bitmapfont",t,e,{atlasURL:i,xSpacing:n,ySpacing:o});else if("string"==typeof s){var r,a;try{r=JSON.parse(s)}catch(t){a=this.parseXml(s)}if(!a&&!r)throw new Error("Phaser.Loader. Invalid Bitmap Font atlas given");this.addToFileList("bitmapfont",t,e,{atlasURL:null,atlasData:r||a,atlasType:r?"json":"xml",xSpacing:n,ySpacing:o})}return this},atlasJSONArray:function(t,e,s,n){return this.atlas(t,e,s,n,i.Loader.TEXTURE_ATLAS_JSON_ARRAY)},atlasJSONHash:function(t,e,s,n){return this.atlas(t,e,s,n,i.Loader.TEXTURE_ATLAS_JSON_HASH)},atlasXML:function(t,e,s,n){return void 0===s&&(s=null),void 0===n&&(n=null),s||n||(s=t+".xml"),this.atlas(t,e,s,n,i.Loader.TEXTURE_ATLAS_XML_STARLING)},atlas:function(t,e,s,n,o){if(void 0!==e&&null!==e||(e=t+".png"),void 0===s&&(s=null),void 0===n&&(n=null),void 0===o&&(o=i.Loader.TEXTURE_ATLAS_JSON_ARRAY),s||n||(s=o===i.Loader.TEXTURE_ATLAS_XML_STARLING?t+".xml":t+".json"),s)this.addToFileList("textureatlas",t,e,{atlasURL:s,format:o});else{switch(o){case i.Loader.TEXTURE_ATLAS_JSON_ARRAY:"string"==typeof n&&(n=JSON.parse(n));break;case i.Loader.TEXTURE_ATLAS_XML_STARLING:if("string"==typeof n){var r=this.parseXml(n);if(!r)throw new Error("Phaser.Loader. Invalid Texture Atlas XML given");n=r}}this.addToFileList("textureatlas",t,e,{atlasURL:null,atlasData:n,format:o})}return this},withSyncPoint:function(t,e){this._withSyncPointDepth++;try{t.call(e||this,this)}finally{this._withSyncPointDepth--}return this},addSyncPoint:function(t,e){var i=this.getAsset(t,e);return i&&(i.file.syncPoint=!0),this},removeFile:function(t,e){var i=this.getAsset(t,e);i&&(i.loaded||i.loading||this._fileList.splice(i.index,1))},removeAll:function(){this._fileList.length=0,this._flightQueue.length=0},start:function(){this.isLoading||(this.hasLoaded=!1,this.isLoading=!0,this.updateProgress(),this.processLoadQueue())},processLoadQueue:function(){if(!this.isLoading)return console.warn("Phaser.Loader - active loading canceled / reset"),void this.finishedLoading(!0);for(i=0;i<this._flightQueue.length;i++)((s=this._flightQueue[i]).loaded||s.error)&&(this._flightQueue.splice(i,1),i--,s.loading=!1,s.requestUrl=null,s.requestObject=null,s.error&&this.onFileError.dispatch(s.key,s),"packfile"!==s.type?(this._loadedFileCount++,this.onFileComplete.dispatch(this.progress,s.key,!s.error,this._loadedFileCount,this._totalFileCount)):"packfile"===s.type&&s.error&&(this._loadedPackCount++,this.onPackComplete.dispatch(s.key,!s.error,this._loadedPackCount,this._totalPackCount)));for(var t=!1,e=this.enableParallel?Math.max(1,this.maxParallelDownloads):1,i=this._processingHead;i<this._fileList.length;i++){var s=this._fileList[i];if("packfile"===s.type&&!s.error&&s.loaded&&i===this._processingHead&&(this.processPack(s),this._loadedPackCount++,this.onPackComplete.dispatch(s.key,!s.error,this._loadedPackCount,this._totalPackCount)),s.loaded||s.error?i===this._processingHead&&(this._processingHead=i+1):!s.loading&&this._flightQueue.length<e&&("packfile"!==s.type||s.data?t||(this._fileLoadStarted||(this._fileLoadStarted=!0,this.onLoadStart.dispatch()),this._flightQueue.push(s),s.loading=!0,this.onFileStart.dispatch(this.progress,s.key,s.url),this.loadFile(s)):(this._flightQueue.push(s),s.loading=!0,this.loadFile(s))),!s.loaded&&s.syncPoint&&(t=!0),this._flightQueue.length>=e||t&&this._loadedPackCount===this._totalPackCount)break}if(this.updateProgress(),this._processingHead>=this._fileList.length)this.finishedLoading();else if(!this._flightQueue.length){console.warn("Phaser.Loader - aborting: processing queue empty, loading may have stalled");var n=this;setTimeout(function(){n.finishedLoading(!0)},2e3)}},finishedLoading:function(t){this.hasLoaded||(this.hasLoaded=!0,this.isLoading=!1,t||this._fileLoadStarted||(this._fileLoadStarted=!0,this.onLoadStart.dispatch()),this.reset(),this.onLoadComplete.dispatch(),this.game.state&&this.game.state.loadComplete())},asyncComplete:function(t,e){void 0===e&&(e=""),t.loaded=!0,t.error=!!e,e&&(t.errorMessage=e,console.warn("Phaser.Loader - "+t.type+"["+t.key+"]: "+e)),this.processLoadQueue()},processPack:function(t){var e=t.data[t.key];if(e)for(var s=0;s<e.length;s++){var n=e[s];switch(n.type){case"image":this.image(n.key,n.url,n.overwrite);break;case"text":this.text(n.key,n.url,n.overwrite);break;case"json":this.json(n.key,n.url,n.overwrite);break;case"xml":this.xml(n.key,n.url,n.overwrite);break;case"script":this.script(n.key,n.url,n.callback,t.callbackContext||this);break;case"binary":this.binary(n.key,n.url,n.callback,t.callbackContext||this);break;case"spritesheet":this.spritesheet(n.key,n.url,n.frameWidth,n.frameHeight,n.frameMax,n.margin,n.spacing,n.skipFrames);break;case"video":this.video(n.key,n.urls);break;case"audio":this.audio(n.key,n.urls,n.autoDecode);break;case"audiosprite":this.audiosprite(n.key,n.urls,n.jsonURL,n.jsonData,n.autoDecode);break;case"tilemap":this.tilemap(n.key,n.url,n.data,i.Tilemap[n.format]);break;case"physics":this.physics(n.key,n.url,n.data,i.Loader[n.format]);break;case"bitmapFont":this.bitmapFont(n.key,n.textureURL,n.atlasURL,n.atlasData,n.xSpacing,n.ySpacing);break;case"atlasJSONArray":this.atlasJSONArray(n.key,n.textureURL,n.atlasURL,n.atlasData);break;case"atlasJSONHash":this.atlasJSONHash(n.key,n.textureURL,n.atlasURL,n.atlasData);break;case"atlasXML":this.atlasXML(n.key,n.textureURL,n.atlasURL,n.atlasData);break;case"atlas":this.atlas(n.key,n.textureURL,n.atlasURL,n.atlasData,i.Loader[n.format]);break;case"shader":this.shader(n.key,n.url,n.overwrite)}}else console.warn("Phaser.Loader - "+t.key+": pack has data, but not for pack key")},transformUrl:function(t,e){return!!t&&(t.match(/^(?:blob:|data:|http:\/\/|https:\/\/|\/\/)/)?t:this.baseURL+e.path+t)},loadFile:function(t){switch(t.type){case"packfile":this.xhrLoad(t,this.transformUrl(t.url,t),"text",this.fileComplete);break;case"image":case"spritesheet":case"textureatlas":case"bitmapfont":this.loadImageTag(t);break;case"audio":t.url=this.getAudioURL(t.url),t.url?this.game.sound.usingWebAudio?this.xhrLoad(t,this.transformUrl(t.url,t),"arraybuffer",this.fileComplete):this.game.sound.usingAudioTag&&this.loadAudioTag(t):this.fileError(t,null,"No supported audio URL specified or device does not have audio playback support");break;case"video":t.url=this.getVideoURL(t.url),t.url?t.asBlob?this.xhrLoad(t,this.transformUrl(t.url,t),"blob",this.fileComplete):this.loadVideoTag(t):this.fileError(t,null,"No supported video URL specified or device does not have video playback support");break;case"json":this.xhrLoad(t,this.transformUrl(t.url,t),"text",this.jsonLoadComplete);break;case"xml":this.xhrLoad(t,this.transformUrl(t.url,t),"text",this.xmlLoadComplete);break;case"tilemap":t.format===i.Tilemap.TILED_JSON?this.xhrLoad(t,this.transformUrl(t.url,t),"text",this.jsonLoadComplete):t.format===i.Tilemap.CSV?this.xhrLoad(t,this.transformUrl(t.url,t),"text",this.csvLoadComplete):this.asyncComplete(t,"invalid Tilemap format: "+t.format);break;case"text":case"script":case"shader":case"physics":this.xhrLoad(t,this.transformUrl(t.url,t),"text",this.fileComplete);break;case"texture":"truecolor"===t.key.split("_").pop()?this.loadImageTag(t):this.xhrLoad(t,this.transformUrl(t.url,t),"arraybuffer",this.fileComplete);break;case"binary":this.xhrLoad(t,this.transformUrl(t.url,t),"arraybuffer",this.fileComplete)}},loadImageTag:function(t){var e=this;t.data=new Image,t.data.name=t.key,this.crossOrigin&&(t.data.crossOrigin=this.crossOrigin),t.data.onload=function(){t.data.onload&&(t.data.onload=null,t.data.onerror=null,e.fileComplete(t))},t.data.onerror=function(){t.data.onload&&(t.data.onload=null,t.data.onerror=null,e.fileError(t))},t.data.src=this.transformUrl(t.url,t),!this.game.device.firefox&&t.data.complete&&t.data.width&&t.data.height&&(t.data.onload=null,t.data.onerror=null,this.fileComplete(t))},loadVideoTag:function(t){var e=this;t.data=document.createElement("video"),t.data.name=t.key,t.data.controls=!1,t.data.autoplay=!1;var s=function(){t.data.removeEventListener(t.loadEvent,s,!1),t.data.onerror=null,t.data.canplay=!0,i.GAMES[e.game.id].load.fileComplete(t)};t.data.onerror=function(){t.data.removeEventListener(t.loadEvent,s,!1),t.data.onerror=null,t.data.canplay=!1,e.fileError(t)},t.data.addEventListener(t.loadEvent,s,!1),t.data.src=this.transformUrl(t.url,t),t.data.load()},loadAudioTag:function(t){var e=this;if(this.game.sound.touchLocked)t.data=new Audio,t.data.name=t.key,t.data.preload="auto",t.data.src=this.transformUrl(t.url,t),this.fileComplete(t);else{t.data=new Audio,t.data.name=t.key;var i=function(){t.data.removeEventListener("canplaythrough",i,!1),t.data.onerror=null,e.fileComplete(t)};t.data.onerror=function(){t.data.removeEventListener("canplaythrough",i,!1),t.data.onerror=null,e.fileError(t)},t.data.preload="auto",t.data.src=this.transformUrl(t.url,t),t.data.addEventListener("canplaythrough",i,!1),t.data.load()}},xhrLoad:function(t,e,i,s,n){if(this.useXDomainRequest&&window.XDomainRequest)this.xhrLoadWithXDR(t,e,i,s,n);else{var o=new XMLHttpRequest;o.open("GET",e,!0),o.responseType=i,!1!==this.headers.requestedWith&&o.setRequestHeader("X-Requested-With",this.headers.requestedWith),this.headers[t.type]&&o.setRequestHeader("Accept",this.headers[t.type]),n=n||this.fileError;var r=this;o.onload=function(){try{return 4===o.readyState&&o.status>=400&&o.status<=599?n.call(r,t,o):s.call(r,t,o)}catch(e){r.hasLoaded?window.console&&console.error(e):r.asyncComplete(t,e.message||"Exception")}},o.onerror=function(){try{return n.call(r,t,o)}catch(e){r.hasLoaded?window.console&&console.error(e):r.asyncComplete(t,e.message||"Exception")}},t.requestObject=o,t.requestUrl=e,o.send()}},xhrLoadWithXDR:function(t,e,i,s,n){this._warnedAboutXDomainRequest||this.game.device.ie&&!(this.game.device.ieVersion>=10)||(this._warnedAboutXDomainRequest=!0,console.warn("Phaser.Loader - using XDomainRequest outside of IE 9"));var o=new window.XDomainRequest;o.open("GET",e,!0),o.responseType=i,o.timeout=3e3,n=n||this.fileError;var r=this;o.onerror=function(){try{return n.call(r,t,o)}catch(e){r.asyncComplete(t,e.message||"Exception")}},o.ontimeout=function(){try{return n.call(r,t,o)}catch(e){r.asyncComplete(t,e.message||"Exception")}},o.onprogress=function(){},o.onload=function(){try{return 4===o.readyState&&o.status>=400&&o.status<=599?n.call(r,t,o):s.call(r,t,o)}catch(e){r.asyncComplete(t,e.message||"Exception")}},t.requestObject=o,t.requestUrl=e,setTimeout(function(){o.send()},0)},getVideoURL:function(t){for(var e=0;e<t.length;e++){var i,s=t[e];if(s.uri){if(i=s.type,s=s.uri,this.game.device.canPlayVideo(i))return s}else{if(0===s.indexOf("blob:")||0===s.indexOf("data:"))return s;if(s.indexOf("?")>=0&&(s=s.substr(0,s.indexOf("?"))),i=s.substr((Math.max(0,s.lastIndexOf("."))||1/0)+1).toLowerCase(),this.game.device.canPlayVideo(i))return t[e]}}return null},getAudioURL:function(t){if(this.game.sound.noAudio)return null;for(var e=0;e<t.length;e++){var i,s=t[e];if(s.uri){if(i=s.type,s=s.uri,this.game.device.canPlayAudio(i))return s}else{if(0===s.indexOf("blob:")||0===s.indexOf("data:"))return s;if(s.indexOf("?")>=0&&(s=s.substr(0,s.indexOf("?"))),i=s.substr((Math.max(0,s.lastIndexOf("."))||1/0)+1).toLowerCase(),this.game.device.canPlayAudio(i))return t[e]}}return null},fileError:function(t,e,i){var s="error loading asset from URL "+(t.requestUrl||this.transformUrl(t.url,t));!i&&e&&(i=e.status),i&&(s=s+" ("+i+")"),this.asyncComplete(t,s)},fileComplete:function(t,e){var s=!0;switch(t.type){case"packfile":o=JSON.parse(e.responseText);t.data=o||{};break;case"texture":var n=/\.([^.]+)$/.exec(t.url.split("?",1)[0])[1].toLowerCase();null!==t.data?this.cache.addCompressedTextureMetaData(t.key,t.url,n,t.data):this.cache.addCompressedTextureMetaData(t.key,t.url,n,e.response);break;case"image":this.cache.addImage(t.key,t.url,t.data);break;case"spritesheet":this.cache.addSpriteSheet(t.key,t.url,t.data,t.frameWidth,t.frameHeight,t.frameMax,t.margin,t.spacing,t.skipFrames);break;case"textureatlas":if(null==t.atlasURL)this.cache.addTextureAtlas(t.key,t.url,t.data,t.atlasData,t.format);else if(s=!1,t.format===i.Loader.TEXTURE_ATLAS_JSON_ARRAY||t.format===i.Loader.TEXTURE_ATLAS_JSON_HASH||t.format===i.Loader.TEXTURE_ATLAS_JSON_PYXEL)this.xhrLoad(t,this.transformUrl(t.atlasURL,t),"text",this.jsonLoadComplete);else{if(t.format!==i.Loader.TEXTURE_ATLAS_XML_STARLING)throw new Error("Phaser.Loader. Invalid Texture Atlas format: "+t.format);this.xhrLoad(t,this.transformUrl(t.atlasURL,t),"text",this.xmlLoadComplete)}break;case"bitmapfont":t.atlasURL?(s=!1,this.xhrLoad(t,this.transformUrl(t.atlasURL,t),"text",function(t,e){var i;try{i=JSON.parse(e.responseText)}catch(t){}i?(t.atlasType="json",this.jsonLoadComplete(t,e)):(t.atlasType="xml",this.xmlLoadComplete(t,e))})):this.cache.addBitmapFont(t.key,t.url,t.data,t.atlasData,t.atlasType,t.xSpacing,t.ySpacing);break;case"video":if(t.asBlob)try{t.data=e.response}catch(e){throw new Error("Phaser.Loader. Unable to parse video file as Blob: "+t.key)}this.cache.addVideo(t.key,t.url,t.data,t.asBlob);break;case"audio":this.game.sound.usingWebAudio?(t.data=e.response,this.cache.addSound(t.key,t.url,t.data,!0,!1),t.autoDecode&&this.game.sound.decode(t.key)):this.cache.addSound(t.key,t.url,t.data,!1,!0);break;case"text":t.data=e.responseText,this.cache.addText(t.key,t.url,t.data);break;case"shader":t.data=e.responseText,this.cache.addShader(t.key,t.url,t.data);break;case"physics":var o=JSON.parse(e.responseText);this.cache.addPhysicsData(t.key,t.url,o,t.format);break;case"script":t.data=document.createElement("script"),t.data.language="javascript",t.data.type="text/javascript",t.data.defer=!1,t.data.text=e.responseText,document.head.appendChild(t.data),t.callback&&(t.data=t.callback.call(t.callbackContext,t.key,e.responseText));break;case"binary":t.callback?t.data=t.callback.call(t.callbackContext,t.key,e.response):t.data=e.response,this.cache.addBinary(t.key,t.data)}s&&this.asyncComplete(t)},jsonLoadComplete:function(t,e){var i=JSON.parse(e.responseText);"tilemap"===t.type?this.cache.addTilemap(t.key,t.url,i,t.format):"bitmapfont"===t.type?this.cache.addBitmapFont(t.key,t.url,t.data,i,t.atlasType,t.xSpacing,t.ySpacing):"json"===t.type?this.cache.addJSON(t.key,t.url,i):this.cache.addTextureAtlas(t.key,t.url,t.data,i,t.format),this.asyncComplete(t)},csvLoadComplete:function(t,e){var i=e.responseText;this.cache.addTilemap(t.key,t.url,i,t.format),this.asyncComplete(t)},xmlLoadComplete:function(t,e){var i=e.responseText,s=this.parseXml(i);if(!s){var n=e.responseType||e.contentType;return console.warn("Phaser.Loader - "+t.key+": invalid XML ("+n+")"),void this.asyncComplete(t,"invalid XML")}"bitmapfont"===t.type?this.cache.addBitmapFont(t.key,t.url,t.data,s,t.atlasType,t.xSpacing,t.ySpacing):"textureatlas"===t.type?this.cache.addTextureAtlas(t.key,t.url,t.data,s,t.format):"xml"===t.type&&this.cache.addXML(t.key,t.url,s),this.asyncComplete(t)},parseXml:function(t){var e;try{if(window.DOMParser){var i=new DOMParser;e=i.parseFromString(t,"text/xml")}else(e=new ActiveXObject("Microsoft.XMLDOM")).async="false",e.loadXML(t)}catch(t){e=null}return e&&e.documentElement&&!e.getElementsByTagName("parsererror").length?e:null},updateProgress:function(){this.preloadSprite&&(0===this.preloadSprite.direction?this.preloadSprite.rect.width=Math.floor(this.preloadSprite.width/100*this.progress):this.preloadSprite.rect.height=Math.floor(this.preloadSprite.height/100*this.progress),this.preloadSprite.sprite?this.preloadSprite.sprite.updateCrop():this.preloadSprite=null)},totalLoadedFiles:function(){return this._loadedFileCount},totalQueuedFiles:function(){return this._totalFileCount-this._loadedFileCount},totalLoadedPacks:function(){return this._totalPackCount},totalQueuedPacks:function(){return this._totalPackCount-this._loadedPackCount}},Object.defineProperty(i.Loader.prototype,"progressFloat",{get:function(){var t=this._loadedFileCount/this._totalFileCount*100;return i.Math.clamp(t||0,0,100)}}),Object.defineProperty(i.Loader.prototype,"progress",{get:function(){return Math.round(this.progressFloat)}}),i.Loader.prototype.constructor=i.Loader,i.LoaderParser={bitmapFont:function(t,e,i,s,n,o){return this.xmlBitmapFont(t,e,i,s,n,o)},xmlBitmapFont:function(t,e,i,s,n,o){null==o&&(o=1);var r={},a=t.getElementsByTagName("info")[0],h=t.getElementsByTagName("common")[0];r.font=a.getAttribute("face"),r.size=parseInt(a.getAttribute("size"),10),r.lineHeight=parseInt(h.getAttribute("lineHeight"),10)+s,r.chars={};for(var l=t.getElementsByTagName("char"),c=n?n.x:0,u=n?n.y:0,d=0;d<l.length;d++){var p=parseInt(l[d].getAttribute("id"),10);r.chars[p]={x:c+parseInt(l[d].getAttribute("x"),10),y:u+parseInt(l[d].getAttribute("y"),10),width:parseInt(l[d].getAttribute("width"),10),height:parseInt(l[d].getAttribute("height"),10),xOffset:parseInt(l[d].getAttribute("xoffset"),10)/o,yOffset:parseInt(l[d].getAttribute("yoffset"),10)/o,xAdvance:(parseInt(l[d].getAttribute("xadvance"),10)+i)/o,kerning:{}}}var f=t.getElementsByTagName("kerning");for(d=0;d<f.length;d++){var m=parseInt(f[d].getAttribute("first"),10),g=parseInt(f[d].getAttribute("second"),10),y=parseInt(f[d].getAttribute("amount"),10)/o;r.chars[g].kerning[m]=y}return this.finalizeBitmapFont(e,r)},jsonBitmapFont:function(t,e,i,s,n,o){null==o&&(o=1);var r={font:t.font.info._face,size:parseInt(t.font.info._size,10),lineHeight:parseInt(t.font.common._lineHeight,10)+s,chars:{}},a=n?n.x:0,h=n?n.y:0;return t.font.chars.char.forEach(function(t){var e=parseInt(t._id,10);r.chars[e]={x:a+parseInt(t._x,10),y:h+parseInt(t._y,10),width:parseInt(t._width,10),height:parseInt(t._height,10),xOffset:parseInt(t._xoffset,10)/o,yOffset:parseInt(t._yoffset,10)/o,xAdvance:(parseInt(t._xadvance,10)+i)/o,kerning:{}}}),t.font.kernings&&t.font.kernings.kerning&&t.font.kernings.kerning.forEach(function(t){r.chars[t._second].kerning[t._first]=parseInt(t._amount,10)/o}),this.finalizeBitmapFont(e,r)},finalizeBitmapFont:function(t,e){return Object.keys(e.chars).forEach(function(s){var n=e.chars[s];n.texture=new PIXI.Texture(t,new i.Rectangle(n.x,n.y,n.width,n.height))}),e},pvr:function(t){var e,i=new Uint32Array(t.slice(0,52)),s=new Uint8Array(t),n=null,o=i[3]<<32|i[2],r=0;if(55727696===i[0]&&[0,1,2,3,6,7,9,11].indexOf(o)>=0){switch(o>=0&&o<=3?e="PVRTC":o>=7&&o<=11?e="S3TC":6===o&&(e="ETC1"),o){case 0:r=35841;break;case 1:r=35843;break;case 2:r=35840;break;case 3:r=35842;break;case 6:r=36196;break;case 7:r=33777;break;case 9:r=33778;break;case 11:r=33779;break;default:r=-1}n={complete:!0,fileFormat:"PVR",compressionAlgorithm:e,flags:i[1],pixelFormat:o,colorSpace:i[4],channelType:i[5],height:i[6],width:i[7],depth:i[8],numberOfSurfaces:i[9],numberOfFaces:i[10],numberOfMipmaps:i[11],metaDataSize:i[12],textureData:s.subarray(52+i[12],s.byteLength),glExtensionFormat:r}}return n},dds:function(t){var e=new Uint8Array(t),i=new Uint32Array(t),s=null;return 68===e[0]&&68===e[1]&&83===e[2]&&32===e[3]&&"DX10"===(s={complete:!0,fileFormat:"DDS",compressionAlgorithm:"S3TC",size:i[1],flags:i[2],height:i[3],width:i[4],pitch:i[5],depth:i[6],mipmapCount:i[7],formatSize:i[19],formatFlag:i[19],formatFourCC:[String.fromCharCode(e[84]),String.fromCharCode(e[85]),String.fromCharCode(e[86]),String.fromCharCode(e[87])].join(""),formatBitCount:i[21],formatRBitMask:i[22],formatGBitMask:i[23],formatBBitMask:i[24],formatABitMask:i[25],caps1:i[26],caps2:i[27],caps3:i[28],caps4:i[29],reserved2:i[30],DXGIFormat:null,resourceDimension:null,miscFlag:null,arraySize:null,textureData:e.subarray(i[1]+4,e.byteLength)}).formatFourCC&&(s.DXGIFormat=i[31],s.resourceDimension=i[32],s.miscFlag=i[33],s.arraySize=i[34],s.miscFlag=i[35]),s},ktx:function(t){var e=new Uint8Array(t),i=new Uint32Array(t),s=null,n=16+i[15]/4|0,o=i[n],r=i[7],a=0;if(171===e[0]&&75===e[1]&&84===e[2]&&88===e[3]&&32===e[4]&&49===e[5]&&49===e[6]&&187===e[7]&&13===e[8]&&10===e[9]&&26===e[10]&&10===e[11]&&[36196,35840,35841,35842,35843,33776,33777,33778,33779].indexOf(r)>=0){switch(r){case 36196:a="ETC1";break;case 35840:case 35841:case 35842:case 35843:a="PVRTC";break;case 33776:case 33777:case 33778:case 33779:a="S3TC"}s={complete:!0,fileFormat:"KTX",compressionAlgorithm:a,endianness:i[3],glType:i[4],glTypeSize:i[5],glFormat:i[6],glInternalFormat:i[7],glBaseInternalFormat:i[8],width:i[9],height:i[10],pixelDepth:i[11],numberOfArrayElements:i[12],numberOfFaces:i[13],numberOfMipmapLevels:i[14],bytesOfKeyValueData:i[15],keyAndValueByteSize:i[16],imageSize:o,textureData:e.subarray(4*(n+1),o+100)}}return s},pkm:function(t){var e=new Uint8Array(t),i=null;return 80===e[0]&&75===e[1]&&77===e[2]&&32===e[3]&&(i={complete:!0,fileFormat:"PKM",compressionAlgorithm:"ETC1",format:65535&(e[6]<<8|e[7]),width:65535&(e[8]<<8|e[9]),height:65535&(e[10]<<8|e[11]),originalWidth:65535&(e[12]<<8|e[13]),originalHeight:65535&(e[14]<<8|e[15]),textureData:e.subarray(16,e.length)}),i}},i.AudioSprite=function(t,e){this.game=t,this.key=e,this.config=this.game.cache.getJSON(e+"-audioatlas"),this.autoplayKey=null,this.autoplay=!1,this.sounds={};for(var i in this.config.spritemap){var s=this.config.spritemap[i],n=this.game.add.sound(this.key);n.addMarker(i,s.start,s.end-s.start,null,s.loop),this.sounds[i]=n}this.config.autoplay&&(this.autoplayKey=this.config.autoplay,this.play(this.autoplayKey),this.autoplay=this.sounds[this.autoplayKey])},i.AudioSprite.prototype={play:function(t,e){return void 0===e&&(e=1),this.sounds[t].play(t,null,e)},stop:function(t){if(t)this.sounds[t].stop();else for(var e in this.sounds)this.sounds[e].stop()},get:function(t){return this.sounds[t]}},i.AudioSprite.prototype.constructor=i.AudioSprite,i.Sound=function(t,e,s,n,o){void 0===s&&(s=1),void 0===n&&(n=!1),void 0===o&&(o=t.sound.connectToMaster),this.game=t,this.name=e,this.key=e,this.loop=n,this.markers={},this.context=null,this.autoplay=!1,this.totalDuration=0,this.startTime=0,this.currentTime=0,this.duration=0,this.durationMS=0,this.position=0,this.stopTime=0,this.paused=!1,this.pausedPosition=0,this.pausedTime=0,this.isPlaying=!1,this.currentMarker="",this.fadeTween=null,this.pendingPlayback=!1,this.override=!1,this.allowMultiple=!1,this.usingWebAudio=this.game.sound.usingWebAudio,this.usingAudioTag=this.game.sound.usingAudioTag,this.externalNode=null,this.masterGainNode=null,this.gainNode=null,this._sound=null,this._globalVolume=1,this._markedToDelete=!1,this._removeFromSoundManager=!1,this.usingWebAudio?(this.context=this.game.sound.context,this.masterGainNode=this.game.sound.masterGain,void 0===this.context.createGain?this.gainNode=this.context.createGainNode():this.gainNode=this.context.createGain(),this.gainNode.gain.value=s*this.game.sound.volume,o&&this.gainNode.connect(this.masterGainNode)):this.usingAudioTag&&(this.game.cache.getSound(e)&&this.game.cache.isSoundReady(e)?(this._sound=this.game.cache.getSoundData(e),this.totalDuration=0,this._sound.duration&&(this.totalDuration=this._sound.duration)):this.game.cache.onSoundUnlock.add(this.soundHasUnlocked,this)),this.onDecoded=new i.Signal,this.onPlay=new i.Signal,this.onPause=new i.Signal,this.onResume=new i.Signal,this.onLoop=new i.Signal,this.onStop=new i.Signal,this.onMute=new i.Signal,this.onMarkerComplete=new i.Signal,this.onFadeComplete=new i.Signal,this._volume=s,this._buffer=null,this._muted=!1,this._tempMarker=0,this._tempPosition=0,this._tempVolume=0,this._tempPause=0,this._muteVolume=0,this._tempLoop=0,this._paused=!1,this._onDecodedEventDispatched=!1},i.Sound.prototype={soundHasUnlocked:function(t){t===this.key&&(this._sound=this.game.cache.getSoundData(this.key),this.totalDuration=this._sound.duration)},addMarker:function(t,e,i,s,n){void 0!==i&&null!==i||(i=1),void 0!==s&&null!==s||(s=1),void 0===n&&(n=!1),this.markers[t]={name:t,start:e,stop:e+i,volume:s,duration:i,durationMS:1e3*i,loop:n}},removeMarker:function(t){delete this.markers[t]},onEndedHandler:function(){this._sound.onended=null,this.isPlaying=!1,this.currentTime=this.durationMS,this.stop(),this._markedToDelete&&(this.externalNode?this._sound.disconnect(this.externalNode):this.gainNode&&this._sound.disconnect(this.gainNode),this._removeFromSoundManager?this.game.sound.remove(this):(this.markers={},this.context=null,this._buffer=null,this.externalNode=null,this.onDecoded.dispose(),this.onPlay.dispose(),this.onPause.dispose(),this.onResume.dispose(),this.onLoop.dispose(),this.onStop.dispose(),this.onMute.dispose(),this.onMarkerComplete.dispose()))},update:function(){this.game.cache.checkSoundKey(this.key)?(this.isDecoded&&!this._onDecodedEventDispatched&&(this.onDecoded.dispatch(this),this._onDecodedEventDispatched=!0),this.pendingPlayback&&this.game.cache.isSoundReady(this.key)&&(this.pendingPlayback=!1,this.play(this._tempMarker,this._tempPosition,this._tempVolume,this._tempLoop)),this.isPlaying&&(this.currentTime=this.game.time.time-this.startTime,this.currentTime>=this.durationMS&&(this.usingWebAudio?this.loop?(this.onLoop.dispatch(this),this.isPlaying=!1,""===this.currentMarker?(this.currentTime=0,this.startTime=this.game.time.time,this.isPlaying=!0):(this.onMarkerComplete.dispatch(this.currentMarker,this),this.play(this.currentMarker,0,this.volume,!0,!0))):""!==this.currentMarker&&this.stop():this.loop?(this.onLoop.dispatch(this),""===this.currentMarker&&(this.currentTime=0,this.startTime=this.game.time.time),this.isPlaying=!1,this.play(this.currentMarker,0,this.volume,!0,!0)):this.stop()))):this.destroy()},loopFull:function(t){return this.play(null,0,t,!0)},play:function(t,e,i,s,n){if(void 0!==t&&!1!==t&&null!==t||(t=""),void 0===n&&(n=!0),this.isPlaying&&!this.allowMultiple&&!n&&!this.override)return this;if(this._sound&&this.isPlaying&&!this.allowMultiple&&(this.override||n)){if(this.usingWebAudio){if(void 0===this._sound.stop)this._sound.noteOff(0);else try{this._sound.stop(0)}catch(t){}this.externalNode?this._sound.disconnect(this.externalNode):this.gainNode&&this._sound.disconnect(this.gainNode)}else this.usingAudioTag&&(this._sound.pause(),this._sound.currentTime=0);this.isPlaying=!1}if(""===t&&Object.keys(this.markers).length>0)return this;if(""!==t){if(!this.markers[t])return console.warn("Phaser.Sound.play: audio marker "+t+" doesn't exist"),this;this.currentMarker=t,this.position=this.markers[t].start,this.volume=this.markers[t].volume,this.loop=this.markers[t].loop,this.duration=this.markers[t].duration,this.durationMS=this.markers[t].durationMS,void 0!==i&&(this.volume=i),void 0!==s&&(this.loop=s),this._tempMarker=t,this._tempPosition=this.position,this._tempVolume=this.volume,this._tempLoop=this.loop}else e=e||0,void 0===i&&(i=this._volume),void 0===s&&(s=this.loop),this.position=Math.max(0,e),this.volume=i,this.loop=s,this.duration=0,this.durationMS=0,this._tempMarker=t,this._tempPosition=e,this._tempVolume=i,this._tempLoop=s;return this.usingWebAudio?this.game.cache.isSoundDecoded(this.key)?(this._sound=this.context.createBufferSource(),this.externalNode?this._sound.connect(this.externalNode):this._sound.connect(this.gainNode),this._buffer=this.game.cache.getSoundData(this.key),this._sound.buffer=this._buffer,this.loop&&""===t&&(this._sound.loop=!0),this.loop||""!==t||(this._sound.onended=this.onEndedHandler.bind(this)),this.totalDuration=this._sound.buffer.duration,0===this.duration&&(this.duration=this.totalDuration,this.durationMS=Math.ceil(1e3*this.totalDuration)),void 0===this._sound.start?this._sound.noteGrainOn(0,this.position,this.duration):this.loop&&""===t?this._sound.start(0,0):this._sound.start(0,this.position,this.duration),this.isPlaying=!0,this.startTime=this.game.time.time,this.currentTime=0,this.stopTime=this.startTime+this.durationMS,this.onPlay.dispatch(this)):(this.pendingPlayback=!0,this.game.cache.getSound(this.key)&&!1===this.game.cache.getSound(this.key).isDecoding&&this.game.sound.decode(this.key,this)):this.game.cache.getSound(this.key)&&this.game.cache.getSound(this.key).locked?(this.game.cache.reloadSound(this.key),this.pendingPlayback=!0):this._sound&&(this.game.device.cocoonJS||4===this._sound.readyState)?(this._sound.play(),this.totalDuration=this._sound.duration,0===this.duration&&(this.duration=this.totalDuration,this.durationMS=1e3*this.totalDuration),this._sound.currentTime=this.position,this._sound.muted=this._muted,this._muted||this.game.sound.mute?this._sound.volume=0:this._sound.volume=this._volume,this.isPlaying=!0,this.startTime=this.game.time.time,this.currentTime=0,this.stopTime=this.startTime+this.durationMS,this.onPlay.dispatch(this)):this.pendingPlayback=!0,this},restart:function(t,e,i,s){t=t||"",e=e||0,i=i||1,void 0===s&&(s=!1),this.play(t,e,i,s,!0)},pause:function(){this.isPlaying&&this._sound&&(this.paused=!0,this.pausedPosition=this.currentTime,this.pausedTime=this.game.time.time,this._tempPause=this._sound.currentTime,this.onPause.dispatch(this),this.stop())},resume:function(){if(this.paused&&this._sound){if(this.usingWebAudio){var t=Math.max(0,this.position+this.pausedPosition/1e3);this._sound=this.context.createBufferSource(),this._sound.buffer=this._buffer,this.externalNode?this._sound.connect(this.externalNode):this._sound.connect(this.gainNode),this.loop&&(this._sound.loop=!0),this.loop||""!==this.currentMarker||(this._sound.onended=this.onEndedHandler.bind(this));var e=this.duration-this.pausedPosition/1e3;void 0===this._sound.start?this._sound.noteGrainOn(0,t,e):this.loop&&this.game.device.chrome?42===this.game.device.chromeVersion?this._sound.start(0):this._sound.start(0,t):this._sound.start(0,t,e)}else this._sound.currentTime=this._tempPause,this._sound.play();this.isPlaying=!0,this.paused=!1,this.startTime+=this.game.time.time-this.pausedTime,this.onResume.dispatch(this)}},stop:function(){if(this.isPlaying&&this._sound)if(this.usingWebAudio){if(void 0===this._sound.stop)this._sound.noteOff(0);else try{this._sound.stop(0)}catch(t){}this.externalNode?this._sound.disconnect(this.externalNode):this.gainNode&&this._sound.disconnect(this.gainNode)}else this.usingAudioTag&&(this._sound.pause(),this._sound.currentTime=0);if(this.pendingPlayback=!1,this.isPlaying=!1,!this.paused){var t=this.currentMarker;""!==this.currentMarker&&this.onMarkerComplete.dispatch(this.currentMarker,this),this.currentMarker="",null!==this.fadeTween&&this.fadeTween.stop(),this.onStop.dispatch(this,t)}},fadeIn:function(t,e,i){void 0===e&&(e=!1),void 0===i&&(i=this.currentMarker),this.paused||(this.play(i,0,0,e),this.fadeTo(t,1))},fadeOut:function(t){this.fadeTo(t,0)},fadeTo:function(t,e){this.isPlaying&&!this.paused&&e!==this.volume&&(void 0===t&&(t=1e3),void 0!==e?(this.fadeTween=this.game.add.tween(this).to({volume:e},t,i.Easing.Linear.None,!0),this.fadeTween.onComplete.add(this.fadeComplete,this)):console.warn("Phaser.Sound.fadeTo: No Volume Specified."))},fadeComplete:function(){this.onFadeComplete.dispatch(this,this.volume),0===this.volume&&this.stop()},updateGlobalVolume:function(t){this.usingAudioTag&&this._sound&&(this._globalVolume=t,this._sound.volume=this._globalVolume*this._volume)},destroy:function(t){void 0===t&&(t=!0),this._markedToDelete=!0,this._removeFromSoundManager=t,this.stop(),t?this.game.sound.remove(this):(this.markers={},this.context=null,this._buffer=null,this.externalNode=null,this.onDecoded.dispose(),this.onPlay.dispose(),this.onPause.dispose(),this.onResume.dispose(),this.onLoop.dispose(),this.onStop.dispose(),this.onMute.dispose(),this.onMarkerComplete.dispose())}},i.Sound.prototype.constructor=i.Sound,Object.defineProperty(i.Sound.prototype,"isDecoding",{get:function(){return this.game.cache.getSound(this.key).isDecoding}}),Object.defineProperty(i.Sound.prototype,"isDecoded",{get:function(){return this.game.cache.isSoundDecoded(this.key)}}),Object.defineProperty(i.Sound.prototype,"mute",{get:function(){return this._muted||this.game.sound.mute},set:function(t){(t=t||!1)!==this._muted&&(t?(this._muted=!0,this._muteVolume=this._tempVolume,this.usingWebAudio?this.gainNode.gain.value=0:this.usingAudioTag&&this._sound&&(this._sound.volume=0)):(this._muted=!1,this.usingWebAudio?this.gainNode.gain.value=this._muteVolume:this.usingAudioTag&&this._sound&&(this._sound.volume=this._muteVolume)),this.onMute.dispatch(this))}}),Object.defineProperty(i.Sound.prototype,"volume",{get:function(){return this._volume},set:function(t){this.usingAudioTag&&(t=this.game.math.clamp(t,0,1)),this._muted?this._muteVolume=t:(this._tempVolume=t,this._volume=t,this.usingWebAudio?this.gainNode.gain.value=t:this.usingAudioTag&&this._sound&&(this._sound.volume=this._globalVolume*t))}}),i.SoundManager=function(t){this.game=t,this.onSoundDecode=new i.Signal,this.onVolumeChange=new i.Signal,this.onMute=new i.Signal,this.onUnMute=new i.Signal,this.context=null,this.usingWebAudio=!1,this.usingAudioTag=!1,this.noAudio=!1,this.connectToMaster=!0,this.touchLocked=!1,this.channels=32,this.muteOnPause=!0,this._codeMuted=!1,this._muted=!1,this._unlockSource=null,this._volume=1,this._sounds=[],this._watchList=new i.ArraySet,this._watching=!1,this._watchCallback=null,this._watchContext=null},i.SoundManager.prototype={boot:function(){if(this.game.device.iOS&&!1===this.game.device.webAudio&&(this.channels=1),window.PhaserGlobal){if(!0===window.PhaserGlobal.disableAudio)return this.noAudio=!0,void(this.touchLocked=!1);if(!0===window.PhaserGlobal.disableWebAudio)return this.usingAudioTag=!0,void(this.touchLocked=!1)}if(window.PhaserGlobal&&window.PhaserGlobal.audioContext)this.context=window.PhaserGlobal.audioContext;else if(window.AudioContext)try{this.context=new window.AudioContext}catch(t){this.context=null,this.usingWebAudio=!1,this.touchLocked=!1}else if(window.webkitAudioContext)try{this.context=new window.webkitAudioContext}catch(t){this.context=null,this.usingWebAudio=!1,this.touchLocked=!1}if(null===this.context){if(void 0===window.Audio)return void(this.noAudio=!0);this.usingAudioTag=!0}else this.usingWebAudio=!0,void 0===this.context.createGain?this.masterGain=this.context.createGainNode():this.masterGain=this.context.createGain(),this._setGain(1),this.masterGain.connect(this.context.destination);this.noAudio||this.game.device.needsTouchUnlock()&&this.setTouchLock()},setTouchLock:function(){this.noAudio||window.PhaserGlobal&&!0===window.PhaserGlobal.disableAudio||(this.game.input.addTouchLockCallback(this.unlock,this,!0),this.touchLocked=!0)},unlock:function(){if(this.noAudio||!this.touchLocked||null!==this._unlockSource)return!0;if(this.usingAudioTag)this.touchLocked=!1,this._unlockSource=null;else if(this.usingWebAudio){var t=this.context.createBuffer(1,1,22050);this._unlockSource=this.context.createBufferSource(),this._unlockSource.buffer=t,this._unlockSource.connect(this.context.destination),void 0===this._unlockSource.start?this._unlockSource.noteOn(0):this._unlockSource.start(0),"suspended"===this._unlockSource.context.state&&this._unlockSource.context.resume()}return!0},stopAll:function(){if(!this.noAudio)for(var t=0;t<this._sounds.length;t++)this._sounds[t]&&this._sounds[t].stop()},pauseAll:function(){if(!this.noAudio)for(var t=0;t<this._sounds.length;t++)this._sounds[t]&&this._sounds[t].pause()},resumeAll:function(){if(!this.noAudio)for(var t=0;t<this._sounds.length;t++)this._sounds[t]&&this._sounds[t].resume()},decode:function(t,e){e=e||null;var i=this.game.cache.getSoundData(t);if(i&&!1===this.game.cache.isSoundDecoded(t)){this.game.cache.updateSound(t,"isDecoding",!0);var s=this;try{this.context.decodeAudioData(i,function(i){i&&(s.game.cache.decodedSound(t,i),s.onSoundDecode.dispatch(t,e))})}catch(t){}}},setDecodedCallback:function(t,e,s){"string"==typeof t&&(t=[t]),this._watchList.reset();for(var n=0;n<t.length;n++)t[n]instanceof i.Sound?this.game.cache.isSoundDecoded(t[n].key)||this._watchList.add(t[n].key):this.game.cache.isSoundDecoded(t[n])||this._watchList.add(t[n]);0===this._watchList.total?(this._watching=!1,e.call(s)):(this._watching=!0,this._watchCallback=e,this._watchContext=s)},update:function(){if(!this.noAudio){!this.touchLocked||null===this._unlockSource||this._unlockSource.playbackState!==this._unlockSource.PLAYING_STATE&&this._unlockSource.playbackState!==this._unlockSource.FINISHED_STATE||(this.touchLocked=!1,this._unlockSource=null);for(var t=0;t<this._sounds.length;t++)this._sounds[t].update();if(this._watching){for(var e=this._watchList.first;e;)this.game.cache.isSoundDecoded(e)&&this._watchList.remove(e),e=this._watchList.next;0===this._watchList.total&&(this._watching=!1,this._watchCallback.call(this._watchContext))}}},add:function(t,e,s,n){void 0===e&&(e=1),void 0===s&&(s=!1),void 0===n&&(n=this.connectToMaster);var o=new i.Sound(this.game,t,e,s,n);return this._sounds.push(o),o},addSprite:function(t){return new i.AudioSprite(this.game,t)},remove:function(t){for(var e=this._sounds.length;e--;)if(this._sounds[e]===t)return this._sounds[e].destroy(!1),this._sounds.splice(e,1),!0;return!1},removeByKey:function(t){for(var e=this._sounds.length,i=0;e--;)this._sounds[e].key===t&&(this._sounds[e].destroy(!1),this._sounds.splice(e,1),i++);return i},play:function(t,e,i){if(!this.noAudio){var s=this.add(t,e,i);return s.play(),s}},setMute:function(){if(!this._muted){this._muted=!0,this.usingWebAudio&&(this._muteVolume=this.masterGain.gain.value,this._setGain(0));for(var t=0;t<this._sounds.length;t++)this._sounds[t].usingAudioTag&&(this._sounds[t].mute=!0);this.onMute.dispatch()}},unsetMute:function(){if(this._muted&&!this._codeMuted){this._muted=!1,this.usingWebAudio&&this._setGain(this._muteVolume);for(var t=0;t<this._sounds.length;t++)this._sounds[t].usingAudioTag&&(this._sounds[t].mute=!1);this.onUnMute.dispatch()}},destroy:function(){this.stopAll();for(var t=0;t<this._sounds.length;t++)this._sounds[t]&&this._sounds[t].destroy();this._sounds=[],this.onSoundDecode.dispose(),this.context&&(window.PhaserGlobal?window.PhaserGlobal.audioContext=this.context:this.context.close&&this.context.close())},_setGain:function(t){this.masterGain.gain.setTargetAtTime(t,0,.01)}},i.SoundManager.prototype.constructor=i.SoundManager,Object.defineProperty(i.SoundManager.prototype,"mute",{get:function(){return this._muted},set:function(t){if(t=t||!1){if(this._muted)return;this._codeMuted=!0,this.setMute()}else{if(!this._muted)return;this._codeMuted=!1,this.unsetMute()}}}),Object.defineProperty(i.SoundManager.prototype,"volume",{get:function(){return this._volume},set:function(t){if(t<0?t=0:t>1&&(t=1),this._volume!==t){if(this._volume=t,this.usingWebAudio)this._setGain(t);else for(var e=0;e<this._sounds.length;e++)this._sounds[e].usingAudioTag&&this._sounds[e].updateGlobalVolume(t);this.onVolumeChange.dispatch(t)}}}),i.ScaleManager=function(t,e,s){this.game=t,this.dom=i.DOM,this.grid=null,this.width=0,this.height=0,this.minWidth=null,this.maxWidth=null,this.minHeight=null,this.maxHeight=null,this.offset=new i.Point,this.forceLandscape=!1,this.forcePortrait=!1,this.incorrectOrientation=!1,this._pageAlignHorizontally=!1,this._pageAlignVertically=!1,this.onOrientationChange=new i.Signal,this.enterIncorrectOrientation=new i.Signal,this.leaveIncorrectOrientation=new i.Signal,this.hasPhaserSetFullScreen=!1,this.fullScreenTarget=null,this._createdFullScreenTarget=null,this.onFullScreenInit=new i.Signal,this.onFullScreenChange=new i.Signal,this.onFullScreenError=new i.Signal,this.screenOrientation=this.dom.getScreenOrientation(),this.scaleFactor=new i.Point(1,1),this.scaleFactorInversed=new i.Point(1,1),this.margin={left:0,top:0,right:0,bottom:0,x:0,y:0},this.bounds=new i.Rectangle,this.aspectRatio=0,this.sourceAspectRatio=0,this.event=null,this.windowConstraints={right:"layout",bottom:""},this.compatibility={supportsFullScreen:!1,orientationFallback:null,noMargins:!1,scrollTo:null,forceMinimumDocumentHeight:!1,canExpandParent:!0,clickTrampoline:""},this._scaleMode=i.ScaleManager.NO_SCALE,this._fullScreenScaleMode=i.ScaleManager.NO_SCALE,this.parentIsWindow=!1,this.parentNode=null,this.parentScaleFactor=new i.Point(1,1),this.trackParentInterval=2e3,this.onSizeChange=new i.Signal,this.onResize=null,this.onResizeContext=null,this._pendingScaleMode=null,this._fullScreenRestore=null,this._gameSize=new i.Rectangle,this._userScaleFactor=new i.Point(1,1),this._userScaleTrim=new i.Point(0,0),this._lastUpdate=0,this._updateThrottle=0,this._updateThrottleReset=100,this._parentBounds=new i.Rectangle,this._tempBounds=new i.Rectangle,this._lastReportedCanvasSize=new i.Rectangle,this._lastReportedGameSize=new i.Rectangle,this._booted=!1,t.config&&this.parseConfig(t.config),this.setupScale(e,s)},i.ScaleManager.EXACT_FIT=0,i.ScaleManager.NO_SCALE=1,i.ScaleManager.SHOW_ALL=2,i.ScaleManager.RESIZE=3,i.ScaleManager.USER_SCALE=4,i.ScaleManager.prototype={boot:function(){var t=this.compatibility;t.supportsFullScreen=this.game.device.fullscreen&&!this.game.device.cocoonJS,this.game.device.iPad||this.game.device.webApp||this.game.device.desktop||(this.game.device.android&&!this.game.device.chrome?t.scrollTo=new i.Point(0,1):t.scrollTo=new i.Point(0,0)),this.game.device.desktop?(t.orientationFallback="screen",t.clickTrampoline="when-not-mouse"):(t.orientationFallback="",t.clickTrampoline="");var e=this;this._orientationChange=function(t){return e.orientationChange(t)},this._windowResize=function(t){return e.windowResize(t)},window.addEventListener("orientationchange",this._orientationChange,!1),window.addEventListener("resize",this._windowResize,!1),this.compatibility.supportsFullScreen&&(this._fullScreenChange=function(t){return e.fullScreenChange(t)},this._fullScreenError=function(t){return e.fullScreenError(t)},document.addEventListener("webkitfullscreenchange",this._fullScreenChange,!1),document.addEventListener("mozfullscreenchange",this._fullScreenChange,!1),document.addEventListener("MSFullscreenChange",this._fullScreenChange,!1),document.addEventListener("fullscreenchange",this._fullScreenChange,!1),document.addEventListener("webkitfullscreenerror",this._fullScreenError,!1),document.addEventListener("mozfullscreenerror",this._fullScreenError,!1),document.addEventListener("MSFullscreenError",this._fullScreenError,!1),document.addEventListener("fullscreenerror",this._fullScreenError,!1)),this.game.onResume.add(this._gameResumed,this),this.dom.getOffset(this.game.canvas,this.offset),this.bounds.setTo(this.offset.x,this.offset.y,this.width,this.height),this.setGameSize(this.game.width,this.game.height),this.screenOrientation=this.dom.getScreenOrientation(this.compatibility.orientationFallback),i.FlexGrid&&(this.grid=new i.FlexGrid(this,this.width,this.height)),this._booted=!0,null!==this._pendingScaleMode&&(this.scaleMode=this._pendingScaleMode,this._pendingScaleMode=null)},parseConfig:function(t){void 0!==t.scaleMode&&(this._booted?this.scaleMode=t.scaleMode:this._pendingScaleMode=t.scaleMode),void 0!==t.fullScreenScaleMode&&(this.fullScreenScaleMode=t.fullScreenScaleMode),t.fullScreenTarget&&(this.fullScreenTarget=t.fullScreenTarget)},setupScale:function(t,e){var s,n=new i.Rectangle;""!==this.game.parent&&("string"==typeof this.game.parent?s=document.getElementById(this.game.parent):this.game.parent&&1===this.game.parent.nodeType&&(s=this.game.parent)),s?(this.parentNode=s,this.parentIsWindow=!1,this.getParentBounds(this._parentBounds),n.width=this._parentBounds.width,n.height=this._parentBounds.height,this.offset.set(this._parentBounds.x,this._parentBounds.y)):(this.parentNode=null,this.parentIsWindow=!0,n.width=this.dom.visualBounds.width,n.height=this.dom.visualBounds.height,this.offset.set(0,0));var o=0,r=0;"number"==typeof t?o=t:(this.parentScaleFactor.x=parseInt(t,10)/100,o=n.width*this.parentScaleFactor.x),"number"==typeof e?r=e:(this.parentScaleFactor.y=parseInt(e,10)/100,r=n.height*this.parentScaleFactor.y),o=Math.floor(o),r=Math.floor(r),this._gameSize.setTo(0,0,o,r),this.updateDimensions(o,r,!1)},_gameResumed:function(){this.queueUpdate(!0)},setGameSize:function(t,e){this._gameSize.setTo(0,0,t,e),this.currentScaleMode!==i.ScaleManager.RESIZE&&this.updateDimensions(t,e,!0),this.queueUpdate(!0)},setUserScale:function(t,e,i,s,n,o){this._userScaleFactor.setTo(t,e),this._userScaleTrim.setTo(0|i,0|s),void 0===n&&(n=!0),void 0===o&&(o=!0),n&&this.queueUpdate(o)},setResizeCallback:function(t,e){this.onResize=t,this.onResizeContext=e},signalSizeChange:function(){if(!i.Rectangle.sameDimensions(this,this._lastReportedCanvasSize)||!i.Rectangle.sameDimensions(this.game,this._lastReportedGameSize)){var t=this.width,e=this.height;this._lastReportedCanvasSize.setTo(0,0,t,e),this._lastReportedGameSize.setTo(0,0,this.game.width,this.game.height),this.grid&&this.grid.onResize(t,e),this.onSizeChange.dispatch(this,t,e),this.currentScaleMode===i.ScaleManager.RESIZE&&(this.game.state.resize(t,e),this.game.load.resize(t,e))}},setMinMax:function(t,e,i,s){this.minWidth=t,this.minHeight=e,void 0!==i&&(this.maxWidth=i),void 0!==s&&(this.maxHeight=s)},preUpdate:function(){if(!(this.game.time.time<this._lastUpdate+this._updateThrottle)){var t=this._updateThrottle;this._updateThrottleReset=t>=400?0:100,this.dom.getOffset(this.game.canvas,this.offset);var e=this._parentBounds.width,s=this._parentBounds.height,n=this.getParentBounds(this._parentBounds),o=n.width!==e||n.height!==s,r=this.updateOrientationState();(o||r)&&(this.onResize&&this.onResize.call(this.onResizeContext,this,n),this.updateLayout(),this.signalSizeChange());var a=2*this._updateThrottle;this._updateThrottle<t&&(a=Math.min(t,this._updateThrottleReset)),this._updateThrottle=i.Math.clamp(a,25,this.trackParentInterval),this._lastUpdate=this.game.time.time}},pauseUpdate:function(){this.preUpdate(),this._updateThrottle=this.trackParentInterval},updateDimensions:function(t,e,i){this.width=t*this.parentScaleFactor.x,this.height=e*this.parentScaleFactor.y,this.game.width=this.width,this.game.height=this.height,this.sourceAspectRatio=this.width/this.height,this.updateScalingAndBounds(),i&&(this.game.renderer.resize(this.width,this.height),this.game.camera.setSize(this.width,this.height),this.game.world.resize(this.width,this.height))},updateScalingAndBounds:function(){this.scaleFactor.x=this.game.width/this.width,this.scaleFactor.y=this.game.height/this.height,this.scaleFactorInversed.x=this.width/this.game.width,this.scaleFactorInversed.y=this.height/this.game.height,this.aspectRatio=this.width/this.height,this.game.canvas&&this.dom.getOffset(this.game.canvas,this.offset),this.bounds.setTo(this.offset.x,this.offset.y,this.width,this.height),this.game.input&&this.game.input.scale&&this.game.input.scale.setTo(this.scaleFactor.x,this.scaleFactor.y)},forceOrientation:function(t,e){void 0===e&&(e=!1),!0!==t||!0!==e?(this.forceLandscape=t,this.forcePortrait=e,this.queueUpdate(!0)):console.warn("Phaser.ScaleManager: forceLandscape and forcePortrait cannot both be true.")},classifyOrientation:function(t){return"portrait-primary"===t||"portrait-secondary"===t?"portrait":"landscape-primary"===t||"landscape-secondary"===t?"landscape":null},updateOrientationState:function(){var t=this.screenOrientation,e=this.incorrectOrientation;this.screenOrientation=this.dom.getScreenOrientation(this.compatibility.orientationFallback),this.incorrectOrientation=this.forceLandscape&&!this.isLandscape||this.forcePortrait&&!this.isPortrait;var i=t!==this.screenOrientation,s=e!==this.incorrectOrientation;return s&&(this.incorrectOrientation?this.enterIncorrectOrientation.dispatch():this.leaveIncorrectOrientation.dispatch()),(i||s)&&this.onOrientationChange.dispatch(this,t,e),i||s},orientationChange:function(t){this.event=t,this.queueUpdate(!0)},windowResize:function(t){this.event=t,this.queueUpdate(!0)},scrollTop:function(){var t=this.compatibility.scrollTo;t&&window.scrollTo(t.x,t.y)},refresh:function(){this.scrollTop(),this.queueUpdate(!0)},updateLayout:function(){var t=this.currentScaleMode;if(t!==i.ScaleManager.RESIZE){if(this.scrollTop(),this.compatibility.forceMinimumDocumentHeight&&(document.documentElement.style.minHeight=window.innerHeight+"px"),this.incorrectOrientation?this.setMaximum():t===i.ScaleManager.EXACT_FIT?this.setExactFit():t===i.ScaleManager.SHOW_ALL?!this.isFullScreen&&this.boundingParent&&this.compatibility.canExpandParent?(this.setShowAll(!0),this.resetCanvas(),this.setShowAll()):this.setShowAll():t===i.ScaleManager.NO_SCALE?(this.width=this.game.width,this.height=this.game.height):t===i.ScaleManager.USER_SCALE&&(this.width=this.game.width*this._userScaleFactor.x-this._userScaleTrim.x,this.height=this.game.height*this._userScaleFactor.y-this._userScaleTrim.y),!this.compatibility.canExpandParent&&(t===i.ScaleManager.SHOW_ALL||t===i.ScaleManager.USER_SCALE)){var e=this.getParentBounds(this._tempBounds);this.width=Math.min(this.width,e.width),this.height=Math.min(this.height,e.height)}this.width=0|this.width,this.height=0|this.height,this.reflowCanvas()}else this.reflowGame()},getParentBounds:function(t){var e=t||new i.Rectangle,s=this.boundingParent,n=this.dom.visualBounds,o=this.dom.layoutBounds;if(s){var r=s.getBoundingClientRect(),a=s.offsetParent?s.offsetParent.getBoundingClientRect():s.getBoundingClientRect();e.setTo(r.left-a.left,r.top-a.top,r.width,r.height);var h=this.windowConstraints;if(h.right){l="layout"===h.right?o:n;e.right=Math.min(e.right,l.width)}if(h.bottom){var l="layout"===h.bottom?o:n;e.bottom=Math.min(e.bottom,l.height)}}else e.setTo(0,0,n.width,n.height);return e.setTo(Math.round(e.x),Math.round(e.y),Math.round(e.width),Math.round(e.height)),e},align:function(t,e){null!=t&&(this.pageAlignHorizontally=t),null!=e&&(this.pageAlignVertically=e)},alignCanvas:function(t,e){var i=this.getParentBounds(this._tempBounds),s=this.game.canvas,n=this.margin;if(t){n.left=n.right=0;h=s.getBoundingClientRect();if(this.width<i.width&&!this.incorrectOrientation){var o=h.left-i.x,r=i.width/2-this.width/2,a=(r=Math.max(r,0))-o;n.left=Math.round(a)}s.style.marginLeft=n.left+"px",0!==n.left&&(n.right=-(i.width-h.width-n.left),s.style.marginRight=n.right+"px")}if(e){n.top=n.bottom=0;var h=s.getBoundingClientRect();if(this.height<i.height&&!this.incorrectOrientation){var o=h.top-i.y,r=i.height/2-this.height/2,a=(r=Math.max(r,0))-o;n.top=Math.round(a)}s.style.marginTop=n.top+"px",0!==n.top&&(n.bottom=-(i.height-h.height-n.top),s.style.marginBottom=n.bottom+"px")}n.x=n.left,n.y=n.top},reflowGame:function(){this.resetCanvas("","");var t=this.getParentBounds(this._tempBounds);this.updateDimensions(t.width,t.height,!0)},reflowCanvas:function(){this.incorrectOrientation||(this.width=i.Math.clamp(this.width,this.minWidth||0,this.maxWidth||this.width),this.height=i.Math.clamp(this.height,this.minHeight||0,this.maxHeight||this.height)),this.resetCanvas(),this.compatibility.noMargins||(this.isFullScreen&&this._createdFullScreenTarget?this.alignCanvas(!0,!0):this.alignCanvas(this.pageAlignHorizontally,this.pageAlignVertically)),this.updateScalingAndBounds()},resetCanvas:function(t,e){void 0===t&&(t=this.width+"px"),void 0===e&&(e=this.height+"px");var i=this.game.canvas;this.compatibility.noMargins||(i.style.marginLeft="",i.style.marginTop="",i.style.marginRight="",i.style.marginBottom=""),i.style.width=t,i.style.height=e},queueUpdate:function(t){t&&(this._parentBounds.width=0,this._parentBounds.height=0),this._updateThrottle=this._updateThrottleReset},reset:function(t){t&&this.grid&&this.grid.reset()},setMaximum:function(){this.width=this.dom.visualBounds.width,this.height=this.dom.visualBounds.height},setShowAll:function(t){var e,i=this.getParentBounds(this._tempBounds),s=i.width,n=i.height;e=t?Math.max(n/this.game.height,s/this.game.width):Math.min(n/this.game.height,s/this.game.width),this.width=Math.round(this.game.width*e),this.height=Math.round(this.game.height*e)},setExactFit:function(){var t=this.getParentBounds(this._tempBounds);this.width=t.width,this.height=t.height,this.isFullScreen||(this.maxWidth&&(this.width=Math.min(this.width,this.maxWidth)),this.maxHeight&&(this.height=Math.min(this.height,this.maxHeight)))},createFullScreenTarget:function(){var t=document.createElement("div");return t.style.margin="0",t.style.padding="0",t.style.background="#000",t},startFullScreen:function(t,e){if(this.isFullScreen)return!1;{if(this.compatibility.supportsFullScreen){if("when-not-mouse"===this.compatibility.clickTrampoline){var s=this.game.input;if(s.activePointer&&s.activePointer!==s.mousePointer&&(e||!1!==e))return void s.activePointer.addClickTrampoline("startFullScreen",this.startFullScreen,this,[t,!1])}void 0!==t&&this.game.renderType===i.CANVAS&&(this.game.stage.smoothed=t);var n=this.fullScreenTarget;n||(this.cleanupCreatedTarget(),this._createdFullScreenTarget=this.createFullScreenTarget(),n=this._createdFullScreenTarget);var o={targetElement:n};if(this.hasPhaserSetFullScreen=!0,this.onFullScreenInit.dispatch(this,o),this._createdFullScreenTarget){var r=this.game.canvas;r.parentNode.insertBefore(n,r),n.appendChild(r)}return this.game.device.fullscreenKeyboard?n[this.game.device.requestFullscreen](Element.ALLOW_KEYBOARD_INPUT):n[this.game.device.requestFullscreen](),!0}var a=this;setTimeout(function(){a.fullScreenError()},10)}},stopFullScreen:function(){return!(!this.isFullScreen||!this.compatibility.supportsFullScreen)&&(this.hasPhaserSetFullScreen=!1,document[this.game.device.cancelFullscreen](),!0)},cleanupCreatedTarget:function(){var t=this._createdFullScreenTarget;if(t&&t.parentNode){var e=t.parentNode;e.insertBefore(this.game.canvas,t),e.removeChild(t)}this._createdFullScreenTarget=null},prepScreenMode:function(t){var e=!!this._createdFullScreenTarget,s=this._createdFullScreenTarget||this.fullScreenTarget;t?(e||this.fullScreenScaleMode===i.ScaleManager.EXACT_FIT)&&s!==this.game.canvas&&(this._fullScreenRestore={targetWidth:s.style.width,targetHeight:s.style.height},s.style.width="100%",s.style.height="100%"):(this._fullScreenRestore&&(s.style.width=this._fullScreenRestore.targetWidth,s.style.height=this._fullScreenRestore.targetHeight,this._fullScreenRestore=null),this.updateDimensions(this._gameSize.width,this._gameSize.height,!0),this.resetCanvas())},fullScreenChange:function(t){this.event=t,this.isFullScreen?(this.prepScreenMode(!0),this.updateLayout(),this.queueUpdate(!0)):(this.prepScreenMode(!1),this.cleanupCreatedTarget(),this.updateLayout(),this.queueUpdate(!0)),this.onFullScreenChange.dispatch(this,this.width,this.height)},fullScreenError:function(t){this.event=t,this.cleanupCreatedTarget(),console.warn("Phaser.ScaleManager: requestFullscreen failed or device does not support the Fullscreen API"),this.onFullScreenError.dispatch(this)},scaleSprite:function(t,e,i,s){if(void 0===e&&(e=this.width),void 0===i&&(i=this.height),void 0===s&&(s=!1),!t||!t.scale)return t;if(t.scale.x=1,t.scale.y=1,t.width<=0||t.height<=0||e<=0||i<=0)return t;var n=e,o=t.height*e/t.width,r=t.width*i/t.height,a=i,h=r>e;return(h=h?s:!s)?(t.width=Math.floor(n),t.height=Math.floor(o)):(t.width=Math.floor(r),t.height=Math.floor(a)),t},destroy:function(){this.game.onResume.remove(this._gameResumed,this),window.removeEventListener("orientationchange",this._orientationChange,!1),window.removeEventListener("resize",this._windowResize,!1),this.compatibility.supportsFullScreen&&(document.removeEventListener("webkitfullscreenchange",this._fullScreenChange,!1),document.removeEventListener("mozfullscreenchange",this._fullScreenChange,!1),document.removeEventListener("MSFullscreenChange",this._fullScreenChange,!1),document.removeEventListener("fullscreenchange",this._fullScreenChange,!1),document.removeEventListener("webkitfullscreenerror",this._fullScreenError,!1),document.removeEventListener("mozfullscreenerror",this._fullScreenError,!1),document.removeEventListener("MSFullscreenError",this._fullScreenError,!1),document.removeEventListener("fullscreenerror",this._fullScreenError,!1))}},i.ScaleManager.prototype.constructor=i.ScaleManager,Object.defineProperty(i.ScaleManager.prototype,"boundingParent",{get:function(){return this.parentIsWindow||this.isFullScreen&&this.hasPhaserSetFullScreen&&!this._createdFullScreenTarget?null:this.game.canvas&&this.game.canvas.parentNode||null}}),Object.defineProperty(i.ScaleManager.prototype,"scaleMode",{get:function(){return this._scaleMode},set:function(t){return t!==this._scaleMode&&(this.isFullScreen||(this.updateDimensions(this._gameSize.width,this._gameSize.height,!0),this.queueUpdate(!0)),this._scaleMode=t),this._scaleMode}}),Object.defineProperty(i.ScaleManager.prototype,"fullScreenScaleMode",{get:function(){return this._fullScreenScaleMode},set:function(t){return t!==this._fullScreenScaleMode&&(this.isFullScreen?(this.prepScreenMode(!1),this._fullScreenScaleMode=t,this.prepScreenMode(!0),this.queueUpdate(!0)):this._fullScreenScaleMode=t),this._fullScreenScaleMode}}),Object.defineProperty(i.ScaleManager.prototype,"currentScaleMode",{get:function(){return this.isFullScreen?this._fullScreenScaleMode:this._scaleMode}}),Object.defineProperty(i.ScaleManager.prototype,"pageAlignHorizontally",{get:function(){return this._pageAlignHorizontally},set:function(t){t!==this._pageAlignHorizontally&&(this._pageAlignHorizontally=t,this.queueUpdate(!0))}}),Object.defineProperty(i.ScaleManager.prototype,"pageAlignVertically",{get:function(){return this._pageAlignVertically},set:function(t){t!==this._pageAlignVertically&&(this._pageAlignVertically=t,this.queueUpdate(!0))}}),Object.defineProperty(i.ScaleManager.prototype,"isFullScreen",{get:function(){return!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)}}),Object.defineProperty(i.ScaleManager.prototype,"isPortrait",{get:function(){return"portrait"===this.classifyOrientation(this.screenOrientation)}}),Object.defineProperty(i.ScaleManager.prototype,"isLandscape",{get:function(){return"landscape"===this.classifyOrientation(this.screenOrientation)}}),Object.defineProperty(i.ScaleManager.prototype,"isGamePortrait",{get:function(){return this.height>this.width}}),Object.defineProperty(i.ScaleManager.prototype,"isGameLandscape",{get:function(){return this.width>this.height}}),i.Utils.Debug=function(t){this.game=t,this.sprite=null,this.bmd=null,this.canvas=null,this.context=null,this.font="14px Courier",this.columnWidth=100,this.lineHeight=16,this.lineWidth=1,this.renderShadow=!0,this.currentColor=null,this.currentX=0,this.currentY=0,this.currentAlpha=1,this.dirty=!1,this.isDisabled=!1,this._line=null,this._rect=null},i.Utils.Debug.prototype={boot:function(){this.game.renderType===i.CANVAS?this.context=this.game.context:(this.bmd=new i.BitmapData(this.game,"__DEBUG",this.game.width,this.game.height,!0),this.sprite=this.game.make.image(0,0,this.bmd),this.game.stage.addChild(this.sprite),this.game.scale.onSizeChange.add(this.resize,this),this.canvas=i.CanvasPool.create(this,this.game.width,this.game.height),this.context=this.canvas.getContext("2d")),this._line=new i.Line,this._rect=new i.Rectangle},resize:function(){this.bmd.resize(this.game.width,this.game.height),this.canvas.width=this.game.width,this.canvas.height=this.game.height},preUpdate:function(){this.dirty&&this.sprite&&(this.bmd.clear(),this.bmd.draw(this.canvas,0,0),this.context.clearRect(0,0,this.game.width,this.game.height),this.dirty=!1)},reset:function(){this.context&&this.context.clearRect(0,0,this.game.width,this.game.height),this.sprite&&this.bmd.clear()},start:function(t,e,i,s){"number"!=typeof t&&(t=0),"number"!=typeof e&&(e=0),i=i||"rgb(255,255,255)",void 0===s&&(s=0),this.currentX=t,this.currentY=e,this.currentColor=i,this.columnWidth=s,this.dirty=!0,this.context.save(),this.context.setTransform(1,0,0,1,0,0),this.context.strokeStyle=i,this.context.fillStyle=i,this.context.font=this.font,this.context.globalAlpha=this.currentAlpha},stop:function(){this.context.restore()},line:function(){for(var t=this.currentX,e=0;e<arguments.length;e++)this.renderShadow&&(this.context.fillStyle="rgb(0,0,0)",this.context.fillText(arguments[e],t+1,this.currentY+1),this.context.fillStyle=this.currentColor),this.context.fillText(arguments[e],t,this.currentY),t+=this.columnWidth;this.currentY+=this.lineHeight},soundInfo:function(t,e,i,s){this.start(e,i,s),this.line("Sound: "+t.key+" Locked: "+t.game.sound.touchLocked),this.line("Is Ready?: "+this.game.cache.isSoundReady(t.key)+" Pending Playback: "+t.pendingPlayback),this.line("Decoded: "+t.isDecoded+" Decoding: "+t.isDecoding),this.line("Total Duration: "+t.totalDuration+" Playing: "+t.isPlaying),this.line("Time: "+t.currentTime),this.line("Volume: "+t.volume+" Muted: "+t.mute),this.line("WebAudio: "+t.usingWebAudio+" Audio: "+t.usingAudioTag),""!==t.currentMarker&&(this.line("Marker: "+t.currentMarker+" Duration: "+t.duration+" (ms: "+t.durationMS+")"),this.line("Start: "+t.markers[t.currentMarker].start+" Stop: "+t.markers[t.currentMarker].stop),this.line("Position: "+t.position)),this.stop()},camera:function(t,e,i){var s=t.deadzone,n=t.target,o=t.view;s&&(this._rect.setTo(o.x+s.x,o.y+s.y,s.width,s.height),this.rectangle(this._rect,e,i)),n&&(this._line.setTo(o.centerX,o.centerY,n.x,n.y),this.geom(this._line,e,i),this.geom(n,e,!1,3))},cameraInfo:function(t,e,i,s){var n=t.bounds,o=t.deadzone,r=t.target,a=t.view;this.start(e,i,s),this.line("Camera ("+t.width+" x "+t.height+")"),this.line("x: "+t.x+" y: "+t.y),n&&this.line("Bounds x: "+n.x+" y: "+n.y+" w: "+n.width+" h: "+n.height),this.line("View x: "+a.x+" y: "+a.y+" w: "+a.width+" h: "+a.height),this.line("Deadzone: "+(o?"x: "+o.x+" y: "+o.y+" w: "+o.width+" h: "+o.height:o)),this.line("Total in view: "+t.totalInView),this.line("At limit: x: "+t.atLimit.x+" y: "+t.atLimit.y),this.line("Target: "+(r?r.name||r:r)),this.stop()},timer:function(t,e,i,s){this.start(e,i,s),this.line("Timer (running: "+t.running+" expired: "+t.expired+")"),this.line("Next Tick: "+t.next+" Duration: "+t.duration),this.line("Paused: "+t.paused+" Length: "+t.length),this.stop()},pointer:function(t,e,i,s,n){null!=t&&(void 0===e&&(e=!1),i=i||"rgba(0,255,0,0.5)",s=s||"rgba(255,0,0,0.5)",!0===e&&!0===t.isUp||(this.start(t.x,t.y-100,n),this.context.beginPath(),this.context.arc(t.x,t.y,t.circle.radius,0,2*Math.PI),t.active?this.context.fillStyle=i:this.context.fillStyle=s,this.context.fill(),this.context.closePath(),this.context.beginPath(),this.context.moveTo(t.positionDown.x,t.positionDown.y),this.context.lineTo(t.position.x,t.position.y),this.context.lineWidth=2,this.context.stroke(),this.context.closePath(),this.line("ID: "+t.id+" Active: "+t.active),this.line("World X: "+t.worldX+" World Y: "+t.worldY),this.line("Screen X: "+t.x+" Screen Y: "+t.y+" In: "+t.withinGame),this.line("Duration: "+t.duration+" ms"),this.line("is Down: "+t.isDown+" is Up: "+t.isUp),this.stop()))},spriteInputInfo:function(t,e,i,s){this.start(e,i,s),this.line("Sprite Input: ("+t.width+" x "+t.height+")"),this.line("x: "+t.input.pointerX().toFixed(1)+" y: "+t.input.pointerY().toFixed(1)),this.line("over: "+t.input.pointerOver()+" duration: "+t.input.overDuration().toFixed(0)),this.line("down: "+t.input.pointerDown()+" duration: "+t.input.downDuration().toFixed(0)),this.line("just over: "+t.input.justOver()+" just out: "+t.input.justOut()),this.stop()},key:function(t,e,i,s){this.start(e,i,s,150),this.line("Key:",t.keyCode,"isDown:",t.isDown),this.line("justDown:",t.justDown,"justUp:",t.justUp),this.line("Time Down:",t.timeDown.toFixed(0),"duration:",t.duration.toFixed(0)),this.stop()},inputInfo:function(t,e,i){this.start(t,e,i),this.line("Input"),this.line("X: "+this.game.input.x+" Y: "+this.game.input.y),this.line("World X: "+this.game.input.worldX+" World Y: "+this.game.input.worldY),this.line("Scale X: "+this.game.input.scale.x.toFixed(1)+" Scale Y: "+this.game.input.scale.x.toFixed(1)),this.line("Screen X: "+this.game.input.activePointer.screenX+" Screen Y: "+this.game.input.activePointer.screenY),this.stop()},spriteBounds:function(t,e,i){var s=t.getBounds();s.x+=this.game.camera.x,s.y+=this.game.camera.y,this.rectangle(s,e,i)},ropeSegments:function(t,e,i){var s=this;t.segments.forEach(function(t){s.rectangle(t,e,i)},this)},spriteInfo:function(t,e,i,s){this.start(e,i,s),this.line("Sprite:  ("+t.width+" x "+t.height+") anchor: "+t.anchor.x+" x "+t.anchor.y),this.line("x: "+t.x.toFixed(1)+" y: "+t.y.toFixed(1)),this.line("angle: "+t.angle.toFixed(1)+" rotation: "+t.rotation.toFixed(1)),this.line("visible: "+t.visible+" in camera: "+t.inCamera),this.line("bounds x: "+t._bounds.x.toFixed(1)+" y: "+t._bounds.y.toFixed(1)+" w: "+t._bounds.width.toFixed(1)+" h: "+t._bounds.height.toFixed(1)),this.stop()},spriteCoords:function(t,e,i,s){this.start(e,i,s,100),t.name&&this.line(t.name),this.line("x:",t.x.toFixed(2),"y:",t.y.toFixed(2)),this.line("pos x:",t.position.x.toFixed(2),"pos y:",t.position.y.toFixed(2)),this.line("world x:",t.world.x.toFixed(2),"world y:",t.world.y.toFixed(2)),this.stop()},lineInfo:function(t,e,i,s){this.start(e,i,s,80),this.line("start.x:",t.start.x.toFixed(2),"start.y:",t.start.y.toFixed(2)),this.line("end.x:",t.end.x.toFixed(2),"end.y:",t.end.y.toFixed(2)),this.line("length:",t.length.toFixed(2),"angle:",t.angle),this.stop()},pixel:function(t,e,i,s){s=s||2,this.start(),this.context.fillStyle=i,this.context.fillRect(t,e,s,s),this.stop()},geom:function(t,e,s,n){void 0===s&&(s=!0),void 0===n&&(n=0),e=e||"rgba(0,255,0,0.4)",this.start(),this.context.fillStyle=e,this.context.strokeStyle=e,this.context.lineWidth=this.lineWidth,t instanceof i.Rectangle||1===n?s?this.context.fillRect(t.x-this.game.camera.x,t.y-this.game.camera.y,t.width,t.height):this.context.strokeRect(t.x-this.game.camera.x,t.y-this.game.camera.y,t.width,t.height):t instanceof i.Circle||2===n?(this.context.beginPath(),this.context.arc(t.x-this.game.camera.x,t.y-this.game.camera.y,t.radius,0,2*Math.PI,!1),this.context.closePath(),s?this.context.fill():this.context.stroke()):t instanceof i.Point||3===n?this.context.fillRect(t.x-this.game.camera.x,t.y-this.game.camera.y,4,4):t instanceof i.Line||4===n?(this.context.beginPath(),this.context.moveTo(t.start.x+.5-this.game.camera.x,t.start.y+.5-this.game.camera.y),this.context.lineTo(t.end.x+.5-this.game.camera.x,t.end.y+.5-this.game.camera.y),this.context.closePath(),this.context.stroke()):(t instanceof i.Ellipse||5===n)&&(this.context.beginPath(),this.context.ellipse(t.x-this.game.camera.x,t.y-this.game.camera.y,t.width/2,t.height/2,0,2*Math.PI,!1),this.context.closePath(),s?this.context.fill():this.context.stroke()),this.stop()},rectangle:function(t,e,i){void 0===i&&(i=!0),e=e||"rgba(0, 255, 0, 0.4)",this.start(),i?(this.context.fillStyle=e,this.context.fillRect(t.x-this.game.camera.x,t.y-this.game.camera.y,t.width,t.height)):(this.context.lineWidth=this.lineWidth,this.context.strokeStyle=e,this.context.strokeRect(t.x-this.game.camera.x,t.y-this.game.camera.y,t.width,t.height)),this.stop()},text:function(t,e,i,s,n){s=s||"rgb(255,255,255)",n=n||"16px Courier",this.start(),this.context.font=n,this.renderShadow&&(this.context.fillStyle="rgb(0,0,0)",this.context.fillText(t,e+1,i+1)),this.context.fillStyle=s,this.context.fillText(t,e,i),this.stop()},quadTree:function(t,e){e=e||"rgba(255,0,0,0.3)",this.start();var i=t.bounds;if(0===t.nodes.length){this.context.strokeStyle=e,this.context.strokeRect(i.x,i.y,i.width,i.height),this.text("size: "+t.objects.length,i.x+4,i.y+16,"rgb(0,200,0)","12px Courier"),this.context.strokeStyle="rgb(0,255,0)";for(s=0;s<t.objects.length;s++)this.context.strokeRect(t.objects[s].x,t.objects[s].y,t.objects[s].width,t.objects[s].height)}else for(var s=0;s<t.nodes.length;s++)this.quadTree(t.nodes[s]);this.stop()},body:function(t,e,s){t.body&&(this.start(),t.body.type===i.Physics.ARCADE?i.Physics.Arcade.Body.render(this.context,t.body,e,s,this.lineWidth):t.body.type===i.Physics.NINJA?i.Physics.Ninja.Body.render(this.context,t.body,e,s):t.body.type===i.Physics.BOX2D&&i.Physics.Box2D.renderBody(this.context,t.body,e),this.stop())},bodyInfo:function(t,e,s,n){t.body&&(this.start(e,s,n,210),t.body.type===i.Physics.ARCADE?i.Physics.Arcade.Body.renderBodyInfo(this,t.body):t.body.type===i.Physics.BOX2D&&this.game.physics.box2d.renderBodyInfo(this,t.body),this.stop())},box2dWorld:function(){this.start(),this.context.translate(-this.game.camera.view.x,-this.game.camera.view.y,0),this.game.physics.box2d.renderDebugDraw(this.context),this.stop()},box2dBody:function(t,e){this.start(),i.Physics.Box2D.renderBody(this.context,t,e),this.stop()},displayList:function(t){if(void 0===t&&(t=this.game.world),t.hasOwnProperty("renderOrderID")?console.log("["+t.renderOrderID+"]",t):console.log("[]",t),t.children&&t.children.length>0)for(var e=0;e<t.children.length;e++)this.game.debug.displayList(t.children[e])},renderer:function(t,e,i){var s=this.game.renderer,n=s.renderSession;if(this.start(t,e,i),this.line((s.gl?"WebGL":"Canvas")+" Renderer ("+s.width+" x "+s.height+")"),this.line("autoResize: "+s.autoResize),this.line("clearBeforeRender: "+s.clearBeforeRender),this.line("resolution: "+s.resolution),this.line("transparent: "+s.transparent),this.line("renderSession:"),s.gl){this.line("  currentBatchedTextures: ("+s.currentBatchedTextures.length+")");for(var o=0;o<s.currentBatchedTextures.length;o++)this.line("    "+s.currentBatchedTextures[o]);this.line("  drawCount: "+n.drawCount),this.line("  maxTextures: "+s.maxTextures),this.line("  maxTextureSize: "+s.maxTextureSize),this.line("  maxTextureAvailableSpace: "+n.maxTextureAvailableSpace),this.line("  roundPixels: "+n.roundPixels)}else this.line("  roundPixels: "+n.roundPixels),this.line("  scaleMode: "+(0===n.scaleMode?"LINEAR":1===n.scaleMode?"NEAREST":n.scaleMode));this.stop()},canvasPool:function(t,e,s,n){var o=i.CanvasPool;this.start(t,e,s,n||100),this.line("Canvas Pool"),this.line("Used:",o.getTotal()),this.line("Free:",o.getFree()),this.line("Total:",o.length),this.stop()},physicsGroup:function(t,e,i,s){t.forEach(this.body,this,s,e,i)},phaser:function(t,e,s){this.text("Phaser v"+i.VERSION+" "+(this.game.renderType===i.WEBGL?"WebGL":"Canvas")+" "+(this.game.device.webAudio?"WebAudio":"HTML Audio"),t,e,s,this.font)},destroy:function(){i.CanvasPool.remove(this)}},i.Utils.Debug.prototype.constructor=i.Utils.Debug,i.DOM={getOffset:function(t,e){e=e||new i.Point;var s=t.getBoundingClientRect(),n=i.DOM.scrollY,o=i.DOM.scrollX,r=document.documentElement.clientTop,a=document.documentElement.clientLeft;return e.x=s.left+o-a,e.y=s.top+n-r,e},getBounds:function(t,e){return void 0===e&&(e=0),!(!(t=t&&!t.nodeType?t[0]:t)||1!==t.nodeType)&&this.calibrate(t.getBoundingClientRect(),e)},calibrate:function(t,e){e=+e||0;var i={width:0,height:0,left:0,right:0,top:0,bottom:0};return i.width=(i.right=t.right+e)-(i.left=t.left-e),i.height=(i.bottom=t.bottom+e)-(i.top=t.top-e),i},getAspectRatio:function(t){var e=(t=null==t?this.visualBounds:1===t.nodeType?this.getBounds(t):t).width,i=t.height;return"function"==typeof e&&(e=e.call(t)),"function"==typeof i&&(i=i.call(t)),e/i},inLayoutViewport:function(t,e){var i=this.getBounds(t,e);return!!i&&i.bottom>=0&&i.right>=0&&i.top<=this.layoutBounds.width&&i.left<=this.layoutBounds.height},getScreenOrientation:function(t){var e=window.screen,i=e.orientation||e.mozOrientation||e.msOrientation;if(i&&"string"==typeof i.type)return i.type;if("string"==typeof i)return i;var s="portrait-primary",n="landscape-primary";if("screen"===t)return e.height>e.width?s:n;if("viewport"===t)return this.visualBounds.height>this.visualBounds.width?s:n;if("window.orientation"===t&&"number"==typeof window.orientation)return 0===window.orientation||180===window.orientation?s:n;if(window.matchMedia){if(window.matchMedia("(orientation: portrait)").matches)return s;if(window.matchMedia("(orientation: landscape)").matches)return n}return this.visualBounds.height>this.visualBounds.width?s:n},visualBounds:new i.Rectangle,layoutBounds:new i.Rectangle,documentBounds:new i.Rectangle},i.Device.whenReady(function(t){var e=window&&"pageXOffset"in window?function(){return window.pageXOffset}:function(){return document.documentElement.scrollLeft},s=window&&"pageYOffset"in window?function(){return window.pageYOffset}:function(){return document.documentElement.scrollTop};if(Object.defineProperty(i.DOM,"scrollX",{get:e}),Object.defineProperty(i.DOM,"scrollY",{get:s}),Object.defineProperty(i.DOM.visualBounds,"x",{get:e}),Object.defineProperty(i.DOM.visualBounds,"y",{get:s}),Object.defineProperty(i.DOM.layoutBounds,"x",{value:0}),Object.defineProperty(i.DOM.layoutBounds,"y",{value:0}),t.desktop&&document.documentElement.clientWidth<=window.innerWidth&&document.documentElement.clientHeight<=window.innerHeight){var n=function(){return Math.max(window.innerWidth,document.documentElement.clientWidth)},o=function(){return Math.max(window.innerHeight,document.documentElement.clientHeight)};Object.defineProperty(i.DOM.visualBounds,"width",{get:n}),Object.defineProperty(i.DOM.visualBounds,"height",{get:o}),Object.defineProperty(i.DOM.layoutBounds,"width",{get:n}),Object.defineProperty(i.DOM.layoutBounds,"height",{get:o})}else Object.defineProperty(i.DOM.visualBounds,"width",{get:function(){return window.innerWidth}}),Object.defineProperty(i.DOM.visualBounds,"height",{get:function(){return window.innerHeight}}),Object.defineProperty(i.DOM.layoutBounds,"width",{get:function(){var t=document.documentElement.clientWidth,e=window.innerWidth;return t<e?e:t}}),Object.defineProperty(i.DOM.layoutBounds,"height",{get:function(){var t=document.documentElement.clientHeight,e=window.innerHeight;return t<e?e:t}});Object.defineProperty(i.DOM.documentBounds,"x",{value:0}),Object.defineProperty(i.DOM.documentBounds,"y",{value:0}),Object.defineProperty(i.DOM.documentBounds,"width",{get:function(){var t=document.documentElement;return Math.max(t.clientWidth,t.offsetWidth,t.scrollWidth)}}),Object.defineProperty(i.DOM.documentBounds,"height",{get:function(){var t=document.documentElement;return Math.max(t.clientHeight,t.offsetHeight,t.scrollHeight)}})},null,!0),i.ArraySet=function(t){this.position=0,this.list=t||[]},i.ArraySet.prototype={add:function(t){return this.exists(t)||this.list.push(t),t},getIndex:function(t){return this.list.indexOf(t)},getByKey:function(t,e){for(var i=this.list.length;i--;)if(this.list[i][t]===e)return this.list[i];return null},exists:function(t){return this.list.indexOf(t)>-1},reset:function(){this.list.length=0},remove:function(t){var e=this.list.indexOf(t);if(e>-1)return this.list.splice(e,1),t},setAll:function(t,e){for(var i=this.list.length;i--;)this.list[i]&&(this.list[i][t]=e)},callAll:function(t){for(var e=Array.prototype.slice.call(arguments,1),i=this.list.length;i--;)this.list[i]&&this.list[i][t]&&this.list[i][t].apply(this.list[i],e)},removeAll:function(t){void 0===t&&(t=!1);for(var e=this.list.length;e--;)if(this.list[e]){var i=this.remove(this.list[e]);t&&i.destroy()}this.position=0,this.list=[]}},Object.defineProperty(i.ArraySet.prototype,"total",{get:function(){return this.list.length}}),Object.defineProperty(i.ArraySet.prototype,"first",{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}}),Object.defineProperty(i.ArraySet.prototype,"next",{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}}),i.ArraySet.prototype.constructor=i.ArraySet,i.ArrayUtils={getRandomItem:function(t,e,i){if(null===t)return null;void 0===e&&(e=0),void 0===i&&(i=t.length);var s=e+Math.floor(Math.random()*i);return void 0===t[s]?null:t[s]},removeRandomItem:function(t,e,i){if(null==t)return null;void 0===e&&(e=0),void 0===i&&(i=t.length);var s=e+Math.floor(Math.random()*i);if(s<t.length){var n=t.splice(s,1);return void 0===n[0]?null:n[0]}return null},remove:function(t,e,i){var s=t.length;if(!(e>=s||0===i)){null==i&&(i=1);for(var n=s-i,o=e;o<n;++o)t[o]=t[o+i];t.length=n}},shuffle:function(t){for(var e=t.length-1;e>0;e--){var i=Math.floor(Math.random()*(e+1)),s=t[e];t[e]=t[i],t[i]=s}return t},transposeMatrix:function(t){for(var e=t.length,i=t[0].length,s=new Array(i),n=0;n<i;n++){s[n]=new Array(e);for(var o=e-1;o>-1;o--)s[n][o]=t[o][n]}return s},rotateMatrix:function(t,e){if("string"!=typeof e&&(e=(e%360+360)%360),90===e||-270===e||"rotateLeft"===e)t=(t=i.ArrayUtils.transposeMatrix(t)).reverse();else if(-90===e||270===e||"rotateRight"===e)t=t.reverse(),t=i.ArrayUtils.transposeMatrix(t);else if(180===Math.abs(e)||"rotate180"===e){for(var s=0;s<t.length;s++)t[s].reverse();t=t.reverse()}return t},findClosest:function(t,e){if(!e.length)return NaN;if(1===e.length||t<e[0])return e[0];for(var i=1;e[i]<t;)i++;var s=e[i-1],n=i<e.length?e[i]:Number.POSITIVE_INFINITY;return n-t<=t-s?n:s},rotateRight:function(t){var e=t.pop();return t.unshift(e),e},rotateLeft:function(t){var e=t.shift();return t.push(e),e},rotate:function(t){var e=t.shift();return t.push(e),e},numberArray:function(t,e){void 0!==e&&null!==e||(e=t,t=0);for(var i=[],s=t;s<=e;s++)i.push(s);return i},numberArrayStep:function(t,e,s){void 0!==t&&null!==t||(t=0),void 0!==e&&null!==e||(e=t,t=0),void 0===s&&(s=1);for(var n=[],o=Math.max(i.Math.roundAwayFromZero((e-t)/(s||1)),0),r=0;r<o;r++)n.push(t),t+=s;return n}},i.LinkedList=function(){this.next=null,this.prev=null,this.first=null,this.last=null,this.total=0},i.LinkedList.prototype={add:function(t){return 0===this.total&&null===this.first&&null===this.last?(this.first=t,this.last=t,this.next=t,t.prev=this,this.total++,t):(this.last.next=t,t.prev=this.last,this.last=t,this.total++,t)},reset:function(){this.first=null,this.last=null,this.next=null,this.prev=null,this.total=0},remove:function(t){if(1===this.total)return this.reset(),void(t.next=t.prev=null);t===this.first?this.first=this.first.next:t===this.last&&(this.last=this.last.prev),t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),t.next=t.prev=null,null===this.first&&(this.last=null),this.total--},callAll:function(t){if(this.first&&this.last){var e=this.first;do{e&&e[t]&&e[t].call(e),e=e.next}while(e!==this.last.next)}}},i.LinkedList.prototype.constructor=i.LinkedList,i.Create=function(t){this.game=t,this.bmd=null,this.canvas=null,this.ctx=null,this.palettes=[{0:"#000",1:"#9D9D9D",2:"#FFF",3:"#BE2633",4:"#E06F8B",5:"#493C2B",6:"#A46422",7:"#EB8931",8:"#F7E26B",9:"#2F484E",A:"#44891A",B:"#A3CE27",C:"#1B2632",D:"#005784",E:"#31A2F2",F:"#B2DCEF"},{0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#f5f4eb"},{0:"#000",1:"#2234d1",2:"#0c7e45",3:"#44aacc",4:"#8a3622",5:"#5c2e78",6:"#aa5c3d",7:"#b5b5b5",8:"#5e606e",9:"#4c81fb",A:"#6cd947",B:"#7be2f9",C:"#eb8a60",D:"#e23d69",E:"#ffd93f",F:"#fff"},{0:"#000",1:"#fff",2:"#8b4131",3:"#7bbdc5",4:"#8b41ac",5:"#6aac41",6:"#3931a4",7:"#d5de73",8:"#945a20",9:"#5a4100",A:"#bd736a",B:"#525252",C:"#838383",D:"#acee8b",E:"#7b73de",F:"#acacac"},{0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#fff"}]},i.Create.PALETTE_ARNE=0,i.Create.PALETTE_JMP=1,i.Create.PALETTE_CGA=2,i.Create.PALETTE_C64=3,i.Create.PALETTE_JAPANESE_MACHINE=4,i.Create.prototype={texture:function(t,e,i,s,n,o,r,a){void 0===i&&(i=8),void 0===s&&(s=i),void 0===n&&(n=0),void 0===o&&(o=!0);var h=e[0].length*i,l=e.length*s;null===this.bmd&&(this.bmd=this.game.make.bitmapData(),this.canvas=this.bmd.canvas,this.ctx=this.bmd.context),this.bmd.resize(h,l),this.bmd.clear();for(var c=0;c<e.length;c++)for(var u=e[c],d=0;d<u.length;d++){var p=u[d];"."!==p&&" "!==p&&(this.ctx.fillStyle=this.palettes[n][p],this.ctx.fillRect(d*i,c*s,i,s))}return o?this.bmd.generateTexture(t,r,a):this.copy()},grid:function(t,e,i,s,n,o,r,a,h){void 0===r&&(r=!0),null===this.bmd&&(this.bmd=this.game.make.bitmapData(),this.canvas=this.bmd.canvas,this.ctx=this.bmd.context),this.bmd.resize(e,i),this.ctx.fillStyle=o;for(var l=0;l<i;l+=n)this.ctx.fillRect(0,l,e,1);for(var c=0;c<e;c+=s)this.ctx.fillRect(c,0,1,i);return r?this.bmd.generateTexture(t,a,h):this.copy()},copy:function(t,e,i,s,n,o,r){return null==t&&(t=this.game.make.bitmapData()),t.resize(this.bmd.width,this.bmd.height),t.draw(this.bmd,e,i,s,n,o,r)}},i.Create.prototype.constructor=i.Create,i.FlexGrid=function(t,e,s){this.game=t.game,this.manager=t,this.width=e,this.height=s,this.boundsCustom=new i.Rectangle(0,0,e,s),this.boundsFluid=new i.Rectangle(0,0,e,s),this.boundsFull=new i.Rectangle(0,0,e,s),this.boundsNone=new i.Rectangle(0,0,e,s),this.positionCustom=new i.Point(0,0),this.positionFluid=new i.Point(0,0),this.positionFull=new i.Point(0,0),this.positionNone=new i.Point(0,0),this.scaleCustom=new i.Point(1,1),this.scaleFluid=new i.Point(1,1),this.scaleFluidInversed=new i.Point(1,1),this.scaleFull=new i.Point(1,1),this.scaleNone=new i.Point(1,1),this.customWidth=0,this.customHeight=0,this.customOffsetX=0,this.customOffsetY=0,this.ratioH=e/s,this.ratioV=s/e,this.multiplier=0,this.layers=[]},i.FlexGrid.prototype={setSize:function(t,e){this.width=t,this.height=e,this.ratioH=t/e,this.ratioV=e/t,this.scaleNone=new i.Point(1,1),this.boundsNone.width=this.width,this.boundsNone.height=this.height,this.refresh()},createCustomLayer:function(t,e,s,n){void 0===n&&(n=!0),this.customWidth=t,this.customHeight=e,this.boundsCustom.width=t,this.boundsCustom.height=e;var o=new i.FlexLayer(this,this.positionCustom,this.boundsCustom,this.scaleCustom);return n&&this.game.world.add(o),this.layers.push(o),void 0!==s&&null!==typeof s&&o.addMultiple(s),o},createFluidLayer:function(t,e){void 0===e&&(e=!0);var s=new i.FlexLayer(this,this.positionFluid,this.boundsFluid,this.scaleFluid);return e&&this.game.world.add(s),this.layers.push(s),void 0!==t&&null!==typeof t&&s.addMultiple(t),s},createFullLayer:function(t){var e=new i.FlexLayer(this,this.positionFull,this.boundsFull,this.scaleFluid);return this.game.world.add(e),this.layers.push(e),void 0!==t&&e.addMultiple(t),e},createFixedLayer:function(t){var e=new i.FlexLayer(this,this.positionNone,this.boundsNone,this.scaleNone);return this.game.world.add(e),this.layers.push(e),void 0!==t&&e.addMultiple(t),e},reset:function(){for(var t=this.layers.length;t--;)this.layers[t].persist||(this.layers[t].position=null,this.layers[t].scale=null,this.layers.slice(t,1))},onResize:function(t,e){this.ratioH=t/e,this.ratioV=e/t,this.refresh(t,e)},refresh:function(){this.multiplier=Math.min(this.manager.height/this.height,this.manager.width/this.width),this.boundsFluid.width=Math.round(this.width*this.multiplier),this.boundsFluid.height=Math.round(this.height*this.multiplier),this.scaleFluid.set(this.boundsFluid.width/this.width,this.boundsFluid.height/this.height),this.scaleFluidInversed.set(this.width/this.boundsFluid.width,this.height/this.boundsFluid.height),this.scaleFull.set(this.boundsFull.width/this.width,this.boundsFull.height/this.height),this.boundsFull.width=Math.round(this.manager.width*this.scaleFluidInversed.x),this.boundsFull.height=Math.round(this.manager.height*this.scaleFluidInversed.y),this.boundsFluid.centerOn(this.manager.bounds.centerX,this.manager.bounds.centerY),this.boundsNone.centerOn(this.manager.bounds.centerX,this.manager.bounds.centerY),this.positionFluid.set(this.boundsFluid.x,this.boundsFluid.y),this.positionNone.set(this.boundsNone.x,this.boundsNone.y)},fitSprite:function(t){this.manager.scaleSprite(t),t.x=this.manager.bounds.centerX,t.y=this.manager.bounds.centerY},debug:function(){this.game.debug.text(this.boundsFluid.width+" x "+this.boundsFluid.height,this.boundsFluid.x+4,this.boundsFluid.y+16),this.game.debug.geom(this.boundsFluid,"rgba(255,0,0,0.9",!1)}},i.FlexGrid.prototype.constructor=i.FlexGrid,i.FlexLayer=function(t,e,s,n){i.Group.call(this,t.game,null,"__flexLayer"+t.game.rnd.uuid(),!1),this.manager=t.manager,this.grid=t,this.persist=!1,this.position=e,this.bounds=s,this.scale=n,this.topLeft=s.topLeft,this.topMiddle=new i.Point(s.halfWidth,0),this.topRight=s.topRight,this.bottomLeft=s.bottomLeft,this.bottomMiddle=new i.Point(s.halfWidth,s.bottom),this.bottomRight=s.bottomRight},i.FlexLayer.prototype=Object.create(i.Group.prototype),i.FlexLayer.prototype.constructor=i.FlexLayer,i.FlexLayer.prototype.resize=function(){},i.FlexLayer.prototype.debug=function(){this.game.debug.text(this.bounds.width+" x "+this.bounds.height,this.bounds.x+4,this.bounds.y+16),this.game.debug.geom(this.bounds,"rgba(0,0,255,0.9",!1),this.game.debug.geom(this.topLeft,"rgba(255,255,255,0.9"),this.game.debug.geom(this.topMiddle,"rgba(255,255,255,0.9"),this.game.debug.geom(this.topRight,"rgba(255,255,255,0.9")},i.Color={packPixel:function(t,e,s,n){return i.Device.LITTLE_ENDIAN?(n<<24|s<<16|e<<8|t)>>>0:(t<<24|e<<16|s<<8|n)>>>0},unpackPixel:function(t,e,s,n){return void 0!==e&&null!==e||(e=i.Color.createColor()),void 0!==s&&null!==s||(s=!1),void 0!==n&&null!==n||(n=!1),i.Device.LITTLE_ENDIAN?(e.a=(4278190080&t)>>>24,e.b=(16711680&t)>>>16,e.g=(65280&t)>>>8,e.r=255&t):(e.r=(4278190080&t)>>>24,e.g=(16711680&t)>>>16,e.b=(65280&t)>>>8,e.a=255&t),e.color=t,e.rgba="rgba("+e.r+","+e.g+","+e.b+","+e.a/255+")",s&&i.Color.RGBtoHSL(e.r,e.g,e.b,e),n&&i.Color.RGBtoHSV(e.r,e.g,e.b,e),e},fromRGBA:function(t,e){return e||(e=i.Color.createColor()),e.r=(4278190080&t)>>>24,e.g=(16711680&t)>>>16,e.b=(65280&t)>>>8,e.a=255&t,e.rgba="rgba("+e.r+","+e.g+","+e.b+","+e.a+")",e},toRGBA:function(t,e,i,s){return t<<24|e<<16|i<<8|s},toABGR:function(t,e,i,s){return(s<<24|i<<16|e<<8|t)>>>0},hexToRGBArray:function(t){return[(t>>16&255)/255,(t>>8&255)/255,(255&t)/255]},RGBArrayToHex:function(t){return(255*t[0]<<16)+(255*t[1]<<8)+255*t[2]},RGBtoHSL:function(t,e,s,n){n||(n=i.Color.createColor(t,e,s,1)),t/=255,e/=255,s/=255;var o=Math.min(t,e,s),r=Math.max(t,e,s);if(n.h=0,n.s=0,n.l=(r+o)/2,r!==o){var a=r-o;n.s=n.l>.5?a/(2-r-o):a/(r+o),r===t?n.h=(e-s)/a+(e<s?6:0):r===e?n.h=(s-t)/a+2:r===s&&(n.h=(t-e)/a+4),n.h/=6}return n},HSLtoRGB:function(t,e,s,n){if(n?(n.r=s,n.g=s,n.b=s):n=i.Color.createColor(s,s,s),0!==e){var o=s<.5?s*(1+e):s+e-s*e,r=2*s-o;n.r=i.Color.hueToColor(r,o,t+1/3),n.g=i.Color.hueToColor(r,o,t),n.b=i.Color.hueToColor(r,o,t-1/3)}return n.r=Math.floor(255*n.r|0),n.g=Math.floor(255*n.g|0),n.b=Math.floor(255*n.b|0),i.Color.updateColor(n),n},RGBtoHSV:function(t,e,s,n){n||(n=i.Color.createColor(t,e,s,255)),t/=255,e/=255,s/=255;var o=Math.min(t,e,s),r=Math.max(t,e,s),a=r-o;return n.h=0,n.s=0===r?0:a/r,n.v=r,r!==o&&(r===t?n.h=(e-s)/a+(e<s?6:0):r===e?n.h=(s-t)/a+2:r===s&&(n.h=(t-e)/a+4),n.h/=6),n},HSVtoRGB:function(t,e,s,n){void 0===n&&(n=i.Color.createColor(0,0,0,1,t,e,0,s));var o,r,a,h=Math.floor(6*t),l=6*t-h,c=s*(1-e),u=s*(1-l*e),d=s*(1-(1-l)*e);switch(h%6){case 0:o=s,r=d,a=c;break;case 1:o=u,r=s,a=c;break;case 2:o=c,r=s,a=d;break;case 3:o=c,r=u,a=s;break;case 4:o=d,r=c,a=s;break;case 5:o=s,r=c,a=u}return n.r=Math.floor(255*o),n.g=Math.floor(255*r),n.b=Math.floor(255*a),i.Color.updateColor(n),n},hueToColor:function(t,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+6*(e-t)*i:i<.5?e:i<2/3?t+(e-t)*(2/3-i)*6:t},createColor:function(t,e,s,n,o,r,a,h){var l={r:t||0,g:e||0,b:s||0,a:n||1,h:o||0,s:r||0,l:a||0,v:h||0,color:0,color32:0,rgba:""};return i.Color.updateColor(l)},updateColor:function(t){return t.rgba="rgba("+t.r.toFixed()+","+t.g.toFixed()+","+t.b.toFixed()+","+t.a.toString()+")",t.color=i.Color.getColor(t.r,t.g,t.b),t.color32=i.Color.getColor32(255*t.a,t.r,t.g,t.b),t},getColor32:function(t,e,i,s){return t<<24|e<<16|i<<8|s},getColor:function(t,e,i){return t<<16|e<<8|i},RGBtoString:function(t,e,s,n,o){return void 0===n&&(n=255),void 0===o&&(o="#"),"#"===o?"#"+((1<<24)+(t<<16)+(e<<8)+s).toString(16).slice(1):"0x"+i.Color.componentToHex(n)+i.Color.componentToHex(t)+i.Color.componentToHex(e)+i.Color.componentToHex(s)},hexToRGB:function(t){var e=i.Color.hexToColor(t);if(e)return i.Color.getColor32(e.a,e.r,e.g,e.b)},hexToColor:function(t,e){t=t.replace(/^(?:#|0x)?([a-f\d])([a-f\d])([a-f\d])$/i,function(t,e,i,s){return e+e+i+i+s+s});var s=/^(?:#|0x)?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);if(s){var n=parseInt(s[1],16),o=parseInt(s[2],16),r=parseInt(s[3],16);e?(e.r=n,e.g=o,e.b=r):e=i.Color.createColor(n,o,r)}return e},webToColor:function(t,e){e||(e=i.Color.createColor());var s=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d+(?:\.\d+)?))?\s*\)$/.exec(t);return s&&(e.r=~~Number(s[1]),e.g=~~Number(s[2]),e.b=~~Number(s[3]),e.a=void 0!==s[4]?Number(s[4]):1,i.Color.updateColor(e)),e},valueToColor:function(t,e){if(e||(e=i.Color.createColor()),"string"==typeof t)return 0===t.indexOf("rgb")?i.Color.webToColor(t,e):(e.a=1,i.Color.hexToColor(t,e));if("number"==typeof t){var s=i.Color.getRGB(t);return e.r=s.r,e.g=s.g,e.b=s.b,e.a=s.a/255,e}return e},componentToHex:function(t){var e=t.toString(16);return 1===e.length?"0"+e:e},HSVColorWheel:function(t,e){void 0===t&&(t=1),void 0===e&&(e=1);for(var s=[],n=0;n<=359;n++)s.push(i.Color.HSVtoRGB(n/359,t,e));return s},HSLColorWheel:function(t,e){void 0===t&&(t=.5),void 0===e&&(e=.5);for(var s=[],n=0;n<=359;n++)s.push(i.Color.HSLtoRGB(n/359,t,e));return s},interpolateColor:function(t,e,s,n,o,r){void 0===o&&(o=255),void 0===r&&(r=0);var a=i.Color.getRGB(t),h=i.Color.getRGB(e);if(0===r)var l=(h.red-a.red)*n/s+a.red,c=(h.green-a.green)*n/s+a.green,u=(h.blue-a.blue)*n/s+a.blue;if(1===r){var d,p=i.Color.RGBtoHSV(a.r,a.g,a.b),f=i.Color.RGBtoHSV(h.r,h.g,h.b),m=f.h-p.h;if(p.h>f.h){var g=f.h;f.h=p.h,p.h=g,m=-m,n=s-n}m>.5&&(p.h=p.h+1,d=((f.h-p.h)*n/s+p.h)%1),m<=.5&&(d=(f.h-p.h)*n/s+p.h);var y=(f.s-p.s)*n/s+p.s,v=(f.v-p.v)*n/s+p.v,x=i.Color.HSVtoRGB(d,y,v,x),l=x.r,c=x.g,u=x.b}return i.Color.getColor32(o,l,c,u)},interpolateColorWithRGB:function(t,e,s,n,o,r){var a=i.Color.getRGB(t),h=(e-a.red)*r/o+a.red,l=(s-a.green)*r/o+a.green,c=(n-a.blue)*r/o+a.blue;return i.Color.getColor(h,l,c)},interpolateRGB:function(t,e,s,n,o,r,a,h){var l=(n-t)*h/a+t,c=(o-e)*h/a+e,u=(r-s)*h/a+s;return i.Color.getColor(l,c,u)},linear:function(t,e,i){return this.interpolateColor(t,e,1,i)},linearInterpolation:function(t,e){var s=i.Math.linear(0,t.length-1,e),n=t[Math.floor(s)],o=t[Math.ceil(s)];return this.linear(n,o,s%1)},getRandomColor:function(t,e,s){if(void 0===t&&(t=0),void 0===e&&(e=255),void 0===s&&(s=255),e>255||t>e)return i.Color.getColor(255,255,255);var n=t+Math.round(Math.random()*(e-t)),o=t+Math.round(Math.random()*(e-t)),r=t+Math.round(Math.random()*(e-t));return i.Color.getColor32(s,n,o,r)},getRGB:function(t){return t>16777215?{alpha:t>>>24,red:t>>16&255,green:t>>8&255,blue:255&t,a:t>>>24,r:t>>16&255,g:t>>8&255,b:255&t}:{alpha:255,red:t>>16&255,green:t>>8&255,blue:255&t,a:255,r:t>>16&255,g:t>>8&255,b:255&t}},getWebRGB:function(t){if("object"==typeof t)return"rgba("+t.r.toString()+","+t.g.toString()+","+t.b.toString()+","+(t.a/255).toString()+")";var e=i.Color.getRGB(t);return"rgba("+e.r.toString()+","+e.g.toString()+","+e.b.toString()+","+(e.a/255).toString()+")"},getAlpha:function(t){return t>>>24},getAlphaFloat:function(t){return(t>>>24)/255},getRed:function(t){return t>>16&255},getGreen:function(t){return t>>8&255},getBlue:function(t){return 255&t},blendNormal:function(t){return t},blendLighten:function(t,e){return e>t?e:t},blendDarken:function(t,e){return e>t?t:e},blendMultiply:function(t,e){return t*e/255},blendAverage:function(t,e){return(t+e)/2},blendAdd:function(t,e){return Math.min(255,t+e)},blendSubtract:function(t,e){return Math.max(0,t+e-255)},blendDifference:function(t,e){return Math.abs(t-e)},blendNegation:function(t,e){return 255-Math.abs(255-t-e)},blendScreen:function(t,e){return 255-((255-t)*(255-e)>>8)},blendExclusion:function(t,e){return t+e-2*t*e/255},blendOverlay:function(t,e){return e<128?2*t*e/255:255-2*(255-t)*(255-e)/255},blendSoftLight:function(t,e){return e<128?2*(64+(t>>1))*(e/255):255-2*(255-(64+(t>>1)))*(255-e)/255},blendHardLight:function(t,e){return i.Color.blendOverlay(e,t)},blendColorDodge:function(t,e){return 255===e?e:Math.min(255,(t<<8)/(255-e))},blendColorBurn:function(t,e){return 0===e?e:Math.max(0,255-(255-t<<8)/e)},blendLinearDodge:function(t,e){return i.Color.blendAdd(t,e)},blendLinearBurn:function(t,e){return i.Color.blendSubtract(t,e)},blendLinearLight:function(t,e){return e<128?i.Color.blendLinearBurn(t,2*e):i.Color.blendLinearDodge(t,2*(e-128))},blendVividLight:function(t,e){return e<128?i.Color.blendColorBurn(t,2*e):i.Color.blendColorDodge(t,2*(e-128))},blendPinLight:function(t,e){return e<128?i.Color.blendDarken(t,2*e):i.Color.blendLighten(t,2*(e-128))},blendHardMix:function(t,e){return i.Color.blendVividLight(t,e)<128?0:255},blendReflect:function(t,e){return 255===e?e:Math.min(255,t*t/(255-e))},blendGlow:function(t,e){return i.Color.blendReflect(e,t)},blendPhoenix:function(t,e){return Math.min(t,e)-Math.max(t,e)+255}},i.Physics=function(t,e){e=e||{},this.game=t,this.config=e,this.arcade=null,this.p2=null,this.ninja=null,this.box2d=null,this.chipmunk=null,this.matter=null,this.parseConfig()},i.Physics.ARCADE=0,i.Physics.P2JS=1,i.Physics.NINJA=2,i.Physics.BOX2D=3,i.Physics.CHIPMUNK=4,i.Physics.MATTERJS=5,i.Physics.prototype={parseConfig:function(){this.config.hasOwnProperty("arcade")&&!0!==this.config.arcade||!i.Physics.hasOwnProperty("Arcade")||(this.arcade=new i.Physics.Arcade(this.game)),this.config.hasOwnProperty("ninja")&&!0===this.config.ninja&&i.Physics.hasOwnProperty("Ninja")&&(this.ninja=new i.Physics.Ninja(this.game)),this.config.hasOwnProperty("p2")&&!0===this.config.p2&&i.Physics.hasOwnProperty("P2")&&(this.p2=new i.Physics.P2(this.game,this.config)),this.config.hasOwnProperty("box2d")&&!0===this.config.box2d&&i.Physics.hasOwnProperty("BOX2D")&&(this.box2d=new i.Physics.BOX2D(this.game,this.config)),this.config.hasOwnProperty("matter")&&!0===this.config.matter&&i.Physics.hasOwnProperty("Matter")&&(this.matter=new i.Physics.Matter(this.game,this.config))},startSystem:function(t){t===i.Physics.ARCADE?this.arcade=new i.Physics.Arcade(this.game):t===i.Physics.P2JS?null===this.p2?this.p2=new i.Physics.P2(this.game,this.config):this.p2.reset():t===i.Physics.NINJA?this.ninja=new i.Physics.Ninja(this.game):t===i.Physics.BOX2D?null===this.box2d?this.box2d=new i.Physics.Box2D(this.game,this.config):this.box2d.reset():t===i.Physics.MATTERJS&&(null===this.matter?this.matter=new i.Physics.Matter(this.game,this.config):this.matter.reset())},enable:function(t,e,s){void 0===e&&(e=i.Physics.ARCADE),void 0===s&&(s=!1),e===i.Physics.ARCADE?this.arcade.enable(t):e===i.Physics.P2JS&&this.p2?this.p2.enable(t,s):e===i.Physics.NINJA&&this.ninja?this.ninja.enableAABB(t):e===i.Physics.BOX2D&&this.box2d?this.box2d.enable(t):e===i.Physics.MATTERJS&&this.matter?this.matter.enable(t):console.warn(t.key+" is attempting to enable a physics body using an unknown physics system.")},preUpdate:function(){this.p2&&this.p2.preUpdate(),this.box2d&&this.box2d.preUpdate(),this.matter&&this.matter.preUpdate()},update:function(){this.p2&&this.p2.update(),this.box2d&&this.box2d.update(),this.matter&&this.matter.update()},setBoundsToWorld:function(){this.arcade&&this.arcade.setBoundsToWorld(),this.ninja&&this.ninja.setBoundsToWorld(),this.p2&&this.p2.setBoundsToWorld(),this.box2d&&this.box2d.setBoundsToWorld(),this.matter&&this.matter.setBoundsToWorld()},clear:function(){this.p2&&this.p2.clear(),this.box2d&&this.box2d.clear(),this.matter&&this.matter.clear()},reset:function(){this.p2&&this.p2.reset(),this.box2d&&this.box2d.reset(),this.matter&&this.matter.reset()},destroy:function(){this.p2&&this.p2.destroy(),this.box2d&&this.box2d.destroy(),this.matter&&this.matter.destroy(),this.arcade=null,this.ninja=null,this.p2=null,this.box2d=null,this.matter=null}},i.Physics.prototype.constructor=i.Physics,i.Physics.Arcade=function(t){this.game=t,this.gravity=new i.Point,this.bounds=new i.Rectangle(0,0,t.world.width,t.world.height),this.checkCollision={up:!0,down:!0,left:!0,right:!0},this.maxObjects=10,this.maxLevels=4,this.OVERLAP_BIAS=4,this.forceX=!1,this.sortDirection=i.Physics.Arcade.LEFT_RIGHT,this.skipQuadTree=!0,this.isPaused=!1,this.quadTree=new i.QuadTree(this.game.world.bounds.x,this.game.world.bounds.y,this.game.world.bounds.width,this.game.world.bounds.height,this.maxObjects,this.maxLevels),this._total=0,this.setBoundsToWorld()},i.Physics.Arcade.prototype.constructor=i.Physics.Arcade,i.Physics.Arcade.SORT_NONE=0,i.Physics.Arcade.LEFT_RIGHT=1,i.Physics.Arcade.RIGHT_LEFT=2,i.Physics.Arcade.TOP_BOTTOM=3,i.Physics.Arcade.BOTTOM_TOP=4,i.Physics.Arcade.prototype={setBounds:function(t,e,i,s){this.bounds.setTo(t,e,i,s)},setBoundsToWorld:function(){this.bounds.copyFrom(this.game.world.bounds)},enable:function(t,e){void 0===e&&(e=!0);var s=1;if(Array.isArray(t))for(s=t.length;s--;)t[s]instanceof i.Group?this.enable(t[s].children,e):(this.enableBody(t[s]),e&&t[s].hasOwnProperty("children")&&t[s].children.length>0&&this.enable(t[s],!0));else t instanceof i.Group?this.enable(t.children,e):(this.enableBody(t),e&&t.hasOwnProperty("children")&&t.children.length>0&&this.enable(t.children,!0))},enableBody:function(t){t.hasOwnProperty("body")&&null===t.body&&(t.body=new i.Physics.Arcade.Body(t),t.parent&&t.parent instanceof i.Group&&t.parent.addToHash(t))},updateMotion:function(t){if(t.allowRotation){var e=this.computeVelocity(0,t,t.angularVelocity,t.angularAcceleration,t.angularDrag,t.maxAngular)-t.angularVelocity;t.angularVelocity+=e,t.rotation+=t.angularVelocity*this.game.time.physicsElapsed}t.velocity.x=this.computeVelocity(1,t,t.velocity.x,t.acceleration.x,t.drag.x,t.maxVelocity.x),t.velocity.y=this.computeVelocity(2,t,t.velocity.y,t.acceleration.y,t.drag.y,t.maxVelocity.y)},computeVelocity:function(t,e,i,s,n,o){return void 0===o&&(o=1e4),1===t&&e.allowGravity?i+=(this.gravity.x+e.gravity.x)*this.game.time.physicsElapsed:2===t&&e.allowGravity&&(i+=(this.gravity.y+e.gravity.y)*this.game.time.physicsElapsed),s?i+=s*this.game.time.physicsElapsed:n&&e.allowDrag&&(i-(n*=this.game.time.physicsElapsed)>0?i-=n:i+n<0?i+=n:i=0),i>o?i=o:i<-o&&(i=-o),i},overlap:function(t,e,i,s,n){return i=i||null,s=s||null,n=n||i,this._total=0,this.collideObjects(t,e,i,s,n,!0),this._total>0},collide:function(t,e,i,s,n){return i=i||null,s=s||null,n=n||i,this._total=0,this.collideObjects(t,e,i,s,n,!1),this._total>0},sortLeftRight:function(t,e){return t.body&&e.body?t.body.x-e.body.x:0},sortRightLeft:function(t,e){return t.body&&e.body?e.body.x-t.body.x:0},sortTopBottom:function(t,e){return t.body&&e.body?t.body.y-e.body.y:0},sortBottomTop:function(t,e){return t.body&&e.body?e.body.y-t.body.y:0},sort:function(t,e){null!==t.physicsSortDirection?e=t.physicsSortDirection:void 0===e&&(e=this.sortDirection),e===i.Physics.Arcade.LEFT_RIGHT?t.hash.sort(this.sortLeftRight):e===i.Physics.Arcade.RIGHT_LEFT?t.hash.sort(this.sortRightLeft):e===i.Physics.Arcade.TOP_BOTTOM?t.hash.sort(this.sortTopBottom):e===i.Physics.Arcade.BOTTOM_TOP&&t.hash.sort(this.sortBottomTop)},collideObjects:function(t,e,i,s,n,o){if(!Array.isArray(t)&&Array.isArray(e))for(r=0;r<e.length;r++)e[r]&&this.collideHandler(t,e[r],i,s,n,o);else if(Array.isArray(t)&&!Array.isArray(e))for(r=0;r<t.length;r++)t[r]&&this.collideHandler(t[r],e,i,s,n,o);else if(Array.isArray(t)&&Array.isArray(e)){for(var r=0;r<t.length;r++)if(t[r])for(var a=0;a<e.length;a++)e[a]&&this.collideHandler(t[r],e[a],i,s,n,o)}else this.collideHandler(t,e,i,s,n,o)},collideHandler:function(t,e,s,n,o,r){if(void 0===e&&t.physicsType===i.GROUP)return this.sort(t),void this.collideGroupVsSelf(t,s,n,o,r);t&&e&&t.exists&&e.exists&&(this.sortDirection!==i.Physics.Arcade.SORT_NONE&&(t.physicsType===i.GROUP&&this.sort(t),e.physicsType===i.GROUP&&this.sort(e)),t.physicsType===i.SPRITE?e.physicsType===i.SPRITE?this.collideSpriteVsSprite(t,e,s,n,o,r):e.physicsType===i.GROUP?this.collideSpriteVsGroup(t,e,s,n,o,r):e.physicsType===i.TILEMAPLAYER&&this.collideSpriteVsTilemapLayer(t,e,s,n,o,r):t.physicsType===i.GROUP?e.physicsType===i.SPRITE?this.collideSpriteVsGroup(e,t,s,n,o,r):e.physicsType===i.GROUP?this.collideGroupVsGroup(t,e,s,n,o,r):e.physicsType===i.TILEMAPLAYER&&this.collideGroupVsTilemapLayer(t,e,s,n,o,r):t.physicsType===i.TILEMAPLAYER&&(e.physicsType===i.SPRITE?this.collideSpriteVsTilemapLayer(e,t,s,n,o,r):e.physicsType===i.GROUP&&this.collideGroupVsTilemapLayer(e,t,s,n,o,r)))},collideSpriteVsSprite:function(t,e,i,s,n,o){return!(!t.body||!e.body)&&(this.separate(t.body,e.body,s,n,o)&&(i&&i.call(n,t,e),this._total++),!0)},collideSpriteVsGroup:function(t,e,s,n,o,r){if(0!==e.length&&t.body)if(this.skipQuadTree||t.body.skipQuadTree)for(var a={},h=0;h<e.hash.length;h++){var l=e.hash[h];if(l&&l.exists&&l.body){if(a=l.body.getBounds(a),this.sortDirection===i.Physics.Arcade.LEFT_RIGHT){if(t.body.right<a.x)break;if(a.right<t.body.x)continue}else if(this.sortDirection===i.Physics.Arcade.RIGHT_LEFT){if(t.body.x>a.right)break;if(a.x>t.body.right)continue}else if(this.sortDirection===i.Physics.Arcade.TOP_BOTTOM){if(t.body.bottom<a.y)break;if(a.bottom<t.body.y)continue}else if(this.sortDirection===i.Physics.Arcade.BOTTOM_TOP){if(t.body.y>a.bottom)break;if(a.y>t.body.bottom)continue}this.collideSpriteVsSprite(t,l,s,n,o,r)}}else{this.quadTree.clear(),this.quadTree.reset(this.game.world.bounds.x,this.game.world.bounds.y,this.game.world.bounds.width,this.game.world.bounds.height,this.maxObjects,this.maxLevels),this.quadTree.populate(e);for(var c=this.quadTree.retrieve(t),h=0;h<c.length;h++)this.separate(t.body,c[h],n,o,r)&&(s&&s.call(o,t,c[h].sprite),this._total++)}},collideGroupVsSelf:function(t,e,s,n,o){if(0!==t.length)for(var r=0;r<t.hash.length;r++){var a={},h=t.hash[r];if(h&&h.exists&&h.body){a=h.body.getBounds(a);for(var l=r+1;l<t.hash.length;l++){var c={},u=t.hash[l];if(u&&u.exists&&u.body){if(c=u.body.getBounds(c),this.sortDirection===i.Physics.Arcade.LEFT_RIGHT){if(a.right<c.x)break;if(c.right<a.x)continue}else if(this.sortDirection===i.Physics.Arcade.RIGHT_LEFT){if(a.x>c.right)continue;if(c.x>a.right)break}else if(this.sortDirection===i.Physics.Arcade.TOP_BOTTOM){if(a.bottom<c.y)continue;if(c.bottom<a.y)break}else if(this.sortDirection===i.Physics.Arcade.BOTTOM_TOP){if(a.y>c.bottom)continue;if(c.y>h.body.bottom)break}this.collideSpriteVsSprite(h,u,e,s,n,o)}}}}},collideGroupVsGroup:function(t,e,s,n,o,r){if(0!==t.length&&0!==e.length)for(var a=0;a<t.children.length;a++)t.children[a].exists&&(t.children[a].physicsType===i.GROUP?this.collideGroupVsGroup(t.children[a],e,s,n,o,r):this.collideSpriteVsGroup(t.children[a],e,s,n,o,r))},separate:function(t,e,i,s,n){if(!t.enable||!e.enable||t.checkCollision.none||e.checkCollision.none||!this.intersects(t,e))return!1;if(i&&!1===i.call(s,t.sprite,e.sprite))return!1;if(t.isCircle&&e.isCircle)return this.separateCircle(t,e,n);if(t.isCircle!==e.isCircle){var o=t.isCircle?e:t,r=t.isCircle?t:e,a={x:o.x,y:o.y,right:o.right,bottom:o.bottom},h=r.center;if((h.y<a.y||h.y>a.bottom)&&(h.x<a.x||h.x>a.right))return this.separateCircle(t,e,n)}var l=!1,c=!1;this.forceX||Math.abs(this.gravity.y+t.gravity.y)<Math.abs(this.gravity.x+t.gravity.x)?(l=this.separateX(t,e,n),this.intersects(t,e)&&(c=this.separateY(t,e,n))):(c=this.separateY(t,e,n),this.intersects(t,e)&&(l=this.separateX(t,e,n)));var u=l||c;return u&&(n?(t.onOverlap&&t.onOverlap.dispatch(t.sprite,e.sprite),e.onOverlap&&e.onOverlap.dispatch(e.sprite,t.sprite)):(t.onCollide&&t.onCollide.dispatch(t.sprite,e.sprite),e.onCollide&&e.onCollide.dispatch(e.sprite,t.sprite))),u},intersects:function(t,e){return t!==e&&(t.isCircle?e.isCircle?i.Math.distance(t.center.x,t.center.y,e.center.x,e.center.y)<=t.halfWidth+e.halfWidth:this.circleBodyIntersects(t,e):e.isCircle?this.circleBodyIntersects(e,t):!(t.right<=e.position.x)&&(!(t.bottom<=e.position.y)&&(!(t.position.x>=e.right)&&!(t.position.y>=e.bottom))))},circleBodyIntersects:function(t,e){var s=i.Math.clamp(t.center.x,e.left,e.right),n=i.Math.clamp(t.center.y,e.top,e.bottom);return(t.center.x-s)*(t.center.x-s)+(t.center.y-n)*(t.center.y-n)<=t.halfWidth*t.halfWidth},separateCircle:function(t,e,s){this.getOverlapX(t,e),this.getOverlapY(t,e);var n=e.center.x-t.center.x,o=e.center.y-t.center.y,r=Math.atan2(o,n),a=0;if(t.isCircle!==e.isCircle){var h={x:e.isCircle?t.position.x:e.position.x,y:e.isCircle?t.position.y:e.position.y,right:e.isCircle?t.right:e.right,bottom:e.isCircle?t.bottom:e.bottom},l={x:t.isCircle?t.center.x:e.center.x,y:t.isCircle?t.center.y:e.center.y,radius:t.isCircle?t.halfWidth:e.halfWidth};l.y<h.y?l.x<h.x?a=i.Math.distance(l.x,l.y,h.x,h.y)-l.radius:l.x>h.right&&(a=i.Math.distance(l.x,l.y,h.right,h.y)-l.radius):l.y>h.bottom&&(l.x<h.x?a=i.Math.distance(l.x,l.y,h.x,h.bottom)-l.radius:l.x>h.right&&(a=i.Math.distance(l.x,l.y,h.right,h.bottom)-l.radius)),a*=-1}else a=t.halfWidth+e.halfWidth-i.Math.distance(t.center.x,t.center.y,e.center.x,e.center.y);if(s||0===a||t.immovable&&e.immovable||t.customSeparateX||e.customSeparateX)return 0!==a&&(t.onOverlap&&t.onOverlap.dispatch(t.sprite,e.sprite),e.onOverlap&&e.onOverlap.dispatch(e.sprite,t.sprite)),0!==a;var c={x:t.velocity.x*Math.cos(r)+t.velocity.y*Math.sin(r),y:t.velocity.x*Math.sin(r)-t.velocity.y*Math.cos(r)},u={x:e.velocity.x*Math.cos(r)+e.velocity.y*Math.sin(r),y:e.velocity.x*Math.sin(r)-e.velocity.y*Math.cos(r)},d=((t.mass-e.mass)*c.x+2*e.mass*u.x)/(t.mass+e.mass),p=(2*t.mass*c.x+(e.mass-t.mass)*u.x)/(t.mass+e.mass);return t.immovable||(t.velocity.x=(d*Math.cos(r)-c.y*Math.sin(r))*t.bounce.x,t.velocity.y=(c.y*Math.cos(r)+d*Math.sin(r))*t.bounce.y),e.immovable||(e.velocity.x=(p*Math.cos(r)-u.y*Math.sin(r))*e.bounce.x,e.velocity.y=(u.y*Math.cos(r)+p*Math.sin(r))*e.bounce.y),Math.abs(r)<Math.PI/2?t.velocity.x>0&&!t.immovable&&e.velocity.x>t.velocity.x?t.velocity.x*=-1:e.velocity.x<0&&!e.immovable&&t.velocity.x<e.velocity.x?e.velocity.x*=-1:t.velocity.y>0&&!t.immovable&&e.velocity.y>t.velocity.y?t.velocity.y*=-1:e.velocity.y<0&&!e.immovable&&t.velocity.y<e.velocity.y&&(e.velocity.y*=-1):Math.abs(r)>Math.PI/2&&(t.velocity.x<0&&!t.immovable&&e.velocity.x<t.velocity.x?t.velocity.x*=-1:e.velocity.x>0&&!e.immovable&&t.velocity.x>e.velocity.x?e.velocity.x*=-1:t.velocity.y<0&&!t.immovable&&e.velocity.y<t.velocity.y?t.velocity.y*=-1:e.velocity.y>0&&!e.immovable&&t.velocity.x>e.velocity.y&&(e.velocity.y*=-1)),t.immovable||(t.x+=t.velocity.x*this.game.time.physicsElapsed-a*Math.cos(r),t.y+=t.velocity.y*this.game.time.physicsElapsed-a*Math.sin(r)),e.immovable||(e.x+=e.velocity.x*this.game.time.physicsElapsed+a*Math.cos(r),e.y+=e.velocity.y*this.game.time.physicsElapsed+a*Math.sin(r)),t.onCollide&&t.onCollide.dispatch(t.sprite,e.sprite),e.onCollide&&e.onCollide.dispatch(e.sprite,t.sprite),!0},getOverlapX:function(t,e,i){var s=0,n=t.deltaAbsX()+e.deltaAbsX()+this.OVERLAP_BIAS;return 0===t.deltaX()&&0===e.deltaX()?(t.embedded=!0,e.embedded=!0):t.deltaX()>e.deltaX()?(s=t.right-e.x)>n&&!i||!1===t.checkCollision.right||!1===e.checkCollision.left?s=0:(t.touching.none=!1,t.touching.right=!0,e.touching.none=!1,e.touching.left=!0):t.deltaX()<e.deltaX()&&(-(s=t.x-e.width-e.x)>n&&!i||!1===t.checkCollision.left||!1===e.checkCollision.right?s=0:(t.touching.none=!1,t.touching.left=!0,e.touching.none=!1,e.touching.right=!0)),t.overlapX=s,e.overlapX=s,s},getOverlapY:function(t,e,i){var s=0,n=t.deltaAbsY()+e.deltaAbsY()+this.OVERLAP_BIAS;return 0===t.deltaY()&&0===e.deltaY()?(t.embedded=!0,e.embedded=!0):t.deltaY()>e.deltaY()?(s=t.bottom-e.y)>n&&!i||!1===t.checkCollision.down||!1===e.checkCollision.up?s=0:(t.touching.none=!1,t.touching.down=!0,e.touching.none=!1,e.touching.up=!0):t.deltaY()<e.deltaY()&&(-(s=t.y-e.bottom)>n&&!i||!1===t.checkCollision.up||!1===e.checkCollision.down?s=0:(t.touching.none=!1,t.touching.up=!0,e.touching.none=!1,e.touching.down=!0)),t.overlapY=s,e.overlapY=s,s},separateX:function(t,e,i){var s=this.getOverlapX(t,e,i);if(i||0===s||t.immovable&&e.immovable||t.customSeparateX||e.customSeparateX)return 0!==s||t.embedded&&e.embedded;var n=t.velocity.x,o=e.velocity.x;if(t.immovable||e.immovable)t.immovable?(e.x+=s,e.velocity.x=n-o*e.bounce.x,t.moves&&(e.y+=(t.y-t.prev.y)*t.friction.y)):(t.x-=s,t.velocity.x=o-n*t.bounce.x,e.moves&&(t.y+=(e.y-e.prev.y)*e.friction.y));else{s*=.5,t.x-=s,e.x+=s;var r=Math.sqrt(o*o*e.mass/t.mass)*(o>0?1:-1),a=Math.sqrt(n*n*t.mass/e.mass)*(n>0?1:-1),h=.5*(r+a);r-=h,a-=h,t.velocity.x=h+r*t.bounce.x,e.velocity.x=h+a*e.bounce.x}return!0},separateY:function(t,e,i){var s=this.getOverlapY(t,e,i);if(i||0===s||t.immovable&&e.immovable||t.customSeparateY||e.customSeparateY)return 0!==s||t.embedded&&e.embedded;var n=t.velocity.y,o=e.velocity.y;if(t.immovable||e.immovable)t.immovable?(e.y+=s,e.velocity.y=n-o*e.bounce.y,t.moves&&(e.x+=(t.x-t.prev.x)*t.friction.x)):(t.y-=s,t.velocity.y=o-n*t.bounce.y,e.moves&&(t.x+=(e.x-e.prev.x)*e.friction.x));else{s*=.5,t.y-=s,e.y+=s;var r=Math.sqrt(o*o*e.mass/t.mass)*(o>0?1:-1),a=Math.sqrt(n*n*t.mass/e.mass)*(n>0?1:-1),h=.5*(r+a);r-=h,a-=h,t.velocity.y=h+r*t.bounce.y,e.velocity.y=h+a*e.bounce.y}return!0},getObjectsUnderPointer:function(t,e,i,s){if(0!==e.length&&t.exists)return this.getObjectsAtLocation(t.x,t.y,e,i,s,t)},getObjectsAtLocation:function(t,e,s,n,o,r){this.quadTree.clear(),this.quadTree.reset(this.game.world.bounds.x,this.game.world.bounds.y,this.game.world.bounds.width,this.game.world.bounds.height,this.maxObjects,this.maxLevels),this.quadTree.populate(s);for(var a=new i.Rectangle(t,e,1,1),h=[],l=this.quadTree.retrieve(a),c=0;c<l.length;c++)l[c].hitTest(t,e)&&(n&&n.call(o,r,l[c].sprite),h.push(l[c].sprite));return h},moveToObject:function(t,e,s,n){void 0===s&&(s=60),void 0===n&&(n=0);var o=i.Point.angle(e,t);return n>0&&(s=this.distanceBetween(t,e)/(n/1e3)),t.body.velocity.setToPolar(o,s),o},moveToPointer:function(t,e,i,s){void 0===e&&(e=60),i=i||this.game.input.activePointer,void 0===s&&(s=0);var n=this.angleToPointer(t,i);return s>0&&(e=this.distanceToPointer(t,i)/(s/1e3)),t.body.velocity.setToPolar(n,e),n},moveToXY:function(t,e,i,s,n){void 0===s&&(s=60),void 0===n&&(n=0);var o=Math.atan2(i-t.y,e-t.x);return n>0&&(s=this.distanceToXY(t,e,i)/(n/1e3)),t.body.velocity.setToPolar(o,s),o},velocityFromAngle:function(t,e,s){return void 0===e&&(e=60),(s=s||new i.Point).setToPolar(t,e,!0)},velocityFromRotation:function(t,e,s){return void 0===e&&(e=60),(s=s||new i.Point).setToPolar(t,e)},accelerationFromRotation:function(t,e,s){return void 0===e&&(e=60),(s=s||new i.Point).setToPolar(t,e)},accelerateToObject:function(t,e,i,s,n){void 0===i&&(i=60),void 0===s&&(s=1e3),void 0===n&&(n=1e3);var o=this.angleBetween(t,e);return t.body.acceleration.setToPolar(o,i),t.body.maxVelocity.setTo(s,n),o},accelerateToPointer:function(t,e,i,s,n){void 0===i&&(i=60),void 0===e&&(e=this.game.input.activePointer),void 0===s&&(s=1e3),void 0===n&&(n=1e3);var o=this.angleToPointer(t,e);return t.body.acceleration.setToPolar(o,i),t.body.maxVelocity.setTo(s,n),o},accelerateToXY:function(t,e,i,s,n,o){void 0===s&&(s=60),void 0===n&&(n=1e3),void 0===o&&(o=1e3);var r=this.angleToXY(t,e,i);return t.body.acceleration.setTo(r,s),t.body.maxVelocity.setTo(n,o),r},distanceBetween:function(t,e,i,s){void 0===i&&(i=!1);var n,o;return s?(n=t.centerX-e.centerX,o=t.centerY-e.centerY):i?(n=t.world.x-e.world.x,o=t.world.y-e.world.y):(n=t.x-e.x,o=t.y-e.y),Math.sqrt(n*n+o*o)},distanceToXY:function(t,e,i,s){void 0===s&&(s=!1);var n=s?t.world.x-e:t.x-e,o=s?t.world.y-i:t.y-i;return Math.sqrt(n*n+o*o)},distanceToPointer:function(t,e,i){void 0===e&&(e=this.game.input.activePointer),void 0===i&&(i=!1);var s=i?t.world.x-e.worldX:t.x-e.worldX,n=i?t.world.y-e.worldY:t.y-e.worldY;return Math.sqrt(s*s+n*n)},closest:function(t,e,i,s){for(var n=1/0,o=null,r=0,a=e.length;r<a;r++){var h=e[r],l=this.distanceBetween(t,h,i,s);l<n&&(o=h,n=l)}return o},farthest:function(t,e,i,s){for(var n=-1,o=null,r=0,a=e.length;r<a;r++){var h=e[r],l=this.distanceBetween(t,h,i,s);l>n&&(o=h,n=l)}return o},angleBetween:function(t,e,s){return void 0===s&&(s=!1),s?i.Point.angle(e.world,t.world):i.Point.angle(e,t)},angleBetweenCenters:function(t,e){var i=e.centerX-t.centerX,s=e.centerY-t.centerY;return Math.atan2(s,i)},angleToXY:function(t,e,i,s){return void 0===s&&(s=!1),s?Math.atan2(i-t.world.y,e-t.world.x):Math.atan2(i-t.y,e-t.x)},angleToPointer:function(t,e,i){return void 0===e&&(e=this.game.input.activePointer),void 0===i&&(i=!1),i?Math.atan2(e.worldY-t.world.y,e.worldX-t.world.x):Math.atan2(e.worldY-t.y,e.worldX-t.x)},worldAngleToPointer:function(t,e){return this.angleToPointer(t,e,!0)}},i.Physics.Arcade.Body=function(t){this.sprite=t,this.game=t.game,this.type=i.Physics.ARCADE,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new i.Point,this.position=new i.Point(t.x,t.y),this.prev=new i.Point(this.position.x,this.position.y),this.allowRotation=!0,this.rotation=t.angle,this.preRotation=t.angle,this.width=t.width,this.height=t.height,this.sourceWidth=t.width,this.sourceHeight=t.height,t.texture&&(this.sourceWidth=t.texture.frame.width,this.sourceHeight=t.texture.frame.height),this.halfWidth=Math.abs(t.width/2),this.halfHeight=Math.abs(t.height/2),this.center=new i.Point(t.x+this.halfWidth,t.y+this.halfHeight),this.velocity=new i.Point,this.newVelocity=new i.Point,this.deltaMax=new i.Point,this.acceleration=new i.Point,this.allowDrag=!0,this.drag=new i.Point,this.allowGravity=!0,this.gravity=new i.Point,this.bounce=new i.Point,this.worldBounce=null,this.onWorldBounds=null,this.onCollide=null,this.onOverlap=null,this.maxVelocity=new i.Point(1e4,1e4),this.friction=new i.Point(1,0),this.angularVelocity=0,this.angularAcceleration=0,this.angularDrag=0,this.maxAngular=1e3,this.mass=1,this.angle=0,this.speed=0,this.facing=i.NONE,this.immovable=!1,this.moves=!0,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision={none:!1,up:!0,down:!0,left:!0,right:!0},this.touching={none:!0,up:!1,down:!1,left:!1,right:!1},this.wasTouching={none:!0,up:!1,down:!1,left:!1,right:!1},this.blocked={none:!0,up:!1,down:!1,left:!1,right:!1},this.tilePadding=new i.Point,this.dirty=!1,this.skipQuadTree=!1,this.syncBounds=!1,this.isMoving=!1,this.stopVelocityOnCollide=!0,this.moveTimer=0,this.moveDistance=0,this.moveDuration=0,this.moveTarget=null,this.moveEnd=null,this.onMoveComplete=new i.Signal,this.movementCallback=null,this.movementCallbackContext=null,this._reset=!0,this._sx=t.scale.x,this._sy=t.scale.y,this._dx=0,this._dy=0},i.Physics.Arcade.Body.prototype={updateBounds:function(){if(this.syncBounds){var t=this.sprite.getBounds();t.ceilAll(),t.width===this.width&&t.height===this.height||(this.width=t.width,this.height=t.height,this._reset=!0)}else{var e=Math.abs(this.sprite.scale.x),i=Math.abs(this.sprite.scale.y);e===this._sx&&i===this._sy||(this.width=this.sourceWidth*e,this.height=this.sourceHeight*i,this._sx=e,this._sy=i,this._reset=!0)}this._reset&&(this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter())},updateCenter:function(){this.center.setTo(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},preUpdate:function(){this.enable&&!this.game.physics.arcade.isPaused&&(this.dirty=!0,this.wasTouching.none=this.touching.none,this.wasTouching.up=this.touching.up,this.wasTouching.down=this.touching.down,this.wasTouching.left=this.touching.left,this.wasTouching.right=this.touching.right,this.touching.none=!0,this.touching.up=!1,this.touching.down=!1,this.touching.left=!1,this.touching.right=!1,this.blocked.none=!0,this.blocked.up=!1,this.blocked.down=!1,this.blocked.left=!1,this.blocked.right=!1,this.overlapR=0,this.overlapX=0,this.overlapY=0,this.embedded=!1,this.updateBounds(),this.position.x=this.sprite.world.x-this.sprite.anchor.x*this.sprite.width+this.sprite.scale.x*this.offset.x,this.position.x-=this.sprite.scale.x<0?this.width:0,this.position.y=this.sprite.world.y-this.sprite.anchor.y*this.sprite.height+this.sprite.scale.y*this.offset.y,this.position.y-=this.sprite.scale.y<0?this.height:0,this.updateCenter(),this.rotation=this.sprite.angle,this.preRotation=this.rotation,(this._reset||this.sprite.fresh)&&(this.prev.x=this.position.x,this.prev.y=this.position.y),this.moves&&(this.game.physics.arcade.updateMotion(this),this.newVelocity.set(this.velocity.x*this.game.time.physicsElapsed,this.velocity.y*this.game.time.physicsElapsed),this.position.x+=this.newVelocity.x,this.position.y+=this.newVelocity.y,this.updateCenter(),this.position.x===this.prev.x&&this.position.y===this.prev.y||(this.angle=this.velocity.atan()),this.speed=Math.sqrt(this.velocity.x*this.velocity.x+this.velocity.y*this.velocity.y),this.collideWorldBounds&&this.checkWorldBounds()&&this.onWorldBounds&&this.onWorldBounds.dispatch(this.sprite,this.blocked.up,this.blocked.down,this.blocked.left,this.blocked.right)),this._dx=this.deltaX(),this._dy=this.deltaY(),this._reset=!1)},updateMovement:function(){var t=0,e=0!==this.overlapX||0!==this.overlapY;if(this.moveDuration>0?(this.moveTimer+=this.game.time.elapsedMS,t=this.moveTimer/this.moveDuration):(this.moveTarget.end.set(this.position.x,this.position.y),t=this.moveTarget.length/this.moveDistance),this.movementCallback)var i=this.movementCallback.call(this.movementCallbackContext,this,this.velocity,t);return!(e||t>=1||void 0!==i&&!0!==i)||(this.stopMovement(t>=1||this.stopVelocityOnCollide&&e),!1)},stopMovement:function(t){this.isMoving&&(this.isMoving=!1,t&&this.velocity.set(0),this.onMoveComplete.dispatch(this.sprite,0!==this.overlapX||0!==this.overlapY))},postUpdate:function(){this.enable&&this.dirty&&(this.isMoving&&this.updateMovement(),this.dirty=!1,this.deltaX()<0?this.facing=i.LEFT:this.deltaX()>0&&(this.facing=i.RIGHT),this.deltaY()<0?this.facing=i.UP:this.deltaY()>0&&(this.facing=i.DOWN),this.moves&&(this._dx=this.deltaX(),this._dy=this.deltaY(),0!==this.deltaMax.x&&0!==this._dx&&(this._dx<0&&this._dx<-this.deltaMax.x?this._dx=-this.deltaMax.x:this._dx>0&&this._dx>this.deltaMax.x&&(this._dx=this.deltaMax.x)),0!==this.deltaMax.y&&0!==this._dy&&(this._dy<0&&this._dy<-this.deltaMax.y?this._dy=-this.deltaMax.y:this._dy>0&&this._dy>this.deltaMax.y&&(this._dy=this.deltaMax.y)),this.sprite.position.x+=this._dx,this.sprite.position.y+=this._dy,this._reset=!0),this.updateCenter(),this.allowRotation&&(this.sprite.angle+=this.deltaZ()),this.prev.x=this.position.x,this.prev.y=this.position.y)},checkWorldBounds:function(){var t=this.position,e=this.game.physics.arcade.bounds,i=this.game.physics.arcade.checkCollision,s=this.worldBounce?-this.worldBounce.x:-this.bounce.x,n=this.worldBounce?-this.worldBounce.y:-this.bounce.y;return t.x<e.x&&i.left?(t.x=e.x,this.velocity.x*=s,this.blocked.left=!0,this.blocked.none=!1):this.right>e.right&&i.right&&(t.x=e.right-this.width,this.velocity.x*=s,this.blocked.right=!0,this.blocked.none=!1),t.y<e.y&&i.up?(t.y=e.y,this.velocity.y*=n,this.blocked.up=!0,this.blocked.none=!1):this.bottom>e.bottom&&i.down&&(t.y=e.bottom-this.height,this.velocity.y*=n,this.blocked.down=!0,this.blocked.none=!1),!this.blocked.none},moveFrom:function(t,e,i){if(void 0===e&&(e=this.speed),0===e)return!1;var s;return void 0===i?(s=this.angle,i=this.game.math.radToDeg(s)):s=this.game.math.degToRad(i),this.moveTimer=0,this.moveDuration=t,0===i||180===i?this.velocity.set(Math.cos(s)*e,0):90===i||270===i?this.velocity.set(0,Math.sin(s)*e):this.velocity.setToPolar(s,e),this.isMoving=!0,!0},moveTo:function(t,e,s){var n=e/(t/1e3);if(0===n)return!1;var o;return void 0===s?(o=this.angle,s=this.game.math.radToDeg(o)):o=this.game.math.degToRad(s),e=Math.abs(e),this.moveDuration=0,this.moveDistance=e,null===this.moveTarget&&(this.moveTarget=new i.Line,this.moveEnd=new i.Point),this.moveTarget.fromAngle(this.x,this.y,o,e),this.moveEnd.set(this.moveTarget.end.x,this.moveTarget.end.y),this.moveTarget.setTo(this.x,this.y,this.x,this.y),0===s||180===s?this.velocity.set(Math.cos(o)*n,0):90===s||270===s?this.velocity.set(0,Math.sin(o)*n):this.velocity.setToPolar(o,n),this.isMoving=!0,!0},setSize:function(t,e,i,s){void 0===i&&(i=this.offset.x),void 0===s&&(s=this.offset.y),this.sourceWidth=t,this.sourceHeight=e,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.setTo(i,s),this.updateCenter(),this.isCircle=!1,this.radius=0},setCircle:function(t,e,i){void 0===e&&(e=this.offset.x),void 0===i&&(i=this.offset.y),t>0?(this.isCircle=!0,this.radius=t,this.sourceWidth=2*t,this.sourceHeight=2*t,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.setTo(e,i),this.updateCenter()):this.isCircle=!1},reset:function(t,e){this.stop(),this.position.x=t-this.sprite.anchor.x*this.sprite.width+this.sprite.scale.x*this.offset.x,this.position.x-=this.sprite.scale.x<0?this.width:0,this.position.y=e-this.sprite.anchor.y*this.sprite.height+this.sprite.scale.y*this.offset.y,this.position.y-=this.sprite.scale.y<0?this.height:0,this.prev.x=this.position.x,this.prev.y=this.position.y,this.rotation=this.sprite.angle,this.preRotation=this.rotation,this.updateBounds(),this.updateCenter()},stop:function(){this.velocity.set(0),this.acceleration.set(0),this.speed=0,this.angularVelocity=0,this.angularAcceleration=0},getBounds:function(t){return t.x=this.x,t.y=this.y,t.right=this.right,t.bottom=this.bottom,t},hitTest:function(t,e){return this.isCircle?i.Circle.contains(this,t,e):i.Rectangle.contains(this,t,e)},onFloor:function(){return this.blocked.down},onCeiling:function(){return this.blocked.up},onWall:function(){return this.blocked.left||this.blocked.right},deltaAbsX:function(){return this.deltaX()>0?this.deltaX():-this.deltaX()},deltaAbsY:function(){return this.deltaY()>0?this.deltaY():-this.deltaY()},deltaX:function(){return this.position.x-this.prev.x},deltaY:function(){return this.position.y-this.prev.y},deltaZ:function(){return this.rotation-this.preRotation},destroy:function(){this.sprite.parent&&this.sprite.parent instanceof i.Group&&this.sprite.parent.removeFromHash(this.sprite),this.sprite.body=null,this.sprite=null}},Object.defineProperty(i.Physics.Arcade.Body.prototype,"left",{get:function(){return this.position.x}}),Object.defineProperty(i.Physics.Arcade.Body.prototype,"right",{get:function(){return this.position.x+this.width}}),Object.defineProperty(i.Physics.Arcade.Body.prototype,"top",{get:function(){return this.position.y}}),Object.defineProperty(i.Physics.Arcade.Body.prototype,"bottom",{get:function(){return this.position.y+this.height}}),Object.defineProperty(i.Physics.Arcade.Body.prototype,"x",{get:function(){return this.position.x},set:function(t){this.position.x=t}}),Object.defineProperty(i.Physics.Arcade.Body.prototype,"y",{get:function(){return this.position.y},set:function(t){this.position.y=t}}),i.Physics.Arcade.Body.render=function(t,e,i,s,n){void 0===s&&(s=!0),i=i||"rgba(0,255,0,0.4)",t.fillStyle=i,t.strokeStyle=i,t.lineWidth=n||1,e.isCircle?(t.beginPath(),t.arc(e.center.x-e.game.camera.x,e.center.y-e.game.camera.y,e.halfWidth,0,2*Math.PI),s?t.fill():t.stroke()):s?t.fillRect(e.position.x-e.game.camera.x,e.position.y-e.game.camera.y,e.width,e.height):t.strokeRect(e.position.x-e.game.camera.x,e.position.y-e.game.camera.y,e.width,e.height)},i.Physics.Arcade.Body.renderBodyInfo=function(t,e){t.line("x: "+e.x.toFixed(2),"y: "+e.y.toFixed(2),"width: "+e.width,"height: "+e.height),t.line("velocity x: "+e.velocity.x.toFixed(2),"y: "+e.velocity.y.toFixed(2),"deltaX: "+e._dx.toFixed(2),"deltaY: "+e._dy.toFixed(2)),t.line("acceleration x: "+e.acceleration.x.toFixed(2),"y: "+e.acceleration.y.toFixed(2),"speed: "+e.speed.toFixed(2),"angle: "+e.angle.toFixed(2)),t.line("gravity x: "+e.gravity.x,"y: "+e.gravity.y,"bounce x: "+e.bounce.x.toFixed(2),"y: "+e.bounce.y.toFixed(2)),t.line("touching left: "+e.touching.left,"right: "+e.touching.right,"up: "+e.touching.up,"down: "+e.touching.down),t.line("blocked left: "+e.blocked.left,"right: "+e.blocked.right,"up: "+e.blocked.up,"down: "+e.blocked.down)},i.Physics.Arcade.Body.prototype.constructor=i.Physics.Arcade.Body,i.Physics.Arcade.TilemapCollision=function(){},i.Physics.Arcade.TilemapCollision.prototype={TILE_BIAS:16,collideSpriteVsTilemapLayer:function(t,e,i,s,n,o){if(t.body){var r=e.getTiles(t.body.position.x-t.body.tilePadding.x-e.getTileOffsetX(),t.body.position.y-t.body.tilePadding.y-e.getTileOffsetY(),t.body.width+t.body.tilePadding.x,t.body.height+t.body.tilePadding.y,!1,!1);if(0!==r.length)for(var a=0;a<r.length;a++)s?s.call(n,t,r[a])&&this.separateTile(a,t.body,r[a],e,o)&&(this._total++,i&&i.call(n,t,r[a])):this.separateTile(a,t.body,r[a],e,o)&&(this._total++,i&&i.call(n,t,r[a]))}},collideGroupVsTilemapLayer:function(t,e,i,s,n,o){if(0!==t.length)for(var r=0;r<t.children.length;r++)t.children[r].exists&&this.collideSpriteVsTilemapLayer(t.children[r],e,i,s,n,o)},separateTile:function(t,e,i,s,n){if(!e.enable)return!1;var o=s.getTileOffsetX(),r=s.getTileOffsetY();if(!i.intersects(e.position.x-o,e.position.y-r,e.right-o,e.bottom-r))return!1;if(n)return!0;if(i.collisionCallback&&!i.collisionCallback.call(i.collisionCallbackContext,e.sprite,i))return!1;if(void 0!==i.layer.callbacks&&i.layer.callbacks[i.index]&&!i.layer.callbacks[i.index].callback.call(i.layer.callbacks[i.index].callbackContext,e.sprite,i))return!1;if(!(i.faceLeft||i.faceRight||i.faceTop||i.faceBottom))return!1;var a=0,h=0,l=0,c=1;if(e.deltaAbsX()>e.deltaAbsY()?l=-1:e.deltaAbsX()<e.deltaAbsY()&&(c=-1),0!==e.deltaX()&&0!==e.deltaY()&&(i.faceLeft||i.faceRight)&&(i.faceTop||i.faceBottom)&&(l=Math.min(Math.abs(e.position.x-o-i.right),Math.abs(e.right-o-i.left)),c=Math.min(Math.abs(e.position.y-r-i.bottom),Math.abs(e.bottom-r-i.top))),l<c){if((i.faceLeft||i.faceRight)&&0!==(a=this.tileCheckX(e,i,s))&&!i.intersects(e.position.x-o,e.position.y-r,e.right-o,e.bottom-r))return!0;(i.faceTop||i.faceBottom)&&(h=this.tileCheckY(e,i,s))}else{if((i.faceTop||i.faceBottom)&&0!==(h=this.tileCheckY(e,i,s))&&!i.intersects(e.position.x-o,e.position.y-r,e.right-o,e.bottom-r))return!0;(i.faceLeft||i.faceRight)&&(a=this.tileCheckX(e,i,s))}return 0!==a||0!==h},tileCheckX:function(t,e,i){var s=0,n=i.getTileOffsetX();return t.deltaX()<0&&!t.blocked.left&&e.collideRight&&t.checkCollision.left?e.faceRight&&t.x-n<e.right&&(s=t.x-n-e.right)<-this.TILE_BIAS&&(s=0):t.deltaX()>0&&!t.blocked.right&&e.collideLeft&&t.checkCollision.right&&e.faceLeft&&t.right-n>e.left&&(s=t.right-n-e.left)>this.TILE_BIAS&&(s=0),0!==s&&(t.customSeparateX?t.overlapX=s:this.processTileSeparationX(t,s)),s},tileCheckY:function(t,e,i){var s=0,n=i.getTileOffsetY();return t.deltaY()<0&&!t.blocked.up&&e.collideDown&&t.checkCollision.up?e.faceBottom&&t.y-n<e.bottom&&(s=t.y-n-e.bottom)<-this.TILE_BIAS&&(s=0):t.deltaY()>0&&!t.blocked.down&&e.collideUp&&t.checkCollision.down&&e.faceTop&&t.bottom-n>e.top&&(s=t.bottom-n-e.top)>this.TILE_BIAS&&(s=0),0!==s&&(t.customSeparateY?t.overlapY=s:this.processTileSeparationY(t,s)),s},processTileSeparationX:function(t,e){e<0?(t.blocked.left=!0,t.blocked.none=!1):e>0&&(t.blocked.right=!0,t.blocked.none=!1),t.position.x-=e,0===t.bounce.x?t.velocity.x=0:t.velocity.x=-t.velocity.x*t.bounce.x},processTileSeparationY:function(t,e){e<0?(t.blocked.up=!0,t.blocked.none=!1):e>0&&(t.blocked.down=!0,t.blocked.none=!1),t.position.y-=e,0===t.bounce.y?t.velocity.y=0:t.velocity.y=-t.velocity.y*t.bounce.y}},i.Utils.mixinPrototype(i.Physics.Arcade.prototype,i.Physics.Arcade.TilemapCollision.prototype),p2.Body.prototype.parent=null,p2.Spring.prototype.parent=null,i.Physics.P2=function(t,e){this.game=t,void 0===e?e={gravity:[0,0],broadphase:new p2.SAPBroadphase}:(e.hasOwnProperty("gravity")||(e.gravity=[0,0]),e.hasOwnProperty("broadphase")||(e.broadphase=new p2.SAPBroadphase)),this.config=e,this.world=new p2.World(this.config),this.frameRate=1/60,this.useElapsedTime=!1,this.paused=!1,this.materials=[],this.gravity=new i.Physics.P2.InversePointProxy(this,this.world.gravity),this.walls={left:null,right:null,top:null,bottom:null},this.onBodyAdded=new i.Signal,this.onBodyRemoved=new i.Signal,this.onSpringAdded=new i.Signal,this.onSpringRemoved=new i.Signal,this.onConstraintAdded=new i.Signal,this.onConstraintRemoved=new i.Signal,this.onContactMaterialAdded=new i.Signal,this.onContactMaterialRemoved=new i.Signal,this.postBroadphaseCallback=null,this.callbackContext=null,this.onBeginContact=new i.Signal,this.onEndContact=new i.Signal,e.hasOwnProperty("mpx")&&e.hasOwnProperty("pxm")&&e.hasOwnProperty("mpxi")&&e.hasOwnProperty("pxmi")&&(this.mpx=e.mpx,this.mpxi=e.mpxi,this.pxm=e.pxm,this.pxmi=e.pxmi),this.world.on("beginContact",this.beginContactHandler,this),this.world.on("endContact",this.endContactHandler,this),this.collisionGroups=[],this.nothingCollisionGroup=new i.Physics.P2.CollisionGroup(1),this.boundsCollisionGroup=new i.Physics.P2.CollisionGroup(2),this.everythingCollisionGroup=new i.Physics.P2.CollisionGroup(2147483648),this.boundsCollidesWith=[],this._toRemove=[],this._collisionGroupID=2,this._boundsLeft=!0,this._boundsRight=!0,this._boundsTop=!0,this._boundsBottom=!0,this._boundsOwnGroup=!1,this.setBoundsToWorld(!0,!0,!0,!0,!1)},i.Physics.P2.prototype={removeBodyNextStep:function(t){this._toRemove.push(t)},preUpdate:function(){for(var t=this._toRemove.length;t--;)this.removeBody(this._toRemove[t]);this._toRemove.length=0},enable:function(t,e,s){void 0===e&&(e=!1),void 0===s&&(s=!0);var n=1;if(Array.isArray(t))for(n=t.length;n--;)t[n]instanceof i.Group?this.enable(t[n].children,e,s):(this.enableBody(t[n],e),s&&t[n].hasOwnProperty("children")&&t[n].children.length>0&&this.enable(t[n],e,!0));else t instanceof i.Group?this.enable(t.children,e,s):(this.enableBody(t,e),s&&t.hasOwnProperty("children")&&t.children.length>0&&this.enable(t.children,e,!0))},enableBody:function(t,e){t.hasOwnProperty("body")&&null===t.body&&(t.body=new i.Physics.P2.Body(this.game,t,t.x,t.y,1),t.body.debug=e,void 0!==t.anchor&&t.anchor.set(.5))},setImpactEvents:function(t){t?this.world.on("impact",this.impactHandler,this):this.world.off("impact",this.impactHandler,this)},setPostBroadphaseCallback:function(t,e){this.postBroadphaseCallback=t,this.callbackContext=e,null!==t?this.world.on("postBroadphase",this.postBroadphaseHandler,this):this.world.off("postBroadphase",this.postBroadphaseHandler,this)},postBroadphaseHandler:function(t){if(this.postBroadphaseCallback&&0!==t.pairs.length)for(var e=t.pairs.length-2;e>=0;e-=2)t.pairs[e].parent&&t.pairs[e+1].parent&&!this.postBroadphaseCallback.call(this.callbackContext,t.pairs[e].parent,t.pairs[e+1].parent)&&t.pairs.splice(e,2)},impactHandler:function(t){if(t.bodyA.parent&&t.bodyB.parent){var e=t.bodyA.parent,i=t.bodyB.parent;e._bodyCallbacks[t.bodyB.id]&&e._bodyCallbacks[t.bodyB.id].call(e._bodyCallbackContext[t.bodyB.id],e,i,t.shapeA,t.shapeB),i._bodyCallbacks[t.bodyA.id]&&i._bodyCallbacks[t.bodyA.id].call(i._bodyCallbackContext[t.bodyA.id],i,e,t.shapeB,t.shapeA),e._groupCallbacks[t.shapeB.collisionGroup]&&e._groupCallbacks[t.shapeB.collisionGroup].call(e._groupCallbackContext[t.shapeB.collisionGroup],e,i,t.shapeA,t.shapeB),i._groupCallbacks[t.shapeA.collisionGroup]&&i._groupCallbacks[t.shapeA.collisionGroup].call(i._groupCallbackContext[t.shapeA.collisionGroup],i,e,t.shapeB,t.shapeA)}},beginContactHandler:function(t){t.bodyA&&t.bodyB&&(this.onBeginContact.dispatch(t.bodyA,t.bodyB,t.shapeA,t.shapeB,t.contactEquations),t.bodyA.parent&&t.bodyA.parent.onBeginContact.dispatch(t.bodyB.parent,t.bodyB,t.shapeA,t.shapeB,t.contactEquations),t.bodyB.parent&&t.bodyB.parent.onBeginContact.dispatch(t.bodyA.parent,t.bodyA,t.shapeB,t.shapeA,t.contactEquations))},endContactHandler:function(t){t.bodyA&&t.bodyB&&(this.onEndContact.dispatch(t.bodyA,t.bodyB,t.shapeA,t.shapeB),t.bodyA.parent&&t.bodyA.parent.onEndContact.dispatch(t.bodyB.parent,t.bodyB,t.shapeA,t.shapeB),t.bodyB.parent&&t.bodyB.parent.onEndContact.dispatch(t.bodyA.parent,t.bodyA,t.shapeB,t.shapeA))},setBoundsToWorld:function(t,e,i,s,n){this.setBounds(this.game.world.bounds.x,this.game.world.bounds.y,this.game.world.bounds.width,this.game.world.bounds.height,t,e,i,s,n)},setWorldMaterial:function(t,e,i,s,n){void 0===e&&(e=!0),void 0===i&&(i=!0),void 0===s&&(s=!0),void 0===n&&(n=!0),e&&this.walls.left&&(this.walls.left.shapes[0].material=t),i&&this.walls.right&&(this.walls.right.shapes[0].material=t),s&&this.walls.top&&(this.walls.top.shapes[0].material=t),n&&this.walls.bottom&&(this.walls.bottom.shapes[0].material=t)},updateBoundsCollisionGroup:function(t){void 0===t&&(t=!0);var e=t?this.boundsCollisionGroup.mask:this.everythingCollisionGroup.mask;this.walls.left&&(this.walls.left.shapes[0].collisionGroup=e),this.walls.right&&(this.walls.right.shapes[0].collisionGroup=e),this.walls.top&&(this.walls.top.shapes[0].collisionGroup=e),this.walls.bottom&&(this.walls.bottom.shapes[0].collisionGroup=e),this._boundsOwnGroup=t},setBounds:function(t,e,i,s,n,o,r,a,h){void 0===n&&(n=this._boundsLeft),void 0===o&&(o=this._boundsRight),void 0===r&&(r=this._boundsTop),void 0===a&&(a=this._boundsBottom),void 0===h&&(h=this._boundsOwnGroup),this.setupWall(n,"left",t,e,1.5707963267948966,h),this.setupWall(o,"right",t+i,e,-1.5707963267948966,h),this.setupWall(r,"top",t,e,-3.141592653589793,h),this.setupWall(a,"bottom",t,e+s,0,h),this._boundsLeft=n,this._boundsRight=o,this._boundsTop=r,this._boundsBottom=a,this._boundsOwnGroup=h},setupWall:function(t,e,i,s,n,o){t?(this.walls[e]?this.walls[e].position=[this.pxmi(i),this.pxmi(s)]:(this.walls[e]=new p2.Body({mass:0,position:[this.pxmi(i),this.pxmi(s)],angle:n}),this.walls[e].addShape(new p2.Plane),this.world.addBody(this.walls[e])),o&&(this.walls[e].shapes[0].collisionGroup=this.boundsCollisionGroup.mask)):this.walls[e]&&(this.world.removeBody(this.walls[e]),this.walls[e]=null)},pause:function(){this.paused=!0},resume:function(){this.paused=!1},update:function(){this.paused||(this.useElapsedTime?this.world.step(this.game.time.physicsElapsed):this.world.step(this.frameRate))},reset:function(){this.world.on("beginContact",this.beginContactHandler,this),this.world.on("endContact",this.endContactHandler,this),this.nothingCollisionGroup=new i.Physics.P2.CollisionGroup(1),this.boundsCollisionGroup=new i.Physics.P2.CollisionGroup(2),this.everythingCollisionGroup=new i.Physics.P2.CollisionGroup(2147483648),this._collisionGroupID=2,this.setBoundsToWorld(!0,!0,!0,!0,!1)},clear:function(){this.world.time=0,this.world.fixedStepTime=0,this.world.solver&&this.world.solver.equations.length&&this.world.solver.removeAllEquations();for(var t=this.world.constraints,e=t.length-1;e>=0;e--)this.world.removeConstraint(t[e]);for(var i=this.world.bodies,e=i.length-1;e>=0;e--)this.world.removeBody(i[e]);for(var s=this.world.springs,e=s.length-1;e>=0;e--)this.world.removeSpring(s[e]);for(var n=this.world.contactMaterials,e=n.length-1;e>=0;e--)this.world.removeContactMaterial(n[e]);this.world.off("beginContact",this.beginContactHandler,this),this.world.off("endContact",this.endContactHandler,this),this.postBroadphaseCallback=null,this.callbackContext=null,this.impactCallback=null,this.collisionGroups=[],this._toRemove=[],this.boundsCollidesWith=[],this.walls={left:null,right:null,top:null,bottom:null}},destroy:function(){this.clear(),this.game=null},addBody:function(t){return!t.data.world&&(this.world.addBody(t.data),this.onBodyAdded.dispatch(t),!0)},removeBody:function(t){return t.data.world===this.world&&(this.world.removeBody(t.data),this.onBodyRemoved.dispatch(t)),t},addSpring:function(t){return t instanceof i.Physics.P2.Spring||t instanceof i.Physics.P2.RotationalSpring?this.world.addSpring(t.data):this.world.addSpring(t),this.onSpringAdded.dispatch(t),t},removeSpring:function(t){return t instanceof i.Physics.P2.Spring||t instanceof i.Physics.P2.RotationalSpring?this.world.removeSpring(t.data):this.world.removeSpring(t),this.onSpringRemoved.dispatch(t),t},createDistanceConstraint:function(t,e,s,n,o,r){if(t=this.getBody(t),e=this.getBody(e),t&&e)return this.addConstraint(new i.Physics.P2.DistanceConstraint(this,t,e,s,n,o,r));console.warn("Cannot create Constraint, invalid body objects given")},createGearConstraint:function(t,e,s,n){if(t=this.getBody(t),e=this.getBody(e),t&&e)return this.addConstraint(new i.Physics.P2.GearConstraint(this,t,e,s,n));console.warn("Cannot create Constraint, invalid body objects given")},createRevoluteConstraint:function(t,e,s,n,o,r){if(t=this.getBody(t),s=this.getBody(s),t&&s)return this.addConstraint(new i.Physics.P2.RevoluteConstraint(this,t,e,s,n,o,r));console.warn("Cannot create Constraint, invalid body objects given")},createLockConstraint:function(t,e,s,n,o){if(t=this.getBody(t),e=this.getBody(e),t&&e)return this.addConstraint(new i.Physics.P2.LockConstraint(this,t,e,s,n,o));console.warn("Cannot create Constraint, invalid body objects given")},createPrismaticConstraint:function(t,e,s,n,o,r,a){if(t=this.getBody(t),e=this.getBody(e),t&&e)return this.addConstraint(new i.Physics.P2.PrismaticConstraint(this,t,e,s,n,o,r,a));console.warn("Cannot create Constraint, invalid body objects given")},addConstraint:function(t){return this.world.addConstraint(t),this.onConstraintAdded.dispatch(t),t},removeConstraint:function(t){return this.world.removeConstraint(t),this.onConstraintRemoved.dispatch(t),t},addContactMaterial:function(t){return this.world.addContactMaterial(t),this.onContactMaterialAdded.dispatch(t),t},removeContactMaterial:function(t){return this.world.removeContactMaterial(t),this.onContactMaterialRemoved.dispatch(t),t},getContactMaterial:function(t,e){return this.world.getContactMaterial(t,e)},setMaterial:function(t,e){for(var i=e.length;i--;)e[i].setMaterial(t)},createMaterial:function(t,e){t=t||"";var s=new i.Physics.P2.Material(t);return this.materials.push(s),void 0!==e&&e.setMaterial(s),s},createContactMaterial:function(t,e,s){void 0===t&&(t=this.createMaterial()),void 0===e&&(e=this.createMaterial());var n=new i.Physics.P2.ContactMaterial(t,e,s);return this.addContactMaterial(n)},getBodies:function(){for(var t=[],e=this.world.bodies.length;e--;)t.push(this.world.bodies[e].parent);return t},getBody:function(t){return t instanceof p2.Body?t:t instanceof i.Physics.P2.Body?t.data:t.body&&t.body.type===i.Physics.P2JS?t.body.data:null},getSprings:function(){for(var t=[],e=this.world.springs.length;e--;)t.push(this.world.springs[e].parent);return t},getConstraints:function(){for(var t=[],e=this.world.constraints.length;e--;)t.push(this.world.constraints[e]);return t},hitTest:function(t,e,s,n){void 0===e&&(e=this.world.bodies),void 0===s&&(s=5),void 0===n&&(n=!1);for(var o=[this.pxmi(t.x),this.pxmi(t.y)],r=[],a=e.length;a--;)e[a]instanceof i.Physics.P2.Body&&(!n||e[a].data.type!==p2.Body.STATIC)?r.push(e[a].data):e[a]instanceof p2.Body&&e[a].parent&&(!n||e[a].type!==p2.Body.STATIC)?r.push(e[a]):e[a]instanceof i.Sprite&&e[a].hasOwnProperty("body")&&(!n||e[a].body.data.type!==p2.Body.STATIC)&&r.push(e[a].body.data);return this.world.hitTest(o,r,s)},toJSON:function(){return this.world.toJSON()},createCollisionGroup:function(t){var e=Math.pow(2,this._collisionGroupID);this.walls.left&&(this.walls.left.shapes[0].collisionMask=this.walls.left.shapes[0].collisionMask|e),this.walls.right&&(this.walls.right.shapes[0].collisionMask=this.walls.right.shapes[0].collisionMask|e),this.walls.top&&(this.walls.top.shapes[0].collisionMask=this.walls.top.shapes[0].collisionMask|e),this.walls.bottom&&(this.walls.bottom.shapes[0].collisionMask=this.walls.bottom.shapes[0].collisionMask|e),this._collisionGroupID++;var s=new i.Physics.P2.CollisionGroup(e);return this.collisionGroups.push(s),t&&this.setCollisionGroup(t,s),s},setCollisionGroup:function(t,e){if(t instanceof i.Group)for(var s=0;s<t.total;s++)t.children[s].body&&t.children[s].body.type===i.Physics.P2JS&&t.children[s].body.setCollisionGroup(e);else t.body.setCollisionGroup(e)},createSpring:function(t,e,s,n,o,r,a,h,l){if(t=this.getBody(t),e=this.getBody(e),t&&e)return this.addSpring(new i.Physics.P2.Spring(this,t,e,s,n,o,r,a,h,l));console.warn("Cannot create Spring, invalid body objects given")},createRotationalSpring:function(t,e,s,n,o){if(t=this.getBody(t),e=this.getBody(e),t&&e)return this.addSpring(new i.Physics.P2.RotationalSpring(this,t,e,s,n,o));console.warn("Cannot create Rotational Spring, invalid body objects given")},createBody:function(t,e,s,n,o,r){void 0===n&&(n=!1);var a=new i.Physics.P2.Body(this.game,null,t,e,s);return!(r&&!a.addPolygon(o,r))&&(n&&this.world.addBody(a.data),a)},createParticle:function(t,e,s,n,o,r){void 0===n&&(n=!1);var a=new i.Physics.P2.Body(this.game,null,t,e,s);return!(r&&!a.addPolygon(o,r))&&(n&&this.world.addBody(a.data),a)},convertCollisionObjects:function(t,e,i){void 0===i&&(i=!0);for(var s=[],n=0,o=t.collision[e].length;n<o;n++){var r=t.collision[e][n],a=r.polyline||r.polygon;if(a)var h=this.createBody(r.x,r.y,0,i,{},a);else r.rectangle&&(h=this.createBody(r.x,r.y,0,i)).addRectangle(r.width,r.height,r.width/2,r.height/2);h&&s.push(h)}return s},clearTilemapLayerBodies:function(t,e){e=t.getLayer(e);for(var i=t.layers[e].bodies.length;i--;)t.layers[e].bodies[i].destroy();t.layers[e].bodies.length=0},convertTilemap:function(t,e,i,s){e=t.getLayer(e),void 0===i&&(i=!0),void 0===s&&(s=!0),this.clearTilemapLayerBodies(t,e);for(var n=0,o=0,r=0,a=0,h=t.layers[e].height;a<h;a++){n=0;for(var l=0,c=t.layers[e].width;l<c;l++){var u=t.layers[e].data[a][l];if(u&&u.index>-1&&u.collides)if(s){var d=t.getTileRight(e,l,a);0===n&&(o=u.x*u.width,r=u.y*u.height,n=u.width),d&&d.collides?n+=u.width:((p=this.createBody(o,r,0,!1)).addRectangle(n,u.height,n/2,u.height/2,0),i&&this.addBody(p),t.layers[e].bodies.push(p),n=0)}else{var p=this.createBody(u.x*u.width,u.y*u.height,0,!1);p.addRectangle(u.width,u.height,u.width/2,u.height/2,0),i&&this.addBody(p),t.layers[e].bodies.push(p)}}}return t.layers[e].bodies},mpx:function(t){return t*=20},pxm:function(t){return.05*t},mpxi:function(t){return t*=-20},pxmi:function(t){return-.05*t}},Object.defineProperty(i.Physics.P2.prototype,"friction",{get:function(){return this.world.defaultContactMaterial.friction},set:function(t){this.world.defaultContactMaterial.friction=t}}),Object.defineProperty(i.Physics.P2.prototype,"restitution",{get:function(){return this.world.defaultContactMaterial.restitution},set:function(t){this.world.defaultContactMaterial.restitution=t}}),Object.defineProperty(i.Physics.P2.prototype,"contactMaterial",{get:function(){return this.world.defaultContactMaterial},set:function(t){this.world.defaultContactMaterial=t}}),Object.defineProperty(i.Physics.P2.prototype,"applySpringForces",{get:function(){return this.world.applySpringForces},set:function(t){this.world.applySpringForces=t}}),Object.defineProperty(i.Physics.P2.prototype,"applyDamping",{get:function(){return this.world.applyDamping},set:function(t){this.world.applyDamping=t}}),Object.defineProperty(i.Physics.P2.prototype,"applyGravity",{get:function(){return this.world.applyGravity},set:function(t){this.world.applyGravity=t}}),Object.defineProperty(i.Physics.P2.prototype,"solveConstraints",{get:function(){return this.world.solveConstraints},set:function(t){this.world.solveConstraints=t}}),Object.defineProperty(i.Physics.P2.prototype,"time",{get:function(){return this.world.time}}),Object.defineProperty(i.Physics.P2.prototype,"emitImpactEvent",{get:function(){return this.world.emitImpactEvent},set:function(t){this.world.emitImpactEvent=t}}),Object.defineProperty(i.Physics.P2.prototype,"sleepMode",{get:function(){return this.world.sleepMode},set:function(t){this.world.sleepMode=t}}),Object.defineProperty(i.Physics.P2.prototype,"total",{get:function(){return this.world.bodies.length}}),i.Physics.P2.FixtureList=function(t){Array.isArray(t)||(t=[t]),this.rawList=t,this.init(),this.parse(this.rawList)},i.Physics.P2.FixtureList.prototype={init:function(){this.namedFixtures={},this.groupedFixtures=[],this.allFixtures=[]},setCategory:function(t,e){this.getFixtures(e).forEach(function(e){e.collisionGroup=t})},setMask:function(t,e){this.getFixtures(e).forEach(function(e){e.collisionMask=t})},setSensor:function(t,e){this.getFixtures(e).forEach(function(e){e.sensor=t})},setMaterial:function(t,e){this.getFixtures(e).forEach(function(e){e.material=t})},getFixtures:function(t){var e=[];if(t){t instanceof Array||(t=[t]);var i=this;return t.forEach(function(t){i.namedFixtures[t]&&e.push(i.namedFixtures[t])}),this.flatten(e)}return this.allFixtures},getFixtureByKey:function(t){return this.namedFixtures[t]},getGroup:function(t){return this.groupedFixtures[t]},parse:function(){var t,e,i,s;i=this.rawList,s=[];for(t in i)e=i[t],isNaN(t-0)?this.namedFixtures[t]=this.flatten(e):(this.groupedFixtures[t]=this.groupedFixtures[t]||[],this.groupedFixtures[t]=this.groupedFixtures[t].concat(e)),s.push(this.allFixtures=this.flatten(this.groupedFixtures))},flatten:function(t){var e,i;return e=[],i=arguments.callee,t.forEach(function(t){return Array.prototype.push.apply(e,Array.isArray(t)?i(t):[t])}),e}},i.Physics.P2.PointProxy=function(t,e){this.world=t,this.destination=e},i.Physics.P2.PointProxy.prototype.constructor=i.Physics.P2.PointProxy,Object.defineProperty(i.Physics.P2.PointProxy.prototype,"x",{get:function(){return this.world.mpx(this.destination[0])},set:function(t){this.destination[0]=this.world.pxm(t)}}),Object.defineProperty(i.Physics.P2.PointProxy.prototype,"y",{get:function(){return this.world.mpx(this.destination[1])},set:function(t){this.destination[1]=this.world.pxm(t)}}),Object.defineProperty(i.Physics.P2.PointProxy.prototype,"mx",{get:function(){return this.destination[0]},set:function(t){this.destination[0]=t}}),Object.defineProperty(i.Physics.P2.PointProxy.prototype,"my",{get:function(){return this.destination[1]},set:function(t){this.destination[1]=t}}),i.Physics.P2.InversePointProxy=function(t,e){this.world=t,this.destination=e},i.Physics.P2.InversePointProxy.prototype.constructor=i.Physics.P2.InversePointProxy,Object.defineProperty(i.Physics.P2.InversePointProxy.prototype,"x",{get:function(){return this.world.mpxi(this.destination[0])},set:function(t){this.destination[0]=this.world.pxmi(t)}}),Object.defineProperty(i.Physics.P2.InversePointProxy.prototype,"y",{get:function(){return this.world.mpxi(this.destination[1])},set:function(t){this.destination[1]=this.world.pxmi(t)}}),Object.defineProperty(i.Physics.P2.InversePointProxy.prototype,"mx",{get:function(){return this.destination[0]},set:function(t){this.destination[0]=-t}}),Object.defineProperty(i.Physics.P2.InversePointProxy.prototype,"my",{get:function(){return this.destination[1]},set:function(t){this.destination[1]=-t}}),i.Physics.P2.Body=function(t,e,s,n,o){e=e||null,s=s||0,n=n||0,void 0===o&&(o=1),this.game=t,this.world=t.physics.p2,this.sprite=e,this.type=i.Physics.P2JS,this.offset=new i.Point,this.data=new p2.Body({position:[this.world.pxmi(s),this.world.pxmi(n)],mass:o}),this.data.parent=this,this.velocity=new i.Physics.P2.InversePointProxy(this.world,this.data.velocity),this.force=new i.Physics.P2.InversePointProxy(this.world,this.data.force),this.gravity=new i.Point,this.onBeginContact=new i.Signal,this.onEndContact=new i.Signal,this.collidesWith=[],this.removeNextStep=!1,this.debugBody=null,this.dirty=!1,this._collideWorldBounds=!0,this._bodyCallbacks={},this._bodyCallbackContext={},this._groupCallbacks={},this._groupCallbackContext={},this._reset=!1,e&&(this.setRectangleFromSprite(e),e.exists&&this.game.physics.p2.addBody(this))},i.Physics.P2.Body.prototype={createBodyCallback:function(t,e,i){var s=-1;t.id?s=t.id:t.body&&(s=t.body.id),s>-1&&(null===e?(delete this._bodyCallbacks[s],delete this._bodyCallbackContext[s]):(this._bodyCallbacks[s]=e,this._bodyCallbackContext[s]=i))},createGroupCallback:function(t,e,i){null===e?(delete this._groupCallbacks[t.mask],delete this._groupCallbackContext[t.mask]):(this._groupCallbacks[t.mask]=e,this._groupCallbackContext[t.mask]=i)},getCollisionMask:function(){var t=0;this._collideWorldBounds&&(t=this.game.physics.p2.boundsCollisionGroup.mask);for(var e=0;e<this.collidesWith.length;e++)t|=this.collidesWith[e].mask;return t},updateCollisionMask:function(t){var e=this.getCollisionMask();if(void 0===t)for(var i=this.data.shapes.length-1;i>=0;i--)this.data.shapes[i].collisionMask=e;else t.collisionMask=e},setCollisionGroup:function(t,e){var i=this.getCollisionMask();if(void 0===e)for(var s=this.data.shapes.length-1;s>=0;s--)this.data.shapes[s].collisionGroup=t.mask,this.data.shapes[s].collisionMask=i;else e.collisionGroup=t.mask,e.collisionMask=i},clearCollision:function(t,e,i){if(void 0===t&&(t=!0),void 0===e&&(e=!0),void 0===i)for(var s=this.data.shapes.length-1;s>=0;s--)t&&(this.data.shapes[s].collisionGroup=null),e&&(this.data.shapes[s].collisionMask=null);else t&&(i.collisionGroup=null),e&&(i.collisionMask=null);t&&(this.collidesWith.length=0)},removeCollisionGroup:function(t,e,i){void 0===e&&(e=!0);var s;if(Array.isArray(t))for(o=0;o<t.length;o++)(s=this.collidesWith.indexOf(t[o]))>-1&&(this.collidesWith.splice(s,1),e&&(delete this._groupCallbacks[t.mask],delete this._groupCallbackContext[t.mask]));else(s=this.collidesWith.indexOf(t))>-1&&(this.collidesWith.splice(s,1),e&&(delete this._groupCallbacks[t.mask],delete this._groupCallbackContext[t.mask]));var n=this.getCollisionMask();if(void 0===i)for(var o=this.data.shapes.length-1;o>=0;o--)this.data.shapes[o].collisionMask=n;else i.collisionMask=n},collides:function(t,e,i,s){if(Array.isArray(t))for(o=0;o<t.length;o++)-1===this.collidesWith.indexOf(t[o])&&(this.collidesWith.push(t[o]),e&&this.createGroupCallback(t[o],e,i));else-1===this.collidesWith.indexOf(t)&&(this.collidesWith.push(t),e&&this.createGroupCallback(t,e,i));var n=this.getCollisionMask();if(void 0===s)for(var o=this.data.shapes.length-1;o>=0;o--)this.data.shapes[o].collisionMask=n;else s.collisionMask=n},adjustCenterOfMass:function(){this.data.adjustCenterOfMass(),this.shapeChanged()},getVelocityAtPoint:function(t,e){return this.data.getVelocityAtPoint(t,e)},applyDamping:function(t){this.data.applyDamping(t)},applyImpulse:function(t,e,i){this.data.applyImpulse(t,[this.world.pxmi(e),this.world.pxmi(i)])},applyImpulseLocal:function(t,e,i){this.data.applyImpulseLocal(t,[this.world.pxmi(e),this.world.pxmi(i)])},applyForce:function(t,e,i){this.data.applyForce(t,[this.world.pxmi(e),this.world.pxmi(i)])},setZeroForce:function(){this.data.setZeroForce()},setZeroRotation:function(){this.data.angularVelocity=0},setZeroVelocity:function(){this.data.velocity[0]=0,this.data.velocity[1]=0},setZeroDamping:function(){this.data.damping=0,this.data.angularDamping=0},toLocalFrame:function(t,e){return this.data.toLocalFrame(t,e)},toWorldFrame:function(t,e){return this.data.toWorldFrame(t,e)},rotateLeft:function(t){this.data.angularVelocity=this.world.pxm(-t)},rotateRight:function(t){this.data.angularVelocity=this.world.pxm(t)},moveForward:function(t){var e=this.world.pxmi(-t),i=this.data.angle+Math.PI/2;this.data.velocity[0]=e*Math.cos(i),this.data.velocity[1]=e*Math.sin(i)},moveBackward:function(t){var e=this.world.pxmi(-t),i=this.data.angle+Math.PI/2;this.data.velocity[0]=-e*Math.cos(i),this.data.velocity[1]=-e*Math.sin(i)},thrust:function(t){var e=this.world.pxmi(-t),i=this.data.angle+Math.PI/2;this.data.force[0]+=e*Math.cos(i),this.data.force[1]+=e*Math.sin(i)},thrustLeft:function(t){var e=this.world.pxmi(-t),i=this.data.angle;this.data.force[0]+=e*Math.cos(i),this.data.force[1]+=e*Math.sin(i)},thrustRight:function(t){var e=this.world.pxmi(-t),i=this.data.angle;this.data.force[0]-=e*Math.cos(i),this.data.force[1]-=e*Math.sin(i)},reverse:function(t){var e=this.world.pxmi(-t),i=this.data.angle+Math.PI/2;this.data.force[0]-=e*Math.cos(i),this.data.force[1]-=e*Math.sin(i)},moveLeft:function(t){this.data.velocity[0]=this.world.pxmi(-t)},moveRight:function(t){this.data.velocity[0]=this.world.pxmi(t)},moveUp:function(t){this.data.velocity[1]=this.world.pxmi(-t)},moveDown:function(t){this.data.velocity[1]=this.world.pxmi(t)},preUpdate:function(){this.dirty=!0,this.removeNextStep&&(this.removeFromWorld(),this.removeNextStep=!1)},postUpdate:function(){this.sprite.x=this.world.mpxi(this.data.position[0])+this.offset.x,this.sprite.y=this.world.mpxi(this.data.position[1])+this.offset.y,this.fixedRotation||(this.sprite.rotation=this.data.angle),this.debugBody&&this.debugBody.updateSpriteTransform(),this.dirty=!1},reset:function(t,e,i,s){void 0===i&&(i=!1),void 0===s&&(s=!1),this.setZeroForce(),this.setZeroVelocity(),this.setZeroRotation(),i&&this.setZeroDamping(),s&&(this.mass=1),this.x=t,this.y=e},addToWorld:function(){if(this.game.physics.p2._toRemove)for(var t=0;t<this.game.physics.p2._toRemove.length;t++)this.game.physics.p2._toRemove[t]===this&&this.game.physics.p2._toRemove.splice(t,1);this.data.world!==this.game.physics.p2.world&&this.game.physics.p2.addBody(this)},removeFromWorld:function(){this.data.world===this.game.physics.p2.world&&this.game.physics.p2.removeBodyNextStep(this)},destroy:function(){this.removeFromWorld(),this.clearShapes(),this._bodyCallbacks={},this._bodyCallbackContext={},this._groupCallbacks={},this._groupCallbackContext={},this.debugBody&&this.debugBody.destroy(!0,!0),this.debugBody=null,this.sprite&&(this.sprite.body=null,this.sprite=null)},clearShapes:function(){for(var t=this.data.shapes.length;t--;)this.data.removeShape(this.data.shapes[t]);this.shapeChanged()},addShape:function(t,e,i,s){return void 0===e&&(e=0),void 0===i&&(i=0),void 0===s&&(s=0),this.data.addShape(t,[this.world.pxmi(e),this.world.pxmi(i)],s),this.shapeChanged(),t},addCircle:function(t,e,i,s){var n=new p2.Circle({radius:this.world.pxm(t)});return this.addShape(n,e,i,s)},addRectangle:function(t,e,i,s,n){var o=new p2.Box({width:this.world.pxm(t),height:this.world.pxm(e)});return this.addShape(o,i,s,n)},addPlane:function(t,e,i){var s=new p2.Plane;return this.addShape(s,t,e,i)},addParticle:function(t,e,i){var s=new p2.Particle;return this.addShape(s,t,e,i)},addLine:function(t,e,i,s){var n=new p2.Line({length:this.world.pxm(t)});return this.addShape(n,e,i,s)},addCapsule:function(t,e,i,s,n){var o=new p2.Capsule({length:this.world.pxm(t),radius:this.world.pxm(e)});return this.addShape(o,i,s,n)},addPolygon:function(t,e){t=t||{},Array.isArray(e)||(e=Array.prototype.slice.call(arguments,1));var i=[];if(1===e.length&&Array.isArray(e[0]))i=e[0].slice(0);else if(Array.isArray(e[0]))i=e.slice();else if("number"==typeof e[0])for(var s=0,n=e.length;s<n;s+=2)i.push([e[s],e[s+1]]);var o=i.length-1;i[o][0]===i[0][0]&&i[o][1]===i[0][1]&&i.pop();for(var r=0;r<i.length;r++)i[r][0]=this.world.pxmi(i[r][0]),i[r][1]=this.world.pxmi(i[r][1]);var a=this.data.fromPolygon(i,t);return this.shapeChanged(),a},removeShape:function(t){var e=this.data.removeShape(t);return this.shapeChanged(),e},setCircle:function(t,e,i,s){return this.clearShapes(),this.addCircle(t,e,i,s)},setRectangle:function(t,e,i,s,n){return void 0===t&&(t=16),void 0===e&&(e=16),this.clearShapes(),this.addRectangle(t,e,i,s,n)},setRectangleFromSprite:function(t){return void 0===t&&(t=this.sprite),this.clearShapes(),this.addRectangle(t.width,t.height,0,0,t.rotation)},setMaterial:function(t,e){if(void 0===e)for(var i=this.data.shapes.length-1;i>=0;i--)this.data.shapes[i].material=t;else e.material=t},shapeChanged:function(){this.debugBody&&this.debugBody.draw()},addPhaserPolygon:function(t,e){for(var i=this.game.cache.getPhysicsData(t,e),s=[],n=0;n<i.length;n++){var o=i[n],r=this.addFixture(o);s[o.filter.group]=s[o.filter.group]||[],s[o.filter.group]=s[o.filter.group].concat(r),o.fixtureKey&&(s[o.fixtureKey]=r)}return this.data.aabbNeedsUpdate=!0,this.shapeChanged(),s},addFixture:function(t){var e=[];if(t.circle){(l=new p2.Circle({radius:this.world.pxm(t.circle.radius)})).collisionGroup=t.filter.categoryBits,l.collisionMask=t.filter.maskBits,l.sensor=t.isSensor;var i=p2.vec2.create();i[0]=this.world.pxmi(t.circle.position[0]-this.sprite.width/2),i[1]=this.world.pxmi(t.circle.position[1]-this.sprite.height/2),this.data.addShape(l,i),e.push(l)}else for(var s=t.polygons,n=p2.vec2.create(),o=0;o<s.length;o++){for(var r=s[o],a=[],h=0;h<r.length;h+=2)a.push([this.world.pxmi(r[h]),this.world.pxmi(r[h+1])]);for(var l=new p2.Convex({vertices:a}),c=0;c!==l.vertices.length;c++){var u=l.vertices[c];p2.vec2.sub(u,u,l.centerOfMass)}p2.vec2.scale(n,l.centerOfMass,1),n[0]-=this.world.pxmi(this.sprite.width/2),n[1]-=this.world.pxmi(this.sprite.height/2),l.updateTriangles(),l.updateCenterOfMass(),l.updateBoundingRadius(),l.collisionGroup=t.filter.categoryBits,l.collisionMask=t.filter.maskBits,l.sensor=t.isSensor,this.data.addShape(l,n),e.push(l)}return e},loadPolygon:function(t,e,i){if(null===t)s=e;else var s=this.game.cache.getPhysicsData(t,e);"number"!=typeof i&&(i=1);for(var n=p2.vec2.create(),o=0;o<s.length;o++){for(var r=[],a=0;a<s[o].shape.length;a+=2)r.push([this.world.pxmi(s[o].shape[a]*i),this.world.pxmi(s[o].shape[a+1]*i)]);for(var h=new p2.Convex({vertices:r}),l=0;l!==h.vertices.length;l++){var c=h.vertices[l];p2.vec2.sub(c,c,h.centerOfMass)}p2.vec2.scale(n,h.centerOfMass,1),n[0]-=this.world.pxmi(this.sprite.width/2),n[1]-=this.world.pxmi(this.sprite.height/2),h.updateTriangles(),h.updateCenterOfMass(),h.updateBoundingRadius(),this.data.addShape(h,n)}return this.data.aabbNeedsUpdate=!0,this.shapeChanged(),!0}},i.Physics.P2.Body.prototype.constructor=i.Physics.P2.Body,i.Physics.P2.Body.DYNAMIC=1,i.Physics.P2.Body.STATIC=2,i.Physics.P2.Body.KINEMATIC=4,Object.defineProperty(i.Physics.P2.Body.prototype,"static",{get:function(){return this.data.type===i.Physics.P2.Body.STATIC},set:function(t){t&&this.data.type!==i.Physics.P2.Body.STATIC?(this.data.type=i.Physics.P2.Body.STATIC,this.mass=0):t||this.data.type!==i.Physics.P2.Body.STATIC||(this.data.type=i.Physics.P2.Body.DYNAMIC,this.mass=1)}}),Object.defineProperty(i.Physics.P2.Body.prototype,"dynamic",{get:function(){return this.data.type===i.Physics.P2.Body.DYNAMIC},set:function(t){t&&this.data.type!==i.Physics.P2.Body.DYNAMIC?(this.data.type=i.Physics.P2.Body.DYNAMIC,this.mass=1):t||this.data.type!==i.Physics.P2.Body.DYNAMIC||(this.data.type=i.Physics.P2.Body.STATIC,this.mass=0)}}),Object.defineProperty(i.Physics.P2.Body.prototype,"kinematic",{get:function(){return this.data.type===i.Physics.P2.Body.KINEMATIC},set:function(t){t&&this.data.type!==i.Physics.P2.Body.KINEMATIC?(this.data.type=i.Physics.P2.Body.KINEMATIC,this.mass=4):t||this.data.type!==i.Physics.P2.Body.KINEMATIC||(this.data.type=i.Physics.P2.Body.STATIC,this.mass=0)}}),Object.defineProperty(i.Physics.P2.Body.prototype,"allowSleep",{get:function(){return this.data.allowSleep},set:function(t){t!==this.data.allowSleep&&(this.data.allowSleep=t)}}),Object.defineProperty(i.Physics.P2.Body.prototype,"angle",{get:function(){return i.Math.wrapAngle(i.Math.radToDeg(this.data.angle))},set:function(t){this.data.angle=i.Math.degToRad(i.Math.wrapAngle(t))}}),Object.defineProperty(i.Physics.P2.Body.prototype,"angularDamping",{get:function(){return this.data.angularDamping},set:function(t){this.data.angularDamping=t}}),Object.defineProperty(i.Physics.P2.Body.prototype,"angularForce",{get:function(){return this.data.angularForce},set:function(t){this.data.angularForce=t}}),Object.defineProperty(i.Physics.P2.Body.prototype,"angularVelocity",{get:function(){return this.data.angularVelocity},set:function(t){this.data.angularVelocity=t}}),Object.defineProperty(i.Physics.P2.Body.prototype,"damping",{get:function(){return this.data.damping},set:function(t){this.data.damping=t}}),Object.defineProperty(i.Physics.P2.Body.prototype,"fixedRotation",{get:function(){return this.data.fixedRotation},set:function(t){t!==this.data.fixedRotation&&(this.data.fixedRotation=t)}}),Object.defineProperty(i.Physics.P2.Body.prototype,"inertia",{get:function(){return this.data.inertia},set:function(t){this.data.inertia=t}}),Object.defineProperty(i.Physics.P2.Body.prototype,"mass",{get:function(){return this.data.mass},set:function(t){t!==this.data.mass&&(this.data.mass=t,this.data.updateMassProperties())}}),Object.defineProperty(i.Physics.P2.Body.prototype,"motionState",{get:function(){return this.data.type},set:function(t){t!==this.data.type&&(this.data.type=t)}}),Object.defineProperty(i.Physics.P2.Body.prototype,"rotation",{get:function(){return this.data.angle},set:function(t){this.data.angle=t}}),Object.defineProperty(i.Physics.P2.Body.prototype,"sleepSpeedLimit",{get:function(){return this.data.sleepSpeedLimit},set:function(t){this.data.sleepSpeedLimit=t}}),Object.defineProperty(i.Physics.P2.Body.prototype,"x",{get:function(){return this.world.mpxi(this.data.position[0])},set:function(t){this.data.position[0]=this.world.pxmi(t)}}),Object.defineProperty(i.Physics.P2.Body.prototype,"y",{get:function(){return this.world.mpxi(this.data.position[1])},set:function(t){this.data.position[1]=this.world.pxmi(t)}}),Object.defineProperty(i.Physics.P2.Body.prototype,"id",{get:function(){return this.data.id}}),Object.defineProperty(i.Physics.P2.Body.prototype,"debug",{get:function(){return null!==this.debugBody},set:function(t){t&&!this.debugBody?this.debugBody=new i.Physics.P2.BodyDebug(this.game,this.data):!t&&this.debugBody&&(this.debugBody.destroy(),this.debugBody=null)}}),Object.defineProperty(i.Physics.P2.Body.prototype,"collideWorldBounds",{get:function(){return this._collideWorldBounds},set:function(t){t&&!this._collideWorldBounds?(this._collideWorldBounds=!0,this.updateCollisionMask()):!t&&this._collideWorldBounds&&(this._collideWorldBounds=!1,this.updateCollisionMask())}}),i.Physics.P2.BodyDebug=function(t,e,s){i.Group.call(this,t);var n={pixelsPerLengthUnit:t.physics.p2.mpx(1),debugPolygons:!1,lineWidth:1,alpha:.5};this.settings=Object.assign(n,s),this.ppu=this.settings.pixelsPerLengthUnit,this.ppu=-1*this.ppu,this.body=e,this.canvas=new i.Graphics(t),this.canvas.alpha=this.settings.alpha,this.add(this.canvas),this.draw(),this.updateSpriteTransform()},i.Physics.P2.BodyDebug.prototype=Object.create(i.Group.prototype),i.Physics.P2.BodyDebug.prototype.constructor=i.Physics.P2.BodyDebug,Object.assign(i.Physics.P2.BodyDebug.prototype,{updateSpriteTransform:function(){this.position.x=this.body.position[0]*this.ppu,this.position.y=this.body.position[1]*this.ppu,this.rotation=this.body.angle},draw:function(){var t,e,i,s,n,o,r,a,h,l,c,u,d,p;if(r=this.body,(h=this.canvas).clear(),i=parseInt(this.randomPastelHex(),16),16711680,o=this.lineWidth,r instanceof p2.Body&&r.shapes.length){var f=r.shapes.length;for(s=0;s!==f;){if(e=r.shapes[s],a=e.position||0,t=e.angle||0,e instanceof p2.Circle)this.drawCircle(h,a[0]*this.ppu,a[1]*this.ppu,t,e.radius*this.ppu,i,o);else if(e instanceof p2.Capsule)this.drawCapsule(h,a[0]*this.ppu,a[1]*this.ppu,t,e.length*this.ppu,e.radius*this.ppu,16711680,i,o);else if(e instanceof p2.Plane)this.drawPlane(h,a[0]*this.ppu,-a[1]*this.ppu,i,16711680,5*o,10*o,10*o,100*this.ppu,t);else if(e instanceof p2.Line)this.drawLine(h,e.length*this.ppu,16711680,o);else if(e instanceof p2.Box)this.drawRectangle(h,a[0]*this.ppu,a[1]*this.ppu,t,e.width*this.ppu,e.height*this.ppu,16711680,i,o);else if(e instanceof p2.Convex){for(c=[],u=p2.vec2.create(),n=d=0,p=e.vertices.length;0<=p?d<p:d>p;n=0<=p?++d:--d)l=e.vertices[n],p2.vec2.rotate(u,l,t),c.push([(u[0]+a[0])*this.ppu,-(u[1]+a[1])*this.ppu]);this.drawConvex(h,c,e.triangles,16711680,i,o,this.settings.debugPolygons,[a[0]*this.ppu,-a[1]*this.ppu])}s++}}},drawRectangle:function(t,e,i,s,n,o,r,a,h){void 0===h&&(h=1),void 0===r&&(r=0),t.lineStyle(h,r,1),t.beginFill(a),t.drawRect(e-n/2,i-o/2,n,o)},drawCircle:function(t,e,i,s,n,o,r){void 0===r&&(r=1),void 0===o&&(o=16777215),t.lineStyle(r,0,1),t.beginFill(o,1),t.drawCircle(e,i,2*-n),t.endFill(),t.moveTo(e,i),t.lineTo(e+n*Math.cos(-s),i+n*Math.sin(-s))},drawLine:function(t,e,i,s){void 0===s&&(s=1),void 0===i&&(i=0),t.lineStyle(5*s,i,1),t.moveTo(-e/2,0),t.lineTo(e/2,0)},drawConvex:function(t,e,i,s,n,o,r,a){var h,l,c,u,d,p,f,m,g,y,v;if(void 0===o&&(o=1),void 0===s&&(s=0),r){for(h=[16711680,65280,255],l=0;l!==e.length+1;)u=e[l%e.length],d=e[(l+1)%e.length],f=u[0],y=u[1],m=d[0],v=d[1],t.lineStyle(o,h[l%h.length],1),t.moveTo(f,-y),t.lineTo(m,-v),t.drawCircle(f,-y,2*o),l++;return t.lineStyle(o,0,1),t.drawCircle(a[0],a[1],2*o)}for(t.lineStyle(o,s,1),t.beginFill(n),l=0;l!==e.length;)p=(c=e[l])[0],g=c[1],0===l?t.moveTo(p,-g):t.lineTo(p,-g),l++;if(t.endFill(),e.length>2)return t.moveTo(e[e.length-1][0],-e[e.length-1][1]),t.lineTo(e[0][0],-e[0][1])},drawPath:function(t,e,i,s,n){var o,r,a,h,l,c,u,d,p,f,m;for(void 0===n&&(n=1),void 0===i&&(i=0),t.lineStyle(n,i,1),"number"==typeof s&&t.beginFill(s),r=null,a=null,o=0;o<e.length;)f=(p=e[o])[0],m=p[1],f===r&&m===a||(0===o?t.moveTo(f,m):(h=r,l=a,c=f,u=m,d=e[(o+1)%e.length][0],0!==(c-h)*(e[(o+1)%e.length][1]-l)-(d-h)*(u-l)&&t.lineTo(f,m)),r=f,a=m),o++;"number"==typeof s&&t.endFill(),e.length>2&&"number"==typeof s&&(t.moveTo(e[e.length-1][0],e[e.length-1][1]),t.lineTo(e[0][0],e[0][1]))},drawPlane:function(t,e,i,s,n,o,r,a,h,l){var c,u;void 0===o&&(o=1),void 0===s&&(s=16777215),t.lineStyle(o,n,11),t.beginFill(s),t.moveTo(e,-i),c=e+Math.cos(l)*this.game.width,u=i+Math.sin(l)*this.game.height,t.lineTo(c,-u),t.moveTo(e,-i),c=e+Math.cos(l)*-this.game.width,u=i+Math.sin(l)*-this.game.height,t.lineTo(c,-u)},drawCapsule:function(t,e,i,s,n,o,r,a,h){void 0===h&&(h=1),void 0===r&&(r=0),t.lineStyle(h,r,1);var l=Math.cos(s),c=Math.sin(s);t.beginFill(a,1),t.drawCircle(-n/2*l+e,-n/2*c+i,2*-o),t.drawCircle(n/2*l+e,n/2*c+i,2*-o),t.endFill(),t.lineStyle(h,r,0),t.beginFill(a,1),t.moveTo(-n/2*l+o*c+e,-n/2*c+o*l+i),t.lineTo(n/2*l+o*c+e,n/2*c+o*l+i),t.lineTo(n/2*l-o*c+e,n/2*c-o*l+i),t.lineTo(-n/2*l-o*c+e,-n/2*c-o*l+i),t.endFill(),t.lineStyle(h,r,1),t.moveTo(-n/2*l+o*c+e,-n/2*c+o*l+i),t.lineTo(n/2*l+o*c+e,n/2*c+o*l+i),t.moveTo(-n/2*l-o*c+e,-n/2*c-o*l+i),t.lineTo(n/2*l-o*c+e,n/2*c-o*l+i)},randomPastelHex:function(){var t,e,i,s;return i=[255,255,255],s=Math.floor(256*Math.random()),e=Math.floor(256*Math.random()),t=Math.floor(256*Math.random()),s=Math.floor((s+3*i[0])/4),e=Math.floor((e+3*i[1])/4),t=Math.floor((t+3*i[2])/4),this.rgbToHex(s,e,t)},rgbToHex:function(t,e,i){return this.componentToHex(t)+this.componentToHex(e)+this.componentToHex(i)},componentToHex:function(t){var e;return 2===(e=t.toString(16)).length?e:e+"0"}}),i.Physics.P2.Spring=function(t,e,i,s,n,o,r,a,h,l){this.game=t.game,this.world=t,void 0===s&&(s=1),void 0===n&&(n=100),void 0===o&&(o=1);var c={restLength:s=t.pxm(s),stiffness:n,damping:o};void 0!==r&&null!==r&&(c.worldAnchorA=[t.pxm(r[0]),t.pxm(r[1])]),void 0!==a&&null!==a&&(c.worldAnchorB=[t.pxm(a[0]),t.pxm(a[1])]),void 0!==h&&null!==h&&(c.localAnchorA=[t.pxm(h[0]),t.pxm(h[1])]),void 0!==l&&null!==l&&(c.localAnchorB=[t.pxm(l[0]),t.pxm(l[1])]),this.data=new p2.LinearSpring(e,i,c),this.data.parent=this},i.Physics.P2.Spring.prototype.constructor=i.Physics.P2.Spring,i.Physics.P2.RotationalSpring=function(t,e,i,s,n,o){this.game=t.game,this.world=t,void 0===s&&(s=null),void 0===n&&(n=100),void 0===o&&(o=1),s&&(s=t.pxm(s));var r={restAngle:s,stiffness:n,damping:o};this.data=new p2.RotationalSpring(e,i,r),this.data.parent=this},i.Physics.P2.Spring.prototype.constructor=i.Physics.P2.Spring,i.Physics.P2.Material=function(t){this.name=t,p2.Material.call(this)},i.Physics.P2.Material.prototype=Object.create(p2.Material.prototype),i.Physics.P2.Material.prototype.constructor=i.Physics.P2.Material,i.Physics.P2.ContactMaterial=function(t,e,i){p2.ContactMaterial.call(this,t,e,i)},i.Physics.P2.ContactMaterial.prototype=Object.create(p2.ContactMaterial.prototype),i.Physics.P2.ContactMaterial.prototype.constructor=i.Physics.P2.ContactMaterial,i.Physics.P2.CollisionGroup=function(t){this.mask=t},i.Physics.P2.DistanceConstraint=function(t,e,i,s,n,o,r){void 0===s&&(s=100),void 0===n&&(n=[0,0]),void 0===o&&(o=[0,0]),void 0===r&&(r=Number.MAX_VALUE),this.game=t.game,this.world=t;var a={distance:s=t.pxm(s),localAnchorA:n=[t.pxmi(n[0]),t.pxmi(n[1])],localAnchorB:o=[t.pxmi(o[0]),t.pxmi(o[1])],maxForce:r};p2.DistanceConstraint.call(this,e,i,a)},i.Physics.P2.DistanceConstraint.prototype=Object.create(p2.DistanceConstraint.prototype),i.Physics.P2.DistanceConstraint.prototype.constructor=i.Physics.P2.DistanceConstraint,i.Physics.P2.GearConstraint=function(t,e,i,s,n){void 0===s&&(s=0),void 0===n&&(n=1),this.game=t.game,this.world=t;var o={angle:s,ratio:n};p2.GearConstraint.call(this,e,i,o)},i.Physics.P2.GearConstraint.prototype=Object.create(p2.GearConstraint.prototype),i.Physics.P2.GearConstraint.prototype.constructor=i.Physics.P2.GearConstraint,i.Physics.P2.LockConstraint=function(t,e,i,s,n,o){void 0===s&&(s=[0,0]),void 0===n&&(n=0),void 0===o&&(o=Number.MAX_VALUE),this.game=t.game,this.world=t;var r={localOffsetB:s=[t.pxm(s[0]),t.pxm(s[1])],localAngleB:n,maxForce:o};p2.LockConstraint.call(this,e,i,r)},i.Physics.P2.LockConstraint.prototype=Object.create(p2.LockConstraint.prototype),i.Physics.P2.LockConstraint.prototype.constructor=i.Physics.P2.LockConstraint,i.Physics.P2.PrismaticConstraint=function(t,e,i,s,n,o,r,a){void 0===s&&(s=!0),void 0===n&&(n=[0,0]),void 0===o&&(o=[0,0]),void 0===r&&(r=[0,0]),void 0===a&&(a=Number.MAX_VALUE),this.game=t.game,this.world=t;var h={localAnchorA:n=[t.pxmi(n[0]),t.pxmi(n[1])],localAnchorB:o=[t.pxmi(o[0]),t.pxmi(o[1])],localAxisA:r,maxForce:a,disableRotationalLock:!s};p2.PrismaticConstraint.call(this,e,i,h)},i.Physics.P2.PrismaticConstraint.prototype=Object.create(p2.PrismaticConstraint.prototype),i.Physics.P2.PrismaticConstraint.prototype.constructor=i.Physics.P2.PrismaticConstraint,i.Physics.P2.RevoluteConstraint=function(t,e,i,s,n,o,r){void 0===o&&(o=Number.MAX_VALUE),void 0===r&&(r=null),this.game=t.game,this.world=t,i=[t.pxmi(i[0]),t.pxmi(i[1])],n=[t.pxmi(n[0]),t.pxmi(n[1])],r&&(r=[t.pxmi(r[0]),t.pxmi(r[1])]);var a={worldPivot:r,localPivotA:i,localPivotB:n,maxForce:o};p2.RevoluteConstraint.call(this,e,s,a)},i.Physics.P2.RevoluteConstraint.prototype=Object.create(p2.RevoluteConstraint.prototype),i.Physics.P2.RevoluteConstraint.prototype.constructor=i.Physics.P2.RevoluteConstraint,i.ImageCollection=function(t,e,i,s,n,o,r){(void 0===i||i<=0)&&(i=32),(void 0===s||s<=0)&&(s=32),void 0===n&&(n=0),void 0===o&&(o=0),this.name=t,this.firstgid=0|e,this.imageWidth=0|i,this.imageHeight=0|s,this.imageMargin=0|n,this.imageSpacing=0|o,this.properties=r||{},this.images=[],this.total=0},i.ImageCollection.prototype={containsImageIndex:function(t){return t>=this.firstgid&&t<this.firstgid+this.total},addImage:function(t,e){this.images.push({gid:t,image:e}),this.total++}},i.ImageCollection.prototype.constructor=i.ImageCollection,i.Tile=function(t,e,i,s,n,o){this.layer=t,this.index=e,this.x=i,this.y=s,this.rotation=0,this.flipped=!1,this.worldX=i*n,this.worldY=s*o,this.width=n,this.height=o,this.centerX=Math.abs(n/2),this.centerY=Math.abs(o/2),this.alpha=1,this.properties={},this.scanned=!1,this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.collisionCallback=null,this.collisionCallbackContext=this},i.Tile.prototype={containsPoint:function(t,e){return!(t<this.worldX||e<this.worldY||t>this.right||e>this.bottom)},intersects:function(t,e,i,s){return!(i<=this.worldX)&&(!(s<=this.worldY)&&(!(t>=this.worldX+this.width)&&!(e>=this.worldY+this.height)))},setCollisionCallback:function(t,e){this.collisionCallback=t,this.collisionCallbackContext=e},destroy:function(){this.collisionCallback=null,this.collisionCallbackContext=null,this.properties=null},setCollision:function(t,e,i,s){this.collideLeft=t,this.collideRight=e,this.collideUp=i,this.collideDown=s,this.faceLeft=t,this.faceRight=e,this.faceTop=i,this.faceBottom=s},resetCollision:function(){this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1},isInteresting:function(t,e){return t&&e?this.collideLeft||this.collideRight||this.collideUp||this.collideDown||this.faceTop||this.faceBottom||this.faceLeft||this.faceRight||this.collisionCallback:t?this.collideLeft||this.collideRight||this.collideUp||this.collideDown:!!e&&(this.faceTop||this.faceBottom||this.faceLeft||this.faceRight)},copy:function(t){this.index=t.index,this.alpha=t.alpha,this.properties=t.properties,this.collideUp=t.collideUp,this.collideDown=t.collideDown,this.collideLeft=t.collideLeft,this.collideRight=t.collideRight,this.collisionCallback=t.collisionCallback,this.collisionCallbackContext=t.collisionCallbackContext}},i.Tile.prototype.constructor=i.Tile,Object.defineProperty(i.Tile.prototype,"collides",{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown}}),Object.defineProperty(i.Tile.prototype,"canCollide",{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown||this.collisionCallback}}),Object.defineProperty(i.Tile.prototype,"left",{get:function(){return this.worldX}}),Object.defineProperty(i.Tile.prototype,"right",{get:function(){return this.worldX+this.width}}),Object.defineProperty(i.Tile.prototype,"top",{get:function(){return this.worldY}}),Object.defineProperty(i.Tile.prototype,"bottom",{get:function(){return this.worldY+this.height}}),i.Tilemap=function(t,e,s,n,o,r){this.game=t,this.key=e;var a=i.TilemapParser.parse(this.game,e,s,n,o,r);null!==a&&(this.width=a.width,this.height=a.height,this.tileWidth=a.tileWidth,this.tileHeight=a.tileHeight,this.orientation=a.orientation,this.format=a.format,this.version=a.version,this.properties=a.properties,this.widthInPixels=a.widthInPixels,this.heightInPixels=a.heightInPixels,this.layers=a.layers,this.tilesets=a.tilesets,this.imagecollections=a.imagecollections,this.tiles=a.tiles,this.objects=a.objects,this.collideIndexes=[],this.collision=a.collision,this.images=a.images,this.enableDebug=!1,this.currentLayer=0,this.debugMap=[],this._results=[],this._tempA=0,this._tempB=0)},i.Tilemap.CSV=0,i.Tilemap.TILED_JSON=1,i.Tilemap.NORTH=0,i.Tilemap.EAST=1,i.Tilemap.SOUTH=2,i.Tilemap.WEST=3,i.Tilemap.prototype={create:function(t,e,i,s,n,o){return void 0===o&&(o=this.game.world),this.width=e,this.height=i,this.setTileSize(s,n),this.layers.length=0,this.createBlankLayer(t,e,i,s,n,o)},setTileSize:function(t,e){this.tileWidth=t,this.tileHeight=e,this.widthInPixels=this.width*t,this.heightInPixels=this.height*e},addTilesetImage:function(t,e,s,n,o,r,a){if(void 0===t)return null;void 0===s&&(s=this.tileWidth),void 0===n&&(n=this.tileHeight),void 0===o&&(o=0),void 0===r&&(r=0),void 0===a&&(a=0),0===s&&(s=32),0===n&&(n=32);var h=null;if(void 0!==e&&null!==e||(e=t),e instanceof i.BitmapData)h=e.canvas;else{if(!this.game.cache.checkImageKey(e))return console.warn('Phaser.Tilemap.addTilesetImage: Invalid image key given: "'+e+'"'),null;h=this.game.cache.getImage(e)}var l=this.getTilesetIndex(t);if(null===l&&this.format===i.Tilemap.TILED_JSON)return console.warn('Phaser.Tilemap.addTilesetImage: No data found in the JSON matching the tileset name: "'+t+'"'),console.log("Tilesets: ",this.tilesets),null;if(this.tilesets[l])return this.tilesets[l].setImage(h),this.tilesets[l];var c=new i.Tileset(t,a,s,n,o,r,{});c.setImage(h),this.tilesets.push(c);for(var u=this.tilesets.length-1,d=o,p=o,f=0,m=0,g=0,y=a;y<a+c.total&&(this.tiles[y]=[d,p,u],d+=s+r,++f!==c.total)&&(++m!==c.columns||(d=o,p+=n+r,m=0,++g!==c.rows));y++);return c},createFromObjects:function(t,e,s,n,o,r,a,h,l,c){if(void 0===o&&(o=!0),void 0===r&&(r=!1),void 0===a&&(a=this.game.world),void 0===h&&(h=i.Sprite),void 0===l&&(l=!0),void 0===c&&(c=!0),!this.objects[t])return console.warn("Tilemap.createFromObjects: Invalid objectgroup name given: "+t),void console.log("Objects: ",this.objects);for(var u=0;u<this.objects[t].length;u++){var d=!1,p=this.objects[t][u];if(void 0!==p.gid&&"number"==typeof e&&p.gid===e?d=!0:void 0!==p.id&&"number"==typeof e&&p.id===e?d=!0:void 0!==p.name&&"string"==typeof e&&p.name===e&&(d=!0),d){var f=new h(this.game,parseFloat(p.x,10),parseFloat(p.y,10),s,n);f.name=p.name,f.autoCull=r,f.exists=o,f.visible=p.visible,c&&(p.width&&(f.width=p.width),p.height&&(f.height=p.height)),p.rotation&&(f.angle=p.rotation),l&&(f.y-=f.height),a.add(f);for(var m in p.properties)a.set(f,m,p.properties[m],!1,!1,0,!0)}}},createFromTiles:function(t,e,s,n,o,r){"number"==typeof t&&(t=[t]),void 0===e||null===e?e=[]:"number"==typeof e&&(e=[e]),n=this.getLayer(n),void 0===o&&(o=this.game.world),void 0===r&&(r={}),void 0===r.customClass&&(r.customClass=i.Sprite),void 0===r.adjustY&&(r.adjustY=!0);var a=this.layers[n].width,h=this.layers[n].height;if(this.copy(0,0,a,h,n),this._results.length<2)return 0;for(var l,c=0,u=1,d=this._results.length;u<d;u++)if(-1!==t.indexOf(this._results[u].index)){l=new r.customClass(this.game,this._results[u].worldX,this._results[u].worldY,s);for(var p in r)l[p]=r[p];o.add(l),c++}if(1===e.length)for(u=0;u<t.length;u++)this.replace(t[u],e[0],0,0,a,h,n);else if(e.length>1)for(u=0;u<t.length;u++)this.replace(t[u],e[u],0,0,a,h,n);return c},createLayer:function(t,e,s,n){void 0===e&&(e=this.game.width),void 0===s&&(s=this.game.height),void 0===n&&(n=this.game.world);var o=t;if("string"==typeof t&&(o=this.getLayerIndex(t)),null===o||o>this.layers.length)return console.warn('Tilemap.createLayer: Invalid layer ID given: "'+t+'"'),void console.log("Layers: ",this.layers);void 0===e||e<=0?e=Math.min(this.game.width,this.layers[o].widthInPixels):e>this.game.width&&(e=this.game.width),void 0===s||s<=0?s=Math.min(this.game.height,this.layers[o].heightInPixels):s>this.game.height&&(s=this.game.height),this.enableDebug&&(console.group("Tilemap.createLayer"),console.log("Name:",this.layers[o].name),console.log("Size:",e,"x",s),console.log("Tileset:",this.tilesets[0].name,"index:",o));var r=n.add(new i.TilemapLayer(this.game,this,o,e,s));return this.enableDebug&&console.groupEnd(),r},createBlankLayer:function(t,e,s,n,o,r){void 0===r&&(r=this.game.world);{if(null===this.getLayerIndex(t)){for(var a,h={name:t,x:0,y:0,width:e,height:s,widthInPixels:e*n,heightInPixels:s*o,alpha:1,visible:!0,properties:{},indexes:[],callbacks:[],bodies:[],data:null},l=[],c=0;c<s;c++){a=[];for(var u=0;u<e;u++)a.push(new i.Tile(h,-1,u,c,n,o));l.push(a)}h.data=l,this.layers.push(h),this.currentLayer=this.layers.length-1;var d=h.widthInPixels,p=h.heightInPixels;return d>this.game.width&&(d=this.game.width),p>this.game.height&&(p=this.game.height),(l=new i.TilemapLayer(this.game,this,this.layers.length-1,d,p)).name=t,r.add(l)}console.warn("Tilemap.createBlankLayer: Layer with matching name already exists: "+t)}},getIndex:function(t,e){for(var i=0;i<t.length;i++)if(t[i].name===e)return i;return null},getLayerIndex:function(t){return this.getIndex(this.layers,t)},getTilesetIndex:function(t){return this.getIndex(this.tilesets,t)},getImageIndex:function(t){return this.getIndex(this.images,t)},setTileIndexCallback:function(t,e,i,s){if(s=this.getLayer(s),"number"==typeof t)null===e?delete this.layers[s].callbacks[t]:this.layers[s].callbacks[t]={callback:e,callbackContext:i};else for(var n=0,o=t.length;n<o;n++)null===e?delete this.layers[s].callbacks[t[n]]:this.layers[s].callbacks[t[n]]={callback:e,callbackContext:i}},setTileLocationCallback:function(t,e,i,s,n,o,r){if(r=this.getLayer(r),this.copy(t,e,i,s,r),!(this._results.length<2))for(var a=1;a<this._results.length;a++)this._results[a].setCollisionCallback(n,o)},setCollision:function(t,e,i,s){if(void 0===e&&(e=!0),void 0===s&&(s=!0),i=this.getLayer(i),"number"==typeof t)return this.setCollisionByIndex(t,e,i,!0);if(Array.isArray(t)){for(var n=0;n<t.length;n++)this.setCollisionByIndex(t[n],e,i,!1);s&&this.calculateFaces(i)}},setCollisionBetween:function(t,e,i,s,n){if(void 0===i&&(i=!0),void 0===n&&(n=!0),s=this.getLayer(s),!(t>e)){for(var o=t;o<=e;o++)this.setCollisionByIndex(o,i,s,!1);n&&this.calculateFaces(s)}},setCollisionByExclusion:function(t,e,i,s){void 0===e&&(e=!0),void 0===s&&(s=!0),i=this.getLayer(i);for(var n=0,o=this.tiles.length;n<o;n++)-1===t.indexOf(n)&&this.setCollisionByIndex(n,e,i,!1);s&&this.calculateFaces(i)},setCollisionByIndex:function(t,e,i,s){if(void 0===e&&(e=!0),void 0===i&&(i=this.currentLayer),void 0===s&&(s=!0),e)this.collideIndexes.push(t);else{var n=this.collideIndexes.indexOf(t);n>-1&&this.collideIndexes.splice(n,1)}for(var o=0;o<this.layers[i].height;o++)for(var r=0;r<this.layers[i].width;r++){var a=this.layers[i].data[o][r];a&&a.index===t&&(e?a.setCollision(!0,!0,!0,!0):a.resetCollision(),a.faceTop=e,a.faceBottom=e,a.faceLeft=e,a.faceRight=e)}return s&&this.calculateFaces(i),i},getLayer:function(t){if(void 0===t)t=this.currentLayer;else if("string"==typeof t){var e=t;(t=this.getLayerIndex(t))||console.warn("No such layer name: "+e)}else t instanceof i.TilemapLayer&&(t=t.index);return t},setPreventRecalculate:function(t){if(!0===t&&!0!==this.preventingRecalculate&&(this.preventingRecalculate=!0,this.needToRecalculate={}),!1===t&&!0===this.preventingRecalculate){this.preventingRecalculate=!1;for(var e in this.needToRecalculate)this.calculateFaces(e);this.needToRecalculate=!1}},calculateFaces:function(t){if(this.preventingRecalculate)this.needToRecalculate[t]=!0;else for(var e=null,i=null,s=null,n=null,o=0,r=this.layers[t].height;o<r;o++)for(var a=0,h=this.layers[t].width;a<h;a++){var l=this.layers[t].data[o][a];l&&(e=this.getTileAbove(t,a,o),i=this.getTileBelow(t,a,o),s=this.getTileLeft(t,a,o),n=this.getTileRight(t,a,o),l.collides&&(l.faceTop=!0,l.faceBottom=!0,l.faceLeft=!0,l.faceRight=!0),e&&e.collides&&(l.faceTop=!1),i&&i.collides&&(l.faceBottom=!1),s&&s.collides&&(l.faceLeft=!1),n&&n.collides&&(l.faceRight=!1))}},getTileAbove:function(t,e,i){return i>0?this.layers[t].data[i-1][e]:null},getTileBelow:function(t,e,i){return i<this.layers[t].height-1?this.layers[t].data[i+1][e]:null},getTileLeft:function(t,e,i){return e>0?this.layers[t].data[i][e-1]:null},getTileRight:function(t,e,i){return e<this.layers[t].width-1?this.layers[t].data[i][e+1]:null},setLayer:function(t){t=this.getLayer(t),this.layers[t]&&(this.currentLayer=t)},hasTile:function(t,e,i){return i=this.getLayer(i),void 0!==this.layers[i].data[e]&&void 0!==this.layers[i].data[e][t]&&this.layers[i].data[e][t].index>-1},removeTile:function(t,e,s){if(s=this.getLayer(s),t>=0&&t<this.layers[s].width&&e>=0&&e<this.layers[s].height&&this.hasTile(t,e,s)){var n=this.layers[s].data[e][t];return this.layers[s].data[e][t]=new i.Tile(this.layers[s],-1,t,e,this.tileWidth,this.tileHeight),this.layers[s].dirty=!0,this.calculateFaces(s),n}},removeTileWorldXY:function(t,e,i,s,n){return n=this.getLayer(n),t=this.game.math.snapToFloor(t,i)/i,e=this.game.math.snapToFloor(e,s)/s,this.removeTile(t,e,n)},putTile:function(t,e,s,n){if(null===t)return this.removeTile(e,s,n);if(n=this.getLayer(n),e>=0&&e<this.layers[n].width&&s>=0&&s<this.layers[n].height){var o;return t instanceof i.Tile?(o=t.index,this.hasTile(e,s,n)?this.layers[n].data[s][e].copy(t):this.layers[n].data[s][e]=new i.Tile(n,o,e,s,t.width,t.height)):(o=t,this.hasTile(e,s,n)?this.layers[n].data[s][e].index=o:this.layers[n].data[s][e]=new i.Tile(this.layers[n],o,e,s,this.tileWidth,this.tileHeight)),this.collideIndexes.indexOf(o)>-1?this.layers[n].data[s][e].setCollision(!0,!0,!0,!0):this.layers[n].data[s][e].resetCollision(),this.layers[n].dirty=!0,this.calculateFaces(n),this.layers[n].data[s][e]}return null},putTileWorldXY:function(t,e,i,s,n,o){return o=this.getLayer(o),e=this.game.math.snapToFloor(e,s)/s,i=this.game.math.snapToFloor(i,n)/n,this.putTile(t,e,i,o)},searchTileIndex:function(t,e,i,s){void 0===e&&(e=0),void 0===i&&(i=!1),s=this.getLayer(s);var n=0;if(i){for(o=this.layers[s].height-1;o>=0;o--)for(r=this.layers[s].width-1;r>=0;r--)if(this.layers[s].data[o][r].index===t){if(n===e)return this.layers[s].data[o][r];n++}}else for(var o=0;o<this.layers[s].height;o++)for(var r=0;r<this.layers[s].width;r++)if(this.layers[s].data[o][r].index===t){if(n===e)return this.layers[s].data[o][r];n++}return null},getTile:function(t,e,i,s){return void 0===s&&(s=!1),i=this.getLayer(i),t>=0&&t<this.layers[i].width&&e>=0&&e<this.layers[i].height?-1===this.layers[i].data[e][t].index?s?this.layers[i].data[e][t]:null:this.layers[i].data[e][t]:null},getTileWorldXY:function(t,e,i,s,n,o){return void 0===i&&(i=this.tileWidth),void 0===s&&(s=this.tileHeight),n=this.getLayer(n),t=this.game.math.snapToFloor(t,i)/i,e=this.game.math.snapToFloor(e,s)/s,this.getTile(t,e,n,o)},copy:function(t,e,i,s,n){n=this.getLayer(n);{if(this.layers[n]){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=this.layers[n].width),void 0===s&&(s=this.layers[n].height),t<0&&(t=0),e<0&&(e=0),i>this.layers[n].width&&(i=this.layers[n].width),s>this.layers[n].height&&(s=this.layers[n].height),this._results.length=0,this._results.push({x:t,y:e,width:i,height:s,layer:n});for(var o=e;o<e+s;o++)for(var r=t;r<t+i;r++)this._results.push(this.layers[n].data[o][r]);return this._results}this._results.length=0}},paste:function(t,e,i,s){if(void 0===t&&(t=0),void 0===e&&(e=0),s=this.getLayer(s),i&&!(i.length<2)){for(var n=t-i[1].x,o=e-i[1].y,r=1;r<i.length;r++)this.layers[s].data[o+i[r].y][n+i[r].x].copy(i[r]);this.layers[s].dirty=!0,this.calculateFaces(s)}},swap:function(t,e,i,s,n,o,r){r=this.getLayer(r),this.copy(i,s,n,o,r),this._results.length<2||(this._tempA=t,this._tempB=e,this._results.forEach(this.swapHandler,this),this.paste(i,s,this._results,r))},swapHandler:function(t){t.index===this._tempA?t.index=this._tempB:t.index===this._tempB&&(t.index=this._tempA)},forEach:function(t,e,i,s,n,o,r){r=this.getLayer(r),this.copy(i,s,n,o,r),this._results.length<2||(this._results.forEach(t,e),this.paste(i,s,this._results,r))},replace:function(t,e,i,s,n,o,r){if(r=this.getLayer(r),this.copy(i,s,n,o,r),!(this._results.length<2)){for(var a=1;a<this._results.length;a++)this._results[a].index===t&&(this._results[a].index=e);this.paste(i,s,this._results,r)}},random:function(t,e,i,s,n){if(n=this.getLayer(n),this.copy(t,e,i,s,n),!(this._results.length<2)){for(var o=[],r=1;r<this._results.length;r++)if(this._results[r].index){var a=this._results[r].index;-1===o.indexOf(a)&&o.push(a)}for(var h=1;h<this._results.length;h++)this._results[h].index=this.game.rnd.pick(o);this.paste(t,e,this._results,n)}},shuffle:function(t,e,s,n,o){if(o=this.getLayer(o),this.copy(t,e,s,n,o),!(this._results.length<2)){for(var r=[],a=1;a<this._results.length;a++)this._results[a].index&&r.push(this._results[a].index);i.ArrayUtils.shuffle(r);for(var h=1;h<this._results.length;h++)this._results[h].index=r[h-1];this.paste(t,e,this._results,o)}},fill:function(t,e,i,s,n,o){if(o=this.getLayer(o),this.copy(e,i,s,n,o),!(this._results.length<2)){for(var r=1;r<this._results.length;r++)this._results[r].index=t;this.paste(e,i,this._results,o)}},removeAllLayers:function(){this.layers.length=0,this.currentLayer=0},dump:function(){for(var t="",e=[""],i=0;i<this.layers[this.currentLayer].height;i++){for(var s=0;s<this.layers[this.currentLayer].width;s++)t+="%c  ",this.layers[this.currentLayer].data[i][s]>1?this.debugMap[this.layers[this.currentLayer].data[i][s]]?e.push("background: "+this.debugMap[this.layers[this.currentLayer].data[i][s]]):e.push("background: #ffffff"):e.push("background: rgb(0, 0, 0)");t+="\n"}e[0]=t,console.log.apply(console,e)},destroy:function(){this.removeAllLayers(),this.data=[],this.game=null}},i.Tilemap.prototype.constructor=i.Tilemap,Object.defineProperty(i.Tilemap.prototype,"layer",{get:function(){return this.layers[this.currentLayer]},set:function(t){t!==this.currentLayer&&this.setLayer(t)}}),i.TilemapLayer=function(t,e,s,n,o){n|=0,o|=0,i.Sprite.call(this,t,0,0),this.map=e,this.index=s,this.layer=e.layers[s],this.canvas=i.CanvasPool.create(this,n,o),this.context=this.canvas.getContext("2d"),this.setTexture(new PIXI.Texture(new PIXI.BaseTexture(this.canvas,null,this.game.resolution))),this.type=i.TILEMAPLAYER,this.physicsType=i.TILEMAPLAYER,this.renderSettings={enableScrollDelta:!0,overdrawRatio:.2,copyCanvas:null},this.debug=!1,this.exists=!0,this.debugSettings={missingImageFill:"rgb(255,255,255)",debuggedTileOverfill:"rgba(0,255,0,0.4)",forceFullRedraw:!0,debugAlpha:.5,facingEdgeStroke:"rgba(0,255,0,1)",collidingTileOverfill:"rgba(0,255,0,0.2)"},this.scrollFactorX=1,this.scrollFactorY=1,this.dirty=!0,this.rayStepRate=4,this._wrap=!1,this._mc={scrollX:0,scrollY:0,renderWidth:0,renderHeight:0,tileWidth:e.tileWidth,tileHeight:e.tileHeight,cw:e.tileWidth,ch:e.tileHeight,tilesets:[]},this._scrollX=0,this._scrollY=0,this.tileOffset=new i.Point(this.layer.offsetX||0,this.layer.offsetY||0),this._results=[],t.device.canvasBitBltShift||(this.renderSettings.copyCanvas=i.TilemapLayer.ensureSharedCopyCanvas()),this.fixedToCamera=!0},i.TilemapLayer.prototype=Object.create(i.Sprite.prototype),i.TilemapLayer.prototype.constructor=i.TilemapLayer,i.TilemapLayer.prototype.preUpdateCore=i.Component.Core.preUpdate,i.TilemapLayer.sharedCopyCanvas=null,i.TilemapLayer.ensureSharedCopyCanvas=function(){return this.sharedCopyCanvas||(this.sharedCopyCanvas=i.CanvasPool.create(this,2,2)),this.sharedCopyCanvas},i.TilemapLayer.prototype.preUpdate=function(){return this.preUpdateCore()},i.TilemapLayer.prototype.postUpdate=function(){this.fixedToCamera&&(this.position.x=(this.game.camera.view.x+this.cameraOffset.x)/this.game.camera.scale.x,this.position.y=(this.game.camera.view.y+this.cameraOffset.y)/this.game.camera.scale.y),this._scrollX=(this.game.camera.view.x-this.tileOffset.x)*this.scrollFactorX/this.scale.x,this._scrollY=(this.game.camera.view.y-this.tileOffset.y)*this.scrollFactorY/this.scale.y},i.TilemapLayer.prototype._renderCanvas=function(t){this.fixedToCamera&&(this.position.x=(this.game.camera.view.x+this.cameraOffset.x)/this.game.camera.scale.x,this.position.y=(this.game.camera.view.y+this.cameraOffset.y)/this.game.camera.scale.y),this._scrollX=(this.game.camera.view.x-this.tileOffset.x)*this.scrollFactorX/this.scale.x,this._scrollY=(this.game.camera.view.y-this.tileOffset.y)*this.scrollFactorY/this.scale.y,this.render(),PIXI.Sprite.prototype._renderCanvas.call(this,t)},i.TilemapLayer.prototype._renderWebGL=function(t){this.fixedToCamera&&(this.position.x=(this.game.camera.view.x+this.cameraOffset.x)/this.game.camera.scale.x,this.position.y=(this.game.camera.view.y+this.cameraOffset.y)/this.game.camera.scale.y),this._scrollX=(this.game.camera.view.x-this.tileOffset.x)*this.scrollFactorX/this.scale.x,this._scrollY=(this.game.camera.view.y-this.tileOffset.y)*this.scrollFactorY/this.scale.y,this.render(),PIXI.Sprite.prototype._renderWebGL.call(this,t)},i.TilemapLayer.prototype.destroy=function(){i.CanvasPool.remove(this),i.Component.Destroy.prototype.destroy.call(this)},i.TilemapLayer.prototype.resize=function(t,e){this.canvas.width=t,this.canvas.height=e,this.texture.frame.resize(t,e),this.texture.width=t,this.texture.height=e,this.texture.crop.width=t,this.texture.crop.height=e,this.texture.baseTexture.width=t,this.texture.baseTexture.height=e,this.texture.baseTexture.dirty(),this.texture.requiresUpdate=!0,this.texture._updateUvs(),this.dirty=!0},i.TilemapLayer.prototype.resizeWorld=function(){this.game.world.setBounds(0,0,this.layer.widthInPixels*this.scale.x,this.layer.heightInPixels*this.scale.y)},i.TilemapLayer.prototype.getTileOffsetX=function(){return this.tileOffset.x||(this.fixedToCamera?0:this.position.x)},i.TilemapLayer.prototype.getTileOffsetY=function(){return this.tileOffset.y||(this.fixedToCamera?0:this.position.y)},i.TilemapLayer.prototype._fixX=function(t){return 1===this.scrollFactorX||0===this.scrollFactorX&&0===this.position.x?t:0===this.scrollFactorX&&0!==this.position.x?t-this.position.x:this._scrollX+(t-this._scrollX/this.scrollFactorX)},i.TilemapLayer.prototype._unfixX=function(t){return 1===this.scrollFactorX?t:this._scrollX/this.scrollFactorX+(t-this._scrollX)},i.TilemapLayer.prototype._fixY=function(t){return 1===this.scrollFactorY||0===this.scrollFactorY&&0===this.position.y?t:0===this.scrollFactorY&&0!==this.position.y?t-this.position.y:this._scrollY+(t-this._scrollY/this.scrollFactorY)},i.TilemapLayer.prototype._unfixY=function(t){return 1===this.scrollFactorY?t:this._scrollY/this.scrollFactorY+(t-this._scrollY)},i.TilemapLayer.prototype.getTileX=function(t){return Math.floor(this._fixX(t)/this._mc.tileWidth)},i.TilemapLayer.prototype.getTileY=function(t){return Math.floor(this._fixY(t)/this._mc.tileHeight)},i.TilemapLayer.prototype.getTileXY=function(t,e,i){return i.x=this.getTileX(t),i.y=this.getTileY(e),i},i.TilemapLayer.prototype.getRayCastTiles=function(t,e,i,s){e||(e=this.rayStepRate),void 0===i&&(i=!1),void 0===s&&(s=!1);var n=this.getTiles(t.x,t.y,t.width,t.height,i,s);if(0===n.length)return[];for(var o=t.coordinatesOnLine(e),r=[],a=0;a<n.length;a++)for(var h=0;h<o.length;h++){var l=n[a],c=o[h];if(l.containsPoint(c[0],c[1])){r.push(l);break}}return r},i.TilemapLayer.prototype.getTiles=function(t,e,i,s,n,o){void 0===n&&(n=!1),void 0===o&&(o=!1);var r=!(n||o);t=this._fixX(t),e=this._fixY(e);for(var a=Math.floor(t/(this._mc.cw*this.scale.x)),h=Math.floor(e/(this._mc.ch*this.scale.y)),l=Math.ceil((t+i)/(this._mc.cw*this.scale.x))-a,c=Math.ceil((e+s)/(this._mc.ch*this.scale.y))-h;this._results.length;)this._results.pop();for(var u=h;u<h+c;u++)for(var d=a;d<a+l;d++){var p=this.layer.data[u];p&&p[d]&&(r||p[d].isInteresting(n,o))&&this._results.push(p[d])}return this._results.slice()},i.TilemapLayer.prototype.resolveTileset=function(t){var e=this._mc.tilesets;if(t<2e3)for(;e.length<t;)e.push(void 0);var i=this.map.tiles[t]&&this.map.tiles[t][2];if(null!==i){var s=this.map.tilesets[i];if(s&&s.containsTileIndex(t))return e[t]=s}return e[t]=null},i.TilemapLayer.prototype.resetTilesetCache=function(){for(var t=this._mc.tilesets;t.length;)t.pop()},i.TilemapLayer.prototype.setScale=function(t,e){t=t||1,e=e||t;for(var i=0;i<this.layer.data.length;i++)for(var s=this.layer.data[i],n=0;n<s.length;n++){var o=s[n];o.width=this.map.tileWidth*t,o.height=this.map.tileHeight*e,o.worldX=o.x*o.width,o.worldY=o.y*o.height}this.scale.setTo(t,e)},i.TilemapLayer.prototype.shiftCanvas=function(t,e,i){var s=t.canvas,n=s.width-Math.abs(e),o=s.height-Math.abs(i),r=0,a=0,h=e,l=i;e<0&&(r=-e,h=0),i<0&&(a=-i,l=0);var c=this.renderSettings.copyCanvas;if(c){(c.width<n||c.height<o)&&(c.width=n,c.height=o);var u=c.getContext("2d");u.clearRect(0,0,n,o),u.drawImage(s,r,a,n,o,0,0,n,o),t.clearRect(h,l,n,o),t.drawImage(c,0,0,n,o,h,l,n,o)}else t.save(),t.globalCompositeOperation="copy",t.drawImage(s,r,a,n,o,h,l,n,o),t.restore()},i.TilemapLayer.prototype.renderRegion=function(t,e,i,s,n,o){var r=this.context,a=this.layer.width,h=this.layer.height,l=this._mc.tileWidth,c=this._mc.tileHeight,u=this._mc.tilesets,d=NaN;this._wrap||(i<=n&&(i=Math.max(0,i),n=Math.min(a-1,n)),s<=o&&(s=Math.max(0,s),o=Math.min(h-1,o)));var p,f,m,g,y,v,x=i*l-t,b=(i+(1<<20)*a)%a;for(g=(s+(1<<20)*h)%h,v=o-s,f=s*c-e;v>=0;g++,v--,f+=c){g>=h&&(g-=h);var _=this.layer.data[g];for(m=b,y=n-i,p=x;y>=0;m++,y--,p+=l){m>=a&&(m-=a);var w=_[m];if(w&&!(w.index<0)){var T=w.index,P=u[T];void 0===P&&(P=this.resolveTileset(T)),w.alpha===d||this.debug||(r.globalAlpha=w.alpha,d=w.alpha),P?w.rotation||w.flipped?(r.save(),r.translate(p+w.centerX,f+w.centerY),r.rotate(w.rotation),w.flipped&&r.scale(-1,1),P.draw(r,-w.centerX,-w.centerY,T),r.restore()):P.draw(r,p,f,T):this.debugSettings.missingImageFill&&(r.fillStyle=this.debugSettings.missingImageFill,r.fillRect(p,f,l,c)),w.debug&&this.debugSettings.debuggedTileOverfill&&(r.fillStyle=this.debugSettings.debuggedTileOverfill,r.fillRect(p,f,l,c))}}}},i.TilemapLayer.prototype.renderDeltaScroll=function(t,e){var i=this._mc.scrollX,s=this._mc.scrollY,n=this.canvas.width,o=this.canvas.height,r=this._mc.tileWidth,a=this._mc.tileHeight,h=0,l=-r,c=0,u=-a;if(t<0?(h=n+t,l=n-1):t>0&&(l=t),e<0?(c=o+e,u=o-1):e>0&&(u=e),this.shiftCanvas(this.context,t,e),h=Math.floor((h+i)/r),l=Math.floor((l+i)/r),c=Math.floor((c+s)/a),u=Math.floor((u+s)/a),h<=l){this.context.clearRect(h*r-i,0,(l-h+1)*r,o);var d=Math.floor((0+s)/a),p=Math.floor((o-1+s)/a);this.renderRegion(i,s,h,d,l,p)}if(c<=u){this.context.clearRect(0,c*a-s,n,(u-c+1)*a);var f=Math.floor((0+i)/r),m=Math.floor((n-1+i)/r);this.renderRegion(i,s,f,c,m,u)}},i.TilemapLayer.prototype.renderFull=function(){var t=this._mc.scrollX,e=this._mc.scrollY,i=this.canvas.width,s=this.canvas.height,n=this._mc.tileWidth,o=this._mc.tileHeight,r=Math.floor(t/n),a=Math.floor((i-1+t)/n),h=Math.floor(e/o),l=Math.floor((s-1+e)/o);this.context.clearRect(0,0,i,s),this.renderRegion(t,e,r,h,a,l)},i.TilemapLayer.prototype.render=function(){var t=!1;if(this.visible){(this.dirty||this.layer.dirty)&&(this.layer.dirty=!1,t=!0);var e=this.canvas.width,i=this.canvas.height,s=0|this._scrollX,n=0|this._scrollY,o=this._mc,r=o.scrollX-s,a=o.scrollY-n;if(t||0!==r||0!==a||o.renderWidth!==e||o.renderHeight!==i)return this.context.save(),o.scrollX=s,o.scrollY=n,o.renderWidth===e&&o.renderHeight===i||(o.renderWidth=e,o.renderHeight=i),this.debug&&(this.context.globalAlpha=this.debugSettings.debugAlpha,this.debugSettings.forceFullRedraw&&(t=!0)),!t&&this.renderSettings.enableScrollDelta&&Math.abs(r)+Math.abs(a)<Math.min(e,i)?this.renderDeltaScroll(r,a):this.renderFull(),this.debug&&(this.context.globalAlpha=1,this.renderDebug()),this.texture.baseTexture.dirty(),this.dirty=!1,this.context.restore(),!0}},i.TilemapLayer.prototype.renderDebug=function(){var t,e,i,s,n,o,r=this._mc.scrollX,a=this._mc.scrollY,h=this.context,l=this.canvas.width,c=this.canvas.height,u=this.layer.width,d=this.layer.height,p=this._mc.tileWidth,f=this._mc.tileHeight,m=Math.floor(r/p),g=Math.floor((l-1+r)/p),y=Math.floor(a/f),v=Math.floor((c-1+a)/f),x=m*p-r,b=y*f-a,_=(m+(1<<20)*u)%u,w=(y+(1<<20)*d)%d;for(h.strokeStyle=this.debugSettings.facingEdgeStroke,s=w,o=v-y,e=b;o>=0;s++,o--,e+=f){s>=d&&(s-=d);var T=this.layer.data[s];for(i=_,n=g-m,t=x;n>=0;i++,n--,t+=p){i>=u&&(i-=u);var P=T[i];!P||P.index<0||!P.collides||(this.debugSettings.collidingTileOverfill&&(h.fillStyle=this.debugSettings.collidingTileOverfill,h.fillRect(t,e,this._mc.cw,this._mc.ch)),this.debugSettings.facingEdgeStroke&&(h.beginPath(),P.faceTop&&(h.moveTo(t,e),h.lineTo(t+this._mc.cw,e)),P.faceBottom&&(h.moveTo(t,e+this._mc.ch),h.lineTo(t+this._mc.cw,e+this._mc.ch)),P.faceLeft&&(h.moveTo(t,e),h.lineTo(t,e+this._mc.ch)),P.faceRight&&(h.moveTo(t+this._mc.cw,e),h.lineTo(t+this._mc.cw,e+this._mc.ch)),h.closePath(),h.stroke()))}}},Object.defineProperty(i.TilemapLayer.prototype,"wrap",{get:function(){return this._wrap},set:function(t){this._wrap=t,this.dirty=!0}}),Object.defineProperty(i.TilemapLayer.prototype,"scrollX",{get:function(){return this._scrollX},set:function(t){this._scrollX=t}}),Object.defineProperty(i.TilemapLayer.prototype,"scrollY",{get:function(){return this._scrollY},set:function(t){this._scrollY=t}}),Object.defineProperty(i.TilemapLayer.prototype,"collisionWidth",{get:function(){return this._mc.cw},set:function(t){this._mc.cw=0|t,this.dirty=!0}}),Object.defineProperty(i.TilemapLayer.prototype,"collisionHeight",{get:function(){return this._mc.ch},set:function(t){this._mc.ch=0|t,this.dirty=!0}}),i.TilemapParser={INSERT_NULL:!1,parse:function(t,e,s,n,o,r){if(void 0===s&&(s=32),void 0===n&&(n=32),void 0===o&&(o=10),void 0===r&&(r=10),void 0===e)return this.getEmptyData();if(null===e)return this.getEmptyData(s,n,o,r);var a=t.cache.getTilemapData(e);if(a){if(a.format===i.Tilemap.CSV)return this.parseCSV(e,a.data,s,n);if(!a.format||a.format===i.Tilemap.TILED_JSON)return this.parseTiledJSON(a.data)}else console.warn("Phaser.TilemapParser.parse - No map data found for key "+e)},parseCSV:function(t,e,s,n){for(var o=this.getEmptyData(),r=[],a=(e=e.trim()).split("\n"),h=a.length,l=0,c=0;c<a.length;c++){r[c]=[];for(var u=a[c].split(","),d=0;d<u.length;d++)r[c][d]=new i.Tile(o.layers[0],parseInt(u[d],10),d,c,s,n);0===l&&(l=u.length)}return o.format=i.Tilemap.CSV,o.name=t,o.width=l,o.height=h,o.tileWidth=s,o.tileHeight=n,o.widthInPixels=l*s,o.heightInPixels=h*n,o.layers[0].width=l,o.layers[0].height=h,o.layers[0].widthInPixels=o.widthInPixels,o.layers[0].heightInPixels=o.heightInPixels,o.layers[0].data=r,o},getEmptyData:function(t,e,i,s){return{width:void 0!==i&&null!==i?i:0,height:void 0!==s&&null!==s?s:0,tileWidth:void 0!==t&&null!==t?t:0,tileHeight:void 0!==e&&null!==e?e:0,orientation:"orthogonal",version:"1",properties:{},widthInPixels:0,heightInPixels:0,layers:[{name:"layer",x:0,y:0,width:0,height:0,widthInPixels:0,heightInPixels:0,alpha:1,visible:!0,properties:{},indexes:[],callbacks:[],bodies:[],data:[]}],images:[],objects:{},collision:{},tilesets:[],tiles:[]}},_slice:function(t,e){var i={};for(var s in e){var n=e[s];void 0!==t[n]&&(i[n]=t[n])}return i},parseObjectGroup:function(t,e,i,s,n){var s=s||t.name,n=n||{x:0,y:0},o=this._slice;s||console.warn("No name found for objectGroup",t),void 0!==n.x&&void 0!==n.y||console.warn("Malformed xy properties in relativePosition",n),e[s]=e[s]||[],i[s]=i[s]||[];for(var r=0,a=t.objects.length;r<a;r++){var h=t.objects[r];if(h.gid){l={gid:h.gid,name:h.name,type:h.type||"",x:h.x+n.x,y:h.y+n.y,width:h.width,height:h.height,visible:h.visible,properties:h.properties};h.rotation&&(l.rotation=h.rotation),e[s].push(l)}else if(h.polyline){var l={name:h.name,type:h.type,x:h.x+n.x,y:h.y+n.y,width:h.width,height:h.height,visible:h.visible,properties:h.properties};h.rotation&&(l.rotation=h.rotation),l.polyline=[];for(c=0;c<h.polyline.length;c++)l.polyline.push([h.polyline[c].x,h.polyline[c].y]);i[s].push(l),e[s].push(l)}else if(h.polygon){(l=o(h,["name","type","x","y","visible","rotation","properties"])).x+=n.x,l.y+=n.y,l.polygon=[];for(var c=0;c<h.polygon.length;c++)l.polygon.push([h.polygon[c].x,h.polygon[c].y]);i[s].push(l),e[s].push(l)}else h.ellipse?((l=o(h,["name","type","ellipse","x","y","width","height","visible","rotation","properties"])).x+=n.x,l.y+=n.y,i[s].push(l),e[s].push(l)):((l=o(h,["name","type","x","y","width","height","visible","rotation","properties"])).x+=n.x,l.y+=n.y,l.rectangle=!0,i[s].push(l),e[s].push(l))}return{objectsCollection:e,collisionCollection:i}},parseTiledJSON:function(t){if("orthogonal"!==t.orientation)return console.warn("TilemapParser.parseTiledJSON - Only orthogonal map types are supported in this version of Phaser"),null;for(var e={width:t.width,height:t.height,tileWidth:t.tilewidth,tileHeight:t.tileheight,orientation:t.orientation,format:i.Tilemap.TILED_JSON,version:t.version,properties:t.properties,widthInPixels:t.width*t.tilewidth,heightInPixels:t.height*t.tileheight},s=[],n=0;n<t.layers.length;n++)if("tilelayer"===t.layers[n].type){var o=t.layers[n];if(!o.compression&&o.encoding&&"base64"===o.encoding){for(var r=window.atob(o.data),a=r.length,h=new Array(a),l=0;l<a;l+=4)h[l/4]=(r.charCodeAt(l)|r.charCodeAt(l+1)<<8|r.charCodeAt(l+2)<<16|r.charCodeAt(l+3)<<24)>>>0;o.data=h,delete o.encoding}else if(o.compression){console.warn("TilemapParser.parseTiledJSON - Layer compression is unsupported, skipping layer '"+o.name+"'");continue}D={name:o.name,x:o.x,y:o.y,width:o.width,height:o.height,widthInPixels:o.width*t.tilewidth,heightInPixels:o.height*t.tileheight,alpha:o.opacity,offsetX:o.offsetx,offsetY:o.offsety,visible:o.visible,properties:{},indexes:[],callbacks:[],bodies:[]};o.properties&&(D.properties=o.properties);for(var c,u,d,p=0,f=[],m=[],g=0,a=o.data.length;g<a;g++){if(c=0,u=!1,k=o.data[g],d=0,k>536870912)switch(k>2147483648&&(k-=2147483648,d+=4),k>1073741824&&(k-=1073741824,d+=2),k>536870912&&(k-=536870912,d+=1),d){case 5:c=Math.PI/2;break;case 6:c=Math.PI;break;case 3:c=3*Math.PI/2;break;case 4:c=0,u=!0;break;case 7:c=Math.PI/2,u=!0;break;case 2:c=Math.PI,u=!0;break;case 1:c=3*Math.PI/2,u=!0}k>0?((B=new i.Tile(D,k,p,m.length,t.tilewidth,t.tileheight)).rotation=c,B.flipped=u,0!==d&&(B.flippedVal=d),f.push(B)):i.TilemapParser.INSERT_NULL?f.push(null):f.push(new i.Tile(D,-1,p,m.length,t.tilewidth,t.tileheight)),++p===o.width&&(m.push(f),p=0,f=[])}D.data=m,s.push(D)}e.layers=s;for(var y=[],n=0;n<t.layers.length;n++)if("imagelayer"===t.layers[n].type){var v=t.layers[n],x={name:v.name,image:v.image,x:v.x,y:v.y,alpha:v.opacity,visible:v.visible,properties:{}};v.properties&&(x.properties=v.properties),y.push(x)}e.images=y;for(var b=[],_={},w=[],T=null,n=0;n<t.tilesets.length;n++){if((U=t.tilesets[n]).source)console.warn("Phaser.TilemapParser - Phaser can't load external tilesets (%s). Use the Embed Tileset button and then export the map again.",U.source);else if(U.image){var P=new i.Tileset(U.name,U.firstgid,U.tilewidth,U.tileheight,U.margin,U.spacing,U.properties);U.tileproperties&&(P.tileProperties=U.tileproperties),P.updateTileData(U.imagewidth,U.imageheight),b.push(P)}else{if(!U.tiles)throw new Error("Tileset "+U.name+" has no `image` or `tiles` property.");var C=new i.ImageCollection(U.name,U.firstgid,U.tilewidth,U.tileheight,U.margin,U.spacing,U.properties);for(var S in U.tiles){var x=U.tiles[S].image,k=U.firstgid+parseInt(S,10);C.addImage(k,x)}w.push(C)}for(var S in U.tiles)(O=U.tiles[S].objectgroup)&&(_[parseInt(S,10)+U.firstgid]=O);T&&(T.lastgid=U.firstgid-1),T=U}if(0===b.length&&0===w.length)throw new Error("This tilemap has no tilesets.");e.tilesets=b,e.imagecollections=w;for(var A={},M={},n=0;n<t.layers.length;n++)if("objectgroup"===t.layers[n].type){var O=t.layers[n];this.parseObjectGroup(O,A,M)}e.objects=A,e.collision=M,e.tiles=[];for(n=0;n<e.tilesets.length;n++)for(var p=(U=e.tilesets[n]).tileMargin,I=U.tileMargin,E=0,R=0,L=0,g=U.firstgid;g<U.firstgid+U.total&&(e.tiles[g]=[p,I,n],p+=U.tileWidth+U.tileSpacing,++E!==U.total)&&(++R!==U.columns||(p=U.tileMargin,I+=U.tileHeight+U.tileSpacing,R=0,++L!==U.rows));g++);for(var D,B,F,U,n=0;n<e.layers.length;n++){M[(D=e.layers[n]).name]=[],U=null;for(l=0;l<D.data.length;l++){f=D.data[l];for(var G=0;G<f.length;G++)null===(B=f[G])||B.index<0||(F=e.tiles[B.index][2],(U=e.tilesets[F]).tileProperties&&U.tileProperties[B.index-U.firstgid]&&(B.properties=i.Utils.mixin(U.tileProperties[B.index-U.firstgid],B.properties)),(O=_[B.index])&&this.parseObjectGroup(O,e.objects,e.collision,B.layer.name,{x:B.worldX+O.x,y:B.worldY+O.y}))}}return e}},i.Tileset=function(t,e,i,s,n,o,r){(void 0===i||i<=0)&&(i=32),(void 0===s||s<=0)&&(s=32),void 0===n&&(n=0),void 0===o&&(o=0),this.name=t,this.firstgid=0|e,this.tileWidth=0|i,this.tileHeight=0|s,this.tileMargin=0|n,this.tileSpacing=0|o,this.properties=r||{},this.image=null,this.rows=0,this.columns=0,this.total=0,this.drawCoords=[]},i.Tileset.prototype={draw:function(t,e,i,s){var n=s-this.firstgid<<1;n>=0&&n+1<this.drawCoords.length&&t.drawImage(this.image,this.drawCoords[n],this.drawCoords[n+1],this.tileWidth,this.tileHeight,e,i,this.tileWidth,this.tileHeight)},containsTileIndex:function(t){return t>=this.firstgid&&t<this.firstgid+this.total},setImage:function(t){this.image=t,this.updateTileData(t.width,t.height)},setSpacing:function(t,e){this.tileMargin=0|t,this.tileSpacing=0|e,this.image&&this.updateTileData(this.image.width,this.image.height)},updateTileData:function(t,e){var i=(e-2*this.tileMargin+this.tileSpacing)/(this.tileHeight+this.tileSpacing),s=(t-2*this.tileMargin+this.tileSpacing)/(this.tileWidth+this.tileSpacing);i%1==0&&s%1==0||console.warn("Phaser.Tileset - '%s' image tile area (%s x %s) is not a whole multiple of tile size (%s x %s + %s + %s)",this.name,t,e,this.tileWidth,this.tileHeight,this.tileMargin,this.tileSpacing),i=Math.floor(i),s=Math.floor(s),(this.rows&&this.rows!==i||this.columns&&this.columns!==s)&&console.warn("Phaser.Tileset - Tile layout from image '%s' (%s rows by %s columns) differs from tileset '%s' (%s rows by %s columns)",this.image.name,s,i,this.name,this.columns,this.rows),this.rows=i,this.columns=s,this.total=i*s,this.drawCoords.length=0;for(var n=this.tileMargin,o=this.tileMargin,r=0;r<this.rows;r++){for(var a=0;a<this.columns;a++)this.drawCoords.push(n),this.drawCoords.push(o),n+=this.tileWidth+this.tileSpacing;n=this.tileMargin,o+=this.tileHeight+this.tileSpacing}}},i.Tileset.prototype.constructor=i.Tileset,i.Particle=function(t,e,s,n,o){i.Sprite.call(this,t,e,s,n,o),this.autoScale=!1,this.scaleData=null,this._s=0,this.autoAlpha=!1,this.alphaData=null,this._a=0},i.Particle.prototype=Object.create(i.Sprite.prototype),i.Particle.prototype.constructor=i.Particle,i.Particle.prototype.update=function(){this.autoScale&&(--this._s?this.scale.set(this.scaleData[this._s].x,this.scaleData[this._s].y):this.autoScale=!1),this.autoAlpha&&(--this._a?this.alpha=this.alphaData[this._a].v:this.autoAlpha=!1)},i.Particle.prototype.onEmit=function(){},i.Particle.prototype.setAlphaData=function(t){this.alphaData=t,this._a=t.length-1,this.alpha=this.alphaData[this._a].v,this.autoAlpha=!0},i.Particle.prototype.setScaleData=function(t){this.scaleData=t,this._s=t.length-1,this.scale.set(this.scaleData[this._s].x,this.scaleData[this._s].y),this.autoScale=!0},i.Particle.prototype.reset=function(t,e,s){return i.Component.Reset.prototype.reset.call(this,t,e,s),this.alpha=1,this.scale.set(1),this.autoScale=!1,this.autoAlpha=!1,this},i.Particles=function(t){this.game=t,this.emitters={},this.ID=0},i.Particles.prototype={add:function(t){return this.emitters[t.id]=t,t},remove:function(t){delete this.emitters[t.id]},update:function(){for(var t in this.emitters)this.emitters[t].exists&&this.emitters[t].update()}},i.Particles.prototype.constructor=i.Particles,i.Particles.Arcade={},i.Particles.Arcade.Emitter=function(t,e,s,n){this.maxParticles=n||50,i.Group.call(this,t),this._id=this.game.particles.ID++,this.name="emitter"+this.id,this.type=i.EMITTER,this.physicsType=i.GROUP,this.area=new i.Rectangle(e,s,1,1),this.minAngle=null,this.maxAngle=null,this.minSpeed=0,this.maxSpeed=100,this.minParticleSpeed=new i.Point(-100,-100),this.maxParticleSpeed=new i.Point(100,100),this.minParticleScale=1,this.maxParticleScale=1,this.scaleData=null,this.minRotation=-360,this.maxRotation=360,this.minParticleAlpha=1,this.maxParticleAlpha=1,this.alphaData=null,this.particleClass=i.Particle,this.particleDrag=new i.Point,this.angularDrag=0,this.frequency=100,this.lifespan=2e3,this.bounce=new i.Point,this.on=!1,this.particleAnchor=new i.Point(.5,.5),this.blendMode=i.blendModes.NORMAL,this.emitX=e,this.emitY=s,this.autoScale=!1,this.autoAlpha=!1,this.particleBringToTop=!1,this.particleSendToBack=!1,this.counts={emitted:0,failed:0,totalEmitted:0,totalFailed:0},this._gravity=new i.Point(0,100),this._minParticleScale=new i.Point(1,1),this._maxParticleScale=new i.Point(1,1),this._total=0,this._timer=0,this._counter=0,this._flowQuantity=0,this._flowTotal=0,this._explode=!0,this._frames=null},i.Particles.Arcade.Emitter.prototype=Object.create(i.Group.prototype),i.Particles.Arcade.Emitter.prototype.constructor=i.Particles.Arcade.Emitter,i.Particles.Arcade.Emitter.prototype.update=function(){if(this.counts.emitted=0,this.counts.failed=0,this.on&&this.game.time.time>=this._timer)if(this._timer=this.game.time.time+this.frequency*this.game.time.slowMotion,0!==this._flowTotal)if(this._flowQuantity>0){for(t=0;t<this._flowQuantity;t++)if(this.emitParticle()&&(this._counter++,-1!==this._flowTotal&&this._counter>=this._flowTotal)){this.on=!1;break}}else this.emitParticle()&&(this._counter++,-1!==this._flowTotal&&this._counter>=this._flowTotal&&(this.on=!1));else this.emitParticle()&&(this._counter++,this._total>0&&this._counter>=this._total&&(this.on=!1));for(var t=this.children.length;t--;)this.children[t].exists&&this.children[t].update()},i.Particles.Arcade.Emitter.prototype.makeParticles=function(t,e,i,s,n,o){void 0===e&&(e=0),void 0===i&&(i=this.maxParticles),void 0===s&&(s=!1),void 0===n&&(n=!1),void 0===o&&(o=null);var r,a=0,h=t,l=e;for(this._frames=e,i>this.maxParticles&&(this.maxParticles=i);a<i;)Array.isArray(t)&&(h=this.game.rnd.pick(t)),Array.isArray(e)&&(l=this.game.rnd.pick(e)),r=new this.particleClass(this.game,0,0,h,l,o),this.game.physics.arcade.enable(r,!1),r.body.checkCollision.none=!s,r.body.collideWorldBounds=n,r.body.skipQuadTree=!0,r.exists=!1,r.visible=!1,r.anchor.copyFrom(this.particleAnchor),this.add(r),a++;return this},i.Particles.Arcade.Emitter.prototype.kill=function(){return this.on=!1,this.alive=!1,this.exists=!1,this},i.Particles.Arcade.Emitter.prototype.revive=function(){return this.alive=!0,this.exists=!0,this},i.Particles.Arcade.Emitter.prototype.explode=function(t,e){return void 0===e&&(e=this.maxParticles),this._flowTotal=0,this.start(!0,t,0,e,!1),this},i.Particles.Arcade.Emitter.prototype.flow=function(t,e,i,s,n){return void 0!==e&&null!==e||(e=250),void 0!==i&&0!==i||(i=1),void 0===s&&(s=-1),void 0===n&&(n=!0),i>this.maxParticles&&(i=this.maxParticles),this._counter=0,this._flowQuantity=i,this._flowTotal=s,n?(this.start(!0,t,e,i),this._counter+=i,this.on=!0,this._timer=this.game.time.time+e*this.game.time.slowMotion):this.start(!1,t,e,i),this},i.Particles.Arcade.Emitter.prototype.start=function(t,e,i,s,n){if(void 0===t&&(t=!0),void 0===e&&(e=0),void 0!==i&&null!==i||(i=250),void 0===s&&(s=0),void 0===n&&(n=!1),s>this.maxParticles&&(s=this.maxParticles),this.revive(),this.visible=!0,this.lifespan=e,this.frequency=i,t||n)for(var o=0;o<s;o++)this.emitParticle();else this.on=!0,this._total=s,this._counter=0,this._timer=this.game.time.time+i*this.game.time.slowMotion;return this},i.Particles.Arcade.Emitter.prototype.emitParticle=function(t,e,i,s){void 0===t&&(t=null),void 0===e&&(e=null);var n=this.getNextParticle();if(null===n)return this.counts.failed++,this.counts.totalFailed++,!1;this.counts.emitted++,this.counts.totalEmitted++;var o=this.game.rnd;void 0!==i&&void 0!==s?n.loadTexture(i,s):void 0!==i&&(n.loadTexture(i),n.frame=Array.isArray(this._frames)?o.pick(this._frames):this._frames);var r=this.emitX,a=this.emitY;return null!==t?r=t:this.width>1&&(r=o.between(this.left,this.right)),null!==e?a=e:this.height>1&&(a=o.between(this.top,this.bottom)),this.resetParticle(n,r,a),!0},i.Particles.Arcade.Emitter.prototype.getNextParticle=function(){for(var t=this.length;t--;){var e=this.next();if(!e.exists)return e}return null},i.Particles.Arcade.Emitter.prototype.resetParticle=function(t,e,i){var s=this.game.rnd;t.reset(e,i),t.angle=0,t.lifespan=this.lifespan,this.particleBringToTop?this.bringToTop(t):this.particleSendToBack&&this.sendToBack(t),this.autoScale?t.setScaleData(this.scaleData):1!==this.minParticleScale||1!==this.maxParticleScale?t.scale.set(s.realInRange(this.minParticleScale,this.maxParticleScale)):this._minParticleScale.x!==this._maxParticleScale.x||this._minParticleScale.y!==this._maxParticleScale.y?t.scale.set(s.realInRange(this._minParticleScale.x,this._maxParticleScale.x),s.realInRange(this._minParticleScale.y,this._maxParticleScale.y)):t.scale.set(this._minParticleScale.x,this._minParticleScale.y),this.autoAlpha?t.setAlphaData(this.alphaData):t.alpha=s.realInRange(this.minParticleAlpha,this.maxParticleAlpha),t.blendMode=this.blendMode;var n=t.body;n.updateBounds(),n.bounce.copyFrom(this.bounce),n.drag.copyFrom(this.particleDrag),null!=this.minAngle&&null!=this.maxAngle?this.game.physics.arcade.velocityFromAngle(this.minAngle===this.maxAngle?this.minAngle:s.between(this.minAngle,this.maxAngle),this.minSpeed===this.maxSpeed?this.minSpeed:s.between(this.minSpeed,this.maxSpeed),n.velocity):(n.velocity.x=s.between(this.minParticleSpeed.x,this.maxParticleSpeed.x),n.velocity.y=s.between(this.minParticleSpeed.y,this.maxParticleSpeed.y)),n.angularVelocity=s.between(this.minRotation,this.maxRotation),n.gravity.copyFrom(this.gravity),n.angularDrag=this.angularDrag,t.onEmit()},i.Particles.Arcade.Emitter.prototype.destroy=function(){this.game.particles.remove(this),i.Group.prototype.destroy.call(this,!0,!1)},i.Particles.Arcade.Emitter.prototype.setSize=function(t,e){return this.area.width=t,this.area.height=e,this},i.Particles.Arcade.Emitter.prototype.setXSpeed=function(t,e){return t=t||0,e=e||0,this.minParticleSpeed.x=t,this.maxParticleSpeed.x=e,this},i.Particles.Arcade.Emitter.prototype.setYSpeed=function(t,e){return t=t||0,e=e||0,this.minParticleSpeed.y=t,this.maxParticleSpeed.y=e,this},i.Particles.Arcade.Emitter.prototype.setRotation=function(t,e){return t=t||0,e=e||0,this.minRotation=t,this.maxRotation=e,this},i.Particles.Arcade.Emitter.prototype.setAlpha=function(t,e,s,n,o){if(void 0===t&&(t=1),void 0===e&&(e=1),void 0===s&&(s=0),void 0===n&&(n=i.Easing.Linear.None),void 0===o&&(o=!1),this.minParticleAlpha=t,this.maxParticleAlpha=e,this.autoAlpha=!1,s>0&&t!==e){var r={v:t},a=this.game.make.tween(r).to({v:e},s,n);a.yoyo(o),this.alphaData=a.generateData(60),this.alphaData.reverse(),this.autoAlpha=!0}return this},i.Particles.Arcade.Emitter.prototype.setScale=function(t,e,s,n,o,r,a){if(void 0===t&&(t=1),void 0===e&&(e=1),void 0===s&&(s=1),void 0===n&&(n=1),void 0===o&&(o=0),void 0===r&&(r=i.Easing.Linear.None),void 0===a&&(a=!1),this.minParticleScale=1,this.maxParticleScale=1,this._minParticleScale.set(t,s),this._maxParticleScale.set(e,n),this.autoScale=!1,o>0&&(t!==e||s!==n)){var h={x:t,y:s},l=this.game.make.tween(h).to({x:e,y:n},o,r);l.yoyo(a),this.scaleData=l.generateData(60),this.scaleData.reverse(),this.autoScale=!0}return this},i.Particles.Arcade.Emitter.prototype.setAngle=function(t,e,i,s){return this.minAngle=t,this.maxAngle=e,null!=i&&(this.minSpeed=i),null!=s&&(this.maxSpeed=s),this},i.Particles.Arcade.Emitter.prototype.at=function(t){return t.center?(this.emitX=t.center.x,this.emitY=t.center.y):(this.emitX=t.world.x+t.anchor.x*t.width,this.emitY=t.world.y+t.anchor.y*t.height),this},Object.defineProperty(i.Particles.Arcade.Emitter.prototype,"gravity",{get:function(){return this._gravity},set:function(t){"number"==typeof t?this._gravity.y=t:this._gravity=t}}),Object.defineProperty(i.Particles.Arcade.Emitter.prototype,"id",{get:function(){return this._id}}),Object.defineProperty(i.Particles.Arcade.Emitter.prototype,"width",{get:function(){return this.area.width},set:function(t){this.area.width=t}}),Object.defineProperty(i.Particles.Arcade.Emitter.prototype,"height",{get:function(){return this.area.height},set:function(t){this.area.height=t}}),Object.defineProperty(i.Particles.Arcade.Emitter.prototype,"x",{get:function(){return this.emitX},set:function(t){this.emitX=t}}),Object.defineProperty(i.Particles.Arcade.Emitter.prototype,"y",{get:function(){return this.emitY},set:function(t){this.emitY=t}}),Object.defineProperty(i.Particles.Arcade.Emitter.prototype,"left",{get:function(){return Math.floor(this.x-this.area.width/2)}}),Object.defineProperty(i.Particles.Arcade.Emitter.prototype,"right",{get:function(){return Math.floor(this.x+this.area.width/2)}}),Object.defineProperty(i.Particles.Arcade.Emitter.prototype,"top",{get:function(){return Math.floor(this.y-this.area.height/2)}}),Object.defineProperty(i.Particles.Arcade.Emitter.prototype,"bottom",{get:function(){return Math.floor(this.y+this.area.height/2)}}),Object.defineProperty(i.Particles.Arcade.Emitter.prototype,"output",{get:function(){return 1e3*this._flowQuantity/this.frequency}}),Object.defineProperty(i.Particles.Arcade.Emitter.prototype,"lifespanOutput",{get:function(){return(0===this.lifespan?1/0:this.lifespan)*this._flowQuantity/this.frequency}}),Object.defineProperty(i.Particles.Arcade.Emitter.prototype,"remainder",{get:function(){return this.maxParticles-this.lifespanOutput}}),i.Weapon=function(t,e){i.Plugin.call(this,t,e),this.bullets=null,this.autoExpandBulletsGroup=!1,this.autofire=!1,this.shots=0,this.fireLimit=0,this.fireRate=100,this.fireRateVariance=0,this.fireFrom=new i.Rectangle(0,0,1,1),this.fireAngle=i.ANGLE_UP,this.bulletInheritSpriteSpeed=!1,this.bulletAnimation="",this.bulletFrameRandom=!1,this.bulletFrameCycle=!1,this.bulletWorldWrap=!1,this.bulletWorldWrapPadding=0,this.bulletAngleOffset=0,this.bulletAngleVariance=0,this.bulletSpeed=200,this.bulletSpeedVariance=0,this.bulletLifespan=0,this.bulletKillDistance=0,this.bulletGravity=new i.Point(0,0),this.bulletRotateToVelocity=!1,this.bulletKey="",this.bulletFrame="",this._bulletClass=i.Bullet,this._bulletCollideWorldBounds=!1,this._bulletKillType=i.Weapon.KILL_WORLD_BOUNDS,this._data={customBody:!1,width:0,height:0,offsetX:0,offsetY:0},this.bounds=new i.Rectangle,this.bulletBounds=t.world.bounds,this.bulletFrames=[],this.bulletFrameIndex=0,this.anims={},this.onFire=new i.Signal,this.onKill=new i.Signal,this.onFireLimit=new i.Signal,this.trackedSprite=null,this.trackedPointer=null,this.multiFire=!1,this._hasFired=!1,this.trackRotation=!1,this.trackOffset=new i.Point,this._nextFire=0,this._tempNextFire=0,this._rotatedPoint=new i.Point},i.Weapon.prototype=Object.create(i.Plugin.prototype),i.Weapon.prototype.constructor=i.Weapon,i.Weapon.KILL_NEVER=0,i.Weapon.KILL_LIFESPAN=1,i.Weapon.KILL_DISTANCE=2,i.Weapon.KILL_WEAPON_BOUNDS=3,i.Weapon.KILL_CAMERA_BOUNDS=4,i.Weapon.KILL_WORLD_BOUNDS=5,i.Weapon.KILL_STATIC_BOUNDS=6,i.Weapon.prototype.createBullets=function(t,e,s,n){return void 0===t&&(t=1),void 0===n&&(n=this.game.world),this.bullets&&!this.bullets.game&&(this.bullets=null),this.bullets||(this.bullets=this.game.add.physicsGroup(i.Physics.ARCADE,n),this.bullets.classType=this._bulletClass),0!==t&&(-1===t&&(this.autoExpandBulletsGroup=!0,t=1),this.bullets.createMultiple(t,e,s),this.bullets.setAll("data.bulletManager",this),this.bulletKey=e,this.bulletFrame=s),this},i.Weapon.prototype.forEach=function(t,e){return this.bullets.forEachExists(t,e,arguments),this},i.Weapon.prototype.pauseAll=function(){return this.bullets.setAll("body.enable",!1),this},i.Weapon.prototype.resumeAll=function(){return this.bullets.setAll("body.enable",!0),this},i.Weapon.prototype.killAll=function(){return this.bullets.callAllExists("kill",!0),this.bullets.setAll("body.enable",!0),this},i.Weapon.prototype.resetShots=function(t){return this.shots=0,void 0!==t&&(this.fireLimit=t),this},i.Weapon.prototype.destroy=function(){this.parent.remove(this,!1),this.bullets.destroy(),this.game=null,this.parent=null,this.active=!1,this.visible=!1},i.Weapon.prototype.update=function(){this._bulletKillType===i.Weapon.KILL_WEAPON_BOUNDS&&(this.trackedSprite?(this.trackedSprite.updateTransform(),this.bounds.centerOn(this.trackedSprite.worldPosition.x,this.trackedSprite.worldPosition.y)):this.trackedPointer&&this.bounds.centerOn(this.trackedPointer.worldX,this.trackedPointer.worldY)),this.autofire&&this.fire()},i.Weapon.prototype.postRender=function(){this.multiFire&&this._hasFired&&(this._hasFired=!1,this._nextFire=this._tempNextFire)},i.Weapon.prototype.trackSprite=function(t,e,i,s){return void 0===e&&(e=0),void 0===i&&(i=0),void 0===s&&(s=!1),this.trackedPointer=null,this.trackedSprite=t,this.trackRotation=s,this.trackOffset.set(e,i),this},i.Weapon.prototype.trackPointer=function(t,e,i){return void 0===t&&(t=this.game.input.activePointer),void 0===e&&(e=0),void 0===i&&(i=0),this.trackedPointer=t,this.trackedSprite=null,this.trackRotation=!1,this.trackOffset.set(e,i),this},i.Weapon.prototype.fireMany=function(t,e){this.multiFire=!0;var i=[],s=this;return e||this.trackedSprite||this.trackedPointer?t.forEach(function(t){i.push(s.fire(e,null,null,t.x,t.y))}):t.forEach(function(t){i.push(s.fire(t))}),i},i.Weapon.prototype.fireOffset=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=0),this.fire(null,null,null,t,e)},i.Weapon.prototype.fire=function(t,e,s,n,o){if(void 0===e&&(e=null),void 0===s&&(s=null),this.game.time.now<this._nextFire||this.fireLimit>0&&this.shots===this.fireLimit)return null;var r=this.bulletSpeed;0!==this.bulletSpeedVariance&&(r+=i.Math.between(-this.bulletSpeedVariance,this.bulletSpeedVariance)),t?this.fireFrom.width>1?this.fireFrom.centerOn(t.x,t.y):(this.fireFrom.x=t.x,this.fireFrom.y=t.y):this.trackedSprite?(this.trackRotation?(this._rotatedPoint.set(this.trackedSprite.world.x+this.trackOffset.x,this.trackedSprite.world.y+this.trackOffset.y),this._rotatedPoint.rotate(this.trackedSprite.world.x,this.trackedSprite.world.y,this.trackedSprite.worldRotation),this.fireFrom.width>1?this.fireFrom.centerOn(this._rotatedPoint.x,this._rotatedPoint.y):(this.fireFrom.x=this._rotatedPoint.x,this.fireFrom.y=this._rotatedPoint.y)):this.fireFrom.width>1?this.fireFrom.centerOn(this.trackedSprite.world.x+this.trackOffset.x,this.trackedSprite.world.y+this.trackOffset.y):(this.fireFrom.x=this.trackedSprite.world.x+this.trackOffset.x,this.fireFrom.y=this.trackedSprite.world.y+this.trackOffset.y),this.bulletInheritSpriteSpeed&&(r+=this.trackedSprite.body.speed)):this.trackedPointer&&(this.fireFrom.width>1?this.fireFrom.centerOn(this.trackedPointer.world.x+this.trackOffset.x,this.trackedPointer.world.y+this.trackOffset.y):(this.fireFrom.x=this.trackedPointer.world.x+this.trackOffset.x,this.fireFrom.y=this.trackedPointer.world.y+this.trackOffset.y)),void 0!==n&&(this.fireFrom.x+=n),void 0!==o&&(this.fireFrom.y+=o);var a=this.fireFrom.width>1?this.fireFrom.randomX:this.fireFrom.x,h=this.fireFrom.height>1?this.fireFrom.randomY:this.fireFrom.y,l=this.trackRotation?this.trackedSprite.angle:this.fireAngle;null!==e&&null!==s&&(l=this.game.math.radToDeg(Math.atan2(s-h,e-a))),0!==this.bulletAngleVariance&&(l+=i.Math.between(-this.bulletAngleVariance,this.bulletAngleVariance));var c=0,u=0;0===l||180===l?c=Math.cos(this.game.math.degToRad(l))*r:90===l||270===l?u=Math.sin(this.game.math.degToRad(l))*r:(c=Math.cos(this.game.math.degToRad(l))*r,u=Math.sin(this.game.math.degToRad(l))*r);var d=null;if(this.autoExpandBulletsGroup?(d=this.bullets.getFirstExists(!1,!0,a,h,this.bulletKey,this.bulletFrame)).data.bulletManager=this:d=this.bullets.getFirstExists(!1),d){if(d.reset(a,h),d.data.fromX=a,d.data.fromY=h,d.data.killType=this.bulletKillType,d.data.killDistance=this.bulletKillDistance,d.data.rotateToVelocity=this.bulletRotateToVelocity,this.bulletKillType===i.Weapon.KILL_LIFESPAN&&(d.lifespan=this.bulletLifespan),d.angle=l+this.bulletAngleOffset,""!==this.bulletAnimation){if(null===d.animations.getAnimation(this.bulletAnimation)){var p=this.anims[this.bulletAnimation];d.animations.add(p.name,p.frames,p.frameRate,p.loop,p.useNumericIndex)}d.animations.play(this.bulletAnimation)}else this.bulletFrameCycle?(d.frame=this.bulletFrames[this.bulletFrameIndex],++this.bulletFrameIndex>=this.bulletFrames.length&&(this.bulletFrameIndex=0)):this.bulletFrameRandom&&(d.frame=this.bulletFrames[Math.floor(Math.random()*this.bulletFrames.length)]);d.data.bodyDirty&&(this._data.customBody&&d.body.setSize(this._data.width,this._data.height,this._data.offsetX,this._data.offsetY),d.body.collideWorldBounds=this.bulletCollideWorldBounds,d.data.bodyDirty=!1),d.body.velocity.set(c,u),d.body.gravity.set(this.bulletGravity.x,this.bulletGravity.y);var f=0;if(0!==this.bulletSpeedVariance){var m=this.fireRate;(m+=i.Math.between(-this.fireRateVariance,this.fireRateVariance))<0&&(m=0),f=this.game.time.now+m}else f=this.game.time.now+this.fireRate;this.multiFire?this._hasFired||(this._hasFired=!0,this._tempNextFire=f,this.shots++):(this._nextFire=f,this.shots++),this.onFire.dispatch(d,this,r),this.fireLimit>0&&this.shots===this.fireLimit&&this.onFireLimit.dispatch(this,this.fireLimit)}return d},i.Weapon.prototype.fireAtPointer=function(t){return void 0===t&&(t=this.game.input.activePointer),this.fire(null,t.worldX,t.worldY)},i.Weapon.prototype.fireAtSprite=function(t){return this.fire(null,t.world.x,t.world.y)},i.Weapon.prototype.fireAtXY=function(t,e){return this.fire(null,t,e)},i.Weapon.prototype.setBulletBodyOffset=function(t,e,i,s){return void 0===i&&(i=0),void 0===s&&(s=0),this._data.customBody=!0,this._data.width=t,this._data.height=e,this._data.offsetX=i,this._data.offsetY=s,this.bullets.callAll("body.setSize","body",t,e,i,s),this.bullets.setAll("data.bodyDirty",!1),this},i.Weapon.prototype.setBulletFrames=function(t,e,s,n){return void 0===s&&(s=!0),void 0===n&&(n=!1),this.bulletFrames=i.ArrayUtils.numberArray(t,e),this.bulletFrameIndex=0,this.bulletFrameCycle=s,this.bulletFrameRandom=n,this},i.Weapon.prototype.addBulletAnimation=function(t,e,i,s,n){return this.anims[t]={name:t,frames:e,frameRate:i,loop:s,useNumericIndex:n},this.bullets.callAll("animations.add","animations",t,e,i,s,n),this.bulletAnimation=t,this},i.Weapon.prototype.debug=function(t,e,i){void 0===t&&(t=16),void 0===e&&(e=32),void 0===i&&(i=!1),this.game.debug.text("Weapon Plugin",t,e),this.game.debug.text("Bullets Alive: "+this.bullets.total+" - Total: "+this.bullets.length,t,e+24),i&&this.bullets.forEachExists(this.game.debug.body,this.game.debug,"rgba(255, 0, 255, 0.8)")},Object.defineProperty(i.Weapon.prototype,"bulletClass",{get:function(){return this._bulletClass},set:function(t){this._bulletClass=t,this.bullets&&(this.bullets.classType=this._bulletClass)}}),Object.defineProperty(i.Weapon.prototype,"bulletKillType",{get:function(){return this._bulletKillType},set:function(t){switch(t){case i.Weapon.KILL_STATIC_BOUNDS:case i.Weapon.KILL_WEAPON_BOUNDS:this.bulletBounds=this.bounds;break;case i.Weapon.KILL_CAMERA_BOUNDS:this.bulletBounds=this.game.camera.view;break;case i.Weapon.KILL_WORLD_BOUNDS:this.bulletBounds=this.game.world.bounds}this._bulletKillType=t}}),Object.defineProperty(i.Weapon.prototype,"bulletCollideWorldBounds",{get:function(){return this._bulletCollideWorldBounds},set:function(t){this._bulletCollideWorldBounds=t,this.bullets.setAll("body.collideWorldBounds",t),this.bullets.setAll("data.bodyDirty",!1)}}),Object.defineProperty(i.Weapon.prototype,"x",{get:function(){return this.fireFrom.x},set:function(t){this.fireFrom.x=t}}),Object.defineProperty(i.Weapon.prototype,"y",{get:function(){return this.fireFrom.y},set:function(t){this.fireFrom.y=t}}),i.Bullet=function(t,e,s,n,o){i.Sprite.call(this,t,e,s,n,o),this.anchor.set(.5),this.data={bulletManager:null,fromX:0,fromY:0,bodyDirty:!0,rotateToVelocity:!1,killType:0,killDistance:0}},i.Bullet.prototype=Object.create(i.Sprite.prototype),i.Bullet.prototype.constructor=i.Bullet,i.Bullet.prototype.kill=function(){return this.alive=!1,this.exists=!1,this.visible=!1,this.data.bulletManager.onKill.dispatch(this),this},i.Bullet.prototype.update=function(){this.exists&&(this.data.killType>i.Weapon.KILL_LIFESPAN&&(this.data.killType===i.Weapon.KILL_DISTANCE?this.game.physics.arcade.distanceToXY(this,this.data.fromX,this.data.fromY,!0)>this.data.killDistance&&this.kill():this.data.bulletManager.bulletBounds.intersects(this)||this.kill()),this.data.rotateToVelocity&&(this.rotation=this.body.velocity.atan()),this.data.bulletManager.bulletWorldWrap&&this.game.world.wrap(this,this.data.bulletManager.bulletWorldWrapPadding))},i.Video=function(t,e,s){if(void 0===e&&(e=null),void 0===s&&(s=null),this.game=t,this.key=e,this.width=0,this.height=0,this.type=i.VIDEO,this.disableTextureUpload=!1,this.touchLocked=!1,this.onPlay=new i.Signal,this.onChangeSource=new i.Signal,this.onComplete=new i.Signal,this.onAccess=new i.Signal,this.onError=new i.Signal,this.onTimeout=new i.Signal,this.timeout=15e3,this._timeOutID=null,this.video=null,this.videoStream=null,this.isStreaming=!1,this.retryLimit=20,this.retry=0,this.retryInterval=500,this._retryID=null,this._codeMuted=!1,this._muted=!1,this._codePaused=!1,this._paused=!1,this._pending=!1,this._pendingChangeSource=!1,this._autoplay=!1,this._endCallback=null,this._playCallback=null,e&&this.game.cache.checkVideoKey(e)){var n=this.game.cache.getVideo(e);n.isBlob?this.createVideoFromBlob(n.data):this.video=n.data,this.width=this.video.videoWidth,this.height=this.video.videoHeight}else s&&this.createVideoFromURL(s,!1);this.video&&!s?(this.baseTexture=new PIXI.BaseTexture(this.video,null,this.game.resolution),this.baseTexture.forceLoaded(this.width,this.height)):(this.baseTexture=new PIXI.BaseTexture(i.Cache.DEFAULT.baseTexture.source,null,this.game.resolution),this.baseTexture.forceLoaded(this.width,this.height)),this.texture=new PIXI.Texture(this.baseTexture),this.textureFrame=new i.Frame(0,0,0,this.width,this.height,"video"),this.texture.setFrame(this.textureFrame),this.texture.valid=!1,null!==e&&this.video&&(this.texture.valid=this.video.canplay),this.snapshot=null,i.BitmapData&&(this.snapshot=new i.BitmapData(this.game,"",this.width,this.height)),this.game.device.needsTouchUnlock()?this.setTouchLock():n&&(n.locked=!1)},i.Video.prototype={connectToMediaStream:function(t,e){return t&&e&&(this.video=t,this.videoStream=e,this.isStreaming=!0,this.baseTexture.source=this.video,this.updateTexture(null,this.video.videoWidth,this.video.videoHeight),this.onAccess.dispatch(this)),this},startMediaStream:function(t,e,i){if(void 0===t&&(t=!1),void 0===e&&(e=null),void 0===i&&(i=null),!this.game.device.getUserMedia)return this.onError.dispatch(this,"No getUserMedia"),!1;null!==this.videoStream&&(this.videoStream.active?this.videoStream.active=!1:this.videoStream.stop()),this.removeVideoElement(),this.video=document.createElement("video"),this.video.setAttribute("autoplay","autoplay"),null!==e&&(this.video.width=e),null!==i&&(this.video.height=i),this._timeOutID=window.setTimeout(this.getUserMediaTimeout.bind(this),this.timeout);try{navigator.getUserMedia({audio:t,video:!0},this.getUserMediaSuccess.bind(this),this.getUserMediaError.bind(this))}catch(t){this.getUserMediaError(t)}return this},getUserMediaTimeout:function(){clearTimeout(this._timeOutID),this.onTimeout.dispatch(this)},getUserMediaError:function(t){clearTimeout(this._timeOutID),this.onError.dispatch(this,t)},getUserMediaSuccess:function(t){clearTimeout(this._timeOutID),this.videoStream=t,void 0!==this.video.mozSrcObject?this.video.mozSrcObject=t:this.video.src=window.URL&&window.URL.createObjectURL(t)||t;var e=this;this.video.onloadeddata=function(){function t(){if(i>0)if(e.video.videoWidth>0){var s=e.video.videoWidth,n=e.video.videoHeight;isNaN(e.video.videoHeight)&&(n=s/(4/3)),e.video.play(),e.isStreaming=!0,e.baseTexture.source=e.video,e.updateTexture(null,s,n),e.onAccess.dispatch(e)}else window.setTimeout(t,500);else console.warn("Unable to connect to video stream. Webcam error?");i--}var i=10;t()}},createVideoFromBlob:function(t){var e=this;return this.video=document.createElement("video"),this.video.controls=!1,this.video.setAttribute("autoplay","autoplay"),this.video.addEventListener("loadeddata",function(t){e.updateTexture(t)},!0),this.video.src=window.URL.createObjectURL(t),this.video.canplay=!0,this},createVideoFromURL:function(t,e){return void 0===e&&(e=!1),this.texture&&(this.texture.valid=!1),this.video=document.createElement("video"),this.video.controls=!1,e&&this.video.setAttribute("autoplay","autoplay"),this.video.src=t,this.video.canplay=!0,this.video.load(),this.retry=this.retryLimit,this._retryID=window.setTimeout(this.checkVideoProgress.bind(this),this.retryInterval),this.key=t,this},updateTexture:function(t,e,i){var s=!1;void 0!==e&&null!==e||(e=this.video.videoWidth,s=!0),void 0!==i&&null!==i||(i=this.video.videoHeight),this.width=e,this.height=i,this.baseTexture.source!==this.video&&(this.baseTexture.source=this.video),this.baseTexture.forceLoaded(e,i),this.texture.frame.resize(e,i),this.texture.width=e,this.texture.height=i,this.texture.valid=!0,this.snapshot&&this.snapshot.resize(e,i),s&&null!==this.key&&(this.onChangeSource.dispatch(this,e,i),this._autoplay&&(this.video.play(),this.onPlay.dispatch(this,this.loop,this.playbackRate)))},complete:function(){this.onComplete.dispatch(this)},play:function(t,e){return this._pendingChangeSource?this:(void 0===t&&(t=!1),void 0===e&&(e=1),this.game.sound.onMute&&(this.game.sound.onMute.add(this.setMute,this),this.game.sound.onUnMute.add(this.unsetMute,this),this.game.sound.mute&&this.setMute()),this.game.onPause.add(this.setPause,this),this.game.onResume.add(this.setResume,this),this._endCallback=this.complete.bind(this),this.video.addEventListener("ended",this._endCallback,!0),this.video.addEventListener("webkitendfullscreen",this._endCallback,!0),this.video.loop=t?"loop":"",this.video.playbackRate=e,this.touchLocked?this._pending=!0:(this._pending=!1,null!==this.key&&(4!==this.video.readyState?(this.retry=this.retryLimit,this._retryID=window.setTimeout(this.checkVideoProgress.bind(this),this.retryInterval)):(this._playCallback=this.playHandler.bind(this),this.video.addEventListener("playing",this._playCallback,!0))),this.video.play(),this.onPlay.dispatch(this,t,e)),this)},playHandler:function(){this.video.removeEventListener("playing",this._playCallback,!0),this.updateTexture()},stop:function(){return this.game.sound.onMute&&(this.game.sound.onMute.remove(this.setMute,this),this.game.sound.onUnMute.remove(this.unsetMute,this)),this.game.onPause.remove(this.setPause,this),this.game.onResume.remove(this.setResume,this),this.isStreaming?(this.video.mozSrcObject?(this.video.mozSrcObject.stop(),this.video.src=null):(this.video.src="",this.videoStream.active?this.videoStream.active=!1:this.videoStream.getTracks?this.videoStream.getTracks().forEach(function(t){t.stop()}):this.videoStream.stop()),this.videoStream=null,this.isStreaming=!1):(this.video.removeEventListener("ended",this._endCallback,!0),this.video.removeEventListener("webkitendfullscreen",this._endCallback,!0),this.video.removeEventListener("playing",this._playCallback,!0),this.touchLocked?this._pending=!1:this.video.pause()),this},add:function(t){if(Array.isArray(t))for(var e=0;e<t.length;e++)t[e].loadTexture&&t[e].loadTexture(this);else t.loadTexture(this);return this},addToWorld:function(t,e,i,s,n,o){n=n||1,o=o||1;var r=this.game.add.image(t,e,this);return r.anchor.set(i,s),r.scale.set(n,o),r},render:function(){!this.disableTextureUpload&&this.playing&&this.baseTexture.dirty()},setMute:function(){this._muted||(this._muted=!0,this.video.muted=!0)},unsetMute:function(){this._muted&&!this._codeMuted&&(this._muted=!1,this.video.muted=!1)},setPause:function(){this._paused||this.touchLocked||(this._paused=!0,this.video.pause())},setResume:function(){!this._paused||this._codePaused||this.touchLocked||(this._paused=!1,this.video.ended||this.video.play())},changeSource:function(t,e){return void 0===e&&(e=!0),this.texture.valid=!1,this.video.pause(),this._pendingChangeSource=!0,this.retry=this.retryLimit,this._retryID=window.setTimeout(this.checkVideoProgress.bind(this),this.retryInterval),this.video.src=t,this.video.load(),this._autoplay=e,e||(this.paused=!0),this},checkVideoProgress:function(){4===this.video.readyState?(this._pendingChangeSource=!1,this.updateTexture()):--this.retry>0?this._retryID=window.setTimeout(this.checkVideoProgress.bind(this),this.retryInterval):console.warn("Phaser.Video: Unable to start downloading video in time",this.isStreaming)},setTouchLock:function(){this.game.input.addTouchLockCallback(this.unlock,this,!0),this.touchLocked=!0},unlock:function(){if(this.touchLocked=!1,this.video.play(),this.onPlay.dispatch(this,this.loop,this.playbackRate),this.key){var t=this.game.cache.getVideo(this.key);t&&!t.isBlob&&(t.locked=!1)}return!0},grab:function(t,e,i){if(void 0===t&&(t=!1),void 0===e&&(e=1),void 0===i&&(i=null),null!==this.snapshot)return t&&this.snapshot.cls(),this.snapshot.copy(this.video,0,0,this.width,this.height,0,0,this.width,this.height,0,0,0,1,1,e,i),this.snapshot;console.warn("Video.grab cannot run because Phaser.BitmapData is unavailable")},removeVideoElement:function(){if(this.video){for(this.video.parentNode&&this.video.parentNode.removeChild(this.video);this.video.hasChildNodes();)this.video.removeChild(this.video.firstChild);this.video.removeAttribute("autoplay"),this.video.removeAttribute("src"),this.video=null}},destroy:function(){this.stop(),this.removeVideoElement(),this.touchLocked&&this.game.input.touch.removeTouchLockCallback(this.unlock,this),this._retryID&&window.clearTimeout(this._retryID)}},Object.defineProperty(i.Video.prototype,"currentTime",{get:function(){return this.video?this.video.currentTime:0},set:function(t){this.video.currentTime=t}}),Object.defineProperty(i.Video.prototype,"duration",{get:function(){return this.video?this.video.duration:0}}),Object.defineProperty(i.Video.prototype,"progress",{get:function(){return this.video?this.video.currentTime/this.video.duration:0}}),Object.defineProperty(i.Video.prototype,"mute",{get:function(){return this._muted},set:function(t){if(t=t||null){if(this._muted)return;this._codeMuted=!0,this.setMute()}else{if(!this._muted)return;this._codeMuted=!1,this.unsetMute()}}}),Object.defineProperty(i.Video.prototype,"paused",{get:function(){return this._paused},set:function(t){if(t=t||null,!this.touchLocked)if(t){if(this._paused)return;this._codePaused=!0,this.setPause()}else{if(!this._paused)return;this._codePaused=!1,this.setResume()}}}),Object.defineProperty(i.Video.prototype,"volume",{get:function(){return this.video?this.video.volume:1},set:function(t){t<0?t=0:t>1&&(t=1),this.video&&(this.video.volume=t)}}),Object.defineProperty(i.Video.prototype,"playbackRate",{get:function(){return this.video?this.video.playbackRate:1},set:function(t){this.video&&(this.video.playbackRate=t)}}),Object.defineProperty(i.Video.prototype,"loop",{get:function(){return!!this.video&&this.video.loop},set:function(t){t&&this.video?this.video.loop="loop":this.video&&(this.video.loop="")}}),Object.defineProperty(i.Video.prototype,"playing",{get:function(){return!!this.video&&!(this.video.paused&&this.video.ended)}}),i.Video.prototype.constructor=i.Video,void 0===PIXI.blendModes&&(PIXI.blendModes=i.blendModes),void 0===PIXI.scaleModes&&(PIXI.scaleModes=i.scaleModes),void 0===PIXI.Texture.emptyTexture&&(PIXI.Texture.emptyTexture=new PIXI.Texture(new PIXI.BaseTexture)),void 0===PIXI.DisplayObject._tempMatrix&&(PIXI.DisplayObject._tempMatrix=new i.Matrix),PIXI.TextureSilentFail=!0,PIXI.canUseNewCanvasBlendModes=function(){return i.Device.canUseMultiply}, true?("undefined"!=typeof module&&module.exports&&(exports=module.exports=i),exports.Phaser=i):"undefined"!=typeof define&&define.amd?define("Phaser",e.Phaser=i):e.Phaser=i,i}).call(this);
//# sourceMappingURL=phaser-split.map
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(12)))

/***/ }),
/* 12 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


// shim for using process in browser
var process = module.exports = {};

// cached from whatever global is present so that test runners that stub it
// don't break things.  But we need to wrap it in a try catch in case it is
// wrapped in strict mode code which doesn't define any globals.  It's inside a
// function because try/catches deoptimize in certain engines.

var cachedSetTimeout;
var cachedClearTimeout;

function defaultSetTimout() {
    throw new Error('setTimeout has not been defined');
}
function defaultClearTimeout() {
    throw new Error('clearTimeout has not been defined');
}
(function () {
    try {
        if (typeof setTimeout === 'function') {
            cachedSetTimeout = setTimeout;
        } else {
            cachedSetTimeout = defaultSetTimout;
        }
    } catch (e) {
        cachedSetTimeout = defaultSetTimout;
    }
    try {
        if (typeof clearTimeout === 'function') {
            cachedClearTimeout = clearTimeout;
        } else {
            cachedClearTimeout = defaultClearTimeout;
        }
    } catch (e) {
        cachedClearTimeout = defaultClearTimeout;
    }
})();
function runTimeout(fun) {
    if (cachedSetTimeout === setTimeout) {
        //normal enviroments in sane situations
        return setTimeout(fun, 0);
    }
    // if setTimeout wasn't available but was latter defined
    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {
        cachedSetTimeout = setTimeout;
        return setTimeout(fun, 0);
    }
    try {
        // when when somebody has screwed with setTimeout but no I.E. maddness
        return cachedSetTimeout(fun, 0);
    } catch (e) {
        try {
            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally
            return cachedSetTimeout.call(null, fun, 0);
        } catch (e) {
            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error
            return cachedSetTimeout.call(this, fun, 0);
        }
    }
}
function runClearTimeout(marker) {
    if (cachedClearTimeout === clearTimeout) {
        //normal enviroments in sane situations
        return clearTimeout(marker);
    }
    // if clearTimeout wasn't available but was latter defined
    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {
        cachedClearTimeout = clearTimeout;
        return clearTimeout(marker);
    }
    try {
        // when when somebody has screwed with setTimeout but no I.E. maddness
        return cachedClearTimeout(marker);
    } catch (e) {
        try {
            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally
            return cachedClearTimeout.call(null, marker);
        } catch (e) {
            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.
            // Some versions of I.E. have different rules for clearTimeout vs setTimeout
            return cachedClearTimeout.call(this, marker);
        }
    }
}
var queue = [];
var draining = false;
var currentQueue;
var queueIndex = -1;

function cleanUpNextTick() {
    if (!draining || !currentQueue) {
        return;
    }
    draining = false;
    if (currentQueue.length) {
        queue = currentQueue.concat(queue);
    } else {
        queueIndex = -1;
    }
    if (queue.length) {
        drainQueue();
    }
}

function drainQueue() {
    if (draining) {
        return;
    }
    var timeout = runTimeout(cleanUpNextTick);
    draining = true;

    var len = queue.length;
    while (len) {
        currentQueue = queue;
        queue = [];
        while (++queueIndex < len) {
            if (currentQueue) {
                currentQueue[queueIndex].run();
            }
        }
        queueIndex = -1;
        len = queue.length;
    }
    currentQueue = null;
    draining = false;
    runClearTimeout(timeout);
}

process.nextTick = function (fun) {
    var args = new Array(arguments.length - 1);
    if (arguments.length > 1) {
        for (var i = 1; i < arguments.length; i++) {
            args[i - 1] = arguments[i];
        }
    }
    queue.push(new Item(fun, args));
    if (queue.length === 1 && !draining) {
        runTimeout(drainQueue);
    }
};

// v8 likes predictible objects
function Item(fun, array) {
    this.fun = fun;
    this.array = array;
}
Item.prototype.run = function () {
    this.fun.apply(null, this.array);
};
process.title = 'browser';
process.browser = true;
process.env = {};
process.argv = [];
process.version = ''; // empty string to avoid regexp issues
process.versions = {};

function noop() {}

process.on = noop;
process.addListener = noop;
process.once = noop;
process.off = noop;
process.removeListener = noop;
process.removeAllListeners = noop;
process.emit = noop;
process.prependListener = noop;
process.prependOnceListener = noop;

process.listeners = function (name) {
    return [];
};

process.binding = function (name) {
    throw new Error('process.binding is not supported');
};

process.cwd = function () {
    return '/';
};
process.chdir = function (dir) {
    throw new Error('process.chdir is not supported');
};
process.umask = function () {
    return 0;
};

/***/ }),
/* 13 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

__webpack_require__(2);

__webpack_require__(4);

__webpack_require__(5);

var _view = __webpack_require__(6);

var _schlange = __webpack_require__(0);

var _einzelobjekt = __webpack_require__(1);

var _gegner = __webpack_require__(7);

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

/**
* Controller
* Steuert die Objekte
*/
var Controller = function () {

  /**
  * Constructor
  * @param game : Phaser.Game-Objekt
  * @param view : View-Objekt
  * @param canvasWidth : Canvas-Breite
  * @param canvasHeight : Canvas-Höhe
  */
  function Controller(game, view, canvasWidth, canvasHeight) {
    _classCallCheck(this, Controller);

    /** 
    * Phaser.Game Objekt 
    * Wird benötigt um auf jegliche Funktionen des Frameworks zuzugreifen.
    */
    this.game = game;

    /**
    * View-Objekt
    */
    this.view = view;

    /**
    * Größe eines Einzelobjektes
    */
    this.objektGroesse = 60; // increment um 60

    /** Spielstand */
    this.score = 0;

    /*+ Spieldauer in Sekunden*/
    this.seconds = 0;

    /**
    * Canvas Höhe und Breite
    */
    this.canvasWidth = canvasWidth / this.objektGroesse;
    this.canvasHeight = canvasHeight / this.objektGroesse;

    /**
    * Richtung
    */
    this.richtungen = Object.freeze({ up: 0, down: 1, right: 2, left: 3 }); // freeze: verhindert das Hinzufügen von neuen Eigenschaften zum Objekt

    /**
    * Laufrichtung der Schlange
    */
    this.laufrichtung;

    /**
    * SchlangenObjekt */
    var Schlange = __webpack_require__(0).default;
    this.schlange = new Schlange();
    //this.schlange.initSchlange();

    /**
    Objektebehälter Array für Gegner */
    var Gegner = __webpack_require__(7).default;
    this.gegner = new Gegner(this.canvasWidth, this.canvasHeight, 'stein');

    /**
    * Objektebehälter für Upgrades */
    //this.boons = new Gegner(this.canvasWidth, this.canvasHeight, '');

    /**
    * Objektebehälter Pickup */
    this.pickup = new Gegner(this.canvasWidth, this.canvasHeight, 'item');

    /**
    * x- und y-Koordinate
    */
    //this.x = this.view.startX + (2 * this.objektGroesse);
    //this.y = this.view.startY;

    /**
    * Speichert eine Zahl je nach derzeitiger Laufrichtung
    */
    //this.changeId;
  } //Ende constructor


  //// TIMER ////
  /*calculateSeconds(){
      this.seconds++;
      window.setTimeout("calculateSeconds()", 100);
      console.log(this.seconds);
  }*/

  _createClass(Controller, [{
    key: 'updateSeconds',
    value: function updateSeconds() {
      var element = document.getElementById("time");
      this.seconds += 1;
    }
  }, {
    key: 'updatePoints',
    value: function updatePoints() {
      //Schlange auslesen
      var element = document.getElementById("points");
      var schlangeninfo = this.schlange.getInfo();
      if (schlangeninfo.length - 1 <= 3) {
        this.score += 3;
      } else {
        this.score += 1;
      }
    }
  }, {
    key: 'calculateSeconds',
    value: function calculateSeconds() {
      setInterval("updateSeconds()", 100);
      setInterval("updateScore()", 100);
    }

    //// BEWEGUNG DER SCHLANGE ////

    /** Getter für die Cursor Keys */

  }, {
    key: 'getCursor',
    value: function getCursor() {
      return this.game.input.keyboard.createCursorKeys();
    }

    /** Ändert die Laufrichtung */

  }, {
    key: 'updateLaufrichtung',
    value: function updateLaufrichtung() {

      if (this.getCursor().right.isDown && this.laufrichtung != this.richtungen.left) {

        this.laufrichtung = this.richtungen.right; // richtung rechts
      }
      if (this.getCursor().left.isDown && this.laufrichtung != this.richtungen.right) {

        this.laufrichtung = this.richtungen.left; // richtung links
      }
      if (this.getCursor().up.isDown && this.laufrichtung != this.richtungen.down) {

        this.laufrichtung = this.richtungen.up; // richtung oben
      }
      if (this.getCursor().down.isDown && this.laufrichtung != this.richtungen.up) {

        this.laufrichtung = this.richtungen.down; // richtung unten
      }
    }

    /** 
    * Aus der derzeitigen Position werden neue Koordinaten berechnet (von 1 Schritt weiter)
    * und an der neu berechneten Position ein neuer Kopf erzeugt.
    */

  }, {
    key: 'bewegeSchlange',
    value: function bewegeSchlange() {

      //Hol informationen des Kopfes
      var kopf = this.schlange.getInfo()[0];

      /** Berechnung der neuen Koordinaten */
      if (this.laufrichtung == this.richtungen.right) {
        // wenn richtung rechts ist

        this.schlange.move(kopf.positionX + 1, kopf.positionY);
      } else if (this.laufrichtung == this.richtungen.left) {
        // wenn richtung links ist

        this.schlange.move(kopf.positionX - 1, kopf.positionY);
      } else if (this.laufrichtung == this.richtungen.up) {
        // wenn richtung oben ist

        this.schlange.move(kopf.positionX, kopf.positionY - 1);
      } else if (this.laufrichtung == this.richtungen.down) {
        // wenn richtung unten ist

        this.schlange.move(kopf.positionX, kopf.positionY + 1);
      }

      /**
      * Schlange läuft gegen den Rand des Canvas und kommt 
      * an der anderen Seite wieder raus.
      * Brauchen wir nicht wenn wir eine Wand machen, 
      * dann wird eine Kollision stattdessen implementiert.
      */
      if (kopf.positionX <= 0 - 1) {
        // wenn x position kleiner/gleich 0 - spielerbreite ist

        kopf.positionX = this.canvasWidth - 1; // position x = canvas-breite - spielerbreite
      } else if (kopf.positionX >= this.canvasWidth) {
        // wenn position x größer als canvas-breite

        kopf.positionX = 0;
      } else if (kopf.positionY <= 0 - 1) {
        // wenn position y kleiner/gleich 0 - spielerhöhe ist

        kopf.positionY = this.canvasHeight - 1; // position y = canvas höhe - spielerhöhe
      } else if (kopf.positionY >= this.canvasHeight) {
        // wenn position y größer als canvas-höhe ist

        kopf.positionY = 0; // y = 0
      }
    }

    //// KOLLISIONEN ////

    /** Befehl für das Spawnen eines Gegenstandes (Gegner)
    @param Anzahl*/

  }, {
    key: 'erhoeheGegnerzahl',
    value: function erhoeheGegnerzahl() {
      var pickupkol = this.pickup.getInfo();
      pickupkol = pickupkol[0];
      this.gegner.add(pickupkol);
    }

    /** Setzt bei Pickup alle Objekte die neu verteilt werden sollen auf neue Positionen*/

  }, {
    key: 'respawnAll',
    value: function respawnAll() {
      var kopf = this.schlange.getInfo();
      kopf = kopf[0];
      this.pickup.respawn(kopf);
      var pickupkol = this.pickup.getInfo();
      pickupkol = pickupkol[0];
      this.gegner.respawn(pickupkol);
    }

    /** Kollisionsabfragen mit dem Kopf der Schlange
    *@ return gibt typen der Kollision als String wieder
    	: pickup, feind(sowie verfolger als auch stein), boon(upgrade)
    	falls eine Kollision stattfindet
    	: frei
    	falls keine Kollision stattfindet*/

  }, {
    key: 'kollision',
    value: function kollision() {
      //schlangeninfo holen
      var schlangeninfo = this.schlange.getInfo();
      //durch Schlange iterieren
      for (var i = 2; i < schlangeninfo.length; i++) {
        //Kopf mit KörperteilPosition testen, hierbei muss erst beim 3. angefangen werden
        if (schlangeninfo[0].getPositionX() == schlangeninfo[i].getPositionX()) {
          //falls X wert Stimmt Y wert überprüfen
          if (schlangeninfo[0].getPositionY() == schlangeninfo[i].getPositionY()) {
            console.log('KörperteilKollision An Körperteil: ' + i);
            return 'feind';
          }
        }
      }

      //durch Gegner Iterieren
      var gegnerinfo = this.gegner.getInfo();
      for (var i = 0; i < gegnerinfo.length; i++) {
        //Kopf mit Gegnern
        if (schlangeninfo[0].getPositionX() == gegnerinfo[i].getPositionX()) {
          //falls X wert Stimmt Y wert überprüfen
          if (schlangeninfo[0].getPositionY() == gegnerinfo[i].getPositionY()) {
            console.log('Gegnerkollision an Gegner: ' + i);
            return 'feind';
          }
        }
      }

      //Pickup testen
      var pickupinfo = this.pickup.getInfo();
      if (schlangeninfo[0].getPositionX() == pickupinfo[0].getPositionX()) {
        if (schlangeninfo[0].getPositionY() == pickupinfo[0].getPositionY()) {
          console.log('Pickup wurde aufgehoben' + i);
          return 'pickup';
        }
      }

      //falls nichts zutrifft frei wiedergeben
      return 'frei';
    }

    /** Vergrößert die Schlange */

  }, {
    key: 'vergroessereSchlange',
    value: function vergroessereSchlange() {
      this.schlange.add();
    }

    /** Verkleinert die Schlange */

  }, {
    key: 'verkuerzeSchlange',
    value: function verkuerzeSchlange() {
      var zutoeten = this.schlange.delete(0);
      if (zutoeten != undefined) {
        this.view.draw(zutoeten, true);
      }
      //erhöhe Spielstand
      this.score += 10;
    }

    //// VIEW-UPDATE ////

    /** Zeichne Objekte */

  }, {
    key: 'zeichneObjekte',
    value: function zeichneObjekte() {
      //Zunächst Schlangen zeichnung beauftragen
      var schlangeninfo = this.schlange.getInfo();
      //update HTML-Felder:
      //Länge der Schlange (ohne den Kopf)
      this.view.laengenAnzeige(schlangeninfo.length - 1);
      //Spielstand
      this.view.punkteAnzeige(this.score);
      //Timer
      this.view.zeitAnzeige(this.seconds);

      for (var i = 0; i < schlangeninfo.length; i++) {
        this.view.draw(schlangeninfo[i], false);
      }
      var gegnerinfo = this.gegner.getInfo();
      for (var i = 0; i < gegnerinfo.length; i++) {
        this.view.draw(gegnerinfo[i], false);
      }
      var pickupinfo = this.pickup.getInfo();
      for (var i = 0; i < pickupinfo.length; i++) {
        this.view.draw(pickupinfo[i], false);
      }
    }
  }]);

  return Controller;
}();

exports.default = Controller;

/***/ })
/******/ ]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAgYzNiNWU1NzJmYTMxMmU1OTIwZjQiLCJ3ZWJwYWNrOi8vLy4vanNQcm90by9zY2hsYW5nZS5qcyIsIndlYnBhY2s6Ly8vLi9qc1Byb3RvL2VpbnplbG9iamVrdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGhhc2VyLWNlL2J1aWxkL2N1c3RvbS9waXhpLm1pbi5qcz80MjIxIiwid2VicGFjazovLy8od2VicGFjaykvYnVpbGRpbi9nbG9iYWwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BoYXNlci1jZS9idWlsZC9jdXN0b20vcDIubWluLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waGFzZXItY2UvYnVpbGQvY3VzdG9tL3BoYXNlci1zcGxpdC5taW4uanMiLCJ3ZWJwYWNrOi8vLy4vanNQcm90by92aWV3LmpzIiwid2VicGFjazovLy8uL2pzUHJvdG8vZ2VnbmVyLmpzIiwid2VicGFjazovLy8uL2pzUHJvdG8vbWFpbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGhhc2VyLWNlL2J1aWxkL2N1c3RvbS9waXhpLm1pbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGhhc2VyLWNlL2J1aWxkL2N1c3RvbS9wMi5taW4uanM/MTQyZiIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGhhc2VyLWNlL2J1aWxkL2N1c3RvbS9waGFzZXItc3BsaXQubWluLmpzPzBjYjkiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Byb2Nlc3MvYnJvd3Nlci5qcyIsIndlYnBhY2s6Ly8vLi9qc1Byb3RvL2NvbnRyb2xsZXIuanMiXSwibmFtZXMiOlsiRWluemVsb2JqZWt0IiwicmVxdWlyZSIsImRlZmF1bHQiLCJTY2hsYW5nZSIsImxpc3QiLCJvYmpla3RHcm9lc3NlIiwic3RhcnRYIiwic3RhcnRZIiwibmV1ZXNJdGVtIiwibGVuZ3RoIiwiZ2V0UG9zaXRpb25YIiwiZ2V0UG9zaXRpb25ZIiwicHVzaCIsInp1dG9ldGVuIiwic2xpY2UiLCJuZXdYIiwibmV3WSIsIm9sZFgiLCJvbGRZIiwiaSIsInNldFBvc2l0aW9uWCIsInNldFBvc2l0aW9uWSIsInBvc2l0aW9uWCIsInBvc2l0aW9uWSIsInR5cCIsImxhdWZyaWNodHVuZyIsIm1vZHVsZSIsImV4cG9ydHMiLCJnbG9iYWwiLCJnIiwiRnVuY3Rpb24iLCJldmFsIiwiZSIsIndpbmRvdyIsIlZpZXciLCJnYW1lIiwic2NobGFuZ2UiLCJ0ZXh0IiwidW5kZWZpbmVkIiwibGFlbmdlIiwidGFnIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImlubmVySFRNTCIsInRpbWUiLCJwdW5rdGUiLCJvYmpla3QiLCJraWxsIiwiaW1hZ2UiLCJkZXN0cm95IiwiYWRkIiwic3ByaXRlIiwiZnJhbWUiLCJ3b3JsZCIsImNlbnRlclgiLCJjZW50ZXJZIiwiYW5jaG9yIiwic2V0IiwiYWxpZ24iLCJmb250IiwiZm9udFdlaWdodCIsImZvbnRTaXplIiwiZmlsbCIsInJlbW92ZSIsIkdlZ25lciIsIl9tYXhYIiwiX21heFkiLCJfdHlwIiwibWF4WCIsIm1heFkiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJnZWdlbnN0YW5kIiwic3RhY2tWZXJoaW5kZXJuIiwiZ2xlaWNoIiwicmVzZXQiLCJNYWluIiwiY2FudmFzV2lkdGgiLCJjYW52YXNIZWlnaHQiLCJ2aWV3IiwiQ29udHJvbGxlciIsImNvbnRyb2xsZXIiLCJmcmFtZUNvdW50ZXIiLCJzcGllbGdlc2Nod2luZGlna2VpdCIsInNuZWtTcGF3biIsImtvbGxpc2lvbnN0eXAiLCJwYXVzZWQiLCJkZWFkIiwic3RhZ2UiLCJiYWNrZ3JvdW5kQ29sb3IiLCJsb2FkIiwic3ByaXRlc2hlZXQiLCJ6ZWljaG5lT2JqZWt0ZSIsInVwZGF0ZUxhdWZyaWNodHVuZyIsImJld2VnZVNjaGxhbmdlIiwia29sbGlzaW9uIiwiY29uc29sZSIsImxvZyIsInJlc3Bhd25BbGwiLCJ2ZXJrdWVyemVTY2hsYW5nZSIsInZlcmdyb2Vzc2VyZVNjaGxhbmdlIiwiZHJhd1BhdXNlU2NyZWVuIiwiZ2V0Q3Vyc29yIiwiZG93biIsImlzRG93biIsInJlbW92ZVRleHQiLCJjYWxjdWxhdGVTZWNvbmRzIiwiYWRkRXZlbnRMaXN0ZW5lciIsIlBoYXNlciIsIkdhbWUiLCJDQU5WQVMiLCJwcmVsb2FkIiwiY3JlYXRlIiwidXBkYXRlIiwibWFpbiIsInByb2Nlc3MiLCJjYWNoZWRTZXRUaW1lb3V0IiwiY2FjaGVkQ2xlYXJUaW1lb3V0IiwiZGVmYXVsdFNldFRpbW91dCIsIkVycm9yIiwiZGVmYXVsdENsZWFyVGltZW91dCIsInNldFRpbWVvdXQiLCJjbGVhclRpbWVvdXQiLCJydW5UaW1lb3V0IiwiZnVuIiwiY2FsbCIsInJ1bkNsZWFyVGltZW91dCIsIm1hcmtlciIsInF1ZXVlIiwiZHJhaW5pbmciLCJjdXJyZW50UXVldWUiLCJxdWV1ZUluZGV4IiwiY2xlYW5VcE5leHRUaWNrIiwiY29uY2F0IiwiZHJhaW5RdWV1ZSIsInRpbWVvdXQiLCJsZW4iLCJydW4iLCJuZXh0VGljayIsImFyZ3MiLCJBcnJheSIsImFyZ3VtZW50cyIsIkl0ZW0iLCJhcnJheSIsInByb3RvdHlwZSIsImFwcGx5IiwidGl0bGUiLCJicm93c2VyIiwiZW52IiwiYXJndiIsInZlcnNpb24iLCJ2ZXJzaW9ucyIsIm5vb3AiLCJvbiIsImFkZExpc3RlbmVyIiwib25jZSIsIm9mZiIsInJlbW92ZUxpc3RlbmVyIiwicmVtb3ZlQWxsTGlzdGVuZXJzIiwiZW1pdCIsInByZXBlbmRMaXN0ZW5lciIsInByZXBlbmRPbmNlTGlzdGVuZXIiLCJsaXN0ZW5lcnMiLCJuYW1lIiwiYmluZGluZyIsImN3ZCIsImNoZGlyIiwiZGlyIiwidW1hc2siLCJzY29yZSIsInNlY29uZHMiLCJyaWNodHVuZ2VuIiwiT2JqZWN0IiwiZnJlZXplIiwidXAiLCJyaWdodCIsImxlZnQiLCJnZWduZXIiLCJwaWNrdXAiLCJlbGVtZW50Iiwic2NobGFuZ2VuaW5mbyIsImdldEluZm8iLCJzZXRJbnRlcnZhbCIsImlucHV0Iiwia2V5Ym9hcmQiLCJjcmVhdGVDdXJzb3JLZXlzIiwia29wZiIsIm1vdmUiLCJwaWNrdXBrb2wiLCJyZXNwYXduIiwiZ2VnbmVyaW5mbyIsInBpY2t1cGluZm8iLCJkZWxldGUiLCJkcmF3IiwibGFlbmdlbkFuemVpZ2UiLCJwdW5rdGVBbnplaWdlIiwiemVpdEFuemVpZ2UiXSwibWFwcGluZ3MiOiI7QUFBQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsbUNBQTJCLDBCQUEwQixFQUFFO0FBQ3ZELHlDQUFpQyxlQUFlO0FBQ2hEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDhEQUFzRCwrREFBK0Q7O0FBRXJIO0FBQ0E7O0FBRUE7QUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDN0RBLElBQUlBLGVBQWUsbUJBQUFDLENBQVEsQ0FBUixFQUE2QkMsT0FBaEQ7QUFDQTs7QUFFQTs7OztJQUdxQkMsUTs7QUFFakI7QUFDQSx3QkFBYztBQUFBOztBQUVWOztBQUVBLGFBQUtDLElBQUwsR0FBWSxDQUNMLElBQUlKLFlBQUosQ0FBaUIsQ0FBakIsRUFBb0IsQ0FBcEIsRUFBdUIsU0FBdkIsQ0FESyxFQUViLElBQUlBLFlBQUosQ0FBaUIsQ0FBakIsRUFBb0IsQ0FBcEIsRUFBdUIsV0FBdkIsQ0FGYSxFQUdiLElBQUlBLFlBQUosQ0FBaUIsQ0FBakIsRUFBb0IsQ0FBcEIsRUFBdUIsV0FBdkIsQ0FIYSxFQUlYLElBQUlBLFlBQUosQ0FBaUIsQ0FBakIsRUFBb0IsQ0FBcEIsRUFBdUIsV0FBdkIsQ0FKVyxDQUFaOztBQU9BOzs7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ciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwge1xuIFx0XHRcdFx0Y29uZmlndXJhYmxlOiBmYWxzZSxcbiBcdFx0XHRcdGVudW1lcmFibGU6IHRydWUsXG4gXHRcdFx0XHRnZXQ6IGdldHRlclxuIFx0XHRcdH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDgpO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2svYm9vdHN0cmFwIGMzYjVlNTcyZmEzMTJlNTkyMGY0IiwibGV0IEVpbnplbG9iamVrdCA9IHJlcXVpcmUoJy4vZWluemVsb2JqZWt0LmpzJykuZGVmYXVsdDtcclxuLy9pbXBvcnQgeyBFaW56ZWxvYmpla3QgfSBmcm9tICcuL2VpbnplbG9iamVrdCc7XHJcblxyXG4vKiogXHJcbiogRGllIFNjaGxhbmdlIHNvbGwgaWhyZSBLw7ZycGVydGVpbGUgd2llIGRpZSBMaXN0ZSBpaHJlIE5vZGVzIHZlcndhbHRlbi5cclxuKi9cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2NobGFuZ2Uge1xyXG4gICAgXHJcbiAgICAvKiogQ29uc3RydWN0b3IgKi9cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG5cclxuICAgICAgICAvKiogU2NobGFuZ2UgYmVzdGVodCBhdXMgZWluZXIgTGlzdGUgKi9cclxuXHRcdCAgXHJcbiAgICAgICAgdGhpcy5saXN0ID0gW1xyXG5cdFx0XHQgICAgICAgICAgICBuZXcgRWluemVsb2JqZWt0KDMsIDEsICdzcGllbGVyJyksXHJcblx0XHRcdFx0XHRcdFx0bmV3IEVpbnplbG9iamVrdCgyLCAxLCAndmVyZm9sZ2VyJyksXHJcblx0XHRcdFx0XHRcdFx0bmV3IEVpbnplbG9iamVrdCgxLCAxLCAndmVyZm9sZ2VyJyksXHJcblx0XHRcdCAgXHRcdFx0XHRuZXcgRWluemVsb2JqZWt0KDAsIDEsICd2ZXJmb2xnZXInKVxyXG5cdFx0ICBcdFx0XHRcdFx0XTtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgKiBFaW4gRWluemVsb2JqZWt0IGlzdCAxeDEgRWluaGVpdGVuICg2MHB4KSBncm/DnylcclxuICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMub2JqZWt0R3JvZXNzZSA9IDE7XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICogU3RhcnRwdW5rdCBkZXIgU2NobGFuZ2UgUCgxIEVpbmhlaXQ7MSBFaW5oZWl0KVxyXG4gICAgICAgICovXHJcbiAgICAgICAgdGhpcy5zdGFydFggPSAxO1xyXG4gICAgICAgIHRoaXMuc3RhcnRZID0gMTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgLyoqIFxyXG4gICAgKiBJbml0aWFsaXNpZXJlIGRpZSBTY2hsYW5nZSBtaXQgMyBWZXJmb2xnZXJuIFxyXG4gICAgKiBhbiBlaW5lciBiZXN0aW1tdGVuIFN0YXJ0cG9zaXRpb24uXHJcbiAgICAqL1xyXG4gICAgLyppbml0U2NobGFuZ2UoKSB7XHJcblxyXG4gICAgICAgIHZhciBwb3NpdGlvblgwID0gdGhpcy5zdGFydFggKyAoMiAqIHRoaXMub2JqZWt0R3JvZXNzZSk7XHJcbiAgICAgICAgdmFyIHBvc2l0aW9uWDEgPSB0aGlzLnN0YXJ0WCArIHRoaXMub2JqZWt0R3JvZXNzZTtcclxuXHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5saXN0WzBdLm9iamVrdCA9IG5ldyBFaW56ZWxvYmpla3QocG9zaXRpb25YMCwgdGhpcy5zdGFydFksICdzcGllbGVyJyk7XHJcbiAgICAgICAgdGhpcy5saXN0WzFdLm9iamVrdCA9IG5ldyBFaW56ZWxvYmpla3QocG9zaXRpb25YMSwgdGhpcy5zdGFydFksICd2ZXJmb2xnZXInKTtcclxuICAgICAgICB0aGlzLmxpc3RbMl0ub2JqZWt0ID0gbmV3IEVpbnplbG9iamVrdCh0aGlzLnN0YXJ0WCwgdGhpcy5zdGFydFksICd2ZXJmb2xnZXInKTtcclxuICAgICAgICBcclxuICAgIH0qL1xyXG4gICAgXHJcbiAgICAvKiogS8O2cnBlcnRlaWwgenVyIFNjaGxhbmdlIGhpbnp1ZsO8Z2VuICovXHJcbiAgICBhZGQoKXtcclxuXHRcdCAvL0Vyd2VpdGVydCBkYXMgQXJyYXkgZHVyY2ggZWluIEVpbnplbG9iamVrdCBcclxuXHRcdCAgdmFyIG5ldWVzSXRlbSA9IG5ldyBFaW56ZWxvYmpla3QodGhpcy5saXN0W3RoaXMubGlzdC5sZW5ndGgtMV0uZ2V0UG9zaXRpb25YKCksIFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCAgdGhpcy5saXN0W3RoaXMubGlzdC5sZW5ndGgtMV0uZ2V0UG9zaXRpb25ZKCksXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0ICAndmVyZm9sZ2VyJyk7XHJcbiAgICAgICAgdGhpcy5saXN0LnB1c2gobmV1ZXNJdGVtKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLyoqIEvDtnJwZXJ0ZWlsIGF1cyBTY2hsYW5nZSBlbnRmZXJuZW4gXHJcblx0IEAgcmV0dXJuZWQgZGFzIGdldMO2dGV0ZSBPYmpla3QgZGVzc2VuIHNwcml0ZSBnZWzDtnNjaHQgd2VyZGVuIG11c3MqL1xyXG4gICAgZGVsZXRlKCl7XHJcblx0XHQgaWYodGhpcy5saXN0Lmxlbmd0aCA+IDIpe1xyXG5cdFx0ICB2YXIgenV0b2V0ZW4gPSB0aGlzLmxpc3RbdGhpcy5saXN0Lmxlbmd0aCAtIDFdO1xyXG4gICAgICAgIHRoaXMubGlzdCA9IHRoaXMubGlzdC5zbGljZSgwLCB0aGlzLmxpc3QubGVuZ3RoIC0gMSk7XHJcblx0XHQgIHJldHVybiB6dXRvZXRlbjtcclxuXHRcdCB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8qKiBHaWJ0IGRpZSBMw6RuZ2UgZGVyIFNjaGxhbmdlIGluIEZvcm0gZWluZXMgWmFobGVud2VydGVzIHp1csO8Y2sgKi9cclxuICAgIGdldExlbmd0aCgpe1xyXG4gICAgICAgIHJldHVybiB0aGlzLmxpc3QubGVuZ3RoO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvKiogV2Vpc3QgZGVtIFNjaGxhbmdlbmtvcGYgZWluZSBuZXVlIFBvc2l0aW9uIHp1ICovXHJcbiAgICBtb3ZlKG5ld1gsIG5ld1kpe1xyXG5cdFx0IC8vU3BlaWNoZXIgZsO8ciBkaWUgYWx0ZSBQb3NpdGlvbiBYXHJcblx0XHQgdmFyIG9sZFg7XHJcblx0XHQgLy9TcGVpY2hlciBmw7xyIGRpZSBhbHRlIFBvc2l0aW9uIFlcclxuXHRcdCB2YXIgb2xkWTtcclxuICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgdGhpcy5saXN0Lmxlbmd0aDsgaSsrKXtcclxuXHRcdFx0ICAvL0FsdGUgUG9zaXRpb24gU3BlaWNoZXJuXHJcblx0XHRcdCAgb2xkWCA9IHRoaXMubGlzdFtpXS5nZXRQb3NpdGlvblgoKTtcclxuXHRcdFx0ICBvbGRZID0gdGhpcy5saXN0W2ldLmdldFBvc2l0aW9uWSgpO1xyXG5cdFx0XHQgIC8vTmV1ZSBQb3NpdGlvbiBzZXR6ZW5cclxuXHRcdFx0ICB0aGlzLmxpc3RbaV0uc2V0UG9zaXRpb25YKG5ld1gpO1xyXG5cdFx0XHQgIHRoaXMubGlzdFtpXS5zZXRQb3NpdGlvblkobmV3WSk7XHJcblx0XHRcdCAgLy9uZXcgbmV1IGJlc2V0emVuXHJcblx0XHRcdCAgbmV3WCA9IG9sZFg7XHJcblx0XHRcdCAgbmV3WSA9IG9sZFk7XHJcblx0XHQgIH1cclxuICAgIH1cclxuXHRcclxuXHQvKiogZ2lidCBkaWUgaW5mb3JtYXRpb25lbiDDvGJlciBhbGxlIEvDtnJwZXJ0ZWlsZSBhbHMgQXJyYXkgenVyw7xjayAqL1xyXG5cdGdldEluZm8oKXtcclxuXHRcdHJldHVybiB0aGlzLmxpc3Q7XHJcblx0fVxyXG4gICAgXHJcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9qc1Byb3RvL3NjaGxhbmdlLmpzIiwiLyoqXHJcbiogRWluemVsb2JqZWt0IGVyc3RlbGxlbiwgdm9uIGRlbSBhbmRlcmUgT2JqZWt0ZSBlcmJlbiBrw7ZubmVuXHJcbiogRWluemVsb2JqZWt0OiBTcGllbGVyLCBWZXJmb2xnZXIsIFBpY2t1cCgrcmFuZG9tc3Bhd24pLCBTdGVpbiwgRmVpbmQoK3JhbmRvbXNwYXduKVxyXG4qL1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBFaW56ZWxvYmpla3Qge1xyXG5cdFxyXG5cdC8qKiBcclxuXHQqIENvbnN0cnVjdG9yXHJcblx0KiBAcGFyYW0geC1Lb29yZGluYXRlIGVpbmVzIE9iamVrdGVzXHJcblx0KiBAcGFyYW0geS1Lb29yZGluYXRlIGVpbmVzIE9iamVrdGVzXHJcblx0KiBAcGFyYW0gdHlwIFR5cCBkZXMgT2JqZWt0ZXMgKHNwaWVsZXIgLyB2ZXJmb2xnZXIgLyBwaWNrdXAgLyBzdGVpbiAvIGZlaW5kKSwgU3ByaXRlbmFtZVxyXG5cdCogR2lidCBlaW5lIExhdWZyaWNodHVuZyBhbiAocmF1ZiwgcnVudGVyLCBsaW5rcywgcmVjaHRzKVxyXG5cdCovXHJcblx0Y29uc3RydWN0b3IocG9zaXRpb25YLCBwb3NpdGlvblksIHR5cCkge1xyXG5cclxuXHRcdC8qKiBXaWNodGlnIGbDvHIgZGllIFNwcml0ZSB6dW9yZG51bmcgKi9cclxuXHRcdHRoaXMucG9zaXRpb25YID0gcG9zaXRpb25YO1xyXG5cdFx0dGhpcy5wb3NpdGlvblkgPSBwb3NpdGlvblk7XHJcblx0XHR0aGlzLnR5cCA9IHR5cDsgLy8gdHlwID09IHNwcml0ZW5hbWUhI1xyXG5cdFx0dGhpcy5sYXVmcmljaHR1bmcgPSAncnVudGVyJztcclxuXHRcdC8vdGhpcy5pbWFnZSA9IG51bGw7XHJcblxyXG5cdH1cclxuXHRcclxuXHQvKiogR2lidCBYLUtvb3JkaW5hdGUgZGVyIFBvc2l0aW9uIHp1csO8Y2sgKi9cclxuXHRnZXRQb3NpdGlvblgoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5wb3NpdGlvblg7XHJcblx0fVxyXG5cdFxyXG5cdC8qKiBHaWJ0IFktS29vcmRpbmF0ZSBkZXIgUG9zaXRpb24genVyw7xjayAqL1xyXG5cdGdldFBvc2l0aW9uWSgpIHtcclxuXHRcdHJldHVybiB0aGlzLnBvc2l0aW9uWTtcclxuXHR9XHJcblx0XHJcblx0LyoqIEdpYnQgVHlwIGRlcyBPYmpla3RzIHp1csO8Y2sgKi9cclxuXHRnZXRUeXAoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy50eXA7XHJcblx0fVxyXG5cdFxyXG5cdC8qKiDDhG5kZXJ0IGRpZSBYLUtvb3JkaW5hdGUgZGVyIFBvc2l0aW9uICovXHJcblx0c2V0UG9zaXRpb25YKG5ld1gpe1xyXG5cdFx0aWYobmV3WCA8IHRoaXMucG9zaXRpb25YKXtcclxuXHRcdFx0dGhpcy5sYXVmcmljaHR1bmcgPSAnbGlua3MnO1xyXG5cdFx0fSBlbHNlIGlmIChuZXdYID4gdGhpcy5wb3NpdGlvblgpe1xyXG5cdFx0XHR0aGlzLmxhdWZyaWNodHVuZyA9ICdyZWNodHMnO1xyXG5cdFx0fVxyXG5cdFx0dGhpcy5wb3NpdGlvblggPSBuZXdYO1xyXG5cdH1cclxuXHRcclxuXHQvKiogw4RuZGVydCBkaWUgWS1Lb29yZGluYXRlIGRlciBQb3NpdGlvbiAqL1xyXG5cdHNldFBvc2l0aW9uWShuZXdZKXtcclxuXHRcdGlmKG5ld1kgPCB0aGlzLnBvc2l0aW9uWSl7XHJcblx0XHRcdHRoaXMubGF1ZnJpY2h0dW5nID0gJ3JhdWYnO1xyXG5cdFx0fSBlbHNlIGlmIChuZXdZID4gdGhpcy5wb3NpdGlvblkpe1xyXG5cdFx0XHR0aGlzLmxhdWZyaWNodHVuZyA9ICdydW50ZXInO1xyXG5cdFx0fVxyXG5cdFx0dGhpcy5wb3NpdGlvblkgPSBuZXdZO1xyXG5cdH1cclxufVxyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9qc1Byb3RvL2VpbnplbG9iamVrdC5qcyIsIm1vZHVsZS5leHBvcnRzID0gZ2xvYmFsW1wiUElYSVwiXSA9IHJlcXVpcmUoXCItIS5cXFxccGl4aS5taW4uanNcIik7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vbm9kZV9tb2R1bGVzL3BoYXNlci1jZS9idWlsZC9jdXN0b20vcGl4aS5taW4uanMiLCJ2YXIgZztcclxuXHJcbi8vIFRoaXMgd29ya3MgaW4gbm9uLXN0cmljdCBtb2RlXHJcbmcgPSAoZnVuY3Rpb24oKSB7XHJcblx0cmV0dXJuIHRoaXM7XHJcbn0pKCk7XHJcblxyXG50cnkge1xyXG5cdC8vIFRoaXMgd29ya3MgaWYgZXZhbCBpcyBhbGxvd2VkIChzZWUgQ1NQKVxyXG5cdGcgPSBnIHx8IEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKSB8fCAoMSxldmFsKShcInRoaXNcIik7XHJcbn0gY2F0Y2goZSkge1xyXG5cdC8vIFRoaXMgd29ya3MgaWYgdGhlIHdpbmRvdyByZWZlcmVuY2UgaXMgYXZhaWxhYmxlXHJcblx0aWYodHlwZW9mIHdpbmRvdyA9PT0gXCJvYmplY3RcIilcclxuXHRcdGcgPSB3aW5kb3c7XHJcbn1cclxuXHJcbi8vIGcgY2FuIHN0aWxsIGJlIHVuZGVmaW5lZCwgYnV0IG5vdGhpbmcgdG8gZG8gYWJvdXQgaXQuLi5cclxuLy8gV2UgcmV0dXJuIHVuZGVmaW5lZCwgaW5zdGVhZCBvZiBub3RoaW5nIGhlcmUsIHNvIGl0J3NcclxuLy8gZWFzaWVyIHRvIGhhbmRsZSB0aGlzIGNhc2UuIGlmKCFnbG9iYWwpIHsgLi4ufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBnO1xyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gKHdlYnBhY2spL2J1aWxkaW4vZ2xvYmFsLmpzIiwibW9kdWxlLmV4cG9ydHMgPSBnbG9iYWxbXCJwMlwiXSA9IHJlcXVpcmUoXCItIS5cXFxccDIubWluLmpzXCIpO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL25vZGVfbW9kdWxlcy9waGFzZXItY2UvYnVpbGQvY3VzdG9tL3AyLm1pbi5qcyIsIm1vZHVsZS5leHBvcnRzID0gZ2xvYmFsW1wiUGhhc2VyXCJdID0gcmVxdWlyZShcIi0hLlxcXFxwaGFzZXItc3BsaXQubWluLmpzXCIpO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL25vZGVfbW9kdWxlcy9waGFzZXItY2UvYnVpbGQvY3VzdG9tL3BoYXNlci1zcGxpdC5taW4uanMiLCJpbXBvcnQgJ3BpeGknO1xyXG5pbXBvcnQgJ3AyJztcclxuaW1wb3J0ICdwaGFzZXInO1xyXG5cclxuaW1wb3J0IHsgU2NobGFuZ2UgfSBmcm9tICcuL3NjaGxhbmdlJztcclxuXHJcbi8qKiBcclxuKiBWaWV3XHJcbiogWnVyIERhc3RlbGx1bmcgZGVzIFNwaWVscyBhdWYgZGVtIENhbnZhc1xyXG4qL1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBWaWV3IHtcclxuXHJcbiAgICAvKipcclxuICAgICogQ29uc3RydWN0b3JcclxuICAgICogQHBhcmFtIGdhbWUgOiBQaGFzZXIuR2FtZS1PYmpla3RcclxuICAgICogQHBhcmFtIHNjaGxhbmdlIDogU2NobGFuZ2VuLU9iamVrdFxyXG4gICAgKi9cclxuXHRjb25zdHJ1Y3RvcihnYW1lLCBzY2hsYW5nZSkge1xyXG5cclxuICAgICAgICAvKiogXHJcbiAgICAgICAgKiBQaGFzZXIuR2FtZSBPYmpla3QgXHJcbiAgICAgICAgKiBXaXJkIGJlbsO2dGlndCB1bSBhdWYgamVnbGljaGUgRnVua3Rpb25lbiBkZXMgRnJhbWV3b3JrcyB6dXp1Z3JlaWZlbi5cclxuICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuZ2FtZSA9IGdhbWU7XHJcblx0XHRcclxuXHRcdCAvKiogVGV4dCBmw7xyIHRvdCB1bmQgUGF1c2VTY3JlZW4gKi9cclxuXHRcdFx0dGhpcy50ZXh0ID0gdW5kZWZpbmVkO1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAqIFNjaGxhbmdlbi1PYmpla3RcclxuICAgICAgICAqL1xyXG4gICAgICAgIC8vdGhpcy5zY2hsYW5nZSA9IHNjaGxhbmdlO1xyXG5cdFx0XHJcblx0XHRcdC8qKlxyXG5cdFx0XHQqIEdyw7bDn2UgZGVyIGVpbnplbG5lbiBFaW5oZWl0ZW5cclxuXHRcdFx0Ki9cclxuXHRcdFx0dGhpcy5vYmpla3RHcm9lc3NlID0gNjA7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIC8qKiBcclxuICAgICogU3RhcnRzY2hsYW5nZVxyXG4gICAgKiAxIEtvcGYgbWl0IDIgVmVyZm9sZ2VyblxyXG4gICAgKi9cclxuICAgIC8vemVpY2huZVNjaGxhbmdlKCkge1xyXG5cclxuICAgICAgICAvKiogU2NobGFuZ2UgaW5pdGlhbGlzaWVyZW4gKi9cclxuICAgICAgICAvL3RoaXMuc2NobGFuZ2UuaW5pdFNjaGxhbmdlKCk7XHJcblxyXG4gICAgICAgIC8qKiBEdXJjaCBTY2hsYW5nZSBpdGVyaWVyZW4gdW5kIGRlbiBPYmpla3RlbiBkYXMgRW50c3ByZWNoZW5kZSBTcHJpdGUgenVyb2RuZW4gKi9cclxuICAgICAgIC8vIGZvcih2YXIgaSA9IHRoaXMuc2NobGFuZ2UuZ2V0TGVuZ3RoKCktMTsgaSA+PSAwOyBpLS0pe1xyXG4gICAgICAgIC8qICAgIGlmKGkgPT0gMCl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjaGxhbmdlLmxpc3RbaV0uaW1hZ2UgPSB0aGlzLmdhbWUuYWRkLnNwcml0ZSh0aGlzLnNjaGxhbmdlLmxpc3RbaV0ub2JqZWt0LmdldFBvc2l0aW9uWCgpKnRoaXMub2JqZWt0R3JvZXNzZSwgdGhpcy5zY2hsYW5nZS5saXN0W2ldLm9iamVrdC5nZXRQb3NpdGlvblkoKSp0aGlzLm9iamVrdEdyb2Vzc2UsIHRoaXMuc2NobGFuZ2UubGlzdFtpXS5vYmpla3QuZ2V0VHlwKCkpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2hsYW5nZS5saXN0W2ldLmltYWdlLmZyYW1lID0gMztcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NobGFuZ2UubGlzdFtpXS5pbWFnZSA9IHRoaXMuZ2FtZS5hZGQuaW1hZ2UodGhpcy5zY2hsYW5nZS5saXN0W2ldLm9iamVrdC5nZXRQb3NpdGlvblgoKSp0aGlzLm9iamVrdEdyb2Vzc2UsIHRoaXMuc2NobGFuZ2UubGlzdFtpXS5vYmpla3QuZ2V0UG9zaXRpb25ZKCkqdGhpcy5vYmpla3RHcm9lc3NlLCB0aGlzLnNjaGxhbmdlLmxpc3RbaV0ub2JqZWt0LmdldFR5cCgpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICBcclxuICAgIH0qL1xyXG5cclxuICAgIC8qKiBcclxuICAgICogTMOkbmdlbmFuemVpZ2UgZGVyIFNjaGxhbmdlIG1pdCBET01cclxuICAgICovXHJcbiAgICBsYWVuZ2VuQW56ZWlnZShsYWVuZ2UpIHtcclxuICAgICAgICB2YXIgdGFnID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJsZW5ndGhcIik7XHJcbiAgICAgICAgdGFnLmlubmVySFRNTCA9IGxhZW5nZTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLyoqIFxyXG4gICAgKiBaZWl0YW56ZWlnZSBkZXMgU3BpZWxzIG1pdCBET01cclxuICAgIEBwYXJhbSB0aW1lOiBaZWl0IGluIFNla3VuZGVuXHJcbiAgICAqL1xyXG4gICAgemVpdEFuemVpZ2UodGltZSl7XHJcbiAgICAgICAgdmFyIHRhZyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidGltZVwiKTtcclxuICAgICAgICB0YWcuaW5uZXJIVE1MID0gdGltZTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgXHJcbiAgICAvKiogXHJcbiAgICAqIEFuemVpZ2UgZGVzIFB1bmt0ZXN0YW5kcyBtaXQgRE9NXHJcbiAgICAqL1xyXG4gICAgcHVua3RlQW56ZWlnZShwdW5rdGUpIHtcclxuICAgICAgICB2YXIgdGFnID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwb2ludHNcIik7XHJcbiAgICAgICAgdGFnLmlubmVySFRNTCA9IHB1bmt0ZTtcclxuICAgIH1cclxuXHJcbiAgICAvKiogXHJcbiAgICAqIEJld2VndCBkaWUgU2NobGFuZ2UgXHJcbiAgICAqIHp1IGRlciDDvGJlcmdlYmVuZW4gUG9zaXRpb25cclxuICAgICogQHBhcmFtIHggOiBuZXVlIHgtS29vcmRpbmF0ZSBmw7xyIGRlbiBLb3BmXHJcbiAgICAqIEBwYXJhbSB5IDogbmV1ZSB5LUtvb3JkaW5hdGUgZsO8ciBkZW4gS29wZlxyXG4gICAgKiBAcGFyYW0gY2hhbmdlSWQgOiBJZCBkZXIgUmljaHR1bmcgZGVyIEJld2VndW5nIHVtIGRhcyByaWNodGlnZSBTcHJpdGUgenUgc2V0emVuXHJcbiAgICAqL1xyXG4gICAvLyB1cGRhdGVQb3NpdGlvbihvYmpla3QsIGNoYW5nZUlkKSB7XHJcblxyXG4gICAgICAgIFxyXG5cclxuXHJcblxyXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLyBBTFQgLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbiAgICAgICAgLyoqIEtvb3JkaW5hdGVuIGRlciBWb3Jnw6RuZ2VyIHNwZWljaGVybiBcclxuICAgICAgICAvLyBLb29yZGluYXRlbiBkZXMgZWhlbWFsaWdlbiBWb3JsZXR6dGVuXHJcbiAgICAgICAgdmFyIGxhc3RfeCA9IHRoaXMuc2NobGFuZ2UubHZsMVsxXS5pbWFnZS53b3JsZC54OyBcclxuICAgICAgICB2YXIgbGFzdF95ID0gdGhpcy5zY2hsYW5nZS5sdmwxWzFdLmltYWdlLndvcmxkLnk7XHJcblxyXG4gICAgICAgIC8vIEtvb3JkaW5hdGVuIEtvcGZlcyB2b3IgZGVyIEJld2VndW5nXHJcbiAgICAgICAgdmFyIHhfYWx0ID0gdGhpcy5zY2hsYW5nZS5sdmwxWzBdLmltYWdlLndvcmxkLng7XHJcbiAgICAgICAgdmFyIHlfYWx0ID0gdGhpcy5zY2hsYW5nZS5sdmwxWzBdLmltYWdlLndvcmxkLnk7XHJcblxyXG4gICAgICAgIC8qKiBEdXJjaCBhbGxlIFNjaGxhbmdlbmdsaWVkZXIgaXRlcmllcmVuIFxyXG4gICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCB0aGlzLnNjaGxhbmdlLmx2bDEubGVuZ3RoOyBpKyspIHtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuc2NobGFuZ2UubHZsMVtpXS5pbWFnZS5kZXN0cm95KCk7IC8vIHZvcmhlcmlnZSBTcHJpdGVzIGzDtnNjaGVuXHJcblxyXG4gICAgICAgICAgICAvKiogSmUgbmFjaCBTY2hsYW5nZW5nbGllZCBTcHJpdGUgYW4gbmV1ZXIgUG9zaXRpb24gZXJ6ZXVnZW4gXHJcbiAgICAgICAgICAgIHN3aXRjaChpKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDA6ICAgICB0aGlzLnNjaGxhbmdlLmx2bDFbaV0uaW1hZ2UgPSB0aGlzLmdhbWUuYWRkLnNwcml0ZSh4LCB5LCAnc3BpZWxlcicpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFuaW1hdGlvbjogV2VjaHNlbHQgU3ByaXRlIGJlaSBSaWNodHVuZ3N3ZWNoc2VsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2goY2hhbmdlSWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6IHRoaXMuc2NobGFuZ2UubHZsMVtpXS5pbWFnZS5hbmltYXRpb25zLmFkZCgnd2FsaycsIFs0LCA1XSwgNSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTogdGhpcy5zY2hsYW5nZS5sdmwxW2ldLmltYWdlLmFuaW1hdGlvbnMuYWRkKCd3YWxrJywgWzEwLCAxMV0sIDUsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDI6IHRoaXMuc2NobGFuZ2UubHZsMVtpXS5pbWFnZS5hbmltYXRpb25zLmFkZCgnd2FsaycsIFsxLCAyXSwgNSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMzogdGhpcy5zY2hsYW5nZS5sdmwxW2ldLmltYWdlLmFuaW1hdGlvbnMuYWRkKCd3YWxrJywgWzcsIDhdLCA1LCB0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBBbmltYXRpb24gYWJzcGllbGVuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNjaGxhbmdlLmx2bDFbaV0uaW1hZ2UuYW5pbWF0aW9ucy5wbGF5KCd3YWxrJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgIGNhc2UgMTogICAgIHRoaXMuc2NobGFuZ2UubHZsMVtpXS5pbWFnZSA9IHRoaXMuZ2FtZS5hZGQuaW1hZ2UoeF9hbHQsIHlfYWx0LCAndmVyZm9sZ2VyJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgIGNhc2UgMjogICAgIHRoaXMuc2NobGFuZ2UubHZsMVtpXS5pbWFnZSA9IHRoaXMuZ2FtZS5hZGQuaW1hZ2UobGFzdF94LCBsYXN0X3ksICd2ZXJmb2xnZXInKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9Ki9cclxuXHJcbiAgIC8vIH1cclxuXHRcclxuXHQvKiogVXBkYXRlIFBvc2l0aW9uXHJcblx0w5xiZXJuaW1tdCBlaW4gT2JqZWt0LCBsaWVzdCBkZXNzZW4gRGF0ZW4gYXVzIHVuZCB6ZWljaG5ldCBwYXNzZW5kIGVpbmVuIFNwcml0ZVxyXG5cdEBwYXJhbSBPYmpla3QgZGFzIGdlemVpY2huZXQgd2VyZGVuIHNvbGxcclxuXHQqL1xyXG5cdGRyYXcob2JqZWt0LCBraWxsKXtcclxuXHRcdGlmKCFraWxsKXtcclxuXHRcdFx0aWYob2JqZWt0LmltYWdlICE9IHVuZGVmaW5lZCl7XHJcblx0XHRcdFx0Ly9vbGR4ID0gb2JqZWt0LmltYWdlLng7XHJcblx0XHRcdFx0Ly9vbGR5ID0gb2JqZWt0LmltYWdlLnk7XHJcblx0XHRcdFx0Ly9BbHRlbiBTcHJpdGUgbMO2c2NoZW5cclxuXHRcdFx0XHRvYmpla3QuaW1hZ2UuZGVzdHJveSgpO1xyXG5cdFx0XHR9XHJcblx0XHRcdG9iamVrdC5pbWFnZSA9IHRoaXMuZ2FtZS5hZGQuc3ByaXRlKG9iamVrdC5nZXRQb3NpdGlvblgoKSp0aGlzLm9iamVrdEdyb2Vzc2Usb2JqZWt0LmdldFBvc2l0aW9uWSgpKnRoaXMub2JqZWt0R3JvZXNzZSxvYmpla3QudHlwKTtcclxuXHRcdFx0XHJcblx0XHRcdC8vLy8vIFRPRE86IFJJQ0hUSUdFIEFOSU1BVElPTiBBQlNQSUVMRU4gLy8vL1xyXG5cdFx0XHRpZihvYmpla3QudHlwID09ICdzcGllbGVyJyl7XHJcblx0XHRcdFx0b2JqZWt0LmltYWdlLmZyYW1lID0gMztcclxuXHRcdFx0fVxyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0aWYob2JqZWt0LmltYWdlICE9IHVuZGVmaW5lZCl7XHJcblx0XHRcdFx0b2JqZWt0LmltYWdlLmRlc3Ryb3koKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxuXHRcclxuXHQvKipcclxuXHRaZWljaG5ldCBQYXVzZWJpbGRzY2hpcm0gZGVyIGF1ZiBkb3duIEtub3BmZHJ1Y2sgdmVyc2Nod2luZGV0Ki9cclxuXHRkcmF3UGF1c2VTY3JlZW4oKXtcclxuXHRcdGlmKHRoaXMudGV4dCA9PSB1bmRlZmluZWQpe1xyXG5cdFx0dGhpcy50ZXh0ID0gdGhpcy5nYW1lLmFkZC50ZXh0KHRoaXMuZ2FtZS53b3JsZC5jZW50ZXJYLCB0aGlzLmdhbWUud29ybGQuY2VudGVyWSwgXCItIFByZXNzIERPV04gdG8gQ29udGludWUgLVwiKTtcclxuXHRcdC8vICBDZW50ZXJzIHRoZSB0ZXh0XHJcbiAgICBcdHRoaXMudGV4dC5hbmNob3Iuc2V0KDAuNSk7XHJcbiAgICBcdHRoaXMudGV4dC5hbGlnbiA9ICdjZW50ZXInO1xyXG5cclxuICAgIFx0Ly8gIE91ciBmb250ICsgc2l6ZVxyXG4gICAgXHR0aGlzLnRleHQuZm9udCA9ICdBcmlhbCc7XHJcbiAgICBcdHRoaXMudGV4dC5mb250V2VpZ2h0ID0gJ2JvbGQnO1xyXG4gICAgXHR0aGlzLnRleHQuZm9udFNpemUgPSAzMDtcclxuICAgIFx0dGhpcy50ZXh0LmZpbGwgPSAnIzEwMTAxMCc7XHJcblx0XHR9XHJcblx0fVxyXG5cdFxyXG5cdC8qKiBMw6Rzc3QgdGV4dCB2ZXJzY2h3aW5kZW4gKi9cclxuXHRyZW1vdmVUZXh0KCl7XHJcblx0XHR0aGlzLmdhbWUud29ybGQucmVtb3ZlKHRoaXMudGV4dCk7XHJcblx0fVxyXG5cclxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2pzUHJvdG8vdmlldy5qcyIsIi8vaW1wb3J0IHsgRWluemVsb2JqZWt0IH0gZnJvbSAnLi9laW56ZWxvYmpla3QnO1xyXG5sZXQgRWluemVsb2JqZWt0ID0gcmVxdWlyZSgnLi9laW56ZWxvYmpla3QuanMnKS5kZWZhdWx0O1xyXG4vKipcclxuKiBUYXVjaHQgenVmw6RsbGlnIGltIFNwaWVsZmVsZCBhdWZcclxuKiBHYW1lIE92ZXIgYmVpIEtvbGxpc2lvbiBtaXQgU2NobGFuZ2VcclxuKi9cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR2VnbmVye1xyXG4gICAgXHJcbiAgICAvKiogQ29uc3RydWN0b3IgKi9cclxuICAgIGNvbnN0cnVjdG9yKF9tYXhYLF9tYXhZLCBfdHlwKSB7XHJcblxyXG4gICAgICAgIC8qKiBHZWduZXIgYmVzdGVodCBhdXMgZWluZXIgTGlzdGUgKi9cclxuXHRcdCAgbGV0IEVpbnplbG9iamVrdCA9IHJlcXVpcmUoJy4vZWluemVsb2JqZWt0LmpzJykuZGVmYXVsdDtcclxuXHRcdCAgdGhpcy50eXAgPSBfdHlwO1xyXG5cdFx0ICB0aGlzLm1heFggPSBfbWF4WCAtIDE7XHJcblx0XHQgIHRoaXMubWF4WSA9IF9tYXhZIC0gMTtcclxuXHRcdCBcclxuXHRcdCAgLyoqXHJcblx0ICAgICBJbml0aWFsaXNpZXJlbiB2b20gQXJyYXkgKi9cclxuXHRcdCAgdGhpcy5saXN0ID0gW25ldyBFaW56ZWxvYmpla3QoXHJcblx0XHRcdCAgXHRcdFx0XHRcdE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqICh0aGlzLm1heFggLSAyICsgMSkpICsgMixcclxuXHRcdFx0ICBcdFx0XHRcdFx0TWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKHRoaXMubWF4WSAtIDIgKyAxKSkgKyAyLCBcclxuXHRcdFx0XHRcdFx0XHQgICB0aGlzLnR5cCldO1xyXG5cdCB9XHJcblx0XHJcblx0LyoqXHJcblx0KiBGw7xndCBlaW4gd2VpdGVyZXMgT2JqZWt0IGRlbSBBcnJheSB6dSBcclxuXHRAcGFyYW0gZ2VnZW5zdGFuZCBtaXQgZGVtIG5pY2h0IGtvbGxpZGllcnQgd2VyZGVuIGRhcmYqL1xyXG5cdGFkZChnZWdlbnN0YW5kKXtcclxuXHRcdHRoaXMubGlzdC5wdXNoKG5ldyBFaW56ZWxvYmpla3QoXHJcblx0XHRcdFx0XHRcdFx0XHRNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAodGhpcy5tYXhYIC0gMiArIDEpKSArIDIsXHJcblx0XHRcdCAgXHRcdFx0XHRcdE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqICh0aGlzLm1heFkgLSAyICsgMSkpICsgMiwgXHJcblx0XHRcdFx0XHRcdFx0ICAgdGhpcy50eXApKTtcclxuXHRcdHRoaXMuc3RhY2tWZXJoaW5kZXJuKGdlZ2Vuc3RhbmQpO1xyXG5cdH1cclxuXHRcclxuXHQvKipcclxuXHQqIFRlc3RldCBvYiBkaWUgT2JqZWt0ZSBkaWVzZXIgTGlzdGUgbWl0IGRlbSBhdWYgZWluZW0gYW5kZXJlbiBPYmpla3Qga29sbGlkaWVyZW5cclxuXHQqICh6YjogVmVyaGluZGVydCBkYXNzIEdlZ25lciBhdWYgUGlja3VwcyBzcGF3bmVuKSovXHJcblx0c3RhY2tWZXJoaW5kZXJuKGdlZ2Vuc3RhbmQpe1xyXG5cdFx0dmFyIGdsZWljaCA9IHRydWU7XHJcblx0XHRmb3IodmFyIGkgPSAwOyBpIDwgdGhpcy5saXN0Lmxlbmd0aDsgaSsrKXtcclxuXHRcdFx0d2hpbGUoZ2xlaWNoKXtcclxuXHRcdFx0XHQvL1hLb29yZGluYXRlIMO8YmVycHLDvGZlblxyXG5cdFx0XHRcdGlmKHRoaXMubGlzdFtpXS5nZXRQb3NpdGlvblgoKSA9PSBnZWdlbnN0YW5kLmdldFBvc2l0aW9uWCgpKXtcclxuXHRcdFx0XHRcdC8vWUtvb3JkaW5hdGUgw7xiZXJwcsO8ZmVuXHJcblx0XHRcdFx0XHRpZih0aGlzLmxpc3RbaV0uZ2V0UG9zaXRpb25ZKCkgPT0gZ2VnZW5zdGFuZC5nZXRQb3NpdGlvblkoKSl7XHJcblx0XHRcdFx0XHRcdC8vQmVpIEdsZWljaGhlaXQgcmVzcGF3bmVuXHJcblx0XHRcdFx0XHRcdHRoaXMucmVzZXQodGhpcy5saXN0W2ldKTtcclxuXHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdGdsZWljaCA9IGZhbHNlO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRnbGVpY2ggPSBmYWxzZTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcblx0XHJcblx0LyoqXHJcblx0KiBTZXR6dCBhbGxlIEluaGFsdGUgYXVmIG5ldWUgenVmw6RsbGlnZSBQb3NpdGlvbmVuICovXHJcblx0cmVzcGF3bihnZWdlbnN0YW5kKXtcclxuXHRcdGZvcih2YXIgaSA9IDA7IGkgPCB0aGlzLmxpc3QubGVuZ3RoOyBpKyspe1xyXG5cdFx0XHR0aGlzLnJlc2V0KHRoaXMubGlzdFtpXSk7XHJcblx0XHR9XHJcblx0XHR0aGlzLnN0YWNrVmVyaGluZGVybihnZWdlbnN0YW5kKTtcclxuXHR9XHJcblx0XHJcblx0LyoqXHJcblx0KiBTZXR6dCBlaW4gRWluemVsb2JqZWt0IGF1ZiBuZXVlIFBvc2l0aW9uICovXHJcblx0cmVzZXQob2JqZWt0KXtcclxuXHRcdG9iamVrdC5zZXRQb3NpdGlvblgoTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKHRoaXMubWF4WCAtIDIgKyAxKSkgKyAyKTtcclxuXHRcdG9iamVrdC5zZXRQb3NpdGlvblkoTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKHRoaXMubWF4WSAtIDIgKyAxKSkgKyAyKTtcclxuXHR9XHJcblx0XHJcblx0LyoqIGdpYnQgZGllIGluZm9ybWF0aW9uZW4gw7xiZXIgYWxsZSBHZWduZXIgYWxzIEFycmF5IHp1csO8Y2sgKi9cclxuXHRnZXRJbmZvKCl7XHJcblx0XHRyZXR1cm4gdGhpcy5saXN0O1xyXG5cdH1cclxuICAgIFxyXG4gICAgXHJcbn1cclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vanNQcm90by9nZWduZXIuanMiLCJpbXBvcnQgJ3BpeGknO1xyXG5pbXBvcnQgJ3AyJztcclxuaW1wb3J0ICdwaGFzZXInO1xyXG5cclxuLyoqIFxyXG4qIEhBVVBUS0xBU1NFIFxyXG4qIEVyemV1Z3QgTW9kZWwsIFZpZXcgdW5kIENvbnRyb2xsZXJcclxuKiBJbXBsZW1lbnRpZXJ0IHByZWxvYWQoKSwgY3JlYXRlKCkgdW5kIHVwZGF0ZSgpLU1ldGhvZGUgZsO8ciBQaGFzZXIuR2FtZVxyXG4qL1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNYWluIHtcclxuXHJcbiAgICAvKipcclxuICAgICogQ29uc3RydWN0b3JcclxuICAgICogQHBhcmFtIGdhbWUgOiBQaGFzZXIuR2FtZS1PYmpla3RcclxuICAgICogQHBhcmFtIGNhbnZhc1dpZHRoIDogQ2FudmFzLUJyZWl0ZVxyXG4gICAgKiBAcGFyYW0gY2FudmFzSGVpZ2h0IDogQ2FudmFzLUjDtmhlXHJcbiAgICAqL1xyXG4gICAgY29uc3RydWN0b3IoZ2FtZSwgY2FudmFzV2lkdGgsIGNhbnZhc0hlaWdodCkge1xyXG5cclxuICAgICAgICAvKiogXHJcbiAgICAgICAgKiBQaGFzZXIuR2FtZSBPYmpla3QgXHJcbiAgICAgICAgKiBXaXJkIGJlbsO2dGlndCB1bSBhdWYgamVnbGljaGUgRnVua3Rpb25lbiBkZXMgRnJhbWV3b3JrcyB6dXp1Z3JlaWZlbi5cclxuICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuZ2FtZSA9IGdhbWU7XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICogQ2FudmFzIEjDtmhlIHVuZCBCcmVpdGVcclxuICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuY2FudmFzV2lkdGggPSBjYW52YXNXaWR0aDtcclxuICAgICAgICB0aGlzLmNhbnZhc0hlaWdodCA9IGNhbnZhc0hlaWdodDtcclxuXHJcbiAgICAgICAgLyoqIFxyXG4gICAgICAgICogS2xhc3NlbmltcG9ydGUgXHJcbiAgICAgICAgKi9cclxuICAgICAgICBsZXQgU2NobGFuZ2UgPSByZXF1aXJlKCcuL3NjaGxhbmdlLmpzJykuZGVmYXVsdDsgLy8ga2xhc3NlbiBpbXBvcnRcclxuICAgICAgICB0aGlzLnNjaGxhbmdlID0gbmV3IFNjaGxhbmdlKCk7XHJcblxyXG4gICAgICAgIGxldCBWaWV3ID0gcmVxdWlyZSgnLi92aWV3LmpzJykuZGVmYXVsdDsgLy8ga2xhc3NlbiBpbXBvcnRcclxuICAgICAgICB0aGlzLnZpZXcgPSBuZXcgVmlldyh0aGlzLmdhbWUsIHRoaXMuc2NobGFuZ2UpO1xyXG5cclxuICAgICAgICBsZXQgQ29udHJvbGxlciA9IHJlcXVpcmUoJy4vY29udHJvbGxlci5qcycpLmRlZmF1bHQ7IC8vIGtsYXNzZW4gaW1wb3J0XHJcbiAgICAgICAgdGhpcy5jb250cm9sbGVyID0gbmV3IENvbnRyb2xsZXIodGhpcy5nYW1lLCB0aGlzLnZpZXcsIHRoaXMuY2FudmFzV2lkdGgsIHRoaXMuY2FudmFzSGVpZ2h0KTtcclxuXHJcbiAgICAgICAgLyoqIFxyXG4gICAgICAgICogWnVyIFN0ZXVlcnVuZyBkZXIgR2VzY2h3aW5kaWdrZWl0IGluIGRlciBHYW1lLUxvb3AgXHJcbiAgICAgICAgKi9cclxuICAgICAgICB0aGlzLmZyYW1lQ291bnRlciA9IDA7XHJcbiAgICAgICAgdGhpcy5zcGllbGdlc2Nod2luZGlna2VpdCA9IDIwO1xyXG5cdFx0IFxyXG5cdFx0ICAvKipcclxuXHRcdCAgKiBTdGV1ZXJ1bmcgZGVyIFNwYXdubG9naWsgdm9uIFNjaGxhbmdlbkvDtnJwZXJ0ZWlsZW4qL1xyXG5cdFx0ICB0aGlzLnNuZWtTcGF3biA9IDA7XHJcblx0XHQgXHJcblx0XHQgIC8qKlxyXG5cdFx0ICAqIFNwaWVsU3RhbmQgKi9cclxuXHRcdCAgLy90aGlzLnNjb3JlID0gMDtcclxuXHRcdCBcclxuXHRcdCAgLyoqXHJcblx0XHQgICogVHlwIGRlciBha3R1ZWxsZW4gS29sbGlzaW9uICovXHJcblx0XHQgIHRoaXMua29sbGlzaW9uc3R5cCA9ICdmcmVpJztcclxuXHRcdCBcclxuXHRcdCAgLyoqXHJcblx0XHQgICogSXN0IGRhcyBzcGllbCBwYXVzaWVydCBvZGVyIG5pY2h0XHJcblx0XHQgICogZsOkbmd0IG1pdCB0cnVlIGFuIChQcmVzcyBhbnkgS2V5IHRvIGNvbnRpbnVlKSovXHJcblx0XHQgIHRoaXMucGF1c2VkID0gdHJ1ZTtcclxuXHRcdCBcclxuXHRcdCAgLyoqXHJcblx0XHQgICogSXN0IGRlciBTcGllbGVyIHRvdCBvZGVyIG5pY2h0ICovXHJcblx0XHQgIHRoaXMuZGVhZCA9IGZhbHNlO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICAvKiogXHJcbiAgICAqIFBIQVNFUi1NZXRob2RlIFNQUklURVMvREFURUlFTiBMQURFTlxyXG4gICAgKiBDYW52YXMtRWluc3RlbGx1bmdlbiB1bmQgQmlsZC0vQXVkaW8tRGF0ZWllblxyXG4gICAgKi9cclxuICAgIHByZWxvYWQoKSB7XHJcbiAgICAgICAgdGhpcy5nYW1lLnN0YWdlLmJhY2tncm91bmRDb2xvciA9IFwiI0ZGRlwiOyAvLyBoaWVyIHNww6R0ZXIgZXZ0bCBlaW4gQm9kZW4tSGludGVyZ3J1bmRiaWxkXHJcblxyXG4gICAgICAgIHRoaXMuZ2FtZS5sb2FkLnNwcml0ZXNoZWV0KCdzcGllbGVyJywgJy4uL2ltYWdlcy9zcGllbGVyLnBuZycsIDYwLCA2MCwgMTIpO1xyXG4gICAgICAgIHRoaXMuZ2FtZS5sb2FkLmltYWdlKCd2ZXJmb2xnZXInLCAnLi4vaW1hZ2VzL3ZlcmZvbGdlci5qcGcnKTtcclxuICAgICAgICB0aGlzLmdhbWUubG9hZC5pbWFnZSgnc3RlaW4nLCAnLi4vaW1hZ2VzL3N0ZWluLmpwZycpO1xyXG5cdFx0ICB0aGlzLmdhbWUubG9hZC5pbWFnZSgnaXRlbScsICcuLi9pbWFnZXMvaXRlbS5qcGcnKTtcclxuICAgICAgICAvLyB1c3cuLi5cclxuICAgIH1cclxuXHJcbiAgICAvKiogXHJcbiAgICAqIFBIQVNFUi1NZXRob2RlIE9CSkVLVEUgRVJaRVVHRU4gXHJcbiAgICAqIEhpZXIgd2VyZGVuIGRpZSBiZW7DtnRpZ3RlbiBPYmpla3RlIHVuZCBkaWUgU3RldWVydW5nIGVyemV1Z3QuXHJcbiAgICAqL1xyXG4gICAgY3JlYXRlKCkge1xyXG5cclxuICAgICAgICAvKiogU2NobGFuZ2UgYXVzIFNwaWVsZXIgdW5kIFZlcmZvbGdlciBlcnpldWdlbiAqL1xyXG4gICAgICAgIC8vdGhpcy52aWV3LnplaWNobmVTY2hsYW5nZSgpO1xyXG4gICAgICAgIC8vdGhpcy52aWV3LmxhZW5nZW5BbnplaWdlKCk7XHJcblx0XHQgIHRoaXMuY29udHJvbGxlci56ZWljaG5lT2JqZWt0ZSgpO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICAvKiogXHJcbiAgICAqIFBIQVNFUi1NZXRob2RlIEdBTUVMT09QXHJcbiAgICAqIEhpZXIgd2lyZCBkaWUgU3BpZWxlLUxvZ2lrIGR1cmNobGF1ZmVuISEhXHJcbiAgICAqL1xyXG4gICAgdXBkYXRlKCkgeyBcclxuXHRcdCBcclxuXHRcdCAgLy9XZW5uIGRhcyBTcGllbCBuaWNodCBwYXVzaWVydCBpc3RcclxuXHRcdCAgaWYoIXRoaXMucGF1c2VkKXtcclxuXHJcbiAgICAgICAgdGhpcy5jb250cm9sbGVyLnVwZGF0ZUxhdWZyaWNodHVuZygpOyAvLyBMYXVmcmljaHR1bmcgYWt0dWFsaXNpZXJlblxyXG4gICAgICAgIHRoaXMuZnJhbWVDb3VudGVyKys7XHJcblxyXG4gICAgICAgIC8qKiBcclxuICAgICAgICAqIERpZXNlIGlmLUFiZnJhZ2UgcmVnZWx0IGRpZSBHZXNjaHdpbmRpZ2tlaXQgZGVzIFNwaWVscywgZGEgZGllIFxyXG4gICAgICAgICogdXBkYXRlKCktTWV0aG9kZSBhdXMgUGhhc2VyIGVpbiBzZWhyIHNjaG5lbGxlciB1bmQgdW5lbmRsaWNoZXIgTG9vcCBpc3QuXHJcbiAgICAgICAgKlxyXG4gICAgICAgICogRGllc2UgdXBkYXRlKCktTG9vcCBsw6R1ZnQgYWxzbyBkdXJjaCB1bmVuZGxpY2ggdmllbGUgXCJGcmFtZXNcIiB1bmQgZHVyY2ggZnJhbWVDb3VudGVyIHVuZCBzcGllbGdlc2Nod2luZGlna2VpdCB3aXJkIGVzIFxyXG4gICAgICAgICogbnVuIHNvIGVpbmdlc3RlbGx0IGRhcyBhbGxlIDIwIEZyYW1lcyAxIEFrdGlvbiBhdXNnZWbDvGhydCB3aXJkIHVuZCBkZXIgTG9vcCBkYW5uIHdpZWRlciB2b24gdm9ybmUgYmVnaW5udC5cclxuICAgICAgICAqL1xyXG4gICAgICAgIGlmICh0aGlzLmZyYW1lQ291bnRlciA9PSB0aGlzLnNwaWVsZ2VzY2h3aW5kaWdrZWl0KSB7XHJcblxyXG4gICAgICAgICAgICAvLyBISUVSIFdJUkQgRElFIFNDSExBTkdFIE1JVCBERU0gQ1VSU09SIEJFV0VHVFxyXG4gICAgICAgICAgICB0aGlzLmNvbnRyb2xsZXIuYmV3ZWdlU2NobGFuZ2UoKTtcclxuXHRcdFx0ICAgXHJcblx0XHRcdCAgXHQvLyBPQkpFS1RFIFdFUkRFTiBBVVRPTUFUSVNDSCBJTSBDT05UUk9MTEVSIElOSVRJQUxJU0lFUlQgVU5EIEdFU1BBV05UIVxyXG5cdFx0XHQgIFxyXG5cdFx0XHQgICAvLyBISUVSIFdFUkRFTiBLT0xMSVNJT05FTiBBQkdFRlJBR1QgXHJcblx0XHRcdCAgIHRoaXMua29sbGlzaW9uc3R5cCA9IHRoaXMuY29udHJvbGxlci5rb2xsaXNpb24oKTtcclxuXHRcdFx0ICBcdFxyXG5cdFx0XHQgICBpZih0aGlzLmtvbGxpc2lvbnN0eXAgIT0gJ2ZyZWknKXtcclxuXHRcdFx0ICBcdHN3aXRjaCh0aGlzLmtvbGxpc2lvbnN0eXApIHtcclxuXHRcdFx0XHRcdGNhc2UgJ2ZlaW5kJzogLyoqIFRPRE86IEdBTUVPVkVSOyovIGNvbnNvbGUubG9nKCdHQU1FT1ZFUicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHRcdFx0XHRcdGNhc2UgJ2Jvb24nOiAvKiogVE9ETzogQXBwbHkgQm9vbjsqLyBjb25zb2xlLmxvZygnQk9PTicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgY2FzZSAncGlja3VwJzogdGhpcy5jb250cm9sbGVyLnJlc3Bhd25BbGwoKTsgXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0dGhpcy5jb250cm9sbGVyLnZlcmt1ZXJ6ZVNjaGxhbmdlKCk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0Ly90aGlzLnNjb3JlICsgMTA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICB9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHQgIFxyXG4gICAgICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8gVE9ETzogLy8vLy8vLy8vLy8vLy8vLy8vXHJcblx0XHRcdCAgXHJcblxyXG4gICAgICAgICAgICAvKlxyXG4gICAgICAgICAgICBpZiAodGhpcy52aWV3LmtvbGxpc2lvbk1pdFZlcmZvbGdlcigpIHx8IHRoaXMudmlldy5rb2xsaXNpb25NaXRGZWluZCgpIHx8IHRoaXMudmlldy5rb2xsaXNpb25NaXRXYW5kKCkpIHtcclxuICAgICAgICAgICAgICAgIC8vIEdhbWUgb3Zlci4uLi1NZWxkdW5nXHJcbiAgICAgICAgICAgICAgICAvLyB0aGlzLnZpZXcubG9lc2NoZVNjaGxhbmdlKCk7IC8vIHNjaGxhbmdlIGzDtnNjaGVuXHJcblxyXG4gICAgICAgICAgICAgICAgLy8gdGhpcy52aWV3LnplaWNobmVTY2hsYW5nZV9MVkwxKCk7IC8vIG5ldWUgc2NobGFuZ2UgaW5pdGlhbGlzaWVyZW5cclxuICAgICAgICAgICAgICAgIC8vIHRoaXMuc3BpZWxnZXNjaHdpbmRpZ2tlaXQgPSAyMDsgLy8gR2VzY2h3aW5kaWdrZWl0IHJlc2V0ZW5cclxuICAgICAgICAgICAgICAgIC8vIGxhdWZyaWNodHVuZyByZXNldGVuXHJcbiAgICAgICAgICAgICAgICAvLyBzdGFydCBkZXMgU3BpZWxlcnMgcmVzZXRlblxyXG4gICAgICAgICAgICAgICAgLy8gUHVua3Rlc3RhbmQgcmVzZXRlblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBpZiAodGhpcy52aWV3LmtvbGxpc2lvbk1pdFBpY2t1cCgpKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBQdW5rdGVzdGFuZCByYXVmc2V0emVuXHJcbiAgICAgICAgICAgICAgICAvLyBQaWNrdXAgbMO2c2NoZW5cclxuICAgICAgICAgICAgICAgIC8vIHRoaXMudmlldy5wbGF0emllcmVSYW5kb21QaWNrdXAoKTsgLy8gbmV1ZXMgUGlja3VwIHBsYXR6aWVyZW5cclxuICAgICAgICAgICAgICAgIC8vIHRoaXMuc3BpZWxnZXNjaHdpbmRpZ2tlaXQtLTsgLy8gc3BpZWxnZXNjaHdpbmRpZ2tlaXQgdmVyZ3LDtsOfZXJuP1xyXG4gICAgICAgICAgICAgICAgLy8gaWYgKHRoaXMuc3BpZWxnZXNjaHdpbmRpZ2tlaXQgPD0gNSkgeyAvLyBnZXNjaHdpbmRpZ2tlaXQgbmllIGtsZWluZXIgYWxzIDVcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNwaWVsZ2VzY2h3aW5kaWdrZWl0ID0gNTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICAvLyAuLi5cclxuXHRcdFx0ICBcdCBcdC8vIEhJRVIgV0VSREVOIERJRSBFSU5aRUxFTkVOIEtPTVBPTkVOVEVOIEdFWkVJQ0hORVRcclxuXHRcdFx0ICBcdFx0dGhpcy5jb250cm9sbGVyLnplaWNobmVPYmpla3RlKCk7XHJcblx0XHRcdCAgXHQvL0VyaMO2aGVuIGRlcyBsb2dpayBjb3VudGVyc1xyXG5cdFx0XHQgIFx0dGhpcy5zbmVrU3Bhd24rKztcclxuXHRcdFx0ICAgdGhpcy5zbmVrU3Bhd24gJT0gMTA7IFxyXG5cdFx0XHQgICBpZih0aGlzLnNuZWtTcGF3biA9PSAwKXtcclxuXHRcdFx0XHRcdHRoaXMuY29udHJvbGxlci52ZXJncm9lc3NlcmVTY2hsYW5nZSgpO1xyXG5cdFx0XHRcdH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuZnJhbWVDb3VudGVyID0gMDtcclxuICAgICAgICB9XHJcblxyXG4gICAgfSBlbHNlIGlmKHRoaXMuZGVhZCl7IC8vV2FzIFBhc3NpZXJ0IHdlbm4gZGFzIFNwaWVsIG5pY2h0IFBhdXNpZXJ0IHNvbmRlcm4genVlbmRlIGlzdD8gKFRvdClcclxuXHRcdC8vIEhJRVIgVE9UIFNDUkVFTiBFSU5Gw5xHRU5cclxuXHR9IGVsc2UgeyAvL1dhcyBwYXNzaWVydCB1bSBkYXMgU3BpZWwgenUgc3RhcnRlbiBiencgd2FzIHBhc3NpZXJ0IGltIFBhdXNlc2NyZWVuPyBcclxuXHRcdHRoaXMudmlldy5kcmF3UGF1c2VTY3JlZW4oKTtcclxuXHRcdC8vV2VubiBlaW5lIFRhc3RlIGdlZHLDvGNrdCBpc3RcclxuXHRcdGlmKHRoaXMuY29udHJvbGxlci5nZXRDdXJzb3IoKS5kb3duLmlzRG93bil7XHJcblx0XHRcdHRoaXMucGF1c2VkID0gZmFsc2U7XHJcblx0XHRcdHRoaXMudmlldy5yZW1vdmVUZXh0KCk7XHJcbiAgICAgICAgICAgIHRoaXMuY29udHJvbGxlci5jYWxjdWxhdGVTZWNvbmRzKCk7XHJcblx0XHRcdH1cclxuXHR9ICBcclxuXHJcbiB9XHJcblx0XHJcbn1cclxuXHJcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbi8vLy8vLy8vLy8vLy8vLy8vKiogU3RhcnQgc29iYWxkIEJyb3dzZXJmZW5zdGVyIGdlbGFkZW4gKi8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgKCkgPT4ge1xyXG5cclxuICAgIC8qKiBFaW5zdGVsbHVuZ2VuIGbDvHIgZGFzIENhbnZhcyAqL1xyXG4gICAgY29uc3QgY2FudmFzV2lkdGggPSA5MDA7XHJcbiAgICBjb25zdCBjYW52YXNIZWlnaHQgPSA2NjA7XHJcblxyXG4gICAgLyoqIFxyXG4gICAgKiBQSEFTRVIuR0FNRSBPQkpFS1RcclxuICAgICogRXJ6ZXVndCBkYXMgQ2FudmFzIHVuZCBkaWUgUGhhc2VyLU1ldGhvZGVuIGRpZSBcclxuICAgICogaW1wbGVtZW50aWVydCB3ZXJkZW4gbcO8c3NlbiBmw7xyIGRlbiBTcGllbGVhYmxhdWZcclxuICAgICovXHJcbiAgICBsZXQgZ2FtZSA9IG5ldyBQaGFzZXIuR2FtZShcclxuICAgICAgICBjYW52YXNXaWR0aCwgICAgLy8gY2FudmFzIGJyZWl0ZVxyXG4gICAgICAgIGNhbnZhc0hlaWdodCwgICAvLyBjYW52YXMgaMO2aGVcclxuICAgICAgICBQaGFzZXIuQ0FOVkFTLCAgLy8gcmVuZGVyaW5nLXR5cFxyXG4gICAgICAgICdnYW1lLWJveCcsICAgICAvLyBpZCBkZXMgZWx0ZXJua25vdGVucyBpbiBkZW0gY2FudmFzIGVyemV1Z3Qgd2VyZGVuIHNvbGxcclxuICAgICAgICB7ICAgXHJcbiAgICAgICAgICAgIC8vIEZ1bmt0aW9uZW4gZGllIGltcGxlbWVudGllcnQgd2VyZGVuIE3DnFNTRU4gXHJcbiAgICAgICAgICAgIHByZWxvYWQ6IHByZWxvYWQsIC8vIERhdGVpZW4gbGFkZW5cclxuICAgICAgICAgICAgY3JlYXRlOiBjcmVhdGUsICAgLy8gT2JqZWt0ZSBlcnpldWdlblxyXG4gICAgICAgICAgICB1cGRhdGU6IHVwZGF0ZSAgICAvLyBHYW1lbG9vcFxyXG4gICAgICAgIH1cclxuICAgICk7XHJcblxyXG4gICAgLyoqIEhhdXB0a2xhc3NlICovXHJcbiAgICBsZXQgbWFpbiA9IG5ldyBNYWluKGdhbWUsIGNhbnZhc1dpZHRoLCBjYW52YXNIZWlnaHQpO1xyXG5cclxuICAgIC8qKiBQSEFTRVItTWV0aG9kZSBTUFJJVEVTL0RBVEVJRU4gTEFERU4gKi9cclxuICAgIGZ1bmN0aW9uIHByZWxvYWQoKSB7XHJcbiAgICAgICAgbWFpbi5wcmVsb2FkKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqIFBIQVNFUi1NZXRob2RlIE9CSkVLVEUgRVJaRVVHRU4gKi9cclxuICAgIGZ1bmN0aW9uIGNyZWF0ZSgpIHtcclxuICAgICAgICBtYWluLmNyZWF0ZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKiBQSEFTRVItTWV0aG9kZSBHQU1FTE9PUCAqL1xyXG4gICAgZnVuY3Rpb24gdXBkYXRlKCkge1xyXG4gICAgICAgIG1haW4udXBkYXRlKCk7XHJcbiAgICB9XHJcblxyXG59KTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9qc1Byb3RvL21haW4uanMiLCIvKiBQaGFzZXIgdjIuOS40IFBJWEkgQnVpbGQgLSBodHRwOi8vcGhhc2VyLmlvIC0gQHBob3RvbnN0b3JtIC0gKGMpIDIwMTYgUGhvdG9uIFN0b3JtIEx0ZC4gKi9cclxuXHJcbihmdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0LHIscyl7dmFyIG89ZS5jcmVhdGVUZXh0dXJlKCk7cmV0dXJuIGUuYmluZFRleHR1cmUoZS5URVhUVVJFXzJELG8pLGUudGV4UGFyYW1ldGVyaShlLlRFWFRVUkVfMkQsZS5URVhUVVJFX1dSQVBfUyxlLkNMQU1QX1RPX0VER0UpLGUudGV4UGFyYW1ldGVyaShlLlRFWFRVUkVfMkQsZS5URVhUVVJFX1dSQVBfVCxlLkNMQU1QX1RPX0VER0UpLGUudGV4UGFyYW1ldGVyaShlLlRFWFRVUkVfMkQsZS5URVhUVVJFX01BR19GSUxURVIscz09PWkuc2NhbGVNb2Rlcy5MSU5FQVI/ZS5MSU5FQVI6ZS5ORUFSRVNUKSxlLnRleFBhcmFtZXRlcmkoZS5URVhUVVJFXzJELGUuVEVYVFVSRV9NSU5fRklMVEVSLHM9PT1pLnNjYWxlTW9kZXMuTElORUFSP2UuTElORUFSOmUuTkVBUkVTVCksZS50ZXhJbWFnZTJEKGUuVEVYVFVSRV8yRCwwLGUuUkdCQSx0LHIsMCxlLlJHQkEsZS5VTlNJR05FRF9CWVRFLG51bGwpLG99ZnVuY3Rpb24gdCh0LHIsaSxvLGEpe3ZhciBuPXQuY3JlYXRlRnJhbWVidWZmZXIoKSxoPXQuY3JlYXRlUmVuZGVyYnVmZmVyKCksbD1udWxsLHU9MDtyZXR1cm4gdC5hY3RpdmVUZXh0dXJlKHQuVEVYVFVSRTArYSksdC5iaW5kRnJhbWVidWZmZXIodC5GUkFNRUJVRkZFUixuKSx0LmJpbmRSZW5kZXJidWZmZXIodC5SRU5ERVJCVUZGRVIsaCksdC5mcmFtZWJ1ZmZlclJlbmRlcmJ1ZmZlcih0LkZSQU1FQlVGRkVSLHQuREVQVEhfU1RFTkNJTF9BVFRBQ0hNRU5ULHQuUkVOREVSQlVGRkVSLHRoaXMucmVuZGVyQnVmZmVyKSxsPWUodCxyLGksbyksdC5mcmFtZWJ1ZmZlclRleHR1cmUyRCh0LkZSQU1FQlVGRkVSLHQuQ09MT1JfQVRUQUNITUVOVDAsdC5URVhUVVJFXzJELGwsMCksKHU9dC5jaGVja0ZyYW1lYnVmZmVyU3RhdHVzKHQuRlJBTUVCVUZGRVIpKSE9PXQuRlJBTUVCVUZGRVJfQ09NUExFVEUmJmNvbnNvbGUuZXJyb3IoXCJJbmNvbXBsZXRlIEdMIGZyYW1lYnVmZmVyLiBcIixzW3VdKSxuLndpZHRoPXIsbi5oZWlnaHQ9aSxuLnRhcmdldFRleHR1cmU9bCxuLnJlbmRlckJ1ZmZlcj1oLG59dmFyIHI9dGhpcyxpPWl8fHt9O2kuRGlzcGxheU9iamVjdD1mdW5jdGlvbigpe3RoaXMucG9zaXRpb249bmV3IGkuUG9pbnQoMCwwKSx0aGlzLnNjYWxlPW5ldyBpLlBvaW50KDEsMSksdGhpcy5waXZvdD1uZXcgaS5Qb2ludCgwLDApLHRoaXMucm90YXRpb249MCx0aGlzLmFscGhhPTEsdGhpcy52aXNpYmxlPSEwLHRoaXMuaGl0QXJlYT1udWxsLHRoaXMucmVuZGVyYWJsZT0hMSx0aGlzLnBhcmVudD1udWxsLHRoaXMud29ybGRBbHBoYT0xLHRoaXMud29ybGRUcmFuc2Zvcm09bmV3IFBoYXNlci5NYXRyaXgsdGhpcy53b3JsZFBvc2l0aW9uPW5ldyBpLlBvaW50KDAsMCksdGhpcy53b3JsZFNjYWxlPW5ldyBpLlBvaW50KDEsMSksdGhpcy53b3JsZFJvdGF0aW9uPTAsdGhpcy5maWx0ZXJBcmVhPW51bGwsdGhpcy5fc3I9MCx0aGlzLl9jcj0xLHRoaXMuX2JvdW5kcz1uZXcgaS5SZWN0YW5nbGUoMCwwLDAsMCksdGhpcy5fY3VycmVudEJvdW5kcz1udWxsLHRoaXMuX21hc2s9bnVsbCx0aGlzLl9jYWNoZUFzQml0bWFwPSExLHRoaXMuX2NhY2hlSXNEaXJ0eT0hMX0saS5EaXNwbGF5T2JqZWN0LnByb3RvdHlwZT17Y29uc3RydWN0b3I6aS5EaXNwbGF5T2JqZWN0LGRlc3Ryb3k6ZnVuY3Rpb24oKXtpZih0aGlzLmNoaWxkcmVuKXtmb3IodmFyIGU9dGhpcy5jaGlsZHJlbi5sZW5ndGg7ZS0tOyl0aGlzLmNoaWxkcmVuW2VdLmRlc3Ryb3koKTt0aGlzLmNoaWxkcmVuPVtdfXRoaXMuaGl0QXJlYT1udWxsLHRoaXMucGFyZW50PW51bGwsdGhpcy53b3JsZFRyYW5zZm9ybT1udWxsLHRoaXMuZmlsdGVyQXJlYT1udWxsLHRoaXMucmVuZGVyYWJsZT0hMSx0aGlzLl9ib3VuZHM9bnVsbCx0aGlzLl9jdXJyZW50Qm91bmRzPW51bGwsdGhpcy5fbWFzaz1udWxsLHRoaXMuX2Rlc3Ryb3lDYWNoZWRTcHJpdGUoKX0sdXBkYXRlVHJhbnNmb3JtOmZ1bmN0aW9uKGUpe2lmKCFlJiYhdGhpcy5wYXJlbnQmJiF0aGlzLmdhbWUpcmV0dXJuIHRoaXM7dmFyIHQ9dGhpcy5wYXJlbnQ7ZT90PWU6dGhpcy5wYXJlbnR8fCh0PXRoaXMuZ2FtZS53b3JsZCk7dmFyIHIsaSxzLG8sYSxuLGg9dC53b3JsZFRyYW5zZm9ybSxsPXRoaXMud29ybGRUcmFuc2Zvcm07dGhpcy5yb3RhdGlvbiVQaGFzZXIuTWF0aC5QSTI/KHRoaXMucm90YXRpb24hPT10aGlzLnJvdGF0aW9uQ2FjaGUmJih0aGlzLnJvdGF0aW9uQ2FjaGU9dGhpcy5yb3RhdGlvbix0aGlzLl9zcj1NYXRoLnNpbih0aGlzLnJvdGF0aW9uKSx0aGlzLl9jcj1NYXRoLmNvcyh0aGlzLnJvdGF0aW9uKSkscj10aGlzLl9jcip0aGlzLnNjYWxlLngsaT10aGlzLl9zcip0aGlzLnNjYWxlLngscz0tdGhpcy5fc3IqdGhpcy5zY2FsZS55LG89dGhpcy5fY3IqdGhpcy5zY2FsZS55LGE9dGhpcy5wb3NpdGlvbi54LG49dGhpcy5wb3NpdGlvbi55LCh0aGlzLnBpdm90Lnh8fHRoaXMucGl2b3QueSkmJihhLT10aGlzLnBpdm90Lngqcit0aGlzLnBpdm90LnkqcyxuLT10aGlzLnBpdm90LngqaSt0aGlzLnBpdm90LnkqbyksbC5hPXIqaC5hK2kqaC5jLGwuYj1yKmguYitpKmguZCxsLmM9cypoLmErbypoLmMsbC5kPXMqaC5iK28qaC5kLGwudHg9YSpoLmErbipoLmMraC50eCxsLnR5PWEqaC5iK24qaC5kK2gudHkpOihyPXRoaXMuc2NhbGUueCxpPTAscz0wLG89dGhpcy5zY2FsZS55LGE9dGhpcy5wb3NpdGlvbi54LXRoaXMucGl2b3QueCpyLG49dGhpcy5wb3NpdGlvbi55LXRoaXMucGl2b3QueSpvLGwuYT1yKmguYSxsLmI9cipoLmIsbC5jPW8qaC5jLGwuZD1vKmguZCxsLnR4PWEqaC5hK24qaC5jK2gudHgsbC50eT1hKmguYituKmguZCtoLnR5KSxyPWwuYSxpPWwuYixzPWwuYzt2YXIgdT1yKihvPWwuZCktaSpzO2lmKHJ8fGkpe3ZhciBkPU1hdGguc3FydChyKnIraSppKTt0aGlzLndvcmxkUm90YXRpb249aT4wP01hdGguYWNvcyhyL2QpOi1NYXRoLmFjb3Moci9kKSx0aGlzLndvcmxkU2NhbGUueD1kLHRoaXMud29ybGRTY2FsZS55PXUvZH1lbHNlIGlmKHN8fG8pe3ZhciBjPU1hdGguc3FydChzKnMrbypvKTt0aGlzLndvcmxkUm90YXRpb249UGhhc2VyLk1hdGguSEFMRl9QSS0obz4wP01hdGguYWNvcygtcy9jKTotTWF0aC5hY29zKHMvYykpLHRoaXMud29ybGRTY2FsZS54PXUvYyx0aGlzLndvcmxkU2NhbGUueT1jfWVsc2UgdGhpcy53b3JsZFNjYWxlLng9MCx0aGlzLndvcmxkU2NhbGUueT0wO3JldHVybiB0aGlzLndvcmxkQWxwaGE9dGhpcy5hbHBoYSp0LndvcmxkQWxwaGEsdGhpcy53b3JsZFBvc2l0aW9uLng9bC50eCx0aGlzLndvcmxkUG9zaXRpb24ueT1sLnR5LHRoaXMuX2N1cnJlbnRCb3VuZHM9bnVsbCx0aGlzLnRyYW5zZm9ybUNhbGxiYWNrJiZ0aGlzLnRyYW5zZm9ybUNhbGxiYWNrLmNhbGwodGhpcy50cmFuc2Zvcm1DYWxsYmFja0NvbnRleHQsbCxoKSx0aGlzfSxwcmVVcGRhdGU6ZnVuY3Rpb24oKXt9LGdlbmVyYXRlVGV4dHVyZTpmdW5jdGlvbihlLHQscil7dmFyIHM9dGhpcy5nZXRMb2NhbEJvdW5kcygpLG89bmV3IFBoYXNlci5SZW5kZXJUZXh0dXJlKHRoaXMuZ2FtZSwwfHMud2lkdGgsMHxzLmhlaWdodCxyLHQsZSk7cmV0dXJuIGkuRGlzcGxheU9iamVjdC5fdGVtcE1hdHJpeC50eD0tcy54LGkuRGlzcGxheU9iamVjdC5fdGVtcE1hdHJpeC50eT0tcy55LG8ucmVuZGVyKHRoaXMsaS5EaXNwbGF5T2JqZWN0Ll90ZW1wTWF0cml4KSxvfSx1cGRhdGVDYWNoZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZW5lcmF0ZUNhY2hlZFNwcml0ZSgpLHRoaXN9LHRvR2xvYmFsOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnVwZGF0ZVRyYW5zZm9ybSgpLHRoaXMud29ybGRUcmFuc2Zvcm0uYXBwbHkoZSl9LHRvTG9jYWw6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdCYmKGU9dC50b0dsb2JhbChlKSksdGhpcy51cGRhdGVUcmFuc2Zvcm0oKSx0aGlzLndvcmxkVHJhbnNmb3JtLmFwcGx5SW52ZXJzZShlKX0sX3JlbmRlckNhY2hlZFNwcml0ZTpmdW5jdGlvbihlKXt0aGlzLl9jYWNoZWRTcHJpdGUud29ybGRBbHBoYT10aGlzLndvcmxkQWxwaGEsZS5nbD9pLlNwcml0ZS5wcm90b3R5cGUuX3JlbmRlcldlYkdMLmNhbGwodGhpcy5fY2FjaGVkU3ByaXRlLGUpOmkuU3ByaXRlLnByb3RvdHlwZS5fcmVuZGVyQ2FudmFzLmNhbGwodGhpcy5fY2FjaGVkU3ByaXRlLGUpfSxfZ2VuZXJhdGVDYWNoZWRTcHJpdGU6ZnVuY3Rpb24oKXt0aGlzLl9jYWNoZUFzQml0bWFwPSExO3ZhciBlPXRoaXMuZ2V0TG9jYWxCb3VuZHMoKTtpZihlLndpZHRoPU1hdGgubWF4KDEsTWF0aC5jZWlsKGUud2lkdGgpKSxlLmhlaWdodD1NYXRoLm1heCgxLE1hdGguY2VpbChlLmhlaWdodCkpLHRoaXMudXBkYXRlVHJhbnNmb3JtKCksdGhpcy5fY2FjaGVkU3ByaXRlKXRoaXMuX2NhY2hlZFNwcml0ZS50ZXh0dXJlLnJlc2l6ZShlLndpZHRoLGUuaGVpZ2h0KTtlbHNle3ZhciB0PTA7dGhpcy50ZXh0dXJlJiZ0aGlzLnRleHR1cmUuYmFzZVRleHR1cmUmJmkuX2VuYWJsZU11bHRpVGV4dHVyZVRvZ2dsZSYmKHQ9dGhpcy50ZXh0dXJlLmJhc2VUZXh0dXJlLnRleHR1cmVJbmRleCk7dmFyIHI9bmV3IFBoYXNlci5SZW5kZXJUZXh0dXJlKHRoaXMuZ2FtZSxlLndpZHRoLGUuaGVpZ2h0LHZvaWQgMCx2b2lkIDAsdm9pZCAwLHZvaWQgMCx0KTt0aGlzLl9jYWNoZWRTcHJpdGU9bmV3IGkuU3ByaXRlKHIpLHRoaXMuX2NhY2hlZFNwcml0ZS53b3JsZFRyYW5zZm9ybT10aGlzLndvcmxkVHJhbnNmb3JtfXZhciBzPXRoaXMuX2ZpbHRlcnM7dGhpcy5fZmlsdGVycz1udWxsLHRoaXMuX2NhY2hlZFNwcml0ZS5maWx0ZXJzPXMsaS5EaXNwbGF5T2JqZWN0Ll90ZW1wTWF0cml4LnR4PS1lLngsaS5EaXNwbGF5T2JqZWN0Ll90ZW1wTWF0cml4LnR5PS1lLnksdGhpcy5fY2FjaGVkU3ByaXRlLnRleHR1cmUucmVuZGVyKHRoaXMsaS5EaXNwbGF5T2JqZWN0Ll90ZW1wTWF0cml4LCEwKSx0aGlzLl9jYWNoZWRTcHJpdGUuYW5jaG9yLng9LWUueC9lLndpZHRoLHRoaXMuX2NhY2hlZFNwcml0ZS5hbmNob3IueT0tZS55L2UuaGVpZ2h0LHRoaXMuX2ZpbHRlcnM9cyx0aGlzLl9jYWNoZUFzQml0bWFwPSEwfSxfZGVzdHJveUNhY2hlZFNwcml0ZTpmdW5jdGlvbigpe3RoaXMuX2NhY2hlZFNwcml0ZSYmKHRoaXMuX2NhY2hlZFNwcml0ZS50ZXh0dXJlLmRlc3Ryb3koITApLHRoaXMuX2NhY2hlZFNwcml0ZT1udWxsKX19LGkuRGlzcGxheU9iamVjdC5wcm90b3R5cGUuZGlzcGxheU9iamVjdFVwZGF0ZVRyYW5zZm9ybT1pLkRpc3BsYXlPYmplY3QucHJvdG90eXBlLnVwZGF0ZVRyYW5zZm9ybSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhpLkRpc3BsYXlPYmplY3QucHJvdG90eXBlLHt4OntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wb3NpdGlvbi54fSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5wb3NpdGlvbi54PWV9fSx5OntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wb3NpdGlvbi55fSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5wb3NpdGlvbi55PWV9fSx3b3JsZFZpc2libGU6e2dldDpmdW5jdGlvbigpe2lmKHRoaXMudmlzaWJsZSl7dmFyIGU9dGhpcy5wYXJlbnQ7aWYoIWUpcmV0dXJuIHRoaXMudmlzaWJsZTtkb3tpZighZS52aXNpYmxlKXJldHVybiExO2U9ZS5wYXJlbnR9d2hpbGUoZSk7cmV0dXJuITB9cmV0dXJuITF9fSxtYXNrOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbWFza30sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX21hc2smJih0aGlzLl9tYXNrLmlzTWFzaz0hMSksdGhpcy5fbWFzaz1lLGUmJih0aGlzLl9tYXNrLmlzTWFzaz0hMCl9fSxmaWx0ZXJzOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZmlsdGVyc30sc2V0OmZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpe2Zvcih2YXIgdD1bXSxyPTA7cjxlLmxlbmd0aDtyKyspZm9yKHZhciBzPWVbcl0ucGFzc2VzLG89MDtvPHMubGVuZ3RoO28rKyl0LnB1c2goc1tvXSk7dGhpcy5fZmlsdGVyQmxvY2s9e3RhcmdldDp0aGlzLGZpbHRlclBhc3Nlczp0fX10aGlzLl9maWx0ZXJzPWUsdGhpcy5ibGVuZE1vZGUmJnRoaXMuYmxlbmRNb2RlPT09aS5ibGVuZE1vZGVzLk1VTFRJUExZJiYodGhpcy5ibGVuZE1vZGU9aS5ibGVuZE1vZGVzLk5PUk1BTCl9fSxjYWNoZUFzQml0bWFwOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2FjaGVBc0JpdG1hcH0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX2NhY2hlQXNCaXRtYXAhPT1lJiYoZT90aGlzLl9nZW5lcmF0ZUNhY2hlZFNwcml0ZSgpOnRoaXMuX2Rlc3Ryb3lDYWNoZWRTcHJpdGUoKSx0aGlzLl9jYWNoZUFzQml0bWFwPWUpfX19KSxpLkRpc3BsYXlPYmplY3RDb250YWluZXI9ZnVuY3Rpb24oKXtpLkRpc3BsYXlPYmplY3QuY2FsbCh0aGlzKSx0aGlzLmNoaWxkcmVuPVtdLHRoaXMuaWdub3JlQ2hpbGRJbnB1dD0hMX0saS5EaXNwbGF5T2JqZWN0Q29udGFpbmVyLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGkuRGlzcGxheU9iamVjdC5wcm90b3R5cGUpLGkuRGlzcGxheU9iamVjdENvbnRhaW5lci5wcm90b3R5cGUuY29uc3RydWN0b3I9aS5EaXNwbGF5T2JqZWN0Q29udGFpbmVyLGkuRGlzcGxheU9iamVjdENvbnRhaW5lci5wcm90b3R5cGUuYWRkQ2hpbGQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuYWRkQ2hpbGRBdChlLHRoaXMuY2hpbGRyZW4ubGVuZ3RoKX0saS5EaXNwbGF5T2JqZWN0Q29udGFpbmVyLnByb3RvdHlwZS5hZGRDaGlsZEF0PWZ1bmN0aW9uKGUsdCl7aWYodD49MCYmdDw9dGhpcy5jaGlsZHJlbi5sZW5ndGgpcmV0dXJuIGUucGFyZW50JiZlLnBhcmVudC5yZW1vdmVDaGlsZChlKSxlLnBhcmVudD10aGlzLHRoaXMuY2hpbGRyZW4uc3BsaWNlKHQsMCxlKSxlO3Rocm93IG5ldyBFcnJvcihlK1wiYWRkQ2hpbGRBdDogVGhlIGluZGV4IFwiK3QrXCIgc3VwcGxpZWQgaXMgb3V0IG9mIGJvdW5kcyBcIit0aGlzLmNoaWxkcmVuLmxlbmd0aCl9LGkuRGlzcGxheU9iamVjdENvbnRhaW5lci5wcm90b3R5cGUuc3dhcENoaWxkcmVuPWZ1bmN0aW9uKGUsdCl7aWYoZSE9PXQpe3ZhciByPXRoaXMuZ2V0Q2hpbGRJbmRleChlKSxpPXRoaXMuZ2V0Q2hpbGRJbmRleCh0KTtpZihyPDB8fGk8MCl0aHJvdyBuZXcgRXJyb3IoXCJzd2FwQ2hpbGRyZW46IEJvdGggdGhlIHN1cHBsaWVkIERpc3BsYXlPYmplY3RzIG11c3QgYmUgYSBjaGlsZCBvZiB0aGUgY2FsbGVyLlwiKTt0aGlzLmNoaWxkcmVuW3JdPXQsdGhpcy5jaGlsZHJlbltpXT1lfX0saS5EaXNwbGF5T2JqZWN0Q29udGFpbmVyLnByb3RvdHlwZS5nZXRDaGlsZEluZGV4PWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuY2hpbGRyZW4uaW5kZXhPZihlKTtpZigtMT09PXQpdGhyb3cgbmV3IEVycm9yKFwiVGhlIHN1cHBsaWVkIERpc3BsYXlPYmplY3QgbXVzdCBiZSBhIGNoaWxkIG9mIHRoZSBjYWxsZXJcIik7cmV0dXJuIHR9LGkuRGlzcGxheU9iamVjdENvbnRhaW5lci5wcm90b3R5cGUuc2V0Q2hpbGRJbmRleD1mdW5jdGlvbihlLHQpe2lmKHQ8MHx8dD49dGhpcy5jaGlsZHJlbi5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwiVGhlIHN1cHBsaWVkIGluZGV4IGlzIG91dCBvZiBib3VuZHNcIik7dmFyIHI9dGhpcy5nZXRDaGlsZEluZGV4KGUpO3RoaXMuY2hpbGRyZW4uc3BsaWNlKHIsMSksdGhpcy5jaGlsZHJlbi5zcGxpY2UodCwwLGUpfSxpLkRpc3BsYXlPYmplY3RDb250YWluZXIucHJvdG90eXBlLmdldENoaWxkQXQ9ZnVuY3Rpb24oZSl7aWYoZTwwfHxlPj10aGlzLmNoaWxkcmVuLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJnZXRDaGlsZEF0OiBTdXBwbGllZCBpbmRleCBcIitlK1wiIGRvZXMgbm90IGV4aXN0IGluIHRoZSBjaGlsZCBsaXN0LCBvciB0aGUgc3VwcGxpZWQgRGlzcGxheU9iamVjdCBtdXN0IGJlIGEgY2hpbGQgb2YgdGhlIGNhbGxlclwiKTtyZXR1cm4gdGhpcy5jaGlsZHJlbltlXX0saS5EaXNwbGF5T2JqZWN0Q29udGFpbmVyLnByb3RvdHlwZS5yZW1vdmVDaGlsZD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmNoaWxkcmVuLmluZGV4T2YoZSk7aWYoLTEhPT10KXJldHVybiB0aGlzLnJlbW92ZUNoaWxkQXQodCl9LGkuRGlzcGxheU9iamVjdENvbnRhaW5lci5wcm90b3R5cGUucmVtb3ZlQ2hpbGRBdD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmdldENoaWxkQXQoZSk7cmV0dXJuIHQmJih0LnBhcmVudD12b2lkIDAsdGhpcy5jaGlsZHJlbi5zcGxpY2UoZSwxKSksdH0saS5EaXNwbGF5T2JqZWN0Q29udGFpbmVyLnByb3RvdHlwZS5yZW1vdmVDaGlsZHJlbj1mdW5jdGlvbihlLHQpe3ZvaWQgMD09PWUmJihlPTApLHZvaWQgMD09PXQmJih0PXRoaXMuY2hpbGRyZW4ubGVuZ3RoKTt2YXIgcj10LWU7aWYocj4wJiZyPD10KXtmb3IodmFyIGk9dGhpcy5jaGlsZHJlbi5zcGxpY2UoZSxyKSxzPTA7czxpLmxlbmd0aDtzKyspaVtzXS5wYXJlbnQ9dm9pZCAwO3JldHVybiBpfWlmKDA9PT1yJiYwPT09dGhpcy5jaGlsZHJlbi5sZW5ndGgpcmV0dXJuW107dGhyb3cgbmV3IEVycm9yKFwicmVtb3ZlQ2hpbGRyZW46IFJhbmdlIEVycm9yLCBudW1lcmljIHZhbHVlcyBhcmUgb3V0c2lkZSB0aGUgYWNjZXB0YWJsZSByYW5nZVwiKX0saS5EaXNwbGF5T2JqZWN0Q29udGFpbmVyLnByb3RvdHlwZS51cGRhdGVUcmFuc2Zvcm09ZnVuY3Rpb24oKXtpZih0aGlzLnZpc2libGUmJih0aGlzLmRpc3BsYXlPYmplY3RVcGRhdGVUcmFuc2Zvcm0oKSwhdGhpcy5fY2FjaGVBc0JpdG1hcCkpZm9yKHZhciBlPTA7ZTx0aGlzLmNoaWxkcmVuLmxlbmd0aDtlKyspdGhpcy5jaGlsZHJlbltlXS51cGRhdGVUcmFuc2Zvcm0oKX0saS5EaXNwbGF5T2JqZWN0Q29udGFpbmVyLnByb3RvdHlwZS5kaXNwbGF5T2JqZWN0Q29udGFpbmVyVXBkYXRlVHJhbnNmb3JtPWkuRGlzcGxheU9iamVjdENvbnRhaW5lci5wcm90b3R5cGUudXBkYXRlVHJhbnNmb3JtLGkuRGlzcGxheU9iamVjdENvbnRhaW5lci5wcm90b3R5cGUuZ2V0Qm91bmRzPWZ1bmN0aW9uKGUpe3ZhciB0PWUmJmUgaW5zdGFuY2VvZiBpLkRpc3BsYXlPYmplY3Qscj0hMDt0P3I9ZSBpbnN0YW5jZW9mIGkuRGlzcGxheU9iamVjdENvbnRhaW5lciYmZS5jb250YWlucyh0aGlzKTplPXRoaXM7dmFyIHM7aWYodCl7dmFyIG89ZS53b3JsZFRyYW5zZm9ybTtmb3IoZS53b3JsZFRyYW5zZm9ybT1QaGFzZXIuaWRlbnRpdHlNYXRyaXgscz0wO3M8ZS5jaGlsZHJlbi5sZW5ndGg7cysrKWUuY2hpbGRyZW5bc10udXBkYXRlVHJhbnNmb3JtKCl9dmFyIGEsbixoLGw9MS8wLHU9MS8wLGQ9LTEvMCxjPS0xLzAsZj0hMTtmb3Iocz0wO3M8dGhpcy5jaGlsZHJlbi5sZW5ndGg7cysrKXRoaXMuY2hpbGRyZW5bc10udmlzaWJsZSYmKGY9ITAsbD1sPChhPXRoaXMuY2hpbGRyZW5bc10uZ2V0Qm91bmRzKCkpLng/bDphLngsdT11PGEueT91OmEueSxuPWEud2lkdGgrYS54LGg9YS5oZWlnaHQrYS55LGQ9ZD5uP2Q6bixjPWM+aD9jOmgpO3ZhciB4PXRoaXMuX2JvdW5kcztpZighZil7dmFyIHA9KHg9bmV3IGkuUmVjdGFuZ2xlKS54LGc9eC53aWR0aCt4Lngsdj14LnksVD14LmhlaWdodCt4LnksbT10aGlzLndvcmxkVHJhbnNmb3JtLEU9bS5hLF89bS5iLFM9bS5jLHk9bS5kLGI9bS50eCxBPW0udHksUj1FKmcrUypUK2IsTT15KlQrXypnK0EsQz1FKnArUypUK2IsTD15KlQrXypwK0EsQj1FKnArUyp2K2IsUD15KnYrXypwK0Esdz1FKmcrUyp2K2IsVT15KnYrXypnK0E7ZD1SLGM9TSx1PU0sbD13PChsPUI8KGw9QzwobD1SKT9DOmwpP0I6bCk/dzpsLHU9VTwodT1QPCh1PUw8dT9MOnUpP1A6dSk/VTp1LGQ9dz4oZD1CPihkPUM+ZD9DOmQpP0I6ZCk/dzpkLGM9VT4oYz1QPihjPUw+Yz9MOmMpP1A6Yyk/VTpjfWlmKHgueD1sLHgueT11LHgud2lkdGg9ZC1sLHguaGVpZ2h0PWMtdSx0KWZvcihlLndvcmxkVHJhbnNmb3JtPW8scz0wO3M8ZS5jaGlsZHJlbi5sZW5ndGg7cysrKWUuY2hpbGRyZW5bc10udXBkYXRlVHJhbnNmb3JtKCk7aWYoIXIpe3ZhciBGPWUuZ2V0Qm91bmRzKCk7eC54LT1GLngseC55LT1GLnl9cmV0dXJuIHh9LGkuRGlzcGxheU9iamVjdENvbnRhaW5lci5wcm90b3R5cGUuZ2V0TG9jYWxCb3VuZHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRCb3VuZHModGhpcyl9LGkuRGlzcGxheU9iamVjdENvbnRhaW5lci5wcm90b3R5cGUuY29udGFpbnM9ZnVuY3Rpb24oZSl7cmV0dXJuISFlJiYoZT09PXRoaXN8fHRoaXMuY29udGFpbnMoZS5wYXJlbnQpKX0saS5EaXNwbGF5T2JqZWN0Q29udGFpbmVyLnByb3RvdHlwZS5fcmVuZGVyV2ViR0w9ZnVuY3Rpb24oZSl7aWYodGhpcy52aXNpYmxlJiYhKHRoaXMuYWxwaGE8PTApKWlmKHRoaXMuX2NhY2hlQXNCaXRtYXApdGhpcy5fcmVuZGVyQ2FjaGVkU3ByaXRlKGUpO2Vsc2V7dmFyIHQ7aWYodGhpcy5fbWFza3x8dGhpcy5fZmlsdGVycyl7Zm9yKHRoaXMuX2ZpbHRlcnMmJihlLnNwcml0ZUJhdGNoLmZsdXNoKCksZS5maWx0ZXJNYW5hZ2VyLnB1c2hGaWx0ZXIodGhpcy5fZmlsdGVyQmxvY2spKSx0aGlzLl9tYXNrJiYoZS5zcHJpdGVCYXRjaC5zdG9wKCksZS5tYXNrTWFuYWdlci5wdXNoTWFzayh0aGlzLm1hc2ssZSksZS5zcHJpdGVCYXRjaC5zdGFydCgpKSx0PTA7dDx0aGlzLmNoaWxkcmVuLmxlbmd0aDt0KyspdGhpcy5jaGlsZHJlblt0XS5fcmVuZGVyV2ViR0woZSk7ZS5zcHJpdGVCYXRjaC5zdG9wKCksdGhpcy5fbWFzayYmZS5tYXNrTWFuYWdlci5wb3BNYXNrKHRoaXMuX21hc2ssZSksdGhpcy5fZmlsdGVycyYmZS5maWx0ZXJNYW5hZ2VyLnBvcEZpbHRlcigpLGUuc3ByaXRlQmF0Y2guc3RhcnQoKX1lbHNlIGZvcih0PTA7dDx0aGlzLmNoaWxkcmVuLmxlbmd0aDt0KyspdGhpcy5jaGlsZHJlblt0XS5fcmVuZGVyV2ViR0woZSl9fSxpLkRpc3BsYXlPYmplY3RDb250YWluZXIucHJvdG90eXBlLl9yZW5kZXJDYW52YXM9ZnVuY3Rpb24oZSl7aWYoITEhPT10aGlzLnZpc2libGUmJjAhPT10aGlzLmFscGhhKWlmKHRoaXMuX2NhY2hlQXNCaXRtYXApdGhpcy5fcmVuZGVyQ2FjaGVkU3ByaXRlKGUpO2Vsc2V7dGhpcy5fbWFzayYmZS5tYXNrTWFuYWdlci5wdXNoTWFzayh0aGlzLl9tYXNrLGUpO2Zvcih2YXIgdD0wO3Q8dGhpcy5jaGlsZHJlbi5sZW5ndGg7dCsrKXRoaXMuY2hpbGRyZW5bdF0uX3JlbmRlckNhbnZhcyhlKTt0aGlzLl9tYXNrJiZlLm1hc2tNYW5hZ2VyLnBvcE1hc2soZSl9fSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5EaXNwbGF5T2JqZWN0Q29udGFpbmVyLnByb3RvdHlwZSxcIndpZHRoXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldExvY2FsQm91bmRzKCkud2lkdGgqdGhpcy5zY2FsZS54fSxzZXQ6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5nZXRMb2NhbEJvdW5kcygpLndpZHRoO3RoaXMuc2NhbGUueD0wIT09dD9lL3Q6MSx0aGlzLl93aWR0aD1lfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLkRpc3BsYXlPYmplY3RDb250YWluZXIucHJvdG90eXBlLFwiaGVpZ2h0XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldExvY2FsQm91bmRzKCkuaGVpZ2h0KnRoaXMuc2NhbGUueX0sc2V0OmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuZ2V0TG9jYWxCb3VuZHMoKS5oZWlnaHQ7dGhpcy5zY2FsZS55PTAhPT10P2UvdDoxLHRoaXMuX2hlaWdodD1lfX0pLGkuU3ByaXRlPWZ1bmN0aW9uKGUpe2kuRGlzcGxheU9iamVjdENvbnRhaW5lci5jYWxsKHRoaXMpLHRoaXMuYW5jaG9yPW5ldyBpLlBvaW50KGkuU3ByaXRlLmRlZmF1bHRBbmNob3IueCxpLlNwcml0ZS5kZWZhdWx0QW5jaG9yLnkpLHRoaXMudGV4dHVyZT1lfHxpLlRleHR1cmUuZW1wdHlUZXh0dXJlLHRoaXMuX3dpZHRoPTAsdGhpcy5faGVpZ2h0PTAsdGhpcy50aW50PTE2Nzc3MjE1LHRoaXMuY2FjaGVkVGludD0tMSx0aGlzLnRpbnRlZFRleHR1cmU9bnVsbCx0aGlzLmJsZW5kTW9kZT1pLmJsZW5kTW9kZXMuTk9STUFMLHRoaXMuc2hhZGVyPW51bGwsdGhpcy5leGlzdHM9ITAsdGhpcy50ZXh0dXJlLmJhc2VUZXh0dXJlLmhhc0xvYWRlZCYmdGhpcy5vblRleHR1cmVVcGRhdGUoKSx0aGlzLnJlbmRlcmFibGU9ITB9LGkuU3ByaXRlLmRlZmF1bHRBbmNob3I9e3g6MCx5OjB9LGkuU3ByaXRlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGkuRGlzcGxheU9iamVjdENvbnRhaW5lci5wcm90b3R5cGUpLGkuU3ByaXRlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1pLlNwcml0ZSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5TcHJpdGUucHJvdG90eXBlLFwid2lkdGhcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2NhbGUueCp0aGlzLnRleHR1cmUuZnJhbWUud2lkdGh9LHNldDpmdW5jdGlvbihlKXt0aGlzLnNjYWxlLng9ZS90aGlzLnRleHR1cmUuZnJhbWUud2lkdGgsdGhpcy5fd2lkdGg9ZX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5TcHJpdGUucHJvdG90eXBlLFwiaGVpZ2h0XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnNjYWxlLnkqdGhpcy50ZXh0dXJlLmZyYW1lLmhlaWdodH0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuc2NhbGUueT1lL3RoaXMudGV4dHVyZS5mcmFtZS5oZWlnaHQsdGhpcy5faGVpZ2h0PWV9fSksaS5TcHJpdGUucHJvdG90eXBlLnNldFRleHR1cmU9ZnVuY3Rpb24oZSx0KXt0JiZ0aGlzLnRleHR1cmUuYmFzZVRleHR1cmUuZGVzdHJveSgpLHRoaXMudGV4dHVyZS5iYXNlVGV4dHVyZS5za2lwUmVuZGVyPSExLHRoaXMudGV4dHVyZT1lLHRoaXMudGV4dHVyZS52YWxpZD0hMCx0aGlzLmNhY2hlZFRpbnQ9LTF9LGkuU3ByaXRlLnByb3RvdHlwZS5vblRleHR1cmVVcGRhdGU9ZnVuY3Rpb24oKXt0aGlzLl93aWR0aCYmKHRoaXMuc2NhbGUueD10aGlzLl93aWR0aC90aGlzLnRleHR1cmUuZnJhbWUud2lkdGgpLHRoaXMuX2hlaWdodCYmKHRoaXMuc2NhbGUueT10aGlzLl9oZWlnaHQvdGhpcy50ZXh0dXJlLmZyYW1lLmhlaWdodCl9LGkuU3ByaXRlLnByb3RvdHlwZS5nZXRCb3VuZHM9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy50ZXh0dXJlLmZyYW1lLndpZHRoLHI9dGhpcy50ZXh0dXJlLmZyYW1lLmhlaWdodCxpPXQqKDEtdGhpcy5hbmNob3IueCkscz10Ki10aGlzLmFuY2hvci54LG89ciooMS10aGlzLmFuY2hvci55KSxhPXIqLXRoaXMuYW5jaG9yLnksbj1lfHx0aGlzLndvcmxkVHJhbnNmb3JtLGg9bi5hLGw9bi5iLHU9bi5jLGQ9bi5kLGM9bi50eCxmPW4udHkseD0tMS8wLHA9LTEvMCxnPTEvMCx2PTEvMDtpZigwPT09bCYmMD09PXUpe2lmKGg8MCl7aCo9LTE7VD1pO2k9LXMscz0tVH1pZihkPDApe2QqPS0xO3ZhciBUPW87bz0tYSxhPS1UfWc9aCpzK2MseD1oKmkrYyx2PWQqYStmLHA9ZCpvK2Z9ZWxzZXt2YXIgbT1oKnMrdSphK2MsRT1kKmErbCpzK2YsXz1oKmkrdSphK2MsUz1kKmErbCppK2YseT1oKmkrdSpvK2MsYj1kKm8rbCppK2YsQT1oKnMrdSpvK2MsUj1kKm8rbCpzK2Y7Zz1BPChnPXk8KGc9XzwoZz1tPGc/bTpnKT9fOmcpP3k6Zyk/QTpnLHY9Ujwodj1iPCh2PVM8KHY9RTx2P0U6dik/Uzp2KT9iOnYpP1I6dix4PUE+KHg9eT4oeD1fPih4PW0+eD9tOngpP186eCk/eTp4KT9BOngscD1SPihwPWI+KHA9Uz4ocD1FPnA/RTpwKT9TOnApP2I6cCk/UjpwfXZhciBNPXRoaXMuX2JvdW5kcztyZXR1cm4gTS54PWcsTS53aWR0aD14LWcsTS55PXYsTS5oZWlnaHQ9cC12LHRoaXMuX2N1cnJlbnRCb3VuZHM9TSxNfSxpLlNwcml0ZS5wcm90b3R5cGUuZ2V0TG9jYWxCb3VuZHM9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLndvcmxkVHJhbnNmb3JtO3RoaXMud29ybGRUcmFuc2Zvcm09UGhhc2VyLmlkZW50aXR5TWF0cml4O2Zvcih2YXIgdD0wO3Q8dGhpcy5jaGlsZHJlbi5sZW5ndGg7dCsrKXRoaXMuY2hpbGRyZW5bdF0udXBkYXRlVHJhbnNmb3JtKCk7dmFyIHI9dGhpcy5nZXRCb3VuZHMoKTtmb3IodGhpcy53b3JsZFRyYW5zZm9ybT1lLHQ9MDt0PHRoaXMuY2hpbGRyZW4ubGVuZ3RoO3QrKyl0aGlzLmNoaWxkcmVuW3RdLnVwZGF0ZVRyYW5zZm9ybSgpO3JldHVybiByfSxpLlNwcml0ZS5wcm90b3R5cGUuX3JlbmRlcldlYkdMPWZ1bmN0aW9uKGUsdCl7aWYodGhpcy52aXNpYmxlJiYhKHRoaXMuYWxwaGE8PTApJiZ0aGlzLnJlbmRlcmFibGUpe3ZhciByPXRoaXMud29ybGRUcmFuc2Zvcm07aWYodCYmKHI9dCksdGhpcy5fbWFza3x8dGhpcy5fZmlsdGVycyl7dmFyIGk9ZS5zcHJpdGVCYXRjaDt0aGlzLl9maWx0ZXJzJiYoaS5mbHVzaCgpLGUuZmlsdGVyTWFuYWdlci5wdXNoRmlsdGVyKHRoaXMuX2ZpbHRlckJsb2NrKSksdGhpcy5fbWFzayYmKGkuc3RvcCgpLGUubWFza01hbmFnZXIucHVzaE1hc2sodGhpcy5tYXNrLGUpLGkuc3RhcnQoKSksaS5yZW5kZXIodGhpcyk7Zm9yKHM9MDtzPHRoaXMuY2hpbGRyZW4ubGVuZ3RoO3MrKyl0aGlzLmNoaWxkcmVuW3NdLl9yZW5kZXJXZWJHTChlKTtpLnN0b3AoKSx0aGlzLl9tYXNrJiZlLm1hc2tNYW5hZ2VyLnBvcE1hc2sodGhpcy5fbWFzayxlKSx0aGlzLl9maWx0ZXJzJiZlLmZpbHRlck1hbmFnZXIucG9wRmlsdGVyKCksaS5zdGFydCgpfWVsc2V7ZS5zcHJpdGVCYXRjaC5yZW5kZXIodGhpcyk7Zm9yKHZhciBzPTA7czx0aGlzLmNoaWxkcmVuLmxlbmd0aDtzKyspdGhpcy5jaGlsZHJlbltzXS5fcmVuZGVyV2ViR0woZSxyKX19fSxpLlNwcml0ZS5wcm90b3R5cGUuX3JlbmRlckNhbnZhcz1mdW5jdGlvbihlLHQpe2lmKCEoIXRoaXMudmlzaWJsZXx8MD09PXRoaXMuYWxwaGF8fCF0aGlzLnJlbmRlcmFibGV8fHRoaXMudGV4dHVyZS5jcm9wLndpZHRoPD0wfHx0aGlzLnRleHR1cmUuY3JvcC5oZWlnaHQ8PTApKXt2YXIgcj10aGlzLndvcmxkVHJhbnNmb3JtO2lmKHQmJihyPXQpLHRoaXMuYmxlbmRNb2RlIT09ZS5jdXJyZW50QmxlbmRNb2RlJiYoZS5jdXJyZW50QmxlbmRNb2RlPXRoaXMuYmxlbmRNb2RlLGUuY29udGV4dC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb249aS5ibGVuZE1vZGVzQ2FudmFzW2UuY3VycmVudEJsZW5kTW9kZV0pLHRoaXMuX21hc2smJmUubWFza01hbmFnZXIucHVzaE1hc2sodGhpcy5fbWFzayxlKSx0aGlzLnRleHR1cmUudmFsaWQpe3ZhciBzPXRoaXMudGV4dHVyZS5iYXNlVGV4dHVyZS5yZXNvbHV0aW9uL2UucmVzb2x1dGlvbjtlLmNvbnRleHQuZ2xvYmFsQWxwaGE9dGhpcy53b3JsZEFscGhhLGUuc21vb3RoUHJvcGVydHkmJmUuc2NhbGVNb2RlIT09dGhpcy50ZXh0dXJlLmJhc2VUZXh0dXJlLnNjYWxlTW9kZSYmKGUuc2NhbGVNb2RlPXRoaXMudGV4dHVyZS5iYXNlVGV4dHVyZS5zY2FsZU1vZGUsZS5jb250ZXh0W2Uuc21vb3RoUHJvcGVydHldPWUuc2NhbGVNb2RlPT09aS5zY2FsZU1vZGVzLkxJTkVBUik7dmFyIG89dGhpcy50ZXh0dXJlLnRyaW0/dGhpcy50ZXh0dXJlLnRyaW0ueC10aGlzLmFuY2hvci54KnRoaXMudGV4dHVyZS50cmltLndpZHRoOnRoaXMuYW5jaG9yLngqLXRoaXMudGV4dHVyZS5mcmFtZS53aWR0aCxhPXRoaXMudGV4dHVyZS50cmltP3RoaXMudGV4dHVyZS50cmltLnktdGhpcy5hbmNob3IueSp0aGlzLnRleHR1cmUudHJpbS5oZWlnaHQ6dGhpcy5hbmNob3IueSotdGhpcy50ZXh0dXJlLmZyYW1lLmhlaWdodCxuPXIudHgqZS5yZXNvbHV0aW9uK2Uuc2hha2VYLGg9ci50eSplLnJlc29sdXRpb24rZS5zaGFrZVksbD10aGlzLnRleHR1cmUuY3JvcC53aWR0aCx1PXRoaXMudGV4dHVyZS5jcm9wLmhlaWdodDtpZih0aGlzLnRleHR1cmUucm90YXRlZCl7dmFyIGQ9ci5hLGM9ci5iLGY9ci5jLHg9ci5kLHA9bDtuPXIuYyp1K24saD1yLmQqdStoLHIuYT02LjEyMzIzMzk5NTczNjc2NmUtMTcqZC1mLHIuYj02LjEyMzIzMzk5NTczNjc2NmUtMTcqYy14LHIuYz1kKzYuMTIzMjMzOTk1NzM2NzY2ZS0xNypmLHIuZD1jKzYuMTIzMjMzOTk1NzM2NzY2ZS0xNyp4LGw9dSx1PXB9aWYoZS5yb3VuZFBpeGVscz8oZS5jb250ZXh0LnNldFRyYW5zZm9ybShyLmEsci5iLHIuYyxyLmQsMHxuLDB8aCksb3w9MCxhfD0wKTplLmNvbnRleHQuc2V0VHJhbnNmb3JtKHIuYSxyLmIsci5jLHIuZCxuLGgpLG8vPXMsYS89cywxNjc3NzIxNSE9PXRoaXMudGludCkodGhpcy50ZXh0dXJlLnJlcXVpcmVzUmVUaW50fHx0aGlzLmNhY2hlZFRpbnQhPT10aGlzLnRpbnQpJiYodGhpcy50aW50ZWRUZXh0dXJlPWkuQ2FudmFzVGludGVyLmdldFRpbnRlZFRleHR1cmUodGhpcyx0aGlzLnRpbnQpLHRoaXMuY2FjaGVkVGludD10aGlzLnRpbnQsdGhpcy50ZXh0dXJlLnJlcXVpcmVzUmVUaW50PSExKSxlLmNvbnRleHQuZHJhd0ltYWdlKHRoaXMudGludGVkVGV4dHVyZSwwLDAsbCx1LG8sYSxsL3MsdS9zKTtlbHNle3ZhciBnPXRoaXMudGV4dHVyZS5jcm9wLngsdj10aGlzLnRleHR1cmUuY3JvcC55O2w9TWF0aC5mbG9vcihsKSx1PU1hdGguZmxvb3IodSksZS5jb250ZXh0LmRyYXdJbWFnZSh0aGlzLnRleHR1cmUuYmFzZVRleHR1cmUuc291cmNlLGcsdixsLHUsbyxhLGwvcyx1L3MpfWZvcihUPTA7VDx0aGlzLmNoaWxkcmVuLmxlbmd0aDtUKyspdGhpcy5jaGlsZHJlbltUXS5fcmVuZGVyQ2FudmFzKGUpO3RoaXMuX21hc2smJmUubWFza01hbmFnZXIucG9wTWFzayhlKX1lbHNle2Zvcih2YXIgVD0wO1Q8dGhpcy5jaGlsZHJlbi5sZW5ndGg7VCsrKXRoaXMuY2hpbGRyZW5bVF0uX3JlbmRlckNhbnZhcyhlKTt0aGlzLl9tYXNrJiZlLm1hc2tNYW5hZ2VyLnBvcE1hc2soZSl9fX0saS5pbml0RGVmYXVsdFNoYWRlcnM9ZnVuY3Rpb24oKXt9LGkuQ29tcGlsZVZlcnRleFNoYWRlcj1mdW5jdGlvbihlLHQpe3JldHVybiBpLl9Db21waWxlU2hhZGVyKGUsdCxlLlZFUlRFWF9TSEFERVIpfSxpLkNvbXBpbGVGcmFnbWVudFNoYWRlcj1mdW5jdGlvbihlLHQpe3JldHVybiBpLl9Db21waWxlU2hhZGVyKGUsdCxlLkZSQUdNRU5UX1NIQURFUil9LGkuX0NvbXBpbGVTaGFkZXI9ZnVuY3Rpb24oZSx0LHIpe3ZhciBpPXQ7QXJyYXkuaXNBcnJheSh0KSYmKGk9dC5qb2luKFwiXFxuXCIpKTt2YXIgcz1lLmNyZWF0ZVNoYWRlcihyKTtyZXR1cm4gZS5zaGFkZXJTb3VyY2UocyxpKSxlLmNvbXBpbGVTaGFkZXIocyksZS5nZXRTaGFkZXJQYXJhbWV0ZXIocyxlLkNPTVBJTEVfU1RBVFVTKT9zOih3aW5kb3cuY29uc29sZS5sb2coZS5nZXRTaGFkZXJJbmZvTG9nKHMpKSxudWxsKX0saS5jb21waWxlUHJvZ3JhbT1mdW5jdGlvbihlLHQscil7dmFyIHM9aS5Db21waWxlRnJhZ21lbnRTaGFkZXIoZSxyKSxvPWkuQ29tcGlsZVZlcnRleFNoYWRlcihlLHQpLGE9ZS5jcmVhdGVQcm9ncmFtKCk7cmV0dXJuIGUuYXR0YWNoU2hhZGVyKGEsbyksZS5hdHRhY2hTaGFkZXIoYSxzKSxlLmxpbmtQcm9ncmFtKGEpLGUuZ2V0UHJvZ3JhbVBhcmFtZXRlcihhLGUuTElOS19TVEFUVVMpfHwod2luZG93LmNvbnNvbGUubG9nKGUuZ2V0UHJvZ3JhbUluZm9Mb2coYSkpLHdpbmRvdy5jb25zb2xlLmxvZyhcIkNvdWxkIG5vdCBpbml0aWFsaXNlIHNoYWRlcnNcIikpLGF9LGkuUGl4aVNoYWRlcj1mdW5jdGlvbihlKXt0aGlzLl9VSUQ9UGhhc2VyLl9VSUQrKyx0aGlzLmdsPWUsdGhpcy5wcm9ncmFtPW51bGwsdGhpcy5mcmFnbWVudFNyYz1udWxsLHRoaXMudGV4dHVyZUNvdW50PTAsdGhpcy5maXJzdFJ1bj0hMCx0aGlzLmRpcnR5PSEwLHRoaXMuYXR0cmlidXRlcz1bXSx0aGlzLmluaXQoKX0saS5QaXhpU2hhZGVyLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1pLlBpeGlTaGFkZXIsaS5QaXhpU2hhZGVyLnByb3RvdHlwZS5pbml0TXVsdGl0ZXhTaGFkZXI9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdsO3RoaXMuTUFYX1RFWFRVUkVTPWUuZ2V0UGFyYW1ldGVyKGUuTUFYX1RFWFRVUkVfSU1BR0VfVU5JVFMpO2Zvcih2YXIgdD1cIlxcdGlmICh2VGV4dHVyZUluZGV4ID09IDAuMCkgeyBnbF9GcmFnQ29sb3IgPSB0ZXh0dXJlMkQodVNhbXBsZXJBcnJheVswXSwgdlRleHR1cmVDb29yZCkgKiB2Q29sb3I7cmV0dXJuO31cXG5cIixyPTE7cjx0aGlzLk1BWF9URVhUVVJFUzsrK3IpdCs9XCJcXHRpZiAodlRleHR1cmVJbmRleCA9PSBcIityK1wiLjApIHtnbF9GcmFnQ29sb3IgPSB0ZXh0dXJlMkQodVNhbXBsZXJBcnJheVtcIityK1wiXSwgdlRleHR1cmVDb29yZCkgKiB2Q29sb3I7cmV0dXJuO31cXG5cIjt0aGlzLmZyYWdtZW50U3JjPVtcIi8vIFBpeGlTaGFkZXIgRnJhZ21lbnQgU2hhZGVyLlwiLFwicHJlY2lzaW9uIGxvd3AgZmxvYXQ7XCIsXCJib29sIGlzbmFuKCBmbG9hdCB2YWwgKSB7ICByZXR1cm4gKCB2YWwgPCAwLjAgfHwgMC4wIDwgdmFsIHx8IHZhbCA9PSAwLjAgKSA/IGZhbHNlIDogdHJ1ZTsgfVwiLFwidmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XCIsXCJ2YXJ5aW5nIHZlYzQgdkNvbG9yO1wiLFwidmFyeWluZyBmbG9hdCB2VGV4dHVyZUluZGV4O1wiLFwidW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXJBcnJheVtcIit0aGlzLk1BWF9URVhUVVJFUytcIl07XCIsXCJjb25zdCB2ZWM0IEJMVUUgPSB2ZWM0KDEuMCwgMC4wLCAxLjAsIDEuMCk7XCIsXCJjb25zdCB2ZWM0IFJFRCA9IHZlYzQoMS4wLCAwLjAsIDAuMCwgMS4wKTtcIixcInZvaWQgbWFpbih2b2lkKSB7XCIsdCxcIiAgIGlmKHZUZXh0dXJlSW5kZXggPj0gXCIrdGhpcy5NQVhfVEVYVFVSRVMrXCIuMCkgeyBnbF9GcmFnQ29sb3IgPSBCTFVFO3JldHVybjt9XCIsXCIgICBpZihpc25hbih2VGV4dHVyZUluZGV4KSkgeyBnbF9GcmFnQ29sb3IgPSBSRUQ7cmV0dXJuO31cIixcIn1cIl07dmFyIHM9aS5jb21waWxlUHJvZ3JhbShlLHRoaXMudmVydGV4U3JjfHxpLlBpeGlTaGFkZXIuZGVmYXVsdFZlcnRleFNyYyx0aGlzLmZyYWdtZW50U3JjKTtlLnVzZVByb2dyYW0ocyksdGhpcy51U2FtcGxlckFycmF5PWUuZ2V0VW5pZm9ybUxvY2F0aW9uKHMsXCJ1U2FtcGxlckFycmF5WzBdXCIpLHRoaXMucHJvamVjdGlvblZlY3Rvcj1lLmdldFVuaWZvcm1Mb2NhdGlvbihzLFwicHJvamVjdGlvblZlY3RvclwiKSx0aGlzLm9mZnNldFZlY3Rvcj1lLmdldFVuaWZvcm1Mb2NhdGlvbihzLFwib2Zmc2V0VmVjdG9yXCIpLHRoaXMuZGltZW5zaW9ucz1lLmdldFVuaWZvcm1Mb2NhdGlvbihzLFwiZGltZW5zaW9uc1wiKSx0aGlzLmFWZXJ0ZXhQb3NpdGlvbj1lLmdldEF0dHJpYkxvY2F0aW9uKHMsXCJhVmVydGV4UG9zaXRpb25cIiksdGhpcy5hVGV4dHVyZUNvb3JkPWUuZ2V0QXR0cmliTG9jYXRpb24ocyxcImFUZXh0dXJlQ29vcmRcIiksdGhpcy5jb2xvckF0dHJpYnV0ZT1lLmdldEF0dHJpYkxvY2F0aW9uKHMsXCJhQ29sb3JcIiksdGhpcy5hVGV4dHVyZUluZGV4PWUuZ2V0QXR0cmliTG9jYXRpb24ocyxcImFUZXh0dXJlSW5kZXhcIik7dmFyIG89W10sYT1lLmNyZWF0ZVRleHR1cmUoKTtlLmFjdGl2ZVRleHR1cmUoZS5URVhUVVJFMCksZS5iaW5kVGV4dHVyZShlLlRFWFRVUkVfMkQsYSksZS50ZXhJbWFnZTJEKGUuVEVYVFVSRV8yRCwwLGUuUkdCLDEsMSwwLGUuUkdCLGUuVU5TSUdORURfQllURSxudWxsKTtmb3IodmFyIG49MDtuPHRoaXMuTUFYX1RFWFRVUkVTOysrbillLmFjdGl2ZVRleHR1cmUoZS5URVhUVVJFMCtuKSxlLmJpbmRUZXh0dXJlKGUuVEVYVFVSRV8yRCxhKSxvLnB1c2gobik7ZS5hY3RpdmVUZXh0dXJlKGUuVEVYVFVSRTApLGUudW5pZm9ybTFpdih0aGlzLnVTYW1wbGVyQXJyYXksbyksLTE9PT10aGlzLmNvbG9yQXR0cmlidXRlJiYodGhpcy5jb2xvckF0dHJpYnV0ZT0yKSx0aGlzLmF0dHJpYnV0ZXM9W3RoaXMuYVZlcnRleFBvc2l0aW9uLHRoaXMuYVRleHR1cmVDb29yZCx0aGlzLmNvbG9yQXR0cmlidXRlLHRoaXMuYVRleHR1cmVJbmRleF07Zm9yKHZhciBoIGluIHRoaXMudW5pZm9ybXMpdGhpcy51bmlmb3Jtc1toXS51bmlmb3JtTG9jYXRpb249ZS5nZXRVbmlmb3JtTG9jYXRpb24ocyxoKTt0aGlzLmluaXRVbmlmb3JtcygpLHRoaXMucHJvZ3JhbT1zfSxpLlBpeGlTaGFkZXIucHJvdG90eXBlLmluaXREZWZhdWx0U2hhZGVyPWZ1bmN0aW9uKCl7bnVsbD09PXRoaXMuZnJhZ21lbnRTcmMmJih0aGlzLmZyYWdtZW50U3JjPVtcInByZWNpc2lvbiBsb3dwIGZsb2F0O1wiLFwidmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XCIsXCJ2YXJ5aW5nIHZlYzQgdkNvbG9yO1wiLFwidmFyeWluZyBmbG9hdCB2VGV4dHVyZUluZGV4O1wiLFwidW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXI7XCIsXCJ2b2lkIG1haW4odm9pZCkge1wiLFwiICAgZ2xfRnJhZ0NvbG9yID0gdGV4dHVyZTJEKHVTYW1wbGVyLCB2VGV4dHVyZUNvb3JkKSAqIHZDb2xvciA7XCIsXCJ9XCJdKTt2YXIgZT10aGlzLmdsLHQ9aS5jb21waWxlUHJvZ3JhbShlLHRoaXMudmVydGV4U3JjfHxpLlBpeGlTaGFkZXIuZGVmYXVsdFZlcnRleFNyYyx0aGlzLmZyYWdtZW50U3JjKTtlLnVzZVByb2dyYW0odCksdGhpcy51U2FtcGxlcj1lLmdldFVuaWZvcm1Mb2NhdGlvbih0LFwidVNhbXBsZXJcIiksdGhpcy5wcm9qZWN0aW9uVmVjdG9yPWUuZ2V0VW5pZm9ybUxvY2F0aW9uKHQsXCJwcm9qZWN0aW9uVmVjdG9yXCIpLHRoaXMub2Zmc2V0VmVjdG9yPWUuZ2V0VW5pZm9ybUxvY2F0aW9uKHQsXCJvZmZzZXRWZWN0b3JcIiksdGhpcy5kaW1lbnNpb25zPWUuZ2V0VW5pZm9ybUxvY2F0aW9uKHQsXCJkaW1lbnNpb25zXCIpLHRoaXMuYVZlcnRleFBvc2l0aW9uPWUuZ2V0QXR0cmliTG9jYXRpb24odCxcImFWZXJ0ZXhQb3NpdGlvblwiKSx0aGlzLmFUZXh0dXJlQ29vcmQ9ZS5nZXRBdHRyaWJMb2NhdGlvbih0LFwiYVRleHR1cmVDb29yZFwiKSx0aGlzLmNvbG9yQXR0cmlidXRlPWUuZ2V0QXR0cmliTG9jYXRpb24odCxcImFDb2xvclwiKSx0aGlzLmFUZXh0dXJlSW5kZXg9ZS5nZXRBdHRyaWJMb2NhdGlvbih0LFwiYVRleHR1cmVJbmRleFwiKSwtMT09PXRoaXMuY29sb3JBdHRyaWJ1dGUmJih0aGlzLmNvbG9yQXR0cmlidXRlPTIpLHRoaXMuYXR0cmlidXRlcz1bdGhpcy5hVmVydGV4UG9zaXRpb24sdGhpcy5hVGV4dHVyZUNvb3JkLHRoaXMuY29sb3JBdHRyaWJ1dGUsdGhpcy5hVGV4dHVyZUluZGV4XTtmb3IodmFyIHIgaW4gdGhpcy51bmlmb3Jtcyl0aGlzLnVuaWZvcm1zW3JdLnVuaWZvcm1Mb2NhdGlvbj1lLmdldFVuaWZvcm1Mb2NhdGlvbih0LHIpO3RoaXMuaW5pdFVuaWZvcm1zKCksdGhpcy5wcm9ncmFtPXR9LGkuUGl4aVNoYWRlci5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbihlKXtpLl9lbmFibGVNdWx0aVRleHR1cmVUb2dnbGUmJiFlP3RoaXMuaW5pdE11bHRpdGV4U2hhZGVyKCk6dGhpcy5pbml0RGVmYXVsdFNoYWRlcigpfSxpLlBpeGlTaGFkZXIucHJvdG90eXBlLmluaXRVbmlmb3Jtcz1mdW5jdGlvbigpe3RoaXMudGV4dHVyZUNvdW50PTE7dmFyIGUsdD10aGlzLmdsO2Zvcih2YXIgciBpbiB0aGlzLnVuaWZvcm1zKXt2YXIgaT0oZT10aGlzLnVuaWZvcm1zW3JdKS50eXBlO1wic2FtcGxlcjJEXCI9PT1pPyhlLl9pbml0PSExLG51bGwhPT1lLnZhbHVlJiZ0aGlzLmluaXRTYW1wbGVyMkQoZSkpOlwibWF0MlwiPT09aXx8XCJtYXQzXCI9PT1pfHxcIm1hdDRcIj09PWk/KGUuZ2xNYXRyaXg9ITAsZS5nbFZhbHVlTGVuZ3RoPTEsXCJtYXQyXCI9PT1pP2UuZ2xGdW5jPXQudW5pZm9ybU1hdHJpeDJmdjpcIm1hdDNcIj09PWk/ZS5nbEZ1bmM9dC51bmlmb3JtTWF0cml4M2Z2OlwibWF0NFwiPT09aSYmKGUuZ2xGdW5jPXQudW5pZm9ybU1hdHJpeDRmdikpOihlLmdsRnVuYz10W1widW5pZm9ybVwiK2ldLGUuZ2xWYWx1ZUxlbmd0aD1cIjJmXCI9PT1pfHxcIjJpXCI9PT1pPzI6XCIzZlwiPT09aXx8XCIzaVwiPT09aT8zOlwiNGZcIj09PWl8fFwiNGlcIj09PWk/NDoxKX19LGkuUGl4aVNoYWRlci5wcm90b3R5cGUuaW5pdFNhbXBsZXIyRD1mdW5jdGlvbihlKXtpZihlLnZhbHVlJiZlLnZhbHVlLmJhc2VUZXh0dXJlJiZlLnZhbHVlLmJhc2VUZXh0dXJlLmhhc0xvYWRlZCl7dmFyIHQ9dGhpcy5nbDtpZih0LmFjdGl2ZVRleHR1cmUodC5URVhUVVJFMCt0aGlzLnRleHR1cmVDb3VudCksdC5iaW5kVGV4dHVyZSh0LlRFWFRVUkVfMkQsZS52YWx1ZS5iYXNlVGV4dHVyZS5fZ2xUZXh0dXJlc1t0LmlkXSksZS50ZXh0dXJlRGF0YSl7dmFyIHI9ZS50ZXh0dXJlRGF0YSxpPXIubWFnRmlsdGVyP3IubWFnRmlsdGVyOnQuTElORUFSLHM9ci5taW5GaWx0ZXI/ci5taW5GaWx0ZXI6dC5MSU5FQVIsbz1yLndyYXBTP3Iud3JhcFM6dC5DTEFNUF9UT19FREdFLGE9ci53cmFwVD9yLndyYXBUOnQuQ0xBTVBfVE9fRURHRSxuPXIubHVtaW5hbmNlP3QuTFVNSU5BTkNFOnQuUkdCQTtpZihyLnJlcGVhdCYmKG89dC5SRVBFQVQsYT10LlJFUEVBVCksdC5waXhlbFN0b3JlaSh0LlVOUEFDS19GTElQX1lfV0VCR0wsISFyLmZsaXBZKSxyLndpZHRoKXt2YXIgaD1yLndpZHRoP3Iud2lkdGg6NTEyLGw9ci5oZWlnaHQ/ci5oZWlnaHQ6Mix1PXIuYm9yZGVyP3IuYm9yZGVyOjA7dC50ZXhJbWFnZTJEKHQuVEVYVFVSRV8yRCwwLG4saCxsLHUsbix0LlVOU0lHTkVEX0JZVEUsbnVsbCl9ZWxzZSB0LnRleEltYWdlMkQodC5URVhUVVJFXzJELDAsbix0LlJHQkEsdC5VTlNJR05FRF9CWVRFLGUudmFsdWUuYmFzZVRleHR1cmUuc291cmNlKTt0LnRleFBhcmFtZXRlcmkodC5URVhUVVJFXzJELHQuVEVYVFVSRV9NQUdfRklMVEVSLGkpLHQudGV4UGFyYW1ldGVyaSh0LlRFWFRVUkVfMkQsdC5URVhUVVJFX01JTl9GSUxURVIscyksdC50ZXhQYXJhbWV0ZXJpKHQuVEVYVFVSRV8yRCx0LlRFWFRVUkVfV1JBUF9TLG8pLHQudGV4UGFyYW1ldGVyaSh0LlRFWFRVUkVfMkQsdC5URVhUVVJFX1dSQVBfVCxhKX10LnVuaWZvcm0xaShlLnVuaWZvcm1Mb2NhdGlvbix0aGlzLnRleHR1cmVDb3VudCksZS5faW5pdD0hMCx0aGlzLnRleHR1cmVDb3VudCsrfX0saS5QaXhpU2hhZGVyLnByb3RvdHlwZS5zeW5jVW5pZm9ybXM9ZnVuY3Rpb24oKXt0aGlzLnRleHR1cmVDb3VudD0xO3ZhciBlLHQ9dGhpcy5nbDtmb3IodmFyIHIgaW4gdGhpcy51bmlmb3JtcykxPT09KGU9dGhpcy51bmlmb3Jtc1tyXSkuZ2xWYWx1ZUxlbmd0aD8hMD09PWUuZ2xNYXRyaXg/ZS5nbEZ1bmMuY2FsbCh0LGUudW5pZm9ybUxvY2F0aW9uLGUudHJhbnNwb3NlLGUudmFsdWUpOmUuZ2xGdW5jLmNhbGwodCxlLnVuaWZvcm1Mb2NhdGlvbixlLnZhbHVlKToyPT09ZS5nbFZhbHVlTGVuZ3RoP2UuZ2xGdW5jLmNhbGwodCxlLnVuaWZvcm1Mb2NhdGlvbixlLnZhbHVlLngsZS52YWx1ZS55KTozPT09ZS5nbFZhbHVlTGVuZ3RoP2UuZ2xGdW5jLmNhbGwodCxlLnVuaWZvcm1Mb2NhdGlvbixlLnZhbHVlLngsZS52YWx1ZS55LGUudmFsdWUueik6ND09PWUuZ2xWYWx1ZUxlbmd0aD9lLmdsRnVuYy5jYWxsKHQsZS51bmlmb3JtTG9jYXRpb24sZS52YWx1ZS54LGUudmFsdWUueSxlLnZhbHVlLnosZS52YWx1ZS53KTpcInNhbXBsZXIyRFwiPT09ZS50eXBlJiYoZS5faW5pdD8odC5hY3RpdmVUZXh0dXJlKHRbXCJURVhUVVJFXCIrdGhpcy50ZXh0dXJlQ291bnRdKSxlLnZhbHVlLmJhc2VUZXh0dXJlLl9kaXJ0eVt0LmlkXT9pLmluc3RhbmNlc1t0LmlkXS51cGRhdGVUZXh0dXJlKGUudmFsdWUuYmFzZVRleHR1cmUpOnQuYmluZFRleHR1cmUodC5URVhUVVJFXzJELGUudmFsdWUuYmFzZVRleHR1cmUuX2dsVGV4dHVyZXNbdC5pZF0pLHQudW5pZm9ybTFpKGUudW5pZm9ybUxvY2F0aW9uLHRoaXMudGV4dHVyZUNvdW50KSx0aGlzLnRleHR1cmVDb3VudCsrKTp0aGlzLmluaXRTYW1wbGVyMkQoZSkpfSxpLlBpeGlTaGFkZXIucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmdsLmRlbGV0ZVByb2dyYW0odGhpcy5wcm9ncmFtKSx0aGlzLnVuaWZvcm1zPW51bGwsdGhpcy5nbD1udWxsLHRoaXMuYXR0cmlidXRlcz1udWxsfSxpLlBpeGlTaGFkZXIuZGVmYXVsdFZlcnRleFNyYz1bXCIvLyBQaXhpU2hhZGVyIFZlcnRleCBTaGFkZXJcIixcIi8vIFdpdGggbXVsdGktdGV4dHVyZSByZW5kZXJpbmdcIixcImF0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjtcIixcImF0dHJpYnV0ZSB2ZWMyIGFUZXh0dXJlQ29vcmQ7XCIsXCJhdHRyaWJ1dGUgdmVjNCBhQ29sb3I7XCIsXCJhdHRyaWJ1dGUgZmxvYXQgYVRleHR1cmVJbmRleDtcIixcInVuaWZvcm0gdmVjMiBwcm9qZWN0aW9uVmVjdG9yO1wiLFwidW5pZm9ybSB2ZWMyIG9mZnNldFZlY3RvcjtcIixcInZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1wiLFwidmFyeWluZyB2ZWM0IHZDb2xvcjtcIixcInZhcnlpbmcgZmxvYXQgdlRleHR1cmVJbmRleDtcIixcImNvbnN0IHZlYzIgY2VudGVyID0gdmVjMigtMS4wLCAxLjApO1wiLFwidm9pZCBtYWluKHZvaWQpIHtcIixcIiAgIGlmIChhVGV4dHVyZUluZGV4ID4gMC4wKSBnbF9Qb3NpdGlvbiA9IHZlYzQoMC4wKTtcIixcIiAgIGdsX1Bvc2l0aW9uID0gdmVjNCggKChhVmVydGV4UG9zaXRpb24gKyBvZmZzZXRWZWN0b3IpIC8gcHJvamVjdGlvblZlY3RvcikgKyBjZW50ZXIgLCAwLjAsIDEuMCk7XCIsXCIgICB2VGV4dHVyZUNvb3JkID0gYVRleHR1cmVDb29yZDtcIixcIiAgIHZDb2xvciA9IHZlYzQoYUNvbG9yLnJnYiAqIGFDb2xvci5hLCBhQ29sb3IuYSk7XCIsXCIgICB2VGV4dHVyZUluZGV4ID0gYVRleHR1cmVJbmRleDtcIixcIn1cIl0saS5QaXhpRmFzdFNoYWRlcj1mdW5jdGlvbihlKXtpZih0aGlzLl9VSUQ9UGhhc2VyLl9VSUQrKyx0aGlzLmdsPWUsdGhpcy5wcm9ncmFtPW51bGwsaS5fZW5hYmxlTXVsdGlUZXh0dXJlVG9nZ2xlKXt2YXIgZT10aGlzLmdsO3RoaXMuTUFYX1RFWFRVUkVTPWUuZ2V0UGFyYW1ldGVyKGUuTUFYX1RFWFRVUkVfSU1BR0VfVU5JVFMpO2Zvcih2YXIgdD1cIlxcdGlmICh2VGV4dHVyZUluZGV4ID09IDAuMCkgeyBnbF9GcmFnQ29sb3IgPSB0ZXh0dXJlMkQodVNhbXBsZXJBcnJheVswXSwgdlRleHR1cmVDb29yZCkgKiB2Q29sb3I7cmV0dXJuO31cXG5cIixyPTE7cjx0aGlzLk1BWF9URVhUVVJFUzsrK3IpdCs9XCJcXHRpZiAodlRleHR1cmVJbmRleCA9PSBcIityK1wiLjApIHsgZ2xfRnJhZ0NvbG9yID0gdGV4dHVyZTJEKHVTYW1wbGVyQXJyYXlbXCIrcitcIl0sIHZUZXh0dXJlQ29vcmQpICogdkNvbG9yO3JldHVybjt9XFxuXCI7dGhpcy5mcmFnbWVudFNyYz1bXCIvLyBQaXhpRmFzdFNoYWRlciBGcmFnbWVudCBTaGFkZXIuXCIsXCJwcmVjaXNpb24gbG93cCBmbG9hdDtcIixcImJvb2wgaXNuYW4oIGZsb2F0IHZhbCApIHsgIHJldHVybiAoIHZhbCA8IDAuMCB8fCAwLjAgPCB2YWwgfHwgdmFsID09IDAuMCApID8gZmFsc2UgOiB0cnVlOyB9XCIsXCJ2YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcIixcInZhcnlpbmcgZmxvYXQgdkNvbG9yO1wiLFwidmFyeWluZyBmbG9hdCB2VGV4dHVyZUluZGV4O1wiLFwidW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXJBcnJheVtcIit0aGlzLk1BWF9URVhUVVJFUytcIl07XCIsXCJjb25zdCB2ZWM0IEJMVUUgPSB2ZWM0KDEuMCwgMC4wLCAxLjAsIDEuMCk7XCIsXCJjb25zdCB2ZWM0IFJFRCA9IHZlYzQoMS4wLCAwLjAsIDAuMCwgMS4wKTtcIixcInZvaWQgbWFpbih2b2lkKSB7XCIsdCxcIiAgIGlmKHZUZXh0dXJlSW5kZXggPj0gXCIrdGhpcy5NQVhfVEVYVFVSRVMrXCIuMCkgeyBnbF9GcmFnQ29sb3IgPSBCTFVFO3JldHVybjt9XCIsXCIgICBpZihpc25hbih2VGV4dHVyZUluZGV4KSkge2dsX0ZyYWdDb2xvciA9IFJFRDtyZXR1cm47fVwiLFwifVwiXX1lbHNlIHRoaXMuZnJhZ21lbnRTcmM9W1wiLy8gUGl4aUZhc3RTaGFkZXIgRnJhZ21lbnQgU2hhZGVyLlwiLFwicHJlY2lzaW9uIGxvd3AgZmxvYXQ7XCIsXCJ2YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcIixcInZhcnlpbmcgZmxvYXQgdkNvbG9yO1wiLFwidmFyeWluZyBmbG9hdCB2VGV4dHVyZUluZGV4O1wiLFwidW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXI7XCIsXCJ2b2lkIG1haW4odm9pZCkge1wiLFwiICAgZ2xfRnJhZ0NvbG9yID0gdGV4dHVyZTJEKHVTYW1wbGVyLCB2VGV4dHVyZUNvb3JkKSAqIHZDb2xvcjtcIixcIn1cIl07dGhpcy52ZXJ0ZXhTcmM9W1wiLy8gUGl4aUZhc3RTaGFkZXIgVmVydGV4IFNoYWRlci5cIixcImF0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjtcIixcImF0dHJpYnV0ZSB2ZWMyIGFQb3NpdGlvbkNvb3JkO1wiLFwiYXR0cmlidXRlIHZlYzIgYVNjYWxlO1wiLFwiYXR0cmlidXRlIGZsb2F0IGFSb3RhdGlvbjtcIixcImF0dHJpYnV0ZSB2ZWMyIGFUZXh0dXJlQ29vcmQ7XCIsXCJhdHRyaWJ1dGUgZmxvYXQgYUNvbG9yO1wiLFwiYXR0cmlidXRlIGZsb2F0IGFUZXh0dXJlSW5kZXg7XCIsXCJ1bmlmb3JtIHZlYzIgcHJvamVjdGlvblZlY3RvcjtcIixcInVuaWZvcm0gdmVjMiBvZmZzZXRWZWN0b3I7XCIsXCJ1bmlmb3JtIG1hdDMgdU1hdHJpeDtcIixcInZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1wiLFwidmFyeWluZyBmbG9hdCB2Q29sb3I7XCIsXCJ2YXJ5aW5nIGZsb2F0IHZUZXh0dXJlSW5kZXg7XCIsXCJjb25zdCB2ZWMyIGNlbnRlciA9IHZlYzIoLTEuMCwgMS4wKTtcIixcInZvaWQgbWFpbih2b2lkKSB7XCIsXCIgICB2ZWMyIHY7XCIsXCIgICB2ZWMyIHN2ID0gYVZlcnRleFBvc2l0aW9uICogYVNjYWxlO1wiLFwiICAgdi54ID0gKHN2LngpICogY29zKGFSb3RhdGlvbikgLSAoc3YueSkgKiBzaW4oYVJvdGF0aW9uKTtcIixcIiAgIHYueSA9IChzdi54KSAqIHNpbihhUm90YXRpb24pICsgKHN2LnkpICogY29zKGFSb3RhdGlvbik7XCIsXCIgICB2ID0gKCB1TWF0cml4ICogdmVjMyh2ICsgYVBvc2l0aW9uQ29vcmQgLCAxLjApICkueHkgO1wiLFwiICAgZ2xfUG9zaXRpb24gPSB2ZWM0KCAoIHYgLyBwcm9qZWN0aW9uVmVjdG9yKSArIGNlbnRlciAsIDAuMCwgMS4wKTtcIixcIiAgIHZUZXh0dXJlQ29vcmQgPSBhVGV4dHVyZUNvb3JkO1wiLFwiICAgdlRleHR1cmVJbmRleCA9IGFUZXh0dXJlSW5kZXg7XCIsXCIgICB2Q29sb3IgPSBhQ29sb3I7XCIsXCJ9XCJdLHRoaXMudGV4dHVyZUNvdW50PTAsdGhpcy5pbml0KCl9LGkuUGl4aUZhc3RTaGFkZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yPWkuUGl4aUZhc3RTaGFkZXIsaS5QaXhpRmFzdFNoYWRlci5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2wsdD1pLmNvbXBpbGVQcm9ncmFtKGUsdGhpcy52ZXJ0ZXhTcmMsdGhpcy5mcmFnbWVudFNyYyk7aWYoZS51c2VQcm9ncmFtKHQpLHRoaXMudVNhbXBsZXI9aS5fZW5hYmxlTXVsdGlUZXh0dXJlVG9nZ2xlP2UuZ2V0VW5pZm9ybUxvY2F0aW9uKHQsXCJ1U2FtcGxlckFycmF5WzBdXCIpOmUuZ2V0VW5pZm9ybUxvY2F0aW9uKHQsXCJ1U2FtcGxlclwiKSxpLl9lbmFibGVNdWx0aVRleHR1cmVUb2dnbGUpe3ZhciByPVtdLHM9ZS5jcmVhdGVUZXh0dXJlKCk7ZS5hY3RpdmVUZXh0dXJlKGUuVEVYVFVSRTApLGUuYmluZFRleHR1cmUoZS5URVhUVVJFXzJELHMpLGUudGV4SW1hZ2UyRChlLlRFWFRVUkVfMkQsMCxlLlJHQiwxLDEsMCxlLlJHQixlLlVOU0lHTkVEX0JZVEUsbnVsbCk7Zm9yKHZhciBvPTA7bzx0aGlzLk1BWF9URVhUVVJFUzsrK28pZS5hY3RpdmVUZXh0dXJlKGUuVEVYVFVSRTArbyksZS5iaW5kVGV4dHVyZShlLlRFWFRVUkVfMkQscyksci5wdXNoKG8pO2UuYWN0aXZlVGV4dHVyZShlLlRFWFRVUkUwKSxlLnVuaWZvcm0xaXYodGhpcy51U2FtcGxlcixyKX10aGlzLnByb2plY3Rpb25WZWN0b3I9ZS5nZXRVbmlmb3JtTG9jYXRpb24odCxcInByb2plY3Rpb25WZWN0b3JcIiksdGhpcy5vZmZzZXRWZWN0b3I9ZS5nZXRVbmlmb3JtTG9jYXRpb24odCxcIm9mZnNldFZlY3RvclwiKSx0aGlzLmRpbWVuc2lvbnM9ZS5nZXRVbmlmb3JtTG9jYXRpb24odCxcImRpbWVuc2lvbnNcIiksdGhpcy51TWF0cml4PWUuZ2V0VW5pZm9ybUxvY2F0aW9uKHQsXCJ1TWF0cml4XCIpLHRoaXMuYVZlcnRleFBvc2l0aW9uPWUuZ2V0QXR0cmliTG9jYXRpb24odCxcImFWZXJ0ZXhQb3NpdGlvblwiKSx0aGlzLmFQb3NpdGlvbkNvb3JkPWUuZ2V0QXR0cmliTG9jYXRpb24odCxcImFQb3NpdGlvbkNvb3JkXCIpLHRoaXMuYVNjYWxlPWUuZ2V0QXR0cmliTG9jYXRpb24odCxcImFTY2FsZVwiKSx0aGlzLmFSb3RhdGlvbj1lLmdldEF0dHJpYkxvY2F0aW9uKHQsXCJhUm90YXRpb25cIiksdGhpcy5hVGV4dHVyZUNvb3JkPWUuZ2V0QXR0cmliTG9jYXRpb24odCxcImFUZXh0dXJlQ29vcmRcIiksdGhpcy5jb2xvckF0dHJpYnV0ZT1lLmdldEF0dHJpYkxvY2F0aW9uKHQsXCJhQ29sb3JcIiksdGhpcy5hVGV4dHVyZUluZGV4PWUuZ2V0QXR0cmliTG9jYXRpb24odCxcImFUZXh0dXJlSW5kZXhcIiksLTE9PT10aGlzLmNvbG9yQXR0cmlidXRlJiYodGhpcy5jb2xvckF0dHJpYnV0ZT0yKSx0aGlzLmF0dHJpYnV0ZXM9W3RoaXMuYVZlcnRleFBvc2l0aW9uLHRoaXMuYVBvc2l0aW9uQ29vcmQsdGhpcy5hU2NhbGUsdGhpcy5hUm90YXRpb24sdGhpcy5hVGV4dHVyZUNvb3JkLHRoaXMuY29sb3JBdHRyaWJ1dGUsdGhpcy5hVGV4dHVyZUluZGV4XSx0aGlzLnByb2dyYW09dH0saS5QaXhpRmFzdFNoYWRlci5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuZ2wuZGVsZXRlUHJvZ3JhbSh0aGlzLnByb2dyYW0pLHRoaXMudW5pZm9ybXM9bnVsbCx0aGlzLmdsPW51bGwsdGhpcy5hdHRyaWJ1dGVzPW51bGx9LGkuU3RyaXBTaGFkZXI9ZnVuY3Rpb24oZSl7aWYodGhpcy5fVUlEPVBoYXNlci5fVUlEKyssdGhpcy5nbD1lLHRoaXMucHJvZ3JhbT1udWxsLGkuX2VuYWJsZU11bHRpVGV4dHVyZVRvZ2dsZSl7dmFyIGU9dGhpcy5nbDt0aGlzLk1BWF9URVhUVVJFUz1lLmdldFBhcmFtZXRlcihlLk1BWF9URVhUVVJFX0lNQUdFX1VOSVRTKTtmb3IodmFyIHQ9XCJcXHRpZiAodlRleHR1cmVJbmRleCA9PSAwLjApIHsgZ2xfRnJhZ0NvbG9yID0gdGV4dHVyZTJEKHVTYW1wbGVyQXJyYXlbMF0sIHZUZXh0dXJlQ29vcmQpO3JldHVybjt9XFxuXCIscj0xO3I8dGhpcy5NQVhfVEVYVFVSRVM7KytyKXQrPVwiXFx0aWYgKHZUZXh0dXJlSW5kZXggPT0gXCIrcitcIi4wKSB7IGdsX0ZyYWdDb2xvciA9IHRleHR1cmUyRCh1U2FtcGxlckFycmF5W1wiK3IrXCJdLCB2VGV4dHVyZUNvb3JkKSA7cmV0dXJuO31cXG5cIjt0aGlzLmZyYWdtZW50U3JjPVtcIi8vU3RyaXBTaGFkZXIgRnJhZ21lbnQgU2hhZGVyLlwiLFwicHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7XCIsXCJib29sIGlzbmFuKCBmbG9hdCB2YWwgKSB7ICByZXR1cm4gKCB2YWwgPCAwLjAgfHwgMC4wIDwgdmFsIHx8IHZhbCA9PSAwLjAgKSA/IGZhbHNlIDogdHJ1ZTsgfVwiLFwidmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XCIsXCJ2YXJ5aW5nIGZsb2F0IHZUZXh0dXJlSW5kZXg7XCIsXCJ1bmlmb3JtIGZsb2F0IGFscGhhO1wiLFwidW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXJBcnJheVtcIit0aGlzLk1BWF9URVhUVVJFUytcIl07XCIsXCJjb25zdCB2ZWM0IEJMVUUgPSB2ZWM0KDEuMCwgMC4wLCAxLjAsIDEuMCk7XCIsXCJjb25zdCB2ZWM0IFJFRCA9IHZlYzQoMS4wLCAwLjAsIDAuMCwgMS4wKTtcIixcInZvaWQgbWFpbih2b2lkKSB7XCIsdCxcIiAgIGlmKHZUZXh0dXJlSW5kZXggPj0gXCIrdGhpcy5NQVhfVEVYVFVSRVMrXCIuMCkgeyBnbF9GcmFnQ29sb3IgPSBCTFVFO3JldHVybjt9XCIsXCIgICBpZihpc25hbih2VGV4dHVyZUluZGV4KSkge2dsX0ZyYWdDb2xvciA9IFJFRDtyZXR1cm47fVwiLFwifVwiXX1lbHNlIHRoaXMuZnJhZ21lbnRTcmM9W1wiLy9TdHJpcFNoYWRlciBGcmFnbWVudCBTaGFkZXIuXCIsXCJwcmVjaXNpb24gbWVkaXVtcCBmbG9hdDtcIixcInZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1wiLFwidmFyeWluZyBmbG9hdCB2VGV4dHVyZUluZGV4O1wiLFwidW5pZm9ybSBmbG9hdCBhbHBoYTtcIixcInVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyO1wiLFwidm9pZCBtYWluKHZvaWQpIHtcIixcIiAgIGdsX0ZyYWdDb2xvciA9IHRleHR1cmUyRCh1U2FtcGxlciwgdlRleHR1cmVDb29yZCk7XCIsXCJ9XCJdO3RoaXMudmVydGV4U3JjPVtcIi8vU3RyaXBTaGFkZXIgVmVydGV4IFNoYWRlci5cIixcImF0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjtcIixcImF0dHJpYnV0ZSB2ZWMyIGFUZXh0dXJlQ29vcmQ7XCIsXCJhdHRyaWJ1dGUgZmxvYXQgYVRleHR1cmVJbmRleDtcIixcInVuaWZvcm0gbWF0MyB0cmFuc2xhdGlvbk1hdHJpeDtcIixcInVuaWZvcm0gdmVjMiBwcm9qZWN0aW9uVmVjdG9yO1wiLFwidW5pZm9ybSB2ZWMyIG9mZnNldFZlY3RvcjtcIixcInZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1wiLFwidmFyeWluZyBmbG9hdCB2VGV4dHVyZUluZGV4O1wiLFwidm9pZCBtYWluKHZvaWQpIHtcIixcIiAgIHZlYzMgdiA9IHRyYW5zbGF0aW9uTWF0cml4ICogdmVjMyhhVmVydGV4UG9zaXRpb24gLCAxLjApO1wiLFwiICAgdiAtPSBvZmZzZXRWZWN0b3IueHl4O1wiLFwiICAgZ2xfUG9zaXRpb24gPSB2ZWM0KCB2LnggLyBwcm9qZWN0aW9uVmVjdG9yLnggLTEuMCwgdi55IC8gLXByb2plY3Rpb25WZWN0b3IueSArIDEuMCAsIDAuMCwgMS4wKTtcIixcIiAgIHZUZXh0dXJlQ29vcmQgPSBhVGV4dHVyZUNvb3JkO1wiLFwiICAgdlRleHR1cmVJbmRleCA9IGFUZXh0dXJlSW5kZXg7XCIsXCJ9XCJdLHRoaXMuaW5pdCgpfSxpLlN0cmlwU2hhZGVyLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1pLlN0cmlwU2hhZGVyLGkuU3RyaXBTaGFkZXIucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdsLHQ9aS5jb21waWxlUHJvZ3JhbShlLHRoaXMudmVydGV4U3JjLHRoaXMuZnJhZ21lbnRTcmMpO2lmKGUudXNlUHJvZ3JhbSh0KSx0aGlzLnVTYW1wbGVyPWkuX2VuYWJsZU11bHRpVGV4dHVyZVRvZ2dsZT9lLmdldFVuaWZvcm1Mb2NhdGlvbih0LFwidVNhbXBsZXJBcnJheVswXVwiKTplLmdldFVuaWZvcm1Mb2NhdGlvbih0LFwidVNhbXBsZXJcIiksaS5fZW5hYmxlTXVsdGlUZXh0dXJlVG9nZ2xlKXt2YXIgcj1bXSxzPWUuY3JlYXRlVGV4dHVyZSgpO2UuYWN0aXZlVGV4dHVyZShlLlRFWFRVUkUwKSxlLmJpbmRUZXh0dXJlKGUuVEVYVFVSRV8yRCxzKSxlLnRleEltYWdlMkQoZS5URVhUVVJFXzJELDAsZS5SR0IsMSwxLDAsZS5SR0IsZS5VTlNJR05FRF9CWVRFLG51bGwpO2Zvcih2YXIgbz0wO288dGhpcy5NQVhfVEVYVFVSRVM7KytvKWUuYWN0aXZlVGV4dHVyZShlLlRFWFRVUkUwK28pLGUuYmluZFRleHR1cmUoZS5URVhUVVJFXzJELHMpLHIucHVzaChvKTtlLmFjdGl2ZVRleHR1cmUoZS5URVhUVVJFMCksZS51bmlmb3JtMWl2KHRoaXMudVNhbXBsZXIscil9dGhpcy5wcm9qZWN0aW9uVmVjdG9yPWUuZ2V0VW5pZm9ybUxvY2F0aW9uKHQsXCJwcm9qZWN0aW9uVmVjdG9yXCIpLHRoaXMub2Zmc2V0VmVjdG9yPWUuZ2V0VW5pZm9ybUxvY2F0aW9uKHQsXCJvZmZzZXRWZWN0b3JcIiksdGhpcy5jb2xvckF0dHJpYnV0ZT1lLmdldEF0dHJpYkxvY2F0aW9uKHQsXCJhQ29sb3JcIiksdGhpcy5hVGV4dHVyZUluZGV4PWUuZ2V0QXR0cmliTG9jYXRpb24odCxcImFUZXh0dXJlSW5kZXhcIiksdGhpcy5hVmVydGV4UG9zaXRpb249ZS5nZXRBdHRyaWJMb2NhdGlvbih0LFwiYVZlcnRleFBvc2l0aW9uXCIpLHRoaXMuYVRleHR1cmVDb29yZD1lLmdldEF0dHJpYkxvY2F0aW9uKHQsXCJhVGV4dHVyZUNvb3JkXCIpLHRoaXMuYXR0cmlidXRlcz1bdGhpcy5hVmVydGV4UG9zaXRpb24sdGhpcy5hVGV4dHVyZUNvb3JkLHRoaXMuYVRleHR1cmVJbmRleF0sdGhpcy50cmFuc2xhdGlvbk1hdHJpeD1lLmdldFVuaWZvcm1Mb2NhdGlvbih0LFwidHJhbnNsYXRpb25NYXRyaXhcIiksdGhpcy5hbHBoYT1lLmdldFVuaWZvcm1Mb2NhdGlvbih0LFwiYWxwaGFcIiksdGhpcy5wcm9ncmFtPXR9LGkuU3RyaXBTaGFkZXIucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmdsLmRlbGV0ZVByb2dyYW0odGhpcy5wcm9ncmFtKSx0aGlzLnVuaWZvcm1zPW51bGwsdGhpcy5nbD1udWxsLHRoaXMuYXR0cmlidXRlPW51bGx9LGkuUHJpbWl0aXZlU2hhZGVyPWZ1bmN0aW9uKGUpe3RoaXMuX1VJRD1QaGFzZXIuX1VJRCsrLHRoaXMuZ2w9ZSx0aGlzLnByb2dyYW09bnVsbCx0aGlzLmZyYWdtZW50U3JjPVtcInByZWNpc2lvbiBtZWRpdW1wIGZsb2F0O1wiLFwidmFyeWluZyB2ZWM0IHZDb2xvcjtcIixcInZvaWQgbWFpbih2b2lkKSB7XCIsXCIgICBnbF9GcmFnQ29sb3IgPSB2Q29sb3I7XCIsXCJ9XCJdLHRoaXMudmVydGV4U3JjPVtcImF0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjtcIixcImF0dHJpYnV0ZSB2ZWM0IGFDb2xvcjtcIixcInVuaWZvcm0gbWF0MyB0cmFuc2xhdGlvbk1hdHJpeDtcIixcInVuaWZvcm0gdmVjMiBwcm9qZWN0aW9uVmVjdG9yO1wiLFwidW5pZm9ybSB2ZWMyIG9mZnNldFZlY3RvcjtcIixcInVuaWZvcm0gZmxvYXQgYWxwaGE7XCIsXCJ1bmlmb3JtIGZsb2F0IGZsaXBZO1wiLFwidW5pZm9ybSB2ZWMzIHRpbnQ7XCIsXCJ2YXJ5aW5nIHZlYzQgdkNvbG9yO1wiLFwidm9pZCBtYWluKHZvaWQpIHtcIixcIiAgIHZlYzMgdiA9IHRyYW5zbGF0aW9uTWF0cml4ICogdmVjMyhhVmVydGV4UG9zaXRpb24gLCAxLjApO1wiLFwiICAgdiAtPSBvZmZzZXRWZWN0b3IueHl4O1wiLFwiICAgZ2xfUG9zaXRpb24gPSB2ZWM0KCB2LnggLyBwcm9qZWN0aW9uVmVjdG9yLnggLTEuMCwgKHYueSAvIHByb2plY3Rpb25WZWN0b3IueSAqIC1mbGlwWSkgKyBmbGlwWSAsIDAuMCwgMS4wKTtcIixcIiAgIHZDb2xvciA9IGFDb2xvciAqIHZlYzQodGludCAqIGFscGhhLCBhbHBoYSk7XCIsXCJ9XCJdLHRoaXMuaW5pdCgpfSxpLlByaW1pdGl2ZVNoYWRlci5wcm90b3R5cGUuY29uc3RydWN0b3I9aS5QcmltaXRpdmVTaGFkZXIsaS5QcmltaXRpdmVTaGFkZXIucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdsLHQ9aS5jb21waWxlUHJvZ3JhbShlLHRoaXMudmVydGV4U3JjLHRoaXMuZnJhZ21lbnRTcmMpO2UudXNlUHJvZ3JhbSh0KSx0aGlzLnByb2plY3Rpb25WZWN0b3I9ZS5nZXRVbmlmb3JtTG9jYXRpb24odCxcInByb2plY3Rpb25WZWN0b3JcIiksdGhpcy5vZmZzZXRWZWN0b3I9ZS5nZXRVbmlmb3JtTG9jYXRpb24odCxcIm9mZnNldFZlY3RvclwiKSx0aGlzLnRpbnRDb2xvcj1lLmdldFVuaWZvcm1Mb2NhdGlvbih0LFwidGludFwiKSx0aGlzLmZsaXBZPWUuZ2V0VW5pZm9ybUxvY2F0aW9uKHQsXCJmbGlwWVwiKSx0aGlzLmFWZXJ0ZXhQb3NpdGlvbj1lLmdldEF0dHJpYkxvY2F0aW9uKHQsXCJhVmVydGV4UG9zaXRpb25cIiksdGhpcy5jb2xvckF0dHJpYnV0ZT1lLmdldEF0dHJpYkxvY2F0aW9uKHQsXCJhQ29sb3JcIiksdGhpcy5hdHRyaWJ1dGVzPVt0aGlzLmFWZXJ0ZXhQb3NpdGlvbix0aGlzLmNvbG9yQXR0cmlidXRlXSx0aGlzLnRyYW5zbGF0aW9uTWF0cml4PWUuZ2V0VW5pZm9ybUxvY2F0aW9uKHQsXCJ0cmFuc2xhdGlvbk1hdHJpeFwiKSx0aGlzLmFscGhhPWUuZ2V0VW5pZm9ybUxvY2F0aW9uKHQsXCJhbHBoYVwiKSx0aGlzLnByb2dyYW09dH0saS5QcmltaXRpdmVTaGFkZXIucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmdsLmRlbGV0ZVByb2dyYW0odGhpcy5wcm9ncmFtKSx0aGlzLnVuaWZvcm1zPW51bGwsdGhpcy5nbD1udWxsLHRoaXMuYXR0cmlidXRlcz1udWxsfSxpLkNvbXBsZXhQcmltaXRpdmVTaGFkZXI9ZnVuY3Rpb24oZSl7dGhpcy5fVUlEPVBoYXNlci5fVUlEKyssdGhpcy5nbD1lLHRoaXMucHJvZ3JhbT1udWxsLHRoaXMuZnJhZ21lbnRTcmM9W1wicHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7XCIsXCJ2YXJ5aW5nIHZlYzQgdkNvbG9yO1wiLFwidm9pZCBtYWluKHZvaWQpIHtcIixcIiAgIGdsX0ZyYWdDb2xvciA9IHZDb2xvcjtcIixcIn1cIl0sdGhpcy52ZXJ0ZXhTcmM9W1wiYXR0cmlidXRlIHZlYzIgYVZlcnRleFBvc2l0aW9uO1wiLFwidW5pZm9ybSBtYXQzIHRyYW5zbGF0aW9uTWF0cml4O1wiLFwidW5pZm9ybSB2ZWMyIHByb2plY3Rpb25WZWN0b3I7XCIsXCJ1bmlmb3JtIHZlYzIgb2Zmc2V0VmVjdG9yO1wiLFwidW5pZm9ybSB2ZWMzIHRpbnQ7XCIsXCJ1bmlmb3JtIGZsb2F0IGFscGhhO1wiLFwidW5pZm9ybSB2ZWMzIGNvbG9yO1wiLFwidW5pZm9ybSBmbG9hdCBmbGlwWTtcIixcInZhcnlpbmcgdmVjNCB2Q29sb3I7XCIsXCJ2b2lkIG1haW4odm9pZCkge1wiLFwiICAgdmVjMyB2ID0gdHJhbnNsYXRpb25NYXRyaXggKiB2ZWMzKGFWZXJ0ZXhQb3NpdGlvbiAsIDEuMCk7XCIsXCIgICB2IC09IG9mZnNldFZlY3Rvci54eXg7XCIsXCIgICBnbF9Qb3NpdGlvbiA9IHZlYzQoIHYueCAvIHByb2plY3Rpb25WZWN0b3IueCAtMS4wLCAodi55IC8gcHJvamVjdGlvblZlY3Rvci55ICogLWZsaXBZKSArIGZsaXBZICwgMC4wLCAxLjApO1wiLFwiICAgdkNvbG9yID0gdmVjNChjb2xvciAqIGFscGhhICogdGludCwgYWxwaGEpO1wiLFwifVwiXSx0aGlzLmluaXQoKX0saS5Db21wbGV4UHJpbWl0aXZlU2hhZGVyLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1pLkNvbXBsZXhQcmltaXRpdmVTaGFkZXIsaS5Db21wbGV4UHJpbWl0aXZlU2hhZGVyLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nbCx0PWkuY29tcGlsZVByb2dyYW0oZSx0aGlzLnZlcnRleFNyYyx0aGlzLmZyYWdtZW50U3JjKTtlLnVzZVByb2dyYW0odCksdGhpcy5wcm9qZWN0aW9uVmVjdG9yPWUuZ2V0VW5pZm9ybUxvY2F0aW9uKHQsXCJwcm9qZWN0aW9uVmVjdG9yXCIpLHRoaXMub2Zmc2V0VmVjdG9yPWUuZ2V0VW5pZm9ybUxvY2F0aW9uKHQsXCJvZmZzZXRWZWN0b3JcIiksdGhpcy50aW50Q29sb3I9ZS5nZXRVbmlmb3JtTG9jYXRpb24odCxcInRpbnRcIiksdGhpcy5jb2xvcj1lLmdldFVuaWZvcm1Mb2NhdGlvbih0LFwiY29sb3JcIiksdGhpcy5mbGlwWT1lLmdldFVuaWZvcm1Mb2NhdGlvbih0LFwiZmxpcFlcIiksdGhpcy5hVmVydGV4UG9zaXRpb249ZS5nZXRBdHRyaWJMb2NhdGlvbih0LFwiYVZlcnRleFBvc2l0aW9uXCIpLHRoaXMuYXR0cmlidXRlcz1bdGhpcy5hVmVydGV4UG9zaXRpb24sdGhpcy5jb2xvckF0dHJpYnV0ZV0sdGhpcy50cmFuc2xhdGlvbk1hdHJpeD1lLmdldFVuaWZvcm1Mb2NhdGlvbih0LFwidHJhbnNsYXRpb25NYXRyaXhcIiksdGhpcy5hbHBoYT1lLmdldFVuaWZvcm1Mb2NhdGlvbih0LFwiYWxwaGFcIiksdGhpcy5wcm9ncmFtPXR9LGkuQ29tcGxleFByaW1pdGl2ZVNoYWRlci5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuZ2wuZGVsZXRlUHJvZ3JhbSh0aGlzLnByb2dyYW0pLHRoaXMudW5pZm9ybXM9bnVsbCx0aGlzLmdsPW51bGwsdGhpcy5hdHRyaWJ1dGU9bnVsbH0saS5nbENvbnRleHRzPVtdLGkuaW5zdGFuY2VzPVtdLGkuX2VuYWJsZU11bHRpVGV4dHVyZVRvZ2dsZT0hMSxpLldlYkdMUmVuZGVyZXI9ZnVuY3Rpb24oZSl7dGhpcy5nYW1lPWUsaS5kZWZhdWx0UmVuZGVyZXJ8fChpLmRlZmF1bHRSZW5kZXJlcj10aGlzKSx0aGlzLmV4dGVuc2lvbnM9e30sdGhpcy50eXBlPVBoYXNlci5XRUJHTCx0aGlzLnJlc29sdXRpb249ZS5yZXNvbHV0aW9uLHRoaXMudHJhbnNwYXJlbnQ9ZS50cmFuc3BhcmVudCx0aGlzLmF1dG9SZXNpemU9ITEsdGhpcy5wcmVzZXJ2ZURyYXdpbmdCdWZmZXI9ZS5wcmVzZXJ2ZURyYXdpbmdCdWZmZXIsdGhpcy5jbGVhckJlZm9yZVJlbmRlcj1lLmNsZWFyQmVmb3JlUmVuZGVyLHRoaXMud2lkdGg9ZS53aWR0aCx0aGlzLmhlaWdodD1lLmhlaWdodCx0aGlzLnZpZXc9ZS5jYW52YXMsdGhpcy5fY29udGV4dE9wdGlvbnM9e2FscGhhOnRoaXMudHJhbnNwYXJlbnQsYW50aWFsaWFzOmUuYW50aWFsaWFzLHByZW11bHRpcGxpZWRBbHBoYTp0aGlzLnRyYW5zcGFyZW50JiZcIm5vdE11bHRpcGxpZWRcIiE9PXRoaXMudHJhbnNwYXJlbnQsc3RlbmNpbDohMCxwcmVzZXJ2ZURyYXdpbmdCdWZmZXI6dGhpcy5wcmVzZXJ2ZURyYXdpbmdCdWZmZXJ9LHRoaXMucHJvamVjdGlvbj1uZXcgaS5Qb2ludCx0aGlzLm9mZnNldD1uZXcgaS5Qb2ludCx0aGlzLnNoYWRlck1hbmFnZXI9bmV3IGkuV2ViR0xTaGFkZXJNYW5hZ2VyLHRoaXMuc3ByaXRlQmF0Y2g9bmV3IGkuV2ViR0xTcHJpdGVCYXRjaChlKSx0aGlzLm1hc2tNYW5hZ2VyPW5ldyBpLldlYkdMTWFza01hbmFnZXIsdGhpcy5maWx0ZXJNYW5hZ2VyPW5ldyBpLldlYkdMRmlsdGVyTWFuYWdlcix0aGlzLnN0ZW5jaWxNYW5hZ2VyPW5ldyBpLldlYkdMU3RlbmNpbE1hbmFnZXIsdGhpcy5ibGVuZE1vZGVNYW5hZ2VyPW5ldyBpLldlYkdMQmxlbmRNb2RlTWFuYWdlcix0aGlzLnJlbmRlclNlc3Npb249e30sdGhpcy5jdXJyZW50QmF0Y2hlZFRleHR1cmVzPVtdLHRoaXMucmVuZGVyU2Vzc2lvbi5nYW1lPXRoaXMuZ2FtZSx0aGlzLnJlbmRlclNlc3Npb24uZ2w9dGhpcy5nbCx0aGlzLnJlbmRlclNlc3Npb24uZHJhd0NvdW50PTAsdGhpcy5yZW5kZXJTZXNzaW9uLnNoYWRlck1hbmFnZXI9dGhpcy5zaGFkZXJNYW5hZ2VyLHRoaXMucmVuZGVyU2Vzc2lvbi5tYXNrTWFuYWdlcj10aGlzLm1hc2tNYW5hZ2VyLHRoaXMucmVuZGVyU2Vzc2lvbi5maWx0ZXJNYW5hZ2VyPXRoaXMuZmlsdGVyTWFuYWdlcix0aGlzLnJlbmRlclNlc3Npb24uYmxlbmRNb2RlTWFuYWdlcj10aGlzLmJsZW5kTW9kZU1hbmFnZXIsdGhpcy5yZW5kZXJTZXNzaW9uLnNwcml0ZUJhdGNoPXRoaXMuc3ByaXRlQmF0Y2gsdGhpcy5yZW5kZXJTZXNzaW9uLnN0ZW5jaWxNYW5hZ2VyPXRoaXMuc3RlbmNpbE1hbmFnZXIsdGhpcy5yZW5kZXJTZXNzaW9uLnJlbmRlcmVyPXRoaXMsdGhpcy5yZW5kZXJTZXNzaW9uLnJlc29sdXRpb249dGhpcy5yZXNvbHV0aW9uLHRoaXMucmVuZGVyU2Vzc2lvbi5yb3VuZFBpeGVscz0hMSx0aGlzLnJlbmRlclNlc3Npb24ubWF4VGV4dHVyZUF2YWlsYWJsZVNwYWNlPW51bGwsdGhpcy5pbml0Q29udGV4dCgpLHRoaXMubWFwQmxlbmRNb2RlcygpfSxpLldlYkdMUmVuZGVyZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yPWkuV2ViR0xSZW5kZXJlcixpLldlYkdMUmVuZGVyZXIucHJvdG90eXBlLmluaXRDb250ZXh0PWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy52aWV3LmdldENvbnRleHQoXCJ3ZWJnbFwiLHRoaXMuX2NvbnRleHRPcHRpb25zKXx8dGhpcy52aWV3LmdldENvbnRleHQoXCJleHBlcmltZW50YWwtd2ViZ2xcIix0aGlzLl9jb250ZXh0T3B0aW9ucyk7aWYodGhpcy5nbD1lLCFlKXRocm93IG5ldyBFcnJvcihcIlRoaXMgYnJvd3NlciBkb2VzIG5vdCBzdXBwb3J0IHdlYkdMLiBUcnkgdXNpbmcgdGhlIGNhbnZhcyByZW5kZXJlclwiKTt0aGlzLm1heFRleHR1cmVzPWUuZ2V0UGFyYW1ldGVyKGUuTUFYX1RFWFRVUkVfSU1BR0VfVU5JVFMpLHRoaXMubWF4VGV4dHVyZVNpemU9dGhpcy5nbC5nZXRQYXJhbWV0ZXIoZS5NQVhfVEVYVFVSRV9TSVpFKSx0aGlzLmdsQ29udGV4dElkPWUuaWQ9aS5XZWJHTFJlbmRlcmVyLmdsQ29udGV4dElkKyssaS5nbENvbnRleHRzW3RoaXMuZ2xDb250ZXh0SWRdPWUsaS5pbnN0YW5jZXNbdGhpcy5nbENvbnRleHRJZF09dGhpcyxlLmRpc2FibGUoZS5ERVBUSF9URVNUKSxlLmRpc2FibGUoZS5DVUxMX0ZBQ0UpLGUuZW5hYmxlKGUuQkxFTkQpLHRoaXMuc2hhZGVyTWFuYWdlci5zZXRDb250ZXh0KGUpLHRoaXMuc3ByaXRlQmF0Y2guc2V0Q29udGV4dChlKSx0aGlzLm1hc2tNYW5hZ2VyLnNldENvbnRleHQoZSksdGhpcy5maWx0ZXJNYW5hZ2VyLnNldENvbnRleHQoZSksdGhpcy5ibGVuZE1vZGVNYW5hZ2VyLnNldENvbnRleHQoZSksdGhpcy5zdGVuY2lsTWFuYWdlci5zZXRDb250ZXh0KGUpLHRoaXMucmVuZGVyU2Vzc2lvbi5nbD10aGlzLmdsLHRoaXMucmVzaXplKHRoaXMud2lkdGgsdGhpcy5oZWlnaHQpLHRoaXMuZXh0ZW5zaW9ucy5jb21wcmVzc2lvbj17fTt2YXIgdD1lLmdldEV4dGVuc2lvbihcIldFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9ldGMxXCIpfHxlLmdldEV4dGVuc2lvbihcIldFQktJVF9XRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfZXRjMVwiKSxyPWUuZ2V0RXh0ZW5zaW9uKFwiV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX3B2cnRjXCIpfHxlLmdldEV4dGVuc2lvbihcIldFQktJVF9XRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfcHZydGNcIikscz1lLmdldEV4dGVuc2lvbihcIldFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9zM3RjXCIpfHxlLmdldEV4dGVuc2lvbihcIldFQktJVF9XRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfczN0Y1wiKTt0JiYodGhpcy5leHRlbnNpb25zLmNvbXByZXNzaW9uLkVUQzE9dCksciYmKHRoaXMuZXh0ZW5zaW9ucy5jb21wcmVzc2lvbi5QVlJUQz1yKSxzJiYodGhpcy5leHRlbnNpb25zLmNvbXByZXNzaW9uLlMzVEM9cyl9LGkuV2ViR0xSZW5kZXJlci5wcm90b3R5cGUuc2V0VGV4dHVyZVByaW9yaXR5PWZ1bmN0aW9uKGUpe2lmKGkuX2VuYWJsZU11bHRpVGV4dHVyZVRvZ2dsZSl7Zm9yKHZhciB0PWZ1bmN0aW9uKGUpe3JldHVybi0tZSxlfD1lPj4xLGV8PWU+PjIsZXw9ZT4+NCxlfD1lPj44LGV8PWU+PjE2LCsrZX0scj10aGlzLmdsLHM9ci5nZXRQYXJhbWV0ZXIoci5NQVhfVEVYVFVSRV9JTUFHRV9VTklUUyksbz1yLmdldFBhcmFtZXRlcihyLk1BWF9URVhUVVJFX1NJWkUpLGE9dGhpcy5nYW1lLmNhY2hlLl9jYWNoZS5pbWFnZSxuPW51bGwsaD0wO2g8dGhpcy5jdXJyZW50QmF0Y2hlZFRleHR1cmVzLmxlbmd0aDtoKyspKG49dGhpcy5jdXJyZW50QmF0Y2hlZFRleHR1cmVzW2hdKWluIGE/YVtuXS5iYXNlLnRleHR1cmVJbmRleD0wOmNvbnNvbGUud2Fybignc2V0VGV4dHVyZVByaW9yaXR5OiBUaGVyZSBpcyBubyBpbWFnZSBcIiVzXCIgaW4gdGhlIGltYWdlIGNhY2hlLicsbik7dmFyIGw9by10KE1hdGgubWF4KHRoaXMud2lkdGgsdGhpcy5oZWlnaHQpKTt0aGlzLmN1cnJlbnRCYXRjaGVkVGV4dHVyZXMubGVuZ3RoPTA7Zm9yKHZhciB1PTA7dTxlLmxlbmd0aDsrK3UpaWYoKG49ZVt1XSlpbiBhKXt2YXIgZD1hW25dLmJhc2U7KGwtPXQoTWF0aC5tYXgoZC53aWR0aCxkLmhlaWdodCkpKTw9MD8oZC50ZXh0dXJlSW5kZXg9MCxjb25zb2xlLndhcm4oJ3NldFRleHR1cmVQcmlvcml0eTogSW1hZ2UgXCIlc1wiIHdhcyBnaXZlbiB0ZXh0dXJlSW5kZXg9MCBiZWNhdXNlIHRoZXJlIGlzIG5vIGF2YWlsYWJsZSB0ZXh0dXJlIHNwYWNlICglcykuJyxuLGwpKTpkLnRleHR1cmVJbmRleD0xK3UlKHMtMSksdGhpcy5jdXJyZW50QmF0Y2hlZFRleHR1cmVzLnB1c2gobil9ZWxzZSBjb25zb2xlLndhcm4oJ3NldFRleHR1cmVQcmlvcml0eTogVGhlcmUgaXMgbm8gaW1hZ2UgXCIlc1wiIGluIHRoZSBpbWFnZSBjYWNoZS4nLG4pO3JldHVybiB0aGlzLnJlbmRlclNlc3Npb24ubWF4VGV4dHVyZUF2YWlsYWJsZVNwYWNlPWwsdGhpcy5jdXJyZW50QmF0Y2hlZFRleHR1cmVzfWNvbnNvbGUud2FybihcInNldFRleHR1cmVQcmlvcml0eSBlcnJvcjogTXVsdGkgVGV4dHVyZSBzdXBwb3J0IGhhc24ndCBiZWVuIGVuYWJsZWQgaW4gdGhlIFBoYXNlciBHYW1lIENvbmZpZy5cIil9LGkuV2ViR0xSZW5kZXJlci5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKGUpe2lmKCF0aGlzLmNvbnRleHRMb3N0KXt2YXIgdD10aGlzLmdsO3Qudmlld3BvcnQoMCwwLHRoaXMud2lkdGgsdGhpcy5oZWlnaHQpLHQuYmluZEZyYW1lYnVmZmVyKHQuRlJBTUVCVUZGRVIsbnVsbCksdGhpcy5nYW1lLmNsZWFyQmVmb3JlUmVuZGVyJiYodC5jbGVhckNvbG9yKGUuX2JnQ29sb3IucixlLl9iZ0NvbG9yLmcsZS5fYmdDb2xvci5iLGUuX2JnQ29sb3IuYSksdC5jbGVhcih0LkNPTE9SX0JVRkZFUl9CSVQpKSx0aGlzLm9mZnNldC54PXRoaXMuZ2FtZS5jYW1lcmEuX3NoYWtlLngsdGhpcy5vZmZzZXQueT10aGlzLmdhbWUuY2FtZXJhLl9zaGFrZS55LHRoaXMucmVuZGVyRGlzcGxheU9iamVjdChlLHRoaXMucHJvamVjdGlvbil9fSxpLldlYkdMUmVuZGVyZXIucHJvdG90eXBlLnJlbmRlckRpc3BsYXlPYmplY3Q9ZnVuY3Rpb24oZSx0LHIscyl7dGhpcy5yZW5kZXJTZXNzaW9uLmJsZW5kTW9kZU1hbmFnZXIuc2V0QmxlbmRNb2RlKGkuYmxlbmRNb2Rlcy5OT1JNQUwpLHRoaXMucmVuZGVyU2Vzc2lvbi5kcmF3Q291bnQ9MCx0aGlzLnJlbmRlclNlc3Npb24uZmxpcFk9cj8tMToxLHRoaXMucmVuZGVyU2Vzc2lvbi5wcm9qZWN0aW9uPXQsdGhpcy5yZW5kZXJTZXNzaW9uLm9mZnNldD10aGlzLm9mZnNldCx0aGlzLnNwcml0ZUJhdGNoLmJlZ2luKHRoaXMucmVuZGVyU2Vzc2lvbiksdGhpcy5maWx0ZXJNYW5hZ2VyLmJlZ2luKHRoaXMucmVuZGVyU2Vzc2lvbixyKSxlLl9yZW5kZXJXZWJHTCh0aGlzLnJlbmRlclNlc3Npb24scyksdGhpcy5zcHJpdGVCYXRjaC5lbmQoKX0saS5XZWJHTFJlbmRlcmVyLnByb3RvdHlwZS5yZXNpemU9ZnVuY3Rpb24oZSx0KXt0aGlzLndpZHRoPWUqdGhpcy5yZXNvbHV0aW9uLHRoaXMuaGVpZ2h0PXQqdGhpcy5yZXNvbHV0aW9uLHRoaXMudmlldy53aWR0aD10aGlzLndpZHRoLHRoaXMudmlldy5oZWlnaHQ9dGhpcy5oZWlnaHQsdGhpcy5hdXRvUmVzaXplJiYodGhpcy52aWV3LnN0eWxlLndpZHRoPXRoaXMud2lkdGgvdGhpcy5yZXNvbHV0aW9uK1wicHhcIix0aGlzLnZpZXcuc3R5bGUuaGVpZ2h0PXRoaXMuaGVpZ2h0L3RoaXMucmVzb2x1dGlvbitcInB4XCIpLHRoaXMuZ2wudmlld3BvcnQoMCwwLHRoaXMud2lkdGgsdGhpcy5oZWlnaHQpLHRoaXMucHJvamVjdGlvbi54PXRoaXMud2lkdGgvMi90aGlzLnJlc29sdXRpb24sdGhpcy5wcm9qZWN0aW9uLnk9LXRoaXMuaGVpZ2h0LzIvdGhpcy5yZXNvbHV0aW9ufSxpLldlYkdMUmVuZGVyZXIucHJvdG90eXBlLnVwZGF0ZUNvbXByZXNzZWRUZXh0dXJlPWZ1bmN0aW9uKGUpe2lmKCFlLmhhc0xvYWRlZClyZXR1cm4hMTt2YXIgdD10aGlzLmdsLHI9ZS5zb3VyY2U7cmV0dXJuIGUuX2dsVGV4dHVyZXNbdC5pZF18fChlLl9nbFRleHR1cmVzW3QuaWRdPXQuY3JlYXRlVGV4dHVyZSgpKSx0LmFjdGl2ZVRleHR1cmUodC5URVhUVVJFMCtlLnRleHR1cmVJbmRleCksdC5iaW5kVGV4dHVyZSh0LlRFWFRVUkVfMkQsZS5fZ2xUZXh0dXJlc1t0LmlkXSksdC5jb21wcmVzc2VkVGV4SW1hZ2UyRCh0LlRFWFRVUkVfMkQsMCxyLmdsRXh0ZW5zaW9uRm9ybWF0LHIud2lkdGgsci5oZWlnaHQsMCxyLnRleHR1cmVEYXRhKSx0LnRleFBhcmFtZXRlcmkodC5URVhUVVJFXzJELHQuVEVYVFVSRV9NQUdfRklMVEVSLGUuc2NhbGVNb2RlPT09aS5zY2FsZU1vZGVzLkxJTkVBUj90LkxJTkVBUjp0Lk5FQVJFU1QpLGUubWlwbWFwJiZQaGFzZXIuTWF0aC5pc1Bvd2VyT2ZUd28oZS53aWR0aCxlLmhlaWdodCk/KHQudGV4UGFyYW1ldGVyaSh0LlRFWFRVUkVfMkQsdC5URVhUVVJFX01JTl9GSUxURVIsZS5zY2FsZU1vZGU9PT1pLnNjYWxlTW9kZXMuTElORUFSP3QuTElORUFSX01JUE1BUF9MSU5FQVI6dC5ORUFSRVNUX01JUE1BUF9ORUFSRVNUKSx0LmdlbmVyYXRlTWlwbWFwKHQuVEVYVFVSRV8yRCkpOnQudGV4UGFyYW1ldGVyaSh0LlRFWFRVUkVfMkQsdC5URVhUVVJFX01JTl9GSUxURVIsZS5zY2FsZU1vZGU9PT1pLnNjYWxlTW9kZXMuTElORUFSP3QuTElORUFSOnQuTkVBUkVTVCksZS5fcG93ZXJPZjI/KHQudGV4UGFyYW1ldGVyaSh0LlRFWFRVUkVfMkQsdC5URVhUVVJFX1dSQVBfUyx0LlJFUEVBVCksdC50ZXhQYXJhbWV0ZXJpKHQuVEVYVFVSRV8yRCx0LlRFWFRVUkVfV1JBUF9ULHQuUkVQRUFUKSk6KHQudGV4UGFyYW1ldGVyaSh0LlRFWFRVUkVfMkQsdC5URVhUVVJFX1dSQVBfUyx0LkNMQU1QX1RPX0VER0UpLHQudGV4UGFyYW1ldGVyaSh0LlRFWFRVUkVfMkQsdC5URVhUVVJFX1dSQVBfVCx0LkNMQU1QX1RPX0VER0UpKSxlLl9kaXJ0eVt0LmlkXT0hMSwhMH0saS5XZWJHTFJlbmRlcmVyLnByb3RvdHlwZS51cGRhdGVUZXh0dXJlPWZ1bmN0aW9uKGUpe2lmKCFlLmhhc0xvYWRlZClyZXR1cm4hMTtpZihlLnNvdXJjZS5jb21wcmVzc2lvbkFsZ29yaXRobSlyZXR1cm4gdGhpcy51cGRhdGVDb21wcmVzc2VkVGV4dHVyZShlKTt2YXIgdD10aGlzLmdsO3JldHVybiBlLl9nbFRleHR1cmVzW3QuaWRdfHwoZS5fZ2xUZXh0dXJlc1t0LmlkXT10LmNyZWF0ZVRleHR1cmUoKSksdC5hY3RpdmVUZXh0dXJlKHQuVEVYVFVSRTArZS50ZXh0dXJlSW5kZXgpLHQuYmluZFRleHR1cmUodC5URVhUVVJFXzJELGUuX2dsVGV4dHVyZXNbdC5pZF0pLHQucGl4ZWxTdG9yZWkodC5VTlBBQ0tfUFJFTVVMVElQTFlfQUxQSEFfV0VCR0wsZS5wcmVtdWx0aXBsaWVkQWxwaGEpLHQudGV4SW1hZ2UyRCh0LlRFWFRVUkVfMkQsMCx0LlJHQkEsdC5SR0JBLHQuVU5TSUdORURfQllURSxlLnNvdXJjZSksdC50ZXhQYXJhbWV0ZXJpKHQuVEVYVFVSRV8yRCx0LlRFWFRVUkVfTUFHX0ZJTFRFUixlLnNjYWxlTW9kZT09PWkuc2NhbGVNb2Rlcy5MSU5FQVI/dC5MSU5FQVI6dC5ORUFSRVNUKSxlLm1pcG1hcCYmUGhhc2VyLk1hdGguaXNQb3dlck9mVHdvKGUud2lkdGgsZS5oZWlnaHQpPyh0LnRleFBhcmFtZXRlcmkodC5URVhUVVJFXzJELHQuVEVYVFVSRV9NSU5fRklMVEVSLGUuc2NhbGVNb2RlPT09aS5zY2FsZU1vZGVzLkxJTkVBUj90LkxJTkVBUl9NSVBNQVBfTElORUFSOnQuTkVBUkVTVF9NSVBNQVBfTkVBUkVTVCksdC5nZW5lcmF0ZU1pcG1hcCh0LlRFWFRVUkVfMkQpKTp0LnRleFBhcmFtZXRlcmkodC5URVhUVVJFXzJELHQuVEVYVFVSRV9NSU5fRklMVEVSLGUuc2NhbGVNb2RlPT09aS5zY2FsZU1vZGVzLkxJTkVBUj90LkxJTkVBUjp0Lk5FQVJFU1QpLGUuX3Bvd2VyT2YyPyh0LnRleFBhcmFtZXRlcmkodC5URVhUVVJFXzJELHQuVEVYVFVSRV9XUkFQX1MsdC5SRVBFQVQpLHQudGV4UGFyYW1ldGVyaSh0LlRFWFRVUkVfMkQsdC5URVhUVVJFX1dSQVBfVCx0LlJFUEVBVCkpOih0LnRleFBhcmFtZXRlcmkodC5URVhUVVJFXzJELHQuVEVYVFVSRV9XUkFQX1MsdC5DTEFNUF9UT19FREdFKSx0LnRleFBhcmFtZXRlcmkodC5URVhUVVJFXzJELHQuVEVYVFVSRV9XUkFQX1QsdC5DTEFNUF9UT19FREdFKSksZS5fZGlydHlbdC5pZF09ITEsITB9LGkuV2ViR0xSZW5kZXJlci5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe2kuZ2xDb250ZXh0c1t0aGlzLmdsQ29udGV4dElkXT1udWxsLHRoaXMucHJvamVjdGlvbj1udWxsLHRoaXMub2Zmc2V0PW51bGwsdGhpcy5zaGFkZXJNYW5hZ2VyLmRlc3Ryb3koKSx0aGlzLnNwcml0ZUJhdGNoLmRlc3Ryb3koKSx0aGlzLm1hc2tNYW5hZ2VyLmRlc3Ryb3koKSx0aGlzLmZpbHRlck1hbmFnZXIuZGVzdHJveSgpLHRoaXMuc2hhZGVyTWFuYWdlcj1udWxsLHRoaXMuc3ByaXRlQmF0Y2g9bnVsbCx0aGlzLm1hc2tNYW5hZ2VyPW51bGwsdGhpcy5maWx0ZXJNYW5hZ2VyPW51bGwsdGhpcy5nbD1udWxsLHRoaXMucmVuZGVyU2Vzc2lvbj1udWxsLFBoYXNlci5DYW52YXNQb29sLnJlbW92ZSh0aGlzKSxpLmluc3RhbmNlc1t0aGlzLmdsQ29udGV4dElkXT1udWxsLGkuV2ViR0xSZW5kZXJlci5nbENvbnRleHRJZC0tfSxpLldlYkdMUmVuZGVyZXIucHJvdG90eXBlLm1hcEJsZW5kTW9kZXM9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdsO2lmKCFpLmJsZW5kTW9kZXNXZWJHTCl7dmFyIHQ9W10scj1pLmJsZW5kTW9kZXM7dFtyLk5PUk1BTF09W2UuT05FLGUuT05FX01JTlVTX1NSQ19BTFBIQV0sdFtyLkFERF09W2UuU1JDX0FMUEhBLGUuRFNUX0FMUEhBXSx0W3IuTVVMVElQTFldPVtlLkRTVF9DT0xPUixlLk9ORV9NSU5VU19TUkNfQUxQSEFdLHRbci5TQ1JFRU5dPVtlLlNSQ19BTFBIQSxlLk9ORV0sdFtyLk9WRVJMQVldPVtlLk9ORSxlLk9ORV9NSU5VU19TUkNfQUxQSEFdLHRbci5EQVJLRU5dPVtlLk9ORSxlLk9ORV9NSU5VU19TUkNfQUxQSEFdLHRbci5MSUdIVEVOXT1bZS5PTkUsZS5PTkVfTUlOVVNfU1JDX0FMUEhBXSx0W3IuQ09MT1JfRE9ER0VdPVtlLk9ORSxlLk9ORV9NSU5VU19TUkNfQUxQSEFdLHRbci5DT0xPUl9CVVJOXT1bZS5PTkUsZS5PTkVfTUlOVVNfU1JDX0FMUEhBXSx0W3IuSEFSRF9MSUdIVF09W2UuT05FLGUuT05FX01JTlVTX1NSQ19BTFBIQV0sdFtyLlNPRlRfTElHSFRdPVtlLk9ORSxlLk9ORV9NSU5VU19TUkNfQUxQSEFdLHRbci5ESUZGRVJFTkNFXT1bZS5PTkUsZS5PTkVfTUlOVVNfU1JDX0FMUEhBXSx0W3IuRVhDTFVTSU9OXT1bZS5PTkUsZS5PTkVfTUlOVVNfU1JDX0FMUEhBXSx0W3IuSFVFXT1bZS5PTkUsZS5PTkVfTUlOVVNfU1JDX0FMUEhBXSx0W3IuU0FUVVJBVElPTl09W2UuT05FLGUuT05FX01JTlVTX1NSQ19BTFBIQV0sdFtyLkNPTE9SXT1bZS5PTkUsZS5PTkVfTUlOVVNfU1JDX0FMUEhBXSx0W3IuTFVNSU5PU0lUWV09W2UuT05FLGUuT05FX01JTlVTX1NSQ19BTFBIQV0saS5ibGVuZE1vZGVzV2ViR0w9dH19LGkuV2ViR0xSZW5kZXJlci5wcm90b3R5cGUuZ2V0TWF4VGV4dHVyZVVuaXQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdsO3JldHVybiBlLmdldFBhcmFtZXRlcihlLk1BWF9URVhUVVJFX0lNQUdFX1VOSVRTKX0saS5lbmFibGVNdWx0aVRleHR1cmU9ZnVuY3Rpb24oKXtpLl9lbmFibGVNdWx0aVRleHR1cmVUb2dnbGU9ITB9LGkuV2ViR0xSZW5kZXJlci5nbENvbnRleHRJZD0wLGkuV2ViR0xSZW5kZXJlci50ZXh0dXJlQXJyYXk9W10saS5XZWJHTEJsZW5kTW9kZU1hbmFnZXI9ZnVuY3Rpb24oKXt0aGlzLmN1cnJlbnRCbGVuZE1vZGU9OTk5OTl9LGkuV2ViR0xCbGVuZE1vZGVNYW5hZ2VyLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1pLldlYkdMQmxlbmRNb2RlTWFuYWdlcixpLldlYkdMQmxlbmRNb2RlTWFuYWdlci5wcm90b3R5cGUuc2V0Q29udGV4dD1mdW5jdGlvbihlKXt0aGlzLmdsPWV9LGkuV2ViR0xCbGVuZE1vZGVNYW5hZ2VyLnByb3RvdHlwZS5zZXRCbGVuZE1vZGU9ZnVuY3Rpb24oZSl7aWYodGhpcy5jdXJyZW50QmxlbmRNb2RlPT09ZSlyZXR1cm4hMTt0aGlzLmN1cnJlbnRCbGVuZE1vZGU9ZTt2YXIgdD1pLmJsZW5kTW9kZXNXZWJHTFt0aGlzLmN1cnJlbnRCbGVuZE1vZGVdO3JldHVybiB0JiZ0aGlzLmdsLmJsZW5kRnVuYyh0WzBdLHRbMV0pLCEwfSxpLldlYkdMQmxlbmRNb2RlTWFuYWdlci5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuZ2w9bnVsbH0saS5XZWJHTE1hc2tNYW5hZ2VyPWZ1bmN0aW9uKCl7fSxpLldlYkdMTWFza01hbmFnZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yPWkuV2ViR0xNYXNrTWFuYWdlcixpLldlYkdMTWFza01hbmFnZXIucHJvdG90eXBlLnNldENvbnRleHQ9ZnVuY3Rpb24oZSl7dGhpcy5nbD1lfSxpLldlYkdMTWFza01hbmFnZXIucHJvdG90eXBlLnB1c2hNYXNrPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dC5nbDtlLmRpcnR5JiZpLldlYkdMR3JhcGhpY3MudXBkYXRlR3JhcGhpY3MoZSxyKSx2b2lkIDAhPT1lLl93ZWJHTFtyLmlkXSYmdm9pZCAwIT09ZS5fd2ViR0xbci5pZF0uZGF0YSYmMCE9PWUuX3dlYkdMW3IuaWRdLmRhdGEubGVuZ3RoJiZ0LnN0ZW5jaWxNYW5hZ2VyLnB1c2hTdGVuY2lsKGUsZS5fd2ViR0xbci5pZF0uZGF0YVswXSx0KX0saS5XZWJHTE1hc2tNYW5hZ2VyLnByb3RvdHlwZS5wb3BNYXNrPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcy5nbDt2b2lkIDAhPT1lLl93ZWJHTFtyLmlkXSYmdm9pZCAwIT09ZS5fd2ViR0xbci5pZF0uZGF0YSYmMCE9PWUuX3dlYkdMW3IuaWRdLmRhdGEubGVuZ3RoJiZ0LnN0ZW5jaWxNYW5hZ2VyLnBvcFN0ZW5jaWwoZSxlLl93ZWJHTFtyLmlkXS5kYXRhWzBdLHQpfSxpLldlYkdMTWFza01hbmFnZXIucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmdsPW51bGx9LGkuV2ViR0xTdGVuY2lsTWFuYWdlcj1mdW5jdGlvbigpe3RoaXMuc3RlbmNpbFN0YWNrPVtdLHRoaXMucmV2ZXJzZT0hMCx0aGlzLmNvdW50PTB9LGkuV2ViR0xTdGVuY2lsTWFuYWdlci5wcm90b3R5cGUuc2V0Q29udGV4dD1mdW5jdGlvbihlKXt0aGlzLmdsPWV9LGkuV2ViR0xTdGVuY2lsTWFuYWdlci5wcm90b3R5cGUucHVzaFN0ZW5jaWw9ZnVuY3Rpb24oZSx0LHIpe3ZhciBpPXRoaXMuZ2w7dGhpcy5iaW5kR3JhcGhpY3MoZSx0LHIpLDA9PT10aGlzLnN0ZW5jaWxTdGFjay5sZW5ndGgmJihpLmVuYWJsZShpLlNURU5DSUxfVEVTVCksaS5jbGVhcihpLlNURU5DSUxfQlVGRkVSX0JJVCksdGhpcy5yZXZlcnNlPSEwLHRoaXMuY291bnQ9MCksdGhpcy5zdGVuY2lsU3RhY2sucHVzaCh0KTt2YXIgcz10aGlzLmNvdW50O2kuY29sb3JNYXNrKCExLCExLCExLCExKSxpLnN0ZW5jaWxGdW5jKGkuQUxXQVlTLDAsMjU1KSxpLnN0ZW5jaWxPcChpLktFRVAsaS5LRUVQLGkuSU5WRVJUKSwxPT09dC5tb2RlPyhpLmRyYXdFbGVtZW50cyhpLlRSSUFOR0xFX0ZBTix0LmluZGljZXMubGVuZ3RoLTQsaS5VTlNJR05FRF9TSE9SVCwwKSx0aGlzLnJldmVyc2U/KGkuc3RlbmNpbEZ1bmMoaS5FUVVBTCwyNTUtcywyNTUpLGkuc3RlbmNpbE9wKGkuS0VFUCxpLktFRVAsaS5ERUNSKSk6KGkuc3RlbmNpbEZ1bmMoaS5FUVVBTCxzLDI1NSksaS5zdGVuY2lsT3AoaS5LRUVQLGkuS0VFUCxpLklOQ1IpKSxpLmRyYXdFbGVtZW50cyhpLlRSSUFOR0xFX0ZBTiw0LGkuVU5TSUdORURfU0hPUlQsMioodC5pbmRpY2VzLmxlbmd0aC00KSksdGhpcy5yZXZlcnNlP2kuc3RlbmNpbEZ1bmMoaS5FUVVBTCwyNTUtKHMrMSksMjU1KTppLnN0ZW5jaWxGdW5jKGkuRVFVQUwscysxLDI1NSksdGhpcy5yZXZlcnNlPSF0aGlzLnJldmVyc2UpOih0aGlzLnJldmVyc2U/KGkuc3RlbmNpbEZ1bmMoaS5FUVVBTCxzLDI1NSksaS5zdGVuY2lsT3AoaS5LRUVQLGkuS0VFUCxpLklOQ1IpKTooaS5zdGVuY2lsRnVuYyhpLkVRVUFMLDI1NS1zLDI1NSksaS5zdGVuY2lsT3AoaS5LRUVQLGkuS0VFUCxpLkRFQ1IpKSxpLmRyYXdFbGVtZW50cyhpLlRSSUFOR0xFX1NUUklQLHQuaW5kaWNlcy5sZW5ndGgsaS5VTlNJR05FRF9TSE9SVCwwKSx0aGlzLnJldmVyc2U/aS5zdGVuY2lsRnVuYyhpLkVRVUFMLHMrMSwyNTUpOmkuc3RlbmNpbEZ1bmMoaS5FUVVBTCwyNTUtKHMrMSksMjU1KSksaS5jb2xvck1hc2soITAsITAsITAsITApLGkuc3RlbmNpbE9wKGkuS0VFUCxpLktFRVAsaS5LRUVQKSx0aGlzLmNvdW50Kyt9LGkuV2ViR0xTdGVuY2lsTWFuYWdlci5wcm90b3R5cGUuYmluZEdyYXBoaWNzPWZ1bmN0aW9uKGUsdCxyKXt0aGlzLl9jdXJyZW50R3JhcGhpY3M9ZTt2YXIgaSxzPXRoaXMuZ2wsbz1yLnByb2plY3Rpb24sYT1yLm9mZnNldDsxPT09dC5tb2RlPyhpPXIuc2hhZGVyTWFuYWdlci5jb21wbGV4UHJpbWl0aXZlU2hhZGVyLHIuc2hhZGVyTWFuYWdlci5zZXRTaGFkZXIoaSkscy51bmlmb3JtMWYoaS5mbGlwWSxyLmZsaXBZKSxzLnVuaWZvcm1NYXRyaXgzZnYoaS50cmFuc2xhdGlvbk1hdHJpeCwhMSxlLndvcmxkVHJhbnNmb3JtLnRvQXJyYXkoITApKSxzLnVuaWZvcm0yZihpLnByb2plY3Rpb25WZWN0b3Isby54LC1vLnkpLHMudW5pZm9ybTJmKGkub2Zmc2V0VmVjdG9yLC1hLngsLWEueSkscy51bmlmb3JtM2Z2KGkudGludENvbG9yLFBoYXNlci5Db2xvci5oZXhUb1JHQkFycmF5KGUudGludCkpLHMudW5pZm9ybTNmdihpLmNvbG9yLHQuY29sb3IpLHMudW5pZm9ybTFmKGkuYWxwaGEsZS53b3JsZEFscGhhKnQuYWxwaGEpLHMuYmluZEJ1ZmZlcihzLkFSUkFZX0JVRkZFUix0LmJ1ZmZlcikscy52ZXJ0ZXhBdHRyaWJQb2ludGVyKGkuYVZlcnRleFBvc2l0aW9uLDIscy5GTE9BVCwhMSw4LDApLHMuYmluZEJ1ZmZlcihzLkVMRU1FTlRfQVJSQVlfQlVGRkVSLHQuaW5kZXhCdWZmZXIpKTooaT1yLnNoYWRlck1hbmFnZXIucHJpbWl0aXZlU2hhZGVyLHIuc2hhZGVyTWFuYWdlci5zZXRTaGFkZXIoaSkscy51bmlmb3JtTWF0cml4M2Z2KGkudHJhbnNsYXRpb25NYXRyaXgsITEsZS53b3JsZFRyYW5zZm9ybS50b0FycmF5KCEwKSkscy51bmlmb3JtMWYoaS5mbGlwWSxyLmZsaXBZKSxzLnVuaWZvcm0yZihpLnByb2plY3Rpb25WZWN0b3Isby54LC1vLnkpLHMudW5pZm9ybTJmKGkub2Zmc2V0VmVjdG9yLC1hLngsLWEueSkscy51bmlmb3JtM2Z2KGkudGludENvbG9yLFBoYXNlci5Db2xvci5oZXhUb1JHQkFycmF5KGUudGludCkpLHMudW5pZm9ybTFmKGkuYWxwaGEsZS53b3JsZEFscGhhKSxzLmJpbmRCdWZmZXIocy5BUlJBWV9CVUZGRVIsdC5idWZmZXIpLHMudmVydGV4QXR0cmliUG9pbnRlcihpLmFWZXJ0ZXhQb3NpdGlvbiwyLHMuRkxPQVQsITEsMjQsMCkscy52ZXJ0ZXhBdHRyaWJQb2ludGVyKGkuY29sb3JBdHRyaWJ1dGUsNCxzLkZMT0FULCExLDI0LDgpLHMuYmluZEJ1ZmZlcihzLkVMRU1FTlRfQVJSQVlfQlVGRkVSLHQuaW5kZXhCdWZmZXIpKX0saS5XZWJHTFN0ZW5jaWxNYW5hZ2VyLnByb3RvdHlwZS5wb3BTdGVuY2lsPWZ1bmN0aW9uKGUsdCxyKXt2YXIgaT10aGlzLmdsO2lmKHRoaXMuc3RlbmNpbFN0YWNrLnBvcCgpLHRoaXMuY291bnQtLSwwPT09dGhpcy5zdGVuY2lsU3RhY2subGVuZ3RoKWkuZGlzYWJsZShpLlNURU5DSUxfVEVTVCk7ZWxzZXt2YXIgcz10aGlzLmNvdW50O3RoaXMuYmluZEdyYXBoaWNzKGUsdCxyKSxpLmNvbG9yTWFzayghMSwhMSwhMSwhMSksMT09PXQubW9kZT8odGhpcy5yZXZlcnNlPSF0aGlzLnJldmVyc2UsdGhpcy5yZXZlcnNlPyhpLnN0ZW5jaWxGdW5jKGkuRVFVQUwsMjU1LShzKzEpLDI1NSksaS5zdGVuY2lsT3AoaS5LRUVQLGkuS0VFUCxpLklOQ1IpKTooaS5zdGVuY2lsRnVuYyhpLkVRVUFMLHMrMSwyNTUpLGkuc3RlbmNpbE9wKGkuS0VFUCxpLktFRVAsaS5ERUNSKSksaS5kcmF3RWxlbWVudHMoaS5UUklBTkdMRV9GQU4sNCxpLlVOU0lHTkVEX1NIT1JULDIqKHQuaW5kaWNlcy5sZW5ndGgtNCkpLGkuc3RlbmNpbEZ1bmMoaS5BTFdBWVMsMCwyNTUpLGkuc3RlbmNpbE9wKGkuS0VFUCxpLktFRVAsaS5JTlZFUlQpLGkuZHJhd0VsZW1lbnRzKGkuVFJJQU5HTEVfRkFOLHQuaW5kaWNlcy5sZW5ndGgtNCxpLlVOU0lHTkVEX1NIT1JULDApLHRoaXMucmV2ZXJzZT9pLnN0ZW5jaWxGdW5jKGkuRVFVQUwscywyNTUpOmkuc3RlbmNpbEZ1bmMoaS5FUVVBTCwyNTUtcywyNTUpKToodGhpcy5yZXZlcnNlPyhpLnN0ZW5jaWxGdW5jKGkuRVFVQUwscysxLDI1NSksaS5zdGVuY2lsT3AoaS5LRUVQLGkuS0VFUCxpLkRFQ1IpKTooaS5zdGVuY2lsRnVuYyhpLkVRVUFMLDI1NS0ocysxKSwyNTUpLGkuc3RlbmNpbE9wKGkuS0VFUCxpLktFRVAsaS5JTkNSKSksaS5kcmF3RWxlbWVudHMoaS5UUklBTkdMRV9TVFJJUCx0LmluZGljZXMubGVuZ3RoLGkuVU5TSUdORURfU0hPUlQsMCksdGhpcy5yZXZlcnNlP2kuc3RlbmNpbEZ1bmMoaS5FUVVBTCxzLDI1NSk6aS5zdGVuY2lsRnVuYyhpLkVRVUFMLDI1NS1zLDI1NSkpLGkuY29sb3JNYXNrKCEwLCEwLCEwLCEwKSxpLnN0ZW5jaWxPcChpLktFRVAsaS5LRUVQLGkuS0VFUCl9fSxpLldlYkdMU3RlbmNpbE1hbmFnZXIucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLnN0ZW5jaWxTdGFjaz1udWxsLHRoaXMuZ2w9bnVsbH0saS5XZWJHTFNoYWRlck1hbmFnZXI9ZnVuY3Rpb24oKXt0aGlzLm1heEF0dGlicz0xMCx0aGlzLmF0dHJpYlN0YXRlPVtdLHRoaXMudGVtcEF0dHJpYlN0YXRlPVtdO2Zvcih2YXIgZT0wO2U8dGhpcy5tYXhBdHRpYnM7ZSsrKXRoaXMuYXR0cmliU3RhdGVbZV09ITE7dGhpcy5zdGFjaz1bXX0saS5XZWJHTFNoYWRlck1hbmFnZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yPWkuV2ViR0xTaGFkZXJNYW5hZ2VyLGkuV2ViR0xTaGFkZXJNYW5hZ2VyLnByb3RvdHlwZS5zZXRDb250ZXh0PWZ1bmN0aW9uKGUpe3RoaXMuZ2w9ZSx0aGlzLnByaW1pdGl2ZVNoYWRlcj1uZXcgaS5QcmltaXRpdmVTaGFkZXIoZSksdGhpcy5jb21wbGV4UHJpbWl0aXZlU2hhZGVyPW5ldyBpLkNvbXBsZXhQcmltaXRpdmVTaGFkZXIoZSksdGhpcy5kZWZhdWx0U2hhZGVyPW5ldyBpLlBpeGlTaGFkZXIoZSksdGhpcy5mYXN0U2hhZGVyPW5ldyBpLlBpeGlGYXN0U2hhZGVyKGUpLHRoaXMuc3RyaXBTaGFkZXI9bmV3IGkuU3RyaXBTaGFkZXIoZSksdGhpcy5jcmVhdHVyZVNoYWRlcj1pLkNyZWF0dXJlU2hhZGVyP25ldyBpLkNyZWF0dXJlU2hhZGVyKGUpOm51bGwsdGhpcy5zZXRTaGFkZXIodGhpcy5kZWZhdWx0U2hhZGVyKX0saS5XZWJHTFNoYWRlck1hbmFnZXIucHJvdG90eXBlLnNldEF0dHJpYnM9ZnVuY3Rpb24oZSl7dmFyIHQ7Zm9yKHQ9MDt0PHRoaXMudGVtcEF0dHJpYlN0YXRlLmxlbmd0aDt0KyspdGhpcy50ZW1wQXR0cmliU3RhdGVbdF09ITE7Zm9yKHQ9MDt0PGUubGVuZ3RoO3QrKyl7dmFyIHI9ZVt0XTt0aGlzLnRlbXBBdHRyaWJTdGF0ZVtyXT0hMH12YXIgaT10aGlzLmdsO2Zvcih0PTA7dDx0aGlzLmF0dHJpYlN0YXRlLmxlbmd0aDt0KyspdGhpcy5hdHRyaWJTdGF0ZVt0XSE9PXRoaXMudGVtcEF0dHJpYlN0YXRlW3RdJiYodGhpcy5hdHRyaWJTdGF0ZVt0XT10aGlzLnRlbXBBdHRyaWJTdGF0ZVt0XSx0aGlzLnRlbXBBdHRyaWJTdGF0ZVt0XT9pLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KHQpOmkuZGlzYWJsZVZlcnRleEF0dHJpYkFycmF5KHQpKX0saS5XZWJHTFNoYWRlck1hbmFnZXIucHJvdG90eXBlLnNldFNoYWRlcj1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fY3VycmVudElkIT09ZS5fVUlEJiYodGhpcy5fY3VycmVudElkPWUuX1VJRCx0aGlzLmN1cnJlbnRTaGFkZXI9ZSx0aGlzLmdsLnVzZVByb2dyYW0oZS5wcm9ncmFtKSx0aGlzLnNldEF0dHJpYnMoZS5hdHRyaWJ1dGVzKSwhMCl9LGkuV2ViR0xTaGFkZXJNYW5hZ2VyLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5hdHRyaWJTdGF0ZT1udWxsLHRoaXMudGVtcEF0dHJpYlN0YXRlPW51bGwsdGhpcy5wcmltaXRpdmVTaGFkZXIuZGVzdHJveSgpLHRoaXMuY29tcGxleFByaW1pdGl2ZVNoYWRlci5kZXN0cm95KCksdGhpcy5kZWZhdWx0U2hhZGVyLmRlc3Ryb3koKSx0aGlzLmZhc3RTaGFkZXIuZGVzdHJveSgpLHRoaXMuc3RyaXBTaGFkZXIuZGVzdHJveSgpLHRoaXMuY3JlYXR1cmVTaGFkZXImJnRoaXMuY3JlYXR1cmVTaGFkZXIuZGVzdHJveSgpLHRoaXMuZ2w9bnVsbH0saS5XZWJHTFNwcml0ZUJhdGNoPWZ1bmN0aW9uKGUpe3RoaXMuZ2FtZT1lLHRoaXMudmVydFNpemU9NSx0aGlzLnNpemU9MmUzLHRoaXMudmVydGV4U2l6ZT0yNDt2YXIgdD10aGlzLnZlcnRleFNpemUqdGhpcy5zaXplKjQscj02KnRoaXMuc2l6ZTt0aGlzLnZlcnRpY2VzPW5ldyBBcnJheUJ1ZmZlcih0KSx0aGlzLnBvc2l0aW9ucz1uZXcgRmxvYXQzMkFycmF5KHRoaXMudmVydGljZXMpLHRoaXMuY29sb3JzPW5ldyBVaW50MzJBcnJheSh0aGlzLnZlcnRpY2VzKSx0aGlzLmluZGljZXM9bmV3IFVpbnQxNkFycmF5KHIpLHRoaXMubGFzdEluZGV4Q291bnQ9MDtmb3IodmFyIGk9MCxzPTA7aTxyO2krPTYscys9NCl0aGlzLmluZGljZXNbaSswXT1zKzAsdGhpcy5pbmRpY2VzW2krMV09cysxLHRoaXMuaW5kaWNlc1tpKzJdPXMrMix0aGlzLmluZGljZXNbaSszXT1zKzAsdGhpcy5pbmRpY2VzW2krNF09cysyLHRoaXMuaW5kaWNlc1tpKzVdPXMrMzt0aGlzLmRyYXdpbmc9ITEsdGhpcy5jdXJyZW50QmF0Y2hTaXplPTAsdGhpcy5jdXJyZW50QmFzZVRleHR1cmU9bnVsbCx0aGlzLmRpcnR5PSEwLHRoaXMudGV4dHVyZXM9W10sdGhpcy5ibGVuZE1vZGVzPVtdLHRoaXMuc2hhZGVycz1bXSx0aGlzLnNwcml0ZXM9W10sdGhpcy5kZWZhdWx0U2hhZGVyPW51bGx9LGkuV2ViR0xTcHJpdGVCYXRjaC5wcm90b3R5cGUuc2V0Q29udGV4dD1mdW5jdGlvbihlKXtpZih0aGlzLk1BWF9URVhUVVJFUz1lLmdldFBhcmFtZXRlcihlLk1BWF9URVhUVVJFX0lNQUdFX1VOSVRTKSx0aGlzLmdsPWUsaS5fZW5hYmxlTXVsdGlUZXh0dXJlVG9nZ2xlKXtmb3IodmFyIHQ9XCJcXHRpZiAodlRleHR1cmVJbmRleCA9PSAwLjApIHtnbF9GcmFnQ29sb3IgPSB0ZXh0dXJlMkQodVNhbXBsZXJBcnJheVswXSwgdlRleHR1cmVDb29yZCkgKiB2Q29sb3I7cmV0dXJuO31cXG5cIixyPTE7cjx0aGlzLk1BWF9URVhUVVJFUzsrK3IpdCs9XCJcXHRpZiAodlRleHR1cmVJbmRleCA9PSBcIityK1wiLjApIHtnbF9GcmFnQ29sb3IgPSB0ZXh0dXJlMkQodVNhbXBsZXJBcnJheVtcIityK1wiXSwgdlRleHR1cmVDb29yZCkgKiB2Q29sb3I7cmV0dXJuO31cXG5cIjt0aGlzLmRlZmF1bHRTaGFkZXI9bmV3IFBoYXNlci5GaWx0ZXIodGhpcy5nYW1lLHZvaWQgMCxbXCIvL1dlYkdMU3ByaXRlQmF0Y2ggRnJhZ21lbnQgU2hhZGVyLlwiLFwicHJlY2lzaW9uIGxvd3AgZmxvYXQ7XCIsXCJ2YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcIixcInZhcnlpbmcgdmVjNCB2Q29sb3I7XCIsXCJ2YXJ5aW5nIGZsb2F0IHZUZXh0dXJlSW5kZXg7XCIsXCJ1bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlckFycmF5W1wiK3RoaXMuTUFYX1RFWFRVUkVTK1wiXTtcIixcInZvaWQgbWFpbih2b2lkKSB7XCIsdCxcIlxcdGdsX0ZyYWdDb2xvciA9IHRleHR1cmUyRCh1U2FtcGxlckFycmF5WzBdLCB2VGV4dHVyZUNvb3JkKSAqIHZDb2xvcjtcIixcIn1cIl0pfWVsc2UgdGhpcy5kZWZhdWx0U2hhZGVyPW5ldyBQaGFzZXIuRmlsdGVyKHRoaXMuZ2FtZSx2b2lkIDAsW1wiLy9XZWJHTFNwcml0ZUJhdGNoIEZyYWdtZW50IFNoYWRlci5cIixcInByZWNpc2lvbiBsb3dwIGZsb2F0O1wiLFwidmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XCIsXCJ2YXJ5aW5nIHZlYzQgdkNvbG9yO1wiLFwidmFyeWluZyBmbG9hdCB2VGV4dHVyZUluZGV4O1wiLFwidW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXI7XCIsXCJ2b2lkIG1haW4odm9pZCkge1wiLFwiICAgZ2xfRnJhZ0NvbG9yID0gdGV4dHVyZTJEKHVTYW1wbGVyLCB2VGV4dHVyZUNvb3JkKSAqIHZDb2xvcjtcIixcIn1cIl0pO3RoaXMudmVydGV4QnVmZmVyPWUuY3JlYXRlQnVmZmVyKCksdGhpcy5pbmRleEJ1ZmZlcj1lLmNyZWF0ZUJ1ZmZlcigpLGUuYmluZEJ1ZmZlcihlLkVMRU1FTlRfQVJSQVlfQlVGRkVSLHRoaXMuaW5kZXhCdWZmZXIpLGUuYnVmZmVyRGF0YShlLkVMRU1FTlRfQVJSQVlfQlVGRkVSLHRoaXMuaW5kaWNlcyxlLlNUQVRJQ19EUkFXKSxlLmJpbmRCdWZmZXIoZS5BUlJBWV9CVUZGRVIsdGhpcy52ZXJ0ZXhCdWZmZXIpLGUuYnVmZmVyRGF0YShlLkFSUkFZX0JVRkZFUix0aGlzLnZlcnRpY2VzLGUuRFlOQU1JQ19EUkFXKSx0aGlzLmN1cnJlbnRCbGVuZE1vZGU9OTk5OTk7dmFyIHM9bmV3IGkuUGl4aVNoYWRlcihlKTtzLmZyYWdtZW50U3JjPXRoaXMuZGVmYXVsdFNoYWRlci5mcmFnbWVudFNyYyxzLnVuaWZvcm1zPXt9LHMuaW5pdCgpLHRoaXMuZGVmYXVsdFNoYWRlci5zaGFkZXJzW2UuaWRdPXN9LGkuV2ViR0xTcHJpdGVCYXRjaC5wcm90b3R5cGUuYmVnaW49ZnVuY3Rpb24oZSl7dGhpcy5yZW5kZXJTZXNzaW9uPWUsdGhpcy5zaGFkZXI9dGhpcy5yZW5kZXJTZXNzaW9uLnNoYWRlck1hbmFnZXIuZGVmYXVsdFNoYWRlcix0aGlzLnN0YXJ0KCl9LGkuV2ViR0xTcHJpdGVCYXRjaC5wcm90b3R5cGUuZW5kPWZ1bmN0aW9uKCl7dGhpcy5mbHVzaCgpfSxpLldlYkdMU3ByaXRlQmF0Y2gucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbihlLHQpe3ZhciByPWUudGV4dHVyZSxzPXIuYmFzZVRleHR1cmUsbz10aGlzLmdsO2kuV2ViR0xSZW5kZXJlci50ZXh0dXJlQXJyYXlbcy50ZXh0dXJlSW5kZXhdIT1zJiYodGhpcy5mbHVzaCgpLG8uYWN0aXZlVGV4dHVyZShvLlRFWFRVUkUwK3MudGV4dHVyZUluZGV4KSxvLmJpbmRUZXh0dXJlKG8uVEVYVFVSRV8yRCxzLl9nbFRleHR1cmVzW28uaWRdKSxpLldlYkdMUmVuZGVyZXIudGV4dHVyZUFycmF5W3MudGV4dHVyZUluZGV4XT1zKTt2YXIgYT1lLndvcmxkVHJhbnNmb3JtO3QmJihhPXQpLHRoaXMuY3VycmVudEJhdGNoU2l6ZT49dGhpcy5zaXplJiYodGhpcy5mbHVzaCgpLHRoaXMuY3VycmVudEJhc2VUZXh0dXJlPXIuYmFzZVRleHR1cmUpO3ZhciBuPXIuX3V2cztpZihuKXt2YXIgaCxsLHUsZCxjPWUuYW5jaG9yLngsZj1lLmFuY2hvci55O2lmKHIudHJpbSl7dmFyIHg9ci50cmltO2g9KGw9eC54LWMqeC53aWR0aCkrci5jcm9wLndpZHRoLHU9KGQ9eC55LWYqeC5oZWlnaHQpK3IuY3JvcC5oZWlnaHR9ZWxzZSBoPXIuZnJhbWUud2lkdGgqKDEtYyksbD1yLmZyYW1lLndpZHRoKi1jLHU9ci5mcmFtZS5oZWlnaHQqKDEtZiksZD1yLmZyYW1lLmhlaWdodCotZjt2YXIgcD10aGlzLmN1cnJlbnRCYXRjaFNpemUqdGhpcy52ZXJ0ZXhTaXplLGc9KHRoaXMuY3VycmVudEJhdGNoU2l6ZSxyLmJhc2VUZXh0dXJlLnJlc29sdXRpb24pLHY9ci5iYXNlVGV4dHVyZS50ZXh0dXJlSW5kZXgsVD1hLmEvZyxtPWEuYi9nLEU9YS5jL2csXz1hLmQvZyxTPWEudHgseT1hLnR5LGI9KHIuY3JvcC53aWR0aCxyLmNyb3AuaGVpZ2h0KTtpZihyLnJvdGF0ZWQpe3ZhciBBPWEuYSxSPWEuYixNPWEuYyxDPWEuZCxMPWwsQj1oO1M9YS5jKmIrUyx5PWEuZCpiK3ksVD02LjEyMzIzMzk5NTczNjc2NmUtMTcqQS1NLG09Ni4xMjMyMzM5OTU3MzY3NjZlLTE3KlItQyxFPUErNi4xMjMyMzM5OTU3MzY3NjZlLTE3Kk0sXz1SKzYuMTIzMjMzOTk1NzM2NzY2ZS0xNypDLHIuX3VwZGF0ZVV2c0ludmVydGVkKCksaD11LGw9ZCx1PUIsZD1MfXZhciBQPXRoaXMuY29sb3JzLHc9dGhpcy5wb3NpdGlvbnMsVT1lLnRpbnQsRj0oVT4+MTYpKyg2NTI4MCZVKSsoKDI1NSZVKTw8MTYpKygyNTUqZS53b3JsZEFscGhhPDwyNCk7dGhpcy5yZW5kZXJTZXNzaW9uLnJvdW5kUGl4ZWxzPyh3W3ArK109VCpsK0UqZCtTfDAsd1twKytdPV8qZCttKmwreXwwLHdbcCsrXT1uLngwLHdbcCsrXT1uLnkwLFBbcCsrXT1GLHdbcCsrXT12LHdbcCsrXT1UKmgrRSpkK1N8MCx3W3ArK109XypkK20qaCt5fDAsd1twKytdPW4ueDEsd1twKytdPW4ueTEsUFtwKytdPUYsd1twKytdPXYsd1twKytdPVQqaCtFKnUrU3wwLHdbcCsrXT1fKnUrbSpoK3l8MCx3W3ArK109bi54Mix3W3ArK109bi55MixQW3ArK109Rix3W3ArK109dix3W3ArK109VCpsK0UqdStTfDAsd1twKytdPV8qdSttKmwreXwwLHdbcCsrXT1uLngzLHdbcCsrXT1uLnkzLFBbcCsrXT1GLHdbcCsrXT12KTood1twKytdPVQqbCtFKmQrUyx3W3ArK109XypkK20qbCt5LHdbcCsrXT1uLngwLHdbcCsrXT1uLnkwLFBbcCsrXT1GLHdbcCsrXT12LHdbcCsrXT1UKmgrRSpkK1Msd1twKytdPV8qZCttKmgreSx3W3ArK109bi54MSx3W3ArK109bi55MSxQW3ArK109Rix3W3ArK109dix3W3ArK109VCpoK0UqdStTLHdbcCsrXT1fKnUrbSpoK3ksd1twKytdPW4ueDIsd1twKytdPW4ueTIsUFtwKytdPUYsd1twKytdPXYsd1twKytdPVQqbCtFKnUrUyx3W3ArK109Xyp1K20qbCt5LHdbcCsrXT1uLngzLHdbcCsrXT1uLnkzLFBbcCsrXT1GLHdbcCsrXT12KSx0aGlzLnNwcml0ZXNbdGhpcy5jdXJyZW50QmF0Y2hTaXplKytdPWV9fSxpLldlYkdMU3ByaXRlQmF0Y2gucHJvdG90eXBlLnJlbmRlclRpbGluZ1Nwcml0ZT1mdW5jdGlvbihlKXt2YXIgdD1lLnRpbGluZ1RleHR1cmUscj10LmJhc2VUZXh0dXJlLHM9dGhpcy5nbCxvPWUudGV4dHVyZS5iYXNlVGV4dHVyZS50ZXh0dXJlSW5kZXg7aS5XZWJHTFJlbmRlcmVyLnRleHR1cmVBcnJheVtvXSE9ciYmKHRoaXMuZmx1c2goKSxzLmFjdGl2ZVRleHR1cmUocy5URVhUVVJFMCtvKSxzLmJpbmRUZXh0dXJlKHMuVEVYVFVSRV8yRCxyLl9nbFRleHR1cmVzW3MuaWRdKSxpLldlYkdMUmVuZGVyZXIudGV4dHVyZUFycmF5W29dPXIpLHRoaXMuY3VycmVudEJhdGNoU2l6ZT49dGhpcy5zaXplJiYodGhpcy5mbHVzaCgpLHRoaXMuY3VycmVudEJhc2VUZXh0dXJlPXQuYmFzZVRleHR1cmUpLGUuX3V2c3x8KGUuX3V2cz1uZXcgaS5UZXh0dXJlVXZzKTt2YXIgYT1lLl91dnMsbj10LmJhc2VUZXh0dXJlLndpZHRoLGg9dC5iYXNlVGV4dHVyZS5oZWlnaHQ7ZS50aWxlUG9zaXRpb24ueCU9biplLnRpbGVTY2FsZU9mZnNldC54LGUudGlsZVBvc2l0aW9uLnklPWgqZS50aWxlU2NhbGVPZmZzZXQueTt2YXIgbD1lLnRpbGVQb3NpdGlvbi54LyhuKmUudGlsZVNjYWxlT2Zmc2V0LngpLHU9ZS50aWxlUG9zaXRpb24ueS8oaCplLnRpbGVTY2FsZU9mZnNldC55KSxkPWUud2lkdGgvbi8oZS50aWxlU2NhbGUueCplLnRpbGVTY2FsZU9mZnNldC54KSxjPWUuaGVpZ2h0L2gvKGUudGlsZVNjYWxlLnkqZS50aWxlU2NhbGVPZmZzZXQueSk7YS54MD0wLWwsYS55MD0wLXUsYS54MT0xKmQtbCxhLnkxPTAtdSxhLngyPTEqZC1sLGEueTI9MSpjLXUsYS54Mz0wLWwsYS55Mz0xKmMtdTt2YXIgZj1lLnRpbnQseD0oZj4+MTYpKyg2NTI4MCZmKSsoKDI1NSZmKTw8MTYpKygyNTUqZS53b3JsZEFscGhhPDwyNCkscD10aGlzLnBvc2l0aW9ucyxnPXRoaXMuY29sb3JzLHY9ZS53aWR0aCxUPWUuaGVpZ2h0LG09ZS5hbmNob3IueCxFPWUuYW5jaG9yLnksXz12KigxLW0pLFM9diotbSx5PVQqKDEtRSksYj1UKi1FLEE9dGhpcy5jdXJyZW50QmF0Y2hTaXplKnRoaXMudmVydGV4U2l6ZSxSPXQuYmFzZVRleHR1cmUucmVzb2x1dGlvbixNPWUud29ybGRUcmFuc2Zvcm0sQz1NLmEvUixMPU0uYi9SLEI9TS5jL1IsUD1NLmQvUix3PU0udHgsVT1NLnR5O3BbQSsrXT1DKlMrQipiK3cscFtBKytdPVAqYitMKlMrVSxwW0ErK109YS54MCxwW0ErK109YS55MCxnW0ErK109eCxwW0ErK109byxwW0ErK109QypfK0IqYit3LHBbQSsrXT1QKmIrTCpfK1UscFtBKytdPWEueDEscFtBKytdPWEueTEsZ1tBKytdPXgscFtBKytdPW8scFtBKytdPUMqXytCKnkrdyxwW0ErK109UCp5K0wqXytVLHBbQSsrXT1hLngyLHBbQSsrXT1hLnkyLGdbQSsrXT14LHBbQSsrXT1vLHBbQSsrXT1DKlMrQip5K3cscFtBKytdPVAqeStMKlMrVSxwW0ErK109YS54MyxwW0ErK109YS55MyxnW0ErK109eCxwW0ErK109byx0aGlzLnNwcml0ZXNbdGhpcy5jdXJyZW50QmF0Y2hTaXplKytdPWV9LGkuV2ViR0xTcHJpdGVCYXRjaC5wcm90b3R5cGUuZmx1c2g9ZnVuY3Rpb24oKXtpZigwIT09dGhpcy5jdXJyZW50QmF0Y2hTaXplKXt2YXIgZSx0PXRoaXMuZ2w7aWYodGhpcy5kaXJ0eSl7dGhpcy5kaXJ0eT0hMSxlPXRoaXMuZGVmYXVsdFNoYWRlci5zaGFkZXJzW3QuaWRdLHQuYWN0aXZlVGV4dHVyZSh0LlRFWFRVUkUwKSx0LmJpbmRCdWZmZXIodC5BUlJBWV9CVUZGRVIsdGhpcy52ZXJ0ZXhCdWZmZXIpLHQuYmluZEJ1ZmZlcih0LkVMRU1FTlRfQVJSQVlfQlVGRkVSLHRoaXMuaW5kZXhCdWZmZXIpO3ZhciByPXRoaXMudmVydGV4U2l6ZTt0LnZlcnRleEF0dHJpYlBvaW50ZXIoZS5hVmVydGV4UG9zaXRpb24sMix0LkZMT0FULCExLHIsMCksdC52ZXJ0ZXhBdHRyaWJQb2ludGVyKGUuYVRleHR1cmVDb29yZCwyLHQuRkxPQVQsITEsciw4KSx0LnZlcnRleEF0dHJpYlBvaW50ZXIoZS5jb2xvckF0dHJpYnV0ZSw0LHQuVU5TSUdORURfQllURSwhMCxyLDE2KSx0LnZlcnRleEF0dHJpYlBvaW50ZXIoZS5hVGV4dHVyZUluZGV4LDEsdC5GTE9BVCwhMSxyLDIwKX1pZih0aGlzLmN1cnJlbnRCYXRjaFNpemU+LjUqdGhpcy5zaXplKXQuYnVmZmVyU3ViRGF0YSh0LkFSUkFZX0JVRkZFUiwwLHRoaXMudmVydGljZXMpO2Vsc2V7dC5iaW5kQnVmZmVyKHQuQVJSQVlfQlVGRkVSLHRoaXMudmVydGV4QnVmZmVyKTt2YXIgcz10aGlzLnBvc2l0aW9ucy5zdWJhcnJheSgwLHRoaXMuY3VycmVudEJhdGNoU2l6ZSp0aGlzLnZlcnRleFNpemUpO3QuYnVmZmVyU3ViRGF0YSh0LkFSUkFZX0JVRkZFUiwwLHMpfWZvcih2YXIgbyxhLG4saCxsPTAsdT0wLGQ9bnVsbCxjPXRoaXMucmVuZGVyU2Vzc2lvbi5ibGVuZE1vZGVNYW5hZ2VyLmN1cnJlbnRCbGVuZE1vZGUsZj1udWxsLHg9ITEscD0hMSxnPTAsdj10aGlzLmN1cnJlbnRCYXRjaFNpemU7Zzx2O2crKyl7bz0oaD10aGlzLnNwcml0ZXNbZ10pLnRpbGluZ1RleHR1cmU/aC50aWxpbmdUZXh0dXJlLmJhc2VUZXh0dXJlOmgudGV4dHVyZS5iYXNlVGV4dHVyZSx4PWMhPT0oYT1oLmJsZW5kTW9kZSkscD1mIT09KG49aC5zaGFkZXJ8fHRoaXMuZGVmYXVsdFNoYWRlcik7dmFyIFQ9by5za2lwUmVuZGVyO2lmKFQmJmguY2hpbGRyZW4ubGVuZ3RoPjAmJihUPSExKSwoeHx8cCkmJih0aGlzLnJlbmRlckJhdGNoKGQsbCx1KSx1PWcsbD0wLGQ9byx4JiYoYz1hLHRoaXMucmVuZGVyU2Vzc2lvbi5ibGVuZE1vZGVNYW5hZ2VyLnNldEJsZW5kTW9kZShjKSkscCkpeyhlPShmPW4pLnNoYWRlcnNbdC5pZF0pfHwoKGU9bmV3IGkuUGl4aVNoYWRlcih0KSkuZnJhZ21lbnRTcmM9Zi5mcmFnbWVudFNyYyxlLnVuaWZvcm1zPWYudW5pZm9ybXMsZS5pbml0KCksZi5zaGFkZXJzW3QuaWRdPWUpLHRoaXMucmVuZGVyU2Vzc2lvbi5zaGFkZXJNYW5hZ2VyLnNldFNoYWRlcihlKSxlLmRpcnR5JiZlLnN5bmNVbmlmb3JtcygpO3ZhciBtPXRoaXMucmVuZGVyU2Vzc2lvbi5wcm9qZWN0aW9uO3QudW5pZm9ybTJmKGUucHJvamVjdGlvblZlY3RvcixtLngsbS55KTt2YXIgRT10aGlzLnJlbmRlclNlc3Npb24ub2Zmc2V0O3QudW5pZm9ybTJmKGUub2Zmc2V0VmVjdG9yLEUueCxFLnkpfWwrK310aGlzLnJlbmRlckJhdGNoKGQsbCx1KSx0aGlzLmN1cnJlbnRCYXRjaFNpemU9MH19LGkuV2ViR0xTcHJpdGVCYXRjaC5wcm90b3R5cGUucmVuZGVyQmF0Y2g9ZnVuY3Rpb24oZSx0LHIpe2lmKDAhPT10KXt2YXIgaT10aGlzLmdsO2lmKGUuX2RpcnR5W2kuaWRdKXtpZighdGhpcy5yZW5kZXJTZXNzaW9uLnJlbmRlcmVyLnVwZGF0ZVRleHR1cmUoZSkpcmV0dXJufWVsc2UgaS5iaW5kVGV4dHVyZShpLlRFWFRVUkVfMkQsZS5fZ2xUZXh0dXJlc1tpLmlkXSk7aS5kcmF3RWxlbWVudHMoaS5UUklBTkdMRVMsNip0LGkuVU5TSUdORURfU0hPUlQsNipyKjIpLHRoaXMucmVuZGVyU2Vzc2lvbi5kcmF3Q291bnQrK319LGkuV2ViR0xTcHJpdGVCYXRjaC5wcm90b3R5cGUuc3RvcD1mdW5jdGlvbigpe3RoaXMuZmx1c2goKSx0aGlzLmRpcnR5PSEwfSxpLldlYkdMU3ByaXRlQmF0Y2gucHJvdG90eXBlLnN0YXJ0PWZ1bmN0aW9uKCl7dGhpcy5kaXJ0eT0hMH0saS5XZWJHTFNwcml0ZUJhdGNoLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy52ZXJ0aWNlcz1udWxsLHRoaXMuaW5kaWNlcz1udWxsLHRoaXMuZ2wuZGVsZXRlQnVmZmVyKHRoaXMudmVydGV4QnVmZmVyKSx0aGlzLmdsLmRlbGV0ZUJ1ZmZlcih0aGlzLmluZGV4QnVmZmVyKSx0aGlzLmN1cnJlbnRCYXNlVGV4dHVyZT1udWxsLHRoaXMuZ2w9bnVsbH0saS5XZWJHTEZhc3RTcHJpdGVCYXRjaD1mdW5jdGlvbihlKXt0aGlzLnZlcnRTaXplPTExLHRoaXMubWF4U2l6ZT02ZTMsdGhpcy5zaXplPXRoaXMubWF4U2l6ZTt2YXIgdD00KnRoaXMuc2l6ZSp0aGlzLnZlcnRTaXplLHI9Nip0aGlzLm1heFNpemU7dGhpcy52ZXJ0aWNlcz1uZXcgRmxvYXQzMkFycmF5KHQpLHRoaXMuaW5kaWNlcz1uZXcgVWludDE2QXJyYXkociksdGhpcy52ZXJ0ZXhCdWZmZXI9bnVsbCx0aGlzLmluZGV4QnVmZmVyPW51bGwsdGhpcy5sYXN0SW5kZXhDb3VudD0wO2Zvcih2YXIgaT0wLHM9MDtpPHI7aSs9NixzKz00KXRoaXMuaW5kaWNlc1tpKzBdPXMrMCx0aGlzLmluZGljZXNbaSsxXT1zKzEsdGhpcy5pbmRpY2VzW2krMl09cysyLHRoaXMuaW5kaWNlc1tpKzNdPXMrMCx0aGlzLmluZGljZXNbaSs0XT1zKzIsdGhpcy5pbmRpY2VzW2krNV09cyszO3RoaXMuZHJhd2luZz0hMSx0aGlzLmN1cnJlbnRCYXRjaFNpemU9MCx0aGlzLmN1cnJlbnRCYXNlVGV4dHVyZT1udWxsLHRoaXMuY3VycmVudEJsZW5kTW9kZT0wLHRoaXMucmVuZGVyU2Vzc2lvbj1udWxsLHRoaXMuc2hhZGVyPW51bGwsdGhpcy5tYXRyaXg9bnVsbCx0aGlzLnNldENvbnRleHQoZSl9LGkuV2ViR0xGYXN0U3ByaXRlQmF0Y2gucHJvdG90eXBlLmNvbnN0cnVjdG9yPWkuV2ViR0xGYXN0U3ByaXRlQmF0Y2gsaS5XZWJHTEZhc3RTcHJpdGVCYXRjaC5wcm90b3R5cGUuc2V0Q29udGV4dD1mdW5jdGlvbihlKXt0aGlzLmdsPWUsdGhpcy52ZXJ0ZXhCdWZmZXI9ZS5jcmVhdGVCdWZmZXIoKSx0aGlzLmluZGV4QnVmZmVyPWUuY3JlYXRlQnVmZmVyKCksZS5iaW5kQnVmZmVyKGUuRUxFTUVOVF9BUlJBWV9CVUZGRVIsdGhpcy5pbmRleEJ1ZmZlciksZS5idWZmZXJEYXRhKGUuRUxFTUVOVF9BUlJBWV9CVUZGRVIsdGhpcy5pbmRpY2VzLGUuU1RBVElDX0RSQVcpLGUuYmluZEJ1ZmZlcihlLkFSUkFZX0JVRkZFUix0aGlzLnZlcnRleEJ1ZmZlciksZS5idWZmZXJEYXRhKGUuQVJSQVlfQlVGRkVSLHRoaXMudmVydGljZXMsZS5EWU5BTUlDX0RSQVcpfSxpLldlYkdMRmFzdFNwcml0ZUJhdGNoLnByb3RvdHlwZS5iZWdpbj1mdW5jdGlvbihlLHQpe3RoaXMucmVuZGVyU2Vzc2lvbj10LHRoaXMuc2hhZGVyPXRoaXMucmVuZGVyU2Vzc2lvbi5zaGFkZXJNYW5hZ2VyLmZhc3RTaGFkZXIsdGhpcy5tYXRyaXg9ZS53b3JsZFRyYW5zZm9ybS50b0FycmF5KCEwKSx0aGlzLnN0YXJ0KCl9LGkuV2ViR0xGYXN0U3ByaXRlQmF0Y2gucHJvdG90eXBlLmVuZD1mdW5jdGlvbigpe3RoaXMuZmx1c2goKX0saS5XZWJHTEZhc3RTcHJpdGVCYXRjaC5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKGUpe3ZhciB0PWUuY2hpbGRyZW4scj10WzBdO2lmKHIudGV4dHVyZS5fdXZzKXt0aGlzLmN1cnJlbnRCYXNlVGV4dHVyZT1yLnRleHR1cmUuYmFzZVRleHR1cmUsci5ibGVuZE1vZGUhPT10aGlzLnJlbmRlclNlc3Npb24uYmxlbmRNb2RlTWFuYWdlci5jdXJyZW50QmxlbmRNb2RlJiYodGhpcy5mbHVzaCgpLHRoaXMucmVuZGVyU2Vzc2lvbi5ibGVuZE1vZGVNYW5hZ2VyLnNldEJsZW5kTW9kZShyLmJsZW5kTW9kZSkpO2Zvcih2YXIgaT0wLHM9dC5sZW5ndGg7aTxzO2krKyl0aGlzLnJlbmRlclNwcml0ZSh0W2ldKTt0aGlzLmZsdXNoKCl9fSxpLldlYkdMRmFzdFNwcml0ZUJhdGNoLnByb3RvdHlwZS5yZW5kZXJTcHJpdGU9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS50ZXh0dXJlLmJhc2VUZXh0dXJlLHI9dGhpcy5nbCxzPWUudGV4dHVyZS5iYXNlVGV4dHVyZS50ZXh0dXJlSW5kZXg7aWYoKGkuV2ViR0xSZW5kZXJlci50ZXh0dXJlQXJyYXlbc109PXR8fCF0Ll9nbFRleHR1cmVzW3IuaWRdfHxlLnRleHR1cmUuYmFzZVRleHR1cmUuc2tpcFJlbmRlcnx8KHRoaXMuZmx1c2goKSxyLmFjdGl2ZVRleHR1cmUoci5URVhUVVJFMCtzKSxyLmJpbmRUZXh0dXJlKHIuVEVYVFVSRV8yRCx0Ll9nbFRleHR1cmVzW3IuaWRdKSxpLldlYkdMUmVuZGVyZXIudGV4dHVyZUFycmF5W3NdPXQsZS50ZXh0dXJlLl91dnMpKSYmZS52aXNpYmxlKXt2YXIgbyxhLG4saCxsLHUsZD10aGlzLnZlcnRpY2VzO2lmKG89ZS50ZXh0dXJlLl91dnMsZS50ZXh0dXJlLmZyYW1lLndpZHRoLGUudGV4dHVyZS5mcmFtZS5oZWlnaHQsZS50ZXh0dXJlLnRyaW0pe3ZhciBjPWUudGV4dHVyZS50cmltO2E9KG49Yy54LWUuYW5jaG9yLngqYy53aWR0aCkrZS50ZXh0dXJlLmNyb3Aud2lkdGgsaD0obD1jLnktZS5hbmNob3IueSpjLmhlaWdodCkrZS50ZXh0dXJlLmNyb3AuaGVpZ2h0fWVsc2UgYT1lLnRleHR1cmUuZnJhbWUud2lkdGgqKDEtZS5hbmNob3IueCksbj1lLnRleHR1cmUuZnJhbWUud2lkdGgqLWUuYW5jaG9yLngsaD1lLnRleHR1cmUuZnJhbWUuaGVpZ2h0KigxLWUuYW5jaG9yLnkpLGw9ZS50ZXh0dXJlLmZyYW1lLmhlaWdodCotZS5hbmNob3IueTt1PTQqdGhpcy5jdXJyZW50QmF0Y2hTaXplKnRoaXMudmVydFNpemUsZFt1KytdPW4sZFt1KytdPWwsZFt1KytdPWUucG9zaXRpb24ueCxkW3UrK109ZS5wb3NpdGlvbi55LGRbdSsrXT1lLnNjYWxlLngsZFt1KytdPWUuc2NhbGUueSxkW3UrK109ZS5yb3RhdGlvbixkW3UrK109by54MCxkW3UrK109by55MSxkW3UrK109ZS5hbHBoYSxkW3UrK109cyxkW3UrK109YSxkW3UrK109bCxkW3UrK109ZS5wb3NpdGlvbi54LGRbdSsrXT1lLnBvc2l0aW9uLnksZFt1KytdPWUuc2NhbGUueCxkW3UrK109ZS5zY2FsZS55LGRbdSsrXT1lLnJvdGF0aW9uLGRbdSsrXT1vLngxLGRbdSsrXT1vLnkxLGRbdSsrXT1lLmFscGhhLGRbdSsrXT1zLGRbdSsrXT1hLGRbdSsrXT1oLGRbdSsrXT1lLnBvc2l0aW9uLngsZFt1KytdPWUucG9zaXRpb24ueSxkW3UrK109ZS5zY2FsZS54LGRbdSsrXT1lLnNjYWxlLnksZFt1KytdPWUucm90YXRpb24sZFt1KytdPW8ueDIsZFt1KytdPW8ueTIsZFt1KytdPWUuYWxwaGEsZFt1KytdPXMsZFt1KytdPW4sZFt1KytdPWgsZFt1KytdPWUucG9zaXRpb24ueCxkW3UrK109ZS5wb3NpdGlvbi55LGRbdSsrXT1lLnNjYWxlLngsZFt1KytdPWUuc2NhbGUueSxkW3UrK109ZS5yb3RhdGlvbixkW3UrK109by54MyxkW3UrK109by55MyxkW3UrK109ZS5hbHBoYSxkW3UrK109cywrK3RoaXMuY3VycmVudEJhdGNoU2l6ZT49dGhpcy5zaXplJiZ0aGlzLmZsdXNoKCl9fSxpLldlYkdMRmFzdFNwcml0ZUJhdGNoLnByb3RvdHlwZS5mbHVzaD1mdW5jdGlvbigpe2lmKDAhPT10aGlzLmN1cnJlbnRCYXRjaFNpemUpe3ZhciBlPXRoaXMuZ2w7aWYodGhpcy5jdXJyZW50QmFzZVRleHR1cmUuX2dsVGV4dHVyZXNbZS5pZF0pe2lmKHRoaXMuY3VycmVudEJhdGNoU2l6ZT4uNSp0aGlzLnNpemUpZS5idWZmZXJTdWJEYXRhKGUuQVJSQVlfQlVGRkVSLDAsdGhpcy52ZXJ0aWNlcyk7ZWxzZXt2YXIgdD10aGlzLnZlcnRpY2VzLnN1YmFycmF5KDAsNCp0aGlzLmN1cnJlbnRCYXRjaFNpemUqdGhpcy52ZXJ0U2l6ZSk7ZS5idWZmZXJTdWJEYXRhKGUuQVJSQVlfQlVGRkVSLDAsdCl9ZS5kcmF3RWxlbWVudHMoZS5UUklBTkdMRVMsNip0aGlzLmN1cnJlbnRCYXRjaFNpemUsZS5VTlNJR05FRF9TSE9SVCwwKSx0aGlzLmN1cnJlbnRCYXRjaFNpemU9MCx0aGlzLnJlbmRlclNlc3Npb24uZHJhd0NvdW50Kyt9ZWxzZSB0aGlzLnJlbmRlclNlc3Npb24ucmVuZGVyZXIudXBkYXRlVGV4dHVyZSh0aGlzLmN1cnJlbnRCYXNlVGV4dHVyZSxlKX19LGkuV2ViR0xGYXN0U3ByaXRlQmF0Y2gucHJvdG90eXBlLnN0b3A9ZnVuY3Rpb24oKXt0aGlzLmZsdXNoKCl9LGkuV2ViR0xGYXN0U3ByaXRlQmF0Y2gucHJvdG90eXBlLnN0YXJ0PWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nbDtlLmFjdGl2ZVRleHR1cmUoZS5URVhUVVJFMCksZS5iaW5kQnVmZmVyKGUuQVJSQVlfQlVGRkVSLHRoaXMudmVydGV4QnVmZmVyKSxlLmJpbmRCdWZmZXIoZS5FTEVNRU5UX0FSUkFZX0JVRkZFUix0aGlzLmluZGV4QnVmZmVyKTt2YXIgdD10aGlzLnJlbmRlclNlc3Npb24ucHJvamVjdGlvbjtlLnVuaWZvcm0yZih0aGlzLnNoYWRlci5wcm9qZWN0aW9uVmVjdG9yLHQueCx0LnkpLGUudW5pZm9ybU1hdHJpeDNmdih0aGlzLnNoYWRlci51TWF0cml4LCExLHRoaXMubWF0cml4KTt2YXIgcj00KnRoaXMudmVydFNpemU7ZS52ZXJ0ZXhBdHRyaWJQb2ludGVyKHRoaXMuc2hhZGVyLmFWZXJ0ZXhQb3NpdGlvbiwyLGUuRkxPQVQsITEsciwwKSxlLnZlcnRleEF0dHJpYlBvaW50ZXIodGhpcy5zaGFkZXIuYVBvc2l0aW9uQ29vcmQsMixlLkZMT0FULCExLHIsOCksZS52ZXJ0ZXhBdHRyaWJQb2ludGVyKHRoaXMuc2hhZGVyLmFTY2FsZSwyLGUuRkxPQVQsITEsciwxNiksZS52ZXJ0ZXhBdHRyaWJQb2ludGVyKHRoaXMuc2hhZGVyLmFSb3RhdGlvbiwxLGUuRkxPQVQsITEsciwyNCksZS52ZXJ0ZXhBdHRyaWJQb2ludGVyKHRoaXMuc2hhZGVyLmFUZXh0dXJlQ29vcmQsMixlLkZMT0FULCExLHIsMjgpLGUudmVydGV4QXR0cmliUG9pbnRlcih0aGlzLnNoYWRlci5jb2xvckF0dHJpYnV0ZSwxLGUuRkxPQVQsITEsciwzNiksZS52ZXJ0ZXhBdHRyaWJQb2ludGVyKHRoaXMuc2hhZGVyLmFUZXh0dXJlSW5kZXgsMSxlLkZMT0FULCExLHIsNDApfSxpLldlYkdMRmlsdGVyTWFuYWdlcj1mdW5jdGlvbigpe3RoaXMuZmlsdGVyU3RhY2s9W10sdGhpcy5vZmZzZXRYPTAsdGhpcy5vZmZzZXRZPTB9LGkuV2ViR0xGaWx0ZXJNYW5hZ2VyLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1pLldlYkdMRmlsdGVyTWFuYWdlcixpLldlYkdMRmlsdGVyTWFuYWdlci5wcm90b3R5cGUuc2V0Q29udGV4dD1mdW5jdGlvbihlKXt0aGlzLmdsPWUsdGhpcy50ZXh0dXJlUG9vbD1bXSx0aGlzLmluaXRTaGFkZXJCdWZmZXJzKCl9LGkuV2ViR0xGaWx0ZXJNYW5hZ2VyLnByb3RvdHlwZS5iZWdpbj1mdW5jdGlvbihlLHQpe3RoaXMucmVuZGVyU2Vzc2lvbj1lLHRoaXMuZGVmYXVsdFNoYWRlcj1lLnNoYWRlck1hbmFnZXIuZGVmYXVsdFNoYWRlcjt2YXIgcj10aGlzLnJlbmRlclNlc3Npb24ucHJvamVjdGlvbjt0aGlzLndpZHRoPTIqci54LHRoaXMuaGVpZ2h0PTIqLXIueSx0aGlzLmJ1ZmZlcj10fSxpLldlYkdMRmlsdGVyTWFuYWdlci5wcm90b3R5cGUucHVzaEZpbHRlcj1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmdsLHI9dGhpcy5yZW5kZXJTZXNzaW9uLnByb2plY3Rpb24scz10aGlzLnJlbmRlclNlc3Npb24ub2Zmc2V0O2UuX2ZpbHRlckFyZWE9ZS50YXJnZXQuZmlsdGVyQXJlYXx8ZS50YXJnZXQuZ2V0Qm91bmRzKCksZS5fcHJldmlvdXNfc3RlbmNpbF9tZ3I9dGhpcy5yZW5kZXJTZXNzaW9uLnN0ZW5jaWxNYW5hZ2VyLHRoaXMucmVuZGVyU2Vzc2lvbi5zdGVuY2lsTWFuYWdlcj1uZXcgaS5XZWJHTFN0ZW5jaWxNYW5hZ2VyLHRoaXMucmVuZGVyU2Vzc2lvbi5zdGVuY2lsTWFuYWdlci5zZXRDb250ZXh0KHQpLHQuZGlzYWJsZSh0LlNURU5DSUxfVEVTVCksdGhpcy5maWx0ZXJTdGFjay5wdXNoKGUpO3ZhciBvPWUuZmlsdGVyUGFzc2VzWzBdO3RoaXMub2Zmc2V0WCs9ZS5fZmlsdGVyQXJlYS54LHRoaXMub2Zmc2V0WSs9ZS5fZmlsdGVyQXJlYS55O3ZhciBhPXRoaXMudGV4dHVyZVBvb2wucG9wKCk7YT9hLnJlc2l6ZSh0aGlzLndpZHRoKnRoaXMucmVuZGVyU2Vzc2lvbi5yZXNvbHV0aW9uLHRoaXMuaGVpZ2h0KnRoaXMucmVuZGVyU2Vzc2lvbi5yZXNvbHV0aW9uKTphPW5ldyBpLkZpbHRlclRleHR1cmUodGhpcy5nbCx0aGlzLndpZHRoKnRoaXMucmVuZGVyU2Vzc2lvbi5yZXNvbHV0aW9uLHRoaXMuaGVpZ2h0KnRoaXMucmVuZGVyU2Vzc2lvbi5yZXNvbHV0aW9uKSx0LmJpbmRUZXh0dXJlKHQuVEVYVFVSRV8yRCxhLnRleHR1cmUpO3ZhciBuPWUuX2ZpbHRlckFyZWEsaD1vLnBhZGRpbmc7bi54LT1oLG4ueS09aCxuLndpZHRoKz0yKmgsbi5oZWlnaHQrPTIqaCxuLng8MCYmKG4ueD0wKSxuLndpZHRoPnRoaXMud2lkdGgmJihuLndpZHRoPXRoaXMud2lkdGgpLG4ueTwwJiYobi55PTApLG4uaGVpZ2h0PnRoaXMuaGVpZ2h0JiYobi5oZWlnaHQ9dGhpcy5oZWlnaHQpLHQuYmluZEZyYW1lYnVmZmVyKHQuRlJBTUVCVUZGRVIsYS5mcmFtZUJ1ZmZlciksdC52aWV3cG9ydCgwLDAsbi53aWR0aCp0aGlzLnJlbmRlclNlc3Npb24ucmVzb2x1dGlvbixuLmhlaWdodCp0aGlzLnJlbmRlclNlc3Npb24ucmVzb2x1dGlvbiksci54PW4ud2lkdGgvMixyLnk9LW4uaGVpZ2h0LzIscy54PS1uLngscy55PS1uLnksdC5jb2xvck1hc2soITAsITAsITAsITApLHQuY2xlYXJDb2xvcigwLDAsMCwwKSx0LmNsZWFyKHQuQ09MT1JfQlVGRkVSX0JJVCksZS5fZ2xGaWx0ZXJUZXh0dXJlPWF9LGkuV2ViR0xGaWx0ZXJNYW5hZ2VyLnByb3RvdHlwZS5wb3BGaWx0ZXI9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdsLHQ9dGhpcy5maWx0ZXJTdGFjay5wb3AoKSxyPXQuX2ZpbHRlckFyZWEscz10Ll9nbEZpbHRlclRleHR1cmUsbz10aGlzLnJlbmRlclNlc3Npb24ucHJvamVjdGlvbixhPXRoaXMucmVuZGVyU2Vzc2lvbi5vZmZzZXQ7aWYodC5maWx0ZXJQYXNzZXMubGVuZ3RoPjEpe2Uudmlld3BvcnQoMCwwLHIud2lkdGgqdGhpcy5yZW5kZXJTZXNzaW9uLnJlc29sdXRpb24sci5oZWlnaHQqdGhpcy5yZW5kZXJTZXNzaW9uLnJlc29sdXRpb24pLGUuYmluZEJ1ZmZlcihlLkFSUkFZX0JVRkZFUix0aGlzLnZlcnRleEJ1ZmZlciksdGhpcy52ZXJ0ZXhBcnJheVswXT0wLHRoaXMudmVydGV4QXJyYXlbMV09ci5oZWlnaHQsdGhpcy52ZXJ0ZXhBcnJheVsyXT1yLndpZHRoLHRoaXMudmVydGV4QXJyYXlbM109ci5oZWlnaHQsdGhpcy52ZXJ0ZXhBcnJheVs0XT0wLHRoaXMudmVydGV4QXJyYXlbNV09MCx0aGlzLnZlcnRleEFycmF5WzZdPXIud2lkdGgsdGhpcy52ZXJ0ZXhBcnJheVs3XT0wLGUuYnVmZmVyU3ViRGF0YShlLkFSUkFZX0JVRkZFUiwwLHRoaXMudmVydGV4QXJyYXkpLGUuYmluZEJ1ZmZlcihlLkFSUkFZX0JVRkZFUix0aGlzLnV2QnVmZmVyKSx0aGlzLnV2QXJyYXlbMl09ci53aWR0aC90aGlzLndpZHRoLHRoaXMudXZBcnJheVs1XT1yLmhlaWdodC90aGlzLmhlaWdodCx0aGlzLnV2QXJyYXlbNl09ci53aWR0aC90aGlzLndpZHRoLHRoaXMudXZBcnJheVs3XT1yLmhlaWdodC90aGlzLmhlaWdodCxlLmJ1ZmZlclN1YkRhdGEoZS5BUlJBWV9CVUZGRVIsMCx0aGlzLnV2QXJyYXkpO3ZhciBuPXMsaD10aGlzLnRleHR1cmVQb29sLnBvcCgpO2h8fChoPW5ldyBpLkZpbHRlclRleHR1cmUodGhpcy5nbCx0aGlzLndpZHRoKnRoaXMucmVuZGVyU2Vzc2lvbi5yZXNvbHV0aW9uLHRoaXMuaGVpZ2h0KnRoaXMucmVuZGVyU2Vzc2lvbi5yZXNvbHV0aW9uKSksaC5yZXNpemUodGhpcy53aWR0aCp0aGlzLnJlbmRlclNlc3Npb24ucmVzb2x1dGlvbix0aGlzLmhlaWdodCp0aGlzLnJlbmRlclNlc3Npb24ucmVzb2x1dGlvbiksZS5iaW5kRnJhbWVidWZmZXIoZS5GUkFNRUJVRkZFUixoLmZyYW1lQnVmZmVyKSxlLmNsZWFyKGUuQ09MT1JfQlVGRkVSX0JJVCksZS5kaXNhYmxlKGUuQkxFTkQpO2Zvcih2YXIgbD0wO2w8dC5maWx0ZXJQYXNzZXMubGVuZ3RoLTE7bCsrKXt2YXIgdT10LmZpbHRlclBhc3Nlc1tsXTtlLmJpbmRGcmFtZWJ1ZmZlcihlLkZSQU1FQlVGRkVSLGguZnJhbWVCdWZmZXIpLGUuYWN0aXZlVGV4dHVyZShlLlRFWFRVUkUwKSxlLmJpbmRUZXh0dXJlKGUuVEVYVFVSRV8yRCxuLnRleHR1cmUpLHRoaXMuYXBwbHlGaWx0ZXJQYXNzKHUscixyLndpZHRoLHIuaGVpZ2h0KTt2YXIgZD1uO249aCxoPWR9ZS5lbmFibGUoZS5CTEVORCkscz1uLHRoaXMudGV4dHVyZVBvb2wucHVzaChoKX12YXIgYz10LmZpbHRlclBhc3Nlc1t0LmZpbHRlclBhc3Nlcy5sZW5ndGgtMV07dGhpcy5vZmZzZXRYLT1yLngsdGhpcy5vZmZzZXRZLT1yLnk7dmFyIGY9dGhpcy53aWR0aCx4PXRoaXMuaGVpZ2h0LHA9MCxnPTAsdj10aGlzLmJ1ZmZlcjtpZigwPT09dGhpcy5maWx0ZXJTdGFjay5sZW5ndGgpZS5jb2xvck1hc2soITAsITAsITAsITApO2Vsc2V7dmFyIFQ9dGhpcy5maWx0ZXJTdGFja1t0aGlzLmZpbHRlclN0YWNrLmxlbmd0aC0xXTtmPShyPVQuX2ZpbHRlckFyZWEpLndpZHRoLHg9ci5oZWlnaHQscD1yLngsZz1yLnksdj1ULl9nbEZpbHRlclRleHR1cmUuZnJhbWVCdWZmZXJ9by54PWYvMixvLnk9LXgvMixhLng9cCxhLnk9Zzt2YXIgbT0ocj10Ll9maWx0ZXJBcmVhKS54LXAsRT1yLnktZztlLmJpbmRCdWZmZXIoZS5BUlJBWV9CVUZGRVIsdGhpcy52ZXJ0ZXhCdWZmZXIpLHRoaXMudmVydGV4QXJyYXlbMF09bSx0aGlzLnZlcnRleEFycmF5WzFdPUUrci5oZWlnaHQsdGhpcy52ZXJ0ZXhBcnJheVsyXT1tK3Iud2lkdGgsdGhpcy52ZXJ0ZXhBcnJheVszXT1FK3IuaGVpZ2h0LHRoaXMudmVydGV4QXJyYXlbNF09bSx0aGlzLnZlcnRleEFycmF5WzVdPUUsdGhpcy52ZXJ0ZXhBcnJheVs2XT1tK3Iud2lkdGgsdGhpcy52ZXJ0ZXhBcnJheVs3XT1FLGUuYnVmZmVyU3ViRGF0YShlLkFSUkFZX0JVRkZFUiwwLHRoaXMudmVydGV4QXJyYXkpLGUuYmluZEJ1ZmZlcihlLkFSUkFZX0JVRkZFUix0aGlzLnV2QnVmZmVyKSx0aGlzLnV2QXJyYXlbMl09ci53aWR0aC90aGlzLndpZHRoLHRoaXMudXZBcnJheVs1XT1yLmhlaWdodC90aGlzLmhlaWdodCx0aGlzLnV2QXJyYXlbNl09ci53aWR0aC90aGlzLndpZHRoLHRoaXMudXZBcnJheVs3XT1yLmhlaWdodC90aGlzLmhlaWdodCxlLmJ1ZmZlclN1YkRhdGEoZS5BUlJBWV9CVUZGRVIsMCx0aGlzLnV2QXJyYXkpLGUudmlld3BvcnQoMCwwLGYqdGhpcy5yZW5kZXJTZXNzaW9uLnJlc29sdXRpb24seCp0aGlzLnJlbmRlclNlc3Npb24ucmVzb2x1dGlvbiksZS5iaW5kRnJhbWVidWZmZXIoZS5GUkFNRUJVRkZFUix2KSxlLmFjdGl2ZVRleHR1cmUoZS5URVhUVVJFMCksZS5iaW5kVGV4dHVyZShlLlRFWFRVUkVfMkQscy50ZXh0dXJlKSx0aGlzLnJlbmRlclNlc3Npb24uc3RlbmNpbE1hbmFnZXImJnRoaXMucmVuZGVyU2Vzc2lvbi5zdGVuY2lsTWFuYWdlci5kZXN0cm95KCksdGhpcy5yZW5kZXJTZXNzaW9uLnN0ZW5jaWxNYW5hZ2VyPXQuX3ByZXZpb3VzX3N0ZW5jaWxfbWdyLHQuX3ByZXZpb3VzX3N0ZW5jaWxfbWdyPW51bGwsdGhpcy5yZW5kZXJTZXNzaW9uLnN0ZW5jaWxNYW5hZ2VyLmNvdW50PjA/ZS5lbmFibGUoZS5TVEVOQ0lMX1RFU1QpOmUuZGlzYWJsZShlLlNURU5DSUxfVEVTVCksdGhpcy5hcHBseUZpbHRlclBhc3MoYyxyLGYseCksdGhpcy50ZXh0dXJlUG9vbC5wdXNoKHMpLHQuX2dsRmlsdGVyVGV4dHVyZT1udWxsfSxpLldlYkdMRmlsdGVyTWFuYWdlci5wcm90b3R5cGUuYXBwbHlGaWx0ZXJQYXNzPWZ1bmN0aW9uKGUsdCxyLHMpe3ZhciBvPXRoaXMuZ2wsYT1lLnNoYWRlcnNbby5pZF07YXx8KChhPW5ldyBpLlBpeGlTaGFkZXIobykpLmZyYWdtZW50U3JjPWUuZnJhZ21lbnRTcmMsYS51bmlmb3Jtcz1lLnVuaWZvcm1zLGEuaW5pdCghMCksZS5zaGFkZXJzW28uaWRdPWEpLHRoaXMucmVuZGVyU2Vzc2lvbi5zaGFkZXJNYW5hZ2VyLnNldFNoYWRlcihhKSxvLnVuaWZvcm0yZihhLnByb2plY3Rpb25WZWN0b3Isci8yLC1zLzIpLG8udW5pZm9ybTJmKGEub2Zmc2V0VmVjdG9yLDAsMCksZS51bmlmb3Jtcy5kaW1lbnNpb25zJiYoZS51bmlmb3Jtcy5kaW1lbnNpb25zLnZhbHVlWzBdPXRoaXMud2lkdGgsZS51bmlmb3Jtcy5kaW1lbnNpb25zLnZhbHVlWzFdPXRoaXMuaGVpZ2h0LGUudW5pZm9ybXMuZGltZW5zaW9ucy52YWx1ZVsyXT10aGlzLnZlcnRleEFycmF5WzBdLGUudW5pZm9ybXMuZGltZW5zaW9ucy52YWx1ZVszXT10aGlzLnZlcnRleEFycmF5WzVdKSxhLnN5bmNVbmlmb3JtcygpLG8uYmluZEJ1ZmZlcihvLkFSUkFZX0JVRkZFUix0aGlzLnZlcnRleEJ1ZmZlciksby52ZXJ0ZXhBdHRyaWJQb2ludGVyKGEuYVZlcnRleFBvc2l0aW9uLDIsby5GTE9BVCwhMSwwLDApLG8uYmluZEJ1ZmZlcihvLkFSUkFZX0JVRkZFUix0aGlzLnV2QnVmZmVyKSxvLnZlcnRleEF0dHJpYlBvaW50ZXIoYS5hVGV4dHVyZUNvb3JkLDIsby5GTE9BVCwhMSwwLDApLG8uYmluZEJ1ZmZlcihvLkFSUkFZX0JVRkZFUix0aGlzLmNvbG9yQnVmZmVyKSxvLnZlcnRleEF0dHJpYlBvaW50ZXIoYS5jb2xvckF0dHJpYnV0ZSwyLG8uRkxPQVQsITEsMCwwKSxvLmJpbmRCdWZmZXIoby5FTEVNRU5UX0FSUkFZX0JVRkZFUix0aGlzLmluZGV4QnVmZmVyKSxvLmRyYXdFbGVtZW50cyhvLlRSSUFOR0xFUyw2LG8uVU5TSUdORURfU0hPUlQsMCksdGhpcy5yZW5kZXJTZXNzaW9uLmRyYXdDb3VudCsrfSxpLldlYkdMRmlsdGVyTWFuYWdlci5wcm90b3R5cGUuaW5pdFNoYWRlckJ1ZmZlcnM9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdsO3RoaXMudmVydGV4QnVmZmVyPWUuY3JlYXRlQnVmZmVyKCksdGhpcy51dkJ1ZmZlcj1lLmNyZWF0ZUJ1ZmZlcigpLHRoaXMuY29sb3JCdWZmZXI9ZS5jcmVhdGVCdWZmZXIoKSx0aGlzLmluZGV4QnVmZmVyPWUuY3JlYXRlQnVmZmVyKCksdGhpcy52ZXJ0ZXhBcnJheT1uZXcgRmxvYXQzMkFycmF5KFswLDAsMSwwLDAsMSwxLDFdKSxlLmJpbmRCdWZmZXIoZS5BUlJBWV9CVUZGRVIsdGhpcy52ZXJ0ZXhCdWZmZXIpLGUuYnVmZmVyRGF0YShlLkFSUkFZX0JVRkZFUix0aGlzLnZlcnRleEFycmF5LGUuU1RBVElDX0RSQVcpLHRoaXMudXZBcnJheT1uZXcgRmxvYXQzMkFycmF5KFswLDAsMSwwLDAsMSwxLDFdKSxlLmJpbmRCdWZmZXIoZS5BUlJBWV9CVUZGRVIsdGhpcy51dkJ1ZmZlciksZS5idWZmZXJEYXRhKGUuQVJSQVlfQlVGRkVSLHRoaXMudXZBcnJheSxlLlNUQVRJQ19EUkFXKSx0aGlzLmNvbG9yQXJyYXk9bmV3IEZsb2F0MzJBcnJheShbMSwxNjc3NzIxNSwxLDE2Nzc3MjE1LDEsMTY3NzcyMTUsMSwxNjc3NzIxNV0pLGUuYmluZEJ1ZmZlcihlLkFSUkFZX0JVRkZFUix0aGlzLmNvbG9yQnVmZmVyKSxlLmJ1ZmZlckRhdGEoZS5BUlJBWV9CVUZGRVIsdGhpcy5jb2xvckFycmF5LGUuU1RBVElDX0RSQVcpLGUuYmluZEJ1ZmZlcihlLkVMRU1FTlRfQVJSQVlfQlVGRkVSLHRoaXMuaW5kZXhCdWZmZXIpLGUuYnVmZmVyRGF0YShlLkVMRU1FTlRfQVJSQVlfQlVGRkVSLG5ldyBVaW50MTZBcnJheShbMCwxLDIsMSwzLDJdKSxlLlNUQVRJQ19EUkFXKX0saS5XZWJHTEZpbHRlck1hbmFnZXIucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdsO3RoaXMuZmlsdGVyU3RhY2s9bnVsbCx0aGlzLm9mZnNldFg9MCx0aGlzLm9mZnNldFk9MDtmb3IodmFyIHQ9MDt0PHRoaXMudGV4dHVyZVBvb2wubGVuZ3RoO3QrKyl0aGlzLnRleHR1cmVQb29sW3RdLmRlc3Ryb3koKTt0aGlzLnRleHR1cmVQb29sPW51bGwsZS5kZWxldGVCdWZmZXIodGhpcy52ZXJ0ZXhCdWZmZXIpLGUuZGVsZXRlQnVmZmVyKHRoaXMudXZCdWZmZXIpLGUuZGVsZXRlQnVmZmVyKHRoaXMuY29sb3JCdWZmZXIpLGUuZGVsZXRlQnVmZmVyKHRoaXMuaW5kZXhCdWZmZXIpfTt2YXIgcz17MzYwNTQ6XCJJbmNvbXBsZXRlIGF0dGFjaG1lbnRcIiwzNjA1NTpcIk1pc3NpbmcgYXR0YWNobWVudFwiLDM2MDU3OlwiSW5jb21wbGV0ZSBkaW1lbnNpb25zXCIsMzYwNjE6XCJGcmFtZWJ1ZmZlciB1bnN1cHBvcnRlZFwifTtyZXR1cm4gaS5GaWx0ZXJUZXh0dXJlPWZ1bmN0aW9uKGUscixzLG8sYSl7YT1cIm51bWJlclwiPT10eXBlb2YgYT9hOjAsdGhpcy5nbD1lLHRoaXMuZnJhbWVCdWZmZXI9dChlLHIscyxvfHxpLnNjYWxlTW9kZXMuREVGQVVMVCxhKSx0aGlzLnRleHR1cmU9dGhpcy5mcmFtZUJ1ZmZlci50YXJnZXRUZXh0dXJlLHRoaXMud2lkdGg9cix0aGlzLmhlaWdodD1zLHRoaXMucmVuZGVyQnVmZmVyPXRoaXMuZnJhbWVCdWZmZXIucmVuZGVyQnVmZmVyfSxpLkZpbHRlclRleHR1cmUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWkuRmlsdGVyVGV4dHVyZSxpLkZpbHRlclRleHR1cmUucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nbDtlLmNsZWFyQ29sb3IoMCwwLDAsMCksZS5jbGVhcihlLkNPTE9SX0JVRkZFUl9CSVQpfSxpLkZpbHRlclRleHR1cmUucHJvdG90eXBlLnJlc2l6ZT1mdW5jdGlvbihlLHQpe2lmKHRoaXMud2lkdGghPT1lfHx0aGlzLmhlaWdodCE9PXQpe3RoaXMud2lkdGg9ZSx0aGlzLmhlaWdodD10O3ZhciByPXRoaXMuZ2w7ci5iaW5kVGV4dHVyZShyLlRFWFRVUkVfMkQsdGhpcy50ZXh0dXJlKSxyLnRleEltYWdlMkQoci5URVhUVVJFXzJELDAsci5SR0JBLGUsdCwwLHIuUkdCQSxyLlVOU0lHTkVEX0JZVEUsbnVsbCksci5iaW5kUmVuZGVyYnVmZmVyKHIuUkVOREVSQlVGRkVSLHRoaXMucmVuZGVyQnVmZmVyKSxyLnJlbmRlcmJ1ZmZlclN0b3JhZ2Uoci5SRU5ERVJCVUZGRVIsci5ERVBUSF9TVEVOQ0lMLGUsdCl9fSxpLkZpbHRlclRleHR1cmUucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdsO2UuZGVsZXRlRnJhbWVidWZmZXIodGhpcy5mcmFtZUJ1ZmZlciksZS5kZWxldGVUZXh0dXJlKHRoaXMudGV4dHVyZSksdGhpcy5mcmFtZUJ1ZmZlcj1udWxsLHRoaXMudGV4dHVyZT1udWxsfSxpLkNhbnZhc0J1ZmZlcj1mdW5jdGlvbihlLHQpe3RoaXMud2lkdGg9ZSx0aGlzLmhlaWdodD10LHRoaXMuY2FudmFzPVBoYXNlci5DYW52YXNQb29sLmNyZWF0ZSh0aGlzLHRoaXMud2lkdGgsdGhpcy5oZWlnaHQpLHRoaXMuY29udGV4dD10aGlzLmNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIiksdGhpcy5jYW52YXMud2lkdGg9ZSx0aGlzLmNhbnZhcy5oZWlnaHQ9dH0saS5DYW52YXNCdWZmZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yPWkuQ2FudmFzQnVmZmVyLGkuQ2FudmFzQnVmZmVyLnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbigpe3RoaXMuY29udGV4dC5zZXRUcmFuc2Zvcm0oMSwwLDAsMSwwLDApLHRoaXMuY29udGV4dC5jbGVhclJlY3QoMCwwLHRoaXMud2lkdGgsdGhpcy5oZWlnaHQpfSxpLkNhbnZhc0J1ZmZlci5wcm90b3R5cGUucmVzaXplPWZ1bmN0aW9uKGUsdCl7dGhpcy53aWR0aD10aGlzLmNhbnZhcy53aWR0aD1lLHRoaXMuaGVpZ2h0PXRoaXMuY2FudmFzLmhlaWdodD10fSxpLkNhbnZhc0J1ZmZlci5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe1BoYXNlci5DYW52YXNQb29sLnJlbW92ZSh0aGlzKX0saS5DYW52YXNNYXNrTWFuYWdlcj1mdW5jdGlvbigpe30saS5DYW52YXNNYXNrTWFuYWdlci5wcm90b3R5cGUuY29uc3RydWN0b3I9aS5DYW52YXNNYXNrTWFuYWdlcixpLkNhbnZhc01hc2tNYW5hZ2VyLnByb3RvdHlwZS5wdXNoTWFzaz1mdW5jdGlvbihlLHQpe3ZhciByPXQuY29udGV4dDtyLnNhdmUoKTt2YXIgcz1lLmFscGhhLG89ZS53b3JsZFRyYW5zZm9ybSxhPXQucmVzb2x1dGlvbjtyLnNldFRyYW5zZm9ybShvLmEqYSxvLmIqYSxvLmMqYSxvLmQqYSxvLnR4KmEsby50eSphKSxpLkNhbnZhc0dyYXBoaWNzLnJlbmRlckdyYXBoaWNzTWFzayhlLHIpLHIuY2xpcCgpLGUud29ybGRBbHBoYT1zfSxpLkNhbnZhc01hc2tNYW5hZ2VyLnByb3RvdHlwZS5wb3BNYXNrPWZ1bmN0aW9uKGUpe2UuY29udGV4dC5yZXN0b3JlKCl9LGkuQ2FudmFzVGludGVyPWZ1bmN0aW9uKCl7fSxpLkNhbnZhc1RpbnRlci5nZXRUaW50ZWRUZXh0dXJlPWZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS50aW50ZWRUZXh0dXJlfHxQaGFzZXIuQ2FudmFzUG9vbC5jcmVhdGUodGhpcyk7cmV0dXJuIGkuQ2FudmFzVGludGVyLnRpbnRNZXRob2QoZS50ZXh0dXJlLHQscikscn0saS5DYW52YXNUaW50ZXIudGludFdpdGhNdWx0aXBseT1mdW5jdGlvbihlLHQscil7dmFyIGk9ci5nZXRDb250ZXh0KFwiMmRcIikscz1lLmNyb3Asbz1zLndpZHRoLGE9cy5oZWlnaHQ7ZS5yb3RhdGVkJiYobz1hLGE9cy53aWR0aCksci53aWR0aD09PW8mJnIuaGVpZ2h0PT09YXx8KHIud2lkdGg9byxyLmhlaWdodD1hKSxpLmNsZWFyUmVjdCgwLDAsbyxhKSxpLmZpbGxTdHlsZT1cIiNcIisoXCIwMDAwMFwiKygwfHQpLnRvU3RyaW5nKDE2KSkuc3Vic3RyKC02KSxpLmZpbGxSZWN0KDAsMCxvLGEpLGkuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uPVwibXVsdGlwbHlcIixpLmRyYXdJbWFnZShlLmJhc2VUZXh0dXJlLnNvdXJjZSxzLngscy55LG8sYSwwLDAsbyxhKSxpLmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbj1cImRlc3RpbmF0aW9uLWF0b3BcIixpLmRyYXdJbWFnZShlLmJhc2VUZXh0dXJlLnNvdXJjZSxzLngscy55LG8sYSwwLDAsbyxhKX0saS5DYW52YXNUaW50ZXIudGludFdpdGhQZXJQaXhlbD1mdW5jdGlvbihlLHQscil7dmFyIHM9ci5nZXRDb250ZXh0KFwiMmRcIiksbz1lLmNyb3AsYT1vLndpZHRoLG49by5oZWlnaHQ7ZS5yb3RhdGVkJiYoYT1uLG49by53aWR0aCksci53aWR0aD09PWEmJnIuaGVpZ2h0PT09bnx8KHIud2lkdGg9YSxyLmhlaWdodD1uKSxzLmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbj1cImNvcHlcIixzLmRyYXdJbWFnZShlLmJhc2VUZXh0dXJlLnNvdXJjZSxvLngsby55LGEsbiwwLDAsYSxuKTtmb3IodmFyIGg9UGhhc2VyLkNvbG9yLmhleFRvUkdCQXJyYXkodCksbD1oWzBdLHU9aFsxXSxkPWhbMl0sYz1zLmdldEltYWdlRGF0YSgwLDAsYSxuKSxmPWMuZGF0YSx4PTA7eDxmLmxlbmd0aDt4Kz00KWlmKGZbeCswXSo9bCxmW3grMV0qPXUsZlt4KzJdKj1kLCFpLkNhbnZhc1RpbnRlci5jYW5IYW5kbGVBbHBoYSl7dmFyIHA9Zlt4KzNdO2ZbeCswXS89MjU1L3AsZlt4KzFdLz0yNTUvcCxmW3grMl0vPTI1NS9wfXMucHV0SW1hZ2VEYXRhKGMsMCwwKX0saS5DYW52YXNSZW5kZXJlcj1mdW5jdGlvbihlKXt0aGlzLmdhbWU9ZSxpLmRlZmF1bHRSZW5kZXJlcnx8KGkuZGVmYXVsdFJlbmRlcmVyPXRoaXMpLHRoaXMudHlwZT1QaGFzZXIuQ0FOVkFTLHRoaXMucmVzb2x1dGlvbj1lLnJlc29sdXRpb24sdGhpcy5jbGVhckJlZm9yZVJlbmRlcj1lLmNsZWFyQmVmb3JlUmVuZGVyLHRoaXMudHJhbnNwYXJlbnQ9ZS50cmFuc3BhcmVudCx0aGlzLmF1dG9SZXNpemU9ITEsdGhpcy53aWR0aD1lLndpZHRoKnRoaXMucmVzb2x1dGlvbix0aGlzLmhlaWdodD1lLmhlaWdodCp0aGlzLnJlc29sdXRpb24sdGhpcy52aWV3PWUuY2FudmFzLHRoaXMuY29udGV4dD10aGlzLnZpZXcuZ2V0Q29udGV4dChcIjJkXCIse2FscGhhOnRoaXMudHJhbnNwYXJlbnR9KSx0aGlzLnJlZnJlc2g9ITAsdGhpcy5jb3VudD0wLHRoaXMubWFza01hbmFnZXI9bmV3IGkuQ2FudmFzTWFza01hbmFnZXIsdGhpcy5yZW5kZXJTZXNzaW9uPXtjb250ZXh0OnRoaXMuY29udGV4dCxtYXNrTWFuYWdlcjp0aGlzLm1hc2tNYW5hZ2VyLHNjYWxlTW9kZTpudWxsLHNtb290aFByb3BlcnR5OlBoYXNlci5DYW52YXMuZ2V0U21vb3RoaW5nUHJlZml4KHRoaXMuY29udGV4dCkscm91bmRQaXhlbHM6ITF9LHRoaXMubWFwQmxlbmRNb2RlcygpLHRoaXMucmVzaXplKHRoaXMud2lkdGgsdGhpcy5oZWlnaHQpfSxpLkNhbnZhc1JlbmRlcmVyLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1pLkNhbnZhc1JlbmRlcmVyLGkuQ2FudmFzUmVuZGVyZXIucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbihlKXt0aGlzLmNvbnRleHQuc2V0VHJhbnNmb3JtKDEsMCwwLDEsMCwwKSx0aGlzLmNvbnRleHQuZ2xvYmFsQWxwaGE9MSx0aGlzLnJlbmRlclNlc3Npb24uY3VycmVudEJsZW5kTW9kZT0wLHRoaXMucmVuZGVyU2Vzc2lvbi5zaGFrZVg9dGhpcy5nYW1lLmNhbWVyYS5fc2hha2UueCx0aGlzLnJlbmRlclNlc3Npb24uc2hha2VZPXRoaXMuZ2FtZS5jYW1lcmEuX3NoYWtlLnksdGhpcy5jb250ZXh0Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbj1cInNvdXJjZS1vdmVyXCIsbmF2aWdhdG9yLmlzQ29jb29uSlMmJnRoaXMudmlldy5zY3JlZW5jYW52YXMmJih0aGlzLmNvbnRleHQuZmlsbFN0eWxlPVwiYmxhY2tcIix0aGlzLmNvbnRleHQuY2xlYXIoKSksdGhpcy5jbGVhckJlZm9yZVJlbmRlciYmKHRoaXMudHJhbnNwYXJlbnQ/dGhpcy5jb250ZXh0LmNsZWFyUmVjdCgwLDAsdGhpcy53aWR0aCx0aGlzLmhlaWdodCk6ZS5fYmdDb2xvciYmKHRoaXMuY29udGV4dC5maWxsU3R5bGU9ZS5fYmdDb2xvci5yZ2JhLHRoaXMuY29udGV4dC5maWxsUmVjdCgwLDAsdGhpcy53aWR0aCx0aGlzLmhlaWdodCkpKSx0aGlzLnJlbmRlckRpc3BsYXlPYmplY3QoZSl9LGkuQ2FudmFzUmVuZGVyZXIucHJvdG90eXBlLnNldFRleHR1cmVQcmlvcml0eT1mdW5jdGlvbihlKXt9LGkuQ2FudmFzUmVuZGVyZXIucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oZSl7dm9pZCAwPT09ZSYmKGU9ITApLGUmJnRoaXMudmlldy5wYXJlbnQmJnRoaXMudmlldy5wYXJlbnQucmVtb3ZlQ2hpbGQodGhpcy52aWV3KSx0aGlzLnZpZXc9bnVsbCx0aGlzLmNvbnRleHQ9bnVsbCx0aGlzLm1hc2tNYW5hZ2VyPW51bGwsdGhpcy5yZW5kZXJTZXNzaW9uPW51bGx9LGkuQ2FudmFzUmVuZGVyZXIucHJvdG90eXBlLnJlc2l6ZT1mdW5jdGlvbihlLHQpe3RoaXMud2lkdGg9ZSp0aGlzLnJlc29sdXRpb24sdGhpcy5oZWlnaHQ9dCp0aGlzLnJlc29sdXRpb24sdGhpcy52aWV3LndpZHRoPXRoaXMud2lkdGgsdGhpcy52aWV3LmhlaWdodD10aGlzLmhlaWdodCx0aGlzLmF1dG9SZXNpemUmJih0aGlzLnZpZXcuc3R5bGUud2lkdGg9dGhpcy53aWR0aC90aGlzLnJlc29sdXRpb24rXCJweFwiLHRoaXMudmlldy5zdHlsZS5oZWlnaHQ9dGhpcy5oZWlnaHQvdGhpcy5yZXNvbHV0aW9uK1wicHhcIiksdGhpcy5yZW5kZXJTZXNzaW9uLnNtb290aFByb3BlcnR5JiYodGhpcy5jb250ZXh0W3RoaXMucmVuZGVyU2Vzc2lvbi5zbW9vdGhQcm9wZXJ0eV09dGhpcy5yZW5kZXJTZXNzaW9uLnNjYWxlTW9kZT09PWkuc2NhbGVNb2Rlcy5MSU5FQVIpfSxpLkNhbnZhc1JlbmRlcmVyLnByb3RvdHlwZS5yZW5kZXJEaXNwbGF5T2JqZWN0PWZ1bmN0aW9uKGUsdCxyKXt0aGlzLnJlbmRlclNlc3Npb24uY29udGV4dD10fHx0aGlzLmNvbnRleHQsdGhpcy5yZW5kZXJTZXNzaW9uLnJlc29sdXRpb249dGhpcy5yZXNvbHV0aW9uLGUuX3JlbmRlckNhbnZhcyh0aGlzLnJlbmRlclNlc3Npb24scil9LGkuQ2FudmFzUmVuZGVyZXIucHJvdG90eXBlLm1hcEJsZW5kTW9kZXM9ZnVuY3Rpb24oKXtpZighaS5ibGVuZE1vZGVzQ2FudmFzKXt2YXIgZT1bXSx0PWkuYmxlbmRNb2RlcyxyPXRoaXMuZ2FtZS5kZXZpY2UuY2FuVXNlTXVsdGlwbHk7ZVt0Lk5PUk1BTF09XCJzb3VyY2Utb3ZlclwiLGVbdC5BRERdPVwibGlnaHRlclwiLGVbdC5NVUxUSVBMWV09cj9cIm11bHRpcGx5XCI6XCJzb3VyY2Utb3ZlclwiLGVbdC5TQ1JFRU5dPXI/XCJzY3JlZW5cIjpcInNvdXJjZS1vdmVyXCIsZVt0Lk9WRVJMQVldPXI/XCJvdmVybGF5XCI6XCJzb3VyY2Utb3ZlclwiLGVbdC5EQVJLRU5dPXI/XCJkYXJrZW5cIjpcInNvdXJjZS1vdmVyXCIsZVt0LkxJR0hURU5dPXI/XCJsaWdodGVuXCI6XCJzb3VyY2Utb3ZlclwiLGVbdC5DT0xPUl9ET0RHRV09cj9cImNvbG9yLWRvZGdlXCI6XCJzb3VyY2Utb3ZlclwiLGVbdC5DT0xPUl9CVVJOXT1yP1wiY29sb3ItYnVyblwiOlwic291cmNlLW92ZXJcIixlW3QuSEFSRF9MSUdIVF09cj9cImhhcmQtbGlnaHRcIjpcInNvdXJjZS1vdmVyXCIsZVt0LlNPRlRfTElHSFRdPXI/XCJzb2Z0LWxpZ2h0XCI6XCJzb3VyY2Utb3ZlclwiLGVbdC5ESUZGRVJFTkNFXT1yP1wiZGlmZmVyZW5jZVwiOlwic291cmNlLW92ZXJcIixlW3QuRVhDTFVTSU9OXT1yP1wiZXhjbHVzaW9uXCI6XCJzb3VyY2Utb3ZlclwiLGVbdC5IVUVdPXI/XCJodWVcIjpcInNvdXJjZS1vdmVyXCIsZVt0LlNBVFVSQVRJT05dPXI/XCJzYXR1cmF0aW9uXCI6XCJzb3VyY2Utb3ZlclwiLGVbdC5DT0xPUl09cj9cImNvbG9yXCI6XCJzb3VyY2Utb3ZlclwiLGVbdC5MVU1JTk9TSVRZXT1yP1wibHVtaW5vc2l0eVwiOlwic291cmNlLW92ZXJcIixpLmJsZW5kTW9kZXNDYW52YXM9ZX19LGkuQmFzZVRleHR1cmU9ZnVuY3Rpb24oZSx0LHIpe3RoaXMucmVzb2x1dGlvbj1yfHwxLHRoaXMud2lkdGg9MTAwLHRoaXMuaGVpZ2h0PTEwMCx0aGlzLnNjYWxlTW9kZT10fHxpLnNjYWxlTW9kZXMuREVGQVVMVCx0aGlzLmhhc0xvYWRlZD0hMSx0aGlzLnNvdXJjZT1lLHRoaXMucHJlbXVsdGlwbGllZEFscGhhPSEwLHRoaXMuX2dsVGV4dHVyZXM9W10sdGhpcy5taXBtYXA9ITEsdGhpcy50ZXh0dXJlSW5kZXg9MCx0aGlzLl9kaXJ0eT1bITAsITAsITAsITBdLGUmJigodGhpcy5zb3VyY2UuY29tcGxldGV8fHRoaXMuc291cmNlLmdldENvbnRleHQpJiZ0aGlzLnNvdXJjZS53aWR0aCYmdGhpcy5zb3VyY2UuaGVpZ2h0JiYodGhpcy5oYXNMb2FkZWQ9ITAsdGhpcy53aWR0aD10aGlzLnNvdXJjZS5uYXR1cmFsV2lkdGh8fHRoaXMuc291cmNlLndpZHRoLHRoaXMuaGVpZ2h0PXRoaXMuc291cmNlLm5hdHVyYWxIZWlnaHR8fHRoaXMuc291cmNlLmhlaWdodCx0aGlzLmRpcnR5KCkpLHRoaXMuc2tpcFJlbmRlcj0hMSx0aGlzLl9wb3dlck9mMj0hMSl9LGkuQmFzZVRleHR1cmUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWkuQmFzZVRleHR1cmUsaS5CYXNlVGV4dHVyZS5wcm90b3R5cGUuZm9yY2VMb2FkZWQ9ZnVuY3Rpb24oZSx0KXt0aGlzLmhhc0xvYWRlZD0hMCx0aGlzLndpZHRoPWUsdGhpcy5oZWlnaHQ9dCx0aGlzLmRpcnR5KCl9LGkuQmFzZVRleHR1cmUucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLnNvdXJjZSYmUGhhc2VyLkNhbnZhc1Bvb2wucmVtb3ZlQnlDYW52YXModGhpcy5zb3VyY2UpLHRoaXMuc291cmNlPW51bGwsdGhpcy51bmxvYWRGcm9tR1BVKCl9LGkuQmFzZVRleHR1cmUucHJvdG90eXBlLnVwZGF0ZVNvdXJjZUltYWdlPWZ1bmN0aW9uKGUpe2NvbnNvbGUud2FybihcIlBJWEkuQmFzZVRleHR1cmUudXBkYXRlU291cmNlSW1hZ2UgaXMgZGVwcmVjYXRlZC4gVXNlIFBoYXNlci5TcHJpdGUubG9hZFRleHR1cmUgaW5zdGVhZC5cIil9LGkuQmFzZVRleHR1cmUucHJvdG90eXBlLmRpcnR5PWZ1bmN0aW9uKCl7Zm9yKHZhciBlPTA7ZTx0aGlzLl9nbFRleHR1cmVzLmxlbmd0aDtlKyspdGhpcy5fZGlydHlbZV09ITB9LGkuQmFzZVRleHR1cmUucHJvdG90eXBlLnVubG9hZEZyb21HUFU9ZnVuY3Rpb24oKXt0aGlzLmRpcnR5KCk7Zm9yKHZhciBlPXRoaXMuX2dsVGV4dHVyZXMubGVuZ3RoLTE7ZT49MDtlLS0pe3ZhciB0PXRoaXMuX2dsVGV4dHVyZXNbZV0scj1pLmdsQ29udGV4dHNbZV07ciYmdCYmci5kZWxldGVUZXh0dXJlKHQpfXRoaXMuX2dsVGV4dHVyZXMubGVuZ3RoPTAsdGhpcy5kaXJ0eSgpfSxpLkJhc2VUZXh0dXJlLmZyb21DYW52YXM9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiAwPT09ZS53aWR0aCYmKGUud2lkdGg9MSksMD09PWUuaGVpZ2h0JiYoZS5oZWlnaHQ9MSkscj1yfHwxLG5ldyBpLkJhc2VUZXh0dXJlKGUsdCxyKX0saS5UZXh0dXJlU2lsZW50RmFpbD0hMSxpLlRleHR1cmU9ZnVuY3Rpb24oZSx0LHIscyl7dGhpcy5ub0ZyYW1lPSExLHR8fCh0aGlzLm5vRnJhbWU9ITAsdD1uZXcgaS5SZWN0YW5nbGUoMCwwLDEsMSkpLGUgaW5zdGFuY2VvZiBpLlRleHR1cmUmJihlPWUuYmFzZVRleHR1cmUpLHRoaXMuYmFzZVRleHR1cmU9ZSx0aGlzLmZyYW1lPXQsdGhpcy50cmltPXMsdGhpcy52YWxpZD0hMSx0aGlzLmlzVGlsaW5nPSExLHRoaXMucmVxdWlyZXNVcGRhdGU9ITEsdGhpcy5yZXF1aXJlc1JlVGludD0hMSx0aGlzLl91dnM9bnVsbCx0aGlzLndpZHRoPTAsdGhpcy5oZWlnaHQ9MCx0aGlzLmNyb3A9cnx8bmV3IGkuUmVjdGFuZ2xlKDAsMCwxLDEpLHRoaXMucm90YXRlZD0hMSxlLmhhc0xvYWRlZCYmKHRoaXMubm9GcmFtZSYmKHQ9bmV3IGkuUmVjdGFuZ2xlKDAsMCxlLndpZHRoLGUuaGVpZ2h0KSksdGhpcy5zZXRGcmFtZSh0KSl9LGkuVGV4dHVyZS5wcm90b3R5cGUuY29uc3RydWN0b3I9aS5UZXh0dXJlLGkuVGV4dHVyZS5wcm90b3R5cGUub25CYXNlVGV4dHVyZUxvYWRlZD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuYmFzZVRleHR1cmU7dGhpcy5ub0ZyYW1lJiYodGhpcy5mcmFtZT1uZXcgaS5SZWN0YW5nbGUoMCwwLGUud2lkdGgsZS5oZWlnaHQpKSx0aGlzLnNldEZyYW1lKHRoaXMuZnJhbWUpfSxpLlRleHR1cmUucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oZSl7ZSYmdGhpcy5iYXNlVGV4dHVyZS5kZXN0cm95KCksdGhpcy52YWxpZD0hMX0saS5UZXh0dXJlLnByb3RvdHlwZS5zZXRGcmFtZT1mdW5jdGlvbihlKXtpZih0aGlzLm5vRnJhbWU9ITEsdGhpcy5mcmFtZT1lLHRoaXMud2lkdGg9ZS53aWR0aCx0aGlzLmhlaWdodD1lLmhlaWdodCx0aGlzLmNyb3AueD1lLngsdGhpcy5jcm9wLnk9ZS55LHRoaXMuY3JvcC53aWR0aD1lLndpZHRoLHRoaXMuY3JvcC5oZWlnaHQ9ZS5oZWlnaHQsdGhpcy50cmltfHwhKGUueCtlLndpZHRoPnRoaXMuYmFzZVRleHR1cmUud2lkdGh8fGUueStlLmhlaWdodD50aGlzLmJhc2VUZXh0dXJlLmhlaWdodCkpdGhpcy52YWxpZD1lJiZlLndpZHRoJiZlLmhlaWdodCYmdGhpcy5iYXNlVGV4dHVyZS5zb3VyY2UmJnRoaXMuYmFzZVRleHR1cmUuaGFzTG9hZGVkLHRoaXMudHJpbSYmKHRoaXMud2lkdGg9dGhpcy50cmltLndpZHRoLHRoaXMuaGVpZ2h0PXRoaXMudHJpbS5oZWlnaHQsdGhpcy5mcmFtZS53aWR0aD10aGlzLnRyaW0ud2lkdGgsdGhpcy5mcmFtZS5oZWlnaHQ9dGhpcy50cmltLmhlaWdodCksdGhpcy52YWxpZCYmdGhpcy5fdXBkYXRlVXZzKCk7ZWxzZXtpZighaS5UZXh0dXJlU2lsZW50RmFpbCl0aHJvdyBuZXcgRXJyb3IoXCJUZXh0dXJlIEVycm9yOiBmcmFtZSBkb2VzIG5vdCBmaXQgaW5zaWRlIHRoZSBiYXNlIFRleHR1cmUgZGltZW5zaW9ucyBcIit0aGlzKTt0aGlzLnZhbGlkPSExfX0saS5UZXh0dXJlLnByb3RvdHlwZS5fdXBkYXRlVXZzPWZ1bmN0aW9uKCl7dGhpcy5fdXZzfHwodGhpcy5fdXZzPW5ldyBpLlRleHR1cmVVdnMpO3ZhciBlPXRoaXMuY3JvcCx0PXRoaXMuYmFzZVRleHR1cmUud2lkdGgscj10aGlzLmJhc2VUZXh0dXJlLmhlaWdodDt0aGlzLl91dnMueDA9ZS54L3QsdGhpcy5fdXZzLnkwPWUueS9yLHRoaXMuX3V2cy54MT0oZS54K2Uud2lkdGgpL3QsdGhpcy5fdXZzLnkxPWUueS9yLHRoaXMuX3V2cy54Mj0oZS54K2Uud2lkdGgpL3QsdGhpcy5fdXZzLnkyPShlLnkrZS5oZWlnaHQpL3IsdGhpcy5fdXZzLngzPWUueC90LHRoaXMuX3V2cy55Mz0oZS55K2UuaGVpZ2h0KS9yfSxpLlRleHR1cmUucHJvdG90eXBlLl91cGRhdGVVdnNJbnZlcnRlZD1mdW5jdGlvbigpe3RoaXMuX3V2c3x8KHRoaXMuX3V2cz1uZXcgaS5UZXh0dXJlVXZzKTt2YXIgZT10aGlzLmNyb3AsdD10aGlzLmJhc2VUZXh0dXJlLndpZHRoLHI9dGhpcy5iYXNlVGV4dHVyZS5oZWlnaHQ7dGhpcy5fdXZzLngwPWUueC90LHRoaXMuX3V2cy55MD1lLnkvcix0aGlzLl91dnMueDE9KGUueCtlLmhlaWdodCkvdCx0aGlzLl91dnMueTE9ZS55L3IsdGhpcy5fdXZzLngyPShlLngrZS5oZWlnaHQpL3QsdGhpcy5fdXZzLnkyPShlLnkrZS53aWR0aCkvcix0aGlzLl91dnMueDM9ZS54L3QsdGhpcy5fdXZzLnkzPShlLnkrZS53aWR0aCkvcn0saS5UZXh0dXJlLmZyb21DYW52YXM9ZnVuY3Rpb24oZSx0KXt2YXIgcj1pLkJhc2VUZXh0dXJlLmZyb21DYW52YXMoZSx0KTtyZXR1cm4gbmV3IGkuVGV4dHVyZShyKX0saS5UZXh0dXJlVXZzPWZ1bmN0aW9uKCl7dGhpcy54MD0wLHRoaXMueTA9MCx0aGlzLngxPTAsdGhpcy55MT0wLHRoaXMueDI9MCx0aGlzLnkyPTAsdGhpcy54Mz0wLHRoaXMueTM9MH0sXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGV4cG9ydHM/KFwidW5kZWZpbmVkXCIhPXR5cGVvZiBtb2R1bGUmJm1vZHVsZS5leHBvcnRzJiYoZXhwb3J0cz1tb2R1bGUuZXhwb3J0cz1pKSxleHBvcnRzLlBJWEk9aSk6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoXCJQSVhJXCIsci5QSVhJPWkpOnIuUElYST1pLGl9KS5jYWxsKHRoaXMpO1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1waXhpLm1hcFxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3BoYXNlci1jZS9idWlsZC9jdXN0b20vcGl4aS5taW4uanNcbi8vIG1vZHVsZSBpZCA9IDlcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLyogUGhhc2VyIHYyLjkuNCBQMi5KUyBCdWlsZCAtIGh0dHA6Ly9waGFzZXIuaW8gLSBAcGhvdG9uc3Rvcm0gLSAoYykgMjAxNiBQaG90b24gU3Rvcm0gTHRkLiAqL1xyXG5cclxuIWZ1bmN0aW9uKHQpe2lmKFwib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzKW1vZHVsZS5leHBvcnRzPXQoKTtlbHNle3ZhciBlO1widW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/ZT13aW5kb3c6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGdsb2JhbD9lPWdsb2JhbDpcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZiYmKGU9c2VsZiksZS5wMj10KCl9fShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbiB0KGUsbyxpKXtmdW5jdGlvbiBuKGEscil7aWYoIW9bYV0pe2lmKCFlW2FdKXt2YXIgYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFyJiZjKXJldHVybiBjKGEsITApO2lmKHMpcmV0dXJuIHMoYSwhMCk7dGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIithK1wiJ1wiKX12YXIgaD1vW2FdPXtleHBvcnRzOnt9fTtlW2FdWzBdLmNhbGwoaC5leHBvcnRzLGZ1bmN0aW9uKHQpe3ZhciBvPWVbYV1bMV1bdF07cmV0dXJuIG4ob3x8dCl9LGgsaC5leHBvcnRzLHQsZSxvLGkpfXJldHVybiBvW2FdLmV4cG9ydHN9Zm9yKHZhciBzPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUsYT0wO2E8aS5sZW5ndGg7YSsrKW4oaVthXSk7cmV0dXJuIG59KHsxOltmdW5jdGlvbih0LGUsbyl7ZnVuY3Rpb24gaSgpe312YXIgbj10KFwiLi9TY2FsYXJcIik7ZS5leHBvcnRzPWksaS5saW5lSW50PWZ1bmN0aW9uKHQsZSxvKXtvPW98fDA7dmFyIGkscyxhLHIsYyxoLGwscD1bMCwwXTtyZXR1cm4gaT10WzFdWzFdLXRbMF1bMV0scz10WzBdWzBdLXRbMV1bMF0sYT1pKnRbMF1bMF0rcyp0WzBdWzFdLHI9ZVsxXVsxXS1lWzBdWzFdLGM9ZVswXVswXS1lWzFdWzBdLGg9ciplWzBdWzBdK2MqZVswXVsxXSxsPWkqYy1yKnMsbi5lcShsLDAsbyl8fChwWzBdPShjKmEtcypoKS9sLHBbMV09KGkqaC1yKmEpL2wpLHB9LGkuc2VnbWVudHNJbnRlcnNlY3Q9ZnVuY3Rpb24odCxlLG8saSl7dmFyIG49ZVswXS10WzBdLHM9ZVsxXS10WzFdLGE9aVswXS1vWzBdLHI9aVsxXS1vWzFdO2lmKGEqcy1yKm49PTApcmV0dXJuITE7dmFyIGM9KG4qKG9bMV0tdFsxXSkrcyoodFswXS1vWzBdKSkvKGEqcy1yKm4pLGg9KGEqKHRbMV0tb1sxXSkrcioob1swXS10WzBdKSkvKHIqbi1hKnMpO3JldHVybiBjPj0wJiZjPD0xJiZoPj0wJiZoPD0xfX0se1wiLi9TY2FsYXJcIjo0fV0sMjpbZnVuY3Rpb24odCxlLG8pe2Z1bmN0aW9uIGkoKXt9ZS5leHBvcnRzPWksaS5hcmVhPWZ1bmN0aW9uKHQsZSxvKXtyZXR1cm4oZVswXS10WzBdKSoob1sxXS10WzFdKS0ob1swXS10WzBdKSooZVsxXS10WzFdKX0saS5sZWZ0PWZ1bmN0aW9uKHQsZSxvKXtyZXR1cm4gaS5hcmVhKHQsZSxvKT4wfSxpLmxlZnRPbj1mdW5jdGlvbih0LGUsbyl7cmV0dXJuIGkuYXJlYSh0LGUsbyk+PTB9LGkucmlnaHQ9ZnVuY3Rpb24odCxlLG8pe3JldHVybiBpLmFyZWEodCxlLG8pPDB9LGkucmlnaHRPbj1mdW5jdGlvbih0LGUsbyl7cmV0dXJuIGkuYXJlYSh0LGUsbyk8PTB9O3ZhciBuPVtdLHM9W107aS5jb2xsaW5lYXI9ZnVuY3Rpb24odCxlLG8sYSl7aWYoYSl7dmFyIHI9bixjPXM7clswXT1lWzBdLXRbMF0sclsxXT1lWzFdLXRbMV0sY1swXT1vWzBdLWVbMF0sY1sxXT1vWzFdLWVbMV07dmFyIGg9clswXSpjWzBdK3JbMV0qY1sxXSxsPU1hdGguc3FydChyWzBdKnJbMF0rclsxXSpyWzFdKSxwPU1hdGguc3FydChjWzBdKmNbMF0rY1sxXSpjWzFdKTtyZXR1cm4gTWF0aC5hY29zKGgvKGwqcCkpPGF9cmV0dXJuIDA9PWkuYXJlYSh0LGUsbyl9LGkuc3FkaXN0PWZ1bmN0aW9uKHQsZSl7dmFyIG89ZVswXS10WzBdLGk9ZVsxXS10WzFdO3JldHVybiBvKm8raSppfX0se31dLDM6W2Z1bmN0aW9uKHQsZSxvKXtmdW5jdGlvbiBpKCl7dGhpcy52ZXJ0aWNlcz1bXX1mdW5jdGlvbiBuKHQsZSxvLGksbil7bj1ufHwwO3ZhciBzPWVbMV0tdFsxXSxhPXRbMF0tZVswXSxjPXMqdFswXSthKnRbMV0saD1pWzFdLW9bMV0sbD1vWzBdLWlbMF0scD1oKm9bMF0rbCpvWzFdLHU9cypsLWgqYTtyZXR1cm4gci5lcSh1LDAsbik/WzAsMF06WyhsKmMtYSpwKS91LChzKnAtaCpjKS91XX12YXIgcz10KFwiLi9MaW5lXCIpLGE9dChcIi4vUG9pbnRcIikscj10KFwiLi9TY2FsYXJcIik7ZS5leHBvcnRzPWksaS5wcm90b3R5cGUuYXQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy52ZXJ0aWNlcyxvPWUubGVuZ3RoO3JldHVybiBlW3Q8MD90JW8rbzp0JW9dfSxpLnByb3RvdHlwZS5maXJzdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnZlcnRpY2VzWzBdfSxpLnByb3RvdHlwZS5sYXN0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudmVydGljZXNbdGhpcy52ZXJ0aWNlcy5sZW5ndGgtMV19LGkucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7dGhpcy52ZXJ0aWNlcy5sZW5ndGg9MH0saS5wcm90b3R5cGUuYXBwZW5kPWZ1bmN0aW9uKHQsZSxvKXtpZih2b2lkIDA9PT1lKXRocm93IG5ldyBFcnJvcihcIkZyb20gaXMgbm90IGdpdmVuIVwiKTtpZih2b2lkIDA9PT1vKXRocm93IG5ldyBFcnJvcihcIlRvIGlzIG5vdCBnaXZlbiFcIik7aWYoby0xPGUpdGhyb3cgbmV3IEVycm9yKFwibG9sMVwiKTtpZihvPnQudmVydGljZXMubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcImxvbDJcIik7aWYoZTwwKXRocm93IG5ldyBFcnJvcihcImxvbDNcIik7Zm9yKHZhciBpPWU7aTxvO2krKyl0aGlzLnZlcnRpY2VzLnB1c2godC52ZXJ0aWNlc1tpXSl9LGkucHJvdG90eXBlLm1ha2VDQ1c9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9MCxlPXRoaXMudmVydGljZXMsbz0xO288dGhpcy52ZXJ0aWNlcy5sZW5ndGg7KytvKShlW29dWzFdPGVbdF1bMV18fGVbb11bMV09PWVbdF1bMV0mJmVbb11bMF0+ZVt0XVswXSkmJih0PW8pO2EubGVmdCh0aGlzLmF0KHQtMSksdGhpcy5hdCh0KSx0aGlzLmF0KHQrMSkpfHx0aGlzLnJldmVyc2UoKX0saS5wcm90b3R5cGUucmV2ZXJzZT1mdW5jdGlvbigpe2Zvcih2YXIgdD1bXSxlPTAsbz10aGlzLnZlcnRpY2VzLmxlbmd0aDtlIT09bztlKyspdC5wdXNoKHRoaXMudmVydGljZXMucG9wKCkpO3RoaXMudmVydGljZXM9dH0saS5wcm90b3R5cGUuaXNSZWZsZXg9ZnVuY3Rpb24odCl7cmV0dXJuIGEucmlnaHQodGhpcy5hdCh0LTEpLHRoaXMuYXQodCksdGhpcy5hdCh0KzEpKX07dmFyIGM9W10saD1bXTtpLnByb3RvdHlwZS5jYW5TZWU9ZnVuY3Rpb24odCxlKXt2YXIgbyxpLG49YyxyPWg7aWYoYS5sZWZ0T24odGhpcy5hdCh0KzEpLHRoaXMuYXQodCksdGhpcy5hdChlKSkmJmEucmlnaHRPbih0aGlzLmF0KHQtMSksdGhpcy5hdCh0KSx0aGlzLmF0KGUpKSlyZXR1cm4hMTtpPWEuc3FkaXN0KHRoaXMuYXQodCksdGhpcy5hdChlKSk7Zm9yKHZhciBsPTA7bCE9PXRoaXMudmVydGljZXMubGVuZ3RoOysrbClpZigobCsxKSV0aGlzLnZlcnRpY2VzLmxlbmd0aCE9PXQmJmwhPT10JiZhLmxlZnRPbih0aGlzLmF0KHQpLHRoaXMuYXQoZSksdGhpcy5hdChsKzEpKSYmYS5yaWdodE9uKHRoaXMuYXQodCksdGhpcy5hdChlKSx0aGlzLmF0KGwpKSYmKG5bMF09dGhpcy5hdCh0KSxuWzFdPXRoaXMuYXQoZSksclswXT10aGlzLmF0KGwpLHJbMV09dGhpcy5hdChsKzEpLG89cy5saW5lSW50KG4sciksYS5zcWRpc3QodGhpcy5hdCh0KSxvKTxpKSlyZXR1cm4hMTtyZXR1cm4hMH0saS5wcm90b3R5cGUuY29weT1mdW5jdGlvbih0LGUsbyl7dmFyIG49b3x8bmV3IGk7aWYobi5jbGVhcigpLHQ8ZSlmb3Iocz10O3M8PWU7cysrKW4udmVydGljZXMucHVzaCh0aGlzLnZlcnRpY2VzW3NdKTtlbHNle2ZvcihzPTA7czw9ZTtzKyspbi52ZXJ0aWNlcy5wdXNoKHRoaXMudmVydGljZXNbc10pO2Zvcih2YXIgcz10O3M8dGhpcy52ZXJ0aWNlcy5sZW5ndGg7cysrKW4udmVydGljZXMucHVzaCh0aGlzLnZlcnRpY2VzW3NdKX1yZXR1cm4gbn0saS5wcm90b3R5cGUuZ2V0Q3V0RWRnZXM9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9W10sZT1bXSxvPVtdLG49bmV3IGkscz1OdW1iZXIuTUFYX1ZBTFVFLGE9MDthPHRoaXMudmVydGljZXMubGVuZ3RoOysrYSlpZih0aGlzLmlzUmVmbGV4KGEpKWZvcih2YXIgcj0wO3I8dGhpcy52ZXJ0aWNlcy5sZW5ndGg7KytyKWlmKHRoaXMuY2FuU2VlKGEscikpe2U9dGhpcy5jb3B5KGEscixuKS5nZXRDdXRFZGdlcygpLG89dGhpcy5jb3B5KHIsYSxuKS5nZXRDdXRFZGdlcygpO2Zvcih2YXIgYz0wO2M8by5sZW5ndGg7YysrKWUucHVzaChvW2NdKTtlLmxlbmd0aDxzJiYodD1lLHM9ZS5sZW5ndGgsdC5wdXNoKFt0aGlzLmF0KGEpLHRoaXMuYXQocildKSl9cmV0dXJuIHR9LGkucHJvdG90eXBlLmRlY29tcD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuZ2V0Q3V0RWRnZXMoKTtyZXR1cm4gdC5sZW5ndGg+MD90aGlzLnNsaWNlKHQpOlt0aGlzXX0saS5wcm90b3R5cGUuc2xpY2U9ZnVuY3Rpb24odCl7aWYoMD09dC5sZW5ndGgpcmV0dXJuW3RoaXNdO2lmKHQgaW5zdGFuY2VvZiBBcnJheSYmdC5sZW5ndGgmJnRbMF1pbnN0YW5jZW9mIEFycmF5JiYyPT10WzBdLmxlbmd0aCYmdFswXVswXWluc3RhbmNlb2YgQXJyYXkpe2Zvcih2YXIgZT1bdGhpc10sbz0wO288dC5sZW5ndGg7bysrKWZvcih2YXIgaT10W29dLG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHM9ZVtuXS5zbGljZShpKTtpZihzKXtlLnNwbGljZShuLDEpLGUucHVzaChzWzBdLHNbMV0pO2JyZWFrfX1yZXR1cm4gZX12YXIgaT10LG89dGhpcy52ZXJ0aWNlcy5pbmRleE9mKGlbMF0pLG49dGhpcy52ZXJ0aWNlcy5pbmRleE9mKGlbMV0pO3JldHVybi0xIT1vJiYtMSE9biYmW3RoaXMuY29weShvLG4pLHRoaXMuY29weShuLG8pXX0saS5wcm90b3R5cGUuaXNTaW1wbGU9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy52ZXJ0aWNlcyxlPTA7ZTx0Lmxlbmd0aC0xO2UrKylmb3IodmFyIG89MDtvPGUtMTtvKyspaWYocy5zZWdtZW50c0ludGVyc2VjdCh0W2VdLHRbZSsxXSx0W29dLHRbbysxXSkpcmV0dXJuITE7Zm9yKGU9MTtlPHQubGVuZ3RoLTI7ZSsrKWlmKHMuc2VnbWVudHNJbnRlcnNlY3QodFswXSx0W3QubGVuZ3RoLTFdLHRbZV0sdFtlKzFdKSlyZXR1cm4hMTtyZXR1cm4hMH0saS5wcm90b3R5cGUucXVpY2tEZWNvbXA9ZnVuY3Rpb24odCxlLG8scyxyLGMpe3I9cnx8MTAwLGM9Y3x8MCxzPXN8fDI1LHQ9dm9pZCAwIT09dD90OltdLGU9ZXx8W10sbz1vfHxbXTt2YXIgaD1bMCwwXSxsPVswLDBdLHA9WzAsMF0sdT0wLGQ9MCxmPTAsdj0wLHk9MCxtPTAsZz0wLEE9bmV3IGksYj1uZXcgaSxFPXRoaXMsQj10aGlzLnZlcnRpY2VzO2lmKEIubGVuZ3RoPDMpcmV0dXJuIHQ7aWYoKytjPnIpcmV0dXJuIGNvbnNvbGUud2FybihcInF1aWNrRGVjb21wOiBtYXggbGV2ZWwgKFwiK3IrXCIpIHJlYWNoZWQuXCIpLHQ7Zm9yKHZhciBxPTA7cTx0aGlzLnZlcnRpY2VzLmxlbmd0aDsrK3EpaWYoRS5pc1JlZmxleChxKSl7ZS5wdXNoKEUudmVydGljZXNbcV0pLHU9ZD1OdW1iZXIuTUFYX1ZBTFVFO2ZvcihQPTA7UDx0aGlzLnZlcnRpY2VzLmxlbmd0aDsrK1ApYS5sZWZ0KEUuYXQocS0xKSxFLmF0KHEpLEUuYXQoUCkpJiZhLnJpZ2h0T24oRS5hdChxLTEpLEUuYXQocSksRS5hdChQLTEpKSYmKHA9bihFLmF0KHEtMSksRS5hdChxKSxFLmF0KFApLEUuYXQoUC0xKSksYS5yaWdodChFLmF0KHErMSksRS5hdChxKSxwKSYmKGY9YS5zcWRpc3QoRS52ZXJ0aWNlc1txXSxwKSk8ZCYmKGQ9ZixsPXAsbT1QKSksYS5sZWZ0KEUuYXQocSsxKSxFLmF0KHEpLEUuYXQoUCsxKSkmJmEucmlnaHRPbihFLmF0KHErMSksRS5hdChxKSxFLmF0KFApKSYmKHA9bihFLmF0KHErMSksRS5hdChxKSxFLmF0KFApLEUuYXQoUCsxKSksYS5sZWZ0KEUuYXQocS0xKSxFLmF0KHEpLHApJiYoZj1hLnNxZGlzdChFLnZlcnRpY2VzW3FdLHApKTx1JiYodT1mLGg9cCx5PVApKTtpZihtPT0oeSsxKSV0aGlzLnZlcnRpY2VzLmxlbmd0aClwWzBdPShsWzBdK2hbMF0pLzIscFsxXT0obFsxXStoWzFdKS8yLG8ucHVzaChwKSxxPHk/KEEuYXBwZW5kKEUscSx5KzEpLEEudmVydGljZXMucHVzaChwKSxiLnZlcnRpY2VzLnB1c2gocCksMCE9bSYmYi5hcHBlbmQoRSxtLEUudmVydGljZXMubGVuZ3RoKSxiLmFwcGVuZChFLDAscSsxKSk6KDAhPXEmJkEuYXBwZW5kKEUscSxFLnZlcnRpY2VzLmxlbmd0aCksQS5hcHBlbmQoRSwwLHkrMSksQS52ZXJ0aWNlcy5wdXNoKHApLGIudmVydGljZXMucHVzaChwKSxiLmFwcGVuZChFLG0scSsxKSk7ZWxzZXtpZihtPnkmJih5Kz10aGlzLnZlcnRpY2VzLmxlbmd0aCksdj1OdW1iZXIuTUFYX1ZBTFVFLHk8bSlyZXR1cm4gdDtmb3IodmFyIFA9bTtQPD15OysrUClhLmxlZnRPbihFLmF0KHEtMSksRS5hdChxKSxFLmF0KFApKSYmYS5yaWdodE9uKEUuYXQocSsxKSxFLmF0KHEpLEUuYXQoUCkpJiYoZj1hLnNxZGlzdChFLmF0KHEpLEUuYXQoUCkpKTx2JiYodj1mLGc9UCV0aGlzLnZlcnRpY2VzLmxlbmd0aCk7cTxnPyhBLmFwcGVuZChFLHEsZysxKSwwIT1nJiZiLmFwcGVuZChFLGcsQi5sZW5ndGgpLGIuYXBwZW5kKEUsMCxxKzEpKTooMCE9cSYmQS5hcHBlbmQoRSxxLEIubGVuZ3RoKSxBLmFwcGVuZChFLDAsZysxKSxiLmFwcGVuZChFLGcscSsxKSl9cmV0dXJuIEEudmVydGljZXMubGVuZ3RoPGIudmVydGljZXMubGVuZ3RoPyhBLnF1aWNrRGVjb21wKHQsZSxvLHMscixjKSxiLnF1aWNrRGVjb21wKHQsZSxvLHMscixjKSk6KGIucXVpY2tEZWNvbXAodCxlLG8scyxyLGMpLEEucXVpY2tEZWNvbXAodCxlLG8scyxyLGMpKSx0fXJldHVybiB0LnB1c2godGhpcyksdH0saS5wcm90b3R5cGUucmVtb3ZlQ29sbGluZWFyUG9pbnRzPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wLG89dGhpcy52ZXJ0aWNlcy5sZW5ndGgtMTt0aGlzLnZlcnRpY2VzLmxlbmd0aD4zJiZvPj0wOy0tbylhLmNvbGxpbmVhcih0aGlzLmF0KG8tMSksdGhpcy5hdChvKSx0aGlzLmF0KG8rMSksdCkmJih0aGlzLnZlcnRpY2VzLnNwbGljZShvJXRoaXMudmVydGljZXMubGVuZ3RoLDEpLG8tLSxlKyspO3JldHVybiBlfX0se1wiLi9MaW5lXCI6MSxcIi4vUG9pbnRcIjoyLFwiLi9TY2FsYXJcIjo0fV0sNDpbZnVuY3Rpb24odCxlLG8pe2Z1bmN0aW9uIGkoKXt9ZS5leHBvcnRzPWksaS5lcT1mdW5jdGlvbih0LGUsbyl7cmV0dXJuIG89b3x8MCxNYXRoLmFicyh0LWUpPG99fSx7fV0sNTpbZnVuY3Rpb24odCxlLG8pe2UuZXhwb3J0cz17UG9seWdvbjp0KFwiLi9Qb2x5Z29uXCIpLFBvaW50OnQoXCIuL1BvaW50XCIpfX0se1wiLi9Qb2ludFwiOjIsXCIuL1BvbHlnb25cIjozfV0sNjpbZnVuY3Rpb24odCxlLG8pe2UuZXhwb3J0cz17bmFtZTpcInAyXCIsdmVyc2lvbjpcIjAuNy4xXCIsZGVzY3JpcHRpb246XCJBIEphdmFTY3JpcHQgMkQgcGh5c2ljcyBlbmdpbmUuXCIsYXV0aG9yOlwiU3RlZmFuIEhlZG1hbiA8c2NodGVwcGVAZ21haWwuY29tPiAoaHR0cDovL3N0ZWZmZS5zZSlcIixrZXl3b3JkczpbXCJwMi5qc1wiLFwicDJcIixcInBoeXNpY3NcIixcImVuZ2luZVwiLFwiMmRcIl0sbWFpbjpcIi4vc3JjL3AyLmpzXCIsZW5naW5lczp7bm9kZTpcIipcIn0scmVwb3NpdG9yeTp7dHlwZTpcImdpdFwiLHVybDpcImh0dHBzOi8vZ2l0aHViLmNvbS9zY2h0ZXBwZS9wMi5qcy5naXRcIn0sYnVnczp7dXJsOlwiaHR0cHM6Ly9naXRodWIuY29tL3NjaHRlcHBlL3AyLmpzL2lzc3Vlc1wifSxsaWNlbnNlczpbe3R5cGU6XCJNSVRcIn1dLGRldkRlcGVuZGVuY2llczp7Z3J1bnQ6XCJeMC40LjVcIixcImdydW50LWNvbnRyaWItanNoaW50XCI6XCJeMC4xMS4yXCIsXCJncnVudC1jb250cmliLW5vZGV1bml0XCI6XCJeMC40LjFcIixcImdydW50LWNvbnRyaWItdWdsaWZ5XCI6XCJ+MC40LjBcIixcImdydW50LWNvbnRyaWItd2F0Y2hcIjpcIn4wLjUuMFwiLFwiZ3J1bnQtYnJvd3NlcmlmeVwiOlwifjIuMC4xXCIsXCJncnVudC1jb250cmliLWNvbmNhdFwiOlwiXjAuNC4wXCJ9LGRlcGVuZGVuY2llczp7XCJwb2x5LWRlY29tcFwiOlwiMC4xLjFcIn19fSx7fV0sNzpbZnVuY3Rpb24odCxlLG8pe2Z1bmN0aW9uIGkodCl7dGhpcy5sb3dlckJvdW5kPW4uY3JlYXRlKCksdCYmdC5sb3dlckJvdW5kJiZuLmNvcHkodGhpcy5sb3dlckJvdW5kLHQubG93ZXJCb3VuZCksdGhpcy51cHBlckJvdW5kPW4uY3JlYXRlKCksdCYmdC51cHBlckJvdW5kJiZuLmNvcHkodGhpcy51cHBlckJvdW5kLHQudXBwZXJCb3VuZCl9dmFyIG49dChcIi4uL21hdGgvdmVjMlwiKTt0KFwiLi4vdXRpbHMvVXRpbHNcIik7ZS5leHBvcnRzPWk7dmFyIHM9bi5jcmVhdGUoKTtpLnByb3RvdHlwZS5zZXRGcm9tUG9pbnRzPWZ1bmN0aW9uKHQsZSxvLGkpe3ZhciBhPXRoaXMubG93ZXJCb3VuZCxyPXRoaXMudXBwZXJCb3VuZDtcIm51bWJlclwiIT10eXBlb2YgbyYmKG89MCksMCE9PW8/bi5yb3RhdGUoYSx0WzBdLG8pOm4uY29weShhLHRbMF0pLG4uY29weShyLGEpO2Zvcih2YXIgYz1NYXRoLmNvcyhvKSxoPU1hdGguc2luKG8pLGw9MTtsPHQubGVuZ3RoO2wrKyl7dmFyIHA9dFtsXTtpZigwIT09byl7dmFyIHU9cFswXSxkPXBbMV07c1swXT1jKnUtaCpkLHNbMV09aCp1K2MqZCxwPXN9Zm9yKHZhciBmPTA7ZjwyO2YrKylwW2ZdPnJbZl0mJihyW2ZdPXBbZl0pLHBbZl08YVtmXSYmKGFbZl09cFtmXSl9ZSYmKG4uYWRkKHRoaXMubG93ZXJCb3VuZCx0aGlzLmxvd2VyQm91bmQsZSksbi5hZGQodGhpcy51cHBlckJvdW5kLHRoaXMudXBwZXJCb3VuZCxlKSksaSYmKHRoaXMubG93ZXJCb3VuZFswXS09aSx0aGlzLmxvd2VyQm91bmRbMV0tPWksdGhpcy51cHBlckJvdW5kWzBdKz1pLHRoaXMudXBwZXJCb3VuZFsxXSs9aSl9LGkucHJvdG90eXBlLmNvcHk9ZnVuY3Rpb24odCl7bi5jb3B5KHRoaXMubG93ZXJCb3VuZCx0Lmxvd2VyQm91bmQpLG4uY29weSh0aGlzLnVwcGVyQm91bmQsdC51cHBlckJvdW5kKX0saS5wcm90b3R5cGUuZXh0ZW5kPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0yO2UtLTspe3ZhciBvPXQubG93ZXJCb3VuZFtlXTt0aGlzLmxvd2VyQm91bmRbZV0+byYmKHRoaXMubG93ZXJCb3VuZFtlXT1vKTt2YXIgaT10LnVwcGVyQm91bmRbZV07dGhpcy51cHBlckJvdW5kW2VdPGkmJih0aGlzLnVwcGVyQm91bmRbZV09aSl9fSxpLnByb3RvdHlwZS5vdmVybGFwcz1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmxvd2VyQm91bmQsbz10aGlzLnVwcGVyQm91bmQsaT10Lmxvd2VyQm91bmQsbj10LnVwcGVyQm91bmQ7cmV0dXJuKGlbMF08PW9bMF0mJm9bMF08PW5bMF18fGVbMF08PW5bMF0mJm5bMF08PW9bMF0pJiYoaVsxXTw9b1sxXSYmb1sxXTw9blsxXXx8ZVsxXTw9blsxXSYmblsxXTw9b1sxXSl9LGkucHJvdG90eXBlLmNvbnRhaW5zUG9pbnQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5sb3dlckJvdW5kLG89dGhpcy51cHBlckJvdW5kO3JldHVybiBlWzBdPD10WzBdJiZ0WzBdPD1vWzBdJiZlWzFdPD10WzFdJiZ0WzFdPD1vWzFdfSxpLnByb3RvdHlwZS5vdmVybGFwc1JheT1mdW5jdGlvbih0KXt2YXIgZT0xL3QuZGlyZWN0aW9uWzBdLG89MS90LmRpcmVjdGlvblsxXSxpPSh0aGlzLmxvd2VyQm91bmRbMF0tdC5mcm9tWzBdKSplLG49KHRoaXMudXBwZXJCb3VuZFswXS10LmZyb21bMF0pKmUscz0odGhpcy5sb3dlckJvdW5kWzFdLXQuZnJvbVsxXSkqbyxhPSh0aGlzLnVwcGVyQm91bmRbMV0tdC5mcm9tWzFdKSpvLHI9TWF0aC5tYXgoTWF0aC5tYXgoTWF0aC5taW4oaSxuKSxNYXRoLm1pbihzLGEpKSksYz1NYXRoLm1pbihNYXRoLm1pbihNYXRoLm1heChpLG4pLE1hdGgubWF4KHMsYSkpKTtyZXR1cm4gYzwwPy0xOnI+Yz8tMTpyfX0se1wiLi4vbWF0aC92ZWMyXCI6MzAsXCIuLi91dGlscy9VdGlsc1wiOjU3fV0sODpbZnVuY3Rpb24odCxlLG8pe2Z1bmN0aW9uIGkodCl7dGhpcy50eXBlPXQsdGhpcy5yZXN1bHQ9W10sdGhpcy53b3JsZD1udWxsLHRoaXMuYm91bmRpbmdWb2x1bWVUeXBlPWkuQUFCQn12YXIgbj10KFwiLi4vbWF0aC92ZWMyXCIpLHM9dChcIi4uL29iamVjdHMvQm9keVwiKTtlLmV4cG9ydHM9aSxpLkFBQkI9MSxpLkJPVU5ESU5HX0NJUkNMRT0yLGkucHJvdG90eXBlLnNldFdvcmxkPWZ1bmN0aW9uKHQpe3RoaXMud29ybGQ9dH0saS5wcm90b3R5cGUuZ2V0Q29sbGlzaW9uUGFpcnM9ZnVuY3Rpb24odCl7fTt2YXIgYT1uLmNyZWF0ZSgpO2kuYm91bmRpbmdSYWRpdXNDaGVjaz1mdW5jdGlvbih0LGUpe24uc3ViKGEsdC5wb3NpdGlvbixlLnBvc2l0aW9uKTt2YXIgbz1uLnNxdWFyZWRMZW5ndGgoYSksaT10LmJvdW5kaW5nUmFkaXVzK2UuYm91bmRpbmdSYWRpdXM7cmV0dXJuIG88PWkqaX0saS5hYWJiQ2hlY2s9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5nZXRBQUJCKCkub3ZlcmxhcHMoZS5nZXRBQUJCKCkpfSxpLnByb3RvdHlwZS5ib3VuZGluZ1ZvbHVtZUNoZWNrPWZ1bmN0aW9uKHQsZSl7dmFyIG87c3dpdGNoKHRoaXMuYm91bmRpbmdWb2x1bWVUeXBlKXtjYXNlIGkuQk9VTkRJTkdfQ0lSQ0xFOm89aS5ib3VuZGluZ1JhZGl1c0NoZWNrKHQsZSk7YnJlYWs7Y2FzZSBpLkFBQkI6bz1pLmFhYmJDaGVjayh0LGUpO2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKFwiQm91bmRpbmcgdm9sdW1lIHR5cGUgbm90IHJlY29nbml6ZWQ6IFwiK3RoaXMuYm91bmRpbmdWb2x1bWVUeXBlKX1yZXR1cm4gb30saS5jYW5Db2xsaWRlPWZ1bmN0aW9uKHQsZSl7dmFyIG89cy5LSU5FTUFUSUMsaT1zLlNUQVRJQztyZXR1cm4odC50eXBlIT09aXx8ZS50eXBlIT09aSkmJighKHQudHlwZT09PW8mJmUudHlwZT09PWl8fHQudHlwZT09PWkmJmUudHlwZT09PW8pJiYoKHQudHlwZSE9PW98fGUudHlwZSE9PW8pJiYoKHQuc2xlZXBTdGF0ZSE9PXMuU0xFRVBJTkd8fGUuc2xlZXBTdGF0ZSE9PXMuU0xFRVBJTkcpJiYhKHQuc2xlZXBTdGF0ZT09PXMuU0xFRVBJTkcmJmUudHlwZT09PWl8fGUuc2xlZXBTdGF0ZT09PXMuU0xFRVBJTkcmJnQudHlwZT09PWkpKSkpfSxpLk5BSVZFPTEsaS5TQVA9Mn0se1wiLi4vbWF0aC92ZWMyXCI6MzAsXCIuLi9vYmplY3RzL0JvZHlcIjozMX1dLDk6W2Z1bmN0aW9uKHQsZSxvKXtmdW5jdGlvbiBpKCl7bi5jYWxsKHRoaXMsbi5OQUlWRSl9dChcIi4uL3NoYXBlcy9DaXJjbGVcIiksdChcIi4uL3NoYXBlcy9QbGFuZVwiKSx0KFwiLi4vc2hhcGVzL1NoYXBlXCIpLHQoXCIuLi9zaGFwZXMvUGFydGljbGVcIik7dmFyIG49dChcIi4uL2NvbGxpc2lvbi9Ccm9hZHBoYXNlXCIpO3QoXCIuLi9tYXRoL3ZlYzJcIik7ZS5leHBvcnRzPWksKGkucHJvdG90eXBlPW5ldyBuKS5jb25zdHJ1Y3Rvcj1pLGkucHJvdG90eXBlLmdldENvbGxpc2lvblBhaXJzPWZ1bmN0aW9uKHQpe3ZhciBlPXQuYm9kaWVzLG89dGhpcy5yZXN1bHQ7by5sZW5ndGg9MDtmb3IodmFyIGk9MCxzPWUubGVuZ3RoO2khPT1zO2krKylmb3IodmFyIGE9ZVtpXSxyPTA7cjxpO3IrKyl7dmFyIGM9ZVtyXTtuLmNhbkNvbGxpZGUoYSxjKSYmdGhpcy5ib3VuZGluZ1ZvbHVtZUNoZWNrKGEsYykmJm8ucHVzaChhLGMpfXJldHVybiBvfSxpLnByb3RvdHlwZS5hYWJiUXVlcnk9ZnVuY3Rpb24odCxlLG8pe289b3x8W107Zm9yKHZhciBpPXQuYm9kaWVzLG49MDtuPGkubGVuZ3RoO24rKyl7dmFyIHM9aVtuXTtzLmFhYmJOZWVkc1VwZGF0ZSYmcy51cGRhdGVBQUJCKCkscy5hYWJiLm92ZXJsYXBzKGUpJiZvLnB1c2gocyl9cmV0dXJuIG99fSx7XCIuLi9jb2xsaXNpb24vQnJvYWRwaGFzZVwiOjgsXCIuLi9tYXRoL3ZlYzJcIjozMCxcIi4uL3NoYXBlcy9DaXJjbGVcIjozOSxcIi4uL3NoYXBlcy9QYXJ0aWNsZVwiOjQzLFwiLi4vc2hhcGVzL1BsYW5lXCI6NDQsXCIuLi9zaGFwZXMvU2hhcGVcIjo0NX1dLDEwOltmdW5jdGlvbih0LGUsbyl7ZnVuY3Rpb24gaSgpe3RoaXMuY29udGFjdEVxdWF0aW9ucz1bXSx0aGlzLmZyaWN0aW9uRXF1YXRpb25zPVtdLHRoaXMuZW5hYmxlRnJpY3Rpb249ITAsdGhpcy5lbmFibGVkRXF1YXRpb25zPSEwLHRoaXMuc2xpcEZvcmNlPTEwLHRoaXMuZnJpY3Rpb25Db2VmZmljaWVudD0uMyx0aGlzLnN1cmZhY2VWZWxvY2l0eT0wLHRoaXMuY29udGFjdEVxdWF0aW9uUG9vbD1uZXcgbCh7c2l6ZTozMn0pLHRoaXMuZnJpY3Rpb25FcXVhdGlvblBvb2w9bmV3IHAoe3NpemU6NjR9KSx0aGlzLnJlc3RpdHV0aW9uPTAsdGhpcy5zdGlmZm5lc3M9ZC5ERUZBVUxUX1NUSUZGTkVTUyx0aGlzLnJlbGF4YXRpb249ZC5ERUZBVUxUX1JFTEFYQVRJT04sdGhpcy5mcmljdGlvblN0aWZmbmVzcz1kLkRFRkFVTFRfU1RJRkZORVNTLHRoaXMuZnJpY3Rpb25SZWxheGF0aW9uPWQuREVGQVVMVF9SRUxBWEFUSU9OLHRoaXMuZW5hYmxlRnJpY3Rpb25SZWR1Y3Rpb249ITAsdGhpcy5jb2xsaWRpbmdCb2RpZXNMYXN0U3RlcD1uZXcgdSx0aGlzLmNvbnRhY3RTa2luU2l6ZT0uMDF9ZnVuY3Rpb24gbih0LGUpe2Euc2V0KHQudmVydGljZXNbMF0sLjUqLWUubGVuZ3RoLC1lLnJhZGl1cyksYS5zZXQodC52ZXJ0aWNlc1sxXSwuNSplLmxlbmd0aCwtZS5yYWRpdXMpLGEuc2V0KHQudmVydGljZXNbMl0sLjUqZS5sZW5ndGgsZS5yYWRpdXMpLGEuc2V0KHQudmVydGljZXNbM10sLjUqLWUubGVuZ3RoLGUucmFkaXVzKX1mdW5jdGlvbiBzKHQsZSxvLGkpe2Zvcih2YXIgbj1YLHM9eixoPVksbD1LLHA9dCx1PWUudmVydGljZXMsZD1udWxsLGY9MDtmIT09dS5sZW5ndGgrMTtmKyspe3ZhciB2PXVbZiV1Lmxlbmd0aF0seT11WyhmKzEpJXUubGVuZ3RoXTthLnJvdGF0ZShuLHYsaSksYS5yb3RhdGUocyx5LGkpLGMobixuLG8pLGMocyxzLG8pLHIoaCxuLHApLHIobCxzLHApO3ZhciBtPWEuY3Jvc3NMZW5ndGgoaCxsKTtpZihudWxsPT09ZCYmKGQ9bSksbSpkPD0wKXJldHVybiExO2Q9bX1yZXR1cm4hMH12YXIgYT10KFwiLi4vbWF0aC92ZWMyXCIpLHI9YS5zdWIsYz1hLmFkZCxoPWEuZG90LGw9KHQoXCIuLi91dGlscy9VdGlsc1wiKSx0KFwiLi4vdXRpbHMvQ29udGFjdEVxdWF0aW9uUG9vbFwiKSkscD10KFwiLi4vdXRpbHMvRnJpY3Rpb25FcXVhdGlvblBvb2xcIiksdT10KFwiLi4vdXRpbHMvVHVwbGVEaWN0aW9uYXJ5XCIpLGQ9dChcIi4uL2VxdWF0aW9ucy9FcXVhdGlvblwiKSxmPSh0KFwiLi4vZXF1YXRpb25zL0NvbnRhY3RFcXVhdGlvblwiKSx0KFwiLi4vZXF1YXRpb25zL0ZyaWN0aW9uRXF1YXRpb25cIiksdChcIi4uL3NoYXBlcy9DaXJjbGVcIikpLHY9dChcIi4uL3NoYXBlcy9Db252ZXhcIikseT10KFwiLi4vc2hhcGVzL1NoYXBlXCIpLG09KHQoXCIuLi9vYmplY3RzL0JvZHlcIiksdChcIi4uL3NoYXBlcy9Cb3hcIikpO2UuZXhwb3J0cz1pO3ZhciBnPWEuZnJvbVZhbHVlcygwLDEpLEE9YS5mcm9tVmFsdWVzKDAsMCksYj1hLmZyb21WYWx1ZXMoMCwwKSxFPWEuZnJvbVZhbHVlcygwLDApLEI9YS5mcm9tVmFsdWVzKDAsMCkscT1hLmZyb21WYWx1ZXMoMCwwKSxQPWEuZnJvbVZhbHVlcygwLDApLHc9YS5mcm9tVmFsdWVzKDAsMCksUz1hLmZyb21WYWx1ZXMoMCwwKSxDPWEuZnJvbVZhbHVlcygwLDApLEw9YS5mcm9tVmFsdWVzKDAsMCkseD1hLmZyb21WYWx1ZXMoMCwwKSxGPWEuZnJvbVZhbHVlcygwLDApLE09YS5mcm9tVmFsdWVzKDAsMCksST1hLmZyb21WYWx1ZXMoMCwwKSxSPWEuZnJvbVZhbHVlcygwLDApLFY9YS5mcm9tVmFsdWVzKDAsMCksVD1hLmZyb21WYWx1ZXMoMCwwKSxOPWEuZnJvbVZhbHVlcygwLDApLEc9W10sTz1hLmNyZWF0ZSgpLFU9YS5jcmVhdGUoKTtpLnByb3RvdHlwZS5ib2RpZXNPdmVybGFwPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBvPU8saT1VLG49MCxzPXQuc2hhcGVzLmxlbmd0aDtuIT09cztuKyspe3ZhciBhPXQuc2hhcGVzW25dO3QudG9Xb3JsZEZyYW1lKG8sYS5wb3NpdGlvbik7Zm9yKHZhciByPTAsYz1lLnNoYXBlcy5sZW5ndGg7ciE9PWM7cisrKXt2YXIgaD1lLnNoYXBlc1tyXTtpZihlLnRvV29ybGRGcmFtZShpLGgucG9zaXRpb24pLHRoaXNbYS50eXBlfGgudHlwZV0odCxhLG8sYS5hbmdsZSt0LmFuZ2xlLGUsaCxpLGguYW5nbGUrZS5hbmdsZSwhMCkpcmV0dXJuITB9fXJldHVybiExfSxpLnByb3RvdHlwZS5jb2xsaWRlZExhc3RTdGVwPWZ1bmN0aW9uKHQsZSl7dmFyIG89MHx0LmlkLGk9MHxlLmlkO3JldHVybiEhdGhpcy5jb2xsaWRpbmdCb2RpZXNMYXN0U3RlcC5nZXQobyxpKX0saS5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXt0aGlzLmNvbGxpZGluZ0JvZGllc0xhc3RTdGVwLnJlc2V0KCk7Zm9yKHZhciB0PXRoaXMuY29udGFjdEVxdWF0aW9ucyxlPXQubGVuZ3RoO2UtLTspe3ZhciBvPXRbZV0saT1vLmJvZHlBLmlkLG49by5ib2R5Qi5pZDt0aGlzLmNvbGxpZGluZ0JvZGllc0xhc3RTdGVwLnNldChpLG4sITApfWZvcih2YXIgcz10aGlzLmNvbnRhY3RFcXVhdGlvbnMsYT10aGlzLmZyaWN0aW9uRXF1YXRpb25zLHI9MDtyPHMubGVuZ3RoO3IrKyl0aGlzLmNvbnRhY3RFcXVhdGlvblBvb2wucmVsZWFzZShzW3JdKTtmb3Iocj0wO3I8YS5sZW5ndGg7cisrKXRoaXMuZnJpY3Rpb25FcXVhdGlvblBvb2wucmVsZWFzZShhW3JdKTt0aGlzLmNvbnRhY3RFcXVhdGlvbnMubGVuZ3RoPXRoaXMuZnJpY3Rpb25FcXVhdGlvbnMubGVuZ3RoPTB9LGkucHJvdG90eXBlLmNyZWF0ZUNvbnRhY3RFcXVhdGlvbj1mdW5jdGlvbih0LGUsbyxpKXt2YXIgbj10aGlzLmNvbnRhY3RFcXVhdGlvblBvb2wuZ2V0KCk7cmV0dXJuIG4uYm9keUE9dCxuLmJvZHlCPWUsbi5zaGFwZUE9byxuLnNoYXBlQj1pLG4ucmVzdGl0dXRpb249dGhpcy5yZXN0aXR1dGlvbixuLmZpcnN0SW1wYWN0PSF0aGlzLmNvbGxpZGVkTGFzdFN0ZXAodCxlKSxuLnN0aWZmbmVzcz10aGlzLnN0aWZmbmVzcyxuLnJlbGF4YXRpb249dGhpcy5yZWxheGF0aW9uLG4ubmVlZHNVcGRhdGU9ITAsbi5lbmFibGVkPXRoaXMuZW5hYmxlZEVxdWF0aW9ucyxuLm9mZnNldD10aGlzLmNvbnRhY3RTa2luU2l6ZSxufSxpLnByb3RvdHlwZS5jcmVhdGVGcmljdGlvbkVxdWF0aW9uPWZ1bmN0aW9uKHQsZSxvLGkpe3ZhciBuPXRoaXMuZnJpY3Rpb25FcXVhdGlvblBvb2wuZ2V0KCk7cmV0dXJuIG4uYm9keUE9dCxuLmJvZHlCPWUsbi5zaGFwZUE9byxuLnNoYXBlQj1pLG4uc2V0U2xpcEZvcmNlKHRoaXMuc2xpcEZvcmNlKSxuLmZyaWN0aW9uQ29lZmZpY2llbnQ9dGhpcy5mcmljdGlvbkNvZWZmaWNpZW50LG4ucmVsYXRpdmVWZWxvY2l0eT10aGlzLnN1cmZhY2VWZWxvY2l0eSxuLmVuYWJsZWQ9dGhpcy5lbmFibGVkRXF1YXRpb25zLG4ubmVlZHNVcGRhdGU9ITAsbi5zdGlmZm5lc3M9dGhpcy5mcmljdGlvblN0aWZmbmVzcyxuLnJlbGF4YXRpb249dGhpcy5mcmljdGlvblJlbGF4YXRpb24sbi5jb250YWN0RXF1YXRpb25zLmxlbmd0aD0wLG59LGkucHJvdG90eXBlLmNyZWF0ZUZyaWN0aW9uRnJvbUNvbnRhY3Q9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5jcmVhdGVGcmljdGlvbkVxdWF0aW9uKHQuYm9keUEsdC5ib2R5Qix0LnNoYXBlQSx0LnNoYXBlQik7cmV0dXJuIGEuY29weShlLmNvbnRhY3RQb2ludEEsdC5jb250YWN0UG9pbnRBKSxhLmNvcHkoZS5jb250YWN0UG9pbnRCLHQuY29udGFjdFBvaW50QiksYS5yb3RhdGU5MGN3KGUudCx0Lm5vcm1hbEEpLGUuY29udGFjdEVxdWF0aW9ucy5wdXNoKHQpLGV9LGkucHJvdG90eXBlLmNyZWF0ZUZyaWN0aW9uRnJvbUF2ZXJhZ2U9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5jb250YWN0RXF1YXRpb25zW3RoaXMuY29udGFjdEVxdWF0aW9ucy5sZW5ndGgtMV0sbz10aGlzLmNyZWF0ZUZyaWN0aW9uRXF1YXRpb24oZS5ib2R5QSxlLmJvZHlCLGUuc2hhcGVBLGUuc2hhcGVCKSxpPWUuYm9keUE7ZS5ib2R5QjthLnNldChvLmNvbnRhY3RQb2ludEEsMCwwKSxhLnNldChvLmNvbnRhY3RQb2ludEIsMCwwKSxhLnNldChvLnQsMCwwKTtmb3IodmFyIG49MDtuIT09dDtuKyspKGU9dGhpcy5jb250YWN0RXF1YXRpb25zW3RoaXMuY29udGFjdEVxdWF0aW9ucy5sZW5ndGgtMS1uXSkuYm9keUE9PT1pPyhhLmFkZChvLnQsby50LGUubm9ybWFsQSksYS5hZGQoby5jb250YWN0UG9pbnRBLG8uY29udGFjdFBvaW50QSxlLmNvbnRhY3RQb2ludEEpLGEuYWRkKG8uY29udGFjdFBvaW50QixvLmNvbnRhY3RQb2ludEIsZS5jb250YWN0UG9pbnRCKSk6KGEuc3ViKG8udCxvLnQsZS5ub3JtYWxBKSxhLmFkZChvLmNvbnRhY3RQb2ludEEsby5jb250YWN0UG9pbnRBLGUuY29udGFjdFBvaW50QiksYS5hZGQoby5jb250YWN0UG9pbnRCLG8uY29udGFjdFBvaW50QixlLmNvbnRhY3RQb2ludEEpKSxvLmNvbnRhY3RFcXVhdGlvbnMucHVzaChlKTt2YXIgcz0xL3Q7cmV0dXJuIGEuc2NhbGUoby5jb250YWN0UG9pbnRBLG8uY29udGFjdFBvaW50QSxzKSxhLnNjYWxlKG8uY29udGFjdFBvaW50QixvLmNvbnRhY3RQb2ludEIscyksYS5ub3JtYWxpemUoby50LG8udCksYS5yb3RhdGU5MGN3KG8udCxvLnQpLG99LGkucHJvdG90eXBlW3kuTElORXx5LkNPTlZFWF09aS5wcm90b3R5cGUuY29udmV4TGluZT1mdW5jdGlvbih0LGUsbyxpLG4scyxhLHIsYyl7cmV0dXJuIWMmJjB9LGkucHJvdG90eXBlW3kuTElORXx5LkJPWF09aS5wcm90b3R5cGUubGluZUJveD1mdW5jdGlvbih0LGUsbyxpLG4scyxhLHIsYyl7cmV0dXJuIWMmJjB9O3ZhciBrPW5ldyBtKHt3aWR0aDoxLGhlaWdodDoxfSksXz1hLmNyZWF0ZSgpO2kucHJvdG90eXBlW3kuQ0FQU1VMRXx5LkNPTlZFWF09aS5wcm90b3R5cGVbeS5DQVBTVUxFfHkuQk9YXT1pLnByb3RvdHlwZS5jb252ZXhDYXBzdWxlPWZ1bmN0aW9uKHQsZSxvLGkscyxyLGMsaCxsKXt2YXIgcD1fO2Euc2V0KHAsci5sZW5ndGgvMiwwKSxhLnJvdGF0ZShwLHAsaCksYS5hZGQocCxwLGMpO3ZhciB1PXRoaXMuY2lyY2xlQ29udmV4KHMscixwLGgsdCxlLG8saSxsLHIucmFkaXVzKTthLnNldChwLC1yLmxlbmd0aC8yLDApLGEucm90YXRlKHAscCxoKSxhLmFkZChwLHAsYyk7dmFyIGQ9dGhpcy5jaXJjbGVDb252ZXgocyxyLHAsaCx0LGUsbyxpLGwsci5yYWRpdXMpO2lmKGwmJih1fHxkKSlyZXR1cm4hMDt2YXIgZj1rO3JldHVybiBuKGYsciksdGhpcy5jb252ZXhDb252ZXgodCxlLG8saSxzLGYsYyxoLGwpK3UrZH0saS5wcm90b3R5cGVbeS5DQVBTVUxFfHkuTElORV09aS5wcm90b3R5cGUubGluZUNhcHN1bGU9ZnVuY3Rpb24odCxlLG8saSxuLHMsYSxyLGMpe3JldHVybiFjJiYwfTt2YXIgRD1hLmNyZWF0ZSgpLFc9YS5jcmVhdGUoKSxqPW5ldyBtKHt3aWR0aDoxLGhlaWdodDoxfSk7aS5wcm90b3R5cGVbeS5DQVBTVUxFfHkuQ0FQU1VMRV09aS5wcm90b3R5cGUuY2Fwc3VsZUNhcHN1bGU9ZnVuY3Rpb24odCxlLG8saSxzLHIsYyxoLGwpe2Zvcih2YXIgcD1ELHU9VyxkPTAsZj0wO2Y8MjtmKyspe2Euc2V0KHAsKDA9PT1mPy0xOjEpKmUubGVuZ3RoLzIsMCksYS5yb3RhdGUocCxwLGkpLGEuYWRkKHAscCxvKTtmb3IodmFyIHY9MDt2PDI7disrKXthLnNldCh1LCgwPT09dj8tMToxKSpyLmxlbmd0aC8yLDApLGEucm90YXRlKHUsdSxoKSxhLmFkZCh1LHUsYyksdGhpcy5lbmFibGVGcmljdGlvblJlZHVjdGlvbiYmKEE9dGhpcy5lbmFibGVGcmljdGlvbix0aGlzLmVuYWJsZUZyaWN0aW9uPSExKTt2YXIgeT10aGlzLmNpcmNsZUNpcmNsZSh0LGUscCxpLHMscix1LGgsbCxlLnJhZGl1cyxyLnJhZGl1cyk7aWYodGhpcy5lbmFibGVGcmljdGlvblJlZHVjdGlvbiYmKHRoaXMuZW5hYmxlRnJpY3Rpb249QSksbCYmeSlyZXR1cm4hMDtkKz15fX10aGlzLmVuYWJsZUZyaWN0aW9uUmVkdWN0aW9uJiYoQT10aGlzLmVuYWJsZUZyaWN0aW9uLHRoaXMuZW5hYmxlRnJpY3Rpb249ITEpO3ZhciBtPWo7bihtLGUpO3ZhciBnPXRoaXMuY29udmV4Q2Fwc3VsZSh0LG0sbyxpLHMscixjLGgsbCk7aWYodGhpcy5lbmFibGVGcmljdGlvblJlZHVjdGlvbiYmKHRoaXMuZW5hYmxlRnJpY3Rpb249QSksbCYmZylyZXR1cm4hMDtpZihkKz1nLHRoaXMuZW5hYmxlRnJpY3Rpb25SZWR1Y3Rpb24pe3ZhciBBPXRoaXMuZW5hYmxlRnJpY3Rpb247dGhpcy5lbmFibGVGcmljdGlvbj0hMX1uKG0scik7dmFyIGI9dGhpcy5jb252ZXhDYXBzdWxlKHMsbSxjLGgsdCxlLG8saSxsKTtyZXR1cm4gdGhpcy5lbmFibGVGcmljdGlvblJlZHVjdGlvbiYmKHRoaXMuZW5hYmxlRnJpY3Rpb249QSksISghbHx8IWIpfHwoZCs9Yix0aGlzLmVuYWJsZUZyaWN0aW9uUmVkdWN0aW9uJiZkJiZ0aGlzLmVuYWJsZUZyaWN0aW9uJiZ0aGlzLmZyaWN0aW9uRXF1YXRpb25zLnB1c2godGhpcy5jcmVhdGVGcmljdGlvbkZyb21BdmVyYWdlKGQpKSxkKX0saS5wcm90b3R5cGVbeS5MSU5FfHkuTElORV09aS5wcm90b3R5cGUubGluZUxpbmU9ZnVuY3Rpb24odCxlLG8saSxuLHMsYSxyLGMpe3JldHVybiFjJiYwfSxpLnByb3RvdHlwZVt5LlBMQU5FfHkuTElORV09aS5wcm90b3R5cGUucGxhbmVMaW5lPWZ1bmN0aW9uKHQsZSxvLGksbixzLGwscCx1KXt2YXIgZD1BLGY9Yix2PUUseT1CLG09cSxMPVAseD13LEY9UyxNPUMsST1HLFI9MDthLnNldChkLC1zLmxlbmd0aC8yLDApLGEuc2V0KGYscy5sZW5ndGgvMiwwKSxhLnJvdGF0ZSh2LGQscCksYS5yb3RhdGUoeSxmLHApLGModix2LGwpLGMoeSx5LGwpLGEuY29weShkLHYpLGEuY29weShmLHkpLHIobSxmLGQpLGEubm9ybWFsaXplKEwsbSksYS5yb3RhdGU5MGN3KE0sTCksYS5yb3RhdGUoRixnLGkpLElbMF09ZCxJWzFdPWY7Zm9yKHZhciBWPTA7VjxJLmxlbmd0aDtWKyspe3ZhciBUPUlbVl07cih4LFQsbyk7dmFyIE49aCh4LEYpO2lmKE48MCl7aWYodSlyZXR1cm4hMDt2YXIgTz10aGlzLmNyZWF0ZUNvbnRhY3RFcXVhdGlvbih0LG4sZSxzKTtSKyssYS5jb3B5KE8ubm9ybWFsQSxGKSxhLm5vcm1hbGl6ZShPLm5vcm1hbEEsTy5ub3JtYWxBKSxhLnNjYWxlKHgsRixOKSxyKE8uY29udGFjdFBvaW50QSxULHgpLHIoTy5jb250YWN0UG9pbnRBLE8uY29udGFjdFBvaW50QSx0LnBvc2l0aW9uKSxyKE8uY29udGFjdFBvaW50QixULGwpLGMoTy5jb250YWN0UG9pbnRCLE8uY29udGFjdFBvaW50QixsKSxyKE8uY29udGFjdFBvaW50QixPLmNvbnRhY3RQb2ludEIsbi5wb3NpdGlvbiksdGhpcy5jb250YWN0RXF1YXRpb25zLnB1c2goTyksdGhpcy5lbmFibGVGcmljdGlvblJlZHVjdGlvbnx8dGhpcy5lbmFibGVGcmljdGlvbiYmdGhpcy5mcmljdGlvbkVxdWF0aW9ucy5wdXNoKHRoaXMuY3JlYXRlRnJpY3Rpb25Gcm9tQ29udGFjdChPKSl9fXJldHVybiF1JiYodGhpcy5lbmFibGVGcmljdGlvblJlZHVjdGlvbnx8UiYmdGhpcy5lbmFibGVGcmljdGlvbiYmdGhpcy5mcmljdGlvbkVxdWF0aW9ucy5wdXNoKHRoaXMuY3JlYXRlRnJpY3Rpb25Gcm9tQXZlcmFnZShSKSksUil9LGkucHJvdG90eXBlW3kuUEFSVElDTEV8eS5DQVBTVUxFXT1pLnByb3RvdHlwZS5wYXJ0aWNsZUNhcHN1bGU9ZnVuY3Rpb24odCxlLG8saSxuLHMsYSxyLGMpe3JldHVybiB0aGlzLmNpcmNsZUxpbmUodCxlLG8saSxuLHMsYSxyLGMscy5yYWRpdXMsMCl9LGkucHJvdG90eXBlW3kuQ0lSQ0xFfHkuTElORV09aS5wcm90b3R5cGUuY2lyY2xlTGluZT1mdW5jdGlvbih0LGUsbyxpLG4scyxsLHAsdSxkLGYpe3ZhciBkPWR8fDAsZj12b2lkIDAhPT1mP2Y6ZS5yYWRpdXMsdj1BLHk9YixtPUUsZz1CLFI9cSxWPVAsVD13LE49UyxPPUMsVT1MLGs9eCxfPUYsRD1NLFc9SSxqPUc7YS5zZXQoTiwtcy5sZW5ndGgvMiwwKSxhLnNldChPLHMubGVuZ3RoLzIsMCksYS5yb3RhdGUoVSxOLHApLGEucm90YXRlKGssTyxwKSxjKFUsVSxsKSxjKGssayxsKSxhLmNvcHkoTixVKSxhLmNvcHkoTyxrKSxyKFYsTyxOKSxhLm5vcm1hbGl6ZShULFYpLGEucm90YXRlOTBjdyhSLFQpLHIoXyxvLE4pO3ZhciBYPWgoXyxSKTtyKGcsTixsKSxyKEQsbyxsKTt2YXIgej1mK2Q7aWYoTWF0aC5hYnMoWCk8eil7YS5zY2FsZSh2LFIsWCkscihtLG8sdiksYS5zY2FsZSh5LFIsaChSLEQpKSxhLm5vcm1hbGl6ZSh5LHkpLGEuc2NhbGUoeSx5LGQpLGMobSxtLHkpO3ZhciBZPWgoVCxtKSxLPWgoVCxOKSxIPWgoVCxPKTtpZihZPksmJlk8SCl7aWYodSlyZXR1cm4hMDtRPXRoaXMuY3JlYXRlQ29udGFjdEVxdWF0aW9uKHQsbixlLHMpO3JldHVybiBhLnNjYWxlKFEubm9ybWFsQSx2LC0xKSxhLm5vcm1hbGl6ZShRLm5vcm1hbEEsUS5ub3JtYWxBKSxhLnNjYWxlKFEuY29udGFjdFBvaW50QSxRLm5vcm1hbEEsZiksYyhRLmNvbnRhY3RQb2ludEEsUS5jb250YWN0UG9pbnRBLG8pLHIoUS5jb250YWN0UG9pbnRBLFEuY29udGFjdFBvaW50QSx0LnBvc2l0aW9uKSxyKFEuY29udGFjdFBvaW50QixtLGwpLGMoUS5jb250YWN0UG9pbnRCLFEuY29udGFjdFBvaW50QixsKSxyKFEuY29udGFjdFBvaW50QixRLmNvbnRhY3RQb2ludEIsbi5wb3NpdGlvbiksdGhpcy5jb250YWN0RXF1YXRpb25zLnB1c2goUSksdGhpcy5lbmFibGVGcmljdGlvbiYmdGhpcy5mcmljdGlvbkVxdWF0aW9ucy5wdXNoKHRoaXMuY3JlYXRlRnJpY3Rpb25Gcm9tQ29udGFjdChRKSksMX19alswXT1OLGpbMV09Tztmb3IodmFyIFo9MDtaPGoubGVuZ3RoO1orKyl7dmFyIEo9altaXTtpZihyKF8sSixvKSxhLnNxdWFyZWRMZW5ndGgoXyk8TWF0aC5wb3coeiwyKSl7aWYodSlyZXR1cm4hMDt2YXIgUT10aGlzLmNyZWF0ZUNvbnRhY3RFcXVhdGlvbih0LG4sZSxzKTtyZXR1cm4gYS5jb3B5KFEubm9ybWFsQSxfKSxhLm5vcm1hbGl6ZShRLm5vcm1hbEEsUS5ub3JtYWxBKSxhLnNjYWxlKFEuY29udGFjdFBvaW50QSxRLm5vcm1hbEEsZiksYyhRLmNvbnRhY3RQb2ludEEsUS5jb250YWN0UG9pbnRBLG8pLHIoUS5jb250YWN0UG9pbnRBLFEuY29udGFjdFBvaW50QSx0LnBvc2l0aW9uKSxyKFEuY29udGFjdFBvaW50QixKLGwpLGEuc2NhbGUoVyxRLm5vcm1hbEEsLWQpLGMoUS5jb250YWN0UG9pbnRCLFEuY29udGFjdFBvaW50QixXKSxjKFEuY29udGFjdFBvaW50QixRLmNvbnRhY3RQb2ludEIsbCkscihRLmNvbnRhY3RQb2ludEIsUS5jb250YWN0UG9pbnRCLG4ucG9zaXRpb24pLHRoaXMuY29udGFjdEVxdWF0aW9ucy5wdXNoKFEpLHRoaXMuZW5hYmxlRnJpY3Rpb24mJnRoaXMuZnJpY3Rpb25FcXVhdGlvbnMucHVzaCh0aGlzLmNyZWF0ZUZyaWN0aW9uRnJvbUNvbnRhY3QoUSkpLDF9fXJldHVybiAwfSxpLnByb3RvdHlwZVt5LkNJUkNMRXx5LkNBUFNVTEVdPWkucHJvdG90eXBlLmNpcmNsZUNhcHN1bGU9ZnVuY3Rpb24odCxlLG8saSxuLHMsYSxyLGMpe3JldHVybiB0aGlzLmNpcmNsZUxpbmUodCxlLG8saSxuLHMsYSxyLGMscy5yYWRpdXMpfSxpLnByb3RvdHlwZVt5LkNJUkNMRXx5LkNPTlZFWF09aS5wcm90b3R5cGVbeS5DSVJDTEV8eS5CT1hdPWkucHJvdG90eXBlLmNpcmNsZUNvbnZleD1mdW5jdGlvbih0LGUsbyxpLG4saCxsLHAsdSxkKXtmb3IodmFyIGQ9XCJudW1iZXJcIj09dHlwZW9mIGQ/ZDplLnJhZGl1cyxmPUEsdj1iLHk9RSxtPUIsZz1xLFA9TCx3PXgsUz1NLEM9SSxGPVIsVD1WLE49ITEsRz1OdW1iZXIuTUFYX1ZBTFVFLE89aC52ZXJ0aWNlcyxVPTA7VSE9PU8ubGVuZ3RoKzE7VSsrKXt2YXIgaz1PW1UlTy5sZW5ndGhdLF89T1soVSsxKSVPLmxlbmd0aF07aWYoYS5yb3RhdGUoZixrLHApLGEucm90YXRlKHYsXyxwKSxjKGYsZixsKSxjKHYsdixsKSxyKHksdixmKSxhLm5vcm1hbGl6ZShtLHkpLGEucm90YXRlOTBjdyhnLG0pLGEuc2NhbGUoQyxnLC1lLnJhZGl1cyksYyhDLEMsbykscyhDLGgsbCxwKSl7YS5zdWIoRixmLEMpO3ZhciBEPU1hdGguYWJzKGEuZG90KEYsZykpO0Q8RyYmKGEuY29weShULEMpLEc9RCxhLnNjYWxlKFMsZyxEKSxhLmFkZChTLFMsQyksTj0hMCl9fWlmKE4pe2lmKHUpcmV0dXJuITA7aj10aGlzLmNyZWF0ZUNvbnRhY3RFcXVhdGlvbih0LG4sZSxoKTtyZXR1cm4gYS5zdWIoai5ub3JtYWxBLFQsbyksYS5ub3JtYWxpemUoai5ub3JtYWxBLGoubm9ybWFsQSksYS5zY2FsZShqLmNvbnRhY3RQb2ludEEsai5ub3JtYWxBLGQpLGMoai5jb250YWN0UG9pbnRBLGouY29udGFjdFBvaW50QSxvKSxyKGouY29udGFjdFBvaW50QSxqLmNvbnRhY3RQb2ludEEsdC5wb3NpdGlvbikscihqLmNvbnRhY3RQb2ludEIsUyxsKSxjKGouY29udGFjdFBvaW50QixqLmNvbnRhY3RQb2ludEIsbCkscihqLmNvbnRhY3RQb2ludEIsai5jb250YWN0UG9pbnRCLG4ucG9zaXRpb24pLHRoaXMuY29udGFjdEVxdWF0aW9ucy5wdXNoKGopLHRoaXMuZW5hYmxlRnJpY3Rpb24mJnRoaXMuZnJpY3Rpb25FcXVhdGlvbnMucHVzaCh0aGlzLmNyZWF0ZUZyaWN0aW9uRnJvbUNvbnRhY3QoaikpLDF9aWYoZD4wKWZvcihVPTA7VTxPLmxlbmd0aDtVKyspe3ZhciBXPU9bVV07aWYoYS5yb3RhdGUodyxXLHApLGModyx3LGwpLHIoUCx3LG8pLGEuc3F1YXJlZExlbmd0aChQKTxNYXRoLnBvdyhkLDIpKXtpZih1KXJldHVybiEwO3ZhciBqPXRoaXMuY3JlYXRlQ29udGFjdEVxdWF0aW9uKHQsbixlLGgpO3JldHVybiBhLmNvcHkoai5ub3JtYWxBLFApLGEubm9ybWFsaXplKGoubm9ybWFsQSxqLm5vcm1hbEEpLGEuc2NhbGUoai5jb250YWN0UG9pbnRBLGoubm9ybWFsQSxkKSxjKGouY29udGFjdFBvaW50QSxqLmNvbnRhY3RQb2ludEEsbykscihqLmNvbnRhY3RQb2ludEEsai5jb250YWN0UG9pbnRBLHQucG9zaXRpb24pLHIoai5jb250YWN0UG9pbnRCLHcsbCksYyhqLmNvbnRhY3RQb2ludEIsai5jb250YWN0UG9pbnRCLGwpLHIoai5jb250YWN0UG9pbnRCLGouY29udGFjdFBvaW50QixuLnBvc2l0aW9uKSx0aGlzLmNvbnRhY3RFcXVhdGlvbnMucHVzaChqKSx0aGlzLmVuYWJsZUZyaWN0aW9uJiZ0aGlzLmZyaWN0aW9uRXF1YXRpb25zLnB1c2godGhpcy5jcmVhdGVGcmljdGlvbkZyb21Db250YWN0KGopKSwxfX1yZXR1cm4gMH07dmFyIFg9YS5jcmVhdGUoKSx6PWEuY3JlYXRlKCksWT1hLmNyZWF0ZSgpLEs9YS5jcmVhdGUoKTtpLnByb3RvdHlwZVt5LlBBUlRJQ0xFfHkuQ09OVkVYXT1pLnByb3RvdHlwZVt5LlBBUlRJQ0xFfHkuQk9YXT1pLnByb3RvdHlwZS5wYXJ0aWNsZUNvbnZleD1mdW5jdGlvbih0LGUsbyxpLG4sbCxwLHUsZCl7dmFyIGY9QSx2PWIseT1FLG09QixnPXEsUz1QLEM9dyx4PUwsRj1NLEk9VCxSPU4sVj1OdW1iZXIuTUFYX1ZBTFVFLEc9ITEsTz1sLnZlcnRpY2VzO2lmKCFzKG8sbCxwLHUpKXJldHVybiAwO2lmKGQpcmV0dXJuITA7Zm9yKHZhciBVPTA7VSE9PU8ubGVuZ3RoKzE7VSsrKXt2YXIgaz1PW1UlTy5sZW5ndGhdLF89T1soVSsxKSVPLmxlbmd0aF07YS5yb3RhdGUoZixrLHUpLGEucm90YXRlKHYsXyx1KSxjKGYsZixwKSxjKHYsdixwKSxyKHksdixmKSxhLm5vcm1hbGl6ZShtLHkpLGEucm90YXRlOTBjdyhnLG0pLHIoeCxvLGYpO2goeCxnKTtyKFMsZixwKSxyKEMsbyxwKSxhLnN1YihJLGYsbyk7dmFyIEQ9TWF0aC5hYnMoYS5kb3QoSSxnKSk7RDxWJiYoVj1ELGEuc2NhbGUoRixnLEQpLGEuYWRkKEYsRixvKSxhLmNvcHkoUixnKSxHPSEwKX1pZihHKXt2YXIgVz10aGlzLmNyZWF0ZUNvbnRhY3RFcXVhdGlvbih0LG4sZSxsKTtyZXR1cm4gYS5zY2FsZShXLm5vcm1hbEEsUiwtMSksYS5ub3JtYWxpemUoVy5ub3JtYWxBLFcubm9ybWFsQSksYS5zZXQoVy5jb250YWN0UG9pbnRBLDAsMCksYyhXLmNvbnRhY3RQb2ludEEsVy5jb250YWN0UG9pbnRBLG8pLHIoVy5jb250YWN0UG9pbnRBLFcuY29udGFjdFBvaW50QSx0LnBvc2l0aW9uKSxyKFcuY29udGFjdFBvaW50QixGLHApLGMoVy5jb250YWN0UG9pbnRCLFcuY29udGFjdFBvaW50QixwKSxyKFcuY29udGFjdFBvaW50QixXLmNvbnRhY3RQb2ludEIsbi5wb3NpdGlvbiksdGhpcy5jb250YWN0RXF1YXRpb25zLnB1c2goVyksdGhpcy5lbmFibGVGcmljdGlvbiYmdGhpcy5mcmljdGlvbkVxdWF0aW9ucy5wdXNoKHRoaXMuY3JlYXRlRnJpY3Rpb25Gcm9tQ29udGFjdChXKSksMX1yZXR1cm4gMH0saS5wcm90b3R5cGVbeS5DSVJDTEVdPWkucHJvdG90eXBlLmNpcmNsZUNpcmNsZT1mdW5jdGlvbih0LGUsbyxpLG4scyxoLGwscCx1LGQpe3ZhciBmPUEsdT11fHxlLnJhZGl1cyxkPWR8fHMucmFkaXVzO3IoZixvLGgpO3ZhciB2PXUrZDtpZihhLnNxdWFyZWRMZW5ndGgoZik+TWF0aC5wb3codiwyKSlyZXR1cm4gMDtpZihwKXJldHVybiEwO3ZhciB5PXRoaXMuY3JlYXRlQ29udGFjdEVxdWF0aW9uKHQsbixlLHMpO3JldHVybiByKHkubm9ybWFsQSxoLG8pLGEubm9ybWFsaXplKHkubm9ybWFsQSx5Lm5vcm1hbEEpLGEuc2NhbGUoeS5jb250YWN0UG9pbnRBLHkubm9ybWFsQSx1KSxhLnNjYWxlKHkuY29udGFjdFBvaW50Qix5Lm5vcm1hbEEsLWQpLGMoeS5jb250YWN0UG9pbnRBLHkuY29udGFjdFBvaW50QSxvKSxyKHkuY29udGFjdFBvaW50QSx5LmNvbnRhY3RQb2ludEEsdC5wb3NpdGlvbiksYyh5LmNvbnRhY3RQb2ludEIseS5jb250YWN0UG9pbnRCLGgpLHIoeS5jb250YWN0UG9pbnRCLHkuY29udGFjdFBvaW50QixuLnBvc2l0aW9uKSx0aGlzLmNvbnRhY3RFcXVhdGlvbnMucHVzaCh5KSx0aGlzLmVuYWJsZUZyaWN0aW9uJiZ0aGlzLmZyaWN0aW9uRXF1YXRpb25zLnB1c2godGhpcy5jcmVhdGVGcmljdGlvbkZyb21Db250YWN0KHkpKSwxfSxpLnByb3RvdHlwZVt5LlBMQU5FfHkuQ09OVkVYXT1pLnByb3RvdHlwZVt5LlBMQU5FfHkuQk9YXT1pLnByb3RvdHlwZS5wbGFuZUNvbnZleD1mdW5jdGlvbih0LGUsbyxpLG4scyxsLHAsdSl7dmFyIGQ9QSxmPWIsdj1FLHk9MDthLnJvdGF0ZShmLGcsaSk7Zm9yKHZhciBtPTA7bSE9PXMudmVydGljZXMubGVuZ3RoO20rKyl7dmFyIEI9cy52ZXJ0aWNlc1ttXTtpZihhLnJvdGF0ZShkLEIscCksYyhkLGQsbCkscih2LGQsbyksaCh2LGYpPD0wKXtpZih1KXJldHVybiEwO3krKzt2YXIgcT10aGlzLmNyZWF0ZUNvbnRhY3RFcXVhdGlvbih0LG4sZSxzKTtyKHYsZCxvKSxhLmNvcHkocS5ub3JtYWxBLGYpO3ZhciBQPWgodixxLm5vcm1hbEEpO2Euc2NhbGUodixxLm5vcm1hbEEsUCkscihxLmNvbnRhY3RQb2ludEIsZCxuLnBvc2l0aW9uKSxyKHEuY29udGFjdFBvaW50QSxkLHYpLHIocS5jb250YWN0UG9pbnRBLHEuY29udGFjdFBvaW50QSx0LnBvc2l0aW9uKSx0aGlzLmNvbnRhY3RFcXVhdGlvbnMucHVzaChxKSx0aGlzLmVuYWJsZUZyaWN0aW9uUmVkdWN0aW9ufHx0aGlzLmVuYWJsZUZyaWN0aW9uJiZ0aGlzLmZyaWN0aW9uRXF1YXRpb25zLnB1c2godGhpcy5jcmVhdGVGcmljdGlvbkZyb21Db250YWN0KHEpKX19cmV0dXJuIHRoaXMuZW5hYmxlRnJpY3Rpb25SZWR1Y3Rpb24mJnRoaXMuZW5hYmxlRnJpY3Rpb24mJnkmJnRoaXMuZnJpY3Rpb25FcXVhdGlvbnMucHVzaCh0aGlzLmNyZWF0ZUZyaWN0aW9uRnJvbUF2ZXJhZ2UoeSkpLHl9LGkucHJvdG90eXBlW3kuUEFSVElDTEV8eS5QTEFORV09aS5wcm90b3R5cGUucGFydGljbGVQbGFuZT1mdW5jdGlvbih0LGUsbyxpLG4scyxjLGwscCl7dmFyIHU9QSxkPWI7bD1sfHwwLHIodSxvLGMpLGEucm90YXRlKGQsZyxsKTt2YXIgZj1oKHUsZCk7aWYoZj4wKXJldHVybiAwO2lmKHApcmV0dXJuITA7dmFyIHY9dGhpcy5jcmVhdGVDb250YWN0RXF1YXRpb24obix0LHMsZSk7cmV0dXJuIGEuY29weSh2Lm5vcm1hbEEsZCksYS5zY2FsZSh1LHYubm9ybWFsQSxmKSxyKHYuY29udGFjdFBvaW50QSxvLHUpLHIodi5jb250YWN0UG9pbnRBLHYuY29udGFjdFBvaW50QSxuLnBvc2l0aW9uKSxyKHYuY29udGFjdFBvaW50QixvLHQucG9zaXRpb24pLHRoaXMuY29udGFjdEVxdWF0aW9ucy5wdXNoKHYpLHRoaXMuZW5hYmxlRnJpY3Rpb24mJnRoaXMuZnJpY3Rpb25FcXVhdGlvbnMucHVzaCh0aGlzLmNyZWF0ZUZyaWN0aW9uRnJvbUNvbnRhY3QodikpLDF9LGkucHJvdG90eXBlW3kuQ0lSQ0xFfHkuUEFSVElDTEVdPWkucHJvdG90eXBlLmNpcmNsZVBhcnRpY2xlPWZ1bmN0aW9uKHQsZSxvLGksbixzLGgsbCxwKXt2YXIgdT1BO2lmKHIodSxoLG8pLGEuc3F1YXJlZExlbmd0aCh1KT5NYXRoLnBvdyhlLnJhZGl1cywyKSlyZXR1cm4gMDtpZihwKXJldHVybiEwO3ZhciBkPXRoaXMuY3JlYXRlQ29udGFjdEVxdWF0aW9uKHQsbixlLHMpO3JldHVybiBhLmNvcHkoZC5ub3JtYWxBLHUpLGEubm9ybWFsaXplKGQubm9ybWFsQSxkLm5vcm1hbEEpLGEuc2NhbGUoZC5jb250YWN0UG9pbnRBLGQubm9ybWFsQSxlLnJhZGl1cyksYyhkLmNvbnRhY3RQb2ludEEsZC5jb250YWN0UG9pbnRBLG8pLHIoZC5jb250YWN0UG9pbnRBLGQuY29udGFjdFBvaW50QSx0LnBvc2l0aW9uKSxyKGQuY29udGFjdFBvaW50QixoLG4ucG9zaXRpb24pLHRoaXMuY29udGFjdEVxdWF0aW9ucy5wdXNoKGQpLHRoaXMuZW5hYmxlRnJpY3Rpb24mJnRoaXMuZnJpY3Rpb25FcXVhdGlvbnMucHVzaCh0aGlzLmNyZWF0ZUZyaWN0aW9uRnJvbUNvbnRhY3QoZCkpLDF9O3ZhciBIPW5ldyBmKHtyYWRpdXM6MX0pLFo9YS5jcmVhdGUoKSxKPWEuY3JlYXRlKCk7YS5jcmVhdGUoKTtpLnByb3RvdHlwZVt5LlBMQU5FfHkuQ0FQU1VMRV09aS5wcm90b3R5cGUucGxhbmVDYXBzdWxlPWZ1bmN0aW9uKHQsZSxvLGksbixzLHIsaCxsKXt2YXIgcD1aLHU9SixkPUg7YS5zZXQocCwtcy5sZW5ndGgvMiwwKSxhLnJvdGF0ZShwLHAsaCksYyhwLHAsciksYS5zZXQodSxzLmxlbmd0aC8yLDApLGEucm90YXRlKHUsdSxoKSxjKHUsdSxyKSxkLnJhZGl1cz1zLnJhZGl1czt2YXIgZjt0aGlzLmVuYWJsZUZyaWN0aW9uUmVkdWN0aW9uJiYoZj10aGlzLmVuYWJsZUZyaWN0aW9uLHRoaXMuZW5hYmxlRnJpY3Rpb249ITEpO3ZhciB2PXRoaXMuY2lyY2xlUGxhbmUobixkLHAsMCx0LGUsbyxpLGwpLHk9dGhpcy5jaXJjbGVQbGFuZShuLGQsdSwwLHQsZSxvLGksbCk7aWYodGhpcy5lbmFibGVGcmljdGlvblJlZHVjdGlvbiYmKHRoaXMuZW5hYmxlRnJpY3Rpb249ZiksbClyZXR1cm4gdnx8eTt2YXIgbT12K3k7cmV0dXJuIHRoaXMuZW5hYmxlRnJpY3Rpb25SZWR1Y3Rpb24mJm0mJnRoaXMuZnJpY3Rpb25FcXVhdGlvbnMucHVzaCh0aGlzLmNyZWF0ZUZyaWN0aW9uRnJvbUF2ZXJhZ2UobSkpLG19LGkucHJvdG90eXBlW3kuQ0lSQ0xFfHkuUExBTkVdPWkucHJvdG90eXBlLmNpcmNsZVBsYW5lPWZ1bmN0aW9uKHQsZSxvLGksbixzLGwscCx1KXt2YXIgZD10LGY9ZSx2PW8seT1uLG09bCxCPXA7Qj1CfHwwO3ZhciBxPUEsUD1iLHc9RTtyKHEsdixtKSxhLnJvdGF0ZShQLGcsQik7dmFyIFM9aChQLHEpO2lmKFM+Zi5yYWRpdXMpcmV0dXJuIDA7aWYodSlyZXR1cm4hMDt2YXIgQz10aGlzLmNyZWF0ZUNvbnRhY3RFcXVhdGlvbih5LGQscyxlKTtyZXR1cm4gYS5jb3B5KEMubm9ybWFsQSxQKSxhLnNjYWxlKEMuY29udGFjdFBvaW50QixDLm5vcm1hbEEsLWYucmFkaXVzKSxjKEMuY29udGFjdFBvaW50QixDLmNvbnRhY3RQb2ludEIsdikscihDLmNvbnRhY3RQb2ludEIsQy5jb250YWN0UG9pbnRCLGQucG9zaXRpb24pLGEuc2NhbGUodyxDLm5vcm1hbEEsUykscihDLmNvbnRhY3RQb2ludEEscSx3KSxjKEMuY29udGFjdFBvaW50QSxDLmNvbnRhY3RQb2ludEEsbSkscihDLmNvbnRhY3RQb2ludEEsQy5jb250YWN0UG9pbnRBLHkucG9zaXRpb24pLHRoaXMuY29udGFjdEVxdWF0aW9ucy5wdXNoKEMpLHRoaXMuZW5hYmxlRnJpY3Rpb24mJnRoaXMuZnJpY3Rpb25FcXVhdGlvbnMucHVzaCh0aGlzLmNyZWF0ZUZyaWN0aW9uRnJvbUNvbnRhY3QoQykpLDF9LGkucHJvdG90eXBlW3kuQ09OVkVYXT1pLnByb3RvdHlwZVt5LkNPTlZFWHx5LkJPWF09aS5wcm90b3R5cGVbeS5CT1hdPWkucHJvdG90eXBlLmNvbnZleENvbnZleD1mdW5jdGlvbih0LGUsbyxuLHMsbCxwLHUsZCxmKXt2YXIgdj1BLHk9YixtPUUsZz1CLFA9cSxMPXcseD1TLEY9QyxNPTAsZj1cIm51bWJlclwiPT10eXBlb2YgZj9mOjA7aWYoIWkuZmluZFNlcGFyYXRpbmdBeGlzKGUsbyxuLGwscCx1LHYpKXJldHVybiAwO3IoeCxwLG8pLGgodix4KT4wJiZhLnNjYWxlKHYsdiwtMSk7dmFyIEk9aS5nZXRDbG9zZXN0RWRnZShlLG4sdiwhMCksUj1pLmdldENsb3Nlc3RFZGdlKGwsdSx2KTtpZigtMT09PUl8fC0xPT09UilyZXR1cm4gMDtmb3IodmFyIFY9MDtWPDI7VisrKXt2YXIgVD1JLE49UixHPWUsTz1sLFU9byxrPXAsXz1uLEQ9dSxXPXQsaj1zO2lmKDA9PT1WKXt2YXIgWDtYPVQsVD1OLE49WCxYPUcsRz1PLE89WCxYPVUsVT1rLGs9WCxYPV8sXz1ELEQ9WCxYPVcsVz1qLGo9WH1mb3IodmFyIHo9Tjt6PE4rMjt6Kyspe3ZhciBZPU8udmVydGljZXNbKHorTy52ZXJ0aWNlcy5sZW5ndGgpJU8udmVydGljZXMubGVuZ3RoXTthLnJvdGF0ZSh5LFksRCksYyh5LHksayk7Zm9yKHZhciBLPTAsSD1ULTE7SDxUKzI7SCsrKXt2YXIgWj1HLnZlcnRpY2VzWyhIK0cudmVydGljZXMubGVuZ3RoKSVHLnZlcnRpY2VzLmxlbmd0aF0sSj1HLnZlcnRpY2VzWyhIKzErRy52ZXJ0aWNlcy5sZW5ndGgpJUcudmVydGljZXMubGVuZ3RoXTthLnJvdGF0ZShtLFosXyksYS5yb3RhdGUoZyxKLF8pLGMobSxtLFUpLGMoZyxnLFUpLHIoUCxnLG0pLGEucm90YXRlOTBjdyhGLFApLGEubm9ybWFsaXplKEYsRikscih4LHksbSk7JD1oKEYseCk7KEg9PT1UJiYkPD1mfHxIIT09VCYmJDw9MCkmJksrK31pZihLPj0zKXtpZihkKXJldHVybiEwO3ZhciBRPXRoaXMuY3JlYXRlQ29udGFjdEVxdWF0aW9uKFcsaixHLE8pO00rKzt2YXIgWj1HLnZlcnRpY2VzW1QlRy52ZXJ0aWNlcy5sZW5ndGhdLEo9Ry52ZXJ0aWNlc1soVCsxKSVHLnZlcnRpY2VzLmxlbmd0aF07YS5yb3RhdGUobSxaLF8pLGEucm90YXRlKGcsSixfKSxjKG0sbSxVKSxjKGcsZyxVKSxyKFAsZyxtKSxhLnJvdGF0ZTkwY3coUS5ub3JtYWxBLFApLGEubm9ybWFsaXplKFEubm9ybWFsQSxRLm5vcm1hbEEpLHIoeCx5LG0pO3ZhciAkPWgoUS5ub3JtYWxBLHgpO2Euc2NhbGUoTCxRLm5vcm1hbEEsJCkscihRLmNvbnRhY3RQb2ludEEseSxVKSxyKFEuY29udGFjdFBvaW50QSxRLmNvbnRhY3RQb2ludEEsTCksYyhRLmNvbnRhY3RQb2ludEEsUS5jb250YWN0UG9pbnRBLFUpLHIoUS5jb250YWN0UG9pbnRBLFEuY29udGFjdFBvaW50QSxXLnBvc2l0aW9uKSxyKFEuY29udGFjdFBvaW50Qix5LGspLGMoUS5jb250YWN0UG9pbnRCLFEuY29udGFjdFBvaW50QixrKSxyKFEuY29udGFjdFBvaW50QixRLmNvbnRhY3RQb2ludEIsai5wb3NpdGlvbiksdGhpcy5jb250YWN0RXF1YXRpb25zLnB1c2goUSksdGhpcy5lbmFibGVGcmljdGlvblJlZHVjdGlvbnx8dGhpcy5lbmFibGVGcmljdGlvbiYmdGhpcy5mcmljdGlvbkVxdWF0aW9ucy5wdXNoKHRoaXMuY3JlYXRlRnJpY3Rpb25Gcm9tQ29udGFjdChRKSl9fX1yZXR1cm4gdGhpcy5lbmFibGVGcmljdGlvblJlZHVjdGlvbiYmdGhpcy5lbmFibGVGcmljdGlvbiYmTSYmdGhpcy5mcmljdGlvbkVxdWF0aW9ucy5wdXNoKHRoaXMuY3JlYXRlRnJpY3Rpb25Gcm9tQXZlcmFnZShNKSksTX07dmFyIFE9YS5mcm9tVmFsdWVzKDAsMCk7aS5wcm9qZWN0Q29udmV4T250b0F4aXM9ZnVuY3Rpb24odCxlLG8saSxuKXt2YXIgcyxyLGM9bnVsbCxsPW51bGwscD1RO2Eucm90YXRlKHAsaSwtbyk7Zm9yKHZhciB1PTA7dTx0LnZlcnRpY2VzLmxlbmd0aDt1Kyspcz10LnZlcnRpY2VzW3VdLHI9aChzLHApLChudWxsPT09Y3x8cj5jKSYmKGM9ciksKG51bGw9PT1sfHxyPGwpJiYobD1yKTtpZihsPmMpe3ZhciBkPWw7bD1jLGM9ZH12YXIgZj1oKGUsaSk7YS5zZXQobixsK2YsYytmKX07dmFyICQ9YS5mcm9tVmFsdWVzKDAsMCksdHQ9YS5mcm9tVmFsdWVzKDAsMCksZXQ9YS5mcm9tVmFsdWVzKDAsMCksb3Q9YS5mcm9tVmFsdWVzKDAsMCksaXQ9YS5mcm9tVmFsdWVzKDAsMCksbnQ9YS5mcm9tVmFsdWVzKDAsMCk7aS5maW5kU2VwYXJhdGluZ0F4aXM9ZnVuY3Rpb24odCxlLG8sbixzLGMsaCl7dmFyIGw9bnVsbCxwPSExLHU9ITEsZD0kLGY9dHQsdj1ldCx5PW90LGc9aXQsQT1udDtpZih0IGluc3RhbmNlb2YgbSYmbiBpbnN0YW5jZW9mIG0pZm9yKFA9MDsyIT09UDtQKyspe3ZhciBiPXQsRT1vOzE9PT1QJiYoYj1uLEU9Yyk7Zm9yKHc9MDsyIT09dzt3KyspezA9PT13P2Euc2V0KHksMCwxKToxPT09dyYmYS5zZXQoeSwxLDApLDAhPT1FJiZhLnJvdGF0ZSh5LHksRSksaS5wcm9qZWN0Q29udmV4T250b0F4aXModCxlLG8seSxnKSxpLnByb2plY3RDb252ZXhPbnRvQXhpcyhuLHMsYyx5LEEpO3ZhciBCPWcscT1BO2dbMF0+QVswXSYmKHE9ZyxCPUEsITApLHA9KFM9cVswXS1CWzFdKTw9MCwobnVsbD09PWx8fFM+bCkmJihhLmNvcHkoaCx5KSxsPVMsdT1wKX19ZWxzZSBmb3IodmFyIFA9MDsyIT09UDtQKyspe3ZhciBiPXQsRT1vOzE9PT1QJiYoYj1uLEU9Yyk7Zm9yKHZhciB3PTA7dyE9PWIudmVydGljZXMubGVuZ3RoO3crKyl7YS5yb3RhdGUoZixiLnZlcnRpY2VzW3ddLEUpLGEucm90YXRlKHYsYi52ZXJ0aWNlc1sodysxKSViLnZlcnRpY2VzLmxlbmd0aF0sRSkscihkLHYsZiksYS5yb3RhdGU5MGN3KHksZCksYS5ub3JtYWxpemUoeSx5KSxpLnByb2plY3RDb252ZXhPbnRvQXhpcyh0LGUsbyx5LGcpLGkucHJvamVjdENvbnZleE9udG9BeGlzKG4scyxjLHksQSk7dmFyIEI9ZyxxPUE7Z1swXT5BWzBdJiYocT1nLEI9QSwhMCk7dmFyIFM9cVswXS1CWzFdO3A9Uzw9MCwobnVsbD09PWx8fFM+bCkmJihhLmNvcHkoaCx5KSxsPVMsdT1wKX19cmV0dXJuIHV9O3ZhciBzdD1hLmZyb21WYWx1ZXMoMCwwKSxhdD1hLmZyb21WYWx1ZXMoMCwwKSxydD1hLmZyb21WYWx1ZXMoMCwwKTtpLmdldENsb3Nlc3RFZGdlPWZ1bmN0aW9uKHQsZSxvLGkpe3ZhciBuPXN0LHM9YXQsYz1ydDthLnJvdGF0ZShuLG8sLWUpLGkmJmEuc2NhbGUobixuLC0xKTtmb3IodmFyIGw9LTEscD10LnZlcnRpY2VzLmxlbmd0aCx1PS0xLGQ9MDtkIT09cDtkKyspe3Iocyx0LnZlcnRpY2VzWyhkKzEpJXBdLHQudmVydGljZXNbZCVwXSksYS5yb3RhdGU5MGN3KGMscyksYS5ub3JtYWxpemUoYyxjKTt2YXIgZj1oKGMsbik7KC0xPT09bHx8Zj51KSYmKGw9ZCVwLHU9Zil9cmV0dXJuIGx9O3ZhciBjdD1hLmNyZWF0ZSgpLGh0PWEuY3JlYXRlKCksbHQ9YS5jcmVhdGUoKSxwdD1hLmNyZWF0ZSgpLHV0PWEuY3JlYXRlKCksZHQ9YS5jcmVhdGUoKSxmdD1hLmNyZWF0ZSgpO2kucHJvdG90eXBlW3kuQ0lSQ0xFfHkuSEVJR0hURklFTERdPWkucHJvdG90eXBlLmNpcmNsZUhlaWdodGZpZWxkPWZ1bmN0aW9uKHQsZSxvLGksbixzLGgsbCxwLHUpe3ZhciBkPXMuaGVpZ2h0cyx1PXV8fGUucmFkaXVzLGY9cy5lbGVtZW50V2lkdGgsdj1odCx5PWN0LG09dXQsZz1mdCxBPWR0LGI9bHQsRT1wdCxCPU1hdGguZmxvb3IoKG9bMF0tdS1oWzBdKS9mKSxxPU1hdGguY2VpbCgob1swXSt1LWhbMF0pL2YpO0I8MCYmKEI9MCkscT49ZC5sZW5ndGgmJihxPWQubGVuZ3RoLTEpO2Zvcih2YXIgUD1kW0JdLHc9ZFtxXSxTPUI7UzxxO1MrKylkW1NdPHcmJih3PWRbU10pLGRbU10+UCYmKFA9ZFtTXSk7aWYob1sxXS11PlApcmV0dXJuIXAmJjA7Zm9yKHZhciBDPSExLFM9QjtTPHE7UysrKXthLnNldChiLFMqZixkW1NdKSxhLnNldChFLChTKzEpKmYsZFtTKzFdKSxhLmFkZChiLGIsaCksYS5hZGQoRSxFLGgpLGEuc3ViKEEsRSxiKSxhLnJvdGF0ZShBLEEsTWF0aC5QSS8yKSxhLm5vcm1hbGl6ZShBLEEpLGEuc2NhbGUoeSxBLC11KSxhLmFkZCh5LHksbyksYS5zdWIodix5LGIpO3ZhciBMPWEuZG90KHYsQSk7aWYoeVswXT49YlswXSYmeVswXTxFWzBdJiZMPD0wKXtpZihwKXJldHVybiEwO0M9ITAsYS5zY2FsZSh2LEEsLUwpLGEuYWRkKG0seSx2KSxhLmNvcHkoZyxBKTt4PXRoaXMuY3JlYXRlQ29udGFjdEVxdWF0aW9uKG4sdCxzLGUpO2EuY29weSh4Lm5vcm1hbEEsZyksYS5zY2FsZSh4LmNvbnRhY3RQb2ludEIseC5ub3JtYWxBLC11KSxjKHguY29udGFjdFBvaW50Qix4LmNvbnRhY3RQb2ludEIsbykscih4LmNvbnRhY3RQb2ludEIseC5jb250YWN0UG9pbnRCLHQucG9zaXRpb24pLGEuY29weSh4LmNvbnRhY3RQb2ludEEsbSksYS5zdWIoeC5jb250YWN0UG9pbnRBLHguY29udGFjdFBvaW50QSxuLnBvc2l0aW9uKSx0aGlzLmNvbnRhY3RFcXVhdGlvbnMucHVzaCh4KSx0aGlzLmVuYWJsZUZyaWN0aW9uJiZ0aGlzLmZyaWN0aW9uRXF1YXRpb25zLnB1c2godGhpcy5jcmVhdGVGcmljdGlvbkZyb21Db250YWN0KHgpKX19aWYoQz0hMSx1PjApZm9yKFM9QjtTPD1xO1MrKylpZihhLnNldChiLFMqZixkW1NdKSxhLmFkZChiLGIsaCksYS5zdWIodixvLGIpLGEuc3F1YXJlZExlbmd0aCh2KTxNYXRoLnBvdyh1LDIpKXtpZihwKXJldHVybiEwO0M9ITA7dmFyIHg9dGhpcy5jcmVhdGVDb250YWN0RXF1YXRpb24obix0LHMsZSk7YS5jb3B5KHgubm9ybWFsQSx2KSxhLm5vcm1hbGl6ZSh4Lm5vcm1hbEEseC5ub3JtYWxBKSxhLnNjYWxlKHguY29udGFjdFBvaW50Qix4Lm5vcm1hbEEsLXUpLGMoeC5jb250YWN0UG9pbnRCLHguY29udGFjdFBvaW50QixvKSxyKHguY29udGFjdFBvaW50Qix4LmNvbnRhY3RQb2ludEIsdC5wb3NpdGlvbikscih4LmNvbnRhY3RQb2ludEEsYixoKSxjKHguY29udGFjdFBvaW50QSx4LmNvbnRhY3RQb2ludEEsaCkscih4LmNvbnRhY3RQb2ludEEseC5jb250YWN0UG9pbnRBLG4ucG9zaXRpb24pLHRoaXMuY29udGFjdEVxdWF0aW9ucy5wdXNoKHgpLHRoaXMuZW5hYmxlRnJpY3Rpb24mJnRoaXMuZnJpY3Rpb25FcXVhdGlvbnMucHVzaCh0aGlzLmNyZWF0ZUZyaWN0aW9uRnJvbUNvbnRhY3QoeCkpfXJldHVybiBDPzE6MH07dmFyIHZ0PWEuY3JlYXRlKCkseXQ9YS5jcmVhdGUoKSxtdD1hLmNyZWF0ZSgpLGd0PW5ldyB2KHt2ZXJ0aWNlczpbYS5jcmVhdGUoKSxhLmNyZWF0ZSgpLGEuY3JlYXRlKCksYS5jcmVhdGUoKV19KTtpLnByb3RvdHlwZVt5LkJPWHx5LkhFSUdIVEZJRUxEXT1pLnByb3RvdHlwZVt5LkNPTlZFWHx5LkhFSUdIVEZJRUxEXT1pLnByb3RvdHlwZS5jb252ZXhIZWlnaHRmaWVsZD1mdW5jdGlvbih0LGUsbyxpLG4scyxyLGMsaCl7dmFyIGw9cy5oZWlnaHRzLHA9cy5lbGVtZW50V2lkdGgsdT12dCxkPXl0LGY9bXQsdj1ndCx5PU1hdGguZmxvb3IoKHQuYWFiYi5sb3dlckJvdW5kWzBdLXJbMF0pL3ApLG09TWF0aC5jZWlsKCh0LmFhYmIudXBwZXJCb3VuZFswXS1yWzBdKS9wKTt5PDAmJih5PTApLG0+PWwubGVuZ3RoJiYobT1sLmxlbmd0aC0xKTtmb3IodmFyIGc9bFt5XSxBPWxbbV0sYj15O2I8bTtiKyspbFtiXTxBJiYoQT1sW2JdKSxsW2JdPmcmJihnPWxbYl0pO2lmKHQuYWFiYi5sb3dlckJvdW5kWzFdPmcpcmV0dXJuIWgmJjA7Zm9yKHZhciBFPTAsYj15O2I8bTtiKyspe2Euc2V0KHUsYipwLGxbYl0pLGEuc2V0KGQsKGIrMSkqcCxsW2IrMV0pLGEuYWRkKHUsdSxyKSxhLmFkZChkLGQscik7YS5zZXQoZiwuNSooZFswXSt1WzBdKSwuNSooZFsxXSt1WzFdLTEwMCkpLGEuc3ViKHYudmVydGljZXNbMF0sZCxmKSxhLnN1Yih2LnZlcnRpY2VzWzFdLHUsZiksYS5jb3B5KHYudmVydGljZXNbMl0sdi52ZXJ0aWNlc1sxXSksYS5jb3B5KHYudmVydGljZXNbM10sdi52ZXJ0aWNlc1swXSksdi52ZXJ0aWNlc1syXVsxXS09MTAwLHYudmVydGljZXNbM11bMV0tPTEwMCxFKz10aGlzLmNvbnZleENvbnZleCh0LGUsbyxpLG4sdixmLDAsaCl9cmV0dXJuIEV9fSx7XCIuLi9lcXVhdGlvbnMvQ29udGFjdEVxdWF0aW9uXCI6MjEsXCIuLi9lcXVhdGlvbnMvRXF1YXRpb25cIjoyMixcIi4uL2VxdWF0aW9ucy9GcmljdGlvbkVxdWF0aW9uXCI6MjMsXCIuLi9tYXRoL3ZlYzJcIjozMCxcIi4uL29iamVjdHMvQm9keVwiOjMxLFwiLi4vc2hhcGVzL0JveFwiOjM3LFwiLi4vc2hhcGVzL0NpcmNsZVwiOjM5LFwiLi4vc2hhcGVzL0NvbnZleFwiOjQwLFwiLi4vc2hhcGVzL1NoYXBlXCI6NDUsXCIuLi91dGlscy9Db250YWN0RXF1YXRpb25Qb29sXCI6NDgsXCIuLi91dGlscy9GcmljdGlvbkVxdWF0aW9uUG9vbFwiOjQ5LFwiLi4vdXRpbHMvVHVwbGVEaWN0aW9uYXJ5XCI6NTYsXCIuLi91dGlscy9VdGlsc1wiOjU3fV0sMTE6W2Z1bmN0aW9uKHQsZSxvKXtmdW5jdGlvbiBpKHQpe3Q9dHx8e30sdGhpcy5mcm9tPXQuZnJvbT9zLmZyb21WYWx1ZXModC5mcm9tWzBdLHQuZnJvbVsxXSk6cy5jcmVhdGUoKSx0aGlzLnRvPXQudG8/cy5mcm9tVmFsdWVzKHQudG9bMF0sdC50b1sxXSk6cy5jcmVhdGUoKSx0aGlzLmNoZWNrQ29sbGlzaW9uUmVzcG9uc2U9dm9pZCAwPT09dC5jaGVja0NvbGxpc2lvblJlc3BvbnNlfHx0LmNoZWNrQ29sbGlzaW9uUmVzcG9uc2UsdGhpcy5za2lwQmFja2ZhY2VzPSEhdC5za2lwQmFja2ZhY2VzLHRoaXMuY29sbGlzaW9uTWFzaz12b2lkIDAhPT10LmNvbGxpc2lvbk1hc2s/dC5jb2xsaXNpb25NYXNrOi0xLHRoaXMuY29sbGlzaW9uR3JvdXA9dm9pZCAwIT09dC5jb2xsaXNpb25Hcm91cD90LmNvbGxpc2lvbkdyb3VwOi0xLHRoaXMubW9kZT12b2lkIDAhPT10Lm1vZGU/dC5tb2RlOmkuQU5ZLHRoaXMuY2FsbGJhY2s9dC5jYWxsYmFja3x8ZnVuY3Rpb24odCl7fSx0aGlzLmRpcmVjdGlvbj1zLmNyZWF0ZSgpLHRoaXMubGVuZ3RoPTEsdGhpcy51cGRhdGUoKX1mdW5jdGlvbiBuKHQsZSxvKXtzLnN1YihyLG8sdCk7dmFyIGk9cy5kb3QocixlKTtyZXR1cm4gcy5zY2FsZShjLGUsaSkscy5hZGQoYyxjLHQpLHMuc3F1YXJlZERpc3RhbmNlKG8sYyl9ZS5leHBvcnRzPWk7dmFyIHM9dChcIi4uL21hdGgvdmVjMlwiKTt0KFwiLi4vY29sbGlzaW9uL1JheWNhc3RSZXN1bHRcIiksdChcIi4uL3NoYXBlcy9TaGFwZVwiKSx0KFwiLi4vY29sbGlzaW9uL0FBQkJcIik7aS5wcm90b3R5cGUuY29uc3RydWN0b3I9aSxpLkNMT1NFU1Q9MSxpLkFOWT0yLGkuQUxMPTQsaS5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5kaXJlY3Rpb247cy5zdWIodCx0aGlzLnRvLHRoaXMuZnJvbSksdGhpcy5sZW5ndGg9cy5sZW5ndGgodCkscy5ub3JtYWxpemUodCx0KX0saS5wcm90b3R5cGUuaW50ZXJzZWN0Qm9kaWVzPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBvPTAsaT1lLmxlbmd0aDshdC5zaG91bGRTdG9wKHRoaXMpJiZvPGk7bysrKXt2YXIgbj1lW29dLHM9bi5nZXRBQUJCKCk7KHMub3ZlcmxhcHNSYXkodGhpcyk+PTB8fHMuY29udGFpbnNQb2ludCh0aGlzLmZyb20pKSYmdGhpcy5pbnRlcnNlY3RCb2R5KHQsbil9fTt2YXIgYT1zLmNyZWF0ZSgpO2kucHJvdG90eXBlLmludGVyc2VjdEJvZHk9ZnVuY3Rpb24odCxlKXt2YXIgbz10aGlzLmNoZWNrQ29sbGlzaW9uUmVzcG9uc2U7aWYoIW98fGUuY29sbGlzaW9uUmVzcG9uc2UpZm9yKHZhciBpPWEsbj0wLHI9ZS5zaGFwZXMubGVuZ3RoO248cjtuKyspe3ZhciBjPWUuc2hhcGVzW25dO2lmKCghb3x8Yy5jb2xsaXNpb25SZXNwb25zZSkmJigwIT0odGhpcy5jb2xsaXNpb25Hcm91cCZjLmNvbGxpc2lvbk1hc2spJiYwIT0oYy5jb2xsaXNpb25Hcm91cCZ0aGlzLmNvbGxpc2lvbk1hc2spKSl7cy5yb3RhdGUoaSxjLnBvc2l0aW9uLGUuYW5nbGUpLHMuYWRkKGksaSxlLnBvc2l0aW9uKTt2YXIgaD1jLmFuZ2xlK2UuYW5nbGU7aWYodGhpcy5pbnRlcnNlY3RTaGFwZSh0LGMsaCxpLGUpLHQuc2hvdWxkU3RvcCh0aGlzKSlicmVha319fSxpLnByb3RvdHlwZS5pbnRlcnNlY3RTaGFwZT1mdW5jdGlvbih0LGUsbyxpLHMpe24odGhpcy5mcm9tLHRoaXMuZGlyZWN0aW9uLGkpPmUuYm91bmRpbmdSYWRpdXMqZS5ib3VuZGluZ1JhZGl1c3x8KHRoaXMuX2N1cnJlbnRCb2R5PXMsdGhpcy5fY3VycmVudFNoYXBlPWUsZS5yYXljYXN0KHQsdGhpcyxpLG8pLHRoaXMuX2N1cnJlbnRCb2R5PXRoaXMuX2N1cnJlbnRTaGFwZT1udWxsKX0saS5wcm90b3R5cGUuZ2V0QUFCQj1mdW5jdGlvbih0KXt2YXIgZT10aGlzLnRvLG89dGhpcy5mcm9tO3Muc2V0KHQubG93ZXJCb3VuZCxNYXRoLm1pbihlWzBdLG9bMF0pLE1hdGgubWluKGVbMV0sb1sxXSkpLHMuc2V0KHQudXBwZXJCb3VuZCxNYXRoLm1heChlWzBdLG9bMF0pLE1hdGgubWF4KGVbMV0sb1sxXSkpfTtzLmNyZWF0ZSgpO2kucHJvdG90eXBlLnJlcG9ydEludGVyc2VjdGlvbj1mdW5jdGlvbih0LGUsbyxuKXt0aGlzLmZyb20sdGhpcy50bzt2YXIgYT10aGlzLl9jdXJyZW50U2hhcGUscj10aGlzLl9jdXJyZW50Qm9keTtpZighKHRoaXMuc2tpcEJhY2tmYWNlcyYmcy5kb3Qobyx0aGlzLmRpcmVjdGlvbik+MCkpc3dpdGNoKHRoaXMubW9kZSl7Y2FzZSBpLkFMTDp0LnNldChvLGEscixlLG4pLHRoaXMuY2FsbGJhY2sodCk7YnJlYWs7Y2FzZSBpLkNMT1NFU1Q6KGU8dC5mcmFjdGlvbnx8IXQuaGFzSGl0KCkpJiZ0LnNldChvLGEscixlLG4pO2JyZWFrO2Nhc2UgaS5BTlk6dC5zZXQobyxhLHIsZSxuKX19O3ZhciByPXMuY3JlYXRlKCksYz1zLmNyZWF0ZSgpfSx7XCIuLi9jb2xsaXNpb24vQUFCQlwiOjcsXCIuLi9jb2xsaXNpb24vUmF5Y2FzdFJlc3VsdFwiOjEyLFwiLi4vbWF0aC92ZWMyXCI6MzAsXCIuLi9zaGFwZXMvU2hhcGVcIjo0NX1dLDEyOltmdW5jdGlvbih0LGUsbyl7ZnVuY3Rpb24gaSgpe3RoaXMubm9ybWFsPW4uY3JlYXRlKCksdGhpcy5zaGFwZT1udWxsLHRoaXMuYm9keT1udWxsLHRoaXMuZmFjZUluZGV4PS0xLHRoaXMuZnJhY3Rpb249LTEsdGhpcy5pc1N0b3BwZWQ9ITF9dmFyIG49dChcIi4uL21hdGgvdmVjMlwiKSxzPXQoXCIuLi9jb2xsaXNpb24vUmF5XCIpO2UuZXhwb3J0cz1pLGkucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7bi5zZXQodGhpcy5ub3JtYWwsMCwwKSx0aGlzLnNoYXBlPW51bGwsdGhpcy5ib2R5PW51bGwsdGhpcy5mYWNlSW5kZXg9LTEsdGhpcy5mcmFjdGlvbj0tMSx0aGlzLmlzU3RvcHBlZD0hMX0saS5wcm90b3R5cGUuZ2V0SGl0RGlzdGFuY2U9ZnVuY3Rpb24odCl7cmV0dXJuIG4uZGlzdGFuY2UodC5mcm9tLHQudG8pKnRoaXMuZnJhY3Rpb259LGkucHJvdG90eXBlLmhhc0hpdD1mdW5jdGlvbigpe3JldHVybi0xIT09dGhpcy5mcmFjdGlvbn0saS5wcm90b3R5cGUuZ2V0SGl0UG9pbnQ9ZnVuY3Rpb24odCxlKXtuLmxlcnAodCxlLmZyb20sZS50byx0aGlzLmZyYWN0aW9uKX0saS5wcm90b3R5cGUuc3RvcD1mdW5jdGlvbigpe3RoaXMuaXNTdG9wcGVkPSEwfSxpLnByb3RvdHlwZS5zaG91bGRTdG9wPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmlzU3RvcHBlZHx8LTEhPT10aGlzLmZyYWN0aW9uJiZ0Lm1vZGU9PT1zLkFOWX0saS5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKHQsZSxvLGkscyl7bi5jb3B5KHRoaXMubm9ybWFsLHQpLHRoaXMuc2hhcGU9ZSx0aGlzLmJvZHk9byx0aGlzLmZyYWN0aW9uPWksdGhpcy5mYWNlSW5kZXg9c319LHtcIi4uL2NvbGxpc2lvbi9SYXlcIjoxMSxcIi4uL21hdGgvdmVjMlwiOjMwfV0sMTM6W2Z1bmN0aW9uKHQsZSxvKXtmdW5jdGlvbiBpKCl7cy5jYWxsKHRoaXMscy5TQVApLHRoaXMuYXhpc0xpc3Q9W10sdGhpcy5heGlzSW5kZXg9MDt2YXIgdD10aGlzO3RoaXMuX2FkZEJvZHlIYW5kbGVyPWZ1bmN0aW9uKGUpe3QuYXhpc0xpc3QucHVzaChlLmJvZHkpfSx0aGlzLl9yZW1vdmVCb2R5SGFuZGxlcj1mdW5jdGlvbihlKXt2YXIgbz10LmF4aXNMaXN0LmluZGV4T2YoZS5ib2R5KTstMSE9PW8mJnQuYXhpc0xpc3Quc3BsaWNlKG8sMSl9fXZhciBuPXQoXCIuLi91dGlscy9VdGlsc1wiKSxzPXQoXCIuLi9jb2xsaXNpb24vQnJvYWRwaGFzZVwiKTtlLmV4cG9ydHM9aSwoaS5wcm90b3R5cGU9bmV3IHMpLmNvbnN0cnVjdG9yPWksaS5wcm90b3R5cGUuc2V0V29ybGQ9ZnVuY3Rpb24odCl7dGhpcy5heGlzTGlzdC5sZW5ndGg9MCxuLmFwcGVuZEFycmF5KHRoaXMuYXhpc0xpc3QsdC5ib2RpZXMpLHQub2ZmKFwiYWRkQm9keVwiLHRoaXMuX2FkZEJvZHlIYW5kbGVyKS5vZmYoXCJyZW1vdmVCb2R5XCIsdGhpcy5fcmVtb3ZlQm9keUhhbmRsZXIpLHQub24oXCJhZGRCb2R5XCIsdGhpcy5fYWRkQm9keUhhbmRsZXIpLm9uKFwicmVtb3ZlQm9keVwiLHRoaXMuX3JlbW92ZUJvZHlIYW5kbGVyKSx0aGlzLndvcmxkPXR9LGkuc29ydEF4aXNMaXN0PWZ1bmN0aW9uKHQsZSl7ZXw9MDtmb3IodmFyIG89MSxpPXQubGVuZ3RoO288aTtvKyspe2Zvcih2YXIgbj10W29dLHM9by0xO3M+PTAmJiEodFtzXS5hYWJiLmxvd2VyQm91bmRbZV08PW4uYWFiYi5sb3dlckJvdW5kW2VdKTtzLS0pdFtzKzFdPXRbc107dFtzKzFdPW59cmV0dXJuIHR9LGkucHJvdG90eXBlLnNvcnRMaXN0PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5heGlzTGlzdCxlPXRoaXMuYXhpc0luZGV4O2kuc29ydEF4aXNMaXN0KHQsZSl9LGkucHJvdG90eXBlLmdldENvbGxpc2lvblBhaXJzPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuYXhpc0xpc3Qsbz10aGlzLnJlc3VsdCxpPXRoaXMuYXhpc0luZGV4O28ubGVuZ3RoPTA7Zm9yKHZhciBuPWUubGVuZ3RoO24tLTspe3ZhciBhPWVbbl07YS5hYWJiTmVlZHNVcGRhdGUmJmEudXBkYXRlQUFCQigpfXRoaXMuc29ydExpc3QoKTtmb3IodmFyIHI9MCxjPTB8ZS5sZW5ndGg7ciE9PWM7cisrKWZvcih2YXIgaD1lW3JdLGw9cisxO2w8YztsKyspe3ZhciBwPWVbbF07aWYoIShwLmFhYmIubG93ZXJCb3VuZFtpXTw9aC5hYWJiLnVwcGVyQm91bmRbaV0pKWJyZWFrO3MuY2FuQ29sbGlkZShoLHApJiZ0aGlzLmJvdW5kaW5nVm9sdW1lQ2hlY2soaCxwKSYmby5wdXNoKGgscCl9cmV0dXJuIG99LGkucHJvdG90eXBlLmFhYmJRdWVyeT1mdW5jdGlvbih0LGUsbyl7bz1vfHxbXSx0aGlzLnNvcnRMaXN0KCk7dmFyIGk9dGhpcy5heGlzSW5kZXgsbj1cInhcIjsxPT09aSYmKG49XCJ5XCIpLDI9PT1pJiYobj1cInpcIik7Zm9yKHZhciBzPXRoaXMuYXhpc0xpc3QsYT0oZS5sb3dlckJvdW5kW25dLGUudXBwZXJCb3VuZFtuXSwwKTthPHMubGVuZ3RoO2ErKyl7dmFyIHI9c1thXTtyLmFhYmJOZWVkc1VwZGF0ZSYmci51cGRhdGVBQUJCKCksci5hYWJiLm92ZXJsYXBzKGUpJiZvLnB1c2gocil9cmV0dXJuIG99fSx7XCIuLi9jb2xsaXNpb24vQnJvYWRwaGFzZVwiOjgsXCIuLi91dGlscy9VdGlsc1wiOjU3fV0sMTQ6W2Z1bmN0aW9uKHQsZSxvKXtmdW5jdGlvbiBpKHQsZSxvLGkpe3RoaXMudHlwZT1vLGk9bi5kZWZhdWx0cyhpLHtjb2xsaWRlQ29ubmVjdGVkOiEwLHdha2VVcEJvZGllczohMH0pLHRoaXMuZXF1YXRpb25zPVtdLHRoaXMuYm9keUE9dCx0aGlzLmJvZHlCPWUsdGhpcy5jb2xsaWRlQ29ubmVjdGVkPWkuY29sbGlkZUNvbm5lY3RlZCxpLndha2VVcEJvZGllcyYmKHQmJnQud2FrZVVwKCksZSYmZS53YWtlVXAoKSl9ZS5leHBvcnRzPWk7dmFyIG49dChcIi4uL3V0aWxzL1V0aWxzXCIpO2kucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcihcIm1ldGhvZCB1cGRhdGUoKSBub3QgaW1wbG1lbWVudGVkIGluIHRoaXMgQ29uc3RyYWludCBzdWJjbGFzcyFcIil9LGkuRElTVEFOQ0U9MSxpLkdFQVI9MixpLkxPQ0s9MyxpLlBSSVNNQVRJQz00LGkuUkVWT0xVVEU9NSxpLnByb3RvdHlwZS5zZXRTdGlmZm5lc3M9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMuZXF1YXRpb25zLG89MDtvIT09ZS5sZW5ndGg7bysrKXt2YXIgaT1lW29dO2kuc3RpZmZuZXNzPXQsaS5uZWVkc1VwZGF0ZT0hMH19LGkucHJvdG90eXBlLnNldFJlbGF4YXRpb249ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMuZXF1YXRpb25zLG89MDtvIT09ZS5sZW5ndGg7bysrKXt2YXIgaT1lW29dO2kucmVsYXhhdGlvbj10LGkubmVlZHNVcGRhdGU9ITB9fX0se1wiLi4vdXRpbHMvVXRpbHNcIjo1N31dLDE1OltmdW5jdGlvbih0LGUsbyl7ZnVuY3Rpb24gaSh0LGUsbyl7bz1yLmRlZmF1bHRzKG8se2xvY2FsQW5jaG9yQTpbMCwwXSxsb2NhbEFuY2hvckI6WzAsMF19KSxuLmNhbGwodGhpcyx0LGUsbi5ESVNUQU5DRSxvKSx0aGlzLmxvY2FsQW5jaG9yQT1hLmZyb21WYWx1ZXMoby5sb2NhbEFuY2hvckFbMF0sby5sb2NhbEFuY2hvckFbMV0pLHRoaXMubG9jYWxBbmNob3JCPWEuZnJvbVZhbHVlcyhvLmxvY2FsQW5jaG9yQlswXSxvLmxvY2FsQW5jaG9yQlsxXSk7dmFyIGk9dGhpcy5sb2NhbEFuY2hvckEsYz10aGlzLmxvY2FsQW5jaG9yQjtpZih0aGlzLmRpc3RhbmNlPTAsXCJudW1iZXJcIj09dHlwZW9mIG8uZGlzdGFuY2UpdGhpcy5kaXN0YW5jZT1vLmRpc3RhbmNlO2Vsc2V7dmFyIGg9YS5jcmVhdGUoKSxsPWEuY3JlYXRlKCkscD1hLmNyZWF0ZSgpO2Eucm90YXRlKGgsaSx0LmFuZ2xlKSxhLnJvdGF0ZShsLGMsZS5hbmdsZSksYS5hZGQocCxlLnBvc2l0aW9uLGwpLGEuc3ViKHAscCxoKSxhLnN1YihwLHAsdC5wb3NpdGlvbiksdGhpcy5kaXN0YW5jZT1hLmxlbmd0aChwKX12YXIgdTt1PXZvaWQgMD09PW8ubWF4Rm9yY2U/TnVtYmVyLk1BWF9WQUxVRTpvLm1heEZvcmNlO3ZhciBkPW5ldyBzKHQsZSwtdSx1KTt0aGlzLmVxdWF0aW9ucz1bZF0sdGhpcy5tYXhGb3JjZT11O3ZhciBwPWEuY3JlYXRlKCksZj1hLmNyZWF0ZSgpLHY9YS5jcmVhdGUoKSx5PXRoaXM7ZC5jb21wdXRlR3E9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmJvZHlBLGU9dGhpcy5ib2R5QixvPXQucG9zaXRpb24sbj1lLnBvc2l0aW9uO3JldHVybiBhLnJvdGF0ZShmLGksdC5hbmdsZSksYS5yb3RhdGUodixjLGUuYW5nbGUpLGEuYWRkKHAsbix2KSxhLnN1YihwLHAsZiksYS5zdWIocCxwLG8pLGEubGVuZ3RoKHApLXkuZGlzdGFuY2V9LHRoaXMuc2V0TWF4Rm9yY2UodSksdGhpcy51cHBlckxpbWl0RW5hYmxlZD0hMSx0aGlzLnVwcGVyTGltaXQ9MSx0aGlzLmxvd2VyTGltaXRFbmFibGVkPSExLHRoaXMubG93ZXJMaW1pdD0wLHRoaXMucG9zaXRpb249MH12YXIgbj10KFwiLi9Db25zdHJhaW50XCIpLHM9dChcIi4uL2VxdWF0aW9ucy9FcXVhdGlvblwiKSxhPXQoXCIuLi9tYXRoL3ZlYzJcIikscj10KFwiLi4vdXRpbHMvVXRpbHNcIik7ZS5leHBvcnRzPWksKGkucHJvdG90eXBlPW5ldyBuKS5jb25zdHJ1Y3Rvcj1pO3ZhciBjPWEuY3JlYXRlKCksaD1hLmNyZWF0ZSgpLGw9YS5jcmVhdGUoKTtpLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmVxdWF0aW9uc1swXSxlPXRoaXMuYm9keUEsbz10aGlzLmJvZHlCLGk9KHRoaXMuZGlzdGFuY2UsZS5wb3NpdGlvbiksbj1vLnBvc2l0aW9uLHM9dGhpcy5lcXVhdGlvbnNbMF0scj10Lkc7YS5yb3RhdGUoaCx0aGlzLmxvY2FsQW5jaG9yQSxlLmFuZ2xlKSxhLnJvdGF0ZShsLHRoaXMubG9jYWxBbmNob3JCLG8uYW5nbGUpLGEuYWRkKGMsbixsKSxhLnN1YihjLGMsaCksYS5zdWIoYyxjLGkpLHRoaXMucG9zaXRpb249YS5sZW5ndGgoYyk7dmFyIHA9ITE7aWYodGhpcy51cHBlckxpbWl0RW5hYmxlZCYmdGhpcy5wb3NpdGlvbj50aGlzLnVwcGVyTGltaXQmJihzLm1heEZvcmNlPTAscy5taW5Gb3JjZT0tdGhpcy5tYXhGb3JjZSx0aGlzLmRpc3RhbmNlPXRoaXMudXBwZXJMaW1pdCxwPSEwKSx0aGlzLmxvd2VyTGltaXRFbmFibGVkJiZ0aGlzLnBvc2l0aW9uPHRoaXMubG93ZXJMaW1pdCYmKHMubWF4Rm9yY2U9dGhpcy5tYXhGb3JjZSxzLm1pbkZvcmNlPTAsdGhpcy5kaXN0YW5jZT10aGlzLmxvd2VyTGltaXQscD0hMCksIXRoaXMubG93ZXJMaW1pdEVuYWJsZWQmJiF0aGlzLnVwcGVyTGltaXRFbmFibGVkfHxwKXtzLmVuYWJsZWQ9ITAsYS5ub3JtYWxpemUoYyxjKTt2YXIgdT1hLmNyb3NzTGVuZ3RoKGgsYyksZD1hLmNyb3NzTGVuZ3RoKGwsYyk7clswXT0tY1swXSxyWzFdPS1jWzFdLHJbMl09LXUsclszXT1jWzBdLHJbNF09Y1sxXSxyWzVdPWR9ZWxzZSBzLmVuYWJsZWQ9ITF9LGkucHJvdG90eXBlLnNldE1heEZvcmNlPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZXF1YXRpb25zWzBdO2UubWluRm9yY2U9LXQsZS5tYXhGb3JjZT10fSxpLnByb3RvdHlwZS5nZXRNYXhGb3JjZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmVxdWF0aW9uc1swXS5tYXhGb3JjZX19LHtcIi4uL2VxdWF0aW9ucy9FcXVhdGlvblwiOjIyLFwiLi4vbWF0aC92ZWMyXCI6MzAsXCIuLi91dGlscy9VdGlsc1wiOjU3LFwiLi9Db25zdHJhaW50XCI6MTR9XSwxNjpbZnVuY3Rpb24odCxlLG8pe2Z1bmN0aW9uIGkodCxlLG8pe289b3x8e30sbi5jYWxsKHRoaXMsdCxlLG4uR0VBUixvKSx0aGlzLnJhdGlvPXZvaWQgMCE9PW8ucmF0aW8/by5yYXRpbzoxLHRoaXMuYW5nbGU9dm9pZCAwIT09by5hbmdsZT9vLmFuZ2xlOmUuYW5nbGUtdGhpcy5yYXRpbyp0LmFuZ2xlLG8uYW5nbGU9dGhpcy5hbmdsZSxvLnJhdGlvPXRoaXMucmF0aW8sdGhpcy5lcXVhdGlvbnM9W25ldyBzKHQsZSxvKV0sdm9pZCAwIT09by5tYXhUb3JxdWUmJnRoaXMuc2V0TWF4VG9ycXVlKG8ubWF4VG9ycXVlKX12YXIgbj10KFwiLi9Db25zdHJhaW50XCIpLHM9KHQoXCIuLi9lcXVhdGlvbnMvRXF1YXRpb25cIiksdChcIi4uL2VxdWF0aW9ucy9BbmdsZUxvY2tFcXVhdGlvblwiKSk7dChcIi4uL21hdGgvdmVjMlwiKTtlLmV4cG9ydHM9aSwoaS5wcm90b3R5cGU9bmV3IG4pLmNvbnN0cnVjdG9yPWksaS5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5lcXVhdGlvbnNbMF07dC5yYXRpbyE9PXRoaXMucmF0aW8mJnQuc2V0UmF0aW8odGhpcy5yYXRpbyksdC5hbmdsZT10aGlzLmFuZ2xlfSxpLnByb3RvdHlwZS5zZXRNYXhUb3JxdWU9ZnVuY3Rpb24odCl7dGhpcy5lcXVhdGlvbnNbMF0uc2V0TWF4VG9ycXVlKHQpfSxpLnByb3RvdHlwZS5nZXRNYXhUb3JxdWU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZXF1YXRpb25zWzBdLm1heEZvcmNlfX0se1wiLi4vZXF1YXRpb25zL0FuZ2xlTG9ja0VxdWF0aW9uXCI6MjAsXCIuLi9lcXVhdGlvbnMvRXF1YXRpb25cIjoyMixcIi4uL21hdGgvdmVjMlwiOjMwLFwiLi9Db25zdHJhaW50XCI6MTR9XSwxNzpbZnVuY3Rpb24odCxlLG8pe2Z1bmN0aW9uIGkodCxlLG8pe289b3x8e30sbi5jYWxsKHRoaXMsdCxlLG4uTE9DSyxvKTt2YXIgaT12b2lkIDA9PT1vLm1heEZvcmNlP051bWJlci5NQVhfVkFMVUU6by5tYXhGb3JjZSxyPShvLmxvY2FsQW5nbGVCLG5ldyBhKHQsZSwtaSxpKSksYz1uZXcgYSh0LGUsLWksaSksaD1uZXcgYSh0LGUsLWksaSksbD1zLmNyZWF0ZSgpLHA9cy5jcmVhdGUoKSx1PXRoaXM7ci5jb21wdXRlR3E9ZnVuY3Rpb24oKXtyZXR1cm4gcy5yb3RhdGUobCx1LmxvY2FsT2Zmc2V0Qix0LmFuZ2xlKSxzLnN1YihwLGUucG9zaXRpb24sdC5wb3NpdGlvbikscy5zdWIocCxwLGwpLHBbMF19LGMuY29tcHV0ZUdxPWZ1bmN0aW9uKCl7cmV0dXJuIHMucm90YXRlKGwsdS5sb2NhbE9mZnNldEIsdC5hbmdsZSkscy5zdWIocCxlLnBvc2l0aW9uLHQucG9zaXRpb24pLHMuc3ViKHAscCxsKSxwWzFdfTt2YXIgZD1zLmNyZWF0ZSgpLGY9cy5jcmVhdGUoKTtoLmNvbXB1dGVHcT1mdW5jdGlvbigpe3JldHVybiBzLnJvdGF0ZShkLHUubG9jYWxPZmZzZXRCLGUuYW5nbGUtdS5sb2NhbEFuZ2xlQikscy5zY2FsZShkLGQsLTEpLHMuc3ViKHAsdC5wb3NpdGlvbixlLnBvc2l0aW9uKSxzLmFkZChwLHAsZCkscy5yb3RhdGUoZixkLC1NYXRoLlBJLzIpLHMubm9ybWFsaXplKGYsZikscy5kb3QocCxmKX0sdGhpcy5sb2NhbE9mZnNldEI9cy5jcmVhdGUoKSxvLmxvY2FsT2Zmc2V0Qj9zLmNvcHkodGhpcy5sb2NhbE9mZnNldEIsby5sb2NhbE9mZnNldEIpOihzLnN1Yih0aGlzLmxvY2FsT2Zmc2V0QixlLnBvc2l0aW9uLHQucG9zaXRpb24pLHMucm90YXRlKHRoaXMubG9jYWxPZmZzZXRCLHRoaXMubG9jYWxPZmZzZXRCLC10LmFuZ2xlKSksdGhpcy5sb2NhbEFuZ2xlQj0wLFwibnVtYmVyXCI9PXR5cGVvZiBvLmxvY2FsQW5nbGVCP3RoaXMubG9jYWxBbmdsZUI9by5sb2NhbEFuZ2xlQjp0aGlzLmxvY2FsQW5nbGVCPWUuYW5nbGUtdC5hbmdsZSx0aGlzLmVxdWF0aW9ucy5wdXNoKHIsYyxoKSx0aGlzLnNldE1heEZvcmNlKGkpfXZhciBuPXQoXCIuL0NvbnN0cmFpbnRcIikscz10KFwiLi4vbWF0aC92ZWMyXCIpLGE9dChcIi4uL2VxdWF0aW9ucy9FcXVhdGlvblwiKTtlLmV4cG9ydHM9aSwoaS5wcm90b3R5cGU9bmV3IG4pLmNvbnN0cnVjdG9yPWksaS5wcm90b3R5cGUuc2V0TWF4Rm9yY2U9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMuZXF1YXRpb25zLG89MDtvPHRoaXMuZXF1YXRpb25zLmxlbmd0aDtvKyspZVtvXS5tYXhGb3JjZT10LGVbb10ubWluRm9yY2U9LXR9LGkucHJvdG90eXBlLmdldE1heEZvcmNlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZXF1YXRpb25zWzBdLm1heEZvcmNlfTt2YXIgcj1zLmNyZWF0ZSgpLGM9cy5jcmVhdGUoKSxoPXMuY3JlYXRlKCksbD1zLmZyb21WYWx1ZXMoMSwwKSxwPXMuZnJvbVZhbHVlcygwLDEpO2kucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbigpe3ZhciB0PXRoaXMuZXF1YXRpb25zWzBdLGU9dGhpcy5lcXVhdGlvbnNbMV0sbz10aGlzLmVxdWF0aW9uc1syXSxpPXRoaXMuYm9keUEsbj10aGlzLmJvZHlCO3Mucm90YXRlKHIsdGhpcy5sb2NhbE9mZnNldEIsaS5hbmdsZSkscy5yb3RhdGUoYyx0aGlzLmxvY2FsT2Zmc2V0QixuLmFuZ2xlLXRoaXMubG9jYWxBbmdsZUIpLHMuc2NhbGUoYyxjLC0xKSxzLnJvdGF0ZShoLGMsTWF0aC5QSS8yKSxzLm5vcm1hbGl6ZShoLGgpLHQuR1swXT0tMSx0LkdbMV09MCx0LkdbMl09LXMuY3Jvc3NMZW5ndGgocixsKSx0LkdbM109MSxlLkdbMF09MCxlLkdbMV09LTEsZS5HWzJdPS1zLmNyb3NzTGVuZ3RoKHIscCksZS5HWzRdPTEsby5HWzBdPS1oWzBdLG8uR1sxXT0taFsxXSxvLkdbM109aFswXSxvLkdbNF09aFsxXSxvLkdbNV09cy5jcm9zc0xlbmd0aChjLGgpfX0se1wiLi4vZXF1YXRpb25zL0VxdWF0aW9uXCI6MjIsXCIuLi9tYXRoL3ZlYzJcIjozMCxcIi4vQ29uc3RyYWludFwiOjE0fV0sMTg6W2Z1bmN0aW9uKHQsZSxvKXtmdW5jdGlvbiBpKHQsZSxvKXtvPW98fHt9LG4uY2FsbCh0aGlzLHQsZSxuLlBSSVNNQVRJQyxvKTt2YXIgaT1yLmZyb21WYWx1ZXMoMCwwKSxoPXIuZnJvbVZhbHVlcygxLDApLGw9ci5mcm9tVmFsdWVzKDAsMCk7by5sb2NhbEFuY2hvckEmJnIuY29weShpLG8ubG9jYWxBbmNob3JBKSxvLmxvY2FsQXhpc0EmJnIuY29weShoLG8ubG9jYWxBeGlzQSksby5sb2NhbEFuY2hvckImJnIuY29weShsLG8ubG9jYWxBbmNob3JCKSx0aGlzLmxvY2FsQW5jaG9yQT1pLHRoaXMubG9jYWxBbmNob3JCPWwsdGhpcy5sb2NhbEF4aXNBPWg7dmFyIHA9dGhpcy5tYXhGb3JjZT12b2lkIDAhPT1vLm1heEZvcmNlP28ubWF4Rm9yY2U6TnVtYmVyLk1BWF9WQUxVRSx1PW5ldyBhKHQsZSwtcCxwKSxkPW5ldyByLmNyZWF0ZSxmPW5ldyByLmNyZWF0ZSx2PW5ldyByLmNyZWF0ZSx5PW5ldyByLmNyZWF0ZTtpZih1LmNvbXB1dGVHcT1mdW5jdGlvbigpe3JldHVybiByLmRvdCh2LHkpfSx1LnVwZGF0ZUphY29iaWFuPWZ1bmN0aW9uKCl7dmFyIG89dGhpcy5HLG49dC5wb3NpdGlvbixzPWUucG9zaXRpb247ci5yb3RhdGUoZCxpLHQuYW5nbGUpLHIucm90YXRlKGYsbCxlLmFuZ2xlKSxyLmFkZCh2LHMsZiksci5zdWIodix2LG4pLHIuc3ViKHYsdixkKSxyLnJvdGF0ZSh5LGgsdC5hbmdsZStNYXRoLlBJLzIpLG9bMF09LXlbMF0sb1sxXT0teVsxXSxvWzJdPS1yLmNyb3NzTGVuZ3RoKGQseSkrci5jcm9zc0xlbmd0aCh5LHYpLG9bM109eVswXSxvWzRdPXlbMV0sb1s1XT1yLmNyb3NzTGVuZ3RoKGYseSl9LHRoaXMuZXF1YXRpb25zLnB1c2godSksIW8uZGlzYWJsZVJvdGF0aW9uYWxMb2NrKXt2YXIgbT1uZXcgYyh0LGUsLXAscCk7dGhpcy5lcXVhdGlvbnMucHVzaChtKX10aGlzLnBvc2l0aW9uPTAsdGhpcy52ZWxvY2l0eT0wLHRoaXMubG93ZXJMaW1pdEVuYWJsZWQ9dm9pZCAwIT09by5sb3dlckxpbWl0LHRoaXMudXBwZXJMaW1pdEVuYWJsZWQ9dm9pZCAwIT09by51cHBlckxpbWl0LHRoaXMubG93ZXJMaW1pdD12b2lkIDAhPT1vLmxvd2VyTGltaXQ/by5sb3dlckxpbWl0OjAsdGhpcy51cHBlckxpbWl0PXZvaWQgMCE9PW8udXBwZXJMaW1pdD9vLnVwcGVyTGltaXQ6MSx0aGlzLnVwcGVyTGltaXRFcXVhdGlvbj1uZXcgcyh0LGUpLHRoaXMubG93ZXJMaW1pdEVxdWF0aW9uPW5ldyBzKHQsZSksdGhpcy51cHBlckxpbWl0RXF1YXRpb24ubWluRm9yY2U9dGhpcy5sb3dlckxpbWl0RXF1YXRpb24ubWluRm9yY2U9MCx0aGlzLnVwcGVyTGltaXRFcXVhdGlvbi5tYXhGb3JjZT10aGlzLmxvd2VyTGltaXRFcXVhdGlvbi5tYXhGb3JjZT1wLHRoaXMubW90b3JFcXVhdGlvbj1uZXcgYSh0LGUpLHRoaXMubW90b3JFbmFibGVkPSExLHRoaXMubW90b3JTcGVlZD0wO3ZhciBnPXRoaXMsQT10aGlzLm1vdG9yRXF1YXRpb247QS5jb21wdXRlR1c7QS5jb21wdXRlR3E9ZnVuY3Rpb24oKXtyZXR1cm4gMH0sQS5jb21wdXRlR1c9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLkcsZT10aGlzLmJvZHlBLG89dGhpcy5ib2R5QixpPWUudmVsb2NpdHksbj1vLnZlbG9jaXR5LHM9ZS5hbmd1bGFyVmVsb2NpdHksYT1vLmFuZ3VsYXJWZWxvY2l0eTtyZXR1cm4gdGhpcy5nbXVsdCh0LGkscyxuLGEpK2cubW90b3JTcGVlZH19dmFyIG49dChcIi4vQ29uc3RyYWludFwiKSxzPXQoXCIuLi9lcXVhdGlvbnMvQ29udGFjdEVxdWF0aW9uXCIpLGE9dChcIi4uL2VxdWF0aW9ucy9FcXVhdGlvblwiKSxyPXQoXCIuLi9tYXRoL3ZlYzJcIiksYz10KFwiLi4vZXF1YXRpb25zL1JvdGF0aW9uYWxMb2NrRXF1YXRpb25cIik7ZS5leHBvcnRzPWksKGkucHJvdG90eXBlPW5ldyBuKS5jb25zdHJ1Y3Rvcj1pO3ZhciBoPXIuY3JlYXRlKCksbD1yLmNyZWF0ZSgpLHA9ci5jcmVhdGUoKSx1PXIuY3JlYXRlKCksZD1yLmNyZWF0ZSgpLGY9ci5jcmVhdGUoKTtpLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmVxdWF0aW9ucyxlPXRbMF0sbz10aGlzLnVwcGVyTGltaXQsaT10aGlzLmxvd2VyTGltaXQsbj10aGlzLnVwcGVyTGltaXRFcXVhdGlvbixzPXRoaXMubG93ZXJMaW1pdEVxdWF0aW9uLGE9dGhpcy5ib2R5QSxjPXRoaXMuYm9keUIsdj10aGlzLmxvY2FsQXhpc0EseT10aGlzLmxvY2FsQW5jaG9yQSxtPXRoaXMubG9jYWxBbmNob3JCO2UudXBkYXRlSmFjb2JpYW4oKSxyLnJvdGF0ZShoLHYsYS5hbmdsZSksci5yb3RhdGUodSx5LGEuYW5nbGUpLHIuYWRkKGwsdSxhLnBvc2l0aW9uKSxyLnJvdGF0ZShkLG0sYy5hbmdsZSksci5hZGQocCxkLGMucG9zaXRpb24pO3ZhciBnPXRoaXMucG9zaXRpb249ci5kb3QocCxoKS1yLmRvdChsLGgpO2lmKHRoaXMubW90b3JFbmFibGVkKXt2YXIgQT10aGlzLm1vdG9yRXF1YXRpb24uRztBWzBdPWhbMF0sQVsxXT1oWzFdLEFbMl09ci5jcm9zc0xlbmd0aChoLGQpLEFbM109LWhbMF0sQVs0XT0taFsxXSxBWzVdPS1yLmNyb3NzTGVuZ3RoKGgsdSl9aWYodGhpcy51cHBlckxpbWl0RW5hYmxlZCYmZz5vPyhyLnNjYWxlKG4ubm9ybWFsQSxoLC0xKSxyLnN1YihuLmNvbnRhY3RQb2ludEEsbCxhLnBvc2l0aW9uKSxyLnN1YihuLmNvbnRhY3RQb2ludEIscCxjLnBvc2l0aW9uKSxyLnNjYWxlKGYsaCxvKSxyLmFkZChuLmNvbnRhY3RQb2ludEEsbi5jb250YWN0UG9pbnRBLGYpLC0xPT09dC5pbmRleE9mKG4pJiZ0LnB1c2gobikpOi0xIT09KGI9dC5pbmRleE9mKG4pKSYmdC5zcGxpY2UoYiwxKSx0aGlzLmxvd2VyTGltaXRFbmFibGVkJiZnPGkpci5zY2FsZShzLm5vcm1hbEEsaCwxKSxyLnN1YihzLmNvbnRhY3RQb2ludEEsbCxhLnBvc2l0aW9uKSxyLnN1YihzLmNvbnRhY3RQb2ludEIscCxjLnBvc2l0aW9uKSxyLnNjYWxlKGYsaCxpKSxyLnN1YihzLmNvbnRhY3RQb2ludEIscy5jb250YWN0UG9pbnRCLGYpLC0xPT09dC5pbmRleE9mKHMpJiZ0LnB1c2gocyk7ZWxzZXt2YXIgYj10LmluZGV4T2Yocyk7LTEhPT1iJiZ0LnNwbGljZShiLDEpfX0saS5wcm90b3R5cGUuZW5hYmxlTW90b3I9ZnVuY3Rpb24oKXt0aGlzLm1vdG9yRW5hYmxlZHx8KHRoaXMuZXF1YXRpb25zLnB1c2godGhpcy5tb3RvckVxdWF0aW9uKSx0aGlzLm1vdG9yRW5hYmxlZD0hMCl9LGkucHJvdG90eXBlLmRpc2FibGVNb3Rvcj1mdW5jdGlvbigpe2lmKHRoaXMubW90b3JFbmFibGVkKXt2YXIgdD10aGlzLmVxdWF0aW9ucy5pbmRleE9mKHRoaXMubW90b3JFcXVhdGlvbik7dGhpcy5lcXVhdGlvbnMuc3BsaWNlKHQsMSksdGhpcy5tb3RvckVuYWJsZWQ9ITF9fSxpLnByb3RvdHlwZS5zZXRMaW1pdHM9ZnVuY3Rpb24odCxlKXtcIm51bWJlclwiPT10eXBlb2YgdD8odGhpcy5sb3dlckxpbWl0PXQsdGhpcy5sb3dlckxpbWl0RW5hYmxlZD0hMCk6KHRoaXMubG93ZXJMaW1pdD10LHRoaXMubG93ZXJMaW1pdEVuYWJsZWQ9ITEpLFwibnVtYmVyXCI9PXR5cGVvZiBlPyh0aGlzLnVwcGVyTGltaXQ9ZSx0aGlzLnVwcGVyTGltaXRFbmFibGVkPSEwKToodGhpcy51cHBlckxpbWl0PWUsdGhpcy51cHBlckxpbWl0RW5hYmxlZD0hMSl9fSx7XCIuLi9lcXVhdGlvbnMvQ29udGFjdEVxdWF0aW9uXCI6MjEsXCIuLi9lcXVhdGlvbnMvRXF1YXRpb25cIjoyMixcIi4uL2VxdWF0aW9ucy9Sb3RhdGlvbmFsTG9ja0VxdWF0aW9uXCI6MjQsXCIuLi9tYXRoL3ZlYzJcIjozMCxcIi4vQ29uc3RyYWludFwiOjE0fV0sMTk6W2Z1bmN0aW9uKHQsZSxvKXtmdW5jdGlvbiBpKHQsZSxvKXtvPW98fHt9LG4uY2FsbCh0aGlzLHQsZSxuLlJFVk9MVVRFLG8pO3ZhciBpPXRoaXMubWF4Rm9yY2U9dm9pZCAwIT09by5tYXhGb3JjZT9vLm1heEZvcmNlOk51bWJlci5NQVhfVkFMVUU7dGhpcy5waXZvdEE9Yy5jcmVhdGUoKSx0aGlzLnBpdm90Qj1jLmNyZWF0ZSgpLG8ud29ybGRQaXZvdD8oYy5zdWIodGhpcy5waXZvdEEsby53b3JsZFBpdm90LHQucG9zaXRpb24pLGMuc3ViKHRoaXMucGl2b3RCLG8ud29ybGRQaXZvdCxlLnBvc2l0aW9uKSxjLnJvdGF0ZSh0aGlzLnBpdm90QSx0aGlzLnBpdm90QSwtdC5hbmdsZSksYy5yb3RhdGUodGhpcy5waXZvdEIsdGhpcy5waXZvdEIsLWUuYW5nbGUpKTooYy5jb3B5KHRoaXMucGl2b3RBLG8ubG9jYWxQaXZvdEEpLGMuY29weSh0aGlzLnBpdm90QixvLmxvY2FsUGl2b3RCKSk7dmFyIGY9dGhpcy5lcXVhdGlvbnM9W25ldyBzKHQsZSwtaSxpKSxuZXcgcyh0LGUsLWksaSldLHY9ZlswXSx5PWZbMV0sbT10aGlzO3YuY29tcHV0ZUdxPWZ1bmN0aW9uKCl7cmV0dXJuIGMucm90YXRlKGgsbS5waXZvdEEsdC5hbmdsZSksYy5yb3RhdGUobCxtLnBpdm90QixlLmFuZ2xlKSxjLmFkZChkLGUucG9zaXRpb24sbCksYy5zdWIoZCxkLHQucG9zaXRpb24pLGMuc3ViKGQsZCxoKSxjLmRvdChkLHApfSx5LmNvbXB1dGVHcT1mdW5jdGlvbigpe3JldHVybiBjLnJvdGF0ZShoLG0ucGl2b3RBLHQuYW5nbGUpLGMucm90YXRlKGwsbS5waXZvdEIsZS5hbmdsZSksYy5hZGQoZCxlLnBvc2l0aW9uLGwpLGMuc3ViKGQsZCx0LnBvc2l0aW9uKSxjLnN1YihkLGQsaCksYy5kb3QoZCx1KX0seS5taW5Gb3JjZT12Lm1pbkZvcmNlPS1pLHkubWF4Rm9yY2U9di5tYXhGb3JjZT1pLHRoaXMubW90b3JFcXVhdGlvbj1uZXcgYSh0LGUpLHRoaXMubW90b3JFbmFibGVkPSExLHRoaXMuYW5nbGU9MCx0aGlzLmxvd2VyTGltaXRFbmFibGVkPSExLHRoaXMudXBwZXJMaW1pdEVuYWJsZWQ9ITEsdGhpcy5sb3dlckxpbWl0PTAsdGhpcy51cHBlckxpbWl0PTAsdGhpcy51cHBlckxpbWl0RXF1YXRpb249bmV3IHIodCxlKSx0aGlzLmxvd2VyTGltaXRFcXVhdGlvbj1uZXcgcih0LGUpLHRoaXMudXBwZXJMaW1pdEVxdWF0aW9uLm1pbkZvcmNlPTAsdGhpcy5sb3dlckxpbWl0RXF1YXRpb24ubWF4Rm9yY2U9MH12YXIgbj10KFwiLi9Db25zdHJhaW50XCIpLHM9dChcIi4uL2VxdWF0aW9ucy9FcXVhdGlvblwiKSxhPXQoXCIuLi9lcXVhdGlvbnMvUm90YXRpb25hbFZlbG9jaXR5RXF1YXRpb25cIikscj10KFwiLi4vZXF1YXRpb25zL1JvdGF0aW9uYWxMb2NrRXF1YXRpb25cIiksYz10KFwiLi4vbWF0aC92ZWMyXCIpO2UuZXhwb3J0cz1pO3ZhciBoPWMuY3JlYXRlKCksbD1jLmNyZWF0ZSgpLHA9Yy5mcm9tVmFsdWVzKDEsMCksdT1jLmZyb21WYWx1ZXMoMCwxKSxkPWMuY3JlYXRlKCk7KGkucHJvdG90eXBlPW5ldyBuKS5jb25zdHJ1Y3Rvcj1pLGkucHJvdG90eXBlLnNldExpbWl0cz1mdW5jdGlvbih0LGUpe1wibnVtYmVyXCI9PXR5cGVvZiB0Pyh0aGlzLmxvd2VyTGltaXQ9dCx0aGlzLmxvd2VyTGltaXRFbmFibGVkPSEwKToodGhpcy5sb3dlckxpbWl0PXQsdGhpcy5sb3dlckxpbWl0RW5hYmxlZD0hMSksXCJudW1iZXJcIj09dHlwZW9mIGU/KHRoaXMudXBwZXJMaW1pdD1lLHRoaXMudXBwZXJMaW1pdEVuYWJsZWQ9ITApOih0aGlzLnVwcGVyTGltaXQ9ZSx0aGlzLnVwcGVyTGltaXRFbmFibGVkPSExKX0saS5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5ib2R5QSxlPXRoaXMuYm9keUIsbz10aGlzLnBpdm90QSxpPXRoaXMucGl2b3RCLG49dGhpcy5lcXVhdGlvbnMscz0oblswXSxuWzFdLG5bMF0pLGE9blsxXSxyPXRoaXMudXBwZXJMaW1pdCxkPXRoaXMubG93ZXJMaW1pdCxmPXRoaXMudXBwZXJMaW1pdEVxdWF0aW9uLHY9dGhpcy5sb3dlckxpbWl0RXF1YXRpb24seT10aGlzLmFuZ2xlPWUuYW5nbGUtdC5hbmdsZTtpZih0aGlzLnVwcGVyTGltaXRFbmFibGVkJiZ5PnI/KGYuYW5nbGU9ciwtMT09PW4uaW5kZXhPZihmKSYmbi5wdXNoKGYpKTotMSE9PShtPW4uaW5kZXhPZihmKSkmJm4uc3BsaWNlKG0sMSksdGhpcy5sb3dlckxpbWl0RW5hYmxlZCYmeTxkKXYuYW5nbGU9ZCwtMT09PW4uaW5kZXhPZih2KSYmbi5wdXNoKHYpO2Vsc2V7dmFyIG09bi5pbmRleE9mKHYpOy0xIT09bSYmbi5zcGxpY2UobSwxKX1jLnJvdGF0ZShoLG8sdC5hbmdsZSksYy5yb3RhdGUobCxpLGUuYW5nbGUpLHMuR1swXT0tMSxzLkdbMV09MCxzLkdbMl09LWMuY3Jvc3NMZW5ndGgoaCxwKSxzLkdbM109MSxzLkdbNF09MCxzLkdbNV09Yy5jcm9zc0xlbmd0aChsLHApLGEuR1swXT0wLGEuR1sxXT0tMSxhLkdbMl09LWMuY3Jvc3NMZW5ndGgoaCx1KSxhLkdbM109MCxhLkdbNF09MSxhLkdbNV09Yy5jcm9zc0xlbmd0aChsLHUpfSxpLnByb3RvdHlwZS5lbmFibGVNb3Rvcj1mdW5jdGlvbigpe3RoaXMubW90b3JFbmFibGVkfHwodGhpcy5lcXVhdGlvbnMucHVzaCh0aGlzLm1vdG9yRXF1YXRpb24pLHRoaXMubW90b3JFbmFibGVkPSEwKX0saS5wcm90b3R5cGUuZGlzYWJsZU1vdG9yPWZ1bmN0aW9uKCl7aWYodGhpcy5tb3RvckVuYWJsZWQpe3ZhciB0PXRoaXMuZXF1YXRpb25zLmluZGV4T2YodGhpcy5tb3RvckVxdWF0aW9uKTt0aGlzLmVxdWF0aW9ucy5zcGxpY2UodCwxKSx0aGlzLm1vdG9yRW5hYmxlZD0hMX19LGkucHJvdG90eXBlLm1vdG9ySXNFbmFibGVkPWZ1bmN0aW9uKCl7cmV0dXJuISF0aGlzLm1vdG9yRW5hYmxlZH0saS5wcm90b3R5cGUuc2V0TW90b3JTcGVlZD1mdW5jdGlvbih0KXtpZih0aGlzLm1vdG9yRW5hYmxlZCl7dmFyIGU9dGhpcy5lcXVhdGlvbnMuaW5kZXhPZih0aGlzLm1vdG9yRXF1YXRpb24pO3RoaXMuZXF1YXRpb25zW2VdLnJlbGF0aXZlVmVsb2NpdHk9dH19LGkucHJvdG90eXBlLmdldE1vdG9yU3BlZWQ9ZnVuY3Rpb24oKXtyZXR1cm4hIXRoaXMubW90b3JFbmFibGVkJiZ0aGlzLm1vdG9yRXF1YXRpb24ucmVsYXRpdmVWZWxvY2l0eX19LHtcIi4uL2VxdWF0aW9ucy9FcXVhdGlvblwiOjIyLFwiLi4vZXF1YXRpb25zL1JvdGF0aW9uYWxMb2NrRXF1YXRpb25cIjoyNCxcIi4uL2VxdWF0aW9ucy9Sb3RhdGlvbmFsVmVsb2NpdHlFcXVhdGlvblwiOjI1LFwiLi4vbWF0aC92ZWMyXCI6MzAsXCIuL0NvbnN0cmFpbnRcIjoxNH1dLDIwOltmdW5jdGlvbih0LGUsbyl7ZnVuY3Rpb24gaSh0LGUsbyl7bz1vfHx7fSxuLmNhbGwodGhpcyx0LGUsLU51bWJlci5NQVhfVkFMVUUsTnVtYmVyLk1BWF9WQUxVRSksdGhpcy5hbmdsZT1vLmFuZ2xlfHwwLHRoaXMucmF0aW89XCJudW1iZXJcIj09dHlwZW9mIG8ucmF0aW8/by5yYXRpbzoxLHRoaXMuc2V0UmF0aW8odGhpcy5yYXRpbyl9dmFyIG49dChcIi4vRXF1YXRpb25cIik7dChcIi4uL21hdGgvdmVjMlwiKTtlLmV4cG9ydHM9aSwoaS5wcm90b3R5cGU9bmV3IG4pLmNvbnN0cnVjdG9yPWksaS5wcm90b3R5cGUuY29tcHV0ZUdxPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmF0aW8qdGhpcy5ib2R5QS5hbmdsZS10aGlzLmJvZHlCLmFuZ2xlK3RoaXMuYW5nbGV9LGkucHJvdG90eXBlLnNldFJhdGlvPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuRztlWzJdPXQsZVs1XT0tMSx0aGlzLnJhdGlvPXR9LGkucHJvdG90eXBlLnNldE1heFRvcnF1ZT1mdW5jdGlvbih0KXt0aGlzLm1heEZvcmNlPXQsdGhpcy5taW5Gb3JjZT0tdH19LHtcIi4uL21hdGgvdmVjMlwiOjMwLFwiLi9FcXVhdGlvblwiOjIyfV0sMjE6W2Z1bmN0aW9uKHQsZSxvKXtmdW5jdGlvbiBpKHQsZSl7bi5jYWxsKHRoaXMsdCxlLDAsTnVtYmVyLk1BWF9WQUxVRSksdGhpcy5jb250YWN0UG9pbnRBPXMuY3JlYXRlKCksdGhpcy5wZW5ldHJhdGlvblZlYz1zLmNyZWF0ZSgpLHRoaXMuY29udGFjdFBvaW50Qj1zLmNyZWF0ZSgpLHRoaXMubm9ybWFsQT1zLmNyZWF0ZSgpLHRoaXMucmVzdGl0dXRpb249MCx0aGlzLmZpcnN0SW1wYWN0PSExLHRoaXMuc2hhcGVBPW51bGwsdGhpcy5zaGFwZUI9bnVsbH12YXIgbj10KFwiLi9FcXVhdGlvblwiKSxzPXQoXCIuLi9tYXRoL3ZlYzJcIik7ZS5leHBvcnRzPWksKGkucHJvdG90eXBlPW5ldyBuKS5jb25zdHJ1Y3Rvcj1pLGkucHJvdG90eXBlLmNvbXB1dGVCPWZ1bmN0aW9uKHQsZSxvKXt2YXIgaT10aGlzLmJvZHlBLG49dGhpcy5ib2R5QixhPXRoaXMuY29udGFjdFBvaW50QSxyPXRoaXMuY29udGFjdFBvaW50QixjPWkucG9zaXRpb24saD1uLnBvc2l0aW9uLGw9dGhpcy5wZW5ldHJhdGlvblZlYyxwPXRoaXMubm9ybWFsQSx1PXRoaXMuRyxkPXMuY3Jvc3NMZW5ndGgoYSxwKSxmPXMuY3Jvc3NMZW5ndGgocixwKTt1WzBdPS1wWzBdLHVbMV09LXBbMV0sdVsyXT0tZCx1WzNdPXBbMF0sdVs0XT1wWzFdLHVbNV09ZixzLmFkZChsLGgscikscy5zdWIobCxsLGMpLHMuc3ViKGwsbCxhKTt2YXIgdix5O3JldHVybiB0aGlzLmZpcnN0SW1wYWN0JiYwIT09dGhpcy5yZXN0aXR1dGlvbj8oeT0wLHY9MS9lKigxK3RoaXMucmVzdGl0dXRpb24pKnRoaXMuY29tcHV0ZUdXKCkpOih5PXMuZG90KHAsbCkrdGhpcy5vZmZzZXQsdj10aGlzLmNvbXB1dGVHVygpKSwteSp0LXYqZS1vKnRoaXMuY29tcHV0ZUdpTWYoKX07dmFyIGE9cy5jcmVhdGUoKSxyPXMuY3JlYXRlKCksYz1zLmNyZWF0ZSgpO2kucHJvdG90eXBlLmdldFZlbG9jaXR5QWxvbmdOb3JtYWw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ib2R5QS5nZXRWZWxvY2l0eUF0UG9pbnQoYSx0aGlzLmNvbnRhY3RQb2ludEEpLHRoaXMuYm9keUIuZ2V0VmVsb2NpdHlBdFBvaW50KHIsdGhpcy5jb250YWN0UG9pbnRCKSxzLnN1YnRyYWN0KGMsYSxyKSxzLmRvdCh0aGlzLm5vcm1hbEEsYyl9fSx7XCIuLi9tYXRoL3ZlYzJcIjozMCxcIi4vRXF1YXRpb25cIjoyMn1dLDIyOltmdW5jdGlvbih0LGUsbyl7ZnVuY3Rpb24gaSh0LGUsbyxuKXt0aGlzLm1pbkZvcmNlPXZvaWQgMD09PW8/LU51bWJlci5NQVhfVkFMVUU6byx0aGlzLm1heEZvcmNlPXZvaWQgMD09PW4/TnVtYmVyLk1BWF9WQUxVRTpuLHRoaXMuYm9keUE9dCx0aGlzLmJvZHlCPWUsdGhpcy5zdGlmZm5lc3M9aS5ERUZBVUxUX1NUSUZGTkVTUyx0aGlzLnJlbGF4YXRpb249aS5ERUZBVUxUX1JFTEFYQVRJT04sdGhpcy5HPW5ldyBzLkFSUkFZX1RZUEUoNik7Zm9yKHZhciBhPTA7YTw2O2ErKyl0aGlzLkdbYV09MDt0aGlzLm9mZnNldD0wLHRoaXMuYT0wLHRoaXMuYj0wLHRoaXMuZXBzaWxvbj0wLHRoaXMudGltZVN0ZXA9MS82MCx0aGlzLm5lZWRzVXBkYXRlPSEwLHRoaXMubXVsdGlwbGllcj0wLHRoaXMucmVsYXRpdmVWZWxvY2l0eT0wLHRoaXMuZW5hYmxlZD0hMH1lLmV4cG9ydHM9aTt2YXIgbj10KFwiLi4vbWF0aC92ZWMyXCIpLHM9dChcIi4uL3V0aWxzL1V0aWxzXCIpO3QoXCIuLi9vYmplY3RzL0JvZHlcIik7aS5wcm90b3R5cGUuY29uc3RydWN0b3I9aSxpLkRFRkFVTFRfU1RJRkZORVNTPTFlNixpLkRFRkFVTFRfUkVMQVhBVElPTj00LGkucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbigpe3ZhciB0PXRoaXMuc3RpZmZuZXNzLGU9dGhpcy5yZWxheGF0aW9uLG89dGhpcy50aW1lU3RlcDt0aGlzLmE9NC8obyooMSs0KmUpKSx0aGlzLmI9NCplLygxKzQqZSksdGhpcy5lcHNpbG9uPTQvKG8qbyp0KigxKzQqZSkpLHRoaXMubmVlZHNVcGRhdGU9ITF9LGkucHJvdG90eXBlLmdtdWx0PWZ1bmN0aW9uKHQsZSxvLGksbil7cmV0dXJuIHRbMF0qZVswXSt0WzFdKmVbMV0rdFsyXSpvK3RbM10qaVswXSt0WzRdKmlbMV0rdFs1XSpufSxpLnByb3RvdHlwZS5jb21wdXRlQj1mdW5jdGlvbih0LGUsbyl7dmFyIGk9dGhpcy5jb21wdXRlR1coKTtyZXR1cm4tdGhpcy5jb21wdXRlR3EoKSp0LWkqZS10aGlzLmNvbXB1dGVHaU1mKCkqb307dmFyIGE9bi5jcmVhdGUoKSxyPW4uY3JlYXRlKCk7aS5wcm90b3R5cGUuY29tcHV0ZUdxPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5HLGU9dGhpcy5ib2R5QSxvPXRoaXMuYm9keUIsaT0oZS5wb3NpdGlvbixvLnBvc2l0aW9uLGUuYW5nbGUpLG49by5hbmdsZTtyZXR1cm4gdGhpcy5nbXVsdCh0LGEsaSxyLG4pK3RoaXMub2Zmc2V0fSxpLnByb3RvdHlwZS5jb21wdXRlR1c9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLkcsZT10aGlzLmJvZHlBLG89dGhpcy5ib2R5QixpPWUudmVsb2NpdHksbj1vLnZlbG9jaXR5LHM9ZS5hbmd1bGFyVmVsb2NpdHksYT1vLmFuZ3VsYXJWZWxvY2l0eTtyZXR1cm4gdGhpcy5nbXVsdCh0LGkscyxuLGEpK3RoaXMucmVsYXRpdmVWZWxvY2l0eX0saS5wcm90b3R5cGUuY29tcHV0ZUdXbGFtYmRhPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5HLGU9dGhpcy5ib2R5QSxvPXRoaXMuYm9keUIsaT1lLnZsYW1iZGEsbj1vLnZsYW1iZGEscz1lLndsYW1iZGEsYT1vLndsYW1iZGE7cmV0dXJuIHRoaXMuZ211bHQodCxpLHMsbixhKX07dmFyIGM9bi5jcmVhdGUoKSxoPW4uY3JlYXRlKCk7aS5wcm90b3R5cGUuY29tcHV0ZUdpTWY9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmJvZHlBLGU9dGhpcy5ib2R5QixvPXQuZm9yY2UsaT10LmFuZ3VsYXJGb3JjZSxzPWUuZm9yY2UsYT1lLmFuZ3VsYXJGb3JjZSxyPXQuaW52TWFzc1NvbHZlLGw9ZS5pbnZNYXNzU29sdmUscD10LmludkluZXJ0aWFTb2x2ZSx1PWUuaW52SW5lcnRpYVNvbHZlLGQ9dGhpcy5HO3JldHVybiBuLnNjYWxlKGMsbyxyKSxuLm11bHRpcGx5KGMsdC5tYXNzTXVsdGlwbGllcixjKSxuLnNjYWxlKGgscyxsKSxuLm11bHRpcGx5KGgsZS5tYXNzTXVsdGlwbGllcixoKSx0aGlzLmdtdWx0KGQsYyxpKnAsaCxhKnUpfSxpLnByb3RvdHlwZS5jb21wdXRlR2lNR3Q9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmJvZHlBLGU9dGhpcy5ib2R5QixvPXQuaW52TWFzc1NvbHZlLGk9ZS5pbnZNYXNzU29sdmUsbj10LmludkluZXJ0aWFTb2x2ZSxzPWUuaW52SW5lcnRpYVNvbHZlLGE9dGhpcy5HO3JldHVybiBhWzBdKmFbMF0qbyp0Lm1hc3NNdWx0aXBsaWVyWzBdK2FbMV0qYVsxXSpvKnQubWFzc011bHRpcGxpZXJbMV0rYVsyXSphWzJdKm4rYVszXSphWzNdKmkqZS5tYXNzTXVsdGlwbGllclswXSthWzRdKmFbNF0qaSplLm1hc3NNdWx0aXBsaWVyWzFdK2FbNV0qYVs1XSpzfTt2YXIgbD1uLmNyZWF0ZSgpLHA9bi5jcmVhdGUoKSx1PW4uY3JlYXRlKCk7bi5jcmVhdGUoKSxuLmNyZWF0ZSgpLG4uY3JlYXRlKCk7aS5wcm90b3R5cGUuYWRkVG9XbGFtYmRhPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuYm9keUEsbz10aGlzLmJvZHlCLGk9bCxzPXAsYT11LHI9ZS5pbnZNYXNzU29sdmUsYz1vLmludk1hc3NTb2x2ZSxoPWUuaW52SW5lcnRpYVNvbHZlLGQ9by5pbnZJbmVydGlhU29sdmUsZj10aGlzLkc7c1swXT1mWzBdLHNbMV09ZlsxXSxhWzBdPWZbM10sYVsxXT1mWzRdLG4uc2NhbGUoaSxzLHIqdCksbi5tdWx0aXBseShpLGksZS5tYXNzTXVsdGlwbGllciksbi5hZGQoZS52bGFtYmRhLGUudmxhbWJkYSxpKSxlLndsYW1iZGErPWgqZlsyXSp0LG4uc2NhbGUoaSxhLGMqdCksbi5tdWx0aXBseShpLGksby5tYXNzTXVsdGlwbGllciksbi5hZGQoby52bGFtYmRhLG8udmxhbWJkYSxpKSxvLndsYW1iZGErPWQqZls1XSp0fSxpLnByb3RvdHlwZS5jb21wdXRlSW52Qz1mdW5jdGlvbih0KXtyZXR1cm4gMS8odGhpcy5jb21wdXRlR2lNR3QoKSt0KX19LHtcIi4uL21hdGgvdmVjMlwiOjMwLFwiLi4vb2JqZWN0cy9Cb2R5XCI6MzEsXCIuLi91dGlscy9VdGlsc1wiOjU3fV0sMjM6W2Z1bmN0aW9uKHQsZSxvKXtmdW5jdGlvbiBpKHQsZSxvKXtzLmNhbGwodGhpcyx0LGUsLW8sbyksdGhpcy5jb250YWN0UG9pbnRBPW4uY3JlYXRlKCksdGhpcy5jb250YWN0UG9pbnRCPW4uY3JlYXRlKCksdGhpcy50PW4uY3JlYXRlKCksdGhpcy5jb250YWN0RXF1YXRpb25zPVtdLHRoaXMuc2hhcGVBPW51bGwsdGhpcy5zaGFwZUI9bnVsbCx0aGlzLmZyaWN0aW9uQ29lZmZpY2llbnQ9LjN9dmFyIG49dChcIi4uL21hdGgvdmVjMlwiKSxzPXQoXCIuL0VxdWF0aW9uXCIpO3QoXCIuLi91dGlscy9VdGlsc1wiKTtlLmV4cG9ydHM9aSwoaS5wcm90b3R5cGU9bmV3IHMpLmNvbnN0cnVjdG9yPWksaS5wcm90b3R5cGUuc2V0U2xpcEZvcmNlPWZ1bmN0aW9uKHQpe3RoaXMubWF4Rm9yY2U9dCx0aGlzLm1pbkZvcmNlPS10fSxpLnByb3RvdHlwZS5nZXRTbGlwRm9yY2U9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXhGb3JjZX0saS5wcm90b3R5cGUuY29tcHV0ZUI9ZnVuY3Rpb24odCxlLG8pe3RoaXMuYm9keUEsdGhpcy5ib2R5Qjt2YXIgaT10aGlzLmNvbnRhY3RQb2ludEEscz10aGlzLmNvbnRhY3RQb2ludEIsYT10aGlzLnQscj10aGlzLkc7cmV0dXJuIHJbMF09LWFbMF0sclsxXT0tYVsxXSxyWzJdPS1uLmNyb3NzTGVuZ3RoKGksYSksclszXT1hWzBdLHJbNF09YVsxXSxyWzVdPW4uY3Jvc3NMZW5ndGgocyxhKSwtdGhpcy5jb21wdXRlR1coKSplLW8qdGhpcy5jb21wdXRlR2lNZigpfX0se1wiLi4vbWF0aC92ZWMyXCI6MzAsXCIuLi91dGlscy9VdGlsc1wiOjU3LFwiLi9FcXVhdGlvblwiOjIyfV0sMjQ6W2Z1bmN0aW9uKHQsZSxvKXtmdW5jdGlvbiBpKHQsZSxvKXtvPW98fHt9LG4uY2FsbCh0aGlzLHQsZSwtTnVtYmVyLk1BWF9WQUxVRSxOdW1iZXIuTUFYX1ZBTFVFKSx0aGlzLmFuZ2xlPW8uYW5nbGV8fDA7dmFyIGk9dGhpcy5HO2lbMl09MSxpWzVdPS0xfXZhciBuPXQoXCIuL0VxdWF0aW9uXCIpLHM9dChcIi4uL21hdGgvdmVjMlwiKTtlLmV4cG9ydHM9aSwoaS5wcm90b3R5cGU9bmV3IG4pLmNvbnN0cnVjdG9yPWk7dmFyIGE9cy5jcmVhdGUoKSxyPXMuY3JlYXRlKCksYz1zLmZyb21WYWx1ZXMoMSwwKSxoPXMuZnJvbVZhbHVlcygwLDEpO2kucHJvdG90eXBlLmNvbXB1dGVHcT1mdW5jdGlvbigpe3JldHVybiBzLnJvdGF0ZShhLGMsdGhpcy5ib2R5QS5hbmdsZSt0aGlzLmFuZ2xlKSxzLnJvdGF0ZShyLGgsdGhpcy5ib2R5Qi5hbmdsZSkscy5kb3QoYSxyKX19LHtcIi4uL21hdGgvdmVjMlwiOjMwLFwiLi9FcXVhdGlvblwiOjIyfV0sMjU6W2Z1bmN0aW9uKHQsZSxvKXtmdW5jdGlvbiBpKHQsZSl7bi5jYWxsKHRoaXMsdCxlLC1OdW1iZXIuTUFYX1ZBTFVFLE51bWJlci5NQVhfVkFMVUUpLHRoaXMucmVsYXRpdmVWZWxvY2l0eT0xLHRoaXMucmF0aW89MX12YXIgbj10KFwiLi9FcXVhdGlvblwiKTt0KFwiLi4vbWF0aC92ZWMyXCIpO2UuZXhwb3J0cz1pLChpLnByb3RvdHlwZT1uZXcgbikuY29uc3RydWN0b3I9aSxpLnByb3RvdHlwZS5jb21wdXRlQj1mdW5jdGlvbih0LGUsbyl7dmFyIGk9dGhpcy5HO2lbMl09LTEsaVs1XT10aGlzLnJhdGlvO3ZhciBuPXRoaXMuY29tcHV0ZUdpTWYoKTtyZXR1cm4tdGhpcy5jb21wdXRlR1coKSplLW8qbn19LHtcIi4uL21hdGgvdmVjMlwiOjMwLFwiLi9FcXVhdGlvblwiOjIyfV0sMjY6W2Z1bmN0aW9uKHQsZSxvKXt2YXIgaT1mdW5jdGlvbigpe307ZS5leHBvcnRzPWksaS5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOmksb246ZnVuY3Rpb24odCxlLG8pe2UuY29udGV4dD1vfHx0aGlzLHZvaWQgMD09PXRoaXMuX2xpc3RlbmVycyYmKHRoaXMuX2xpc3RlbmVycz17fSk7dmFyIGk9dGhpcy5fbGlzdGVuZXJzO3JldHVybiB2b2lkIDA9PT1pW3RdJiYoaVt0XT1bXSksLTE9PT1pW3RdLmluZGV4T2YoZSkmJmlbdF0ucHVzaChlKSx0aGlzfSxoYXM6ZnVuY3Rpb24odCxlKXtpZih2b2lkIDA9PT10aGlzLl9saXN0ZW5lcnMpcmV0dXJuITE7dmFyIG89dGhpcy5fbGlzdGVuZXJzO2lmKGUpe2lmKHZvaWQgMCE9PW9bdF0mJi0xIT09b1t0XS5pbmRleE9mKGUpKXJldHVybiEwfWVsc2UgaWYodm9pZCAwIT09b1t0XSlyZXR1cm4hMDtyZXR1cm4hMX0sb2ZmOmZ1bmN0aW9uKHQsZSl7aWYodm9pZCAwPT09dGhpcy5fbGlzdGVuZXJzKXJldHVybiB0aGlzO3ZhciBvPXRoaXMuX2xpc3RlbmVycyxpPW9bdF0uaW5kZXhPZihlKTtyZXR1cm4tMSE9PWkmJm9bdF0uc3BsaWNlKGksMSksdGhpc30sZW1pdDpmdW5jdGlvbih0KXtpZih2b2lkIDA9PT10aGlzLl9saXN0ZW5lcnMpcmV0dXJuIHRoaXM7dmFyIGU9dGhpcy5fbGlzdGVuZXJzW3QudHlwZV07aWYodm9pZCAwIT09ZSl7dC50YXJnZXQ9dGhpcztmb3IodmFyIG89MCxpPWUubGVuZ3RoO288aTtvKyspe3ZhciBuPWVbb107bi5jYWxsKG4uY29udGV4dCx0KX19cmV0dXJuIHRoaXN9fX0se31dLDI3OltmdW5jdGlvbih0LGUsbyl7ZnVuY3Rpb24gaSh0LGUsbyl7aWYobz1vfHx7fSwhKHQgaW5zdGFuY2VvZiBuJiZlIGluc3RhbmNlb2YgbikpdGhyb3cgbmV3IEVycm9yKFwiRmlyc3QgdHdvIGFyZ3VtZW50cyBtdXN0IGJlIE1hdGVyaWFsIGluc3RhbmNlcy5cIik7dGhpcy5pZD1pLmlkQ291bnRlcisrLHRoaXMubWF0ZXJpYWxBPXQsdGhpcy5tYXRlcmlhbEI9ZSx0aGlzLmZyaWN0aW9uPXZvaWQgMCE9PW8uZnJpY3Rpb24/TnVtYmVyKG8uZnJpY3Rpb24pOi4zLHRoaXMucmVzdGl0dXRpb249dm9pZCAwIT09by5yZXN0aXR1dGlvbj9OdW1iZXIoby5yZXN0aXR1dGlvbik6MCx0aGlzLnN0aWZmbmVzcz12b2lkIDAhPT1vLnN0aWZmbmVzcz9OdW1iZXIoby5zdGlmZm5lc3MpOnMuREVGQVVMVF9TVElGRk5FU1MsdGhpcy5yZWxheGF0aW9uPXZvaWQgMCE9PW8ucmVsYXhhdGlvbj9OdW1iZXIoby5yZWxheGF0aW9uKTpzLkRFRkFVTFRfUkVMQVhBVElPTix0aGlzLmZyaWN0aW9uU3RpZmZuZXNzPXZvaWQgMCE9PW8uZnJpY3Rpb25TdGlmZm5lc3M/TnVtYmVyKG8uZnJpY3Rpb25TdGlmZm5lc3MpOnMuREVGQVVMVF9TVElGRk5FU1MsdGhpcy5mcmljdGlvblJlbGF4YXRpb249dm9pZCAwIT09by5mcmljdGlvblJlbGF4YXRpb24/TnVtYmVyKG8uZnJpY3Rpb25SZWxheGF0aW9uKTpzLkRFRkFVTFRfUkVMQVhBVElPTix0aGlzLnN1cmZhY2VWZWxvY2l0eT12b2lkIDAhPT1vLnN1cmZhY2VWZWxvY2l0eT9OdW1iZXIoby5zdXJmYWNlVmVsb2NpdHkpOjAsdGhpcy5jb250YWN0U2tpblNpemU9LjAwNX12YXIgbj10KFwiLi9NYXRlcmlhbFwiKSxzPXQoXCIuLi9lcXVhdGlvbnMvRXF1YXRpb25cIik7ZS5leHBvcnRzPWksaS5pZENvdW50ZXI9MH0se1wiLi4vZXF1YXRpb25zL0VxdWF0aW9uXCI6MjIsXCIuL01hdGVyaWFsXCI6Mjh9XSwyODpbZnVuY3Rpb24odCxlLG8pe2Z1bmN0aW9uIGkodCl7dGhpcy5pZD10fHxpLmlkQ291bnRlcisrfWUuZXhwb3J0cz1pLGkuaWRDb3VudGVyPTB9LHt9XSwyOTpbZnVuY3Rpb24odCxlLG8pe3ZhciBpPXt9O2kuR2V0QXJlYT1mdW5jdGlvbih0KXtpZih0Lmxlbmd0aDw2KXJldHVybiAwO2Zvcih2YXIgZT10Lmxlbmd0aC0yLG89MCxpPTA7aTxlO2krPTIpbys9KHRbaSsyXS10W2ldKSoodFtpKzFdK3RbaSszXSk7cmV0dXJuLjUqLShvKz0odFswXS10W2VdKSoodFtlKzFdK3RbMV0pKX0saS5Ucmlhbmd1bGF0ZT1mdW5jdGlvbih0KXt2YXIgZT10Lmxlbmd0aD4+MTtpZihlPDMpcmV0dXJuW107Zm9yKHZhciBvPVtdLG49W10scz0wO3M8ZTtzKyspbi5wdXNoKHMpO2Zvcih2YXIgcz0wLGE9ZTthPjM7KXt2YXIgcj1uWyhzKzApJWFdLGM9blsocysxKSVhXSxoPW5bKHMrMiklYV0sbD10WzIqcl0scD10WzIqcisxXSx1PXRbMipjXSxkPXRbMipjKzFdLGY9dFsyKmhdLHY9dFsyKmgrMV0seT0hMTtpZihpLl9jb252ZXgobCxwLHUsZCxmLHYpKXt5PSEwO2Zvcih2YXIgbT0wO208YTttKyspe3ZhciBnPW5bbV07aWYoZyE9ciYmZyE9YyYmZyE9aCYmaS5fUG9pbnRJblRyaWFuZ2xlKHRbMipnXSx0WzIqZysxXSxsLHAsdSxkLGYsdikpe3k9ITE7YnJlYWt9fX1pZih5KW8ucHVzaChyLGMsaCksbi5zcGxpY2UoKHMrMSklYSwxKSxhLS0scz0wO2Vsc2UgaWYocysrPjMqYSlicmVha31yZXR1cm4gby5wdXNoKG5bMF0sblsxXSxuWzJdKSxvfSxpLl9Qb2ludEluVHJpYW5nbGU9ZnVuY3Rpb24odCxlLG8saSxuLHMsYSxyKXt2YXIgYz1hLW8saD1yLWksbD1uLW8scD1zLWksdT10LW8sZD1lLWksZj1jKmMraCpoLHY9YypsK2gqcCx5PWMqdStoKmQsbT1sKmwrcCpwLGc9bCp1K3AqZCxBPTEvKGYqbS12KnYpLGI9KG0qeS12KmcpKkEsRT0oZipnLXYqeSkqQTtyZXR1cm4gYj49MCYmRT49MCYmYitFPDF9LGkuX2NvbnZleD1mdW5jdGlvbih0LGUsbyxpLG4scyl7cmV0dXJuKGUtaSkqKG4tbykrKG8tdCkqKHMtaSk+PTB9LGUuZXhwb3J0cz1pfSx7fV0sMzA6W2Z1bmN0aW9uKHQsZSxvKXt2YXIgaT1lLmV4cG9ydHM9e30sbj10KFwiLi4vdXRpbHMvVXRpbHNcIik7aS5jcm9zc0xlbmd0aD1mdW5jdGlvbih0LGUpe3JldHVybiB0WzBdKmVbMV0tdFsxXSplWzBdfSxpLmNyb3NzVlo9ZnVuY3Rpb24odCxlLG8pe3JldHVybiBpLnJvdGF0ZSh0LGUsLU1hdGguUEkvMiksaS5zY2FsZSh0LHQsbyksdH0saS5jcm9zc1pWPWZ1bmN0aW9uKHQsZSxvKXtyZXR1cm4gaS5yb3RhdGUodCxvLE1hdGguUEkvMiksaS5zY2FsZSh0LHQsZSksdH0saS5yb3RhdGU9ZnVuY3Rpb24odCxlLG8pe2lmKDAhPT1vKXt2YXIgaT1NYXRoLmNvcyhvKSxuPU1hdGguc2luKG8pLHM9ZVswXSxhPWVbMV07dFswXT1pKnMtbiphLHRbMV09bipzK2kqYX1lbHNlIHRbMF09ZVswXSx0WzFdPWVbMV19LGkucm90YXRlOTBjdz1mdW5jdGlvbih0LGUpe3ZhciBvPWVbMF0saT1lWzFdO3RbMF09aSx0WzFdPS1vfSxpLnRvTG9jYWxGcmFtZT1mdW5jdGlvbih0LGUsbyxuKXtpLmNvcHkodCxlKSxpLnN1Yih0LHQsbyksaS5yb3RhdGUodCx0LC1uKX0saS50b0dsb2JhbEZyYW1lPWZ1bmN0aW9uKHQsZSxvLG4pe2kuY29weSh0LGUpLGkucm90YXRlKHQsdCxuKSxpLmFkZCh0LHQsbyl9LGkudmVjdG9yVG9Mb2NhbEZyYW1lPWZ1bmN0aW9uKHQsZSxvKXtpLnJvdGF0ZSh0LGUsLW8pfSxpLnZlY3RvclRvR2xvYmFsRnJhbWU9ZnVuY3Rpb24odCxlLG8pe2kucm90YXRlKHQsZSxvKX0saS5jZW50cm9pZD1mdW5jdGlvbih0LGUsbyxuKXtyZXR1cm4gaS5hZGQodCxlLG8pLGkuYWRkKHQsdCxuKSxpLnNjYWxlKHQsdCwxLzMpLHR9LGkuY3JlYXRlPWZ1bmN0aW9uKCl7dmFyIHQ9bmV3IG4uQVJSQVlfVFlQRSgyKTtyZXR1cm4gdFswXT0wLHRbMV09MCx0fSxpLmNsb25lPWZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBuLkFSUkFZX1RZUEUoMik7cmV0dXJuIGVbMF09dFswXSxlWzFdPXRbMV0sZX0saS5mcm9tVmFsdWVzPWZ1bmN0aW9uKHQsZSl7dmFyIG89bmV3IG4uQVJSQVlfVFlQRSgyKTtyZXR1cm4gb1swXT10LG9bMV09ZSxvfSxpLmNvcHk9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdFswXT1lWzBdLHRbMV09ZVsxXSx0fSxpLnNldD1mdW5jdGlvbih0LGUsbyl7cmV0dXJuIHRbMF09ZSx0WzFdPW8sdH0saS5hZGQ9ZnVuY3Rpb24odCxlLG8pe3JldHVybiB0WzBdPWVbMF0rb1swXSx0WzFdPWVbMV0rb1sxXSx0fSxpLnN1YnRyYWN0PWZ1bmN0aW9uKHQsZSxvKXtyZXR1cm4gdFswXT1lWzBdLW9bMF0sdFsxXT1lWzFdLW9bMV0sdH0saS5zdWI9aS5zdWJ0cmFjdCxpLm11bHRpcGx5PWZ1bmN0aW9uKHQsZSxvKXtyZXR1cm4gdFswXT1lWzBdKm9bMF0sdFsxXT1lWzFdKm9bMV0sdH0saS5tdWw9aS5tdWx0aXBseSxpLmRpdmlkZT1mdW5jdGlvbih0LGUsbyl7cmV0dXJuIHRbMF09ZVswXS9vWzBdLHRbMV09ZVsxXS9vWzFdLHR9LGkuZGl2PWkuZGl2aWRlLGkuc2NhbGU9ZnVuY3Rpb24odCxlLG8pe3JldHVybiB0WzBdPWVbMF0qbyx0WzFdPWVbMV0qbyx0fSxpLmRpc3RhbmNlPWZ1bmN0aW9uKHQsZSl7dmFyIG89ZVswXS10WzBdLGk9ZVsxXS10WzFdO3JldHVybiBNYXRoLnNxcnQobypvK2kqaSl9LGkuZGlzdD1pLmRpc3RhbmNlLGkuc3F1YXJlZERpc3RhbmNlPWZ1bmN0aW9uKHQsZSl7dmFyIG89ZVswXS10WzBdLGk9ZVsxXS10WzFdO3JldHVybiBvKm8raSppfSxpLnNxckRpc3Q9aS5zcXVhcmVkRGlzdGFuY2UsaS5sZW5ndGg9ZnVuY3Rpb24odCl7dmFyIGU9dFswXSxvPXRbMV07cmV0dXJuIE1hdGguc3FydChlKmUrbypvKX0saS5sZW49aS5sZW5ndGgsaS5zcXVhcmVkTGVuZ3RoPWZ1bmN0aW9uKHQpe3ZhciBlPXRbMF0sbz10WzFdO3JldHVybiBlKmUrbypvfSxpLnNxckxlbj1pLnNxdWFyZWRMZW5ndGgsaS5uZWdhdGU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdFswXT0tZVswXSx0WzFdPS1lWzFdLHR9LGkubm9ybWFsaXplPWZ1bmN0aW9uKHQsZSl7dmFyIG89ZVswXSxpPWVbMV0sbj1vKm8raSppO3JldHVybiBuPjAmJihuPTEvTWF0aC5zcXJ0KG4pLHRbMF09ZVswXSpuLHRbMV09ZVsxXSpuKSx0fSxpLmRvdD1mdW5jdGlvbih0LGUpe3JldHVybiB0WzBdKmVbMF0rdFsxXSplWzFdfSxpLnN0cj1mdW5jdGlvbih0KXtyZXR1cm5cInZlYzIoXCIrdFswXStcIiwgXCIrdFsxXStcIilcIn0saS5sZXJwPWZ1bmN0aW9uKHQsZSxvLGkpe3ZhciBuPWVbMF0scz1lWzFdO3JldHVybiB0WzBdPW4raSoob1swXS1uKSx0WzFdPXMraSoob1sxXS1zKSx0fSxpLnJlZmxlY3Q9ZnVuY3Rpb24odCxlLG8pe3ZhciBpPWVbMF0qb1swXStlWzFdKm9bMV07dFswXT1lWzBdLTIqb1swXSppLHRbMV09ZVsxXS0yKm9bMV0qaX0saS5nZXRMaW5lU2VnbWVudHNJbnRlcnNlY3Rpb249ZnVuY3Rpb24odCxlLG8sbixzKXt2YXIgYT1pLmdldExpbmVTZWdtZW50c0ludGVyc2VjdGlvbkZyYWN0aW9uKGUsbyxuLHMpO3JldHVybiEoYTwwKSYmKHRbMF09ZVswXSthKihvWzBdLWVbMF0pLHRbMV09ZVsxXSthKihvWzFdLWVbMV0pLCEwKX0saS5nZXRMaW5lU2VnbWVudHNJbnRlcnNlY3Rpb25GcmFjdGlvbj1mdW5jdGlvbih0LGUsbyxpKXt2YXIgbixzLGE9ZVswXS10WzBdLHI9ZVsxXS10WzFdLGM9aVswXS1vWzBdLGg9aVsxXS1vWzFdO3JldHVybiBuPSgtcioodFswXS1vWzBdKSthKih0WzFdLW9bMV0pKS8oLWMqcithKmgpLHM9KGMqKHRbMV0tb1sxXSktaCoodFswXS1vWzBdKSkvKC1jKnIrYSpoKSxuPj0wJiZuPD0xJiZzPj0wJiZzPD0xP3M6LTF9fSx7XCIuLi91dGlscy9VdGlsc1wiOjU3fV0sMzE6W2Z1bmN0aW9uKHQsZSxvKXtmdW5jdGlvbiBpKHQpe3Q9dHx8e30sbC5jYWxsKHRoaXMpLHRoaXMuaWQ9dC5pZHx8KytpLl9pZENvdW50ZXIsdGhpcy53b3JsZD1udWxsLHRoaXMuc2hhcGVzPVtdLHRoaXMubWFzcz10Lm1hc3N8fDAsdGhpcy5pbnZNYXNzPTAsdGhpcy5pbmVydGlhPTAsdGhpcy5pbnZJbmVydGlhPTAsdGhpcy5pbnZNYXNzU29sdmU9MCx0aGlzLmludkluZXJ0aWFTb2x2ZT0wLHRoaXMuZml4ZWRSb3RhdGlvbj0hIXQuZml4ZWRSb3RhdGlvbix0aGlzLmZpeGVkWD0hIXQuZml4ZWRYLHRoaXMuZml4ZWRZPSEhdC5maXhlZFksdGhpcy5tYXNzTXVsdGlwbGllcj1uLmNyZWF0ZSgpLHRoaXMucG9zaXRpb249bi5mcm9tVmFsdWVzKDAsMCksdC5wb3NpdGlvbiYmbi5jb3B5KHRoaXMucG9zaXRpb24sdC5wb3NpdGlvbiksdGhpcy5pbnRlcnBvbGF0ZWRQb3NpdGlvbj1uLmZyb21WYWx1ZXMoMCwwKSx0aGlzLmludGVycG9sYXRlZEFuZ2xlPTAsdGhpcy5wcmV2aW91c1Bvc2l0aW9uPW4uZnJvbVZhbHVlcygwLDApLHRoaXMucHJldmlvdXNBbmdsZT0wLHRoaXMudmVsb2NpdHk9bi5mcm9tVmFsdWVzKDAsMCksdC52ZWxvY2l0eSYmbi5jb3B5KHRoaXMudmVsb2NpdHksdC52ZWxvY2l0eSksdGhpcy52bGFtYmRhPW4uZnJvbVZhbHVlcygwLDApLHRoaXMud2xhbWJkYT0wLHRoaXMuYW5nbGU9dC5hbmdsZXx8MCx0aGlzLmFuZ3VsYXJWZWxvY2l0eT10LmFuZ3VsYXJWZWxvY2l0eXx8MCx0aGlzLmZvcmNlPW4uY3JlYXRlKCksdC5mb3JjZSYmbi5jb3B5KHRoaXMuZm9yY2UsdC5mb3JjZSksdGhpcy5hbmd1bGFyRm9yY2U9dC5hbmd1bGFyRm9yY2V8fDAsdGhpcy5kYW1waW5nPVwibnVtYmVyXCI9PXR5cGVvZiB0LmRhbXBpbmc/dC5kYW1waW5nOi4xLHRoaXMuYW5ndWxhckRhbXBpbmc9XCJudW1iZXJcIj09dHlwZW9mIHQuYW5ndWxhckRhbXBpbmc/dC5hbmd1bGFyRGFtcGluZzouMSx0aGlzLnR5cGU9aS5TVEFUSUMsdm9pZCAwIT09dC50eXBlP3RoaXMudHlwZT10LnR5cGU6dC5tYXNzP3RoaXMudHlwZT1pLkRZTkFNSUM6dGhpcy50eXBlPWkuU1RBVElDLHRoaXMuYm91bmRpbmdSYWRpdXM9MCx0aGlzLmFhYmI9bmV3IGgsdGhpcy5hYWJiTmVlZHNVcGRhdGU9ITAsdGhpcy5hbGxvd1NsZWVwPXZvaWQgMD09PXQuYWxsb3dTbGVlcHx8dC5hbGxvd1NsZWVwLHRoaXMud2FudHNUb1NsZWVwPSExLHRoaXMuc2xlZXBTdGF0ZT1pLkFXQUtFLHRoaXMuc2xlZXBTcGVlZExpbWl0PXZvaWQgMCE9PXQuc2xlZXBTcGVlZExpbWl0P3Quc2xlZXBTcGVlZExpbWl0Oi4yLHRoaXMuc2xlZXBUaW1lTGltaXQ9dm9pZCAwIT09dC5zbGVlcFRpbWVMaW1pdD90LnNsZWVwVGltZUxpbWl0OjEsdGhpcy5ncmF2aXR5U2NhbGU9dm9pZCAwIT09dC5ncmF2aXR5U2NhbGU/dC5ncmF2aXR5U2NhbGU6MSx0aGlzLmNvbGxpc2lvblJlc3BvbnNlPXZvaWQgMD09PXQuY29sbGlzaW9uUmVzcG9uc2V8fHQuY29sbGlzaW9uUmVzcG9uc2UsdGhpcy5pZGxlVGltZT0wLHRoaXMudGltZUxhc3RTbGVlcHk9MCx0aGlzLmNjZFNwZWVkVGhyZXNob2xkPXZvaWQgMCE9PXQuY2NkU3BlZWRUaHJlc2hvbGQ/dC5jY2RTcGVlZFRocmVzaG9sZDotMSx0aGlzLmNjZEl0ZXJhdGlvbnM9dm9pZCAwIT09dC5jY2RJdGVyYXRpb25zP3QuY2NkSXRlcmF0aW9uczoxMCx0aGlzLmNvbmNhdmVQYXRoPW51bGwsdGhpcy5fd2FrZVVwQWZ0ZXJOYXJyb3dwaGFzZT0hMSx0aGlzLnVwZGF0ZU1hc3NQcm9wZXJ0aWVzKCl9dmFyIG49dChcIi4uL21hdGgvdmVjMlwiKSxzPXQoXCJwb2x5LWRlY29tcFwiKSxhPXQoXCIuLi9zaGFwZXMvQ29udmV4XCIpLHI9dChcIi4uL2NvbGxpc2lvbi9SYXljYXN0UmVzdWx0XCIpLGM9dChcIi4uL2NvbGxpc2lvbi9SYXlcIiksaD10KFwiLi4vY29sbGlzaW9uL0FBQkJcIiksbD10KFwiLi4vZXZlbnRzL0V2ZW50RW1pdHRlclwiKTtlLmV4cG9ydHM9aSxpLnByb3RvdHlwZT1uZXcgbCxpLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1pLGkuX2lkQ291bnRlcj0wLGkucHJvdG90eXBlLnVwZGF0ZVNvbHZlTWFzc1Byb3BlcnRpZXM9ZnVuY3Rpb24oKXt0aGlzLnNsZWVwU3RhdGU9PT1pLlNMRUVQSU5HfHx0aGlzLnR5cGU9PT1pLktJTkVNQVRJQz8odGhpcy5pbnZNYXNzU29sdmU9MCx0aGlzLmludkluZXJ0aWFTb2x2ZT0wKToodGhpcy5pbnZNYXNzU29sdmU9dGhpcy5pbnZNYXNzLHRoaXMuaW52SW5lcnRpYVNvbHZlPXRoaXMuaW52SW5lcnRpYSl9LGkucHJvdG90eXBlLnNldERlbnNpdHk9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5nZXRBcmVhKCk7dGhpcy5tYXNzPWUqdCx0aGlzLnVwZGF0ZU1hc3NQcm9wZXJ0aWVzKCl9LGkucHJvdG90eXBlLmdldEFyZWE9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9MCxlPTA7ZTx0aGlzLnNoYXBlcy5sZW5ndGg7ZSsrKXQrPXRoaXMuc2hhcGVzW2VdLmFyZWE7cmV0dXJuIHR9LGkucHJvdG90eXBlLmdldEFBQkI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hYWJiTmVlZHNVcGRhdGUmJnRoaXMudXBkYXRlQUFCQigpLHRoaXMuYWFiYn07dmFyIHA9bmV3IGgsdT1uLmNyZWF0ZSgpO2kucHJvdG90eXBlLnVwZGF0ZUFBQkI9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy5zaGFwZXMsZT10Lmxlbmd0aCxvPXUsaT10aGlzLmFuZ2xlLHM9MDtzIT09ZTtzKyspe3ZhciBhPXRbc10scj1hLmFuZ2xlK2k7bi5yb3RhdGUobyxhLnBvc2l0aW9uLGkpLG4uYWRkKG8sbyx0aGlzLnBvc2l0aW9uKSxhLmNvbXB1dGVBQUJCKHAsbyxyKSwwPT09cz90aGlzLmFhYmIuY29weShwKTp0aGlzLmFhYmIuZXh0ZW5kKHApfXRoaXMuYWFiYk5lZWRzVXBkYXRlPSExfSxpLnByb3RvdHlwZS51cGRhdGVCb3VuZGluZ1JhZGl1cz1mdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLnNoYXBlcyxlPXQubGVuZ3RoLG89MCxpPTA7aSE9PWU7aSsrKXt2YXIgcz10W2ldLGE9bi5sZW5ndGgocy5wb3NpdGlvbikscj1zLmJvdW5kaW5nUmFkaXVzO2Ercj5vJiYobz1hK3IpfXRoaXMuYm91bmRpbmdSYWRpdXM9b30saS5wcm90b3R5cGUuYWRkU2hhcGU9ZnVuY3Rpb24odCxlLG8pe2lmKHQuYm9keSl0aHJvdyBuZXcgRXJyb3IoXCJBIHNoYXBlIGNhbiBvbmx5IGJlIGFkZGVkIHRvIG9uZSBib2R5LlwiKTt0LmJvZHk9dGhpcyxlP24uY29weSh0LnBvc2l0aW9uLGUpOm4uc2V0KHQucG9zaXRpb24sMCwwKSx0LmFuZ2xlPW98fDAsdGhpcy5zaGFwZXMucHVzaCh0KSx0aGlzLnVwZGF0ZU1hc3NQcm9wZXJ0aWVzKCksdGhpcy51cGRhdGVCb3VuZGluZ1JhZGl1cygpLHRoaXMuYWFiYk5lZWRzVXBkYXRlPSEwfSxpLnByb3RvdHlwZS5yZW1vdmVTaGFwZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLnNoYXBlcy5pbmRleE9mKHQpO3JldHVybi0xIT09ZSYmKHRoaXMuc2hhcGVzLnNwbGljZShlLDEpLHRoaXMuYWFiYk5lZWRzVXBkYXRlPSEwLHQuYm9keT1udWxsLCEwKX0saS5wcm90b3R5cGUudXBkYXRlTWFzc1Byb3BlcnRpZXM9ZnVuY3Rpb24oKXtpZih0aGlzLnR5cGU9PT1pLlNUQVRJQ3x8dGhpcy50eXBlPT09aS5LSU5FTUFUSUMpdGhpcy5tYXNzPU51bWJlci5NQVhfVkFMVUUsdGhpcy5pbnZNYXNzPTAsdGhpcy5pbmVydGlhPU51bWJlci5NQVhfVkFMVUUsdGhpcy5pbnZJbmVydGlhPTA7ZWxzZXt2YXIgdD10aGlzLnNoYXBlcyxlPXQubGVuZ3RoLG89dGhpcy5tYXNzL2Uscz0wO2lmKHRoaXMuZml4ZWRSb3RhdGlvbil0aGlzLmluZXJ0aWE9TnVtYmVyLk1BWF9WQUxVRSx0aGlzLmludkluZXJ0aWE9MDtlbHNle2Zvcih2YXIgYT0wO2E8ZTthKyspe3ZhciByPXRbYV0sYz1uLnNxdWFyZWRMZW5ndGgoci5wb3NpdGlvbik7cys9ci5jb21wdXRlTW9tZW50T2ZJbmVydGlhKG8pK28qY310aGlzLmluZXJ0aWE9cyx0aGlzLmludkluZXJ0aWE9cz4wPzEvczowfXRoaXMuaW52TWFzcz0xL3RoaXMubWFzcyxuLnNldCh0aGlzLm1hc3NNdWx0aXBsaWVyLHRoaXMuZml4ZWRYPzA6MSx0aGlzLmZpeGVkWT8wOjEpfX07bi5jcmVhdGUoKTtpLnByb3RvdHlwZS5hcHBseUZvcmNlPWZ1bmN0aW9uKHQsZSl7aWYobi5hZGQodGhpcy5mb3JjZSx0aGlzLmZvcmNlLHQpLGUpe3ZhciBvPW4uY3Jvc3NMZW5ndGgoZSx0KTt0aGlzLmFuZ3VsYXJGb3JjZSs9b319O3ZhciBkPW4uY3JlYXRlKCksZj1uLmNyZWF0ZSgpLHY9bi5jcmVhdGUoKTtpLnByb3RvdHlwZS5hcHBseUZvcmNlTG9jYWw9ZnVuY3Rpb24odCxlKXtlPWV8fHY7dmFyIG89ZCxpPWY7dGhpcy52ZWN0b3JUb1dvcmxkRnJhbWUobyx0KSx0aGlzLnZlY3RvclRvV29ybGRGcmFtZShpLGUpLHRoaXMuYXBwbHlGb3JjZShvLGkpfTt2YXIgeT1uLmNyZWF0ZSgpO2kucHJvdG90eXBlLmFwcGx5SW1wdWxzZT1mdW5jdGlvbih0LGUpe2lmKHRoaXMudHlwZT09PWkuRFlOQU1JQyl7dmFyIG89eTtpZihuLnNjYWxlKG8sdCx0aGlzLmludk1hc3MpLG4ubXVsdGlwbHkobyx0aGlzLm1hc3NNdWx0aXBsaWVyLG8pLG4uYWRkKHRoaXMudmVsb2NpdHksbyx0aGlzLnZlbG9jaXR5KSxlKXt2YXIgcz1uLmNyb3NzTGVuZ3RoKGUsdCk7cyo9dGhpcy5pbnZJbmVydGlhLHRoaXMuYW5ndWxhclZlbG9jaXR5Kz1zfX19O3ZhciBtPW4uY3JlYXRlKCksZz1uLmNyZWF0ZSgpLEE9bi5jcmVhdGUoKTtpLnByb3RvdHlwZS5hcHBseUltcHVsc2VMb2NhbD1mdW5jdGlvbih0LGUpe2U9ZXx8QTt2YXIgbz1tLGk9Zzt0aGlzLnZlY3RvclRvV29ybGRGcmFtZShvLHQpLHRoaXMudmVjdG9yVG9Xb3JsZEZyYW1lKGksZSksdGhpcy5hcHBseUltcHVsc2UobyxpKX0saS5wcm90b3R5cGUudG9Mb2NhbEZyYW1lPWZ1bmN0aW9uKHQsZSl7bi50b0xvY2FsRnJhbWUodCxlLHRoaXMucG9zaXRpb24sdGhpcy5hbmdsZSl9LGkucHJvdG90eXBlLnRvV29ybGRGcmFtZT1mdW5jdGlvbih0LGUpe24udG9HbG9iYWxGcmFtZSh0LGUsdGhpcy5wb3NpdGlvbix0aGlzLmFuZ2xlKX0saS5wcm90b3R5cGUudmVjdG9yVG9Mb2NhbEZyYW1lPWZ1bmN0aW9uKHQsZSl7bi52ZWN0b3JUb0xvY2FsRnJhbWUodCxlLHRoaXMuYW5nbGUpfSxpLnByb3RvdHlwZS52ZWN0b3JUb1dvcmxkRnJhbWU9ZnVuY3Rpb24odCxlKXtuLnZlY3RvclRvR2xvYmFsRnJhbWUodCxlLHRoaXMuYW5nbGUpfSxpLnByb3RvdHlwZS5mcm9tUG9seWdvbj1mdW5jdGlvbih0LGUpe2U9ZXx8e307Zm9yKGM9dGhpcy5zaGFwZXMubGVuZ3RoO2M+PTA7LS1jKXRoaXMucmVtb3ZlU2hhcGUodGhpcy5zaGFwZXNbY10pO3ZhciBvPW5ldyBzLlBvbHlnb247aWYoby52ZXJ0aWNlcz10LG8ubWFrZUNDVygpLFwibnVtYmVyXCI9PXR5cGVvZiBlLnJlbW92ZUNvbGxpbmVhclBvaW50cyYmby5yZW1vdmVDb2xsaW5lYXJQb2ludHMoZS5yZW1vdmVDb2xsaW5lYXJQb2ludHMpLHZvaWQgMD09PWUuc2tpcFNpbXBsZUNoZWNrJiYhby5pc1NpbXBsZSgpKXJldHVybiExO3RoaXMuY29uY2F2ZVBhdGg9by52ZXJ0aWNlcy5zbGljZSgwKTtmb3IoYz0wO2M8dGhpcy5jb25jYXZlUGF0aC5sZW5ndGg7YysrKXtwPVswLDBdO24uY29weShwLHRoaXMuY29uY2F2ZVBhdGhbY10pLHRoaXMuY29uY2F2ZVBhdGhbY109cH12YXIgaTtpPWUub3B0aW1hbERlY29tcD9vLmRlY29tcCgpOm8ucXVpY2tEZWNvbXAoKTtmb3IodmFyIHI9bi5jcmVhdGUoKSxjPTA7YyE9PWkubGVuZ3RoO2MrKyl7Zm9yKHZhciBoPW5ldyBhKHt2ZXJ0aWNlczppW2NdLnZlcnRpY2VzfSksbD0wO2whPT1oLnZlcnRpY2VzLmxlbmd0aDtsKyspe3ZhciBwPWgudmVydGljZXNbbF07bi5zdWIocCxwLGguY2VudGVyT2ZNYXNzKX1uLnNjYWxlKHIsaC5jZW50ZXJPZk1hc3MsMSksaC51cGRhdGVUcmlhbmdsZXMoKSxoLnVwZGF0ZUNlbnRlck9mTWFzcygpLGgudXBkYXRlQm91bmRpbmdSYWRpdXMoKSx0aGlzLmFkZFNoYXBlKGgscil9cmV0dXJuIHRoaXMuYWRqdXN0Q2VudGVyT2ZNYXNzKCksdGhpcy5hYWJiTmVlZHNVcGRhdGU9ITAsITB9O24uZnJvbVZhbHVlcygwLDApO3ZhciBiPW4uZnJvbVZhbHVlcygwLDApLEU9bi5mcm9tVmFsdWVzKDAsMCksQj1uLmZyb21WYWx1ZXMoMCwwKTtpLnByb3RvdHlwZS5hZGp1c3RDZW50ZXJPZk1hc3M9ZnVuY3Rpb24oKXt2YXIgdD1iLGU9RSxvPUIsaT0wO24uc2V0KGUsMCwwKTtmb3IoYT0wO2EhPT10aGlzLnNoYXBlcy5sZW5ndGg7YSsrKXtzPXRoaXMuc2hhcGVzW2FdO24uc2NhbGUodCxzLnBvc2l0aW9uLHMuYXJlYSksbi5hZGQoZSxlLHQpLGkrPXMuYXJlYX1uLnNjYWxlKG8sZSwxL2kpO2ZvcihhPTA7YSE9PXRoaXMuc2hhcGVzLmxlbmd0aDthKyspe3ZhciBzPXRoaXMuc2hhcGVzW2FdO24uc3ViKHMucG9zaXRpb24scy5wb3NpdGlvbixvKX1uLmFkZCh0aGlzLnBvc2l0aW9uLHRoaXMucG9zaXRpb24sbyk7Zm9yKHZhciBhPTA7dGhpcy5jb25jYXZlUGF0aCYmYTx0aGlzLmNvbmNhdmVQYXRoLmxlbmd0aDthKyspbi5zdWIodGhpcy5jb25jYXZlUGF0aFthXSx0aGlzLmNvbmNhdmVQYXRoW2FdLG8pO3RoaXMudXBkYXRlTWFzc1Byb3BlcnRpZXMoKSx0aGlzLnVwZGF0ZUJvdW5kaW5nUmFkaXVzKCl9LGkucHJvdG90eXBlLnNldFplcm9Gb3JjZT1mdW5jdGlvbigpe24uc2V0KHRoaXMuZm9yY2UsMCwwKSx0aGlzLmFuZ3VsYXJGb3JjZT0wfSxpLnByb3RvdHlwZS5yZXNldENvbnN0cmFpbnRWZWxvY2l0eT1mdW5jdGlvbigpe3ZhciB0PXRoaXMsZT10LnZsYW1iZGE7bi5zZXQoZSwwLDApLHQud2xhbWJkYT0wfSxpLnByb3RvdHlwZS5hZGRDb25zdHJhaW50VmVsb2NpdHk9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGU9dC52ZWxvY2l0eTtuLmFkZChlLGUsdC52bGFtYmRhKSx0LmFuZ3VsYXJWZWxvY2l0eSs9dC53bGFtYmRhfSxpLnByb3RvdHlwZS5hcHBseURhbXBpbmc9ZnVuY3Rpb24odCl7aWYodGhpcy50eXBlPT09aS5EWU5BTUlDKXt2YXIgZT10aGlzLnZlbG9jaXR5O24uc2NhbGUoZSxlLE1hdGgucG93KDEtdGhpcy5kYW1waW5nLHQpKSx0aGlzLmFuZ3VsYXJWZWxvY2l0eSo9TWF0aC5wb3coMS10aGlzLmFuZ3VsYXJEYW1waW5nLHQpfX0saS5wcm90b3R5cGUud2FrZVVwPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5zbGVlcFN0YXRlO3RoaXMuc2xlZXBTdGF0ZT1pLkFXQUtFLHRoaXMuaWRsZVRpbWU9MCx0IT09aS5BV0FLRSYmdGhpcy5lbWl0KGkud2FrZVVwRXZlbnQpfSxpLnByb3RvdHlwZS5zbGVlcD1mdW5jdGlvbigpe3RoaXMuc2xlZXBTdGF0ZT1pLlNMRUVQSU5HLHRoaXMuYW5ndWxhclZlbG9jaXR5PTAsdGhpcy5hbmd1bGFyRm9yY2U9MCxuLnNldCh0aGlzLnZlbG9jaXR5LDAsMCksbi5zZXQodGhpcy5mb3JjZSwwLDApLHRoaXMuZW1pdChpLnNsZWVwRXZlbnQpfSxpLnByb3RvdHlwZS5zbGVlcFRpY2s9ZnVuY3Rpb24odCxlLG8pe2lmKHRoaXMuYWxsb3dTbGVlcCYmdGhpcy50eXBlIT09aS5TTEVFUElORyl7dGhpcy53YW50c1RvU2xlZXA9ITE7dGhpcy5zbGVlcFN0YXRlO24uc3F1YXJlZExlbmd0aCh0aGlzLnZlbG9jaXR5KStNYXRoLnBvdyh0aGlzLmFuZ3VsYXJWZWxvY2l0eSwyKT49TWF0aC5wb3codGhpcy5zbGVlcFNwZWVkTGltaXQsMik/KHRoaXMuaWRsZVRpbWU9MCx0aGlzLnNsZWVwU3RhdGU9aS5BV0FLRSk6KHRoaXMuaWRsZVRpbWUrPW8sdGhpcy5zbGVlcFN0YXRlPWkuU0xFRVBZKSx0aGlzLmlkbGVUaW1lPnRoaXMuc2xlZXBUaW1lTGltaXQmJihlP3RoaXMud2FudHNUb1NsZWVwPSEwOnRoaXMuc2xlZXAoKSl9fSxpLnByb3RvdHlwZS5vdmVybGFwcz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy53b3JsZC5vdmVybGFwS2VlcGVyLmJvZGllc0FyZU92ZXJsYXBwaW5nKHRoaXMsdCl9O3ZhciBxPW4uY3JlYXRlKCksUD1uLmNyZWF0ZSgpO2kucHJvdG90eXBlLmludGVncmF0ZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmludk1hc3Msbz10aGlzLmZvcmNlLGk9dGhpcy5wb3NpdGlvbixzPXRoaXMudmVsb2NpdHk7bi5jb3B5KHRoaXMucHJldmlvdXNQb3NpdGlvbix0aGlzLnBvc2l0aW9uKSx0aGlzLnByZXZpb3VzQW5nbGU9dGhpcy5hbmdsZSx0aGlzLmZpeGVkUm90YXRpb258fCh0aGlzLmFuZ3VsYXJWZWxvY2l0eSs9dGhpcy5hbmd1bGFyRm9yY2UqdGhpcy5pbnZJbmVydGlhKnQpLG4uc2NhbGUocSxvLHQqZSksbi5tdWx0aXBseShxLHRoaXMubWFzc011bHRpcGxpZXIscSksbi5hZGQocyxxLHMpLHRoaXMuaW50ZWdyYXRlVG9UaW1lT2ZJbXBhY3QodCl8fChuLnNjYWxlKFAscyx0KSxuLmFkZChpLGksUCksdGhpcy5maXhlZFJvdGF0aW9ufHwodGhpcy5hbmdsZSs9dGhpcy5hbmd1bGFyVmVsb2NpdHkqdCkpLHRoaXMuYWFiYk5lZWRzVXBkYXRlPSEwfTt2YXIgdz1uZXcgcixTPW5ldyBjKHttb2RlOmMuQUxMfSksQz1uLmNyZWF0ZSgpLEw9bi5jcmVhdGUoKSx4PW4uY3JlYXRlKCksRj1uLmNyZWF0ZSgpO2kucHJvdG90eXBlLmludGVncmF0ZVRvVGltZU9mSW1wYWN0PWZ1bmN0aW9uKHQpe2lmKHRoaXMuY2NkU3BlZWRUaHJlc2hvbGQ8MHx8bi5zcXVhcmVkTGVuZ3RoKHRoaXMudmVsb2NpdHkpPE1hdGgucG93KHRoaXMuY2NkU3BlZWRUaHJlc2hvbGQsMikpcmV0dXJuITE7bi5ub3JtYWxpemUoQyx0aGlzLnZlbG9jaXR5KSxuLnNjYWxlKEwsdGhpcy52ZWxvY2l0eSx0KSxuLmFkZChMLEwsdGhpcy5wb3NpdGlvbiksbi5zdWIoeCxMLHRoaXMucG9zaXRpb24pO3ZhciBlLG89dGhpcy5hbmd1bGFyVmVsb2NpdHkqdCxpPW4ubGVuZ3RoKHgpLHM9MSxhPXRoaXM7aWYody5yZXNldCgpLFMuY2FsbGJhY2s9ZnVuY3Rpb24odCl7dC5ib2R5IT09YSYmKGU9dC5ib2R5LHQuZ2V0SGl0UG9pbnQoTCxTKSxuLnN1Yih4LEwsYS5wb3NpdGlvbikscz1uLmxlbmd0aCh4KS9pLHQuc3RvcCgpKX0sbi5jb3B5KFMuZnJvbSx0aGlzLnBvc2l0aW9uKSxuLmNvcHkoUy50byxMKSxTLnVwZGF0ZSgpLHRoaXMud29ybGQucmF5Y2FzdCh3LFMpLCFlKXJldHVybiExO3ZhciByPXRoaXMuYW5nbGU7bi5jb3B5KEYsdGhpcy5wb3NpdGlvbik7Zm9yKHZhciBjPTAsaD0wLGw9MCxwPXM7cD49aCYmYzx0aGlzLmNjZEl0ZXJhdGlvbnM7KWMrKyxsPShwLWgpLzIsbi5zY2FsZShQLHgscyksbi5hZGQodGhpcy5wb3NpdGlvbixGLFApLHRoaXMuYW5nbGU9citvKnMsdGhpcy51cGRhdGVBQUJCKCksdGhpcy5hYWJiLm92ZXJsYXBzKGUuYWFiYikmJnRoaXMud29ybGQubmFycm93cGhhc2UuYm9kaWVzT3ZlcmxhcCh0aGlzLGUpP2g9bDpwPWw7cmV0dXJuIHM9bCxuLmNvcHkodGhpcy5wb3NpdGlvbixGKSx0aGlzLmFuZ2xlPXIsbi5zY2FsZShQLHgscyksbi5hZGQodGhpcy5wb3NpdGlvbix0aGlzLnBvc2l0aW9uLFApLHRoaXMuZml4ZWRSb3RhdGlvbnx8KHRoaXMuYW5nbGUrPW8qcyksITB9LGkucHJvdG90eXBlLmdldFZlbG9jaXR5QXRQb2ludD1mdW5jdGlvbih0LGUpe3JldHVybiBuLmNyb3NzVloodCxlLHRoaXMuYW5ndWxhclZlbG9jaXR5KSxuLnN1YnRyYWN0KHQsdGhpcy52ZWxvY2l0eSx0KSx0fSxpLnNsZWVweUV2ZW50PXt0eXBlOlwic2xlZXB5XCJ9LGkuc2xlZXBFdmVudD17dHlwZTpcInNsZWVwXCJ9LGkud2FrZVVwRXZlbnQ9e3R5cGU6XCJ3YWtldXBcIn0saS5EWU5BTUlDPTEsaS5TVEFUSUM9MixpLktJTkVNQVRJQz00LGkuQVdBS0U9MCxpLlNMRUVQWT0xLGkuU0xFRVBJTkc9Mn0se1wiLi4vY29sbGlzaW9uL0FBQkJcIjo3LFwiLi4vY29sbGlzaW9uL1JheVwiOjExLFwiLi4vY29sbGlzaW9uL1JheWNhc3RSZXN1bHRcIjoxMixcIi4uL2V2ZW50cy9FdmVudEVtaXR0ZXJcIjoyNixcIi4uL21hdGgvdmVjMlwiOjMwLFwiLi4vc2hhcGVzL0NvbnZleFwiOjQwLFwicG9seS1kZWNvbXBcIjo1fV0sMzI6W2Z1bmN0aW9uKHQsZSxvKXtmdW5jdGlvbiBpKHQsZSxvKXtvPW98fHt9LHMuY2FsbCh0aGlzLHQsZSxvKSx0aGlzLmxvY2FsQW5jaG9yQT1uLmZyb21WYWx1ZXMoMCwwKSx0aGlzLmxvY2FsQW5jaG9yQj1uLmZyb21WYWx1ZXMoMCwwKSxvLmxvY2FsQW5jaG9yQSYmbi5jb3B5KHRoaXMubG9jYWxBbmNob3JBLG8ubG9jYWxBbmNob3JBKSxvLmxvY2FsQW5jaG9yQiYmbi5jb3B5KHRoaXMubG9jYWxBbmNob3JCLG8ubG9jYWxBbmNob3JCKSxvLndvcmxkQW5jaG9yQSYmdGhpcy5zZXRXb3JsZEFuY2hvckEoby53b3JsZEFuY2hvckEpLG8ud29ybGRBbmNob3JCJiZ0aGlzLnNldFdvcmxkQW5jaG9yQihvLndvcmxkQW5jaG9yQik7dmFyIGk9bi5jcmVhdGUoKSxhPW4uY3JlYXRlKCk7dGhpcy5nZXRXb3JsZEFuY2hvckEoaSksdGhpcy5nZXRXb3JsZEFuY2hvckIoYSk7dmFyIHI9bi5kaXN0YW5jZShpLGEpO3RoaXMucmVzdExlbmd0aD1cIm51bWJlclwiPT10eXBlb2Ygby5yZXN0TGVuZ3RoP28ucmVzdExlbmd0aDpyfXZhciBuPXQoXCIuLi9tYXRoL3ZlYzJcIikscz10KFwiLi9TcHJpbmdcIik7dChcIi4uL3V0aWxzL1V0aWxzXCIpO2UuZXhwb3J0cz1pLChpLnByb3RvdHlwZT1uZXcgcykuY29uc3RydWN0b3I9aSxpLnByb3RvdHlwZS5zZXRXb3JsZEFuY2hvckE9ZnVuY3Rpb24odCl7dGhpcy5ib2R5QS50b0xvY2FsRnJhbWUodGhpcy5sb2NhbEFuY2hvckEsdCl9LGkucHJvdG90eXBlLnNldFdvcmxkQW5jaG9yQj1mdW5jdGlvbih0KXt0aGlzLmJvZHlCLnRvTG9jYWxGcmFtZSh0aGlzLmxvY2FsQW5jaG9yQix0KX0saS5wcm90b3R5cGUuZ2V0V29ybGRBbmNob3JBPWZ1bmN0aW9uKHQpe3RoaXMuYm9keUEudG9Xb3JsZEZyYW1lKHQsdGhpcy5sb2NhbEFuY2hvckEpfSxpLnByb3RvdHlwZS5nZXRXb3JsZEFuY2hvckI9ZnVuY3Rpb24odCl7dGhpcy5ib2R5Qi50b1dvcmxkRnJhbWUodCx0aGlzLmxvY2FsQW5jaG9yQil9O3ZhciBhPW4uY3JlYXRlKCkscj1uLmNyZWF0ZSgpLGM9bi5jcmVhdGUoKSxoPW4uY3JlYXRlKCksbD1uLmNyZWF0ZSgpLHA9bi5jcmVhdGUoKSx1PW4uY3JlYXRlKCksZD1uLmNyZWF0ZSgpLGY9bi5jcmVhdGUoKTtpLnByb3RvdHlwZS5hcHBseUZvcmNlPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5zdGlmZm5lc3MsZT10aGlzLmRhbXBpbmcsbz10aGlzLnJlc3RMZW5ndGgsaT10aGlzLmJvZHlBLHM9dGhpcy5ib2R5Qix2PWEseT1yLG09YyxnPWgsQT1mLGI9bCxFPXAsQj11LHE9ZDt0aGlzLmdldFdvcmxkQW5jaG9yQShiKSx0aGlzLmdldFdvcmxkQW5jaG9yQihFKSxuLnN1YihCLGIsaS5wb3NpdGlvbiksbi5zdWIocSxFLHMucG9zaXRpb24pLG4uc3ViKHYsRSxiKTt2YXIgUD1uLmxlbih2KTtuLm5vcm1hbGl6ZSh5LHYpLG4uc3ViKG0scy52ZWxvY2l0eSxpLnZlbG9jaXR5KSxuLmNyb3NzWlYoQSxzLmFuZ3VsYXJWZWxvY2l0eSxxKSxuLmFkZChtLG0sQSksbi5jcm9zc1pWKEEsaS5hbmd1bGFyVmVsb2NpdHksQiksbi5zdWIobSxtLEEpLG4uc2NhbGUoZyx5LC10KihQLW8pLWUqbi5kb3QobSx5KSksbi5zdWIoaS5mb3JjZSxpLmZvcmNlLGcpLG4uYWRkKHMuZm9yY2Uscy5mb3JjZSxnKTt2YXIgdz1uLmNyb3NzTGVuZ3RoKEIsZyksUz1uLmNyb3NzTGVuZ3RoKHEsZyk7aS5hbmd1bGFyRm9yY2UtPXcscy5hbmd1bGFyRm9yY2UrPVN9fSx7XCIuLi9tYXRoL3ZlYzJcIjozMCxcIi4uL3V0aWxzL1V0aWxzXCI6NTcsXCIuL1NwcmluZ1wiOjM0fV0sMzM6W2Z1bmN0aW9uKHQsZSxvKXtmdW5jdGlvbiBpKHQsZSxvKXtvPW98fHt9LG4uY2FsbCh0aGlzLHQsZSxvKSx0aGlzLnJlc3RBbmdsZT1cIm51bWJlclwiPT10eXBlb2Ygby5yZXN0QW5nbGU/by5yZXN0QW5nbGU6ZS5hbmdsZS10LmFuZ2xlfXQoXCIuLi9tYXRoL3ZlYzJcIik7dmFyIG49dChcIi4vU3ByaW5nXCIpO2UuZXhwb3J0cz1pLChpLnByb3RvdHlwZT1uZXcgbikuY29uc3RydWN0b3I9aSxpLnByb3RvdHlwZS5hcHBseUZvcmNlPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5zdGlmZm5lc3MsZT10aGlzLmRhbXBpbmcsbz10aGlzLnJlc3RBbmdsZSxpPXRoaXMuYm9keUEsbj10aGlzLmJvZHlCLHM9LXQqKG4uYW5nbGUtaS5hbmdsZS1vKS1lKihuLmFuZ3VsYXJWZWxvY2l0eS1pLmFuZ3VsYXJWZWxvY2l0eSkqMDtpLmFuZ3VsYXJGb3JjZS09cyxuLmFuZ3VsYXJGb3JjZSs9c319LHtcIi4uL21hdGgvdmVjMlwiOjMwLFwiLi9TcHJpbmdcIjozNH1dLDM0OltmdW5jdGlvbih0LGUsbyl7ZnVuY3Rpb24gaSh0LGUsbyl7bz1uLmRlZmF1bHRzKG8se3N0aWZmbmVzczoxMDAsZGFtcGluZzoxfSksdGhpcy5zdGlmZm5lc3M9by5zdGlmZm5lc3MsdGhpcy5kYW1waW5nPW8uZGFtcGluZyx0aGlzLmJvZHlBPXQsdGhpcy5ib2R5Qj1lfXQoXCIuLi9tYXRoL3ZlYzJcIik7dmFyIG49dChcIi4uL3V0aWxzL1V0aWxzXCIpO2UuZXhwb3J0cz1pLGkucHJvdG90eXBlLmFwcGx5Rm9yY2U9ZnVuY3Rpb24oKXt9fSx7XCIuLi9tYXRoL3ZlYzJcIjozMCxcIi4uL3V0aWxzL1V0aWxzXCI6NTd9XSwzNTpbZnVuY3Rpb24odCxlLG8pe2Z1bmN0aW9uIGkodCxlKXtlPWV8fHt9LHRoaXMuY2hhc3Npc0JvZHk9dCx0aGlzLndoZWVscz1bXSx0aGlzLmdyb3VuZEJvZHk9bmV3IGMoe21hc3M6MH0pLHRoaXMud29ybGQ9bnVsbDt2YXIgbz10aGlzO3RoaXMucHJlU3RlcENhbGxiYWNrPWZ1bmN0aW9uKCl7by51cGRhdGUoKX19ZnVuY3Rpb24gbih0LGUpe2U9ZXx8e30sdGhpcy52ZWhpY2xlPXQsdGhpcy5mb3J3YXJkRXF1YXRpb249bmV3IHIodC5jaGFzc2lzQm9keSx0Lmdyb3VuZEJvZHkpLHRoaXMuc2lkZUVxdWF0aW9uPW5ldyByKHQuY2hhc3Npc0JvZHksdC5ncm91bmRCb2R5KSx0aGlzLnN0ZWVyVmFsdWU9MCx0aGlzLmVuZ2luZUZvcmNlPTAsdGhpcy5zZXRTaWRlRnJpY3Rpb24odm9pZCAwIT09ZS5zaWRlRnJpY3Rpb24/ZS5zaWRlRnJpY3Rpb246NSksdGhpcy5sb2NhbEZvcndhcmRWZWN0b3I9cy5mcm9tVmFsdWVzKDAsMSksZS5sb2NhbEZvcndhcmRWZWN0b3ImJnMuY29weSh0aGlzLmxvY2FsRm9yd2FyZFZlY3RvcixlLmxvY2FsRm9yd2FyZFZlY3RvciksdGhpcy5sb2NhbFBvc2l0aW9uPXMuZnJvbVZhbHVlcygwLDApLGUubG9jYWxQb3NpdGlvbiYmcy5jb3B5KHRoaXMubG9jYWxQb3NpdGlvbixlLmxvY2FsUG9zaXRpb24pLGEuYXBwbHkodGhpcyx0LmNoYXNzaXNCb2R5LHQuZ3JvdW5kQm9keSksdGhpcy5lcXVhdGlvbnMucHVzaCh0aGlzLmZvcndhcmRFcXVhdGlvbix0aGlzLnNpZGVFcXVhdGlvbiksdGhpcy5zZXRCcmFrZUZvcmNlKDApfXZhciBzPXQoXCIuLi9tYXRoL3ZlYzJcIiksYT0odChcIi4uL3V0aWxzL1V0aWxzXCIpLHQoXCIuLi9jb25zdHJhaW50cy9Db25zdHJhaW50XCIpKSxyPXQoXCIuLi9lcXVhdGlvbnMvRnJpY3Rpb25FcXVhdGlvblwiKSxjPXQoXCIuLi9vYmplY3RzL0JvZHlcIik7ZS5leHBvcnRzPWksaS5wcm90b3R5cGUuYWRkVG9Xb3JsZD1mdW5jdGlvbih0KXt0aGlzLndvcmxkPXQsdC5hZGRCb2R5KHRoaXMuZ3JvdW5kQm9keSksdC5vbihcInByZVN0ZXBcIix0aGlzLnByZVN0ZXBDYWxsYmFjayk7Zm9yKHZhciBlPTA7ZTx0aGlzLndoZWVscy5sZW5ndGg7ZSsrKXt2YXIgbz10aGlzLndoZWVsc1tlXTt0LmFkZENvbnN0cmFpbnQobyl9fSxpLnByb3RvdHlwZS5yZW1vdmVGcm9tV29ybGQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLndvcmxkO3QucmVtb3ZlQm9keSh0aGlzLmdyb3VuZEJvZHkpLHQub2ZmKFwicHJlU3RlcFwiLHRoaXMucHJlU3RlcENhbGxiYWNrKTtmb3IodmFyIGU9MDtlPHRoaXMud2hlZWxzLmxlbmd0aDtlKyspe3ZhciBvPXRoaXMud2hlZWxzW2VdO3QucmVtb3ZlQ29uc3RyYWludChvKX10aGlzLndvcmxkPW51bGx9LGkucHJvdG90eXBlLmFkZFdoZWVsPWZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBuKHRoaXMsdCk7cmV0dXJuIHRoaXMud2hlZWxzLnB1c2goZSksZX0saS5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PTA7dDx0aGlzLndoZWVscy5sZW5ndGg7dCsrKXRoaXMud2hlZWxzW3RdLnVwZGF0ZSgpfSwobi5wcm90b3R5cGU9bmV3IGEpLnNldEJyYWtlRm9yY2U9ZnVuY3Rpb24odCl7dGhpcy5mb3J3YXJkRXF1YXRpb24uc2V0U2xpcEZvcmNlKHQpfSxuLnByb3RvdHlwZS5zZXRTaWRlRnJpY3Rpb249ZnVuY3Rpb24odCl7dGhpcy5zaWRlRXF1YXRpb24uc2V0U2xpcEZvcmNlKHQpfTt2YXIgaD1zLmNyZWF0ZSgpLGw9cy5jcmVhdGUoKTtuLnByb3RvdHlwZS5nZXRTcGVlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnZlaGljbGUuY2hhc3Npc0JvZHkudmVjdG9yVG9Xb3JsZEZyYW1lKGwsdGhpcy5sb2NhbEZvcndhcmRWZWN0b3IpLHRoaXMudmVoaWNsZS5jaGFzc2lzQm9keS5nZXRWZWxvY2l0eUF0UG9pbnQoaCxsKSxzLmRvdChoLGwpfTt2YXIgcD1zLmNyZWF0ZSgpO24ucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbigpe3RoaXMudmVoaWNsZS5jaGFzc2lzQm9keS52ZWN0b3JUb1dvcmxkRnJhbWUodGhpcy5mb3J3YXJkRXF1YXRpb24udCx0aGlzLmxvY2FsRm9yd2FyZFZlY3Rvcikscy5yb3RhdGUodGhpcy5zaWRlRXF1YXRpb24udCx0aGlzLmxvY2FsRm9yd2FyZFZlY3RvcixNYXRoLlBJLzIpLHRoaXMudmVoaWNsZS5jaGFzc2lzQm9keS52ZWN0b3JUb1dvcmxkRnJhbWUodGhpcy5zaWRlRXF1YXRpb24udCx0aGlzLnNpZGVFcXVhdGlvbi50KSxzLnJvdGF0ZSh0aGlzLmZvcndhcmRFcXVhdGlvbi50LHRoaXMuZm9yd2FyZEVxdWF0aW9uLnQsdGhpcy5zdGVlclZhbHVlKSxzLnJvdGF0ZSh0aGlzLnNpZGVFcXVhdGlvbi50LHRoaXMuc2lkZUVxdWF0aW9uLnQsdGhpcy5zdGVlclZhbHVlKSx0aGlzLnZlaGljbGUuY2hhc3Npc0JvZHkudG9Xb3JsZEZyYW1lKHRoaXMuZm9yd2FyZEVxdWF0aW9uLmNvbnRhY3RQb2ludEIsdGhpcy5sb2NhbFBvc2l0aW9uKSxzLmNvcHkodGhpcy5zaWRlRXF1YXRpb24uY29udGFjdFBvaW50Qix0aGlzLmZvcndhcmRFcXVhdGlvbi5jb250YWN0UG9pbnRCKSx0aGlzLnZlaGljbGUuY2hhc3Npc0JvZHkudmVjdG9yVG9Xb3JsZEZyYW1lKHRoaXMuZm9yd2FyZEVxdWF0aW9uLmNvbnRhY3RQb2ludEEsdGhpcy5sb2NhbFBvc2l0aW9uKSxzLmNvcHkodGhpcy5zaWRlRXF1YXRpb24uY29udGFjdFBvaW50QSx0aGlzLmZvcndhcmRFcXVhdGlvbi5jb250YWN0UG9pbnRBKSxzLm5vcm1hbGl6ZShwLHRoaXMuZm9yd2FyZEVxdWF0aW9uLnQpLHMuc2NhbGUocCxwLHRoaXMuZW5naW5lRm9yY2UpLHRoaXMudmVoaWNsZS5jaGFzc2lzQm9keS5hcHBseUZvcmNlKHAsdGhpcy5mb3J3YXJkRXF1YXRpb24uY29udGFjdFBvaW50QSl9fSx7XCIuLi9jb25zdHJhaW50cy9Db25zdHJhaW50XCI6MTQsXCIuLi9lcXVhdGlvbnMvRnJpY3Rpb25FcXVhdGlvblwiOjIzLFwiLi4vbWF0aC92ZWMyXCI6MzAsXCIuLi9vYmplY3RzL0JvZHlcIjozMSxcIi4uL3V0aWxzL1V0aWxzXCI6NTd9XSwzNjpbZnVuY3Rpb24odCxlLG8pe3ZhciBpPWUuZXhwb3J0cz17QUFCQjp0KFwiLi9jb2xsaXNpb24vQUFCQlwiKSxBbmdsZUxvY2tFcXVhdGlvbjp0KFwiLi9lcXVhdGlvbnMvQW5nbGVMb2NrRXF1YXRpb25cIiksQm9keTp0KFwiLi9vYmplY3RzL0JvZHlcIiksQnJvYWRwaGFzZTp0KFwiLi9jb2xsaXNpb24vQnJvYWRwaGFzZVwiKSxDYXBzdWxlOnQoXCIuL3NoYXBlcy9DYXBzdWxlXCIpLENpcmNsZTp0KFwiLi9zaGFwZXMvQ2lyY2xlXCIpLENvbnN0cmFpbnQ6dChcIi4vY29uc3RyYWludHMvQ29uc3RyYWludFwiKSxDb250YWN0RXF1YXRpb246dChcIi4vZXF1YXRpb25zL0NvbnRhY3RFcXVhdGlvblwiKSxDb250YWN0RXF1YXRpb25Qb29sOnQoXCIuL3V0aWxzL0NvbnRhY3RFcXVhdGlvblBvb2xcIiksQ29udGFjdE1hdGVyaWFsOnQoXCIuL21hdGVyaWFsL0NvbnRhY3RNYXRlcmlhbFwiKSxDb252ZXg6dChcIi4vc2hhcGVzL0NvbnZleFwiKSxEaXN0YW5jZUNvbnN0cmFpbnQ6dChcIi4vY29uc3RyYWludHMvRGlzdGFuY2VDb25zdHJhaW50XCIpLEVxdWF0aW9uOnQoXCIuL2VxdWF0aW9ucy9FcXVhdGlvblwiKSxFdmVudEVtaXR0ZXI6dChcIi4vZXZlbnRzL0V2ZW50RW1pdHRlclwiKSxGcmljdGlvbkVxdWF0aW9uOnQoXCIuL2VxdWF0aW9ucy9GcmljdGlvbkVxdWF0aW9uXCIpLEZyaWN0aW9uRXF1YXRpb25Qb29sOnQoXCIuL3V0aWxzL0ZyaWN0aW9uRXF1YXRpb25Qb29sXCIpLEdlYXJDb25zdHJhaW50OnQoXCIuL2NvbnN0cmFpbnRzL0dlYXJDb25zdHJhaW50XCIpLEdTU29sdmVyOnQoXCIuL3NvbHZlci9HU1NvbHZlclwiKSxIZWlnaHRmaWVsZDp0KFwiLi9zaGFwZXMvSGVpZ2h0ZmllbGRcIiksTGluZTp0KFwiLi9zaGFwZXMvTGluZVwiKSxMb2NrQ29uc3RyYWludDp0KFwiLi9jb25zdHJhaW50cy9Mb2NrQ29uc3RyYWludFwiKSxNYXRlcmlhbDp0KFwiLi9tYXRlcmlhbC9NYXRlcmlhbFwiKSxOYXJyb3dwaGFzZTp0KFwiLi9jb2xsaXNpb24vTmFycm93cGhhc2VcIiksTmFpdmVCcm9hZHBoYXNlOnQoXCIuL2NvbGxpc2lvbi9OYWl2ZUJyb2FkcGhhc2VcIiksUGFydGljbGU6dChcIi4vc2hhcGVzL1BhcnRpY2xlXCIpLFBsYW5lOnQoXCIuL3NoYXBlcy9QbGFuZVwiKSxQb29sOnQoXCIuL3V0aWxzL1Bvb2xcIiksUmV2b2x1dGVDb25zdHJhaW50OnQoXCIuL2NvbnN0cmFpbnRzL1Jldm9sdXRlQ29uc3RyYWludFwiKSxQcmlzbWF0aWNDb25zdHJhaW50OnQoXCIuL2NvbnN0cmFpbnRzL1ByaXNtYXRpY0NvbnN0cmFpbnRcIiksUmF5OnQoXCIuL2NvbGxpc2lvbi9SYXlcIiksUmF5Y2FzdFJlc3VsdDp0KFwiLi9jb2xsaXNpb24vUmF5Y2FzdFJlc3VsdFwiKSxCb3g6dChcIi4vc2hhcGVzL0JveFwiKSxSb3RhdGlvbmFsVmVsb2NpdHlFcXVhdGlvbjp0KFwiLi9lcXVhdGlvbnMvUm90YXRpb25hbFZlbG9jaXR5RXF1YXRpb25cIiksU0FQQnJvYWRwaGFzZTp0KFwiLi9jb2xsaXNpb24vU0FQQnJvYWRwaGFzZVwiKSxTaGFwZTp0KFwiLi9zaGFwZXMvU2hhcGVcIiksU29sdmVyOnQoXCIuL3NvbHZlci9Tb2x2ZXJcIiksU3ByaW5nOnQoXCIuL29iamVjdHMvU3ByaW5nXCIpLFRvcERvd25WZWhpY2xlOnQoXCIuL29iamVjdHMvVG9wRG93blZlaGljbGVcIiksTGluZWFyU3ByaW5nOnQoXCIuL29iamVjdHMvTGluZWFyU3ByaW5nXCIpLFJvdGF0aW9uYWxTcHJpbmc6dChcIi4vb2JqZWN0cy9Sb3RhdGlvbmFsU3ByaW5nXCIpLFV0aWxzOnQoXCIuL3V0aWxzL1V0aWxzXCIpLFdvcmxkOnQoXCIuL3dvcmxkL1dvcmxkXCIpLHZlYzI6dChcIi4vbWF0aC92ZWMyXCIpLHZlcnNpb246dChcIi4uL3BhY2thZ2UuanNvblwiKS52ZXJzaW9ufTtPYmplY3QuZGVmaW5lUHJvcGVydHkoaSxcIlJlY3RhbmdsZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS53YXJuKFwiVGhlIFJlY3RhbmdsZSBjbGFzcyBoYXMgYmVlbiByZW5hbWVkIHRvIEJveC5cIiksdGhpcy5Cb3h9fSl9LHtcIi4uL3BhY2thZ2UuanNvblwiOjYsXCIuL2NvbGxpc2lvbi9BQUJCXCI6NyxcIi4vY29sbGlzaW9uL0Jyb2FkcGhhc2VcIjo4LFwiLi9jb2xsaXNpb24vTmFpdmVCcm9hZHBoYXNlXCI6OSxcIi4vY29sbGlzaW9uL05hcnJvd3BoYXNlXCI6MTAsXCIuL2NvbGxpc2lvbi9SYXlcIjoxMSxcIi4vY29sbGlzaW9uL1JheWNhc3RSZXN1bHRcIjoxMixcIi4vY29sbGlzaW9uL1NBUEJyb2FkcGhhc2VcIjoxMyxcIi4vY29uc3RyYWludHMvQ29uc3RyYWludFwiOjE0LFwiLi9jb25zdHJhaW50cy9EaXN0YW5jZUNvbnN0cmFpbnRcIjoxNSxcIi4vY29uc3RyYWludHMvR2VhckNvbnN0cmFpbnRcIjoxNixcIi4vY29uc3RyYWludHMvTG9ja0NvbnN0cmFpbnRcIjoxNyxcIi4vY29uc3RyYWludHMvUHJpc21hdGljQ29uc3RyYWludFwiOjE4LFwiLi9jb25zdHJhaW50cy9SZXZvbHV0ZUNvbnN0cmFpbnRcIjoxOSxcIi4vZXF1YXRpb25zL0FuZ2xlTG9ja0VxdWF0aW9uXCI6MjAsXCIuL2VxdWF0aW9ucy9Db250YWN0RXF1YXRpb25cIjoyMSxcIi4vZXF1YXRpb25zL0VxdWF0aW9uXCI6MjIsXCIuL2VxdWF0aW9ucy9GcmljdGlvbkVxdWF0aW9uXCI6MjMsXCIuL2VxdWF0aW9ucy9Sb3RhdGlvbmFsVmVsb2NpdHlFcXVhdGlvblwiOjI1LFwiLi9ldmVudHMvRXZlbnRFbWl0dGVyXCI6MjYsXCIuL21hdGVyaWFsL0NvbnRhY3RNYXRlcmlhbFwiOjI3LFwiLi9tYXRlcmlhbC9NYXRlcmlhbFwiOjI4LFwiLi9tYXRoL3ZlYzJcIjozMCxcIi4vb2JqZWN0cy9Cb2R5XCI6MzEsXCIuL29iamVjdHMvTGluZWFyU3ByaW5nXCI6MzIsXCIuL29iamVjdHMvUm90YXRpb25hbFNwcmluZ1wiOjMzLFwiLi9vYmplY3RzL1NwcmluZ1wiOjM0LFwiLi9vYmplY3RzL1RvcERvd25WZWhpY2xlXCI6MzUsXCIuL3NoYXBlcy9Cb3hcIjozNyxcIi4vc2hhcGVzL0NhcHN1bGVcIjozOCxcIi4vc2hhcGVzL0NpcmNsZVwiOjM5LFwiLi9zaGFwZXMvQ29udmV4XCI6NDAsXCIuL3NoYXBlcy9IZWlnaHRmaWVsZFwiOjQxLFwiLi9zaGFwZXMvTGluZVwiOjQyLFwiLi9zaGFwZXMvUGFydGljbGVcIjo0MyxcIi4vc2hhcGVzL1BsYW5lXCI6NDQsXCIuL3NoYXBlcy9TaGFwZVwiOjQ1LFwiLi9zb2x2ZXIvR1NTb2x2ZXJcIjo0NixcIi4vc29sdmVyL1NvbHZlclwiOjQ3LFwiLi91dGlscy9Db250YWN0RXF1YXRpb25Qb29sXCI6NDgsXCIuL3V0aWxzL0ZyaWN0aW9uRXF1YXRpb25Qb29sXCI6NDksXCIuL3V0aWxzL1Bvb2xcIjo1NSxcIi4vdXRpbHMvVXRpbHNcIjo1NyxcIi4vd29ybGQvV29ybGRcIjo2MX1dLDM3OltmdW5jdGlvbih0LGUsbyl7ZnVuY3Rpb24gaSh0KXtcIm51bWJlclwiPT10eXBlb2YgYXJndW1lbnRzWzBdJiZcIm51bWJlclwiPT10eXBlb2YgYXJndW1lbnRzWzFdJiYodD17d2lkdGg6YXJndW1lbnRzWzBdLGhlaWdodDphcmd1bWVudHNbMV19LGNvbnNvbGUud2FybihcIlRoZSBSZWN0YW5nbGUgaGFzIGJlZW4gcmVuYW1lZCB0byBCb3ggYW5kIGl0cyBjb25zdHJ1Y3RvciBzaWduYXR1cmUgaGFzIGNoYW5nZWQuIFBsZWFzZSB1c2UgdGhlIGZvbGxvd2luZyBmb3JtYXQ6IG5ldyBCb3goeyB3aWR0aDogMSwgaGVpZ2h0OiAxLCAuLi4gfSlcIikpLHQ9dHx8e307dmFyIGU9dGhpcy53aWR0aD10LndpZHRofHwxLG89dGhpcy5oZWlnaHQ9dC5oZWlnaHR8fDEsaT1bbi5mcm9tVmFsdWVzKC1lLzIsLW8vMiksbi5mcm9tVmFsdWVzKGUvMiwtby8yKSxuLmZyb21WYWx1ZXMoZS8yLG8vMiksbi5mcm9tVmFsdWVzKC1lLzIsby8yKV0scj1bbi5mcm9tVmFsdWVzKDEsMCksbi5mcm9tVmFsdWVzKDAsMSldO3QudmVydGljZXM9aSx0LmF4ZXM9cix0LnR5cGU9cy5CT1gsYS5jYWxsKHRoaXMsdCl9dmFyIG49dChcIi4uL21hdGgvdmVjMlwiKSxzPXQoXCIuL1NoYXBlXCIpLGE9dChcIi4vQ29udmV4XCIpO2UuZXhwb3J0cz1pLChpLnByb3RvdHlwZT1uZXcgYSkuY29uc3RydWN0b3I9aSxpLnByb3RvdHlwZS5jb21wdXRlTW9tZW50T2ZJbmVydGlhPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMud2lkdGgsbz10aGlzLmhlaWdodDtyZXR1cm4gdCoobypvK2UqZSkvMTJ9LGkucHJvdG90eXBlLnVwZGF0ZUJvdW5kaW5nUmFkaXVzPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy53aWR0aCxlPXRoaXMuaGVpZ2h0O3RoaXMuYm91bmRpbmdSYWRpdXM9TWF0aC5zcXJ0KHQqdCtlKmUpLzJ9O24uY3JlYXRlKCksbi5jcmVhdGUoKSxuLmNyZWF0ZSgpLG4uY3JlYXRlKCk7aS5wcm90b3R5cGUuY29tcHV0ZUFBQkI9ZnVuY3Rpb24odCxlLG8pe3Quc2V0RnJvbVBvaW50cyh0aGlzLnZlcnRpY2VzLGUsbywwKX0saS5wcm90b3R5cGUudXBkYXRlQXJlYT1mdW5jdGlvbigpe3RoaXMuYXJlYT10aGlzLndpZHRoKnRoaXMuaGVpZ2h0fX0se1wiLi4vbWF0aC92ZWMyXCI6MzAsXCIuL0NvbnZleFwiOjQwLFwiLi9TaGFwZVwiOjQ1fV0sMzg6W2Z1bmN0aW9uKHQsZSxvKXtmdW5jdGlvbiBpKHQpe1wibnVtYmVyXCI9PXR5cGVvZiBhcmd1bWVudHNbMF0mJlwibnVtYmVyXCI9PXR5cGVvZiBhcmd1bWVudHNbMV0mJih0PXtsZW5ndGg6YXJndW1lbnRzWzBdLHJhZGl1czphcmd1bWVudHNbMV19LGNvbnNvbGUud2FybihcIlRoZSBDYXBzdWxlIGNvbnN0cnVjdG9yIHNpZ25hdHVyZSBoYXMgY2hhbmdlZC4gUGxlYXNlIHVzZSB0aGUgZm9sbG93aW5nIGZvcm1hdDogbmV3IENhcHN1bGUoeyByYWRpdXM6IDEsIGxlbmd0aDogMSB9KVwiKSksdD10fHx7fSx0aGlzLmxlbmd0aD10Lmxlbmd0aHx8MSx0aGlzLnJhZGl1cz10LnJhZGl1c3x8MSx0LnR5cGU9bi5DQVBTVUxFLG4uY2FsbCh0aGlzLHQpfXZhciBuPXQoXCIuL1NoYXBlXCIpLHM9dChcIi4uL21hdGgvdmVjMlwiKTtlLmV4cG9ydHM9aSwoaS5wcm90b3R5cGU9bmV3IG4pLmNvbnN0cnVjdG9yPWksaS5wcm90b3R5cGUuY29tcHV0ZU1vbWVudE9mSW5lcnRpYT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLnJhZGl1cyxvPXRoaXMubGVuZ3RoK2UsaT0yKmU7cmV0dXJuIHQqKGkqaStvKm8pLzEyfSxpLnByb3RvdHlwZS51cGRhdGVCb3VuZGluZ1JhZGl1cz1mdW5jdGlvbigpe3RoaXMuYm91bmRpbmdSYWRpdXM9dGhpcy5yYWRpdXMrdGhpcy5sZW5ndGgvMn0saS5wcm90b3R5cGUudXBkYXRlQXJlYT1mdW5jdGlvbigpe3RoaXMuYXJlYT1NYXRoLlBJKnRoaXMucmFkaXVzKnRoaXMucmFkaXVzKzIqdGhpcy5yYWRpdXMqdGhpcy5sZW5ndGh9O3ZhciBhPXMuY3JlYXRlKCk7aS5wcm90b3R5cGUuY29tcHV0ZUFBQkI9ZnVuY3Rpb24odCxlLG8pe3ZhciBpPXRoaXMucmFkaXVzO3Muc2V0KGEsdGhpcy5sZW5ndGgvMiwwKSwwIT09byYmcy5yb3RhdGUoYSxhLG8pLHMuc2V0KHQudXBwZXJCb3VuZCxNYXRoLm1heChhWzBdK2ksLWFbMF0raSksTWF0aC5tYXgoYVsxXStpLC1hWzFdK2kpKSxzLnNldCh0Lmxvd2VyQm91bmQsTWF0aC5taW4oYVswXS1pLC1hWzBdLWkpLE1hdGgubWluKGFbMV0taSwtYVsxXS1pKSkscy5hZGQodC5sb3dlckJvdW5kLHQubG93ZXJCb3VuZCxlKSxzLmFkZCh0LnVwcGVyQm91bmQsdC51cHBlckJvdW5kLGUpfTt2YXIgcj1zLmNyZWF0ZSgpLGM9cy5jcmVhdGUoKSxoPXMuY3JlYXRlKCksbD1zLmNyZWF0ZSgpLHA9cy5mcm9tVmFsdWVzKDAsMSk7aS5wcm90b3R5cGUucmF5Y2FzdD1mdW5jdGlvbih0LGUsbyxpKXtmb3IodmFyIG49ZS5mcm9tLGE9ZS50byx1PShlLmRpcmVjdGlvbixyKSxkPWMsZj1oLHY9bCx5PXRoaXMubGVuZ3RoLzIsbT0wO208MjttKyspe3ZhciBnPXRoaXMucmFkaXVzKigyKm0tMSk7aWYocy5zZXQoZiwteSxnKSxzLnNldCh2LHksZykscy50b0dsb2JhbEZyYW1lKGYsZixvLGkpLHMudG9HbG9iYWxGcmFtZSh2LHYsbyxpKSwocT1zLmdldExpbmVTZWdtZW50c0ludGVyc2VjdGlvbkZyYWN0aW9uKG4sYSxmLHYpKT49MCYmKHMucm90YXRlKGQscCxpKSxzLnNjYWxlKGQsZCwyKm0tMSksZS5yZXBvcnRJbnRlcnNlY3Rpb24odCxxLGQsLTEpLHQuc2hvdWxkU3RvcChlKSkpcmV0dXJufWZvcih2YXIgQT1NYXRoLnBvdyh0aGlzLnJhZGl1cywyKStNYXRoLnBvdyh5LDIpLG09MDttPDI7bSsrKXtzLnNldChmLHkqKDIqbS0xKSwwKSxzLnRvR2xvYmFsRnJhbWUoZixmLG8saSk7dmFyIGI9TWF0aC5wb3coYVswXS1uWzBdLDIpK01hdGgucG93KGFbMV0tblsxXSwyKSxFPTIqKChhWzBdLW5bMF0pKihuWzBdLWZbMF0pKyhhWzFdLW5bMV0pKihuWzFdLWZbMV0pKSxCPU1hdGgucG93KG5bMF0tZlswXSwyKStNYXRoLnBvdyhuWzFdLWZbMV0sMiktTWF0aC5wb3codGhpcy5yYWRpdXMsMikscT1NYXRoLnBvdyhFLDIpLTQqYipCO2lmKCEocTwwKSlpZigwPT09cSl7aWYocy5sZXJwKHUsbixhLHEpLHMuc3F1YXJlZERpc3RhbmNlKHUsbyk+QSYmKHMuc3ViKGQsdSxmKSxzLm5vcm1hbGl6ZShkLGQpLGUucmVwb3J0SW50ZXJzZWN0aW9uKHQscSxkLC0xKSx0LnNob3VsZFN0b3AoZSkpKXJldHVybn1lbHNle3ZhciBQPU1hdGguc3FydChxKSx3PTEvKDIqYiksUz0oLUUtUCkqdyxDPSgtRStQKSp3O2lmKFM+PTAmJlM8PTEmJihzLmxlcnAodSxuLGEsUykscy5zcXVhcmVkRGlzdGFuY2UodSxvKT5BJiYocy5zdWIoZCx1LGYpLHMubm9ybWFsaXplKGQsZCksZS5yZXBvcnRJbnRlcnNlY3Rpb24odCxTLGQsLTEpLHQuc2hvdWxkU3RvcChlKSkpKXJldHVybjtpZihDPj0wJiZDPD0xJiYocy5sZXJwKHUsbixhLEMpLHMuc3F1YXJlZERpc3RhbmNlKHUsbyk+QSYmKHMuc3ViKGQsdSxmKSxzLm5vcm1hbGl6ZShkLGQpLGUucmVwb3J0SW50ZXJzZWN0aW9uKHQsQyxkLC0xKSx0LnNob3VsZFN0b3AoZSkpKSlyZXR1cm59fX19LHtcIi4uL21hdGgvdmVjMlwiOjMwLFwiLi9TaGFwZVwiOjQ1fV0sMzk6W2Z1bmN0aW9uKHQsZSxvKXtmdW5jdGlvbiBpKHQpe1wibnVtYmVyXCI9PXR5cGVvZiBhcmd1bWVudHNbMF0mJih0PXtyYWRpdXM6YXJndW1lbnRzWzBdfSxjb25zb2xlLndhcm4oXCJUaGUgQ2lyY2xlIGNvbnN0cnVjdG9yIHNpZ25hdHVyZSBoYXMgY2hhbmdlZC4gUGxlYXNlIHVzZSB0aGUgZm9sbG93aW5nIGZvcm1hdDogbmV3IENpcmNsZSh7IHJhZGl1czogMSB9KVwiKSksdD10fHx7fSx0aGlzLnJhZGl1cz10LnJhZGl1c3x8MSx0LnR5cGU9bi5DSVJDTEUsbi5jYWxsKHRoaXMsdCl9dmFyIG49dChcIi4vU2hhcGVcIikscz10KFwiLi4vbWF0aC92ZWMyXCIpO2UuZXhwb3J0cz1pLChpLnByb3RvdHlwZT1uZXcgbikuY29uc3RydWN0b3I9aSxpLnByb3RvdHlwZS5jb21wdXRlTW9tZW50T2ZJbmVydGlhPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMucmFkaXVzO3JldHVybiB0KmUqZS8yfSxpLnByb3RvdHlwZS51cGRhdGVCb3VuZGluZ1JhZGl1cz1mdW5jdGlvbigpe3RoaXMuYm91bmRpbmdSYWRpdXM9dGhpcy5yYWRpdXN9LGkucHJvdG90eXBlLnVwZGF0ZUFyZWE9ZnVuY3Rpb24oKXt0aGlzLmFyZWE9TWF0aC5QSSp0aGlzLnJhZGl1cyp0aGlzLnJhZGl1c30saS5wcm90b3R5cGUuY29tcHV0ZUFBQkI9ZnVuY3Rpb24odCxlLG8pe3ZhciBpPXRoaXMucmFkaXVzO3Muc2V0KHQudXBwZXJCb3VuZCxpLGkpLHMuc2V0KHQubG93ZXJCb3VuZCwtaSwtaSksZSYmKHMuYWRkKHQubG93ZXJCb3VuZCx0Lmxvd2VyQm91bmQsZSkscy5hZGQodC51cHBlckJvdW5kLHQudXBwZXJCb3VuZCxlKSl9O3ZhciBhPXMuY3JlYXRlKCkscj1zLmNyZWF0ZSgpO2kucHJvdG90eXBlLnJheWNhc3Q9ZnVuY3Rpb24odCxlLG8saSl7dmFyIG49ZS5mcm9tLGM9ZS50byxoPXRoaXMucmFkaXVzLGw9TWF0aC5wb3coY1swXS1uWzBdLDIpK01hdGgucG93KGNbMV0tblsxXSwyKSxwPTIqKChjWzBdLW5bMF0pKihuWzBdLW9bMF0pKyhjWzFdLW5bMV0pKihuWzFdLW9bMV0pKSx1PU1hdGgucG93KG5bMF0tb1swXSwyKStNYXRoLnBvdyhuWzFdLW9bMV0sMiktTWF0aC5wb3coaCwyKSxkPU1hdGgucG93KHAsMiktNCpsKnUsZj1hLHY9cjtpZighKGQ8MCkpaWYoMD09PWQpcy5sZXJwKGYsbixjLGQpLHMuc3ViKHYsZixvKSxzLm5vcm1hbGl6ZSh2LHYpLGUucmVwb3J0SW50ZXJzZWN0aW9uKHQsZCx2LC0xKTtlbHNle3ZhciB5PU1hdGguc3FydChkKSxtPTEvKDIqbCksZz0oLXAteSkqbSxBPSgtcCt5KSptO2lmKGc+PTAmJmc8PTEmJihzLmxlcnAoZixuLGMsZykscy5zdWIodixmLG8pLHMubm9ybWFsaXplKHYsdiksZS5yZXBvcnRJbnRlcnNlY3Rpb24odCxnLHYsLTEpLHQuc2hvdWxkU3RvcChlKSkpcmV0dXJuO0E+PTAmJkE8PTEmJihzLmxlcnAoZixuLGMsQSkscy5zdWIodixmLG8pLHMubm9ybWFsaXplKHYsdiksZS5yZXBvcnRJbnRlcnNlY3Rpb24odCxBLHYsLTEpKX19fSx7XCIuLi9tYXRoL3ZlYzJcIjozMCxcIi4vU2hhcGVcIjo0NX1dLDQwOltmdW5jdGlvbih0LGUsbyl7ZnVuY3Rpb24gaSh0KXtBcnJheS5pc0FycmF5KGFyZ3VtZW50c1swXSkmJih0PXt2ZXJ0aWNlczphcmd1bWVudHNbMF0sYXhlczphcmd1bWVudHNbMV19LGNvbnNvbGUud2FybihcIlRoZSBDb252ZXggY29uc3RydWN0b3Igc2lnbmF0dXJlIGhhcyBjaGFuZ2VkLiBQbGVhc2UgdXNlIHRoZSBmb2xsb3dpbmcgZm9ybWF0OiBuZXcgQ29udmV4KHsgdmVydGljZXM6IFsuLi5dLCAuLi4gfSlcIikpLHQ9dHx8e30sdGhpcy52ZXJ0aWNlcz1bXTtmb3IodmFyIGU9dm9pZCAwIT09dC52ZXJ0aWNlcz90LnZlcnRpY2VzOltdLG89MDtvPGUubGVuZ3RoO28rKyl7dmFyIGk9cy5jcmVhdGUoKTtzLmNvcHkoaSxlW29dKSx0aGlzLnZlcnRpY2VzLnB1c2goaSl9aWYodGhpcy5heGVzPVtdLHQuYXhlcylmb3Iobz0wO288dC5heGVzLmxlbmd0aDtvKyspe3ZhciBhPXMuY3JlYXRlKCk7cy5jb3B5KGEsdC5heGVzW29dKSx0aGlzLmF4ZXMucHVzaChhKX1lbHNlIGZvcihvPTA7bzx0aGlzLnZlcnRpY2VzLmxlbmd0aDtvKyspe3ZhciByPXRoaXMudmVydGljZXNbb10sYz10aGlzLnZlcnRpY2VzWyhvKzEpJXRoaXMudmVydGljZXMubGVuZ3RoXSxoPXMuY3JlYXRlKCk7cy5zdWIoaCxjLHIpLHMucm90YXRlOTBjdyhoLGgpLHMubm9ybWFsaXplKGgsaCksdGhpcy5heGVzLnB1c2goaCl9aWYodGhpcy5jZW50ZXJPZk1hc3M9cy5mcm9tVmFsdWVzKDAsMCksdGhpcy50cmlhbmdsZXM9W10sdGhpcy52ZXJ0aWNlcy5sZW5ndGgmJih0aGlzLnVwZGF0ZVRyaWFuZ2xlcygpLHRoaXMudXBkYXRlQ2VudGVyT2ZNYXNzKCkpLHRoaXMuYm91bmRpbmdSYWRpdXM9MCx0LnR5cGU9bi5DT05WRVgsbi5jYWxsKHRoaXMsdCksdGhpcy51cGRhdGVCb3VuZGluZ1JhZGl1cygpLHRoaXMudXBkYXRlQXJlYSgpLHRoaXMuYXJlYTwwKXRocm93IG5ldyBFcnJvcihcIkNvbnZleCB2ZXJ0aWNlcyBtdXN0IGJlIGdpdmVuIGluIGNvbnRlci1jbG9ja3dpc2Ugd2luZGluZy5cIil9dmFyIG49dChcIi4vU2hhcGVcIikscz10KFwiLi4vbWF0aC92ZWMyXCIpLGE9dChcIi4uL21hdGgvcG9seWtcIik7dChcInBvbHktZGVjb21wXCIpO2UuZXhwb3J0cz1pLChpLnByb3RvdHlwZT1uZXcgbikuY29uc3RydWN0b3I9aTt2YXIgcj1zLmNyZWF0ZSgpLGM9cy5jcmVhdGUoKTtpLnByb3RvdHlwZS5wcm9qZWN0T250b0xvY2FsQXhpcz1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbyxpLG49bnVsbCxhPW51bGwsdD1yLGM9MDtjPHRoaXMudmVydGljZXMubGVuZ3RoO2MrKylvPXRoaXMudmVydGljZXNbY10saT1zLmRvdChvLHQpLChudWxsPT09bnx8aT5uKSYmKG49aSksKG51bGw9PT1hfHxpPGEpJiYoYT1pKTtpZihhPm4pe3ZhciBoPWE7YT1uLG49aH1zLnNldChlLGEsbil9LGkucHJvdG90eXBlLnByb2plY3RPbnRvV29ybGRBeGlzPWZ1bmN0aW9uKHQsZSxvLGkpe3ZhciBuPWM7dGhpcy5wcm9qZWN0T250b0xvY2FsQXhpcyh0LGkpLDAhPT1vP3Mucm90YXRlKG4sdCxvKTpuPXQ7dmFyIGE9cy5kb3QoZSxuKTtzLnNldChpLGlbMF0rYSxpWzFdK2EpfSxpLnByb3RvdHlwZS51cGRhdGVUcmlhbmdsZXM9ZnVuY3Rpb24oKXt0aGlzLnRyaWFuZ2xlcy5sZW5ndGg9MDtmb3IodmFyIHQ9W10sZT0wO2U8dGhpcy52ZXJ0aWNlcy5sZW5ndGg7ZSsrKXt2YXIgbz10aGlzLnZlcnRpY2VzW2VdO3QucHVzaChvWzBdLG9bMV0pfWZvcih2YXIgaT1hLlRyaWFuZ3VsYXRlKHQpLGU9MDtlPGkubGVuZ3RoO2UrPTMpe3ZhciBuPWlbZV0scz1pW2UrMV0scj1pW2UrMl07dGhpcy50cmlhbmdsZXMucHVzaChbbixzLHJdKX19O3ZhciBoPXMuY3JlYXRlKCksbD1zLmNyZWF0ZSgpLHA9cy5jcmVhdGUoKSx1PXMuY3JlYXRlKCksZD1zLmNyZWF0ZSgpO3MuY3JlYXRlKCkscy5jcmVhdGUoKSxzLmNyZWF0ZSgpLHMuY3JlYXRlKCk7aS5wcm90b3R5cGUudXBkYXRlQ2VudGVyT2ZNYXNzPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy50cmlhbmdsZXMsZT10aGlzLnZlcnRpY2VzLG89dGhpcy5jZW50ZXJPZk1hc3Msbj1oLGE9cCxyPXUsYz1kLGY9bDtzLnNldChvLDAsMCk7Zm9yKHZhciB2PTAseT0wO3khPT10Lmxlbmd0aDt5Kyspe3ZhciBtPXRbeV0sYT1lW21bMF1dLHI9ZVttWzFdXSxjPWVbbVsyXV07cy5jZW50cm9pZChuLGEscixjKTt2YXIgZz1pLnRyaWFuZ2xlQXJlYShhLHIsYyk7dis9ZyxzLnNjYWxlKGYsbixnKSxzLmFkZChvLG8sZil9cy5zY2FsZShvLG8sMS92KX0saS5wcm90b3R5cGUuY29tcHV0ZU1vbWVudE9mSW5lcnRpYT1mdW5jdGlvbih0KXtmb3IodmFyIGU9MCxvPTAsaT10aGlzLnZlcnRpY2VzLmxlbmd0aCxuPWktMSxhPTA7YTxpO249YSxhKyspe3ZhciByPXRoaXMudmVydGljZXNbbl0sYz10aGlzLnZlcnRpY2VzW2FdLGg9TWF0aC5hYnMocy5jcm9zc0xlbmd0aChyLGMpKTtlKz1oKihzLmRvdChjLGMpK3MuZG90KGMscikrcy5kb3QocixyKSksbys9aH1yZXR1cm4gdC82KihlL28pfSxpLnByb3RvdHlwZS51cGRhdGVCb3VuZGluZ1JhZGl1cz1mdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLnZlcnRpY2VzLGU9MCxvPTA7byE9PXQubGVuZ3RoO28rKyl7dmFyIGk9cy5zcXVhcmVkTGVuZ3RoKHRbb10pO2k+ZSYmKGU9aSl9dGhpcy5ib3VuZGluZ1JhZGl1cz1NYXRoLnNxcnQoZSl9LGkudHJpYW5nbGVBcmVhPWZ1bmN0aW9uKHQsZSxvKXtyZXR1cm4uNSooKGVbMF0tdFswXSkqKG9bMV0tdFsxXSktKG9bMF0tdFswXSkqKGVbMV0tdFsxXSkpfSxpLnByb3RvdHlwZS51cGRhdGVBcmVhPWZ1bmN0aW9uKCl7dGhpcy51cGRhdGVUcmlhbmdsZXMoKSx0aGlzLmFyZWE9MDtmb3IodmFyIHQ9dGhpcy50cmlhbmdsZXMsZT10aGlzLnZlcnRpY2VzLG89MDtvIT09dC5sZW5ndGg7bysrKXt2YXIgbj10W29dLHM9ZVtuWzBdXSxhPWVbblsxXV0scj1lW25bMl1dLGM9aS50cmlhbmdsZUFyZWEocyxhLHIpO3RoaXMuYXJlYSs9Y319LGkucHJvdG90eXBlLmNvbXB1dGVBQUJCPWZ1bmN0aW9uKHQsZSxvKXt0LnNldEZyb21Qb2ludHModGhpcy52ZXJ0aWNlcyxlLG8sMCl9O3ZhciBmPXMuY3JlYXRlKCksdj1zLmNyZWF0ZSgpLHk9cy5jcmVhdGUoKTtpLnByb3RvdHlwZS5yYXljYXN0PWZ1bmN0aW9uKHQsZSxvLGkpe3ZhciBuPWYsYT12LHI9eSxjPXRoaXMudmVydGljZXM7cy50b0xvY2FsRnJhbWUobixlLmZyb20sbyxpKSxzLnRvTG9jYWxGcmFtZShhLGUudG8sbyxpKTtmb3IodmFyIGg9Yy5sZW5ndGgsbD0wO2w8aCYmIXQuc2hvdWxkU3RvcChlKTtsKyspe3ZhciBwPWNbbF0sdT1jWyhsKzEpJWhdLGQ9cy5nZXRMaW5lU2VnbWVudHNJbnRlcnNlY3Rpb25GcmFjdGlvbihuLGEscCx1KTtkPj0wJiYocy5zdWIocix1LHApLHMucm90YXRlKHIsciwtTWF0aC5QSS8yK2kpLHMubm9ybWFsaXplKHIsciksZS5yZXBvcnRJbnRlcnNlY3Rpb24odCxkLHIsbCkpfX19LHtcIi4uL21hdGgvcG9seWtcIjoyOSxcIi4uL21hdGgvdmVjMlwiOjMwLFwiLi9TaGFwZVwiOjQ1LFwicG9seS1kZWNvbXBcIjo1fV0sNDE6W2Z1bmN0aW9uKHQsZSxvKXtmdW5jdGlvbiBpKHQpe2lmKEFycmF5LmlzQXJyYXkoYXJndW1lbnRzWzBdKSl7aWYodD17aGVpZ2h0czphcmd1bWVudHNbMF19LFwib2JqZWN0XCI9PXR5cGVvZiBhcmd1bWVudHNbMV0pZm9yKHZhciBlIGluIGFyZ3VtZW50c1sxXSl0W2VdPWFyZ3VtZW50c1sxXVtlXTtjb25zb2xlLndhcm4oXCJUaGUgSGVpZ2h0ZmllbGQgY29uc3RydWN0b3Igc2lnbmF0dXJlIGhhcyBjaGFuZ2VkLiBQbGVhc2UgdXNlIHRoZSBmb2xsb3dpbmcgZm9ybWF0OiBuZXcgSGVpZ2h0ZmllbGQoeyBoZWlnaHRzOiBbLi4uXSwgLi4uIH0pXCIpfXQ9dHx8e30sdGhpcy5oZWlnaHRzPXQuaGVpZ2h0cz90LmhlaWdodHMuc2xpY2UoMCk6W10sdGhpcy5tYXhWYWx1ZT10Lm1heFZhbHVlfHxudWxsLHRoaXMubWluVmFsdWU9dC5taW5WYWx1ZXx8bnVsbCx0aGlzLmVsZW1lbnRXaWR0aD10LmVsZW1lbnRXaWR0aHx8LjEsdm9pZCAwIT09dC5tYXhWYWx1ZSYmdm9pZCAwIT09dC5taW5WYWx1ZXx8dGhpcy51cGRhdGVNYXhNaW5WYWx1ZXMoKSx0LnR5cGU9bi5IRUlHSFRGSUVMRCxuLmNhbGwodGhpcyx0KX12YXIgbj10KFwiLi9TaGFwZVwiKSxzPXQoXCIuLi9tYXRoL3ZlYzJcIik7dChcIi4uL3V0aWxzL1V0aWxzXCIpO2UuZXhwb3J0cz1pLChpLnByb3RvdHlwZT1uZXcgbikuY29uc3RydWN0b3I9aSxpLnByb3RvdHlwZS51cGRhdGVNYXhNaW5WYWx1ZXM9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy5oZWlnaHRzLGU9dFswXSxvPXRbMF0saT0wO2khPT10Lmxlbmd0aDtpKyspe3ZhciBuPXRbaV07bj5lJiYoZT1uKSxuPG8mJihvPW4pfXRoaXMubWF4VmFsdWU9ZSx0aGlzLm1pblZhbHVlPW99LGkucHJvdG90eXBlLmNvbXB1dGVNb21lbnRPZkluZXJ0aWE9ZnVuY3Rpb24odCl7cmV0dXJuIE51bWJlci5NQVhfVkFMVUV9LGkucHJvdG90eXBlLnVwZGF0ZUJvdW5kaW5nUmFkaXVzPWZ1bmN0aW9uKCl7dGhpcy5ib3VuZGluZ1JhZGl1cz1OdW1iZXIuTUFYX1ZBTFVFfSxpLnByb3RvdHlwZS51cGRhdGVBcmVhPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMuaGVpZ2h0cyxlPTAsbz0wO288dC5sZW5ndGgtMTtvKyspZSs9KHRbb10rdFtvKzFdKS8yKnRoaXMuZWxlbWVudFdpZHRoO3RoaXMuYXJlYT1lfTt2YXIgYT1bcy5jcmVhdGUoKSxzLmNyZWF0ZSgpLHMuY3JlYXRlKCkscy5jcmVhdGUoKV07aS5wcm90b3R5cGUuY29tcHV0ZUFBQkI9ZnVuY3Rpb24odCxlLG8pe3Muc2V0KGFbMF0sMCx0aGlzLm1heFZhbHVlKSxzLnNldChhWzFdLHRoaXMuZWxlbWVudFdpZHRoKnRoaXMuaGVpZ2h0cy5sZW5ndGgsdGhpcy5tYXhWYWx1ZSkscy5zZXQoYVsyXSx0aGlzLmVsZW1lbnRXaWR0aCp0aGlzLmhlaWdodHMubGVuZ3RoLHRoaXMubWluVmFsdWUpLHMuc2V0KGFbM10sMCx0aGlzLm1pblZhbHVlKSx0LnNldEZyb21Qb2ludHMoYSxlLG8pfSxpLnByb3RvdHlwZS5nZXRMaW5lU2VnbWVudD1mdW5jdGlvbih0LGUsbyl7dmFyIGk9dGhpcy5oZWlnaHRzLG49dGhpcy5lbGVtZW50V2lkdGg7cy5zZXQodCxvKm4saVtvXSkscy5zZXQoZSwobysxKSpuLGlbbysxXSl9LGkucHJvdG90eXBlLmdldFNlZ21lbnRJbmRleD1mdW5jdGlvbih0KXtyZXR1cm4gTWF0aC5mbG9vcih0WzBdL3RoaXMuZWxlbWVudFdpZHRoKX0saS5wcm90b3R5cGUuZ2V0Q2xhbXBlZFNlZ21lbnRJbmRleD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmdldFNlZ21lbnRJbmRleCh0KTtyZXR1cm4gZT1NYXRoLm1pbih0aGlzLmhlaWdodHMubGVuZ3RoLE1hdGgubWF4KGUsMCkpfTtzLmNyZWF0ZSgpO3ZhciByPXMuY3JlYXRlKCksYz1zLmNyZWF0ZSgpLGg9cy5jcmVhdGUoKSxsPXMuY3JlYXRlKCkscD1zLmNyZWF0ZSgpO3MuZnJvbVZhbHVlcygwLDEpO2kucHJvdG90eXBlLnJheWNhc3Q9ZnVuY3Rpb24odCxlLG8saSl7dmFyIG49ZS5mcm9tLGE9ZS50byx1PShlLmRpcmVjdGlvbixyKSxkPWMsZj1oLHY9bCx5PXA7cy50b0xvY2FsRnJhbWUodixuLG8saSkscy50b0xvY2FsRnJhbWUoeSxhLG8saSk7dmFyIG09dGhpcy5nZXRDbGFtcGVkU2VnbWVudEluZGV4KHYpLGc9dGhpcy5nZXRDbGFtcGVkU2VnbWVudEluZGV4KHkpO2lmKG0+Zyl7dmFyIEE9bTttPWcsZz1BfWZvcih2YXIgYj0wO2I8dGhpcy5oZWlnaHRzLmxlbmd0aC0xO2IrKyl7dGhpcy5nZXRMaW5lU2VnbWVudChkLGYsYik7dmFyIEU9cy5nZXRMaW5lU2VnbWVudHNJbnRlcnNlY3Rpb25GcmFjdGlvbih2LHksZCxmKTtpZihFPj0wJiYocy5zdWIodSxmLGQpLHMucm90YXRlKHUsdSxpK01hdGguUEkvMikscy5ub3JtYWxpemUodSx1KSxlLnJlcG9ydEludGVyc2VjdGlvbih0LEUsdSwtMSksdC5zaG91bGRTdG9wKGUpKSlyZXR1cm59fX0se1wiLi4vbWF0aC92ZWMyXCI6MzAsXCIuLi91dGlscy9VdGlsc1wiOjU3LFwiLi9TaGFwZVwiOjQ1fV0sNDI6W2Z1bmN0aW9uKHQsZSxvKXtmdW5jdGlvbiBpKHQpe1wibnVtYmVyXCI9PXR5cGVvZiBhcmd1bWVudHNbMF0mJih0PXtsZW5ndGg6YXJndW1lbnRzWzBdfSxjb25zb2xlLndhcm4oXCJUaGUgTGluZSBjb25zdHJ1Y3RvciBzaWduYXR1cmUgaGFzIGNoYW5nZWQuIFBsZWFzZSB1c2UgdGhlIGZvbGxvd2luZyBmb3JtYXQ6IG5ldyBMaW5lKHsgbGVuZ3RoOiAxLCAuLi4gfSlcIikpLHQ9dHx8e30sdGhpcy5sZW5ndGg9dC5sZW5ndGh8fDEsdC50eXBlPW4uTElORSxuLmNhbGwodGhpcyx0KX12YXIgbj10KFwiLi9TaGFwZVwiKSxzPXQoXCIuLi9tYXRoL3ZlYzJcIik7ZS5leHBvcnRzPWksKGkucHJvdG90eXBlPW5ldyBuKS5jb25zdHJ1Y3Rvcj1pLGkucHJvdG90eXBlLmNvbXB1dGVNb21lbnRPZkluZXJ0aWE9ZnVuY3Rpb24odCl7cmV0dXJuIHQqTWF0aC5wb3codGhpcy5sZW5ndGgsMikvMTJ9LGkucHJvdG90eXBlLnVwZGF0ZUJvdW5kaW5nUmFkaXVzPWZ1bmN0aW9uKCl7dGhpcy5ib3VuZGluZ1JhZGl1cz10aGlzLmxlbmd0aC8yfTt2YXIgYT1bcy5jcmVhdGUoKSxzLmNyZWF0ZSgpXTtpLnByb3RvdHlwZS5jb21wdXRlQUFCQj1mdW5jdGlvbih0LGUsbyl7dmFyIGk9dGhpcy5sZW5ndGgvMjtzLnNldChhWzBdLC1pLDApLHMuc2V0KGFbMV0saSwwKSx0LnNldEZyb21Qb2ludHMoYSxlLG8sMCl9O3MuY3JlYXRlKCk7dmFyIHI9cy5jcmVhdGUoKSxjPXMuY3JlYXRlKCksaD1zLmNyZWF0ZSgpLGw9cy5mcm9tVmFsdWVzKDAsMSk7aS5wcm90b3R5cGUucmF5Y2FzdD1mdW5jdGlvbih0LGUsbyxpKXt2YXIgbj1lLmZyb20sYT1lLnRvLHA9Yyx1PWgsZD10aGlzLmxlbmd0aC8yO3Muc2V0KHAsLWQsMCkscy5zZXQodSxkLDApLHMudG9HbG9iYWxGcmFtZShwLHAsbyxpKSxzLnRvR2xvYmFsRnJhbWUodSx1LG8saSk7dmFyIGY9cy5nZXRMaW5lU2VnbWVudHNJbnRlcnNlY3Rpb25GcmFjdGlvbihwLHUsbixhKTtpZihmPj0wKXt2YXIgdj1yO3Mucm90YXRlKHYsbCxpKSxlLnJlcG9ydEludGVyc2VjdGlvbih0LGYsdiwtMSl9fX0se1wiLi4vbWF0aC92ZWMyXCI6MzAsXCIuL1NoYXBlXCI6NDV9XSw0MzpbZnVuY3Rpb24odCxlLG8pe2Z1bmN0aW9uIGkodCl7KHQ9dHx8e30pLnR5cGU9bi5QQVJUSUNMRSxuLmNhbGwodGhpcyx0KX12YXIgbj10KFwiLi9TaGFwZVwiKSxzPXQoXCIuLi9tYXRoL3ZlYzJcIik7ZS5leHBvcnRzPWksKGkucHJvdG90eXBlPW5ldyBuKS5jb25zdHJ1Y3Rvcj1pLGkucHJvdG90eXBlLmNvbXB1dGVNb21lbnRPZkluZXJ0aWE9ZnVuY3Rpb24odCl7cmV0dXJuIDB9LGkucHJvdG90eXBlLnVwZGF0ZUJvdW5kaW5nUmFkaXVzPWZ1bmN0aW9uKCl7dGhpcy5ib3VuZGluZ1JhZGl1cz0wfSxpLnByb3RvdHlwZS5jb21wdXRlQUFCQj1mdW5jdGlvbih0LGUsbyl7cy5jb3B5KHQubG93ZXJCb3VuZCxlKSxzLmNvcHkodC51cHBlckJvdW5kLGUpfX0se1wiLi4vbWF0aC92ZWMyXCI6MzAsXCIuL1NoYXBlXCI6NDV9XSw0NDpbZnVuY3Rpb24odCxlLG8pe2Z1bmN0aW9uIGkodCl7KHQ9dHx8e30pLnR5cGU9bi5QTEFORSxuLmNhbGwodGhpcyx0KX12YXIgbj10KFwiLi9TaGFwZVwiKSxzPXQoXCIuLi9tYXRoL3ZlYzJcIik7dChcIi4uL3V0aWxzL1V0aWxzXCIpO2UuZXhwb3J0cz1pLChpLnByb3RvdHlwZT1uZXcgbikuY29uc3RydWN0b3I9aSxpLnByb3RvdHlwZS5jb21wdXRlTW9tZW50T2ZJbmVydGlhPWZ1bmN0aW9uKHQpe3JldHVybiAwfSxpLnByb3RvdHlwZS51cGRhdGVCb3VuZGluZ1JhZGl1cz1mdW5jdGlvbigpe3RoaXMuYm91bmRpbmdSYWRpdXM9TnVtYmVyLk1BWF9WQUxVRX0saS5wcm90b3R5cGUuY29tcHV0ZUFBQkI9ZnVuY3Rpb24odCxlLG8pe3ZhciBpPW8lKDIqTWF0aC5QSSksbj1zLnNldCxhPXQubG93ZXJCb3VuZCxyPXQudXBwZXJCb3VuZDtuKGEsLTFlNywtMWU3KSxuKHIsMWU3LDFlNyksMD09PWk/clsxXT0wOmk9PT1NYXRoLlBJLzI/YVswXT0wOmk9PT1NYXRoLlBJP2FbMV09MDppPT09MypNYXRoLlBJLzImJihyWzBdPTApfSxpLnByb3RvdHlwZS51cGRhdGVBcmVhPWZ1bmN0aW9uKCl7dGhpcy5hcmVhPU51bWJlci5NQVhfVkFMVUV9O3ZhciBhPXMuY3JlYXRlKCkscj0ocy5jcmVhdGUoKSxzLmNyZWF0ZSgpLHMuY3JlYXRlKCkpLGM9cy5jcmVhdGUoKTtpLnByb3RvdHlwZS5yYXljYXN0PWZ1bmN0aW9uKHQsZSxvLGkpe3ZhciBuPWUuZnJvbSxoPWUudG8sbD1lLmRpcmVjdGlvbixwPWEsdT1yLGQ9YztzLnNldCh1LDAsMSkscy5yb3RhdGUodSx1LGkpLHMuc3ViKGQsbixvKTt2YXIgZj1zLmRvdChkLHUpO2lmKHMuc3ViKGQsaCxvKSwhKGYqcy5kb3QoZCx1KT4wfHxzLnNxdWFyZWREaXN0YW5jZShuLGgpPGYqZikpe3ZhciB2PXMuZG90KHUsbCk7cy5zdWIocCxuLG8pO3ZhciB5PS1zLmRvdCh1LHApL3YvZS5sZW5ndGg7ZS5yZXBvcnRJbnRlcnNlY3Rpb24odCx5LHUsLTEpfX19LHtcIi4uL21hdGgvdmVjMlwiOjMwLFwiLi4vdXRpbHMvVXRpbHNcIjo1NyxcIi4vU2hhcGVcIjo0NX1dLDQ1OltmdW5jdGlvbih0LGUsbyl7ZnVuY3Rpb24gaSh0KXt0PXR8fHt9LHRoaXMuYm9keT1udWxsLHRoaXMucG9zaXRpb249bi5mcm9tVmFsdWVzKDAsMCksdC5wb3NpdGlvbiYmbi5jb3B5KHRoaXMucG9zaXRpb24sdC5wb3NpdGlvbiksdGhpcy5hbmdsZT10LmFuZ2xlfHwwLHRoaXMudHlwZT10LnR5cGV8fDAsdGhpcy5pZD1pLmlkQ291bnRlcisrLHRoaXMuYm91bmRpbmdSYWRpdXM9MCx0aGlzLmNvbGxpc2lvbkdyb3VwPXZvaWQgMCE9PXQuY29sbGlzaW9uR3JvdXA/dC5jb2xsaXNpb25Hcm91cDoxLHRoaXMuY29sbGlzaW9uUmVzcG9uc2U9dm9pZCAwPT09dC5jb2xsaXNpb25SZXNwb25zZXx8dC5jb2xsaXNpb25SZXNwb25zZSx0aGlzLmNvbGxpc2lvbk1hc2s9dm9pZCAwIT09dC5jb2xsaXNpb25NYXNrP3QuY29sbGlzaW9uTWFzazoxLHRoaXMubWF0ZXJpYWw9dC5tYXRlcmlhbHx8bnVsbCx0aGlzLmFyZWE9MCx0aGlzLnNlbnNvcj12b2lkIDAhPT10LnNlbnNvciYmdC5zZW5zb3IsdGhpcy50eXBlJiZ0aGlzLnVwZGF0ZUJvdW5kaW5nUmFkaXVzKCksdGhpcy51cGRhdGVBcmVhKCl9ZS5leHBvcnRzPWk7dmFyIG49dChcIi4uL21hdGgvdmVjMlwiKTtpLmlkQ291bnRlcj0wLGkuQ0lSQ0xFPTEsaS5QQVJUSUNMRT0yLGkuUExBTkU9NCxpLkNPTlZFWD04LGkuTElORT0xNixpLkJPWD0zMixPYmplY3QuZGVmaW5lUHJvcGVydHkoaSxcIlJFQ1RBTkdMRVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS53YXJuKFwiU2hhcGUuUkVDVEFOR0xFIGlzIGRlcHJlY2F0ZWQsIHVzZSBTaGFwZS5CT1ggaW5zdGVhZC5cIiksaS5CT1h9fSksaS5DQVBTVUxFPTY0LGkuSEVJR0hURklFTEQ9MTI4LGkucHJvdG90eXBlLmNvbXB1dGVNb21lbnRPZkluZXJ0aWE9ZnVuY3Rpb24odCl7fSxpLnByb3RvdHlwZS51cGRhdGVCb3VuZGluZ1JhZGl1cz1mdW5jdGlvbigpe30saS5wcm90b3R5cGUudXBkYXRlQXJlYT1mdW5jdGlvbigpe30saS5wcm90b3R5cGUuY29tcHV0ZUFBQkI9ZnVuY3Rpb24odCxlLG8pe30saS5wcm90b3R5cGUucmF5Y2FzdD1mdW5jdGlvbih0LGUsbyxpKXt9fSx7XCIuLi9tYXRoL3ZlYzJcIjozMH1dLDQ2OltmdW5jdGlvbih0LGUsbyl7ZnVuY3Rpb24gaSh0KXthLmNhbGwodGhpcyx0LGEuR1MpLHQ9dHx8e30sdGhpcy5pdGVyYXRpb25zPXQuaXRlcmF0aW9uc3x8MTAsdGhpcy50b2xlcmFuY2U9dC50b2xlcmFuY2V8fDFlLTcsdGhpcy5hcnJheVN0ZXA9MzAsdGhpcy5sYW1iZGE9bmV3IHIuQVJSQVlfVFlQRSh0aGlzLmFycmF5U3RlcCksdGhpcy5Ccz1uZXcgci5BUlJBWV9UWVBFKHRoaXMuYXJyYXlTdGVwKSx0aGlzLmludkNzPW5ldyByLkFSUkFZX1RZUEUodGhpcy5hcnJheVN0ZXApLHRoaXMudXNlWmVyb1JIUz0hMSx0aGlzLmZyaWN0aW9uSXRlcmF0aW9ucz12b2lkIDAhPT10LmZyaWN0aW9uSXRlcmF0aW9ucz8wOnQuZnJpY3Rpb25JdGVyYXRpb25zLHRoaXMudXNlZEl0ZXJhdGlvbnM9MH1mdW5jdGlvbiBuKHQpe2Zvcih2YXIgZT10Lmxlbmd0aDtlLS07KXRbZV09MH12YXIgcz10KFwiLi4vbWF0aC92ZWMyXCIpLGE9dChcIi4vU29sdmVyXCIpLHI9dChcIi4uL3V0aWxzL1V0aWxzXCIpLGM9dChcIi4uL2VxdWF0aW9ucy9GcmljdGlvbkVxdWF0aW9uXCIpO2UuZXhwb3J0cz1pLChpLnByb3RvdHlwZT1uZXcgYSkuY29uc3RydWN0b3I9aSxpLnByb3RvdHlwZS5zb2x2ZT1mdW5jdGlvbih0LGUpe3RoaXMuc29ydEVxdWF0aW9ucygpO3ZhciBvPTAsYT10aGlzLml0ZXJhdGlvbnMsaD10aGlzLmZyaWN0aW9uSXRlcmF0aW9ucyxsPXRoaXMuZXF1YXRpb25zLHA9bC5sZW5ndGgsdT1NYXRoLnBvdyh0aGlzLnRvbGVyYW5jZSpwLDIpLGQ9ZS5ib2RpZXMsZj1lLmJvZGllcy5sZW5ndGgsdj0ocy5hZGQscy5zZXQsdGhpcy51c2VaZXJvUkhTKSx5PXRoaXMubGFtYmRhO2lmKHRoaXMudXNlZEl0ZXJhdGlvbnM9MCxwKWZvcihBPTA7QSE9PWY7QSsrKShxPWRbQV0pLnVwZGF0ZVNvbHZlTWFzc1Byb3BlcnRpZXMoKTt5Lmxlbmd0aDxwJiYoeT10aGlzLmxhbWJkYT1uZXcgci5BUlJBWV9UWVBFKHArdGhpcy5hcnJheVN0ZXApLHRoaXMuQnM9bmV3IHIuQVJSQVlfVFlQRShwK3RoaXMuYXJyYXlTdGVwKSx0aGlzLmludkNzPW5ldyByLkFSUkFZX1RZUEUocCt0aGlzLmFycmF5U3RlcCkpLG4oeSk7Zm9yKHZhciBtPXRoaXMuaW52Q3MsZz10aGlzLkJzLHk9dGhpcy5sYW1iZGEsQT0wO0EhPT1sLmxlbmd0aDtBKyspKChiPWxbQV0pLnRpbWVTdGVwIT09dHx8Yi5uZWVkc1VwZGF0ZSkmJihiLnRpbWVTdGVwPXQsYi51cGRhdGUoKSksZ1tBXT1iLmNvbXB1dGVCKGIuYSxiLmIsdCksbVtBXT1iLmNvbXB1dGVJbnZDKGIuZXBzaWxvbik7dmFyIGIsRSxCO2lmKDAhPT1wKXtmb3IoQT0wO0EhPT1mO0ErKyl7dmFyIHE9ZFtBXTtxLnJlc2V0Q29uc3RyYWludFZlbG9jaXR5KCl9aWYoaCl7Zm9yKG89MDtvIT09aDtvKyspe2ZvcihFPTAsQj0wO0IhPT1wO0IrKyl7Yj1sW0JdO0M9aS5pdGVyYXRlRXF1YXRpb24oQixiLGIuZXBzaWxvbixnLG0seSx2LHQsbyk7RSs9TWF0aC5hYnMoQyl9aWYodGhpcy51c2VkSXRlcmF0aW9ucysrLEUqRTw9dSlicmVha31mb3IoaS51cGRhdGVNdWx0aXBsaWVycyhsLHksMS90KSxCPTA7QiE9PXA7QisrKXt2YXIgUD1sW0JdO2lmKFAgaW5zdGFuY2VvZiBjKXtmb3IodmFyIHc9MCxTPTA7UyE9PVAuY29udGFjdEVxdWF0aW9ucy5sZW5ndGg7UysrKXcrPVAuY29udGFjdEVxdWF0aW9uc1tTXS5tdWx0aXBsaWVyO3cqPVAuZnJpY3Rpb25Db2VmZmljaWVudC9QLmNvbnRhY3RFcXVhdGlvbnMubGVuZ3RoLFAubWF4Rm9yY2U9dyxQLm1pbkZvcmNlPS13fX19Zm9yKG89MDtvIT09YTtvKyspe2ZvcihFPTAsQj0wO0IhPT1wO0IrKyl7Yj1sW0JdO3ZhciBDPWkuaXRlcmF0ZUVxdWF0aW9uKEIsYixiLmVwc2lsb24sZyxtLHksdix0LG8pO0UrPU1hdGguYWJzKEMpfWlmKHRoaXMudXNlZEl0ZXJhdGlvbnMrKyxFKkU8PXUpYnJlYWt9Zm9yKEE9MDtBIT09ZjtBKyspZFtBXS5hZGRDb25zdHJhaW50VmVsb2NpdHkoKTtpLnVwZGF0ZU11bHRpcGxpZXJzKGwseSwxL3QpfX0saS51cGRhdGVNdWx0aXBsaWVycz1mdW5jdGlvbih0LGUsbyl7Zm9yKHZhciBpPXQubGVuZ3RoO2ktLTspdFtpXS5tdWx0aXBsaWVyPWVbaV0qb30saS5pdGVyYXRlRXF1YXRpb249ZnVuY3Rpb24odCxlLG8saSxuLHMsYSxyLGMpe3ZhciBoPWlbdF0sbD1uW3RdLHA9c1t0XSx1PWUuY29tcHV0ZUdXbGFtYmRhKCksZD1lLm1heEZvcmNlLGY9ZS5taW5Gb3JjZTthJiYoaD0wKTt2YXIgdj1sKihoLXUtbypwKSx5PXArdjtyZXR1cm4geTxmKnI/dj1mKnItcDp5PmQqciYmKHY9ZCpyLXApLHNbdF0rPXYsZS5hZGRUb1dsYW1iZGEodiksdn19LHtcIi4uL2VxdWF0aW9ucy9GcmljdGlvbkVxdWF0aW9uXCI6MjMsXCIuLi9tYXRoL3ZlYzJcIjozMCxcIi4uL3V0aWxzL1V0aWxzXCI6NTcsXCIuL1NvbHZlclwiOjQ3fV0sNDc6W2Z1bmN0aW9uKHQsZSxvKXtmdW5jdGlvbiBpKHQsZSl7dD10fHx7fSxuLmNhbGwodGhpcyksdGhpcy50eXBlPWUsdGhpcy5lcXVhdGlvbnM9W10sdGhpcy5lcXVhdGlvblNvcnRGdW5jdGlvbj10LmVxdWF0aW9uU29ydEZ1bmN0aW9ufHwhMX10KFwiLi4vdXRpbHMvVXRpbHNcIik7dmFyIG49dChcIi4uL2V2ZW50cy9FdmVudEVtaXR0ZXJcIik7ZS5leHBvcnRzPWksKGkucHJvdG90eXBlPW5ldyBuKS5jb25zdHJ1Y3Rvcj1pLGkucHJvdG90eXBlLnNvbHZlPWZ1bmN0aW9uKHQsZSl7dGhyb3cgbmV3IEVycm9yKFwiU29sdmVyLnNvbHZlIHNob3VsZCBiZSBpbXBsZW1lbnRlZCBieSBzdWJjbGFzc2VzIVwiKX07dmFyIHM9e2JvZGllczpbXX07aS5wcm90b3R5cGUuc29sdmVJc2xhbmQ9ZnVuY3Rpb24odCxlKXt0aGlzLnJlbW92ZUFsbEVxdWF0aW9ucygpLGUuZXF1YXRpb25zLmxlbmd0aCYmKHRoaXMuYWRkRXF1YXRpb25zKGUuZXF1YXRpb25zKSxzLmJvZGllcy5sZW5ndGg9MCxlLmdldEJvZGllcyhzLmJvZGllcykscy5ib2RpZXMubGVuZ3RoJiZ0aGlzLnNvbHZlKHQscykpfSxpLnByb3RvdHlwZS5zb3J0RXF1YXRpb25zPWZ1bmN0aW9uKCl7dGhpcy5lcXVhdGlvblNvcnRGdW5jdGlvbiYmdGhpcy5lcXVhdGlvbnMuc29ydCh0aGlzLmVxdWF0aW9uU29ydEZ1bmN0aW9uKX0saS5wcm90b3R5cGUuYWRkRXF1YXRpb249ZnVuY3Rpb24odCl7dC5lbmFibGVkJiZ0aGlzLmVxdWF0aW9ucy5wdXNoKHQpfSxpLnByb3RvdHlwZS5hZGRFcXVhdGlvbnM9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTAsbz10Lmxlbmd0aDtlIT09bztlKyspe3ZhciBpPXRbZV07aS5lbmFibGVkJiZ0aGlzLmVxdWF0aW9ucy5wdXNoKGkpfX0saS5wcm90b3R5cGUucmVtb3ZlRXF1YXRpb249ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5lcXVhdGlvbnMuaW5kZXhPZih0KTstMSE9PWUmJnRoaXMuZXF1YXRpb25zLnNwbGljZShlLDEpfSxpLnByb3RvdHlwZS5yZW1vdmVBbGxFcXVhdGlvbnM9ZnVuY3Rpb24oKXt0aGlzLmVxdWF0aW9ucy5sZW5ndGg9MH0saS5HUz0xLGkuSVNMQU5EPTJ9LHtcIi4uL2V2ZW50cy9FdmVudEVtaXR0ZXJcIjoyNixcIi4uL3V0aWxzL1V0aWxzXCI6NTd9XSw0ODpbZnVuY3Rpb24odCxlLG8pe2Z1bmN0aW9uIGkoKXtzLmFwcGx5KHRoaXMsYXJndW1lbnRzKX12YXIgbj10KFwiLi4vZXF1YXRpb25zL0NvbnRhY3RFcXVhdGlvblwiKSxzPXQoXCIuL1Bvb2xcIik7ZS5leHBvcnRzPWksKGkucHJvdG90eXBlPW5ldyBzKS5jb25zdHJ1Y3Rvcj1pLGkucHJvdG90eXBlLmNyZWF0ZT1mdW5jdGlvbigpe3JldHVybiBuZXcgbn0saS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbih0KXtyZXR1cm4gdC5ib2R5QT10LmJvZHlCPW51bGwsdGhpc319LHtcIi4uL2VxdWF0aW9ucy9Db250YWN0RXF1YXRpb25cIjoyMSxcIi4vUG9vbFwiOjU1fV0sNDk6W2Z1bmN0aW9uKHQsZSxvKXtmdW5jdGlvbiBpKCl7cy5hcHBseSh0aGlzLGFyZ3VtZW50cyl9dmFyIG49dChcIi4uL2VxdWF0aW9ucy9GcmljdGlvbkVxdWF0aW9uXCIpLHM9dChcIi4vUG9vbFwiKTtlLmV4cG9ydHM9aSwoaS5wcm90b3R5cGU9bmV3IHMpLmNvbnN0cnVjdG9yPWksaS5wcm90b3R5cGUuY3JlYXRlPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBufSxpLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKHQpe3JldHVybiB0LmJvZHlBPXQuYm9keUI9bnVsbCx0aGlzfX0se1wiLi4vZXF1YXRpb25zL0ZyaWN0aW9uRXF1YXRpb25cIjoyMyxcIi4vUG9vbFwiOjU1fV0sNTA6W2Z1bmN0aW9uKHQsZSxvKXtmdW5jdGlvbiBpKCl7cy5hcHBseSh0aGlzLGFyZ3VtZW50cyl9dmFyIG49dChcIi4uL3dvcmxkL0lzbGFuZE5vZGVcIikscz10KFwiLi9Qb29sXCIpO2UuZXhwb3J0cz1pLChpLnByb3RvdHlwZT1uZXcgcykuY29uc3RydWN0b3I9aSxpLnByb3RvdHlwZS5jcmVhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IG59LGkucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24odCl7cmV0dXJuIHQucmVzZXQoKSx0aGlzfX0se1wiLi4vd29ybGQvSXNsYW5kTm9kZVwiOjYwLFwiLi9Qb29sXCI6NTV9XSw1MTpbZnVuY3Rpb24odCxlLG8pe2Z1bmN0aW9uIGkoKXtzLmFwcGx5KHRoaXMsYXJndW1lbnRzKX12YXIgbj10KFwiLi4vd29ybGQvSXNsYW5kXCIpLHM9dChcIi4vUG9vbFwiKTtlLmV4cG9ydHM9aSwoaS5wcm90b3R5cGU9bmV3IHMpLmNvbnN0cnVjdG9yPWksaS5wcm90b3R5cGUuY3JlYXRlPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBufSxpLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKHQpe3JldHVybiB0LnJlc2V0KCksdGhpc319LHtcIi4uL3dvcmxkL0lzbGFuZFwiOjU4LFwiLi9Qb29sXCI6NTV9XSw1MjpbZnVuY3Rpb24odCxlLG8pe2Z1bmN0aW9uIGkoKXt0aGlzLm92ZXJsYXBwaW5nU2hhcGVzTGFzdFN0YXRlPW5ldyBuLHRoaXMub3ZlcmxhcHBpbmdTaGFwZXNDdXJyZW50U3RhdGU9bmV3IG4sdGhpcy5yZWNvcmRQb29sPW5ldyBzKHtzaXplOjE2fSksdGhpcy50bXBEaWN0PW5ldyBuLHRoaXMudG1wQXJyYXkxPVtdfXZhciBuPXQoXCIuL1R1cGxlRGljdGlvbmFyeVwiKSxzPSh0KFwiLi9PdmVybGFwS2VlcGVyUmVjb3JkXCIpLHQoXCIuL092ZXJsYXBLZWVwZXJSZWNvcmRQb29sXCIpKTt0KFwiLi9VdGlsc1wiKTtlLmV4cG9ydHM9aSxpLnByb3RvdHlwZS50aWNrPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMub3ZlcmxhcHBpbmdTaGFwZXNMYXN0U3RhdGUsZT10aGlzLm92ZXJsYXBwaW5nU2hhcGVzQ3VycmVudFN0YXRlLG89dC5rZXlzLmxlbmd0aDtvLS07KXt2YXIgaT10LmtleXNbb10sbj10LmdldEJ5S2V5KGkpO2UuZ2V0QnlLZXkoaSk7biYmdGhpcy5yZWNvcmRQb29sLnJlbGVhc2Uobil9dC5yZXNldCgpLHQuY29weShlKSxlLnJlc2V0KCl9LGkucHJvdG90eXBlLnNldE92ZXJsYXBwaW5nPWZ1bmN0aW9uKHQsZSxvLGkpe3RoaXMub3ZlcmxhcHBpbmdTaGFwZXNMYXN0U3RhdGU7dmFyIG49dGhpcy5vdmVybGFwcGluZ1NoYXBlc0N1cnJlbnRTdGF0ZTtpZighbi5nZXQoZS5pZCxpLmlkKSl7dmFyIHM9dGhpcy5yZWNvcmRQb29sLmdldCgpO3Muc2V0KHQsZSxvLGkpLG4uc2V0KGUuaWQsaS5pZCxzKX19LGkucHJvdG90eXBlLmdldE5ld092ZXJsYXBzPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmdldERpZmYodGhpcy5vdmVybGFwcGluZ1NoYXBlc0xhc3RTdGF0ZSx0aGlzLm92ZXJsYXBwaW5nU2hhcGVzQ3VycmVudFN0YXRlLHQpfSxpLnByb3RvdHlwZS5nZXRFbmRPdmVybGFwcz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5nZXREaWZmKHRoaXMub3ZlcmxhcHBpbmdTaGFwZXNDdXJyZW50U3RhdGUsdGhpcy5vdmVybGFwcGluZ1NoYXBlc0xhc3RTdGF0ZSx0KX0saS5wcm90b3R5cGUuYm9kaWVzQXJlT3ZlcmxhcHBpbmc9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG89dGhpcy5vdmVybGFwcGluZ1NoYXBlc0N1cnJlbnRTdGF0ZSxpPW8ua2V5cy5sZW5ndGg7aS0tOyl7dmFyIG49by5rZXlzW2ldLHM9by5kYXRhW25dO2lmKHMuYm9keUE9PT10JiZzLmJvZHlCPT09ZXx8cy5ib2R5QT09PWUmJnMuYm9keUI9PT10KXJldHVybiEwfXJldHVybiExfSxpLnByb3RvdHlwZS5nZXREaWZmPWZ1bmN0aW9uKHQsZSxvKXt2YXIgaT10LG49ZTsobz1vfHxbXSkubGVuZ3RoPTA7Zm9yKHZhciBzPW4ua2V5cy5sZW5ndGg7cy0tOyl7dmFyIGE9bi5rZXlzW3NdLHI9bi5kYXRhW2FdO2lmKCFyKXRocm93IG5ldyBFcnJvcihcIktleSBcIithK1wiIGhhZCBubyBkYXRhIVwiKTtpLmRhdGFbYV18fG8ucHVzaChyKX1yZXR1cm4gb30saS5wcm90b3R5cGUuaXNOZXdPdmVybGFwPWZ1bmN0aW9uKHQsZSl7dmFyIG89MHx0LmlkLGk9MHxlLmlkLG49dGhpcy5vdmVybGFwcGluZ1NoYXBlc0xhc3RTdGF0ZSxzPXRoaXMub3ZlcmxhcHBpbmdTaGFwZXNDdXJyZW50U3RhdGU7cmV0dXJuIW4uZ2V0KG8saSkmJiEhcy5nZXQobyxpKX0saS5wcm90b3R5cGUuZ2V0TmV3Qm9keU92ZXJsYXBzPWZ1bmN0aW9uKHQpe3RoaXMudG1wQXJyYXkxLmxlbmd0aD0wO3ZhciBlPXRoaXMuZ2V0TmV3T3ZlcmxhcHModGhpcy50bXBBcnJheTEpO3JldHVybiB0aGlzLmdldEJvZHlEaWZmKGUsdCl9LGkucHJvdG90eXBlLmdldEVuZEJvZHlPdmVybGFwcz1mdW5jdGlvbih0KXt0aGlzLnRtcEFycmF5MS5sZW5ndGg9MDt2YXIgZT10aGlzLmdldEVuZE92ZXJsYXBzKHRoaXMudG1wQXJyYXkxKTtyZXR1cm4gdGhpcy5nZXRCb2R5RGlmZihlLHQpfSxpLnByb3RvdHlwZS5nZXRCb2R5RGlmZj1mdW5jdGlvbih0LGUpe2U9ZXx8W107Zm9yKHZhciBvPXRoaXMudG1wRGljdCxpPXQubGVuZ3RoO2ktLTspe3ZhciBuPXRbaV07by5zZXQoMHxuLmJvZHlBLmlkLDB8bi5ib2R5Qi5pZCxuKX1mb3IoaT1vLmtleXMubGVuZ3RoO2ktLTspKG49by5nZXRCeUtleShvLmtleXNbaV0pKSYmZS5wdXNoKG4uYm9keUEsbi5ib2R5Qik7cmV0dXJuIG8ucmVzZXQoKSxlfX0se1wiLi9PdmVybGFwS2VlcGVyUmVjb3JkXCI6NTMsXCIuL092ZXJsYXBLZWVwZXJSZWNvcmRQb29sXCI6NTQsXCIuL1R1cGxlRGljdGlvbmFyeVwiOjU2LFwiLi9VdGlsc1wiOjU3fV0sNTM6W2Z1bmN0aW9uKHQsZSxvKXtmdW5jdGlvbiBpKHQsZSxvLGkpe3RoaXMuc2hhcGVBPWUsdGhpcy5zaGFwZUI9aSx0aGlzLmJvZHlBPXQsdGhpcy5ib2R5Qj1vfWUuZXhwb3J0cz1pLGkucHJvdG90eXBlLnNldD1mdW5jdGlvbih0LGUsbyxuKXtpLmNhbGwodGhpcyx0LGUsbyxuKX19LHt9XSw1NDpbZnVuY3Rpb24odCxlLG8pe2Z1bmN0aW9uIGkoKXtzLmFwcGx5KHRoaXMsYXJndW1lbnRzKX12YXIgbj10KFwiLi9PdmVybGFwS2VlcGVyUmVjb3JkXCIpLHM9dChcIi4vUG9vbFwiKTtlLmV4cG9ydHM9aSwoaS5wcm90b3R5cGU9bmV3IHMpLmNvbnN0cnVjdG9yPWksaS5wcm90b3R5cGUuY3JlYXRlPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBufSxpLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKHQpe3JldHVybiB0LmJvZHlBPXQuYm9keUI9dC5zaGFwZUE9dC5zaGFwZUI9bnVsbCx0aGlzfX0se1wiLi9PdmVybGFwS2VlcGVyUmVjb3JkXCI6NTMsXCIuL1Bvb2xcIjo1NX1dLDU1OltmdW5jdGlvbih0LGUsbyl7ZnVuY3Rpb24gaSh0KXt0PXR8fHt9LHRoaXMub2JqZWN0cz1bXSx2b2lkIDAhPT10LnNpemUmJnRoaXMucmVzaXplKHQuc2l6ZSl9ZS5leHBvcnRzPWksaS5wcm90b3R5cGUucmVzaXplPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLm9iamVjdHM7ZS5sZW5ndGg+dDspZS5wb3AoKTtmb3IoO2UubGVuZ3RoPHQ7KWUucHVzaCh0aGlzLmNyZWF0ZSgpKTtyZXR1cm4gdGhpc30saS5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5vYmplY3RzO3JldHVybiB0Lmxlbmd0aD90LnBvcCgpOnRoaXMuY3JlYXRlKCl9LGkucHJvdG90eXBlLnJlbGVhc2U9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZGVzdHJveSh0KSx0aGlzLm9iamVjdHMucHVzaCh0KSx0aGlzfX0se31dLDU2OltmdW5jdGlvbih0LGUsbyl7ZnVuY3Rpb24gaSgpe3RoaXMuZGF0YT17fSx0aGlzLmtleXM9W119dmFyIG49dChcIi4vVXRpbHNcIik7ZS5leHBvcnRzPWksaS5wcm90b3R5cGUuZ2V0S2V5PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHR8PTAsZXw9MCwoMHx0KT09KDB8ZSk/LTE6MHwoKDB8dCk+KDB8ZSk/dDw8MTZ8NjU1MzUmZTplPDwxNnw2NTUzNSZ0KX0saS5wcm90b3R5cGUuZ2V0QnlLZXk9ZnVuY3Rpb24odCl7cmV0dXJuIHR8PTAsdGhpcy5kYXRhW3RdfSxpLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5kYXRhW3RoaXMuZ2V0S2V5KHQsZSldfSxpLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24odCxlLG8pe2lmKCFvKXRocm93IG5ldyBFcnJvcihcIk5vIGRhdGEhXCIpO3ZhciBpPXRoaXMuZ2V0S2V5KHQsZSk7cmV0dXJuIHRoaXMuZGF0YVtpXXx8dGhpcy5rZXlzLnB1c2goaSksdGhpcy5kYXRhW2ldPW8saX0saS5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy5kYXRhLGU9dGhpcy5rZXlzLG89ZS5sZW5ndGg7by0tOylkZWxldGUgdFtlW29dXTtlLmxlbmd0aD0wfSxpLnByb3RvdHlwZS5jb3B5PWZ1bmN0aW9uKHQpe3RoaXMucmVzZXQoKSxuLmFwcGVuZEFycmF5KHRoaXMua2V5cyx0LmtleXMpO2Zvcih2YXIgZT10LmtleXMubGVuZ3RoO2UtLTspe3ZhciBvPXQua2V5c1tlXTt0aGlzLmRhdGFbb109dC5kYXRhW29dfX19LHtcIi4vVXRpbHNcIjo1N31dLDU3OltmdW5jdGlvbih0LGUsbyl7ZnVuY3Rpb24gaSgpe31lLmV4cG9ydHM9aSxpLmFwcGVuZEFycmF5PWZ1bmN0aW9uKHQsZSl7aWYoZS5sZW5ndGg8MTVlNCl0LnB1c2guYXBwbHkodCxlKTtlbHNlIGZvcih2YXIgbz0wLGk9ZS5sZW5ndGg7byE9PWk7KytvKXQucHVzaChlW29dKX0saS5zcGxpY2U9ZnVuY3Rpb24odCxlLG8pe289b3x8MTtmb3IodmFyIGk9ZSxuPXQubGVuZ3RoLW87aTxuO2krKyl0W2ldPXRbaStvXTt0Lmxlbmd0aD1ufSxpLkFSUkFZX1RZUEU9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFAyX0FSUkFZX1RZUEU/UDJfQVJSQVlfVFlQRTpcInVuZGVmaW5lZFwiIT10eXBlb2YgRmxvYXQzMkFycmF5P0Zsb2F0MzJBcnJheTpBcnJheSxpLmV4dGVuZD1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbyBpbiBlKXRbb109ZVtvXX0saS5kZWZhdWx0cz1mdW5jdGlvbih0LGUpe3Q9dHx8e307Zm9yKHZhciBvIGluIGUpbyBpbiB0fHwodFtvXT1lW29dKTtyZXR1cm4gdH19LHt9XSw1ODpbZnVuY3Rpb24odCxlLG8pe2Z1bmN0aW9uIGkoKXt0aGlzLmVxdWF0aW9ucz1bXSx0aGlzLmJvZGllcz1bXX12YXIgbj10KFwiLi4vb2JqZWN0cy9Cb2R5XCIpO2UuZXhwb3J0cz1pLGkucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5lcXVhdGlvbnMubGVuZ3RoPXRoaXMuYm9kaWVzLmxlbmd0aD0wfTt2YXIgcz1bXTtpLnByb3RvdHlwZS5nZXRCb2RpZXM9ZnVuY3Rpb24odCl7dmFyIGU9dHx8W10sbz10aGlzLmVxdWF0aW9ucztzLmxlbmd0aD0wO2Zvcih2YXIgaT0wO2khPT1vLmxlbmd0aDtpKyspe3ZhciBuPW9baV07LTE9PT1zLmluZGV4T2Yobi5ib2R5QS5pZCkmJihlLnB1c2gobi5ib2R5QSkscy5wdXNoKG4uYm9keUEuaWQpKSwtMT09PXMuaW5kZXhPZihuLmJvZHlCLmlkKSYmKGUucHVzaChuLmJvZHlCKSxzLnB1c2gobi5ib2R5Qi5pZCkpfXJldHVybiBlfSxpLnByb3RvdHlwZS53YW50c1RvU2xlZXA9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9MDt0PHRoaXMuYm9kaWVzLmxlbmd0aDt0Kyspe3ZhciBlPXRoaXMuYm9kaWVzW3RdO2lmKGUudHlwZT09PW4uRFlOQU1JQyYmIWUud2FudHNUb1NsZWVwKXJldHVybiExfXJldHVybiEwfSxpLnByb3RvdHlwZS5zbGVlcD1mdW5jdGlvbigpe2Zvcih2YXIgdD0wO3Q8dGhpcy5ib2RpZXMubGVuZ3RoO3QrKyl0aGlzLmJvZGllc1t0XS5zbGVlcCgpO3JldHVybiEwfX0se1wiLi4vb2JqZWN0cy9Cb2R5XCI6MzF9XSw1OTpbZnVuY3Rpb24odCxlLG8pe2Z1bmN0aW9uIGkodCl7dGhpcy5ub2RlUG9vbD1uZXcgbih7c2l6ZToxNn0pLHRoaXMuaXNsYW5kUG9vbD1uZXcgcyh7c2l6ZTo4fSksdGhpcy5lcXVhdGlvbnM9W10sdGhpcy5pc2xhbmRzPVtdLHRoaXMubm9kZXM9W10sdGhpcy5xdWV1ZT1bXX10KFwiLi4vbWF0aC92ZWMyXCIpLHQoXCIuL0lzbGFuZFwiKSx0KFwiLi9Jc2xhbmROb2RlXCIpO3ZhciBuPXQoXCIuLy4uL3V0aWxzL0lzbGFuZE5vZGVQb29sXCIpLHM9dChcIi4vLi4vdXRpbHMvSXNsYW5kUG9vbFwiKSxhPXQoXCIuLi9vYmplY3RzL0JvZHlcIik7ZS5leHBvcnRzPWksaS5nZXRVbnZpc2l0ZWROb2RlPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10Lmxlbmd0aCxvPTA7byE9PWU7bysrKXt2YXIgaT10W29dO2lmKCFpLnZpc2l0ZWQmJmkuYm9keS50eXBlPT09YS5EWU5BTUlDKXJldHVybiBpfXJldHVybiExfSxpLnByb3RvdHlwZS52aXNpdD1mdW5jdGlvbih0LGUsbyl7ZS5wdXNoKHQuYm9keSk7Zm9yKHZhciBpPXQuZXF1YXRpb25zLmxlbmd0aCxuPTA7biE9PWk7bisrKXt2YXIgcz10LmVxdWF0aW9uc1tuXTstMT09PW8uaW5kZXhPZihzKSYmby5wdXNoKHMpfX0saS5wcm90b3R5cGUuYmZzPWZ1bmN0aW9uKHQsZSxvKXt2YXIgbj10aGlzLnF1ZXVlO2ZvcihuLmxlbmd0aD0wLG4ucHVzaCh0KSx0LnZpc2l0ZWQ9ITAsdGhpcy52aXNpdCh0LGUsbyk7bi5sZW5ndGg7KWZvcih2YXIgcyxyPW4ucG9wKCk7cz1pLmdldFVudmlzaXRlZE5vZGUoci5uZWlnaGJvcnMpOylzLnZpc2l0ZWQ9ITAsdGhpcy52aXNpdChzLGUsbykscy5ib2R5LnR5cGU9PT1hLkRZTkFNSUMmJm4ucHVzaChzKX0saS5wcm90b3R5cGUuc3BsaXQ9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXQuYm9kaWVzLG89dGhpcy5ub2RlcyxuPXRoaXMuZXF1YXRpb25zO28ubGVuZ3RoOyl0aGlzLm5vZGVQb29sLnJlbGVhc2Uoby5wb3AoKSk7Zm9yKGM9MDtjIT09ZS5sZW5ndGg7YysrKXt2YXIgcz10aGlzLm5vZGVQb29sLmdldCgpO3MuYm9keT1lW2NdLG8ucHVzaChzKX1mb3IodmFyIGE9MDthIT09bi5sZW5ndGg7YSsrKXt2YXIgcj1uW2FdLGM9ZS5pbmRleE9mKHIuYm9keUEpLGg9ZS5pbmRleE9mKHIuYm9keUIpLGw9b1tjXSxwPW9baF07bC5uZWlnaGJvcnMucHVzaChwKSxwLm5laWdoYm9ycy5wdXNoKGwpLGwuZXF1YXRpb25zLnB1c2gocikscC5lcXVhdGlvbnMucHVzaChyKX1mb3IodmFyIHU9dGhpcy5pc2xhbmRzLGM9MDtjPHUubGVuZ3RoO2MrKyl0aGlzLmlzbGFuZFBvb2wucmVsZWFzZSh1W2NdKTt1Lmxlbmd0aD0wO2Zvcih2YXIgZDtkPWkuZ2V0VW52aXNpdGVkTm9kZShvKTspe3ZhciBmPXRoaXMuaXNsYW5kUG9vbC5nZXQoKTt0aGlzLmJmcyhkLGYuYm9kaWVzLGYuZXF1YXRpb25zKSx1LnB1c2goZil9cmV0dXJuIHV9fSx7XCIuLi9tYXRoL3ZlYzJcIjozMCxcIi4uL29iamVjdHMvQm9keVwiOjMxLFwiLi8uLi91dGlscy9Jc2xhbmROb2RlUG9vbFwiOjUwLFwiLi8uLi91dGlscy9Jc2xhbmRQb29sXCI6NTEsXCIuL0lzbGFuZFwiOjU4LFwiLi9Jc2xhbmROb2RlXCI6NjB9XSw2MDpbZnVuY3Rpb24odCxlLG8pe2Z1bmN0aW9uIGkodCl7dGhpcy5ib2R5PXQsdGhpcy5uZWlnaGJvcnM9W10sdGhpcy5lcXVhdGlvbnM9W10sdGhpcy52aXNpdGVkPSExfWUuZXhwb3J0cz1pLGkucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5lcXVhdGlvbnMubGVuZ3RoPTAsdGhpcy5uZWlnaGJvcnMubGVuZ3RoPTAsdGhpcy52aXNpdGVkPSExLHRoaXMuYm9keT1udWxsfX0se31dLDYxOltmdW5jdGlvbih0LGUsbyl7ZnVuY3Rpb24gaSh0KXtwLmFwcGx5KHRoaXMpLHQ9dHx8e30sdGhpcy5zcHJpbmdzPVtdLHRoaXMuYm9kaWVzPVtdLHRoaXMuZGlzYWJsZWRCb2R5Q29sbGlzaW9uUGFpcnM9W10sdGhpcy5zb2x2ZXI9dC5zb2x2ZXJ8fG5ldyBuLHRoaXMubmFycm93cGhhc2U9bmV3IG0odGhpcyksdGhpcy5pc2xhbmRNYW5hZ2VyPW5ldyBiLHRoaXMuZ3Jhdml0eT1zLmZyb21WYWx1ZXMoMCwtOS43OCksdC5ncmF2aXR5JiZzLmNvcHkodGhpcy5ncmF2aXR5LHQuZ3Jhdml0eSksdGhpcy5mcmljdGlvbkdyYXZpdHk9cy5sZW5ndGgodGhpcy5ncmF2aXR5KXx8MTAsdGhpcy51c2VXb3JsZEdyYXZpdHlBc0ZyaWN0aW9uR3Jhdml0eT0hMCx0aGlzLnVzZUZyaWN0aW9uR3Jhdml0eU9uWmVyb0dyYXZpdHk9ITAsdGhpcy5icm9hZHBoYXNlPXQuYnJvYWRwaGFzZXx8bmV3IHksdGhpcy5icm9hZHBoYXNlLnNldFdvcmxkKHRoaXMpLHRoaXMuY29uc3RyYWludHM9W10sdGhpcy5kZWZhdWx0TWF0ZXJpYWw9bmV3IGQsdGhpcy5kZWZhdWx0Q29udGFjdE1hdGVyaWFsPW5ldyBmKHRoaXMuZGVmYXVsdE1hdGVyaWFsLHRoaXMuZGVmYXVsdE1hdGVyaWFsKSx0aGlzLmxhc3RUaW1lU3RlcD0xLzYwLHRoaXMuYXBwbHlTcHJpbmdGb3JjZXM9ITAsdGhpcy5hcHBseURhbXBpbmc9ITAsdGhpcy5hcHBseUdyYXZpdHk9ITAsdGhpcy5zb2x2ZUNvbnN0cmFpbnRzPSEwLHRoaXMuY29udGFjdE1hdGVyaWFscz1bXSx0aGlzLnRpbWU9MCx0aGlzLmFjY3VtdWxhdG9yPTAsdGhpcy5zdGVwcGluZz0hMSx0aGlzLmJvZGllc1RvQmVSZW1vdmVkPVtdLHRoaXMuaXNsYW5kU3BsaXQ9dm9pZCAwPT09dC5pc2xhbmRTcGxpdHx8ISF0LmlzbGFuZFNwbGl0LHRoaXMuZW1pdEltcGFjdEV2ZW50PSEwLHRoaXMuX2NvbnN0cmFpbnRJZENvdW50ZXI9MCx0aGlzLl9ib2R5SWRDb3VudGVyPTAsdGhpcy5wb3N0U3RlcEV2ZW50PXt0eXBlOlwicG9zdFN0ZXBcIn0sdGhpcy5hZGRCb2R5RXZlbnQ9e3R5cGU6XCJhZGRCb2R5XCIsYm9keTpudWxsfSx0aGlzLnJlbW92ZUJvZHlFdmVudD17dHlwZTpcInJlbW92ZUJvZHlcIixib2R5Om51bGx9LHRoaXMuYWRkU3ByaW5nRXZlbnQ9e3R5cGU6XCJhZGRTcHJpbmdcIixzcHJpbmc6bnVsbH0sdGhpcy5pbXBhY3RFdmVudD17dHlwZTpcImltcGFjdFwiLGJvZHlBOm51bGwsYm9keUI6bnVsbCxzaGFwZUE6bnVsbCxzaGFwZUI6bnVsbCxjb250YWN0RXF1YXRpb246bnVsbH0sdGhpcy5wb3N0QnJvYWRwaGFzZUV2ZW50PXt0eXBlOlwicG9zdEJyb2FkcGhhc2VcIixwYWlyczpudWxsfSx0aGlzLnNsZWVwTW9kZT1pLk5PX1NMRUVQSU5HLHRoaXMuYmVnaW5Db250YWN0RXZlbnQ9e3R5cGU6XCJiZWdpbkNvbnRhY3RcIixzaGFwZUE6bnVsbCxzaGFwZUI6bnVsbCxib2R5QTpudWxsLGJvZHlCOm51bGwsY29udGFjdEVxdWF0aW9uczpbXX0sdGhpcy5lbmRDb250YWN0RXZlbnQ9e3R5cGU6XCJlbmRDb250YWN0XCIsc2hhcGVBOm51bGwsc2hhcGVCOm51bGwsYm9keUE6bnVsbCxib2R5QjpudWxsfSx0aGlzLnByZVNvbHZlRXZlbnQ9e3R5cGU6XCJwcmVTb2x2ZVwiLGNvbnRhY3RFcXVhdGlvbnM6bnVsbCxmcmljdGlvbkVxdWF0aW9uczpudWxsfSx0aGlzLm92ZXJsYXBwaW5nU2hhcGVzTGFzdFN0YXRlPXtrZXlzOltdfSx0aGlzLm92ZXJsYXBwaW5nU2hhcGVzQ3VycmVudFN0YXRlPXtrZXlzOltdfSx0aGlzLm92ZXJsYXBLZWVwZXI9bmV3IEF9dmFyIG49dChcIi4uL3NvbHZlci9HU1NvbHZlclwiKSxzPSh0KFwiLi4vc29sdmVyL1NvbHZlclwiKSx0KFwiLi4vY29sbGlzaW9uL1JheVwiKSx0KFwiLi4vbWF0aC92ZWMyXCIpKSxhPXQoXCIuLi9zaGFwZXMvQ2lyY2xlXCIpLHI9dChcIi4uL3NoYXBlcy9Db252ZXhcIiksYz0odChcIi4uL3NoYXBlcy9MaW5lXCIpLHQoXCIuLi9zaGFwZXMvUGxhbmVcIikpLGg9dChcIi4uL3NoYXBlcy9DYXBzdWxlXCIpLGw9dChcIi4uL3NoYXBlcy9QYXJ0aWNsZVwiKSxwPXQoXCIuLi9ldmVudHMvRXZlbnRFbWl0dGVyXCIpLHU9dChcIi4uL29iamVjdHMvQm9keVwiKSxkPSh0KFwiLi4vc2hhcGVzL1NoYXBlXCIpLHQoXCIuLi9vYmplY3RzL0xpbmVhclNwcmluZ1wiKSx0KFwiLi4vbWF0ZXJpYWwvTWF0ZXJpYWxcIikpLGY9dChcIi4uL21hdGVyaWFsL0NvbnRhY3RNYXRlcmlhbFwiKSx2PSh0KFwiLi4vY29uc3RyYWludHMvRGlzdGFuY2VDb25zdHJhaW50XCIpLHQoXCIuLi9jb25zdHJhaW50cy9Db25zdHJhaW50XCIpLHQoXCIuLi9jb25zdHJhaW50cy9Mb2NrQ29uc3RyYWludFwiKSx0KFwiLi4vY29uc3RyYWludHMvUmV2b2x1dGVDb25zdHJhaW50XCIpLHQoXCIuLi9jb25zdHJhaW50cy9QcmlzbWF0aWNDb25zdHJhaW50XCIpLHQoXCIuLi9jb25zdHJhaW50cy9HZWFyQ29uc3RyYWludFwiKSx0KFwiLi4vLi4vcGFja2FnZS5qc29uXCIpLHQoXCIuLi9jb2xsaXNpb24vQnJvYWRwaGFzZVwiKSx0KFwiLi4vY29sbGlzaW9uL0FBQkJcIikpLHk9dChcIi4uL2NvbGxpc2lvbi9TQVBCcm9hZHBoYXNlXCIpLG09dChcIi4uL2NvbGxpc2lvbi9OYXJyb3dwaGFzZVwiKSxnPXQoXCIuLi91dGlscy9VdGlsc1wiKSxBPXQoXCIuLi91dGlscy9PdmVybGFwS2VlcGVyXCIpLGI9dChcIi4vSXNsYW5kTWFuYWdlclwiKTt0KFwiLi4vb2JqZWN0cy9Sb3RhdGlvbmFsU3ByaW5nXCIpO2UuZXhwb3J0cz1pLGkucHJvdG90eXBlPW5ldyBPYmplY3QocC5wcm90b3R5cGUpLGkucHJvdG90eXBlLmNvbnN0cnVjdG9yPWksaS5OT19TTEVFUElORz0xLGkuQk9EWV9TTEVFUElORz0yLGkuSVNMQU5EX1NMRUVQSU5HPTQsaS5wcm90b3R5cGUuYWRkQ29uc3RyYWludD1mdW5jdGlvbih0KXt0aGlzLmNvbnN0cmFpbnRzLnB1c2godCl9LGkucHJvdG90eXBlLmFkZENvbnRhY3RNYXRlcmlhbD1mdW5jdGlvbih0KXt0aGlzLmNvbnRhY3RNYXRlcmlhbHMucHVzaCh0KX0saS5wcm90b3R5cGUucmVtb3ZlQ29udGFjdE1hdGVyaWFsPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuY29udGFjdE1hdGVyaWFscy5pbmRleE9mKHQpOy0xIT09ZSYmZy5zcGxpY2UodGhpcy5jb250YWN0TWF0ZXJpYWxzLGUsMSl9LGkucHJvdG90eXBlLmdldENvbnRhY3RNYXRlcmlhbD1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbz10aGlzLmNvbnRhY3RNYXRlcmlhbHMsaT0wLG49by5sZW5ndGg7aSE9PW47aSsrKXt2YXIgcz1vW2ldO2lmKHMubWF0ZXJpYWxBLmlkPT09dC5pZCYmcy5tYXRlcmlhbEIuaWQ9PT1lLmlkfHxzLm1hdGVyaWFsQS5pZD09PWUuaWQmJnMubWF0ZXJpYWxCLmlkPT09dC5pZClyZXR1cm4gc31yZXR1cm4hMX0saS5wcm90b3R5cGUucmVtb3ZlQ29uc3RyYWludD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmNvbnN0cmFpbnRzLmluZGV4T2YodCk7LTEhPT1lJiZnLnNwbGljZSh0aGlzLmNvbnN0cmFpbnRzLGUsMSl9O3MuY3JlYXRlKCkscy5jcmVhdGUoKSxzLmNyZWF0ZSgpLHMuY3JlYXRlKCkscy5jcmVhdGUoKSxzLmNyZWF0ZSgpO3ZhciBFPXMuY3JlYXRlKCksQj1zLmZyb21WYWx1ZXMoMCwwKSxxPXMuZnJvbVZhbHVlcygwLDApO3MuZnJvbVZhbHVlcygwLDApLHMuZnJvbVZhbHVlcygwLDApO2kucHJvdG90eXBlLnN0ZXA9ZnVuY3Rpb24odCxlLG8pe2lmKG89b3x8MTAsMD09PShlPWV8fDApKXRoaXMuaW50ZXJuYWxTdGVwKHQpLHRoaXMudGltZSs9dDtlbHNle3RoaXMuYWNjdW11bGF0b3IrPWU7Zm9yKHZhciBpPTA7dGhpcy5hY2N1bXVsYXRvcj49dCYmaTxvOyl0aGlzLmludGVybmFsU3RlcCh0KSx0aGlzLnRpbWUrPXQsdGhpcy5hY2N1bXVsYXRvci09dCxpKys7Zm9yKHZhciBuPXRoaXMuYWNjdW11bGF0b3IldC90LGE9MDthIT09dGhpcy5ib2RpZXMubGVuZ3RoO2ErKyl7dmFyIHI9dGhpcy5ib2RpZXNbYV07cy5sZXJwKHIuaW50ZXJwb2xhdGVkUG9zaXRpb24sci5wcmV2aW91c1Bvc2l0aW9uLHIucG9zaXRpb24sbiksci5pbnRlcnBvbGF0ZWRBbmdsZT1yLnByZXZpb3VzQW5nbGUrbiooci5hbmdsZS1yLnByZXZpb3VzQW5nbGUpfX19O3ZhciBQPVtdO2kucHJvdG90eXBlLmludGVybmFsU3RlcD1mdW5jdGlvbih0KXt0aGlzLnN0ZXBwaW5nPSEwO3ZhciBlPXRoaXMuc3ByaW5ncy5sZW5ndGgsbz10aGlzLnNwcmluZ3Msbj10aGlzLmJvZGllcyxhPXRoaXMuZ3Jhdml0eSxyPXRoaXMuc29sdmVyLGM9dGhpcy5ib2RpZXMubGVuZ3RoLGg9dGhpcy5icm9hZHBoYXNlLGw9dGhpcy5uYXJyb3dwaGFzZSxwPXRoaXMuY29uc3RyYWludHMsZD1FLGY9KHMuc2NhbGUscy5hZGQpLHY9KHMucm90YXRlLHRoaXMuaXNsYW5kTWFuYWdlcik7aWYodGhpcy5vdmVybGFwS2VlcGVyLnRpY2soKSx0aGlzLmxhc3RUaW1lU3RlcD10LHRoaXMudXNlV29ybGRHcmF2aXR5QXNGcmljdGlvbkdyYXZpdHkpe3ZhciB5PXMubGVuZ3RoKHRoaXMuZ3Jhdml0eSk7MD09PXkmJnRoaXMudXNlRnJpY3Rpb25HcmF2aXR5T25aZXJvR3Jhdml0eXx8KHRoaXMuZnJpY3Rpb25HcmF2aXR5PXkpfWlmKHRoaXMuYXBwbHlHcmF2aXR5KWZvcihxPTA7cSE9PWM7cSsrKXt2YXIgbT0oQT1uW3FdKS5mb3JjZTtBLnR5cGU9PT11LkRZTkFNSUMmJkEuc2xlZXBTdGF0ZSE9PXUuU0xFRVBJTkcmJihzLnNjYWxlKGQsYSxBLm1hc3MqQS5ncmF2aXR5U2NhbGUpLGYobSxtLGQpKX1pZih0aGlzLmFwcGx5U3ByaW5nRm9yY2VzKWZvcihxPTA7cSE9PWU7cSsrKW9bcV0uYXBwbHlGb3JjZSgpO2lmKHRoaXMuYXBwbHlEYW1waW5nKWZvcihxPTA7cSE9PWM7cSsrKXt2YXIgQT1uW3FdO0EudHlwZT09PXUuRFlOQU1JQyYmQS5hcHBseURhbXBpbmcodCl9Zm9yKHZhciBiPWguZ2V0Q29sbGlzaW9uUGFpcnModGhpcyksQj10aGlzLmRpc2FibGVkQm9keUNvbGxpc2lvblBhaXJzLHE9Qi5sZW5ndGgtMjtxPj0wO3EtPTIpZm9yKFM9Yi5sZW5ndGgtMjtTPj0wO1MtPTIpKEJbcV09PT1iW1NdJiZCW3ErMV09PT1iW1MrMV18fEJbcSsxXT09PWJbU10mJkJbcV09PT1iW1MrMV0pJiZiLnNwbGljZShTLDIpO1g9cC5sZW5ndGg7Zm9yKHE9MDtxIT09WDtxKyspe3ZhciB3PXBbcV07aWYoIXcuY29sbGlkZUNvbm5lY3RlZClmb3IodmFyIFM9Yi5sZW5ndGgtMjtTPj0wO1MtPTIpKHcuYm9keUE9PT1iW1NdJiZ3LmJvZHlCPT09YltTKzFdfHx3LmJvZHlCPT09YltTXSYmdy5ib2R5QT09PWJbUysxXSkmJmIuc3BsaWNlKFMsMil9dGhpcy5wb3N0QnJvYWRwaGFzZUV2ZW50LnBhaXJzPWIsdGhpcy5lbWl0KHRoaXMucG9zdEJyb2FkcGhhc2VFdmVudCksdGhpcy5wb3N0QnJvYWRwaGFzZUV2ZW50LnBhaXJzPW51bGwsbC5yZXNldCh0aGlzKTtmb3IodmFyIHE9MCxDPWIubGVuZ3RoO3EhPT1DO3ErPTIpZm9yKHZhciBMPWJbcV0seD1iW3ErMV0sRj0wLE09TC5zaGFwZXMubGVuZ3RoO0YhPT1NO0YrKylmb3IodmFyIEk9TC5zaGFwZXNbRl0sUj1JLnBvc2l0aW9uLFY9SS5hbmdsZSxUPTAsTj14LnNoYXBlcy5sZW5ndGg7VCE9PU47VCsrKXt2YXIgRz14LnNoYXBlc1tUXSxPPUcucG9zaXRpb24sVT1HLmFuZ2xlLGs9dGhpcy5kZWZhdWx0Q29udGFjdE1hdGVyaWFsO2lmKEkubWF0ZXJpYWwmJkcubWF0ZXJpYWwpe3ZhciBfPXRoaXMuZ2V0Q29udGFjdE1hdGVyaWFsKEkubWF0ZXJpYWwsRy5tYXRlcmlhbCk7XyYmKGs9Xyl9dGhpcy5ydW5OYXJyb3dwaGFzZShsLEwsSSxSLFYseCxHLE8sVSxrLHRoaXMuZnJpY3Rpb25HcmF2aXR5KX1mb3IocT0wO3EhPT1jO3ErKykoej1uW3FdKS5fd2FrZVVwQWZ0ZXJOYXJyb3dwaGFzZSYmKHoud2FrZVVwKCksei5fd2FrZVVwQWZ0ZXJOYXJyb3dwaGFzZT0hMSk7aWYodGhpcy5oYXMoXCJlbmRDb250YWN0XCIpKXt0aGlzLm92ZXJsYXBLZWVwZXIuZ2V0RW5kT3ZlcmxhcHMoUCk7Zm9yKHZhciBEPXRoaXMuZW5kQ29udGFjdEV2ZW50LFQ9UC5sZW5ndGg7VC0tOyl7dmFyIFc9UFtUXTtELnNoYXBlQT1XLnNoYXBlQSxELnNoYXBlQj1XLnNoYXBlQixELmJvZHlBPVcuYm9keUEsRC5ib2R5Qj1XLmJvZHlCLHRoaXMuZW1pdChEKX1QLmxlbmd0aD0wfXZhciBqPXRoaXMucHJlU29sdmVFdmVudDtqLmNvbnRhY3RFcXVhdGlvbnM9bC5jb250YWN0RXF1YXRpb25zLGouZnJpY3Rpb25FcXVhdGlvbnM9bC5mcmljdGlvbkVxdWF0aW9ucyx0aGlzLmVtaXQoaiksai5jb250YWN0RXF1YXRpb25zPWouZnJpY3Rpb25FcXVhdGlvbnM9bnVsbDt2YXIgWD1wLmxlbmd0aDtmb3IocT0wO3EhPT1YO3ErKylwW3FdLnVwZGF0ZSgpO2lmKGwuY29udGFjdEVxdWF0aW9ucy5sZW5ndGh8fGwuZnJpY3Rpb25FcXVhdGlvbnMubGVuZ3RofHxYKWlmKHRoaXMuaXNsYW5kU3BsaXQpe2Zvcih2LmVxdWF0aW9ucy5sZW5ndGg9MCxnLmFwcGVuZEFycmF5KHYuZXF1YXRpb25zLGwuY29udGFjdEVxdWF0aW9ucyksZy5hcHBlbmRBcnJheSh2LmVxdWF0aW9ucyxsLmZyaWN0aW9uRXF1YXRpb25zKSxxPTA7cSE9PVg7cSsrKWcuYXBwZW5kQXJyYXkodi5lcXVhdGlvbnMscFtxXS5lcXVhdGlvbnMpO3Yuc3BsaXQodGhpcyk7Zm9yKHE9MDtxIT09di5pc2xhbmRzLmxlbmd0aDtxKyspKEg9di5pc2xhbmRzW3FdKS5lcXVhdGlvbnMubGVuZ3RoJiZyLnNvbHZlSXNsYW5kKHQsSCl9ZWxzZXtmb3Ioci5hZGRFcXVhdGlvbnMobC5jb250YWN0RXF1YXRpb25zKSxyLmFkZEVxdWF0aW9ucyhsLmZyaWN0aW9uRXF1YXRpb25zKSxxPTA7cSE9PVg7cSsrKXIuYWRkRXF1YXRpb25zKHBbcV0uZXF1YXRpb25zKTt0aGlzLnNvbHZlQ29uc3RyYWludHMmJnIuc29sdmUodCx0aGlzKSxyLnJlbW92ZUFsbEVxdWF0aW9ucygpfWZvcihxPTA7cSE9PWM7cSsrKXt2YXIgej1uW3FdO3ouaW50ZWdyYXRlKHQpfWZvcihxPTA7cSE9PWM7cSsrKW5bcV0uc2V0WmVyb0ZvcmNlKCk7aWYodGhpcy5lbWl0SW1wYWN0RXZlbnQmJnRoaXMuaGFzKFwiaW1wYWN0XCIpKWZvcih2YXIgWT10aGlzLmltcGFjdEV2ZW50LHE9MDtxIT09bC5jb250YWN0RXF1YXRpb25zLmxlbmd0aDtxKyspe3ZhciBLPWwuY29udGFjdEVxdWF0aW9uc1txXTtLLmZpcnN0SW1wYWN0JiYoWS5ib2R5QT1LLmJvZHlBLFkuYm9keUI9Sy5ib2R5QixZLnNoYXBlQT1LLnNoYXBlQSxZLnNoYXBlQj1LLnNoYXBlQixZLmNvbnRhY3RFcXVhdGlvbj1LLHRoaXMuZW1pdChZKSl9aWYodGhpcy5zbGVlcE1vZGU9PT1pLkJPRFlfU0xFRVBJTkcpZm9yKHE9MDtxIT09YztxKyspbltxXS5zbGVlcFRpY2sodGhpcy50aW1lLCExLHQpO2Vsc2UgaWYodGhpcy5zbGVlcE1vZGU9PT1pLklTTEFORF9TTEVFUElORyYmdGhpcy5pc2xhbmRTcGxpdCl7Zm9yKHE9MDtxIT09YztxKyspbltxXS5zbGVlcFRpY2sodGhpcy50aW1lLCEwLHQpO2ZvcihxPTA7cTx0aGlzLmlzbGFuZE1hbmFnZXIuaXNsYW5kcy5sZW5ndGg7cSsrKXt2YXIgSD10aGlzLmlzbGFuZE1hbmFnZXIuaXNsYW5kc1txXTtILndhbnRzVG9TbGVlcCgpJiZILnNsZWVwKCl9fXRoaXMuc3RlcHBpbmc9ITE7Zm9yKHZhciBaPXRoaXMuYm9kaWVzVG9CZVJlbW92ZWQscT0wO3EhPT1aLmxlbmd0aDtxKyspdGhpcy5yZW1vdmVCb2R5KFpbcV0pO1oubGVuZ3RoPTAsdGhpcy5lbWl0KHRoaXMucG9zdFN0ZXBFdmVudCl9LGkucHJvdG90eXBlLnJ1bk5hcnJvd3BoYXNlPWZ1bmN0aW9uKHQsZSxvLGksbixhLHIsYyxoLGwscCl7aWYoMCE9KG8uY29sbGlzaW9uR3JvdXAmci5jb2xsaXNpb25NYXNrKSYmMCE9KHIuY29sbGlzaW9uR3JvdXAmby5jb2xsaXNpb25NYXNrKSl7cy5yb3RhdGUoQixpLGUuYW5nbGUpLHMucm90YXRlKHEsYyxhLmFuZ2xlKSxzLmFkZChCLEIsZS5wb3NpdGlvbikscy5hZGQocSxxLGEucG9zaXRpb24pO3ZhciBkPW4rZS5hbmdsZSxmPWgrYS5hbmdsZTt0LmVuYWJsZUZyaWN0aW9uPWwuZnJpY3Rpb24+MCx0LmZyaWN0aW9uQ29lZmZpY2llbnQ9bC5mcmljdGlvbjt2YXIgdjt2PWUudHlwZT09PXUuU1RBVElDfHxlLnR5cGU9PT11LktJTkVNQVRJQz9hLm1hc3M6YS50eXBlPT09dS5TVEFUSUN8fGEudHlwZT09PXUuS0lORU1BVElDP2UubWFzczplLm1hc3MqYS5tYXNzLyhlLm1hc3MrYS5tYXNzKSx0LnNsaXBGb3JjZT1sLmZyaWN0aW9uKnAqdix0LnJlc3RpdHV0aW9uPWwucmVzdGl0dXRpb24sdC5zdXJmYWNlVmVsb2NpdHk9bC5zdXJmYWNlVmVsb2NpdHksdC5mcmljdGlvblN0aWZmbmVzcz1sLmZyaWN0aW9uU3RpZmZuZXNzLHQuZnJpY3Rpb25SZWxheGF0aW9uPWwuZnJpY3Rpb25SZWxheGF0aW9uLHQuc3RpZmZuZXNzPWwuc3RpZmZuZXNzLHQucmVsYXhhdGlvbj1sLnJlbGF4YXRpb24sdC5jb250YWN0U2tpblNpemU9bC5jb250YWN0U2tpblNpemUsdC5lbmFibGVkRXF1YXRpb25zPWUuY29sbGlzaW9uUmVzcG9uc2UmJmEuY29sbGlzaW9uUmVzcG9uc2UmJm8uY29sbGlzaW9uUmVzcG9uc2UmJnIuY29sbGlzaW9uUmVzcG9uc2U7dmFyIHk9dFtvLnR5cGV8ci50eXBlXSxtPTA7aWYoeSl7dmFyIGc9by5zZW5zb3J8fHIuc2Vuc29yLEE9dC5mcmljdGlvbkVxdWF0aW9ucy5sZW5ndGg7bT1vLnR5cGU8ci50eXBlP3kuY2FsbCh0LGUsbyxCLGQsYSxyLHEsZixnKTp5LmNhbGwodCxhLHIscSxmLGUsbyxCLGQsZyk7dmFyIGI9dC5mcmljdGlvbkVxdWF0aW9ucy5sZW5ndGgtQTtpZihtKXtpZihlLmFsbG93U2xlZXAmJmUudHlwZT09PXUuRFlOQU1JQyYmZS5zbGVlcFN0YXRlPT09dS5TTEVFUElORyYmYS5zbGVlcFN0YXRlPT09dS5BV0FLRSYmYS50eXBlIT09dS5TVEFUSUMmJnMuc3F1YXJlZExlbmd0aChhLnZlbG9jaXR5KStNYXRoLnBvdyhhLmFuZ3VsYXJWZWxvY2l0eSwyKT49MipNYXRoLnBvdyhhLnNsZWVwU3BlZWRMaW1pdCwyKSYmKGUuX3dha2VVcEFmdGVyTmFycm93cGhhc2U9ITApLGEuYWxsb3dTbGVlcCYmYS50eXBlPT09dS5EWU5BTUlDJiZhLnNsZWVwU3RhdGU9PT11LlNMRUVQSU5HJiZlLnNsZWVwU3RhdGU9PT11LkFXQUtFJiZlLnR5cGUhPT11LlNUQVRJQyYmcy5zcXVhcmVkTGVuZ3RoKGUudmVsb2NpdHkpK01hdGgucG93KGUuYW5ndWxhclZlbG9jaXR5LDIpPj0yKk1hdGgucG93KGUuc2xlZXBTcGVlZExpbWl0LDIpJiYoYS5fd2FrZVVwQWZ0ZXJOYXJyb3dwaGFzZT0hMCksdGhpcy5vdmVybGFwS2VlcGVyLnNldE92ZXJsYXBwaW5nKGUsbyxhLHIpLHRoaXMuaGFzKFwiYmVnaW5Db250YWN0XCIpJiZ0aGlzLm92ZXJsYXBLZWVwZXIuaXNOZXdPdmVybGFwKG8scikpe3ZhciBFPXRoaXMuYmVnaW5Db250YWN0RXZlbnQ7aWYoRS5zaGFwZUE9byxFLnNoYXBlQj1yLEUuYm9keUE9ZSxFLmJvZHlCPWEsRS5jb250YWN0RXF1YXRpb25zLmxlbmd0aD0wLFwibnVtYmVyXCI9PXR5cGVvZiBtKWZvcihQPXQuY29udGFjdEVxdWF0aW9ucy5sZW5ndGgtbTtQPHQuY29udGFjdEVxdWF0aW9ucy5sZW5ndGg7UCsrKUUuY29udGFjdEVxdWF0aW9ucy5wdXNoKHQuY29udGFjdEVxdWF0aW9uc1tQXSk7dGhpcy5lbWl0KEUpfWlmKFwibnVtYmVyXCI9PXR5cGVvZiBtJiZiPjEpZm9yKHZhciBQPXQuZnJpY3Rpb25FcXVhdGlvbnMubGVuZ3RoLWI7UDx0LmZyaWN0aW9uRXF1YXRpb25zLmxlbmd0aDtQKyspe3ZhciB3PXQuZnJpY3Rpb25FcXVhdGlvbnNbUF07dy5zZXRTbGlwRm9yY2Uody5nZXRTbGlwRm9yY2UoKS9iKX19fX19LGkucHJvdG90eXBlLmFkZFNwcmluZz1mdW5jdGlvbih0KXt0aGlzLnNwcmluZ3MucHVzaCh0KTt2YXIgZT10aGlzLmFkZFNwcmluZ0V2ZW50O2Uuc3ByaW5nPXQsdGhpcy5lbWl0KGUpLGUuc3ByaW5nPW51bGx9LGkucHJvdG90eXBlLnJlbW92ZVNwcmluZz1mdW5jdGlvbih0KXt2YXIgZT10aGlzLnNwcmluZ3MuaW5kZXhPZih0KTstMSE9PWUmJmcuc3BsaWNlKHRoaXMuc3ByaW5ncyxlLDEpfSxpLnByb3RvdHlwZS5hZGRCb2R5PWZ1bmN0aW9uKHQpe2lmKC0xPT09dGhpcy5ib2RpZXMuaW5kZXhPZih0KSl7dGhpcy5ib2RpZXMucHVzaCh0KSx0LndvcmxkPXRoaXM7dmFyIGU9dGhpcy5hZGRCb2R5RXZlbnQ7ZS5ib2R5PXQsdGhpcy5lbWl0KGUpLGUuYm9keT1udWxsfX0saS5wcm90b3R5cGUucmVtb3ZlQm9keT1mdW5jdGlvbih0KXtpZih0aGlzLnN0ZXBwaW5nKXRoaXMuYm9kaWVzVG9CZVJlbW92ZWQucHVzaCh0KTtlbHNle3Qud29ybGQ9bnVsbDt2YXIgZT10aGlzLmJvZGllcy5pbmRleE9mKHQpOy0xIT09ZSYmKGcuc3BsaWNlKHRoaXMuYm9kaWVzLGUsMSksdGhpcy5yZW1vdmVCb2R5RXZlbnQuYm9keT10LHQucmVzZXRDb25zdHJhaW50VmVsb2NpdHkoKSx0aGlzLmVtaXQodGhpcy5yZW1vdmVCb2R5RXZlbnQpLHRoaXMucmVtb3ZlQm9keUV2ZW50LmJvZHk9bnVsbCl9fSxpLnByb3RvdHlwZS5nZXRCb2R5QnlJZD1mdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy5ib2RpZXMsbz0wO288ZS5sZW5ndGg7bysrKXt2YXIgaT1lW29dO2lmKGkuaWQ9PT10KXJldHVybiBpfXJldHVybiExfSxpLnByb3RvdHlwZS5kaXNhYmxlQm9keUNvbGxpc2lvbj1mdW5jdGlvbih0LGUpe3RoaXMuZGlzYWJsZWRCb2R5Q29sbGlzaW9uUGFpcnMucHVzaCh0LGUpfSxpLnByb3RvdHlwZS5lbmFibGVCb2R5Q29sbGlzaW9uPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBvPXRoaXMuZGlzYWJsZWRCb2R5Q29sbGlzaW9uUGFpcnMsaT0wO2k8by5sZW5ndGg7aSs9MilpZihvW2ldPT09dCYmb1tpKzFdPT09ZXx8b1tpKzFdPT09dCYmb1tpXT09PWUpcmV0dXJuIHZvaWQgby5zcGxpY2UoaSwyKX0saS5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXt0aGlzLnRpbWU9MCx0aGlzLnNvbHZlciYmdGhpcy5zb2x2ZXIuZXF1YXRpb25zLmxlbmd0aCYmdGhpcy5zb2x2ZXIucmVtb3ZlQWxsRXF1YXRpb25zKCk7Zm9yKHZhciB0PXRoaXMuY29uc3RyYWludHMsZT10Lmxlbmd0aC0xO2U+PTA7ZS0tKXRoaXMucmVtb3ZlQ29uc3RyYWludCh0W2VdKTtmb3IodmFyIG89dGhpcy5ib2RpZXMsZT1vLmxlbmd0aC0xO2U+PTA7ZS0tKXRoaXMucmVtb3ZlQm9keShvW2VdKTtmb3IodmFyIG49dGhpcy5zcHJpbmdzLGU9bi5sZW5ndGgtMTtlPj0wO2UtLSl0aGlzLnJlbW92ZVNwcmluZyhuW2VdKTtmb3IodmFyIHM9dGhpcy5jb250YWN0TWF0ZXJpYWxzLGU9cy5sZW5ndGgtMTtlPj0wO2UtLSl0aGlzLnJlbW92ZUNvbnRhY3RNYXRlcmlhbChzW2VdKTtpLmFwcGx5KHRoaXMpfTt2YXIgdz1zLmNyZWF0ZSgpLFM9KHMuZnJvbVZhbHVlcygwLDApLHMuZnJvbVZhbHVlcygwLDApKTtpLnByb3RvdHlwZS5oaXRUZXN0PWZ1bmN0aW9uKHQsZSxvKXtvPW98fDA7dmFyIGk9bmV3IHUoe3Bvc2l0aW9uOnR9KSxuPW5ldyBsLHA9dCxkPXcsZj1TO2kuYWRkU2hhcGUobik7Zm9yKHZhciB2PXRoaXMubmFycm93cGhhc2UseT1bXSxtPTAsZz1lLmxlbmd0aDttIT09ZzttKyspZm9yKHZhciBBPWVbbV0sYj0wLEU9QS5zaGFwZXMubGVuZ3RoO2IhPT1FO2IrKyl7dmFyIEI9QS5zaGFwZXNbYl07cy5yb3RhdGUoZCxCLnBvc2l0aW9uLEEuYW5nbGUpLHMuYWRkKGQsZCxBLnBvc2l0aW9uKTt2YXIgcT1CLmFuZ2xlK0EuYW5nbGU7KEIgaW5zdGFuY2VvZiBhJiZ2LmNpcmNsZVBhcnRpY2xlKEEsQixkLHEsaSxuLHAsMCwhMCl8fEIgaW5zdGFuY2VvZiByJiZ2LnBhcnRpY2xlQ29udmV4KGksbixwLDAsQSxCLGQscSwhMCl8fEIgaW5zdGFuY2VvZiBjJiZ2LnBhcnRpY2xlUGxhbmUoaSxuLHAsMCxBLEIsZCxxLCEwKXx8QiBpbnN0YW5jZW9mIGgmJnYucGFydGljbGVDYXBzdWxlKGksbixwLDAsQSxCLGQscSwhMCl8fEIgaW5zdGFuY2VvZiBsJiZzLnNxdWFyZWRMZW5ndGgocy5zdWIoZixkLHQpKTxvKm8pJiZ5LnB1c2goQSl9cmV0dXJuIHl9LGkucHJvdG90eXBlLnNldEdsb2JhbFN0aWZmbmVzcz1mdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy5jb25zdHJhaW50cyxvPTA7byE9PWUubGVuZ3RoO28rKylmb3IodmFyIGk9ZVtvXSxuPTA7biE9PWkuZXF1YXRpb25zLmxlbmd0aDtuKyspe3ZhciBzPWkuZXF1YXRpb25zW25dO3Muc3RpZmZuZXNzPXQscy5uZWVkc1VwZGF0ZT0hMH1mb3IodmFyIGE9dGhpcy5jb250YWN0TWF0ZXJpYWxzLG89MDtvIT09YS5sZW5ndGg7bysrKShpPWFbb10pLnN0aWZmbmVzcz1pLmZyaWN0aW9uU3RpZmZuZXNzPXQ7KGk9dGhpcy5kZWZhdWx0Q29udGFjdE1hdGVyaWFsKS5zdGlmZm5lc3M9aS5mcmljdGlvblN0aWZmbmVzcz10fSxpLnByb3RvdHlwZS5zZXRHbG9iYWxSZWxheGF0aW9uPWZ1bmN0aW9uKHQpe2ZvcihuPTA7biE9PXRoaXMuY29uc3RyYWludHMubGVuZ3RoO24rKylmb3IodmFyIGU9dGhpcy5jb25zdHJhaW50c1tuXSxvPTA7byE9PWUuZXF1YXRpb25zLmxlbmd0aDtvKyspe3ZhciBpPWUuZXF1YXRpb25zW29dO2kucmVsYXhhdGlvbj10LGkubmVlZHNVcGRhdGU9ITB9Zm9yKHZhciBuPTA7biE9PXRoaXMuY29udGFjdE1hdGVyaWFscy5sZW5ndGg7bisrKShlPXRoaXMuY29udGFjdE1hdGVyaWFsc1tuXSkucmVsYXhhdGlvbj1lLmZyaWN0aW9uUmVsYXhhdGlvbj10OyhlPXRoaXMuZGVmYXVsdENvbnRhY3RNYXRlcmlhbCkucmVsYXhhdGlvbj1lLmZyaWN0aW9uUmVsYXhhdGlvbj10fTt2YXIgQz1uZXcgdixMPVtdO2kucHJvdG90eXBlLnJheWNhc3Q9ZnVuY3Rpb24odCxlKXtyZXR1cm4gZS5nZXRBQUJCKEMpLHRoaXMuYnJvYWRwaGFzZS5hYWJiUXVlcnkodGhpcyxDLEwpLGUuaW50ZXJzZWN0Qm9kaWVzKHQsTCksTC5sZW5ndGg9MCx0Lmhhc0hpdCgpfX0se1wiLi4vLi4vcGFja2FnZS5qc29uXCI6NixcIi4uL2NvbGxpc2lvbi9BQUJCXCI6NyxcIi4uL2NvbGxpc2lvbi9Ccm9hZHBoYXNlXCI6OCxcIi4uL2NvbGxpc2lvbi9OYXJyb3dwaGFzZVwiOjEwLFwiLi4vY29sbGlzaW9uL1JheVwiOjExLFwiLi4vY29sbGlzaW9uL1NBUEJyb2FkcGhhc2VcIjoxMyxcIi4uL2NvbnN0cmFpbnRzL0NvbnN0cmFpbnRcIjoxNCxcIi4uL2NvbnN0cmFpbnRzL0Rpc3RhbmNlQ29uc3RyYWludFwiOjE1LFwiLi4vY29uc3RyYWludHMvR2VhckNvbnN0cmFpbnRcIjoxNixcIi4uL2NvbnN0cmFpbnRzL0xvY2tDb25zdHJhaW50XCI6MTcsXCIuLi9jb25zdHJhaW50cy9QcmlzbWF0aWNDb25zdHJhaW50XCI6MTgsXCIuLi9jb25zdHJhaW50cy9SZXZvbHV0ZUNvbnN0cmFpbnRcIjoxOSxcIi4uL2V2ZW50cy9FdmVudEVtaXR0ZXJcIjoyNixcIi4uL21hdGVyaWFsL0NvbnRhY3RNYXRlcmlhbFwiOjI3LFwiLi4vbWF0ZXJpYWwvTWF0ZXJpYWxcIjoyOCxcIi4uL21hdGgvdmVjMlwiOjMwLFwiLi4vb2JqZWN0cy9Cb2R5XCI6MzEsXCIuLi9vYmplY3RzL0xpbmVhclNwcmluZ1wiOjMyLFwiLi4vb2JqZWN0cy9Sb3RhdGlvbmFsU3ByaW5nXCI6MzMsXCIuLi9zaGFwZXMvQ2Fwc3VsZVwiOjM4LFwiLi4vc2hhcGVzL0NpcmNsZVwiOjM5LFwiLi4vc2hhcGVzL0NvbnZleFwiOjQwLFwiLi4vc2hhcGVzL0xpbmVcIjo0MixcIi4uL3NoYXBlcy9QYXJ0aWNsZVwiOjQzLFwiLi4vc2hhcGVzL1BsYW5lXCI6NDQsXCIuLi9zaGFwZXMvU2hhcGVcIjo0NSxcIi4uL3NvbHZlci9HU1NvbHZlclwiOjQ2LFwiLi4vc29sdmVyL1NvbHZlclwiOjQ3LFwiLi4vdXRpbHMvT3ZlcmxhcEtlZXBlclwiOjUyLFwiLi4vdXRpbHMvVXRpbHNcIjo1NyxcIi4vSXNsYW5kTWFuYWdlclwiOjU5fV19LHt9LFszNl0pKDM2KX0pO1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1wMi5tYXBcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9waGFzZXItY2UvYnVpbGQvY3VzdG9tL3AyLm1pbi5qc1xuLy8gbW9kdWxlIGlkID0gMTBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLyogUGhhc2VyIHYyLjkuNCAtIGh0dHA6Ly9waGFzZXIuaW8gLSBAcGhvdG9uc3Rvcm0gLSAoYykgMjAxNiBQaG90b24gU3Rvcm0gTHRkLiAqL1xyXG5cclxuKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe3RoaXMuX3NjYWxlRmFjdG9yPXQsdGhpcy5fZGVsdGFNb2RlPWUsdGhpcy5vcmlnaW5hbEV2ZW50PW51bGx9dmFyIGU9dGhpcyxpPWl8fHtWRVJTSU9OOlwiMi45LjRcIixHQU1FUzpbXSxBVVRPOjAsQ0FOVkFTOjEsV0VCR0w6MixIRUFETEVTUzozLFdFQkdMX01VTFRJOjQsTk9ORTowLExFRlQ6MSxSSUdIVDoyLFVQOjMsRE9XTjo0LFNQUklURTowLEJVVFRPTjoxLElNQUdFOjIsR1JBUEhJQ1M6MyxURVhUOjQsVElMRVNQUklURTo1LEJJVE1BUFRFWFQ6NixHUk9VUDo3LFJFTkRFUlRFWFRVUkU6OCxUSUxFTUFQOjksVElMRU1BUExBWUVSOjEwLEVNSVRURVI6MTEsUE9MWUdPTjoxMixCSVRNQVBEQVRBOjEzLENBTlZBU19GSUxURVI6MTQsV0VCR0xfRklMVEVSOjE1LEVMTElQU0U6MTYsU1BSSVRFQkFUQ0g6MTcsUkVUUk9GT05UOjE4LFBPSU5URVI6MTksUk9QRToyMCxDSVJDTEU6MjEsUkVDVEFOR0xFOjIyLExJTkU6MjMsTUFUUklYOjI0LFBPSU5UOjI1LFJPVU5ERURSRUNUQU5HTEU6MjYsQ1JFQVRVUkU6MjcsVklERU86MjgsUEVORElOR19BVExBUzotMSxIT1JJWk9OVEFMOjAsVkVSVElDQUw6MSxMQU5EU0NBUEU6MCxQT1JUUkFJVDoxLEFOR0xFX1VQOjI3MCxBTkdMRV9ET1dOOjkwLEFOR0xFX0xFRlQ6MTgwLEFOR0xFX1JJR0hUOjAsQU5HTEVfTk9SVEhfRUFTVDozMTUsQU5HTEVfTk9SVEhfV0VTVDoyMjUsQU5HTEVfU09VVEhfRUFTVDo0NSxBTkdMRV9TT1VUSF9XRVNUOjEzNSxUT1BfTEVGVDowLFRPUF9DRU5URVI6MSxUT1BfUklHSFQ6MixMRUZUX1RPUDozLExFRlRfQ0VOVEVSOjQsTEVGVF9CT1RUT006NSxDRU5URVI6NixSSUdIVF9UT1A6NyxSSUdIVF9DRU5URVI6OCxSSUdIVF9CT1RUT006OSxCT1RUT01fTEVGVDoxMCxCT1RUT01fQ0VOVEVSOjExLEJPVFRPTV9SSUdIVDoxMixibGVuZE1vZGVzOntOT1JNQUw6MCxBREQ6MSxNVUxUSVBMWToyLFNDUkVFTjozLE9WRVJMQVk6NCxEQVJLRU46NSxMSUdIVEVOOjYsQ09MT1JfRE9ER0U6NyxDT0xPUl9CVVJOOjgsSEFSRF9MSUdIVDo5LFNPRlRfTElHSFQ6MTAsRElGRkVSRU5DRToxMSxFWENMVVNJT046MTIsSFVFOjEzLFNBVFVSQVRJT046MTQsQ09MT1I6MTUsTFVNSU5PU0lUWToxNn0sc2NhbGVNb2Rlczp7REVGQVVMVDowLExJTkVBUjowLE5FQVJFU1Q6MX0sUElYSTpQSVhJfHx7fSxfVUlEOjB9O2lmKE1hdGgudHJ1bmN8fChNYXRoLnRydW5jPWZ1bmN0aW9uKHQpe3JldHVybiB0PDA/TWF0aC5jZWlsKHQpOk1hdGguZmxvb3IodCl9KSxGdW5jdGlvbi5wcm90b3R5cGUuYmluZHx8KEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kPWZ1bmN0aW9uKCl7dmFyIHQ9QXJyYXkucHJvdG90eXBlLnNsaWNlO3JldHVybiBmdW5jdGlvbihlKXtmdW5jdGlvbiBpKCl7dmFyIG89bi5jb25jYXQodC5jYWxsKGFyZ3VtZW50cykpO3MuYXBwbHkodGhpcyBpbnN0YW5jZW9mIGk/dGhpczplLG8pfXZhciBzPXRoaXMsbj10LmNhbGwoYXJndW1lbnRzLDEpO2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHMpdGhyb3cgbmV3IFR5cGVFcnJvcjtyZXR1cm4gaS5wcm90b3R5cGU9ZnVuY3Rpb24gdChlKXtpZihlJiYodC5wcm90b3R5cGU9ZSksISh0aGlzIGluc3RhbmNlb2YgdCkpcmV0dXJuIG5ldyB0fShzLnByb3RvdHlwZSksaX19KCkpLEFycmF5LmlzQXJyYXl8fChBcnJheS5pc0FycmF5PWZ1bmN0aW9uKHQpe3JldHVyblwiW29iamVjdCBBcnJheV1cIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0KX0pLEFycmF5LnByb3RvdHlwZS5mb3JFYWNofHwoQXJyYXkucHJvdG90eXBlLmZvckVhY2g9ZnVuY3Rpb24odCl7XCJ1c2Ugc3RyaWN0XCI7aWYodm9pZCAwPT09dGhpc3x8bnVsbD09PXRoaXMpdGhyb3cgbmV3IFR5cGVFcnJvcjt2YXIgZT1PYmplY3QodGhpcyksaT1lLmxlbmd0aD4+PjA7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCl0aHJvdyBuZXcgVHlwZUVycm9yO2Zvcih2YXIgcz1hcmd1bWVudHMubGVuZ3RoPj0yP2FyZ3VtZW50c1sxXTp2b2lkIDAsbj0wO248aTtuKyspbiBpbiBlJiZ0LmNhbGwocyxlW25dLG4sZSl9KSxcImZ1bmN0aW9uXCIhPXR5cGVvZiB3aW5kb3cuVWludDMyQXJyYXkmJlwib2JqZWN0XCIhPXR5cGVvZiB3aW5kb3cuVWludDMyQXJyYXkpe3ZhciBzPWZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBBcnJheTt3aW5kb3dbdF09ZnVuY3Rpb24odCl7aWYoXCJudW1iZXJcIj09dHlwZW9mIHQpe0FycmF5LmNhbGwodGhpcyx0KSx0aGlzLmxlbmd0aD10O2ZvcihlPTA7ZTx0aGlzLmxlbmd0aDtlKyspdGhpc1tlXT0wfWVsc2V7QXJyYXkuY2FsbCh0aGlzLHQubGVuZ3RoKSx0aGlzLmxlbmd0aD10Lmxlbmd0aDtmb3IodmFyIGU9MDtlPHRoaXMubGVuZ3RoO2UrKyl0aGlzW2VdPXRbZV19fSx3aW5kb3dbdF0ucHJvdG90eXBlPWUsd2luZG93W3RdLmNvbnN0cnVjdG9yPXdpbmRvd1t0XX07cyhcIkZsb2F0MzJBcnJheVwiKSxzKFwiVWludDMyQXJyYXlcIikscyhcIlVpbnQxNkFycmF5XCIpLHMoXCJJbnQxNkFycmF5XCIpLHMoXCJBcnJheUJ1ZmZlclwiKX13aW5kb3cuY29uc29sZXx8KHdpbmRvdy5jb25zb2xlPXt9LHdpbmRvdy5jb25zb2xlLmxvZz13aW5kb3cuY29uc29sZS5hc3NlcnQ9ZnVuY3Rpb24oKXt9LHdpbmRvdy5jb25zb2xlLndhcm49d2luZG93LmNvbnNvbGUuYXNzZXJ0PWZ1bmN0aW9uKCl7fSksT2JqZWN0LmFzc2lnbnx8KE9iamVjdC5hc3NpZ249ZnVuY3Rpb24odCxlKXtcInVzZSBzdHJpY3RcIjtpZihudWxsPT10KXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY29udmVydCB1bmRlZmluZWQgb3IgbnVsbCB0byBvYmplY3RcIik7Zm9yKHZhciBpPU9iamVjdCh0KSxzPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksbj0xO248YXJndW1lbnRzLmxlbmd0aDtuKyspe3ZhciBvPWFyZ3VtZW50c1tuXTtpZihudWxsIT1vKWZvcih2YXIgciBpbiBvKXMuY2FsbChvLHIpJiYoaVtyXT1vW3JdKX1yZXR1cm4gaX0pLGkuVXRpbHM9e3JldmVyc2VTdHJpbmc6ZnVuY3Rpb24odCl7cmV0dXJuIHQuc3BsaXQoXCJcIikucmV2ZXJzZSgpLmpvaW4oXCJcIil9LGdldFByb3BlcnR5OmZ1bmN0aW9uKHQsZSl7dmFyIGk9ZS5zcGxpdChcIi5cIik7c3dpdGNoKGkubGVuZ3RoKXtjYXNlIDE6cmV0dXJuIHRbZV07Y2FzZSAyOnJldHVybiB0W2lbMF1dW2lbMV1dO2Nhc2UgMzpyZXR1cm4gdFtpWzBdXVtpWzFdXVtpWzJdXTtjYXNlIDQ6cmV0dXJuIHRbaVswXV1baVsxXV1baVsyXV1baVszXV07ZGVmYXVsdDpyZXR1cm4gdGhpcy5fZ2V0UHJvcGVydHkodCxlKX19LHNldFByb3BlcnRpZXM6ZnVuY3Rpb24odCxlKXtmb3IodmFyIGkgaW4gZSl0aGlzLnNldFByb3BlcnR5KHQsaSxlW2ldKTtyZXR1cm4gdH0sc2V0UHJvcGVydHk6ZnVuY3Rpb24odCxlLGkpe3ZhciBzPWUuc3BsaXQoXCIuXCIpO3N3aXRjaChzLmxlbmd0aCl7Y2FzZSAxOnRbZV09aTticmVhaztjYXNlIDI6dFtzWzBdXVtzWzFdXT1pO2JyZWFrO2Nhc2UgMzp0W3NbMF1dW3NbMV1dW3NbMl1dPWk7YnJlYWs7Y2FzZSA0OnRbc1swXV1bc1sxXV1bc1syXV1bc1szXV09aTticmVhaztkZWZhdWx0OnRoaXMuX3NldFByb3BlcnR5KHQsZSxpKX19LF9nZXRQcm9wZXJ0eTpmdW5jdGlvbih0LGUpe2Zvcih2YXIgaT1lLnNwbGl0KFwiLlwiKSxzPWkubGVuZ3RoLG49MCxvPXQ7bjxzOyl7dmFyIHI9aVtuXTtpZihudWxsPT1vKXJldHVybjtvPW9bcl0sbisrfXJldHVybiBvfSxfc2V0UHJvcGVydHk6ZnVuY3Rpb24odCxlLGkpe3ZhciBzPWUuc3BsaXQoXCIuXCIpLG49cy5sZW5ndGgsbz0wLHI9dCxhPXNbMF07aWYoMT09PW4pdFtlXT1pO2Vsc2V7Zm9yKDtvPG4tMTspcj1yW2FdLGE9c1srK29dO3JbYV09aX1yZXR1cm4gdH0sY2hhbmNlUm9sbDpmdW5jdGlvbih0KXtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9NTApLHQ+MCYmMTAwKk1hdGgucmFuZG9tKCk8PXR9LHJhbmRvbUNob2ljZTpmdW5jdGlvbih0LGUpe3JldHVybiBNYXRoLnJhbmRvbSgpPC41P3Q6ZX0scGFyc2VEaW1lbnNpb246ZnVuY3Rpb24odCxlKXt2YXIgaT0wLHM9MDtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgdD9cIiVcIj09PXQuc3Vic3RyKC0xKT8oaT1wYXJzZUludCh0LDEwKS8xMDAscz0wPT09ZT93aW5kb3cuaW5uZXJXaWR0aCppOndpbmRvdy5pbm5lckhlaWdodCppKTpzPXBhcnNlSW50KHQsMTApOnM9dCxzfSxwYWQ6ZnVuY3Rpb24odCxlLGkscyl7aWYodm9pZCAwPT09ZSl2YXIgZT0wO2lmKHZvaWQgMD09PWkpdmFyIGk9XCIgXCI7aWYodm9pZCAwPT09cyl2YXIgcz0zO3ZhciBuPTA7aWYoZSsxPj0odD10LnRvU3RyaW5nKCkpLmxlbmd0aClzd2l0Y2gocyl7Y2FzZSAxOnQ9bmV3IEFycmF5KGUrMS10Lmxlbmd0aCkuam9pbihpKSt0O2JyZWFrO2Nhc2UgMzp2YXIgbz1NYXRoLmNlaWwoKG49ZS10Lmxlbmd0aCkvMikscj1uLW87dD1uZXcgQXJyYXkocisxKS5qb2luKGkpK3QrbmV3IEFycmF5KG8rMSkuam9pbihpKTticmVhaztkZWZhdWx0OnQrPW5ldyBBcnJheShlKzEtdC5sZW5ndGgpLmpvaW4oaSl9cmV0dXJuIHR9LGlzUGxhaW5PYmplY3Q6ZnVuY3Rpb24odCl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIHR8fHQubm9kZVR5cGV8fHQ9PT10LndpbmRvdylyZXR1cm4hMTt0cnl7aWYodC5jb25zdHJ1Y3RvciYmIXt9Lmhhc093blByb3BlcnR5LmNhbGwodC5jb25zdHJ1Y3Rvci5wcm90b3R5cGUsXCJpc1Byb3RvdHlwZU9mXCIpKXJldHVybiExfWNhdGNoKHQpe3JldHVybiExfXJldHVybiEwfSxleHRlbmQ6ZnVuY3Rpb24oKXt2YXIgdCxlLHMsbixvLHIsYT1hcmd1bWVudHNbMF18fHt9LGg9MSxsPWFyZ3VtZW50cy5sZW5ndGgsYz0hMTtmb3IoXCJib29sZWFuXCI9PXR5cGVvZiBhJiYoYz1hLGE9YXJndW1lbnRzWzFdfHx7fSxoPTIpLGw9PT1oJiYoYT10aGlzLC0taCk7aDxsO2grKylpZihudWxsIT0odD1hcmd1bWVudHNbaF0pKWZvcihlIGluIHQpcz1hW2VdLGEhPT0obj10W2VdKSYmKGMmJm4mJihpLlV0aWxzLmlzUGxhaW5PYmplY3Qobil8fChvPUFycmF5LmlzQXJyYXkobikpKT8obz8obz0hMSxyPXMmJkFycmF5LmlzQXJyYXkocyk/czpbXSk6cj1zJiZpLlV0aWxzLmlzUGxhaW5PYmplY3Qocyk/czp7fSxhW2VdPWkuVXRpbHMuZXh0ZW5kKGMscixuKSk6dm9pZCAwIT09biYmKGFbZV09bikpO3JldHVybiBhfSxtaXhpblByb3RvdHlwZTpmdW5jdGlvbih0LGUsaSl7dm9pZCAwPT09aSYmKGk9ITEpO2Zvcih2YXIgcz1PYmplY3Qua2V5cyhlKSxuPTA7bjxzLmxlbmd0aDtuKyspe3ZhciBvPXNbbl0scj1lW29dOyFpJiZvIGluIHR8fCghcnx8XCJmdW5jdGlvblwiIT10eXBlb2Ygci5nZXQmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIHIuc2V0P3Rbb109cjpcImZ1bmN0aW9uXCI9PXR5cGVvZiByLmNsb25lP3Rbb109ci5jbG9uZSgpOk9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LG8scikpfX0sbWl4aW46ZnVuY3Rpb24odCxlKXtpZighdHx8XCJvYmplY3RcIiE9dHlwZW9mIHQpcmV0dXJuIGU7Zm9yKHZhciBzIGluIHQpe3ZhciBuPXRbc107aWYoIW4uY2hpbGROb2RlcyYmIW4uY2xvbmVOb2RlKXt2YXIgbz10eXBlb2YgdFtzXTt0W3NdJiZcIm9iamVjdFwiPT09bz90eXBlb2YgZVtzXT09PW8/ZVtzXT1pLlV0aWxzLm1peGluKHRbc10sZVtzXSk6ZVtzXT1pLlV0aWxzLm1peGluKHRbc10sbmV3IG4uY29uc3RydWN0b3IpOmVbc109dFtzXX19cmV0dXJuIGV9fSxpLkNpcmNsZT1mdW5jdGlvbih0LGUscyl7dD10fHwwLGU9ZXx8MCxzPXN8fDAsdGhpcy54PXQsdGhpcy55PWUsdGhpcy5fZGlhbWV0ZXI9cyx0aGlzLl9yYWRpdXM9MCxzPjAmJih0aGlzLl9yYWRpdXM9LjUqcyksdGhpcy50eXBlPWkuQ0lSQ0xFfSxpLkNpcmNsZS5wcm90b3R5cGU9e2NpcmN1bWZlcmVuY2U6ZnVuY3Rpb24oKXtyZXR1cm4gTWF0aC5QSSp0aGlzLl9yYWRpdXMqMn0scmFuZG9tOmZ1bmN0aW9uKHQpe3ZvaWQgMD09PXQmJih0PW5ldyBpLlBvaW50KTt2YXIgZT0yKk1hdGguUEkqTWF0aC5yYW5kb20oKSxzPU1hdGgucmFuZG9tKCkrTWF0aC5yYW5kb20oKSxuPXM+MT8yLXM6cyxvPW4qTWF0aC5jb3MoZSkscj1uKk1hdGguc2luKGUpO3JldHVybiB0Lng9dGhpcy54K28qdGhpcy5yYWRpdXMsdC55PXRoaXMueStyKnRoaXMucmFkaXVzLHR9LGdldEJvdW5kczpmdW5jdGlvbigpe3JldHVybiBuZXcgaS5SZWN0YW5nbGUodGhpcy54LXRoaXMucmFkaXVzLHRoaXMueS10aGlzLnJhZGl1cyx0aGlzLmRpYW1ldGVyLHRoaXMuZGlhbWV0ZXIpfSxzZXRUbzpmdW5jdGlvbih0LGUsaSl7cmV0dXJuIHRoaXMueD10LHRoaXMueT1lLHRoaXMuX2RpYW1ldGVyPWksdGhpcy5fcmFkaXVzPS41KmksdGhpc30sY29weUZyb206ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuc2V0VG8odC54LHQueSx0LmRpYW1ldGVyKX0sY29weVRvOmZ1bmN0aW9uKHQpe3JldHVybiB0Lng9dGhpcy54LHQueT10aGlzLnksdC5kaWFtZXRlcj10aGlzLl9kaWFtZXRlcix0fSxkaXN0YW5jZTpmdW5jdGlvbih0LGUpe3ZhciBzPWkuTWF0aC5kaXN0YW5jZSh0aGlzLngsdGhpcy55LHQueCx0LnkpO3JldHVybiBlP01hdGgucm91bmQocyk6c30sY2xvbmU6ZnVuY3Rpb24odCl7cmV0dXJuIHZvaWQgMD09PXR8fG51bGw9PT10P3Q9bmV3IGkuQ2lyY2xlKHRoaXMueCx0aGlzLnksdGhpcy5kaWFtZXRlcik6dC5zZXRUbyh0aGlzLngsdGhpcy55LHRoaXMuZGlhbWV0ZXIpLHR9LGNvbnRhaW5zOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIGkuQ2lyY2xlLmNvbnRhaW5zKHRoaXMsdCxlKX0sY2lyY3VtZmVyZW5jZVBvaW50OmZ1bmN0aW9uKHQsZSxzKXtyZXR1cm4gaS5DaXJjbGUuY2lyY3VtZmVyZW5jZVBvaW50KHRoaXMsdCxlLHMpfSxzYW1wbGU6ZnVuY3Rpb24odCxlLHMsbixvKXt0fHwodD02MCksbnVsbD09ZSYmKGU9MCksbnVsbD09cyYmKHM9aS5NYXRoLlBJMiksb3x8KG89W10pO2Zvcih2YXIgcj0wO3I8dDspdGhpcy5jaXJjdW1mZXJlbmNlUG9pbnQoaS5NYXRoLmxpbmVhcihlLHMsci90KSxuLG9bcl18fChvW3JdPW5ldyBpLlBvaW50KSkscis9MTtyZXR1cm4gb30sb2Zmc2V0OmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMueCs9dCx0aGlzLnkrPWUsdGhpc30sb2Zmc2V0UG9pbnQ6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMub2Zmc2V0KHQueCx0LnkpfSx0b1N0cmluZzpmdW5jdGlvbigpe3JldHVyblwiW3tQaGFzZXIuQ2lyY2xlICh4PVwiK3RoaXMueCtcIiB5PVwiK3RoaXMueStcIiBkaWFtZXRlcj1cIit0aGlzLmRpYW1ldGVyK1wiIHJhZGl1cz1cIit0aGlzLnJhZGl1cytcIil9XVwifX0saS5DaXJjbGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWkuQ2lyY2xlLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLkNpcmNsZS5wcm90b3R5cGUsXCJkaWFtZXRlclwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGlhbWV0ZXJ9LHNldDpmdW5jdGlvbih0KXt0PjAmJih0aGlzLl9kaWFtZXRlcj10LHRoaXMuX3JhZGl1cz0uNSp0KX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5DaXJjbGUucHJvdG90eXBlLFwicmFkaXVzXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9yYWRpdXN9LHNldDpmdW5jdGlvbih0KXt0PjAmJih0aGlzLl9yYWRpdXM9dCx0aGlzLl9kaWFtZXRlcj0yKnQpfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLkNpcmNsZS5wcm90b3R5cGUsXCJsZWZ0XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLngtdGhpcy5fcmFkaXVzfSxzZXQ6ZnVuY3Rpb24odCl7dD50aGlzLng/KHRoaXMuX3JhZGl1cz0wLHRoaXMuX2RpYW1ldGVyPTApOnRoaXMucmFkaXVzPXRoaXMueC10fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLkNpcmNsZS5wcm90b3R5cGUsXCJyaWdodFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy54K3RoaXMuX3JhZGl1c30sc2V0OmZ1bmN0aW9uKHQpe3Q8dGhpcy54Pyh0aGlzLl9yYWRpdXM9MCx0aGlzLl9kaWFtZXRlcj0wKTp0aGlzLnJhZGl1cz10LXRoaXMueH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5DaXJjbGUucHJvdG90eXBlLFwidG9wXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnktdGhpcy5fcmFkaXVzfSxzZXQ6ZnVuY3Rpb24odCl7dD50aGlzLnk/KHRoaXMuX3JhZGl1cz0wLHRoaXMuX2RpYW1ldGVyPTApOnRoaXMucmFkaXVzPXRoaXMueS10fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLkNpcmNsZS5wcm90b3R5cGUsXCJib3R0b21cIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMueSt0aGlzLl9yYWRpdXN9LHNldDpmdW5jdGlvbih0KXt0PHRoaXMueT8odGhpcy5fcmFkaXVzPTAsdGhpcy5fZGlhbWV0ZXI9MCk6dGhpcy5yYWRpdXM9dC10aGlzLnl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuQ2lyY2xlLnByb3RvdHlwZSxcImFyZWFcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JhZGl1cz4wP01hdGguUEkqdGhpcy5fcmFkaXVzKnRoaXMuX3JhZGl1czowfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLkNpcmNsZS5wcm90b3R5cGUsXCJlbXB0eVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gMD09PXRoaXMuX2RpYW1ldGVyfSxzZXQ6ZnVuY3Rpb24odCl7ITA9PT10JiZ0aGlzLnNldFRvKDAsMCwwKX19KSxpLkNpcmNsZS5jb250YWlucz1mdW5jdGlvbih0LGUsaSl7cmV0dXJuIHQucmFkaXVzPjAmJmU+PXQubGVmdCYmZTw9dC5yaWdodCYmaT49dC50b3AmJmk8PXQuYm90dG9tJiYodC54LWUpKih0LngtZSkrKHQueS1pKSoodC55LWkpPD10LnJhZGl1cyp0LnJhZGl1c30saS5DaXJjbGUuZXF1YWxzPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQueD09PWUueCYmdC55PT09ZS55JiZ0LmRpYW1ldGVyPT09ZS5kaWFtZXRlcn0saS5DaXJjbGUuaW50ZXJzZWN0cz1mdW5jdGlvbih0LGUpe3JldHVybiBpLk1hdGguZGlzdGFuY2UodC54LHQueSxlLngsZS55KTw9dC5yYWRpdXMrZS5yYWRpdXN9LGkuQ2lyY2xlLmNpcmN1bWZlcmVuY2VQb2ludD1mdW5jdGlvbih0LGUscyxuKXtyZXR1cm4gdm9pZCAwPT09cyYmKHM9ITEpLHZvaWQgMD09PW4mJihuPW5ldyBpLlBvaW50KSwhMD09PXMmJihlPWkuTWF0aC5kZWdUb1JhZChlKSksbi54PXQueCt0LnJhZGl1cypNYXRoLmNvcyhlKSxuLnk9dC55K3QucmFkaXVzKk1hdGguc2luKGUpLG59LGkuQ2lyY2xlLmludGVyc2VjdHNSZWN0YW5nbGU9ZnVuY3Rpb24odCxlKXt2YXIgaT1NYXRoLmFicyh0LngtZS54LWUuaGFsZldpZHRoKTtpZihpPmUuaGFsZldpZHRoK3QucmFkaXVzKXJldHVybiExO3ZhciBzPU1hdGguYWJzKHQueS1lLnktZS5oYWxmSGVpZ2h0KTtpZihzPmUuaGFsZkhlaWdodCt0LnJhZGl1cylyZXR1cm4hMTtpZihpPD1lLmhhbGZXaWR0aHx8czw9ZS5oYWxmSGVpZ2h0KXJldHVybiEwO3ZhciBuPWktZS5oYWxmV2lkdGgsbz1zLWUuaGFsZkhlaWdodDtyZXR1cm4gbipuK28qbzw9dC5yYWRpdXMqdC5yYWRpdXN9LGkuQ2lyY2xlLmludGVyc2VjdHNMaW5lPWZ1bmN0aW9uKHQsZSxzKXt2YXIgbj10Lngsbz10Lnkscj0oZS5lbmQueS1lLnN0YXJ0LnkpLyhlLmVuZC54LWUuc3RhcnQueCksYT1lLmVuZC55LXIqZS5lbmQueCxoPXQucmFkaXVzLGw9dC5yYWRpdXMsYz1hK3Iqbix1PShuKihsKmwpLXIqKGgqaCkqKGEtbykraCpsKk1hdGguc3FydChoKmgqKHIqcikrbCpsLWMqYy1vKm8rMipjKm8pKS8oaCpoKihyKnIpK2wqbCksZD0obioobCpsKS1yKihoKmgpKihhLW8pLWgqbCpNYXRoLnNxcnQoaCpoKihyKnIpK2wqbC1jKmMtbypvKzIqYypvKSkvKGgqaCoocipyKStsKmwpLHA9cip1K2EsZj1yKmQrYSxtPW5ldyBpLlBvaW50KHUscCksZz1uZXcgaS5Qb2ludChkLGYpLHk9ZS5wb2ludE9uU2VnbWVudChtLngsbS55LC4wMSksdj1lLnBvaW50T25TZWdtZW50KGcueCxnLnksLjAxKTtyZXR1cm4geSYmdj8hc3x8W20sZ106eT8hc3x8W21dOnY/IXN8fFtnXTohIXMmJltdfSxQSVhJLkNpcmNsZT1pLkNpcmNsZSxpLkVsbGlwc2U9ZnVuY3Rpb24odCxlLHMsbil7dD10fHwwLGU9ZXx8MCxzPXN8fDAsbj1ufHwwLHRoaXMueD10LHRoaXMueT1lLHRoaXMud2lkdGg9cyx0aGlzLmhlaWdodD1uLHRoaXMudHlwZT1pLkVMTElQU0V9LGkuRWxsaXBzZS5wcm90b3R5cGU9e3NldFRvOmZ1bmN0aW9uKHQsZSxpLHMpe3JldHVybiB0aGlzLng9dCx0aGlzLnk9ZSx0aGlzLndpZHRoPWksdGhpcy5oZWlnaHQ9cyx0aGlzfSxnZXRCb3VuZHM6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGkuUmVjdGFuZ2xlKHRoaXMueC10aGlzLndpZHRoLHRoaXMueS10aGlzLmhlaWdodCx0aGlzLndpZHRoLHRoaXMuaGVpZ2h0KX0sY29weUZyb206ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuc2V0VG8odC54LHQueSx0LndpZHRoLHQuaGVpZ2h0KX0sY29weVRvOmZ1bmN0aW9uKHQpe3JldHVybiB0Lng9dGhpcy54LHQueT10aGlzLnksdC53aWR0aD10aGlzLndpZHRoLHQuaGVpZ2h0PXRoaXMuaGVpZ2h0LHR9LGNsb25lOmZ1bmN0aW9uKHQpe3JldHVybiB2b2lkIDA9PT10fHxudWxsPT09dD90PW5ldyBpLkVsbGlwc2UodGhpcy54LHRoaXMueSx0aGlzLndpZHRoLHRoaXMuaGVpZ2h0KTp0LnNldFRvKHRoaXMueCx0aGlzLnksdGhpcy53aWR0aCx0aGlzLmhlaWdodCksdH0sY29udGFpbnM6ZnVuY3Rpb24odCxlKXtyZXR1cm4gaS5FbGxpcHNlLmNvbnRhaW5zKHRoaXMsdCxlKX0scmFuZG9tOmZ1bmN0aW9uKHQpe3ZvaWQgMD09PXQmJih0PW5ldyBpLlBvaW50KTt2YXIgZT1NYXRoLnJhbmRvbSgpKk1hdGguUEkqMixzPU1hdGgucmFuZG9tKCk7cmV0dXJuIHQueD1NYXRoLnNxcnQocykqTWF0aC5jb3MoZSksdC55PU1hdGguc3FydChzKSpNYXRoLnNpbihlKSx0Lng9dGhpcy54K3QueCp0aGlzLndpZHRoLzIsdC55PXRoaXMueSt0LnkqdGhpcy5oZWlnaHQvMix0fSx0b1N0cmluZzpmdW5jdGlvbigpe3JldHVyblwiW3tQaGFzZXIuRWxsaXBzZSAoeD1cIit0aGlzLngrXCIgeT1cIit0aGlzLnkrXCIgd2lkdGg9XCIrdGhpcy53aWR0aCtcIiBoZWlnaHQ9XCIrdGhpcy5oZWlnaHQrXCIpfV1cIn19LGkuRWxsaXBzZS5wcm90b3R5cGUuY29uc3RydWN0b3I9aS5FbGxpcHNlLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLkVsbGlwc2UucHJvdG90eXBlLFwibGVmdFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy54fSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy54PXR9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuRWxsaXBzZS5wcm90b3R5cGUsXCJyaWdodFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy54K3RoaXMud2lkdGh9LHNldDpmdW5jdGlvbih0KXt0PHRoaXMueD90aGlzLndpZHRoPTA6dGhpcy53aWR0aD10LXRoaXMueH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5FbGxpcHNlLnByb3RvdHlwZSxcInRvcFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy55fSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy55PXR9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuRWxsaXBzZS5wcm90b3R5cGUsXCJib3R0b21cIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMueSt0aGlzLmhlaWdodH0sc2V0OmZ1bmN0aW9uKHQpe3Q8dGhpcy55P3RoaXMuaGVpZ2h0PTA6dGhpcy5oZWlnaHQ9dC10aGlzLnl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuRWxsaXBzZS5wcm90b3R5cGUsXCJlbXB0eVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gMD09PXRoaXMud2lkdGh8fDA9PT10aGlzLmhlaWdodH0sc2V0OmZ1bmN0aW9uKHQpeyEwPT09dCYmdGhpcy5zZXRUbygwLDAsMCwwKX19KSxpLkVsbGlwc2UuY29udGFpbnM9ZnVuY3Rpb24odCxlLGkpe2lmKHQud2lkdGg8PTB8fHQuaGVpZ2h0PD0wKXJldHVybiExO3ZhciBzPShlLXQueCkvdC53aWR0aC0uNSxuPShpLXQueSkvdC5oZWlnaHQtLjU7cmV0dXJuIHMqPXMsbio9bixzK248LjI1fSxpLkVsbGlwc2UuaW50ZXJzZWN0c0xpbmU9ZnVuY3Rpb24odCxlLHMpe3ZhciBuPXQueCxvPXQueSxyPShlLmVuZC55LWUuc3RhcnQueSkvKGUuZW5kLngtZS5zdGFydC54KSxhPWUuZW5kLnktciplLmVuZC54LGg9dC53aWR0aC8yLGw9dC5oZWlnaHQvMixjPWErcipuLHU9KG4qKGwqbCktciooaCpoKSooYS1vKStoKmwqTWF0aC5zcXJ0KGgqaCoocipyKStsKmwtYypjLW8qbysyKmMqbykpLyhoKmgqKHIqcikrbCpsKSxkPShuKihsKmwpLXIqKGgqaCkqKGEtbyktaCpsKk1hdGguc3FydChoKmgqKHIqcikrbCpsLWMqYy1vKm8rMipjKm8pKS8oaCpoKihyKnIpK2wqbCkscD1yKnUrYSxmPXIqZCthLG09bmV3IGkuUG9pbnQodSxwKSxnPW5ldyBpLlBvaW50KGQsZikseT1lLnBvaW50T25TZWdtZW50KG0ueCxtLnksLjAxKSx2PWUucG9pbnRPblNlZ21lbnQoZy54LGcueSwuMDEpO3JldHVybiB5JiZ2PyFzfHxbbSxnXTp5PyFzfHxbbV06dj8hc3x8W2ddOiEhcyYmW119LFBJWEkuRWxsaXBzZT1pLkVsbGlwc2UsaS5MaW5lPWZ1bmN0aW9uKHQsZSxzLG4pe3Q9dHx8MCxlPWV8fDAscz1zfHwwLG49bnx8MCx0aGlzLnN0YXJ0PW5ldyBpLlBvaW50KHQsZSksdGhpcy5lbmQ9bmV3IGkuUG9pbnQocyxuKSx0aGlzLnR5cGU9aS5MSU5FfSxpLkxpbmUucHJvdG90eXBlPXtzZXRUbzpmdW5jdGlvbih0LGUsaSxzKXtyZXR1cm4gdGhpcy5zdGFydC5zZXRUbyh0LGUpLHRoaXMuZW5kLnNldFRvKGkscyksdGhpc30sZnJvbVBvaW50czpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLnNldFRvKHQueCx0LnksZS54LGUueSksdGhpc30sZnJvbVNwcml0ZTpmdW5jdGlvbih0LGUsaSl7cmV0dXJuIHZvaWQgMD09PWkmJihpPSExKSxpP3RoaXMuc2V0VG8odC5jZW50ZXJYLHQuY2VudGVyWSxlLmNlbnRlclgsZS5jZW50ZXJZKTp0aGlzLmZyb21Qb2ludHModCxlKX0sZnJvbUFuZ2xlOmZ1bmN0aW9uKHQsZSxpLHMpe3JldHVybiB0aGlzLnN0YXJ0LnNldFRvKHQsZSksdGhpcy5lbmQuc2V0VG8odCtNYXRoLmNvcyhpKSpzLGUrTWF0aC5zaW4oaSkqcyksdGhpc30scm90YXRlOmZ1bmN0aW9uKHQsZSl7dmFyIGk9KHRoaXMuc3RhcnQueCt0aGlzLmVuZC54KS8yLHM9KHRoaXMuc3RhcnQueSt0aGlzLmVuZC55KS8yO3JldHVybiB0aGlzLnN0YXJ0LnJvdGF0ZShpLHMsdCxlKSx0aGlzLmVuZC5yb3RhdGUoaSxzLHQsZSksdGhpc30scm90YXRlQXJvdW5kOmZ1bmN0aW9uKHQsZSxpLHMpe3JldHVybiB0aGlzLnN0YXJ0LnJvdGF0ZSh0LGUsaSxzKSx0aGlzLmVuZC5yb3RhdGUodCxlLGkscyksdGhpc30saW50ZXJzZWN0czpmdW5jdGlvbih0LGUscyl7cmV0dXJuIGkuTGluZS5pbnRlcnNlY3RzUG9pbnRzKHRoaXMuc3RhcnQsdGhpcy5lbmQsdC5zdGFydCx0LmVuZCxlLHMpfSxyZWZsZWN0OmZ1bmN0aW9uKHQpe3JldHVybiBpLkxpbmUucmVmbGVjdCh0aGlzLHQpfSxtaWRQb2ludDpmdW5jdGlvbih0KXtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9bmV3IGkuUG9pbnQpLHQueD0odGhpcy5zdGFydC54K3RoaXMuZW5kLngpLzIsdC55PSh0aGlzLnN0YXJ0LnkrdGhpcy5lbmQueSkvMix0fSxjZW50ZXJPbjpmdW5jdGlvbih0LGUpe3ZhciBpPXQtKHRoaXMuc3RhcnQueCt0aGlzLmVuZC54KS8yLHM9ZS0odGhpcy5zdGFydC55K3RoaXMuZW5kLnkpLzI7dGhpcy5zdGFydC5hZGQoaSxzKSx0aGlzLmVuZC5hZGQoaSxzKX0scG9pbnRPbkxpbmU6ZnVuY3Rpb24odCxlLHMpe3JldHVybiBpLk1hdGguZnV6enlFcXVhbCgodC10aGlzLnN0YXJ0LngpKih0aGlzLmVuZC55LXRoaXMuc3RhcnQueSksKHRoaXMuZW5kLngtdGhpcy5zdGFydC54KSooZS10aGlzLnN0YXJ0LnkpLHN8fDApfSxwb2ludE9uU2VnbWVudDpmdW5jdGlvbih0LGUsaSl7dmFyIHM9TWF0aC5taW4odGhpcy5zdGFydC54LHRoaXMuZW5kLngpLG49TWF0aC5tYXgodGhpcy5zdGFydC54LHRoaXMuZW5kLngpLG89TWF0aC5taW4odGhpcy5zdGFydC55LHRoaXMuZW5kLnkpLHI9TWF0aC5tYXgodGhpcy5zdGFydC55LHRoaXMuZW5kLnkpO3JldHVybiB0aGlzLnBvaW50T25MaW5lKHQsZSxpKSYmdD49cyYmdDw9biYmZT49byYmZTw9cn0scmFuZG9tOmZ1bmN0aW9uKHQpe3ZvaWQgMD09PXQmJih0PW5ldyBpLlBvaW50KTt2YXIgZT1NYXRoLnJhbmRvbSgpO3JldHVybiB0Lng9dGhpcy5zdGFydC54K2UqKHRoaXMuZW5kLngtdGhpcy5zdGFydC54KSx0Lnk9dGhpcy5zdGFydC55K2UqKHRoaXMuZW5kLnktdGhpcy5zdGFydC55KSx0fSxjb29yZGluYXRlc09uTGluZTpmdW5jdGlvbih0LGUpe3ZvaWQgMD09PXQmJih0PTEpLHZvaWQgMD09PWUmJihlPVtdKTt2YXIgaT1NYXRoLnJvdW5kKHRoaXMuc3RhcnQueCkscz1NYXRoLnJvdW5kKHRoaXMuc3RhcnQueSksbj1NYXRoLnJvdW5kKHRoaXMuZW5kLngpLG89TWF0aC5yb3VuZCh0aGlzLmVuZC55KSxyPU1hdGguYWJzKG4taSksYT1NYXRoLmFicyhvLXMpLGg9aTxuPzE6LTEsbD1zPG8/MTotMSxjPXItYTtlLnB1c2goW2ksc10pO2Zvcih2YXIgdT0xO2khPT1ufHxzIT09bzspe3ZhciBkPWM8PDE7ZD4tYSYmKGMtPWEsaSs9aCksZDxyJiYoYys9cixzKz1sKSx1JXQ9PTAmJmUucHVzaChbaSxzXSksdSsrfXJldHVybiBlfSxjbG9uZTpmdW5jdGlvbih0KXtyZXR1cm4gdm9pZCAwPT09dHx8bnVsbD09PXQ/dD1uZXcgaS5MaW5lKHRoaXMuc3RhcnQueCx0aGlzLnN0YXJ0LnksdGhpcy5lbmQueCx0aGlzLmVuZC55KTp0LnNldFRvKHRoaXMuc3RhcnQueCx0aGlzLnN0YXJ0LnksdGhpcy5lbmQueCx0aGlzLmVuZC55KSx0fX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuTGluZS5wcm90b3R5cGUsXCJsZW5ndGhcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIE1hdGguc3FydCgodGhpcy5lbmQueC10aGlzLnN0YXJ0LngpKih0aGlzLmVuZC54LXRoaXMuc3RhcnQueCkrKHRoaXMuZW5kLnktdGhpcy5zdGFydC55KSoodGhpcy5lbmQueS10aGlzLnN0YXJ0LnkpKX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5MaW5lLnByb3RvdHlwZSxcImFuZ2xlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBpLlBvaW50LmFuZ2xlKHRoaXMuZW5kLHRoaXMuc3RhcnQpfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLkxpbmUucHJvdG90eXBlLFwic2xvcGVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuKHRoaXMuZW5kLnktdGhpcy5zdGFydC55KS8odGhpcy5lbmQueC10aGlzLnN0YXJ0LngpfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLkxpbmUucHJvdG90eXBlLFwicGVycFNsb3BlXCIse2dldDpmdW5jdGlvbigpe3JldHVybi0odGhpcy5lbmQueC10aGlzLnN0YXJ0LngpLyh0aGlzLmVuZC55LXRoaXMuc3RhcnQueSl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuTGluZS5wcm90b3R5cGUsXCJ4XCIse2dldDpmdW5jdGlvbigpe3JldHVybiBNYXRoLm1pbih0aGlzLnN0YXJ0LngsdGhpcy5lbmQueCl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuTGluZS5wcm90b3R5cGUsXCJ5XCIse2dldDpmdW5jdGlvbigpe3JldHVybiBNYXRoLm1pbih0aGlzLnN0YXJ0LnksdGhpcy5lbmQueSl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuTGluZS5wcm90b3R5cGUsXCJsZWZ0XCIse2dldDpmdW5jdGlvbigpe3JldHVybiBNYXRoLm1pbih0aGlzLnN0YXJ0LngsdGhpcy5lbmQueCl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuTGluZS5wcm90b3R5cGUsXCJyaWdodFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gTWF0aC5tYXgodGhpcy5zdGFydC54LHRoaXMuZW5kLngpfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLkxpbmUucHJvdG90eXBlLFwidG9wXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBNYXRoLm1pbih0aGlzLnN0YXJ0LnksdGhpcy5lbmQueSl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuTGluZS5wcm90b3R5cGUsXCJib3R0b21cIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIE1hdGgubWF4KHRoaXMuc3RhcnQueSx0aGlzLmVuZC55KX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5MaW5lLnByb3RvdHlwZSxcIndpZHRoXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBNYXRoLmFicyh0aGlzLnN0YXJ0LngtdGhpcy5lbmQueCl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuTGluZS5wcm90b3R5cGUsXCJoZWlnaHRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIE1hdGguYWJzKHRoaXMuc3RhcnQueS10aGlzLmVuZC55KX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5MaW5lLnByb3RvdHlwZSxcIm5vcm1hbFhcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIE1hdGguY29zKHRoaXMuYW5nbGUtMS41NzA3OTYzMjY3OTQ4OTY2KX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5MaW5lLnByb3RvdHlwZSxcIm5vcm1hbFlcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIE1hdGguc2luKHRoaXMuYW5nbGUtMS41NzA3OTYzMjY3OTQ4OTY2KX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5MaW5lLnByb3RvdHlwZSxcIm5vcm1hbEFuZ2xlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBpLk1hdGgud3JhcCh0aGlzLmFuZ2xlLTEuNTcwNzk2MzI2Nzk0ODk2NiwtTWF0aC5QSSxNYXRoLlBJKX19KSxpLkxpbmUuaW50ZXJzZWN0c1BvaW50cz1mdW5jdGlvbih0LGUscyxuLG8scil7dm9pZCAwPT09byYmKG89ITApLHZvaWQgMD09PXImJihyPW5ldyBpLlBvaW50KTt2YXIgYT1lLnktdC55LGg9bi55LXMueSxsPXQueC1lLngsYz1zLngtbi54LHU9ZS54KnQueS10LngqZS55LGQ9bi54KnMueS1zLngqbi55LHA9YSpjLWgqbDtpZigwPT09cClyZXR1cm4gbnVsbDtpZihyLng9KGwqZC1jKnUpL3Asci55PShoKnUtYSpkKS9wLG8pe3ZhciBmPShuLnktcy55KSooZS54LXQueCktKG4ueC1zLngpKihlLnktdC55KSxtPSgobi54LXMueCkqKHQueS1zLnkpLShuLnktcy55KSoodC54LXMueCkpL2YsZz0oKGUueC10LngpKih0Lnktcy55KS0oZS55LXQueSkqKHQueC1zLngpKS9mO3JldHVybiBtPj0wJiZtPD0xJiZnPj0wJiZnPD0xP3I6bnVsbH1yZXR1cm4gcn0saS5MaW5lLmludGVyc2VjdHM9ZnVuY3Rpb24odCxlLHMsbil7cmV0dXJuIGkuTGluZS5pbnRlcnNlY3RzUG9pbnRzKHQuc3RhcnQsdC5lbmQsZS5zdGFydCxlLmVuZCxzLG4pfSxpLkxpbmUuaW50ZXJzZWN0c1JlY3RhbmdsZT1mdW5jdGlvbih0LGUpe2lmKDA9PT10Lmxlbmd0aHx8ZS5lbXB0eSlyZXR1cm4hMTt2YXIgaT10LnN0YXJ0Lngscz10LnN0YXJ0Lnksbj10LmVuZC54LG89dC5lbmQueSxyPWUueCxhPWUueSxoPWUucmlnaHQsbD1lLmJvdHRvbSxjPTA7aWYoaT49ciYmaTw9aCYmcz49YSYmczw9bHx8bj49ciYmbjw9aCYmbz49YSYmbzw9bClyZXR1cm4hMDtpZihpPHImJm4+PXIpe2lmKChjPXMrKG8tcykqKHItaSkvKG4taSkpPmEmJmM8PWwpcmV0dXJuITB9ZWxzZSBpZihpPmgmJm48PWgmJihjPXMrKG8tcykqKGgtaSkvKG4taSkpPj1hJiZjPD1sKXJldHVybiEwO2lmKHM8YSYmbz49YSl7aWYoKGM9aSsobi1pKSooYS1zKS8oby1zKSk+PXImJmM8PWgpcmV0dXJuITB9ZWxzZSBpZihzPmwmJm88PWwmJihjPWkrKG4taSkqKGwtcykvKG8tcykpPj1yJiZjPD1oKXJldHVybiEwO3JldHVybiExfSxpLkxpbmUuaW50ZXJzZWN0aW9uV2l0aFJlY3RhbmdsZT1mdW5jdGlvbih0LGUscyl7dmFyIG49aS5MaW5lLmludGVyc2VjdGlvbldpdGhSZWN0YW5nbGU7c3x8KHM9bmV3IGkuUG9pbnQpLG4uZWRnZXN8fChuLmVkZ2VzPVtuZXcgaS5MaW5lLG5ldyBpLkxpbmUsbmV3IGkuTGluZSxuZXcgaS5MaW5lXSksbi5lZGdlSW50ZXJzZWN0aW9ufHwobi5lZGdlSW50ZXJzZWN0aW9uPW5ldyBpLlBvaW50KTt2YXIgbz1uLmVkZ2VzLHI9bi5lZGdlSW50ZXJzZWN0aW9uLnNldCgwKSxhPWUueCxoPWUueSxsPWUucmlnaHQsYz1lLmJvdHRvbSx1PTEvMDtvWzBdLnNldFRvKGEsaCxsLGgpLG9bMV0uc2V0VG8oYSxjLGwsYyksb1syXS5zZXRUbyhhLGgsYSxjKSxvWzNdLnNldFRvKGwsaCxsLGMpO2Zvcih2YXIgZCxwPTA7ZD1vW3BdO3ArKylpZih0LmludGVyc2VjdHMoZCwhMCxyKSl7dmFyIGY9dC5zdGFydC5kaXN0YW5jZShyKTtmPHUmJih1PWYscy5jb3B5RnJvbShyKSl9cmV0dXJuIG51bGwhPWY/czpudWxsfSxpLkxpbmUucmVmbGVjdD1mdW5jdGlvbih0LGUpe3JldHVybiAyKmUubm9ybWFsQW5nbGUtMy4xNDE1OTI2NTM1ODk3OTMtdC5hbmdsZX0saS5NYXRyaXg9ZnVuY3Rpb24odCxlLHMsbixvLHIpe3ZvaWQgMCE9PXQmJm51bGwhPT10fHwodD0xKSx2b2lkIDAhPT1lJiZudWxsIT09ZXx8KGU9MCksdm9pZCAwIT09cyYmbnVsbCE9PXN8fChzPTApLHZvaWQgMCE9PW4mJm51bGwhPT1ufHwobj0xKSx2b2lkIDAhPT1vJiZudWxsIT09b3x8KG89MCksdm9pZCAwIT09ciYmbnVsbCE9PXJ8fChyPTApLHRoaXMuYT10LHRoaXMuYj1lLHRoaXMuYz1zLHRoaXMuZD1uLHRoaXMudHg9byx0aGlzLnR5PXIsdGhpcy50eXBlPWkuTUFUUklYfSxpLk1hdHJpeC5wcm90b3R5cGU9e2Zyb21BcnJheTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5zZXRUbyh0WzBdLHRbMV0sdFszXSx0WzRdLHRbMl0sdFs1XSl9LHNldFRvOmZ1bmN0aW9uKHQsZSxpLHMsbixvKXtyZXR1cm4gdGhpcy5hPXQsdGhpcy5iPWUsdGhpcy5jPWksdGhpcy5kPXMsdGhpcy50eD1uLHRoaXMudHk9byx0aGlzfSxjbG9uZTpmdW5jdGlvbih0KXtyZXR1cm4gdm9pZCAwPT09dHx8bnVsbD09PXQ/dD1uZXcgaS5NYXRyaXgodGhpcy5hLHRoaXMuYix0aGlzLmMsdGhpcy5kLHRoaXMudHgsdGhpcy50eSk6KHQuYT10aGlzLmEsdC5iPXRoaXMuYix0LmM9dGhpcy5jLHQuZD10aGlzLmQsdC50eD10aGlzLnR4LHQudHk9dGhpcy50eSksdH0sY29weVRvOmZ1bmN0aW9uKHQpe3JldHVybiB0LmNvcHlGcm9tKHRoaXMpLHR9LGNvcHlGcm9tOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmE9dC5hLHRoaXMuYj10LmIsdGhpcy5jPXQuYyx0aGlzLmQ9dC5kLHRoaXMudHg9dC50eCx0aGlzLnR5PXQudHksdGhpc30sdG9BcnJheTpmdW5jdGlvbih0LGUpe3JldHVybiB2b2lkIDA9PT1lJiYoZT1uZXcgRmxvYXQzMkFycmF5KDkpKSx0PyhlWzBdPXRoaXMuYSxlWzFdPXRoaXMuYixlWzJdPTAsZVszXT10aGlzLmMsZVs0XT10aGlzLmQsZVs1XT0wLGVbNl09dGhpcy50eCxlWzddPXRoaXMudHksZVs4XT0xKTooZVswXT10aGlzLmEsZVsxXT10aGlzLmMsZVsyXT10aGlzLnR4LGVbM109dGhpcy5iLGVbNF09dGhpcy5kLGVbNV09dGhpcy50eSxlWzZdPTAsZVs3XT0wLGVbOF09MSksZX0sYXBwbHk6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9bmV3IGkuUG9pbnQpLGUueD10aGlzLmEqdC54K3RoaXMuYyp0LnkrdGhpcy50eCxlLnk9dGhpcy5iKnQueCt0aGlzLmQqdC55K3RoaXMudHksZX0sYXBwbHlJbnZlcnNlOmZ1bmN0aW9uKHQsZSl7dm9pZCAwPT09ZSYmKGU9bmV3IGkuUG9pbnQpO3ZhciBzPTEvKHRoaXMuYSp0aGlzLmQrdGhpcy5jKi10aGlzLmIpLG49dC54LG89dC55O3JldHVybiBlLng9dGhpcy5kKnMqbistdGhpcy5jKnMqbysodGhpcy50eSp0aGlzLmMtdGhpcy50eCp0aGlzLmQpKnMsZS55PXRoaXMuYSpzKm8rLXRoaXMuYipzKm4rKC10aGlzLnR5KnRoaXMuYSt0aGlzLnR4KnRoaXMuYikqcyxlfSx0cmFuc2xhdGU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy50eCs9dCx0aGlzLnR5Kz1lLHRoaXN9LHNjYWxlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuYSo9dCx0aGlzLmQqPWUsdGhpcy5jKj10LHRoaXMuYio9ZSx0aGlzLnR4Kj10LHRoaXMudHkqPWUsdGhpc30scm90YXRlOmZ1bmN0aW9uKHQpe3ZhciBlPU1hdGguY29zKHQpLGk9TWF0aC5zaW4odCkscz10aGlzLmEsbj10aGlzLmMsbz10aGlzLnR4O3JldHVybiB0aGlzLmE9cyplLXRoaXMuYippLHRoaXMuYj1zKmkrdGhpcy5iKmUsdGhpcy5jPW4qZS10aGlzLmQqaSx0aGlzLmQ9bippK3RoaXMuZCplLHRoaXMudHg9byplLXRoaXMudHkqaSx0aGlzLnR5PW8qaSt0aGlzLnR5KmUsdGhpc30sYXBwZW5kOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuYSxpPXRoaXMuYixzPXRoaXMuYyxuPXRoaXMuZDtyZXR1cm4gdGhpcy5hPXQuYSplK3QuYipzLHRoaXMuYj10LmEqaSt0LmIqbix0aGlzLmM9dC5jKmUrdC5kKnMsdGhpcy5kPXQuYyppK3QuZCpuLHRoaXMudHg9dC50eCplK3QudHkqcyt0aGlzLnR4LHRoaXMudHk9dC50eCppK3QudHkqbit0aGlzLnR5LHRoaXN9LGlkZW50aXR5OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2V0VG8oMSwwLDAsMSwwLDApfX0saS5pZGVudGl0eU1hdHJpeD1uZXcgaS5NYXRyaXgsaS5Qb2ludD1mdW5jdGlvbih0LGUpe3Q9dHx8MCxlPWV8fDAsdGhpcy54PXQsdGhpcy55PWUsdGhpcy50eXBlPWkuUE9JTlR9LGkuUG9pbnQucHJvdG90eXBlPXtjb3B5RnJvbTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5zZXRUbyh0LngsdC55KX0saW52ZXJ0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2V0VG8odGhpcy55LHRoaXMueCl9LHNldFRvOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIGkuUG9pbnQuc2V0KHRoaXMsdCxlKX0sc2V0OmZ1bmN0aW9uKHQsZSl7cmV0dXJuIGkuUG9pbnQuc2V0KHRoaXMsdCxlKX0sc2V0VG9Qb2xhcjpmdW5jdGlvbih0LGUscyl7cmV0dXJuIG51bGw9PWUmJihlPTEpLHMmJih0PWkuTWF0aC5kZWdUb1JhZCh0KSksdGhpcy5zZXRUbyhNYXRoLmNvcyh0KSplLE1hdGguc2luKHQpKmUpfSxhZGQ6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy54Kz10LHRoaXMueSs9ZSx0aGlzfSxzdWJ0cmFjdDpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLngtPXQsdGhpcy55LT1lLHRoaXN9LG11bHRpcGx5OmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMueCo9dCx0aGlzLnkqPWUsdGhpc30sZGl2aWRlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMueC89dCx0aGlzLnkvPWUsdGhpc30sY2xhbXBYOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMueD1pLk1hdGguY2xhbXAodGhpcy54LHQsZSksdGhpc30sY2xhbXBZOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMueT1pLk1hdGguY2xhbXAodGhpcy55LHQsZSksdGhpc30sY2xhbXA6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy54PWkuTWF0aC5jbGFtcCh0aGlzLngsdCxlKSx0aGlzLnk9aS5NYXRoLmNsYW1wKHRoaXMueSx0LGUpLHRoaXN9LGNsaXA6ZnVuY3Rpb24odCl7dmFyIGU9dC5sZWZ0LGk9dC50b3Ascz10LnJpZ2h0LG49dC5ib3R0b207cmV0dXJuIHRoaXMueDxlP3RoaXMueD1lOnRoaXMueD5zJiYodGhpcy54PXMpLHRoaXMueTxpP3RoaXMueT1pOnRoaXMueT5uJiYodGhpcy55PW4pLHRoaXN9LGNsb25lOmZ1bmN0aW9uKHQpe3JldHVybiB2b2lkIDA9PT10fHxudWxsPT09dD90PW5ldyBpLlBvaW50KHRoaXMueCx0aGlzLnkpOnQuc2V0VG8odGhpcy54LHRoaXMueSksdH0sY29weVRvOmZ1bmN0aW9uKHQpe3JldHVybiB0Lng9dGhpcy54LHQueT10aGlzLnksdH0sZGlzdGFuY2U6ZnVuY3Rpb24odCxlKXtyZXR1cm4gaS5Qb2ludC5kaXN0YW5jZSh0aGlzLHQsZSl9LGVxdWFsczpmdW5jdGlvbih0KXtyZXR1cm4gdC54PT09dGhpcy54JiZ0Lnk9PT10aGlzLnl9LGVxdWFsc1hZOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMueD09PXQmJnRoaXMueT09PWV9LGZ1enp5RXF1YWxzOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIGkuUG9pbnQuZnV6enlFcXVhbHModGhpcyx0LGUpfSxmdXp6eUVxdWFsc1hZOmZ1bmN0aW9uKHQsZSxzKXtyZXR1cm4gaS5Qb2ludC5mdXp6eUVxdWFsc1hZKHRoaXMsdCxlLHMpfSxhbmdsZTpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmFuZ2xlWFkodC54LHQueSxlKX0sYW5nbGVYWTpmdW5jdGlvbih0LGUscyl7dmFyIG49TWF0aC5hdGFuMihlLXRoaXMueSx0LXRoaXMueCk7cmV0dXJuIHM/aS5NYXRoLnJhZFRvRGVnKG4pOm59LGF0YW46ZnVuY3Rpb24odCl7dmFyIGU9TWF0aC5hdGFuMih0aGlzLnksdGhpcy54KTtyZXR1cm4gdD9pLk1hdGgucmFkVG9EZWcoZSk6ZX0scm90YXRlOmZ1bmN0aW9uKHQsZSxzLG4sbyl7cmV0dXJuIGkuUG9pbnQucm90YXRlKHRoaXMsdCxlLHMsbixvKX0sZ2V0TWFnbml0dWRlOmZ1bmN0aW9uKCl7cmV0dXJuIE1hdGguc3FydCh0aGlzLngqdGhpcy54K3RoaXMueSp0aGlzLnkpfSxnZXRNYWduaXR1ZGVTcTpmdW5jdGlvbigpe3JldHVybiB0aGlzLngqdGhpcy54K3RoaXMueSp0aGlzLnl9LHNldE1hZ25pdHVkZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5ub3JtYWxpemUoKS5tdWx0aXBseSh0LHQpfSxub3JtYWxpemU6ZnVuY3Rpb24oKXtpZighdGhpcy5pc1plcm8oKSl7dmFyIHQ9dGhpcy5nZXRNYWduaXR1ZGUoKTt0aGlzLngvPXQsdGhpcy55Lz10fXJldHVybiB0aGlzfSxsaW1pdDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5nZXRNYWduaXR1ZGVTcSgpPnQqdCYmdGhpcy5zZXRNYWduaXR1ZGUodCksdGhpc30sZXhwYW5kOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmdldE1hZ25pdHVkZVNxKCk8dCp0JiZ0aGlzLnNldE1hZ25pdHVkZSh0KSx0aGlzfSxpc1plcm86ZnVuY3Rpb24oKXtyZXR1cm4gMD09PXRoaXMueCYmMD09PXRoaXMueX0sZG90OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLngqdC54K3RoaXMueSp0Lnl9LGNyb3NzOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLngqdC55LXRoaXMueSp0Lnh9LHBlcnA6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zZXRUbygtdGhpcy55LHRoaXMueCl9LHJwZXJwOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2V0VG8odGhpcy55LC10aGlzLngpfSxub3JtYWxSaWdodEhhbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zZXRUbygtMSp0aGlzLnksdGhpcy54KX0sZmxvb3I6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zZXRUbyhNYXRoLmZsb29yKHRoaXMueCksTWF0aC5mbG9vcih0aGlzLnkpKX0sY2VpbDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnNldFRvKE1hdGguY2VpbCh0aGlzLngpLE1hdGguY2VpbCh0aGlzLnkpKX0sdG9TdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm5cIlt7UG9pbnQgKHg9XCIrdGhpcy54K1wiIHk9XCIrdGhpcy55K1wiKX1dXCJ9fSxpLlBvaW50LnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1pLlBvaW50LGkuUG9pbnQuYWRkPWZ1bmN0aW9uKHQsZSxzKXtyZXR1cm4gdm9pZCAwPT09cyYmKHM9bmV3IGkuUG9pbnQpLHMueD10LngrZS54LHMueT10LnkrZS55LHN9LGkuUG9pbnQuc3VidHJhY3Q9ZnVuY3Rpb24odCxlLHMpe3JldHVybiB2b2lkIDA9PT1zJiYocz1uZXcgaS5Qb2ludCkscy54PXQueC1lLngscy55PXQueS1lLnksc30saS5Qb2ludC5tdWx0aXBseT1mdW5jdGlvbih0LGUscyl7cmV0dXJuIHZvaWQgMD09PXMmJihzPW5ldyBpLlBvaW50KSxzLng9dC54KmUueCxzLnk9dC55KmUueSxzfSxpLlBvaW50LmRpdmlkZT1mdW5jdGlvbih0LGUscyl7cmV0dXJuIHZvaWQgMD09PXMmJihzPW5ldyBpLlBvaW50KSxzLng9dC54L2UueCxzLnk9dC55L2UueSxzfSxpLlBvaW50LmVxdWFscz1mdW5jdGlvbih0LGUpe3JldHVybiB0Lng9PT1lLngmJnQueT09PWUueX0saS5Qb2ludC5lcXVhbHNYWT1mdW5jdGlvbih0LGUsaSl7cmV0dXJuIHQueD09PWUmJnQueT09PWl9LGkuUG9pbnQuZnV6enlFcXVhbHM9ZnVuY3Rpb24odCxlLHMpe3JldHVybiBpLk1hdGguZnV6enlFcXVhbHModC54LGUueCxzKSYmaS5NYXRoLmZ1enp5RXF1YWxzKHQueSxlLnkscyl9LGkuUG9pbnQuZnV6enlFcXVhbHNYWT1mdW5jdGlvbih0LGUscyxuKXtyZXR1cm4gaS5NYXRoLmZ1enp5RXF1YWxzKHQueCxlLG4pJiZpLk1hdGguZnV6enlFcXVhbHModC55LHMsbil9LGkuUG9pbnQuYW5nbGU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gTWF0aC5hdGFuMih0LnktZS55LHQueC1lLngpfSxpLlBvaW50Lm5lZ2F0aXZlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHZvaWQgMD09PWUmJihlPW5ldyBpLlBvaW50KSxlLnNldFRvKC10LngsLXQueSl9LGkuUG9pbnQubXVsdGlwbHlBZGQ9ZnVuY3Rpb24odCxlLHMsbil7cmV0dXJuIHZvaWQgMD09PW4mJihuPW5ldyBpLlBvaW50KSxuLnNldFRvKHQueCtlLngqcyx0LnkrZS55KnMpfSxpLlBvaW50LmludGVycG9sYXRlPWZ1bmN0aW9uKHQsZSxzLG4pe3JldHVybiB2b2lkIDA9PT1uJiYobj1uZXcgaS5Qb2ludCksbi5zZXRUbyh0LngrKGUueC10LngpKnMsdC55KyhlLnktdC55KSpzKX0saS5Qb2ludC5wZXJwPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHZvaWQgMD09PWUmJihlPW5ldyBpLlBvaW50KSxlLnNldFRvKC10LnksdC54KX0saS5Qb2ludC5ycGVycD1mdW5jdGlvbih0LGUpe3JldHVybiB2b2lkIDA9PT1lJiYoZT1uZXcgaS5Qb2ludCksZS5zZXRUbyh0LnksLXQueCl9LGkuUG9pbnQuZGlzdGFuY2U9ZnVuY3Rpb24odCxlLHMpe3ZhciBuPWkuTWF0aC5kaXN0YW5jZSh0LngsdC55LGUueCxlLnkpO3JldHVybiBzP01hdGgucm91bmQobik6bn0saS5Qb2ludC5wcm9qZWN0PWZ1bmN0aW9uKHQsZSxzKXt2b2lkIDA9PT1zJiYocz1uZXcgaS5Qb2ludCk7dmFyIG49dC5kb3QoZSkvZS5nZXRNYWduaXR1ZGVTcSgpO3JldHVybiAwIT09biYmcy5zZXRUbyhuKmUueCxuKmUueSksc30saS5Qb2ludC5wcm9qZWN0VW5pdD1mdW5jdGlvbih0LGUscyl7dm9pZCAwPT09cyYmKHM9bmV3IGkuUG9pbnQpO3ZhciBuPXQuZG90KGUpO3JldHVybiAwIT09biYmcy5zZXRUbyhuKmUueCxuKmUueSksc30saS5Qb2ludC5ub3JtYWxSaWdodEhhbmQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9bmV3IGkuUG9pbnQpLGUuc2V0VG8oLTEqdC55LHQueCl9LGkuUG9pbnQubm9ybWFsaXplPWZ1bmN0aW9uKHQsZSl7dm9pZCAwPT09ZSYmKGU9bmV3IGkuUG9pbnQpO3ZhciBzPXQuZ2V0TWFnbml0dWRlKCk7cmV0dXJuIDAhPT1zJiZlLnNldFRvKHQueC9zLHQueS9zKSxlfSxpLlBvaW50LnJvdGF0ZT1mdW5jdGlvbih0LGUscyxuLG8scil7aWYobyYmKG49aS5NYXRoLmRlZ1RvUmFkKG4pKSx2b2lkIDA9PT1yKXt0LnN1YnRyYWN0KGUscyk7dmFyIGE9TWF0aC5zaW4obiksaD1NYXRoLmNvcyhuKSxsPWgqdC54LWEqdC55LGM9YSp0LngraCp0Lnk7dC54PWwrZSx0Lnk9YytzfWVsc2V7dmFyIHU9bitNYXRoLmF0YW4yKHQueS1zLHQueC1lKTt0Lng9ZStyKk1hdGguY29zKHUpLHQueT1zK3IqTWF0aC5zaW4odSl9cmV0dXJuIHR9LGkuUG9pbnQuY2VudHJvaWQ9ZnVuY3Rpb24odCxlKXtpZih2b2lkIDA9PT1lJiYoZT1uZXcgaS5Qb2ludCksXCJbb2JqZWN0IEFycmF5XVwiIT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpKXRocm93IG5ldyBFcnJvcihcIlBoYXNlci5Qb2ludC4gUGFyYW1ldGVyICdwb2ludHMnIG11c3QgYmUgYW4gYXJyYXlcIik7dmFyIHM9dC5sZW5ndGg7aWYoczwxKXRocm93IG5ldyBFcnJvcihcIlBoYXNlci5Qb2ludC4gUGFyYW1ldGVyICdwb2ludHMnIGFycmF5IG11c3Qgbm90IGJlIGVtcHR5XCIpO2lmKDE9PT1zKXJldHVybiBlLmNvcHlGcm9tKHRbMF0pLGU7Zm9yKHZhciBuPTA7bjxzO24rKylpLlBvaW50LmFkZChlLHRbbl0sZSk7cmV0dXJuIGUuZGl2aWRlKHMscyksZX0saS5Qb2ludC5wYXJzZT1mdW5jdGlvbih0LGUscyl7ZT1lfHxcInhcIixzPXN8fFwieVwiO3ZhciBuPW5ldyBpLlBvaW50O3JldHVybiB0W2VdJiYobi54PXBhcnNlSW50KHRbZV0sMTApKSx0W3NdJiYobi55PXBhcnNlSW50KHRbc10sMTApKSxufSxpLlBvaW50LmlzUG9pbnQ9ZnVuY3Rpb24odCl7cmV0dXJuIG51bGwhPXQmJlwibnVtYmVyXCI9PXR5cGVvZiB0LngmJlwibnVtYmVyXCI9PXR5cGVvZiB0Lnl9LGkuUG9pbnQuc2V0PWZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gdC54PWV8fDAsdC55PWl8fCgwIT09aT90Lng6MCksdH0saS5Qb2ludC5zb3J0Q2xvY2t3aXNlPWZ1bmN0aW9uKHQsZSl7ZXx8KGU9dGhpcy5jZW50cm9pZCh0KSk7dmFyIGk9ZS54LHM9ZS55O3JldHVybiB0LnNvcnQoZnVuY3Rpb24odCxlKXtpZih0LngtaT49MCYmZS54LWk8MClyZXR1cm4tMTtpZih0LngtaTwwJiZlLngtaT49MClyZXR1cm4gMTtpZih0LngtaT09MCYmZS54LWk9PTApcmV0dXJuIHQueS1zPj0wfHxlLnktcz49MD90Lnk+ZS55PzE6LTE6ZS55PnQueT8xOi0xO3ZhciBuPSh0LngtaSkqLShlLnktcyktKGUueC1pKSotKHQueS1zKTtyZXR1cm4gbjwwPy0xOm4+MD8xOih0LngtaSkqKHQueC1pKSsodC55LXMpKih0Lnktcyk+KGUueC1pKSooZS54LWkpKyhlLnktcykqKGUueS1zKT8tMToxfSl9LFBJWEkuUG9pbnQ9aS5Qb2ludCxpLlBvbHlnb249ZnVuY3Rpb24oKXt0aGlzLmFyZWE9MCx0aGlzLl9wb2ludHM9W10sYXJndW1lbnRzLmxlbmd0aD4wJiZ0aGlzLnNldFRvLmFwcGx5KHRoaXMsYXJndW1lbnRzKSx0aGlzLmNsb3NlZD0hMCx0aGlzLmZsYXR0ZW5lZD0hMSx0aGlzLnR5cGU9aS5QT0xZR09OfSxpLlBvbHlnb24ucHJvdG90eXBlPXt0b051bWJlckFycmF5OmZ1bmN0aW9uKHQpe3ZvaWQgMD09PXQmJih0PVtdKTtmb3IodmFyIGU9MDtlPHRoaXMuX3BvaW50cy5sZW5ndGg7ZSsrKVwibnVtYmVyXCI9PXR5cGVvZiB0aGlzLl9wb2ludHNbZV0/KHQucHVzaCh0aGlzLl9wb2ludHNbZV0pLHQucHVzaCh0aGlzLl9wb2ludHNbZSsxXSksZSsrKToodC5wdXNoKHRoaXMuX3BvaW50c1tlXS54KSx0LnB1c2godGhpcy5fcG9pbnRzW2VdLnkpKTtyZXR1cm4gdH0sZmxhdHRlbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9wb2ludHM9dGhpcy50b051bWJlckFycmF5KCksdGhpcy5mbGF0dGVuZWQ9ITAsdGhpc30sY2xvbmU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fcG9pbnRzLnNsaWNlKCk7cmV0dXJuIHZvaWQgMD09PXR8fG51bGw9PT10P3Q9bmV3IGkuUG9seWdvbihlKTp0LnNldFRvKGUpLHR9LGNvbnRhaW5zOmZ1bmN0aW9uKHQsZSl7dmFyIGk9ITE7aWYodGhpcy5mbGF0dGVuZWQpZm9yKHZhciBzPS0yLG49dGhpcy5fcG9pbnRzLmxlbmd0aC0yOyhzKz0yKTx0aGlzLl9wb2ludHMubGVuZ3RoO249cyl7dmFyIG89dGhpcy5fcG9pbnRzW3NdLHI9dGhpcy5fcG9pbnRzW3MrMV0sYT10aGlzLl9wb2ludHNbbl0saD10aGlzLl9wb2ludHNbbisxXTsocjw9ZSYmZTxofHxoPD1lJiZlPHIpJiZ0PChhLW8pKihlLXIpLyhoLXIpK28mJihpPSFpKX1lbHNlIGZvcih2YXIgcz0tMSxuPXRoaXMuX3BvaW50cy5sZW5ndGgtMTsrK3M8dGhpcy5fcG9pbnRzLmxlbmd0aDtuPXMpe3ZhciBvPXRoaXMuX3BvaW50c1tzXS54LHI9dGhpcy5fcG9pbnRzW3NdLnksYT10aGlzLl9wb2ludHNbbl0ueCxoPXRoaXMuX3BvaW50c1tuXS55OyhyPD1lJiZlPGh8fGg8PWUmJmU8cikmJnQ8KGEtbykqKGUtcikvKGgtcikrbyYmKGk9IWkpfXJldHVybiBpfSxzZXRUbzpmdW5jdGlvbih0KXtpZih0aGlzLmFyZWE9MCx0aGlzLl9wb2ludHM9W10sYXJndW1lbnRzLmxlbmd0aD4wKXtBcnJheS5pc0FycmF5KHQpfHwodD1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpKTtmb3IodmFyIGU9TnVtYmVyLk1BWF9WQUxVRSxpPTAscz10Lmxlbmd0aDtpPHM7aSsrKXtpZihcIm51bWJlclwiPT10eXBlb2YgdFtpXSl7bj1uZXcgUElYSS5Qb2ludCh0W2ldLHRbaSsxXSk7aSsrfWVsc2UgaWYoQXJyYXkuaXNBcnJheSh0W2ldKSluPW5ldyBQSVhJLlBvaW50KHRbaV1bMF0sdFtpXVsxXSk7ZWxzZSB2YXIgbj1uZXcgUElYSS5Qb2ludCh0W2ldLngsdFtpXS55KTt0aGlzLl9wb2ludHMucHVzaChuKSxuLnk8ZSYmKGU9bi55KX10aGlzLmNhbGN1bGF0ZUFyZWEoZSl9cmV0dXJuIHRoaXN9LGNhbGN1bGF0ZUFyZWE6ZnVuY3Rpb24odCl7Zm9yKHZhciBlLGkscyxuLG89MCxyPXRoaXMuX3BvaW50cy5sZW5ndGg7bzxyO28rKyllPXRoaXMuX3BvaW50c1tvXSxpPW89PT1yLTE/dGhpcy5fcG9pbnRzWzBdOnRoaXMuX3BvaW50c1tvKzFdLHM9KGUueS10KyhpLnktdCkpLzIsbj1lLngtaS54LHRoaXMuYXJlYSs9cypuO3JldHVybiB0aGlzLmFyZWF9fSxpLlBvbHlnb24ucHJvdG90eXBlLmNvbnN0cnVjdG9yPWkuUG9seWdvbixPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5Qb2x5Z29uLnByb3RvdHlwZSxcInBvaW50c1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcG9pbnRzfSxzZXQ6ZnVuY3Rpb24odCl7bnVsbCE9dD90aGlzLnNldFRvKHQpOnRoaXMuc2V0VG8oKX19KSxQSVhJLlBvbHlnb249aS5Qb2x5Z29uLGkuUmVjdGFuZ2xlPWZ1bmN0aW9uKHQsZSxzLG4pe3Q9dHx8MCxlPWV8fDAscz1zfHwwLG49bnx8MCx0aGlzLng9dCx0aGlzLnk9ZSx0aGlzLndpZHRoPXMsdGhpcy5oZWlnaHQ9bix0aGlzLnR5cGU9aS5SRUNUQU5HTEV9LGkuUmVjdGFuZ2xlLnByb3RvdHlwZT17b2Zmc2V0OmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMueCs9dCx0aGlzLnkrPWUsdGhpc30sb2Zmc2V0UG9pbnQ6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMub2Zmc2V0KHQueCx0LnkpfSxzZXRUbzpmdW5jdGlvbih0LGUsaSxzKXtyZXR1cm4gdGhpcy54PXQsdGhpcy55PWUsdGhpcy53aWR0aD1pLHRoaXMuaGVpZ2h0PXMsdGhpc30sc2NhbGU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9dCksdGhpcy53aWR0aCo9dCx0aGlzLmhlaWdodCo9ZSx0aGlzfSxjZW50ZXJPbjpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmNlbnRlclg9dCx0aGlzLmNlbnRlclk9ZSx0aGlzfSxmbG9vcjpmdW5jdGlvbigpe3RoaXMueD1NYXRoLmZsb29yKHRoaXMueCksdGhpcy55PU1hdGguZmxvb3IodGhpcy55KX0sZmxvb3JBbGw6ZnVuY3Rpb24oKXt0aGlzLng9TWF0aC5mbG9vcih0aGlzLngpLHRoaXMueT1NYXRoLmZsb29yKHRoaXMueSksdGhpcy53aWR0aD1NYXRoLmZsb29yKHRoaXMud2lkdGgpLHRoaXMuaGVpZ2h0PU1hdGguZmxvb3IodGhpcy5oZWlnaHQpfSxjZWlsOmZ1bmN0aW9uKCl7dGhpcy54PU1hdGguY2VpbCh0aGlzLngpLHRoaXMueT1NYXRoLmNlaWwodGhpcy55KX0sY2VpbEFsbDpmdW5jdGlvbigpe3RoaXMueD1NYXRoLmNlaWwodGhpcy54KSx0aGlzLnk9TWF0aC5jZWlsKHRoaXMueSksdGhpcy53aWR0aD1NYXRoLmNlaWwodGhpcy53aWR0aCksdGhpcy5oZWlnaHQ9TWF0aC5jZWlsKHRoaXMuaGVpZ2h0KX0sY29weUZyb206ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuc2V0VG8odC54LHQueSx0LndpZHRoLHQuaGVpZ2h0KX0sY29weUZyb21Cb3VuZHM6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuc2V0VG8odC5sZWZ0LHQudG9wLHQud2lkdGgsdC5oZWlnaHQpfSxjb3B5VG86ZnVuY3Rpb24odCl7cmV0dXJuIHQueD10aGlzLngsdC55PXRoaXMueSx0LndpZHRoPXRoaXMud2lkdGgsdC5oZWlnaHQ9dGhpcy5oZWlnaHQsdH0saW5mbGF0ZTpmdW5jdGlvbih0LGUpe3JldHVybiBpLlJlY3RhbmdsZS5pbmZsYXRlKHRoaXMsdCxlKX0sc2l6ZTpmdW5jdGlvbih0KXtyZXR1cm4gaS5SZWN0YW5nbGUuc2l6ZSh0aGlzLHQpfSxyZXNpemU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy53aWR0aD10LHRoaXMuaGVpZ2h0PWUsdGhpc30sY2xvbmU6ZnVuY3Rpb24odCl7cmV0dXJuIGkuUmVjdGFuZ2xlLmNsb25lKHRoaXMsdCl9LGNvbnRhaW5zOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIGkuUmVjdGFuZ2xlLmNvbnRhaW5zKHRoaXMsdCxlKX0sY29udGFpbnNSZWN0OmZ1bmN0aW9uKHQpe3JldHVybiBpLlJlY3RhbmdsZS5jb250YWluc1JlY3QodCx0aGlzKX0sZXF1YWxzOmZ1bmN0aW9uKHQpe3JldHVybiBpLlJlY3RhbmdsZS5lcXVhbHModGhpcyx0KX0saW50ZXJzZWN0aW9uOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIGkuUmVjdGFuZ2xlLmludGVyc2VjdGlvbih0aGlzLHQsZSl9LGludGVyc2VjdHM6ZnVuY3Rpb24odCl7cmV0dXJuIGkuUmVjdGFuZ2xlLmludGVyc2VjdHModGhpcyx0KX0saW50ZXJzZWN0c1JhdzpmdW5jdGlvbih0LGUscyxuLG8pe3JldHVybiBpLlJlY3RhbmdsZS5pbnRlcnNlY3RzUmF3KHRoaXMsdCxlLHMsbixvKX0sdW5pb246ZnVuY3Rpb24odCxlKXtyZXR1cm4gaS5SZWN0YW5nbGUudW5pb24odGhpcyx0LGUpfSxyYW5kb206ZnVuY3Rpb24odCl7cmV0dXJuIHZvaWQgMD09PXQmJih0PW5ldyBpLlBvaW50KSx0Lng9dGhpcy5yYW5kb21YLHQueT10aGlzLnJhbmRvbVksdH0sZ2V0UG9pbnQ6ZnVuY3Rpb24odCxlKXtzd2l0Y2godm9pZCAwPT09ZSYmKGU9bmV3IGkuUG9pbnQpLHQpe2RlZmF1bHQ6Y2FzZSBpLlRPUF9MRUZUOnJldHVybiBlLnNldCh0aGlzLngsdGhpcy55KTtjYXNlIGkuVE9QX0NFTlRFUjpyZXR1cm4gZS5zZXQodGhpcy5jZW50ZXJYLHRoaXMueSk7Y2FzZSBpLlRPUF9SSUdIVDpyZXR1cm4gZS5zZXQodGhpcy5yaWdodCx0aGlzLnkpO2Nhc2UgaS5MRUZUX0NFTlRFUjpyZXR1cm4gZS5zZXQodGhpcy54LHRoaXMuY2VudGVyWSk7Y2FzZSBpLkNFTlRFUjpyZXR1cm4gZS5zZXQodGhpcy5jZW50ZXJYLHRoaXMuY2VudGVyWSk7Y2FzZSBpLlJJR0hUX0NFTlRFUjpyZXR1cm4gZS5zZXQodGhpcy5yaWdodCx0aGlzLmNlbnRlclkpO2Nhc2UgaS5CT1RUT01fTEVGVDpyZXR1cm4gZS5zZXQodGhpcy54LHRoaXMuYm90dG9tKTtjYXNlIGkuQk9UVE9NX0NFTlRFUjpyZXR1cm4gZS5zZXQodGhpcy5jZW50ZXJYLHRoaXMuYm90dG9tKTtjYXNlIGkuQk9UVE9NX1JJR0hUOnJldHVybiBlLnNldCh0aGlzLnJpZ2h0LHRoaXMuYm90dG9tKX19LHNpZGVzOmZ1bmN0aW9uKHQsZSxzLG4pe2FyZ3VtZW50cy5sZW5ndGh8fCh0PW5ldyBpLkxpbmUsZT1uZXcgaS5MaW5lLHM9bmV3IGkuTGluZSxuPW5ldyBpLkxpbmUpO3ZhciBvPXRoaXMueCxyPXRoaXMueSxhPXRoaXMucmlnaHQsaD10aGlzLmJvdHRvbTtyZXR1cm4gdC5zZXRUbyhvLHIsYSxyKSxlLnNldFRvKGEscixhLGgpLHMuc2V0VG8obyxoLGEsaCksbi5zZXRUbyhvLHIsbyxoKSxhcmd1bWVudHMubGVuZ3RoP251bGw6W3QsZSxzLG5dfSx0b1N0cmluZzpmdW5jdGlvbigpe3JldHVyblwiW3tSZWN0YW5nbGUgKHg9XCIrdGhpcy54K1wiIHk9XCIrdGhpcy55K1wiIHdpZHRoPVwiK3RoaXMud2lkdGgrXCIgaGVpZ2h0PVwiK3RoaXMuaGVpZ2h0K1wiIGVtcHR5PVwiK3RoaXMuZW1wdHkrXCIpfV1cIn19LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLlJlY3RhbmdsZS5wcm90b3R5cGUsXCJoYWxmV2lkdGhcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIE1hdGgucm91bmQodGhpcy53aWR0aC8yKX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5SZWN0YW5nbGUucHJvdG90eXBlLFwiaGFsZkhlaWdodFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gTWF0aC5yb3VuZCh0aGlzLmhlaWdodC8yKX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5SZWN0YW5nbGUucHJvdG90eXBlLFwiYm90dG9tXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnkrdGhpcy5oZWlnaHR9LHNldDpmdW5jdGlvbih0KXt0PD10aGlzLnk/dGhpcy5oZWlnaHQ9MDp0aGlzLmhlaWdodD10LXRoaXMueX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5SZWN0YW5nbGUucHJvdG90eXBlLFwiYm90dG9tTGVmdFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGkuUG9pbnQodGhpcy54LHRoaXMuYm90dG9tKX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMueD10LngsdGhpcy5ib3R0b209dC55fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLlJlY3RhbmdsZS5wcm90b3R5cGUsXCJib3R0b21SaWdodFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGkuUG9pbnQodGhpcy5yaWdodCx0aGlzLmJvdHRvbSl9LHNldDpmdW5jdGlvbih0KXt0aGlzLnJpZ2h0PXQueCx0aGlzLmJvdHRvbT10Lnl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuUmVjdGFuZ2xlLnByb3RvdHlwZSxcImxlZnRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMueH0sc2V0OmZ1bmN0aW9uKHQpe3Q+PXRoaXMucmlnaHQ/dGhpcy53aWR0aD0wOnRoaXMud2lkdGg9dGhpcy5yaWdodC10LHRoaXMueD10fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLlJlY3RhbmdsZS5wcm90b3R5cGUsXCJyaWdodFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy54K3RoaXMud2lkdGh9LHNldDpmdW5jdGlvbih0KXt0PD10aGlzLng/dGhpcy53aWR0aD0wOnRoaXMud2lkdGg9dC10aGlzLnh9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuUmVjdGFuZ2xlLnByb3RvdHlwZSxcInZvbHVtZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy53aWR0aCp0aGlzLmhlaWdodH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5SZWN0YW5nbGUucHJvdG90eXBlLFwicGVyaW1ldGVyXCIse2dldDpmdW5jdGlvbigpe3JldHVybiAyKnRoaXMud2lkdGgrMip0aGlzLmhlaWdodH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5SZWN0YW5nbGUucHJvdG90eXBlLFwiY2VudGVyWFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy54K3RoaXMuaGFsZldpZHRofSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy54PXQtdGhpcy5oYWxmV2lkdGh9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuUmVjdGFuZ2xlLnByb3RvdHlwZSxcImNlbnRlcllcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMueSt0aGlzLmhhbGZIZWlnaHR9LHNldDpmdW5jdGlvbih0KXt0aGlzLnk9dC10aGlzLmhhbGZIZWlnaHR9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuUmVjdGFuZ2xlLnByb3RvdHlwZSxcInJhbmRvbVhcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMueCtNYXRoLnJhbmRvbSgpKnRoaXMud2lkdGh9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuUmVjdGFuZ2xlLnByb3RvdHlwZSxcInJhbmRvbVlcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMueStNYXRoLnJhbmRvbSgpKnRoaXMuaGVpZ2h0fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLlJlY3RhbmdsZS5wcm90b3R5cGUsXCJ0b3BcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMueX0sc2V0OmZ1bmN0aW9uKHQpe3Q+PXRoaXMuYm90dG9tPyh0aGlzLmhlaWdodD0wLHRoaXMueT10KTp0aGlzLmhlaWdodD10aGlzLmJvdHRvbS10fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLlJlY3RhbmdsZS5wcm90b3R5cGUsXCJ0b3BMZWZ0XCIse2dldDpmdW5jdGlvbigpe3JldHVybiBuZXcgaS5Qb2ludCh0aGlzLngsdGhpcy55KX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMueD10LngsdGhpcy55PXQueX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5SZWN0YW5nbGUucHJvdG90eXBlLFwidG9wUmlnaHRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBpLlBvaW50KHRoaXMueCt0aGlzLndpZHRoLHRoaXMueSl9LHNldDpmdW5jdGlvbih0KXt0aGlzLnJpZ2h0PXQueCx0aGlzLnk9dC55fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLlJlY3RhbmdsZS5wcm90b3R5cGUsXCJlbXB0eVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy53aWR0aHx8IXRoaXMuaGVpZ2h0fSxzZXQ6ZnVuY3Rpb24odCl7ITA9PT10JiZ0aGlzLnNldFRvKDAsMCwwLDApfX0pLGkuUmVjdGFuZ2xlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1pLlJlY3RhbmdsZSxpLlJlY3RhbmdsZS5pbmZsYXRlPWZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gdC54LT1lLHQud2lkdGgrPTIqZSx0LnktPWksdC5oZWlnaHQrPTIqaSx0fSxpLlJlY3RhbmdsZS5pbmZsYXRlUG9pbnQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gaS5SZWN0YW5nbGUuaW5mbGF0ZSh0LGUueCxlLnkpfSxpLlJlY3RhbmdsZS5zaXplPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHZvaWQgMD09PWV8fG51bGw9PT1lP2U9bmV3IGkuUG9pbnQodC53aWR0aCx0LmhlaWdodCk6ZS5zZXRUbyh0LndpZHRoLHQuaGVpZ2h0KSxlfSxpLlJlY3RhbmdsZS5jbG9uZT1mdW5jdGlvbih0LGUpe3JldHVybiB2b2lkIDA9PT1lfHxudWxsPT09ZT9lPW5ldyBpLlJlY3RhbmdsZSh0LngsdC55LHQud2lkdGgsdC5oZWlnaHQpOmUuc2V0VG8odC54LHQueSx0LndpZHRoLHQuaGVpZ2h0KSxlfSxpLlJlY3RhbmdsZS5jcmVhdGVGcm9tQm91bmRzPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHZvaWQgMCE9PWUmJm51bGwhPT1lfHwoZT1uZXcgaS5SZWN0YW5nbGUodC54LHQueSx0LndpZHRoLHQuaGVpZ2h0KSksZS5jb3B5RnJvbUJvdW5kcyh0KX0saS5SZWN0YW5nbGUuY29udGFpbnM9ZnVuY3Rpb24odCxlLGkpe3JldHVybiEodC53aWR0aDw9MHx8dC5oZWlnaHQ8PTApJiYoZT49dC54JiZlPHQucmlnaHQmJmk+PXQueSYmaTx0LmJvdHRvbSl9LGkuUmVjdGFuZ2xlLmNvbnRhaW5zUmF3PWZ1bmN0aW9uKHQsZSxpLHMsbixvKXtyZXR1cm4gbj49dCYmbjx0K2kmJm8+PWUmJm88ZStzfSxpLlJlY3RhbmdsZS5jb250YWluc1BvaW50PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGkuUmVjdGFuZ2xlLmNvbnRhaW5zKHQsZS54LGUueSl9LGkuUmVjdGFuZ2xlLmNvbnRhaW5zUmVjdD1mdW5jdGlvbih0LGUpe3JldHVybiEodC52b2x1bWU+ZS52b2x1bWUpJiYodC54Pj1lLngmJnQueT49ZS55JiZ0LnJpZ2h0PGUucmlnaHQmJnQuYm90dG9tPGUuYm90dG9tKX0saS5SZWN0YW5nbGUuZXF1YWxzPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQueD09PWUueCYmdC55PT09ZS55JiZ0LndpZHRoPT09ZS53aWR0aCYmdC5oZWlnaHQ9PT1lLmhlaWdodH0saS5SZWN0YW5nbGUuc2FtZURpbWVuc2lvbnM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC53aWR0aD09PWUud2lkdGgmJnQuaGVpZ2h0PT09ZS5oZWlnaHR9LGkuUmVjdGFuZ2xlLmludGVyc2VjdGlvbj1mdW5jdGlvbih0LGUscyl7cmV0dXJuIHZvaWQgMD09PXMmJihzPW5ldyBpLlJlY3RhbmdsZSksaS5SZWN0YW5nbGUuaW50ZXJzZWN0cyh0LGUpJiYocy54PU1hdGgubWF4KHQueCxlLngpLHMueT1NYXRoLm1heCh0LnksZS55KSxzLndpZHRoPU1hdGgubWluKHQucmlnaHQsZS5yaWdodCktcy54LHMuaGVpZ2h0PU1hdGgubWluKHQuYm90dG9tLGUuYm90dG9tKS1zLnkpLHN9LGkuUmVjdGFuZ2xlLmludGVyc2VjdHM9ZnVuY3Rpb24odCxlKXtyZXR1cm4hKHQud2lkdGg8PTB8fHQuaGVpZ2h0PD0wfHxlLndpZHRoPD0wfHxlLmhlaWdodDw9MCkmJiEodC5yaWdodDxlLnh8fHQuYm90dG9tPGUueXx8dC54PmUucmlnaHR8fHQueT5lLmJvdHRvbSl9LGkuUmVjdGFuZ2xlLmludGVyc2VjdHNSYXc9ZnVuY3Rpb24odCxlLGkscyxuLG8pe3JldHVybiB2b2lkIDA9PT1vJiYobz0wKSwhKGU+dC5yaWdodCtvfHxpPHQubGVmdC1vfHxzPnQuYm90dG9tK298fG48dC50b3Atbyl9LGkuUmVjdGFuZ2xlLnVuaW9uPWZ1bmN0aW9uKHQsZSxzKXtyZXR1cm4gdm9pZCAwPT09cyYmKHM9bmV3IGkuUmVjdGFuZ2xlKSxzLnNldFRvKE1hdGgubWluKHQueCxlLngpLE1hdGgubWluKHQueSxlLnkpLE1hdGgubWF4KHQucmlnaHQsZS5yaWdodCktTWF0aC5taW4odC5sZWZ0LGUubGVmdCksTWF0aC5tYXgodC5ib3R0b20sZS5ib3R0b20pLU1hdGgubWluKHQudG9wLGUudG9wKSl9LGkuUmVjdGFuZ2xlLmFhYmI9ZnVuY3Rpb24odCxlKXt2b2lkIDA9PT1lJiYoZT1uZXcgaS5SZWN0YW5nbGUpO3ZhciBzPU51bWJlci5ORUdBVElWRV9JTkZJTklUWSxuPU51bWJlci5QT1NJVElWRV9JTkZJTklUWSxvPU51bWJlci5ORUdBVElWRV9JTkZJTklUWSxyPU51bWJlci5QT1NJVElWRV9JTkZJTklUWTtyZXR1cm4gdC5mb3JFYWNoKGZ1bmN0aW9uKHQpe3QueD5zJiYocz10LngpLHQueDxuJiYobj10LngpLHQueT5vJiYobz10LnkpLHQueTxyJiYocj10LnkpfSksZS5zZXRUbyhuLHIscy1uLG8tciksZX0sUElYSS5SZWN0YW5nbGU9aS5SZWN0YW5nbGUsUElYSS5FbXB0eVJlY3RhbmdsZT1uZXcgaS5SZWN0YW5nbGUoMCwwLDAsMCksaS5Sb3VuZGVkUmVjdGFuZ2xlPWZ1bmN0aW9uKHQsZSxzLG4sbyl7dm9pZCAwPT09dCYmKHQ9MCksdm9pZCAwPT09ZSYmKGU9MCksdm9pZCAwPT09cyYmKHM9MCksdm9pZCAwPT09biYmKG49MCksdm9pZCAwPT09byYmKG89MjApLHRoaXMueD10LHRoaXMueT1lLHRoaXMud2lkdGg9cyx0aGlzLmhlaWdodD1uLHRoaXMucmFkaXVzPW98fDIwLHRoaXMudHlwZT1pLlJPVU5ERURSRUNUQU5HTEV9LGkuUm91bmRlZFJlY3RhbmdsZS5wcm90b3R5cGU9e2Nsb25lOmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBpLlJvdW5kZWRSZWN0YW5nbGUodGhpcy54LHRoaXMueSx0aGlzLndpZHRoLHRoaXMuaGVpZ2h0LHRoaXMucmFkaXVzKX0sY29udGFpbnM6ZnVuY3Rpb24odCxlKXtpZih0aGlzLndpZHRoPD0wfHx0aGlzLmhlaWdodDw9MClyZXR1cm4hMTt2YXIgaT10aGlzLng7aWYodD49aSYmdDw9aSt0aGlzLndpZHRoKXt2YXIgcz10aGlzLnk7aWYoZT49cyYmZTw9cyt0aGlzLmhlaWdodClyZXR1cm4hMH1yZXR1cm4hMX19LGkuUm91bmRlZFJlY3RhbmdsZS5wcm90b3R5cGUuY29uc3RydWN0b3I9aS5Sb3VuZGVkUmVjdGFuZ2xlLFBJWEkuUm91bmRlZFJlY3RhbmdsZT1pLlJvdW5kZWRSZWN0YW5nbGUsaS5DYW1lcmE9ZnVuY3Rpb24odCxlLHMsbixvLHIpe3RoaXMuZ2FtZT10LHRoaXMud29ybGQ9dC53b3JsZCx0aGlzLmlkPTAsdGhpcy52aWV3PW5ldyBpLlJlY3RhbmdsZShzLG4sbyxyKSx0aGlzLmJvdW5kcz1uZXcgaS5SZWN0YW5nbGUocyxuLG8sciksdGhpcy5kZWFkem9uZT1udWxsLHRoaXMudmlzaWJsZT0hMCx0aGlzLnJvdW5kUHg9ITAsdGhpcy5hdExpbWl0PXt4OiExLHk6ITF9LHRoaXMudGFyZ2V0PW51bGwsdGhpcy5kaXNwbGF5T2JqZWN0PW51bGwsdGhpcy5zY2FsZT1udWxsLHRoaXMudG90YWxJblZpZXc9MCx0aGlzLmxlcnA9bmV3IGkuUG9pbnQoMSwxKSx0aGlzLm9uU2hha2VDb21wbGV0ZT1uZXcgaS5TaWduYWwsdGhpcy5vbkZsYXNoQ29tcGxldGU9bmV3IGkuU2lnbmFsLHRoaXMub25GYWRlQ29tcGxldGU9bmV3IGkuU2lnbmFsLHRoaXMuZng9bnVsbCx0aGlzLl90YXJnZXRQb3NpdGlvbj1uZXcgaS5Qb2ludCx0aGlzLl9lZGdlPTAsdGhpcy5fcG9zaXRpb249bmV3IGkuUG9pbnQsdGhpcy5fc2hha2U9e2ludGVuc2l0eTowLGR1cmF0aW9uOjAsaG9yaXpvbnRhbDohMSx2ZXJ0aWNhbDohMSxzaGFrZUJvdW5kczohMCx4OjAseTowfSx0aGlzLl9meER1cmF0aW9uPTAsdGhpcy5fZnhUeXBlPTAsdGhpcy5fZml4ZWRWaWV3PW5ldyBpLlJlY3RhbmdsZX0saS5DYW1lcmEuRk9MTE9XX0xPQ0tPTj0wLGkuQ2FtZXJhLkZPTExPV19QTEFURk9STUVSPTEsaS5DYW1lcmEuRk9MTE9XX1RPUERPV049MixpLkNhbWVyYS5GT0xMT1dfVE9QRE9XTl9USUdIVD0zLGkuQ2FtZXJhLlNIQUtFX0JPVEg9NCxpLkNhbWVyYS5TSEFLRV9IT1JJWk9OVEFMPTUsaS5DYW1lcmEuU0hBS0VfVkVSVElDQUw9NixpLkNhbWVyYS5FTkFCTEVfRlg9ITAsaS5DYW1lcmEucHJvdG90eXBlPXtib290OmZ1bmN0aW9uKCl7dGhpcy5kaXNwbGF5T2JqZWN0PXRoaXMuZ2FtZS53b3JsZCx0aGlzLnNjYWxlPXRoaXMuZ2FtZS53b3JsZC5zY2FsZSx0aGlzLmdhbWUuY2FtZXJhPXRoaXMsaS5HcmFwaGljcyYmaS5DYW1lcmEuRU5BQkxFX0ZYJiYodGhpcy5meD1uZXcgaS5HcmFwaGljcyh0aGlzLmdhbWUpLHRoaXMuZ2FtZS5zdGFnZS5hZGRDaGlsZCh0aGlzLmZ4KSl9LHByZVVwZGF0ZTpmdW5jdGlvbigpe3RoaXMudG90YWxJblZpZXc9MH0sZm9sbG93OmZ1bmN0aW9uKHQsZSxzLG4pe3ZvaWQgMD09PWUmJihlPWkuQ2FtZXJhLkZPTExPV19MT0NLT04pLHZvaWQgMD09PXMmJihzPTEpLHZvaWQgMD09PW4mJihuPTEpLHRoaXMudGFyZ2V0PXQsdGhpcy5sZXJwLnNldChzLG4pO3ZhciBvO3N3aXRjaChlKXtjYXNlIGkuQ2FtZXJhLkZPTExPV19QTEFURk9STUVSOnZhciByPXRoaXMud2lkdGgvOCxhPXRoaXMuaGVpZ2h0LzM7dGhpcy5kZWFkem9uZT1uZXcgaS5SZWN0YW5nbGUoKHRoaXMud2lkdGgtcikvMiwodGhpcy5oZWlnaHQtYSkvMi0uMjUqYSxyLGEpO2JyZWFrO2Nhc2UgaS5DYW1lcmEuRk9MTE9XX1RPUERPV046bz1NYXRoLm1heCh0aGlzLndpZHRoLHRoaXMuaGVpZ2h0KS80LHRoaXMuZGVhZHpvbmU9bmV3IGkuUmVjdGFuZ2xlKCh0aGlzLndpZHRoLW8pLzIsKHRoaXMuaGVpZ2h0LW8pLzIsbyxvKTticmVhaztjYXNlIGkuQ2FtZXJhLkZPTExPV19UT1BET1dOX1RJR0hUOm89TWF0aC5tYXgodGhpcy53aWR0aCx0aGlzLmhlaWdodCkvOCx0aGlzLmRlYWR6b25lPW5ldyBpLlJlY3RhbmdsZSgodGhpcy53aWR0aC1vKS8yLCh0aGlzLmhlaWdodC1vKS8yLG8sbyk7YnJlYWs7Y2FzZSBpLkNhbWVyYS5GT0xMT1dfTE9DS09OOmRlZmF1bHQ6dGhpcy5kZWFkem9uZT1udWxsfX0sdW5mb2xsb3c6ZnVuY3Rpb24oKXt0aGlzLnRhcmdldD1udWxsfSxmb2N1c09uOmZ1bmN0aW9uKHQpe3RoaXMuc2V0UG9zaXRpb24oTWF0aC5yb3VuZCh0LngtdGhpcy52aWV3LmhhbGZXaWR0aCksTWF0aC5yb3VuZCh0LnktdGhpcy52aWV3LmhhbGZIZWlnaHQpKX0sZm9jdXNPblhZOmZ1bmN0aW9uKHQsZSl7dGhpcy5zZXRQb3NpdGlvbihNYXRoLnJvdW5kKHQtdGhpcy52aWV3LmhhbGZXaWR0aCksTWF0aC5yb3VuZChlLXRoaXMudmlldy5oYWxmSGVpZ2h0KSl9LHNoYWtlOmZ1bmN0aW9uKHQsZSxzLG4sbyl7cmV0dXJuIHZvaWQgMD09PXQmJih0PS4wNSksdm9pZCAwPT09ZSYmKGU9NTAwKSx2b2lkIDA9PT1zJiYocz0hMCksdm9pZCAwPT09biYmKG49aS5DYW1lcmEuU0hBS0VfQk9USCksdm9pZCAwPT09byYmKG89ITApLCEoIXMmJnRoaXMuX3NoYWtlLmR1cmF0aW9uPjApJiYodGhpcy5fc2hha2UuaW50ZW5zaXR5PXQsdGhpcy5fc2hha2UuZHVyYXRpb249ZSx0aGlzLl9zaGFrZS5zaGFrZUJvdW5kcz1vLHRoaXMuX3NoYWtlLng9MCx0aGlzLl9zaGFrZS55PTAsdGhpcy5fc2hha2UuaG9yaXpvbnRhbD1uPT09aS5DYW1lcmEuU0hBS0VfQk9USHx8bj09PWkuQ2FtZXJhLlNIQUtFX0hPUklaT05UQUwsdGhpcy5fc2hha2UudmVydGljYWw9bj09PWkuQ2FtZXJhLlNIQUtFX0JPVEh8fG49PT1pLkNhbWVyYS5TSEFLRV9WRVJUSUNBTCwhMCl9LGZsYXNoOmZ1bmN0aW9uKHQsZSxpLHMpe3JldHVybiB2b2lkIDA9PT10JiYodD0xNjc3NzIxNSksdm9pZCAwPT09ZSYmKGU9NTAwKSx2b2lkIDA9PT1pJiYoaT0hMSksdm9pZCAwPT09cyYmKHM9MSksISghdGhpcy5meHx8IWkmJnRoaXMuX2Z4RHVyYXRpb24+MCkmJih0aGlzLmZ4LmNsZWFyKCksdGhpcy5meC5iZWdpbkZpbGwodCxzKSx0aGlzLmZ4LmRyYXdSZWN0KDAsMCx0aGlzLndpZHRoLHRoaXMuaGVpZ2h0KSx0aGlzLmZ4LmVuZEZpbGwoKSx0aGlzLmZ4LmFscGhhPTEsdGhpcy5fZnhEdXJhdGlvbj1lLHRoaXMuX2Z4VHlwZT0wLCEwKX0sZmFkZTpmdW5jdGlvbih0LGUsaSxzKXtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9MCksdm9pZCAwPT09ZSYmKGU9NTAwKSx2b2lkIDA9PT1pJiYoaT0hMSksdm9pZCAwPT09cyYmKHM9MSksISghdGhpcy5meHx8IWkmJnRoaXMuX2Z4RHVyYXRpb24+MCkmJih0aGlzLmZ4LmNsZWFyKCksdGhpcy5meC5iZWdpbkZpbGwodCxzKSx0aGlzLmZ4LmRyYXdSZWN0KDAsMCx0aGlzLndpZHRoLHRoaXMuaGVpZ2h0KSx0aGlzLmZ4LmVuZEZpbGwoKSx0aGlzLmZ4LmFscGhhPTAsdGhpcy5fZnhEdXJhdGlvbj1lLHRoaXMuX2Z4VHlwZT0xLCEwKX0sdXBkYXRlOmZ1bmN0aW9uKCl7dGhpcy5fZnhEdXJhdGlvbj4wJiZ0aGlzLnVwZGF0ZUZYKCksdGhpcy5fc2hha2UuZHVyYXRpb24+MCYmdGhpcy51cGRhdGVTaGFrZSgpLHRoaXMuYm91bmRzJiZ0aGlzLmNoZWNrQm91bmRzKCksdGhpcy5yb3VuZFB4JiYodGhpcy52aWV3LmZsb29yKCksdGhpcy5fc2hha2UueD1NYXRoLmZsb29yKHRoaXMuX3NoYWtlLngpLHRoaXMuX3NoYWtlLnk9TWF0aC5mbG9vcih0aGlzLl9zaGFrZS55KSksdGhpcy5kaXNwbGF5T2JqZWN0LnBvc2l0aW9uLng9LXRoaXMudmlldy54LHRoaXMuZGlzcGxheU9iamVjdC5wb3NpdGlvbi55PS10aGlzLnZpZXcueX0sdXBkYXRlRlg6ZnVuY3Rpb24oKXswPT09dGhpcy5fZnhUeXBlPyh0aGlzLmZ4LmFscGhhLT10aGlzLmdhbWUudGltZS5lbGFwc2VkTVMvdGhpcy5fZnhEdXJhdGlvbix0aGlzLmZ4LmFscGhhPD0wJiYodGhpcy5fZnhEdXJhdGlvbj0wLHRoaXMuZnguYWxwaGE9MCx0aGlzLm9uRmxhc2hDb21wbGV0ZS5kaXNwYXRjaCgpKSk6KHRoaXMuZnguYWxwaGErPXRoaXMuZ2FtZS50aW1lLmVsYXBzZWRNUy90aGlzLl9meER1cmF0aW9uLHRoaXMuZnguYWxwaGE+PTEmJih0aGlzLl9meER1cmF0aW9uPTAsdGhpcy5meC5hbHBoYT0xLHRoaXMub25GYWRlQ29tcGxldGUuZGlzcGF0Y2goKSkpfSx1cGRhdGVTaGFrZTpmdW5jdGlvbigpe3RoaXMuX3NoYWtlLmR1cmF0aW9uLT10aGlzLmdhbWUudGltZS5lbGFwc2VkTVMsdGhpcy5fc2hha2UuZHVyYXRpb248PTA/KHRoaXMub25TaGFrZUNvbXBsZXRlLmRpc3BhdGNoKCksdGhpcy5fc2hha2UueD0wLHRoaXMuX3NoYWtlLnk9MCk6KHRoaXMuX3NoYWtlLmhvcml6b250YWwmJih0aGlzLl9zaGFrZS54PXRoaXMuZ2FtZS5ybmQuZnJhYygpKnRoaXMuX3NoYWtlLmludGVuc2l0eSp0aGlzLnZpZXcud2lkdGgqMi10aGlzLl9zaGFrZS5pbnRlbnNpdHkqdGhpcy52aWV3LndpZHRoKSx0aGlzLl9zaGFrZS52ZXJ0aWNhbCYmKHRoaXMuX3NoYWtlLnk9dGhpcy5nYW1lLnJuZC5mcmFjKCkqdGhpcy5fc2hha2UuaW50ZW5zaXR5KnRoaXMudmlldy5oZWlnaHQqMi10aGlzLl9zaGFrZS5pbnRlbnNpdHkqdGhpcy52aWV3LmhlaWdodCkpfSx1cGRhdGVUYXJnZXQ6ZnVuY3Rpb24oKXt0aGlzLl90YXJnZXRQb3NpdGlvbi54PXRoaXMudmlldy54K3RoaXMudGFyZ2V0LndvcmxkUG9zaXRpb24ueCx0aGlzLl90YXJnZXRQb3NpdGlvbi55PXRoaXMudmlldy55K3RoaXMudGFyZ2V0LndvcmxkUG9zaXRpb24ueSx0aGlzLmRlYWR6b25lPyh0aGlzLl9lZGdlPXRoaXMuX3RhcmdldFBvc2l0aW9uLngtdGhpcy52aWV3LngsdGhpcy5fZWRnZTx0aGlzLmRlYWR6b25lLmxlZnQ/dGhpcy52aWV3Lng9dGhpcy5nYW1lLm1hdGgubGluZWFyKHRoaXMudmlldy54LHRoaXMuX3RhcmdldFBvc2l0aW9uLngtdGhpcy5kZWFkem9uZS5sZWZ0LHRoaXMubGVycC54KTp0aGlzLl9lZGdlPnRoaXMuZGVhZHpvbmUucmlnaHQmJih0aGlzLnZpZXcueD10aGlzLmdhbWUubWF0aC5saW5lYXIodGhpcy52aWV3LngsdGhpcy5fdGFyZ2V0UG9zaXRpb24ueC10aGlzLmRlYWR6b25lLnJpZ2h0LHRoaXMubGVycC54KSksdGhpcy5fZWRnZT10aGlzLl90YXJnZXRQb3NpdGlvbi55LXRoaXMudmlldy55LHRoaXMuX2VkZ2U8dGhpcy5kZWFkem9uZS50b3A/dGhpcy52aWV3Lnk9dGhpcy5nYW1lLm1hdGgubGluZWFyKHRoaXMudmlldy55LHRoaXMuX3RhcmdldFBvc2l0aW9uLnktdGhpcy5kZWFkem9uZS50b3AsdGhpcy5sZXJwLnkpOnRoaXMuX2VkZ2U+dGhpcy5kZWFkem9uZS5ib3R0b20mJih0aGlzLnZpZXcueT10aGlzLmdhbWUubWF0aC5saW5lYXIodGhpcy52aWV3LnksdGhpcy5fdGFyZ2V0UG9zaXRpb24ueS10aGlzLmRlYWR6b25lLmJvdHRvbSx0aGlzLmxlcnAueSkpKToodGhpcy52aWV3Lng9dGhpcy5nYW1lLm1hdGgubGluZWFyKHRoaXMudmlldy54LHRoaXMuX3RhcmdldFBvc2l0aW9uLngtdGhpcy52aWV3LmhhbGZXaWR0aCx0aGlzLmxlcnAueCksdGhpcy52aWV3Lnk9dGhpcy5nYW1lLm1hdGgubGluZWFyKHRoaXMudmlldy55LHRoaXMuX3RhcmdldFBvc2l0aW9uLnktdGhpcy52aWV3LmhhbGZIZWlnaHQsdGhpcy5sZXJwLnkpKSx0aGlzLmJvdW5kcyYmdGhpcy5jaGVja0JvdW5kcygpLHRoaXMucm91bmRQeCYmdGhpcy52aWV3LmZsb29yKCksdGhpcy5kaXNwbGF5T2JqZWN0LnBvc2l0aW9uLng9LXRoaXMudmlldy54LHRoaXMuZGlzcGxheU9iamVjdC5wb3NpdGlvbi55PS10aGlzLnZpZXcueX0sc2V0Qm91bmRzVG9Xb3JsZDpmdW5jdGlvbigpe3RoaXMuYm91bmRzJiZ0aGlzLmJvdW5kcy5jb3B5RnJvbSh0aGlzLmdhbWUud29ybGQuYm91bmRzKX0sY2hlY2tCb3VuZHM6ZnVuY3Rpb24oKXt0aGlzLmF0TGltaXQueD0hMSx0aGlzLmF0TGltaXQueT0hMTt2YXIgdD10aGlzLnZpZXcueCt0aGlzLl9zaGFrZS54LGU9dGhpcy52aWV3LnJpZ2h0K3RoaXMuX3NoYWtlLngsaT10aGlzLnZpZXcueSt0aGlzLl9zaGFrZS55LHM9dGhpcy52aWV3LmJvdHRvbSt0aGlzLl9zaGFrZS55O3Q8PXRoaXMuYm91bmRzLngqdGhpcy5zY2FsZS54Pyh0aGlzLmF0TGltaXQueD0hMCx0aGlzLnZpZXcueD10aGlzLmJvdW5kcy54KnRoaXMuc2NhbGUueCx0aGlzLl9zaGFrZS5zaGFrZUJvdW5kc3x8KHRoaXMuX3NoYWtlLng9MCkpOmU+PXRoaXMuYm91bmRzLnJpZ2h0KnRoaXMuc2NhbGUueCYmKHRoaXMuYXRMaW1pdC54PSEwLHRoaXMudmlldy54PXRoaXMuYm91bmRzLnJpZ2h0KnRoaXMuc2NhbGUueC10aGlzLndpZHRoLHRoaXMuX3NoYWtlLnNoYWtlQm91bmRzfHwodGhpcy5fc2hha2UueD0wKSksaTw9dGhpcy5ib3VuZHMudG9wKnRoaXMuc2NhbGUueT8odGhpcy5hdExpbWl0Lnk9ITAsdGhpcy52aWV3Lnk9dGhpcy5ib3VuZHMudG9wKnRoaXMuc2NhbGUueSx0aGlzLl9zaGFrZS5zaGFrZUJvdW5kc3x8KHRoaXMuX3NoYWtlLnk9MCkpOnM+PXRoaXMuYm91bmRzLmJvdHRvbSp0aGlzLnNjYWxlLnkmJih0aGlzLmF0TGltaXQueT0hMCx0aGlzLnZpZXcueT10aGlzLmJvdW5kcy5ib3R0b20qdGhpcy5zY2FsZS55LXRoaXMuaGVpZ2h0LHRoaXMuX3NoYWtlLnNoYWtlQm91bmRzfHwodGhpcy5fc2hha2UueT0wKSl9LHNldFBvc2l0aW9uOmZ1bmN0aW9uKHQsZSl7dGhpcy52aWV3Lng9dCx0aGlzLnZpZXcueT1lLHRoaXMuYm91bmRzJiZ0aGlzLmNoZWNrQm91bmRzKCl9LHNldFNpemU6ZnVuY3Rpb24odCxlKXt0aGlzLnZpZXcud2lkdGg9dCx0aGlzLnZpZXcuaGVpZ2h0PWV9LHJlc2V0OmZ1bmN0aW9uKCl7dGhpcy50YXJnZXQ9bnVsbCx0aGlzLnZpZXcueD0wLHRoaXMudmlldy55PTAsdGhpcy5fc2hha2UuZHVyYXRpb249MCx0aGlzLl9zaGFrZS54PTAsdGhpcy5fc2hha2UueT0wLHRoaXMucmVzZXRGWCgpfSxyZXNldEZYOmZ1bmN0aW9uKCl7dGhpcy5meCYmKHRoaXMuZnguY2xlYXIoKSx0aGlzLmZ4LmFscGhhPTApLHRoaXMuX2Z4RHVyYXRpb249MH19LGkuQ2FtZXJhLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1pLkNhbWVyYSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5DYW1lcmEucHJvdG90eXBlLFwieFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52aWV3Lnh9LHNldDpmdW5jdGlvbih0KXt0aGlzLnZpZXcueD10LHRoaXMuYm91bmRzJiZ0aGlzLmNoZWNrQm91bmRzKCl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuQ2FtZXJhLnByb3RvdHlwZSxcInlcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudmlldy55fSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy52aWV3Lnk9dCx0aGlzLmJvdW5kcyYmdGhpcy5jaGVja0JvdW5kcygpfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLkNhbWVyYS5wcm90b3R5cGUsXCJwb3NpdGlvblwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcG9zaXRpb24uc2V0KHRoaXMudmlldy54LHRoaXMudmlldy55KSx0aGlzLl9wb3NpdGlvbn0sc2V0OmZ1bmN0aW9uKHQpe3ZvaWQgMCE9PXQueCYmKHRoaXMudmlldy54PXQueCksdm9pZCAwIT09dC55JiYodGhpcy52aWV3Lnk9dC55KSx0aGlzLmJvdW5kcyYmdGhpcy5jaGVja0JvdW5kcygpfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLkNhbWVyYS5wcm90b3R5cGUsXCJ3aWR0aFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52aWV3LndpZHRofSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy52aWV3LndpZHRoPXR9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuQ2FtZXJhLnByb3RvdHlwZSxcImhlaWdodFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52aWV3LmhlaWdodH0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMudmlldy5oZWlnaHQ9dH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5DYW1lcmEucHJvdG90eXBlLFwic2hha2VJbnRlbnNpdHlcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NoYWtlLmludGVuc2l0eX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3NoYWtlLmludGVuc2l0eT10fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLkNhbWVyYS5wcm90b3R5cGUsXCJmaXhlZFZpZXdcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ZpeGVkVmlldy5zZXRUbygwLDAsdGhpcy52aWV3LndpZHRoLHRoaXMudmlldy5oZWlnaHQpLHRoaXMuX2ZpeGVkVmlld319KSxpLlN0YXRlPWZ1bmN0aW9uKCl7dGhpcy5nYW1lPW51bGwsdGhpcy5rZXk9XCJcIix0aGlzLmFkZD1udWxsLHRoaXMubWFrZT1udWxsLHRoaXMuY2FtZXJhPW51bGwsdGhpcy5jYWNoZT1udWxsLHRoaXMuaW5wdXQ9bnVsbCx0aGlzLmxvYWQ9bnVsbCx0aGlzLm1hdGg9bnVsbCx0aGlzLnNvdW5kPW51bGwsdGhpcy5zY2FsZT1udWxsLHRoaXMuc3RhZ2U9bnVsbCx0aGlzLnN0YXRlPW51bGwsdGhpcy50aW1lPW51bGwsdGhpcy50d2VlbnM9bnVsbCx0aGlzLndvcmxkPW51bGwsdGhpcy5wYXJ0aWNsZXM9bnVsbCx0aGlzLnBoeXNpY3M9bnVsbCx0aGlzLnJuZD1udWxsfSxpLlN0YXRlLnByb3RvdHlwZT17aW5pdDpmdW5jdGlvbigpe30scHJlbG9hZDpmdW5jdGlvbigpe30sbG9hZFVwZGF0ZTpmdW5jdGlvbigpe30sbG9hZFJlbmRlcjpmdW5jdGlvbigpe30sY3JlYXRlOmZ1bmN0aW9uKCl7fSx1cGRhdGU6ZnVuY3Rpb24oKXt9LHByZVJlbmRlcjpmdW5jdGlvbigpe30scmVuZGVyOmZ1bmN0aW9uKCl7fSxyZXNpemU6ZnVuY3Rpb24oKXt9LHBhdXNlZDpmdW5jdGlvbigpe30scmVzdW1lZDpmdW5jdGlvbigpe30scGF1c2VVcGRhdGU6ZnVuY3Rpb24oKXt9LHNodXRkb3duOmZ1bmN0aW9uKCl7fX0saS5TdGF0ZS5wcm90b3R5cGUuY29uc3RydWN0b3I9aS5TdGF0ZSxpLlN0YXRlTWFuYWdlcj1mdW5jdGlvbih0LGUpe3RoaXMuZ2FtZT10LHRoaXMuc3RhdGVzPXt9LHRoaXMuX3BlbmRpbmdTdGF0ZT1udWxsLHZvaWQgMCE9PWUmJm51bGwhPT1lJiYodGhpcy5fcGVuZGluZ1N0YXRlPWUpLHRoaXMuX2NsZWFyV29ybGQ9ITEsdGhpcy5fY2xlYXJDYWNoZT0hMSx0aGlzLl9jcmVhdGVkPSExLHRoaXMuX2FyZ3M9W10sdGhpcy5jdXJyZW50PVwiXCIsdGhpcy5vblN0YXRlQ2hhbmdlPW5ldyBpLlNpZ25hbCx0aGlzLm9uSW5pdENhbGxiYWNrPW51bGwsdGhpcy5vblByZWxvYWRDYWxsYmFjaz1udWxsLHRoaXMub25DcmVhdGVDYWxsYmFjaz1udWxsLHRoaXMub25VcGRhdGVDYWxsYmFjaz1udWxsLHRoaXMub25SZW5kZXJDYWxsYmFjaz1udWxsLHRoaXMub25SZXNpemVDYWxsYmFjaz1udWxsLHRoaXMub25QcmVSZW5kZXJDYWxsYmFjaz1udWxsLHRoaXMub25Mb2FkVXBkYXRlQ2FsbGJhY2s9bnVsbCx0aGlzLm9uTG9hZFJlbmRlckNhbGxiYWNrPW51bGwsdGhpcy5vblBhdXNlZENhbGxiYWNrPW51bGwsdGhpcy5vblJlc3VtZWRDYWxsYmFjaz1udWxsLHRoaXMub25QYXVzZVVwZGF0ZUNhbGxiYWNrPW51bGwsdGhpcy5vblNodXREb3duQ2FsbGJhY2s9bnVsbH0saS5TdGF0ZU1hbmFnZXIucHJvdG90eXBlPXtib290OmZ1bmN0aW9uKCl7dGhpcy5nYW1lLm9uUGF1c2UuYWRkKHRoaXMucGF1c2UsdGhpcyksdGhpcy5nYW1lLm9uUmVzdW1lLmFkZCh0aGlzLnJlc3VtZSx0aGlzKSxudWxsIT09dGhpcy5fcGVuZGluZ1N0YXRlJiZcInN0cmluZ1wiIT10eXBlb2YgdGhpcy5fcGVuZGluZ1N0YXRlJiZ0aGlzLmFkZChcImRlZmF1bHRcIix0aGlzLl9wZW5kaW5nU3RhdGUsITApfSxhZGQ6ZnVuY3Rpb24odCxlLHMpe3ZvaWQgMD09PXMmJihzPSExKTt2YXIgbjtyZXR1cm4gZSBpbnN0YW5jZW9mIGkuU3RhdGU/bj1lOlwib2JqZWN0XCI9PXR5cGVvZiBlPyhuPWUpLmdhbWU9dGhpcy5nYW1lOlwiZnVuY3Rpb25cIj09dHlwZW9mIGUmJihuPW5ldyBlKHRoaXMuZ2FtZSkpLHRoaXMuc3RhdGVzW3RdPW4scyYmKHRoaXMuZ2FtZS5pc0Jvb3RlZD90aGlzLnN0YXJ0KHQpOnRoaXMuX3BlbmRpbmdTdGF0ZT10KSxufSxyZW1vdmU6ZnVuY3Rpb24odCl7dGhpcy5jdXJyZW50PT09dCYmKHRoaXMuY2FsbGJhY2tDb250ZXh0PW51bGwsdGhpcy5vbkluaXRDYWxsYmFjaz1udWxsLHRoaXMub25TaHV0RG93bkNhbGxiYWNrPW51bGwsdGhpcy5vblByZWxvYWRDYWxsYmFjaz1udWxsLHRoaXMub25Mb2FkUmVuZGVyQ2FsbGJhY2s9bnVsbCx0aGlzLm9uTG9hZFVwZGF0ZUNhbGxiYWNrPW51bGwsdGhpcy5vbkNyZWF0ZUNhbGxiYWNrPW51bGwsdGhpcy5vblVwZGF0ZUNhbGxiYWNrPW51bGwsdGhpcy5vblByZVJlbmRlckNhbGxiYWNrPW51bGwsdGhpcy5vblJlbmRlckNhbGxiYWNrPW51bGwsdGhpcy5vblJlc2l6ZUNhbGxiYWNrPW51bGwsdGhpcy5vblBhdXNlZENhbGxiYWNrPW51bGwsdGhpcy5vblJlc3VtZWRDYWxsYmFjaz1udWxsLHRoaXMub25QYXVzZVVwZGF0ZUNhbGxiYWNrPW51bGwpLGRlbGV0ZSB0aGlzLnN0YXRlc1t0XX0sc3RhcnQ6ZnVuY3Rpb24odCxlLGkpe3ZvaWQgMD09PWUmJihlPSEwKSx2b2lkIDA9PT1pJiYoaT0hMSksdGhpcy5jaGVja1N0YXRlKHQpJiYodGhpcy5fcGVuZGluZ1N0YXRlPXQsdGhpcy5fY2xlYXJXb3JsZD1lLHRoaXMuX2NsZWFyQ2FjaGU9aSxhcmd1bWVudHMubGVuZ3RoPjMmJih0aGlzLl9hcmdzPUFycmF5LnByb3RvdHlwZS5zcGxpY2UuY2FsbChhcmd1bWVudHMsMykpKX0scmVzdGFydDpmdW5jdGlvbih0LGUpe3ZvaWQgMD09PXQmJih0PSEwKSx2b2lkIDA9PT1lJiYoZT0hMSksdGhpcy5fcGVuZGluZ1N0YXRlPXRoaXMuY3VycmVudCx0aGlzLl9jbGVhcldvcmxkPXQsdGhpcy5fY2xlYXJDYWNoZT1lLGFyZ3VtZW50cy5sZW5ndGg+MiYmKHRoaXMuX2FyZ3M9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDIpKX0sZHVtbXk6ZnVuY3Rpb24oKXt9LHByZVVwZGF0ZTpmdW5jdGlvbigpe2lmKHRoaXMuX3BlbmRpbmdTdGF0ZSYmdGhpcy5nYW1lLmlzQm9vdGVkKXt2YXIgdD10aGlzLmN1cnJlbnQ7aWYodGhpcy5jbGVhckN1cnJlbnRTdGF0ZSgpLHRoaXMuc2V0Q3VycmVudFN0YXRlKHRoaXMuX3BlbmRpbmdTdGF0ZSksdGhpcy5vblN0YXRlQ2hhbmdlLmRpc3BhdGNoKHRoaXMuY3VycmVudCx0KSx0aGlzLmN1cnJlbnQhPT10aGlzLl9wZW5kaW5nU3RhdGUpcmV0dXJuO3RoaXMuX3BlbmRpbmdTdGF0ZT1udWxsLHRoaXMub25QcmVsb2FkQ2FsbGJhY2s/KHRoaXMuZ2FtZS5sb2FkLnJlc2V0KCEwKSx0aGlzLm9uUHJlbG9hZENhbGxiYWNrLmNhbGwodGhpcy5jYWxsYmFja0NvbnRleHQsdGhpcy5nYW1lKSwwPT09dGhpcy5nYW1lLmxvYWQudG90YWxRdWV1ZWRGaWxlcygpJiYwPT09dGhpcy5nYW1lLmxvYWQudG90YWxRdWV1ZWRQYWNrcygpP3RoaXMubG9hZENvbXBsZXRlKCk6dGhpcy5nYW1lLmxvYWQuc3RhcnQoKSk6dGhpcy5sb2FkQ29tcGxldGUoKX19LGNsZWFyQ3VycmVudFN0YXRlOmZ1bmN0aW9uKCl7dGhpcy5jdXJyZW50JiYodGhpcy5vblNodXREb3duQ2FsbGJhY2smJnRoaXMub25TaHV0RG93bkNhbGxiYWNrLmNhbGwodGhpcy5jYWxsYmFja0NvbnRleHQsdGhpcy5nYW1lKSx0aGlzLmdhbWUudHdlZW5zLnJlbW92ZUFsbCgpLHRoaXMuZ2FtZS5jYW1lcmEucmVzZXQoKSx0aGlzLmdhbWUuaW5wdXQucmVzZXQoITApLHRoaXMuZ2FtZS5waHlzaWNzLmNsZWFyKCksdGhpcy5nYW1lLnRpbWUucmVtb3ZlQWxsKCksdGhpcy5nYW1lLnNjYWxlLnJlc2V0KHRoaXMuX2NsZWFyV29ybGQpLHRoaXMuZ2FtZS5kZWJ1ZyYmdGhpcy5nYW1lLmRlYnVnLnJlc2V0KCksdGhpcy5fY2xlYXJXb3JsZCYmKHRoaXMuZ2FtZS53b3JsZC5zaHV0ZG93bigpLHRoaXMuX2NsZWFyQ2FjaGUmJnRoaXMuZ2FtZS5jYWNoZS5kZXN0cm95KCkpKX0sY2hlY2tTdGF0ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLnN0YXRlc1t0XTtyZXR1cm4gZT8hIShlLnByZWxvYWR8fGUuY3JlYXRlfHxlLnVwZGF0ZXx8ZS5yZW5kZXIpfHwoY29uc29sZS53YXJuKFwiSW52YWxpZCBQaGFzZXIgU3RhdGUgb2JqZWN0IGdpdmVuLiBNdXN0IGNvbnRhaW4gYXQgbGVhc3Qgb25lIG9mIHRoZSByZXF1aXJlZCBmdW5jdGlvbnM6IHByZWxvYWQsIGNyZWF0ZSwgdXBkYXRlIG9yIHJlbmRlclwiKSwhMSk6KGNvbnNvbGUud2FybihcIlBoYXNlci5TdGF0ZU1hbmFnZXIgLSBObyBzdGF0ZSBmb3VuZCB3aXRoIHRoZSBrZXk6IFwiK3QpLCExKX0sbGluazpmdW5jdGlvbih0KXt0aGlzLnN0YXRlc1t0XS5nYW1lPXRoaXMuZ2FtZSx0aGlzLnN0YXRlc1t0XS5hZGQ9dGhpcy5nYW1lLmFkZCx0aGlzLnN0YXRlc1t0XS5tYWtlPXRoaXMuZ2FtZS5tYWtlLHRoaXMuc3RhdGVzW3RdLmNhbWVyYT10aGlzLmdhbWUuY2FtZXJhLHRoaXMuc3RhdGVzW3RdLmNhY2hlPXRoaXMuZ2FtZS5jYWNoZSx0aGlzLnN0YXRlc1t0XS5pbnB1dD10aGlzLmdhbWUuaW5wdXQsdGhpcy5zdGF0ZXNbdF0ubG9hZD10aGlzLmdhbWUubG9hZCx0aGlzLnN0YXRlc1t0XS5tYXRoPXRoaXMuZ2FtZS5tYXRoLHRoaXMuc3RhdGVzW3RdLnNvdW5kPXRoaXMuZ2FtZS5zb3VuZCx0aGlzLnN0YXRlc1t0XS5zY2FsZT10aGlzLmdhbWUuc2NhbGUsdGhpcy5zdGF0ZXNbdF0uc3RhdGU9dGhpcyx0aGlzLnN0YXRlc1t0XS5zdGFnZT10aGlzLmdhbWUuc3RhZ2UsdGhpcy5zdGF0ZXNbdF0udGltZT10aGlzLmdhbWUudGltZSx0aGlzLnN0YXRlc1t0XS50d2VlbnM9dGhpcy5nYW1lLnR3ZWVucyx0aGlzLnN0YXRlc1t0XS53b3JsZD10aGlzLmdhbWUud29ybGQsdGhpcy5zdGF0ZXNbdF0ucGFydGljbGVzPXRoaXMuZ2FtZS5wYXJ0aWNsZXMsdGhpcy5zdGF0ZXNbdF0ucm5kPXRoaXMuZ2FtZS5ybmQsdGhpcy5zdGF0ZXNbdF0ucGh5c2ljcz10aGlzLmdhbWUucGh5c2ljcyx0aGlzLnN0YXRlc1t0XS5rZXk9dH0sdW5saW5rOmZ1bmN0aW9uKHQpe3RoaXMuc3RhdGVzW3RdJiYodGhpcy5zdGF0ZXNbdF0uZ2FtZT1udWxsLHRoaXMuc3RhdGVzW3RdLmFkZD1udWxsLHRoaXMuc3RhdGVzW3RdLm1ha2U9bnVsbCx0aGlzLnN0YXRlc1t0XS5jYW1lcmE9bnVsbCx0aGlzLnN0YXRlc1t0XS5jYWNoZT1udWxsLHRoaXMuc3RhdGVzW3RdLmlucHV0PW51bGwsdGhpcy5zdGF0ZXNbdF0ubG9hZD1udWxsLHRoaXMuc3RhdGVzW3RdLm1hdGg9bnVsbCx0aGlzLnN0YXRlc1t0XS5zb3VuZD1udWxsLHRoaXMuc3RhdGVzW3RdLnNjYWxlPW51bGwsdGhpcy5zdGF0ZXNbdF0uc3RhdGU9bnVsbCx0aGlzLnN0YXRlc1t0XS5zdGFnZT1udWxsLHRoaXMuc3RhdGVzW3RdLnRpbWU9bnVsbCx0aGlzLnN0YXRlc1t0XS50d2VlbnM9bnVsbCx0aGlzLnN0YXRlc1t0XS53b3JsZD1udWxsLHRoaXMuc3RhdGVzW3RdLnBhcnRpY2xlcz1udWxsLHRoaXMuc3RhdGVzW3RdLnJuZD1udWxsLHRoaXMuc3RhdGVzW3RdLnBoeXNpY3M9bnVsbCl9LHNldEN1cnJlbnRTdGF0ZTpmdW5jdGlvbih0KXt0aGlzLmNhbGxiYWNrQ29udGV4dD10aGlzLnN0YXRlc1t0XSx0aGlzLmxpbmsodCksdGhpcy5vbkluaXRDYWxsYmFjaz10aGlzLnN0YXRlc1t0XS5pbml0fHx0aGlzLmR1bW15LHRoaXMub25QcmVsb2FkQ2FsbGJhY2s9dGhpcy5zdGF0ZXNbdF0ucHJlbG9hZHx8bnVsbCx0aGlzLm9uTG9hZFJlbmRlckNhbGxiYWNrPXRoaXMuc3RhdGVzW3RdLmxvYWRSZW5kZXJ8fG51bGwsdGhpcy5vbkxvYWRVcGRhdGVDYWxsYmFjaz10aGlzLnN0YXRlc1t0XS5sb2FkVXBkYXRlfHxudWxsLHRoaXMub25DcmVhdGVDYWxsYmFjaz10aGlzLnN0YXRlc1t0XS5jcmVhdGV8fG51bGwsdGhpcy5vblVwZGF0ZUNhbGxiYWNrPXRoaXMuc3RhdGVzW3RdLnVwZGF0ZXx8bnVsbCx0aGlzLm9uUHJlUmVuZGVyQ2FsbGJhY2s9dGhpcy5zdGF0ZXNbdF0ucHJlUmVuZGVyfHxudWxsLHRoaXMub25SZW5kZXJDYWxsYmFjaz10aGlzLnN0YXRlc1t0XS5yZW5kZXJ8fG51bGwsdGhpcy5vblJlc2l6ZUNhbGxiYWNrPXRoaXMuc3RhdGVzW3RdLnJlc2l6ZXx8bnVsbCx0aGlzLm9uUGF1c2VkQ2FsbGJhY2s9dGhpcy5zdGF0ZXNbdF0ucGF1c2VkfHxudWxsLHRoaXMub25SZXN1bWVkQ2FsbGJhY2s9dGhpcy5zdGF0ZXNbdF0ucmVzdW1lZHx8bnVsbCx0aGlzLm9uUGF1c2VVcGRhdGVDYWxsYmFjaz10aGlzLnN0YXRlc1t0XS5wYXVzZVVwZGF0ZXx8bnVsbCx0aGlzLm9uU2h1dERvd25DYWxsYmFjaz10aGlzLnN0YXRlc1t0XS5zaHV0ZG93bnx8dGhpcy5kdW1teSxcIlwiIT09dGhpcy5jdXJyZW50JiZ0aGlzLmdhbWUucGh5c2ljcy5yZXNldCgpLHRoaXMuY3VycmVudD10LHRoaXMuX2NyZWF0ZWQ9ITEsdGhpcy5vbkluaXRDYWxsYmFjay5hcHBseSh0aGlzLmNhbGxiYWNrQ29udGV4dCx0aGlzLl9hcmdzKSx0PT09dGhpcy5fcGVuZGluZ1N0YXRlJiYodGhpcy5fYXJncz1bXSksdGhpcy5nYW1lLl9raWNrc3RhcnQ9ITB9LGdldEN1cnJlbnRTdGF0ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnN0YXRlc1t0aGlzLmN1cnJlbnRdfSxsb2FkQ29tcGxldGU6ZnVuY3Rpb24oKXshMT09PXRoaXMuX2NyZWF0ZWQmJnRoaXMub25Mb2FkVXBkYXRlQ2FsbGJhY2smJnRoaXMub25Mb2FkVXBkYXRlQ2FsbGJhY2suY2FsbCh0aGlzLmNhbGxiYWNrQ29udGV4dCx0aGlzLmdhbWUpLCExPT09dGhpcy5fY3JlYXRlZCYmdGhpcy5vbkNyZWF0ZUNhbGxiYWNrPyh0aGlzLl9jcmVhdGVkPSEwLHRoaXMub25DcmVhdGVDYWxsYmFjay5jYWxsKHRoaXMuY2FsbGJhY2tDb250ZXh0LHRoaXMuZ2FtZSkpOnRoaXMuX2NyZWF0ZWQ9ITB9LHBhdXNlOmZ1bmN0aW9uKCl7dGhpcy5fY3JlYXRlZCYmdGhpcy5vblBhdXNlZENhbGxiYWNrJiZ0aGlzLm9uUGF1c2VkQ2FsbGJhY2suY2FsbCh0aGlzLmNhbGxiYWNrQ29udGV4dCx0aGlzLmdhbWUpfSxyZXN1bWU6ZnVuY3Rpb24oKXt0aGlzLl9jcmVhdGVkJiZ0aGlzLm9uUmVzdW1lZENhbGxiYWNrJiZ0aGlzLm9uUmVzdW1lZENhbGxiYWNrLmNhbGwodGhpcy5jYWxsYmFja0NvbnRleHQsdGhpcy5nYW1lKX0sdXBkYXRlOmZ1bmN0aW9uKCl7dGhpcy5fY3JlYXRlZD90aGlzLm9uVXBkYXRlQ2FsbGJhY2smJnRoaXMub25VcGRhdGVDYWxsYmFjay5jYWxsKHRoaXMuY2FsbGJhY2tDb250ZXh0LHRoaXMuZ2FtZSk6dGhpcy5vbkxvYWRVcGRhdGVDYWxsYmFjayYmdGhpcy5vbkxvYWRVcGRhdGVDYWxsYmFjay5jYWxsKHRoaXMuY2FsbGJhY2tDb250ZXh0LHRoaXMuZ2FtZSl9LHBhdXNlVXBkYXRlOmZ1bmN0aW9uKCl7dGhpcy5fY3JlYXRlZD90aGlzLm9uUGF1c2VVcGRhdGVDYWxsYmFjayYmdGhpcy5vblBhdXNlVXBkYXRlQ2FsbGJhY2suY2FsbCh0aGlzLmNhbGxiYWNrQ29udGV4dCx0aGlzLmdhbWUpOnRoaXMub25Mb2FkVXBkYXRlQ2FsbGJhY2smJnRoaXMub25Mb2FkVXBkYXRlQ2FsbGJhY2suY2FsbCh0aGlzLmNhbGxiYWNrQ29udGV4dCx0aGlzLmdhbWUpfSxwcmVSZW5kZXI6ZnVuY3Rpb24odCl7dGhpcy5fY3JlYXRlZCYmdGhpcy5vblByZVJlbmRlckNhbGxiYWNrJiZ0aGlzLm9uUHJlUmVuZGVyQ2FsbGJhY2suY2FsbCh0aGlzLmNhbGxiYWNrQ29udGV4dCx0aGlzLmdhbWUsdCl9LHJlc2l6ZTpmdW5jdGlvbih0LGUpe3RoaXMub25SZXNpemVDYWxsYmFjayYmdGhpcy5vblJlc2l6ZUNhbGxiYWNrLmNhbGwodGhpcy5jYWxsYmFja0NvbnRleHQsdCxlKX0scmVuZGVyOmZ1bmN0aW9uKCl7dGhpcy5fY3JlYXRlZD90aGlzLm9uUmVuZGVyQ2FsbGJhY2smJih0aGlzLmdhbWUucmVuZGVyVHlwZT09PWkuQ0FOVkFTPyh0aGlzLmdhbWUuY29udGV4dC5zYXZlKCksdGhpcy5nYW1lLmNvbnRleHQuc2V0VHJhbnNmb3JtKDEsMCwwLDEsMCwwKSx0aGlzLm9uUmVuZGVyQ2FsbGJhY2suY2FsbCh0aGlzLmNhbGxiYWNrQ29udGV4dCx0aGlzLmdhbWUpLHRoaXMuZ2FtZS5jb250ZXh0LnJlc3RvcmUoKSk6dGhpcy5vblJlbmRlckNhbGxiYWNrLmNhbGwodGhpcy5jYWxsYmFja0NvbnRleHQsdGhpcy5nYW1lKSk6dGhpcy5vbkxvYWRSZW5kZXJDYWxsYmFjayYmdGhpcy5vbkxvYWRSZW5kZXJDYWxsYmFjay5jYWxsKHRoaXMuY2FsbGJhY2tDb250ZXh0LHRoaXMuZ2FtZSl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLl9jbGVhcldvcmxkPSEwLHRoaXMuX2NsZWFyQ2FjaGU9ITAsdGhpcy5jbGVhckN1cnJlbnRTdGF0ZSgpLHRoaXMuY2FsbGJhY2tDb250ZXh0PW51bGwsdGhpcy5vbkluaXRDYWxsYmFjaz1udWxsLHRoaXMub25TaHV0RG93bkNhbGxiYWNrPW51bGwsdGhpcy5vblByZWxvYWRDYWxsYmFjaz1udWxsLHRoaXMub25Mb2FkUmVuZGVyQ2FsbGJhY2s9bnVsbCx0aGlzLm9uTG9hZFVwZGF0ZUNhbGxiYWNrPW51bGwsdGhpcy5vbkNyZWF0ZUNhbGxiYWNrPW51bGwsdGhpcy5vblVwZGF0ZUNhbGxiYWNrPW51bGwsdGhpcy5vblJlbmRlckNhbGxiYWNrPW51bGwsdGhpcy5vblBhdXNlZENhbGxiYWNrPW51bGwsdGhpcy5vblJlc3VtZWRDYWxsYmFjaz1udWxsLHRoaXMub25QYXVzZVVwZGF0ZUNhbGxiYWNrPW51bGwsdGhpcy5nYW1lPW51bGwsdGhpcy5zdGF0ZXM9e30sdGhpcy5fcGVuZGluZ1N0YXRlPW51bGwsdGhpcy5jdXJyZW50PVwiXCJ9fSxpLlN0YXRlTWFuYWdlci5wcm90b3R5cGUuY29uc3RydWN0b3I9aS5TdGF0ZU1hbmFnZXIsT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuU3RhdGVNYW5hZ2VyLnByb3RvdHlwZSxcImNyZWF0ZWRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NyZWF0ZWR9fSksaS5TaWduYWw9ZnVuY3Rpb24oKXt9LGkuU2lnbmFsLnByb3RvdHlwZT17X2JpbmRpbmdzOm51bGwsX3ByZXZQYXJhbXM6bnVsbCxtZW1vcml6ZTohMSxfc2hvdWxkUHJvcGFnYXRlOiEwLGFjdGl2ZTohMCxfYm91bmREaXNwYXRjaDohMSx2YWxpZGF0ZUxpc3RlbmVyOmZ1bmN0aW9uKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCl0aHJvdyBuZXcgRXJyb3IoXCJQaGFzZXIuU2lnbmFsOiBsaXN0ZW5lciBpcyBhIHJlcXVpcmVkIHBhcmFtIG9mIHtmbn0oKSBhbmQgc2hvdWxkIGJlIGEgRnVuY3Rpb24uXCIucmVwbGFjZShcIntmbn1cIixlKSl9LF9yZWdpc3Rlckxpc3RlbmVyOmZ1bmN0aW9uKHQsZSxzLG4sbyl7dmFyIHIsYT10aGlzLl9pbmRleE9mTGlzdGVuZXIodCxzKTtpZigtMSE9PWEpe2lmKChyPXRoaXMuX2JpbmRpbmdzW2FdKS5pc09uY2UoKSE9PWUpdGhyb3cgbmV3IEVycm9yKFwiWW91IGNhbm5vdCBhZGRcIisoZT9cIlwiOlwiT25jZVwiKStcIigpIHRoZW4gYWRkXCIrKGU/XCJPbmNlXCI6XCJcIikrXCIoKSB0aGUgc2FtZSBsaXN0ZW5lciB3aXRob3V0IHJlbW92aW5nIHRoZSByZWxhdGlvbnNoaXAgZmlyc3QuXCIpfWVsc2Ugcj1uZXcgaS5TaWduYWxCaW5kaW5nKHRoaXMsdCxlLHMsbixvKSx0aGlzLl9hZGRCaW5kaW5nKHIpO3JldHVybiB0aGlzLm1lbW9yaXplJiZ0aGlzLl9wcmV2UGFyYW1zJiZyLmV4ZWN1dGUodGhpcy5fcHJldlBhcmFtcykscn0sX2FkZEJpbmRpbmc6ZnVuY3Rpb24odCl7dGhpcy5fYmluZGluZ3N8fCh0aGlzLl9iaW5kaW5ncz1bXSk7dmFyIGU9dGhpcy5fYmluZGluZ3MubGVuZ3RoO2Rve2UtLX13aGlsZSh0aGlzLl9iaW5kaW5nc1tlXSYmdC5fcHJpb3JpdHk8PXRoaXMuX2JpbmRpbmdzW2VdLl9wcmlvcml0eSk7dGhpcy5fYmluZGluZ3Muc3BsaWNlKGUrMSwwLHQpfSxfaW5kZXhPZkxpc3RlbmVyOmZ1bmN0aW9uKHQsZSl7aWYoIXRoaXMuX2JpbmRpbmdzKXJldHVybi0xO3ZvaWQgMD09PWUmJihlPW51bGwpO2Zvcih2YXIgaSxzPXRoaXMuX2JpbmRpbmdzLmxlbmd0aDtzLS07KWlmKChpPXRoaXMuX2JpbmRpbmdzW3NdKS5fbGlzdGVuZXI9PT10JiZpLmNvbnRleHQ9PT1lKXJldHVybiBzO3JldHVybi0xfSxoYXM6ZnVuY3Rpb24odCxlKXtyZXR1cm4tMSE9PXRoaXMuX2luZGV4T2ZMaXN0ZW5lcih0LGUpfSxhZGQ6ZnVuY3Rpb24odCxlLGkpe3RoaXMudmFsaWRhdGVMaXN0ZW5lcih0LFwiYWRkXCIpO3ZhciBzPVtdO2lmKGFyZ3VtZW50cy5sZW5ndGg+Mylmb3IodmFyIG49MztuPGFyZ3VtZW50cy5sZW5ndGg7bisrKXMucHVzaChhcmd1bWVudHNbbl0pO3JldHVybiB0aGlzLl9yZWdpc3Rlckxpc3RlbmVyKHQsITEsZSxpLHMpfSxhZGRPbmNlOmZ1bmN0aW9uKHQsZSxpKXt0aGlzLnZhbGlkYXRlTGlzdGVuZXIodCxcImFkZE9uY2VcIik7dmFyIHM9W107aWYoYXJndW1lbnRzLmxlbmd0aD4zKWZvcih2YXIgbj0zO248YXJndW1lbnRzLmxlbmd0aDtuKyspcy5wdXNoKGFyZ3VtZW50c1tuXSk7cmV0dXJuIHRoaXMuX3JlZ2lzdGVyTGlzdGVuZXIodCwhMCxlLGkscyl9LHJlbW92ZTpmdW5jdGlvbih0LGUpe3RoaXMudmFsaWRhdGVMaXN0ZW5lcih0LFwicmVtb3ZlXCIpO3ZhciBpPXRoaXMuX2luZGV4T2ZMaXN0ZW5lcih0LGUpO3JldHVybi0xIT09aSYmKHRoaXMuX2JpbmRpbmdzW2ldLl9kZXN0cm95KCksdGhpcy5fYmluZGluZ3Muc3BsaWNlKGksMSkpLHR9LHJlbW92ZUFsbDpmdW5jdGlvbih0KXtpZih2b2lkIDA9PT10JiYodD1udWxsKSx0aGlzLl9iaW5kaW5ncyl7Zm9yKHZhciBlPXRoaXMuX2JpbmRpbmdzLmxlbmd0aDtlLS07KXQ/dGhpcy5fYmluZGluZ3NbZV0uY29udGV4dD09PXQmJih0aGlzLl9iaW5kaW5nc1tlXS5fZGVzdHJveSgpLHRoaXMuX2JpbmRpbmdzLnNwbGljZShlLDEpKTp0aGlzLl9iaW5kaW5nc1tlXS5fZGVzdHJveSgpO3R8fCh0aGlzLl9iaW5kaW5ncy5sZW5ndGg9MCl9fSxnZXROdW1MaXN0ZW5lcnM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYmluZGluZ3M/dGhpcy5fYmluZGluZ3MubGVuZ3RoOjB9LGhhbHQ6ZnVuY3Rpb24oKXt0aGlzLl9zaG91bGRQcm9wYWdhdGU9ITF9LGRpc3BhdGNoOmZ1bmN0aW9uKCl7aWYodGhpcy5hY3RpdmUmJnRoaXMuX2JpbmRpbmdzKXt2YXIgdCxlPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyksaT10aGlzLl9iaW5kaW5ncy5sZW5ndGg7aWYodGhpcy5tZW1vcml6ZSYmKHRoaXMuX3ByZXZQYXJhbXM9ZSksaSl7dD10aGlzLl9iaW5kaW5ncy5zbGljZSgpLHRoaXMuX3Nob3VsZFByb3BhZ2F0ZT0hMDtkb3tpLS19d2hpbGUodFtpXSYmdGhpcy5fc2hvdWxkUHJvcGFnYXRlJiYhMSE9PXRbaV0uZXhlY3V0ZShlKSl9fX0sZm9yZ2V0OmZ1bmN0aW9uKCl7dGhpcy5fcHJldlBhcmFtcyYmKHRoaXMuX3ByZXZQYXJhbXM9bnVsbCl9LGRpc3Bvc2U6ZnVuY3Rpb24oKXt0aGlzLnJlbW92ZUFsbCgpLHRoaXMuX2JpbmRpbmdzPW51bGwsdGhpcy5fcHJldlBhcmFtcyYmKHRoaXMuX3ByZXZQYXJhbXM9bnVsbCl9LHRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuXCJbUGhhc2VyLlNpZ25hbCBhY3RpdmU6XCIrdGhpcy5hY3RpdmUrXCIgbnVtTGlzdGVuZXJzOlwiK3RoaXMuZ2V0TnVtTGlzdGVuZXJzKCkrXCJdXCJ9fSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5TaWduYWwucHJvdG90eXBlLFwiYm91bmREaXNwYXRjaFwiLHtnZXQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3JldHVybiB0aGlzLl9ib3VuZERpc3BhdGNofHwodGhpcy5fYm91bmREaXNwYXRjaD1mdW5jdGlvbigpe3JldHVybiB0LmRpc3BhdGNoLmFwcGx5KHQsYXJndW1lbnRzKX0pfX0pLGkuU2lnbmFsLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1pLlNpZ25hbCxpLlNpZ25hbEJpbmRpbmc9ZnVuY3Rpb24odCxlLGkscyxuLG8pe3RoaXMuX2xpc3RlbmVyPWUsaSYmKHRoaXMuX2lzT25jZT0hMCksbnVsbCE9cyYmKHRoaXMuY29udGV4dD1zKSx0aGlzLl9zaWduYWw9dCxuJiYodGhpcy5fcHJpb3JpdHk9biksbyYmby5sZW5ndGgmJih0aGlzLl9hcmdzPW8pfSxpLlNpZ25hbEJpbmRpbmcucHJvdG90eXBlPXtjb250ZXh0Om51bGwsX2lzT25jZTohMSxfcHJpb3JpdHk6MCxfYXJnczpudWxsLGNhbGxDb3VudDowLGFjdGl2ZTohMCxwYXJhbXM6bnVsbCxleGVjdXRlOmZ1bmN0aW9uKHQpe3ZhciBlLGk7cmV0dXJuIHRoaXMuYWN0aXZlJiZ0aGlzLl9saXN0ZW5lciYmKGk9dGhpcy5wYXJhbXM/dGhpcy5wYXJhbXMuY29uY2F0KHQpOnQsdGhpcy5fYXJncyYmKGk9aS5jb25jYXQodGhpcy5fYXJncykpLGU9dGhpcy5fbGlzdGVuZXIuYXBwbHkodGhpcy5jb250ZXh0LGkpLHRoaXMuY2FsbENvdW50KyssdGhpcy5faXNPbmNlJiZ0aGlzLmRldGFjaCgpKSxlfSxkZXRhY2g6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc0JvdW5kKCk/dGhpcy5fc2lnbmFsLnJlbW92ZSh0aGlzLl9saXN0ZW5lcix0aGlzLmNvbnRleHQpOm51bGx9LGlzQm91bmQ6ZnVuY3Rpb24oKXtyZXR1cm4hIXRoaXMuX3NpZ25hbCYmISF0aGlzLl9saXN0ZW5lcn0saXNPbmNlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lzT25jZX0sZ2V0TGlzdGVuZXI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbGlzdGVuZXJ9LGdldFNpZ25hbDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zaWduYWx9LF9kZXN0cm95OmZ1bmN0aW9uKCl7ZGVsZXRlIHRoaXMuX3NpZ25hbCxkZWxldGUgdGhpcy5fbGlzdGVuZXIsZGVsZXRlIHRoaXMuY29udGV4dH0sdG9TdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm5cIltQaGFzZXIuU2lnbmFsQmluZGluZyBpc09uY2U6XCIrdGhpcy5faXNPbmNlK1wiLCBpc0JvdW5kOlwiK3RoaXMuaXNCb3VuZCgpK1wiLCBhY3RpdmU6XCIrdGhpcy5hY3RpdmUrXCJdXCJ9fSxpLlNpZ25hbEJpbmRpbmcucHJvdG90eXBlLmNvbnN0cnVjdG9yPWkuU2lnbmFsQmluZGluZyxpLkZpbHRlcj1mdW5jdGlvbih0LGUscyl7dGhpcy5nYW1lPXQsdGhpcy50eXBlPWkuV0VCR0xfRklMVEVSLHRoaXMucGFzc2VzPVt0aGlzXSx0aGlzLnNoYWRlcnM9W10sdGhpcy5kaXJ0eT0hMCx0aGlzLnBhZGRpbmc9MCx0aGlzLnByZXZQb2ludD1uZXcgaS5Qb2ludDt2YXIgbj1uZXcgRGF0ZTtpZih0aGlzLnVuaWZvcm1zPXtyZXNvbHV0aW9uOnt0eXBlOlwiMmZcIix2YWx1ZTp7eDoyNTYseToyNTZ9fSx0aW1lOnt0eXBlOlwiMWZcIix2YWx1ZTowfSxtb3VzZTp7dHlwZTpcIjJmXCIsdmFsdWU6e3g6MCx5OjB9fSxkYXRlOnt0eXBlOlwiNGZ2XCIsdmFsdWU6W24uZ2V0RnVsbFllYXIoKSxuLmdldE1vbnRoKCksbi5nZXREYXRlKCksNjAqbi5nZXRIb3VycygpKjYwKzYwKm4uZ2V0TWludXRlcygpK24uZ2V0U2Vjb25kcygpXX0sc2FtcGxlUmF0ZTp7dHlwZTpcIjFmXCIsdmFsdWU6NDQxMDB9LGlDaGFubmVsMDp7dHlwZTpcInNhbXBsZXIyRFwiLHZhbHVlOm51bGwsdGV4dHVyZURhdGE6e3JlcGVhdDohMH19LGlDaGFubmVsMTp7dHlwZTpcInNhbXBsZXIyRFwiLHZhbHVlOm51bGwsdGV4dHVyZURhdGE6e3JlcGVhdDohMH19LGlDaGFubmVsMjp7dHlwZTpcInNhbXBsZXIyRFwiLHZhbHVlOm51bGwsdGV4dHVyZURhdGE6e3JlcGVhdDohMH19LGlDaGFubmVsMzp7dHlwZTpcInNhbXBsZXIyRFwiLHZhbHVlOm51bGwsdGV4dHVyZURhdGE6e3JlcGVhdDohMH19fSxlKWZvcih2YXIgbyBpbiBlKXRoaXMudW5pZm9ybXNbb109ZVtvXTtcInN0cmluZ1wiPT10eXBlb2YgcyYmKHM9cy5zcGxpdChcIlxcblwiKSksdGhpcy5mcmFnbWVudFNyYz1zfHxbXX0saS5GaWx0ZXIucHJvdG90eXBlPXtpbml0OmZ1bmN0aW9uKCl7fSxzZXRSZXNvbHV0aW9uOmZ1bmN0aW9uKHQsZSl7dGhpcy51bmlmb3Jtcy5yZXNvbHV0aW9uLnZhbHVlLng9dCx0aGlzLnVuaWZvcm1zLnJlc29sdXRpb24udmFsdWUueT1lfSx1cGRhdGU6ZnVuY3Rpb24odCl7aWYodCl7dmFyIGU9dC54L3RoaXMuZ2FtZS53aWR0aCxpPTEtdC55L3RoaXMuZ2FtZS5oZWlnaHQ7ZT09PXRoaXMucHJldlBvaW50LngmJmk9PT10aGlzLnByZXZQb2ludC55fHwodGhpcy51bmlmb3Jtcy5tb3VzZS52YWx1ZS54PWUudG9GaXhlZCgyKSx0aGlzLnVuaWZvcm1zLm1vdXNlLnZhbHVlLnk9aS50b0ZpeGVkKDIpLHRoaXMucHJldlBvaW50LnNldChlLGkpKX10aGlzLnVuaWZvcm1zLnRpbWUudmFsdWU9dGhpcy5nYW1lLnRpbWUudG90YWxFbGFwc2VkU2Vjb25kcygpfSxhZGRUb1dvcmxkOmZ1bmN0aW9uKHQsZSxzLG4sbyxyKXt2b2lkIDA9PT1vJiYobz0wKSx2b2lkIDA9PT1yJiYocj0wKSx2b2lkIDAhPT1zJiZudWxsIT09cz90aGlzLndpZHRoPXM6cz10aGlzLndpZHRoLHZvaWQgMCE9PW4mJm51bGwhPT1uP3RoaXMuaGVpZ2h0PW46bj10aGlzLmhlaWdodDt2YXIgYT10aGlzLmdhbWUuYWRkLmltYWdlKHQsZSxpLkNhY2hlLkRFRkFVTFQpO3JldHVybiBhLndpZHRoPXMsYS5oZWlnaHQ9bixhLmFuY2hvci5zZXQobyxyKSxhLmZpbHRlcnM9W3RoaXNdLGF9LHN5bmNVbmlmb3JtczpmdW5jdGlvbigpe2Zvcih2YXIgdD0wO3Q8dGhpcy5zaGFkZXJzLmxlbmd0aDt0KyspdGhpcy5zaGFkZXJzW3RdLmRpcnR5PSEwfSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5wYXNzZXMubGVuZ3RoPTAsdGhpcy5zaGFkZXJzLmxlbmd0aD0wLHRoaXMuZnJhZ21lbnRTcmMubGVuZ3RoPTAsdGhpcy5nYW1lPW51bGwsdGhpcy51bmlmb3Jtcz1udWxsLHRoaXMucHJldlBvaW50PW51bGx9fSxpLkZpbHRlci5wcm90b3R5cGUuY29uc3RydWN0b3I9aS5GaWx0ZXIsT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuRmlsdGVyLnByb3RvdHlwZSxcIndpZHRoXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnVuaWZvcm1zLnJlc29sdXRpb24udmFsdWUueH0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMudW5pZm9ybXMucmVzb2x1dGlvbi52YWx1ZS54PXR9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuRmlsdGVyLnByb3RvdHlwZSxcImhlaWdodFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51bmlmb3Jtcy5yZXNvbHV0aW9uLnZhbHVlLnl9LHNldDpmdW5jdGlvbih0KXt0aGlzLnVuaWZvcm1zLnJlc29sdXRpb24udmFsdWUueT10fX0pLGkuUGx1Z2luPWZ1bmN0aW9uKHQsZSl7dm9pZCAwPT09ZSYmKGU9bnVsbCksdGhpcy5nYW1lPXQsdGhpcy5wYXJlbnQ9ZSx0aGlzLmFjdGl2ZT0hMSx0aGlzLnZpc2libGU9ITEsdGhpcy5oYXNQcmVVcGRhdGU9ITEsdGhpcy5oYXNVcGRhdGU9ITEsdGhpcy5oYXNQb3N0VXBkYXRlPSExLHRoaXMuaGFzUmVuZGVyPSExLHRoaXMuaGFzUG9zdFJlbmRlcj0hMX0saS5QbHVnaW4ucHJvdG90eXBlPXtwcmVVcGRhdGU6ZnVuY3Rpb24oKXt9LHVwZGF0ZTpmdW5jdGlvbigpe30scmVuZGVyOmZ1bmN0aW9uKCl7fSxwb3N0UmVuZGVyOmZ1bmN0aW9uKCl7fSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5nYW1lPW51bGwsdGhpcy5wYXJlbnQ9bnVsbCx0aGlzLmFjdGl2ZT0hMSx0aGlzLnZpc2libGU9ITF9fSxpLlBsdWdpbi5wcm90b3R5cGUuY29uc3RydWN0b3I9aS5QbHVnaW4saS5QbHVnaW5NYW5hZ2VyPWZ1bmN0aW9uKHQpe3RoaXMuZ2FtZT10LHRoaXMucGx1Z2lucz1bXSx0aGlzLl9sZW49MCx0aGlzLl9pPTB9LGkuUGx1Z2luTWFuYWdlci5wcm90b3R5cGU9e2FkZDpmdW5jdGlvbih0KXt2YXIgZT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSksaT0hMTtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiB0P3Q9bmV3IHQodGhpcy5nYW1lLHRoaXMpOih0LmdhbWU9dGhpcy5nYW1lLHQucGFyZW50PXRoaXMpLFwiZnVuY3Rpb25cIj09dHlwZW9mIHQucHJlVXBkYXRlJiYodC5oYXNQcmVVcGRhdGU9ITAsaT0hMCksXCJmdW5jdGlvblwiPT10eXBlb2YgdC51cGRhdGUmJih0Lmhhc1VwZGF0ZT0hMCxpPSEwKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiB0LnBvc3RVcGRhdGUmJih0Lmhhc1Bvc3RVcGRhdGU9ITAsaT0hMCksXCJmdW5jdGlvblwiPT10eXBlb2YgdC5yZW5kZXImJih0Lmhhc1JlbmRlcj0hMCxpPSEwKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiB0LnBvc3RSZW5kZXImJih0Lmhhc1Bvc3RSZW5kZXI9ITAsaT0hMCksaT8oKHQuaGFzUHJlVXBkYXRlfHx0Lmhhc1VwZGF0ZXx8dC5oYXNQb3N0VXBkYXRlKSYmKHQuYWN0aXZlPSEwKSwodC5oYXNSZW5kZXJ8fHQuaGFzUG9zdFJlbmRlcikmJih0LnZpc2libGU9ITApLHRoaXMuX2xlbj10aGlzLnBsdWdpbnMucHVzaCh0KSxcImZ1bmN0aW9uXCI9PXR5cGVvZiB0LmluaXQmJnQuaW5pdC5hcHBseSh0LGUpLHQpOm51bGx9LHJlbW92ZTpmdW5jdGlvbih0LGUpe2Zvcih2b2lkIDA9PT1lJiYoZT0hMCksdGhpcy5faT10aGlzLl9sZW47dGhpcy5faS0tOylpZih0aGlzLnBsdWdpbnNbdGhpcy5faV09PT10KXJldHVybiBlJiZ0LmRlc3Ryb3koKSx0aGlzLnBsdWdpbnMuc3BsaWNlKHRoaXMuX2ksMSksdm9pZCB0aGlzLl9sZW4tLX0scmVtb3ZlQWxsOmZ1bmN0aW9uKCl7Zm9yKHRoaXMuX2k9dGhpcy5fbGVuO3RoaXMuX2ktLTspdGhpcy5wbHVnaW5zW3RoaXMuX2ldLmRlc3Ryb3koKTt0aGlzLnBsdWdpbnMubGVuZ3RoPTAsdGhpcy5fbGVuPTB9LHByZVVwZGF0ZTpmdW5jdGlvbigpe2Zvcih0aGlzLl9pPXRoaXMuX2xlbjt0aGlzLl9pLS07KXRoaXMucGx1Z2luc1t0aGlzLl9pXS5hY3RpdmUmJnRoaXMucGx1Z2luc1t0aGlzLl9pXS5oYXNQcmVVcGRhdGUmJnRoaXMucGx1Z2luc1t0aGlzLl9pXS5wcmVVcGRhdGUoKX0sdXBkYXRlOmZ1bmN0aW9uKCl7Zm9yKHRoaXMuX2k9dGhpcy5fbGVuO3RoaXMuX2ktLTspdGhpcy5wbHVnaW5zW3RoaXMuX2ldLmFjdGl2ZSYmdGhpcy5wbHVnaW5zW3RoaXMuX2ldLmhhc1VwZGF0ZSYmdGhpcy5wbHVnaW5zW3RoaXMuX2ldLnVwZGF0ZSgpfSxwb3N0VXBkYXRlOmZ1bmN0aW9uKCl7Zm9yKHRoaXMuX2k9dGhpcy5fbGVuO3RoaXMuX2ktLTspdGhpcy5wbHVnaW5zW3RoaXMuX2ldLmFjdGl2ZSYmdGhpcy5wbHVnaW5zW3RoaXMuX2ldLmhhc1Bvc3RVcGRhdGUmJnRoaXMucGx1Z2luc1t0aGlzLl9pXS5wb3N0VXBkYXRlKCl9LHJlbmRlcjpmdW5jdGlvbigpe2Zvcih0aGlzLl9pPXRoaXMuX2xlbjt0aGlzLl9pLS07KXRoaXMucGx1Z2luc1t0aGlzLl9pXS52aXNpYmxlJiZ0aGlzLnBsdWdpbnNbdGhpcy5faV0uaGFzUmVuZGVyJiZ0aGlzLnBsdWdpbnNbdGhpcy5faV0ucmVuZGVyKCl9LHBvc3RSZW5kZXI6ZnVuY3Rpb24oKXtmb3IodGhpcy5faT10aGlzLl9sZW47dGhpcy5faS0tOyl0aGlzLnBsdWdpbnNbdGhpcy5faV0udmlzaWJsZSYmdGhpcy5wbHVnaW5zW3RoaXMuX2ldLmhhc1Bvc3RSZW5kZXImJnRoaXMucGx1Z2luc1t0aGlzLl9pXS5wb3N0UmVuZGVyKCl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLnJlbW92ZUFsbCgpLHRoaXMuZ2FtZT1udWxsfX0saS5QbHVnaW5NYW5hZ2VyLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1pLlBsdWdpbk1hbmFnZXIsaS5TdGFnZT1mdW5jdGlvbih0KXt0aGlzLmdhbWU9dCxQSVhJLkRpc3BsYXlPYmplY3RDb250YWluZXIuY2FsbCh0aGlzKSx0aGlzLm5hbWU9XCJfc3RhZ2Vfcm9vdFwiLHRoaXMuZGlzYWJsZVZpc2liaWxpdHlDaGFuZ2U9ITEsdGhpcy5leGlzdHM9ITAsdGhpcy53b3JsZFRyYW5zZm9ybT1uZXcgaS5NYXRyaXgsdGhpcy5zdGFnZT10aGlzLHRoaXMuY3VycmVudFJlbmRlck9yZGVySUQ9MCx0aGlzLl9oaWRkZW5WYXI9XCJoaWRkZW5cIix0aGlzLl9vbkNoYW5nZT1udWxsLHRoaXMuX2JnQ29sb3I9e3I6MCxnOjAsYjowLGE6MCxjb2xvcjowLHJnYmE6XCIjMDAwMDAwXCJ9LHRoaXMuZ2FtZS50cmFuc3BhcmVudHx8KHRoaXMuX2JnQ29sb3IuYT0xKSx0LmNvbmZpZyYmdGhpcy5wYXJzZUNvbmZpZyh0LmNvbmZpZyl9LGkuU3RhZ2UucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoUElYSS5EaXNwbGF5T2JqZWN0Q29udGFpbmVyLnByb3RvdHlwZSksaS5TdGFnZS5wcm90b3R5cGUuY29uc3RydWN0b3I9aS5TdGFnZSxpLlN0YWdlLnByb3RvdHlwZS5wYXJzZUNvbmZpZz1mdW5jdGlvbih0KXt0LmRpc2FibGVWaXNpYmlsaXR5Q2hhbmdlJiYodGhpcy5kaXNhYmxlVmlzaWJpbGl0eUNoYW5nZT10LmRpc2FibGVWaXNpYmlsaXR5Q2hhbmdlKSx0LmJhY2tncm91bmRDb2xvciYmdGhpcy5zZXRCYWNrZ3JvdW5kQ29sb3IodC5iYWNrZ3JvdW5kQ29sb3IpfSxpLlN0YWdlLnByb3RvdHlwZS5ib290PWZ1bmN0aW9uKCl7aS5ET00uZ2V0T2Zmc2V0KHRoaXMuZ2FtZS5jYW52YXMsdGhpcy5vZmZzZXQpLGkuQ2FudmFzLnNldFVzZXJTZWxlY3QodGhpcy5nYW1lLmNhbnZhcyxcIm5vbmVcIiksaS5DYW52YXMuc2V0VG91Y2hBY3Rpb24odGhpcy5nYW1lLmNhbnZhcyxcIm5vbmVcIiksdGhpcy5jaGVja1Zpc2liaWxpdHkoKX0saS5TdGFnZS5wcm90b3R5cGUucHJlVXBkYXRlPWZ1bmN0aW9uKCl7dGhpcy5jdXJyZW50UmVuZGVyT3JkZXJJRD0wO2Zvcih2YXIgdD0wO3Q8dGhpcy5jaGlsZHJlbi5sZW5ndGg7KXt2YXIgZT10aGlzLmNoaWxkcmVuW3RdO2UucHJlVXBkYXRlKCksdGhpcz09PWUucGFyZW50JiZ0Kyt9fSxpLlN0YWdlLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy5jaGlsZHJlbi5sZW5ndGg7dC0tOyl0aGlzLmNoaWxkcmVuW3RdLnVwZGF0ZSgpfSxpLlN0YWdlLnByb3RvdHlwZS5wb3N0VXBkYXRlPWZ1bmN0aW9uKCl7dGhpcy5nYW1lLmNhbWVyYS51cGRhdGUoKSx0aGlzLmdhbWUuY2FtZXJhLnRhcmdldCYmKHRoaXMuZ2FtZS5jYW1lcmEudGFyZ2V0LnBvc3RVcGRhdGUoKSx0aGlzLnVwZGF0ZVRyYW5zZm9ybSgpLHRoaXMuZ2FtZS5jYW1lcmEudXBkYXRlVGFyZ2V0KCkpO2Zvcih2YXIgdD0wO3Q8dGhpcy5jaGlsZHJlbi5sZW5ndGg7dCsrKXRoaXMuY2hpbGRyZW5bdF0ucG9zdFVwZGF0ZSgpO3RoaXMudXBkYXRlVHJhbnNmb3JtKCl9LGkuU3RhZ2UucHJvdG90eXBlLnVwZGF0ZVRyYW5zZm9ybT1mdW5jdGlvbigpe3RoaXMud29ybGRBbHBoYT0xO2Zvcih2YXIgdD0wO3Q8dGhpcy5jaGlsZHJlbi5sZW5ndGg7dCsrKXRoaXMuY2hpbGRyZW5bdF0udXBkYXRlVHJhbnNmb3JtKCl9LGkuU3RhZ2UucHJvdG90eXBlLmNoZWNrVmlzaWJpbGl0eT1mdW5jdGlvbigpe3ZvaWQgMCE9PWRvY3VtZW50LmhpZGRlbj90aGlzLl9oaWRkZW5WYXI9XCJ2aXNpYmlsaXR5Y2hhbmdlXCI6dm9pZCAwIT09ZG9jdW1lbnQud2Via2l0SGlkZGVuP3RoaXMuX2hpZGRlblZhcj1cIndlYmtpdHZpc2liaWxpdHljaGFuZ2VcIjp2b2lkIDAhPT1kb2N1bWVudC5tb3pIaWRkZW4/dGhpcy5faGlkZGVuVmFyPVwibW96dmlzaWJpbGl0eWNoYW5nZVwiOnZvaWQgMCE9PWRvY3VtZW50Lm1zSGlkZGVuP3RoaXMuX2hpZGRlblZhcj1cIm1zdmlzaWJpbGl0eWNoYW5nZVwiOnRoaXMuX2hpZGRlblZhcj1udWxsO3ZhciB0PXRoaXM7dGhpcy5fb25DaGFuZ2U9ZnVuY3Rpb24oZSl7cmV0dXJuIHQudmlzaWJpbGl0eUNoYW5nZShlKX0sdGhpcy5fb25DbGljaz1mdW5jdGlvbihlKXt2b2lkIDA9PT1kb2N1bWVudC5oYXNGb2N1c3x8ZG9jdW1lbnQuaGFzRm9jdXMoKXx8dC52aXNpYmlsaXR5Q2hhbmdlKGUpfSx0aGlzLl9oaWRkZW5WYXImJmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIodGhpcy5faGlkZGVuVmFyLHRoaXMuX29uQ2hhbmdlLCExKSx3aW5kb3cub25ibHVyPXRoaXMuX29uQ2hhbmdlLHdpbmRvdy5vbmZvY3VzPXRoaXMuX29uQ2hhbmdlLHdpbmRvdy5vbnBhZ2VoaWRlPXRoaXMuX29uQ2hhbmdlLHdpbmRvdy5vbnBhZ2VzaG93PXRoaXMuX29uQ2hhbmdlLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIix0aGlzLl9vbkNsaWNrKSx0aGlzLmdhbWUuZGV2aWNlLmNvY29vbkpTQXBwJiYoQ29jb29uSlMuQXBwLm9uU3VzcGVuZGVkLmFkZEV2ZW50TGlzdGVuZXIoZnVuY3Rpb24oKXtpLlN0YWdlLnByb3RvdHlwZS52aXNpYmlsaXR5Q2hhbmdlLmNhbGwodCx7dHlwZTpcInBhdXNlXCJ9KX0pLENvY29vbkpTLkFwcC5vbkFjdGl2YXRlZC5hZGRFdmVudExpc3RlbmVyKGZ1bmN0aW9uKCl7aS5TdGFnZS5wcm90b3R5cGUudmlzaWJpbGl0eUNoYW5nZS5jYWxsKHQse3R5cGU6XCJyZXN1bWVcIn0pfSkpfSxpLlN0YWdlLnByb3RvdHlwZS52aXNpYmlsaXR5Q2hhbmdlPWZ1bmN0aW9uKHQpe3N3aXRjaCh0LnR5cGUpe2Nhc2VcImJsdXJcIjpjYXNlXCJwYWdlaGlkZVwiOnJldHVybiB2b2lkIHRoaXMuZ2FtZS5mb2N1c0xvc3ModCk7Y2FzZVwiY2xpY2tcIjpjYXNlXCJmb2N1c1wiOmNhc2VcInBhZ2VzaG93XCI6cmV0dXJuIHZvaWQgdGhpcy5nYW1lLmZvY3VzR2Fpbih0KX10aGlzLmRpc2FibGVWaXNpYmlsaXR5Q2hhbmdlfHwoZG9jdW1lbnQuaGlkZGVufHxkb2N1bWVudC5tb3pIaWRkZW58fGRvY3VtZW50Lm1zSGlkZGVufHxkb2N1bWVudC53ZWJraXRIaWRkZW58fFwicGF1c2VcIj09PXQudHlwZT90aGlzLmdhbWUuZ2FtZVBhdXNlZCh0KTp0aGlzLmdhbWUuZ2FtZVJlc3VtZWQodCkpfSxpLlN0YWdlLnByb3RvdHlwZS5zZXRCYWNrZ3JvdW5kQ29sb3I9ZnVuY3Rpb24odCl7dGhpcy5nYW1lLnRyYW5zcGFyZW50fHwoaS5Db2xvci52YWx1ZVRvQ29sb3IodCx0aGlzLl9iZ0NvbG9yKSxpLkNvbG9yLnVwZGF0ZUNvbG9yKHRoaXMuX2JnQ29sb3IpLHRoaXMuX2JnQ29sb3Iuci89MjU1LHRoaXMuX2JnQ29sb3IuZy89MjU1LHRoaXMuX2JnQ29sb3IuYi89MjU1LHRoaXMuX2JnQ29sb3IuYT0xKX0saS5TdGFnZS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuX2hpZGRlblZhciYmZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcih0aGlzLl9oaWRkZW5WYXIsdGhpcy5fb25DaGFuZ2UsITEpLHdpbmRvdy5vbnBhZ2VoaWRlPW51bGwsd2luZG93Lm9ucGFnZXNob3c9bnVsbCx3aW5kb3cub25ibHVyPW51bGwsd2luZG93Lm9uZm9jdXM9bnVsbCx3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsdGhpcy5fb25DbGljayl9LGkuU3RhZ2UucHJvdG90eXBlLmFkZD1mdW5jdGlvbih0LGUsaSl7cmV0dXJuIHQucGFyZW50PT09dGhpcz90Oih0LmJvZHkmJnQucGFyZW50JiZ0LnBhcmVudC5oYXNoJiZ0LnBhcmVudC5yZW1vdmVGcm9tSGFzaCh0KSx2b2lkIDA9PT1pP3RoaXMuYWRkQ2hpbGQodCk6dGhpcy5hZGRDaGlsZEF0KHQsaSksdCl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLlN0YWdlLnByb3RvdHlwZSxcImJhY2tncm91bmRDb2xvclwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYmdDb2xvci5jb2xvcn0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuc2V0QmFja2dyb3VuZENvbG9yKHQpfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLlN0YWdlLnByb3RvdHlwZSxcInNtb290aGVkXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBQSVhJLnNjYWxlTW9kZXMuREVGQVVMVD09PVBJWEkuc2NhbGVNb2Rlcy5MSU5FQVJ9LHNldDpmdW5jdGlvbih0KXtQSVhJLnNjYWxlTW9kZXMuREVGQVVMVD10P1BJWEkuc2NhbGVNb2Rlcy5MSU5FQVI6UElYSS5zY2FsZU1vZGVzLk5FQVJFU1R9fSksaS5Hcm91cD1mdW5jdGlvbih0LGUscyxuLG8scil7dm9pZCAwPT09biYmKG49ITEpLHZvaWQgMD09PW8mJihvPSExKSx2b2lkIDA9PT1yJiYocj1pLlBoeXNpY3MuQVJDQURFKSx0aGlzLmdhbWU9dCx2b2lkIDA9PT1lJiYoZT10LndvcmxkKSx0aGlzLm5hbWU9c3x8XCJncm91cFwiLHRoaXMuej0wLFBJWEkuRGlzcGxheU9iamVjdENvbnRhaW5lci5jYWxsKHRoaXMpLG4/KHRoaXMuZ2FtZS5zdGFnZS5hZGRDaGlsZCh0aGlzKSx0aGlzLno9dGhpcy5nYW1lLnN0YWdlLmNoaWxkcmVuLmxlbmd0aCk6ZSYmKGUuYWRkQ2hpbGQodGhpcyksdGhpcy56PWUuY2hpbGRyZW4ubGVuZ3RoKSx0aGlzLnR5cGU9aS5HUk9VUCx0aGlzLnBoeXNpY3NUeXBlPWkuR1JPVVAsdGhpcy5hbGl2ZT0hMCx0aGlzLmV4aXN0cz0hMCx0aGlzLmlnbm9yZURlc3Ryb3k9ITEsdGhpcy5wZW5kaW5nRGVzdHJveT0hMSx0aGlzLmNsYXNzVHlwZT1pLlNwcml0ZSx0aGlzLmN1cnNvcj1udWxsLHRoaXMuaW5wdXRFbmFibGVDaGlsZHJlbj0hMSx0aGlzLnVwZGF0ZU9ubHlFeGlzdGluZ0NoaWxkcmVuPSExLHRoaXMub25DaGlsZElucHV0RG93bj1uZXcgaS5TaWduYWwsdGhpcy5vbkNoaWxkSW5wdXRVcD1uZXcgaS5TaWduYWwsdGhpcy5vbkNoaWxkSW5wdXRPdmVyPW5ldyBpLlNpZ25hbCx0aGlzLm9uQ2hpbGRJbnB1dE91dD1uZXcgaS5TaWduYWwsdGhpcy5lbmFibGVCb2R5PW8sdGhpcy5lbmFibGVCb2R5RGVidWc9ITEsdGhpcy5waHlzaWNzQm9keVR5cGU9cix0aGlzLnBoeXNpY3NTb3J0RGlyZWN0aW9uPW51bGwsdGhpcy5vbkRlc3Ryb3k9bmV3IGkuU2lnbmFsLHRoaXMuY3Vyc29ySW5kZXg9MCx0aGlzLmZpeGVkVG9DYW1lcmE9ITEsdGhpcy5jYW1lcmFPZmZzZXQ9bmV3IGkuUG9pbnQsdGhpcy5oYXNoPVtdLHRoaXMuX3NvcnRQcm9wZXJ0eT1cInpcIn0saS5Hcm91cC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShQSVhJLkRpc3BsYXlPYmplY3RDb250YWluZXIucHJvdG90eXBlKSxpLkdyb3VwLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1pLkdyb3VwLGkuR3JvdXAuUkVUVVJOX05PTkU9MCxpLkdyb3VwLlJFVFVSTl9UT1RBTD0xLGkuR3JvdXAuUkVUVVJOX0NISUxEPTIsaS5Hcm91cC5SRVRVUk5fQUxMPTMsaS5Hcm91cC5TT1JUX0FTQ0VORElORz0tMSxpLkdyb3VwLlNPUlRfREVTQ0VORElORz0xLGkuR3JvdXAucHJvdG90eXBlLmFkZD1mdW5jdGlvbih0LGUsaSl7cmV0dXJuIHZvaWQgMD09PWUmJihlPSExKSx0LnBhcmVudD09PXRoaXM/dDoodC5ib2R5JiZ0LnBhcmVudCYmdC5wYXJlbnQuaGFzaCYmdC5wYXJlbnQucmVtb3ZlRnJvbUhhc2godCksdm9pZCAwPT09aT8odC56PXRoaXMuY2hpbGRyZW4ubGVuZ3RoLHRoaXMuYWRkQ2hpbGQodCkpOih0aGlzLmFkZENoaWxkQXQodCxpKSx0aGlzLnVwZGF0ZVooKSksdGhpcy5lbmFibGVCb2R5JiZ0Lmhhc093blByb3BlcnR5KFwiYm9keVwiKSYmbnVsbD09PXQuYm9keT90aGlzLmdhbWUucGh5c2ljcy5lbmFibGUodCx0aGlzLnBoeXNpY3NCb2R5VHlwZSk6dC5ib2R5JiZ0aGlzLmFkZFRvSGFzaCh0KSwhdGhpcy5pbnB1dEVuYWJsZUNoaWxkcmVufHx0LmlucHV0JiYhdC5pbnB1dEVuYWJsZWR8fCh0LmlucHV0RW5hYmxlZD0hMCksIWUmJnQuZXZlbnRzJiZ0LmV2ZW50cy5vbkFkZGVkVG9Hcm91cCRkaXNwYXRjaCh0LHRoaXMpLG51bGw9PT10aGlzLmN1cnNvciYmKHRoaXMuY3Vyc29yPXQpLHQpfSxpLkdyb3VwLnByb3RvdHlwZS5hZGRBdD1mdW5jdGlvbih0LGUsaSl7cmV0dXJuIHRoaXMuYWRkKHQsaSxlKX0saS5Hcm91cC5wcm90b3R5cGUuYWRkVG9IYXNoPWZ1bmN0aW9uKHQpe3JldHVybiB0LnBhcmVudD09PXRoaXMmJi0xPT09dGhpcy5oYXNoLmluZGV4T2YodCkmJih0aGlzLmhhc2gucHVzaCh0KSwhMCl9LGkuR3JvdXAucHJvdG90eXBlLnJlbW92ZUZyb21IYXNoPWZ1bmN0aW9uKHQpe2lmKHQpe3ZhciBlPXRoaXMuaGFzaC5pbmRleE9mKHQpO2lmKC0xIT09ZSlyZXR1cm4gdGhpcy5oYXNoLnNwbGljZShlLDEpLCEwfXJldHVybiExfSxpLkdyb3VwLnByb3RvdHlwZS5hZGRNdWx0aXBsZT1mdW5jdGlvbih0LGUpe2lmKHQgaW5zdGFuY2VvZiBpLkdyb3VwKXQubW92ZUFsbCh0aGlzLGUpO2Vsc2UgaWYoQXJyYXkuaXNBcnJheSh0KSlmb3IodmFyIHM9MDtzPHQubGVuZ3RoO3MrKyl0aGlzLmFkZCh0W3NdLGUpO3JldHVybiB0fSxpLkdyb3VwLnByb3RvdHlwZS5nZXRBdD1mdW5jdGlvbih0KXtyZXR1cm4gdDwwfHx0Pj10aGlzLmNoaWxkcmVuLmxlbmd0aD8tMTp0aGlzLmdldENoaWxkQXQodCl9LGkuR3JvdXAucHJvdG90eXBlLmNyZWF0ZT1mdW5jdGlvbih0LGUsaSxzLG4sbyl7dm9pZCAwPT09biYmKG49ITApO3ZhciByPW5ldyB0aGlzLmNsYXNzVHlwZSh0aGlzLmdhbWUsdCxlLGkscyk7cmV0dXJuIHIuZXhpc3RzPW4sci52aXNpYmxlPW4sci5hbGl2ZT1uLHRoaXMuYWRkKHIsITEsbyl9LGkuR3JvdXAucHJvdG90eXBlLmNyZWF0ZU11bHRpcGxlPWZ1bmN0aW9uKHQsZSxpLHMsbixvKXt2b2lkIDA9PT1pJiYoaT0wKSx2b2lkIDA9PT1zJiYocz0hMSksQXJyYXkuaXNBcnJheShlKXx8KGU9W2VdKSxBcnJheS5pc0FycmF5KGkpfHwoaT1baV0pO3ZhciByPXRoaXMsYT1bXTtyZXR1cm4gZS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2kuZm9yRWFjaChmdW5jdGlvbihpKXtmb3IodmFyIGg9MDtoPHQ7aCsrKXt2YXIgbD1yLmNyZWF0ZSgwLDAsZSxpLHMpO24mJm4uY2FsbChvfHxsLGwsaCksYS5wdXNoKGwpfX0pfSksYX0saS5Hcm91cC5wcm90b3R5cGUudXBkYXRlWj1mdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLmNoaWxkcmVuLmxlbmd0aDt0LS07KXRoaXMuY2hpbGRyZW5bdF0uej10fSxpLkdyb3VwLnByb3RvdHlwZS5hbGlnbj1mdW5jdGlvbih0LGUscyxuLG8scil7aWYodm9pZCAwPT09byYmKG89aS5UT1BfTEVGVCksdm9pZCAwPT09ciYmKHI9MCksMD09PXRoaXMuY2hpbGRyZW4ubGVuZ3RofHxyPnRoaXMuY2hpbGRyZW4ubGVuZ3RofHwtMT09PXQmJi0xPT09ZSlyZXR1cm4hMTtmb3IodmFyIGE9bmV3IGkuUmVjdGFuZ2xlKDAsMCxzLG4pLGg9dCpzLGw9ZSpuLGM9cjtjPHRoaXMuY2hpbGRyZW4ubGVuZ3RoO2MrKyl7dmFyIHU9dGhpcy5jaGlsZHJlbltjXTtpZih1LmFsaWduSW4paWYodS5hbGlnbkluKGEsbyksLTE9PT10KWEueSs9bixhLnk9PT1sJiYoYS54Kz1zLGEueT0wKTtlbHNlIGlmKC0xPT09ZSlhLngrPXMsYS54PT09aCYmKGEueD0wLGEueSs9bik7ZWxzZSBpZihhLngrPXMsYS54PT09aCYmKGEueD0wLGEueSs9bixhLnk9PT1sKSlyZXR1cm4hMH1yZXR1cm4hMH0saS5Hcm91cC5wcm90b3R5cGUucmVzZXRDdXJzb3I9ZnVuY3Rpb24odCl7aWYodm9pZCAwPT09dCYmKHQ9MCksdD50aGlzLmNoaWxkcmVuLmxlbmd0aC0xJiYodD0wKSx0aGlzLmN1cnNvcilyZXR1cm4gdGhpcy5jdXJzb3JJbmRleD10LHRoaXMuY3Vyc29yPXRoaXMuY2hpbGRyZW5bdGhpcy5jdXJzb3JJbmRleF0sdGhpcy5jdXJzb3J9LGkuR3JvdXAucHJvdG90eXBlLm5leHQ9ZnVuY3Rpb24oKXtpZih0aGlzLmN1cnNvcilyZXR1cm4gdGhpcy5jdXJzb3JJbmRleD49dGhpcy5jaGlsZHJlbi5sZW5ndGgtMT90aGlzLmN1cnNvckluZGV4PTA6dGhpcy5jdXJzb3JJbmRleCsrLHRoaXMuY3Vyc29yPXRoaXMuY2hpbGRyZW5bdGhpcy5jdXJzb3JJbmRleF0sdGhpcy5jdXJzb3J9LGkuR3JvdXAucHJvdG90eXBlLnByZXZpb3VzPWZ1bmN0aW9uKCl7aWYodGhpcy5jdXJzb3IpcmV0dXJuIDA9PT10aGlzLmN1cnNvckluZGV4P3RoaXMuY3Vyc29ySW5kZXg9dGhpcy5jaGlsZHJlbi5sZW5ndGgtMTp0aGlzLmN1cnNvckluZGV4LS0sdGhpcy5jdXJzb3I9dGhpcy5jaGlsZHJlblt0aGlzLmN1cnNvckluZGV4XSx0aGlzLmN1cnNvcn0saS5Hcm91cC5wcm90b3R5cGUuc3dhcD1mdW5jdGlvbih0LGUpe3RoaXMuc3dhcENoaWxkcmVuKHQsZSksdGhpcy51cGRhdGVaKCl9LGkuR3JvdXAucHJvdG90eXBlLmJyaW5nVG9Ub3A9ZnVuY3Rpb24odCl7cmV0dXJuIHQucGFyZW50PT09dGhpcyYmdGhpcy5nZXRJbmRleCh0KTx0aGlzLmNoaWxkcmVuLmxlbmd0aCYmKHRoaXMucmVtb3ZlKHQsITEsITApLHRoaXMuYWRkKHQsITApKSx0fSxpLkdyb3VwLnByb3RvdHlwZS5zZW5kVG9CYWNrPWZ1bmN0aW9uKHQpe3JldHVybiB0LnBhcmVudD09PXRoaXMmJnRoaXMuZ2V0SW5kZXgodCk+MCYmKHRoaXMucmVtb3ZlKHQsITEsITApLHRoaXMuYWRkQXQodCwwLCEwKSksdH0saS5Hcm91cC5wcm90b3R5cGUubW92ZVVwPWZ1bmN0aW9uKHQpe2lmKHQucGFyZW50PT09dGhpcyYmdGhpcy5nZXRJbmRleCh0KTx0aGlzLmNoaWxkcmVuLmxlbmd0aC0xKXt2YXIgZT10aGlzLmdldEluZGV4KHQpLGk9dGhpcy5nZXRBdChlKzEpO2kmJnRoaXMuc3dhcCh0LGkpfXJldHVybiB0fSxpLkdyb3VwLnByb3RvdHlwZS5tb3ZlRG93bj1mdW5jdGlvbih0KXtpZih0LnBhcmVudD09PXRoaXMmJnRoaXMuZ2V0SW5kZXgodCk+MCl7dmFyIGU9dGhpcy5nZXRJbmRleCh0KSxpPXRoaXMuZ2V0QXQoZS0xKTtpJiZ0aGlzLnN3YXAodCxpKX1yZXR1cm4gdH0saS5Hcm91cC5wcm90b3R5cGUueHk9ZnVuY3Rpb24odCxlLGkpe2lmKHQ8MHx8dD50aGlzLmNoaWxkcmVuLmxlbmd0aClyZXR1cm4tMTt0aGlzLmdldENoaWxkQXQodCkueD1lLHRoaXMuZ2V0Q2hpbGRBdCh0KS55PWl9LGkuR3JvdXAucHJvdG90eXBlLnJldmVyc2U9ZnVuY3Rpb24oKXt0aGlzLmNoaWxkcmVuLnJldmVyc2UoKSx0aGlzLnVwZGF0ZVooKX0saS5Hcm91cC5wcm90b3R5cGUuZ2V0SW5kZXg9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY2hpbGRyZW4uaW5kZXhPZih0KX0saS5Hcm91cC5wcm90b3R5cGUuZ2V0QnlOYW1lPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wO2U8dGhpcy5jaGlsZHJlbi5sZW5ndGg7ZSsrKWlmKHRoaXMuY2hpbGRyZW5bZV0ubmFtZT09PXQpcmV0dXJuIHRoaXMuY2hpbGRyZW5bZV07cmV0dXJuIG51bGx9LGkuR3JvdXAucHJvdG90eXBlLnJlcGxhY2U9ZnVuY3Rpb24odCxlKXt2YXIgcz10aGlzLmdldEluZGV4KHQpO2lmKC0xIT09cylyZXR1cm4gZS5wYXJlbnQmJihlLnBhcmVudCBpbnN0YW5jZW9mIGkuR3JvdXA/ZS5wYXJlbnQucmVtb3ZlKGUpOmUucGFyZW50LnJlbW92ZUNoaWxkKGUpKSx0aGlzLnJlbW92ZSh0KSx0aGlzLmFkZEF0KGUscyksdH0saS5Hcm91cC5wcm90b3R5cGUuaGFzUHJvcGVydHk9ZnVuY3Rpb24odCxlKXt2YXIgaT1lLmxlbmd0aDtyZXR1cm4gMT09PWkmJmVbMF1pbiB0fHwoMj09PWkmJmVbMF1pbiB0JiZlWzFdaW4gdFtlWzBdXXx8KDM9PT1pJiZlWzBdaW4gdCYmZVsxXWluIHRbZVswXV0mJmVbMl1pbiB0W2VbMF1dW2VbMV1dfHw0PT09aSYmZVswXWluIHQmJmVbMV1pbiB0W2VbMF1dJiZlWzJdaW4gdFtlWzBdXVtlWzFdXSYmZVszXWluIHRbZVswXV1bZVsxXV1bZVsyXV0pKX0saS5Hcm91cC5wcm90b3R5cGUuc2V0UHJvcGVydHk9ZnVuY3Rpb24odCxlLGkscyxuKXtpZih2b2lkIDA9PT1uJiYobj0hMSkscz1zfHwwLCF0aGlzLmhhc1Byb3BlcnR5KHQsZSkmJighbnx8cz4wKSlyZXR1cm4hMTt2YXIgbz1lLmxlbmd0aDtyZXR1cm4gMT09PW8/MD09PXM/dFtlWzBdXT1pOjE9PT1zP3RbZVswXV0rPWk6Mj09PXM/dFtlWzBdXS09aTozPT09cz90W2VbMF1dKj1pOjQ9PT1zJiYodFtlWzBdXS89aSk6Mj09PW8/MD09PXM/dFtlWzBdXVtlWzFdXT1pOjE9PT1zP3RbZVswXV1bZVsxXV0rPWk6Mj09PXM/dFtlWzBdXVtlWzFdXS09aTozPT09cz90W2VbMF1dW2VbMV1dKj1pOjQ9PT1zJiYodFtlWzBdXVtlWzFdXS89aSk6Mz09PW8/MD09PXM/dFtlWzBdXVtlWzFdXVtlWzJdXT1pOjE9PT1zP3RbZVswXV1bZVsxXV1bZVsyXV0rPWk6Mj09PXM/dFtlWzBdXVtlWzFdXVtlWzJdXS09aTozPT09cz90W2VbMF1dW2VbMV1dW2VbMl1dKj1pOjQ9PT1zJiYodFtlWzBdXVtlWzFdXVtlWzJdXS89aSk6ND09PW8mJigwPT09cz90W2VbMF1dW2VbMV1dW2VbMl1dW2VbM11dPWk6MT09PXM/dFtlWzBdXVtlWzFdXVtlWzJdXVtlWzNdXSs9aToyPT09cz90W2VbMF1dW2VbMV1dW2VbMl1dW2VbM11dLT1pOjM9PT1zP3RbZVswXV1bZVsxXV1bZVsyXV1bZVszXV0qPWk6ND09PXMmJih0W2VbMF1dW2VbMV1dW2VbMl1dW2VbM11dLz1pKSksITB9LGkuR3JvdXAucHJvdG90eXBlLmNoZWNrUHJvcGVydHk9ZnVuY3Rpb24odCxlLHMsbil7aWYodm9pZCAwPT09biYmKG49ITEpLHRoaXMhPT10LnBhcmVudClyZXR1cm4hMTt2YXIgbz1pLlV0aWxzLmdldFByb3BlcnR5KHQsZSk7cmV0dXJuISh2b2lkIDA9PT1vJiZufHxvIT09cyl9LGkuR3JvdXAucHJvdG90eXBlLnNldD1mdW5jdGlvbih0LGUsaSxzLG4sbyxyKXtpZih2b2lkIDA9PT1yJiYocj0hMSksZT1lLnNwbGl0KFwiLlwiKSx2b2lkIDA9PT1zJiYocz0hMSksdm9pZCAwPT09biYmKG49ITEpLCghMT09PXN8fHMmJnQuYWxpdmUpJiYoITE9PT1ufHxuJiZ0LnZpc2libGUpKXJldHVybiB0aGlzLnNldFByb3BlcnR5KHQsZSxpLG8scil9LGkuR3JvdXAucHJvdG90eXBlLnNldEFsbD1mdW5jdGlvbih0LGUsaSxzLG4sbyl7dm9pZCAwPT09aSYmKGk9ITEpLHZvaWQgMD09PXMmJihzPSExKSx2b2lkIDA9PT1vJiYobz0hMSksdD10LnNwbGl0KFwiLlwiKSxuPW58fDA7Zm9yKHZhciByPTA7cjx0aGlzLmNoaWxkcmVuLmxlbmd0aDtyKyspKCFpfHxpJiZ0aGlzLmNoaWxkcmVuW3JdLmFsaXZlKSYmKCFzfHxzJiZ0aGlzLmNoaWxkcmVuW3JdLnZpc2libGUpJiZ0aGlzLnNldFByb3BlcnR5KHRoaXMuY2hpbGRyZW5bcl0sdCxlLG4sbyl9LGkuR3JvdXAucHJvdG90eXBlLnNldEFsbENoaWxkcmVuPWZ1bmN0aW9uKHQsZSxzLG4sbyxyKXt2b2lkIDA9PT1zJiYocz0hMSksdm9pZCAwPT09biYmKG49ITEpLHZvaWQgMD09PXImJihyPSExKSxvPW98fDA7Zm9yKHZhciBhPTA7YTx0aGlzLmNoaWxkcmVuLmxlbmd0aDthKyspKCFzfHxzJiZ0aGlzLmNoaWxkcmVuW2FdLmFsaXZlKSYmKCFufHxuJiZ0aGlzLmNoaWxkcmVuW2FdLnZpc2libGUpJiYodGhpcy5jaGlsZHJlblthXWluc3RhbmNlb2YgaS5Hcm91cD90aGlzLmNoaWxkcmVuW2FdLnNldEFsbENoaWxkcmVuKHQsZSxzLG4sbyxyKTp0aGlzLnNldFByb3BlcnR5KHRoaXMuY2hpbGRyZW5bYV0sdC5zcGxpdChcIi5cIiksZSxvLHIpKX0saS5Hcm91cC5wcm90b3R5cGUuY2hlY2tBbGw9ZnVuY3Rpb24odCxlLGkscyxuKXt2b2lkIDA9PT1pJiYoaT0hMSksdm9pZCAwPT09cyYmKHM9ITEpLHZvaWQgMD09PW4mJihuPSExKTtmb3IodmFyIG89MDtvPHRoaXMuY2hpbGRyZW4ubGVuZ3RoO28rKyl7dmFyIHI9dGhpcy5jaGlsZHJlbltvXTtpZigoIWl8fGkmJnIuYWxpdmUpJiYoIXN8fHMmJnIudmlzaWJsZSkmJiF0aGlzLmNoZWNrUHJvcGVydHkocix0LGUsbikpcmV0dXJuITF9cmV0dXJuITB9LGkuR3JvdXAucHJvdG90eXBlLmNoZWNrQW55PWZ1bmN0aW9uKHQsZSxpLHMpe3ZvaWQgMD09PWkmJihpPSExKSx2b2lkIDA9PT1zJiYocz0hMSk7Zm9yKHZhciBuPTA7bjx0aGlzLmNoaWxkcmVuLmxlbmd0aDtuKyspe3ZhciBvPXRoaXMuY2hpbGRyZW5bbl07aWYoKCFpfHxpJiZvLmFsaXZlKSYmKCFzfHxzJiZvLnZpc2libGUpJiZ0aGlzLmNoZWNrUHJvcGVydHkobyx0LGUpKXJldHVybiEwfXJldHVybiExfSxpLkdyb3VwLnByb3RvdHlwZS5hZGRBbGw9ZnVuY3Rpb24odCxlLGkscyl7dGhpcy5zZXRBbGwodCxlLGkscywxKX0saS5Hcm91cC5wcm90b3R5cGUuc3ViQWxsPWZ1bmN0aW9uKHQsZSxpLHMpe3RoaXMuc2V0QWxsKHQsZSxpLHMsMil9LGkuR3JvdXAucHJvdG90eXBlLm11bHRpcGx5QWxsPWZ1bmN0aW9uKHQsZSxpLHMpe3RoaXMuc2V0QWxsKHQsZSxpLHMsMyl9LGkuR3JvdXAucHJvdG90eXBlLmRpdmlkZUFsbD1mdW5jdGlvbih0LGUsaSxzKXt0aGlzLnNldEFsbCh0LGUsaSxzLDQpfSxpLkdyb3VwLnByb3RvdHlwZS5raWxsPWZ1bmN0aW9uKCl7dGhpcy5hbGl2ZT0hMSx0aGlzLmV4aXN0cz0hMSx0aGlzLnZpc2libGU9ITF9LGkuR3JvdXAucHJvdG90eXBlLmtpbGxBbGw9ZnVuY3Rpb24oKXt0aGlzLmNhbGxBbGxFeGlzdHMoXCJraWxsXCIsITApfSxpLkdyb3VwLnByb3RvdHlwZS5yZXZpdmU9ZnVuY3Rpb24oKXt0aGlzLmFsaXZlPSEwLHRoaXMuZXhpc3RzPSEwLHRoaXMudmlzaWJsZT0hMH0saS5Hcm91cC5wcm90b3R5cGUucmV2aXZlQWxsPWZ1bmN0aW9uKCl7dGhpcy5jYWxsQWxsRXhpc3RzKFwicmV2aXZlXCIsITEpfSxpLkdyb3VwLnByb3RvdHlwZS5yZXNldEFsbD1mdW5jdGlvbih0LGUsaSxzLG4pe3RoaXMuZm9yRWFjaCh0aGlzLnJlc2V0Q2hpbGQsdGhpcyxuLHQsZSxpLHMpfSxpLkdyb3VwLnByb3RvdHlwZS5jYWxsQWxsRXhpc3RzPWZ1bmN0aW9uKHQsZSl7dmFyIGk7aWYoYXJndW1lbnRzLmxlbmd0aD4yKXtpPVtdO2ZvcihzPTI7czxhcmd1bWVudHMubGVuZ3RoO3MrKylpLnB1c2goYXJndW1lbnRzW3NdKX1mb3IodmFyIHM9MDtzPHRoaXMuY2hpbGRyZW4ubGVuZ3RoO3MrKyl0aGlzLmNoaWxkcmVuW3NdLmV4aXN0cz09PWUmJnRoaXMuY2hpbGRyZW5bc11bdF0mJnRoaXMuY2hpbGRyZW5bc11bdF0uYXBwbHkodGhpcy5jaGlsZHJlbltzXSxpKX0saS5Hcm91cC5wcm90b3R5cGUuY2FsbGJhY2tGcm9tQXJyYXk9ZnVuY3Rpb24odCxlLGkpe2lmKDE9PT1pKXtpZih0W2VbMF1dKXJldHVybiB0W2VbMF1dfWVsc2UgaWYoMj09PWkpe2lmKHRbZVswXV1bZVsxXV0pcmV0dXJuIHRbZVswXV1bZVsxXV19ZWxzZSBpZigzPT09aSl7aWYodFtlWzBdXVtlWzFdXVtlWzJdXSlyZXR1cm4gdFtlWzBdXVtlWzFdXVtlWzJdXX1lbHNlIGlmKDQ9PT1pKXtpZih0W2VbMF1dW2VbMV1dW2VbMl1dW2VbM11dKXJldHVybiB0W2VbMF1dW2VbMV1dW2VbMl1dW2VbM11dfWVsc2UgaWYodFtlXSlyZXR1cm4gdFtlXTtyZXR1cm4hMX0saS5Hcm91cC5wcm90b3R5cGUuY2FsbEFsbD1mdW5jdGlvbih0LGUpe2lmKHZvaWQgMCE9PXQpe3ZhciBpPSh0PXQuc3BsaXQoXCIuXCIpKS5sZW5ndGg7aWYodm9pZCAwPT09ZXx8bnVsbD09PWV8fFwiXCI9PT1lKWU9bnVsbDtlbHNlIGlmKFwic3RyaW5nXCI9PXR5cGVvZiBlKXZhciBzPShlPWUuc3BsaXQoXCIuXCIpKS5sZW5ndGg7dmFyIG47aWYoYXJndW1lbnRzLmxlbmd0aD4yKXtuPVtdO2ZvcihhPTI7YTxhcmd1bWVudHMubGVuZ3RoO2ErKyluLnB1c2goYXJndW1lbnRzW2FdKX1mb3IodmFyIG89bnVsbCxyPW51bGwsYT0wO2E8dGhpcy5jaGlsZHJlbi5sZW5ndGg7YSsrKW89dGhpcy5jYWxsYmFja0Zyb21BcnJheSh0aGlzLmNoaWxkcmVuW2FdLHQsaSksZSYmbz8ocj10aGlzLmNhbGxiYWNrRnJvbUFycmF5KHRoaXMuY2hpbGRyZW5bYV0sZSxzKSxvJiZvLmFwcGx5KHIsbikpOm8mJm8uYXBwbHkodGhpcy5jaGlsZHJlblthXSxuKX19LGkuR3JvdXAucHJvdG90eXBlLnByZVVwZGF0ZT1mdW5jdGlvbigpe2lmKHRoaXMucGVuZGluZ0Rlc3Ryb3kpcmV0dXJuIHRoaXMuZGVzdHJveSgpLCExO2lmKCF0aGlzLmV4aXN0c3x8IXRoaXMucGFyZW50LmV4aXN0cylyZXR1cm4gdGhpcy5yZW5kZXJPcmRlcklEPS0xLCExO2Zvcih2YXIgdD0wO3Q8dGhpcy5jaGlsZHJlbi5sZW5ndGg7KXt2YXIgZT10aGlzLmNoaWxkcmVuW3RdO2UucHJlVXBkYXRlKCksdGhpcz09PWUucGFyZW50JiZ0Kyt9cmV0dXJuITB9LGkuR3JvdXAucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLmNoaWxkcmVuLmxlbmd0aDt0LS07KXt2YXIgZT10aGlzLmNoaWxkcmVuLmxlbmd0aDt0Pj1lJiYodD1lLTEpO3ZhciBpPXRoaXMuY2hpbGRyZW5bdF07dGhpcy51cGRhdGVPbmx5RXhpc3RpbmdDaGlsZHJlbiYmIWkuZXhpc3RzfHxpLnVwZGF0ZSgpfX0saS5Hcm91cC5wcm90b3R5cGUucG9zdFVwZGF0ZT1mdW5jdGlvbigpe3RoaXMuZml4ZWRUb0NhbWVyYSYmKHRoaXMueD0odGhpcy5nYW1lLmNhbWVyYS52aWV3LngrdGhpcy5jYW1lcmFPZmZzZXQueCkvdGhpcy5nYW1lLmNhbWVyYS5zY2FsZS54LHRoaXMueT0odGhpcy5nYW1lLmNhbWVyYS52aWV3LnkrdGhpcy5jYW1lcmFPZmZzZXQueSkvdGhpcy5nYW1lLmNhbWVyYS5zY2FsZS55KTtmb3IodmFyIHQ9MDt0PHRoaXMuY2hpbGRyZW4ubGVuZ3RoO3QrKyl0aGlzLmNoaWxkcmVuW3RdLnBvc3RVcGRhdGUoKX0saS5Hcm91cC5wcm90b3R5cGUuZmlsdGVyPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBzPS0xLG49dGhpcy5jaGlsZHJlbi5sZW5ndGgsbz1bXTsrK3M8bjspe3ZhciByPXRoaXMuY2hpbGRyZW5bc107KCFlfHxlJiZyLmV4aXN0cykmJnQocixzLHRoaXMuY2hpbGRyZW4pJiZvLnB1c2gocil9cmV0dXJuIG5ldyBpLkFycmF5U2V0KG8pfSxpLkdyb3VwLnByb3RvdHlwZS5mb3JFYWNoPWZ1bmN0aW9uKHQsZSxpKXtpZih2b2lkIDA9PT1pJiYoaT0hMSksYXJndW1lbnRzLmxlbmd0aDw9Mylmb3Iobj0wO248dGhpcy5jaGlsZHJlbi5sZW5ndGg7bisrKSghaXx8aSYmdGhpcy5jaGlsZHJlbltuXS5leGlzdHMpJiZ0LmNhbGwoZSx0aGlzLmNoaWxkcmVuW25dKTtlbHNle2Zvcih2YXIgcz1bbnVsbF0sbj0zO248YXJndW1lbnRzLmxlbmd0aDtuKyspcy5wdXNoKGFyZ3VtZW50c1tuXSk7Zm9yKG49MDtuPHRoaXMuY2hpbGRyZW4ubGVuZ3RoO24rKykoIWl8fGkmJnRoaXMuY2hpbGRyZW5bbl0uZXhpc3RzKSYmKHNbMF09dGhpcy5jaGlsZHJlbltuXSx0LmFwcGx5KGUscykpfX0saS5Hcm91cC5wcm90b3R5cGUuZm9yRWFjaEV4aXN0cz1mdW5jdGlvbih0LGUpe3ZhciBzO2lmKGFyZ3VtZW50cy5sZW5ndGg+Mil7cz1bbnVsbF07Zm9yKHZhciBuPTI7bjxhcmd1bWVudHMubGVuZ3RoO24rKylzLnB1c2goYXJndW1lbnRzW25dKX10aGlzLml0ZXJhdGUoXCJleGlzdHNcIiwhMCxpLkdyb3VwLlJFVFVSTl9UT1RBTCx0LGUscyl9LGkuR3JvdXAucHJvdG90eXBlLmZvckVhY2hBbGl2ZT1mdW5jdGlvbih0LGUpe3ZhciBzO2lmKGFyZ3VtZW50cy5sZW5ndGg+Mil7cz1bbnVsbF07Zm9yKHZhciBuPTI7bjxhcmd1bWVudHMubGVuZ3RoO24rKylzLnB1c2goYXJndW1lbnRzW25dKX10aGlzLml0ZXJhdGUoXCJhbGl2ZVwiLCEwLGkuR3JvdXAuUkVUVVJOX1RPVEFMLHQsZSxzKX0saS5Hcm91cC5wcm90b3R5cGUuZm9yRWFjaERlYWQ9ZnVuY3Rpb24odCxlKXt2YXIgcztpZihhcmd1bWVudHMubGVuZ3RoPjIpe3M9W251bGxdO2Zvcih2YXIgbj0yO248YXJndW1lbnRzLmxlbmd0aDtuKyspcy5wdXNoKGFyZ3VtZW50c1tuXSl9dGhpcy5pdGVyYXRlKFwiYWxpdmVcIiwhMSxpLkdyb3VwLlJFVFVSTl9UT1RBTCx0LGUscyl9LGkuR3JvdXAucHJvdG90eXBlLnNvcnQ9ZnVuY3Rpb24odCxlKXt0aGlzLmNoaWxkcmVuLmxlbmd0aDwyfHwodm9pZCAwPT09dCYmKHQ9XCJ6XCIpLHZvaWQgMD09PWUmJihlPWkuR3JvdXAuU09SVF9BU0NFTkRJTkcpLHRoaXMuX3NvcnRQcm9wZXJ0eT10LGU9PT1pLkdyb3VwLlNPUlRfQVNDRU5ESU5HP3RoaXMuY2hpbGRyZW4uc29ydCh0aGlzLmFzY2VuZGluZ1NvcnRIYW5kbGVyLmJpbmQodGhpcykpOnRoaXMuY2hpbGRyZW4uc29ydCh0aGlzLmRlc2NlbmRpbmdTb3J0SGFuZGxlci5iaW5kKHRoaXMpKSx0aGlzLnVwZGF0ZVooKSl9LGkuR3JvdXAucHJvdG90eXBlLmN1c3RvbVNvcnQ9ZnVuY3Rpb24odCxlKXt0aGlzLmNoaWxkcmVuLmxlbmd0aDwyfHwodGhpcy5jaGlsZHJlbi5zb3J0KHQuYmluZChlKSksdGhpcy51cGRhdGVaKCkpfSxpLkdyb3VwLnByb3RvdHlwZS5hc2NlbmRpbmdTb3J0SGFuZGxlcj1mdW5jdGlvbih0LGUpe3JldHVybiB0W3RoaXMuX3NvcnRQcm9wZXJ0eV08ZVt0aGlzLl9zb3J0UHJvcGVydHldPy0xOnRbdGhpcy5fc29ydFByb3BlcnR5XT5lW3RoaXMuX3NvcnRQcm9wZXJ0eV0/MTp0Lno8ZS56Py0xOjF9LGkuR3JvdXAucHJvdG90eXBlLmRlc2NlbmRpbmdTb3J0SGFuZGxlcj1mdW5jdGlvbih0LGUpe3JldHVybiB0W3RoaXMuX3NvcnRQcm9wZXJ0eV08ZVt0aGlzLl9zb3J0UHJvcGVydHldPzE6dFt0aGlzLl9zb3J0UHJvcGVydHldPmVbdGhpcy5fc29ydFByb3BlcnR5XT8tMTowfSxpLkdyb3VwLnByb3RvdHlwZS5pdGVyYXRlPWZ1bmN0aW9uKHQsZSxzLG4sbyxyKXtpZigwPT09dGhpcy5jaGlsZHJlbi5sZW5ndGgpe2lmKHM9PT1pLkdyb3VwLlJFVFVSTl9UT1RBTClyZXR1cm4gMDtpZihzPT09aS5Hcm91cC5SRVRVUk5fQUxMKXJldHVybltdfXZhciBhPTA7aWYocz09PWkuR3JvdXAuUkVUVVJOX0FMTCl2YXIgaD1bXTtmb3IodmFyIGw9MDtsPHRoaXMuY2hpbGRyZW4ubGVuZ3RoO2wrKylpZih0aGlzLmNoaWxkcmVuW2xdW3RdPT09ZSl7aWYoYSsrLG4mJihyPyhyWzBdPXRoaXMuY2hpbGRyZW5bbF0sbi5hcHBseShvLHIpKTpuLmNhbGwobyx0aGlzLmNoaWxkcmVuW2xdKSkscz09PWkuR3JvdXAuUkVUVVJOX0NISUxEKXJldHVybiB0aGlzLmNoaWxkcmVuW2xdO3M9PT1pLkdyb3VwLlJFVFVSTl9BTEwmJmgucHVzaCh0aGlzLmNoaWxkcmVuW2xdKX1yZXR1cm4gcz09PWkuR3JvdXAuUkVUVVJOX1RPVEFMP2E6cz09PWkuR3JvdXAuUkVUVVJOX0FMTD9oOm51bGx9LGkuR3JvdXAucHJvdG90eXBlLmdldEZpcnN0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuaXRlcmF0ZSh0LGUsaS5Hcm91cC5SRVRVUk5fQ0hJTEQpfSxpLkdyb3VwLnByb3RvdHlwZS5nZXRGaXJzdEV4aXN0cz1mdW5jdGlvbih0LGUsaSxzLG4sbyl7dm9pZCAwPT09ZSYmKGU9ITEpLFwiYm9vbGVhblwiIT10eXBlb2YgdCYmKHQ9ITApO3ZhciByPXRoaXMuZ2V0Rmlyc3QoXCJleGlzdHNcIix0KTtyZXR1cm4gbnVsbD09PXImJmU/dGhpcy5jcmVhdGUoaSxzLG4sbyk6dGhpcy5yZXNldENoaWxkKHIsaSxzLG4sbyl9LGkuR3JvdXAucHJvdG90eXBlLmdldEZpcnN0QWxpdmU9ZnVuY3Rpb24odCxlLGkscyxuKXt2b2lkIDA9PT10JiYodD0hMSk7dmFyIG89dGhpcy5nZXRGaXJzdChcImFsaXZlXCIsITApO3JldHVybiBudWxsPT09byYmdD90aGlzLmNyZWF0ZShlLGkscyxuKTp0aGlzLnJlc2V0Q2hpbGQobyxlLGkscyxuKX0saS5Hcm91cC5wcm90b3R5cGUuZ2V0Rmlyc3REZWFkPWZ1bmN0aW9uKHQsZSxpLHMsbil7dm9pZCAwPT09dCYmKHQ9ITEpO3ZhciBvPXRoaXMuZ2V0Rmlyc3QoXCJhbGl2ZVwiLCExKTtyZXR1cm4gbnVsbD09PW8mJnQ/dGhpcy5jcmVhdGUoZSxpLHMsbik6dGhpcy5yZXNldENoaWxkKG8sZSxpLHMsbil9LGkuR3JvdXAucHJvdG90eXBlLnJlc2V0Q2hpbGQ9ZnVuY3Rpb24odCxlLGkscyxuKXtyZXR1cm4gbnVsbD09PXQ/bnVsbDoodm9pZCAwPT09ZSYmKGU9bnVsbCksdm9pZCAwPT09aSYmKGk9bnVsbCksbnVsbCE9PWUmJm51bGwhPT1pJiZ0LnJlc2V0KGUsaSksdm9pZCAwIT09cyYmdC5sb2FkVGV4dHVyZShzLG4pLHQpfSxpLkdyb3VwLnByb3RvdHlwZS5nZXRUb3A9ZnVuY3Rpb24oKXtpZih0aGlzLmNoaWxkcmVuLmxlbmd0aD4wKXJldHVybiB0aGlzLmNoaWxkcmVuW3RoaXMuY2hpbGRyZW4ubGVuZ3RoLTFdfSxpLkdyb3VwLnByb3RvdHlwZS5nZXRCb3R0b209ZnVuY3Rpb24oKXtpZih0aGlzLmNoaWxkcmVuLmxlbmd0aD4wKXJldHVybiB0aGlzLmNoaWxkcmVuWzBdfSxpLkdyb3VwLnByb3RvdHlwZS5nZXRDbG9zZXN0VG89ZnVuY3Rpb24odCxlLHMpe2Zvcih2YXIgbj1OdW1iZXIuTUFYX1ZBTFVFLG89MCxyPW51bGwsYT0wO2E8dGhpcy5jaGlsZHJlbi5sZW5ndGg7YSsrKXt2YXIgaD10aGlzLmNoaWxkcmVuW2FdO2guZXhpc3RzJiYobz1NYXRoLmFicyhpLlBvaW50LmRpc3RhbmNlKHQsaCkpKTxuJiYoIWV8fGUuY2FsbChzLGgsbykpJiYobj1vLHI9aCl9cmV0dXJuIHJ9LGkuR3JvdXAucHJvdG90eXBlLmdldEZ1cnRoZXN0RnJvbT1mdW5jdGlvbih0LGUscyl7Zm9yKHZhciBuPTAsbz0wLHI9bnVsbCxhPTA7YTx0aGlzLmNoaWxkcmVuLmxlbmd0aDthKyspe3ZhciBoPXRoaXMuY2hpbGRyZW5bYV07aC5leGlzdHMmJihvPU1hdGguYWJzKGkuUG9pbnQuZGlzdGFuY2UodCxoKSkpPm4mJighZXx8ZS5jYWxsKHMsaCxvKSkmJihuPW8scj1oKX1yZXR1cm4gcn0saS5Hcm91cC5wcm90b3R5cGUuY291bnQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5pdGVyYXRlKHQsZSxpLkdyb3VwLlJFVFVSTl9UT1RBTCl9LGkuR3JvdXAucHJvdG90eXBlLmNvdW50TGl2aW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY291bnQoXCJhbGl2ZVwiLCEwKX0saS5Hcm91cC5wcm90b3R5cGUuY291bnREZWFkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY291bnQoXCJhbGl2ZVwiLCExKX0saS5Hcm91cC5wcm90b3R5cGUuZ2V0UmFuZG9tPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHZvaWQgMD09PXQmJih0PTApLHZvaWQgMD09PWUmJihlPXRoaXMuY2hpbGRyZW4ubGVuZ3RoKSwwPT09ZT9udWxsOmkuQXJyYXlVdGlscy5nZXRSYW5kb21JdGVtKHRoaXMuY2hpbGRyZW4sdCxlKX0saS5Hcm91cC5wcm90b3R5cGUuZ2V0UmFuZG9tRXhpc3RzPWZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5nZXRBbGwoXCJleGlzdHNcIiwhMCx0LGUpO3JldHVybiB0aGlzLmdhbWUucm5kLnBpY2soaSl9LGkuR3JvdXAucHJvdG90eXBlLmdldEFsbD1mdW5jdGlvbih0LGUsaSxzKXt2b2lkIDA9PT1pJiYoaT0wKSx2b2lkIDA9PT1zJiYocz10aGlzLmNoaWxkcmVuLmxlbmd0aCk7Zm9yKHZhciBuPVtdLG89aTtvPHM7bysrKXt2YXIgcj10aGlzLmNoaWxkcmVuW29dO3Q/clt0XT09PWUmJm4ucHVzaChyKTpuLnB1c2gocil9cmV0dXJuIG59LGkuR3JvdXAucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbih0LGUsaSl7aWYodm9pZCAwPT09ZSYmKGU9ITEpLHZvaWQgMD09PWkmJihpPSExKSwwPT09dGhpcy5jaGlsZHJlbi5sZW5ndGh8fC0xPT09dGhpcy5jaGlsZHJlbi5pbmRleE9mKHQpKXJldHVybiExO2l8fCF0LmV2ZW50c3x8dC5kZXN0cm95UGhhc2V8fHQuZXZlbnRzLm9uUmVtb3ZlZEZyb21Hcm91cCRkaXNwYXRjaCh0LHRoaXMpO3ZhciBzPXRoaXMucmVtb3ZlQ2hpbGQodCk7cmV0dXJuIHRoaXMucmVtb3ZlRnJvbUhhc2godCksdGhpcy51cGRhdGVaKCksdGhpcy5jdXJzb3I9PT10JiZ0aGlzLm5leHQoKSxlJiZzJiZzLmRlc3Ryb3koITApLCEwfSxpLkdyb3VwLnByb3RvdHlwZS5tb3ZlQWxsPWZ1bmN0aW9uKHQsZSl7aWYodm9pZCAwPT09ZSYmKGU9ITEpLHRoaXMuY2hpbGRyZW4ubGVuZ3RoPjAmJnQgaW5zdGFuY2VvZiBpLkdyb3VwKXtkb3t0LmFkZCh0aGlzLmNoaWxkcmVuWzBdLGUpfXdoaWxlKHRoaXMuY2hpbGRyZW4ubGVuZ3RoPjApO3RoaXMuaGFzaD1bXSx0aGlzLmN1cnNvcj1udWxsfXJldHVybiB0fSxpLkdyb3VwLnByb3RvdHlwZS5yZW1vdmVBbGw9ZnVuY3Rpb24odCxlLGkpe2lmKHZvaWQgMD09PXQmJih0PSExKSx2b2lkIDA9PT1lJiYoZT0hMSksdm9pZCAwPT09aSYmKGk9ITEpLDAhPT10aGlzLmNoaWxkcmVuLmxlbmd0aCl7ZG97IWUmJnRoaXMuY2hpbGRyZW5bMF0uZXZlbnRzJiZ0aGlzLmNoaWxkcmVuWzBdLmV2ZW50cy5vblJlbW92ZWRGcm9tR3JvdXAkZGlzcGF0Y2godGhpcy5jaGlsZHJlblswXSx0aGlzKTt2YXIgcz10aGlzLnJlbW92ZUNoaWxkKHRoaXMuY2hpbGRyZW5bMF0pO3RoaXMucmVtb3ZlRnJvbUhhc2gocyksdCYmcyYmcy5kZXN0cm95KCEwLGkpfXdoaWxlKHRoaXMuY2hpbGRyZW4ubGVuZ3RoPjApO3RoaXMuaGFzaD1bXSx0aGlzLmN1cnNvcj1udWxsfX0saS5Hcm91cC5wcm90b3R5cGUucmVtb3ZlQmV0d2Vlbj1mdW5jdGlvbih0LGUsaSxzKXtpZih2b2lkIDA9PT1lJiYoZT10aGlzLmNoaWxkcmVuLmxlbmd0aC0xKSx2b2lkIDA9PT1pJiYoaT0hMSksdm9pZCAwPT09cyYmKHM9ITEpLDAhPT10aGlzLmNoaWxkcmVuLmxlbmd0aCl7aWYodD5lfHx0PDB8fGU+dGhpcy5jaGlsZHJlbi5sZW5ndGgpcmV0dXJuITE7Zm9yKHZhciBuPWU7bj49dDspeyFzJiZ0aGlzLmNoaWxkcmVuW25dLmV2ZW50cyYmdGhpcy5jaGlsZHJlbltuXS5ldmVudHMub25SZW1vdmVkRnJvbUdyb3VwJGRpc3BhdGNoKHRoaXMuY2hpbGRyZW5bbl0sdGhpcyk7dmFyIG89dGhpcy5yZW1vdmVDaGlsZCh0aGlzLmNoaWxkcmVuW25dKTt0aGlzLnJlbW92ZUZyb21IYXNoKG8pLGkmJm8mJm8uZGVzdHJveSghMCksdGhpcy5jdXJzb3I9PT10aGlzLmNoaWxkcmVuW25dJiYodGhpcy5jdXJzb3I9bnVsbCksbi0tfXRoaXMudXBkYXRlWigpfX0saS5Hcm91cC5wcm90b3R5cGUuc2NhdHRlcj1mdW5jdGlvbih0LGUpe251bGw9PXQmJih0PXRoaXMuZ2FtZS53b3JsZC5ib3VuZHMpLHRoaXMuZm9yRWFjaChmdW5jdGlvbihlKXtlLnBvc2l0aW9uLnNldCh0LnJhbmRvbVgsdC5yYW5kb21ZKX0sbnVsbCxlKX0saS5Hcm91cC5wcm90b3R5cGUuc2h1ZmZsZT1mdW5jdGlvbigpe2kuQXJyYXlVdGlscy5zaHVmZmxlKHRoaXMuY2hpbGRyZW4pLHRoaXMudXBkYXRlWigpfSxpLkdyb3VwLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKHQsZSl7bnVsbD09PXRoaXMuZ2FtZXx8dGhpcy5pZ25vcmVEZXN0cm95fHwodm9pZCAwPT09dCYmKHQ9ITApLHZvaWQgMD09PWUmJihlPSExKSx0aGlzLm9uRGVzdHJveS5kaXNwYXRjaCh0aGlzLHQsZSksdGhpcy5yZW1vdmVBbGwodCksdGhpcy5jdXJzb3I9bnVsbCx0aGlzLmZpbHRlcnM9bnVsbCx0aGlzLnBlbmRpbmdEZXN0cm95PSExLGV8fCh0aGlzLnBhcmVudCYmdGhpcy5wYXJlbnQucmVtb3ZlQ2hpbGQodGhpcyksdGhpcy5nYW1lPW51bGwsdGhpcy5leGlzdHM9ITEpKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuR3JvdXAucHJvdG90eXBlLFwidG90YWxcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXRlcmF0ZShcImV4aXN0c1wiLCEwLGkuR3JvdXAuUkVUVVJOX1RPVEFMKX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5Hcm91cC5wcm90b3R5cGUsXCJsZW5ndGhcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2hpbGRyZW4ubGVuZ3RofX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLkdyb3VwLnByb3RvdHlwZSxcImFuZ2xlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBpLk1hdGgucmFkVG9EZWcodGhpcy5yb3RhdGlvbil9LHNldDpmdW5jdGlvbih0KXt0aGlzLnJvdGF0aW9uPWkuTWF0aC5kZWdUb1JhZCh0KX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5Hcm91cC5wcm90b3R5cGUsXCJjZW50ZXJYXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldEJvdW5kcyh0aGlzLnBhcmVudCkuY2VudGVyWH0sc2V0OmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ2V0Qm91bmRzKHRoaXMucGFyZW50KSxpPXRoaXMueC1lLng7dGhpcy54PXQraS1lLmhhbGZXaWR0aH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5Hcm91cC5wcm90b3R5cGUsXCJjZW50ZXJZXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldEJvdW5kcyh0aGlzLnBhcmVudCkuY2VudGVyWX0sc2V0OmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ2V0Qm91bmRzKHRoaXMucGFyZW50KSxpPXRoaXMueS1lLnk7dGhpcy55PXQraS1lLmhhbGZIZWlnaHR9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuR3JvdXAucHJvdG90eXBlLFwibGVmdFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRCb3VuZHModGhpcy5wYXJlbnQpLmxlZnR9LHNldDpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmdldEJvdW5kcyh0aGlzLnBhcmVudCksaT10aGlzLngtZS54O3RoaXMueD10K2l9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuR3JvdXAucHJvdG90eXBlLFwicmlnaHRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0Qm91bmRzKHRoaXMucGFyZW50KS5yaWdodH0sc2V0OmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ2V0Qm91bmRzKHRoaXMucGFyZW50KSxpPXRoaXMueC1lLng7dGhpcy54PXQraS1lLndpZHRofX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLkdyb3VwLnByb3RvdHlwZSxcInRvcFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRCb3VuZHModGhpcy5wYXJlbnQpLnRvcH0sc2V0OmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ2V0Qm91bmRzKHRoaXMucGFyZW50KSxpPXRoaXMueS1lLnk7dGhpcy55PXQraX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5Hcm91cC5wcm90b3R5cGUsXCJib3R0b21cIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0Qm91bmRzKHRoaXMucGFyZW50KS5ib3R0b219LHNldDpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmdldEJvdW5kcyh0aGlzLnBhcmVudCksaT10aGlzLnktZS55O3RoaXMueT10K2ktZS5oZWlnaHR9fSksaS5Xb3JsZD1mdW5jdGlvbih0KXtpLkdyb3VwLmNhbGwodGhpcyx0LG51bGwsXCJfX3dvcmxkXCIsITEpLHRoaXMuYm91bmRzPW5ldyBpLlJlY3RhbmdsZSgwLDAsdC53aWR0aCx0LmhlaWdodCksdGhpcy5jYW1lcmE9bnVsbCx0aGlzLl9kZWZpbmVkU2l6ZT0hMSx0aGlzLl93aWR0aD10LndpZHRoLHRoaXMuX2hlaWdodD10LmhlaWdodCx0aGlzLmdhbWUuc3RhdGUub25TdGF0ZUNoYW5nZS5hZGQodGhpcy5zdGF0ZUNoYW5nZSx0aGlzKX0saS5Xb3JsZC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShpLkdyb3VwLnByb3RvdHlwZSksaS5Xb3JsZC5wcm90b3R5cGUuY29uc3RydWN0b3I9aS5Xb3JsZCxpLldvcmxkLnByb3RvdHlwZS5ib290PWZ1bmN0aW9uKCl7dGhpcy5jYW1lcmE9bmV3IGkuQ2FtZXJhKHRoaXMuZ2FtZSwwLDAsMCx0aGlzLmdhbWUud2lkdGgsdGhpcy5nYW1lLmhlaWdodCksdGhpcy5nYW1lLnN0YWdlLmFkZENoaWxkKHRoaXMpLHRoaXMuY2FtZXJhLmJvb3QoKX0saS5Xb3JsZC5wcm90b3R5cGUuc3RhdGVDaGFuZ2U9ZnVuY3Rpb24oKXt0aGlzLng9MCx0aGlzLnk9MCx0aGlzLmNhbWVyYS5yZXNldCgpfSxpLldvcmxkLnByb3RvdHlwZS5zZXRCb3VuZHM9ZnVuY3Rpb24odCxlLGkscyl7dGhpcy5fZGVmaW5lZFNpemU9ITAsdGhpcy5fd2lkdGg9aSx0aGlzLl9oZWlnaHQ9cyx0aGlzLmJvdW5kcy5zZXRUbyh0LGUsaSxzKSx0aGlzLng9dCx0aGlzLnk9ZSx0aGlzLmNhbWVyYS5ib3VuZHMmJnRoaXMuY2FtZXJhLmJvdW5kcy5zZXRUbyh0LGUsTWF0aC5tYXgoaSx0aGlzLmdhbWUud2lkdGgpLE1hdGgubWF4KHMsdGhpcy5nYW1lLmhlaWdodCkpLHRoaXMuZ2FtZS5waHlzaWNzLnNldEJvdW5kc1RvV29ybGQoKX0saS5Xb3JsZC5wcm90b3R5cGUucmVzaXplPWZ1bmN0aW9uKHQsZSl7dGhpcy5fZGVmaW5lZFNpemUmJih0PHRoaXMuX3dpZHRoJiYodD10aGlzLl93aWR0aCksZTx0aGlzLl9oZWlnaHQmJihlPXRoaXMuX2hlaWdodCkpLHRoaXMuYm91bmRzLndpZHRoPXQsdGhpcy5ib3VuZHMuaGVpZ2h0PWUsdGhpcy5nYW1lLmNhbWVyYS5zZXRCb3VuZHNUb1dvcmxkKCksdGhpcy5nYW1lLnBoeXNpY3Muc2V0Qm91bmRzVG9Xb3JsZCgpfSxpLldvcmxkLnByb3RvdHlwZS5zaHV0ZG93bj1mdW5jdGlvbigpe3RoaXMuZGVzdHJveSghMCwhMCl9LGkuV29ybGQucHJvdG90eXBlLndyYXA9ZnVuY3Rpb24odCxlLGkscyxuKXt2b2lkIDA9PT1lJiYoZT0wKSx2b2lkIDA9PT1pJiYoaT0hMSksdm9pZCAwPT09cyYmKHM9ITApLHZvaWQgMD09PW4mJihuPSEwKSxpPyh0LmdldEJvdW5kcygpLHMmJih0LngrdC5fY3VycmVudEJvdW5kcy53aWR0aDx0aGlzLmJvdW5kcy54P3QueD10aGlzLmJvdW5kcy5yaWdodDp0Lng+dGhpcy5ib3VuZHMucmlnaHQmJih0Lng9dGhpcy5ib3VuZHMubGVmdCkpLG4mJih0LnkrdC5fY3VycmVudEJvdW5kcy5oZWlnaHQ8dGhpcy5ib3VuZHMudG9wP3QueT10aGlzLmJvdW5kcy5ib3R0b206dC55PnRoaXMuYm91bmRzLmJvdHRvbSYmKHQueT10aGlzLmJvdW5kcy50b3ApKSk6KHMmJnQueCtlPHRoaXMuYm91bmRzLng/dC54PXRoaXMuYm91bmRzLnJpZ2h0K2U6cyYmdC54LWU+dGhpcy5ib3VuZHMucmlnaHQmJih0Lng9dGhpcy5ib3VuZHMubGVmdC1lKSxuJiZ0LnkrZTx0aGlzLmJvdW5kcy50b3A/dC55PXRoaXMuYm91bmRzLmJvdHRvbStlOm4mJnQueS1lPnRoaXMuYm91bmRzLmJvdHRvbSYmKHQueT10aGlzLmJvdW5kcy50b3AtZSkpfSxpLldvcmxkLnByb3RvdHlwZS53cmFwQWxsPWZ1bmN0aW9uKHQsZSxpLHMsbixvKXt0LmZvckVhY2godGhpcy53cmFwLHRoaXMsZSxpLHMsbixvKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuV29ybGQucHJvdG90eXBlLFwid2lkdGhcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYm91bmRzLndpZHRofSxzZXQ6ZnVuY3Rpb24odCl7dDx0aGlzLmdhbWUud2lkdGgmJih0PXRoaXMuZ2FtZS53aWR0aCksdGhpcy5ib3VuZHMud2lkdGg9dCx0aGlzLl93aWR0aD10LHRoaXMuX2RlZmluZWRTaXplPSEwfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLldvcmxkLnByb3RvdHlwZSxcImhlaWdodFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ib3VuZHMuaGVpZ2h0fSxzZXQ6ZnVuY3Rpb24odCl7dDx0aGlzLmdhbWUuaGVpZ2h0JiYodD10aGlzLmdhbWUuaGVpZ2h0KSx0aGlzLmJvdW5kcy5oZWlnaHQ9dCx0aGlzLl9oZWlnaHQ9dCx0aGlzLl9kZWZpbmVkU2l6ZT0hMH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5Xb3JsZC5wcm90b3R5cGUsXCJjZW50ZXJYXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmJvdW5kcy5oYWxmV2lkdGgrdGhpcy5ib3VuZHMueH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5Xb3JsZC5wcm90b3R5cGUsXCJjZW50ZXJZXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmJvdW5kcy5oYWxmSGVpZ2h0K3RoaXMuYm91bmRzLnl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuV29ybGQucHJvdG90eXBlLFwicmFuZG9tWFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ib3VuZHMueDwwP3RoaXMuZ2FtZS5ybmQuYmV0d2Vlbih0aGlzLmJvdW5kcy54LHRoaXMuYm91bmRzLndpZHRoLU1hdGguYWJzKHRoaXMuYm91bmRzLngpKTp0aGlzLmdhbWUucm5kLmJldHdlZW4odGhpcy5ib3VuZHMueCx0aGlzLmJvdW5kcy53aWR0aCl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuV29ybGQucHJvdG90eXBlLFwicmFuZG9tWVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ib3VuZHMueTwwP3RoaXMuZ2FtZS5ybmQuYmV0d2Vlbih0aGlzLmJvdW5kcy55LHRoaXMuYm91bmRzLmhlaWdodC1NYXRoLmFicyh0aGlzLmJvdW5kcy55KSk6dGhpcy5nYW1lLnJuZC5iZXR3ZWVuKHRoaXMuYm91bmRzLnksdGhpcy5ib3VuZHMuaGVpZ2h0KX19KSxpLkdhbWU9ZnVuY3Rpb24odCxlLHMsbixvLHIsYSxoKXtyZXR1cm4gdGhpcy5pZD1pLkdBTUVTLnB1c2godGhpcyktMSx0aGlzLmNvbmZpZz1udWxsLHRoaXMucGh5c2ljc0NvbmZpZz1oLHRoaXMucGFyZW50PVwiXCIsdGhpcy53aWR0aD04MDAsdGhpcy5oZWlnaHQ9NjAwLHRoaXMucmVzb2x1dGlvbj0xLHRoaXMuX3dpZHRoPTgwMCx0aGlzLl9oZWlnaHQ9NjAwLHRoaXMudHJhbnNwYXJlbnQ9ITEsdGhpcy5hbnRpYWxpYXM9ITAsdGhpcy5tdWx0aVRleHR1cmU9ITEsdGhpcy5wcmVzZXJ2ZURyYXdpbmdCdWZmZXI9ITEsdGhpcy5jbGVhckJlZm9yZVJlbmRlcj0hMCx0aGlzLnJlbmRlcmVyPW51bGwsdGhpcy5yZW5kZXJUeXBlPWkuQVVUTyx0aGlzLnN0YXRlPW51bGwsdGhpcy5pc0Jvb3RlZD0hMSx0aGlzLmlzUnVubmluZz0hMSx0aGlzLnJhZj1udWxsLHRoaXMuYWRkPW51bGwsdGhpcy5tYWtlPW51bGwsdGhpcy5jYWNoZT1udWxsLHRoaXMuaW5wdXQ9bnVsbCx0aGlzLmxvYWQ9bnVsbCx0aGlzLm1hdGg9bnVsbCx0aGlzLm5ldD1udWxsLHRoaXMuc2NhbGU9bnVsbCx0aGlzLnNvdW5kPW51bGwsdGhpcy5zdGFnZT1udWxsLHRoaXMudGltZT1udWxsLHRoaXMudHdlZW5zPW51bGwsdGhpcy53b3JsZD1udWxsLHRoaXMucGh5c2ljcz1udWxsLHRoaXMucGx1Z2lucz1udWxsLHRoaXMucm5kPW51bGwsdGhpcy5kZXZpY2U9aS5EZXZpY2UsdGhpcy5jYW1lcmE9bnVsbCx0aGlzLmNhbnZhcz1udWxsLHRoaXMuY29udGV4dD1udWxsLHRoaXMuZGVidWc9bnVsbCx0aGlzLnBhcnRpY2xlcz1udWxsLHRoaXMuY3JlYXRlPW51bGwsdGhpcy5sb2NrUmVuZGVyPSExLHRoaXMuc3RlcHBpbmc9ITEsdGhpcy5wZW5kaW5nU3RlcD0hMSx0aGlzLnN0ZXBDb3VudD0wLHRoaXMub25QYXVzZT1udWxsLHRoaXMub25SZXN1bWU9bnVsbCx0aGlzLm9uQmx1cj1udWxsLHRoaXMub25Gb2N1cz1udWxsLHRoaXMuX3BhdXNlZD0hMSx0aGlzLl9jb2RlUGF1c2VkPSExLHRoaXMuY3VycmVudFVwZGF0ZUlEPTAsdGhpcy51cGRhdGVzVGhpc0ZyYW1lPTEsdGhpcy5fZGVsdGFUaW1lPTAsdGhpcy5fbGFzdENvdW50PTAsdGhpcy5fc3BpcmFsaW5nPTAsdGhpcy5fa2lja3N0YXJ0PSEwLHRoaXMuZnBzUHJvYmxlbU5vdGlmaWVyPW5ldyBpLlNpZ25hbCx0aGlzLmZvcmNlU2luZ2xlVXBkYXRlPSEwLHRoaXMuX25leHRGcHNOb3RpZmljYXRpb249MCwxPT09YXJndW1lbnRzLmxlbmd0aCYmXCJvYmplY3RcIj09dHlwZW9mIGFyZ3VtZW50c1swXT90aGlzLnBhcnNlQ29uZmlnKGFyZ3VtZW50c1swXSk6KHRoaXMuY29uZmlnPXtlbmFibGVEZWJ1ZzohMH0sdm9pZCAwIT09dCYmKHRoaXMuX3dpZHRoPXQpLHZvaWQgMCE9PWUmJih0aGlzLl9oZWlnaHQ9ZSksdm9pZCAwIT09cyYmKHRoaXMucmVuZGVyVHlwZT1zKSx2b2lkIDAhPT1uJiYodGhpcy5wYXJlbnQ9biksdm9pZCAwIT09ciYmKHRoaXMudHJhbnNwYXJlbnQ9ciksdm9pZCAwIT09YSYmKHRoaXMuYW50aWFsaWFzPWEpLHRoaXMucm5kPW5ldyBpLlJhbmRvbURhdGFHZW5lcmF0b3IoWyhEYXRlLm5vdygpKk1hdGgucmFuZG9tKCkpLnRvU3RyaW5nKCldKSx0aGlzLnN0YXRlPW5ldyBpLlN0YXRlTWFuYWdlcih0aGlzLG8pKSx0aGlzLmRldmljZS53aGVuUmVhZHkodGhpcy5ib290LHRoaXMpLHRoaXN9LGkuR2FtZS5wcm90b3R5cGU9e3BhcnNlQ29uZmlnOmZ1bmN0aW9uKHQpe3RoaXMuY29uZmlnPXQsdm9pZCAwPT09dC5lbmFibGVEZWJ1ZyYmKHRoaXMuY29uZmlnLmVuYWJsZURlYnVnPSEwKSx0LndpZHRoJiYodGhpcy5fd2lkdGg9dC53aWR0aCksdC5oZWlnaHQmJih0aGlzLl9oZWlnaHQ9dC5oZWlnaHQpLHQucmVuZGVyZXImJih0aGlzLnJlbmRlclR5cGU9dC5yZW5kZXJlciksdC5wYXJlbnQmJih0aGlzLnBhcmVudD10LnBhcmVudCksdm9pZCAwIT09dC50cmFuc3BhcmVudCYmKHRoaXMudHJhbnNwYXJlbnQ9dC50cmFuc3BhcmVudCksdm9pZCAwIT09dC5hbnRpYWxpYXMmJih0aGlzLmFudGlhbGlhcz10LmFudGlhbGlhcyksdm9pZCAwIT09dC5tdWx0aVRleHR1cmUmJih0aGlzLm11bHRpVGV4dHVyZT10Lm11bHRpVGV4dHVyZSksdC5yZXNvbHV0aW9uJiYodGhpcy5yZXNvbHV0aW9uPXQucmVzb2x1dGlvbiksdm9pZCAwIT09dC5wcmVzZXJ2ZURyYXdpbmdCdWZmZXImJih0aGlzLnByZXNlcnZlRHJhd2luZ0J1ZmZlcj10LnByZXNlcnZlRHJhd2luZ0J1ZmZlciksdC5waHlzaWNzQ29uZmlnJiYodGhpcy5waHlzaWNzQ29uZmlnPXQucGh5c2ljc0NvbmZpZyk7dmFyIGU9WyhEYXRlLm5vdygpKk1hdGgucmFuZG9tKCkpLnRvU3RyaW5nKCldO3Quc2VlZCYmKGU9dC5zZWVkKSx0aGlzLnJuZD1uZXcgaS5SYW5kb21EYXRhR2VuZXJhdG9yKGUpO3ZhciBzPW51bGw7dC5zdGF0ZSYmKHM9dC5zdGF0ZSksdGhpcy5zdGF0ZT1uZXcgaS5TdGF0ZU1hbmFnZXIodGhpcyxzKX0sYm9vdDpmdW5jdGlvbigpe3RoaXMuaXNCb290ZWR8fCh0aGlzLm9uUGF1c2U9bmV3IGkuU2lnbmFsLHRoaXMub25SZXN1bWU9bmV3IGkuU2lnbmFsLHRoaXMub25CbHVyPW5ldyBpLlNpZ25hbCx0aGlzLm9uRm9jdXM9bmV3IGkuU2lnbmFsLHRoaXMuaXNCb290ZWQ9ITAsUElYSS5nYW1lPXRoaXMsdGhpcy5tYXRoPWkuTWF0aCx0aGlzLnNjYWxlPW5ldyBpLlNjYWxlTWFuYWdlcih0aGlzLHRoaXMuX3dpZHRoLHRoaXMuX2hlaWdodCksdGhpcy5zdGFnZT1uZXcgaS5TdGFnZSh0aGlzKSx0aGlzLnNldFVwUmVuZGVyZXIoKSx0aGlzLndvcmxkPW5ldyBpLldvcmxkKHRoaXMpLHRoaXMuYWRkPW5ldyBpLkdhbWVPYmplY3RGYWN0b3J5KHRoaXMpLHRoaXMubWFrZT1uZXcgaS5HYW1lT2JqZWN0Q3JlYXRvcih0aGlzKSx0aGlzLmNhY2hlPW5ldyBpLkNhY2hlKHRoaXMpLHRoaXMubG9hZD1uZXcgaS5Mb2FkZXIodGhpcyksdGhpcy50aW1lPW5ldyBpLlRpbWUodGhpcyksdGhpcy50d2VlbnM9bmV3IGkuVHdlZW5NYW5hZ2VyKHRoaXMpLHRoaXMuaW5wdXQ9bmV3IGkuSW5wdXQodGhpcyksdGhpcy5zb3VuZD1uZXcgaS5Tb3VuZE1hbmFnZXIodGhpcyksdGhpcy5waHlzaWNzPW5ldyBpLlBoeXNpY3ModGhpcyx0aGlzLnBoeXNpY3NDb25maWcpLHRoaXMucGFydGljbGVzPW5ldyBpLlBhcnRpY2xlcyh0aGlzKSx0aGlzLmNyZWF0ZT1uZXcgaS5DcmVhdGUodGhpcyksdGhpcy5wbHVnaW5zPW5ldyBpLlBsdWdpbk1hbmFnZXIodGhpcyksdGhpcy5uZXQ9bmV3IGkuTmV0KHRoaXMpLHRoaXMudGltZS5ib290KCksdGhpcy5zdGFnZS5ib290KCksdGhpcy53b3JsZC5ib290KCksdGhpcy5zY2FsZS5ib290KCksdGhpcy5pbnB1dC5ib290KCksdGhpcy5zb3VuZC5ib290KCksdGhpcy5zdGF0ZS5ib290KCksdGhpcy5jb25maWcuZW5hYmxlRGVidWc/KHRoaXMuZGVidWc9bmV3IGkuVXRpbHMuRGVidWcodGhpcyksdGhpcy5kZWJ1Zy5ib290KCkpOnRoaXMuZGVidWc9e3ByZVVwZGF0ZTpmdW5jdGlvbigpe30sdXBkYXRlOmZ1bmN0aW9uKCl7fSxyZXNldDpmdW5jdGlvbigpe30saXNEaXNhYmxlZDohMH0sdGhpcy5zaG93RGVidWdIZWFkZXIoKSx0aGlzLmlzUnVubmluZz0hMCx0aGlzLmNvbmZpZyYmdGhpcy5jb25maWcuZm9yY2VTZXRUaW1lT3V0P3RoaXMucmFmPW5ldyBpLlJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLHRoaXMuY29uZmlnLmZvcmNlU2V0VGltZU91dCk6dGhpcy5yYWY9bmV3IGkuUmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMsITEpLHRoaXMuX2tpY2tzdGFydD0hMCx3aW5kb3cuZm9jdXMmJighd2luZG93LlBoYXNlckdsb2JhbHx8d2luZG93LlBoYXNlckdsb2JhbCYmIXdpbmRvdy5QaGFzZXJHbG9iYWwuc3RvcEZvY3VzKSYmd2luZG93LmZvY3VzKCksdGhpcy5jYWNoZS5pc1JlYWR5P3RoaXMucmFmLnN0YXJ0KCk6dGhpcy5jYWNoZS5vblJlYWR5LmFkZE9uY2UoZnVuY3Rpb24oKXt0aGlzLnJhZi5zdGFydCgpfSx0aGlzKSl9LHNob3dEZWJ1Z0hlYWRlcjpmdW5jdGlvbigpe2lmKCF3aW5kb3cuUGhhc2VyR2xvYmFsfHwhd2luZG93LlBoYXNlckdsb2JhbC5oaWRlQmFubmVyKXt2YXIgdD1pLlZFUlNJT04sZT1cIkNhbnZhc1wiLHM9XCJIVE1MIEF1ZGlvXCIsbj0xO2lmKHRoaXMucmVuZGVyVHlwZT09PWkuV0VCR0w/KGU9XCJXZWJHTFwiLG4rKyk6dGhpcy5yZW5kZXJUeXBlPT09aS5IRUFETEVTUyYmKGU9XCJIZWFkbGVzc1wiKSx0aGlzLmRldmljZS53ZWJBdWRpbyYmKHM9XCJXZWJBdWRpb1wiLG4rKyksdGhpcy5kZXZpY2UuaWUpd2luZG93LmNvbnNvbGUmJmNvbnNvbGUubG9nKFwiUGhhc2VyIHZcIit0K1wiIHwgUGl4aS5qcyB8IFwiK2UrXCIgfCBcIitzK1wiIHwgaHR0cDovL3BoYXNlci5pb1wiKTtlbHNle2Zvcih2YXIgbz1bXCIlYyAlYyAlYyBQaGFzZXIgQ0UgdlwiK3QrXCIgfCBQaXhpLmpzIHwgXCIrZStcIiB8IFwiK3MrXCIgICVjICVjICVjIGh0dHA6Ly9waGFzZXIuaW8gJWPimaUlY+KZpSVj4pmlXCIsXCJiYWNrZ3JvdW5kOiAjZmI4Y2IzXCIsXCJiYWNrZ3JvdW5kOiAjZDQ0YTUyXCIsXCJjb2xvcjogI2ZmZmZmZjsgYmFja2dyb3VuZDogIzg3MTkwNTtcIixcImJhY2tncm91bmQ6ICNkNDRhNTJcIixcImJhY2tncm91bmQ6ICNmYjhjYjNcIixcImJhY2tncm91bmQ6ICNmZmZmZmZcIl0scj0wO3I8MztyKyspcjxuP28ucHVzaChcImNvbG9yOiAjZmYyNDI0OyBiYWNrZ3JvdW5kOiAjZmZmXCIpOm8ucHVzaChcImNvbG9yOiAjOTU5NTk1OyBiYWNrZ3JvdW5kOiAjZmZmXCIpO2NvbnNvbGUubG9nLmFwcGx5KGNvbnNvbGUsbyl9fX0sc2V0VXBSZW5kZXJlcjpmdW5jdGlvbigpe2lmKHRoaXMuY29uZmlnLmNhbnZhcz90aGlzLmNhbnZhcz10aGlzLmNvbmZpZy5jYW52YXM6dGhpcy5jYW52YXM9aS5DYW52YXMuY3JlYXRlKHRoaXMsdGhpcy53aWR0aCx0aGlzLmhlaWdodCx0aGlzLmNvbmZpZy5jYW52YXNJRCwhMCksdGhpcy5jb25maWcuY2FudmFzU3R5bGU/dGhpcy5jYW52YXMuc3R5bGU9dGhpcy5jb25maWcuY2FudmFzU3R5bGU6dGhpcy5jYW52YXMuc3R5bGVbXCItd2Via2l0LWZ1bGwtc2NyZWVuXCJdPVwid2lkdGg6IDEwMCU7IGhlaWdodDogMTAwJVwiLHRoaXMucmVuZGVyVHlwZT09PWkuSEVBRExFU1N8fHRoaXMucmVuZGVyVHlwZT09PWkuQ0FOVkFTfHx0aGlzLnJlbmRlclR5cGU9PT1pLkFVVE8mJiF0aGlzLmRldmljZS53ZWJHTCl7aWYoIXRoaXMuZGV2aWNlLmNhbnZhcyl0aHJvdyBuZXcgRXJyb3IoXCJQaGFzZXIuR2FtZSAtIENhbm5vdCBjcmVhdGUgQ2FudmFzIG9yIFdlYkdMIGNvbnRleHQsIGFib3J0aW5nLlwiKTt0aGlzLnJlbmRlcmVyPW5ldyBQSVhJLkNhbnZhc1JlbmRlcmVyKHRoaXMpLHRoaXMuY29udGV4dD10aGlzLnJlbmRlcmVyLmNvbnRleHQsdGhpcy5yZW5kZXJUeXBlPT09aS5BVVRPJiYodGhpcy5yZW5kZXJUeXBlPWkuQ0FOVkFTKX1lbHNlKHRoaXMubXVsdGlUZXh0dXJlfHx0aGlzLnJlbmRlclR5cGU9PT1pLldFQkdMX01VTFRJKSYmKFBJWEkuZW5hYmxlTXVsdGlUZXh0dXJlKCksdGhpcy5tdWx0aVRleHR1cmU9ITApLHRoaXMucmVuZGVyVHlwZT1pLldFQkdMLHRoaXMucmVuZGVyZXI9bmV3IFBJWEkuV2ViR0xSZW5kZXJlcih0aGlzKSx0aGlzLmNvbnRleHQ9bnVsbCx0aGlzLmNhbnZhcy5hZGRFdmVudExpc3RlbmVyKFwid2ViZ2xjb250ZXh0bG9zdFwiLHRoaXMuY29udGV4dExvc3QuYmluZCh0aGlzKSwhMSksdGhpcy5jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcihcIndlYmdsY29udGV4dHJlc3RvcmVkXCIsdGhpcy5jb250ZXh0UmVzdG9yZWQuYmluZCh0aGlzKSwhMSk7dGhpcy5kZXZpY2UuY29jb29uSlMmJih0aGlzLmNhbnZhcy5zY3JlZW5jYW52YXM9dGhpcy5yZW5kZXJUeXBlPT09aS5DQU5WQVMpLHRoaXMucmVuZGVyVHlwZSE9PWkuSEVBRExFU1MmJih0aGlzLnN0YWdlLnNtb290aGVkPXRoaXMuYW50aWFsaWFzLGkuQ2FudmFzLmFkZFRvRE9NKHRoaXMuY2FudmFzLHRoaXMucGFyZW50LCExKSxpLkNhbnZhcy5zZXRUb3VjaEFjdGlvbih0aGlzLmNhbnZhcykpfSxjb250ZXh0TG9zdDpmdW5jdGlvbih0KXt0LnByZXZlbnREZWZhdWx0KCksdGhpcy5yZW5kZXJlci5jb250ZXh0TG9zdD0hMH0sY29udGV4dFJlc3RvcmVkOmZ1bmN0aW9uKCl7dGhpcy5yZW5kZXJlci5pbml0Q29udGV4dCgpLHRoaXMuY2FjaGUuY2xlYXJHTFRleHR1cmVzKCksdGhpcy5yZW5kZXJlci5jb250ZXh0TG9zdD0hMX0sdXBkYXRlOmZ1bmN0aW9uKHQpe2lmKHRoaXMudGltZS51cGRhdGUodCksdGhpcy5fa2lja3N0YXJ0KXJldHVybiB0aGlzLnVwZGF0ZUxvZ2ljKHRoaXMudGltZS5kZXNpcmVkRnBzTXVsdCksdGhpcy51cGRhdGVSZW5kZXIodGhpcy50aW1lLnNsb3dNb3Rpb24qdGhpcy50aW1lLmRlc2lyZWRGcHMpLHZvaWQodGhpcy5fa2lja3N0YXJ0PSExKTtpZih0aGlzLl9zcGlyYWxpbmc+MSYmIXRoaXMuZm9yY2VTaW5nbGVVcGRhdGUpdGhpcy50aW1lLnRpbWU+dGhpcy5fbmV4dEZwc05vdGlmaWNhdGlvbiYmKHRoaXMuX25leHRGcHNOb3RpZmljYXRpb249dGhpcy50aW1lLnRpbWUrMWU0LHRoaXMuZnBzUHJvYmxlbU5vdGlmaWVyLmRpc3BhdGNoKCkpLHRoaXMuX2RlbHRhVGltZT0wLHRoaXMuX3NwaXJhbGluZz0wLHRoaXMudXBkYXRlUmVuZGVyKHRoaXMudGltZS5zbG93TW90aW9uKnRoaXMudGltZS5kZXNpcmVkRnBzKTtlbHNle3ZhciBlPTFlMyp0aGlzLnRpbWUuc2xvd01vdGlvbi90aGlzLnRpbWUuZGVzaXJlZEZwczt0aGlzLl9kZWx0YVRpbWUrPU1hdGgubWF4KE1hdGgubWluKDMqZSx0aGlzLnRpbWUuZWxhcHNlZCksMCk7dmFyIGk9MDtmb3IodGhpcy51cGRhdGVzVGhpc0ZyYW1lPU1hdGguZmxvb3IodGhpcy5fZGVsdGFUaW1lL2UpLHRoaXMuZm9yY2VTaW5nbGVVcGRhdGUmJih0aGlzLnVwZGF0ZXNUaGlzRnJhbWU9TWF0aC5taW4oMSx0aGlzLnVwZGF0ZXNUaGlzRnJhbWUpKTt0aGlzLl9kZWx0YVRpbWU+PWUmJih0aGlzLl9kZWx0YVRpbWUtPWUsdGhpcy5jdXJyZW50VXBkYXRlSUQ9aSx0aGlzLnVwZGF0ZUxvZ2ljKHRoaXMudGltZS5kZXNpcmVkRnBzTXVsdCksaSsrLCF0aGlzLmZvcmNlU2luZ2xlVXBkYXRlfHwxIT09aSk7KXRoaXMudGltZS5yZWZyZXNoKCk7aT50aGlzLl9sYXN0Q291bnQ/dGhpcy5fc3BpcmFsaW5nKys6aTx0aGlzLl9sYXN0Q291bnQmJih0aGlzLl9zcGlyYWxpbmc9MCksdGhpcy5fbGFzdENvdW50PWksdGhpcy51cGRhdGVSZW5kZXIodGhpcy5fZGVsdGFUaW1lL2UpfX0sdXBkYXRlTG9naWM6ZnVuY3Rpb24odCl7dGhpcy5fcGF1c2VkfHx0aGlzLnBlbmRpbmdTdGVwPyh0aGlzLnNjYWxlLnBhdXNlVXBkYXRlKCksdGhpcy5zdGF0ZS5wYXVzZVVwZGF0ZSh0KSx0aGlzLmRlYnVnLnByZVVwZGF0ZSgpKToodGhpcy5zdGVwcGluZyYmKHRoaXMucGVuZGluZ1N0ZXA9ITApLHRoaXMuc2NhbGUucHJlVXBkYXRlKCksdGhpcy5kZWJ1Zy5wcmVVcGRhdGUoKSx0aGlzLmNhbWVyYS5wcmVVcGRhdGUoKSx0aGlzLnBoeXNpY3MucHJlVXBkYXRlKCksdGhpcy5zdGF0ZS5wcmVVcGRhdGUodCksdGhpcy5wbHVnaW5zLnByZVVwZGF0ZSh0KSx0aGlzLnN0YWdlLnByZVVwZGF0ZSgpLHRoaXMuc3RhdGUudXBkYXRlKCksdGhpcy5zdGFnZS51cGRhdGUoKSx0aGlzLnR3ZWVucy51cGRhdGUoKSx0aGlzLnNvdW5kLnVwZGF0ZSgpLHRoaXMuaW5wdXQudXBkYXRlKCksdGhpcy5waHlzaWNzLnVwZGF0ZSgpLHRoaXMucGx1Z2lucy51cGRhdGUoKSx0aGlzLnN0YWdlLnBvc3RVcGRhdGUoKSx0aGlzLnBsdWdpbnMucG9zdFVwZGF0ZSgpKSx0aGlzLnN0YWdlLnVwZGF0ZVRyYW5zZm9ybSgpfSx1cGRhdGVSZW5kZXI6ZnVuY3Rpb24odCl7dGhpcy5sb2NrUmVuZGVyfHwodGhpcy5zdGF0ZS5wcmVSZW5kZXIodCksdGhpcy5yZW5kZXJUeXBlIT09aS5IRUFETEVTUyYmKHRoaXMucmVuZGVyZXIucmVuZGVyKHRoaXMuc3RhZ2UpLHRoaXMucGx1Z2lucy5yZW5kZXIodCksdGhpcy5zdGF0ZS5yZW5kZXIodCkpLHRoaXMucGx1Z2lucy5wb3N0UmVuZGVyKHQpKX0sZW5hYmxlU3RlcDpmdW5jdGlvbigpe3RoaXMuc3RlcHBpbmc9ITAsdGhpcy5wZW5kaW5nU3RlcD0hMSx0aGlzLnN0ZXBDb3VudD0wfSxkaXNhYmxlU3RlcDpmdW5jdGlvbigpe3RoaXMuc3RlcHBpbmc9ITEsdGhpcy5wZW5kaW5nU3RlcD0hMX0sc3RlcDpmdW5jdGlvbigpe3RoaXMucGVuZGluZ1N0ZXA9ITEsdGhpcy5zdGVwQ291bnQrK30sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMucmFmLnN0b3AoKSx0aGlzLmRlYnVnLmRlc3Ryb3kmJnRoaXMuZGVidWcuZGVzdHJveSgpLHRoaXMuc3RhdGUuZGVzdHJveSgpLHRoaXMuc291bmQuZGVzdHJveSgpLHRoaXMuc2NhbGUuZGVzdHJveSgpLHRoaXMuc3RhZ2UuZGVzdHJveSgpLHRoaXMuaW5wdXQuZGVzdHJveSgpLHRoaXMucGh5c2ljcy5kZXN0cm95KCksdGhpcy5wbHVnaW5zLmRlc3Ryb3koKSx0aGlzLmRlYnVnPW51bGwsdGhpcy5zdGF0ZT1udWxsLHRoaXMuc291bmQ9bnVsbCx0aGlzLnNjYWxlPW51bGwsdGhpcy5zdGFnZT1udWxsLHRoaXMuaW5wdXQ9bnVsbCx0aGlzLnBoeXNpY3M9bnVsbCx0aGlzLnBsdWdpbnM9bnVsbCx0aGlzLmNhY2hlPW51bGwsdGhpcy5sb2FkPW51bGwsdGhpcy50aW1lPW51bGwsdGhpcy53b3JsZD1udWxsLHRoaXMuaXNCb290ZWQ9ITEsdGhpcy5yZW5kZXJlci5kZXN0cm95KCExKSxpLkNhbnZhcy5yZW1vdmVGcm9tRE9NKHRoaXMuY2FudmFzKSxQSVhJLmRlZmF1bHRSZW5kZXJlcj1udWxsLGkuR0FNRVNbdGhpcy5pZF09bnVsbH0sZ2FtZVBhdXNlZDpmdW5jdGlvbih0KXt0aGlzLl9wYXVzZWR8fCh0aGlzLl9wYXVzZWQ9ITAsdGhpcy50aW1lLmdhbWVQYXVzZWQoKSx0aGlzLnNvdW5kLm11dGVPblBhdXNlJiZ0aGlzLnNvdW5kLnNldE11dGUoKSx0aGlzLm9uUGF1c2UuZGlzcGF0Y2godCksdGhpcy5kZXZpY2UuY29yZG92YSYmdGhpcy5kZXZpY2UuaU9TJiYodGhpcy5sb2NrUmVuZGVyPSEwKSl9LGdhbWVSZXN1bWVkOmZ1bmN0aW9uKHQpe3RoaXMuX3BhdXNlZCYmIXRoaXMuX2NvZGVQYXVzZWQmJih0aGlzLl9wYXVzZWQ9ITEsdGhpcy50aW1lLmdhbWVSZXN1bWVkKCksdGhpcy5pbnB1dC5yZXNldCgpLHRoaXMuc291bmQubXV0ZU9uUGF1c2UmJnRoaXMuc291bmQudW5zZXRNdXRlKCksdGhpcy5vblJlc3VtZS5kaXNwYXRjaCh0KSx0aGlzLmRldmljZS5jb3Jkb3ZhJiZ0aGlzLmRldmljZS5pT1MmJih0aGlzLmxvY2tSZW5kZXI9ITEpKX0sZm9jdXNMb3NzOmZ1bmN0aW9uKHQpe3RoaXMub25CbHVyLmRpc3BhdGNoKHQpLHRoaXMuc3RhZ2UuZGlzYWJsZVZpc2liaWxpdHlDaGFuZ2V8fHRoaXMuZ2FtZVBhdXNlZCh0KX0sZm9jdXNHYWluOmZ1bmN0aW9uKHQpe3RoaXMub25Gb2N1cy5kaXNwYXRjaCh0KSx0aGlzLnN0YWdlLmRpc2FibGVWaXNpYmlsaXR5Q2hhbmdlfHx0aGlzLmdhbWVSZXN1bWVkKHQpfX0saS5HYW1lLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1pLkdhbWUsT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuR2FtZS5wcm90b3R5cGUsXCJwYXVzZWRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BhdXNlZH0sc2V0OmZ1bmN0aW9uKHQpeyEwPT09dD8oITE9PT10aGlzLl9wYXVzZWQmJih0aGlzLl9wYXVzZWQ9ITAsdGhpcy5zb3VuZC5zZXRNdXRlKCksdGhpcy50aW1lLmdhbWVQYXVzZWQoKSx0aGlzLm9uUGF1c2UuZGlzcGF0Y2godGhpcykpLHRoaXMuX2NvZGVQYXVzZWQ9ITApOih0aGlzLl9wYXVzZWQmJih0aGlzLl9wYXVzZWQ9ITEsdGhpcy5pbnB1dC5yZXNldCgpLHRoaXMuc291bmQudW5zZXRNdXRlKCksdGhpcy50aW1lLmdhbWVSZXN1bWVkKCksdGhpcy5vblJlc3VtZS5kaXNwYXRjaCh0aGlzKSksdGhpcy5fY29kZVBhdXNlZD0hMSl9fSksaS5JbnB1dD1mdW5jdGlvbih0KXt0aGlzLmdhbWU9dCx0aGlzLmhpdENhbnZhcz1udWxsLHRoaXMuaGl0Q29udGV4dD1udWxsLHRoaXMubW92ZUNhbGxiYWNrcz1bXSx0aGlzLmN1c3RvbUNhbmRpZGF0ZUhhbmRsZXI9bnVsbCx0aGlzLmN1c3RvbUNhbmRpZGF0ZUhhbmRsZXJDb250ZXh0PW51bGwsdGhpcy5wb2xsUmF0ZT0wLHRoaXMuZW5hYmxlZD0hMCx0aGlzLm11bHRpSW5wdXRPdmVycmlkZT1pLklucHV0Lk1PVVNFX1RPVUNIX0NPTUJJTkUsdGhpcy5wb3NpdGlvbj1udWxsLHRoaXMuc3BlZWQ9bnVsbCx0aGlzLmNpcmNsZT1udWxsLHRoaXMuc2NhbGU9bnVsbCx0aGlzLm1heFBvaW50ZXJzPS0xLHRoaXMudGFwUmF0ZT0yMDAsdGhpcy5kb3VibGVUYXBSYXRlPTMwMCx0aGlzLmhvbGRSYXRlPTJlMyx0aGlzLmp1c3RQcmVzc2VkUmF0ZT0yMDAsdGhpcy5qdXN0UmVsZWFzZWRSYXRlPTIwMCx0aGlzLnJlY29yZFBvaW50ZXJIaXN0b3J5PSExLHRoaXMucmVjb3JkUmF0ZT0xMDAsdGhpcy5yZWNvcmRMaW1pdD0xMDAsdGhpcy50b3VjaExvY2tDYWxsYmFja3M9W10sdGhpcy5wb2ludGVyMT1udWxsLHRoaXMucG9pbnRlcjI9bnVsbCx0aGlzLnBvaW50ZXIzPW51bGwsdGhpcy5wb2ludGVyND1udWxsLHRoaXMucG9pbnRlcjU9bnVsbCx0aGlzLnBvaW50ZXI2PW51bGwsdGhpcy5wb2ludGVyNz1udWxsLHRoaXMucG9pbnRlcjg9bnVsbCx0aGlzLnBvaW50ZXI5PW51bGwsdGhpcy5wb2ludGVyMTA9bnVsbCx0aGlzLnBvaW50ZXJzPVtdLHRoaXMuYWN0aXZlUG9pbnRlcj1udWxsLHRoaXMubW91c2VQb2ludGVyPW51bGwsdGhpcy5tb3VzZT1udWxsLHRoaXMua2V5Ym9hcmQ9bnVsbCx0aGlzLnRvdWNoPW51bGwsdGhpcy5tc3BvaW50ZXI9bnVsbCx0aGlzLmdhbWVwYWQ9bnVsbCx0aGlzLnJlc2V0TG9ja2VkPSExLHRoaXMub25Eb3duPW51bGwsdGhpcy5vblVwPW51bGwsdGhpcy5vblRhcD1udWxsLHRoaXMub25Ib2xkPW51bGwsdGhpcy5taW5Qcmlvcml0eUlEPTAsdGhpcy5pbnRlcmFjdGl2ZUl0ZW1zPW5ldyBpLkFycmF5U2V0LHRoaXMuX2xvY2FsUG9pbnQ9bmV3IGkuUG9pbnQsdGhpcy5fcG9sbENvdW50ZXI9MCx0aGlzLl9vbGRQb3NpdGlvbj1udWxsLHRoaXMuX3g9MCx0aGlzLl95PTB9LGkuSW5wdXQuTU9VU0VfT1ZFUlJJREVTX1RPVUNIPTAsaS5JbnB1dC5UT1VDSF9PVkVSUklERVNfTU9VU0U9MSxpLklucHV0Lk1PVVNFX1RPVUNIX0NPTUJJTkU9MixpLklucHV0Lk1BWF9QT0lOVEVSUz0xMCxpLklucHV0LnByb3RvdHlwZT17Ym9vdDpmdW5jdGlvbigpe3RoaXMubW91c2VQb2ludGVyPW5ldyBpLlBvaW50ZXIodGhpcy5nYW1lLDAsaS5Qb2ludGVyTW9kZS5DVVJTT1IpLHRoaXMuYWRkUG9pbnRlcigpLHRoaXMuYWRkUG9pbnRlcigpLHRoaXMubW91c2U9bmV3IGkuTW91c2UodGhpcy5nYW1lKSx0aGlzLnRvdWNoPW5ldyBpLlRvdWNoKHRoaXMuZ2FtZSksdGhpcy5tc3BvaW50ZXI9bmV3IGkuTVNQb2ludGVyKHRoaXMuZ2FtZSksaS5LZXlib2FyZCYmKHRoaXMua2V5Ym9hcmQ9bmV3IGkuS2V5Ym9hcmQodGhpcy5nYW1lKSksaS5HYW1lcGFkJiYodGhpcy5nYW1lcGFkPW5ldyBpLkdhbWVwYWQodGhpcy5nYW1lKSksdGhpcy5vbkRvd249bmV3IGkuU2lnbmFsLHRoaXMub25VcD1uZXcgaS5TaWduYWwsdGhpcy5vblRhcD1uZXcgaS5TaWduYWwsdGhpcy5vbkhvbGQ9bmV3IGkuU2lnbmFsLHRoaXMuc2NhbGU9bmV3IGkuUG9pbnQoMSwxKSx0aGlzLnNwZWVkPW5ldyBpLlBvaW50LHRoaXMucG9zaXRpb249bmV3IGkuUG9pbnQsdGhpcy5fb2xkUG9zaXRpb249bmV3IGkuUG9pbnQsdGhpcy5jaXJjbGU9bmV3IGkuQ2lyY2xlKDAsMCw0NCksdGhpcy5hY3RpdmVQb2ludGVyPXRoaXMubW91c2VQb2ludGVyLHRoaXMuaGl0Q2FudmFzPWkuQ2FudmFzUG9vbC5jcmVhdGUodGhpcywxLDEpLHRoaXMuaGl0Q29udGV4dD10aGlzLmhpdENhbnZhcy5nZXRDb250ZXh0KFwiMmRcIiksdGhpcy5tb3VzZS5zdGFydCgpLHRoaXMuZ2FtZS5kZXZpY2UubXNwb2ludGVyfHx0aGlzLnRvdWNoLnN0YXJ0KCksdGhpcy5tc3BvaW50ZXIuc3RhcnQoKSx0aGlzLm1vdXNlUG9pbnRlci5hY3RpdmU9ITAsdGhpcy5rZXlib2FyZCYmdGhpcy5rZXlib2FyZC5zdGFydCgpO3ZhciB0PXRoaXM7dGhpcy5fb25DbGlja1RyYW1wb2xpbmU9ZnVuY3Rpb24oZSl7dC5vbkNsaWNrVHJhbXBvbGluZShlKX0sdGhpcy5nYW1lLmNhbnZhcy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIix0aGlzLl9vbkNsaWNrVHJhbXBvbGluZSwhMSl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLm1vdXNlLnN0b3AoKSx0aGlzLnRvdWNoLnN0b3AoKSx0aGlzLm1zcG9pbnRlci5zdG9wKCksdGhpcy5rZXlib2FyZCYmdGhpcy5rZXlib2FyZC5zdG9wKCksdGhpcy5nYW1lcGFkJiZ0aGlzLmdhbWVwYWQuc3RvcCgpLHRoaXMubW92ZUNhbGxiYWNrcz1bXSxpLkNhbnZhc1Bvb2wucmVtb3ZlKHRoaXMpLHRoaXMuZ2FtZS5jYW52YXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsdGhpcy5fb25DbGlja1RyYW1wb2xpbmUpfSxzZXRJbnRlcmFjdGl2ZUNhbmRpZGF0ZUhhbmRsZXI6ZnVuY3Rpb24odCxlKXt0aGlzLmN1c3RvbUNhbmRpZGF0ZUhhbmRsZXI9dCx0aGlzLmN1c3RvbUNhbmRpZGF0ZUhhbmRsZXJDb250ZXh0PWV9LGFkZE1vdmVDYWxsYmFjazpmdW5jdGlvbih0LGUpe3RoaXMubW92ZUNhbGxiYWNrcy5wdXNoKHtjYWxsYmFjazp0LGNvbnRleHQ6ZX0pfSxhZGRUb3VjaExvY2tDYWxsYmFjazpmdW5jdGlvbih0LGUsaSl7dm9pZCAwPT09aSYmKGk9ITEpLHRoaXMudG91Y2hMb2NrQ2FsbGJhY2tzLnB1c2goe2NhbGxiYWNrOnQsY29udGV4dDplLG9uRW5kOml9KX0scmVtb3ZlVG91Y2hMb2NrQ2FsbGJhY2s6ZnVuY3Rpb24odCxlKXtmb3IodmFyIGk9dGhpcy50b3VjaExvY2tDYWxsYmFja3MubGVuZ3RoO2ktLTspaWYodGhpcy50b3VjaExvY2tDYWxsYmFja3NbaV0uY2FsbGJhY2s9PT10JiZ0aGlzLnRvdWNoTG9ja0NhbGxiYWNrc1tpXS5jb250ZXh0PT09ZSlyZXR1cm4gdGhpcy50b3VjaExvY2tDYWxsYmFja3Muc3BsaWNlKGksMSksITA7cmV0dXJuITF9LGV4ZWN1dGVUb3VjaExvY2tDYWxsYmFja3M6ZnVuY3Rpb24odCxlKXtmb3IodmFyIGk9dGhpcy50b3VjaExvY2tDYWxsYmFja3MubGVuZ3RoO2ktLTspe3ZhciBzPXRoaXMudG91Y2hMb2NrQ2FsbGJhY2tzW2ldO3Mub25FbmQ9PT10JiZzLmNhbGxiYWNrLmNhbGwocy5jb250ZXh0LHRoaXMsZSkmJnRoaXMudG91Y2hMb2NrQ2FsbGJhY2tzLnNwbGljZShpLDEpfX0sZGVsZXRlTW92ZUNhbGxiYWNrOmZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBpPXRoaXMubW92ZUNhbGxiYWNrcy5sZW5ndGg7aS0tOylpZih0aGlzLm1vdmVDYWxsYmFja3NbaV0uY2FsbGJhY2s9PT10JiZ0aGlzLm1vdmVDYWxsYmFja3NbaV0uY29udGV4dD09PWUpcmV0dXJuIHZvaWQgdGhpcy5tb3ZlQ2FsbGJhY2tzLnNwbGljZShpLDEpfSxhZGRQb2ludGVyOmZ1bmN0aW9uKCl7aWYodGhpcy5wb2ludGVycy5sZW5ndGg+PWkuSW5wdXQuTUFYX1BPSU5URVJTKXJldHVybiBjb25zb2xlLndhcm4oXCJQaGFzZXIuSW5wdXQuYWRkUG9pbnRlcjogTWF4aW11bSBsaW1pdCBvZiBcIitpLklucHV0Lk1BWF9QT0lOVEVSUytcIiBwb2ludGVycyByZWFjaGVkLlwiKSxudWxsO3ZhciB0PXRoaXMucG9pbnRlcnMubGVuZ3RoKzEsZT1uZXcgaS5Qb2ludGVyKHRoaXMuZ2FtZSx0LGkuUG9pbnRlck1vZGUuQ09OVEFDVCk7cmV0dXJuIHRoaXMucG9pbnRlcnMucHVzaChlKSx0aGlzW1wicG9pbnRlclwiK3RdPWUsZX0sdXBkYXRlOmZ1bmN0aW9uKCl7aWYodGhpcy5rZXlib2FyZCYmdGhpcy5rZXlib2FyZC51cGRhdGUoKSx0aGlzLnBvbGxSYXRlPjAmJnRoaXMuX3BvbGxDb3VudGVyPHRoaXMucG9sbFJhdGUpdGhpcy5fcG9sbENvdW50ZXIrKztlbHNle3RoaXMuc3BlZWQueD10aGlzLnBvc2l0aW9uLngtdGhpcy5fb2xkUG9zaXRpb24ueCx0aGlzLnNwZWVkLnk9dGhpcy5wb3NpdGlvbi55LXRoaXMuX29sZFBvc2l0aW9uLnksdGhpcy5fb2xkUG9zaXRpb24uY29weUZyb20odGhpcy5wb3NpdGlvbiksdGhpcy5tb3VzZVBvaW50ZXIudXBkYXRlKCksdGhpcy5nYW1lcGFkJiZ0aGlzLmdhbWVwYWQuYWN0aXZlJiZ0aGlzLmdhbWVwYWQudXBkYXRlKCk7Zm9yKHZhciB0PTA7dDx0aGlzLnBvaW50ZXJzLmxlbmd0aDt0KyspdGhpcy5wb2ludGVyc1t0XS51cGRhdGUoKTt0aGlzLl9wb2xsQ291bnRlcj0wfX0scmVzZXQ6ZnVuY3Rpb24odCl7aWYodGhpcy5nYW1lLmlzQm9vdGVkJiYhdGhpcy5yZXNldExvY2tlZCl7dm9pZCAwPT09dCYmKHQ9ITEpLHRoaXMubW91c2VQb2ludGVyLnJlc2V0KCksdGhpcy5rZXlib2FyZCYmdGhpcy5rZXlib2FyZC5yZXNldCh0KSx0aGlzLmdhbWVwYWQmJnRoaXMuZ2FtZXBhZC5yZXNldCgpO2Zvcih2YXIgZT0wO2U8dGhpcy5wb2ludGVycy5sZW5ndGg7ZSsrKXRoaXMucG9pbnRlcnNbZV0ucmVzZXQoKTtcIm5vbmVcIiE9PXRoaXMuZ2FtZS5jYW52YXMuc3R5bGUuY3Vyc29yJiYodGhpcy5nYW1lLmNhbnZhcy5zdHlsZS5jdXJzb3I9XCJcIiksdCYmKHRoaXMub25Eb3duLmRpc3Bvc2UoKSx0aGlzLm9uVXAuZGlzcG9zZSgpLHRoaXMub25UYXAuZGlzcG9zZSgpLHRoaXMub25Ib2xkLmRpc3Bvc2UoKSx0aGlzLm9uRG93bj1uZXcgaS5TaWduYWwsdGhpcy5vblVwPW5ldyBpLlNpZ25hbCx0aGlzLm9uVGFwPW5ldyBpLlNpZ25hbCx0aGlzLm9uSG9sZD1uZXcgaS5TaWduYWwsdGhpcy5tb3ZlQ2FsbGJhY2tzPVtdKSx0aGlzLl9wb2xsQ291bnRlcj0wfX0scmVzZXRTcGVlZDpmdW5jdGlvbih0LGUpe3RoaXMuX29sZFBvc2l0aW9uLnNldFRvKHQsZSksdGhpcy5zcGVlZC5zZXRUbygwLDApfSxzdGFydFBvaW50ZXI6ZnVuY3Rpb24odCl7aWYodGhpcy5tYXhQb2ludGVycz49MCYmdGhpcy5jb3VudEFjdGl2ZVBvaW50ZXJzKHRoaXMubWF4UG9pbnRlcnMpPj10aGlzLm1heFBvaW50ZXJzKXJldHVybiBudWxsO2lmKCF0aGlzLnBvaW50ZXIxLmFjdGl2ZSlyZXR1cm4gdGhpcy5wb2ludGVyMS5zdGFydCh0KTtpZighdGhpcy5wb2ludGVyMi5hY3RpdmUpcmV0dXJuIHRoaXMucG9pbnRlcjIuc3RhcnQodCk7Zm9yKHZhciBlPTI7ZTx0aGlzLnBvaW50ZXJzLmxlbmd0aDtlKyspe3ZhciBpPXRoaXMucG9pbnRlcnNbZV07aWYoIWkuYWN0aXZlKXJldHVybiBpLnN0YXJ0KHQpfXJldHVybiBudWxsfSx1cGRhdGVQb2ludGVyOmZ1bmN0aW9uKHQpe2lmKHRoaXMucG9pbnRlcjEuYWN0aXZlJiZ0aGlzLnBvaW50ZXIxLmlkZW50aWZpZXI9PT10LmlkZW50aWZpZXIpcmV0dXJuIHRoaXMucG9pbnRlcjEubW92ZSh0KTtpZih0aGlzLnBvaW50ZXIyLmFjdGl2ZSYmdGhpcy5wb2ludGVyMi5pZGVudGlmaWVyPT09dC5pZGVudGlmaWVyKXJldHVybiB0aGlzLnBvaW50ZXIyLm1vdmUodCk7Zm9yKHZhciBlPTI7ZTx0aGlzLnBvaW50ZXJzLmxlbmd0aDtlKyspe3ZhciBpPXRoaXMucG9pbnRlcnNbZV07aWYoaS5hY3RpdmUmJmkuaWRlbnRpZmllcj09PXQuaWRlbnRpZmllcilyZXR1cm4gaS5tb3ZlKHQpfXJldHVybiBudWxsfSxzdG9wUG9pbnRlcjpmdW5jdGlvbih0KXtpZih0aGlzLnBvaW50ZXIxLmFjdGl2ZSYmdGhpcy5wb2ludGVyMS5pZGVudGlmaWVyPT09dC5pZGVudGlmaWVyKXJldHVybiB0aGlzLnBvaW50ZXIxLnN0b3AodCk7aWYodGhpcy5wb2ludGVyMi5hY3RpdmUmJnRoaXMucG9pbnRlcjIuaWRlbnRpZmllcj09PXQuaWRlbnRpZmllcilyZXR1cm4gdGhpcy5wb2ludGVyMi5zdG9wKHQpO2Zvcih2YXIgZT0yO2U8dGhpcy5wb2ludGVycy5sZW5ndGg7ZSsrKXt2YXIgaT10aGlzLnBvaW50ZXJzW2VdO2lmKGkuYWN0aXZlJiZpLmlkZW50aWZpZXI9PT10LmlkZW50aWZpZXIpcmV0dXJuIGkuc3RvcCh0KX1yZXR1cm4gbnVsbH0sY291bnRBY3RpdmVQb2ludGVyczpmdW5jdGlvbih0KXt2b2lkIDA9PT10JiYodD10aGlzLnBvaW50ZXJzLmxlbmd0aCk7Zm9yKHZhciBlPXQsaT0wO2k8dGhpcy5wb2ludGVycy5sZW5ndGgmJmU+MDtpKyspdGhpcy5wb2ludGVyc1tpXS5hY3RpdmUmJmUtLTtyZXR1cm4gdC1lfSxnZXRQb2ludGVyOmZ1bmN0aW9uKHQpe3ZvaWQgMD09PXQmJih0PSExKTtmb3IodmFyIGU9MDtlPHRoaXMucG9pbnRlcnMubGVuZ3RoO2UrKyl7dmFyIGk9dGhpcy5wb2ludGVyc1tlXTtpZihpLmFjdGl2ZT09PXQpcmV0dXJuIGl9cmV0dXJuIG51bGx9LGdldFBvaW50ZXJGcm9tSWRlbnRpZmllcjpmdW5jdGlvbih0KXtmb3IodmFyIGU9MDtlPHRoaXMucG9pbnRlcnMubGVuZ3RoO2UrKyl7dmFyIGk9dGhpcy5wb2ludGVyc1tlXTtpZihpLmlkZW50aWZpZXI9PT10KXJldHVybiBpfXJldHVybiBudWxsfSxnZXRQb2ludGVyRnJvbUlkOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wO2U8dGhpcy5wb2ludGVycy5sZW5ndGg7ZSsrKXt2YXIgaT10aGlzLnBvaW50ZXJzW2VdO2lmKGkucG9pbnRlcklkPT09dClyZXR1cm4gaX1yZXR1cm4gbnVsbH0sZ2V0TG9jYWxQb3NpdGlvbjpmdW5jdGlvbih0LGUscyl7dm9pZCAwPT09cyYmKHM9bmV3IGkuUG9pbnQpO3ZhciBuPXQud29ybGRUcmFuc2Zvcm0sbz0xLyhuLmEqbi5kK24uYyotbi5iKTtyZXR1cm4gcy5zZXRUbyhuLmQqbyplLngrLW4uYypvKmUueSsobi50eSpuLmMtbi50eCpuLmQpKm8sbi5hKm8qZS55Ky1uLmIqbyplLngrKC1uLnR5Km4uYStuLnR4Km4uYikqbyl9LGhpdFRlc3Q6ZnVuY3Rpb24odCxlLHMpe2lmKCF0LndvcmxkVmlzaWJsZSlyZXR1cm4hMTtpZih0aGlzLmdldExvY2FsUG9zaXRpb24odCxlLHRoaXMuX2xvY2FsUG9pbnQpLHMuY29weUZyb20odGhpcy5fbG9jYWxQb2ludCksdC5oaXRBcmVhJiZ0LmhpdEFyZWEuY29udGFpbnMpcmV0dXJuIHQuaGl0QXJlYS5jb250YWlucyh0aGlzLl9sb2NhbFBvaW50LngsdGhpcy5fbG9jYWxQb2ludC55KTtpZihpLkNyZWF0dXJlJiZ0IGluc3RhbmNlb2YgaS5DcmVhdHVyZSl7dmFyIG49TWF0aC5hYnModC53aWR0aCksbz1NYXRoLmFicyh0LmhlaWdodCkscj10Lngtbip0LmFuY2hvclg7aWYodGhpcy5nYW1lLmNhbWVyYS54K2UueD49ciYmdGhpcy5nYW1lLmNhbWVyYS54K2UueDxyK24pe2E9dC55LW8qdC5hbmNob3JZO2lmKHRoaXMuZ2FtZS5jYW1lcmEueStlLnk+PWEmJnRoaXMuZ2FtZS5jYW1lcmEueStlLnk8YStvKXJldHVybiEwfX1lbHNlIGlmKHQgaW5zdGFuY2VvZiBpLlRpbGVTcHJpdGUpe3ZhciBuPXQud2lkdGgsbz10LmhlaWdodCxyPS1uKnQuYW5jaG9yLng7aWYodGhpcy5fbG9jYWxQb2ludC54Pj1yJiZ0aGlzLl9sb2NhbFBvaW50Lng8cituKXthPS1vKnQuYW5jaG9yLnk7aWYodGhpcy5fbG9jYWxQb2ludC55Pj1hJiZ0aGlzLl9sb2NhbFBvaW50Lnk8YStvKXJldHVybiEwfX1lbHNlIGlmKHQgaW5zdGFuY2VvZiBQSVhJLlNwcml0ZSl7dmFyIG49dC50ZXh0dXJlLmZyYW1lLndpZHRoL3QudGV4dHVyZS5iYXNlVGV4dHVyZS5yZXNvbHV0aW9uLG89dC50ZXh0dXJlLmZyYW1lLmhlaWdodC90LnRleHR1cmUuYmFzZVRleHR1cmUucmVzb2x1dGlvbixyPS1uKnQuYW5jaG9yLng7aWYodGhpcy5fbG9jYWxQb2ludC54Pj1yJiZ0aGlzLl9sb2NhbFBvaW50Lng8cituKXt2YXIgYT0tbyp0LmFuY2hvci55O2lmKHRoaXMuX2xvY2FsUG9pbnQueT49YSYmdGhpcy5fbG9jYWxQb2ludC55PGErbylyZXR1cm4hMH19ZWxzZSBpZih0IGluc3RhbmNlb2YgaS5HcmFwaGljcylmb3IobD0wO2w8dC5ncmFwaGljc0RhdGEubGVuZ3RoO2wrKyl7dmFyIGg9dC5ncmFwaGljc0RhdGFbbF07aWYoaC5maWxsJiYoaC5zaGFwZSYmaC5zaGFwZS5jb250YWlucyh0aGlzLl9sb2NhbFBvaW50LngsdGhpcy5fbG9jYWxQb2ludC55KSkpcmV0dXJuITB9Zm9yKHZhciBsPTA7bDx0LmNoaWxkcmVuLmxlbmd0aDtsKyspaWYodGhpcy5oaXRUZXN0KHQuY2hpbGRyZW5bbF0sZSxzKSlyZXR1cm4hMDtyZXR1cm4hMX0sb25DbGlja1RyYW1wb2xpbmU6ZnVuY3Rpb24oKXt0aGlzLmFjdGl2ZVBvaW50ZXIucHJvY2Vzc0NsaWNrVHJhbXBvbGluZXMoKX19LGkuSW5wdXQucHJvdG90eXBlLmNvbnN0cnVjdG9yPWkuSW5wdXQsT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuSW5wdXQucHJvdG90eXBlLFwieFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5feH0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3g9TWF0aC5mbG9vcih0KX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5JbnB1dC5wcm90b3R5cGUsXCJ5XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl95fSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5feT1NYXRoLmZsb29yKHQpfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLklucHV0LnByb3RvdHlwZSxcInBvbGxMb2NrZWRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucG9sbFJhdGU+MCYmdGhpcy5fcG9sbENvdW50ZXI8dGhpcy5wb2xsUmF0ZX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5JbnB1dC5wcm90b3R5cGUsXCJ0b3RhbEluYWN0aXZlUG9pbnRlcnNcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucG9pbnRlcnMubGVuZ3RoLXRoaXMuY291bnRBY3RpdmVQb2ludGVycygpfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLklucHV0LnByb3RvdHlwZSxcInRvdGFsQWN0aXZlUG9pbnRlcnNcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY291bnRBY3RpdmVQb2ludGVycygpfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLklucHV0LnByb3RvdHlwZSxcIndvcmxkWFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nYW1lLmNhbWVyYS52aWV3LngrdGhpcy54fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLklucHV0LnByb3RvdHlwZSxcIndvcmxkWVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nYW1lLmNhbWVyYS52aWV3LnkrdGhpcy55fX0pLGkuTW91c2U9ZnVuY3Rpb24odCl7dGhpcy5nYW1lPXQsdGhpcy5pbnB1dD10LmlucHV0LHRoaXMuY2FsbGJhY2tDb250ZXh0PXRoaXMuZ2FtZSx0aGlzLm1vdXNlRG93bkNhbGxiYWNrPW51bGwsdGhpcy5tb3VzZVVwQ2FsbGJhY2s9bnVsbCx0aGlzLm1vdXNlT3V0Q2FsbGJhY2s9bnVsbCx0aGlzLm1vdXNlT3ZlckNhbGxiYWNrPW51bGwsdGhpcy5tb3VzZVdoZWVsQ2FsbGJhY2s9bnVsbCx0aGlzLmNhcHR1cmU9ITEsdGhpcy5idXR0b249LTEsdGhpcy53aGVlbERlbHRhPTAsdGhpcy5lbmFibGVkPSEwLHRoaXMubG9ja2VkPSExLHRoaXMuc3RvcE9uR2FtZU91dD0hMSx0aGlzLnBvaW50ZXJMb2NrPW5ldyBpLlNpZ25hbCx0aGlzLmV2ZW50PW51bGwsdGhpcy5fb25Nb3VzZURvd249bnVsbCx0aGlzLl9vbk1vdXNlTW92ZT1udWxsLHRoaXMuX29uTW91c2VVcD1udWxsLHRoaXMuX29uTW91c2VPdXQ9bnVsbCx0aGlzLl9vbk1vdXNlT3Zlcj1udWxsLHRoaXMuX29uTW91c2VXaGVlbD1udWxsLHRoaXMuX3doZWVsRXZlbnQ9bnVsbH0saS5Nb3VzZS5OT19CVVRUT049LTEsaS5Nb3VzZS5MRUZUX0JVVFRPTj0wLGkuTW91c2UuTUlERExFX0JVVFRPTj0xLGkuTW91c2UuUklHSFRfQlVUVE9OPTIsaS5Nb3VzZS5CQUNLX0JVVFRPTj0zLGkuTW91c2UuRk9SV0FSRF9CVVRUT049NCxpLk1vdXNlLldIRUVMX1VQPTEsaS5Nb3VzZS5XSEVFTF9ET1dOPS0xLGkuTW91c2UucHJvdG90eXBlPXtzdGFydDpmdW5jdGlvbigpe2lmKCghdGhpcy5nYW1lLmRldmljZS5hbmRyb2lkfHwhMSE9PXRoaXMuZ2FtZS5kZXZpY2UuY2hyb21lKSYmbnVsbD09PXRoaXMuX29uTW91c2VEb3duKXt2YXIgZT10aGlzO3RoaXMuX29uTW91c2VEb3duPWZ1bmN0aW9uKHQpe3JldHVybiBlLm9uTW91c2VEb3duKHQpfSx0aGlzLl9vbk1vdXNlTW92ZT1mdW5jdGlvbih0KXtyZXR1cm4gZS5vbk1vdXNlTW92ZSh0KX0sdGhpcy5fb25Nb3VzZVVwPWZ1bmN0aW9uKHQpe3JldHVybiBlLm9uTW91c2VVcCh0KX0sdGhpcy5fb25Nb3VzZVVwR2xvYmFsPWZ1bmN0aW9uKHQpe3JldHVybiBlLm9uTW91c2VVcEdsb2JhbCh0KX0sdGhpcy5fb25Nb3VzZU91dEdsb2JhbD1mdW5jdGlvbih0KXtyZXR1cm4gZS5vbk1vdXNlT3V0R2xvYmFsKHQpfSx0aGlzLl9vbk1vdXNlT3V0PWZ1bmN0aW9uKHQpe3JldHVybiBlLm9uTW91c2VPdXQodCl9LHRoaXMuX29uTW91c2VPdmVyPWZ1bmN0aW9uKHQpe3JldHVybiBlLm9uTW91c2VPdmVyKHQpfSx0aGlzLl9vbk1vdXNlV2hlZWw9ZnVuY3Rpb24odCl7cmV0dXJuIGUub25Nb3VzZVdoZWVsKHQpfTt2YXIgaT10aGlzLmdhbWUuY2FudmFzO2kuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLHRoaXMuX29uTW91c2VEb3duLCEwKSxpLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIix0aGlzLl9vbk1vdXNlTW92ZSwhMCksaS5hZGRFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLHRoaXMuX29uTW91c2VVcCwhMCksdGhpcy5nYW1lLmRldmljZS5jb2Nvb25KU3x8KHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLHRoaXMuX29uTW91c2VVcEdsb2JhbCwhMCksd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW91dFwiLHRoaXMuX29uTW91c2VPdXRHbG9iYWwsITApLGkuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlb3ZlclwiLHRoaXMuX29uTW91c2VPdmVyLCEwKSxpLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW91dFwiLHRoaXMuX29uTW91c2VPdXQsITApKTt2YXIgcz10aGlzLmdhbWUuZGV2aWNlLndoZWVsRXZlbnQ7cyYmKGkuYWRkRXZlbnRMaXN0ZW5lcihzLHRoaXMuX29uTW91c2VXaGVlbCwhMCksXCJtb3VzZXdoZWVsXCI9PT1zP3RoaXMuX3doZWVsRXZlbnQ9bmV3IHQoLS4wMjUsMSk6XCJET01Nb3VzZVNjcm9sbFwiPT09cyYmKHRoaXMuX3doZWVsRXZlbnQ9bmV3IHQoMSwxKSkpfX0sb25Nb3VzZURvd246ZnVuY3Rpb24odCl7dGhpcy5ldmVudD10LHRoaXMuY2FwdHVyZSYmdC5wcmV2ZW50RGVmYXVsdCgpLHRoaXMubW91c2VEb3duQ2FsbGJhY2smJnRoaXMubW91c2VEb3duQ2FsbGJhY2suY2FsbCh0aGlzLmNhbGxiYWNrQ29udGV4dCx0KSx0aGlzLmlucHV0LmVuYWJsZWQmJnRoaXMuZW5hYmxlZCYmKHQuaWRlbnRpZmllcj0wLHRoaXMuaW5wdXQubW91c2VQb2ludGVyLnN0YXJ0KHQpKX0sb25Nb3VzZU1vdmU6ZnVuY3Rpb24odCl7dGhpcy5ldmVudD10LHRoaXMuY2FwdHVyZSYmdC5wcmV2ZW50RGVmYXVsdCgpLHRoaXMubW91c2VNb3ZlQ2FsbGJhY2smJnRoaXMubW91c2VNb3ZlQ2FsbGJhY2suY2FsbCh0aGlzLmNhbGxiYWNrQ29udGV4dCx0KSx0aGlzLmlucHV0LmVuYWJsZWQmJnRoaXMuZW5hYmxlZCYmKHQuaWRlbnRpZmllcj0wLHRoaXMuaW5wdXQubW91c2VQb2ludGVyLm1vdmUodCkpfSxvbk1vdXNlVXA6ZnVuY3Rpb24odCl7dGhpcy5ldmVudD10LHRoaXMuY2FwdHVyZSYmdC5wcmV2ZW50RGVmYXVsdCgpLHRoaXMubW91c2VVcENhbGxiYWNrJiZ0aGlzLm1vdXNlVXBDYWxsYmFjay5jYWxsKHRoaXMuY2FsbGJhY2tDb250ZXh0LHQpLHRoaXMuaW5wdXQuZW5hYmxlZCYmdGhpcy5lbmFibGVkJiYodC5pZGVudGlmaWVyPTAsdGhpcy5pbnB1dC5tb3VzZVBvaW50ZXIuc3RvcCh0KSl9LG9uTW91c2VVcEdsb2JhbDpmdW5jdGlvbih0KXt0aGlzLmlucHV0Lm1vdXNlUG9pbnRlci53aXRoaW5HYW1lfHwodGhpcy5tb3VzZVVwQ2FsbGJhY2smJnRoaXMubW91c2VVcENhbGxiYWNrLmNhbGwodGhpcy5jYWxsYmFja0NvbnRleHQsdCksdC5pZGVudGlmaWVyPTAsdGhpcy5pbnB1dC5tb3VzZVBvaW50ZXIuc3RvcCh0KSl9LG9uTW91c2VPdXRHbG9iYWw6ZnVuY3Rpb24odCl7dGhpcy5ldmVudD10LHRoaXMuY2FwdHVyZSYmdC5wcmV2ZW50RGVmYXVsdCgpLHRoaXMuaW5wdXQubW91c2VQb2ludGVyLndpdGhpbkdhbWU9ITEsdGhpcy5pbnB1dC5lbmFibGVkJiZ0aGlzLmVuYWJsZWQmJih0aGlzLmlucHV0Lm1vdXNlUG9pbnRlci5zdG9wKHQpLHRoaXMuaW5wdXQubW91c2VQb2ludGVyLnJlc2V0QnV0dG9ucygpKX0sb25Nb3VzZU91dDpmdW5jdGlvbih0KXt0aGlzLmV2ZW50PXQsdGhpcy5jYXB0dXJlJiZ0LnByZXZlbnREZWZhdWx0KCksdGhpcy5pbnB1dC5tb3VzZVBvaW50ZXIud2l0aGluR2FtZT0hMSx0aGlzLm1vdXNlT3V0Q2FsbGJhY2smJnRoaXMubW91c2VPdXRDYWxsYmFjay5jYWxsKHRoaXMuY2FsbGJhY2tDb250ZXh0LHQpLHRoaXMuaW5wdXQuZW5hYmxlZCYmdGhpcy5lbmFibGVkJiZ0aGlzLnN0b3BPbkdhbWVPdXQmJih0LmlkZW50aWZpZXI9MCx0aGlzLmlucHV0Lm1vdXNlUG9pbnRlci5zdG9wKHQpKX0sb25Nb3VzZU92ZXI6ZnVuY3Rpb24odCl7dGhpcy5ldmVudD10LHRoaXMuY2FwdHVyZSYmdC5wcmV2ZW50RGVmYXVsdCgpLHRoaXMuaW5wdXQubW91c2VQb2ludGVyLndpdGhpbkdhbWU9ITAsdGhpcy5tb3VzZU92ZXJDYWxsYmFjayYmdGhpcy5tb3VzZU92ZXJDYWxsYmFjay5jYWxsKHRoaXMuY2FsbGJhY2tDb250ZXh0LHQpfSxvbk1vdXNlV2hlZWw6ZnVuY3Rpb24odCl7dGhpcy5fd2hlZWxFdmVudCYmKHQ9dGhpcy5fd2hlZWxFdmVudC5iaW5kRXZlbnQodCkpLHRoaXMuZXZlbnQ9dCx0aGlzLmNhcHR1cmUmJnQucHJldmVudERlZmF1bHQoKSx0aGlzLndoZWVsRGVsdGE9aS5NYXRoLmNsYW1wKC10LmRlbHRhWSwtMSwxKSx0aGlzLm1vdXNlV2hlZWxDYWxsYmFjayYmdGhpcy5tb3VzZVdoZWVsQ2FsbGJhY2suY2FsbCh0aGlzLmNhbGxiYWNrQ29udGV4dCx0KX0scmVxdWVzdFBvaW50ZXJMb2NrOmZ1bmN0aW9uKCl7aWYodGhpcy5nYW1lLmRldmljZS5wb2ludGVyTG9jayl7dmFyIHQ9dGhpcy5nYW1lLmNhbnZhczt0LnJlcXVlc3RQb2ludGVyTG9jaz10LnJlcXVlc3RQb2ludGVyTG9ja3x8dC5tb3pSZXF1ZXN0UG9pbnRlckxvY2t8fHQud2Via2l0UmVxdWVzdFBvaW50ZXJMb2NrLHQucmVxdWVzdFBvaW50ZXJMb2NrKCk7dmFyIGU9dGhpczt0aGlzLl9wb2ludGVyTG9ja0NoYW5nZT1mdW5jdGlvbih0KXtyZXR1cm4gZS5wb2ludGVyTG9ja0NoYW5nZSh0KX0sZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJsb2NrY2hhbmdlXCIsdGhpcy5fcG9pbnRlckxvY2tDaGFuZ2UsITApLGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3pwb2ludGVybG9ja2NoYW5nZVwiLHRoaXMuX3BvaW50ZXJMb2NrQ2hhbmdlLCEwKSxkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwid2Via2l0cG9pbnRlcmxvY2tjaGFuZ2VcIix0aGlzLl9wb2ludGVyTG9ja0NoYW5nZSwhMCl9fSxwb2ludGVyTG9ja0NoYW5nZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmdhbWUuY2FudmFzO2RvY3VtZW50LnBvaW50ZXJMb2NrRWxlbWVudD09PWV8fGRvY3VtZW50Lm1velBvaW50ZXJMb2NrRWxlbWVudD09PWV8fGRvY3VtZW50LndlYmtpdFBvaW50ZXJMb2NrRWxlbWVudD09PWU/KHRoaXMubG9ja2VkPSEwLHRoaXMucG9pbnRlckxvY2suZGlzcGF0Y2goITAsdCkpOih0aGlzLmxvY2tlZD0hMSx0aGlzLnBvaW50ZXJMb2NrLmRpc3BhdGNoKCExLHQpKX0scmVsZWFzZVBvaW50ZXJMb2NrOmZ1bmN0aW9uKCl7ZG9jdW1lbnQuZXhpdFBvaW50ZXJMb2NrPWRvY3VtZW50LmV4aXRQb2ludGVyTG9ja3x8ZG9jdW1lbnQubW96RXhpdFBvaW50ZXJMb2NrfHxkb2N1bWVudC53ZWJraXRFeGl0UG9pbnRlckxvY2ssZG9jdW1lbnQuZXhpdFBvaW50ZXJMb2NrKCksZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJsb2NrY2hhbmdlXCIsdGhpcy5fcG9pbnRlckxvY2tDaGFuZ2UsITApLGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3pwb2ludGVybG9ja2NoYW5nZVwiLHRoaXMuX3BvaW50ZXJMb2NrQ2hhbmdlLCEwKSxkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwid2Via2l0cG9pbnRlcmxvY2tjaGFuZ2VcIix0aGlzLl9wb2ludGVyTG9ja0NoYW5nZSwhMCl9LHN0b3A6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdhbWUuY2FudmFzO3QucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLHRoaXMuX29uTW91c2VEb3duLCEwKSx0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIix0aGlzLl9vbk1vdXNlTW92ZSwhMCksdC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLHRoaXMuX29uTW91c2VVcCwhMCksdC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2VvdmVyXCIsdGhpcy5fb25Nb3VzZU92ZXIsITApLHQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlb3V0XCIsdGhpcy5fb25Nb3VzZU91dCwhMCk7dmFyIGU9dGhpcy5nYW1lLmRldmljZS53aGVlbEV2ZW50O2UmJnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihlLHRoaXMuX29uTW91c2VXaGVlbCwhMCksd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsdGhpcy5fb25Nb3VzZVVwR2xvYmFsLCEwKSx3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlb3V0XCIsdGhpcy5fb25Nb3VzZU91dEdsb2JhbCwhMCksZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJsb2NrY2hhbmdlXCIsdGhpcy5fcG9pbnRlckxvY2tDaGFuZ2UsITApLGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3pwb2ludGVybG9ja2NoYW5nZVwiLHRoaXMuX3BvaW50ZXJMb2NrQ2hhbmdlLCEwKSxkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwid2Via2l0cG9pbnRlcmxvY2tjaGFuZ2VcIix0aGlzLl9wb2ludGVyTG9ja0NoYW5nZSwhMCl9fSxpLk1vdXNlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1pLk1vdXNlLCh0LnByb3RvdHlwZT17fSkuY29uc3RydWN0b3I9dCx0LnByb3RvdHlwZS5iaW5kRXZlbnQ9ZnVuY3Rpb24oZSl7aWYoIXQuX3N0dWJzR2VuZXJhdGVkJiZlKXtmb3IodmFyIGkgaW4gZSlpIGluIHQucHJvdG90eXBlfHxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsaSx7Z2V0OmZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbigpe3ZhciBlPXRoaXMub3JpZ2luYWxFdmVudFt0XTtyZXR1cm5cImZ1bmN0aW9uXCIhPXR5cGVvZiBlP2U6ZS5iaW5kKHRoaXMub3JpZ2luYWxFdmVudCl9fShpKX0pO3QuX3N0dWJzR2VuZXJhdGVkPSEwfXJldHVybiB0aGlzLm9yaWdpbmFsRXZlbnQ9ZSx0aGlzfSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0LnByb3RvdHlwZSx7dHlwZTp7dmFsdWU6XCJ3aGVlbFwifSxkZWx0YU1vZGU6e2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kZWx0YU1vZGV9fSxkZWx0YVk6e2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zY2FsZUZhY3RvcioodGhpcy5vcmlnaW5hbEV2ZW50LndoZWVsRGVsdGF8fHRoaXMub3JpZ2luYWxFdmVudC5kZXRhaWwpfHwwfX0sZGVsdGFYOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2NhbGVGYWN0b3IqdGhpcy5vcmlnaW5hbEV2ZW50LndoZWVsRGVsdGFYfHwwfX0sZGVsdGFaOnt2YWx1ZTowfX0pLGkuTVNQb2ludGVyPWZ1bmN0aW9uKHQpe3RoaXMuZ2FtZT10LHRoaXMuaW5wdXQ9dC5pbnB1dCx0aGlzLmNhbGxiYWNrQ29udGV4dD10aGlzLmdhbWUsdGhpcy5wb2ludGVyRG93bkNhbGxiYWNrPW51bGwsdGhpcy5wb2ludGVyTW92ZUNhbGxiYWNrPW51bGwsdGhpcy5wb2ludGVyVXBDYWxsYmFjaz1udWxsLHRoaXMuY2FwdHVyZT0hMCx0aGlzLmJ1dHRvbj0tMSx0aGlzLmV2ZW50PW51bGwsdGhpcy5lbmFibGVkPSEwLHRoaXMuX29uTVNQb2ludGVyRG93bj1udWxsLHRoaXMuX29uTVNQb2ludGVyTW92ZT1udWxsLHRoaXMuX29uTVNQb2ludGVyVXA9bnVsbCx0aGlzLl9vbk1TUG9pbnRlclVwR2xvYmFsPW51bGwsdGhpcy5fb25NU1BvaW50ZXJPdXQ9bnVsbCx0aGlzLl9vbk1TUG9pbnRlck92ZXI9bnVsbH0saS5NU1BvaW50ZXIucHJvdG90eXBlPXtzdGFydDpmdW5jdGlvbigpe2lmKG51bGw9PT10aGlzLl9vbk1TUG9pbnRlckRvd24pe3ZhciB0PXRoaXM7aWYodGhpcy5nYW1lLmRldmljZS5tc3BvaW50ZXIpe3RoaXMuX29uTVNQb2ludGVyRG93bj1mdW5jdGlvbihlKXtyZXR1cm4gdC5vblBvaW50ZXJEb3duKGUpfSx0aGlzLl9vbk1TUG9pbnRlck1vdmU9ZnVuY3Rpb24oZSl7cmV0dXJuIHQub25Qb2ludGVyTW92ZShlKX0sdGhpcy5fb25NU1BvaW50ZXJVcD1mdW5jdGlvbihlKXtyZXR1cm4gdC5vblBvaW50ZXJVcChlKX0sdGhpcy5fb25NU1BvaW50ZXJVcEdsb2JhbD1mdW5jdGlvbihlKXtyZXR1cm4gdC5vblBvaW50ZXJVcEdsb2JhbChlKX0sdGhpcy5fb25NU1BvaW50ZXJPdXQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHQub25Qb2ludGVyT3V0KGUpfSx0aGlzLl9vbk1TUG9pbnRlck92ZXI9ZnVuY3Rpb24oZSl7cmV0dXJuIHQub25Qb2ludGVyT3ZlcihlKX07dmFyIGU9dGhpcy5nYW1lLmNhbnZhcztlLmFkZEV2ZW50TGlzdGVuZXIoXCJNU1BvaW50ZXJEb3duXCIsdGhpcy5fb25NU1BvaW50ZXJEb3duLCExKSxlLmFkZEV2ZW50TGlzdGVuZXIoXCJNU1BvaW50ZXJNb3ZlXCIsdGhpcy5fb25NU1BvaW50ZXJNb3ZlLCExKSxlLmFkZEV2ZW50TGlzdGVuZXIoXCJNU1BvaW50ZXJVcFwiLHRoaXMuX29uTVNQb2ludGVyVXAsITEpLGUuYWRkRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJkb3duXCIsdGhpcy5fb25NU1BvaW50ZXJEb3duLCExKSxlLmFkZEV2ZW50TGlzdGVuZXIoXCJwb2ludGVybW92ZVwiLHRoaXMuX29uTVNQb2ludGVyTW92ZSwhMSksZS5hZGRFdmVudExpc3RlbmVyKFwicG9pbnRlcnVwXCIsdGhpcy5fb25NU1BvaW50ZXJVcCwhMSksZS5zdHlsZVtcIi1tcy1jb250ZW50LXpvb21pbmdcIl09XCJub25lXCIsZS5zdHlsZVtcIi1tcy10b3VjaC1hY3Rpb25cIl09XCJub25lXCIsdGhpcy5nYW1lLmRldmljZS5jb2Nvb25KU3x8KHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiTVNQb2ludGVyVXBcIix0aGlzLl9vbk1TUG9pbnRlclVwR2xvYmFsLCEwKSxlLmFkZEV2ZW50TGlzdGVuZXIoXCJNU1BvaW50ZXJPdmVyXCIsdGhpcy5fb25NU1BvaW50ZXJPdmVyLCEwKSxlLmFkZEV2ZW50TGlzdGVuZXIoXCJNU1BvaW50ZXJPdXRcIix0aGlzLl9vbk1TUG9pbnRlck91dCwhMCksd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJwb2ludGVydXBcIix0aGlzLl9vbk1TUG9pbnRlclVwR2xvYmFsLCEwKSxlLmFkZEV2ZW50TGlzdGVuZXIoXCJwb2ludGVyb3ZlclwiLHRoaXMuX29uTVNQb2ludGVyT3ZlciwhMCksZS5hZGRFdmVudExpc3RlbmVyKFwicG9pbnRlcm91dFwiLHRoaXMuX29uTVNQb2ludGVyT3V0LCEwKSl9fX0sb25Qb2ludGVyRG93bjpmdW5jdGlvbih0KXt0aGlzLmdhbWUuaW5wdXQuZXhlY3V0ZVRvdWNoTG9ja0NhbGxiYWNrcyghMSx0KSx0aGlzLmV2ZW50PXQsdGhpcy5jYXB0dXJlJiZ0LnByZXZlbnREZWZhdWx0KCksdGhpcy5wb2ludGVyRG93bkNhbGxiYWNrJiZ0aGlzLnBvaW50ZXJEb3duQ2FsbGJhY2suY2FsbCh0aGlzLmNhbGxiYWNrQ29udGV4dCx0KSx0aGlzLmlucHV0LmVuYWJsZWQmJnRoaXMuZW5hYmxlZCYmKHQuaWRlbnRpZmllcj10LnBvaW50ZXJJZCxcIm1vdXNlXCI9PT10LnBvaW50ZXJUeXBlfHw0PT09dC5wb2ludGVyVHlwZT90aGlzLmlucHV0Lm1vdXNlUG9pbnRlci5zdGFydCh0KTp0aGlzLmlucHV0LnN0YXJ0UG9pbnRlcih0KSl9LG9uUG9pbnRlck1vdmU6ZnVuY3Rpb24odCl7dGhpcy5ldmVudD10LHRoaXMuY2FwdHVyZSYmdC5wcmV2ZW50RGVmYXVsdCgpLHRoaXMucG9pbnRlck1vdmVDYWxsYmFjayYmdGhpcy5wb2ludGVyTW92ZUNhbGxiYWNrLmNhbGwodGhpcy5jYWxsYmFja0NvbnRleHQsdCksdGhpcy5pbnB1dC5lbmFibGVkJiZ0aGlzLmVuYWJsZWQmJih0LmlkZW50aWZpZXI9dC5wb2ludGVySWQsXCJtb3VzZVwiPT09dC5wb2ludGVyVHlwZXx8ND09PXQucG9pbnRlclR5cGU/dGhpcy5pbnB1dC5tb3VzZVBvaW50ZXIubW92ZSh0KTp0aGlzLmlucHV0LnVwZGF0ZVBvaW50ZXIodCkpfSxvblBvaW50ZXJVcDpmdW5jdGlvbih0KXt0aGlzLmdhbWUuaW5wdXQuZXhlY3V0ZVRvdWNoTG9ja0NhbGxiYWNrcyghMCx0KSx0aGlzLmV2ZW50PXQsdGhpcy5jYXB0dXJlJiZ0LnByZXZlbnREZWZhdWx0KCksdGhpcy5wb2ludGVyVXBDYWxsYmFjayYmdGhpcy5wb2ludGVyVXBDYWxsYmFjay5jYWxsKHRoaXMuY2FsbGJhY2tDb250ZXh0LHQpLHRoaXMuaW5wdXQuZW5hYmxlZCYmdGhpcy5lbmFibGVkJiYodC5pZGVudGlmaWVyPXQucG9pbnRlcklkLFwibW91c2VcIj09PXQucG9pbnRlclR5cGV8fDQ9PT10LnBvaW50ZXJUeXBlP3RoaXMuaW5wdXQubW91c2VQb2ludGVyLnN0b3AodCk6dGhpcy5pbnB1dC5zdG9wUG9pbnRlcih0KSl9LG9uUG9pbnRlclVwR2xvYmFsOmZ1bmN0aW9uKHQpe2lmKFwibW91c2VcIiE9PXQucG9pbnRlclR5cGUmJjQhPT10LnBvaW50ZXJUeXBlfHx0aGlzLmlucHV0Lm1vdXNlUG9pbnRlci53aXRoaW5HYW1lKXt2YXIgZT10aGlzLmlucHV0LmdldFBvaW50ZXJGcm9tSWRlbnRpZmllcih0LmlkZW50aWZpZXIpO2UmJmUud2l0aGluR2FtZSYmdGhpcy5vblBvaW50ZXJVcCh0KX1lbHNlIHRoaXMub25Qb2ludGVyVXAodCl9LG9uUG9pbnRlck91dDpmdW5jdGlvbih0KXtpZih0aGlzLmV2ZW50PXQsdGhpcy5jYXB0dXJlJiZ0LnByZXZlbnREZWZhdWx0KCksXCJtb3VzZVwiPT09dC5wb2ludGVyVHlwZXx8ND09PXQucG9pbnRlclR5cGUpdGhpcy5pbnB1dC5tb3VzZVBvaW50ZXIud2l0aGluR2FtZT0hMTtlbHNle3ZhciBlPXRoaXMuaW5wdXQuZ2V0UG9pbnRlckZyb21JZGVudGlmaWVyKHQuaWRlbnRpZmllcik7ZSYmKGUud2l0aGluR2FtZT0hMSl9dGhpcy5pbnB1dC5tb3VzZS5tb3VzZU91dENhbGxiYWNrJiZ0aGlzLmlucHV0Lm1vdXNlLm1vdXNlT3V0Q2FsbGJhY2suY2FsbCh0aGlzLmlucHV0Lm1vdXNlLmNhbGxiYWNrQ29udGV4dCx0KSx0aGlzLmlucHV0LmVuYWJsZWQmJnRoaXMuZW5hYmxlZCYmdGhpcy5pbnB1dC5tb3VzZS5zdG9wT25HYW1lT3V0JiYodC5pZGVudGlmaWVyPTAsZT9lLnN0b3AodCk6dGhpcy5pbnB1dC5tb3VzZVBvaW50ZXIuc3RvcCh0KSl9LG9uUG9pbnRlck92ZXI6ZnVuY3Rpb24odCl7aWYodGhpcy5ldmVudD10LHRoaXMuY2FwdHVyZSYmdC5wcmV2ZW50RGVmYXVsdCgpLFwibW91c2VcIj09PXQucG9pbnRlclR5cGV8fDQ9PT10LnBvaW50ZXJUeXBlKXRoaXMuaW5wdXQubW91c2VQb2ludGVyLndpdGhpbkdhbWU9ITA7ZWxzZXt2YXIgZT10aGlzLmlucHV0LmdldFBvaW50ZXJGcm9tSWRlbnRpZmllcih0LmlkZW50aWZpZXIpO2UmJihlLndpdGhpbkdhbWU9ITApfXRoaXMuaW5wdXQubW91c2UubW91c2VPdmVyQ2FsbGJhY2smJnRoaXMuaW5wdXQubW91c2UubW91c2VPdmVyQ2FsbGJhY2suY2FsbCh0aGlzLmlucHV0Lm1vdXNlLmNhbGxiYWNrQ29udGV4dCx0KX0sc3RvcDpmdW5jdGlvbigpe3ZhciB0PXRoaXMuZ2FtZS5jYW52YXM7dC5yZW1vdmVFdmVudExpc3RlbmVyKFwiTVNQb2ludGVyRG93blwiLHRoaXMuX29uTVNQb2ludGVyRG93biwhMSksdC5yZW1vdmVFdmVudExpc3RlbmVyKFwiTVNQb2ludGVyTW92ZVwiLHRoaXMuX29uTVNQb2ludGVyTW92ZSwhMSksdC5yZW1vdmVFdmVudExpc3RlbmVyKFwiTVNQb2ludGVyVXBcIix0aGlzLl9vbk1TUG9pbnRlclVwLCExKSx0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJwb2ludGVyZG93blwiLHRoaXMuX29uTVNQb2ludGVyRG93biwhMSksdC5yZW1vdmVFdmVudExpc3RlbmVyKFwicG9pbnRlcm1vdmVcIix0aGlzLl9vbk1TUG9pbnRlck1vdmUsITEpLHQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJ1cFwiLHRoaXMuX29uTVNQb2ludGVyVXAsITEpLHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwiTVNQb2ludGVyVXBcIix0aGlzLl9vbk1TUG9pbnRlclVwR2xvYmFsLCEwKSx0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJNU1BvaW50ZXJPdmVyXCIsdGhpcy5fb25NU1BvaW50ZXJPdmVyLCEwKSx0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJNU1BvaW50ZXJPdXRcIix0aGlzLl9vbk1TUG9pbnRlck91dCwhMCksd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJwb2ludGVydXBcIix0aGlzLl9vbk1TUG9pbnRlclVwR2xvYmFsLCEwKSx0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJwb2ludGVyb3ZlclwiLHRoaXMuX29uTVNQb2ludGVyT3ZlciwhMCksdC5yZW1vdmVFdmVudExpc3RlbmVyKFwicG9pbnRlcm91dFwiLHRoaXMuX29uTVNQb2ludGVyT3V0LCEwKX19LGkuTVNQb2ludGVyLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1pLk1TUG9pbnRlcixpLkRldmljZUJ1dHRvbj1mdW5jdGlvbih0LGUpe3RoaXMucGFyZW50PXQsdGhpcy5nYW1lPXQuZ2FtZSx0aGlzLmV2ZW50PW51bGwsdGhpcy5pc0Rvd249ITEsdGhpcy5pc1VwPSEwLHRoaXMudGltZURvd249MCx0aGlzLnRpbWVVcD0wLHRoaXMucmVwZWF0cz0wLHRoaXMuYWx0S2V5PSExLHRoaXMuc2hpZnRLZXk9ITEsdGhpcy5jdHJsS2V5PSExLHRoaXMudmFsdWU9MCx0aGlzLmJ1dHRvbkNvZGU9ZSx0aGlzLm9uRG93bj1uZXcgaS5TaWduYWwsdGhpcy5vblVwPW5ldyBpLlNpZ25hbCx0aGlzLm9uRmxvYXQ9bmV3IGkuU2lnbmFsfSxpLkRldmljZUJ1dHRvbi5wcm90b3R5cGU9e3N0YXJ0OmZ1bmN0aW9uKHQsZSl7dGhpcy5pc0Rvd258fCh0aGlzLmlzRG93bj0hMCx0aGlzLmlzVXA9ITEsdGhpcy50aW1lRG93bj10aGlzLmdhbWUudGltZS50aW1lLHRoaXMucmVwZWF0cz0wLHRoaXMuZXZlbnQ9dCx0aGlzLnZhbHVlPWUsdCYmKHRoaXMuYWx0S2V5PXQuYWx0S2V5LHRoaXMuc2hpZnRLZXk9dC5zaGlmdEtleSx0aGlzLmN0cmxLZXk9dC5jdHJsS2V5KSx0aGlzLm9uRG93bi5kaXNwYXRjaCh0aGlzLGUpKX0sc3RvcDpmdW5jdGlvbih0LGUpe3RoaXMuaXNVcHx8KHRoaXMuaXNEb3duPSExLHRoaXMuaXNVcD0hMCx0aGlzLnRpbWVVcD10aGlzLmdhbWUudGltZS50aW1lLHRoaXMuZXZlbnQ9dCx0aGlzLnZhbHVlPWUsdCYmKHRoaXMuYWx0S2V5PXQuYWx0S2V5LHRoaXMuc2hpZnRLZXk9dC5zaGlmdEtleSx0aGlzLmN0cmxLZXk9dC5jdHJsS2V5KSx0aGlzLm9uVXAuZGlzcGF0Y2godGhpcyxlKSl9LHN0YXJ0U3RvcDpmdW5jdGlvbih0LGUsaSl7dD90aGlzLnN0YXJ0KGUsaSk6dGhpcy5zdG9wKGUsaSl9LHBhZEZsb2F0OmZ1bmN0aW9uKHQpe3RoaXMuaXNEb3duPSExLHRoaXMuaXNVcD0hMSx0aGlzLnZhbHVlPXQsdGhpcy5vbkZsb2F0LmRpc3BhdGNoKHRoaXMsdCl9LGp1c3RQcmVzc2VkOmZ1bmN0aW9uKHQpe3JldHVybiB0PXR8fDI1MCx0aGlzLmlzRG93biYmdGhpcy50aW1lRG93bit0PnRoaXMuZ2FtZS50aW1lLnRpbWV9LGp1c3RSZWxlYXNlZDpmdW5jdGlvbih0KXtyZXR1cm4gdD10fHwyNTAsdGhpcy5pc1VwJiZ0aGlzLnRpbWVVcCt0PnRoaXMuZ2FtZS50aW1lLnRpbWV9LHJlc2V0OmZ1bmN0aW9uKCl7dGhpcy5pc0Rvd249ITEsdGhpcy5pc1VwPSEwLHRoaXMudGltZURvd249dGhpcy5nYW1lLnRpbWUudGltZSx0aGlzLnJlcGVhdHM9MCx0aGlzLmFsdEtleT0hMSx0aGlzLnNoaWZ0S2V5PSExLHRoaXMuY3RybEtleT0hMX0sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMub25Eb3duLmRpc3Bvc2UoKSx0aGlzLm9uVXAuZGlzcG9zZSgpLHRoaXMub25GbG9hdC5kaXNwb3NlKCksdGhpcy5wYXJlbnQ9bnVsbCx0aGlzLmdhbWU9bnVsbH19LGkuRGV2aWNlQnV0dG9uLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1pLkRldmljZUJ1dHRvbixPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5EZXZpY2VCdXR0b24ucHJvdG90eXBlLFwiZHVyYXRpb25cIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXNVcD8tMTp0aGlzLmdhbWUudGltZS50aW1lLXRoaXMudGltZURvd259fSksaS5Qb2ludGVyPWZ1bmN0aW9uKHQsZSxzKXt0aGlzLmdhbWU9dCx0aGlzLmlkPWUsdGhpcy50eXBlPWkuUE9JTlRFUix0aGlzLmV4aXN0cz0hMCx0aGlzLmlkZW50aWZpZXI9MCx0aGlzLnBvaW50ZXJJZD1udWxsLHRoaXMucG9pbnRlck1vZGU9c3x8aS5Qb2ludGVyTW9kZS5DVVJTT1J8aS5Qb2ludGVyTW9kZS5DT05UQUNULHRoaXMudGFyZ2V0PW51bGwsdGhpcy5idXR0b249bnVsbCx0aGlzLmxlZnRCdXR0b249bmV3IGkuRGV2aWNlQnV0dG9uKHRoaXMsaS5Qb2ludGVyLkxFRlRfQlVUVE9OKSx0aGlzLm1pZGRsZUJ1dHRvbj1uZXcgaS5EZXZpY2VCdXR0b24odGhpcyxpLlBvaW50ZXIuTUlERExFX0JVVFRPTiksdGhpcy5yaWdodEJ1dHRvbj1uZXcgaS5EZXZpY2VCdXR0b24odGhpcyxpLlBvaW50ZXIuUklHSFRfQlVUVE9OKSx0aGlzLmJhY2tCdXR0b249bmV3IGkuRGV2aWNlQnV0dG9uKHRoaXMsaS5Qb2ludGVyLkJBQ0tfQlVUVE9OKSx0aGlzLmZvcndhcmRCdXR0b249bmV3IGkuRGV2aWNlQnV0dG9uKHRoaXMsaS5Qb2ludGVyLkZPUldBUkRfQlVUVE9OKSx0aGlzLmVyYXNlckJ1dHRvbj1uZXcgaS5EZXZpY2VCdXR0b24odGhpcyxpLlBvaW50ZXIuRVJBU0VSX0JVVFRPTiksdGhpcy5faG9sZFNlbnQ9ITEsdGhpcy5faGlzdG9yeT1bXSx0aGlzLl9uZXh0RHJvcD0wLHRoaXMuX3N0YXRlUmVzZXQ9ITEsdGhpcy53aXRoaW5HYW1lPSExLHRoaXMuY2xpZW50WD0tMSx0aGlzLmNsaWVudFk9LTEsdGhpcy5wYWdlWD0tMSx0aGlzLnBhZ2VZPS0xLHRoaXMuc2NyZWVuWD0tMSx0aGlzLnNjcmVlblk9LTEsdGhpcy5yYXdNb3ZlbWVudFg9MCx0aGlzLnJhd01vdmVtZW50WT0wLHRoaXMubW92ZW1lbnRYPTAsdGhpcy5tb3ZlbWVudFk9MCx0aGlzLng9LTEsdGhpcy55PS0xLHRoaXMuaXNNb3VzZT0wPT09ZSx0aGlzLmlzRG93bj0hMSx0aGlzLmlzVXA9ITAsdGhpcy50aW1lRG93bj0wLHRoaXMudGltZVVwPTAsdGhpcy5wcmV2aW91c1RhcFRpbWU9MCx0aGlzLnRvdGFsVG91Y2hlcz0wLHRoaXMubXNTaW5jZUxhc3RDbGljaz1OdW1iZXIuTUFYX1ZBTFVFLHRoaXMudGFyZ2V0T2JqZWN0PW51bGwsdGhpcy5pbnRlcmFjdGl2ZUNhbmRpZGF0ZXM9W10sdGhpcy5hY3RpdmU9ITEsdGhpcy5kaXJ0eT0hMSx0aGlzLnBvc2l0aW9uPW5ldyBpLlBvaW50LHRoaXMucG9zaXRpb25Eb3duPW5ldyBpLlBvaW50LHRoaXMucG9zaXRpb25VcD1uZXcgaS5Qb2ludCx0aGlzLmNpcmNsZT1uZXcgaS5DaXJjbGUoMCwwLDQ0KSx0aGlzLl9jbGlja1RyYW1wb2xpbmVzPW51bGwsdGhpcy5fdHJhbXBvbGluZVRhcmdldE9iamVjdD1udWxsfSxpLlBvaW50ZXIuTk9fQlVUVE9OPTAsaS5Qb2ludGVyLkxFRlRfQlVUVE9OPTEsaS5Qb2ludGVyLlJJR0hUX0JVVFRPTj0yLGkuUG9pbnRlci5NSURETEVfQlVUVE9OPTQsaS5Qb2ludGVyLkJBQ0tfQlVUVE9OPTgsaS5Qb2ludGVyLkZPUldBUkRfQlVUVE9OPTE2LGkuUG9pbnRlci5FUkFTRVJfQlVUVE9OPTMyLGkuUG9pbnRlci5wcm90b3R5cGU9e3Jlc2V0QnV0dG9uczpmdW5jdGlvbigpe3RoaXMuaXNEb3duPSExLHRoaXMuaXNVcD0hMCx0aGlzLmlzTW91c2UmJih0aGlzLmxlZnRCdXR0b24ucmVzZXQoKSx0aGlzLm1pZGRsZUJ1dHRvbi5yZXNldCgpLHRoaXMucmlnaHRCdXR0b24ucmVzZXQoKSx0aGlzLmJhY2tCdXR0b24ucmVzZXQoKSx0aGlzLmZvcndhcmRCdXR0b24ucmVzZXQoKSx0aGlzLmVyYXNlckJ1dHRvbi5yZXNldCgpKX0scHJvY2Vzc0J1dHRvbnNEb3duOmZ1bmN0aW9uKHQsZSl7dD09PWkuTW91c2UuTEVGVF9CVVRUT04mJnRoaXMubGVmdEJ1dHRvbi5zdGFydChlKSx0PT09aS5Nb3VzZS5SSUdIVF9CVVRUT04mJnRoaXMucmlnaHRCdXR0b24uc3RhcnQoZSksdD09PWkuTW91c2UuTUlERExFX0JVVFRPTiYmdGhpcy5taWRkbGVCdXR0b24uc3RhcnQoZSksdD09PWkuTW91c2UuQkFDS19CVVRUT04mJnRoaXMuYmFja0J1dHRvbi5zdGFydChlKSx0PT09aS5Nb3VzZS5GT1JXQVJEX0JVVFRPTiYmdGhpcy5mb3J3YXJkQnV0dG9uLnN0YXJ0KGUpfSxwcm9jZXNzQnV0dG9uc1VwOmZ1bmN0aW9uKHQsZSl7dD09PWkuTW91c2UuTEVGVF9CVVRUT04mJnRoaXMubGVmdEJ1dHRvbi5zdG9wKGUpLHQ9PT1pLk1vdXNlLlJJR0hUX0JVVFRPTiYmdGhpcy5yaWdodEJ1dHRvbi5zdG9wKGUpLHQ9PT1pLk1vdXNlLk1JRERMRV9CVVRUT04mJnRoaXMubWlkZGxlQnV0dG9uLnN0b3AoZSksdD09PWkuTW91c2UuQkFDS19CVVRUT04mJnRoaXMuYmFja0J1dHRvbi5zdG9wKGUpLHQ9PT1pLk1vdXNlLkZPUldBUkRfQlVUVE9OJiZ0aGlzLmZvcndhcmRCdXR0b24uc3RvcChlKX0scHJvY2Vzc0J1dHRvbnNVcERvd246ZnVuY3Rpb24odCxlKXt2YXIgcz1cImRvd25cIj09PWUudHlwZS50b0xvd2VyQ2FzZSgpLnN1YnN0cigtNCksbj1cIm1vdmVcIj09PWUudHlwZS50b0xvd2VyQ2FzZSgpLnN1YnN0cigtNCk7dm9pZCAwIT09dD8ocyYmMT09PXQmJmUuY3RybEtleSYmKHQ9MiksdGhpcy5sZWZ0QnV0dG9uLnN0YXJ0U3RvcChpLlBvaW50ZXIuTEVGVF9CVVRUT04mdCxlKSx0aGlzLnJpZ2h0QnV0dG9uLnN0YXJ0U3RvcChpLlBvaW50ZXIuUklHSFRfQlVUVE9OJnQsZSksdGhpcy5taWRkbGVCdXR0b24uc3RhcnRTdG9wKGkuUG9pbnRlci5NSURETEVfQlVUVE9OJnQsZSksdGhpcy5iYWNrQnV0dG9uLnN0YXJ0U3RvcChpLlBvaW50ZXIuQkFDS19CVVRUT04mdCxlKSx0aGlzLmZvcndhcmRCdXR0b24uc3RhcnRTdG9wKGkuUG9pbnRlci5GT1JXQVJEX0JVVFRPTiZ0LGUpLHRoaXMuZXJhc2VyQnV0dG9uLnN0YXJ0U3RvcChpLlBvaW50ZXIuRVJBU0VSX0JVVFRPTiZ0LGUpKTp2b2lkIDAhPT1lLmJ1dHRvbj9zJiZlLmN0cmxLZXkmJjA9PT1lLmJ1dHRvbj90aGlzLnJpZ2h0QnV0dG9uLnN0YXJ0KGUpOnM/dGhpcy5wcm9jZXNzQnV0dG9uc0Rvd24oZS5idXR0b24sZSk6bnx8dGhpcy5wcm9jZXNzQnV0dG9uc1VwKGUuYnV0dG9uLGUpOnM/ZS5jdHJsS2V5P3RoaXMucmlnaHRCdXR0b24uc3RhcnQoZSk6dGhpcy5sZWZ0QnV0dG9uLnN0YXJ0KGUpOih0aGlzLmxlZnRCdXR0b24uc3RvcChlKSx0aGlzLnJpZ2h0QnV0dG9uLnN0b3AoZSkpfSx1cGRhdGVCdXR0b25zOmZ1bmN0aW9uKHQpe3RoaXMuYnV0dG9uPXQuYnV0dG9uLHRoaXMucHJvY2Vzc0J1dHRvbnNVcERvd24odC5idXR0b25zLHQpLHRoaXMuaXNVcD0hMCx0aGlzLmlzRG93bj0hMSwodGhpcy5sZWZ0QnV0dG9uLmlzRG93bnx8dGhpcy5yaWdodEJ1dHRvbi5pc0Rvd258fHRoaXMubWlkZGxlQnV0dG9uLmlzRG93bnx8dGhpcy5iYWNrQnV0dG9uLmlzRG93bnx8dGhpcy5mb3J3YXJkQnV0dG9uLmlzRG93bnx8dGhpcy5lcmFzZXJCdXR0b24uaXNEb3duKSYmKHRoaXMuaXNVcD0hMSx0aGlzLmlzRG93bj0hMCl9LHN0YXJ0OmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ2FtZS5pbnB1dDtyZXR1cm4gdC5wb2ludGVySWQmJih0aGlzLnBvaW50ZXJJZD10LnBvaW50ZXJJZCksdGhpcy5pZGVudGlmaWVyPXQuaWRlbnRpZmllcix0aGlzLnRhcmdldD10LnRhcmdldCx0aGlzLmlzTW91c2U/dGhpcy51cGRhdGVCdXR0b25zKHQpOih0aGlzLmlzRG93bj0hMCx0aGlzLmlzVXA9ITEpLHRoaXMuYWN0aXZlPSEwLHRoaXMud2l0aGluR2FtZT0hMCx0aGlzLmRpcnR5PSExLHRoaXMuX2hpc3Rvcnk9W10sdGhpcy5fY2xpY2tUcmFtcG9saW5lcz1udWxsLHRoaXMuX3RyYW1wb2xpbmVUYXJnZXRPYmplY3Q9bnVsbCx0aGlzLm1zU2luY2VMYXN0Q2xpY2s9dGhpcy5nYW1lLnRpbWUudGltZS10aGlzLnRpbWVEb3duLHRoaXMudGltZURvd249dGhpcy5nYW1lLnRpbWUudGltZSx0aGlzLl9ob2xkU2VudD0hMSx0aGlzLm1vdmUodCwhMCksdGhpcy5wb3NpdGlvbkRvd24uc2V0VG8odGhpcy54LHRoaXMueSksKGUubXVsdGlJbnB1dE92ZXJyaWRlPT09aS5JbnB1dC5NT1VTRV9PVkVSUklERVNfVE9VQ0h8fGUubXVsdGlJbnB1dE92ZXJyaWRlPT09aS5JbnB1dC5NT1VTRV9UT1VDSF9DT01CSU5FfHxlLm11bHRpSW5wdXRPdmVycmlkZT09PWkuSW5wdXQuVE9VQ0hfT1ZFUlJJREVTX01PVVNFJiYwPT09ZS50b3RhbEFjdGl2ZVBvaW50ZXJzKSYmKGUueD10aGlzLngsZS55PXRoaXMueSxlLnBvc2l0aW9uLnNldFRvKHRoaXMueCx0aGlzLnkpLGUub25Eb3duLmRpc3BhdGNoKHRoaXMsdCksZS5yZXNldFNwZWVkKHRoaXMueCx0aGlzLnkpKSx0aGlzLl9zdGF0ZVJlc2V0PSExLHRoaXMudG90YWxUb3VjaGVzKyssbnVsbCE9PXRoaXMudGFyZ2V0T2JqZWN0JiZ0aGlzLnRhcmdldE9iamVjdC5fdG91Y2hlZEhhbmRsZXIodGhpcyksdGhpc30sdXBkYXRlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nYW1lLmlucHV0O3RoaXMuYWN0aXZlJiYodGhpcy5kaXJ0eSYmKHQuaW50ZXJhY3RpdmVJdGVtcy50b3RhbD4wJiZ0aGlzLnByb2Nlc3NJbnRlcmFjdGl2ZU9iamVjdHMoITEpLHRoaXMuZGlydHk9ITEpLCExPT09dGhpcy5faG9sZFNlbnQmJnRoaXMuZHVyYXRpb24+PXQuaG9sZFJhdGUmJigodC5tdWx0aUlucHV0T3ZlcnJpZGU9PT1pLklucHV0Lk1PVVNFX09WRVJSSURFU19UT1VDSHx8dC5tdWx0aUlucHV0T3ZlcnJpZGU9PT1pLklucHV0Lk1PVVNFX1RPVUNIX0NPTUJJTkV8fHQubXVsdGlJbnB1dE92ZXJyaWRlPT09aS5JbnB1dC5UT1VDSF9PVkVSUklERVNfTU9VU0UmJjA9PT10LnRvdGFsQWN0aXZlUG9pbnRlcnMpJiZ0Lm9uSG9sZC5kaXNwYXRjaCh0aGlzKSx0aGlzLl9ob2xkU2VudD0hMCksdC5yZWNvcmRQb2ludGVySGlzdG9yeSYmdGhpcy5nYW1lLnRpbWUudGltZT49dGhpcy5fbmV4dERyb3AmJih0aGlzLl9uZXh0RHJvcD10aGlzLmdhbWUudGltZS50aW1lK3QucmVjb3JkUmF0ZSx0aGlzLl9oaXN0b3J5LnB1c2goe3g6dGhpcy5wb3NpdGlvbi54LHk6dGhpcy5wb3NpdGlvbi55fSksdGhpcy5faGlzdG9yeS5sZW5ndGg+dC5yZWNvcmRMaW1pdCYmdGhpcy5faGlzdG9yeS5zaGlmdCgpKSl9LG1vdmU6ZnVuY3Rpb24odCxlKXt2YXIgcz10aGlzLmdhbWUuaW5wdXQ7aWYoIXMucG9sbExvY2tlZCl7dm9pZCAwPT09ZSYmKGU9ITEpLHZvaWQgMCE9PXQuYnV0dG9uJiYodGhpcy5idXR0b249dC5idXR0b24pLHRoaXMuaXNNb3VzZSYmdGhpcy51cGRhdGVCdXR0b25zKHQpLHRoaXMuY2xpZW50WD10LmNsaWVudFgsdGhpcy5jbGllbnRZPXQuY2xpZW50WSx0aGlzLnBhZ2VYPXQucGFnZVgsdGhpcy5wYWdlWT10LnBhZ2VZLHRoaXMuc2NyZWVuWD10LnNjcmVlblgsdGhpcy5zY3JlZW5ZPXQuc2NyZWVuWSx0aGlzLmlzTW91c2UmJnMubW91c2UubG9ja2VkJiYhZSYmKHRoaXMucmF3TW92ZW1lbnRYPXQubW92ZW1lbnRYfHx0Lm1vek1vdmVtZW50WHx8dC53ZWJraXRNb3ZlbWVudFh8fDAsdGhpcy5yYXdNb3ZlbWVudFk9dC5tb3ZlbWVudFl8fHQubW96TW92ZW1lbnRZfHx0LndlYmtpdE1vdmVtZW50WXx8MCx0aGlzLm1vdmVtZW50WCs9dGhpcy5yYXdNb3ZlbWVudFgsdGhpcy5tb3ZlbWVudFkrPXRoaXMucmF3TW92ZW1lbnRZKSx0aGlzLng9KHRoaXMucGFnZVgtdGhpcy5nYW1lLnNjYWxlLm9mZnNldC54KSpzLnNjYWxlLngsdGhpcy55PSh0aGlzLnBhZ2VZLXRoaXMuZ2FtZS5zY2FsZS5vZmZzZXQueSkqcy5zY2FsZS55LHRoaXMucG9zaXRpb24uc2V0VG8odGhpcy54LHRoaXMueSksdGhpcy5jaXJjbGUueD10aGlzLngsdGhpcy5jaXJjbGUueT10aGlzLnksKHMubXVsdGlJbnB1dE92ZXJyaWRlPT09aS5JbnB1dC5NT1VTRV9PVkVSUklERVNfVE9VQ0h8fHMubXVsdGlJbnB1dE92ZXJyaWRlPT09aS5JbnB1dC5NT1VTRV9UT1VDSF9DT01CSU5FfHxzLm11bHRpSW5wdXRPdmVycmlkZT09PWkuSW5wdXQuVE9VQ0hfT1ZFUlJJREVTX01PVVNFJiYwPT09cy50b3RhbEFjdGl2ZVBvaW50ZXJzKSYmKHMuYWN0aXZlUG9pbnRlcj10aGlzLHMueD10aGlzLngscy55PXRoaXMueSxzLnBvc2l0aW9uLnNldFRvKHMueCxzLnkpLHMuY2lyY2xlLng9cy54LHMuY2lyY2xlLnk9cy55KSx0aGlzLndpdGhpbkdhbWU9dGhpcy5nYW1lLnNjYWxlLmJvdW5kcy5jb250YWlucyh0aGlzLnBhZ2VYLHRoaXMucGFnZVkpO2Zvcih2YXIgbj1zLm1vdmVDYWxsYmFja3MubGVuZ3RoO24tLTspcy5tb3ZlQ2FsbGJhY2tzW25dLmNhbGxiYWNrLmNhbGwocy5tb3ZlQ2FsbGJhY2tzW25dLmNvbnRleHQsdGhpcyx0aGlzLngsdGhpcy55LGUpO3JldHVybiBudWxsPT09dGhpcy50YXJnZXRPYmplY3R8fHRoaXMuZ2FtZS5wYXVzZWQmJiF0aGlzLnRhcmdldE9iamVjdC5ub1BhdXNlfHwhMCE9PXRoaXMudGFyZ2V0T2JqZWN0LmlzRHJhZ2dlZD9zLmludGVyYWN0aXZlSXRlbXMudG90YWw+MCYmdGhpcy5wcm9jZXNzSW50ZXJhY3RpdmVPYmplY3RzKGUpOiExPT09dGhpcy50YXJnZXRPYmplY3QudXBkYXRlKHRoaXMpJiYodGhpcy50YXJnZXRPYmplY3Q9bnVsbCksdGhpc319LHByb2Nlc3NJbnRlcmFjdGl2ZU9iamVjdHM6ZnVuY3Rpb24odCl7dmFyIGU9MCxpPS0xLHM9bnVsbCxuPXRoaXMuZ2FtZS5pbnB1dC5pbnRlcmFjdGl2ZUl0ZW1zLmZpcnN0O2Zvcih0aGlzLmludGVyYWN0aXZlQ2FuZGlkYXRlcz1bXTtuOyluLmNoZWNrZWQ9ITEsIW4udmFsaWRGb3JJbnB1dChpLGUsITEpfHx0aGlzLmdhbWUucGF1c2VkJiYhbi5zcHJpdGUubm9QYXVzZXx8KG4uY2hlY2tlZD0hMCwodCYmbi5jaGVja1BvaW50ZXJEb3duKHRoaXMsITApfHwhdCYmbi5jaGVja1BvaW50ZXJPdmVyKHRoaXMsITApKSYmKGU9bi5zcHJpdGUucmVuZGVyT3JkZXJJRCxpPW4ucHJpb3JpdHlJRCxzPW4sdGhpcy5pbnRlcmFjdGl2ZUNhbmRpZGF0ZXMucHVzaChuKSkpLG49dGhpcy5nYW1lLmlucHV0LmludGVyYWN0aXZlSXRlbXMubmV4dDtmb3Iobj10aGlzLmdhbWUuaW5wdXQuaW50ZXJhY3RpdmVJdGVtcy5maXJzdDtuOykhbi5jaGVja2VkJiZuLnZhbGlkRm9ySW5wdXQoaSxlLCEwKSYmKHQmJm4uY2hlY2tQb2ludGVyRG93bih0aGlzLCExKXx8IXQmJm4uY2hlY2tQb2ludGVyT3Zlcih0aGlzLCExKSkmJihlPW4uc3ByaXRlLnJlbmRlck9yZGVySUQsaT1uLnByaW9yaXR5SUQscz1uLHRoaXMuaW50ZXJhY3RpdmVDYW5kaWRhdGVzLnB1c2gobikpLG49dGhpcy5nYW1lLmlucHV0LmludGVyYWN0aXZlSXRlbXMubmV4dDtyZXR1cm4gdGhpcy5nYW1lLmlucHV0LmN1c3RvbUNhbmRpZGF0ZUhhbmRsZXImJihzPXRoaXMuZ2FtZS5pbnB1dC5jdXN0b21DYW5kaWRhdGVIYW5kbGVyLmNhbGwodGhpcy5nYW1lLmlucHV0LmN1c3RvbUNhbmRpZGF0ZUhhbmRsZXJDb250ZXh0LHRoaXMsdGhpcy5pbnRlcmFjdGl2ZUNhbmRpZGF0ZXMscykpLHRoaXMuc3dhcFRhcmdldChzLCExKSxudWxsIT09dGhpcy50YXJnZXRPYmplY3R9LHN3YXBUYXJnZXQ6ZnVuY3Rpb24odCxlKXt2b2lkIDA9PT1lJiYoZT0hMSksbnVsbD09PXQ/dGhpcy50YXJnZXRPYmplY3QmJih0aGlzLnRhcmdldE9iamVjdC5fcG9pbnRlck91dEhhbmRsZXIodGhpcyxlKSx0aGlzLnRhcmdldE9iamVjdD1udWxsKTpudWxsPT09dGhpcy50YXJnZXRPYmplY3Q/KHRoaXMudGFyZ2V0T2JqZWN0PXQsdC5fcG9pbnRlck92ZXJIYW5kbGVyKHRoaXMsZSkpOnRoaXMudGFyZ2V0T2JqZWN0PT09dD8hMT09PXQudXBkYXRlKHRoaXMpJiYodGhpcy50YXJnZXRPYmplY3Q9bnVsbCk6KHRoaXMudGFyZ2V0T2JqZWN0Ll9wb2ludGVyT3V0SGFuZGxlcih0aGlzLGUpLHRoaXMudGFyZ2V0T2JqZWN0PXQsdGhpcy50YXJnZXRPYmplY3QuX3BvaW50ZXJPdmVySGFuZGxlcih0aGlzLGUpKX0sbGVhdmU6ZnVuY3Rpb24odCl7dGhpcy53aXRoaW5HYW1lPSExLHRoaXMubW92ZSh0LCExKX0sc3RvcDpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmdhbWUuaW5wdXQ7e2lmKCF0aGlzLl9zdGF0ZVJlc2V0fHwhdGhpcy53aXRoaW5HYW1lKXJldHVybiB0aGlzLnRpbWVVcD10aGlzLmdhbWUudGltZS50aW1lLChlLm11bHRpSW5wdXRPdmVycmlkZT09PWkuSW5wdXQuTU9VU0VfT1ZFUlJJREVTX1RPVUNIfHxlLm11bHRpSW5wdXRPdmVycmlkZT09PWkuSW5wdXQuTU9VU0VfVE9VQ0hfQ09NQklORXx8ZS5tdWx0aUlucHV0T3ZlcnJpZGU9PT1pLklucHV0LlRPVUNIX09WRVJSSURFU19NT1VTRSYmMD09PWUudG90YWxBY3RpdmVQb2ludGVycykmJihlLm9uVXAuZGlzcGF0Y2godGhpcyx0KSx0aGlzLmR1cmF0aW9uPj0wJiZ0aGlzLmR1cmF0aW9uPD1lLnRhcFJhdGUmJih0aGlzLnRpbWVVcC10aGlzLnByZXZpb3VzVGFwVGltZTxlLmRvdWJsZVRhcFJhdGU/ZS5vblRhcC5kaXNwYXRjaCh0aGlzLCEwKTplLm9uVGFwLmRpc3BhdGNoKHRoaXMsITEpLHRoaXMucHJldmlvdXNUYXBUaW1lPXRoaXMudGltZVVwKSksdGhpcy5pc01vdXNlP3RoaXMudXBkYXRlQnV0dG9ucyh0KToodGhpcy5pc0Rvd249ITEsdGhpcy5pc1VwPSEwKSx0aGlzLmlkPjAmJih0aGlzLmFjdGl2ZT0hMSksdGhpcy53aXRoaW5HYW1lPXRoaXMuZ2FtZS5zY2FsZS5ib3VuZHMuY29udGFpbnModC5wYWdlWCx0LnBhZ2VZKSx0aGlzLnBvaW50ZXJJZD1udWxsLHRoaXMuaWRlbnRpZmllcj1udWxsLHRoaXMucG9zaXRpb25VcC5zZXRUbyh0aGlzLngsdGhpcy55KSwhMT09PXRoaXMuaXNNb3VzZSYmZS5jdXJyZW50UG9pbnRlcnMtLSxlLmludGVyYWN0aXZlSXRlbXMuY2FsbEFsbChcIl9yZWxlYXNlZEhhbmRsZXJcIix0aGlzKSx0aGlzLl9jbGlja1RyYW1wb2xpbmVzJiYodGhpcy5fdHJhbXBvbGluZVRhcmdldE9iamVjdD10aGlzLnRhcmdldE9iamVjdCksdGhpcy50YXJnZXRPYmplY3Q9bnVsbCx0aGlzO3QucHJldmVudERlZmF1bHQoKX19LGp1c3RQcmVzc2VkOmZ1bmN0aW9uKHQpe3JldHVybiB0PXR8fHRoaXMuZ2FtZS5pbnB1dC5qdXN0UHJlc3NlZFJhdGUsITA9PT10aGlzLmlzRG93biYmdGhpcy50aW1lRG93bit0PnRoaXMuZ2FtZS50aW1lLnRpbWV9LGp1c3RSZWxlYXNlZDpmdW5jdGlvbih0KXtyZXR1cm4gdD10fHx0aGlzLmdhbWUuaW5wdXQuanVzdFJlbGVhc2VkUmF0ZSx0aGlzLmlzVXAmJnRoaXMudGltZVVwK3Q+dGhpcy5nYW1lLnRpbWUudGltZX0sYWRkQ2xpY2tUcmFtcG9saW5lOmZ1bmN0aW9uKHQsZSxpLHMpe2lmKHRoaXMuaXNEb3duKXtmb3IodmFyIG49dGhpcy5fY2xpY2tUcmFtcG9saW5lcz10aGlzLl9jbGlja1RyYW1wb2xpbmVzfHxbXSxvPTA7bzxuLmxlbmd0aDtvKyspaWYobltvXS5uYW1lPT09dCl7bi5zcGxpY2UobywxKTticmVha31uLnB1c2goe25hbWU6dCx0YXJnZXRPYmplY3Q6dGhpcy50YXJnZXRPYmplY3QsY2FsbGJhY2s6ZSxjYWxsYmFja0NvbnRleHQ6aSxjYWxsYmFja0FyZ3M6c30pfX0scHJvY2Vzc0NsaWNrVHJhbXBvbGluZXM6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9jbGlja1RyYW1wb2xpbmVzO2lmKHQpe2Zvcih2YXIgZT0wO2U8dC5sZW5ndGg7ZSsrKXt2YXIgaT10W2VdO2kudGFyZ2V0T2JqZWN0PT09dGhpcy5fdHJhbXBvbGluZVRhcmdldE9iamVjdCYmaS5jYWxsYmFjay5hcHBseShpLmNhbGxiYWNrQ29udGV4dCxpLmNhbGxiYWNrQXJncyl9dGhpcy5fY2xpY2tUcmFtcG9saW5lcz1udWxsLHRoaXMuX3RyYW1wb2xpbmVUYXJnZXRPYmplY3Q9bnVsbH19LHJlc2V0OmZ1bmN0aW9uKCl7ITE9PT10aGlzLmlzTW91c2UmJih0aGlzLmFjdGl2ZT0hMSksdGhpcy5wb2ludGVySWQ9bnVsbCx0aGlzLmlkZW50aWZpZXI9bnVsbCx0aGlzLmRpcnR5PSExLHRoaXMudG90YWxUb3VjaGVzPTAsdGhpcy5faG9sZFNlbnQ9ITEsdGhpcy5faGlzdG9yeS5sZW5ndGg9MCx0aGlzLl9zdGF0ZVJlc2V0PSEwLHRoaXMucmVzZXRCdXR0b25zKCksdGhpcy50YXJnZXRPYmplY3QmJnRoaXMudGFyZ2V0T2JqZWN0Ll9yZWxlYXNlZEhhbmRsZXIodGhpcyksdGhpcy50YXJnZXRPYmplY3Q9bnVsbH0scmVzZXRNb3ZlbWVudDpmdW5jdGlvbigpe3RoaXMubW92ZW1lbnRYPTAsdGhpcy5tb3ZlbWVudFk9MH19LGkuUG9pbnRlci5wcm90b3R5cGUuY29uc3RydWN0b3I9aS5Qb2ludGVyLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLlBvaW50ZXIucHJvdG90eXBlLFwiZHVyYXRpb25cIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXNVcD8tMTp0aGlzLmdhbWUudGltZS50aW1lLXRoaXMudGltZURvd259fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuUG9pbnRlci5wcm90b3R5cGUsXCJ3b3JsZFhcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2FtZS53b3JsZC5jYW1lcmEueCt0aGlzLnh9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuUG9pbnRlci5wcm90b3R5cGUsXCJ3b3JsZFlcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2FtZS53b3JsZC5jYW1lcmEueSt0aGlzLnl9fSksaS5Qb2ludGVyTW9kZT17Q1VSU09SOjEsQ09OVEFDVDoyfSxpLlRvdWNoPWZ1bmN0aW9uKHQpe3RoaXMuZ2FtZT10LHRoaXMuZW5hYmxlZD0hMCx0aGlzLmNhbGxiYWNrQ29udGV4dD10aGlzLmdhbWUsdGhpcy50b3VjaFN0YXJ0Q2FsbGJhY2s9bnVsbCx0aGlzLnRvdWNoTW92ZUNhbGxiYWNrPW51bGwsdGhpcy50b3VjaEVuZENhbGxiYWNrPW51bGwsdGhpcy50b3VjaEVudGVyQ2FsbGJhY2s9bnVsbCx0aGlzLnRvdWNoTGVhdmVDYWxsYmFjaz1udWxsLHRoaXMudG91Y2hDYW5jZWxDYWxsYmFjaz1udWxsLHRoaXMucHJldmVudERlZmF1bHQ9ITAsdGhpcy5ldmVudD1udWxsLHRoaXMuX29uVG91Y2hTdGFydD1udWxsLHRoaXMuX29uVG91Y2hNb3ZlPW51bGwsdGhpcy5fb25Ub3VjaEVuZD1udWxsLHRoaXMuX29uVG91Y2hFbnRlcj1udWxsLHRoaXMuX29uVG91Y2hMZWF2ZT1udWxsLHRoaXMuX29uVG91Y2hDYW5jZWw9bnVsbCx0aGlzLl9vblRvdWNoTW92ZT1udWxsfSxpLlRvdWNoLnByb3RvdHlwZT17c3RhcnQ6ZnVuY3Rpb24oKXtpZihudWxsPT09dGhpcy5fb25Ub3VjaFN0YXJ0KXt2YXIgdD10aGlzO3RoaXMuZ2FtZS5kZXZpY2UudG91Y2gmJih0aGlzLl9vblRvdWNoU3RhcnQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHQub25Ub3VjaFN0YXJ0KGUpfSx0aGlzLl9vblRvdWNoTW92ZT1mdW5jdGlvbihlKXtyZXR1cm4gdC5vblRvdWNoTW92ZShlKX0sdGhpcy5fb25Ub3VjaEVuZD1mdW5jdGlvbihlKXtyZXR1cm4gdC5vblRvdWNoRW5kKGUpfSx0aGlzLl9vblRvdWNoRW50ZXI9ZnVuY3Rpb24oZSl7cmV0dXJuIHQub25Ub3VjaEVudGVyKGUpfSx0aGlzLl9vblRvdWNoTGVhdmU9ZnVuY3Rpb24oZSl7cmV0dXJuIHQub25Ub3VjaExlYXZlKGUpfSx0aGlzLl9vblRvdWNoQ2FuY2VsPWZ1bmN0aW9uKGUpe3JldHVybiB0Lm9uVG91Y2hDYW5jZWwoZSl9LHRoaXMuZ2FtZS5jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoc3RhcnRcIix0aGlzLl9vblRvdWNoU3RhcnQsITEpLHRoaXMuZ2FtZS5jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNobW92ZVwiLHRoaXMuX29uVG91Y2hNb3ZlLCExKSx0aGlzLmdhbWUuY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaGVuZFwiLHRoaXMuX29uVG91Y2hFbmQsITEpLHRoaXMuZ2FtZS5jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoY2FuY2VsXCIsdGhpcy5fb25Ub3VjaENhbmNlbCwhMSksdGhpcy5nYW1lLmRldmljZS5jb2Nvb25KU3x8KHRoaXMuZ2FtZS5jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoZW50ZXJcIix0aGlzLl9vblRvdWNoRW50ZXIsITEpLHRoaXMuZ2FtZS5jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNobGVhdmVcIix0aGlzLl9vblRvdWNoTGVhdmUsITEpKSksdGhpcy5hZGRUb3VjaExvY2tDYWxsYmFjaz10aGlzLmdhbWUuaW5wdXQuYWRkVG91Y2hMb2NrQ2FsbGJhY2suYmluZCh0aGlzLmdhbWUuaW5wdXQpLHRoaXMucmVtb3ZlVG91Y2hMb2NrQ2FsbGJhY2s9dGhpcy5nYW1lLmlucHV0LnJlbW92ZVRvdWNoTG9ja0NhbGxiYWNrLmJpbmQodGhpcy5nYW1lLmlucHV0KX19LGNvbnN1bWVEb2N1bWVudFRvdWNoZXM6ZnVuY3Rpb24oKXt0aGlzLl9kb2N1bWVudFRvdWNoTW92ZT1mdW5jdGlvbih0KXt0LnByZXZlbnREZWZhdWx0KCl9LGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaG1vdmVcIix0aGlzLl9kb2N1bWVudFRvdWNoTW92ZSwhMSl9LG9uVG91Y2hTdGFydDpmdW5jdGlvbih0KXtpZih0aGlzLmdhbWUuaW5wdXQuZXhlY3V0ZVRvdWNoTG9ja0NhbGxiYWNrcyghMSx0KSx0aGlzLmV2ZW50PXQsdGhpcy5nYW1lLmlucHV0LmVuYWJsZWQmJnRoaXMuZW5hYmxlZCl7dGhpcy50b3VjaFN0YXJ0Q2FsbGJhY2smJnRoaXMudG91Y2hTdGFydENhbGxiYWNrLmNhbGwodGhpcy5jYWxsYmFja0NvbnRleHQsdCksdGhpcy5wcmV2ZW50RGVmYXVsdCYmdC5wcmV2ZW50RGVmYXVsdCgpO2Zvcih2YXIgZT0wO2U8dC5jaGFuZ2VkVG91Y2hlcy5sZW5ndGg7ZSsrKXRoaXMuZ2FtZS5pbnB1dC5zdGFydFBvaW50ZXIodC5jaGFuZ2VkVG91Y2hlc1tlXSl9fSxvblRvdWNoQ2FuY2VsOmZ1bmN0aW9uKHQpe2lmKHRoaXMuZXZlbnQ9dCx0aGlzLnRvdWNoQ2FuY2VsQ2FsbGJhY2smJnRoaXMudG91Y2hDYW5jZWxDYWxsYmFjay5jYWxsKHRoaXMuY2FsbGJhY2tDb250ZXh0LHQpLHRoaXMuZ2FtZS5pbnB1dC5lbmFibGVkJiZ0aGlzLmVuYWJsZWQpe3RoaXMucHJldmVudERlZmF1bHQmJnQucHJldmVudERlZmF1bHQoKTtmb3IodmFyIGU9MDtlPHQuY2hhbmdlZFRvdWNoZXMubGVuZ3RoO2UrKyl0aGlzLmdhbWUuaW5wdXQuc3RvcFBvaW50ZXIodC5jaGFuZ2VkVG91Y2hlc1tlXSl9fSxvblRvdWNoRW50ZXI6ZnVuY3Rpb24odCl7dGhpcy5ldmVudD10LHRoaXMudG91Y2hFbnRlckNhbGxiYWNrJiZ0aGlzLnRvdWNoRW50ZXJDYWxsYmFjay5jYWxsKHRoaXMuY2FsbGJhY2tDb250ZXh0LHQpLHRoaXMuZ2FtZS5pbnB1dC5lbmFibGVkJiZ0aGlzLmVuYWJsZWQmJnRoaXMucHJldmVudERlZmF1bHQmJnQucHJldmVudERlZmF1bHQoKX0sb25Ub3VjaExlYXZlOmZ1bmN0aW9uKHQpe3RoaXMuZXZlbnQ9dCx0aGlzLnRvdWNoTGVhdmVDYWxsYmFjayYmdGhpcy50b3VjaExlYXZlQ2FsbGJhY2suY2FsbCh0aGlzLmNhbGxiYWNrQ29udGV4dCx0KSx0aGlzLnByZXZlbnREZWZhdWx0JiZ0LnByZXZlbnREZWZhdWx0KCl9LG9uVG91Y2hNb3ZlOmZ1bmN0aW9uKHQpe3RoaXMuZXZlbnQ9dCx0aGlzLnRvdWNoTW92ZUNhbGxiYWNrJiZ0aGlzLnRvdWNoTW92ZUNhbGxiYWNrLmNhbGwodGhpcy5jYWxsYmFja0NvbnRleHQsdCksdGhpcy5wcmV2ZW50RGVmYXVsdCYmdC5wcmV2ZW50RGVmYXVsdCgpO2Zvcih2YXIgZT0wO2U8dC5jaGFuZ2VkVG91Y2hlcy5sZW5ndGg7ZSsrKXRoaXMuZ2FtZS5pbnB1dC51cGRhdGVQb2ludGVyKHQuY2hhbmdlZFRvdWNoZXNbZV0pfSxvblRvdWNoRW5kOmZ1bmN0aW9uKHQpe3RoaXMuZ2FtZS5pbnB1dC5leGVjdXRlVG91Y2hMb2NrQ2FsbGJhY2tzKCEwLHQpLHRoaXMuZXZlbnQ9dCx0aGlzLnRvdWNoRW5kQ2FsbGJhY2smJnRoaXMudG91Y2hFbmRDYWxsYmFjay5jYWxsKHRoaXMuY2FsbGJhY2tDb250ZXh0LHQpLHRoaXMucHJldmVudERlZmF1bHQmJnQucHJldmVudERlZmF1bHQoKTtmb3IodmFyIGU9MDtlPHQuY2hhbmdlZFRvdWNoZXMubGVuZ3RoO2UrKyl0aGlzLmdhbWUuaW5wdXQuc3RvcFBvaW50ZXIodC5jaGFuZ2VkVG91Y2hlc1tlXSl9LHN0b3A6ZnVuY3Rpb24oKXt0aGlzLmdhbWUuZGV2aWNlLnRvdWNoJiYodGhpcy5nYW1lLmNhbnZhcy5yZW1vdmVFdmVudExpc3RlbmVyKFwidG91Y2hzdGFydFwiLHRoaXMuX29uVG91Y2hTdGFydCksdGhpcy5nYW1lLmNhbnZhcy5yZW1vdmVFdmVudExpc3RlbmVyKFwidG91Y2htb3ZlXCIsdGhpcy5fb25Ub3VjaE1vdmUpLHRoaXMuZ2FtZS5jYW52YXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRvdWNoZW5kXCIsdGhpcy5fb25Ub3VjaEVuZCksdGhpcy5nYW1lLmNhbnZhcy5yZW1vdmVFdmVudExpc3RlbmVyKFwidG91Y2hlbnRlclwiLHRoaXMuX29uVG91Y2hFbnRlciksdGhpcy5nYW1lLmNhbnZhcy5yZW1vdmVFdmVudExpc3RlbmVyKFwidG91Y2hsZWF2ZVwiLHRoaXMuX29uVG91Y2hMZWF2ZSksdGhpcy5nYW1lLmNhbnZhcy5yZW1vdmVFdmVudExpc3RlbmVyKFwidG91Y2hjYW5jZWxcIix0aGlzLl9vblRvdWNoQ2FuY2VsKSl9fSxpLlRvdWNoLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1pLlRvdWNoLGkuSW5wdXRIYW5kbGVyPWZ1bmN0aW9uKHQpe3RoaXMuc3ByaXRlPXQsdGhpcy5nYW1lPXQuZ2FtZSx0aGlzLmVuYWJsZWQ9ITEsdGhpcy5jaGVja2VkPSExLHRoaXMucHJpb3JpdHlJRD0wLHRoaXMudXNlSGFuZEN1cnNvcj0hMSx0aGlzLl9zZXRIYW5kQ3Vyc29yPSExLHRoaXMuaXNEcmFnZ2VkPSExLHRoaXMuYWxsb3dIb3Jpem9udGFsRHJhZz0hMCx0aGlzLmFsbG93VmVydGljYWxEcmFnPSEwLHRoaXMuYnJpbmdUb1RvcD0hMSx0aGlzLnNuYXBPZmZzZXQ9bnVsbCx0aGlzLnNuYXBPbkRyYWc9ITEsdGhpcy5zbmFwT25SZWxlYXNlPSExLHRoaXMuc25hcFg9MCx0aGlzLnNuYXBZPTAsdGhpcy5zbmFwT2Zmc2V0WD0wLHRoaXMuc25hcE9mZnNldFk9MCx0aGlzLnBpeGVsUGVyZmVjdE92ZXI9ITEsdGhpcy5waXhlbFBlcmZlY3RDbGljaz0hMSx0aGlzLnBpeGVsUGVyZmVjdEFscGhhPTI1NSx0aGlzLmRyYWdnYWJsZT0hMSx0aGlzLmJvdW5kc1JlY3Q9bnVsbCx0aGlzLmJvdW5kc1Nwcml0ZT1udWxsLHRoaXMuc2NhbGVMYXllcj0hMSx0aGlzLmRyYWdPZmZzZXQ9bmV3IGkuUG9pbnQsdGhpcy5kcmFnRnJvbUNlbnRlcj0hMSx0aGlzLmRyYWdTdG9wQmxvY2tzSW5wdXRVcD0hMSx0aGlzLmRyYWdTdGFydFBvaW50PW5ldyBpLlBvaW50LHRoaXMuZHJhZ0Rpc3RhbmNlVGhyZXNob2xkPTAsdGhpcy5kcmFnVGltZVRocmVzaG9sZD0wLHRoaXMuZG93blBvaW50PW5ldyBpLlBvaW50LHRoaXMuc25hcFBvaW50PW5ldyBpLlBvaW50LHRoaXMuX2RyYWdQb2ludD1uZXcgaS5Qb2ludCx0aGlzLl9kcmFnUGhhc2U9ITEsdGhpcy5fcGVuZGluZ0RyYWc9ITEsdGhpcy5fZHJhZ1RpbWVQYXNzPSExLHRoaXMuX2RyYWdEaXN0YW5jZVBhc3M9ITEsdGhpcy5fd2FzRW5hYmxlZD0hMSx0aGlzLl90ZW1wUG9pbnQ9bmV3IGkuUG9pbnQsdGhpcy5fcG9pbnRlckRhdGE9W10sdGhpcy5fcG9pbnRlckRhdGEucHVzaCh7aWQ6MCx4OjAseTowLGNhbVg6MCxjYW1ZOjAsaXNEb3duOiExLGlzVXA6ITEsaXNPdmVyOiExLGlzT3V0OiExLHRpbWVPdmVyOjAsdGltZU91dDowLHRpbWVEb3duOjAsdGltZVVwOjAsZG93bkR1cmF0aW9uOjAsaXNEcmFnZ2VkOiExfSl9LGkuSW5wdXRIYW5kbGVyLnByb3RvdHlwZT17c3RhcnQ6ZnVuY3Rpb24odCxlKXtpZih0PXR8fDAsdm9pZCAwPT09ZSYmKGU9ITEpLCExPT09dGhpcy5lbmFibGVkKXt0aGlzLmdhbWUuaW5wdXQuaW50ZXJhY3RpdmVJdGVtcy5hZGQodGhpcyksdGhpcy51c2VIYW5kQ3Vyc29yPWUsdGhpcy5wcmlvcml0eUlEPXQ7Zm9yKHZhciBzPTA7czwxMDtzKyspdGhpcy5fcG9pbnRlckRhdGFbc109e2lkOnMseDowLHk6MCxpc0Rvd246ITEsaXNVcDohMSxpc092ZXI6ITEsaXNPdXQ6ITEsdGltZU92ZXI6MCx0aW1lT3V0OjAsdGltZURvd246MCx0aW1lVXA6MCxkb3duRHVyYXRpb246MCxpc0RyYWdnZWQ6ITF9O3RoaXMuc25hcE9mZnNldD1uZXcgaS5Qb2ludCx0aGlzLmVuYWJsZWQ9ITAsdGhpcy5fd2FzRW5hYmxlZD0hMH1yZXR1cm4gdGhpcy5zcHJpdGUuZXZlbnRzLm9uQWRkZWRUb0dyb3VwLmFkZCh0aGlzLmFkZGVkVG9Hcm91cCx0aGlzKSx0aGlzLnNwcml0ZS5ldmVudHMub25SZW1vdmVkRnJvbUdyb3VwLmFkZCh0aGlzLnJlbW92ZWRGcm9tR3JvdXAsdGhpcyksdGhpcy5zcHJpdGV9LGFkZGVkVG9Hcm91cDpmdW5jdGlvbigpe3RoaXMuX2RyYWdQaGFzZXx8dGhpcy5fd2FzRW5hYmxlZCYmIXRoaXMuZW5hYmxlZCYmdGhpcy5zdGFydCgpfSxyZW1vdmVkRnJvbUdyb3VwOmZ1bmN0aW9uKCl7dGhpcy5fZHJhZ1BoYXNlfHwodGhpcy5lbmFibGVkPyh0aGlzLl93YXNFbmFibGVkPSEwLHRoaXMuc3RvcCgpKTp0aGlzLl93YXNFbmFibGVkPSExKX0scmVzZXQ6ZnVuY3Rpb24oKXt0aGlzLmVuYWJsZWQ9ITE7Zm9yKHZhciB0PTA7dDwxMDt0KyspdGhpcy5fcG9pbnRlckRhdGFbdF09e2lkOnQseDowLHk6MCxpc0Rvd246ITEsaXNVcDohMSxpc092ZXI6ITEsaXNPdXQ6ITEsdGltZU92ZXI6MCx0aW1lT3V0OjAsdGltZURvd246MCx0aW1lVXA6MCxkb3duRHVyYXRpb246MCxpc0RyYWdnZWQ6ITF9fSxzdG9wOmZ1bmN0aW9uKCl7ITEhPT10aGlzLmVuYWJsZWQmJih0aGlzLmVuYWJsZWQ9ITEsdGhpcy5nYW1lLmlucHV0LmludGVyYWN0aXZlSXRlbXMucmVtb3ZlKHRoaXMpKX0sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuc3ByaXRlJiYodGhpcy5fc2V0SGFuZEN1cnNvciYmKHRoaXMuZ2FtZS5jYW52YXMuc3R5bGUuY3Vyc29yPVwiXCIsdGhpcy5fc2V0SGFuZEN1cnNvcj0hMSksdGhpcy5lbmFibGVkPSExLHRoaXMuZ2FtZS5pbnB1dC5pbnRlcmFjdGl2ZUl0ZW1zLnJlbW92ZSh0aGlzKSx0aGlzLl9wb2ludGVyRGF0YS5sZW5ndGg9MCx0aGlzLmJvdW5kc1JlY3Q9bnVsbCx0aGlzLmJvdW5kc1Nwcml0ZT1udWxsLHRoaXMuc3ByaXRlPW51bGwpfSx2YWxpZEZvcklucHV0OmZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gdm9pZCAwPT09aSYmKGk9ITApLCEoIXRoaXMuZW5hYmxlZHx8MD09PXRoaXMuc3ByaXRlLnNjYWxlLnh8fDA9PT10aGlzLnNwcml0ZS5zY2FsZS55fHx0aGlzLnByaW9yaXR5SUQ8dGhpcy5nYW1lLmlucHV0Lm1pblByaW9yaXR5SUR8fHRoaXMuc3ByaXRlLnBhcmVudCYmdGhpcy5zcHJpdGUucGFyZW50Lmlnbm9yZUNoaWxkSW5wdXQpJiYoISghaSYmKHRoaXMucGl4ZWxQZXJmZWN0Q2xpY2t8fHRoaXMucGl4ZWxQZXJmZWN0T3ZlcikpJiYodGhpcy5wcmlvcml0eUlEPnR8fHRoaXMucHJpb3JpdHlJRD09PXQmJnRoaXMuc3ByaXRlLnJlbmRlck9yZGVySUQ+ZSkpfSxpc1BpeGVsUGVyZmVjdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnBpeGVsUGVyZmVjdENsaWNrfHx0aGlzLnBpeGVsUGVyZmVjdE92ZXJ9LHBvaW50ZXJYOmZ1bmN0aW9uKHQpe3JldHVybiB0PXR8fDAsdGhpcy5fcG9pbnRlckRhdGFbdF0ueH0scG9pbnRlclk6ZnVuY3Rpb24odCl7cmV0dXJuIHQ9dHx8MCx0aGlzLl9wb2ludGVyRGF0YVt0XS55fSxwb2ludGVyRG93bjpmdW5jdGlvbih0KXtyZXR1cm4gdD10fHwwLHRoaXMuX3BvaW50ZXJEYXRhW3RdLmlzRG93bn0scG9pbnRlclVwOmZ1bmN0aW9uKHQpe3JldHVybiB0PXR8fDAsdGhpcy5fcG9pbnRlckRhdGFbdF0uaXNVcH0scG9pbnRlclRpbWVEb3duOmZ1bmN0aW9uKHQpe3JldHVybiB0PXR8fDAsdGhpcy5fcG9pbnRlckRhdGFbdF0udGltZURvd259LHBvaW50ZXJUaW1lVXA6ZnVuY3Rpb24odCl7cmV0dXJuIHQ9dHx8MCx0aGlzLl9wb2ludGVyRGF0YVt0XS50aW1lVXB9LHBvaW50ZXJPdmVyOmZ1bmN0aW9uKHQpe2lmKCF0aGlzLmVuYWJsZWQpcmV0dXJuITE7aWYodm9pZCAwPT09dCl7Zm9yKHZhciBlPTA7ZTwxMDtlKyspaWYodGhpcy5fcG9pbnRlckRhdGFbZV0uaXNPdmVyKXJldHVybiEwO3JldHVybiExfXJldHVybiB0aGlzLl9wb2ludGVyRGF0YVt0XS5pc092ZXJ9LHBvaW50ZXJPdXQ6ZnVuY3Rpb24odCl7aWYoIXRoaXMuZW5hYmxlZClyZXR1cm4hMTtpZih2b2lkIDAhPT10KXJldHVybiB0aGlzLl9wb2ludGVyRGF0YVt0XS5pc091dDtmb3IodmFyIGU9MDtlPDEwO2UrKylpZih0aGlzLl9wb2ludGVyRGF0YVtlXS5pc091dClyZXR1cm4hMH0scG9pbnRlclRpbWVPdmVyOmZ1bmN0aW9uKHQpe3JldHVybiB0PXR8fDAsdGhpcy5fcG9pbnRlckRhdGFbdF0udGltZU92ZXJ9LHBvaW50ZXJUaW1lT3V0OmZ1bmN0aW9uKHQpe3JldHVybiB0PXR8fDAsdGhpcy5fcG9pbnRlckRhdGFbdF0udGltZU91dH0scG9pbnRlckRyYWdnZWQ6ZnVuY3Rpb24odCl7cmV0dXJuIHQ9dHx8MCx0aGlzLl9wb2ludGVyRGF0YVt0XS5pc0RyYWdnZWR9LGNoZWNrUG9pbnRlckRvd246ZnVuY3Rpb24odCxlKXtyZXR1cm4hISh0LmlzRG93biYmdGhpcy5lbmFibGVkJiZ0aGlzLnNwcml0ZSYmdGhpcy5zcHJpdGUucGFyZW50JiZ0aGlzLnNwcml0ZS52aXNpYmxlJiZ0aGlzLnNwcml0ZS5wYXJlbnQudmlzaWJsZSYmMCE9PXRoaXMuc3ByaXRlLndvcmxkU2NhbGUueCYmMCE9PXRoaXMuc3ByaXRlLndvcmxkU2NhbGUueSkmJighIXRoaXMuZ2FtZS5pbnB1dC5oaXRUZXN0KHRoaXMuc3ByaXRlLHQsdGhpcy5fdGVtcFBvaW50KSYmKHZvaWQgMD09PWUmJihlPSExKSwhKCFlJiZ0aGlzLnBpeGVsUGVyZmVjdENsaWNrKXx8dGhpcy5jaGVja1BpeGVsKHRoaXMuX3RlbXBQb2ludC54LHRoaXMuX3RlbXBQb2ludC55KSkpfSxjaGVja1BvaW50ZXJPdmVyOmZ1bmN0aW9uKHQsZSl7cmV0dXJuISEodGhpcy5lbmFibGVkJiZ0aGlzLnNwcml0ZSYmdGhpcy5zcHJpdGUucGFyZW50JiZ0aGlzLnNwcml0ZS52aXNpYmxlJiZ0aGlzLnNwcml0ZS5wYXJlbnQudmlzaWJsZSYmMCE9PXRoaXMuc3ByaXRlLndvcmxkU2NhbGUueCYmMCE9PXRoaXMuc3ByaXRlLndvcmxkU2NhbGUueSkmJighIXRoaXMuZ2FtZS5pbnB1dC5oaXRUZXN0KHRoaXMuc3ByaXRlLHQsdGhpcy5fdGVtcFBvaW50KSYmKHZvaWQgMD09PWUmJihlPSExKSwhKCFlJiZ0aGlzLnBpeGVsUGVyZmVjdE92ZXIpfHx0aGlzLmNoZWNrUGl4ZWwodGhpcy5fdGVtcFBvaW50LngsdGhpcy5fdGVtcFBvaW50LnkpKSl9LGNoZWNrUGl4ZWw6ZnVuY3Rpb24odCxlLGkpe2lmKHRoaXMuc3ByaXRlLnRleHR1cmUuYmFzZVRleHR1cmUuc291cmNlKXtpZihudWxsPT09dCYmbnVsbD09PWUpe3RoaXMuZ2FtZS5pbnB1dC5nZXRMb2NhbFBvc2l0aW9uKHRoaXMuc3ByaXRlLGksdGhpcy5fdGVtcFBvaW50KTt2YXIgdD10aGlzLl90ZW1wUG9pbnQueCxlPXRoaXMuX3RlbXBQb2ludC55fWlmKDAhPT10aGlzLnNwcml0ZS5hbmNob3IueCYmKHQtPS10aGlzLnNwcml0ZS50ZXh0dXJlLmZyYW1lLndpZHRoKnRoaXMuc3ByaXRlLmFuY2hvci54KSwwIT09dGhpcy5zcHJpdGUuYW5jaG9yLnkmJihlLT0tdGhpcy5zcHJpdGUudGV4dHVyZS5mcmFtZS5oZWlnaHQqdGhpcy5zcHJpdGUuYW5jaG9yLnkpLHQrPXRoaXMuc3ByaXRlLnRleHR1cmUuZnJhbWUueCxlKz10aGlzLnNwcml0ZS50ZXh0dXJlLmZyYW1lLnksdGhpcy5zcHJpdGUudGV4dHVyZS50cmltJiYodC09dGhpcy5zcHJpdGUudGV4dHVyZS50cmltLngsZS09dGhpcy5zcHJpdGUudGV4dHVyZS50cmltLnksdDx0aGlzLnNwcml0ZS50ZXh0dXJlLmNyb3AueHx8dD50aGlzLnNwcml0ZS50ZXh0dXJlLmNyb3AucmlnaHR8fGU8dGhpcy5zcHJpdGUudGV4dHVyZS5jcm9wLnl8fGU+dGhpcy5zcHJpdGUudGV4dHVyZS5jcm9wLmJvdHRvbSkpcmV0dXJuIHRoaXMuX2R4PXQsdGhpcy5fZHk9ZSwhMTtpZih0aGlzLl9keD10LHRoaXMuX2R5PWUsdGhpcy5nYW1lLmlucHV0LmhpdENvbnRleHQuY2xlYXJSZWN0KDAsMCwxLDEpLHRoaXMuZ2FtZS5pbnB1dC5oaXRDb250ZXh0LmRyYXdJbWFnZSh0aGlzLnNwcml0ZS50ZXh0dXJlLmJhc2VUZXh0dXJlLnNvdXJjZSx0LGUsMSwxLDAsMCwxLDEpLHRoaXMuZ2FtZS5pbnB1dC5oaXRDb250ZXh0LmdldEltYWdlRGF0YSgwLDAsMSwxKS5kYXRhWzNdPj10aGlzLnBpeGVsUGVyZmVjdEFscGhhKXJldHVybiEwfXJldHVybiExfSx1cGRhdGU6ZnVuY3Rpb24odCl7aWYobnVsbCE9PXRoaXMuc3ByaXRlJiZ2b2lkIDAhPT10aGlzLnNwcml0ZS5wYXJlbnQpcmV0dXJuIHRoaXMuZW5hYmxlZCYmdGhpcy5zcHJpdGUudmlzaWJsZSYmdGhpcy5zcHJpdGUucGFyZW50LnZpc2libGU/dGhpcy5fcGVuZGluZ0RyYWc/KHRoaXMuX2RyYWdEaXN0YW5jZVBhc3N8fCh0aGlzLl9kcmFnRGlzdGFuY2VQYXNzPWkuTWF0aC5kaXN0YW5jZSh0LngsdC55LHRoaXMuZG93blBvaW50LngsdGhpcy5kb3duUG9pbnQueSk+PXRoaXMuZHJhZ0Rpc3RhbmNlVGhyZXNob2xkKSx0aGlzLl9kcmFnRGlzdGFuY2VQYXNzJiZ0aGlzLl9kcmFnVGltZVBhc3MmJnRoaXMuc3RhcnREcmFnKHQpLCEwKTp0aGlzLmRyYWdnYWJsZSYmdGhpcy5fZHJhZ2dlZFBvaW50ZXJJRD09PXQuaWQ/dGhpcy51cGRhdGVEcmFnKHQsITEpOnRoaXMuX3BvaW50ZXJEYXRhW3QuaWRdLmlzT3Zlcj90aGlzLmNoZWNrUG9pbnRlck92ZXIodCk/KHRoaXMuX3BvaW50ZXJEYXRhW3QuaWRdLng9dC54LXRoaXMuc3ByaXRlLngsdGhpcy5fcG9pbnRlckRhdGFbdC5pZF0ueT10LnktdGhpcy5zcHJpdGUueSwhMCk6KHRoaXMuX3BvaW50ZXJPdXRIYW5kbGVyKHQpLCExKTp2b2lkIDA6KHRoaXMuX3BvaW50ZXJPdXRIYW5kbGVyKHQpLCExKX0sX3BvaW50ZXJPdmVySGFuZGxlcjpmdW5jdGlvbih0LGUpe2lmKG51bGwhPT10aGlzLnNwcml0ZSl7dmFyIGk9dGhpcy5fcG9pbnRlckRhdGFbdC5pZF07aWYoITE9PT1pLmlzT3Zlcnx8dC5kaXJ0eSl7dmFyIHM9ITE9PT1pLmlzT3ZlcjtpLmlzT3Zlcj0hMCxpLmlzT3V0PSExLGkudGltZU92ZXI9dGhpcy5nYW1lLnRpbWUudGltZSxpLng9dC54LXRoaXMuc3ByaXRlLngsaS55PXQueS10aGlzLnNwcml0ZS55LHRoaXMudXNlSGFuZEN1cnNvciYmITE9PT1pLmlzRHJhZ2dlZCYmKHRoaXMuZ2FtZS5jYW52YXMuc3R5bGUuY3Vyc29yPVwicG9pbnRlclwiLHRoaXMuX3NldEhhbmRDdXJzb3I9ITApLCFlJiZzJiZ0aGlzLnNwcml0ZSYmdGhpcy5zcHJpdGUuZXZlbnRzJiZ0aGlzLnNwcml0ZS5ldmVudHMub25JbnB1dE92ZXIkZGlzcGF0Y2godGhpcy5zcHJpdGUsdCksdGhpcy5zcHJpdGUucGFyZW50JiZ0aGlzLnNwcml0ZS5wYXJlbnQub25DaGlsZElucHV0T3ZlciYmdGhpcy5zcHJpdGUucGFyZW50Lm9uQ2hpbGRJbnB1dE92ZXIuZGlzcGF0Y2godGhpcy5zcHJpdGUsdCl9fX0sX3BvaW50ZXJPdXRIYW5kbGVyOmZ1bmN0aW9uKHQsZSl7aWYobnVsbCE9PXRoaXMuc3ByaXRlKXt2YXIgaT10aGlzLl9wb2ludGVyRGF0YVt0LmlkXTtpLmlzT3Zlcj0hMSxpLmlzT3V0PSEwLGkudGltZU91dD10aGlzLmdhbWUudGltZS50aW1lLHRoaXMudXNlSGFuZEN1cnNvciYmITE9PT1pLmlzRHJhZ2dlZCYmKHRoaXMuZ2FtZS5jYW52YXMuc3R5bGUuY3Vyc29yPVwiXCIsdGhpcy5fc2V0SGFuZEN1cnNvcj0hMSksIWUmJnRoaXMuc3ByaXRlJiZ0aGlzLnNwcml0ZS5ldmVudHMmJih0aGlzLnNwcml0ZS5ldmVudHMub25JbnB1dE91dCRkaXNwYXRjaCh0aGlzLnNwcml0ZSx0KSx0aGlzLnNwcml0ZSYmdGhpcy5zcHJpdGUucGFyZW50JiZ0aGlzLnNwcml0ZS5wYXJlbnQub25DaGlsZElucHV0T3V0JiZ0aGlzLnNwcml0ZS5wYXJlbnQub25DaGlsZElucHV0T3V0LmRpc3BhdGNoKHRoaXMuc3ByaXRlLHQpKX19LF90b3VjaGVkSGFuZGxlcjpmdW5jdGlvbih0KXtpZihudWxsIT09dGhpcy5zcHJpdGUpe3ZhciBlPXRoaXMuX3BvaW50ZXJEYXRhW3QuaWRdO2lmKCFlLmlzRG93biYmZS5pc092ZXIpe2lmKHRoaXMucGl4ZWxQZXJmZWN0Q2xpY2smJiF0aGlzLmNoZWNrUGl4ZWwobnVsbCxudWxsLHQpKXJldHVybjtpZihlLmlzRG93bj0hMCxlLmlzVXA9ITEsZS50aW1lRG93bj10aGlzLmdhbWUudGltZS50aW1lLHRoaXMuZG93blBvaW50LnNldCh0LngsdC55KSx0LmRpcnR5PSEwLHRoaXMuc3ByaXRlJiZ0aGlzLnNwcml0ZS5ldmVudHMmJih0aGlzLnNwcml0ZS5ldmVudHMub25JbnB1dERvd24kZGlzcGF0Y2godGhpcy5zcHJpdGUsdCksdGhpcy5zcHJpdGUmJnRoaXMuc3ByaXRlLnBhcmVudCYmdGhpcy5zcHJpdGUucGFyZW50Lm9uQ2hpbGRJbnB1dERvd24mJnRoaXMuc3ByaXRlLnBhcmVudC5vbkNoaWxkSW5wdXREb3duLmRpc3BhdGNoKHRoaXMuc3ByaXRlLHQpLG51bGw9PT10aGlzLnNwcml0ZSkpcmV0dXJuO3RoaXMuZHJhZ2dhYmxlJiYhMT09PXRoaXMuaXNEcmFnZ2VkJiYoMD09PXRoaXMuZHJhZ1RpbWVUaHJlc2hvbGQmJjA9PT10aGlzLmRyYWdEaXN0YW5jZVRocmVzaG9sZD90aGlzLnN0YXJ0RHJhZyh0KToodGhpcy5fcGVuZGluZ0RyYWc9ITAsdGhpcy5fZHJhZ0Rpc3RhbmNlUGFzcz0wPT09dGhpcy5kcmFnRGlzdGFuY2VUaHJlc2hvbGQsdGhpcy5kcmFnVGltZVRocmVzaG9sZD4wPyh0aGlzLl9kcmFnVGltZVBhc3M9ITEsdGhpcy5nYW1lLnRpbWUuZXZlbnRzLmFkZCh0aGlzLmRyYWdUaW1lVGhyZXNob2xkLHRoaXMuZHJhZ1RpbWVFbGFwc2VkLHRoaXMsdCkpOnRoaXMuX2RyYWdUaW1lUGFzcz0hMCkpLHRoaXMuYnJpbmdUb1RvcCYmdGhpcy5zcHJpdGUuYnJpbmdUb1RvcCgpfX19LGRyYWdUaW1lRWxhcHNlZDpmdW5jdGlvbih0KXt0aGlzLl9kcmFnVGltZVBhc3M9ITAsdGhpcy5fcGVuZGluZ0RyYWcmJnRoaXMuc3ByaXRlJiZ0aGlzLl9kcmFnRGlzdGFuY2VQYXNzJiZ0aGlzLnN0YXJ0RHJhZyh0KX0sX3JlbGVhc2VkSGFuZGxlcjpmdW5jdGlvbih0KXtpZihudWxsIT09dGhpcy5zcHJpdGUpe3ZhciBlPXRoaXMuX3BvaW50ZXJEYXRhW3QuaWRdO2lmKGUuaXNEb3duJiZ0LmlzVXApe2UuaXNEb3duPSExLGUuaXNVcD0hMCxlLnRpbWVVcD10aGlzLmdhbWUudGltZS50aW1lLGUuZG93bkR1cmF0aW9uPWUudGltZVVwLWUudGltZURvd247dmFyIGk9dGhpcy5jaGVja1BvaW50ZXJPdmVyKHQpO3RoaXMuc3ByaXRlJiZ0aGlzLnNwcml0ZS5ldmVudHMmJih0aGlzLmRyYWdTdG9wQmxvY2tzSW5wdXRVcCYmKCF0aGlzLmRyYWdTdG9wQmxvY2tzSW5wdXRVcHx8dGhpcy5kcmFnZ2FibGUmJnRoaXMuaXNEcmFnZ2VkJiZ0aGlzLl9kcmFnZ2VkUG9pbnRlcklEPT09dC5pZCl8fHRoaXMuc3ByaXRlLmV2ZW50cy5vbklucHV0VXAkZGlzcGF0Y2godGhpcy5zcHJpdGUsdCxpKSx0aGlzLnNwcml0ZSYmdGhpcy5zcHJpdGUucGFyZW50JiZ0aGlzLnNwcml0ZS5wYXJlbnQub25DaGlsZElucHV0VXAmJnRoaXMuc3ByaXRlLnBhcmVudC5vbkNoaWxkSW5wdXRVcC5kaXNwYXRjaCh0aGlzLnNwcml0ZSx0LGkpLGkmJihpPXRoaXMuY2hlY2tQb2ludGVyT3Zlcih0KSkpLGUuaXNPdmVyPWksIWkmJnRoaXMudXNlSGFuZEN1cnNvciYmKHRoaXMuZ2FtZS5jYW52YXMuc3R5bGUuY3Vyc29yPVwiZGVmYXVsdFwiLHRoaXMuX3NldEhhbmRDdXJzb3I9ITEpLHQuZGlydHk9ITAsdGhpcy5fcGVuZGluZ0RyYWc9ITEsdGhpcy5kcmFnZ2FibGUmJnRoaXMuaXNEcmFnZ2VkJiZ0aGlzLl9kcmFnZ2VkUG9pbnRlcklEPT09dC5pZCYmdGhpcy5zdG9wRHJhZyh0KX19fSx1cGRhdGVEcmFnOmZ1bmN0aW9uKHQsZSl7aWYodm9pZCAwPT09ZSYmKGU9ITEpLHQuaXNVcClyZXR1cm4gdGhpcy5zdG9wRHJhZyh0KSwhMTt2YXIgaT10aGlzLmdsb2JhbFRvTG9jYWwodCk7aWYodGhpcy5zcHJpdGUuZml4ZWRUb0NhbWVyYSl2YXIgcz10aGlzLmdhbWUuY2FtZXJhLnNjYWxlLngqaS54K3RoaXMuX2RyYWdQb2ludC54K3RoaXMuZHJhZ09mZnNldC54LG49dGhpcy5nYW1lLmNhbWVyYS5zY2FsZS55KmkueSt0aGlzLl9kcmFnUG9pbnQueSt0aGlzLmRyYWdPZmZzZXQueTtlbHNlIHZhciBzPWkueCt0aGlzLl9kcmFnUG9pbnQueCt0aGlzLmRyYWdPZmZzZXQueCxuPWkueSt0aGlzLl9kcmFnUG9pbnQueSt0aGlzLmRyYWdPZmZzZXQueTtpZih0aGlzLnNwcml0ZS5maXhlZFRvQ2FtZXJhKXRoaXMuYWxsb3dIb3Jpem9udGFsRHJhZyYmKHRoaXMuc3ByaXRlLmNhbWVyYU9mZnNldC54PXMtdGhpcy5nYW1lLmNhbWVyYS54KSx0aGlzLmFsbG93VmVydGljYWxEcmFnJiYodGhpcy5zcHJpdGUuY2FtZXJhT2Zmc2V0Lnk9bi10aGlzLmdhbWUuY2FtZXJhLnkpLHRoaXMuYm91bmRzUmVjdCYmdGhpcy5jaGVja0JvdW5kc1JlY3QoKSx0aGlzLmJvdW5kc1Nwcml0ZSYmdGhpcy5jaGVja0JvdW5kc1Nwcml0ZSgpLHRoaXMuc25hcE9uRHJhZyYmKHRoaXMuc3ByaXRlLmNhbWVyYU9mZnNldC54PU1hdGgucm91bmQoKHRoaXMuc3ByaXRlLmNhbWVyYU9mZnNldC54LXRoaXMuc25hcE9mZnNldFgldGhpcy5zbmFwWCkvdGhpcy5zbmFwWCkqdGhpcy5zbmFwWCt0aGlzLnNuYXBPZmZzZXRYJXRoaXMuc25hcFgsdGhpcy5zcHJpdGUuY2FtZXJhT2Zmc2V0Lnk9TWF0aC5yb3VuZCgodGhpcy5zcHJpdGUuY2FtZXJhT2Zmc2V0LnktdGhpcy5zbmFwT2Zmc2V0WSV0aGlzLnNuYXBZKS90aGlzLnNuYXBZKSp0aGlzLnNuYXBZK3RoaXMuc25hcE9mZnNldFkldGhpcy5zbmFwWSx0aGlzLnNuYXBQb2ludC5zZXQodGhpcy5zcHJpdGUuY2FtZXJhT2Zmc2V0LngsdGhpcy5zcHJpdGUuY2FtZXJhT2Zmc2V0LnkpKTtlbHNle3ZhciBvPXRoaXMuZ2FtZS5jYW1lcmEueC10aGlzLl9wb2ludGVyRGF0YVt0LmlkXS5jYW1YLHI9dGhpcy5nYW1lLmNhbWVyYS55LXRoaXMuX3BvaW50ZXJEYXRhW3QuaWRdLmNhbVk7dGhpcy5hbGxvd0hvcml6b250YWxEcmFnJiYodGhpcy5zcHJpdGUueD1zK28pLHRoaXMuYWxsb3dWZXJ0aWNhbERyYWcmJih0aGlzLnNwcml0ZS55PW4rciksdGhpcy5ib3VuZHNSZWN0JiZ0aGlzLmNoZWNrQm91bmRzUmVjdCgpLHRoaXMuYm91bmRzU3ByaXRlJiZ0aGlzLmNoZWNrQm91bmRzU3ByaXRlKCksdGhpcy5zbmFwT25EcmFnJiYodGhpcy5zcHJpdGUueD1NYXRoLnJvdW5kKCh0aGlzLnNwcml0ZS54LXRoaXMuc25hcE9mZnNldFgldGhpcy5zbmFwWCkvdGhpcy5zbmFwWCkqdGhpcy5zbmFwWCt0aGlzLnNuYXBPZmZzZXRYJXRoaXMuc25hcFgsdGhpcy5zcHJpdGUueT1NYXRoLnJvdW5kKCh0aGlzLnNwcml0ZS55LXRoaXMuc25hcE9mZnNldFkldGhpcy5zbmFwWSkvdGhpcy5zbmFwWSkqdGhpcy5zbmFwWSt0aGlzLnNuYXBPZmZzZXRZJXRoaXMuc25hcFksdGhpcy5zbmFwUG9pbnQuc2V0KHRoaXMuc3ByaXRlLngsdGhpcy5zcHJpdGUueSkpfXJldHVybiB0aGlzLnNwcml0ZS5ldmVudHMub25EcmFnVXBkYXRlLmRpc3BhdGNoKHRoaXMuc3ByaXRlLHQscyxuLHRoaXMuc25hcFBvaW50LGUpLCEwfSxqdXN0T3ZlcjpmdW5jdGlvbih0LGUpe3JldHVybiB0PXR8fDAsZT1lfHw1MDAsdGhpcy5fcG9pbnRlckRhdGFbdF0uaXNPdmVyJiZ0aGlzLm92ZXJEdXJhdGlvbih0KTxlfSxqdXN0T3V0OmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQ9dHx8MCxlPWV8fDUwMCx0aGlzLl9wb2ludGVyRGF0YVt0XS5pc091dCYmdGhpcy5nYW1lLnRpbWUudGltZS10aGlzLl9wb2ludGVyRGF0YVt0XS50aW1lT3V0PGV9LGp1c3RQcmVzc2VkOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQ9dHx8MCxlPWV8fDUwMCx0aGlzLl9wb2ludGVyRGF0YVt0XS5pc0Rvd24mJnRoaXMuZG93bkR1cmF0aW9uKHQpPGV9LGp1c3RSZWxlYXNlZDpmdW5jdGlvbih0LGUpe3JldHVybiB0PXR8fDAsZT1lfHw1MDAsdGhpcy5fcG9pbnRlckRhdGFbdF0uaXNVcCYmdGhpcy5nYW1lLnRpbWUudGltZS10aGlzLl9wb2ludGVyRGF0YVt0XS50aW1lVXA8ZX0sb3ZlckR1cmF0aW9uOmZ1bmN0aW9uKHQpe3JldHVybiB0PXR8fDAsdGhpcy5fcG9pbnRlckRhdGFbdF0uaXNPdmVyP3RoaXMuZ2FtZS50aW1lLnRpbWUtdGhpcy5fcG9pbnRlckRhdGFbdF0udGltZU92ZXI6LTF9LGRvd25EdXJhdGlvbjpmdW5jdGlvbih0KXtyZXR1cm4gdD10fHwwLHRoaXMuX3BvaW50ZXJEYXRhW3RdLmlzRG93bj90aGlzLmdhbWUudGltZS50aW1lLXRoaXMuX3BvaW50ZXJEYXRhW3RdLnRpbWVEb3duOi0xfSxlbmFibGVEcmFnOmZ1bmN0aW9uKHQsZSxzLG4sbyxyKXt2b2lkIDA9PT10JiYodD0hMSksdm9pZCAwPT09ZSYmKGU9ITEpLHZvaWQgMD09PXMmJihzPSExKSx2b2lkIDA9PT1uJiYobj0yNTUpLHZvaWQgMD09PW8mJihvPW51bGwpLHZvaWQgMD09PXImJihyPW51bGwpLHRoaXMuX2RyYWdQb2ludD1uZXcgaS5Qb2ludCx0aGlzLmRyYWdnYWJsZT0hMCx0aGlzLmJyaW5nVG9Ub3A9ZSx0aGlzLmRyYWdPZmZzZXQ9bmV3IGkuUG9pbnQsdGhpcy5kcmFnRnJvbUNlbnRlcj10LHRoaXMucGl4ZWxQZXJmZWN0Q2xpY2s9cyx0aGlzLnBpeGVsUGVyZmVjdEFscGhhPW4sbyYmKHRoaXMuYm91bmRzUmVjdD1vKSxyJiYodGhpcy5ib3VuZHNTcHJpdGU9cil9LGRpc2FibGVEcmFnOmZ1bmN0aW9uKCl7aWYodGhpcy5fcG9pbnRlckRhdGEpZm9yKHZhciB0PTA7dDwxMDt0KyspdGhpcy5fcG9pbnRlckRhdGFbdF0uaXNEcmFnZ2VkPSExO3RoaXMuZHJhZ2dhYmxlPSExLHRoaXMuaXNEcmFnZ2VkPSExLHRoaXMuX2RyYWdnZWRQb2ludGVySUQ9LTEsdGhpcy5fcGVuZGluZ0RyYWc9ITF9LHN0YXJ0RHJhZzpmdW5jdGlvbih0KXt2YXIgZT10aGlzLnNwcml0ZS54LHM9dGhpcy5zcHJpdGUueSxuPXRoaXMuZ2xvYmFsVG9Mb2NhbCh0KTtpZih0aGlzLmlzRHJhZ2dlZD0hMCx0aGlzLl9kcmFnZ2VkUG9pbnRlcklEPXQuaWQsdGhpcy5fcG9pbnRlckRhdGFbdC5pZF0uY2FtWD10aGlzLmdhbWUuY2FtZXJhLngsdGhpcy5fcG9pbnRlckRhdGFbdC5pZF0uY2FtWT10aGlzLmdhbWUuY2FtZXJhLnksdGhpcy5fcG9pbnRlckRhdGFbdC5pZF0uaXNEcmFnZ2VkPSEwLHRoaXMuc3ByaXRlLmZpeGVkVG9DYW1lcmEpe2lmKHRoaXMuZHJhZ0Zyb21DZW50ZXIpe3ZhciBvPXRoaXMuc3ByaXRlLmdldEJvdW5kcygpLHI9dGhpcy5nbG9iYWxUb0xvY2FsKG5ldyBpLlBvaW50KG8uY2VudGVyWCxvLmNlbnRlclkpKTt0aGlzLnNwcml0ZS5jYW1lcmFPZmZzZXQueD1uLngrKHRoaXMuc3ByaXRlLmNhbWVyYU9mZnNldC54LXIueCksdGhpcy5zcHJpdGUuY2FtZXJhT2Zmc2V0Lnk9bi55Kyh0aGlzLnNwcml0ZS5jYW1lcmFPZmZzZXQueS1yLnkpfXRoaXMuX2RyYWdQb2ludC5zZXRUbyh0aGlzLnNwcml0ZS5jYW1lcmFPZmZzZXQueC10LngsdGhpcy5zcHJpdGUuY2FtZXJhT2Zmc2V0LnktdC55KX1lbHNle2lmKHRoaXMuZHJhZ0Zyb21DZW50ZXIpe3ZhciBvPXRoaXMuc3ByaXRlLmdldEJvdW5kcygpLHI9dGhpcy5nbG9iYWxUb0xvY2FsKG5ldyBpLlBvaW50KG8uY2VudGVyWCxvLmNlbnRlclkpKTt0aGlzLnNwcml0ZS54PW4ueCsodGhpcy5zcHJpdGUueC1yLngpLHRoaXMuc3ByaXRlLnk9bi55Kyh0aGlzLnNwcml0ZS55LXIueSl9dGhpcy5fZHJhZ1BvaW50LnNldFRvKHRoaXMuc3ByaXRlLngtbi54LHRoaXMuc3ByaXRlLnktbi55KX10aGlzLnVwZGF0ZURyYWcodCwhMCksdGhpcy5icmluZ1RvVG9wJiYodGhpcy5fZHJhZ1BoYXNlPSEwLHRoaXMuc3ByaXRlLmJyaW5nVG9Ub3AoKSksdGhpcy5kcmFnU3RhcnRQb2ludC5zZXQoZSxzKSx0aGlzLnNwcml0ZS5ldmVudHMub25EcmFnU3RhcnQkZGlzcGF0Y2godGhpcy5zcHJpdGUsdCxlLHMpLHRoaXMuX3BlbmRpbmdEcmFnPSExfSxnbG9iYWxUb0xvY2FsWDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5zY2FsZUxheWVyJiYodC09dGhpcy5nYW1lLnNjYWxlLmdyaWQuYm91bmRzRmx1aWQueCx0Kj10aGlzLmdhbWUuc2NhbGUuZ3JpZC5zY2FsZUZsdWlkSW52ZXJzZWQueCksdH0sZ2xvYmFsVG9Mb2NhbFk6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuc2NhbGVMYXllciYmKHQtPXRoaXMuZ2FtZS5zY2FsZS5ncmlkLmJvdW5kc0ZsdWlkLnksdCo9dGhpcy5nYW1lLnNjYWxlLmdyaWQuc2NhbGVGbHVpZEludmVyc2VkLnkpLHR9LGdsb2JhbFRvTG9jYWw6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuc3ByaXRlLnBhcmVudD90aGlzLmdhbWUuaW5wdXQuZ2V0TG9jYWxQb3NpdGlvbih0aGlzLnNwcml0ZS5wYXJlbnQse3g6dC54LHk6dC55fSk6dH0sc3RvcERyYWc6ZnVuY3Rpb24odCl7dGhpcy5pc0RyYWdnZWQ9ITEsdGhpcy5fZHJhZ2dlZFBvaW50ZXJJRD0tMSx0aGlzLl9wb2ludGVyRGF0YVt0LmlkXS5pc0RyYWdnZWQ9ITEsdGhpcy5fZHJhZ1BoYXNlPSExLHRoaXMuX3BlbmRpbmdEcmFnPSExLHRoaXMuc25hcE9uUmVsZWFzZSYmKHRoaXMuc3ByaXRlLmZpeGVkVG9DYW1lcmE/KHRoaXMuc3ByaXRlLmNhbWVyYU9mZnNldC54PU1hdGgucm91bmQoKHRoaXMuc3ByaXRlLmNhbWVyYU9mZnNldC54LXRoaXMuc25hcE9mZnNldFgldGhpcy5zbmFwWCkvdGhpcy5zbmFwWCkqdGhpcy5zbmFwWCt0aGlzLnNuYXBPZmZzZXRYJXRoaXMuc25hcFgsdGhpcy5zcHJpdGUuY2FtZXJhT2Zmc2V0Lnk9TWF0aC5yb3VuZCgodGhpcy5zcHJpdGUuY2FtZXJhT2Zmc2V0LnktdGhpcy5zbmFwT2Zmc2V0WSV0aGlzLnNuYXBZKS90aGlzLnNuYXBZKSp0aGlzLnNuYXBZK3RoaXMuc25hcE9mZnNldFkldGhpcy5zbmFwWSk6KHRoaXMuc3ByaXRlLng9TWF0aC5yb3VuZCgodGhpcy5zcHJpdGUueC10aGlzLnNuYXBPZmZzZXRYJXRoaXMuc25hcFgpL3RoaXMuc25hcFgpKnRoaXMuc25hcFgrdGhpcy5zbmFwT2Zmc2V0WCV0aGlzLnNuYXBYLHRoaXMuc3ByaXRlLnk9TWF0aC5yb3VuZCgodGhpcy5zcHJpdGUueS10aGlzLnNuYXBPZmZzZXRZJXRoaXMuc25hcFkpL3RoaXMuc25hcFkpKnRoaXMuc25hcFkrdGhpcy5zbmFwT2Zmc2V0WSV0aGlzLnNuYXBZKSksdGhpcy5zcHJpdGUuZXZlbnRzLm9uRHJhZ1N0b3AkZGlzcGF0Y2godGhpcy5zcHJpdGUsdCksITE9PT10aGlzLmNoZWNrUG9pbnRlck92ZXIodCkmJnRoaXMuX3BvaW50ZXJPdXRIYW5kbGVyKHQpfSxzZXREcmFnTG9jazpmdW5jdGlvbih0LGUpe3ZvaWQgMD09PXQmJih0PSEwKSx2b2lkIDA9PT1lJiYoZT0hMCksdGhpcy5hbGxvd0hvcml6b250YWxEcmFnPXQsdGhpcy5hbGxvd1ZlcnRpY2FsRHJhZz1lfSxlbmFibGVTbmFwOmZ1bmN0aW9uKHQsZSxpLHMsbixvKXt2b2lkIDA9PT1pJiYoaT0hMCksdm9pZCAwPT09cyYmKHM9ITEpLHZvaWQgMD09PW4mJihuPTApLHZvaWQgMD09PW8mJihvPTApLHRoaXMuc25hcFg9dCx0aGlzLnNuYXBZPWUsdGhpcy5zbmFwT2Zmc2V0WD1uLHRoaXMuc25hcE9mZnNldFk9byx0aGlzLnNuYXBPbkRyYWc9aSx0aGlzLnNuYXBPblJlbGVhc2U9c30sZGlzYWJsZVNuYXA6ZnVuY3Rpb24oKXt0aGlzLnNuYXBPbkRyYWc9ITEsdGhpcy5zbmFwT25SZWxlYXNlPSExfSxjaGVja0JvdW5kc1JlY3Q6ZnVuY3Rpb24oKXt0aGlzLnNwcml0ZS5maXhlZFRvQ2FtZXJhPyh0aGlzLnNwcml0ZS5jYW1lcmFPZmZzZXQueDx0aGlzLmJvdW5kc1JlY3QubGVmdD90aGlzLnNwcml0ZS5jYW1lcmFPZmZzZXQueD10aGlzLmJvdW5kc1JlY3QubGVmdDp0aGlzLnNwcml0ZS5jYW1lcmFPZmZzZXQueCt0aGlzLnNwcml0ZS53aWR0aD50aGlzLmJvdW5kc1JlY3QucmlnaHQmJih0aGlzLnNwcml0ZS5jYW1lcmFPZmZzZXQueD10aGlzLmJvdW5kc1JlY3QucmlnaHQtdGhpcy5zcHJpdGUud2lkdGgpLHRoaXMuc3ByaXRlLmNhbWVyYU9mZnNldC55PHRoaXMuYm91bmRzUmVjdC50b3A/dGhpcy5zcHJpdGUuY2FtZXJhT2Zmc2V0Lnk9dGhpcy5ib3VuZHNSZWN0LnRvcDp0aGlzLnNwcml0ZS5jYW1lcmFPZmZzZXQueSt0aGlzLnNwcml0ZS5oZWlnaHQ+dGhpcy5ib3VuZHNSZWN0LmJvdHRvbSYmKHRoaXMuc3ByaXRlLmNhbWVyYU9mZnNldC55PXRoaXMuYm91bmRzUmVjdC5ib3R0b20tdGhpcy5zcHJpdGUuaGVpZ2h0KSk6KHRoaXMuc3ByaXRlLmxlZnQ8dGhpcy5ib3VuZHNSZWN0LmxlZnQ/dGhpcy5zcHJpdGUueD10aGlzLmJvdW5kc1JlY3QueCt0aGlzLnNwcml0ZS5vZmZzZXRYOnRoaXMuc3ByaXRlLnJpZ2h0PnRoaXMuYm91bmRzUmVjdC5yaWdodCYmKHRoaXMuc3ByaXRlLng9dGhpcy5ib3VuZHNSZWN0LnJpZ2h0LSh0aGlzLnNwcml0ZS53aWR0aC10aGlzLnNwcml0ZS5vZmZzZXRYKSksdGhpcy5zcHJpdGUudG9wPHRoaXMuYm91bmRzUmVjdC50b3A/dGhpcy5zcHJpdGUueT10aGlzLmJvdW5kc1JlY3QudG9wK3RoaXMuc3ByaXRlLm9mZnNldFk6dGhpcy5zcHJpdGUuYm90dG9tPnRoaXMuYm91bmRzUmVjdC5ib3R0b20mJih0aGlzLnNwcml0ZS55PXRoaXMuYm91bmRzUmVjdC5ib3R0b20tKHRoaXMuc3ByaXRlLmhlaWdodC10aGlzLnNwcml0ZS5vZmZzZXRZKSkpfSxjaGVja0JvdW5kc1Nwcml0ZTpmdW5jdGlvbigpe3RoaXMuc3ByaXRlLmZpeGVkVG9DYW1lcmEmJnRoaXMuYm91bmRzU3ByaXRlLmZpeGVkVG9DYW1lcmE/KHRoaXMuc3ByaXRlLmNhbWVyYU9mZnNldC54PHRoaXMuYm91bmRzU3ByaXRlLmNhbWVyYU9mZnNldC54P3RoaXMuc3ByaXRlLmNhbWVyYU9mZnNldC54PXRoaXMuYm91bmRzU3ByaXRlLmNhbWVyYU9mZnNldC54OnRoaXMuc3ByaXRlLmNhbWVyYU9mZnNldC54K3RoaXMuc3ByaXRlLndpZHRoPnRoaXMuYm91bmRzU3ByaXRlLmNhbWVyYU9mZnNldC54K3RoaXMuYm91bmRzU3ByaXRlLndpZHRoJiYodGhpcy5zcHJpdGUuY2FtZXJhT2Zmc2V0Lng9dGhpcy5ib3VuZHNTcHJpdGUuY2FtZXJhT2Zmc2V0LngrdGhpcy5ib3VuZHNTcHJpdGUud2lkdGgtdGhpcy5zcHJpdGUud2lkdGgpLHRoaXMuc3ByaXRlLmNhbWVyYU9mZnNldC55PHRoaXMuYm91bmRzU3ByaXRlLmNhbWVyYU9mZnNldC55P3RoaXMuc3ByaXRlLmNhbWVyYU9mZnNldC55PXRoaXMuYm91bmRzU3ByaXRlLmNhbWVyYU9mZnNldC55OnRoaXMuc3ByaXRlLmNhbWVyYU9mZnNldC55K3RoaXMuc3ByaXRlLmhlaWdodD50aGlzLmJvdW5kc1Nwcml0ZS5jYW1lcmFPZmZzZXQueSt0aGlzLmJvdW5kc1Nwcml0ZS5oZWlnaHQmJih0aGlzLnNwcml0ZS5jYW1lcmFPZmZzZXQueT10aGlzLmJvdW5kc1Nwcml0ZS5jYW1lcmFPZmZzZXQueSt0aGlzLmJvdW5kc1Nwcml0ZS5oZWlnaHQtdGhpcy5zcHJpdGUuaGVpZ2h0KSk6KHRoaXMuc3ByaXRlLmxlZnQ8dGhpcy5ib3VuZHNTcHJpdGUubGVmdD90aGlzLnNwcml0ZS54PXRoaXMuYm91bmRzU3ByaXRlLmxlZnQrdGhpcy5zcHJpdGUub2Zmc2V0WDp0aGlzLnNwcml0ZS5yaWdodD50aGlzLmJvdW5kc1Nwcml0ZS5yaWdodCYmKHRoaXMuc3ByaXRlLng9dGhpcy5ib3VuZHNTcHJpdGUucmlnaHQtKHRoaXMuc3ByaXRlLndpZHRoLXRoaXMuc3ByaXRlLm9mZnNldFgpKSx0aGlzLnNwcml0ZS50b3A8dGhpcy5ib3VuZHNTcHJpdGUudG9wP3RoaXMuc3ByaXRlLnk9dGhpcy5ib3VuZHNTcHJpdGUudG9wK3RoaXMuc3ByaXRlLm9mZnNldFk6dGhpcy5zcHJpdGUuYm90dG9tPnRoaXMuYm91bmRzU3ByaXRlLmJvdHRvbSYmKHRoaXMuc3ByaXRlLnk9dGhpcy5ib3VuZHNTcHJpdGUuYm90dG9tLSh0aGlzLnNwcml0ZS5oZWlnaHQtdGhpcy5zcHJpdGUub2Zmc2V0WSkpKX19LGkuSW5wdXRIYW5kbGVyLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1pLklucHV0SGFuZGxlcixpLkdhbWVwYWQ9ZnVuY3Rpb24odCl7dGhpcy5nYW1lPXQsdGhpcy5fZ2FtZXBhZEluZGV4TWFwPXt9LHRoaXMuX3Jhd1BhZHM9W10sdGhpcy5fYWN0aXZlPSExLHRoaXMuZW5hYmxlZD0hMCx0aGlzLl9nYW1lcGFkU3VwcG9ydEF2YWlsYWJsZT0hIW5hdmlnYXRvci53ZWJraXRHZXRHYW1lcGFkc3x8ISFuYXZpZ2F0b3Iud2Via2l0R2FtZXBhZHN8fC0xIT09bmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKFwiRmlyZWZveC9cIil8fCEhbmF2aWdhdG9yLmdldEdhbWVwYWRzLHRoaXMuX3ByZXZSYXdHYW1lcGFkVHlwZXM9W10sdGhpcy5fcHJldlRpbWVzdGFtcHM9W10sdGhpcy5jYWxsYmFja0NvbnRleHQ9dGhpcyx0aGlzLm9uQ29ubmVjdENhbGxiYWNrPW51bGwsdGhpcy5vbkRpc2Nvbm5lY3RDYWxsYmFjaz1udWxsLHRoaXMub25Eb3duQ2FsbGJhY2s9bnVsbCx0aGlzLm9uVXBDYWxsYmFjaz1udWxsLHRoaXMub25BeGlzQ2FsbGJhY2s9bnVsbCx0aGlzLm9uRmxvYXRDYWxsYmFjaz1udWxsLHRoaXMuX29uZ2FtZXBhZGNvbm5lY3RlZD1udWxsLHRoaXMuX2dhbWVwYWRkaXNjb25uZWN0ZWQ9bnVsbCx0aGlzLl9nYW1lcGFkcz1bbmV3IGkuU2luZ2xlUGFkKHQsdGhpcyksbmV3IGkuU2luZ2xlUGFkKHQsdGhpcyksbmV3IGkuU2luZ2xlUGFkKHQsdGhpcyksbmV3IGkuU2luZ2xlUGFkKHQsdGhpcyldfSxpLkdhbWVwYWQucHJvdG90eXBlPXthZGRDYWxsYmFja3M6ZnVuY3Rpb24odCxlKXt2b2lkIDAhPT1lJiYodGhpcy5vbkNvbm5lY3RDYWxsYmFjaz1cImZ1bmN0aW9uXCI9PXR5cGVvZiBlLm9uQ29ubmVjdD9lLm9uQ29ubmVjdDp0aGlzLm9uQ29ubmVjdENhbGxiYWNrLHRoaXMub25EaXNjb25uZWN0Q2FsbGJhY2s9XCJmdW5jdGlvblwiPT10eXBlb2YgZS5vbkRpc2Nvbm5lY3Q/ZS5vbkRpc2Nvbm5lY3Q6dGhpcy5vbkRpc2Nvbm5lY3RDYWxsYmFjayx0aGlzLm9uRG93bkNhbGxiYWNrPVwiZnVuY3Rpb25cIj09dHlwZW9mIGUub25Eb3duP2Uub25Eb3duOnRoaXMub25Eb3duQ2FsbGJhY2ssdGhpcy5vblVwQ2FsbGJhY2s9XCJmdW5jdGlvblwiPT10eXBlb2YgZS5vblVwP2Uub25VcDp0aGlzLm9uVXBDYWxsYmFjayx0aGlzLm9uQXhpc0NhbGxiYWNrPVwiZnVuY3Rpb25cIj09dHlwZW9mIGUub25BeGlzP2Uub25BeGlzOnRoaXMub25BeGlzQ2FsbGJhY2ssdGhpcy5vbkZsb2F0Q2FsbGJhY2s9XCJmdW5jdGlvblwiPT10eXBlb2YgZS5vbkZsb2F0P2Uub25GbG9hdDp0aGlzLm9uRmxvYXRDYWxsYmFjayx0aGlzLmNhbGxiYWNrQ29udGV4dD10KX0sc3RhcnQ6ZnVuY3Rpb24oKXtpZighdGhpcy5fYWN0aXZlKXt0aGlzLl9hY3RpdmU9ITA7dmFyIHQ9dGhpczt0aGlzLl9vbkdhbWVwYWRDb25uZWN0ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHQub25HYW1lcGFkQ29ubmVjdGVkKGUpfSx0aGlzLl9vbkdhbWVwYWREaXNjb25uZWN0ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHQub25HYW1lcGFkRGlzY29ubmVjdGVkKGUpfSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImdhbWVwYWRjb25uZWN0ZWRcIix0aGlzLl9vbkdhbWVwYWRDb25uZWN0ZWQsITEpLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiZ2FtZXBhZGRpc2Nvbm5lY3RlZFwiLHRoaXMuX29uR2FtZXBhZERpc2Nvbm5lY3RlZCwhMSl9fSxvbkdhbWVwYWRDb25uZWN0ZWQ6ZnVuY3Rpb24odCl7dmFyIGU9dC5nYW1lcGFkO3RoaXMuX3Jhd1BhZHMucHVzaChlKSx0aGlzLl9nYW1lcGFkc1tlLmluZGV4XS5jb25uZWN0KGUpfSxvbkdhbWVwYWREaXNjb25uZWN0ZWQ6ZnVuY3Rpb24odCl7dmFyIGU9dC5nYW1lcGFkO2Zvcih2YXIgaSBpbiB0aGlzLl9yYXdQYWRzKXRoaXMuX3Jhd1BhZHNbaV0uaW5kZXg9PT1lLmluZGV4JiZ0aGlzLl9yYXdQYWRzLnNwbGljZShpLDEpO3RoaXMuX2dhbWVwYWRzW2UuaW5kZXhdLmRpc2Nvbm5lY3QoKX0sdXBkYXRlOmZ1bmN0aW9uKCl7dGhpcy5fcG9sbEdhbWVwYWRzKCksdGhpcy5wYWQxLnBvbGxTdGF0dXMoKSx0aGlzLnBhZDIucG9sbFN0YXR1cygpLHRoaXMucGFkMy5wb2xsU3RhdHVzKCksdGhpcy5wYWQ0LnBvbGxTdGF0dXMoKX0sX3BvbGxHYW1lcGFkczpmdW5jdGlvbigpe2lmKHRoaXMuX2FjdGl2ZSl7aWYobmF2aWdhdG9yLmdldEdhbWVwYWRzKXQ9bmF2aWdhdG9yLmdldEdhbWVwYWRzKCk7ZWxzZSBpZihuYXZpZ2F0b3Iud2Via2l0R2V0R2FtZXBhZHMpdD1uYXZpZ2F0b3Iud2Via2l0R2V0R2FtZXBhZHMoKTtlbHNlIGlmKG5hdmlnYXRvci53ZWJraXRHYW1lcGFkcyl2YXIgdD1uYXZpZ2F0b3Iud2Via2l0R2FtZXBhZHMoKTtpZih0KXt0aGlzLl9yYXdQYWRzPVtdO2Zvcih2YXIgZT0hMSxpPTA7aTx0Lmxlbmd0aCYmKHR5cGVvZiB0W2ldIT09dGhpcy5fcHJldlJhd0dhbWVwYWRUeXBlc1tpXSYmKGU9ITAsdGhpcy5fcHJldlJhd0dhbWVwYWRUeXBlc1tpXT10eXBlb2YgdFtpXSksdFtpXSYmdGhpcy5fcmF3UGFkcy5wdXNoKHRbaV0pLDMhPT1pKTtpKyspO2Zvcih2YXIgcz0wO3M8dGhpcy5fZ2FtZXBhZHMubGVuZ3RoO3MrKyl0aGlzLl9nYW1lcGFkc1tzXS5fcmF3UGFkPXRoaXMuX3Jhd1BhZHNbc107aWYoZSl7Zm9yKHZhciBuLG89e3Jhd0luZGljZXM6e30scGFkSW5kaWNlczp7fX0scj0wO3I8dGhpcy5fZ2FtZXBhZHMubGVuZ3RoO3IrKylpZigobj10aGlzLl9nYW1lcGFkc1tyXSkuY29ubmVjdGVkKWZvcih2YXIgYT0wO2E8dGhpcy5fcmF3UGFkcy5sZW5ndGg7YSsrKXRoaXMuX3Jhd1BhZHNbYV0uaW5kZXg9PT1uLmluZGV4JiYoby5yYXdJbmRpY2VzW24uaW5kZXhdPSEwLG8ucGFkSW5kaWNlc1tyXT0hMCk7Zm9yKHZhciBoPTA7aDx0aGlzLl9nYW1lcGFkcy5sZW5ndGg7aCsrKWlmKG49dGhpcy5fZ2FtZXBhZHNbaF0sIW8ucGFkSW5kaWNlc1toXSl7dGhpcy5fcmF3UGFkcy5sZW5ndGg8MSYmbi5kaXNjb25uZWN0KCk7Zm9yKHZhciBsPTA7bDx0aGlzLl9yYXdQYWRzLmxlbmd0aCYmIW8ucGFkSW5kaWNlc1toXTtsKyspe3ZhciBjPXRoaXMuX3Jhd1BhZHNbbF07aWYoYyl7aWYoby5yYXdJbmRpY2VzW2MuaW5kZXhdKXtuLmRpc2Nvbm5lY3QoKTtjb250aW51ZX1uLmNvbm5lY3QoYyksby5yYXdJbmRpY2VzW2MuaW5kZXhdPSEwLG8ucGFkSW5kaWNlc1toXT0hMH1lbHNlIG4uZGlzY29ubmVjdCgpfX19fX19LHNldERlYWRab25lczpmdW5jdGlvbih0KXtmb3IodmFyIGU9MDtlPHRoaXMuX2dhbWVwYWRzLmxlbmd0aDtlKyspdGhpcy5fZ2FtZXBhZHNbZV0uZGVhZFpvbmU9dH0sc3RvcDpmdW5jdGlvbigpe3RoaXMuX2FjdGl2ZT0hMSx3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImdhbWVwYWRjb25uZWN0ZWRcIix0aGlzLl9vbkdhbWVwYWRDb25uZWN0ZWQpLHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwiZ2FtZXBhZGRpc2Nvbm5lY3RlZFwiLHRoaXMuX29uR2FtZXBhZERpc2Nvbm5lY3RlZCl9LHJlc2V0OmZ1bmN0aW9uKCl7dGhpcy51cGRhdGUoKTtmb3IodmFyIHQ9MDt0PHRoaXMuX2dhbWVwYWRzLmxlbmd0aDt0KyspdGhpcy5fZ2FtZXBhZHNbdF0ucmVzZXQoKX0sanVzdFByZXNzZWQ6ZnVuY3Rpb24odCxlKXtmb3IodmFyIGk9MDtpPHRoaXMuX2dhbWVwYWRzLmxlbmd0aDtpKyspaWYoITA9PT10aGlzLl9nYW1lcGFkc1tpXS5qdXN0UHJlc3NlZCh0LGUpKXJldHVybiEwO3JldHVybiExfSxqdXN0UmVsZWFzZWQ6ZnVuY3Rpb24odCxlKXtmb3IodmFyIGk9MDtpPHRoaXMuX2dhbWVwYWRzLmxlbmd0aDtpKyspaWYoITA9PT10aGlzLl9nYW1lcGFkc1tpXS5qdXN0UmVsZWFzZWQodCxlKSlyZXR1cm4hMDtyZXR1cm4hMX0saXNEb3duOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wO2U8dGhpcy5fZ2FtZXBhZHMubGVuZ3RoO2UrKylpZighMD09PXRoaXMuX2dhbWVwYWRzW2VdLmlzRG93bih0KSlyZXR1cm4hMDtyZXR1cm4hMX0sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuc3RvcCgpO2Zvcih2YXIgdD0wO3Q8dGhpcy5fZ2FtZXBhZHMubGVuZ3RoO3QrKyl0aGlzLl9nYW1lcGFkc1t0XS5kZXN0cm95KCl9fSxpLkdhbWVwYWQucHJvdG90eXBlLmNvbnN0cnVjdG9yPWkuR2FtZXBhZCxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5HYW1lcGFkLnByb3RvdHlwZSxcImFjdGl2ZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYWN0aXZlfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLkdhbWVwYWQucHJvdG90eXBlLFwic3VwcG9ydGVkXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9nYW1lcGFkU3VwcG9ydEF2YWlsYWJsZX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5HYW1lcGFkLnByb3RvdHlwZSxcInBhZHNDb25uZWN0ZWRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3Jhd1BhZHMubGVuZ3RofX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLkdhbWVwYWQucHJvdG90eXBlLFwicGFkMVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2FtZXBhZHNbMF19fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuR2FtZXBhZC5wcm90b3R5cGUsXCJwYWQyXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9nYW1lcGFkc1sxXX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5HYW1lcGFkLnByb3RvdHlwZSxcInBhZDNcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dhbWVwYWRzWzJdfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLkdhbWVwYWQucHJvdG90eXBlLFwicGFkNFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2FtZXBhZHNbM119fSksaS5HYW1lcGFkLkJVVFRPTl8wPTAsaS5HYW1lcGFkLkJVVFRPTl8xPTEsaS5HYW1lcGFkLkJVVFRPTl8yPTIsaS5HYW1lcGFkLkJVVFRPTl8zPTMsaS5HYW1lcGFkLkJVVFRPTl80PTQsaS5HYW1lcGFkLkJVVFRPTl81PTUsaS5HYW1lcGFkLkJVVFRPTl82PTYsaS5HYW1lcGFkLkJVVFRPTl83PTcsaS5HYW1lcGFkLkJVVFRPTl84PTgsaS5HYW1lcGFkLkJVVFRPTl85PTksaS5HYW1lcGFkLkJVVFRPTl8xMD0xMCxpLkdhbWVwYWQuQlVUVE9OXzExPTExLGkuR2FtZXBhZC5CVVRUT05fMTI9MTIsaS5HYW1lcGFkLkJVVFRPTl8xMz0xMyxpLkdhbWVwYWQuQlVUVE9OXzE0PTE0LGkuR2FtZXBhZC5CVVRUT05fMTU9MTUsaS5HYW1lcGFkLkFYSVNfMD0wLGkuR2FtZXBhZC5BWElTXzE9MSxpLkdhbWVwYWQuQVhJU18yPTIsaS5HYW1lcGFkLkFYSVNfMz0zLGkuR2FtZXBhZC5BWElTXzQ9NCxpLkdhbWVwYWQuQVhJU181PTUsaS5HYW1lcGFkLkFYSVNfNj02LGkuR2FtZXBhZC5BWElTXzc9NyxpLkdhbWVwYWQuQVhJU184PTgsaS5HYW1lcGFkLkFYSVNfOT05LGkuR2FtZXBhZC5YQk9YMzYwX0E9MCxpLkdhbWVwYWQuWEJPWDM2MF9CPTEsaS5HYW1lcGFkLlhCT1gzNjBfWD0yLGkuR2FtZXBhZC5YQk9YMzYwX1k9MyxpLkdhbWVwYWQuWEJPWDM2MF9MRUZUX0JVTVBFUj00LGkuR2FtZXBhZC5YQk9YMzYwX1JJR0hUX0JVTVBFUj01LGkuR2FtZXBhZC5YQk9YMzYwX0xFRlRfVFJJR0dFUj02LGkuR2FtZXBhZC5YQk9YMzYwX1JJR0hUX1RSSUdHRVI9NyxpLkdhbWVwYWQuWEJPWDM2MF9CQUNLPTgsaS5HYW1lcGFkLlhCT1gzNjBfU1RBUlQ9OSxpLkdhbWVwYWQuWEJPWDM2MF9TVElDS19MRUZUX0JVVFRPTj0xMCxpLkdhbWVwYWQuWEJPWDM2MF9TVElDS19SSUdIVF9CVVRUT049MTEsaS5HYW1lcGFkLlhCT1gzNjBfRFBBRF9MRUZUPTE0LGkuR2FtZXBhZC5YQk9YMzYwX0RQQURfUklHSFQ9MTUsaS5HYW1lcGFkLlhCT1gzNjBfRFBBRF9VUD0xMixpLkdhbWVwYWQuWEJPWDM2MF9EUEFEX0RPV049MTMsaS5HYW1lcGFkLlhCT1gzNjBfU1RJQ0tfTEVGVF9YPTAsaS5HYW1lcGFkLlhCT1gzNjBfU1RJQ0tfTEVGVF9ZPTEsaS5HYW1lcGFkLlhCT1gzNjBfU1RJQ0tfUklHSFRfWD0yLGkuR2FtZXBhZC5YQk9YMzYwX1NUSUNLX1JJR0hUX1k9MyxpLkdhbWVwYWQuUFMzWENfWD0wLGkuR2FtZXBhZC5QUzNYQ19DSVJDTEU9MSxpLkdhbWVwYWQuUFMzWENfU1FVQVJFPTIsaS5HYW1lcGFkLlBTM1hDX1RSSUFOR0xFPTMsaS5HYW1lcGFkLlBTM1hDX0wxPTQsaS5HYW1lcGFkLlBTM1hDX1IxPTUsaS5HYW1lcGFkLlBTM1hDX0wyPTYsaS5HYW1lcGFkLlBTM1hDX1IyPTcsaS5HYW1lcGFkLlBTM1hDX1NFTEVDVD04LGkuR2FtZXBhZC5QUzNYQ19TVEFSVD05LGkuR2FtZXBhZC5QUzNYQ19TVElDS19MRUZUX0JVVFRPTj0xMCxpLkdhbWVwYWQuUFMzWENfU1RJQ0tfUklHSFRfQlVUVE9OPTExLGkuR2FtZXBhZC5QUzNYQ19EUEFEX1VQPTEyLGkuR2FtZXBhZC5QUzNYQ19EUEFEX0RPV049MTMsaS5HYW1lcGFkLlBTM1hDX0RQQURfTEVGVD0xNCxpLkdhbWVwYWQuUFMzWENfRFBBRF9SSUdIVD0xNSxpLkdhbWVwYWQuUFMzWENfU1RJQ0tfTEVGVF9YPTAsaS5HYW1lcGFkLlBTM1hDX1NUSUNLX0xFRlRfWT0xLGkuR2FtZXBhZC5QUzNYQ19TVElDS19SSUdIVF9YPTIsaS5HYW1lcGFkLlBTM1hDX1NUSUNLX1JJR0hUX1k9MyxpLlNpbmdsZVBhZD1mdW5jdGlvbih0LGUpe3RoaXMuZ2FtZT10LHRoaXMuaW5kZXg9bnVsbCx0aGlzLmNvbm5lY3RlZD0hMSx0aGlzLmNhbGxiYWNrQ29udGV4dD10aGlzLHRoaXMub25Db25uZWN0Q2FsbGJhY2s9bnVsbCx0aGlzLm9uRGlzY29ubmVjdENhbGxiYWNrPW51bGwsdGhpcy5vbkRvd25DYWxsYmFjaz1udWxsLHRoaXMub25VcENhbGxiYWNrPW51bGwsdGhpcy5vbkF4aXNDYWxsYmFjaz1udWxsLHRoaXMub25GbG9hdENhbGxiYWNrPW51bGwsdGhpcy5kZWFkWm9uZT0uMjYsdGhpcy5fcGFkUGFyZW50PWUsdGhpcy5fcmF3UGFkPW51bGwsdGhpcy5fcHJldlRpbWVzdGFtcD1udWxsLHRoaXMuX2J1dHRvbnM9W10sdGhpcy5fYnV0dG9uc0xlbj0wLHRoaXMuX2F4ZXM9W10sdGhpcy5fYXhlc0xlbj0wfSxpLlNpbmdsZVBhZC5wcm90b3R5cGU9e2FkZENhbGxiYWNrczpmdW5jdGlvbih0LGUpe3ZvaWQgMCE9PWUmJih0aGlzLm9uQ29ubmVjdENhbGxiYWNrPVwiZnVuY3Rpb25cIj09dHlwZW9mIGUub25Db25uZWN0P2Uub25Db25uZWN0OnRoaXMub25Db25uZWN0Q2FsbGJhY2ssdGhpcy5vbkRpc2Nvbm5lY3RDYWxsYmFjaz1cImZ1bmN0aW9uXCI9PXR5cGVvZiBlLm9uRGlzY29ubmVjdD9lLm9uRGlzY29ubmVjdDp0aGlzLm9uRGlzY29ubmVjdENhbGxiYWNrLHRoaXMub25Eb3duQ2FsbGJhY2s9XCJmdW5jdGlvblwiPT10eXBlb2YgZS5vbkRvd24/ZS5vbkRvd246dGhpcy5vbkRvd25DYWxsYmFjayx0aGlzLm9uVXBDYWxsYmFjaz1cImZ1bmN0aW9uXCI9PXR5cGVvZiBlLm9uVXA/ZS5vblVwOnRoaXMub25VcENhbGxiYWNrLHRoaXMub25BeGlzQ2FsbGJhY2s9XCJmdW5jdGlvblwiPT10eXBlb2YgZS5vbkF4aXM/ZS5vbkF4aXM6dGhpcy5vbkF4aXNDYWxsYmFjayx0aGlzLm9uRmxvYXRDYWxsYmFjaz1cImZ1bmN0aW9uXCI9PXR5cGVvZiBlLm9uRmxvYXQ/ZS5vbkZsb2F0OnRoaXMub25GbG9hdENhbGxiYWNrLHRoaXMuY2FsbGJhY2tDb250ZXh0PXQpfSxnZXRCdXR0b246ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2J1dHRvbnNbdF0/dGhpcy5fYnV0dG9uc1t0XTpudWxsfSxwb2xsU3RhdHVzOmZ1bmN0aW9uKCl7aWYodGhpcy5jb25uZWN0ZWQmJnRoaXMuZ2FtZS5pbnB1dC5lbmFibGVkJiZ0aGlzLmdhbWUuaW5wdXQuZ2FtZXBhZC5lbmFibGVkJiYoIXRoaXMuX3Jhd1BhZC50aW1lc3RhbXB8fHRoaXMuX3Jhd1BhZC50aW1lc3RhbXAhPT10aGlzLl9wcmV2VGltZXN0YW1wKSl7Zm9yKHZhciB0PTA7dDx0aGlzLl9idXR0b25zTGVuO3QrKyl7dmFyIGU9aXNOYU4odGhpcy5fcmF3UGFkLmJ1dHRvbnNbdF0pP3RoaXMuX3Jhd1BhZC5idXR0b25zW3RdLnZhbHVlOnRoaXMuX3Jhd1BhZC5idXR0b25zW3RdO2UhPT10aGlzLl9idXR0b25zW3RdLnZhbHVlJiYoMT09PWU/dGhpcy5wcm9jZXNzQnV0dG9uRG93bih0LGUpOjA9PT1lP3RoaXMucHJvY2Vzc0J1dHRvblVwKHQsZSk6dGhpcy5wcm9jZXNzQnV0dG9uRmxvYXQodCxlKSl9Zm9yKHZhciBpPTA7aTx0aGlzLl9heGVzTGVuO2krKyl7dmFyIHM9dGhpcy5fcmF3UGFkLmF4ZXNbaV07cz4wJiZzPnRoaXMuZGVhZFpvbmV8fHM8MCYmczwtdGhpcy5kZWFkWm9uZT90aGlzLnByb2Nlc3NBeGlzQ2hhbmdlKGkscyk6dGhpcy5wcm9jZXNzQXhpc0NoYW5nZShpLDApfXRoaXMuX3ByZXZUaW1lc3RhbXA9dGhpcy5fcmF3UGFkLnRpbWVzdGFtcH19LGNvbm5lY3Q6ZnVuY3Rpb24odCl7dmFyIGU9IXRoaXMuY29ubmVjdGVkO3RoaXMuY29ubmVjdGVkPSEwLHRoaXMuaW5kZXg9dC5pbmRleCx0aGlzLl9yYXdQYWQ9dCx0aGlzLl9idXR0b25zPVtdLHRoaXMuX2J1dHRvbnNMZW49dC5idXR0b25zLmxlbmd0aCx0aGlzLl9heGVzPVtdLHRoaXMuX2F4ZXNMZW49dC5heGVzLmxlbmd0aDtmb3IodmFyIHM9MDtzPHRoaXMuX2F4ZXNMZW47cysrKXRoaXMuX2F4ZXNbc109dC5heGVzW3NdO2Zvcih2YXIgbiBpbiB0LmJ1dHRvbnMpbj1wYXJzZUludChuLDEwKSx0aGlzLl9idXR0b25zW25dPW5ldyBpLkRldmljZUJ1dHRvbih0aGlzLG4pO2UmJnRoaXMuX3BhZFBhcmVudC5vbkNvbm5lY3RDYWxsYmFjayYmdGhpcy5fcGFkUGFyZW50Lm9uQ29ubmVjdENhbGxiYWNrLmNhbGwodGhpcy5fcGFkUGFyZW50LmNhbGxiYWNrQ29udGV4dCx0aGlzLmluZGV4KSxlJiZ0aGlzLm9uQ29ubmVjdENhbGxiYWNrJiZ0aGlzLm9uQ29ubmVjdENhbGxiYWNrLmNhbGwodGhpcy5jYWxsYmFja0NvbnRleHQpfSxkaXNjb25uZWN0OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5jb25uZWN0ZWQsZT10aGlzLmluZGV4O3RoaXMuY29ubmVjdGVkPSExLHRoaXMuaW5kZXg9bnVsbCx0aGlzLl9yYXdQYWQ9dm9pZCAwO2Zvcih2YXIgaT0wO2k8dGhpcy5fYnV0dG9uc0xlbjtpKyspdGhpcy5fYnV0dG9uc1tpXS5kZXN0cm95KCk7dGhpcy5fYnV0dG9ucz1bXSx0aGlzLl9idXR0b25zTGVuPTAsdGhpcy5fYXhlcz1bXSx0aGlzLl9heGVzTGVuPTAsdCYmdGhpcy5fcGFkUGFyZW50Lm9uRGlzY29ubmVjdENhbGxiYWNrJiZ0aGlzLl9wYWRQYXJlbnQub25EaXNjb25uZWN0Q2FsbGJhY2suY2FsbCh0aGlzLl9wYWRQYXJlbnQuY2FsbGJhY2tDb250ZXh0LGUpLHQmJnRoaXMub25EaXNjb25uZWN0Q2FsbGJhY2smJnRoaXMub25EaXNjb25uZWN0Q2FsbGJhY2suY2FsbCh0aGlzLmNhbGxiYWNrQ29udGV4dCl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLl9yYXdQYWQ9dm9pZCAwO2Zvcih2YXIgdD0wO3Q8dGhpcy5fYnV0dG9uc0xlbjt0KyspdGhpcy5fYnV0dG9uc1t0XS5kZXN0cm95KCk7dGhpcy5fYnV0dG9ucz1bXSx0aGlzLl9idXR0b25zTGVuPTAsdGhpcy5fYXhlcz1bXSx0aGlzLl9heGVzTGVuPTAsdGhpcy5vbkNvbm5lY3RDYWxsYmFjaz1udWxsLHRoaXMub25EaXNjb25uZWN0Q2FsbGJhY2s9bnVsbCx0aGlzLm9uRG93bkNhbGxiYWNrPW51bGwsdGhpcy5vblVwQ2FsbGJhY2s9bnVsbCx0aGlzLm9uQXhpc0NhbGxiYWNrPW51bGwsdGhpcy5vbkZsb2F0Q2FsbGJhY2s9bnVsbH0scHJvY2Vzc0F4aXNDaGFuZ2U6ZnVuY3Rpb24odCxlKXt0aGlzLl9heGVzW3RdIT09ZSYmKHRoaXMuX2F4ZXNbdF09ZSx0aGlzLl9wYWRQYXJlbnQub25BeGlzQ2FsbGJhY2smJnRoaXMuX3BhZFBhcmVudC5vbkF4aXNDYWxsYmFjay5jYWxsKHRoaXMuX3BhZFBhcmVudC5jYWxsYmFja0NvbnRleHQsdGhpcyx0LGUpLHRoaXMub25BeGlzQ2FsbGJhY2smJnRoaXMub25BeGlzQ2FsbGJhY2suY2FsbCh0aGlzLmNhbGxiYWNrQ29udGV4dCx0aGlzLHQsZSkpfSxwcm9jZXNzQnV0dG9uRG93bjpmdW5jdGlvbih0LGUpe3RoaXMuX2J1dHRvbnNbdF0mJnRoaXMuX2J1dHRvbnNbdF0uc3RhcnQobnVsbCxlKSx0aGlzLl9wYWRQYXJlbnQub25Eb3duQ2FsbGJhY2smJnRoaXMuX3BhZFBhcmVudC5vbkRvd25DYWxsYmFjay5jYWxsKHRoaXMuX3BhZFBhcmVudC5jYWxsYmFja0NvbnRleHQsdCxlLHRoaXMuaW5kZXgpLHRoaXMub25Eb3duQ2FsbGJhY2smJnRoaXMub25Eb3duQ2FsbGJhY2suY2FsbCh0aGlzLmNhbGxiYWNrQ29udGV4dCx0LGUpfSxwcm9jZXNzQnV0dG9uVXA6ZnVuY3Rpb24odCxlKXt0aGlzLl9wYWRQYXJlbnQub25VcENhbGxiYWNrJiZ0aGlzLl9wYWRQYXJlbnQub25VcENhbGxiYWNrLmNhbGwodGhpcy5fcGFkUGFyZW50LmNhbGxiYWNrQ29udGV4dCx0LGUsdGhpcy5pbmRleCksdGhpcy5vblVwQ2FsbGJhY2smJnRoaXMub25VcENhbGxiYWNrLmNhbGwodGhpcy5jYWxsYmFja0NvbnRleHQsdCxlKSx0aGlzLl9idXR0b25zW3RdJiZ0aGlzLl9idXR0b25zW3RdLnN0b3AobnVsbCxlKX0scHJvY2Vzc0J1dHRvbkZsb2F0OmZ1bmN0aW9uKHQsZSl7dGhpcy5fcGFkUGFyZW50Lm9uRmxvYXRDYWxsYmFjayYmdGhpcy5fcGFkUGFyZW50Lm9uRmxvYXRDYWxsYmFjay5jYWxsKHRoaXMuX3BhZFBhcmVudC5jYWxsYmFja0NvbnRleHQsdCxlLHRoaXMuaW5kZXgpLHRoaXMub25GbG9hdENhbGxiYWNrJiZ0aGlzLm9uRmxvYXRDYWxsYmFjay5jYWxsKHRoaXMuY2FsbGJhY2tDb250ZXh0LHQsZSksdGhpcy5fYnV0dG9uc1t0XSYmdGhpcy5fYnV0dG9uc1t0XS5wYWRGbG9hdChlKX0sYXhpczpmdW5jdGlvbih0KXtyZXR1cm4hIXRoaXMuX2F4ZXNbdF0mJnRoaXMuX2F4ZXNbdF19LGlzRG93bjpmdW5jdGlvbih0KXtyZXR1cm4hIXRoaXMuX2J1dHRvbnNbdF0mJnRoaXMuX2J1dHRvbnNbdF0uaXNEb3dufSxpc1VwOmZ1bmN0aW9uKHQpe3JldHVybiEhdGhpcy5fYnV0dG9uc1t0XSYmdGhpcy5fYnV0dG9uc1t0XS5pc1VwfSxqdXN0UmVsZWFzZWQ6ZnVuY3Rpb24odCxlKXtpZih0aGlzLl9idXR0b25zW3RdKXJldHVybiB0aGlzLl9idXR0b25zW3RdLmp1c3RSZWxlYXNlZChlKX0sanVzdFByZXNzZWQ6ZnVuY3Rpb24odCxlKXtpZih0aGlzLl9idXR0b25zW3RdKXJldHVybiB0aGlzLl9idXR0b25zW3RdLmp1c3RQcmVzc2VkKGUpfSxidXR0b25WYWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fYnV0dG9uc1t0XT90aGlzLl9idXR0b25zW3RdLnZhbHVlOm51bGx9LHJlc2V0OmZ1bmN0aW9uKCl7Zm9yKHZhciB0PTA7dDx0aGlzLl9heGVzLmxlbmd0aDt0KyspdGhpcy5fYXhlc1t0XT0wfX0saS5TaW5nbGVQYWQucHJvdG90eXBlLmNvbnN0cnVjdG9yPWkuU2luZ2xlUGFkLGkuS2V5PWZ1bmN0aW9uKHQsZSl7dGhpcy5nYW1lPXQsdGhpcy5fZW5hYmxlZD0hMCx0aGlzLmV2ZW50PW51bGwsdGhpcy5pc0Rvd249ITEsdGhpcy5pc1VwPSEwLHRoaXMuYWx0S2V5PSExLHRoaXMuY3RybEtleT0hMSx0aGlzLnNoaWZ0S2V5PSExLHRoaXMudGltZURvd249MCx0aGlzLmR1cmF0aW9uPTAsdGhpcy50aW1lVXA9LTI1MDAsdGhpcy5kdXJhdGlvblVwPS0yNTAwLHRoaXMucmVwZWF0cz0wLHRoaXMua2V5Q29kZT1lLHRoaXMub25Eb3duPW5ldyBpLlNpZ25hbCx0aGlzLm9uSG9sZENhbGxiYWNrPW51bGwsdGhpcy5vbkhvbGRDb250ZXh0PW51bGwsdGhpcy5vblVwPW5ldyBpLlNpZ25hbCx0aGlzLl9qdXN0RG93bj0hMSx0aGlzLl9qdXN0VXA9ITF9LGkuS2V5LnByb3RvdHlwZT17dXBkYXRlOmZ1bmN0aW9uKCl7dGhpcy5fZW5hYmxlZCYmKHRoaXMuaXNEb3duPyh0aGlzLmR1cmF0aW9uPXRoaXMuZ2FtZS50aW1lLnRpbWUtdGhpcy50aW1lRG93bix0aGlzLnJlcGVhdHMrKyx0aGlzLm9uSG9sZENhbGxiYWNrJiZ0aGlzLm9uSG9sZENhbGxiYWNrLmNhbGwodGhpcy5vbkhvbGRDb250ZXh0LHRoaXMpKTp0aGlzLmR1cmF0aW9uVXA9dGhpcy5nYW1lLnRpbWUudGltZS10aGlzLnRpbWVVcCl9LHByb2Nlc3NLZXlEb3duOmZ1bmN0aW9uKHQpe3RoaXMuX2VuYWJsZWQmJih0aGlzLmV2ZW50PXQsdGhpcy5pc0Rvd258fCh0aGlzLmFsdEtleT10LmFsdEtleSx0aGlzLmN0cmxLZXk9dC5jdHJsS2V5LHRoaXMuc2hpZnRLZXk9dC5zaGlmdEtleSx0aGlzLmlzRG93bj0hMCx0aGlzLmlzVXA9ITEsdGhpcy50aW1lRG93bj10aGlzLmdhbWUudGltZS50aW1lLHRoaXMuZHVyYXRpb249MCx0aGlzLmR1cmF0aW9uVXA9dGhpcy5nYW1lLnRpbWUudGltZS10aGlzLnRpbWVVcCx0aGlzLnJlcGVhdHM9MCx0aGlzLl9qdXN0RG93bj0hMCx0aGlzLm9uRG93bi5kaXNwYXRjaCh0aGlzKSkpfSxwcm9jZXNzS2V5VXA6ZnVuY3Rpb24odCl7dGhpcy5fZW5hYmxlZCYmKHRoaXMuZXZlbnQ9dCx0aGlzLmlzVXB8fCh0aGlzLmlzRG93bj0hMSx0aGlzLmlzVXA9ITAsdGhpcy50aW1lVXA9dGhpcy5nYW1lLnRpbWUudGltZSx0aGlzLmR1cmF0aW9uPXRoaXMuZ2FtZS50aW1lLnRpbWUtdGhpcy50aW1lRG93bix0aGlzLmR1cmF0aW9uVXA9MCx0aGlzLl9qdXN0VXA9ITAsdGhpcy5vblVwLmRpc3BhdGNoKHRoaXMpKSl9LHJlc2V0OmZ1bmN0aW9uKHQpe3ZvaWQgMD09PXQmJih0PSEwKSx0aGlzLmlzRG93bj0hMSx0aGlzLmlzVXA9ITAsdGhpcy50aW1lVXA9dGhpcy5nYW1lLnRpbWUudGltZSx0aGlzLmR1cmF0aW9uPTAsdGhpcy5kdXJhdGlvblVwPS0yNTAwLHRoaXMuX2VuYWJsZWQ9ITAsdGhpcy5fanVzdERvd249ITEsdGhpcy5fanVzdFVwPSExLHQmJih0aGlzLm9uRG93bi5yZW1vdmVBbGwoKSx0aGlzLm9uVXAucmVtb3ZlQWxsKCksdGhpcy5vbkhvbGRDYWxsYmFjaz1udWxsLHRoaXMub25Ib2xkQ29udGV4dD1udWxsKX0sZG93bkR1cmF0aW9uOmZ1bmN0aW9uKHQpe3JldHVybiB2b2lkIDA9PT10JiYodD01MCksdGhpcy5pc0Rvd24mJnRoaXMuZHVyYXRpb248dH0sdXBEdXJhdGlvbjpmdW5jdGlvbih0KXtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9NTApLCF0aGlzLmlzRG93biYmdGhpcy5nYW1lLnRpbWUudGltZS10aGlzLnRpbWVVcDx0fSxqdXN0UHJlc3NlZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmlzRG93biYmMD09PXRoaXMuZHVyYXRpb259LGp1c3RSZWxlYXNlZDpmdW5jdGlvbigpe3JldHVybiF0aGlzLmlzRG93biYmMD09PXRoaXMuZHVyYXRpb25VcH19LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLktleS5wcm90b3R5cGUsXCJqdXN0RG93blwiLHtnZXQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9qdXN0RG93bjtyZXR1cm4gdGhpcy5fanVzdERvd249ITEsdH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5LZXkucHJvdG90eXBlLFwianVzdFVwXCIse2dldDpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX2p1c3RVcDtyZXR1cm4gdGhpcy5fanVzdFVwPSExLHR9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuS2V5LnByb3RvdHlwZSxcImVuYWJsZWRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2VuYWJsZWR9LHNldDpmdW5jdGlvbih0KXsodD0hIXQpIT09dGhpcy5fZW5hYmxlZCYmKHR8fHRoaXMucmVzZXQoITEpLHRoaXMuX2VuYWJsZWQ9dCl9fSksaS5LZXkucHJvdG90eXBlLmNvbnN0cnVjdG9yPWkuS2V5LGkuS2V5Ym9hcmQ9ZnVuY3Rpb24odCl7dGhpcy5nYW1lPXQsdGhpcy5lbmFibGVkPSEwLHRoaXMuZXZlbnQ9bnVsbCx0aGlzLnByZXNzRXZlbnQ9bnVsbCx0aGlzLmNhbGxiYWNrQ29udGV4dD10aGlzLHRoaXMub25Eb3duQ2FsbGJhY2s9bnVsbCx0aGlzLm9uUHJlc3NDYWxsYmFjaz1udWxsLHRoaXMub25VcENhbGxiYWNrPW51bGwsdGhpcy5fa2V5cz1bXSx0aGlzLl9jYXB0dXJlPVtdLHRoaXMuX29uS2V5RG93bj1udWxsLHRoaXMuX29uS2V5UHJlc3M9bnVsbCx0aGlzLl9vbktleVVwPW51bGwsdGhpcy5faT0wLHRoaXMuX2s9MH0saS5LZXlib2FyZC5wcm90b3R5cGU9e2FkZENhbGxiYWNrczpmdW5jdGlvbih0LGUsaSxzKXt0aGlzLmNhbGxiYWNrQ29udGV4dD10LHZvaWQgMCE9PWUmJm51bGwhPT1lJiYodGhpcy5vbkRvd25DYWxsYmFjaz1lKSx2b2lkIDAhPT1pJiZudWxsIT09aSYmKHRoaXMub25VcENhbGxiYWNrPWkpLHZvaWQgMCE9PXMmJm51bGwhPT1zJiYodGhpcy5vblByZXNzQ2FsbGJhY2s9cyl9LHJlbW92ZUNhbGxiYWNrczpmdW5jdGlvbigpe3RoaXMuY2FsbGJhY2tDb250ZXh0PXRoaXMsdGhpcy5vbkRvd25DYWxsYmFjaz1udWxsLHRoaXMub25VcENhbGxiYWNrPW51bGwsdGhpcy5vblByZXNzQ2FsbGJhY2s9bnVsbH0sYWRkS2V5OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9rZXlzW3RdfHwodGhpcy5fa2V5c1t0XT1uZXcgaS5LZXkodGhpcy5nYW1lLHQpLHRoaXMuYWRkS2V5Q2FwdHVyZSh0KSksdGhpcy5fa2V5c1t0XX0sYWRkS2V5czpmdW5jdGlvbih0KXt2YXIgZT17fTtmb3IodmFyIGkgaW4gdCllW2ldPXRoaXMuYWRkS2V5KHRbaV0pO3JldHVybiBlfSxyZW1vdmVLZXk6ZnVuY3Rpb24odCl7dGhpcy5fa2V5c1t0XSYmKHRoaXMuX2tleXNbdF09bnVsbCx0aGlzLnJlbW92ZUtleUNhcHR1cmUodCkpfSxjcmVhdGVDdXJzb3JLZXlzOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYWRkS2V5cyh7dXA6aS5LZXlDb2RlLlVQLGRvd246aS5LZXlDb2RlLkRPV04sbGVmdDppLktleUNvZGUuTEVGVCxyaWdodDppLktleUNvZGUuUklHSFR9KX0sc3RhcnQ6ZnVuY3Rpb24oKXtpZighdGhpcy5nYW1lLmRldmljZS5jb2Nvb25KUyYmbnVsbD09PXRoaXMuX29uS2V5RG93bil7dmFyIHQ9dGhpczt0aGlzLl9vbktleURvd249ZnVuY3Rpb24oZSl7cmV0dXJuIHQucHJvY2Vzc0tleURvd24oZSl9LHRoaXMuX29uS2V5VXA9ZnVuY3Rpb24oZSl7cmV0dXJuIHQucHJvY2Vzc0tleVVwKGUpfSx0aGlzLl9vbktleVByZXNzPWZ1bmN0aW9uKGUpe3JldHVybiB0LnByb2Nlc3NLZXlQcmVzcyhlKX0sd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsdGhpcy5fb25LZXlEb3duLCExKSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsdGhpcy5fb25LZXlVcCwhMSksd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlwcmVzc1wiLHRoaXMuX29uS2V5UHJlc3MsITEpfX0sc3RvcDpmdW5jdGlvbigpe3dpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLHRoaXMuX29uS2V5RG93biksd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLHRoaXMuX29uS2V5VXApLHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5cHJlc3NcIix0aGlzLl9vbktleVByZXNzKSx0aGlzLl9vbktleURvd249bnVsbCx0aGlzLl9vbktleVVwPW51bGwsdGhpcy5fb25LZXlQcmVzcz1udWxsfSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5zdG9wKCksdGhpcy5jbGVhckNhcHR1cmVzKCksdGhpcy5fa2V5cy5sZW5ndGg9MCx0aGlzLl9pPTB9LGFkZEtleUNhcHR1cmU6ZnVuY3Rpb24odCl7aWYoXCJvYmplY3RcIj09dHlwZW9mIHQpZm9yKHZhciBlIGluIHQpdGhpcy5fY2FwdHVyZVt0W2VdXT0hMDtlbHNlIHRoaXMuX2NhcHR1cmVbdF09ITB9LHJlbW92ZUtleUNhcHR1cmU6ZnVuY3Rpb24odCl7ZGVsZXRlIHRoaXMuX2NhcHR1cmVbdF19LGNsZWFyQ2FwdHVyZXM6ZnVuY3Rpb24oKXt0aGlzLl9jYXB0dXJlPXt9fSx1cGRhdGU6ZnVuY3Rpb24oKXtmb3IodGhpcy5faT10aGlzLl9rZXlzLmxlbmd0aDt0aGlzLl9pLS07KXRoaXMuX2tleXNbdGhpcy5faV0mJnRoaXMuX2tleXNbdGhpcy5faV0udXBkYXRlKCl9LHByb2Nlc3NLZXlEb3duOmZ1bmN0aW9uKHQpe2lmKHRoaXMuZXZlbnQ9dCx0aGlzLmdhbWUuaW5wdXQuZW5hYmxlZCYmdGhpcy5lbmFibGVkKXt2YXIgZT10LmtleUNvZGU7dGhpcy5fY2FwdHVyZVtlXSYmdC5wcmV2ZW50RGVmYXVsdCgpLHRoaXMuX2tleXNbZV18fCh0aGlzLl9rZXlzW2VdPW5ldyBpLktleSh0aGlzLmdhbWUsZSkpLHRoaXMuX2tleXNbZV0ucHJvY2Vzc0tleURvd24odCksdGhpcy5faz1lLHRoaXMub25Eb3duQ2FsbGJhY2smJnRoaXMub25Eb3duQ2FsbGJhY2suY2FsbCh0aGlzLmNhbGxiYWNrQ29udGV4dCx0KX19LHByb2Nlc3NLZXlQcmVzczpmdW5jdGlvbih0KXt0aGlzLnByZXNzRXZlbnQ9dCx0aGlzLmdhbWUuaW5wdXQuZW5hYmxlZCYmdGhpcy5lbmFibGVkJiZ0aGlzLm9uUHJlc3NDYWxsYmFjayYmdGhpcy5vblByZXNzQ2FsbGJhY2suY2FsbCh0aGlzLmNhbGxiYWNrQ29udGV4dCxTdHJpbmcuZnJvbUNoYXJDb2RlKHQuY2hhckNvZGUpLHQpfSxwcm9jZXNzS2V5VXA6ZnVuY3Rpb24odCl7aWYodGhpcy5ldmVudD10LHRoaXMuZ2FtZS5pbnB1dC5lbmFibGVkJiZ0aGlzLmVuYWJsZWQpe3ZhciBlPXQua2V5Q29kZTt0aGlzLl9jYXB0dXJlW2VdJiZ0LnByZXZlbnREZWZhdWx0KCksdGhpcy5fa2V5c1tlXXx8KHRoaXMuX2tleXNbZV09bmV3IGkuS2V5KHRoaXMuZ2FtZSxlKSksdGhpcy5fa2V5c1tlXS5wcm9jZXNzS2V5VXAodCksdGhpcy5vblVwQ2FsbGJhY2smJnRoaXMub25VcENhbGxiYWNrLmNhbGwodGhpcy5jYWxsYmFja0NvbnRleHQsdCl9fSxyZXNldDpmdW5jdGlvbih0KXt2b2lkIDA9PT10JiYodD0hMCksdGhpcy5ldmVudD1udWxsO2Zvcih2YXIgZT10aGlzLl9rZXlzLmxlbmd0aDtlLS07KXRoaXMuX2tleXNbZV0mJnRoaXMuX2tleXNbZV0ucmVzZXQodCl9LGRvd25EdXJhdGlvbjpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLl9rZXlzW3RdP3RoaXMuX2tleXNbdF0uZG93bkR1cmF0aW9uKGUpOm51bGx9LHVwRHVyYXRpb246ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5fa2V5c1t0XT90aGlzLl9rZXlzW3RdLnVwRHVyYXRpb24oZSk6bnVsbH0sanVzdFByZXNzZWQ6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2tleXNbdF0/dGhpcy5fa2V5c1t0XS5qdXN0UHJlc3NlZCgpOm51bGx9LGp1c3RSZWxlYXNlZDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fa2V5c1t0XT90aGlzLl9rZXlzW3RdLmp1c3RSZWxlYXNlZCgpOm51bGx9LGlzRG93bjpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fa2V5c1t0XT90aGlzLl9rZXlzW3RdLmlzRG93bjpudWxsfX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuS2V5Ym9hcmQucHJvdG90eXBlLFwibGFzdENoYXJcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZXZlbnQmJjMyPT09dGhpcy5ldmVudC5jaGFyQ29kZT9cIlwiOnRoaXMucHJlc3NFdmVudD9TdHJpbmcuZnJvbUNoYXJDb2RlKHRoaXMucHJlc3NFdmVudC5jaGFyQ29kZSk6bnVsbH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5LZXlib2FyZC5wcm90b3R5cGUsXCJsYXN0S2V5XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9rZXlzW3RoaXMuX2tdfX0pLGkuS2V5Ym9hcmQucHJvdG90eXBlLmNvbnN0cnVjdG9yPWkuS2V5Ym9hcmQsaS5LZXlDb2RlPXtBOlwiQVwiLmNoYXJDb2RlQXQoMCksQjpcIkJcIi5jaGFyQ29kZUF0KDApLEM6XCJDXCIuY2hhckNvZGVBdCgwKSxEOlwiRFwiLmNoYXJDb2RlQXQoMCksRTpcIkVcIi5jaGFyQ29kZUF0KDApLEY6XCJGXCIuY2hhckNvZGVBdCgwKSxHOlwiR1wiLmNoYXJDb2RlQXQoMCksSDpcIkhcIi5jaGFyQ29kZUF0KDApLEk6XCJJXCIuY2hhckNvZGVBdCgwKSxKOlwiSlwiLmNoYXJDb2RlQXQoMCksSzpcIktcIi5jaGFyQ29kZUF0KDApLEw6XCJMXCIuY2hhckNvZGVBdCgwKSxNOlwiTVwiLmNoYXJDb2RlQXQoMCksTjpcIk5cIi5jaGFyQ29kZUF0KDApLE86XCJPXCIuY2hhckNvZGVBdCgwKSxQOlwiUFwiLmNoYXJDb2RlQXQoMCksUTpcIlFcIi5jaGFyQ29kZUF0KDApLFI6XCJSXCIuY2hhckNvZGVBdCgwKSxTOlwiU1wiLmNoYXJDb2RlQXQoMCksVDpcIlRcIi5jaGFyQ29kZUF0KDApLFU6XCJVXCIuY2hhckNvZGVBdCgwKSxWOlwiVlwiLmNoYXJDb2RlQXQoMCksVzpcIldcIi5jaGFyQ29kZUF0KDApLFg6XCJYXCIuY2hhckNvZGVBdCgwKSxZOlwiWVwiLmNoYXJDb2RlQXQoMCksWjpcIlpcIi5jaGFyQ29kZUF0KDApLFpFUk86XCIwXCIuY2hhckNvZGVBdCgwKSxPTkU6XCIxXCIuY2hhckNvZGVBdCgwKSxUV086XCIyXCIuY2hhckNvZGVBdCgwKSxUSFJFRTpcIjNcIi5jaGFyQ29kZUF0KDApLEZPVVI6XCI0XCIuY2hhckNvZGVBdCgwKSxGSVZFOlwiNVwiLmNoYXJDb2RlQXQoMCksU0lYOlwiNlwiLmNoYXJDb2RlQXQoMCksU0VWRU46XCI3XCIuY2hhckNvZGVBdCgwKSxFSUdIVDpcIjhcIi5jaGFyQ29kZUF0KDApLE5JTkU6XCI5XCIuY2hhckNvZGVBdCgwKSxOVU1QQURfMDo5NixOVU1QQURfMTo5NyxOVU1QQURfMjo5OCxOVU1QQURfMzo5OSxOVU1QQURfNDoxMDAsTlVNUEFEXzU6MTAxLE5VTVBBRF82OjEwMixOVU1QQURfNzoxMDMsTlVNUEFEXzg6MTA0LE5VTVBBRF85OjEwNSxOVU1QQURfTVVMVElQTFk6MTA2LE5VTVBBRF9BREQ6MTA3LE5VTVBBRF9FTlRFUjoxMDgsTlVNUEFEX1NVQlRSQUNUOjEwOSxOVU1QQURfREVDSU1BTDoxMTAsTlVNUEFEX0RJVklERToxMTEsRjE6MTEyLEYyOjExMyxGMzoxMTQsRjQ6MTE1LEY1OjExNixGNjoxMTcsRjc6MTE4LEY4OjExOSxGOToxMjAsRjEwOjEyMSxGMTE6MTIyLEYxMjoxMjMsRjEzOjEyNCxGMTQ6MTI1LEYxNToxMjYsQ09MT046MTg2LEVRVUFMUzoxODcsQ09NTUE6MTg4LFVOREVSU0NPUkU6MTg5LFBFUklPRDoxOTAsUVVFU1RJT05fTUFSSzoxOTEsVElMREU6MTkyLE9QRU5fQlJBQ0tFVDoyMTksQkFDS1dBUkRfU0xBU0g6MjIwLENMT1NFRF9CUkFDS0VUOjIyMSxRVU9URVM6MjIyLEJBQ0tTUEFDRTo4LFRBQjo5LENMRUFSOjEyLEVOVEVSOjEzLFNISUZUOjE2LENPTlRST0w6MTcsQUxUOjE4LENBUFNfTE9DSzoyMCxFU0M6MjcsU1BBQ0VCQVI6MzIsUEFHRV9VUDozMyxQQUdFX0RPV046MzQsRU5EOjM1LEhPTUU6MzYsTEVGVDozNyxVUDozOCxSSUdIVDozOSxET1dOOjQwLFBMVVM6NDMsTUlOVVM6NDQsSU5TRVJUOjQ1LERFTEVURTo0NixIRUxQOjQ3LE5VTV9MT0NLOjE0NH07Zm9yKHZhciBuIGluIGkuS2V5Q29kZSlpLktleUNvZGUuaGFzT3duUHJvcGVydHkobikmJiFuLm1hdGNoKC9bYS16XS8pJiYoaS5LZXlib2FyZFtuXT1pLktleUNvZGVbbl0pO2kuQ29tcG9uZW50PWZ1bmN0aW9uKCl7fSxpLkNvbXBvbmVudC5BbmdsZT1mdW5jdGlvbigpe30saS5Db21wb25lbnQuQW5nbGUucHJvdG90eXBlPXthbmdsZTp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGkuTWF0aC53cmFwQW5nbGUoaS5NYXRoLnJhZFRvRGVnKHRoaXMucm90YXRpb24pKX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMucm90YXRpb249aS5NYXRoLmRlZ1RvUmFkKGkuTWF0aC53cmFwQW5nbGUodCkpfX19LGkuQ29tcG9uZW50LkFuaW1hdGlvbj1mdW5jdGlvbigpe30saS5Db21wb25lbnQuQW5pbWF0aW9uLnByb3RvdHlwZT17cGxheTpmdW5jdGlvbih0LGUsaSxzKXtpZih0aGlzLmFuaW1hdGlvbnMpcmV0dXJuIHRoaXMuYW5pbWF0aW9ucy5wbGF5KHQsZSxpLHMpfX0saS5Db21wb25lbnQuQXV0b0N1bGw9ZnVuY3Rpb24oKXt9LGkuQ29tcG9uZW50LkF1dG9DdWxsLnByb3RvdHlwZT17YXV0b0N1bGw6ITEsaW5DYW1lcmE6e2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmF1dG9DdWxsfHx0aGlzLmNoZWNrV29ybGRCb3VuZHN8fCh0aGlzLl9ib3VuZHMuY29weUZyb20odGhpcy5nZXRCb3VuZHMoKSksdGhpcy5fYm91bmRzLngrPXRoaXMuZ2FtZS5jYW1lcmEudmlldy54LHRoaXMuX2JvdW5kcy55Kz10aGlzLmdhbWUuY2FtZXJhLnZpZXcueSksdGhpcy5nYW1lLndvcmxkLmNhbWVyYS52aWV3LmludGVyc2VjdHModGhpcy5fYm91bmRzKX19fSxpLkNvbXBvbmVudC5Cb3VuZHM9ZnVuY3Rpb24oKXt9LGkuQ29tcG9uZW50LkJvdW5kcy5wcm90b3R5cGU9e29mZnNldFg6e2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmFuY2hvci54KnRoaXMud2lkdGh9fSxvZmZzZXRZOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hbmNob3IueSp0aGlzLmhlaWdodH19LGNlbnRlclg6e2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLngtdGhpcy5vZmZzZXRYKy41KnRoaXMud2lkdGh9LHNldDpmdW5jdGlvbih0KXt0aGlzLng9dCt0aGlzLm9mZnNldFgtLjUqdGhpcy53aWR0aH19LGNlbnRlclk6e2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnktdGhpcy5vZmZzZXRZKy41KnRoaXMuaGVpZ2h0fSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy55PXQrdGhpcy5vZmZzZXRZLS41KnRoaXMuaGVpZ2h0fX0sbGVmdDp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMueC10aGlzLm9mZnNldFh9LHNldDpmdW5jdGlvbih0KXt0aGlzLng9dCt0aGlzLm9mZnNldFh9fSxyaWdodDp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMueCt0aGlzLndpZHRoLXRoaXMub2Zmc2V0WH0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMueD10LXRoaXMud2lkdGgrdGhpcy5vZmZzZXRYfX0sdG9wOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy55LXRoaXMub2Zmc2V0WX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMueT10K3RoaXMub2Zmc2V0WX19LGJvdHRvbTp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMueSt0aGlzLmhlaWdodC10aGlzLm9mZnNldFl9LHNldDpmdW5jdGlvbih0KXt0aGlzLnk9dC10aGlzLmhlaWdodCt0aGlzLm9mZnNldFl9fSxhbGlnbkluOmZ1bmN0aW9uKHQsZSxzLG4pe3N3aXRjaCh2b2lkIDA9PT1zJiYocz0wKSx2b2lkIDA9PT1uJiYobj0wKSxlKXtkZWZhdWx0OmNhc2UgaS5UT1BfTEVGVDp0aGlzLmxlZnQ9dC5sZWZ0LXMsdGhpcy50b3A9dC50b3AtbjticmVhaztjYXNlIGkuVE9QX0NFTlRFUjp0aGlzLmNlbnRlclg9dC5jZW50ZXJYK3MsdGhpcy50b3A9dC50b3AtbjticmVhaztjYXNlIGkuVE9QX1JJR0hUOnRoaXMucmlnaHQ9dC5yaWdodCtzLHRoaXMudG9wPXQudG9wLW47YnJlYWs7Y2FzZSBpLkxFRlRfQ0VOVEVSOnRoaXMubGVmdD10LmxlZnQtcyx0aGlzLmNlbnRlclk9dC5jZW50ZXJZK247YnJlYWs7Y2FzZSBpLkNFTlRFUjp0aGlzLmNlbnRlclg9dC5jZW50ZXJYK3MsdGhpcy5jZW50ZXJZPXQuY2VudGVyWStuO2JyZWFrO2Nhc2UgaS5SSUdIVF9DRU5URVI6dGhpcy5yaWdodD10LnJpZ2h0K3MsdGhpcy5jZW50ZXJZPXQuY2VudGVyWStuO2JyZWFrO2Nhc2UgaS5CT1RUT01fTEVGVDp0aGlzLmxlZnQ9dC5sZWZ0LXMsdGhpcy5ib3R0b209dC5ib3R0b20rbjticmVhaztjYXNlIGkuQk9UVE9NX0NFTlRFUjp0aGlzLmNlbnRlclg9dC5jZW50ZXJYK3MsdGhpcy5ib3R0b209dC5ib3R0b20rbjticmVhaztjYXNlIGkuQk9UVE9NX1JJR0hUOnRoaXMucmlnaHQ9dC5yaWdodCtzLHRoaXMuYm90dG9tPXQuYm90dG9tK259cmV0dXJuIHRoaXN9LGFsaWduVG86ZnVuY3Rpb24odCxlLHMsbil7c3dpdGNoKHZvaWQgMD09PXMmJihzPTApLHZvaWQgMD09PW4mJihuPTApLGUpe2RlZmF1bHQ6Y2FzZSBpLlRPUF9MRUZUOnRoaXMubGVmdD10LmxlZnQtcyx0aGlzLmJvdHRvbT10LnRvcC1uO2JyZWFrO2Nhc2UgaS5UT1BfQ0VOVEVSOnRoaXMuY2VudGVyWD10LmNlbnRlclgrcyx0aGlzLmJvdHRvbT10LnRvcC1uO2JyZWFrO2Nhc2UgaS5UT1BfUklHSFQ6dGhpcy5yaWdodD10LnJpZ2h0K3MsdGhpcy5ib3R0b209dC50b3AtbjticmVhaztjYXNlIGkuTEVGVF9UT1A6dGhpcy5yaWdodD10LmxlZnQtcyx0aGlzLnRvcD10LnRvcC1uO2JyZWFrO2Nhc2UgaS5MRUZUX0NFTlRFUjp0aGlzLnJpZ2h0PXQubGVmdC1zLHRoaXMuY2VudGVyWT10LmNlbnRlclkrbjticmVhaztjYXNlIGkuTEVGVF9CT1RUT006dGhpcy5yaWdodD10LmxlZnQtcyx0aGlzLmJvdHRvbT10LmJvdHRvbStuO2JyZWFrO2Nhc2UgaS5SSUdIVF9UT1A6dGhpcy5sZWZ0PXQucmlnaHQrcyx0aGlzLnRvcD10LnRvcC1uO2JyZWFrO2Nhc2UgaS5SSUdIVF9DRU5URVI6dGhpcy5sZWZ0PXQucmlnaHQrcyx0aGlzLmNlbnRlclk9dC5jZW50ZXJZK247YnJlYWs7Y2FzZSBpLlJJR0hUX0JPVFRPTTp0aGlzLmxlZnQ9dC5yaWdodCtzLHRoaXMuYm90dG9tPXQuYm90dG9tK247YnJlYWs7Y2FzZSBpLkJPVFRPTV9MRUZUOnRoaXMubGVmdD10LmxlZnQtcyx0aGlzLnRvcD10LmJvdHRvbStuO2JyZWFrO2Nhc2UgaS5CT1RUT01fQ0VOVEVSOnRoaXMuY2VudGVyWD10LmNlbnRlclgrcyx0aGlzLnRvcD10LmJvdHRvbStuO2JyZWFrO2Nhc2UgaS5CT1RUT01fUklHSFQ6dGhpcy5yaWdodD10LnJpZ2h0K3MsdGhpcy50b3A9dC5ib3R0b20rbn1yZXR1cm4gdGhpc319LGkuR3JvdXAucHJvdG90eXBlLmFsaWduSW49aS5Db21wb25lbnQuQm91bmRzLnByb3RvdHlwZS5hbGlnbkluLGkuR3JvdXAucHJvdG90eXBlLmFsaWduVG89aS5Db21wb25lbnQuQm91bmRzLnByb3RvdHlwZS5hbGlnblRvLGkuQ29tcG9uZW50LkJyaW5nVG9Ub3A9ZnVuY3Rpb24oKXt9LGkuQ29tcG9uZW50LkJyaW5nVG9Ub3AucHJvdG90eXBlLmJyaW5nVG9Ub3A9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wYXJlbnQmJnRoaXMucGFyZW50LmJyaW5nVG9Ub3AodGhpcyksdGhpc30saS5Db21wb25lbnQuQnJpbmdUb1RvcC5wcm90b3R5cGUuc2VuZFRvQmFjaz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnBhcmVudCYmdGhpcy5wYXJlbnQuc2VuZFRvQmFjayh0aGlzKSx0aGlzfSxpLkNvbXBvbmVudC5CcmluZ1RvVG9wLnByb3RvdHlwZS5tb3ZlVXA9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wYXJlbnQmJnRoaXMucGFyZW50Lm1vdmVVcCh0aGlzKSx0aGlzfSxpLkNvbXBvbmVudC5CcmluZ1RvVG9wLnByb3RvdHlwZS5tb3ZlRG93bj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnBhcmVudCYmdGhpcy5wYXJlbnQubW92ZURvd24odGhpcyksdGhpc30saS5Db21wb25lbnQuQ29yZT1mdW5jdGlvbigpe30saS5Db21wb25lbnQuQ29yZS5za2lwVHlwZUNoZWNrcz0hMSxpLkNvbXBvbmVudC5Db3JlLmluc3RhbGw9ZnVuY3Rpb24odCl7aS5VdGlscy5taXhpblByb3RvdHlwZSh0aGlzLGkuQ29tcG9uZW50LkNvcmUucHJvdG90eXBlKSx0aGlzLmNvbXBvbmVudHM9e307Zm9yKHZhciBlPTA7ZTx0Lmxlbmd0aDtlKyspe3ZhciBzPXRbZV0sbj0hMTtcIkRlc3Ryb3lcIj09PXMmJihuPSEwKSxpLlV0aWxzLm1peGluUHJvdG90eXBlKHRoaXMsaS5Db21wb25lbnRbc10ucHJvdG90eXBlLG4pLHRoaXMuY29tcG9uZW50c1tzXT0hMH19LGkuQ29tcG9uZW50LkNvcmUuaW5pdD1mdW5jdGlvbih0LGUscyxuLG8pe2lmKCFpLkNvbXBvbmVudC5Db3JlLnNraXBUeXBlQ2hlY2tzKXtpZighKHQgaW5zdGFuY2VvZiBpLkdhbWUpKXRocm93IG5ldyBFcnJvcihcIlRoZSB2YWx1ZSBwYXNzZWQgYXMgdGhlIGBnYW1lYCBhcmd1bWVudCAoXCIrdCtcIikgaXMgbm90IGFuIGluc3RhbmNlIG9mIFBoYXNlci5HYW1lLlwiKTtcIm51bWJlclwiIT10eXBlb2YgZSYmKGNvbnNvbGUud2FybihcIlRoZSBgeGAgYXJndW1lbnQgdmFsdWUgKCVzKSBzaG91bGQgYmUgYSBudW1iZXIuXCIsZSksZT0wKSxcIm51bWJlclwiIT10eXBlb2YgcyYmKGNvbnNvbGUud2FybihcIlRoZSBgeWAgYXJndW1lbnQgdmFsdWUgKCVzKSBzaG91bGQgYmUgYSBudW1iZXIuXCIscykscz0wKX10aGlzLmdhbWU9dCx0aGlzLmtleT1uLHRoaXMuZGF0YT17fSx0aGlzLnBvc2l0aW9uLnNldChlLHMpLHRoaXMud29ybGQ9bmV3IGkuUG9pbnQoZSxzKSx0aGlzLnByZXZpb3VzUG9zaXRpb249bmV3IGkuUG9pbnQoZSxzKSx0aGlzLmV2ZW50cz1uZXcgaS5FdmVudHModGhpcyksdGhpcy5fYm91bmRzPW5ldyBpLlJlY3RhbmdsZSx0aGlzLmNvbXBvbmVudHMuUGh5c2ljc0JvZHkmJih0aGlzLmJvZHk9dGhpcy5ib2R5KSx0aGlzLmNvbXBvbmVudHMuQW5pbWF0aW9uJiYodGhpcy5hbmltYXRpb25zPW5ldyBpLkFuaW1hdGlvbk1hbmFnZXIodGhpcykpLHRoaXMuY29tcG9uZW50cy5Mb2FkVGV4dHVyZSYmbnVsbCE9PW4mJnRoaXMubG9hZFRleHR1cmUobixvKSx0aGlzLmNvbXBvbmVudHMuRml4ZWRUb0NhbWVyYSYmKHRoaXMuY2FtZXJhT2Zmc2V0PW5ldyBpLlBvaW50KGUscykpfSxpLkNvbXBvbmVudC5Db3JlLnByZVVwZGF0ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnBlbmRpbmdEZXN0cm95Pyh0aGlzLmRlc3Ryb3koKSwhMSk6KHRoaXMucHJldmlvdXNQb3NpdGlvbi5zZXQodGhpcy53b3JsZC54LHRoaXMud29ybGQueSksdGhpcy5wcmV2aW91c1JvdGF0aW9uPXRoaXMucm90YXRpb24sdGhpcy5leGlzdHMmJnRoaXMucGFyZW50LmV4aXN0cz8odGhpcy53b3JsZC5zZXRUbyh0aGlzLmdhbWUuY2FtZXJhLngrdGhpcy53b3JsZFRyYW5zZm9ybS50eCx0aGlzLmdhbWUuY2FtZXJhLnkrdGhpcy53b3JsZFRyYW5zZm9ybS50eSksdGhpcy52aXNpYmxlJiYodGhpcy5yZW5kZXJPcmRlcklEPXRoaXMuZ2FtZS5zdGFnZS5jdXJyZW50UmVuZGVyT3JkZXJJRCsrKSx0aGlzLmFuaW1hdGlvbnMmJnRoaXMuYW5pbWF0aW9ucy51cGRhdGUoKSx0aGlzLmJvZHkmJnRoaXMuYm9keS5wcmVVcGRhdGUoKSx0aGlzLnByZVVwZGF0ZUNoaWxkcmVuKCksITApOih0aGlzLnJlbmRlck9yZGVySUQ9LTEsITEpKX0saS5Db21wb25lbnQuQ29yZS5wcm90b3R5cGU9e2dhbWU6bnVsbCxuYW1lOlwiXCIsZGF0YTp7fSxjb21wb25lbnRzOnt9LHo6MCxldmVudHM6dm9pZCAwLGFuaW1hdGlvbnM6dm9pZCAwLGtleTpcIlwiLHdvcmxkOm51bGwsZGVidWc6ITEscHJldmlvdXNQb3NpdGlvbjpudWxsLHByZXZpb3VzUm90YXRpb246MCxyZW5kZXJPcmRlcklEOjAsZnJlc2g6ITAscGVuZGluZ0Rlc3Ryb3k6ITEsX2JvdW5kczpudWxsLF9leGlzdHM6ITAsZXhpc3RzOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZXhpc3RzfSxzZXQ6ZnVuY3Rpb24odCl7dD8odGhpcy5fZXhpc3RzPSEwLHRoaXMuYm9keSYmdGhpcy5ib2R5LnR5cGU9PT1pLlBoeXNpY3MuUDJKUyYmdGhpcy5ib2R5LmFkZFRvV29ybGQoKSx0aGlzLnZpc2libGU9ITApOih0aGlzLl9leGlzdHM9ITEsdGhpcy5ib2R5JiZ0aGlzLmJvZHkudHlwZT09PWkuUGh5c2ljcy5QMkpTJiZ0aGlzLmJvZHkucmVtb3ZlRnJvbVdvcmxkKCksdGhpcy52aXNpYmxlPSExKX19LHByZVVwZGF0ZUNoaWxkcmVuOmZ1bmN0aW9uKCl7Zm9yKHZhciB0PTA7dDx0aGlzLmNoaWxkcmVuLmxlbmd0aDspe3ZhciBlPXRoaXMuY2hpbGRyZW5bdF07ZS5wcmVVcGRhdGUoKSx0aGlzPT09ZS5wYXJlbnQmJnQrK319LHVwZGF0ZTpmdW5jdGlvbigpe30scG9zdFVwZGF0ZTpmdW5jdGlvbigpe3RoaXMuY3VzdG9tUmVuZGVyJiZ0aGlzLmtleS5yZW5kZXIoKSx0aGlzLmNvbXBvbmVudHMuUGh5c2ljc0JvZHkmJmkuQ29tcG9uZW50LlBoeXNpY3NCb2R5LnBvc3RVcGRhdGUuY2FsbCh0aGlzKSx0aGlzLmNvbXBvbmVudHMuRml4ZWRUb0NhbWVyYSYmaS5Db21wb25lbnQuRml4ZWRUb0NhbWVyYS5wb3N0VXBkYXRlLmNhbGwodGhpcyk7Zm9yKHZhciB0PTA7dDx0aGlzLmNoaWxkcmVuLmxlbmd0aDt0KyspdGhpcy5jaGlsZHJlblt0XS5wb3N0VXBkYXRlKCl9fSxpLkNvbXBvbmVudC5Dcm9wPWZ1bmN0aW9uKCl7fSxpLkNvbXBvbmVudC5Dcm9wLnByb3RvdHlwZT17Y3JvcFJlY3Q6bnVsbCxfY3JvcDpudWxsLGNyb3A6ZnVuY3Rpb24odCxlKXt2b2lkIDA9PT1lJiYoZT0hMSksdD8oZSYmbnVsbCE9PXRoaXMuY3JvcFJlY3Q/dGhpcy5jcm9wUmVjdC5zZXRUbyh0LngsdC55LHQud2lkdGgsdC5oZWlnaHQpOmUmJm51bGw9PT10aGlzLmNyb3BSZWN0P3RoaXMuY3JvcFJlY3Q9bmV3IGkuUmVjdGFuZ2xlKHQueCx0LnksdC53aWR0aCx0LmhlaWdodCk6dGhpcy5jcm9wUmVjdD10LHRoaXMudXBkYXRlQ3JvcCgpKToodGhpcy5fY3JvcD1udWxsLHRoaXMuY3JvcFJlY3Q9bnVsbCx0aGlzLnJlc2V0RnJhbWUoKSl9LHVwZGF0ZUNyb3A6ZnVuY3Rpb24oKXtpZih0aGlzLmNyb3BSZWN0KXt2YXIgdD10aGlzLnRleHR1cmUuY3JvcC54LGU9dGhpcy50ZXh0dXJlLmNyb3AueSxzPXRoaXMudGV4dHVyZS5jcm9wLndpZHRoLG49dGhpcy50ZXh0dXJlLmNyb3AuaGVpZ2h0O3RoaXMuX2Nyb3A9aS5SZWN0YW5nbGUuY2xvbmUodGhpcy5jcm9wUmVjdCx0aGlzLl9jcm9wKSx0aGlzLl9jcm9wLngrPXRoaXMuX2ZyYW1lLngsdGhpcy5fY3JvcC55Kz10aGlzLl9mcmFtZS55O3ZhciBvPU1hdGgubWF4KHRoaXMuX2ZyYW1lLngsdGhpcy5fY3JvcC54KSxyPU1hdGgubWF4KHRoaXMuX2ZyYW1lLnksdGhpcy5fY3JvcC55KSxhPU1hdGgubWluKHRoaXMuX2ZyYW1lLnJpZ2h0LHRoaXMuX2Nyb3AucmlnaHQpLW8saD1NYXRoLm1pbih0aGlzLl9mcmFtZS5ib3R0b20sdGhpcy5fY3JvcC5ib3R0b20pLXI7dGhpcy50ZXh0dXJlLmNyb3AueD1vLHRoaXMudGV4dHVyZS5jcm9wLnk9cix0aGlzLnRleHR1cmUuY3JvcC53aWR0aD1hLHRoaXMudGV4dHVyZS5jcm9wLmhlaWdodD1oLHRoaXMudGV4dHVyZS5mcmFtZS53aWR0aD1NYXRoLm1pbihhLHRoaXMuY3JvcFJlY3Qud2lkdGgpLHRoaXMudGV4dHVyZS5mcmFtZS5oZWlnaHQ9TWF0aC5taW4oaCx0aGlzLmNyb3BSZWN0LmhlaWdodCksdGhpcy50ZXh0dXJlLndpZHRoPXRoaXMudGV4dHVyZS5mcmFtZS53aWR0aCx0aGlzLnRleHR1cmUuaGVpZ2h0PXRoaXMudGV4dHVyZS5mcmFtZS5oZWlnaHQsdGhpcy50ZXh0dXJlLl91cGRhdGVVdnMoKSwxNjc3NzIxNT09PXRoaXMudGludHx8dD09PW8mJmU9PT1yJiZzPT09YSYmbj09PWh8fCh0aGlzLnRleHR1cmUucmVxdWlyZXNSZVRpbnQ9ITApfX19LGkuQ29tcG9uZW50LkRlbHRhPWZ1bmN0aW9uKCl7fSxpLkNvbXBvbmVudC5EZWx0YS5wcm90b3R5cGU9e2RlbHRhWDp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMud29ybGQueC10aGlzLnByZXZpb3VzUG9zaXRpb24ueH19LGRlbHRhWTp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMud29ybGQueS10aGlzLnByZXZpb3VzUG9zaXRpb24ueX19LGRlbHRhWjp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucm90YXRpb24tdGhpcy5wcmV2aW91c1JvdGF0aW9ufX19LGkuQ29tcG9uZW50LkRlc3Ryb3k9ZnVuY3Rpb24oKXt9LGkuQ29tcG9uZW50LkRlc3Ryb3kucHJvdG90eXBlPXtkZXN0cm95UGhhc2U6ITEsZGVzdHJveTpmdW5jdGlvbih0LGUpe2lmKG51bGwhPT10aGlzLmdhbWUmJiF0aGlzLmRlc3Ryb3lQaGFzZSl7dm9pZCAwPT09dCYmKHQ9ITApLHZvaWQgMD09PWUmJihlPSExKSx0aGlzLmRlc3Ryb3lQaGFzZT0hMCx0aGlzLmV2ZW50cyYmdGhpcy5ldmVudHMub25EZXN0cm95JGRpc3BhdGNoKHRoaXMpLHRoaXMucGFyZW50JiYodGhpcy5wYXJlbnQgaW5zdGFuY2VvZiBpLkdyb3VwP3RoaXMucGFyZW50LnJlbW92ZSh0aGlzKTp0aGlzLnBhcmVudC5yZW1vdmVDaGlsZCh0aGlzKSksdGhpcy5pbnB1dCYmdGhpcy5pbnB1dC5kZXN0cm95KCksdGhpcy5hbmltYXRpb25zJiZ0aGlzLmFuaW1hdGlvbnMuZGVzdHJveSgpLHRoaXMuYm9keSYmdGhpcy5ib2R5LmRlc3Ryb3koKSx0aGlzLmV2ZW50cyYmdGhpcy5ldmVudHMuZGVzdHJveSgpLHRoaXMuZ2FtZS50d2VlbnMucmVtb3ZlRnJvbSh0aGlzKTt2YXIgcz10aGlzLmNoaWxkcmVuLmxlbmd0aDtpZih0KWZvcig7cy0tOyl0aGlzLmNoaWxkcmVuW3NdLmRlc3Ryb3kodCk7ZWxzZSBmb3IoO3MtLTspdGhpcy5yZW1vdmVDaGlsZCh0aGlzLmNoaWxkcmVuW3NdKTt0aGlzLl9jcm9wJiYodGhpcy5fY3JvcD1udWxsLHRoaXMuY3JvcFJlY3Q9bnVsbCksdGhpcy5fZnJhbWUmJih0aGlzLl9mcmFtZT1udWxsKSxpLlZpZGVvJiZ0aGlzLmtleSBpbnN0YW5jZW9mIGkuVmlkZW8mJnRoaXMua2V5Lm9uQ2hhbmdlU291cmNlLnJlbW92ZSh0aGlzLnJlc2l6ZUZyYW1lLHRoaXMpLGkuQml0bWFwVGV4dCYmdGhpcy5fZ2x5cGhzJiYodGhpcy5fZ2x5cGhzPVtdKSx0aGlzLmFsaXZlPSExLHRoaXMuZXhpc3RzPSExLHRoaXMudmlzaWJsZT0hMSx0aGlzLmZpbHRlcnM9bnVsbCx0aGlzLm1hc2s9bnVsbCx0aGlzLmdhbWU9bnVsbCx0aGlzLmRhdGE9e30sdGhpcy5yZW5kZXJhYmxlPSExLHRoaXMudHJhbnNmb3JtQ2FsbGJhY2smJih0aGlzLnRyYW5zZm9ybUNhbGxiYWNrPW51bGwsdGhpcy50cmFuc2Zvcm1DYWxsYmFja0NvbnRleHQ9bnVsbCksdGhpcy5oaXRBcmVhPW51bGwsdGhpcy5wYXJlbnQ9bnVsbCx0aGlzLnN0YWdlPW51bGwsdGhpcy53b3JsZFRyYW5zZm9ybT1udWxsLHRoaXMuZmlsdGVyQXJlYT1udWxsLHRoaXMuX2JvdW5kcz1udWxsLHRoaXMuX2N1cnJlbnRCb3VuZHM9bnVsbCx0aGlzLl9tYXNrPW51bGwsdGhpcy5fZGVzdHJveUNhY2hlZFNwcml0ZSgpLGUmJnRoaXMudGV4dHVyZS5kZXN0cm95KCEwKSx0aGlzLmRlc3Ryb3lQaGFzZT0hMSx0aGlzLnBlbmRpbmdEZXN0cm95PSExfX19LGkuRXZlbnRzPWZ1bmN0aW9uKHQpe3RoaXMucGFyZW50PXR9LGkuRXZlbnRzLnByb3RvdHlwZT17ZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuX3BhcmVudD1udWxsLHRoaXMuX29uRGVzdHJveSYmdGhpcy5fb25EZXN0cm95LmRpc3Bvc2UoKSx0aGlzLl9vbkFkZGVkVG9Hcm91cCYmdGhpcy5fb25BZGRlZFRvR3JvdXAuZGlzcG9zZSgpLHRoaXMuX29uUmVtb3ZlZEZyb21Hcm91cCYmdGhpcy5fb25SZW1vdmVkRnJvbUdyb3VwLmRpc3Bvc2UoKSx0aGlzLl9vbktpbGxlZCYmdGhpcy5fb25LaWxsZWQuZGlzcG9zZSgpLHRoaXMuX29uUmV2aXZlZCYmdGhpcy5fb25SZXZpdmVkLmRpc3Bvc2UoKSx0aGlzLl9vbkVudGVyQm91bmRzJiZ0aGlzLl9vbkVudGVyQm91bmRzLmRpc3Bvc2UoKSx0aGlzLl9vbk91dE9mQm91bmRzJiZ0aGlzLl9vbk91dE9mQm91bmRzLmRpc3Bvc2UoKSx0aGlzLl9vbklucHV0T3ZlciYmdGhpcy5fb25JbnB1dE92ZXIuZGlzcG9zZSgpLHRoaXMuX29uSW5wdXRPdXQmJnRoaXMuX29uSW5wdXRPdXQuZGlzcG9zZSgpLHRoaXMuX29uSW5wdXREb3duJiZ0aGlzLl9vbklucHV0RG93bi5kaXNwb3NlKCksdGhpcy5fb25JbnB1dFVwJiZ0aGlzLl9vbklucHV0VXAuZGlzcG9zZSgpLHRoaXMuX29uRHJhZ1N0YXJ0JiZ0aGlzLl9vbkRyYWdTdGFydC5kaXNwb3NlKCksdGhpcy5fb25EcmFnVXBkYXRlJiZ0aGlzLl9vbkRyYWdVcGRhdGUuZGlzcG9zZSgpLHRoaXMuX29uRHJhZ1N0b3AmJnRoaXMuX29uRHJhZ1N0b3AuZGlzcG9zZSgpLHRoaXMuX29uQW5pbWF0aW9uU3RhcnQmJnRoaXMuX29uQW5pbWF0aW9uU3RhcnQuZGlzcG9zZSgpLHRoaXMuX29uQW5pbWF0aW9uQ29tcGxldGUmJnRoaXMuX29uQW5pbWF0aW9uQ29tcGxldGUuZGlzcG9zZSgpLHRoaXMuX29uQW5pbWF0aW9uTG9vcCYmdGhpcy5fb25BbmltYXRpb25Mb29wLmRpc3Bvc2UoKX0sb25BZGRlZFRvR3JvdXA6bnVsbCxvblJlbW92ZWRGcm9tR3JvdXA6bnVsbCxvbkRlc3Ryb3k6bnVsbCxvbktpbGxlZDpudWxsLG9uUmV2aXZlZDpudWxsLG9uT3V0T2ZCb3VuZHM6bnVsbCxvbkVudGVyQm91bmRzOm51bGwsb25JbnB1dE92ZXI6bnVsbCxvbklucHV0T3V0Om51bGwsb25JbnB1dERvd246bnVsbCxvbklucHV0VXA6bnVsbCxvbkRyYWdTdGFydDpudWxsLG9uRHJhZ1VwZGF0ZTpudWxsLG9uRHJhZ1N0b3A6bnVsbCxvbkFuaW1hdGlvblN0YXJ0Om51bGwsb25BbmltYXRpb25Db21wbGV0ZTpudWxsLG9uQW5pbWF0aW9uTG9vcDpudWxsfSxpLkV2ZW50cy5wcm90b3R5cGUuY29uc3RydWN0b3I9aS5FdmVudHM7Zm9yKHZhciBvIGluIGkuRXZlbnRzLnByb3RvdHlwZSlpLkV2ZW50cy5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkobykmJjA9PT1vLmluZGV4T2YoXCJvblwiKSYmbnVsbD09PWkuRXZlbnRzLnByb3RvdHlwZVtvXSYmZnVuY3Rpb24odCxlKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5FdmVudHMucHJvdG90eXBlLHQse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzW2VdfHwodGhpc1tlXT1uZXcgaS5TaWduYWwpfX0pLGkuRXZlbnRzLnByb3RvdHlwZVt0K1wiJGRpc3BhdGNoXCJdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXNbZV0/dGhpc1tlXS5kaXNwYXRjaC5hcHBseSh0aGlzW2VdLGFyZ3VtZW50cyk6bnVsbH19KG8sXCJfXCIrbyk7aS5Db21wb25lbnQuRml4ZWRUb0NhbWVyYT1mdW5jdGlvbigpe30saS5Db21wb25lbnQuRml4ZWRUb0NhbWVyYS5wb3N0VXBkYXRlPWZ1bmN0aW9uKCl7dGhpcy5maXhlZFRvQ2FtZXJhJiYodGhpcy5wb3NpdGlvbi54PSh0aGlzLmdhbWUuY2FtZXJhLnZpZXcueCt0aGlzLmNhbWVyYU9mZnNldC54KS90aGlzLmdhbWUuY2FtZXJhLnNjYWxlLngsdGhpcy5wb3NpdGlvbi55PSh0aGlzLmdhbWUuY2FtZXJhLnZpZXcueSt0aGlzLmNhbWVyYU9mZnNldC55KS90aGlzLmdhbWUuY2FtZXJhLnNjYWxlLnkpfSxpLkNvbXBvbmVudC5GaXhlZFRvQ2FtZXJhLnByb3RvdHlwZT17X2ZpeGVkVG9DYW1lcmE6ITEsZml4ZWRUb0NhbWVyYTp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ZpeGVkVG9DYW1lcmF9LHNldDpmdW5jdGlvbih0KXt0Pyh0aGlzLl9maXhlZFRvQ2FtZXJhPSEwLHRoaXMuY2FtZXJhT2Zmc2V0LnNldCh0aGlzLngsdGhpcy55KSk6dGhpcy5fZml4ZWRUb0NhbWVyYT0hMX19LGNhbWVyYU9mZnNldDpuZXcgaS5Qb2ludH0saS5Db21wb25lbnQuSGVhbHRoPWZ1bmN0aW9uKCl7fSxpLkNvbXBvbmVudC5IZWFsdGgucHJvdG90eXBlPXtoZWFsdGg6MSxtYXhIZWFsdGg6MTAwLGRhbWFnZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5hbGl2ZSYmKHRoaXMuaGVhbHRoLT10LHRoaXMuaGVhbHRoPD0wJiZ0aGlzLmtpbGwoKSksdGhpc30sc2V0SGVhbHRoOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmhlYWx0aD10LHRoaXMuaGVhbHRoPnRoaXMubWF4SGVhbHRoJiYodGhpcy5oZWFsdGg9dGhpcy5tYXhIZWFsdGgpLHRoaXN9LGhlYWw6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuYWxpdmUmJih0aGlzLmhlYWx0aCs9dCx0aGlzLmhlYWx0aD50aGlzLm1heEhlYWx0aCYmKHRoaXMuaGVhbHRoPXRoaXMubWF4SGVhbHRoKSksdGhpc319LGkuQ29tcG9uZW50LkluQ2FtZXJhPWZ1bmN0aW9uKCl7fSxpLkNvbXBvbmVudC5JbkNhbWVyYS5wcm90b3R5cGU9e2luQ2FtZXJhOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nYW1lLndvcmxkLmNhbWVyYS52aWV3LmludGVyc2VjdHModGhpcy5fYm91bmRzKX19fSxpLkNvbXBvbmVudC5JbnB1dEVuYWJsZWQ9ZnVuY3Rpb24oKXt9LGkuQ29tcG9uZW50LklucHV0RW5hYmxlZC5wcm90b3R5cGU9e2lucHV0Om51bGwsaW5wdXRFbmFibGVkOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbnB1dCYmdGhpcy5pbnB1dC5lbmFibGVkfSxzZXQ6ZnVuY3Rpb24odCl7dD9udWxsPT09dGhpcy5pbnB1dD8odGhpcy5pbnB1dD1uZXcgaS5JbnB1dEhhbmRsZXIodGhpcyksdGhpcy5pbnB1dC5zdGFydCgpKTp0aGlzLmlucHV0JiYhdGhpcy5pbnB1dC5lbmFibGVkJiZ0aGlzLmlucHV0LnN0YXJ0KCk6dGhpcy5pbnB1dCYmdGhpcy5pbnB1dC5lbmFibGVkJiZ0aGlzLmlucHV0LnN0b3AoKX19fSxpLkNvbXBvbmVudC5JbldvcmxkPWZ1bmN0aW9uKCl7fSxpLkNvbXBvbmVudC5JbldvcmxkLnByZVVwZGF0ZT1mdW5jdGlvbigpe2lmKHRoaXMucGVuZGluZ0Rlc3Ryb3kpcmV0dXJuIHRoaXMuZGVzdHJveSgpLCExO2lmKHRoaXMuYXV0b0N1bGx8fHRoaXMuY2hlY2tXb3JsZEJvdW5kcyl7aWYodGhpcy5fYm91bmRzLmNvcHlGcm9tKHRoaXMuZ2V0Qm91bmRzKCkpLHRoaXMuX2JvdW5kcy54Kz10aGlzLmdhbWUuY2FtZXJhLnZpZXcueCx0aGlzLl9ib3VuZHMueSs9dGhpcy5nYW1lLmNhbWVyYS52aWV3LnksdGhpcy5hdXRvQ3VsbClpZih0aGlzLmdhbWUud29ybGQuY2FtZXJhLnZpZXcuaW50ZXJzZWN0cyh0aGlzLl9ib3VuZHMpKXRoaXMucmVuZGVyYWJsZT0hMCx0aGlzLmdhbWUud29ybGQuY2FtZXJhLnRvdGFsSW5WaWV3Kys7ZWxzZSBpZih0aGlzLnJlbmRlcmFibGU9ITEsdGhpcy5vdXRPZkNhbWVyYUJvdW5kc0tpbGwpcmV0dXJuIHRoaXMua2lsbCgpLCExO2lmKHRoaXMuY2hlY2tXb3JsZEJvdW5kcylpZih0aGlzLl9vdXRPZkJvdW5kc0ZpcmVkJiZ0aGlzLmdhbWUud29ybGQuYm91bmRzLmludGVyc2VjdHModGhpcy5fYm91bmRzKSl0aGlzLl9vdXRPZkJvdW5kc0ZpcmVkPSExLHRoaXMuZXZlbnRzLm9uRW50ZXJCb3VuZHMkZGlzcGF0Y2godGhpcyk7ZWxzZSBpZighdGhpcy5fb3V0T2ZCb3VuZHNGaXJlZCYmIXRoaXMuZ2FtZS53b3JsZC5ib3VuZHMuaW50ZXJzZWN0cyh0aGlzLl9ib3VuZHMpJiYodGhpcy5fb3V0T2ZCb3VuZHNGaXJlZD0hMCx0aGlzLmV2ZW50cy5vbk91dE9mQm91bmRzJGRpc3BhdGNoKHRoaXMpLHRoaXMub3V0T2ZCb3VuZHNLaWxsKSlyZXR1cm4gdGhpcy5raWxsKCksITF9cmV0dXJuITB9LGkuQ29tcG9uZW50LkluV29ybGQucHJvdG90eXBlPXtjaGVja1dvcmxkQm91bmRzOiExLG91dE9mQm91bmRzS2lsbDohMSxvdXRPZkNhbWVyYUJvdW5kc0tpbGw6ITEsX291dE9mQm91bmRzRmlyZWQ6ITEsaW5Xb3JsZDp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2FtZS53b3JsZC5ib3VuZHMuaW50ZXJzZWN0cyh0aGlzLmdldEJvdW5kcygpKX19fSxpLkNvbXBvbmVudC5MaWZlU3Bhbj1mdW5jdGlvbigpe30saS5Db21wb25lbnQuTGlmZVNwYW4ucHJlVXBkYXRlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGVuZGluZ0Rlc3Ryb3k/KHRoaXMuZGVzdHJveSgpLCExKTohKHRoaXMubGlmZXNwYW4+MCYmKHRoaXMubGlmZXNwYW4tPXRoaXMuZ2FtZS50aW1lLnBoeXNpY3NFbGFwc2VkTVMsdGhpcy5saWZlc3Bhbjw9MCkpfHwodGhpcy5raWxsKCksITEpfSxpLkNvbXBvbmVudC5MaWZlU3Bhbi5wcm90b3R5cGU9e2FsaXZlOiEwLGxpZmVzcGFuOjAscmV2aXZlOmZ1bmN0aW9uKHQpe3JldHVybiB2b2lkIDA9PT10JiYodD0xMDApLHRoaXMuYWxpdmU9ITAsdGhpcy5leGlzdHM9ITAsdGhpcy52aXNpYmxlPSEwLFwiZnVuY3Rpb25cIj09dHlwZW9mIHRoaXMuc2V0SGVhbHRoJiZ0aGlzLnNldEhlYWx0aCh0KSx0aGlzLmV2ZW50cyYmdGhpcy5ldmVudHMub25SZXZpdmVkJGRpc3BhdGNoKHRoaXMpLHRoaXN9LGtpbGw6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hbGl2ZT0hMSx0aGlzLmV4aXN0cz0hMSx0aGlzLnZpc2libGU9ITEsdGhpcy5ldmVudHMmJnRoaXMuZXZlbnRzLm9uS2lsbGVkJGRpc3BhdGNoKHRoaXMpLHRoaXN9fSxpLkNvbXBvbmVudC5Mb2FkVGV4dHVyZT1mdW5jdGlvbigpe30saS5Db21wb25lbnQuTG9hZFRleHR1cmUucHJvdG90eXBlPXtjdXN0b21SZW5kZXI6ITEsX2ZyYW1lOm51bGwsbG9hZFRleHR1cmU6ZnVuY3Rpb24odCxlLHMpe3Q9PT1pLlBFTkRJTkdfQVRMQVM/KHQ9ZSxlPTApOmU9ZXx8MCwoc3x8dm9pZCAwPT09cykmJnRoaXMuYW5pbWF0aW9ucyYmdGhpcy5hbmltYXRpb25zLnN0b3AoKSx0aGlzLmtleT10LHRoaXMuY3VzdG9tUmVuZGVyPSExO3ZhciBuPXRoaXMuZ2FtZS5jYWNoZSxvPSEwLHI9IXRoaXMudGV4dHVyZS5iYXNlVGV4dHVyZS5zY2FsZU1vZGU7aWYoaS5SZW5kZXJUZXh0dXJlJiZ0IGluc3RhbmNlb2YgaS5SZW5kZXJUZXh0dXJlKXRoaXMua2V5PXQua2V5LHRoaXMuc2V0VGV4dHVyZSh0KTtlbHNlIGlmKGkuQml0bWFwRGF0YSYmdCBpbnN0YW5jZW9mIGkuQml0bWFwRGF0YSl0aGlzLmN1c3RvbVJlbmRlcj0hMCx0aGlzLnNldFRleHR1cmUodC50ZXh0dXJlKSxvPW4uaGFzRnJhbWVEYXRhKHQua2V5LGkuQ2FjaGUuQklUTUFQREFUQSk/IXRoaXMuYW5pbWF0aW9ucy5sb2FkRnJhbWVEYXRhKG4uZ2V0RnJhbWVEYXRhKHQua2V5LGkuQ2FjaGUuQklUTUFQREFUQSksZSk6IXRoaXMuYW5pbWF0aW9ucy5sb2FkRnJhbWVEYXRhKHQuZnJhbWVEYXRhLDApO2Vsc2UgaWYoaS5WaWRlbyYmdCBpbnN0YW5jZW9mIGkuVmlkZW8pe3RoaXMuY3VzdG9tUmVuZGVyPSEwO3ZhciBhPXQudGV4dHVyZS52YWxpZDt0aGlzLnNldFRleHR1cmUodC50ZXh0dXJlKSx0aGlzLnNldEZyYW1lKHQudGV4dHVyZS5mcmFtZS5jbG9uZSgpKSx0Lm9uQ2hhbmdlU291cmNlLmFkZCh0aGlzLnJlc2l6ZUZyYW1lLHRoaXMpLHRoaXMudGV4dHVyZS52YWxpZD1hfWVsc2UgaWYoaS5UaWxlbWFwJiZ0IGluc3RhbmNlb2YgaS5UaWxlbWFwTGF5ZXIpdGhpcy5zZXRUZXh0dXJlKFBJWEkuVGV4dHVyZS5mcm9tQ2FudmFzKHQuY2FudmFzKSk7ZWxzZSBpZih0IGluc3RhbmNlb2YgUElYSS5UZXh0dXJlKXRoaXMuc2V0VGV4dHVyZSh0KTtlbHNle3ZhciBoPW4uZ2V0SW1hZ2UodCwhMCk7dGhpcy5rZXk9aC5rZXksdGhpcy5zZXRUZXh0dXJlKG5ldyBQSVhJLlRleHR1cmUoaC5iYXNlKSksdGhpcy50ZXh0dXJlLmJhc2VUZXh0dXJlLnNraXBSZW5kZXI9XCJfX2RlZmF1bHRcIj09PXQsbz0hdGhpcy5hbmltYXRpb25zLmxvYWRGcmFtZURhdGEoaC5mcmFtZURhdGEsZSl9byYmKHRoaXMuX2ZyYW1lPWkuUmVjdGFuZ2xlLmNsb25lKHRoaXMudGV4dHVyZS5mcmFtZSkpLHJ8fCh0aGlzLnRleHR1cmUuYmFzZVRleHR1cmUuc2NhbGVNb2RlPTEpfSxzZXRGcmFtZTpmdW5jdGlvbih0KXt0aGlzLl9mcmFtZT10LHRoaXMudGV4dHVyZS5mcmFtZS54PXQueCx0aGlzLnRleHR1cmUuZnJhbWUueT10LnksdGhpcy50ZXh0dXJlLmZyYW1lLndpZHRoPXQud2lkdGgsdGhpcy50ZXh0dXJlLmZyYW1lLmhlaWdodD10LmhlaWdodCx0aGlzLnRleHR1cmUuY3JvcC54PXQueCx0aGlzLnRleHR1cmUuY3JvcC55PXQueSx0aGlzLnRleHR1cmUuY3JvcC53aWR0aD10LndpZHRoLHRoaXMudGV4dHVyZS5jcm9wLmhlaWdodD10LmhlaWdodCx0LnRyaW1tZWQ/KHRoaXMudGV4dHVyZS50cmltPyh0aGlzLnRleHR1cmUudHJpbS54PXQuc3ByaXRlU291cmNlU2l6ZVgsdGhpcy50ZXh0dXJlLnRyaW0ueT10LnNwcml0ZVNvdXJjZVNpemVZLHRoaXMudGV4dHVyZS50cmltLndpZHRoPXQuc291cmNlU2l6ZVcsdGhpcy50ZXh0dXJlLnRyaW0uaGVpZ2h0PXQuc291cmNlU2l6ZUgpOnRoaXMudGV4dHVyZS50cmltPXt4OnQuc3ByaXRlU291cmNlU2l6ZVgseTp0LnNwcml0ZVNvdXJjZVNpemVZLHdpZHRoOnQuc291cmNlU2l6ZVcsaGVpZ2h0OnQuc291cmNlU2l6ZUh9LHRoaXMudGV4dHVyZS53aWR0aD10LnNvdXJjZVNpemVXLHRoaXMudGV4dHVyZS5oZWlnaHQ9dC5zb3VyY2VTaXplSCx0aGlzLnRleHR1cmUuZnJhbWUud2lkdGg9dC5zb3VyY2VTaXplVyx0aGlzLnRleHR1cmUuZnJhbWUuaGVpZ2h0PXQuc291cmNlU2l6ZUgpOiF0LnRyaW1tZWQmJnRoaXMudGV4dHVyZS50cmltJiYodGhpcy50ZXh0dXJlLnRyaW09bnVsbCksdC5yb3RhdGVkJiYodGhpcy50ZXh0dXJlLnJvdGF0ZWQ9ITApLHRoaXMuY3JvcFJlY3QmJnRoaXMudXBkYXRlQ3JvcCgpLHRoaXMudGV4dHVyZS5yZXF1aXJlc1JlVGludD0hMCx0aGlzLnRleHR1cmUuX3VwZGF0ZVV2cygpLHRoaXMudGlsaW5nVGV4dHVyZSYmKHRoaXMucmVmcmVzaFRleHR1cmU9ITApfSxyZXNpemVGcmFtZTpmdW5jdGlvbih0LGUsaSl7dGhpcy50ZXh0dXJlLmZyYW1lLnJlc2l6ZShlLGkpLHRoaXMudGV4dHVyZS5zZXRGcmFtZSh0aGlzLnRleHR1cmUuZnJhbWUpfSxyZXNldEZyYW1lOmZ1bmN0aW9uKCl7dGhpcy5fZnJhbWUmJnRoaXMuc2V0RnJhbWUodGhpcy5fZnJhbWUpfSxmcmFtZTp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYW5pbWF0aW9ucy5mcmFtZX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuYW5pbWF0aW9ucy5mcmFtZT10fX0sZnJhbWVOYW1lOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hbmltYXRpb25zLmZyYW1lTmFtZX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuYW5pbWF0aW9ucy5mcmFtZU5hbWU9dH19fSxpLkNvbXBvbmVudC5PdmVybGFwPWZ1bmN0aW9uKCl7fSxpLkNvbXBvbmVudC5PdmVybGFwLnByb3RvdHlwZT17b3ZlcmxhcDpmdW5jdGlvbih0KXtyZXR1cm4gaS5SZWN0YW5nbGUuaW50ZXJzZWN0cyh0aGlzLmdldEJvdW5kcygpLHQuZ2V0Qm91bmRzKCkpfX0saS5Db21wb25lbnQuUGh5c2ljc0JvZHk9ZnVuY3Rpb24oKXt9LGkuQ29tcG9uZW50LlBoeXNpY3NCb2R5LnByZVVwZGF0ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnBlbmRpbmdEZXN0cm95Pyh0aGlzLmRlc3Ryb3koKSwhMSk6dGhpcy5mcmVzaCYmdGhpcy5leGlzdHM/KHRoaXMud29ybGQuc2V0VG8odGhpcy5wYXJlbnQucG9zaXRpb24ueCt0aGlzLnBvc2l0aW9uLngsdGhpcy5wYXJlbnQucG9zaXRpb24ueSt0aGlzLnBvc2l0aW9uLnkpLHRoaXMud29ybGRUcmFuc2Zvcm0udHg9dGhpcy53b3JsZC54LHRoaXMud29ybGRUcmFuc2Zvcm0udHk9dGhpcy53b3JsZC55LHRoaXMucHJldmlvdXNQb3NpdGlvbi5zZXQodGhpcy53b3JsZC54LHRoaXMud29ybGQueSksdGhpcy5wcmV2aW91c1JvdGF0aW9uPXRoaXMucm90YXRpb24sdGhpcy5ib2R5JiZ0aGlzLmJvZHkucHJlVXBkYXRlKCksdGhpcy5mcmVzaD0hMSx0aGlzLnByZVVwZGF0ZUNoaWxkcmVuKCksITEpOih0aGlzLnByZXZpb3VzUG9zaXRpb24uc2V0KHRoaXMud29ybGQueCx0aGlzLndvcmxkLnkpLHRoaXMucHJldmlvdXNSb3RhdGlvbj10aGlzLnJvdGF0aW9uLCEoIXRoaXMuX2V4aXN0c3x8IXRoaXMucGFyZW50LmV4aXN0cyl8fCh0aGlzLnJlbmRlck9yZGVySUQ9LTEsITEpKX0saS5Db21wb25lbnQuUGh5c2ljc0JvZHkucG9zdFVwZGF0ZT1mdW5jdGlvbigpe3RoaXMuZXhpc3RzJiZ0aGlzLmJvZHkmJnRoaXMuYm9keS5wb3N0VXBkYXRlKCl9LGkuQ29tcG9uZW50LlBoeXNpY3NCb2R5LnByb3RvdHlwZT17Ym9keTpudWxsLHg6e2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnBvc2l0aW9uLnh9LHNldDpmdW5jdGlvbih0KXt0aGlzLnBvc2l0aW9uLng9dCx0aGlzLmJvZHkmJiF0aGlzLmJvZHkuZGlydHkmJih0aGlzLmJvZHkuX3Jlc2V0PSEwKX19LHk6e2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnBvc2l0aW9uLnl9LHNldDpmdW5jdGlvbih0KXt0aGlzLnBvc2l0aW9uLnk9dCx0aGlzLmJvZHkmJiF0aGlzLmJvZHkuZGlydHkmJih0aGlzLmJvZHkuX3Jlc2V0PSEwKX19fSxpLkNvbXBvbmVudC5SZXNldD1mdW5jdGlvbigpe30saS5Db21wb25lbnQuUmVzZXQucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gdm9pZCAwPT09aSYmKGk9MSksdGhpcy53b3JsZC5zZXQodCxlKSx0aGlzLnBvc2l0aW9uLnNldCh0LGUpLHRoaXMuZnJlc2g9ITAsdGhpcy5leGlzdHM9ITAsdGhpcy52aXNpYmxlPSEwLHRoaXMucmVuZGVyYWJsZT0hMCx0aGlzLmNvbXBvbmVudHMuSW5Xb3JsZCYmKHRoaXMuX291dE9mQm91bmRzRmlyZWQ9ITEpLHRoaXMuY29tcG9uZW50cy5MaWZlU3BhbiYmKHRoaXMuYWxpdmU9ITAsdGhpcy5oZWFsdGg9aSksdGhpcy5jb21wb25lbnRzLlBoeXNpY3NCb2R5JiZ0aGlzLmJvZHkmJnRoaXMuYm9keS5yZXNldCh0LGUsITEsITEpLHRoaXN9LGkuQ29tcG9uZW50LlNjYWxlTWluTWF4PWZ1bmN0aW9uKCl7fSxpLkNvbXBvbmVudC5TY2FsZU1pbk1heC5wcm90b3R5cGU9e3RyYW5zZm9ybUNhbGxiYWNrOm51bGwsdHJhbnNmb3JtQ2FsbGJhY2tDb250ZXh0OnRoaXMsc2NhbGVNaW46bnVsbCxzY2FsZU1heDpudWxsLGNoZWNrVHJhbnNmb3JtOmZ1bmN0aW9uKHQpe3RoaXMuc2NhbGVNaW4mJih0LmE8dGhpcy5zY2FsZU1pbi54JiYodC5hPXRoaXMuc2NhbGVNaW4ueCksdC5kPHRoaXMuc2NhbGVNaW4ueSYmKHQuZD10aGlzLnNjYWxlTWluLnkpKSx0aGlzLnNjYWxlTWF4JiYodC5hPnRoaXMuc2NhbGVNYXgueCYmKHQuYT10aGlzLnNjYWxlTWF4LngpLHQuZD50aGlzLnNjYWxlTWF4LnkmJih0LmQ9dGhpcy5zY2FsZU1heC55KSl9LHNldFNjYWxlTWluTWF4OmZ1bmN0aW9uKHQsZSxzLG4pe3ZvaWQgMD09PWU/ZT1zPW49dDp2b2lkIDA9PT1zJiYocz1uPWUsZT10KSxudWxsPT09dD90aGlzLnNjYWxlTWluPW51bGw6dGhpcy5zY2FsZU1pbj90aGlzLnNjYWxlTWluLnNldCh0LGUpOnRoaXMuc2NhbGVNaW49bmV3IGkuUG9pbnQodCxlKSxudWxsPT09cz90aGlzLnNjYWxlTWF4PW51bGw6dGhpcy5zY2FsZU1heD90aGlzLnNjYWxlTWF4LnNldChzLG4pOnRoaXMuc2NhbGVNYXg9bmV3IGkuUG9pbnQocyxuKSxudWxsPT09dGhpcy5zY2FsZU1pbj90aGlzLnRyYW5zZm9ybUNhbGxiYWNrPW51bGw6KHRoaXMudHJhbnNmb3JtQ2FsbGJhY2s9dGhpcy5jaGVja1RyYW5zZm9ybSx0aGlzLnRyYW5zZm9ybUNhbGxiYWNrQ29udGV4dD10aGlzKX19LGkuQ29tcG9uZW50LlNtb290aGVkPWZ1bmN0aW9uKCl7fSxpLkNvbXBvbmVudC5TbW9vdGhlZC5wcm90b3R5cGU9e3Ntb290aGVkOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy50ZXh0dXJlLmJhc2VUZXh0dXJlLnNjYWxlTW9kZX0sc2V0OmZ1bmN0aW9uKHQpe3Q/dGhpcy50ZXh0dXJlJiYodGhpcy50ZXh0dXJlLmJhc2VUZXh0dXJlLnNjYWxlTW9kZT0wKTp0aGlzLnRleHR1cmUmJih0aGlzLnRleHR1cmUuYmFzZVRleHR1cmUuc2NhbGVNb2RlPTEpfX19LGkuR2FtZU9iamVjdEZhY3Rvcnk9ZnVuY3Rpb24odCl7dGhpcy5nYW1lPXQsdGhpcy53b3JsZD10aGlzLmdhbWUud29ybGR9LGkuR2FtZU9iamVjdEZhY3RvcnkucHJvdG90eXBlPXtleGlzdGluZzpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy53b3JsZC5hZGQodCl9LHdlYXBvbjpmdW5jdGlvbih0LGUscyxuLG8pe3ZhciByPXRoaXMuZ2FtZS5wbHVnaW5zLmFkZChpLldlYXBvbik7cmV0dXJuIG8mJihyLmJ1bGxldENsYXNzPW8pLHIuY3JlYXRlQnVsbGV0cyh0LGUscyxuKSxyfSxpbWFnZTpmdW5jdGlvbih0LGUscyxuLG8pe3JldHVybiB2b2lkIDA9PT1vJiYobz10aGlzLndvcmxkKSxvLmFkZChuZXcgaS5JbWFnZSh0aGlzLmdhbWUsdCxlLHMsbikpfSxzcHJpdGU6ZnVuY3Rpb24odCxlLHMsbixvKXtyZXR1cm4gdm9pZCAwPT09byYmKG89dGhpcy53b3JsZCksby5hZGQobmV3IGkuU3ByaXRlKHRoaXMuZ2FtZSx0LGUscyxuKSl9LGNyZWF0dXJlOmZ1bmN0aW9uKHQsZSxzLG4sbyl7dm9pZCAwPT09byYmKG89dGhpcy53b3JsZCk7dmFyIHI9bmV3IGkuQ3JlYXR1cmUodGhpcy5nYW1lLHQsZSxzLG4pO3JldHVybiBvLmFkZChyKSxyfSx0d2VlbjpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5nYW1lLnR3ZWVucy5jcmVhdGUodCl9LGdyb3VwOmZ1bmN0aW9uKHQsZSxzLG4sbyl7cmV0dXJuIG5ldyBpLkdyb3VwKHRoaXMuZ2FtZSx0LGUscyxuLG8pfSxwaHlzaWNzR3JvdXA6ZnVuY3Rpb24odCxlLHMsbil7cmV0dXJuIG5ldyBpLkdyb3VwKHRoaXMuZ2FtZSxlLHMsbiwhMCx0KX0sc3ByaXRlQmF0Y2g6ZnVuY3Rpb24odCxlLHMpe3JldHVybiB2b2lkIDA9PT10JiYodD1udWxsKSx2b2lkIDA9PT1lJiYoZT1cImdyb3VwXCIpLHZvaWQgMD09PXMmJihzPSExKSxuZXcgaS5TcHJpdGVCYXRjaCh0aGlzLmdhbWUsdCxlLHMpfSxhdWRpbzpmdW5jdGlvbih0LGUsaSxzKXtyZXR1cm4gdGhpcy5nYW1lLnNvdW5kLmFkZCh0LGUsaSxzKX0sc291bmQ6ZnVuY3Rpb24odCxlLGkscyl7cmV0dXJuIHRoaXMuZ2FtZS5zb3VuZC5hZGQodCxlLGkscyl9LGF1ZGlvU3ByaXRlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmdhbWUuc291bmQuYWRkU3ByaXRlKHQpfSx0aWxlU3ByaXRlOmZ1bmN0aW9uKHQsZSxzLG4sbyxyLGEpe3JldHVybiB2b2lkIDA9PT1hJiYoYT10aGlzLndvcmxkKSxhLmFkZChuZXcgaS5UaWxlU3ByaXRlKHRoaXMuZ2FtZSx0LGUscyxuLG8scikpfSxyb3BlOmZ1bmN0aW9uKHQsZSxzLG4sbyxyKXtyZXR1cm4gdm9pZCAwPT09ciYmKHI9dGhpcy53b3JsZCksci5hZGQobmV3IGkuUm9wZSh0aGlzLmdhbWUsdCxlLHMsbixvKSl9LHRleHQ6ZnVuY3Rpb24odCxlLHMsbixvKXtyZXR1cm4gdm9pZCAwPT09byYmKG89dGhpcy53b3JsZCksby5hZGQobmV3IGkuVGV4dCh0aGlzLmdhbWUsdCxlLHMsbikpfSxidXR0b246ZnVuY3Rpb24odCxlLHMsbixvLHIsYSxoLGwsYyl7cmV0dXJuIHZvaWQgMD09PWMmJihjPXRoaXMud29ybGQpLGMuYWRkKG5ldyBpLkJ1dHRvbih0aGlzLmdhbWUsdCxlLHMsbixvLHIsYSxoLGwpKX0sZ3JhcGhpY3M6ZnVuY3Rpb24odCxlLHMpe3JldHVybiB2b2lkIDA9PT1zJiYocz10aGlzLndvcmxkKSxzLmFkZChuZXcgaS5HcmFwaGljcyh0aGlzLmdhbWUsdCxlKSl9LGVtaXR0ZXI6ZnVuY3Rpb24odCxlLHMpe3JldHVybiB0aGlzLmdhbWUucGFydGljbGVzLmFkZChuZXcgaS5QYXJ0aWNsZXMuQXJjYWRlLkVtaXR0ZXIodGhpcy5nYW1lLHQsZSxzKSl9LHJldHJvRm9udDpmdW5jdGlvbih0LGUscyxuLG8scixhLGgsbCl7cmV0dXJuIG5ldyBpLlJldHJvRm9udCh0aGlzLmdhbWUsdCxlLHMsbixvLHIsYSxoLGwpfSxiaXRtYXBUZXh0OmZ1bmN0aW9uKHQsZSxzLG4sbyxyKXtyZXR1cm4gdm9pZCAwPT09ciYmKHI9dGhpcy53b3JsZCksci5hZGQobmV3IGkuQml0bWFwVGV4dCh0aGlzLmdhbWUsdCxlLHMsbixvKSl9LHRpbGVtYXA6ZnVuY3Rpb24odCxlLHMsbixvKXtyZXR1cm4gbmV3IGkuVGlsZW1hcCh0aGlzLmdhbWUsdCxlLHMsbixvKX0scmVuZGVyVGV4dHVyZTpmdW5jdGlvbih0LGUscyxuKXt2b2lkIDAhPT1zJiZcIlwiIT09c3x8KHM9dGhpcy5nYW1lLnJuZC51dWlkKCkpLHZvaWQgMD09PW4mJihuPSExKTt2YXIgbz1uZXcgaS5SZW5kZXJUZXh0dXJlKHRoaXMuZ2FtZSx0LGUscyk7cmV0dXJuIG4mJnRoaXMuZ2FtZS5jYWNoZS5hZGRSZW5kZXJUZXh0dXJlKHMsbyksb30sdmlkZW86ZnVuY3Rpb24odCxlKXtyZXR1cm4gbmV3IGkuVmlkZW8odGhpcy5nYW1lLHQsZSl9LGJpdG1hcERhdGE6ZnVuY3Rpb24odCxlLHMsbil7dm9pZCAwPT09biYmKG49ITEpLHZvaWQgMCE9PXMmJlwiXCIhPT1zfHwocz10aGlzLmdhbWUucm5kLnV1aWQoKSk7dmFyIG89bmV3IGkuQml0bWFwRGF0YSh0aGlzLmdhbWUscyx0LGUpO3JldHVybiBuJiZ0aGlzLmdhbWUuY2FjaGUuYWRkQml0bWFwRGF0YShzLG8pLG99LGZpbHRlcjpmdW5jdGlvbih0KXt2YXIgZT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSk7cmV0dXJuKHQ9bmV3IGkuRmlsdGVyW3RdKHRoaXMuZ2FtZSkpLmluaXQuYXBwbHkodCxlKSx0fSxwbHVnaW46ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZ2FtZS5wbHVnaW5zLmFkZCh0KX19LGkuR2FtZU9iamVjdEZhY3RvcnkucHJvdG90eXBlLmNvbnN0cnVjdG9yPWkuR2FtZU9iamVjdEZhY3RvcnksaS5HYW1lT2JqZWN0Q3JlYXRvcj1mdW5jdGlvbih0KXt0aGlzLmdhbWU9dCx0aGlzLndvcmxkPXRoaXMuZ2FtZS53b3JsZH0saS5HYW1lT2JqZWN0Q3JlYXRvci5wcm90b3R5cGU9e2ltYWdlOmZ1bmN0aW9uKHQsZSxzLG4pe3JldHVybiBuZXcgaS5JbWFnZSh0aGlzLmdhbWUsdCxlLHMsbil9LHNwcml0ZTpmdW5jdGlvbih0LGUscyxuKXtyZXR1cm4gbmV3IGkuU3ByaXRlKHRoaXMuZ2FtZSx0LGUscyxuKX0sdHdlZW46ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBpLlR3ZWVuKHQsdGhpcy5nYW1lLHRoaXMuZ2FtZS50d2VlbnMpfSxncm91cDpmdW5jdGlvbih0LGUscyxuLG8pe3JldHVybiBuZXcgaS5Hcm91cCh0aGlzLmdhbWUsdCxlLHMsbixvKX0sc3ByaXRlQmF0Y2g6ZnVuY3Rpb24odCxlLHMpe3JldHVybiB2b2lkIDA9PT1lJiYoZT1cImdyb3VwXCIpLHZvaWQgMD09PXMmJihzPSExKSxuZXcgaS5TcHJpdGVCYXRjaCh0aGlzLmdhbWUsdCxlLHMpfSxhdWRpbzpmdW5jdGlvbih0LGUsaSxzKXtyZXR1cm4gdGhpcy5nYW1lLnNvdW5kLmFkZCh0LGUsaSxzKX0sYXVkaW9TcHJpdGU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZ2FtZS5zb3VuZC5hZGRTcHJpdGUodCl9LHNvdW5kOmZ1bmN0aW9uKHQsZSxpLHMpe3JldHVybiB0aGlzLmdhbWUuc291bmQuYWRkKHQsZSxpLHMpfSx0aWxlU3ByaXRlOmZ1bmN0aW9uKHQsZSxzLG4sbyxyKXtyZXR1cm4gbmV3IGkuVGlsZVNwcml0ZSh0aGlzLmdhbWUsdCxlLHMsbixvLHIpfSxyb3BlOmZ1bmN0aW9uKHQsZSxzLG4sbyl7cmV0dXJuIG5ldyBpLlJvcGUodGhpcy5nYW1lLHQsZSxzLG4sbyl9LHRleHQ6ZnVuY3Rpb24odCxlLHMsbil7cmV0dXJuIG5ldyBpLlRleHQodGhpcy5nYW1lLHQsZSxzLG4pfSxidXR0b246ZnVuY3Rpb24odCxlLHMsbixvLHIsYSxoLGwpe3JldHVybiBuZXcgaS5CdXR0b24odGhpcy5nYW1lLHQsZSxzLG4sbyxyLGEsaCxsKX0sZ3JhcGhpY3M6ZnVuY3Rpb24odCxlKXtyZXR1cm4gbmV3IGkuR3JhcGhpY3ModGhpcy5nYW1lLHQsZSl9LGVtaXR0ZXI6ZnVuY3Rpb24odCxlLHMpe3JldHVybiBuZXcgaS5QYXJ0aWNsZXMuQXJjYWRlLkVtaXR0ZXIodGhpcy5nYW1lLHQsZSxzKX0scmV0cm9Gb250OmZ1bmN0aW9uKHQsZSxzLG4sbyxyLGEsaCxsKXtyZXR1cm4gbmV3IGkuUmV0cm9Gb250KHRoaXMuZ2FtZSx0LGUscyxuLG8scixhLGgsbCl9LGJpdG1hcFRleHQ6ZnVuY3Rpb24odCxlLHMsbixvLHIpe3JldHVybiBuZXcgaS5CaXRtYXBUZXh0KHRoaXMuZ2FtZSx0LGUscyxuLG8scil9LHRpbGVtYXA6ZnVuY3Rpb24odCxlLHMsbixvKXtyZXR1cm4gbmV3IGkuVGlsZW1hcCh0aGlzLmdhbWUsdCxlLHMsbixvKX0scmVuZGVyVGV4dHVyZTpmdW5jdGlvbih0LGUscyxuKXt2b2lkIDAhPT1zJiZcIlwiIT09c3x8KHM9dGhpcy5nYW1lLnJuZC51dWlkKCkpLHZvaWQgMD09PW4mJihuPSExKTt2YXIgbz1uZXcgaS5SZW5kZXJUZXh0dXJlKHRoaXMuZ2FtZSx0LGUscyk7cmV0dXJuIG4mJnRoaXMuZ2FtZS5jYWNoZS5hZGRSZW5kZXJUZXh0dXJlKHMsbyksb30sYml0bWFwRGF0YTpmdW5jdGlvbih0LGUscyxuKXt2b2lkIDA9PT1uJiYobj0hMSksdm9pZCAwIT09cyYmXCJcIiE9PXN8fChzPXRoaXMuZ2FtZS5ybmQudXVpZCgpKTt2YXIgbz1uZXcgaS5CaXRtYXBEYXRhKHRoaXMuZ2FtZSxzLHQsZSk7cmV0dXJuIG4mJnRoaXMuZ2FtZS5jYWNoZS5hZGRCaXRtYXBEYXRhKHMsbyksb30sZmlsdGVyOmZ1bmN0aW9uKHQpe3ZhciBlPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKTtyZXR1cm4odD1uZXcgaS5GaWx0ZXJbdF0odGhpcy5nYW1lKSkuaW5pdC5hcHBseSh0LGUpLHR9fSxpLkdhbWVPYmplY3RDcmVhdG9yLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1pLkdhbWVPYmplY3RDcmVhdG9yLGkuU3ByaXRlPWZ1bmN0aW9uKHQsZSxzLG4sbyl7ZT1lfHwwLHM9c3x8MCxuPW58fG51bGwsbz1vfHxudWxsLHRoaXMudHlwZT1pLlNQUklURSx0aGlzLnBoeXNpY3NUeXBlPWkuU1BSSVRFLFBJWEkuU3ByaXRlLmNhbGwodGhpcyxpLkNhY2hlLkRFRkFVTFQpLGkuQ29tcG9uZW50LkNvcmUuaW5pdC5jYWxsKHRoaXMsdCxlLHMsbixvKX0saS5TcHJpdGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoUElYSS5TcHJpdGUucHJvdG90eXBlKSxpLlNwcml0ZS5wcm90b3R5cGUuY29uc3RydWN0b3I9aS5TcHJpdGUsaS5Db21wb25lbnQuQ29yZS5pbnN0YWxsLmNhbGwoaS5TcHJpdGUucHJvdG90eXBlLFtcIkFuZ2xlXCIsXCJBbmltYXRpb25cIixcIkF1dG9DdWxsXCIsXCJCb3VuZHNcIixcIkJyaW5nVG9Ub3BcIixcIkNyb3BcIixcIkRlbHRhXCIsXCJEZXN0cm95XCIsXCJGaXhlZFRvQ2FtZXJhXCIsXCJIZWFsdGhcIixcIkluQ2FtZXJhXCIsXCJJbnB1dEVuYWJsZWRcIixcIkluV29ybGRcIixcIkxpZmVTcGFuXCIsXCJMb2FkVGV4dHVyZVwiLFwiT3ZlcmxhcFwiLFwiUGh5c2ljc0JvZHlcIixcIlJlc2V0XCIsXCJTY2FsZU1pbk1heFwiLFwiU21vb3RoZWRcIl0pLGkuU3ByaXRlLnByb3RvdHlwZS5wcmVVcGRhdGVQaHlzaWNzPWkuQ29tcG9uZW50LlBoeXNpY3NCb2R5LnByZVVwZGF0ZSxpLlNwcml0ZS5wcm90b3R5cGUucHJlVXBkYXRlTGlmZVNwYW49aS5Db21wb25lbnQuTGlmZVNwYW4ucHJlVXBkYXRlLGkuU3ByaXRlLnByb3RvdHlwZS5wcmVVcGRhdGVJbldvcmxkPWkuQ29tcG9uZW50LkluV29ybGQucHJlVXBkYXRlLGkuU3ByaXRlLnByb3RvdHlwZS5wcmVVcGRhdGVDb3JlPWkuQ29tcG9uZW50LkNvcmUucHJlVXBkYXRlLGkuU3ByaXRlLnByb3RvdHlwZS5wcmVVcGRhdGU9ZnVuY3Rpb24oKXtyZXR1cm4hISh0aGlzLnByZVVwZGF0ZVBoeXNpY3MoKSYmdGhpcy5wcmVVcGRhdGVMaWZlU3BhbigpJiZ0aGlzLnByZVVwZGF0ZUluV29ybGQoKSkmJnRoaXMucHJlVXBkYXRlQ29yZSgpfSxpLkltYWdlPWZ1bmN0aW9uKHQsZSxzLG4sbyl7ZT1lfHwwLHM9c3x8MCxuPW58fG51bGwsbz1vfHxudWxsLHRoaXMudHlwZT1pLklNQUdFLFBJWEkuU3ByaXRlLmNhbGwodGhpcyxpLkNhY2hlLkRFRkFVTFQpLGkuQ29tcG9uZW50LkNvcmUuaW5pdC5jYWxsKHRoaXMsdCxlLHMsbixvKX0saS5JbWFnZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShQSVhJLlNwcml0ZS5wcm90b3R5cGUpLGkuSW1hZ2UucHJvdG90eXBlLmNvbnN0cnVjdG9yPWkuSW1hZ2UsaS5Db21wb25lbnQuQ29yZS5pbnN0YWxsLmNhbGwoaS5JbWFnZS5wcm90b3R5cGUsW1wiQW5nbGVcIixcIkFuaW1hdGlvblwiLFwiQXV0b0N1bGxcIixcIkJvdW5kc1wiLFwiQnJpbmdUb1RvcFwiLFwiQ3JvcFwiLFwiRGVzdHJveVwiLFwiRml4ZWRUb0NhbWVyYVwiLFwiSW5wdXRFbmFibGVkXCIsXCJMaWZlU3BhblwiLFwiTG9hZFRleHR1cmVcIixcIk92ZXJsYXBcIixcIlJlc2V0XCIsXCJTY2FsZU1pbk1heFwiLFwiU21vb3RoZWRcIl0pLGkuSW1hZ2UucHJvdG90eXBlLnByZVVwZGF0ZUxpZmVTcGFuPWkuQ29tcG9uZW50LkxpZmVTcGFuLnByZVVwZGF0ZSxpLkltYWdlLnByb3RvdHlwZS5wcmVVcGRhdGVJbldvcmxkPWkuQ29tcG9uZW50LkluV29ybGQucHJlVXBkYXRlLGkuSW1hZ2UucHJvdG90eXBlLnByZVVwZGF0ZUNvcmU9aS5Db21wb25lbnQuQ29yZS5wcmVVcGRhdGUsaS5JbWFnZS5wcm90b3R5cGUucHJlVXBkYXRlPWZ1bmN0aW9uKCl7cmV0dXJuISghdGhpcy5wcmVVcGRhdGVJbldvcmxkKCl8fCF0aGlzLnByZVVwZGF0ZUxpZmVTcGFuKCkpJiZ0aGlzLnByZVVwZGF0ZUNvcmUoKX0saS5CdXR0b249ZnVuY3Rpb24odCxlLHMsbixvLHIsYSxoLGwsYyl7ZT1lfHwwLHM9c3x8MCxuPW58fG51bGwsbz1vfHxudWxsLHI9cnx8dGhpcyxpLkltYWdlLmNhbGwodGhpcyx0LGUscyxuLGgpLHRoaXMudHlwZT1pLkJVVFRPTix0aGlzLnBoeXNpY3NUeXBlPWkuU1BSSVRFLHRoaXMuX29uT3ZlckZyYW1lPW51bGwsdGhpcy5fb25PdXRGcmFtZT1udWxsLHRoaXMuX29uRG93bkZyYW1lPW51bGwsdGhpcy5fb25VcEZyYW1lPW51bGwsdGhpcy5vbk92ZXJTb3VuZD1udWxsLHRoaXMub25PdXRTb3VuZD1udWxsLHRoaXMub25Eb3duU291bmQ9bnVsbCx0aGlzLm9uVXBTb3VuZD1udWxsLHRoaXMub25PdmVyU291bmRNYXJrZXI9XCJcIix0aGlzLm9uT3V0U291bmRNYXJrZXI9XCJcIix0aGlzLm9uRG93blNvdW5kTWFya2VyPVwiXCIsdGhpcy5vblVwU291bmRNYXJrZXI9XCJcIix0aGlzLm9uSW5wdXRPdmVyPW5ldyBpLlNpZ25hbCx0aGlzLm9uSW5wdXRPdXQ9bmV3IGkuU2lnbmFsLHRoaXMub25JbnB1dERvd249bmV3IGkuU2lnbmFsLHRoaXMub25JbnB1dFVwPW5ldyBpLlNpZ25hbCx0aGlzLm9uT3Zlck1vdXNlT25seT0hMCx0aGlzLmp1c3RSZWxlYXNlZFByZXZlbnRzT3Zlcj1pLlBvaW50ZXJNb2RlLkNPTlRBQ1QsdGhpcy5mcmVlemVGcmFtZXM9ITEsdGhpcy5mb3JjZU91dD0hMSx0aGlzLmlucHV0RW5hYmxlZD0hMCx0aGlzLmlucHV0LnN0YXJ0KDAsITApLHRoaXMuaW5wdXQudXNlSGFuZEN1cnNvcj0hMCx0aGlzLnNldEZyYW1lcyhhLGgsbCxjKSxudWxsIT09byYmdGhpcy5vbklucHV0VXAuYWRkKG8sciksdGhpcy5ldmVudHMub25JbnB1dE92ZXIuYWRkKHRoaXMub25JbnB1dE92ZXJIYW5kbGVyLHRoaXMpLHRoaXMuZXZlbnRzLm9uSW5wdXRPdXQuYWRkKHRoaXMub25JbnB1dE91dEhhbmRsZXIsdGhpcyksdGhpcy5ldmVudHMub25JbnB1dERvd24uYWRkKHRoaXMub25JbnB1dERvd25IYW5kbGVyLHRoaXMpLHRoaXMuZXZlbnRzLm9uSW5wdXRVcC5hZGQodGhpcy5vbklucHV0VXBIYW5kbGVyLHRoaXMpfSxpLkJ1dHRvbi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShpLkltYWdlLnByb3RvdHlwZSksaS5CdXR0b24ucHJvdG90eXBlLmNvbnN0cnVjdG9yPWkuQnV0dG9uO3JldHVybiBpLkJ1dHRvbi5wcm90b3R5cGUuY2xlYXJGcmFtZXM9ZnVuY3Rpb24oKXt0aGlzLnNldEZyYW1lcyhudWxsLG51bGwsbnVsbCxudWxsKX0saS5CdXR0b24ucHJvdG90eXBlLnNldFN0YXRlRnJhbWU9ZnVuY3Rpb24odCxlLGkpe3ZhciBzPVwiX29uXCIrdCtcIkZyYW1lXCI7bnVsbCE9PWU/KHRoaXNbc109ZSxpJiZ0aGlzLmNoYW5nZVN0YXRlRnJhbWUodCkpOnRoaXNbc109bnVsbH0saS5CdXR0b24ucHJvdG90eXBlLmNoYW5nZVN0YXRlRnJhbWU9ZnVuY3Rpb24odCl7aWYodGhpcy5mcmVlemVGcmFtZXMpcmV0dXJuITE7dmFyIGU9dGhpc1tcIl9vblwiK3QrXCJGcmFtZVwiXTtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgZT8odGhpcy5mcmFtZU5hbWU9ZSwhMCk6XCJudW1iZXJcIj09dHlwZW9mIGUmJih0aGlzLmZyYW1lPWUsITApfSxpLkJ1dHRvbi5wcm90b3R5cGUuc2V0RnJhbWVzPWZ1bmN0aW9uKHQsZSxpLHMpe3RoaXMuc2V0U3RhdGVGcmFtZShcIk92ZXJcIix0LHRoaXMuaW5wdXQucG9pbnRlck92ZXIoKSksdGhpcy5zZXRTdGF0ZUZyYW1lKFwiT3V0XCIsZSwhdGhpcy5pbnB1dC5wb2ludGVyT3ZlcigpKSx0aGlzLnNldFN0YXRlRnJhbWUoXCJEb3duXCIsaSx0aGlzLmlucHV0LnBvaW50ZXJEb3duKCkpLHRoaXMuc2V0U3RhdGVGcmFtZShcIlVwXCIscyx0aGlzLmlucHV0LnBvaW50ZXJVcCgpKX0saS5CdXR0b24ucHJvdG90eXBlLnNldFN0YXRlU291bmQ9ZnVuY3Rpb24odCxlLHMpe3ZhciBuPVwib25cIit0K1wiU291bmRcIixvPVwib25cIit0K1wiU291bmRNYXJrZXJcIjtlIGluc3RhbmNlb2YgaS5Tb3VuZHx8ZSBpbnN0YW5jZW9mIGkuQXVkaW9TcHJpdGU/KHRoaXNbbl09ZSx0aGlzW29dPVwic3RyaW5nXCI9PXR5cGVvZiBzP3M6XCJcIik6KHRoaXNbbl09bnVsbCx0aGlzW29dPVwiXCIpfSxpLkJ1dHRvbi5wcm90b3R5cGUucGxheVN0YXRlU291bmQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpc1tcIm9uXCIrdCtcIlNvdW5kXCJdO2lmKGUpe3ZhciBpPXRoaXNbXCJvblwiK3QrXCJTb3VuZE1hcmtlclwiXTtyZXR1cm4gZS5wbGF5KGkpLCEwfXJldHVybiExfSxpLkJ1dHRvbi5wcm90b3R5cGUuc2V0U291bmRzPWZ1bmN0aW9uKHQsZSxpLHMsbixvLHIsYSl7dGhpcy5zZXRTdGF0ZVNvdW5kKFwiT3ZlclwiLHQsZSksdGhpcy5zZXRTdGF0ZVNvdW5kKFwiT3V0XCIsbixvKSx0aGlzLnNldFN0YXRlU291bmQoXCJEb3duXCIsaSxzKSx0aGlzLnNldFN0YXRlU291bmQoXCJVcFwiLHIsYSl9LGkuQnV0dG9uLnByb3RvdHlwZS5zZXRPdmVyU291bmQ9ZnVuY3Rpb24odCxlKXt0aGlzLnNldFN0YXRlU291bmQoXCJPdmVyXCIsdCxlKX0saS5CdXR0b24ucHJvdG90eXBlLnNldE91dFNvdW5kPWZ1bmN0aW9uKHQsZSl7dGhpcy5zZXRTdGF0ZVNvdW5kKFwiT3V0XCIsdCxlKX0saS5CdXR0b24ucHJvdG90eXBlLnNldERvd25Tb3VuZD1mdW5jdGlvbih0LGUpe3RoaXMuc2V0U3RhdGVTb3VuZChcIkRvd25cIix0LGUpfSxpLkJ1dHRvbi5wcm90b3R5cGUuc2V0VXBTb3VuZD1mdW5jdGlvbih0LGUpe3RoaXMuc2V0U3RhdGVTb3VuZChcIlVwXCIsdCxlKX0saS5CdXR0b24ucHJvdG90eXBlLm9uSW5wdXRPdmVySGFuZGxlcj1mdW5jdGlvbih0LGUpe2UuanVzdFJlbGVhc2VkKCkmJih0aGlzLmp1c3RSZWxlYXNlZFByZXZlbnRzT3ZlciZlLnBvaW50ZXJNb2RlKT09PWUucG9pbnRlck1vZGV8fCh0aGlzLmNoYW5nZVN0YXRlRnJhbWUoXCJPdmVyXCIpLHRoaXMub25PdmVyTW91c2VPbmx5JiYhZS5pc01vdXNlfHwodGhpcy5wbGF5U3RhdGVTb3VuZChcIk92ZXJcIiksdGhpcy5vbklucHV0T3ZlciYmdGhpcy5vbklucHV0T3Zlci5kaXNwYXRjaCh0aGlzLGUpKSl9LGkuQnV0dG9uLnByb3RvdHlwZS5vbklucHV0T3V0SGFuZGxlcj1mdW5jdGlvbih0LGUpe3RoaXMuY2hhbmdlU3RhdGVGcmFtZShcIk91dFwiKSx0aGlzLnBsYXlTdGF0ZVNvdW5kKFwiT3V0XCIpLHRoaXMub25JbnB1dE91dCYmdGhpcy5vbklucHV0T3V0LmRpc3BhdGNoKHRoaXMsZSl9LGkuQnV0dG9uLnByb3RvdHlwZS5vbklucHV0RG93bkhhbmRsZXI9ZnVuY3Rpb24odCxlKXt0aGlzLmNoYW5nZVN0YXRlRnJhbWUoXCJEb3duXCIpLHRoaXMucGxheVN0YXRlU291bmQoXCJEb3duXCIpLHRoaXMub25JbnB1dERvd24mJnRoaXMub25JbnB1dERvd24uZGlzcGF0Y2godGhpcyxlKX0saS5CdXR0b24ucHJvdG90eXBlLm9uSW5wdXRVcEhhbmRsZXI9ZnVuY3Rpb24odCxlLGkpe3RoaXMucGxheVN0YXRlU291bmQoXCJVcFwiKSx0aGlzLm9uSW5wdXRVcCYmdGhpcy5vbklucHV0VXAuZGlzcGF0Y2godGhpcyxlLGkpLHRoaXMuZnJlZXplRnJhbWVzfHwoITA9PT10aGlzLmZvcmNlT3V0fHwodGhpcy5mb3JjZU91dCZlLnBvaW50ZXJNb2RlKT09PWUucG9pbnRlck1vZGU/dGhpcy5jaGFuZ2VTdGF0ZUZyYW1lKFwiT3V0XCIpOnRoaXMuY2hhbmdlU3RhdGVGcmFtZShcIlVwXCIpfHwoaT90aGlzLmNoYW5nZVN0YXRlRnJhbWUoXCJPdmVyXCIpOnRoaXMuY2hhbmdlU3RhdGVGcmFtZShcIk91dFwiKSkpfSxpLlNwcml0ZUJhdGNoPWZ1bmN0aW9uKHQsZSxzLG4pe3ZvaWQgMCE9PWUmJm51bGwhPT1lfHwoZT10LndvcmxkKSxpLkdyb3VwLmNhbGwodGhpcyx0LGUscyxuKSx0aGlzLnR5cGU9aS5TUFJJVEVCQVRDSCx0aGlzLmZhc3RTcHJpdGVCYXRjaD1udWxsLHRoaXMucmVhZHk9ITF9LGkuU3ByaXRlQmF0Y2gucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoaS5Hcm91cC5wcm90b3R5cGUpLGkuU3ByaXRlQmF0Y2gucHJvdG90eXBlLmNvbnN0cnVjdG9yPWkuU3ByaXRlQmF0Y2gsaS5TcHJpdGVCYXRjaC5wcm90b3R5cGUuX3JlbmRlcldlYkdMPWZ1bmN0aW9uKHQpeyF0aGlzLnZpc2libGV8fHRoaXMuYWxwaGE8PTB8fCF0aGlzLmNoaWxkcmVuLmxlbmd0aHx8KHRoaXMucmVhZHl8fCh0aGlzLmZhc3RTcHJpdGVCYXRjaD1uZXcgUElYSS5XZWJHTEZhc3RTcHJpdGVCYXRjaCh0LmdsKSx0aGlzLnJlYWR5PSEwKSx0aGlzLmZhc3RTcHJpdGVCYXRjaC5nbCE9PXQuZ2wmJnRoaXMuZmFzdFNwcml0ZUJhdGNoLnNldENvbnRleHQodC5nbCksdC5zcHJpdGVCYXRjaC5zdG9wKCksdC5zaGFkZXJNYW5hZ2VyLnNldFNoYWRlcih0LnNoYWRlck1hbmFnZXIuZmFzdFNoYWRlciksdGhpcy5mYXN0U3ByaXRlQmF0Y2guYmVnaW4odGhpcyx0KSx0aGlzLmZhc3RTcHJpdGVCYXRjaC5yZW5kZXIodGhpcyksdC5zcHJpdGVCYXRjaC5zdGFydCgpKX0saS5TcHJpdGVCYXRjaC5wcm90b3R5cGUuX3JlbmRlckNhbnZhcz1mdW5jdGlvbih0KXtpZih0aGlzLnZpc2libGUmJiEodGhpcy5hbHBoYTw9MCkmJnRoaXMuY2hpbGRyZW4ubGVuZ3RoKXt2YXIgZT10LmNvbnRleHQ7ZS5nbG9iYWxBbHBoYT10aGlzLndvcmxkQWxwaGEsdGhpcy5kaXNwbGF5T2JqZWN0VXBkYXRlVHJhbnNmb3JtKCk7Zm9yKHZhciBpPXRoaXMud29ybGRUcmFuc2Zvcm0scz0hMCxuPTA7bjx0aGlzLmNoaWxkcmVuLmxlbmd0aDtuKyspe3ZhciBvPXRoaXMuY2hpbGRyZW5bbl07aWYoby52aXNpYmxlKXt2YXIgcj1vLnRleHR1cmUsYT1yLmZyYW1lO2lmKGUuZ2xvYmFsQWxwaGE9dGhpcy53b3JsZEFscGhhKm8uYWxwaGEsby5yb3RhdGlvbiUoMipNYXRoLlBJKT09MClzJiYoZS5zZXRUcmFuc2Zvcm0oaS5hLGkuYixpLmMsaS5kLGkudHgsaS50eSkscz0hMSksZS5kcmF3SW1hZ2Uoci5iYXNlVGV4dHVyZS5zb3VyY2UsYS54LGEueSxhLndpZHRoLGEuaGVpZ2h0LG8uYW5jaG9yLngqKC1hLndpZHRoKm8uc2NhbGUueCkrby5wb3NpdGlvbi54Ky41K3Quc2hha2VYfDAsby5hbmNob3IueSooLWEuaGVpZ2h0Km8uc2NhbGUueSkrby5wb3NpdGlvbi55Ky41K3Quc2hha2VZfDAsYS53aWR0aCpvLnNjYWxlLngsYS5oZWlnaHQqby5zY2FsZS55KTtlbHNle3N8fChzPSEwKSxvLmRpc3BsYXlPYmplY3RVcGRhdGVUcmFuc2Zvcm0oKTt2YXIgaD1vLndvcmxkVHJhbnNmb3JtLGw9aC50eCp0LnJlc29sdXRpb24rdC5zaGFrZVgsYz1oLnR5KnQucmVzb2x1dGlvbit0LnNoYWtlWTt0LnJvdW5kUGl4ZWxzP2Uuc2V0VHJhbnNmb3JtKGguYSxoLmIsaC5jLGguZCwwfGwsMHxjKTplLnNldFRyYW5zZm9ybShoLmEsaC5iLGguYyxoLmQsbCxjKSxlLmRyYXdJbWFnZShyLmJhc2VUZXh0dXJlLnNvdXJjZSxhLngsYS55LGEud2lkdGgsYS5oZWlnaHQsby5hbmNob3IueCotYS53aWR0aCsuNXwwLG8uYW5jaG9yLnkqLWEuaGVpZ2h0Ky41fDAsYS53aWR0aCxhLmhlaWdodCl9fX19fSxpLkJpdG1hcERhdGE9ZnVuY3Rpb24odCxlLHMsbixvKXt2b2lkIDAhPT1zJiYwIT09c3x8KHM9MjU2KSx2b2lkIDAhPT1uJiYwIT09bnx8KG49MjU2KSx2b2lkIDA9PT1vJiYobz0hMSksdGhpcy5nYW1lPXQsdGhpcy5rZXk9ZSx0aGlzLndpZHRoPXMsdGhpcy5oZWlnaHQ9bix0aGlzLmNhbnZhcz1pLkNhbnZhcy5jcmVhdGUodGhpcyxzLG4sbnVsbCxvKSx0aGlzLmNvbnRleHQ9dGhpcy5jYW52YXMuZ2V0Q29udGV4dChcIjJkXCIse2FscGhhOiEwfSksdGhpcy5jdHg9dGhpcy5jb250ZXh0LHRoaXMuc21vb3RoUHJvcGVydHk9dC5yZW5kZXJUeXBlPT09aS5DQU5WQVM/dC5yZW5kZXJlci5yZW5kZXJTZXNzaW9uLnNtb290aFByb3BlcnR5OmkuQ2FudmFzLmdldFNtb290aGluZ1ByZWZpeCh0aGlzLmNvbnRleHQpLHRoaXMuaW1hZ2VEYXRhPXRoaXMuY29udGV4dC5nZXRJbWFnZURhdGEoMCwwLHMsbiksdGhpcy5kYXRhPW51bGwsdGhpcy5pbWFnZURhdGEmJih0aGlzLmRhdGE9dGhpcy5pbWFnZURhdGEuZGF0YSksdGhpcy5waXhlbHM9bnVsbCx0aGlzLmRhdGEmJih0aGlzLmltYWdlRGF0YS5kYXRhLmJ1ZmZlcj8odGhpcy5idWZmZXI9dGhpcy5pbWFnZURhdGEuZGF0YS5idWZmZXIsdGhpcy5waXhlbHM9bmV3IFVpbnQzMkFycmF5KHRoaXMuYnVmZmVyKSk6d2luZG93LkFycmF5QnVmZmVyPyh0aGlzLmJ1ZmZlcj1uZXcgQXJyYXlCdWZmZXIodGhpcy5pbWFnZURhdGEuZGF0YS5sZW5ndGgpLHRoaXMucGl4ZWxzPW5ldyBVaW50MzJBcnJheSh0aGlzLmJ1ZmZlcikpOnRoaXMucGl4ZWxzPXRoaXMuaW1hZ2VEYXRhLmRhdGEpLHRoaXMuYmFzZVRleHR1cmU9bmV3IFBJWEkuQmFzZVRleHR1cmUodGhpcy5jYW52YXMsbnVsbCx0aGlzLmdhbWUucmVzb2x1dGlvbiksdGhpcy50ZXh0dXJlPW5ldyBQSVhJLlRleHR1cmUodGhpcy5iYXNlVGV4dHVyZSksdGhpcy5mcmFtZURhdGE9bmV3IGkuRnJhbWVEYXRhLHRoaXMudGV4dHVyZUZyYW1lPXRoaXMuZnJhbWVEYXRhLmFkZEZyYW1lKG5ldyBpLkZyYW1lKDAsMCwwLHMsbixcImJpdG1hcERhdGFcIikpLHRoaXMudGV4dHVyZS5mcmFtZT10aGlzLnRleHR1cmVGcmFtZSx0aGlzLnR5cGU9aS5CSVRNQVBEQVRBLHRoaXMuZGlzYWJsZVRleHR1cmVVcGxvYWQ9ITEsdGhpcy5kaXJ0eT0hMSx0aGlzLmNscz10aGlzLmNsZWFyLHRoaXMuX2ltYWdlPW51bGwsdGhpcy5fcG9zPW5ldyBpLlBvaW50LHRoaXMuX3NpemU9bmV3IGkuUG9pbnQsdGhpcy5fc2NhbGU9bmV3IGkuUG9pbnQsdGhpcy5fcm90YXRlPTAsdGhpcy5fYWxwaGE9e3ByZXY6MSxjdXJyZW50OjF9LHRoaXMuX2FuY2hvcj1uZXcgaS5Qb2ludCx0aGlzLl90ZW1wUj0wLHRoaXMuX3RlbXBHPTAsdGhpcy5fdGVtcEI9MCx0aGlzLl9jaXJjbGU9bmV3IGkuQ2lyY2xlLHRoaXMuX3N3YXBDYW52YXM9dm9pZCAwfSxpLkJpdG1hcERhdGEucHJvdG90eXBlPXttb3ZlOmZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gMCE9PXQmJnRoaXMubW92ZUgodCxpKSwwIT09ZSYmdGhpcy5tb3ZlVihlLGkpLHRoaXN9LG1vdmVIOmZ1bmN0aW9uKHQsZSl7dm9pZCAwPT09ZSYmKGU9ITApLHZvaWQgMD09PXRoaXMuX3N3YXBDYW52YXMmJih0aGlzLl9zd2FwQ2FudmFzPWkuQ2FudmFzUG9vbC5jcmVhdGUodGhpcyx0aGlzLndpZHRoLHRoaXMuaGVpZ2h0KSk7dmFyIHM9dGhpcy5fc3dhcENhbnZhcy5nZXRDb250ZXh0KFwiMmRcIiksbj10aGlzLmhlaWdodCxvPXRoaXMuY2FudmFzO2lmKHMuY2xlYXJSZWN0KDAsMCx0aGlzLndpZHRoLHRoaXMuaGVpZ2h0KSx0PDApe3Q9TWF0aC5hYnModCk7cj10aGlzLndpZHRoLXQ7ZSYmcy5kcmF3SW1hZ2UobywwLDAsdCxuLHIsMCx0LG4pLHMuZHJhd0ltYWdlKG8sdCwwLHIsbiwwLDAscixuKX1lbHNle3ZhciByPXRoaXMud2lkdGgtdDtlJiZzLmRyYXdJbWFnZShvLHIsMCx0LG4sMCwwLHQsbikscy5kcmF3SW1hZ2UobywwLDAscixuLHQsMCxyLG4pfXJldHVybiB0aGlzLmNsZWFyKCksdGhpcy5jb3B5KHRoaXMuX3N3YXBDYW52YXMpfSxtb3ZlVjpmdW5jdGlvbih0LGUpe3ZvaWQgMD09PWUmJihlPSEwKSx2b2lkIDA9PT10aGlzLl9zd2FwQ2FudmFzJiYodGhpcy5fc3dhcENhbnZhcz1pLkNhbnZhc1Bvb2wuY3JlYXRlKHRoaXMsdGhpcy53aWR0aCx0aGlzLmhlaWdodCkpO3ZhciBzPXRoaXMuX3N3YXBDYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpLG49dGhpcy53aWR0aCxvPXRoaXMuY2FudmFzO2lmKHMuY2xlYXJSZWN0KDAsMCx0aGlzLndpZHRoLHRoaXMuaGVpZ2h0KSx0PDApe3Q9TWF0aC5hYnModCk7cj10aGlzLmhlaWdodC10O2UmJnMuZHJhd0ltYWdlKG8sMCwwLG4sdCwwLHIsbix0KSxzLmRyYXdJbWFnZShvLDAsdCxuLHIsMCwwLG4scil9ZWxzZXt2YXIgcj10aGlzLmhlaWdodC10O2UmJnMuZHJhd0ltYWdlKG8sMCxyLG4sdCwwLDAsbix0KSxzLmRyYXdJbWFnZShvLDAsMCxuLHIsMCx0LG4scil9cmV0dXJuIHRoaXMuY2xlYXIoKSx0aGlzLmNvcHkodGhpcy5fc3dhcENhbnZhcyl9LGFkZDpmdW5jdGlvbih0KXtpZihBcnJheS5pc0FycmF5KHQpKWZvcih2YXIgZT0wO2U8dC5sZW5ndGg7ZSsrKXRbZV0ubG9hZFRleHR1cmUmJnRbZV0ubG9hZFRleHR1cmUodGhpcyk7ZWxzZSB0LmxvYWRUZXh0dXJlKHRoaXMpO3JldHVybiB0aGlzfSxsb2FkOmZ1bmN0aW9uKHQpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0JiYodD10aGlzLmdhbWUuY2FjaGUuZ2V0SW1hZ2UodCkpLHQpcmV0dXJuIHRoaXMucmVzaXplKHQud2lkdGgsdC5oZWlnaHQpLHRoaXMuY2xzKCksdGhpcy5kcmF3KHQpLHRoaXMudXBkYXRlKCksdGhpc30sY2xlYXI6ZnVuY3Rpb24odCxlLGkscyl7cmV0dXJuIHZvaWQgMD09PXQmJih0PTApLHZvaWQgMD09PWUmJihlPTApLHZvaWQgMD09PWkmJihpPXRoaXMud2lkdGgpLHZvaWQgMD09PXMmJihzPXRoaXMuaGVpZ2h0KSx0aGlzLmNvbnRleHQuY2xlYXJSZWN0KHQsZSxpLHMpLHRoaXMuZGlydHk9ITAsdGhpc30sZmlsbDpmdW5jdGlvbih0LGUsaSxzKXtyZXR1cm4gdm9pZCAwPT09cyYmKHM9MSksdGhpcy5jb250ZXh0LmZpbGxTdHlsZT1cInJnYmEoXCIrdCtcIixcIitlK1wiLFwiK2krXCIsXCIrcytcIilcIix0aGlzLmNvbnRleHQuZmlsbFJlY3QoMCwwLHRoaXMud2lkdGgsdGhpcy5oZWlnaHQpLHRoaXMuZGlydHk9ITAsdGhpc30sZ2VuZXJhdGVUZXh0dXJlOmZ1bmN0aW9uKHQsZSxpKXt2YXIgcz10aGlzLmdhbWUuY2FjaGUsbj1uZXcgSW1hZ2U7aWYoZSYmKG4ub25sb2FkPWZ1bmN0aW9uKCl7dmFyIG89cy5hZGRJbWFnZSh0LFwiXCIsbikscj1uZXcgUElYSS5UZXh0dXJlKG8uYmFzZSk7ZS5jYWxsKGl8fG51bGwsciksbi5vbmxvYWQ9bnVsbH0pLG4uc3JjPXRoaXMuY2FudmFzLnRvRGF0YVVSTChcImltYWdlL3BuZ1wiKSwhZSl7dmFyIG89cy5hZGRJbWFnZSh0LFwiXCIsbik7cmV0dXJuIG5ldyBQSVhJLlRleHR1cmUoby5iYXNlKX1yZXR1cm4gbnVsbH0scmVzaXplOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQ9PT10aGlzLndpZHRoJiZlPT09dGhpcy5oZWlnaHR8fCh0aGlzLndpZHRoPXQsdGhpcy5oZWlnaHQ9ZSx0aGlzLmNhbnZhcy53aWR0aD10LHRoaXMuY2FudmFzLmhlaWdodD1lLHZvaWQgMCE9PXRoaXMuX3N3YXBDYW52YXMmJih0aGlzLl9zd2FwQ2FudmFzLndpZHRoPXQsdGhpcy5fc3dhcENhbnZhcy5oZWlnaHQ9ZSksdGhpcy5iYXNlVGV4dHVyZS53aWR0aD10LHRoaXMuYmFzZVRleHR1cmUuaGVpZ2h0PWUsdGhpcy50ZXh0dXJlRnJhbWUud2lkdGg9dCx0aGlzLnRleHR1cmVGcmFtZS5oZWlnaHQ9ZSx0aGlzLnRleHR1cmUud2lkdGg9dCx0aGlzLnRleHR1cmUuaGVpZ2h0PWUsdGhpcy50ZXh0dXJlLmNyb3Aud2lkdGg9dCx0aGlzLnRleHR1cmUuY3JvcC5oZWlnaHQ9ZSx0aGlzLnVwZGF0ZSgpLHRoaXMuZGlydHk9ITApLHRoaXN9LHVwZGF0ZTpmdW5jdGlvbih0LGUsaSxzKXtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9MCksdm9pZCAwPT09ZSYmKGU9MCksdm9pZCAwPT09aSYmKGk9TWF0aC5tYXgoMSx0aGlzLndpZHRoKSksdm9pZCAwPT09cyYmKHM9TWF0aC5tYXgoMSx0aGlzLmhlaWdodCkpLHRoaXMuaW1hZ2VEYXRhPXRoaXMuY29udGV4dC5nZXRJbWFnZURhdGEodCxlLGkscyksdGhpcy5kYXRhPXRoaXMuaW1hZ2VEYXRhLmRhdGEsdGhpcy5pbWFnZURhdGEuZGF0YS5idWZmZXI/KHRoaXMuYnVmZmVyPXRoaXMuaW1hZ2VEYXRhLmRhdGEuYnVmZmVyLHRoaXMucGl4ZWxzPW5ldyBVaW50MzJBcnJheSh0aGlzLmJ1ZmZlcikpOndpbmRvdy5BcnJheUJ1ZmZlcj8odGhpcy5idWZmZXI9bmV3IEFycmF5QnVmZmVyKHRoaXMuaW1hZ2VEYXRhLmRhdGEubGVuZ3RoKSx0aGlzLnBpeGVscz1uZXcgVWludDMyQXJyYXkodGhpcy5idWZmZXIpKTp0aGlzLnBpeGVscz10aGlzLmltYWdlRGF0YS5kYXRhLHRoaXN9LHByb2Nlc3NQaXhlbFJHQjpmdW5jdGlvbih0LGUscyxuLG8scil7dm9pZCAwPT09cyYmKHM9MCksdm9pZCAwPT09biYmKG49MCksdm9pZCAwPT09byYmKG89dGhpcy53aWR0aCksdm9pZCAwPT09ciYmKHI9dGhpcy5oZWlnaHQpO2Zvcih2YXIgYT1zK28saD1uK3IsbD1pLkNvbG9yLmNyZWF0ZUNvbG9yKCksYz17cjowLGc6MCxiOjAsYTowfSx1PSExLGQ9bjtkPGg7ZCsrKWZvcih2YXIgcD1zO3A8YTtwKyspaS5Db2xvci51bnBhY2tQaXhlbCh0aGlzLmdldFBpeGVsMzIocCxkKSxsKSwhMSE9PShjPXQuY2FsbChlLGwscCxkKSkmJm51bGwhPT1jJiZ2b2lkIDAhPT1jJiYodGhpcy5zZXRQaXhlbDMyKHAsZCxjLnIsYy5nLGMuYixjLmEsITEpLHU9ITApO3JldHVybiB1JiYodGhpcy5jb250ZXh0LnB1dEltYWdlRGF0YSh0aGlzLmltYWdlRGF0YSwwLDApLHRoaXMuZGlydHk9ITApLHRoaXN9LHByb2Nlc3NQaXhlbDpmdW5jdGlvbih0LGUsaSxzLG4sbyl7dm9pZCAwPT09aSYmKGk9MCksdm9pZCAwPT09cyYmKHM9MCksdm9pZCAwPT09biYmKG49dGhpcy53aWR0aCksdm9pZCAwPT09byYmKG89dGhpcy5oZWlnaHQpO2Zvcih2YXIgcj1pK24sYT1zK28saD0wLGw9MCxjPSExLHU9czt1PGE7dSsrKWZvcih2YXIgZD1pO2Q8cjtkKyspaD10aGlzLmdldFBpeGVsMzIoZCx1KSwobD10LmNhbGwoZSxoLGQsdSkpIT09aCYmKHRoaXMucGl4ZWxzW3UqdGhpcy53aWR0aCtkXT1sLGM9ITApO3JldHVybiBjJiYodGhpcy5jb250ZXh0LnB1dEltYWdlRGF0YSh0aGlzLmltYWdlRGF0YSwwLDApLHRoaXMuZGlydHk9ITApLHRoaXN9LHJlcGxhY2VSR0I6ZnVuY3Rpb24odCxlLHMsbixvLHIsYSxoLGwpe3ZhciBjPTAsdT0wLGQ9dGhpcy53aWR0aCxwPXRoaXMuaGVpZ2h0LGY9aS5Db2xvci5wYWNrUGl4ZWwodCxlLHMsbik7dm9pZCAwIT09bCYmbCBpbnN0YW5jZW9mIGkuUmVjdGFuZ2xlJiYoYz1sLngsdT1sLnksZD1sLndpZHRoLHA9bC5oZWlnaHQpO2Zvcih2YXIgbT0wO208cDttKyspZm9yKHZhciBnPTA7ZzxkO2crKyl0aGlzLmdldFBpeGVsMzIoYytnLHUrbSk9PT1mJiZ0aGlzLnNldFBpeGVsMzIoYytnLHUrbSxvLHIsYSxoLCExKTtyZXR1cm4gdGhpcy5jb250ZXh0LnB1dEltYWdlRGF0YSh0aGlzLmltYWdlRGF0YSwwLDApLHRoaXMuZGlydHk9ITAsdGhpc30sc2V0SFNMOmZ1bmN0aW9uKHQsZSxzLG4pe3ZhciBvPXR8fDA9PT10LHI9ZXx8MD09PWUsYT1zfHwwPT09cztpZihvfHxyfHxhKXt2b2lkIDA9PT1uJiYobj1uZXcgaS5SZWN0YW5nbGUoMCwwLHRoaXMud2lkdGgsdGhpcy5oZWlnaHQpKTtmb3IodmFyIGg9aS5Db2xvci5jcmVhdGVDb2xvcigpLGw9bi55O2w8bi5ib3R0b207bCsrKWZvcih2YXIgYz1uLng7YzxuLnJpZ2h0O2MrKylpLkNvbG9yLnVucGFja1BpeGVsKHRoaXMuZ2V0UGl4ZWwzMihjLGwpLGgsITApLG8mJihoLmg9dCksciYmKGgucz1lKSxhJiYoaC5sPXMpLGkuQ29sb3IuSFNMdG9SR0IoaC5oLGgucyxoLmwsaCksdGhpcy5zZXRQaXhlbDMyKGMsbCxoLnIsaC5nLGguYixoLmEsITEpO3JldHVybiB0aGlzLmNvbnRleHQucHV0SW1hZ2VEYXRhKHRoaXMuaW1hZ2VEYXRhLDAsMCksdGhpcy5kaXJ0eT0hMCx0aGlzfX0sc2hpZnRIU0w6ZnVuY3Rpb24odCxlLHMsbil7aWYodm9pZCAwIT09dCYmbnVsbCE9PXR8fCh0PSExKSx2b2lkIDAhPT1lJiZudWxsIT09ZXx8KGU9ITEpLHZvaWQgMCE9PXMmJm51bGwhPT1zfHwocz0hMSksdHx8ZXx8cyl7dm9pZCAwPT09biYmKG49bmV3IGkuUmVjdGFuZ2xlKDAsMCx0aGlzLndpZHRoLHRoaXMuaGVpZ2h0KSk7Zm9yKHZhciBvPWkuQ29sb3IuY3JlYXRlQ29sb3IoKSxyPW4ueTtyPG4uYm90dG9tO3IrKylmb3IodmFyIGE9bi54O2E8bi5yaWdodDthKyspaS5Db2xvci51bnBhY2tQaXhlbCh0aGlzLmdldFBpeGVsMzIoYSxyKSxvLCEwKSx0JiYoby5oPXRoaXMuZ2FtZS5tYXRoLndyYXAoby5oK3QsMCwxKSksZSYmKG8ucz10aGlzLmdhbWUubWF0aC5jbGFtcChvLnMrZSwwLDEpKSxzJiYoby5sPXRoaXMuZ2FtZS5tYXRoLmNsYW1wKG8ubCtzLDAsMSkpLGkuQ29sb3IuSFNMdG9SR0Ioby5oLG8ucyxvLmwsbyksdGhpcy5zZXRQaXhlbDMyKGEscixvLnIsby5nLG8uYixvLmEsITEpO3JldHVybiB0aGlzLmNvbnRleHQucHV0SW1hZ2VEYXRhKHRoaXMuaW1hZ2VEYXRhLDAsMCksdGhpcy5kaXJ0eT0hMCx0aGlzfX0sc2V0UGl4ZWwzMjpmdW5jdGlvbih0LGUscyxuLG8scixhKXtyZXR1cm4gdm9pZCAwPT09YSYmKGE9ITApLHQ+PTAmJnQ8PXRoaXMud2lkdGgmJmU+PTAmJmU8PXRoaXMuaGVpZ2h0JiYoaS5EZXZpY2UuTElUVExFX0VORElBTj90aGlzLnBpeGVsc1tlKnRoaXMud2lkdGgrdF09cjw8MjR8bzw8MTZ8bjw8OHxzOnRoaXMucGl4ZWxzW2UqdGhpcy53aWR0aCt0XT1zPDwyNHxuPDwxNnxvPDw4fHIsYSYmKHRoaXMuY29udGV4dC5wdXRJbWFnZURhdGEodGhpcy5pbWFnZURhdGEsMCwwKSx0aGlzLmRpcnR5PSEwKSksdGhpc30sc2V0UGl4ZWw6ZnVuY3Rpb24odCxlLGkscyxuLG8pe3JldHVybiB0aGlzLnNldFBpeGVsMzIodCxlLGkscyxuLDI1NSxvKX0sZ2V0UGl4ZWw6ZnVuY3Rpb24odCxlLHMpe3N8fChzPWkuQ29sb3IuY3JlYXRlQ29sb3IoKSk7dmFyIG49fn4odCtlKnRoaXMud2lkdGgpO3JldHVybiBuKj00LHMucj10aGlzLmRhdGFbbl0scy5nPXRoaXMuZGF0YVsrK25dLHMuYj10aGlzLmRhdGFbKytuXSxzLmE9dGhpcy5kYXRhWysrbl0sc30sZ2V0UGl4ZWwzMjpmdW5jdGlvbih0LGUpe2lmKHQ+PTAmJnQ8PXRoaXMud2lkdGgmJmU+PTAmJmU8PXRoaXMuaGVpZ2h0KXJldHVybiB0aGlzLnBpeGVsc1tlKnRoaXMud2lkdGgrdF19LGdldFBpeGVsUkdCOmZ1bmN0aW9uKHQsZSxzLG4sbyl7cmV0dXJuIGkuQ29sb3IudW5wYWNrUGl4ZWwodGhpcy5nZXRQaXhlbDMyKHQsZSkscyxuLG8pfSxnZXRQaXhlbHM6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY29udGV4dC5nZXRJbWFnZURhdGEodC54LHQueSx0LndpZHRoLHQuaGVpZ2h0KX0sZ2V0Rmlyc3RQaXhlbDpmdW5jdGlvbih0KXt2b2lkIDA9PT10JiYodD0wKTt2YXIgZT1pLkNvbG9yLmNyZWF0ZUNvbG9yKCkscz0wLG49MCxvPTEscj0hMTsxPT09dD8obz0tMSxuPXRoaXMuaGVpZ2h0KTozPT09dCYmKG89LTEscz10aGlzLndpZHRoKTtkb3tpLkNvbG9yLnVucGFja1BpeGVsKHRoaXMuZ2V0UGl4ZWwzMihzLG4pLGUpLDA9PT10fHwxPT09dD8rK3M9PT10aGlzLndpZHRoJiYocz0wLCgobis9byk+PXRoaXMuaGVpZ2h0fHxuPD0wKSYmKHI9ITApKToyIT09dCYmMyE9PXR8fCsrbj09PXRoaXMuaGVpZ2h0JiYobj0wLCgocys9byk+PXRoaXMud2lkdGh8fHM8PTApJiYocj0hMCkpfXdoaWxlKDA9PT1lLmEmJiFyKTtyZXR1cm4gZS54PXMsZS55PW4sZX0sZ2V0Qm91bmRzOmZ1bmN0aW9uKHQpe3JldHVybiB2b2lkIDA9PT10JiYodD1uZXcgaS5SZWN0YW5nbGUpLHQueD10aGlzLmdldEZpcnN0UGl4ZWwoMikueCx0Lng9PT10aGlzLndpZHRoP3Quc2V0VG8oMCwwLDAsMCk6KHQueT10aGlzLmdldEZpcnN0UGl4ZWwoMCkueSx0LndpZHRoPXRoaXMuZ2V0Rmlyc3RQaXhlbCgzKS54LXQueCsxLHQuaGVpZ2h0PXRoaXMuZ2V0Rmlyc3RQaXhlbCgxKS55LXQueSsxLHQpfSxhZGRUb1dvcmxkOmZ1bmN0aW9uKHQsZSxpLHMsbixvKXtuPW58fDEsbz1vfHwxO3ZhciByPXRoaXMuZ2FtZS5hZGQuaW1hZ2UodCxlLHRoaXMpO3JldHVybiByLmFuY2hvci5zZXQoaSxzKSxyLnNjYWxlLnNldChuLG8pLHJ9LGNvcHk6ZnVuY3Rpb24odCxlLHMsbixvLHIsYSxoLGwsYyx1LGQscCxmLG0sZyx5KXtpZih2b2lkIDAhPT10JiZudWxsIT09dHx8KHQ9dGhpcyksdCBpbnN0YW5jZW9mIGkuUmVuZGVyVGV4dHVyZSYmKHQ9dC5nZXRDYW52YXMoKSksdGhpcy5faW1hZ2U9dCx0IGluc3RhbmNlb2YgaS5TcHJpdGV8fHQgaW5zdGFuY2VvZiBpLkltYWdlfHx0IGluc3RhbmNlb2YgaS5UZXh0fHx0IGluc3RhbmNlb2YgUElYSS5TcHJpdGUpdGhpcy5fcG9zLnNldCh0LnRleHR1cmUuY3JvcC54LHQudGV4dHVyZS5jcm9wLnkpLHRoaXMuX3NpemUuc2V0KHQudGV4dHVyZS5jcm9wLndpZHRoLHQudGV4dHVyZS5jcm9wLmhlaWdodCksdGhpcy5fc2NhbGUuc2V0KHQuc2NhbGUueCx0LnNjYWxlLnkpLHRoaXMuX2FuY2hvci5zZXQodC5hbmNob3IueCx0LmFuY2hvci55KSx0aGlzLl9yb3RhdGU9dC5yb3RhdGlvbix0aGlzLl9hbHBoYS5jdXJyZW50PXQuYWxwaGEsdC50ZXh0dXJlIGluc3RhbmNlb2YgaS5SZW5kZXJUZXh0dXJlP3RoaXMuX2ltYWdlPXQudGV4dHVyZS5nZXRDYW52YXMoKTp0aGlzLl9pbWFnZT10LnRleHR1cmUuYmFzZVRleHR1cmUuc291cmNlLHZvaWQgMCE9PXImJm51bGwhPT1yfHwocj10LngpLHZvaWQgMCE9PWEmJm51bGwhPT1hfHwoYT10LnkpLHQudGV4dHVyZS50cmltJiYocis9dC50ZXh0dXJlLnRyaW0ueC10LmFuY2hvci54KnQudGV4dHVyZS50cmltLndpZHRoLGErPXQudGV4dHVyZS50cmltLnktdC5hbmNob3IueSp0LnRleHR1cmUudHJpbS5oZWlnaHQpLDE2Nzc3MjE1IT09dC50aW50JiYodC5jYWNoZWRUaW50IT09dC50aW50JiYodC5jYWNoZWRUaW50PXQudGludCx0LnRpbnRlZFRleHR1cmU9UElYSS5DYW52YXNUaW50ZXIuZ2V0VGludGVkVGV4dHVyZSh0LHQudGludCkpLHRoaXMuX2ltYWdlPXQudGludGVkVGV4dHVyZSx0aGlzLl9wb3Muc2V0KDApKTtlbHNle2lmKHRoaXMuX3Bvcy5zZXQoMCksdGhpcy5fc2NhbGUuc2V0KDEpLHRoaXMuX2FuY2hvci5zZXQoMCksdGhpcy5fcm90YXRlPTAsdGhpcy5fYWxwaGEuY3VycmVudD0xLHQgaW5zdGFuY2VvZiBpLkJpdG1hcERhdGEpdGhpcy5faW1hZ2U9dC5jYW52YXM7ZWxzZSBpZihcInN0cmluZ1wiPT10eXBlb2YgdCl7aWYobnVsbD09PSh0PXRoaXMuZ2FtZS5jYWNoZS5nZXRJbWFnZSh0KSkpcmV0dXJuO3RoaXMuX2ltYWdlPXR9dGhpcy5fc2l6ZS5zZXQodGhpcy5faW1hZ2Uud2lkdGgsdGhpcy5faW1hZ2UuaGVpZ2h0KX1pZih2b2lkIDAhPT1lJiZudWxsIT09ZXx8KGU9MCksdm9pZCAwIT09cyYmbnVsbCE9PXN8fChzPTApLG4mJih0aGlzLl9zaXplLng9biksbyYmKHRoaXMuX3NpemUueT1vKSx2b2lkIDAhPT1yJiZudWxsIT09cnx8KHI9ZSksdm9pZCAwIT09YSYmbnVsbCE9PWF8fChhPXMpLHZvaWQgMCE9PWgmJm51bGwhPT1ofHwoaD10aGlzLl9zaXplLngpLHZvaWQgMCE9PWwmJm51bGwhPT1sfHwobD10aGlzLl9zaXplLnkpLFwibnVtYmVyXCI9PXR5cGVvZiBjJiYodGhpcy5fcm90YXRlPWMpLFwibnVtYmVyXCI9PXR5cGVvZiB1JiYodGhpcy5fYW5jaG9yLng9dSksXCJudW1iZXJcIj09dHlwZW9mIGQmJih0aGlzLl9hbmNob3IueT1kKSxcIm51bWJlclwiPT10eXBlb2YgcCYmKHRoaXMuX3NjYWxlLng9cCksXCJudW1iZXJcIj09dHlwZW9mIGYmJih0aGlzLl9zY2FsZS55PWYpLFwibnVtYmVyXCI9PXR5cGVvZiBtJiYodGhpcy5fYWxwaGEuY3VycmVudD1tKSx2b2lkIDA9PT1nJiYoZz1udWxsKSx2b2lkIDA9PT15JiYoeT0hMSksISh0aGlzLl9hbHBoYS5jdXJyZW50PD0wfHwwPT09dGhpcy5fc2NhbGUueHx8MD09PXRoaXMuX3NjYWxlLnl8fDA9PT10aGlzLl9zaXplLnh8fDA9PT10aGlzLl9zaXplLnkpKXt2YXIgdj10aGlzLmNvbnRleHQ7cmV0dXJuIHRoaXMuX2FscGhhLnByZXY9di5nbG9iYWxBbHBoYSx2LnNhdmUoKSx2Lmdsb2JhbEFscGhhPXRoaXMuX2FscGhhLmN1cnJlbnQsZyYmKHRoaXMub3A9ZykseSYmKHJ8PTAsYXw9MCksdi50cmFuc2xhdGUocixhKSx2LnNjYWxlKHRoaXMuX3NjYWxlLngsdGhpcy5fc2NhbGUueSksdi5yb3RhdGUodGhpcy5fcm90YXRlKSx2LmRyYXdJbWFnZSh0aGlzLl9pbWFnZSx0aGlzLl9wb3MueCtlLHRoaXMuX3Bvcy55K3MsdGhpcy5fc2l6ZS54LHRoaXMuX3NpemUueSwtaCp0aGlzLl9hbmNob3IueCwtbCp0aGlzLl9hbmNob3IueSxoLGwpLHYucmVzdG9yZSgpLHYuZ2xvYmFsQWxwaGE9dGhpcy5fYWxwaGEucHJldix0aGlzLmRpcnR5PSEwLHRoaXN9fSxjb3B5VHJhbnNmb3JtOmZ1bmN0aW9uKHQsZSxzKXtpZih2b2lkIDA9PT1lJiYoZT1udWxsKSx2b2lkIDA9PT1zJiYocz0hMSksIXQuaGFzT3duUHJvcGVydHkoXCJ3b3JsZFRyYW5zZm9ybVwiKXx8IXQud29ybGRWaXNpYmxlfHwwPT09dC53b3JsZEFscGhhKXJldHVybiB0aGlzO3ZhciBuPXQud29ybGRUcmFuc2Zvcm07aWYodGhpcy5fcG9zLnNldCh0LnRleHR1cmUuY3JvcC54LHQudGV4dHVyZS5jcm9wLnkpLHRoaXMuX3NpemUuc2V0KHQudGV4dHVyZS5jcm9wLndpZHRoLHQudGV4dHVyZS5jcm9wLmhlaWdodCksMD09PW4uYXx8MD09PW4uZHx8MD09PXRoaXMuX3NpemUueHx8MD09PXRoaXMuX3NpemUueSlyZXR1cm4gdGhpczt0LnRleHR1cmUgaW5zdGFuY2VvZiBpLlJlbmRlclRleHR1cmU/dGhpcy5faW1hZ2U9dC50ZXh0dXJlLmdldENhbnZhcygpOnRoaXMuX2ltYWdlPXQudGV4dHVyZS5iYXNlVGV4dHVyZS5zb3VyY2U7dmFyIG89bi50eCxyPW4udHk7dC50ZXh0dXJlLnRyaW0mJihvKz10LnRleHR1cmUudHJpbS54LXQuYW5jaG9yLngqdC50ZXh0dXJlLnRyaW0ud2lkdGgscis9dC50ZXh0dXJlLnRyaW0ueS10LmFuY2hvci55KnQudGV4dHVyZS50cmltLmhlaWdodCksMTY3NzcyMTUhPT10LnRpbnQmJih0LmNhY2hlZFRpbnQhPT10LnRpbnQmJih0LmNhY2hlZFRpbnQ9dC50aW50LHQudGludGVkVGV4dHVyZT1QSVhJLkNhbnZhc1RpbnRlci5nZXRUaW50ZWRUZXh0dXJlKHQsdC50aW50KSksdGhpcy5faW1hZ2U9dC50aW50ZWRUZXh0dXJlLHRoaXMuX3Bvcy5zZXQoMCkpLHMmJihvfD0wLHJ8PTApO3ZhciBhPXRoaXMuY29udGV4dDtyZXR1cm4gdGhpcy5fYWxwaGEucHJldj1hLmdsb2JhbEFscGhhLGEuc2F2ZSgpLGEuZ2xvYmFsQWxwaGE9dGhpcy5fYWxwaGEuY3VycmVudCxlJiYodGhpcy5vcD1lKSxhW3RoaXMuc21vb3RoUHJvcGVydHldPXQudGV4dHVyZS5iYXNlVGV4dHVyZS5zY2FsZU1vZGU9PT1QSVhJLnNjYWxlTW9kZXMuTElORUFSLGEuc2V0VHJhbnNmb3JtKG4uYSxuLmIsbi5jLG4uZCxvLHIpLGEuZHJhd0ltYWdlKHRoaXMuX2ltYWdlLHRoaXMuX3Bvcy54LHRoaXMuX3Bvcy55LHRoaXMuX3NpemUueCx0aGlzLl9zaXplLnksLXRoaXMuX3NpemUueCp0LmFuY2hvci54LC10aGlzLl9zaXplLnkqdC5hbmNob3IueSx0aGlzLl9zaXplLngsdGhpcy5fc2l6ZS55KSxhLnJlc3RvcmUoKSxhLmdsb2JhbEFscGhhPXRoaXMuX2FscGhhLnByZXYsdGhpcy5kaXJ0eT0hMCx0aGlzfSxjb3B5UmVjdDpmdW5jdGlvbih0LGUsaSxzLG4sbyxyKXtyZXR1cm4gdGhpcy5jb3B5KHQsZS54LGUueSxlLndpZHRoLGUuaGVpZ2h0LGkscyxlLndpZHRoLGUuaGVpZ2h0LDAsMCwwLDEsMSxuLG8scil9LGRyYXc6ZnVuY3Rpb24odCxlLGkscyxuLG8scil7cmV0dXJuIHRoaXMuY29weSh0LG51bGwsbnVsbCxudWxsLG51bGwsZSxpLHMsbixudWxsLG51bGwsbnVsbCxudWxsLG51bGwsbnVsbCxvLHIpfSxkcmF3R3JvdXA6ZnVuY3Rpb24odCxlLGkpe3JldHVybiB0LnRvdGFsPjAmJnQuZm9yRWFjaEV4aXN0cyh0aGlzLmRyYXdHcm91cFByb3h5LHRoaXMsZSxpKSx0aGlzfSxkcmF3R3JvdXBQcm94eTpmdW5jdGlvbih0LGUscyl7aWYodC5oYXNPd25Qcm9wZXJ0eShcInRleHR1cmVcIikmJnRoaXMuY29weVRyYW5zZm9ybSh0LGUscyksdC50eXBlPT09aS5HUk9VUCYmdC5leGlzdHMpdGhpcy5kcmF3R3JvdXAodCxlLHMpO2Vsc2UgaWYodC5oYXNPd25Qcm9wZXJ0eShcImNoaWxkcmVuXCIpJiZ0LmNoaWxkcmVuLmxlbmd0aD4wKWZvcih2YXIgbj0wO248dC5jaGlsZHJlbi5sZW5ndGg7bisrKXQuY2hpbGRyZW5bbl0uZXhpc3RzJiZ0aGlzLmNvcHlUcmFuc2Zvcm0odC5jaGlsZHJlbltuXSxlLHMpfSxkcmF3RnVsbDpmdW5jdGlvbih0LGUscyl7aWYoITE9PT10LndvcmxkVmlzaWJsZXx8MD09PXQud29ybGRBbHBoYXx8dC5oYXNPd25Qcm9wZXJ0eShcImV4aXN0c1wiKSYmITE9PT10LmV4aXN0cylyZXR1cm4gdGhpcztpZih0LnR5cGUhPT1pLkdST1VQJiZ0LnR5cGUhPT1pLkVNSVRURVImJnQudHlwZSE9PWkuQklUTUFQVEVYVClpZih0LnR5cGU9PT1pLkdSQVBISUNTKXt2YXIgbj10LmdldEJvdW5kcygpO3RoaXMuY3R4LnNhdmUoKSx0aGlzLmN0eC50cmFuc2xhdGUobi54LG4ueSksUElYSS5DYW52YXNHcmFwaGljcy5yZW5kZXJHcmFwaGljcyh0LHRoaXMuY3R4KSx0aGlzLmN0eC5yZXN0b3JlKCl9ZWxzZSB0aGlzLmNvcHkodCxudWxsLG51bGwsbnVsbCxudWxsLHQud29ybGRQb3NpdGlvbi54LHQud29ybGRQb3NpdGlvbi55LG51bGwsbnVsbCx0LndvcmxkUm90YXRpb24sbnVsbCxudWxsLHQud29ybGRTY2FsZS54LHQud29ybGRTY2FsZS55LHQud29ybGRBbHBoYSxlLHMpO2lmKHQuY2hpbGRyZW4pZm9yKHZhciBvPTA7bzx0LmNoaWxkcmVuLmxlbmd0aDtvKyspdGhpcy5kcmF3RnVsbCh0LmNoaWxkcmVuW29dLGUscyk7cmV0dXJuIHRoaXN9LHNoYWRvdzpmdW5jdGlvbih0LGUsaSxzKXt2YXIgbj10aGlzLmNvbnRleHQ7cmV0dXJuIHZvaWQgMD09PXR8fG51bGw9PT10P24uc2hhZG93Q29sb3I9XCJyZ2JhKDAsMCwwLDApXCI6KG4uc2hhZG93Q29sb3I9dCxuLnNoYWRvd0JsdXI9ZXx8NSxuLnNoYWRvd09mZnNldFg9aXx8MTAsbi5zaGFkb3dPZmZzZXRZPXN8fDEwKSx0aGlzfSxhbHBoYU1hc2s6ZnVuY3Rpb24odCxlLGkscyl7cmV0dXJuIHZvaWQgMD09PXN8fG51bGw9PT1zP3RoaXMuZHJhdyhlKS5ibGVuZFNvdXJjZUF0b3AoKTp0aGlzLmRyYXcoZSxzLngscy55LHMud2lkdGgscy5oZWlnaHQpLmJsZW5kU291cmNlQXRvcCgpLHZvaWQgMD09PWl8fG51bGw9PT1pP3RoaXMuZHJhdyh0KS5ibGVuZFJlc2V0KCk6dGhpcy5kcmF3KHQsaS54LGkueSxpLndpZHRoLGkuaGVpZ2h0KS5ibGVuZFJlc2V0KCksdGhpc30sZXh0cmFjdDpmdW5jdGlvbih0LGUsaSxzLG4sbyxyLGEsaCl7cmV0dXJuIHZvaWQgMD09PW4mJihuPTI1NSksdm9pZCAwPT09byYmKG89ITEpLHZvaWQgMD09PXImJihyPWUpLHZvaWQgMD09PWEmJihhPWkpLHZvaWQgMD09PWgmJihoPXMpLG8mJnQucmVzaXplKHRoaXMud2lkdGgsdGhpcy5oZWlnaHQpLHRoaXMucHJvY2Vzc1BpeGVsUkdCKGZ1bmN0aW9uKG8sbCxjKXtyZXR1cm4gby5yPT09ZSYmby5nPT09aSYmby5iPT09cyYmdC5zZXRQaXhlbDMyKGwsYyxyLGEsaCxuLCExKSwhMX0sdGhpcyksdC5jb250ZXh0LnB1dEltYWdlRGF0YSh0LmltYWdlRGF0YSwwLDApLHQuZGlydHk9ITAsdH0scmVjdDpmdW5jdGlvbih0LGUsaSxzLG4pe3JldHVybiB2b2lkIDAhPT1uJiYodGhpcy5jb250ZXh0LmZpbGxTdHlsZT1uKSx0aGlzLmNvbnRleHQuZmlsbFJlY3QodCxlLGkscyksdGhpc30sdGV4dDpmdW5jdGlvbih0LGUsaSxzLG4sbyl7dm9pZCAwPT09ZSYmKGU9MCksdm9pZCAwPT09aSYmKGk9MCksdm9pZCAwPT09cyYmKHM9XCIxNHB4IENvdXJpZXJcIiksdm9pZCAwPT09biYmKG49XCJyZ2IoMjU1LDI1NSwyNTUpXCIpLHZvaWQgMD09PW8mJihvPSEwKTt2YXIgcj10aGlzLmNvbnRleHQsYT1yLmZvbnQ7cmV0dXJuIHIuZm9udD1zLG8mJihyLmZpbGxTdHlsZT1cInJnYigwLDAsMClcIixyLmZpbGxUZXh0KHQsZSsxLGkrMSkpLHIuZmlsbFN0eWxlPW4sci5maWxsVGV4dCh0LGUsaSksci5mb250PWEsdGhpc30sY2lyY2xlOmZ1bmN0aW9uKHQsZSxpLHMpe3ZhciBuPXRoaXMuY29udGV4dDtyZXR1cm4gdm9pZCAwIT09cyYmKG4uZmlsbFN0eWxlPXMpLG4uYmVnaW5QYXRoKCksbi5hcmModCxlLGksMCwyKk1hdGguUEksITEpLG4uY2xvc2VQYXRoKCksbi5maWxsKCksdGhpc30sbGluZTpmdW5jdGlvbih0LGUsaSxzLG4sbyl7dm9pZCAwPT09biYmKG49XCIjZmZmXCIpLHZvaWQgMD09PW8mJihvPTEpO3ZhciByPXRoaXMuY29udGV4dDtyZXR1cm4gci5iZWdpblBhdGgoKSxyLm1vdmVUbyh0LGUpLHIubGluZVRvKGkscyksci5saW5lV2lkdGg9byxyLnN0cm9rZVN0eWxlPW4sci5zdHJva2UoKSxyLmNsb3NlUGF0aCgpLHRoaXN9LHBvbHlnb246ZnVuY3Rpb24odCxlLGkscyl7dm9pZCAwPT09cyYmKHM9XCIjZmZmXCIpLHZvaWQgMD09PWkmJihpPTApO3ZhciBuPXRoaXMuY29udGV4dDtlJiYobi5maWxsU3R5bGU9ZSksaSYmKG4ubGluZVdpZHRoPWksbi5zdHJva2VTdHlsZT1zKSxuLmJlZ2luUGF0aCgpLG4ubW92ZVRvKHRbMF0ueCx0WzBdLnkpO2Zvcih2YXIgbz0xLHI9dC5sZW5ndGg7bzxyO28rKyl7dmFyIGE9dFtvXTtuLmxpbmVUbyhhLngsYS55KX1yZXR1cm4gbi5jbG9zZVBhdGgoKSxlJiZuLmZpbGwoKSxpJiZuLnN0cm9rZSgpLHRoaXN9LHRleHR1cmVMaW5lOmZ1bmN0aW9uKHQsZSxzKXtpZih2b2lkIDA9PT1zJiYocz1cInJlcGVhdC14XCIpLFwic3RyaW5nXCIhPXR5cGVvZiBlfHwoZT10aGlzLmdhbWUuY2FjaGUuZ2V0SW1hZ2UoZSkpKXt2YXIgbj10Lmxlbmd0aDtcIm5vLXJlcGVhdFwiPT09cyYmbj5lLndpZHRoJiYobj1lLndpZHRoKTt2YXIgbz10aGlzLmNvbnRleHQ7cmV0dXJuIG8uZmlsbFN0eWxlPW8uY3JlYXRlUGF0dGVybihlLHMpLHRoaXMuX2NpcmNsZT1uZXcgaS5DaXJjbGUodC5zdGFydC54LHQuc3RhcnQueSxlLmhlaWdodCksdGhpcy5fY2lyY2xlLmNpcmN1bWZlcmVuY2VQb2ludCh0LmFuZ2xlLTEuNTcwNzk2MzI2Nzk0ODk2NiwhMSx0aGlzLl9wb3MpLG8uc2F2ZSgpLG8udHJhbnNsYXRlKHRoaXMuX3Bvcy54LHRoaXMuX3Bvcy55KSxvLnJvdGF0ZSh0LmFuZ2xlKSxvLmZpbGxSZWN0KDAsMCxuLGUuaGVpZ2h0KSxvLnJlc3RvcmUoKSx0aGlzLmRpcnR5PSEwLHRoaXN9fSxyZW5kZXI6ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5kaXNhYmxlVGV4dHVyZVVwbG9hZCYmdGhpcy5kaXJ0eSYmKHRoaXMuYmFzZVRleHR1cmUuZGlydHkoKSx0aGlzLmRpcnR5PSExKSx0aGlzfSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5mcmFtZURhdGEuZGVzdHJveSgpLHRoaXMudGV4dHVyZS5kZXN0cm95KCEwKSxpLkNhbnZhc1Bvb2wucmVtb3ZlKHRoaXMpfSxibGVuZFJlc2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub3A9XCJzb3VyY2Utb3ZlclwiLHRoaXN9LGJsZW5kU291cmNlT3ZlcjpmdW5jdGlvbigpe3JldHVybiB0aGlzLm9wPVwic291cmNlLW92ZXJcIix0aGlzfSxibGVuZFNvdXJjZUluOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub3A9XCJzb3VyY2UtaW5cIix0aGlzfSxibGVuZFNvdXJjZU91dDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm9wPVwic291cmNlLW91dFwiLHRoaXN9LGJsZW5kU291cmNlQXRvcDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm9wPVwic291cmNlLWF0b3BcIix0aGlzfSxibGVuZERlc3RpbmF0aW9uT3ZlcjpmdW5jdGlvbigpe3JldHVybiB0aGlzLm9wPVwiZGVzdGluYXRpb24tb3ZlclwiLHRoaXN9LGJsZW5kRGVzdGluYXRpb25JbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLm9wPVwiZGVzdGluYXRpb24taW5cIix0aGlzfSxibGVuZERlc3RpbmF0aW9uT3V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub3A9XCJkZXN0aW5hdGlvbi1vdXRcIix0aGlzfSxibGVuZERlc3RpbmF0aW9uQXRvcDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm9wPVwiZGVzdGluYXRpb24tYXRvcFwiLHRoaXN9LGJsZW5kWG9yOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub3A9XCJ4b3JcIix0aGlzfSxibGVuZEFkZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm9wPVwibGlnaHRlclwiLHRoaXN9LGJsZW5kTXVsdGlwbHk6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vcD1cIm11bHRpcGx5XCIsdGhpc30sYmxlbmRTY3JlZW46ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vcD1cInNjcmVlblwiLHRoaXN9LGJsZW5kT3ZlcmxheTpmdW5jdGlvbigpe3JldHVybiB0aGlzLm9wPVwib3ZlcmxheVwiLHRoaXN9LGJsZW5kRGFya2VuOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub3A9XCJkYXJrZW5cIix0aGlzfSxibGVuZExpZ2h0ZW46ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vcD1cImxpZ2h0ZW5cIix0aGlzfSxibGVuZENvbG9yRG9kZ2U6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vcD1cImNvbG9yLWRvZGdlXCIsdGhpc30sYmxlbmRDb2xvckJ1cm46ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vcD1cImNvbG9yLWJ1cm5cIix0aGlzfSxibGVuZEhhcmRMaWdodDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm9wPVwiaGFyZC1saWdodFwiLHRoaXN9LGJsZW5kU29mdExpZ2h0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub3A9XCJzb2Z0LWxpZ2h0XCIsdGhpc30sYmxlbmREaWZmZXJlbmNlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub3A9XCJkaWZmZXJlbmNlXCIsdGhpc30sYmxlbmRFeGNsdXNpb246ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vcD1cImV4Y2x1c2lvblwiLHRoaXN9LGJsZW5kSHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub3A9XCJodWVcIix0aGlzfSxibGVuZFNhdHVyYXRpb246ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vcD1cInNhdHVyYXRpb25cIix0aGlzfSxibGVuZENvbG9yOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub3A9XCJjb2xvclwiLHRoaXN9LGJsZW5kTHVtaW5vc2l0eTpmdW5jdGlvbigpe3JldHVybiB0aGlzLm9wPVwibHVtaW5vc2l0eVwiLHRoaXN9LGNvcHlCaXRtYXBEYXRhOmZ1bmN0aW9uKHQsZSxpKXt0LnVwZGF0ZSgpO2Zvcih2YXIgcyxuPTA7bjx0LmhlaWdodDtuKyspe3M9KGkrbikqdGhpcy53aWR0aCtlO2Zvcih2YXIgbz0wO288dC53aWR0aDtvKyspdGhpcy5waXhlbHNbcytvXT10LnBpeGVsc1tuKnQud2lkdGgrb119cmV0dXJuIHRoaXN9fSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5CaXRtYXBEYXRhLnByb3RvdHlwZSxcInNtb290aGVkXCIse2dldDpmdW5jdGlvbigpe2kuQ2FudmFzLmdldFNtb290aGluZ0VuYWJsZWQodGhpcy5jb250ZXh0KX0sc2V0OmZ1bmN0aW9uKHQpe2kuQ2FudmFzLnNldFNtb290aGluZ0VuYWJsZWQodGhpcy5jb250ZXh0LHQpfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLkJpdG1hcERhdGEucHJvdG90eXBlLFwib3BcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29udGV4dC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb259LHNldDpmdW5jdGlvbih0KXt0aGlzLmNvbnRleHQuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uPXR9fSksaS5CaXRtYXBEYXRhLmdldFRyYW5zZm9ybT1mdW5jdGlvbih0LGUsaSxzLG4sbyl7cmV0dXJuXCJudW1iZXJcIiE9dHlwZW9mIHQmJih0PTApLFwibnVtYmVyXCIhPXR5cGVvZiBlJiYoZT0wKSxcIm51bWJlclwiIT10eXBlb2YgaSYmKGk9MSksXCJudW1iZXJcIiE9dHlwZW9mIHMmJihzPTEpLFwibnVtYmVyXCIhPXR5cGVvZiBuJiYobj0wKSxcIm51bWJlclwiIT10eXBlb2YgbyYmKG89MCkse3N4Omksc3k6cyxzY2FsZVg6aSxzY2FsZVk6cyxza2V3WDpuLHNrZXdZOm8sdHJhbnNsYXRlWDp0LHRyYW5zbGF0ZVk6ZSx0eDp0LHR5OmV9fSxpLkJpdG1hcERhdGEucHJvdG90eXBlLmNvbnN0cnVjdG9yPWkuQml0bWFwRGF0YSxpLkVhckN1dD17fSxpLkVhckN1dC5Ucmlhbmd1bGF0ZT1mdW5jdGlvbih0LGUscyl7cz1zfHwyO3ZhciBuPWUmJmUubGVuZ3RoLG89bj9lWzBdKnM6dC5sZW5ndGgscj1pLkVhckN1dC5saW5rZWRMaXN0KHQsMCxvLHMsITApLGE9W107aWYoIXIpcmV0dXJuIGE7dmFyIGgsbCxjLHUsZCxwLGY7aWYobiYmKHI9aS5FYXJDdXQuZWxpbWluYXRlSG9sZXModCxlLHIscykpLHQubGVuZ3RoPjgwKnMpe2g9Yz10WzBdLGw9dT10WzFdO2Zvcih2YXIgbT1zO208bzttKz1zKWQ9dFttXSxwPXRbbSsxXSxkPGgmJihoPWQpLHA8bCYmKGw9cCksZD5jJiYoYz1kKSxwPnUmJih1PXApO2Y9TWF0aC5tYXgoYy1oLHUtbCl9cmV0dXJuIGkuRWFyQ3V0LmVhcmN1dExpbmtlZChyLGEscyxoLGwsZiksYX0saS5FYXJDdXQubGlua2VkTGlzdD1mdW5jdGlvbih0LGUscyxuLG8pe3ZhciByLGEsaCxsPTA7Zm9yKHI9ZSxhPXMtbjtyPHM7cis9bilsKz0odFthXS10W3JdKSoodFtyKzFdK3RbYSsxXSksYT1yO2lmKG89PT1sPjApZm9yKHI9ZTtyPHM7cis9biloPWkuRWFyQ3V0Lmluc2VydE5vZGUocix0W3JdLHRbcisxXSxoKTtlbHNlIGZvcihyPXMtbjtyPj1lO3ItPW4paD1pLkVhckN1dC5pbnNlcnROb2RlKHIsdFtyXSx0W3IrMV0saCk7cmV0dXJuIGh9LGkuRWFyQ3V0LmZpbHRlclBvaW50cz1mdW5jdGlvbih0LGUpe2lmKCF0KXJldHVybiB0O2V8fChlPXQpO3ZhciBzLG49dDtkb3tpZihzPSExLG4uc3RlaW5lcnx8IWkuRWFyQ3V0LmVxdWFscyhuLG4ubmV4dCkmJjAhPT1pLkVhckN1dC5hcmVhKG4ucHJldixuLG4ubmV4dCkpbj1uLm5leHQ7ZWxzZXtpZihpLkVhckN1dC5yZW1vdmVOb2RlKG4pLChuPWU9bi5wcmV2KT09PW4ubmV4dClyZXR1cm4gbnVsbDtzPSEwfX13aGlsZShzfHxuIT09ZSk7cmV0dXJuIGV9LGkuRWFyQ3V0LmVhcmN1dExpbmtlZD1mdW5jdGlvbih0LGUscyxuLG8scixhKXtpZih0KXshYSYmciYmaS5FYXJDdXQuaW5kZXhDdXJ2ZSh0LG4sbyxyKTtmb3IodmFyIGgsbCxjPXQ7dC5wcmV2IT09dC5uZXh0OylpZihoPXQucHJldixsPXQubmV4dCxyP2kuRWFyQ3V0LmlzRWFySGFzaGVkKHQsbixvLHIpOmkuRWFyQ3V0LmlzRWFyKHQpKWUucHVzaChoLmkvcyksZS5wdXNoKHQuaS9zKSxlLnB1c2gobC5pL3MpLGkuRWFyQ3V0LnJlbW92ZU5vZGUodCksdD1sLm5leHQsYz1sLm5leHQ7ZWxzZSBpZigodD1sKT09PWMpe2E/MT09PWE/KHQ9aS5FYXJDdXQuY3VyZUxvY2FsSW50ZXJzZWN0aW9ucyh0LGUscyksaS5FYXJDdXQuZWFyY3V0TGlua2VkKHQsZSxzLG4sbyxyLDIpKToyPT09YSYmaS5FYXJDdXQuc3BsaXRFYXJjdXQodCxlLHMsbixvLHIpOmkuRWFyQ3V0LmVhcmN1dExpbmtlZChpLkVhckN1dC5maWx0ZXJQb2ludHModCksZSxzLG4sbyxyLDEpO2JyZWFrfX19LGkuRWFyQ3V0LmlzRWFyPWZ1bmN0aW9uKHQpe3ZhciBlPXQucHJldixzPXQsbj10Lm5leHQ7aWYoaS5FYXJDdXQuYXJlYShlLHMsbik+PTApcmV0dXJuITE7Zm9yKHZhciBvPXQubmV4dC5uZXh0O28hPT10LnByZXY7KXtpZihpLkVhckN1dC5wb2ludEluVHJpYW5nbGUoZS54LGUueSxzLngscy55LG4ueCxuLnksby54LG8ueSkmJmkuRWFyQ3V0LmFyZWEoby5wcmV2LG8sby5uZXh0KT49MClyZXR1cm4hMTtvPW8ubmV4dH1yZXR1cm4hMH0saS5FYXJDdXQuaXNFYXJIYXNoZWQ9ZnVuY3Rpb24odCxlLHMsbil7dmFyIG89dC5wcmV2LHI9dCxhPXQubmV4dDtpZihpLkVhckN1dC5hcmVhKG8scixhKT49MClyZXR1cm4hMTtmb3IodmFyIGg9by54PHIueD9vLng8YS54P28ueDphLng6ci54PGEueD9yLng6YS54LGw9by55PHIueT9vLnk8YS55P28ueTphLnk6ci55PGEueT9yLnk6YS55LGM9by54PnIueD9vLng+YS54P28ueDphLng6ci54PmEueD9yLng6YS54LHU9by55PnIueT9vLnk+YS55P28ueTphLnk6ci55PmEueT9yLnk6YS55LGQ9aS5FYXJDdXQuek9yZGVyKGgsbCxlLHMsbikscD1pLkVhckN1dC56T3JkZXIoYyx1LGUscyxuKSxmPXQubmV4dFo7ZiYmZi56PD1wOyl7aWYoZiE9PXQucHJldiYmZiE9PXQubmV4dCYmaS5FYXJDdXQucG9pbnRJblRyaWFuZ2xlKG8ueCxvLnksci54LHIueSxhLngsYS55LGYueCxmLnkpJiZpLkVhckN1dC5hcmVhKGYucHJldixmLGYubmV4dCk+PTApcmV0dXJuITE7Zj1mLm5leHRafWZvcihmPXQucHJldlo7ZiYmZi56Pj1kOyl7aWYoZiE9PXQucHJldiYmZiE9PXQubmV4dCYmaS5FYXJDdXQucG9pbnRJblRyaWFuZ2xlKG8ueCxvLnksci54LHIueSxhLngsYS55LGYueCxmLnkpJiZpLkVhckN1dC5hcmVhKGYucHJldixmLGYubmV4dCk+PTApcmV0dXJuITE7Zj1mLnByZXZafXJldHVybiEwfSxpLkVhckN1dC5jdXJlTG9jYWxJbnRlcnNlY3Rpb25zPWZ1bmN0aW9uKHQsZSxzKXt2YXIgbj10O2Rve3ZhciBvPW4ucHJldixyPW4ubmV4dC5uZXh0O2kuRWFyQ3V0LmludGVyc2VjdHMobyxuLG4ubmV4dCxyKSYmaS5FYXJDdXQubG9jYWxseUluc2lkZShvLHIpJiZpLkVhckN1dC5sb2NhbGx5SW5zaWRlKHIsbykmJihlLnB1c2goby5pL3MpLGUucHVzaChuLmkvcyksZS5wdXNoKHIuaS9zKSxpLkVhckN1dC5yZW1vdmVOb2RlKG4pLGkuRWFyQ3V0LnJlbW92ZU5vZGUobi5uZXh0KSxuPXQ9ciksbj1uLm5leHR9d2hpbGUobiE9PXQpO3JldHVybiBufSxpLkVhckN1dC5zcGxpdEVhcmN1dD1mdW5jdGlvbih0LGUscyxuLG8scil7dmFyIGE9dDtkb3tmb3IodmFyIGg9YS5uZXh0Lm5leHQ7aCE9PWEucHJldjspe2lmKGEuaSE9PWguaSYmaS5FYXJDdXQuaXNWYWxpZERpYWdvbmFsKGEsaCkpe3ZhciBsPWkuRWFyQ3V0LnNwbGl0UG9seWdvbihhLGgpO3JldHVybiBhPWkuRWFyQ3V0LmZpbHRlclBvaW50cyhhLGEubmV4dCksbD1pLkVhckN1dC5maWx0ZXJQb2ludHMobCxsLm5leHQpLGkuRWFyQ3V0LmVhcmN1dExpbmtlZChhLGUscyxuLG8sciksdm9pZCBpLkVhckN1dC5lYXJjdXRMaW5rZWQobCxlLHMsbixvLHIpfWg9aC5uZXh0fWE9YS5uZXh0fXdoaWxlKGEhPT10KX0saS5FYXJDdXQuZWxpbWluYXRlSG9sZXM9ZnVuY3Rpb24odCxlLHMsbil7dmFyIG8scixhLGgsbCxjPVtdO2ZvcihvPTAscj1lLmxlbmd0aDtvPHI7bysrKWE9ZVtvXSpuLGg9bzxyLTE/ZVtvKzFdKm46dC5sZW5ndGgsKGw9aS5FYXJDdXQubGlua2VkTGlzdCh0LGEsaCxuLCExKSk9PT1sLm5leHQmJihsLnN0ZWluZXI9ITApLGMucHVzaChpLkVhckN1dC5nZXRMZWZ0bW9zdChsKSk7Zm9yKGMuc29ydChjb21wYXJlWCksbz0wO288Yy5sZW5ndGg7bysrKWkuRWFyQ3V0LmVsaW1pbmF0ZUhvbGUoY1tvXSxzKSxzPWkuRWFyQ3V0LmZpbHRlclBvaW50cyhzLHMubmV4dCk7cmV0dXJuIHN9LGkuRWFyQ3V0LmNvbXBhcmVYPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQueC1lLnh9LGkuRWFyQ3V0LmVsaW1pbmF0ZUhvbGU9ZnVuY3Rpb24odCxlKXtpZihlPWkuRWFyQ3V0LmZpbmRIb2xlQnJpZGdlKHQsZSkpe3ZhciBzPWkuRWFyQ3V0LnNwbGl0UG9seWdvbihlLHQpO2kuRWFyQ3V0LmZpbHRlclBvaW50cyhzLHMubmV4dCl9fSxpLkVhckN1dC5maW5kSG9sZUJyaWRnZT1mdW5jdGlvbih0LGUpe3ZhciBzLG49ZSxvPXQueCxyPXQueSxhPS0xLzA7ZG97aWYocjw9bi55JiZyPj1uLm5leHQueSl7dmFyIGg9bi54KyhyLW4ueSkqKG4ubmV4dC54LW4ueCkvKG4ubmV4dC55LW4ueSk7aDw9byYmaD5hJiYoYT1oLHM9bi54PG4ubmV4dC54P246bi5uZXh0KX1uPW4ubmV4dH13aGlsZShuIT09ZSk7aWYoIXMpcmV0dXJuIG51bGw7aWYodC54PT09cy54KXJldHVybiBzLnByZXY7dmFyIGwsYz1zLHU9MS8wO2ZvcihuPXMubmV4dDtuIT09Yzspbz49bi54JiZuLng+PXMueCYmaS5FYXJDdXQucG9pbnRJblRyaWFuZ2xlKHI8cy55P286YSxyLHMueCxzLnkscjxzLnk/YTpvLHIsbi54LG4ueSkmJigobD1NYXRoLmFicyhyLW4ueSkvKG8tbi54KSk8dXx8bD09PXUmJm4ueD5zLngpJiZpLkVhckN1dC5sb2NhbGx5SW5zaWRlKG4sdCkmJihzPW4sdT1sKSxuPW4ubmV4dDtyZXR1cm4gc30saS5FYXJDdXQuaW5kZXhDdXJ2ZT1mdW5jdGlvbih0LGUscyxuKXt2YXIgbz10O2Rve251bGw9PT1vLnomJihvLno9aS5FYXJDdXQuek9yZGVyKG8ueCxvLnksZSxzLG4pKSxvLnByZXZaPW8ucHJldixvLm5leHRaPW8ubmV4dCxvPW8ubmV4dH13aGlsZShvIT09dCk7by5wcmV2Wi5uZXh0Wj1udWxsLG8ucHJldlo9bnVsbCxpLkVhckN1dC5zb3J0TGlua2VkKG8pfSxpLkVhckN1dC5zb3J0TGlua2VkPWZ1bmN0aW9uKHQpe3ZhciBlLGkscyxuLG8scixhLGgsbD0xO2Rve2ZvcihpPXQsdD1udWxsLG89bnVsbCxyPTA7aTspe2ZvcihyKysscz1pLGE9MCxlPTA7ZTxsJiYoYSsrLHM9cy5uZXh0Wik7ZSsrKTtmb3IoaD1sO2E+MHx8aD4wJiZzOykwPT09YT8obj1zLHM9cy5uZXh0WixoLS0pOjAhPT1oJiZzP2kuejw9cy56PyhuPWksaT1pLm5leHRaLGEtLSk6KG49cyxzPXMubmV4dFosaC0tKToobj1pLGk9aS5uZXh0WixhLS0pLG8/by5uZXh0Wj1uOnQ9bixuLnByZXZaPW8sbz1uO2k9c31vLm5leHRaPW51bGwsbCo9Mn13aGlsZShyPjEpO3JldHVybiB0fSxpLkVhckN1dC56T3JkZXI9ZnVuY3Rpb24odCxlLGkscyxuKXtyZXR1cm4gdD0zMjc2NyoodC1pKS9uLGU9MzI3NjcqKGUtcykvbix0PTE2NzExOTM1Jih0fHQ8PDgpLHQ9MjUyNjQ1MTM1Jih0fHQ8PDQpLHQ9ODU4OTkzNDU5Jih0fHQ8PDIpLHQ9MTQzMTY1NTc2NSYodHx0PDwxKSxlPTE2NzExOTM1JihlfGU8PDgpLGU9MjUyNjQ1MTM1JihlfGU8PDQpLGU9ODU4OTkzNDU5JihlfGU8PDIpLGU9MTQzMTY1NTc2NSYoZXxlPDwxKSx0fGU8PDF9LGkuRWFyQ3V0LmdldExlZnRtb3N0PWZ1bmN0aW9uKHQpe3ZhciBlPXQsaT10O2Rve2UueDxpLngmJihpPWUpLGU9ZS5uZXh0fXdoaWxlKGUhPT10KTtyZXR1cm4gaX0saS5FYXJDdXQucG9pbnRJblRyaWFuZ2xlPWZ1bmN0aW9uKHQsZSxpLHMsbixvLHIsYSl7cmV0dXJuKG4tcikqKGUtYSktKHQtcikqKG8tYSk+PTAmJih0LXIpKihzLWEpLShpLXIpKihlLWEpPj0wJiYoaS1yKSooby1hKS0obi1yKSoocy1hKT49MH0saS5FYXJDdXQuaXNWYWxpZERpYWdvbmFsPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGkuRWFyQ3V0LmVxdWFscyh0LGUpfHx0Lm5leHQuaSE9PWUuaSYmdC5wcmV2LmkhPT1lLmkmJiFpLkVhckN1dC5pbnRlcnNlY3RzUG9seWdvbih0LGUpJiZpLkVhckN1dC5sb2NhbGx5SW5zaWRlKHQsZSkmJmkuRWFyQ3V0LmxvY2FsbHlJbnNpZGUoZSx0KSYmaS5FYXJDdXQubWlkZGxlSW5zaWRlKHQsZSl9LGkuRWFyQ3V0LmFyZWE9ZnVuY3Rpb24odCxlLGkpe3JldHVybihlLnktdC55KSooaS54LWUueCktKGUueC10LngpKihpLnktZS55KX0saS5FYXJDdXQuZXF1YWxzPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQueD09PWUueCYmdC55PT09ZS55fSxpLkVhckN1dC5pbnRlcnNlY3RzPWZ1bmN0aW9uKHQsZSxzLG4pe3JldHVybiBpLkVhckN1dC5hcmVhKHQsZSxzKT4wIT1pLkVhckN1dC5hcmVhKHQsZSxuKT4wJiZpLkVhckN1dC5hcmVhKHMsbix0KT4wIT1pLkVhckN1dC5hcmVhKHMsbixlKT4wfSxpLkVhckN1dC5pbnRlcnNlY3RzUG9seWdvbj1mdW5jdGlvbih0LGUpe3ZhciBzPXQ7ZG97aWYocy5pIT09dC5pJiZzLm5leHQuaSE9PXQuaSYmcy5pIT09ZS5pJiZzLm5leHQuaSE9PWUuaSYmaS5FYXJDdXQuaW50ZXJzZWN0cyhzLHMubmV4dCx0LGUpKXJldHVybiEwO3M9cy5uZXh0fXdoaWxlKHMhPT10KTtyZXR1cm4hMX0saS5FYXJDdXQubG9jYWxseUluc2lkZT1mdW5jdGlvbih0LGUpe3JldHVybiBpLkVhckN1dC5hcmVhKHQucHJldix0LHQubmV4dCk8MD9pLkVhckN1dC5hcmVhKHQsZSx0Lm5leHQpPj0wJiZpLkVhckN1dC5hcmVhKHQsdC5wcmV2LGUpPj0wOmkuRWFyQ3V0LmFyZWEodCxlLHQucHJldik8MHx8aS5FYXJDdXQuYXJlYSh0LHQubmV4dCxlKTwwfSxpLkVhckN1dC5taWRkbGVJbnNpZGU9ZnVuY3Rpb24odCxlKXt2YXIgaT10LHM9ITEsbj0odC54K2UueCkvMixvPSh0LnkrZS55KS8yO2Rve2kueT5vIT1pLm5leHQueT5vJiZuPChpLm5leHQueC1pLngpKihvLWkueSkvKGkubmV4dC55LWkueSkraS54JiYocz0hcyksaT1pLm5leHR9d2hpbGUoaSE9PXQpO3JldHVybiBzfSxpLkVhckN1dC5zcGxpdFBvbHlnb249ZnVuY3Rpb24odCxlKXt2YXIgcz1uZXcgaS5FYXJDdXQuTm9kZSh0LmksdC54LHQueSksbj1uZXcgaS5FYXJDdXQuTm9kZShlLmksZS54LGUueSksbz10Lm5leHQscj1lLnByZXY7cmV0dXJuIHQubmV4dD1lLGUucHJldj10LHMubmV4dD1vLG8ucHJldj1zLG4ubmV4dD1zLHMucHJldj1uLHIubmV4dD1uLG4ucHJldj1yLG59LGkuRWFyQ3V0Lmluc2VydE5vZGU9ZnVuY3Rpb24odCxlLHMsbil7dmFyIG89bmV3IGkuRWFyQ3V0Lk5vZGUodCxlLHMpO3JldHVybiBuPyhvLm5leHQ9bi5uZXh0LG8ucHJldj1uLG4ubmV4dC5wcmV2PW8sbi5uZXh0PW8pOihvLnByZXY9byxvLm5leHQ9byksb30saS5FYXJDdXQucmVtb3ZlTm9kZT1mdW5jdGlvbih0KXt0Lm5leHQucHJldj10LnByZXYsdC5wcmV2Lm5leHQ9dC5uZXh0LHQucHJldlomJih0LnByZXZaLm5leHRaPXQubmV4dFopLHQubmV4dFomJih0Lm5leHRaLnByZXZaPXQucHJldlopfSxpLkVhckN1dC5Ob2RlPWZ1bmN0aW9uKHQsZSxpKXt0aGlzLmk9dCx0aGlzLng9ZSx0aGlzLnk9aSx0aGlzLnByZXY9bnVsbCx0aGlzLm5leHQ9bnVsbCx0aGlzLno9bnVsbCx0aGlzLnByZXZaPW51bGwsdGhpcy5uZXh0Wj1udWxsLHRoaXMuc3RlaW5lcj0hMX0sUElYSS5XZWJHTEdyYXBoaWNzPWZ1bmN0aW9uKCl7fSxQSVhJLldlYkdMR3JhcGhpY3Muc3RlbmNpbEJ1ZmZlckxpbWl0PTYsUElYSS5XZWJHTEdyYXBoaWNzLnJlbmRlckdyYXBoaWNzPWZ1bmN0aW9uKHQsZSl7dmFyIHMsbj1lLmdsLG89ZS5wcm9qZWN0aW9uLHI9ZS5vZmZzZXQsYT1lLnNoYWRlck1hbmFnZXIucHJpbWl0aXZlU2hhZGVyO3QuZGlydHkmJlBJWEkuV2ViR0xHcmFwaGljcy51cGRhdGVHcmFwaGljcyh0LG4pO3ZhciBoPXQuX3dlYkdMW24uaWRdO2lmKGgpZm9yKHZhciBsPTA7bDxoLmRhdGEubGVuZ3RoO2wrKykxPT09aC5kYXRhW2xdLm1vZGU/KHM9aC5kYXRhW2xdLGUuc3RlbmNpbE1hbmFnZXIucHVzaFN0ZW5jaWwodCxzLGUpLG4uZHJhd0VsZW1lbnRzKG4uVFJJQU5HTEVfRkFOLDQsbi5VTlNJR05FRF9TSE9SVCwyKihzLmluZGljZXMubGVuZ3RoLTQpKSxlLnN0ZW5jaWxNYW5hZ2VyLnBvcFN0ZW5jaWwodCxzLGUpKToocz1oLmRhdGFbbF0sZS5zaGFkZXJNYW5hZ2VyLnNldFNoYWRlcihhKSxhPWUuc2hhZGVyTWFuYWdlci5wcmltaXRpdmVTaGFkZXIsbi51bmlmb3JtTWF0cml4M2Z2KGEudHJhbnNsYXRpb25NYXRyaXgsITEsdC53b3JsZFRyYW5zZm9ybS50b0FycmF5KCEwKSksbi51bmlmb3JtMWYoYS5mbGlwWSwxKSxuLnVuaWZvcm0yZihhLnByb2plY3Rpb25WZWN0b3Isby54LC1vLnkpLG4udW5pZm9ybTJmKGEub2Zmc2V0VmVjdG9yLC1yLngsLXIueSksbi51bmlmb3JtM2Z2KGEudGludENvbG9yLGkuQ29sb3IuaGV4VG9SR0JBcnJheSh0LnRpbnQpKSxuLnVuaWZvcm0xZihhLmFscGhhLHQud29ybGRBbHBoYSksbi5iaW5kQnVmZmVyKG4uQVJSQVlfQlVGRkVSLHMuYnVmZmVyKSxuLnZlcnRleEF0dHJpYlBvaW50ZXIoYS5hVmVydGV4UG9zaXRpb24sMixuLkZMT0FULCExLDI0LDApLG4udmVydGV4QXR0cmliUG9pbnRlcihhLmNvbG9yQXR0cmlidXRlLDQsbi5GTE9BVCwhMSwyNCw4KSxuLmJpbmRCdWZmZXIobi5FTEVNRU5UX0FSUkFZX0JVRkZFUixzLmluZGV4QnVmZmVyKSxuLmRyYXdFbGVtZW50cyhuLlRSSUFOR0xFX1NUUklQLHMuaW5kaWNlcy5sZW5ndGgsbi5VTlNJR05FRF9TSE9SVCwwKSl9LFBJWEkuV2ViR0xHcmFwaGljcy51cGRhdGVHcmFwaGljcz1mdW5jdGlvbih0LGUpe3ZhciBzPXQuX3dlYkdMW2UuaWRdO3N8fChzPXQuX3dlYkdMW2UuaWRdPXtsYXN0SW5kZXg6MCxkYXRhOltdLGdsOmV9KSx0LmRpcnR5PSExO3ZhciBuO2lmKHQuY2xlYXJEaXJ0eSl7Zm9yKHQuY2xlYXJEaXJ0eT0hMSxuPTA7bjxzLmRhdGEubGVuZ3RoO24rKyl7dmFyIG89cy5kYXRhW25dO28ucmVzZXQoKSxQSVhJLldlYkdMR3JhcGhpY3MuZ3JhcGhpY3NEYXRhUG9vbC5wdXNoKG8pfXMuZGF0YT1bXSxzLmxhc3RJbmRleD0wfXZhciByO2ZvcihuPXMubGFzdEluZGV4O248dC5ncmFwaGljc0RhdGEubGVuZ3RoO24rKyl7dmFyIGE9dC5ncmFwaGljc0RhdGFbbl07YS50eXBlPT09aS5QT0xZR09OPyhhLnBvaW50cz1hLnNoYXBlLnBvaW50cy5zbGljZSgpLGEuc2hhcGUuY2xvc2VkJiYoYS5wb2ludHNbMF09PT1hLnBvaW50c1thLnBvaW50cy5sZW5ndGgtMl0mJmEucG9pbnRzWzFdPT09YS5wb2ludHNbYS5wb2ludHMubGVuZ3RoLTFdfHxhLnBvaW50cy5wdXNoKGEucG9pbnRzWzBdLGEucG9pbnRzWzFdKSksYS5maWxsJiZhLnBvaW50cy5sZW5ndGg+PVBJWEkuV2ViR0xHcmFwaGljcy5zdGVuY2lsQnVmZmVyTGltaXQmJihhLnBvaW50cy5sZW5ndGg8MipQSVhJLldlYkdMR3JhcGhpY3Muc3RlbmNpbEJ1ZmZlckxpbWl0PyhyPVBJWEkuV2ViR0xHcmFwaGljcy5zd2l0Y2hNb2RlKHMsMCksUElYSS5XZWJHTEdyYXBoaWNzLmJ1aWxkUG9seShhLHIpfHwocj1QSVhJLldlYkdMR3JhcGhpY3Muc3dpdGNoTW9kZShzLDEpLFBJWEkuV2ViR0xHcmFwaGljcy5idWlsZENvbXBsZXhQb2x5KGEscikpKToocj1QSVhJLldlYkdMR3JhcGhpY3Muc3dpdGNoTW9kZShzLDEpLFBJWEkuV2ViR0xHcmFwaGljcy5idWlsZENvbXBsZXhQb2x5KGEscikpKSxhLmxpbmVXaWR0aD4wJiYocj1QSVhJLldlYkdMR3JhcGhpY3Muc3dpdGNoTW9kZShzLDApLFBJWEkuV2ViR0xHcmFwaGljcy5idWlsZExpbmUoYSxyKSkpOihyPVBJWEkuV2ViR0xHcmFwaGljcy5zd2l0Y2hNb2RlKHMsMCksYS50eXBlPT09aS5SRUNUQU5HTEU/UElYSS5XZWJHTEdyYXBoaWNzLmJ1aWxkUmVjdGFuZ2xlKGEscik6YS50eXBlPT09aS5DSVJDTEV8fGEudHlwZT09PWkuRUxMSVBTRT9QSVhJLldlYkdMR3JhcGhpY3MuYnVpbGRDaXJjbGUoYSxyKTphLnR5cGU9PT1pLlJPVU5ERURSRUNUQU5HTEUmJlBJWEkuV2ViR0xHcmFwaGljcy5idWlsZFJvdW5kZWRSZWN0YW5nbGUoYSxyKSkscy5sYXN0SW5kZXgrK31mb3Iobj0wO248cy5kYXRhLmxlbmd0aDtuKyspKHI9cy5kYXRhW25dKS5kaXJ0eSYmci51cGxvYWQoKX0sUElYSS5XZWJHTEdyYXBoaWNzLnN3aXRjaE1vZGU9ZnVuY3Rpb24odCxlKXt2YXIgaTtyZXR1cm4gdC5kYXRhLmxlbmd0aD8oaT10LmRhdGFbdC5kYXRhLmxlbmd0aC0xXSkubW9kZT09PWUmJjEhPT1lfHwoKGk9UElYSS5XZWJHTEdyYXBoaWNzLmdyYXBoaWNzRGF0YVBvb2wucG9wKCl8fG5ldyBQSVhJLldlYkdMR3JhcGhpY3NEYXRhKHQuZ2wpKS5tb2RlPWUsdC5kYXRhLnB1c2goaSkpOigoaT1QSVhJLldlYkdMR3JhcGhpY3MuZ3JhcGhpY3NEYXRhUG9vbC5wb3AoKXx8bmV3IFBJWEkuV2ViR0xHcmFwaGljc0RhdGEodC5nbCkpLm1vZGU9ZSx0LmRhdGEucHVzaChpKSksaS5kaXJ0eT0hMCxpfSxQSVhJLldlYkdMR3JhcGhpY3MuYnVpbGRSZWN0YW5nbGU9ZnVuY3Rpb24odCxlKXt2YXIgcz10LnNoYXBlLG49cy54LG89cy55LHI9cy53aWR0aCxhPXMuaGVpZ2h0O2lmKHQuZmlsbCl7dmFyIGg9aS5Db2xvci5oZXhUb1JHQkFycmF5KHQuZmlsbENvbG9yKSxsPXQuZmlsbEFscGhhLGM9aFswXSpsLHU9aFsxXSpsLGQ9aFsyXSpsLHA9ZS5wb2ludHMsZj1lLmluZGljZXMsbT1wLmxlbmd0aC82O3AucHVzaChuLG8pLHAucHVzaChjLHUsZCxsKSxwLnB1c2gobityLG8pLHAucHVzaChjLHUsZCxsKSxwLnB1c2gobixvK2EpLHAucHVzaChjLHUsZCxsKSxwLnB1c2gobityLG8rYSkscC5wdXNoKGMsdSxkLGwpLGYucHVzaChtLG0sbSsxLG0rMixtKzMsbSszKX1pZih0LmxpbmVXaWR0aCl7dmFyIGc9dC5wb2ludHM7dC5wb2ludHM9W24sbyxuK3IsbyxuK3IsbythLG4sbythLG4sb10sUElYSS5XZWJHTEdyYXBoaWNzLmJ1aWxkTGluZSh0LGUpLHQucG9pbnRzPWd9fSxQSVhJLldlYkdMR3JhcGhpY3MuYnVpbGRSb3VuZGVkUmVjdGFuZ2xlPWZ1bmN0aW9uKHQsZSl7dmFyIHM9dC5zaGFwZSxuPXMueCxvPXMueSxyPXMud2lkdGgsYT1zLmhlaWdodCxoPXMucmFkaXVzLGw9W107aWYobC5wdXNoKG4sbytoKSxsPWwuY29uY2F0KFBJWEkuV2ViR0xHcmFwaGljcy5xdWFkcmF0aWNCZXppZXJDdXJ2ZShuLG8rYS1oLG4sbythLG4raCxvK2EpKSxsPWwuY29uY2F0KFBJWEkuV2ViR0xHcmFwaGljcy5xdWFkcmF0aWNCZXppZXJDdXJ2ZShuK3ItaCxvK2EsbityLG8rYSxuK3IsbythLWgpKSxsPWwuY29uY2F0KFBJWEkuV2ViR0xHcmFwaGljcy5xdWFkcmF0aWNCZXppZXJDdXJ2ZShuK3IsbytoLG4rcixvLG4rci1oLG8pKSxsPWwuY29uY2F0KFBJWEkuV2ViR0xHcmFwaGljcy5xdWFkcmF0aWNCZXppZXJDdXJ2ZShuK2gsbyxuLG8sbixvK2gpKSx0LmZpbGwpe3ZhciBjPWkuQ29sb3IuaGV4VG9SR0JBcnJheSh0LmZpbGxDb2xvciksdT10LmZpbGxBbHBoYSxkPWNbMF0qdSxwPWNbMV0qdSxmPWNbMl0qdSxtPWUucG9pbnRzLGc9ZS5pbmRpY2VzLHk9bS5sZW5ndGgvNix2PWkuRWFyQ3V0LlRyaWFuZ3VsYXRlKGwsbnVsbCwyKSx4PTA7Zm9yKHg9MDt4PHYubGVuZ3RoO3grPTMpZy5wdXNoKHZbeF0reSksZy5wdXNoKHZbeF0reSksZy5wdXNoKHZbeCsxXSt5KSxnLnB1c2godlt4KzJdK3kpLGcucHVzaCh2W3grMl0reSk7Zm9yKHg9MDt4PGwubGVuZ3RoO3grKyltLnB1c2gobFt4XSxsWysreF0sZCxwLGYsdSl9aWYodC5saW5lV2lkdGgpe3ZhciBiPXQucG9pbnRzO3QucG9pbnRzPWwsUElYSS5XZWJHTEdyYXBoaWNzLmJ1aWxkTGluZSh0LGUpLHQucG9pbnRzPWJ9fSxQSVhJLldlYkdMR3JhcGhpY3MucXVhZHJhdGljQmV6aWVyQ3VydmU9ZnVuY3Rpb24odCxlLGkscyxuLG8pe2Z1bmN0aW9uIHIodCxlLGkpe3JldHVybiB0KyhlLXQpKml9Zm9yKHZhciBhLGgsbCxjLHUsZCxwPVtdLGY9MCxtPTA7bTw9MjA7bSsrKWE9cih0LGksZj1tLzIwKSxoPXIoZSxzLGYpLGw9cihpLG4sZiksYz1yKHMsbyxmKSx1PXIoYSxsLGYpLGQ9cihoLGMsZikscC5wdXNoKHUsZCk7cmV0dXJuIHB9LFBJWEkuV2ViR0xHcmFwaGljcy5idWlsZENpcmNsZT1mdW5jdGlvbih0LGUpe3ZhciBzLG4sbz10LnNoYXBlLHI9by54LGE9by55O3QudHlwZT09PWkuQ0lSQ0xFPyhzPW8ucmFkaXVzLG49by5yYWRpdXMpOihzPW8ud2lkdGgsbj1vLmhlaWdodCk7dmFyIGg9MipNYXRoLlBJLzQwLGw9MDtpZih0LmZpbGwpe3ZhciBjPWkuQ29sb3IuaGV4VG9SR0JBcnJheSh0LmZpbGxDb2xvciksdT10LmZpbGxBbHBoYSxkPWNbMF0qdSxwPWNbMV0qdSxmPWNbMl0qdSxtPWUucG9pbnRzLGc9ZS5pbmRpY2VzLHk9bS5sZW5ndGgvNjtmb3IoZy5wdXNoKHkpLGw9MDtsPDQxO2wrKyltLnB1c2gocixhLGQscCxmLHUpLG0ucHVzaChyK01hdGguc2luKGgqbCkqcyxhK01hdGguY29zKGgqbCkqbixkLHAsZix1KSxnLnB1c2goeSsrLHkrKyk7Zy5wdXNoKHktMSl9aWYodC5saW5lV2lkdGgpe3ZhciB2PXQucG9pbnRzO2Zvcih0LnBvaW50cz1bXSxsPTA7bDw0MTtsKyspdC5wb2ludHMucHVzaChyK01hdGguc2luKGgqbCkqcyxhK01hdGguY29zKGgqbCkqbik7UElYSS5XZWJHTEdyYXBoaWNzLmJ1aWxkTGluZSh0LGUpLHQucG9pbnRzPXZ9fSxQSVhJLldlYkdMR3JhcGhpY3MuYnVpbGRMaW5lPWZ1bmN0aW9uKHQsZSl7dmFyIHM9MCxuPXQucG9pbnRzO2lmKDAhPT1uLmxlbmd0aCl7aWYodC5saW5lV2lkdGglMilmb3Iocz0wO3M8bi5sZW5ndGg7cysrKW5bc10rPS41O3ZhciBvPW5ldyBQSVhJLlBvaW50KG5bMF0sblsxXSkscj1uZXcgUElYSS5Qb2ludChuW24ubGVuZ3RoLTJdLG5bbi5sZW5ndGgtMV0pO2lmKG8ueD09PXIueCYmby55PT09ci55KXsobj1uLnNsaWNlKCkpLnBvcCgpLG4ucG9wKCk7dmFyIGE9KHI9bmV3IFBJWEkuUG9pbnQobltuLmxlbmd0aC0yXSxuW24ubGVuZ3RoLTFdKSkueCsuNSooby54LXIueCksaD1yLnkrLjUqKG8ueS1yLnkpO24udW5zaGlmdChhLGgpLG4ucHVzaChhLGgpfXZhciBsLGMsdSxkLHAsZixtLGcseSx2LHgsYixfLHcsVCxQLEMsUyxrLEEsTSxPLEk9ZS5wb2ludHMsRT1lLmluZGljZXMsUj1uLmxlbmd0aC8yLEw9bi5sZW5ndGgsRD1JLmxlbmd0aC82LEI9dC5saW5lV2lkdGgvMixGPWkuQ29sb3IuaGV4VG9SR0JBcnJheSh0LmxpbmVDb2xvciksVT10LmxpbmVBbHBoYSxHPUZbMF0qVSxOPUZbMV0qVSxYPUZbMl0qVTtmb3IodT1uWzBdLGQ9blsxXSxwPW5bMl0seT0tKGQtKGY9blszXSkpLHY9dS1wLHkvPU89TWF0aC5zcXJ0KHkqeSt2KnYpLHYvPU8seSo9Qix2Kj1CLEkucHVzaCh1LXksZC12LEcsTixYLFUpLEkucHVzaCh1K3ksZCt2LEcsTixYLFUpLHM9MTtzPFItMTtzKyspdT1uWzIqKHMtMSldLGQ9blsyKihzLTEpKzFdLHA9blsyKnNdLGY9blsyKnMrMV0sbT1uWzIqKHMrMSldLGc9blsyKihzKzEpKzFdLHk9LShkLWYpLHY9dS1wLHkvPU89TWF0aC5zcXJ0KHkqeSt2KnYpLHYvPU8seSo9Qix2Kj1CLHg9LShmLWcpLGI9cC1tLHgvPU89TWF0aC5zcXJ0KHgqeCtiKmIpLGIvPU8sQz0oLXkrdSkqKC12K2YpLSgteStwKSooLXYrZCksQT0oLSh4Kj1CKSttKSooLShiKj1CKStmKS0oLXgrcCkqKC1iK2cpLE09KFQ9LXYrZC0oLXYrZikpKihrPS14K3AtKC14K20pKS0oUz0tYitnLSgtYitmKSkqKFA9LXkrcC0oLXkrdSkpLE1hdGguYWJzKE0pPC4xPyhNKz0xMC4xLEkucHVzaChwLXksZi12LEcsTixYLFUpLEkucHVzaChwK3ksZit2LEcsTixYLFUpKTooKGw9KFAqQS1rKkMpL00pLXApKihsLXApKygoYz0oUypDLVQqQSkvTSktZikrKGMtZik+MTk2MDA/KF89eS14LHc9di1iLF8vPU89TWF0aC5zcXJ0KF8qXyt3KncpLHcvPU8sXyo9Qix3Kj1CLEkucHVzaChwLV8sZi13KSxJLnB1c2goRyxOLFgsVSksSS5wdXNoKHArXyxmK3cpLEkucHVzaChHLE4sWCxVKSxJLnB1c2gocC1fLGYtdyksSS5wdXNoKEcsTixYLFUpLEwrKyk6KEkucHVzaChsLGMpLEkucHVzaChHLE4sWCxVKSxJLnB1c2gocC0obC1wKSxmLShjLWYpKSxJLnB1c2goRyxOLFgsVSkpO2Zvcih1PW5bMiooUi0yKV0sZD1uWzIqKFItMikrMV0scD1uWzIqKFItMSldLHk9LShkLShmPW5bMiooUi0xKSsxXSkpLHY9dS1wLHkvPU89TWF0aC5zcXJ0KHkqeSt2KnYpLHYvPU8seSo9Qix2Kj1CLEkucHVzaChwLXksZi12KSxJLnB1c2goRyxOLFgsVSksSS5wdXNoKHAreSxmK3YpLEkucHVzaChHLE4sWCxVKSxFLnB1c2goRCkscz0wO3M8TDtzKyspRS5wdXNoKEQrKyk7RS5wdXNoKEQtMSl9fSxQSVhJLldlYkdMR3JhcGhpY3MuYnVpbGRDb21wbGV4UG9seT1mdW5jdGlvbih0LGUpe3ZhciBzPXQucG9pbnRzLnNsaWNlKCk7aWYoIShzLmxlbmd0aDw2KSl7dmFyIG49ZS5pbmRpY2VzO2UucG9pbnRzPXMsZS5hbHBoYT10LmZpbGxBbHBoYSxlLmNvbG9yPWkuQ29sb3IuaGV4VG9SR0JBcnJheSh0LmZpbGxDb2xvcik7Zm9yKHZhciBvLHIsYT0xLzAsaD0tMS8wLGw9MS8wLGM9LTEvMCx1PTA7dTxzLmxlbmd0aDt1Kz0yKW89c1t1XSxyPXNbdSsxXSxhPW88YT9vOmEsaD1vPmg/bzpoLGw9cjxsP3I6bCxjPXI+Yz9yOmM7cy5wdXNoKGEsbCxoLGwsaCxjLGEsYyk7dmFyIGQ9cy5sZW5ndGgvMjtmb3IodT0wO3U8ZDt1Kyspbi5wdXNoKHUpfX0sUElYSS5XZWJHTEdyYXBoaWNzLmJ1aWxkUG9seT1mdW5jdGlvbih0LGUpe3ZhciBzPXQucG9pbnRzO2lmKCEocy5sZW5ndGg8Nikpe3ZhciBuPWUucG9pbnRzLG89ZS5pbmRpY2VzLHI9cy5sZW5ndGgvMixhPWkuQ29sb3IuaGV4VG9SR0JBcnJheSh0LmZpbGxDb2xvciksaD10LmZpbGxBbHBoYSxsPWFbMF0qaCxjPWFbMV0qaCx1PWFbMl0qaCxkPWkuRWFyQ3V0LlRyaWFuZ3VsYXRlKHMsbnVsbCwyKTtpZighZClyZXR1cm4hMTt2YXIgcD1uLmxlbmd0aC82LGY9MDtmb3IoZj0wO2Y8ZC5sZW5ndGg7Zis9MylvLnB1c2goZFtmXStwKSxvLnB1c2goZFtmXStwKSxvLnB1c2goZFtmKzFdK3ApLG8ucHVzaChkW2YrMl0rcCksby5wdXNoKGRbZisyXStwKTtmb3IoZj0wO2Y8cjtmKyspbi5wdXNoKHNbMipmXSxzWzIqZisxXSxsLGMsdSxoKTtyZXR1cm4hMH19LFBJWEkuV2ViR0xHcmFwaGljcy5ncmFwaGljc0RhdGFQb29sPVtdLFBJWEkuV2ViR0xHcmFwaGljc0RhdGE9ZnVuY3Rpb24odCl7dGhpcy5nbD10LHRoaXMuY29sb3I9WzAsMCwwXSx0aGlzLnBvaW50cz1bXSx0aGlzLmluZGljZXM9W10sdGhpcy5idWZmZXI9dC5jcmVhdGVCdWZmZXIoKSx0aGlzLmluZGV4QnVmZmVyPXQuY3JlYXRlQnVmZmVyKCksdGhpcy5tb2RlPTEsdGhpcy5hbHBoYT0xLHRoaXMuZGlydHk9ITB9LFBJWEkuV2ViR0xHcmFwaGljc0RhdGEucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5wb2ludHM9W10sdGhpcy5pbmRpY2VzPVtdfSxQSVhJLldlYkdMR3JhcGhpY3NEYXRhLnByb3RvdHlwZS51cGxvYWQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdsO3RoaXMuZ2xQb2ludHM9bmV3IEZsb2F0MzJBcnJheSh0aGlzLnBvaW50cyksdC5iaW5kQnVmZmVyKHQuQVJSQVlfQlVGRkVSLHRoaXMuYnVmZmVyKSx0LmJ1ZmZlckRhdGEodC5BUlJBWV9CVUZGRVIsdGhpcy5nbFBvaW50cyx0LlNUQVRJQ19EUkFXKSx0aGlzLmdsSW5kaWNpZXM9bmV3IFVpbnQxNkFycmF5KHRoaXMuaW5kaWNlcyksdC5iaW5kQnVmZmVyKHQuRUxFTUVOVF9BUlJBWV9CVUZGRVIsdGhpcy5pbmRleEJ1ZmZlciksdC5idWZmZXJEYXRhKHQuRUxFTUVOVF9BUlJBWV9CVUZGRVIsdGhpcy5nbEluZGljaWVzLHQuU1RBVElDX0RSQVcpLHRoaXMuZGlydHk9ITF9LFBJWEkuQ2FudmFzR3JhcGhpY3M9ZnVuY3Rpb24oKXt9LFBJWEkuQ2FudmFzR3JhcGhpY3MucmVuZGVyR3JhcGhpY3M9ZnVuY3Rpb24odCxlKXt2YXIgcz10LndvcmxkQWxwaGE7dC5kaXJ0eSYmKHRoaXMudXBkYXRlR3JhcGhpY3NUaW50KHQpLHQuZGlydHk9ITEpO2Zvcih2YXIgbj0wO248dC5ncmFwaGljc0RhdGEubGVuZ3RoO24rKyl7dmFyIG89dC5ncmFwaGljc0RhdGFbbl0scj1vLnNoYXBlLGE9by5fZmlsbFRpbnQsaD1vLl9saW5lVGludDtpZihlLmxpbmVXaWR0aD1vLmxpbmVXaWR0aCxvLnR5cGU9PT1pLlBPTFlHT04pe2UuYmVnaW5QYXRoKCk7dmFyIGw9ci5wb2ludHM7ZS5tb3ZlVG8obFswXSxsWzFdKTtmb3IodmFyIGM9MTtjPGwubGVuZ3RoLzI7YysrKWUubGluZVRvKGxbMipjXSxsWzIqYysxXSk7ci5jbG9zZWQmJmUubGluZVRvKGxbMF0sbFsxXSksbFswXT09PWxbbC5sZW5ndGgtMl0mJmxbMV09PT1sW2wubGVuZ3RoLTFdJiZlLmNsb3NlUGF0aCgpLG8uZmlsbCYmKGUuZ2xvYmFsQWxwaGE9by5maWxsQWxwaGEqcyxlLmZpbGxTdHlsZT1cIiNcIisoXCIwMDAwMFwiKygwfGEpLnRvU3RyaW5nKDE2KSkuc3Vic3RyKC02KSxlLmZpbGwoKSksby5saW5lV2lkdGgmJihlLmdsb2JhbEFscGhhPW8ubGluZUFscGhhKnMsZS5zdHJva2VTdHlsZT1cIiNcIisoXCIwMDAwMFwiKygwfGgpLnRvU3RyaW5nKDE2KSkuc3Vic3RyKC02KSxlLnN0cm9rZSgpKX1lbHNlIGlmKG8udHlwZT09PWkuUkVDVEFOR0xFKShvLmZpbGxDb2xvcnx8MD09PW8uZmlsbENvbG9yKSYmKGUuZ2xvYmFsQWxwaGE9by5maWxsQWxwaGEqcyxlLmZpbGxTdHlsZT1cIiNcIisoXCIwMDAwMFwiKygwfGEpLnRvU3RyaW5nKDE2KSkuc3Vic3RyKC02KSxlLmZpbGxSZWN0KHIueCxyLnksci53aWR0aCxyLmhlaWdodCkpLG8ubGluZVdpZHRoJiYoZS5nbG9iYWxBbHBoYT1vLmxpbmVBbHBoYSpzLGUuc3Ryb2tlU3R5bGU9XCIjXCIrKFwiMDAwMDBcIisoMHxoKS50b1N0cmluZygxNikpLnN1YnN0cigtNiksZS5zdHJva2VSZWN0KHIueCxyLnksci53aWR0aCxyLmhlaWdodCkpO2Vsc2UgaWYoby50eXBlPT09aS5DSVJDTEUpZS5iZWdpblBhdGgoKSxlLmFyYyhyLngsci55LHIucmFkaXVzLDAsMipNYXRoLlBJKSxlLmNsb3NlUGF0aCgpLG8uZmlsbCYmKGUuZ2xvYmFsQWxwaGE9by5maWxsQWxwaGEqcyxlLmZpbGxTdHlsZT1cIiNcIisoXCIwMDAwMFwiKygwfGEpLnRvU3RyaW5nKDE2KSkuc3Vic3RyKC02KSxlLmZpbGwoKSksby5saW5lV2lkdGgmJihlLmdsb2JhbEFscGhhPW8ubGluZUFscGhhKnMsZS5zdHJva2VTdHlsZT1cIiNcIisoXCIwMDAwMFwiKygwfGgpLnRvU3RyaW5nKDE2KSkuc3Vic3RyKC02KSxlLnN0cm9rZSgpKTtlbHNlIGlmKG8udHlwZT09PWkuRUxMSVBTRSl7dmFyIHU9MipyLndpZHRoLGQ9MipyLmhlaWdodCxwPXIueC11LzIsZj1yLnktZC8yO2UuYmVnaW5QYXRoKCk7dmFyIG09dS8yKi41NTIyODQ4LGc9ZC8yKi41NTIyODQ4LHk9cCt1LHY9ZitkLHg9cCt1LzIsYj1mK2QvMjtlLm1vdmVUbyhwLGIpLGUuYmV6aWVyQ3VydmVUbyhwLGItZyx4LW0sZix4LGYpLGUuYmV6aWVyQ3VydmVUbyh4K20sZix5LGItZyx5LGIpLGUuYmV6aWVyQ3VydmVUbyh5LGIrZyx4K20sdix4LHYpLGUuYmV6aWVyQ3VydmVUbyh4LW0sdixwLGIrZyxwLGIpLGUuY2xvc2VQYXRoKCksby5maWxsJiYoZS5nbG9iYWxBbHBoYT1vLmZpbGxBbHBoYSpzLGUuZmlsbFN0eWxlPVwiI1wiKyhcIjAwMDAwXCIrKDB8YSkudG9TdHJpbmcoMTYpKS5zdWJzdHIoLTYpLGUuZmlsbCgpKSxvLmxpbmVXaWR0aCYmKGUuZ2xvYmFsQWxwaGE9by5saW5lQWxwaGEqcyxlLnN0cm9rZVN0eWxlPVwiI1wiKyhcIjAwMDAwXCIrKDB8aCkudG9TdHJpbmcoMTYpKS5zdWJzdHIoLTYpLGUuc3Ryb2tlKCkpfWVsc2UgaWYoby50eXBlPT09aS5ST1VOREVEUkVDVEFOR0xFKXt2YXIgXz1yLngsdz1yLnksVD1yLndpZHRoLFA9ci5oZWlnaHQsQz1yLnJhZGl1cyxTPU1hdGgubWluKFQsUCkvMnwwO0M9Qz5TP1M6QyxlLmJlZ2luUGF0aCgpLGUubW92ZVRvKF8sdytDKSxlLmxpbmVUbyhfLHcrUC1DKSxlLnF1YWRyYXRpY0N1cnZlVG8oXyx3K1AsXytDLHcrUCksZS5saW5lVG8oXytULUMsdytQKSxlLnF1YWRyYXRpY0N1cnZlVG8oXytULHcrUCxfK1QsdytQLUMpLGUubGluZVRvKF8rVCx3K0MpLGUucXVhZHJhdGljQ3VydmVUbyhfK1QsdyxfK1QtQyx3KSxlLmxpbmVUbyhfK0MsdyksZS5xdWFkcmF0aWNDdXJ2ZVRvKF8sdyxfLHcrQyksZS5jbG9zZVBhdGgoKSwoby5maWxsQ29sb3J8fDA9PT1vLmZpbGxDb2xvcikmJihlLmdsb2JhbEFscGhhPW8uZmlsbEFscGhhKnMsZS5maWxsU3R5bGU9XCIjXCIrKFwiMDAwMDBcIisoMHxhKS50b1N0cmluZygxNikpLnN1YnN0cigtNiksZS5maWxsKCkpLG8ubGluZVdpZHRoJiYoZS5nbG9iYWxBbHBoYT1vLmxpbmVBbHBoYSpzLGUuc3Ryb2tlU3R5bGU9XCIjXCIrKFwiMDAwMDBcIisoMHxoKS50b1N0cmluZygxNikpLnN1YnN0cigtNiksZS5zdHJva2UoKSl9fX0sUElYSS5DYW52YXNHcmFwaGljcy5yZW5kZXJHcmFwaGljc01hc2s9ZnVuY3Rpb24odCxlKXt2YXIgcz10LmdyYXBoaWNzRGF0YS5sZW5ndGg7aWYoMCE9PXMpe2UuYmVnaW5QYXRoKCk7Zm9yKHZhciBuPTA7bjxzO24rKyl7dmFyIG89dC5ncmFwaGljc0RhdGFbbl0scj1vLnNoYXBlO2lmKG8udHlwZT09PWkuUE9MWUdPTil7dmFyIGE9ci5wb2ludHM7ZS5tb3ZlVG8oYVswXSxhWzFdKTtmb3IodmFyIGg9MTtoPGEubGVuZ3RoLzI7aCsrKWUubGluZVRvKGFbMipoXSxhWzIqaCsxXSk7YVswXT09PWFbYS5sZW5ndGgtMl0mJmFbMV09PT1hW2EubGVuZ3RoLTFdJiZlLmNsb3NlUGF0aCgpfWVsc2UgaWYoby50eXBlPT09aS5SRUNUQU5HTEUpZS5yZWN0KHIueCxyLnksci53aWR0aCxyLmhlaWdodCksZS5jbG9zZVBhdGgoKTtlbHNlIGlmKG8udHlwZT09PWkuQ0lSQ0xFKWUuYXJjKHIueCxyLnksci5yYWRpdXMsMCwyKk1hdGguUEkpLGUuY2xvc2VQYXRoKCk7ZWxzZSBpZihvLnR5cGU9PT1pLkVMTElQU0Upe3ZhciBsPTIqci53aWR0aCxjPTIqci5oZWlnaHQsdT1yLngtbC8yLGQ9ci55LWMvMixwPWwvMiouNTUyMjg0OCxmPWMvMiouNTUyMjg0OCxtPXUrbCxnPWQrYyx5PXUrbC8yLHY9ZCtjLzI7ZS5tb3ZlVG8odSx2KSxlLmJlemllckN1cnZlVG8odSx2LWYseS1wLGQseSxkKSxlLmJlemllckN1cnZlVG8oeStwLGQsbSx2LWYsbSx2KSxlLmJlemllckN1cnZlVG8obSx2K2YseStwLGcseSxnKSxlLmJlemllckN1cnZlVG8oeS1wLGcsdSx2K2YsdSx2KSxlLmNsb3NlUGF0aCgpfWVsc2UgaWYoby50eXBlPT09aS5ST1VOREVEUkVDVEFOR0xFKXt2YXIgeD1yLngsYj1yLnksXz1yLndpZHRoLHc9ci5oZWlnaHQsVD1yLnJhZGl1cyxQPU1hdGgubWluKF8sdykvMnwwO1Q9VD5QP1A6VCxlLm1vdmVUbyh4LGIrVCksZS5saW5lVG8oeCxiK3ctVCksZS5xdWFkcmF0aWNDdXJ2ZVRvKHgsYit3LHgrVCxiK3cpLGUubGluZVRvKHgrXy1ULGIrdyksZS5xdWFkcmF0aWNDdXJ2ZVRvKHgrXyxiK3cseCtfLGIrdy1UKSxlLmxpbmVUbyh4K18sYitUKSxlLnF1YWRyYXRpY0N1cnZlVG8oeCtfLGIseCtfLVQsYiksZS5saW5lVG8oeCtULGIpLGUucXVhZHJhdGljQ3VydmVUbyh4LGIseCxiK1QpLGUuY2xvc2VQYXRoKCl9fX19LFBJWEkuQ2FudmFzR3JhcGhpY3MudXBkYXRlR3JhcGhpY3NUaW50PWZ1bmN0aW9uKHQpe2lmKDE2Nzc3MjE1IT09dC50aW50KWZvcih2YXIgZT0odC50aW50Pj4xNiYyNTUpLzI1NSxpPSh0LnRpbnQ+PjgmMjU1KS8yNTUscz0oMjU1JnQudGludCkvMjU1LG49MDtuPHQuZ3JhcGhpY3NEYXRhLmxlbmd0aDtuKyspe3ZhciBvPXQuZ3JhcGhpY3NEYXRhW25dLHI9MHxvLmZpbGxDb2xvcixhPTB8by5saW5lQ29sb3I7by5fZmlsbFRpbnQ9KChyPj4xNiYyNTUpLzI1NSplKjI1NTw8MTYpKygocj4+OCYyNTUpLzI1NSppKjI1NTw8OCkrKDI1NSZyKS8yNTUqcyoyNTUsby5fbGluZVRpbnQ9KChhPj4xNiYyNTUpLzI1NSplKjI1NTw8MTYpKygoYT4+OCYyNTUpLzI1NSppKjI1NTw8OCkrKDI1NSZhKS8yNTUqcyoyNTV9fSxpLkdyYXBoaWNzRGF0YT1mdW5jdGlvbih0LGUsaSxzLG4sbyxyKXt0aGlzLmxpbmVXaWR0aD10LHRoaXMubGluZUNvbG9yPWUsdGhpcy5saW5lQWxwaGE9aSx0aGlzLl9saW5lVGludD1lLHRoaXMuZmlsbENvbG9yPXMsdGhpcy5maWxsQWxwaGE9bix0aGlzLl9maWxsVGludD1zLHRoaXMuZmlsbD1vLHRoaXMuc2hhcGU9cix0aGlzLnR5cGU9ci50eXBlfSxpLkdyYXBoaWNzRGF0YS5wcm90b3R5cGUuY29uc3RydWN0b3I9aS5HcmFwaGljc0RhdGEsaS5HcmFwaGljc0RhdGEucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBpLkdyYXBoaWNzRGF0YSh0aGlzLmxpbmVXaWR0aCx0aGlzLmxpbmVDb2xvcix0aGlzLmxpbmVBbHBoYSx0aGlzLmZpbGxDb2xvcix0aGlzLmZpbGxBbHBoYSx0aGlzLmZpbGwsdGhpcy5zaGFwZSl9LGkuR3JhcGhpY3M9ZnVuY3Rpb24odCxlLHMpe3ZvaWQgMD09PWUmJihlPTApLHZvaWQgMD09PXMmJihzPTApLHRoaXMudHlwZT1pLkdSQVBISUNTLHRoaXMucGh5c2ljc1R5cGU9aS5TUFJJVEUsdGhpcy5hbmNob3I9bmV3IGkuUG9pbnQsUElYSS5EaXNwbGF5T2JqZWN0Q29udGFpbmVyLmNhbGwodGhpcyksdGhpcy5yZW5kZXJhYmxlPSEwLHRoaXMuZmlsbEFscGhhPTEsdGhpcy5saW5lV2lkdGg9MCx0aGlzLmxpbmVDb2xvcj0wLHRoaXMuZ3JhcGhpY3NEYXRhPVtdLHRoaXMudGludD0xNjc3NzIxNSx0aGlzLmJsZW5kTW9kZT1QSVhJLmJsZW5kTW9kZXMuTk9STUFMLHRoaXMuY3VycmVudFBhdGg9bnVsbCx0aGlzLl93ZWJHTD1bXSx0aGlzLmlzTWFzaz0hMSx0aGlzLmJvdW5kc1BhZGRpbmc9MCx0aGlzLl9sb2NhbEJvdW5kcz1uZXcgaS5SZWN0YW5nbGUoMCwwLDEsMSksdGhpcy5kaXJ0eT0hMCx0aGlzLl9ib3VuZHNEaXJ0eT0hMSx0aGlzLndlYkdMRGlydHk9ITEsdGhpcy5jYWNoZWRTcHJpdGVEaXJ0eT0hMSxpLkNvbXBvbmVudC5Db3JlLmluaXQuY2FsbCh0aGlzLHQsZSxzLFwiXCIsbnVsbCl9LGkuR3JhcGhpY3MucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoUElYSS5EaXNwbGF5T2JqZWN0Q29udGFpbmVyLnByb3RvdHlwZSksaS5HcmFwaGljcy5wcm90b3R5cGUuY29uc3RydWN0b3I9aS5HcmFwaGljcyxpLkNvbXBvbmVudC5Db3JlLmluc3RhbGwuY2FsbChpLkdyYXBoaWNzLnByb3RvdHlwZSxbXCJBbmdsZVwiLFwiQXV0b0N1bGxcIixcIkJvdW5kc1wiLFwiRGVzdHJveVwiLFwiRml4ZWRUb0NhbWVyYVwiLFwiSW5wdXRFbmFibGVkXCIsXCJJbldvcmxkXCIsXCJMaWZlU3BhblwiLFwiUGh5c2ljc0JvZHlcIixcIlJlc2V0XCJdKSxpLkdyYXBoaWNzLnByb3RvdHlwZS5wcmVVcGRhdGVQaHlzaWNzPWkuQ29tcG9uZW50LlBoeXNpY3NCb2R5LnByZVVwZGF0ZSxpLkdyYXBoaWNzLnByb3RvdHlwZS5wcmVVcGRhdGVMaWZlU3Bhbj1pLkNvbXBvbmVudC5MaWZlU3Bhbi5wcmVVcGRhdGUsaS5HcmFwaGljcy5wcm90b3R5cGUucHJlVXBkYXRlSW5Xb3JsZD1pLkNvbXBvbmVudC5JbldvcmxkLnByZVVwZGF0ZSxpLkdyYXBoaWNzLnByb3RvdHlwZS5wcmVVcGRhdGVDb3JlPWkuQ29tcG9uZW50LkNvcmUucHJlVXBkYXRlLGkuR3JhcGhpY3MucHJvdG90eXBlLnByZVVwZGF0ZT1mdW5jdGlvbigpe3JldHVybiEhKHRoaXMucHJlVXBkYXRlUGh5c2ljcygpJiZ0aGlzLnByZVVwZGF0ZUxpZmVTcGFuKCkmJnRoaXMucHJlVXBkYXRlSW5Xb3JsZCgpKSYmdGhpcy5wcmVVcGRhdGVDb3JlKCl9LGkuR3JhcGhpY3MucHJvdG90eXBlLnBvc3RVcGRhdGU9ZnVuY3Rpb24oKXtpLkNvbXBvbmVudC5QaHlzaWNzQm9keS5wb3N0VXBkYXRlLmNhbGwodGhpcyksaS5Db21wb25lbnQuRml4ZWRUb0NhbWVyYS5wb3N0VXBkYXRlLmNhbGwodGhpcyksdGhpcy5fYm91bmRzRGlydHkmJih0aGlzLnVwZGF0ZUxvY2FsQm91bmRzKCksdGhpcy5fYm91bmRzRGlydHk9ITEpO2Zvcih2YXIgdD0wO3Q8dGhpcy5jaGlsZHJlbi5sZW5ndGg7dCsrKXRoaXMuY2hpbGRyZW5bdF0ucG9zdFVwZGF0ZSgpfSxpLkdyYXBoaWNzLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKHQpe3RoaXMuY2xlYXIoKSxpLkNvbXBvbmVudC5EZXN0cm95LnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyx0KX0saS5HcmFwaGljcy5wcm90b3R5cGUuZHJhd1RyaWFuZ2xlPWZ1bmN0aW9uKHQsZSl7dm9pZCAwPT09ZSYmKGU9ITEpO3ZhciBzPW5ldyBpLlBvbHlnb24odCk7aWYoZSl7dmFyIG49bmV3IGkuUG9pbnQodGhpcy5nYW1lLmNhbWVyYS54LXRbMF0ueCx0aGlzLmdhbWUuY2FtZXJhLnktdFswXS55KSxvPW5ldyBpLlBvaW50KHRbMV0ueC10WzBdLngsdFsxXS55LXRbMF0ueSkscj1uZXcgaS5Qb2ludCh0WzFdLngtdFsyXS54LHRbMV0ueS10WzJdLnkpLmNyb3NzKG8pO24uZG90KHIpPjAmJnRoaXMuZHJhd1BvbHlnb24ocyl9ZWxzZSB0aGlzLmRyYXdQb2x5Z29uKHMpfSxpLkdyYXBoaWNzLnByb3RvdHlwZS5kcmF3VHJpYW5nbGVzPWZ1bmN0aW9uKHQsZSxzKXt2b2lkIDA9PT1zJiYocz0hMSk7dmFyIG4sbz1uZXcgaS5Qb2ludCxyPW5ldyBpLlBvaW50LGE9bmV3IGkuUG9pbnQsaD1bXTtpZihlKWlmKHRbMF1pbnN0YW5jZW9mIGkuUG9pbnQpZm9yKG49MDtuPGUubGVuZ3RoLzM7bisrKWgucHVzaCh0W2VbMypuXV0pLGgucHVzaCh0W2VbMypuKzFdXSksaC5wdXNoKHRbZVszKm4rMl1dKSwzPT09aC5sZW5ndGgmJih0aGlzLmRyYXdUcmlhbmdsZShoLHMpLGg9W10pO2Vsc2UgZm9yKG49MDtuPGUubGVuZ3RoO24rKylvLng9dFsyKmVbbl1dLG8ueT10WzIqZVtuXSsxXSxoLnB1c2goby5jb3B5VG8oe30pKSwzPT09aC5sZW5ndGgmJih0aGlzLmRyYXdUcmlhbmdsZShoLHMpLGg9W10pO2Vsc2UgaWYodFswXWluc3RhbmNlb2YgaS5Qb2ludClmb3Iobj0wO248dC5sZW5ndGgvMztuKyspdGhpcy5kcmF3VHJpYW5nbGUoW3RbMypuXSx0WzMqbisxXSx0WzMqbisyXV0scyk7ZWxzZSBmb3Iobj0wO248dC5sZW5ndGgvNjtuKyspby54PXRbNipuKzBdLG8ueT10WzYqbisxXSxyLng9dFs2Km4rMl0sci55PXRbNipuKzNdLGEueD10WzYqbis0XSxhLnk9dFs2Km4rNV0sdGhpcy5kcmF3VHJpYW5nbGUoW28scixhXSxzKX0saS5HcmFwaGljcy5wcm90b3R5cGUubGluZVN0eWxlPWZ1bmN0aW9uKHQsZSxzKXtyZXR1cm4gdGhpcy5saW5lV2lkdGg9dHx8MCx0aGlzLmxpbmVDb2xvcj1lfHwwLHRoaXMubGluZUFscGhhPXZvaWQgMD09PXM/MTpzLHRoaXMuY3VycmVudFBhdGgmJih0aGlzLmN1cnJlbnRQYXRoLnNoYXBlLnBvaW50cy5sZW5ndGg/dGhpcy5kcmF3U2hhcGUobmV3IGkuUG9seWdvbih0aGlzLmN1cnJlbnRQYXRoLnNoYXBlLnBvaW50cy5zbGljZSgtMikpKToodGhpcy5jdXJyZW50UGF0aC5saW5lV2lkdGg9dGhpcy5saW5lV2lkdGgsdGhpcy5jdXJyZW50UGF0aC5saW5lQ29sb3I9dGhpcy5saW5lQ29sb3IsdGhpcy5jdXJyZW50UGF0aC5saW5lQWxwaGE9dGhpcy5saW5lQWxwaGEpKSx0aGlzfSxpLkdyYXBoaWNzLnByb3RvdHlwZS5tb3ZlVG89ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5kcmF3U2hhcGUobmV3IGkuUG9seWdvbihbdCxlXSkpLHRoaXN9LGkuR3JhcGhpY3MucHJvdG90eXBlLmxpbmVUbz1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmN1cnJlbnRQYXRofHx0aGlzLm1vdmVUbygwLDApLHRoaXMuY3VycmVudFBhdGguc2hhcGUucG9pbnRzLnB1c2godCxlKSx0aGlzLmRpcnR5PSEwLHRoaXMuX2JvdW5kc0RpcnR5PSEwLHRoaXN9LGkuR3JhcGhpY3MucHJvdG90eXBlLnF1YWRyYXRpY0N1cnZlVG89ZnVuY3Rpb24odCxlLGkscyl7dGhpcy5jdXJyZW50UGF0aD8wPT09dGhpcy5jdXJyZW50UGF0aC5zaGFwZS5wb2ludHMubGVuZ3RoJiYodGhpcy5jdXJyZW50UGF0aC5zaGFwZS5wb2ludHM9WzAsMF0pOnRoaXMubW92ZVRvKDAsMCk7dmFyIG4sbyxyPXRoaXMuY3VycmVudFBhdGguc2hhcGUucG9pbnRzOzA9PT1yLmxlbmd0aCYmdGhpcy5tb3ZlVG8oMCwwKTtmb3IodmFyIGE9cltyLmxlbmd0aC0yXSxoPXJbci5sZW5ndGgtMV0sbD0wLGM9MTtjPD0yMDsrK2Mpbj1hKyh0LWEpKihsPWMvMjApLG89aCsoZS1oKSpsLHIucHVzaChuKyh0KyhpLXQpKmwtbikqbCxvKyhlKyhzLWUpKmwtbykqbCk7cmV0dXJuIHRoaXMuZGlydHk9ITAsdGhpcy5fYm91bmRzRGlydHk9ITAsdGhpc30saS5HcmFwaGljcy5wcm90b3R5cGUuYmV6aWVyQ3VydmVUbz1mdW5jdGlvbih0LGUsaSxzLG4sbyl7dGhpcy5jdXJyZW50UGF0aD8wPT09dGhpcy5jdXJyZW50UGF0aC5zaGFwZS5wb2ludHMubGVuZ3RoJiYodGhpcy5jdXJyZW50UGF0aC5zaGFwZS5wb2ludHM9WzAsMF0pOnRoaXMubW92ZVRvKDAsMCk7Zm9yKHZhciByLGEsaCxsLGMsdT10aGlzLmN1cnJlbnRQYXRoLnNoYXBlLnBvaW50cyxkPXVbdS5sZW5ndGgtMl0scD11W3UubGVuZ3RoLTFdLGY9MCxtPTE7bTw9MjA7KyttKWg9KGE9KHI9MS0oZj1tLzIwKSkqcikqcixjPShsPWYqZikqZix1LnB1c2goaCpkKzMqYSpmKnQrMypyKmwqaStjKm4saCpwKzMqYSpmKmUrMypyKmwqcytjKm8pO3JldHVybiB0aGlzLmRpcnR5PSEwLHRoaXMuX2JvdW5kc0RpcnR5PSEwLHRoaXN9LGkuR3JhcGhpY3MucHJvdG90eXBlLmFyY1RvPWZ1bmN0aW9uKHQsZSxpLHMsbil7dGhpcy5jdXJyZW50UGF0aD8wPT09dGhpcy5jdXJyZW50UGF0aC5zaGFwZS5wb2ludHMubGVuZ3RoJiZ0aGlzLmN1cnJlbnRQYXRoLnNoYXBlLnBvaW50cy5wdXNoKHQsZSk6dGhpcy5tb3ZlVG8odCxlKTt2YXIgbz10aGlzLmN1cnJlbnRQYXRoLnNoYXBlLnBvaW50cyxyPW9bby5sZW5ndGgtMl0sYT1vW28ubGVuZ3RoLTFdLWUsaD1yLXQsbD1zLWUsYz1pLXQsdT1NYXRoLmFicyhhKmMtaCpsKTtpZih1PDFlLTh8fDA9PT1uKW9bby5sZW5ndGgtMl09PT10JiZvW28ubGVuZ3RoLTFdPT09ZXx8by5wdXNoKHQsZSk7ZWxzZXt2YXIgZD1hKmEraCpoLHA9bCpsK2MqYyxmPWEqbCtoKmMsbT1uKk1hdGguc3FydChkKS91LGc9bipNYXRoLnNxcnQocCkvdSx5PW0qZi9kLHY9ZypmL3AseD1tKmMrZypoLGI9bSpsK2cqYSxfPWgqKGcreSksdz1hKihnK3kpLFQ9YyoobSt2KSxQPWwqKG0rdiksQz1NYXRoLmF0YW4yKHctYixfLXgpLFM9TWF0aC5hdGFuMihQLWIsVC14KTt0aGlzLmFyYyh4K3QsYitlLG4sQyxTLGgqbD5jKmEpfXJldHVybiB0aGlzLmRpcnR5PSEwLHRoaXMuX2JvdW5kc0RpcnR5PSEwLHRoaXN9LGkuR3JhcGhpY3MucHJvdG90eXBlLmFyYz1mdW5jdGlvbih0LGUsaSxzLG4sbyxyKXtpZihzPT09bilyZXR1cm4gdGhpczt2b2lkIDA9PT1vJiYobz0hMSksdm9pZCAwPT09ciYmKHI9NDApLCFvJiZuPD1zP24rPTIqTWF0aC5QSTpvJiZzPD1uJiYocys9MipNYXRoLlBJKTt2YXIgYT1vPy0xKihzLW4pOm4tcyxoPU1hdGguY2VpbChNYXRoLmFicyhhKS8oMipNYXRoLlBJKSkqcjtpZigwPT09YSlyZXR1cm4gdGhpczt2YXIgbD10K01hdGguY29zKHMpKmksYz1lK01hdGguc2luKHMpKmk7byYmdGhpcy5maWxsaW5nP3RoaXMubW92ZVRvKHQsZSk6dGhpcy5tb3ZlVG8obCxjKTtmb3IodmFyIHU9dGhpcy5jdXJyZW50UGF0aC5zaGFwZS5wb2ludHMsZD1hLygyKmgpLHA9MipkLGY9TWF0aC5jb3MoZCksbT1NYXRoLnNpbihkKSxnPWgtMSx5PWclMS9nLHY9MDt2PD1nO3YrKyl7dmFyIHg9ZCtzK3AqKHYreSp2KSxiPU1hdGguY29zKHgpLF89LU1hdGguc2luKHgpO3UucHVzaCgoZipiK20qXykqaSt0LChmKi1fK20qYikqaStlKX1yZXR1cm4gdGhpcy5kaXJ0eT0hMCx0aGlzLl9ib3VuZHNEaXJ0eT0hMCx0aGlzfSxpLkdyYXBoaWNzLnByb3RvdHlwZS5iZWdpbkZpbGw9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5maWxsaW5nPSEwLHRoaXMuZmlsbENvbG9yPXR8fDAsdGhpcy5maWxsQWxwaGE9dm9pZCAwPT09ZT8xOmUsdGhpcy5jdXJyZW50UGF0aCYmdGhpcy5jdXJyZW50UGF0aC5zaGFwZS5wb2ludHMubGVuZ3RoPD0yJiYodGhpcy5jdXJyZW50UGF0aC5maWxsPXRoaXMuZmlsbGluZyx0aGlzLmN1cnJlbnRQYXRoLmZpbGxDb2xvcj10aGlzLmZpbGxDb2xvcix0aGlzLmN1cnJlbnRQYXRoLmZpbGxBbHBoYT10aGlzLmZpbGxBbHBoYSksdGhpc30saS5HcmFwaGljcy5wcm90b3R5cGUuZW5kRmlsbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmZpbGxpbmc9ITEsdGhpcy5maWxsQ29sb3I9bnVsbCx0aGlzLmZpbGxBbHBoYT0xLHRoaXN9LGkuR3JhcGhpY3MucHJvdG90eXBlLmRyYXdSZWN0PWZ1bmN0aW9uKHQsZSxzLG4pe3JldHVybiB0aGlzLmRyYXdTaGFwZShuZXcgaS5SZWN0YW5nbGUodCxlLHMsbikpLHRoaXN9LGkuR3JhcGhpY3MucHJvdG90eXBlLmRyYXdSb3VuZGVkUmVjdD1mdW5jdGlvbih0LGUscyxuLG8pe3JldHVybiB0aGlzLmRyYXdTaGFwZShuZXcgaS5Sb3VuZGVkUmVjdGFuZ2xlKHQsZSxzLG4sbykpLHRoaXN9LGkuR3JhcGhpY3MucHJvdG90eXBlLmRyYXdDaXJjbGU9ZnVuY3Rpb24odCxlLHMpe3JldHVybiB0aGlzLmRyYXdTaGFwZShuZXcgaS5DaXJjbGUodCxlLHMpKSx0aGlzfSxpLkdyYXBoaWNzLnByb3RvdHlwZS5kcmF3RWxsaXBzZT1mdW5jdGlvbih0LGUscyxuKXtyZXR1cm4gdGhpcy5kcmF3U2hhcGUobmV3IGkuRWxsaXBzZSh0LGUscyxuKSksdGhpc30saS5HcmFwaGljcy5wcm90b3R5cGUuZHJhd1BvbHlnb249ZnVuY3Rpb24odCl7dCBpbnN0YW5jZW9mIGkuUG9seWdvbiYmKHQ9dC5wb2ludHMpO3ZhciBlPXQ7aWYoIUFycmF5LmlzQXJyYXkoZSkpe2U9bmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGgpO2Zvcih2YXIgcz0wO3M8ZS5sZW5ndGg7KytzKWVbc109YXJndW1lbnRzW3NdfXJldHVybiB0aGlzLmRyYXdTaGFwZShuZXcgaS5Qb2x5Z29uKGUpKSx0aGlzfSxpLkdyYXBoaWNzLnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmxpbmVXaWR0aD0wLHRoaXMuZmlsbGluZz0hMSx0aGlzLmRpcnR5PSEwLHRoaXMuX2JvdW5kc0RpcnR5PSEwLHRoaXMuY2xlYXJEaXJ0eT0hMCx0aGlzLmdyYXBoaWNzRGF0YT1bXSx0aGlzLnVwZGF0ZUxvY2FsQm91bmRzKCksdGhpc30saS5HcmFwaGljcy5wcm90b3R5cGUuZ2VuZXJhdGVUZXh0dXJlPWZ1bmN0aW9uKHQsZSxpKXt2b2lkIDA9PT10JiYodD0xKSx2b2lkIDA9PT1lJiYoZT1QSVhJLnNjYWxlTW9kZXMuREVGQVVMVCksdm9pZCAwPT09aSYmKGk9MCk7dmFyIHM9dGhpcy5nZXRCb3VuZHMoKTtzLndpZHRoKz1pLHMuaGVpZ2h0Kz1pO3ZhciBuPW5ldyBQSVhJLkNhbnZhc0J1ZmZlcihzLndpZHRoKnQscy5oZWlnaHQqdCksbz1QSVhJLlRleHR1cmUuZnJvbUNhbnZhcyhuLmNhbnZhcyxlKTtyZXR1cm4gby5iYXNlVGV4dHVyZS5yZXNvbHV0aW9uPXQsbi5jb250ZXh0LnNjYWxlKHQsdCksbi5jb250ZXh0LnRyYW5zbGF0ZSgtcy54LC1zLnkpLFBJWEkuQ2FudmFzR3JhcGhpY3MucmVuZGVyR3JhcGhpY3ModGhpcyxuLmNvbnRleHQpLG99LGkuR3JhcGhpY3MucHJvdG90eXBlLl9yZW5kZXJXZWJHTD1mdW5jdGlvbih0KXtpZighMSE9PXRoaXMudmlzaWJsZSYmMCE9PXRoaXMuYWxwaGEmJiEwIT09dGhpcy5pc01hc2spe2lmKHRoaXMuX2NhY2hlQXNCaXRtYXApcmV0dXJuKHRoaXMuZGlydHl8fHRoaXMuY2FjaGVkU3ByaXRlRGlydHkpJiYodGhpcy5fZ2VuZXJhdGVDYWNoZWRTcHJpdGUoKSx0aGlzLnVwZGF0ZUNhY2hlZFNwcml0ZVRleHR1cmUoKSx0aGlzLmNhY2hlZFNwcml0ZURpcnR5PSExLHRoaXMuZGlydHk9ITEpLHRoaXMuX2NhY2hlZFNwcml0ZS53b3JsZEFscGhhPXRoaXMud29ybGRBbHBoYSx2b2lkIFBJWEkuU3ByaXRlLnByb3RvdHlwZS5fcmVuZGVyV2ViR0wuY2FsbCh0aGlzLl9jYWNoZWRTcHJpdGUsdCk7aWYodC5zcHJpdGVCYXRjaC5zdG9wKCksdC5ibGVuZE1vZGVNYW5hZ2VyLnNldEJsZW5kTW9kZSh0aGlzLmJsZW5kTW9kZSksdGhpcy5fbWFzayYmdC5tYXNrTWFuYWdlci5wdXNoTWFzayh0aGlzLl9tYXNrLHQpLHRoaXMuX2ZpbHRlcnMmJnQuZmlsdGVyTWFuYWdlci5wdXNoRmlsdGVyKHRoaXMuX2ZpbHRlckJsb2NrKSx0aGlzLmJsZW5kTW9kZSE9PXQuc3ByaXRlQmF0Y2guY3VycmVudEJsZW5kTW9kZSl7dC5zcHJpdGVCYXRjaC5jdXJyZW50QmxlbmRNb2RlPXRoaXMuYmxlbmRNb2RlO3ZhciBlPVBJWEkuYmxlbmRNb2Rlc1dlYkdMW3Quc3ByaXRlQmF0Y2guY3VycmVudEJsZW5kTW9kZV07dC5zcHJpdGVCYXRjaC5nbC5ibGVuZEZ1bmMoZVswXSxlWzFdKX1pZih0aGlzLndlYkdMRGlydHkmJih0aGlzLmRpcnR5PSEwLHRoaXMud2ViR0xEaXJ0eT0hMSksUElYSS5XZWJHTEdyYXBoaWNzLnJlbmRlckdyYXBoaWNzKHRoaXMsdCksdGhpcy5jaGlsZHJlbi5sZW5ndGgpe3Quc3ByaXRlQmF0Y2guc3RhcnQoKTtmb3IodmFyIGk9MDtpPHRoaXMuY2hpbGRyZW4ubGVuZ3RoO2krKyl0aGlzLmNoaWxkcmVuW2ldLl9yZW5kZXJXZWJHTCh0KTt0LnNwcml0ZUJhdGNoLnN0b3AoKX10aGlzLl9maWx0ZXJzJiZ0LmZpbHRlck1hbmFnZXIucG9wRmlsdGVyKCksdGhpcy5fbWFzayYmdC5tYXNrTWFuYWdlci5wb3BNYXNrKHRoaXMubWFzayx0KSx0LmRyYXdDb3VudCsrLHQuc3ByaXRlQmF0Y2guc3RhcnQoKX19LGkuR3JhcGhpY3MucHJvdG90eXBlLl9yZW5kZXJDYW52YXM9ZnVuY3Rpb24odCl7aWYoITEhPT10aGlzLnZpc2libGUmJjAhPT10aGlzLmFscGhhJiYhMCE9PXRoaXMuaXNNYXNrKXtpZih0aGlzLl9wcmV2VGludCE9PXRoaXMudGludCYmKHRoaXMuZGlydHk9ITAsdGhpcy5fcHJldlRpbnQ9dGhpcy50aW50KSx0aGlzLl9jYWNoZUFzQml0bWFwKXJldHVybih0aGlzLmRpcnR5fHx0aGlzLmNhY2hlZFNwcml0ZURpcnR5KSYmKHRoaXMuX2dlbmVyYXRlQ2FjaGVkU3ByaXRlKCksdGhpcy51cGRhdGVDYWNoZWRTcHJpdGVUZXh0dXJlKCksdGhpcy5jYWNoZWRTcHJpdGVEaXJ0eT0hMSx0aGlzLmRpcnR5PSExKSx0aGlzLl9jYWNoZWRTcHJpdGUuYWxwaGE9dGhpcy5hbHBoYSx2b2lkIFBJWEkuU3ByaXRlLnByb3RvdHlwZS5fcmVuZGVyQ2FudmFzLmNhbGwodGhpcy5fY2FjaGVkU3ByaXRlLHQpO3ZhciBlPXQuY29udGV4dCxpPXRoaXMud29ybGRUcmFuc2Zvcm07dGhpcy5ibGVuZE1vZGUhPT10LmN1cnJlbnRCbGVuZE1vZGUmJih0LmN1cnJlbnRCbGVuZE1vZGU9dGhpcy5ibGVuZE1vZGUsZS5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb249UElYSS5ibGVuZE1vZGVzQ2FudmFzW3QuY3VycmVudEJsZW5kTW9kZV0pLHRoaXMuX21hc2smJnQubWFza01hbmFnZXIucHVzaE1hc2sodGhpcy5fbWFzayx0KTt2YXIgcz10LnJlc29sdXRpb24sbj1pLnR4KnQucmVzb2x1dGlvbit0LnNoYWtlWCxvPWkudHkqdC5yZXNvbHV0aW9uK3Quc2hha2VZO2Uuc2V0VHJhbnNmb3JtKGkuYSpzLGkuYipzLGkuYypzLGkuZCpzLG4sbyksUElYSS5DYW52YXNHcmFwaGljcy5yZW5kZXJHcmFwaGljcyh0aGlzLGUpO2Zvcih2YXIgcj0wO3I8dGhpcy5jaGlsZHJlbi5sZW5ndGg7cisrKXRoaXMuY2hpbGRyZW5bcl0uX3JlbmRlckNhbnZhcyh0KTt0aGlzLl9tYXNrJiZ0Lm1hc2tNYW5hZ2VyLnBvcE1hc2sodCl9fSxpLkdyYXBoaWNzLnByb3RvdHlwZS5nZXRCb3VuZHM9ZnVuY3Rpb24odCl7aWYodGhpcy5fY3VycmVudEJvdW5kcylyZXR1cm4gdGhpcy5fY3VycmVudEJvdW5kcztpZighdGhpcy5yZW5kZXJhYmxlKXJldHVybiBpLkVtcHR5UmVjdGFuZ2xlO3RoaXMuZGlydHkmJih0aGlzLnVwZGF0ZUxvY2FsQm91bmRzKCksdGhpcy53ZWJHTERpcnR5PSEwLHRoaXMuY2FjaGVkU3ByaXRlRGlydHk9ITAsdGhpcy5kaXJ0eT0hMSk7dmFyIGU9dGhpcy5fbG9jYWxCb3VuZHMscz1lLngsbj1lLndpZHRoK2UueCxvPWUueSxyPWUuaGVpZ2h0K2UueSxhPXR8fHRoaXMud29ybGRUcmFuc2Zvcm0saD1hLmEsbD1hLmIsYz1hLmMsdT1hLmQsZD1hLnR4LHA9YS50eSxmPWgqbitjKnIrZCxtPXUqcitsKm4rcCxnPWgqcytjKnIrZCx5PXUqcitsKnMrcCx2PWgqcytjKm8rZCx4PXUqbytsKnMrcCxiPWgqbitjKm8rZCxfPXUqbytsKm4rcCx3PWYsVD1tLFA9ZixDPW07cmV0dXJuIFA9ZzxQP2c6UCxQPXY8UD92OlAsUD1iPFA/YjpQLEM9eTxDP3k6QyxDPXg8Qz94OkMsQz1fPEM/XzpDLHc9Zz53P2c6dyx3PXY+dz92Oncsdz1iPnc/Yjp3LFQ9eT5UP3k6VCxUPXg+VD94OlQsVD1fPlQ/XzpULHRoaXMuX2JvdW5kcy54PVAsdGhpcy5fYm91bmRzLndpZHRoPXctUCx0aGlzLl9ib3VuZHMueT1DLHRoaXMuX2JvdW5kcy5oZWlnaHQ9VC1DLHRoaXMuX2N1cnJlbnRCb3VuZHM9dGhpcy5fYm91bmRzLHRoaXMuX2N1cnJlbnRCb3VuZHN9LGkuR3JhcGhpY3MucHJvdG90eXBlLmdldExvY2FsQm91bmRzPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy53b3JsZFRyYW5zZm9ybTt0aGlzLndvcmxkVHJhbnNmb3JtPWkuaWRlbnRpdHlNYXRyaXg7Zm9yKHZhciBlPTA7ZTx0aGlzLmNoaWxkcmVuLmxlbmd0aDtlKyspdGhpcy5jaGlsZHJlbltlXS51cGRhdGVUcmFuc2Zvcm0oKTt2YXIgcz10aGlzLmdldEJvdW5kcygpO2Zvcih0aGlzLndvcmxkVHJhbnNmb3JtPXQsZT0wO2U8dGhpcy5jaGlsZHJlbi5sZW5ndGg7ZSsrKXRoaXMuY2hpbGRyZW5bZV0udXBkYXRlVHJhbnNmb3JtKCk7cmV0dXJuIHN9LGkuR3JhcGhpY3MucHJvdG90eXBlLmNvbnRhaW5zUG9pbnQ9ZnVuY3Rpb24odCxlKXt2b2lkIDA9PT1lJiYoZT1uZXcgaS5Qb2ludCksdGhpcy53b3JsZFRyYW5zZm9ybS5hcHBseUludmVyc2UodCxlKTtmb3IodmFyIHM9dGhpcy5ncmFwaGljc0RhdGEsbj0wO248cy5sZW5ndGg7bisrKXt2YXIgbz1zW25dO2lmKG8uZmlsbCYmKG8uc2hhcGUmJm8uc2hhcGUuY29udGFpbnMoZS54LGUueSkpKXJldHVybiEwfXJldHVybiExfSxpLkdyYXBoaWNzLnByb3RvdHlwZS51cGRhdGVMb2NhbEJvdW5kcz1mdW5jdGlvbigpe3ZhciB0PTEvMCxlPS0xLzAscz0xLzAsbj0tMS8wO2lmKHRoaXMuZ3JhcGhpY3NEYXRhLmxlbmd0aClmb3IodmFyIG8scixhLGgsbCxjLHU9MDt1PHRoaXMuZ3JhcGhpY3NEYXRhLmxlbmd0aDt1Kyspe3ZhciBkPXRoaXMuZ3JhcGhpY3NEYXRhW3VdLHA9ZC50eXBlLGY9ZC5saW5lV2lkdGg7aWYobz1kLnNoYXBlLHA9PT1pLlJFQ1RBTkdMRXx8cD09PWkuUk9VTkRFRFJFQ1RBTkdMRSlhPW8ueC1mLzIsaD1vLnktZi8yLGw9by53aWR0aCtmLGM9by5oZWlnaHQrZix0PWE8dD9hOnQsZT1hK2w+ZT9hK2w6ZSxzPWg8cz9oOnMsbj1oK2M+bj9oK2M6bjtlbHNlIGlmKHA9PT1pLkNJUkNMRSlhPW8ueCxoPW8ueSxsPW8ucmFkaXVzK2YvMixjPW8ucmFkaXVzK2YvMix0PWEtbDx0P2EtbDp0LGU9YStsPmU/YStsOmUscz1oLWM8cz9oLWM6cyxuPWgrYz5uP2grYzpuO2Vsc2UgaWYocD09PWkuRUxMSVBTRSlhPW8ueCxoPW8ueSxsPW8ud2lkdGgrZi8yLGM9by5oZWlnaHQrZi8yLHQ9YS1sPHQ/YS1sOnQsZT1hK2w+ZT9hK2w6ZSxzPWgtYzxzP2gtYzpzLG49aCtjPm4/aCtjOm47ZWxzZXtyPW8ucG9pbnRzO2Zvcih2YXIgbT0wO208ci5sZW5ndGg7bSsrKXJbbV1pbnN0YW5jZW9mIGkuUG9pbnQ/KGE9clttXS54LGg9clttXS55KTooYT1yW21dLGg9clttKzFdLG08ci5sZW5ndGgtMSYmbSsrKSx0PWEtZjx0P2EtZjp0LGU9YStmPmU/YStmOmUscz1oLWY8cz9oLWY6cyxuPWgrZj5uP2grZjpufX1lbHNlIHQ9MCxlPTAscz0wLG49MDt2YXIgZz10aGlzLmJvdW5kc1BhZGRpbmc7dGhpcy5fbG9jYWxCb3VuZHMueD10LWcsdGhpcy5fbG9jYWxCb3VuZHMud2lkdGg9ZS10KzIqZyx0aGlzLl9sb2NhbEJvdW5kcy55PXMtZyx0aGlzLl9sb2NhbEJvdW5kcy5oZWlnaHQ9bi1zKzIqZ30saS5HcmFwaGljcy5wcm90b3R5cGUuX2dlbmVyYXRlQ2FjaGVkU3ByaXRlPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nZXRMb2NhbEJvdW5kcygpO2lmKHRoaXMuX2NhY2hlZFNwcml0ZSl0aGlzLl9jYWNoZWRTcHJpdGUuYnVmZmVyLnJlc2l6ZSh0LndpZHRoLHQuaGVpZ2h0KTtlbHNle3ZhciBlPW5ldyBQSVhJLkNhbnZhc0J1ZmZlcih0LndpZHRoLHQuaGVpZ2h0KSxpPVBJWEkuVGV4dHVyZS5mcm9tQ2FudmFzKGUuY2FudmFzKTt0aGlzLl9jYWNoZWRTcHJpdGU9bmV3IFBJWEkuU3ByaXRlKGkpLHRoaXMuX2NhY2hlZFNwcml0ZS5idWZmZXI9ZSx0aGlzLl9jYWNoZWRTcHJpdGUud29ybGRUcmFuc2Zvcm09dGhpcy53b3JsZFRyYW5zZm9ybX10aGlzLl9jYWNoZWRTcHJpdGUuYW5jaG9yLng9LXQueC90LndpZHRoLHRoaXMuX2NhY2hlZFNwcml0ZS5hbmNob3IueT0tdC55L3QuaGVpZ2h0LHRoaXMuX2NhY2hlZFNwcml0ZS5idWZmZXIuY29udGV4dC50cmFuc2xhdGUoLXQueCwtdC55KSx0aGlzLndvcmxkQWxwaGE9MSxQSVhJLkNhbnZhc0dyYXBoaWNzLnJlbmRlckdyYXBoaWNzKHRoaXMsdGhpcy5fY2FjaGVkU3ByaXRlLmJ1ZmZlci5jb250ZXh0KSx0aGlzLl9jYWNoZWRTcHJpdGUuYWxwaGE9dGhpcy5hbHBoYX0saS5HcmFwaGljcy5wcm90b3R5cGUudXBkYXRlQ2FjaGVkU3ByaXRlVGV4dHVyZT1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX2NhY2hlZFNwcml0ZSxlPXQudGV4dHVyZSxpPXQuYnVmZmVyLmNhbnZhcztlLmJhc2VUZXh0dXJlLndpZHRoPWkud2lkdGgsZS5iYXNlVGV4dHVyZS5oZWlnaHQ9aS5oZWlnaHQsZS5jcm9wLndpZHRoPWUuZnJhbWUud2lkdGg9aS53aWR0aCxlLmNyb3AuaGVpZ2h0PWUuZnJhbWUuaGVpZ2h0PWkuaGVpZ2h0LHQuX3dpZHRoPWkud2lkdGgsdC5faGVpZ2h0PWkuaGVpZ2h0LGUuYmFzZVRleHR1cmUuZGlydHkoKX0saS5HcmFwaGljcy5wcm90b3R5cGUuZGVzdHJveUNhY2hlZFNwcml0ZT1mdW5jdGlvbigpe3RoaXMuX2NhY2hlZFNwcml0ZS50ZXh0dXJlLmRlc3Ryb3koITApLHRoaXMuX2NhY2hlZFNwcml0ZT1udWxsfSxpLkdyYXBoaWNzLnByb3RvdHlwZS5kcmF3U2hhcGU9ZnVuY3Rpb24odCl7dGhpcy5jdXJyZW50UGF0aCYmdGhpcy5jdXJyZW50UGF0aC5zaGFwZS5wb2ludHMubGVuZ3RoPD0yJiZ0aGlzLmdyYXBoaWNzRGF0YS5wb3AoKSx0aGlzLmN1cnJlbnRQYXRoPW51bGwsdCBpbnN0YW5jZW9mIGkuUG9seWdvbiYmKHQ9dC5jbG9uZSgpKS5mbGF0dGVuKCk7dmFyIGU9bmV3IGkuR3JhcGhpY3NEYXRhKHRoaXMubGluZVdpZHRoLHRoaXMubGluZUNvbG9yLHRoaXMubGluZUFscGhhLHRoaXMuZmlsbENvbG9yLHRoaXMuZmlsbEFscGhhLHRoaXMuZmlsbGluZyx0KTtyZXR1cm4gdGhpcy5ncmFwaGljc0RhdGEucHVzaChlKSxlLnR5cGU9PT1pLlBPTFlHT04mJihlLnNoYXBlLmNsb3NlZD10aGlzLmZpbGxpbmcsdGhpcy5jdXJyZW50UGF0aD1lKSx0aGlzLmRpcnR5PSEwLHRoaXMuX2JvdW5kc0RpcnR5PSEwLGV9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLkdyYXBoaWNzLnByb3RvdHlwZSxcImNhY2hlQXNCaXRtYXBcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NhY2hlQXNCaXRtYXB9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9jYWNoZUFzQml0bWFwPXQsdGhpcy5fY2FjaGVBc0JpdG1hcD90aGlzLl9nZW5lcmF0ZUNhY2hlZFNwcml0ZSgpOnRoaXMuZGVzdHJveUNhY2hlZFNwcml0ZSgpLHRoaXMuZGlydHk9ITAsdGhpcy53ZWJHTERpcnR5PSEwfX0pLGkuUmVuZGVyVGV4dHVyZT1mdW5jdGlvbih0LGUscyxuLG8scixhLGgpe2lmKHZvaWQgMD09PWUmJihlPTEwMCksdm9pZCAwPT09cyYmKHM9MTAwKSx2b2lkIDA9PT1uJiYobj1cIlwiKSx2b2lkIDA9PT1vJiYobz1pLnNjYWxlTW9kZXMuREVGQVVMVCksdm9pZCAwPT09ciYmKHI9MSksdm9pZCAwPT09YSYmKGE9UElYSS5kZWZhdWx0UmVuZGVyZXIpLHZvaWQgMD09PWgmJihoPTApLHRoaXMuZ2FtZT10LHRoaXMua2V5PW4sdGhpcy50eXBlPWkuUkVOREVSVEVYVFVSRSx0aGlzLl90ZW1wTWF0cml4PW5ldyBpLk1hdHJpeCx0aGlzLndpZHRoPWUsdGhpcy5oZWlnaHQ9cyx0aGlzLnJlc29sdXRpb249cix0aGlzLmZyYW1lPW5ldyBpLlJlY3RhbmdsZSgwLDAsdGhpcy53aWR0aCp0aGlzLnJlc29sdXRpb24sdGhpcy5oZWlnaHQqdGhpcy5yZXNvbHV0aW9uKSx0aGlzLmNyb3A9dGhpcy5mcmFtZS5jbG9uZSgpLHRoaXMuYmFzZVRleHR1cmU9bmV3IFBJWEkuQmFzZVRleHR1cmUsdGhpcy5iYXNlVGV4dHVyZS53aWR0aD10aGlzLndpZHRoKnRoaXMucmVzb2x1dGlvbix0aGlzLmJhc2VUZXh0dXJlLmhlaWdodD10aGlzLmhlaWdodCp0aGlzLnJlc29sdXRpb24sdGhpcy5iYXNlVGV4dHVyZS5fZ2xUZXh0dXJlcz1bXSx0aGlzLmJhc2VUZXh0dXJlLnJlc29sdXRpb249dGhpcy5yZXNvbHV0aW9uLHRoaXMuYmFzZVRleHR1cmUuc2NhbGVNb2RlPW8sdGhpcy5iYXNlVGV4dHVyZS5oYXNMb2FkZWQ9ITAsUElYSS5UZXh0dXJlLmNhbGwodGhpcyx0aGlzLmJhc2VUZXh0dXJlLHRoaXMuZnJhbWUuY2xvbmUoKSksdGhpcy5yZW5kZXJlcj1hLHRoaXMucmVuZGVyZXIudHlwZT09PWkuV0VCR0wpe3ZhciBsPXRoaXMucmVuZGVyZXIuZ2w7dGhpcy5iYXNlVGV4dHVyZS50ZXh0dXJlSW5kZXg9aCx0aGlzLmJhc2VUZXh0dXJlLl9kaXJ0eVtsLmlkXT0hMSx0aGlzLnRleHR1cmVCdWZmZXI9bmV3IFBJWEkuRmlsdGVyVGV4dHVyZShsLHRoaXMud2lkdGgsdGhpcy5oZWlnaHQsdGhpcy5iYXNlVGV4dHVyZS5zY2FsZU1vZGUsaCksdGhpcy5iYXNlVGV4dHVyZS5fZ2xUZXh0dXJlc1tsLmlkXT10aGlzLnRleHR1cmVCdWZmZXIudGV4dHVyZSx0aGlzLnByb2plY3Rpb249bmV3IGkuUG9pbnQoLjUqdGhpcy53aWR0aCwuNSotdGhpcy5oZWlnaHQpfWVsc2UgdGhpcy50ZXh0dXJlQnVmZmVyPW5ldyBQSVhJLkNhbnZhc0J1ZmZlcih0aGlzLndpZHRoKnRoaXMucmVzb2x1dGlvbix0aGlzLmhlaWdodCp0aGlzLnJlc29sdXRpb24pLHRoaXMuYmFzZVRleHR1cmUuc291cmNlPXRoaXMudGV4dHVyZUJ1ZmZlci5jYW52YXM7dGhpcy52YWxpZD0hMCx0aGlzLnRlbXBNYXRyaXg9bmV3IGkuTWF0cml4LHRoaXMuX3VwZGF0ZVV2cygpfSxpLlJlbmRlclRleHR1cmUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoUElYSS5UZXh0dXJlLnByb3RvdHlwZSksaS5SZW5kZXJUZXh0dXJlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1pLlJlbmRlclRleHR1cmUsaS5SZW5kZXJUZXh0dXJlLnByb3RvdHlwZS5yZW5kZXJYWT1mdW5jdGlvbih0LGUscyxuKXt0LnVwZGF0ZVRyYW5zZm9ybSgpLHRoaXMuX3RlbXBNYXRyaXguY29weUZyb20odC53b3JsZFRyYW5zZm9ybSksdGhpcy5fdGVtcE1hdHJpeC50eD1lLHRoaXMuX3RlbXBNYXRyaXgudHk9cyx0aGlzLnJlbmRlcmVyLnR5cGU9PT1pLldFQkdMP3RoaXMuX3JlbmRlcldlYkdMKHQsdGhpcy5fdGVtcE1hdHJpeCxuKTp0aGlzLl9yZW5kZXJDYW52YXModCx0aGlzLl90ZW1wTWF0cml4LG4pfSxpLlJlbmRlclRleHR1cmUucHJvdG90eXBlLnJlbmRlclJhd1hZPWZ1bmN0aW9uKHQsZSxzLG4pe3RoaXMuX3RlbXBNYXRyaXguaWRlbnRpdHkoKS50cmFuc2xhdGUoZSxzKSx0aGlzLnJlbmRlcmVyLnR5cGU9PT1pLldFQkdMP3RoaXMuX3JlbmRlcldlYkdMKHQsdGhpcy5fdGVtcE1hdHJpeCxuKTp0aGlzLl9yZW5kZXJDYW52YXModCx0aGlzLl90ZW1wTWF0cml4LG4pfSxpLlJlbmRlclRleHR1cmUucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbih0LGUscyl7dm9pZCAwPT09ZXx8bnVsbD09PWU/dGhpcy5fdGVtcE1hdHJpeC5jb3B5RnJvbSh0LndvcmxkVHJhbnNmb3JtKTp0aGlzLl90ZW1wTWF0cml4LmNvcHlGcm9tKGUpLHRoaXMucmVuZGVyZXIudHlwZT09PWkuV0VCR0w/dGhpcy5fcmVuZGVyV2ViR0wodCx0aGlzLl90ZW1wTWF0cml4LHMpOnRoaXMuX3JlbmRlckNhbnZhcyh0LHRoaXMuX3RlbXBNYXRyaXgscyl9LGkuUmVuZGVyVGV4dHVyZS5wcm90b3R5cGUucmVzaXplPWZ1bmN0aW9uKHQsZSxzKXt0PT09dGhpcy53aWR0aCYmZT09PXRoaXMuaGVpZ2h0fHwodGhpcy52YWxpZD10PjAmJmU+MCx0aGlzLndpZHRoPXQsdGhpcy5oZWlnaHQ9ZSx0aGlzLmZyYW1lLndpZHRoPXRoaXMuY3JvcC53aWR0aD10KnRoaXMucmVzb2x1dGlvbix0aGlzLmZyYW1lLmhlaWdodD10aGlzLmNyb3AuaGVpZ2h0PWUqdGhpcy5yZXNvbHV0aW9uLHMmJih0aGlzLmJhc2VUZXh0dXJlLndpZHRoPXRoaXMud2lkdGgqdGhpcy5yZXNvbHV0aW9uLHRoaXMuYmFzZVRleHR1cmUuaGVpZ2h0PXRoaXMuaGVpZ2h0KnRoaXMucmVzb2x1dGlvbiksdGhpcy5yZW5kZXJlci50eXBlPT09aS5XRUJHTCYmKHRoaXMucHJvamVjdGlvbi54PXRoaXMud2lkdGgvMix0aGlzLnByb2plY3Rpb24ueT0tdGhpcy5oZWlnaHQvMiksdGhpcy52YWxpZCYmdGhpcy50ZXh0dXJlQnVmZmVyLnJlc2l6ZSh0aGlzLndpZHRoLHRoaXMuaGVpZ2h0KSl9LGkuUmVuZGVyVGV4dHVyZS5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXt0aGlzLnZhbGlkJiYodGhpcy5yZW5kZXJlci50eXBlPT09aS5XRUJHTCYmdGhpcy5yZW5kZXJlci5nbC5iaW5kRnJhbWVidWZmZXIodGhpcy5yZW5kZXJlci5nbC5GUkFNRUJVRkZFUix0aGlzLnRleHR1cmVCdWZmZXIuZnJhbWVCdWZmZXIpLHRoaXMudGV4dHVyZUJ1ZmZlci5jbGVhcigpKX0saS5SZW5kZXJUZXh0dXJlLnByb3RvdHlwZS5fcmVuZGVyV2ViR0w9ZnVuY3Rpb24odCxlLGkpe2lmKHRoaXMudmFsaWQmJjAhPT10LmFscGhhKXt2YXIgcz10LndvcmxkVHJhbnNmb3JtO3MuaWRlbnRpdHkoKSxzLnRyYW5zbGF0ZSgwLDIqdGhpcy5wcm9qZWN0aW9uLnkpLGUmJnMuYXBwZW5kKGUpLHMuc2NhbGUoMSwtMSk7Zm9yKHZhciBuPTA7bjx0LmNoaWxkcmVuLmxlbmd0aDtuKyspdC5jaGlsZHJlbltuXS51cGRhdGVUcmFuc2Zvcm0oKTt2YXIgbz10aGlzLnJlbmRlcmVyLmdsO28udmlld3BvcnQoMCwwLHRoaXMud2lkdGgqdGhpcy5yZXNvbHV0aW9uLHRoaXMuaGVpZ2h0KnRoaXMucmVzb2x1dGlvbiksby5iaW5kRnJhbWVidWZmZXIoby5GUkFNRUJVRkZFUix0aGlzLnRleHR1cmVCdWZmZXIuZnJhbWVCdWZmZXIpLGkmJnRoaXMudGV4dHVyZUJ1ZmZlci5jbGVhcigpLHRoaXMucmVuZGVyZXIuc3ByaXRlQmF0Y2guZGlydHk9ITAsdGhpcy5yZW5kZXJlci5yZW5kZXJEaXNwbGF5T2JqZWN0KHQsdGhpcy5wcm9qZWN0aW9uLHRoaXMudGV4dHVyZUJ1ZmZlci5mcmFtZUJ1ZmZlcixlKSx0aGlzLnJlbmRlcmVyLnNwcml0ZUJhdGNoLmRpcnR5PSEwLG8uYmluZEZyYW1lYnVmZmVyKG8uRlJBTUVCVUZGRVIsbnVsbCl9fSxpLlJlbmRlclRleHR1cmUucHJvdG90eXBlLl9yZW5kZXJDYW52YXM9ZnVuY3Rpb24odCxlLGkpe2lmKHRoaXMudmFsaWQmJjAhPT10LmFscGhhKXt2YXIgcz10LndvcmxkVHJhbnNmb3JtO3MuaWRlbnRpdHkoKSxlJiZzLmFwcGVuZChlKTtmb3IodmFyIG49MDtuPHQuY2hpbGRyZW4ubGVuZ3RoO24rKyl0LmNoaWxkcmVuW25dLnVwZGF0ZVRyYW5zZm9ybSgpO2kmJnRoaXMudGV4dHVyZUJ1ZmZlci5jbGVhcigpO3ZhciBvPXRoaXMucmVuZGVyZXIucmVzb2x1dGlvbjt0aGlzLnJlbmRlcmVyLnJlc29sdXRpb249dGhpcy5yZXNvbHV0aW9uLHRoaXMucmVuZGVyZXIucmVuZGVyRGlzcGxheU9iamVjdCh0LHRoaXMudGV4dHVyZUJ1ZmZlci5jb250ZXh0LGUpLHRoaXMucmVuZGVyZXIucmVzb2x1dGlvbj1vfX0saS5SZW5kZXJUZXh0dXJlLnByb3RvdHlwZS5nZXRJbWFnZT1mdW5jdGlvbigpe3ZhciB0PW5ldyBJbWFnZTtyZXR1cm4gdC5zcmM9dGhpcy5nZXRCYXNlNjQoKSx0fSxpLlJlbmRlclRleHR1cmUucHJvdG90eXBlLmdldEJhc2U2ND1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldENhbnZhcygpLnRvRGF0YVVSTCgpfSxpLlJlbmRlclRleHR1cmUucHJvdG90eXBlLmdldENhbnZhcz1mdW5jdGlvbigpe2lmKHRoaXMucmVuZGVyZXIudHlwZT09PWkuV0VCR0wpe3ZhciB0PXRoaXMucmVuZGVyZXIuZ2wsZT10aGlzLnRleHR1cmVCdWZmZXIud2lkdGgscz10aGlzLnRleHR1cmVCdWZmZXIuaGVpZ2h0LG49bmV3IFVpbnQ4QXJyYXkoNCplKnMpO3QuYmluZEZyYW1lYnVmZmVyKHQuRlJBTUVCVUZGRVIsdGhpcy50ZXh0dXJlQnVmZmVyLmZyYW1lQnVmZmVyKSx0LnJlYWRQaXhlbHMoMCwwLGUscyx0LlJHQkEsdC5VTlNJR05FRF9CWVRFLG4pLHQuYmluZEZyYW1lYnVmZmVyKHQuRlJBTUVCVUZGRVIsbnVsbCk7dmFyIG89bmV3IFBJWEkuQ2FudmFzQnVmZmVyKGUscykscj1vLmNvbnRleHQuZ2V0SW1hZ2VEYXRhKDAsMCxlLHMpO3JldHVybiByLmRhdGEuc2V0KG4pLG8uY29udGV4dC5wdXRJbWFnZURhdGEociwwLDApLG8uY2FudmFzfXJldHVybiB0aGlzLnRleHR1cmVCdWZmZXIuY2FudmFzfSxpLlRleHQ9ZnVuY3Rpb24odCxlLHMsbixvKXtlPWV8fDAscz1zfHwwLG49dm9pZCAwPT09bnx8bnVsbD09PW4/XCJcIjpuLnRvU3RyaW5nKCksdGhpcy50eXBlPWkuVEVYVCx0aGlzLnBoeXNpY3NUeXBlPWkuU1BSSVRFLHRoaXMucGFkZGluZz1uZXcgaS5Qb2ludCx0aGlzLnRleHRCb3VuZHM9bnVsbCx0aGlzLmNhbnZhcz1pLkNhbnZhc1Bvb2wuY3JlYXRlKHRoaXMpLHRoaXMuY29udGV4dD10aGlzLmNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIiksdGhpcy5jb2xvcnM9W10sdGhpcy5zdHJva2VDb2xvcnM9W10sdGhpcy5mb250U3R5bGVzPVtdLHRoaXMuZm9udFdlaWdodHM9W10sdGhpcy5hdXRvUm91bmQ9ITEsdGhpcy51c2VBZHZhbmNlZFdyYXA9ITEsdGhpcy5zcGxpdFJlZ0V4cD0vKD86XFxyXFxufFxccnxcXG4pLyx0aGlzLmNoYXJhY3RlckxpbWl0U2l6ZT0tMSx0aGlzLmNoYXJhY3RlckxpbWl0U3VmZml4PVwiXCIsdGhpcy5fcmVzPXQucmVuZGVyZXIucmVzb2x1dGlvbix0aGlzLl90ZXh0PW4sdGhpcy5fZm9udENvbXBvbmVudHM9bnVsbCx0aGlzLl9saW5lU3BhY2luZz0wLHRoaXMuX2NoYXJDb3VudD0wLHRoaXMuX3dpZHRoPTAsdGhpcy5faGVpZ2h0PTAsaS5TcHJpdGUuY2FsbCh0aGlzLHQsZSxzLFBJWEkuVGV4dHVyZS5mcm9tQ2FudmFzKHRoaXMuY2FudmFzKSksdGhpcy5zdHlsZT17fSx0aGlzLnNldFN0eWxlKG98fHt9KSxcIlwiIT09biYmdGhpcy51cGRhdGVUZXh0KCl9LGkuVGV4dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShpLlNwcml0ZS5wcm90b3R5cGUpLGkuVGV4dC5wcm90b3R5cGUuY29uc3RydWN0b3I9aS5UZXh0LGkuVGV4dC5wcm90b3R5cGUucHJlVXBkYXRlPWZ1bmN0aW9uKCl7cmV0dXJuISEodGhpcy5wcmVVcGRhdGVQaHlzaWNzKCkmJnRoaXMucHJlVXBkYXRlTGlmZVNwYW4oKSYmdGhpcy5wcmVVcGRhdGVJbldvcmxkKCkpJiZ0aGlzLnByZVVwZGF0ZUNvcmUoKX0saS5UZXh0LnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24oKXt9LGkuVGV4dC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbih0KXt0aGlzLnRleHR1cmUuZGVzdHJveSghMCksaS5Db21wb25lbnQuRGVzdHJveS5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMsdCl9LGkuVGV4dC5wcm90b3R5cGUuc2V0U2hhZG93PWZ1bmN0aW9uKHQsZSxpLHMsbixvKXtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9MCksdm9pZCAwPT09ZSYmKGU9MCksdm9pZCAwPT09aSYmKGk9XCJyZ2JhKDAsIDAsIDAsIDEpXCIpLHZvaWQgMD09PXMmJihzPTApLHZvaWQgMD09PW4mJihuPSEwKSx2b2lkIDA9PT1vJiYobz0hMCksdGhpcy5zdHlsZS5zaGFkb3dPZmZzZXRYPXQsdGhpcy5zdHlsZS5zaGFkb3dPZmZzZXRZPWUsdGhpcy5zdHlsZS5zaGFkb3dDb2xvcj1pLHRoaXMuc3R5bGUuc2hhZG93Qmx1cj1zLHRoaXMuc3R5bGUuc2hhZG93U3Ryb2tlPW4sdGhpcy5zdHlsZS5zaGFkb3dGaWxsPW8sdGhpcy5kaXJ0eT0hMCx0aGlzfSxpLlRleHQucHJvdG90eXBlLnNldFN0eWxlPWZ1bmN0aW9uKHQsZSl7dm9pZCAwPT09ZSYmKGU9ITEpO3ZhciBpPU9iamVjdC5hc3NpZ24oe30sdCk7aS5mb250PXQuZm9udHx8XCJib2xkIDIwcHQgQXJpYWxcIixpLmJhY2tncm91bmRDb2xvcj10LmJhY2tncm91bmRDb2xvcnx8bnVsbCxpLmZpbGw9dC5maWxsfHxcImJsYWNrXCIsaS5hbGlnbj0odC5hbGlnbnx8XCJsZWZ0XCIpLnRvTG93ZXJDYXNlKCksaS5ib3VuZHNBbGlnbkg9KHQuYm91bmRzQWxpZ25IfHxcImxlZnRcIikudG9Mb3dlckNhc2UoKSxpLmJvdW5kc0FsaWduVj0odC5ib3VuZHNBbGlnblZ8fFwidG9wXCIpLnRvTG93ZXJDYXNlKCksaS5zdHJva2U9dC5zdHJva2V8fFwiYmxhY2tcIixpLnN0cm9rZVRoaWNrbmVzcz1OdW1iZXIodC5zdHJva2VUaGlja25lc3MpfHwwLGkud29yZFdyYXA9dC53b3JkV3JhcHx8ITEsaS53b3JkV3JhcFdpZHRoPXQud29yZFdyYXBXaWR0aHx8MTAwLGkubWF4TGluZXM9dC5tYXhMaW5lc3x8MCxpLnNoYWRvd09mZnNldFg9dC5zaGFkb3dPZmZzZXRYfHwwLGkuc2hhZG93T2Zmc2V0WT10LnNoYWRvd09mZnNldFl8fDAsaS5zaGFkb3dDb2xvcj10LnNoYWRvd0NvbG9yfHxcInJnYmEoMCwwLDAsMClcIixpLnNoYWRvd0JsdXI9dC5zaGFkb3dCbHVyfHwwLGkudGFicz10LnRhYnN8fDA7dmFyIHM9dGhpcy5mb250VG9Db21wb25lbnRzKGkuZm9udCk7cmV0dXJuIGkuZm9udFN0eWxlJiYocy5mb250U3R5bGU9aS5mb250U3R5bGUpLGkuZm9udFZhcmlhbnQmJihzLmZvbnRWYXJpYW50PWkuZm9udFZhcmlhbnQpLGkuZm9udFdlaWdodCYmKHMuZm9udFdlaWdodD1pLmZvbnRXZWlnaHQpLGkuZm9udFNpemUmJihcIm51bWJlclwiPT10eXBlb2YgaS5mb250U2l6ZSYmKGkuZm9udFNpemU9aS5mb250U2l6ZStcInB4XCIpLHMuZm9udFNpemU9aS5mb250U2l6ZSksdGhpcy5fZm9udENvbXBvbmVudHM9cyxpLmZvbnQ9dGhpcy5jb21wb25lbnRzVG9Gb250KHRoaXMuX2ZvbnRDb21wb25lbnRzKSx0aGlzLnN0eWxlPWksdGhpcy5kaXJ0eT0hMCxlJiZ0aGlzLnVwZGF0ZVRleHQoKSx0aGlzfSxpLlRleHQucHJvdG90eXBlLnVwZGF0ZVRleHQ9ZnVuY3Rpb24oKXt0aGlzLnRleHR1cmUuYmFzZVRleHR1cmUucmVzb2x1dGlvbj10aGlzLl9yZXMsdGhpcy5jb250ZXh0LmZvbnQ9dGhpcy5zdHlsZS5mb250O3ZhciB0PXRoaXMudGV4dDt0aGlzLmNoYXJhY3RlckxpbWl0U2l6ZT4tMSYmdGhpcy5jaGFyYWN0ZXJMaW1pdFNpemU8dC5sZW5ndGgmJih0PXRoaXMudGV4dC5zdWJzdHJpbmcoMCx0aGlzLmNoYXJhY3RlckxpbWl0U2l6ZSkrdGhpcy5jaGFyYWN0ZXJMaW1pdFN1ZmZpeCksdGhpcy5zdHlsZS53b3JkV3JhcCYmKHQ9dGhpcy5ydW5Xb3JkV3JhcCh0aGlzLnRleHQpKTt2YXIgZT10LnNwbGl0KHRoaXMuc3BsaXRSZWdFeHApLGk9dGhpcy5zdHlsZS50YWJzLHM9W10sbj0wLG89dGhpcy5kZXRlcm1pbmVGb250UHJvcGVydGllcyh0aGlzLnN0eWxlLmZvbnQpLHI9ZS5sZW5ndGg7dGhpcy5zdHlsZS5tYXhMaW5lcz4wJiZ0aGlzLnN0eWxlLm1heExpbmVzPGUubGVuZ3RoJiYocj10aGlzLnN0eWxlLm1heExpbmVzKSx0aGlzLl9jaGFyQ291bnQ9MDtmb3IodmFyIGE9MDthPHI7YSsrKXtpZigwPT09aSl7bD10aGlzLnN0eWxlLnN0cm9rZVRoaWNrbmVzcyt0aGlzLnBhZGRpbmcueDt0aGlzLmNvbG9ycy5sZW5ndGg+MHx8dGhpcy5zdHJva2VDb2xvcnMubGVuZ3RoPjB8fHRoaXMuZm9udFdlaWdodHMubGVuZ3RoPjB8fHRoaXMuZm9udFN0eWxlcy5sZW5ndGg+MD9sKz10aGlzLm1lYXN1cmVMaW5lKGVbYV0pOmwrPXRoaXMuY29udGV4dC5tZWFzdXJlVGV4dChlW2FdKS53aWR0aCx0aGlzLnN0eWxlLndvcmRXcmFwJiYobC09dGhpcy5jb250ZXh0Lm1lYXN1cmVUZXh0KFwiIFwiKS53aWR0aCl9ZWxzZXt2YXIgaD1lW2FdLnNwbGl0KC8oPzpcXHQpLyksbD10aGlzLnBhZGRpbmcueCt0aGlzLnN0eWxlLnN0cm9rZVRoaWNrbmVzcztpZihBcnJheS5pc0FycmF5KGkpKWZvcih2YXIgYz0wLHU9MDt1PGgubGVuZ3RoO3UrKyl7dmFyIGQ9MDtkPXRoaXMuY29sb3JzLmxlbmd0aD4wfHx0aGlzLnN0cm9rZUNvbG9ycy5sZW5ndGg+MHx8dGhpcy5mb250V2VpZ2h0cy5sZW5ndGg+MHx8dGhpcy5mb250U3R5bGVzLmxlbmd0aD4wP3RoaXMubWVhc3VyZUxpbmUoaFt1XSk6TWF0aC5jZWlsKHRoaXMuY29udGV4dC5tZWFzdXJlVGV4dChoW3VdKS53aWR0aCksdT4wJiYoYys9aVt1LTFdKSxsPWMrZH1lbHNlIGZvcih1PTA7dTxoLmxlbmd0aDt1KyspdGhpcy5jb2xvcnMubGVuZ3RoPjB8fHRoaXMuc3Ryb2tlQ29sb3JzLmxlbmd0aD4wfHx0aGlzLmZvbnRXZWlnaHRzLmxlbmd0aD4wfHx0aGlzLmZvbnRTdHlsZXMubGVuZ3RoPjA/bCs9dGhpcy5tZWFzdXJlTGluZShoW3VdKTpsKz1NYXRoLmNlaWwodGhpcy5jb250ZXh0Lm1lYXN1cmVUZXh0KGhbdV0pLndpZHRoKSxsKz10aGlzLmdhbWUubWF0aC5zbmFwVG9DZWlsKGwsaSktbH1zW2FdPU1hdGguY2VpbChsKSxuPU1hdGgubWF4KG4sc1thXSl9dGhpcy5jYW52YXMud2lkdGg9bip0aGlzLl9yZXM7dmFyIHA9by5mb250U2l6ZSt0aGlzLnN0eWxlLnN0cm9rZVRoaWNrbmVzcyt0aGlzLnBhZGRpbmcueSxmPXAqcixtPXRoaXMuX2xpbmVTcGFjaW5nO208MCYmTWF0aC5hYnMobSk+cCYmKG09LXApLDAhPT1tJiYoZis9bT4wP20qZS5sZW5ndGg6bSooZS5sZW5ndGgtMSkpLHRoaXMuY2FudmFzLmhlaWdodD1mKnRoaXMuX3Jlcyx0aGlzLmNvbnRleHQuc2NhbGUodGhpcy5fcmVzLHRoaXMuX3JlcyksbmF2aWdhdG9yLmlzQ29jb29uSlMmJnRoaXMuY29udGV4dC5jbGVhclJlY3QoMCwwLHRoaXMuY2FudmFzLndpZHRoLHRoaXMuY2FudmFzLmhlaWdodCksdGhpcy5zdHlsZS5iYWNrZ3JvdW5kQ29sb3ImJih0aGlzLmNvbnRleHQuZmlsbFN0eWxlPXRoaXMuc3R5bGUuYmFja2dyb3VuZENvbG9yLHRoaXMuY29udGV4dC5maWxsUmVjdCgwLDAsdGhpcy5jYW52YXMud2lkdGgsdGhpcy5jYW52YXMuaGVpZ2h0KSksdGhpcy5jb250ZXh0LmZpbGxTdHlsZT10aGlzLnN0eWxlLmZpbGwsdGhpcy5jb250ZXh0LmZvbnQ9dGhpcy5zdHlsZS5mb250LHRoaXMuY29udGV4dC5zdHJva2VTdHlsZT10aGlzLnN0eWxlLnN0cm9rZSx0aGlzLmNvbnRleHQudGV4dEJhc2VsaW5lPVwiYWxwaGFiZXRpY1wiLHRoaXMuY29udGV4dC5saW5lV2lkdGg9dGhpcy5zdHlsZS5zdHJva2VUaGlja25lc3MsdGhpcy5jb250ZXh0LmxpbmVDYXA9XCJyb3VuZFwiLHRoaXMuY29udGV4dC5saW5lSm9pbj1cInJvdW5kXCI7dmFyIGcseTtmb3IodGhpcy5fY2hhckNvdW50PTAsYT0wO2E8cjthKyspZz10aGlzLnN0eWxlLnN0cm9rZVRoaWNrbmVzcy8yLHk9dGhpcy5zdHlsZS5zdHJva2VUaGlja25lc3MvMithKnArby5hc2NlbnQsYT4wJiYoeSs9bSphKSxcInJpZ2h0XCI9PT10aGlzLnN0eWxlLmFsaWduP2crPW4tc1thXTpcImNlbnRlclwiPT09dGhpcy5zdHlsZS5hbGlnbiYmKGcrPShuLXNbYV0pLzIpLHRoaXMuYXV0b1JvdW5kJiYoZz1NYXRoLnJvdW5kKGcpLHk9TWF0aC5yb3VuZCh5KSksdGhpcy5jb2xvcnMubGVuZ3RoPjB8fHRoaXMuc3Ryb2tlQ29sb3JzLmxlbmd0aD4wfHx0aGlzLmZvbnRXZWlnaHRzLmxlbmd0aD4wfHx0aGlzLmZvbnRTdHlsZXMubGVuZ3RoPjA/dGhpcy51cGRhdGVMaW5lKGVbYV0sZyx5KToodGhpcy5zdHlsZS5zdHJva2UmJnRoaXMuc3R5bGUuc3Ryb2tlVGhpY2tuZXNzJiYodGhpcy51cGRhdGVTaGFkb3codGhpcy5zdHlsZS5zaGFkb3dTdHJva2UpLDA9PT1pP3RoaXMuY29udGV4dC5zdHJva2VUZXh0KGVbYV0sZyx5KTp0aGlzLnJlbmRlclRhYkxpbmUoZVthXSxnLHksITEpKSx0aGlzLnN0eWxlLmZpbGwmJih0aGlzLnVwZGF0ZVNoYWRvdyh0aGlzLnN0eWxlLnNoYWRvd0ZpbGwpLDA9PT1pP3RoaXMuY29udGV4dC5maWxsVGV4dChlW2FdLGcseSk6dGhpcy5yZW5kZXJUYWJMaW5lKGVbYV0sZyx5LCEwKSkpO3RoaXMudXBkYXRlVGV4dHVyZSgpLHRoaXMuZGlydHk9ITF9LGkuVGV4dC5wcm90b3R5cGUucmVuZGVyVGFiTGluZT1mdW5jdGlvbih0LGUsaSxzKXt2YXIgbj10LnNwbGl0KC8oPzpcXHQpLyksbz10aGlzLnN0eWxlLnRhYnMscj0wO2lmKEFycmF5LmlzQXJyYXkobykpZm9yKHZhciBhPTAsaD0wO2g8bi5sZW5ndGg7aCsrKWg+MCYmKGErPW9baC0xXSkscj1lK2Escz90aGlzLmNvbnRleHQuZmlsbFRleHQobltoXSxyLGkpOnRoaXMuY29udGV4dC5zdHJva2VUZXh0KG5baF0scixpKTtlbHNlIGZvcihoPTA7aDxuLmxlbmd0aDtoKyspe3ZhciBsPU1hdGguY2VpbCh0aGlzLmNvbnRleHQubWVhc3VyZVRleHQobltoXSkud2lkdGgpO3I9dGhpcy5nYW1lLm1hdGguc25hcFRvQ2VpbChlLG8pLHM/dGhpcy5jb250ZXh0LmZpbGxUZXh0KG5baF0scixpKTp0aGlzLmNvbnRleHQuc3Ryb2tlVGV4dChuW2hdLHIsaSksZT1yK2x9fSxpLlRleHQucHJvdG90eXBlLnVwZGF0ZVNoYWRvdz1mdW5jdGlvbih0KXt0Pyh0aGlzLmNvbnRleHQuc2hhZG93T2Zmc2V0WD10aGlzLnN0eWxlLnNoYWRvd09mZnNldFgsdGhpcy5jb250ZXh0LnNoYWRvd09mZnNldFk9dGhpcy5zdHlsZS5zaGFkb3dPZmZzZXRZLHRoaXMuY29udGV4dC5zaGFkb3dDb2xvcj10aGlzLnN0eWxlLnNoYWRvd0NvbG9yLHRoaXMuY29udGV4dC5zaGFkb3dCbHVyPXRoaXMuc3R5bGUuc2hhZG93Qmx1cik6KHRoaXMuY29udGV4dC5zaGFkb3dPZmZzZXRYPTAsdGhpcy5jb250ZXh0LnNoYWRvd09mZnNldFk9MCx0aGlzLmNvbnRleHQuc2hhZG93Q29sb3I9MCx0aGlzLmNvbnRleHQuc2hhZG93Qmx1cj0wKX0saS5UZXh0LnByb3RvdHlwZS5tZWFzdXJlTGluZT1mdW5jdGlvbih0KXtmb3IodmFyIGU9MCxpPTA7aTx0Lmxlbmd0aDtpKyspe3ZhciBzPXRbaV07aWYodGhpcy5mb250V2VpZ2h0cy5sZW5ndGg+MHx8dGhpcy5mb250U3R5bGVzLmxlbmd0aD4wKXt2YXIgbj10aGlzLmZvbnRUb0NvbXBvbmVudHModGhpcy5jb250ZXh0LmZvbnQpO3RoaXMuZm9udFN0eWxlc1t0aGlzLl9jaGFyQ291bnRdJiYobi5mb250U3R5bGU9dGhpcy5mb250U3R5bGVzW3RoaXMuX2NoYXJDb3VudF0pLHRoaXMuZm9udFdlaWdodHNbdGhpcy5fY2hhckNvdW50XSYmKG4uZm9udFdlaWdodD10aGlzLmZvbnRXZWlnaHRzW3RoaXMuX2NoYXJDb3VudF0pLHRoaXMuY29udGV4dC5mb250PXRoaXMuY29tcG9uZW50c1RvRm9udChuKX10aGlzLnN0eWxlLnN0cm9rZSYmdGhpcy5zdHlsZS5zdHJva2VUaGlja25lc3MmJih0aGlzLnN0cm9rZUNvbG9yc1t0aGlzLl9jaGFyQ291bnRdJiYodGhpcy5jb250ZXh0LnN0cm9rZVN0eWxlPXRoaXMuc3Ryb2tlQ29sb3JzW3RoaXMuX2NoYXJDb3VudF0pLHRoaXMudXBkYXRlU2hhZG93KHRoaXMuc3R5bGUuc2hhZG93U3Ryb2tlKSksdGhpcy5zdHlsZS5maWxsJiYodGhpcy5jb2xvcnNbdGhpcy5fY2hhckNvdW50XSYmKHRoaXMuY29udGV4dC5maWxsU3R5bGU9dGhpcy5jb2xvcnNbdGhpcy5fY2hhckNvdW50XSksdGhpcy51cGRhdGVTaGFkb3codGhpcy5zdHlsZS5zaGFkb3dGaWxsKSksZSs9dGhpcy5jb250ZXh0Lm1lYXN1cmVUZXh0KHMpLndpZHRoLHRoaXMuX2NoYXJDb3VudCsrfXJldHVybiBNYXRoLmNlaWwoZSl9LGkuVGV4dC5wcm90b3R5cGUudXBkYXRlTGluZT1mdW5jdGlvbih0LGUsaSl7Zm9yKHZhciBzPTA7czx0Lmxlbmd0aDtzKyspe3ZhciBuPXRbc107aWYodGhpcy5mb250V2VpZ2h0cy5sZW5ndGg+MHx8dGhpcy5mb250U3R5bGVzLmxlbmd0aD4wKXt2YXIgbz10aGlzLmZvbnRUb0NvbXBvbmVudHModGhpcy5jb250ZXh0LmZvbnQpO3RoaXMuZm9udFN0eWxlc1t0aGlzLl9jaGFyQ291bnRdJiYoby5mb250U3R5bGU9dGhpcy5mb250U3R5bGVzW3RoaXMuX2NoYXJDb3VudF0pLHRoaXMuZm9udFdlaWdodHNbdGhpcy5fY2hhckNvdW50XSYmKG8uZm9udFdlaWdodD10aGlzLmZvbnRXZWlnaHRzW3RoaXMuX2NoYXJDb3VudF0pLHRoaXMuY29udGV4dC5mb250PXRoaXMuY29tcG9uZW50c1RvRm9udChvKX10aGlzLnN0eWxlLnN0cm9rZSYmdGhpcy5zdHlsZS5zdHJva2VUaGlja25lc3MmJih0aGlzLnN0cm9rZUNvbG9yc1t0aGlzLl9jaGFyQ291bnRdJiYodGhpcy5jb250ZXh0LnN0cm9rZVN0eWxlPXRoaXMuc3Ryb2tlQ29sb3JzW3RoaXMuX2NoYXJDb3VudF0pLHRoaXMudXBkYXRlU2hhZG93KHRoaXMuc3R5bGUuc2hhZG93U3Ryb2tlKSx0aGlzLmNvbnRleHQuc3Ryb2tlVGV4dChuLGUsaSkpLHRoaXMuc3R5bGUuZmlsbCYmKHRoaXMuY29sb3JzW3RoaXMuX2NoYXJDb3VudF0mJih0aGlzLmNvbnRleHQuZmlsbFN0eWxlPXRoaXMuY29sb3JzW3RoaXMuX2NoYXJDb3VudF0pLHRoaXMudXBkYXRlU2hhZG93KHRoaXMuc3R5bGUuc2hhZG93RmlsbCksdGhpcy5jb250ZXh0LmZpbGxUZXh0KG4sZSxpKSksZSs9dGhpcy5jb250ZXh0Lm1lYXN1cmVUZXh0KG4pLndpZHRoLHRoaXMuX2NoYXJDb3VudCsrfX0saS5UZXh0LnByb3RvdHlwZS5jbGVhckNvbG9ycz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbG9ycz1bXSx0aGlzLnN0cm9rZUNvbG9ycz1bXSx0aGlzLmRpcnR5PSEwLHRoaXN9LGkuVGV4dC5wcm90b3R5cGUuY2xlYXJGb250VmFsdWVzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZm9udFN0eWxlcz1bXSx0aGlzLmZvbnRXZWlnaHRzPVtdLHRoaXMuZGlydHk9ITAsdGhpc30saS5UZXh0LnByb3RvdHlwZS5hZGRDb2xvcj1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmNvbG9yc1tlXT10LHRoaXMuZGlydHk9ITAsdGhpc30saS5UZXh0LnByb3RvdHlwZS5hZGRTdHJva2VDb2xvcj1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLnN0cm9rZUNvbG9yc1tlXT10LHRoaXMuZGlydHk9ITAsdGhpc30saS5UZXh0LnByb3RvdHlwZS5hZGRGb250U3R5bGU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5mb250U3R5bGVzW2VdPXQsdGhpcy5kaXJ0eT0hMCx0aGlzfSxpLlRleHQucHJvdG90eXBlLmFkZEZvbnRXZWlnaHQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5mb250V2VpZ2h0c1tlXT10LHRoaXMuZGlydHk9ITAsdGhpc30saS5UZXh0LnByb3RvdHlwZS5wcmVjYWxjdWxhdGVXb3JkV3JhcD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy50ZXh0dXJlLmJhc2VUZXh0dXJlLnJlc29sdXRpb249dGhpcy5fcmVzLHRoaXMuY29udGV4dC5mb250PXRoaXMuc3R5bGUuZm9udCx0aGlzLnJ1bldvcmRXcmFwKHQpLnNwbGl0KC8oPzpcXHJcXG58XFxyfFxcbikvKX0saS5UZXh0LnByb3RvdHlwZS5ydW5Xb3JkV3JhcD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy51c2VBZHZhbmNlZFdyYXA/dGhpcy5hZHZhbmNlZFdvcmRXcmFwKHQpOnRoaXMuYmFzaWNXb3JkV3JhcCh0KX0saS5UZXh0LnByb3RvdHlwZS5hZHZhbmNlZFdvcmRXcmFwPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLmNvbnRleHQsaT10aGlzLnN0eWxlLndvcmRXcmFwV2lkdGgscz1cIlwiLG49dC5yZXBsYWNlKC8gKy9naSxcIiBcIikuc3BsaXQoL1xccj9cXG4vZ2kpLG89bi5sZW5ndGgscj0wO3I8bztyKyspe3ZhciBhPW5bcl0saD1cIlwiO2lmKGE9YS5yZXBsYWNlKC9eICp8XFxzKiQvZ2ksXCJcIiksZS5tZWFzdXJlVGV4dChhKS53aWR0aDxpKXMrPWErXCJcXG5cIjtlbHNle2Zvcih2YXIgbD1pLGM9YS5zcGxpdChcIiBcIiksdT0wO3U8Yy5sZW5ndGg7dSsrKXt2YXIgZD1jW3VdLHA9ZCtcIiBcIixmPWUubWVhc3VyZVRleHQocCkud2lkdGg7aWYoZj5sKXtpZigwPT09dSl7Zm9yKHZhciBtPXA7bS5sZW5ndGgmJihtPW0uc2xpY2UoMCwtMSksISgoZj1lLm1lYXN1cmVUZXh0KG0pLndpZHRoKTw9bCkpOyk7aWYoIW0ubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIlRoaXMgdGV4dCdzIHdvcmRXcmFwV2lkdGggc2V0dGluZyBpcyBsZXNzIHRoYW4gYSBzaW5nbGUgY2hhcmFjdGVyIVwiKTt2YXIgZz1kLnN1YnN0cihtLmxlbmd0aCk7Y1t1XT1nLGgrPW19dmFyIHk9Y1t1XS5sZW5ndGg/dTp1KzEsdj1jLnNsaWNlKHkpLmpvaW4oXCIgXCIpLnJlcGxhY2UoL1sgXFxuXSokL2dpLFwiXCIpO25bcisxXT12K1wiIFwiKyhuW3IrMV18fFwiXCIpLG89bi5sZW5ndGg7YnJlYWt9aCs9cCxsLT1mfXMrPWgucmVwbGFjZSgvWyBcXG5dKiQvZ2ksXCJcIikrXCJcXG5cIn19cmV0dXJuIHM9cy5yZXBsYWNlKC9bXFxzfFxcbl0qJC9naSxcIlwiKX0saS5UZXh0LnByb3RvdHlwZS5iYXNpY1dvcmRXcmFwPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1cIlwiLGk9dC5zcGxpdChcIlxcblwiKSxzPTA7czxpLmxlbmd0aDtzKyspe2Zvcih2YXIgbj10aGlzLnN0eWxlLndvcmRXcmFwV2lkdGgsbz1pW3NdLnNwbGl0KFwiIFwiKSxyPTA7cjxvLmxlbmd0aDtyKyspe3ZhciBhPXRoaXMuY29udGV4dC5tZWFzdXJlVGV4dChvW3JdKS53aWR0aCxoPWErdGhpcy5jb250ZXh0Lm1lYXN1cmVUZXh0KFwiIFwiKS53aWR0aDtoPm4/KHI+MCYmKGUrPVwiXFxuXCIpLGUrPW9bcl0rXCIgXCIsbj10aGlzLnN0eWxlLndvcmRXcmFwV2lkdGgtYSk6KG4tPWgsZSs9b1tyXStcIiBcIil9czxpLmxlbmd0aC0xJiYoZSs9XCJcXG5cIil9cmV0dXJuIGV9LGkuVGV4dC5wcm90b3R5cGUudXBkYXRlRm9udD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmNvbXBvbmVudHNUb0ZvbnQodCk7dGhpcy5zdHlsZS5mb250IT09ZSYmKHRoaXMuc3R5bGUuZm9udD1lLHRoaXMuZGlydHk9ITAsdGhpcy5wYXJlbnQmJnRoaXMudXBkYXRlVHJhbnNmb3JtKCkpfSxpLlRleHQucHJvdG90eXBlLmZvbnRUb0NvbXBvbmVudHM9ZnVuY3Rpb24odCl7dmFyIGU9dC5tYXRjaCgvXlxccyooPzpcXGIobm9ybWFsfGl0YWxpY3xvYmxpcXVlfGluaGVyaXQpP1xcYilcXHMqKD86XFxiKG5vcm1hbHxzbWFsbC1jYXBzfGluaGVyaXQpP1xcYilcXHMqKD86XFxiKG5vcm1hbHxib2xkfGJvbGRlcnxsaWdodGVyfDEwMHwyMDB8MzAwfDQwMHw1MDB8NjAwfDcwMHw4MDB8OTAwfGluaGVyaXQpP1xcYilcXHMqKD86XFxiKHh4LXNtYWxsfHgtc21hbGx8c21hbGx8bWVkaXVtfGxhcmdlfHgtbGFyZ2V8eHgtbGFyZ2V8bGFyZ2VyfHNtYWxsZXJ8MHxcXGQqKD86Wy5dXFxkKik/KD86JXxbYS16XXsyLDV9KSk/XFxiKVxccyooLiopXFxzKiQvKTtpZihlKXt2YXIgaT1lWzVdLnRyaW0oKTtyZXR1cm4vXig/OmluaGVyaXR8c2VyaWZ8c2Fucy1zZXJpZnxjdXJzaXZlfGZhbnRhc3l8bW9ub3NwYWNlKSQvLmV4ZWMoaSl8fC9bJ1wiLF0vLmV4ZWMoaSl8fChpPVwiJ1wiK2krXCInXCIpLHtmb250OnQsZm9udFN0eWxlOmVbMV18fFwibm9ybWFsXCIsZm9udFZhcmlhbnQ6ZVsyXXx8XCJub3JtYWxcIixmb250V2VpZ2h0OmVbM118fFwibm9ybWFsXCIsZm9udFNpemU6ZVs0XXx8XCJtZWRpdW1cIixmb250RmFtaWx5Oml9fXJldHVybiBjb25zb2xlLndhcm4oXCJQaGFzZXIuVGV4dCAtIHVucGFyc2FibGUgQ1NTIGZvbnQ6IFwiK3QpLHtmb250OnR9fSxpLlRleHQucHJvdG90eXBlLmNvbXBvbmVudHNUb0ZvbnQ9ZnVuY3Rpb24odCl7dmFyIGUsaT1bXTtyZXR1cm4oZT10LmZvbnRTdHlsZSkmJlwibm9ybWFsXCIhPT1lJiZpLnB1c2goZSksKGU9dC5mb250VmFyaWFudCkmJlwibm9ybWFsXCIhPT1lJiZpLnB1c2goZSksKGU9dC5mb250V2VpZ2h0KSYmXCJub3JtYWxcIiE9PWUmJmkucHVzaChlKSwoZT10LmZvbnRTaXplKSYmXCJtZWRpdW1cIiE9PWUmJmkucHVzaChlKSwoZT10LmZvbnRGYW1pbHkpJiZpLnB1c2goZSksaS5sZW5ndGh8fGkucHVzaCh0LmZvbnQpLGkuam9pbihcIiBcIil9LGkuVGV4dC5wcm90b3R5cGUuc2V0VGV4dD1mdW5jdGlvbih0LGUpe3JldHVybiB2b2lkIDA9PT1lJiYoZT0hMSksdGhpcy50ZXh0PXQudG9TdHJpbmcoKXx8XCJcIixlP3RoaXMudXBkYXRlVGV4dCgpOnRoaXMuZGlydHk9ITAsdGhpc30saS5UZXh0LnByb3RvdHlwZS5wYXJzZUxpc3Q9ZnVuY3Rpb24odCl7aWYoIUFycmF5LmlzQXJyYXkodCkpcmV0dXJuIHRoaXM7Zm9yKHZhciBlPVwiXCIsaT0wO2k8dC5sZW5ndGg7aSsrKUFycmF5LmlzQXJyYXkodFtpXSk/KGUrPXRbaV0uam9pbihcIlxcdFwiKSxpPHQubGVuZ3RoLTEmJihlKz1cIlxcblwiKSk6KGUrPXRbaV0saTx0Lmxlbmd0aC0xJiYoZSs9XCJcXHRcIikpO3JldHVybiB0aGlzLnRleHQ9ZSx0aGlzLmRpcnR5PSEwLHRoaXN9LGkuVGV4dC5wcm90b3R5cGUuc2V0VGV4dEJvdW5kcz1mdW5jdGlvbih0LGUscyxuKXtyZXR1cm4gdm9pZCAwPT09dD90aGlzLnRleHRCb3VuZHM9bnVsbDoodGhpcy50ZXh0Qm91bmRzP3RoaXMudGV4dEJvdW5kcy5zZXRUbyh0LGUscyxuKTp0aGlzLnRleHRCb3VuZHM9bmV3IGkuUmVjdGFuZ2xlKHQsZSxzLG4pLHRoaXMuc3R5bGUud29yZFdyYXBXaWR0aD5zJiYodGhpcy5zdHlsZS53b3JkV3JhcFdpZHRoPXMpKSx0aGlzLnVwZGF0ZVRleHR1cmUoKSx0aGlzfSxpLlRleHQucHJvdG90eXBlLnVwZGF0ZVRleHR1cmU9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnRleHR1cmUuYmFzZVRleHR1cmUsZT10aGlzLnRleHR1cmUuY3JvcCxpPXRoaXMudGV4dHVyZS5mcmFtZSxzPXRoaXMuY2FudmFzLndpZHRoLG49dGhpcy5jYW52YXMuaGVpZ2h0O2lmKHQud2lkdGg9cyx0LmhlaWdodD1uLGUud2lkdGg9cyxlLmhlaWdodD1uLGkud2lkdGg9cyxpLmhlaWdodD1uLHRoaXMudGV4dHVyZS53aWR0aD1zLHRoaXMudGV4dHVyZS5oZWlnaHQ9bix0aGlzLl93aWR0aD1zLHRoaXMuX2hlaWdodD1uLHRoaXMudGV4dEJvdW5kcyl7dmFyIG89dGhpcy50ZXh0Qm91bmRzLngscj10aGlzLnRleHRCb3VuZHMueTtcInJpZ2h0XCI9PT10aGlzLnN0eWxlLmJvdW5kc0FsaWduSD9vKz10aGlzLnRleHRCb3VuZHMud2lkdGgtdGhpcy5jYW52YXMud2lkdGgvdGhpcy5yZXNvbHV0aW9uOlwiY2VudGVyXCI9PT10aGlzLnN0eWxlLmJvdW5kc0FsaWduSCYmKG8rPXRoaXMudGV4dEJvdW5kcy5oYWxmV2lkdGgtdGhpcy5jYW52YXMud2lkdGgvdGhpcy5yZXNvbHV0aW9uLzIpLFwiYm90dG9tXCI9PT10aGlzLnN0eWxlLmJvdW5kc0FsaWduVj9yKz10aGlzLnRleHRCb3VuZHMuaGVpZ2h0LXRoaXMuY2FudmFzLmhlaWdodC90aGlzLnJlc29sdXRpb246XCJtaWRkbGVcIj09PXRoaXMuc3R5bGUuYm91bmRzQWxpZ25WJiYocis9dGhpcy50ZXh0Qm91bmRzLmhhbGZIZWlnaHQtdGhpcy5jYW52YXMuaGVpZ2h0L3RoaXMucmVzb2x1dGlvbi8yKSx0aGlzLnBpdm90Lng9LW8sdGhpcy5waXZvdC55PS1yfXRoaXMucmVuZGVyYWJsZT0wIT09cyYmMCE9PW4sdGhpcy50ZXh0dXJlLnJlcXVpcmVzUmVUaW50PSEwLHRoaXMudGV4dHVyZS5iYXNlVGV4dHVyZS5kaXJ0eSgpfSxpLlRleHQucHJvdG90eXBlLl9yZW5kZXJXZWJHTD1mdW5jdGlvbih0KXt0aGlzLmRpcnR5JiYodGhpcy51cGRhdGVUZXh0KCksdGhpcy5kaXJ0eT0hMSksUElYSS5TcHJpdGUucHJvdG90eXBlLl9yZW5kZXJXZWJHTC5jYWxsKHRoaXMsdCl9LGkuVGV4dC5wcm90b3R5cGUuX3JlbmRlckNhbnZhcz1mdW5jdGlvbih0KXt0aGlzLmRpcnR5JiYodGhpcy51cGRhdGVUZXh0KCksdGhpcy5kaXJ0eT0hMSksUElYSS5TcHJpdGUucHJvdG90eXBlLl9yZW5kZXJDYW52YXMuY2FsbCh0aGlzLHQpfSxpLlRleHQucHJvdG90eXBlLmRldGVybWluZUZvbnRQcm9wZXJ0aWVzPWZ1bmN0aW9uKHQpe3ZhciBlPWkuVGV4dC5mb250UHJvcGVydGllc0NhY2hlW3RdO2lmKCFlKXtlPXt9O3ZhciBzPWkuVGV4dC5mb250UHJvcGVydGllc0NhbnZhcyxuPWkuVGV4dC5mb250UHJvcGVydGllc0NvbnRleHQ7bi5mb250PXQ7dmFyIG89TWF0aC5jZWlsKG4ubWVhc3VyZVRleHQoXCJ8TcOJcVwiKS53aWR0aCkscj1NYXRoLmNlaWwobi5tZWFzdXJlVGV4dChcInxNw4lxXCIpLndpZHRoKSxhPTIqcjtpZihyPTEuNCpyfDAscy53aWR0aD1vLHMuaGVpZ2h0PWEsbi5maWxsU3R5bGU9XCIjZjAwXCIsbi5maWxsUmVjdCgwLDAsbyxhKSxuLmZvbnQ9dCxuLnRleHRCYXNlbGluZT1cImFscGhhYmV0aWNcIixuLmZpbGxTdHlsZT1cIiMwMDBcIixuLmZpbGxUZXh0KFwifE3DiXFcIiwwLHIpLCFuLmdldEltYWdlRGF0YSgwLDAsbyxhKSlyZXR1cm4gZS5hc2NlbnQ9cixlLmRlc2NlbnQ9cis2LGUuZm9udFNpemU9ZS5hc2NlbnQrZS5kZXNjZW50LGkuVGV4dC5mb250UHJvcGVydGllc0NhY2hlW3RdPWUsZTt2YXIgaCxsLGM9bi5nZXRJbWFnZURhdGEoMCwwLG8sYSkuZGF0YSx1PWMubGVuZ3RoLGQ9NCpvLHA9MCxmPSExO2ZvcihoPTA7aDxyO2grKyl7Zm9yKGw9MDtsPGQ7bCs9NClpZigyNTUhPT1jW3ArbF0pe2Y9ITA7YnJlYWt9aWYoZilicmVhaztwKz1kfWZvcihlLmFzY2VudD1yLWgscD11LWQsZj0hMSxoPWE7aD5yO2gtLSl7Zm9yKGw9MDtsPGQ7bCs9NClpZigyNTUhPT1jW3ArbF0pe2Y9ITA7YnJlYWt9aWYoZilicmVhaztwLT1kfWUuZGVzY2VudD1oLXIsZS5kZXNjZW50Kz02LGUuZm9udFNpemU9ZS5hc2NlbnQrZS5kZXNjZW50LGkuVGV4dC5mb250UHJvcGVydGllc0NhY2hlW3RdPWV9cmV0dXJuIGV9LGkuVGV4dC5wcm90b3R5cGUuZ2V0Qm91bmRzPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmRpcnR5JiYodGhpcy51cGRhdGVUZXh0KCksdGhpcy5kaXJ0eT0hMSksUElYSS5TcHJpdGUucHJvdG90eXBlLmdldEJvdW5kcy5jYWxsKHRoaXMsdCl9LGkuVGV4dC5wcm90b3R5cGUuc2V0Q2hhcmFjdGVyTGltaXQ9ZnVuY3Rpb24odCxlKXt0aGlzLmNoYXJhY3RlckxpbWl0U3VmZml4PXZvaWQgMD09PWU/XCJcIjplLHRoaXMuY2hhcmFjdGVyTGltaXRTaXplPXQsdGhpcy51cGRhdGVUZXh0KCl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLlRleHQucHJvdG90eXBlLFwidGV4dFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdGV4dH0sc2V0OmZ1bmN0aW9uKHQpe3QhPT10aGlzLl90ZXh0JiYodGhpcy5fdGV4dD10LnRvU3RyaW5nKCl8fFwiXCIsdGhpcy5kaXJ0eT0hMCx0aGlzLnBhcmVudCYmdGhpcy51cGRhdGVUcmFuc2Zvcm0oKSl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuVGV4dC5wcm90b3R5cGUsXCJjc3NGb250XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbXBvbmVudHNUb0ZvbnQodGhpcy5fZm9udENvbXBvbmVudHMpfSxzZXQ6ZnVuY3Rpb24odCl7dD10fHxcImJvbGQgMjBwdCBBcmlhbFwiLHRoaXMuX2ZvbnRDb21wb25lbnRzPXRoaXMuZm9udFRvQ29tcG9uZW50cyh0KSx0aGlzLnVwZGF0ZUZvbnQodGhpcy5fZm9udENvbXBvbmVudHMpfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLlRleHQucHJvdG90eXBlLFwiZm9udFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZm9udENvbXBvbmVudHMuZm9udEZhbWlseX0sc2V0OmZ1bmN0aW9uKHQpe3Q9KHQ9dHx8XCJBcmlhbFwiKS50cmltKCksL14oPzppbmhlcml0fHNlcmlmfHNhbnMtc2VyaWZ8Y3Vyc2l2ZXxmYW50YXN5fG1vbm9zcGFjZSkkLy5leGVjKHQpfHwvWydcIixdLy5leGVjKHQpfHwodD1cIidcIit0K1wiJ1wiKSx0aGlzLl9mb250Q29tcG9uZW50cy5mb250RmFtaWx5PXQsdGhpcy51cGRhdGVGb250KHRoaXMuX2ZvbnRDb21wb25lbnRzKX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5UZXh0LnByb3RvdHlwZSxcImZvbnRTaXplXCIse2dldDpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX2ZvbnRDb21wb25lbnRzLmZvbnRTaXplO3JldHVybiB0JiYvKD86XjAkfHB4JCkvLmV4ZWModCk/cGFyc2VJbnQodCwxMCk6dH0sc2V0OmZ1bmN0aW9uKHQpe1wibnVtYmVyXCI9PXR5cGVvZih0PXR8fFwiMFwiKSYmKHQrPVwicHhcIiksdGhpcy5fZm9udENvbXBvbmVudHMuZm9udFNpemU9dCx0aGlzLnVwZGF0ZUZvbnQodGhpcy5fZm9udENvbXBvbmVudHMpfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLlRleHQucHJvdG90eXBlLFwiZm9udFdlaWdodFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZm9udENvbXBvbmVudHMuZm9udFdlaWdodHx8XCJub3JtYWxcIn0sc2V0OmZ1bmN0aW9uKHQpe3Q9dHx8XCJub3JtYWxcIix0aGlzLl9mb250Q29tcG9uZW50cy5mb250V2VpZ2h0PXQsdGhpcy51cGRhdGVGb250KHRoaXMuX2ZvbnRDb21wb25lbnRzKX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5UZXh0LnByb3RvdHlwZSxcImZvbnRTdHlsZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZm9udENvbXBvbmVudHMuZm9udFN0eWxlfHxcIm5vcm1hbFwifSxzZXQ6ZnVuY3Rpb24odCl7dD10fHxcIm5vcm1hbFwiLHRoaXMuX2ZvbnRDb21wb25lbnRzLmZvbnRTdHlsZT10LHRoaXMudXBkYXRlRm9udCh0aGlzLl9mb250Q29tcG9uZW50cyl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuVGV4dC5wcm90b3R5cGUsXCJmb250VmFyaWFudFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZm9udENvbXBvbmVudHMuZm9udFZhcmlhbnR8fFwibm9ybWFsXCJ9LHNldDpmdW5jdGlvbih0KXt0PXR8fFwibm9ybWFsXCIsdGhpcy5fZm9udENvbXBvbmVudHMuZm9udFZhcmlhbnQ9dCx0aGlzLnVwZGF0ZUZvbnQodGhpcy5fZm9udENvbXBvbmVudHMpfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLlRleHQucHJvdG90eXBlLFwiZmlsbFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdHlsZS5maWxsfSxzZXQ6ZnVuY3Rpb24odCl7dCE9PXRoaXMuc3R5bGUuZmlsbCYmKHRoaXMuc3R5bGUuZmlsbD10LHRoaXMuZGlydHk9ITApfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLlRleHQucHJvdG90eXBlLFwiYWxpZ25cIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3R5bGUuYWxpZ259LHNldDpmdW5jdGlvbih0KXsodD10LnRvTG93ZXJDYXNlKCkpIT09dGhpcy5zdHlsZS5hbGlnbiYmKHRoaXMuc3R5bGUuYWxpZ249dCx0aGlzLmRpcnR5PSEwKX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5UZXh0LnByb3RvdHlwZSxcInJlc29sdXRpb25cIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3Jlc30sc2V0OmZ1bmN0aW9uKHQpe3QhPT10aGlzLl9yZXMmJih0aGlzLl9yZXM9dCx0aGlzLmRpcnR5PSEwKX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5UZXh0LnByb3RvdHlwZSxcInRhYnNcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3R5bGUudGFic30sc2V0OmZ1bmN0aW9uKHQpe3QhPT10aGlzLnN0eWxlLnRhYnMmJih0aGlzLnN0eWxlLnRhYnM9dCx0aGlzLmRpcnR5PSEwKX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5UZXh0LnByb3RvdHlwZSxcImJvdW5kc0FsaWduSFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdHlsZS5ib3VuZHNBbGlnbkh9LHNldDpmdW5jdGlvbih0KXsodD10LnRvTG93ZXJDYXNlKCkpIT09dGhpcy5zdHlsZS5ib3VuZHNBbGlnbkgmJih0aGlzLnN0eWxlLmJvdW5kc0FsaWduSD10LHRoaXMuZGlydHk9ITApfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLlRleHQucHJvdG90eXBlLFwiYm91bmRzQWxpZ25WXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnN0eWxlLmJvdW5kc0FsaWduVn0sc2V0OmZ1bmN0aW9uKHQpeyh0PXQudG9Mb3dlckNhc2UoKSkhPT10aGlzLnN0eWxlLmJvdW5kc0FsaWduViYmKHRoaXMuc3R5bGUuYm91bmRzQWxpZ25WPXQsdGhpcy5kaXJ0eT0hMCl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuVGV4dC5wcm90b3R5cGUsXCJzdHJva2VcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3R5bGUuc3Ryb2tlfSxzZXQ6ZnVuY3Rpb24odCl7dCE9PXRoaXMuc3R5bGUuc3Ryb2tlJiYodGhpcy5zdHlsZS5zdHJva2U9dCx0aGlzLmRpcnR5PSEwKX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5UZXh0LnByb3RvdHlwZSxcInN0cm9rZVRoaWNrbmVzc1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdHlsZS5zdHJva2VUaGlja25lc3N9LHNldDpmdW5jdGlvbih0KXt0IT09dGhpcy5zdHlsZS5zdHJva2VUaGlja25lc3MmJih0aGlzLnN0eWxlLnN0cm9rZVRoaWNrbmVzcz1OdW1iZXIodCksdGhpcy5kaXJ0eT0hMCl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuVGV4dC5wcm90b3R5cGUsXCJ3b3JkV3JhcFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdHlsZS53b3JkV3JhcH0sc2V0OmZ1bmN0aW9uKHQpe3QhPT10aGlzLnN0eWxlLndvcmRXcmFwJiYodGhpcy5zdHlsZS53b3JkV3JhcD10LHRoaXMuZGlydHk9ITApfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLlRleHQucHJvdG90eXBlLFwid29yZFdyYXBXaWR0aFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdHlsZS53b3JkV3JhcFdpZHRofSxzZXQ6ZnVuY3Rpb24odCl7dCE9PXRoaXMuc3R5bGUud29yZFdyYXBXaWR0aCYmKHRoaXMuc3R5bGUud29yZFdyYXBXaWR0aD10LHRoaXMuZGlydHk9ITApfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLlRleHQucHJvdG90eXBlLFwibGluZVNwYWNpbmdcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xpbmVTcGFjaW5nfSxzZXQ6ZnVuY3Rpb24odCl7dCE9PXRoaXMuX2xpbmVTcGFjaW5nJiYodGhpcy5fbGluZVNwYWNpbmc9cGFyc2VGbG9hdCh0KSx0aGlzLmRpcnR5PSEwLHRoaXMucGFyZW50JiZ0aGlzLnVwZGF0ZVRyYW5zZm9ybSgpKX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5UZXh0LnByb3RvdHlwZSxcInNoYWRvd09mZnNldFhcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3R5bGUuc2hhZG93T2Zmc2V0WH0sc2V0OmZ1bmN0aW9uKHQpe3QhPT10aGlzLnN0eWxlLnNoYWRvd09mZnNldFgmJih0aGlzLnN0eWxlLnNoYWRvd09mZnNldFg9dCx0aGlzLmRpcnR5PSEwKX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5UZXh0LnByb3RvdHlwZSxcInNoYWRvd09mZnNldFlcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3R5bGUuc2hhZG93T2Zmc2V0WX0sc2V0OmZ1bmN0aW9uKHQpe3QhPT10aGlzLnN0eWxlLnNoYWRvd09mZnNldFkmJih0aGlzLnN0eWxlLnNoYWRvd09mZnNldFk9dCx0aGlzLmRpcnR5PSEwKX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5UZXh0LnByb3RvdHlwZSxcInNoYWRvd0NvbG9yXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnN0eWxlLnNoYWRvd0NvbG9yfSxzZXQ6ZnVuY3Rpb24odCl7dCE9PXRoaXMuc3R5bGUuc2hhZG93Q29sb3ImJih0aGlzLnN0eWxlLnNoYWRvd0NvbG9yPXQsdGhpcy5kaXJ0eT0hMCl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuVGV4dC5wcm90b3R5cGUsXCJzaGFkb3dCbHVyXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnN0eWxlLnNoYWRvd0JsdXJ9LHNldDpmdW5jdGlvbih0KXt0IT09dGhpcy5zdHlsZS5zaGFkb3dCbHVyJiYodGhpcy5zdHlsZS5zaGFkb3dCbHVyPXQsdGhpcy5kaXJ0eT0hMCl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuVGV4dC5wcm90b3R5cGUsXCJzaGFkb3dTdHJva2VcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3R5bGUuc2hhZG93U3Ryb2tlfSxzZXQ6ZnVuY3Rpb24odCl7dCE9PXRoaXMuc3R5bGUuc2hhZG93U3Ryb2tlJiYodGhpcy5zdHlsZS5zaGFkb3dTdHJva2U9dCx0aGlzLmRpcnR5PSEwKX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5UZXh0LnByb3RvdHlwZSxcInNoYWRvd0ZpbGxcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3R5bGUuc2hhZG93RmlsbH0sc2V0OmZ1bmN0aW9uKHQpe3QhPT10aGlzLnN0eWxlLnNoYWRvd0ZpbGwmJih0aGlzLnN0eWxlLnNoYWRvd0ZpbGw9dCx0aGlzLmRpcnR5PSEwKX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5UZXh0LnByb3RvdHlwZSxcIndpZHRoXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRpcnR5JiYodGhpcy51cGRhdGVUZXh0KCksdGhpcy5kaXJ0eT0hMSksdGhpcy5zY2FsZS54Kih0aGlzLnRleHR1cmUuZnJhbWUud2lkdGgvdGhpcy5yZXNvbHV0aW9uKX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuc2NhbGUueD10L3RoaXMudGV4dHVyZS5mcmFtZS53aWR0aCx0aGlzLl93aWR0aD10fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLlRleHQucHJvdG90eXBlLFwiaGVpZ2h0XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRpcnR5JiYodGhpcy51cGRhdGVUZXh0KCksdGhpcy5kaXJ0eT0hMSksdGhpcy5zY2FsZS55Kih0aGlzLnRleHR1cmUuZnJhbWUuaGVpZ2h0L3RoaXMucmVzb2x1dGlvbil9LHNldDpmdW5jdGlvbih0KXt0aGlzLnNjYWxlLnk9dC90aGlzLnRleHR1cmUuZnJhbWUuaGVpZ2h0LHRoaXMuX2hlaWdodD10fX0pLGkuVGV4dC5mb250UHJvcGVydGllc0NhY2hlPXt9LGkuVGV4dC5mb250UHJvcGVydGllc0NhbnZhcz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpLGkuVGV4dC5mb250UHJvcGVydGllc0NvbnRleHQ9aS5UZXh0LmZvbnRQcm9wZXJ0aWVzQ2FudmFzLmdldENvbnRleHQoXCIyZFwiKSxpLkJpdG1hcFRleHQ9ZnVuY3Rpb24odCxlLHMsbixvLHIsYSl7ZT1lfHwwLHM9c3x8MCxuPW58fFwiXCIsbz1vfHxcIlwiLHI9cnx8MzIsYT1hfHxcImxlZnRcIixQSVhJLkRpc3BsYXlPYmplY3RDb250YWluZXIuY2FsbCh0aGlzKSx0aGlzLnR5cGU9aS5CSVRNQVBURVhULHRoaXMucGh5c2ljc1R5cGU9aS5TUFJJVEUsdGhpcy50ZXh0V2lkdGg9MCx0aGlzLnRleHRIZWlnaHQ9MCx0aGlzLmFuY2hvcj1uZXcgaS5Qb2ludCx0aGlzLl9wcmV2QW5jaG9yPW5ldyBpLlBvaW50LHRoaXMuX2dseXBocz1bXSx0aGlzLl9tYXhXaWR0aD0wLHRoaXMuX3RleHQ9by50b1N0cmluZygpfHxcIlwiLHRoaXMuX2RhdGE9dC5jYWNoZS5nZXRCaXRtYXBGb250KG4pLHRoaXMuX2ZvbnQ9bix0aGlzLl9mb250U2l6ZT1yLHRoaXMuX2FsaWduPWEsdGhpcy5fdGludD0xNjc3NzIxNSx0aGlzLnVwZGF0ZVRleHQoKSx0aGlzLmRpcnR5PSExLGkuQ29tcG9uZW50LkNvcmUuaW5pdC5jYWxsKHRoaXMsdCxlLHMsXCJcIixudWxsKX0saS5CaXRtYXBUZXh0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKFBJWEkuRGlzcGxheU9iamVjdENvbnRhaW5lci5wcm90b3R5cGUpLGkuQml0bWFwVGV4dC5wcm90b3R5cGUuY29uc3RydWN0b3I9aS5CaXRtYXBUZXh0LGkuQ29tcG9uZW50LkNvcmUuaW5zdGFsbC5jYWxsKGkuQml0bWFwVGV4dC5wcm90b3R5cGUsW1wiQW5nbGVcIixcIkF1dG9DdWxsXCIsXCJCb3VuZHNcIixcIkRlc3Ryb3lcIixcIkZpeGVkVG9DYW1lcmFcIixcIklucHV0RW5hYmxlZFwiLFwiSW5Xb3JsZFwiLFwiTGlmZVNwYW5cIixcIlBoeXNpY3NCb2R5XCIsXCJSZXNldFwiXSksaS5CaXRtYXBUZXh0LnByb3RvdHlwZS5wcmVVcGRhdGVQaHlzaWNzPWkuQ29tcG9uZW50LlBoeXNpY3NCb2R5LnByZVVwZGF0ZSxpLkJpdG1hcFRleHQucHJvdG90eXBlLnByZVVwZGF0ZUxpZmVTcGFuPWkuQ29tcG9uZW50LkxpZmVTcGFuLnByZVVwZGF0ZSxpLkJpdG1hcFRleHQucHJvdG90eXBlLnByZVVwZGF0ZUluV29ybGQ9aS5Db21wb25lbnQuSW5Xb3JsZC5wcmVVcGRhdGUsaS5CaXRtYXBUZXh0LnByb3RvdHlwZS5wcmVVcGRhdGVDb3JlPWkuQ29tcG9uZW50LkNvcmUucHJlVXBkYXRlLGkuQml0bWFwVGV4dC5wcm90b3R5cGUucHJlVXBkYXRlPWZ1bmN0aW9uKCl7cmV0dXJuISEodGhpcy5wcmVVcGRhdGVQaHlzaWNzKCkmJnRoaXMucHJlVXBkYXRlTGlmZVNwYW4oKSYmdGhpcy5wcmVVcGRhdGVJbldvcmxkKCkpJiZ0aGlzLnByZVVwZGF0ZUNvcmUoKX0saS5CaXRtYXBUZXh0LnByb3RvdHlwZS5wb3N0VXBkYXRlPWZ1bmN0aW9uKCl7aS5Db21wb25lbnQuUGh5c2ljc0JvZHkucG9zdFVwZGF0ZS5jYWxsKHRoaXMpLGkuQ29tcG9uZW50LkZpeGVkVG9DYW1lcmEucG9zdFVwZGF0ZS5jYWxsKHRoaXMpLHRoaXMuYm9keSYmdGhpcy5ib2R5LnR5cGU9PT1pLlBoeXNpY3MuQVJDQURFJiYodGhpcy50ZXh0V2lkdGg9PT10aGlzLmJvZHkuc291cmNlV2lkdGgmJnRoaXMudGV4dEhlaWdodD09PXRoaXMuYm9keS5zb3VyY2VIZWlnaHR8fHRoaXMuYm9keS5zZXRTaXplKHRoaXMudGV4dFdpZHRoLHRoaXMudGV4dEhlaWdodCkpfSxpLkJpdG1hcFRleHQucHJvdG90eXBlLnNldFRleHQ9ZnVuY3Rpb24odCl7dGhpcy50ZXh0PXR9LGkuQml0bWFwVGV4dC5wcm90b3R5cGUuc2NhbkxpbmU9ZnVuY3Rpb24odCxlLGkpe2Zvcih2YXIgcz0wLG49MCxvPS0xLHI9MCxhPW51bGwsaD10aGlzLl9tYXhXaWR0aD4wP3RoaXMuX21heFdpZHRoOm51bGwsbD1bXSxjPTA7YzxpLmxlbmd0aDtjKyspe3ZhciB1PWM9PT1pLmxlbmd0aC0xO2lmKC8oPzpcXHJcXG58XFxyfFxcbikvLnRlc3QoaS5jaGFyQXQoYykpKXJldHVybnt3aWR0aDpuLHRleHQ6aS5zdWJzdHIoMCxjKSxlbmQ6dSxjaGFyczpsfTt2YXIgZD1pLmNoYXJDb2RlQXQoYykscD10LmNoYXJzW2RdLGY9MDt2b2lkIDA9PT1wJiYoZD0zMixwPXQuY2hhcnNbZF0pO3ZhciBtPWEmJnAua2VybmluZ1thXT9wLmtlcm5pbmdbYV06MDtpZigvKFxccykvLnRlc3QoaS5jaGFyQXQoYykpJiYobz1jLHI9biksZj0obStwLnRleHR1cmUud2lkdGgrcC54T2Zmc2V0KSplLGgmJm4rZj49aCYmbz4tMSlyZXR1cm57d2lkdGg6cnx8bix0ZXh0Omkuc3Vic3RyKDAsYy0oYy1vKSksZW5kOiExLGNoYXJzOmx9O24rPShwLnhBZHZhbmNlK20pKmUsbC5wdXNoKHMrKHAueE9mZnNldCttKSplKSxzKz0ocC54QWR2YW5jZSttKSplLGE9ZH1yZXR1cm57d2lkdGg6bix0ZXh0OmksZW5kOnUsY2hhcnM6bH19LGkuQml0bWFwVGV4dC5wcm90b3R5cGUuY2xlYW5UZXh0PWZ1bmN0aW9uKHQsZSl7dm9pZCAwPT09ZSYmKGU9XCJcIik7dmFyIGk9dGhpcy5fZGF0YS5mb250O2lmKCFpKXJldHVyblwiXCI7Zm9yKHZhciBzPS9cXHJcXG58XFxuXFxyfFxcbnxcXHIvZyxuPXQucmVwbGFjZShzLFwiXFxuXCIpLnNwbGl0KFwiXFxuXCIpLG89MDtvPG4ubGVuZ3RoO28rKyl7Zm9yKHZhciByPVwiXCIsYT1uW29dLGg9MDtoPGEubGVuZ3RoO2grKylyPWkuY2hhcnNbYS5jaGFyQ29kZUF0KGgpXT9yLmNvbmNhdChhW2hdKTpyLmNvbmNhdChlKTtuW29dPXJ9cmV0dXJuIG4uam9pbihcIlxcblwiKX0saS5CaXRtYXBUZXh0LnByb3RvdHlwZS51cGRhdGVUZXh0PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fZGF0YS5mb250O2lmKHQpe3ZhciBlPXRoaXMudGV4dCxpPXRoaXMuX2ZvbnRTaXplL3Quc2l6ZSxzPVtdLG49MDt0aGlzLnRleHRXaWR0aD0wO2RveyhjPXRoaXMuc2NhbkxpbmUodCxpLGUpKS55PW4scy5wdXNoKGMpLGMud2lkdGg+dGhpcy50ZXh0V2lkdGgmJih0aGlzLnRleHRXaWR0aD1jLndpZHRoKSxuKz10LmxpbmVIZWlnaHQqaSxlPWUuc3Vic3RyKGMudGV4dC5sZW5ndGgrMSl9d2hpbGUoITE9PT1jLmVuZCk7dGhpcy50ZXh0SGVpZ2h0PW47Zm9yKHZhciBvPTAscj0wLGE9dGhpcy50ZXh0V2lkdGgqdGhpcy5hbmNob3IueCxoPXRoaXMudGV4dEhlaWdodCp0aGlzLmFuY2hvci55LGw9MDtsPHMubGVuZ3RoO2wrKyl7dmFyIGM9c1tsXTtcInJpZ2h0XCI9PT10aGlzLl9hbGlnbj9yPXRoaXMudGV4dFdpZHRoLWMud2lkdGg6XCJjZW50ZXJcIj09PXRoaXMuX2FsaWduJiYocj0odGhpcy50ZXh0V2lkdGgtYy53aWR0aCkvMik7Zm9yKHZhciB1PTA7dTxjLnRleHQubGVuZ3RoO3UrKyl7dmFyIGQ9Yy50ZXh0LmNoYXJDb2RlQXQodSkscD10LmNoYXJzW2RdO3ZvaWQgMD09PXAmJihkPTMyLHA9dC5jaGFyc1tkXSk7dmFyIGY9dGhpcy5fZ2x5cGhzW29dO2Y/Zi50ZXh0dXJlPXAudGV4dHVyZTooKGY9bmV3IFBJWEkuU3ByaXRlKHAudGV4dHVyZSkpLm5hbWU9Yy50ZXh0W3VdLHRoaXMuX2dseXBocy5wdXNoKGYpKSxmLnBvc2l0aW9uLng9Yy5jaGFyc1t1XStyLWEsZi5wb3NpdGlvbi55PWMueStwLnlPZmZzZXQqaS1oLGYuc2NhbGUuc2V0KGkpLGYudGludD10aGlzLnRpbnQsZi50ZXh0dXJlLnJlcXVpcmVzUmVUaW50PSEwLGYuY2FjaGVkVGludD0xNjc3NzIxNSxmLnBhcmVudHx8dGhpcy5hZGRDaGlsZChmKSxvKyt9fWZvcihsPW87bDx0aGlzLl9nbHlwaHMubGVuZ3RoO2wrKyl0aGlzLnJlbW92ZUNoaWxkKHRoaXMuX2dseXBoc1tsXSl9fSxpLkJpdG1hcFRleHQucHJvdG90eXBlLnB1cmdlR2x5cGhzPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMuX2dseXBocy5sZW5ndGgsZT1bXSxpPTA7aTx0aGlzLl9nbHlwaHMubGVuZ3RoO2krKyl0aGlzLl9nbHlwaHNbaV0ucGFyZW50IT09dGhpcz90aGlzLl9nbHlwaHNbaV0uZGVzdHJveSgpOmUucHVzaCh0aGlzLl9nbHlwaHNbaV0pO3JldHVybiB0aGlzLl9nbHlwaHM9W10sdGhpcy5fZ2x5cGhzPWUsdGhpcy51cGRhdGVUZXh0KCksdC1lLmxlbmd0aH0saS5CaXRtYXBUZXh0LnByb3RvdHlwZS51cGRhdGVUcmFuc2Zvcm09ZnVuY3Rpb24oKXshdGhpcy5kaXJ0eSYmdGhpcy5hbmNob3IuZXF1YWxzKHRoaXMuX3ByZXZBbmNob3IpfHwodGhpcy51cGRhdGVUZXh0KCksdGhpcy5kaXJ0eT0hMSx0aGlzLl9wcmV2QW5jaG9yLmNvcHlGcm9tKHRoaXMuYW5jaG9yKSksUElYSS5EaXNwbGF5T2JqZWN0Q29udGFpbmVyLnByb3RvdHlwZS51cGRhdGVUcmFuc2Zvcm0uY2FsbCh0aGlzKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuQml0bWFwVGV4dC5wcm90b3R5cGUsXCJhbGlnblwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYWxpZ259LHNldDpmdW5jdGlvbih0KXt0PT09dGhpcy5fYWxpZ258fFwibGVmdFwiIT09dCYmXCJjZW50ZXJcIiE9PXQmJlwicmlnaHRcIiE9PXR8fCh0aGlzLl9hbGlnbj10LHRoaXMudXBkYXRlVGV4dCgpKX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5CaXRtYXBUZXh0LnByb3RvdHlwZSxcInRpbnRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RpbnR9LHNldDpmdW5jdGlvbih0KXt0IT09dGhpcy5fdGludCYmKHRoaXMuX3RpbnQ9dCx0aGlzLnVwZGF0ZVRleHQoKSl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuQml0bWFwVGV4dC5wcm90b3R5cGUsXCJmb250XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9mb250fSxzZXQ6ZnVuY3Rpb24odCl7dCE9PXRoaXMuX2ZvbnQmJih0aGlzLl9mb250PXQudHJpbSgpLHRoaXMuX2RhdGE9dGhpcy5nYW1lLmNhY2hlLmdldEJpdG1hcEZvbnQodGhpcy5fZm9udCksdGhpcy51cGRhdGVUZXh0KCkpfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLkJpdG1hcFRleHQucHJvdG90eXBlLFwiZm9udFNpemVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ZvbnRTaXplfSxzZXQ6ZnVuY3Rpb24odCl7KHQ9cGFyc2VJbnQodCwxMCkpIT09dGhpcy5fZm9udFNpemUmJnQ+MCYmKHRoaXMuX2ZvbnRTaXplPXQsdGhpcy51cGRhdGVUZXh0KCkpfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLkJpdG1hcFRleHQucHJvdG90eXBlLFwidGV4dFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdGV4dH0sc2V0OmZ1bmN0aW9uKHQpe3QhPT10aGlzLl90ZXh0JiYodGhpcy5fdGV4dD10LnRvU3RyaW5nKCl8fFwiXCIsdGhpcy51cGRhdGVUZXh0KCkpfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLkJpdG1hcFRleHQucHJvdG90eXBlLFwibWF4V2lkdGhcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21heFdpZHRofSxzZXQ6ZnVuY3Rpb24odCl7dCE9PXRoaXMuX21heFdpZHRoJiYodGhpcy5fbWF4V2lkdGg9dCx0aGlzLnVwZGF0ZVRleHQoKSl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuQml0bWFwVGV4dC5wcm90b3R5cGUsXCJzbW9vdGhlZFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5fZGF0YS5iYXNlLnNjYWxlTW9kZX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2RhdGEuYmFzZS5zY2FsZU1vZGU9dD8wOjF9fSksaS5SZXRyb0ZvbnQ9ZnVuY3Rpb24odCxlLHMsbixvLHIsYSxoLGwsYyl7aWYoIXQuY2FjaGUuY2hlY2tJbWFnZUtleShlKSlyZXR1cm4hMTt2b2lkIDAhPT1yJiZudWxsIT09cnx8KHI9dC5jYWNoZS5nZXRJbWFnZShlKS53aWR0aC9zKSx0aGlzLmNoYXJhY3RlcldpZHRoPXMsdGhpcy5jaGFyYWN0ZXJIZWlnaHQ9bix0aGlzLmNoYXJhY3RlclNwYWNpbmdYPWF8fDAsdGhpcy5jaGFyYWN0ZXJTcGFjaW5nWT1ofHwwLHRoaXMuY2hhcmFjdGVyUGVyUm93PXIsdGhpcy5vZmZzZXRYPWx8fDAsdGhpcy5vZmZzZXRZPWN8fDAsdGhpcy5hbGlnbj1cImxlZnRcIix0aGlzLm11bHRpTGluZT0hMSx0aGlzLmF1dG9VcHBlckNhc2U9ITAsdGhpcy5jdXN0b21TcGFjaW5nWD0wLHRoaXMuY3VzdG9tU3BhY2luZ1k9MCx0aGlzLmZpeGVkV2lkdGg9MCx0aGlzLmZvbnRTZXQ9dC5jYWNoZS5nZXRJbWFnZShlKSx0aGlzLl90ZXh0PVwiXCIsdGhpcy5ncmFiRGF0YT1bXSx0aGlzLmZyYW1lRGF0YT1uZXcgaS5GcmFtZURhdGE7Zm9yKHZhciB1PXRoaXMub2Zmc2V0WCxkPXRoaXMub2Zmc2V0WSxwPTAsZj0wO2Y8by5sZW5ndGg7ZisrKXt2YXIgbT10aGlzLmZyYW1lRGF0YS5hZGRGcmFtZShuZXcgaS5GcmFtZShmLHUsZCx0aGlzLmNoYXJhY3RlcldpZHRoLHRoaXMuY2hhcmFjdGVySGVpZ2h0KSk7dGhpcy5ncmFiRGF0YVtvLmNoYXJDb2RlQXQoZildPW0uaW5kZXgsKytwPT09dGhpcy5jaGFyYWN0ZXJQZXJSb3c/KHA9MCx1PXRoaXMub2Zmc2V0WCxkKz10aGlzLmNoYXJhY3RlckhlaWdodCt0aGlzLmNoYXJhY3RlclNwYWNpbmdZKTp1Kz10aGlzLmNoYXJhY3RlcldpZHRoK3RoaXMuY2hhcmFjdGVyU3BhY2luZ1h9dC5jYWNoZS51cGRhdGVGcmFtZURhdGEoZSx0aGlzLmZyYW1lRGF0YSksdGhpcy5zdGFtcD1uZXcgaS5JbWFnZSh0LDAsMCxlLDApLGkuUmVuZGVyVGV4dHVyZS5jYWxsKHRoaXMsdCwxMDAsMTAwLFwiXCIsaS5zY2FsZU1vZGVzLk5FQVJFU1QpLHRoaXMudHlwZT1pLlJFVFJPRk9OVH0saS5SZXRyb0ZvbnQucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoaS5SZW5kZXJUZXh0dXJlLnByb3RvdHlwZSksaS5SZXRyb0ZvbnQucHJvdG90eXBlLmNvbnN0cnVjdG9yPWkuUmV0cm9Gb250LGkuUmV0cm9Gb250LkFMSUdOX0xFRlQ9XCJsZWZ0XCIsaS5SZXRyb0ZvbnQuQUxJR05fUklHSFQ9XCJyaWdodFwiLGkuUmV0cm9Gb250LkFMSUdOX0NFTlRFUj1cImNlbnRlclwiLGkuUmV0cm9Gb250LlRFWFRfU0VUMT1cIiAhXFxcIiMkJSYnKCkqKywtLi8wMTIzNDU2Nzg5Ojs8PT4/QEFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaW1xcXFxdXl9gYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXp7fH1+XCIsaS5SZXRyb0ZvbnQuVEVYVF9TRVQyPVwiICFcXFwiIyQlJicoKSorLC0uLzAxMjM0NTY3ODk6Ozw9Pj9AQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVpcIixpLlJldHJvRm9udC5URVhUX1NFVDM9XCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWjAxMjM0NTY3ODkgXCIsaS5SZXRyb0ZvbnQuVEVYVF9TRVQ0PVwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVogMDEyMzQ1Njc4OVwiLGkuUmV0cm9Gb250LlRFWFRfU0VUNT1cIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaLiwvKCkgJyE/LSo6MDEyMzQ1Njc4OVwiLGkuUmV0cm9Gb250LlRFWFRfU0VUNj1cIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaIT86OzAxMjM0NTY3ODlcXFwiKCksLS4nIFwiLGkuUmV0cm9Gb250LlRFWFRfU0VUNz1cIkFHTVNZKzo0QkhOVFohOzVDSU9VLj8wNkRKUFYsKDE3RUtRV1xcXCIpMjhGTFJYLSczOVwiLGkuUmV0cm9Gb250LlRFWFRfU0VUOD1cIjAxMjM0NTY3ODkgLkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaXCIsaS5SZXRyb0ZvbnQuVEVYVF9TRVQ5PVwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVooKS0wMTIzNDU2Nzg5LjosJ1xcXCI/IVwiLGkuUmV0cm9Gb250LlRFWFRfU0VUMTA9XCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWlwiLGkuUmV0cm9Gb250LlRFWFRfU0VUMTE9XCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWi4sXFxcIi0rIT8oKSc6OzAxMjM0NTY3ODlcIixpLlJldHJvRm9udC5wcm90b3R5cGUuc2V0Rml4ZWRXaWR0aD1mdW5jdGlvbih0LGUpe3ZvaWQgMD09PWUmJihlPVwibGVmdFwiKSx0aGlzLmZpeGVkV2lkdGg9dCx0aGlzLmFsaWduPWV9LGkuUmV0cm9Gb250LnByb3RvdHlwZS5zZXRUZXh0PWZ1bmN0aW9uKHQsZSxpLHMsbixvKXt0aGlzLm11bHRpTGluZT1lfHwhMSx0aGlzLmN1c3RvbVNwYWNpbmdYPWl8fDAsdGhpcy5jdXN0b21TcGFjaW5nWT1zfHwwLHRoaXMuYWxpZ249bnx8XCJsZWZ0XCIsdGhpcy5hdXRvVXBwZXJDYXNlPSFvLHQubGVuZ3RoPjAmJih0aGlzLnRleHQ9dCl9LGkuUmV0cm9Gb250LnByb3RvdHlwZS5idWlsZFJldHJvRm9udFRleHQ9ZnVuY3Rpb24oKXt2YXIgdD0wLGU9MDtpZih0aGlzLmNsZWFyKCksdGhpcy5tdWx0aUxpbmUpe3ZhciBzPXRoaXMuX3RleHQuc3BsaXQoXCJcXG5cIik7dGhpcy5maXhlZFdpZHRoPjA/dGhpcy5yZXNpemUodGhpcy5maXhlZFdpZHRoLHMubGVuZ3RoKih0aGlzLmNoYXJhY3RlckhlaWdodCt0aGlzLmN1c3RvbVNwYWNpbmdZKS10aGlzLmN1c3RvbVNwYWNpbmdZLCEwKTp0aGlzLnJlc2l6ZSh0aGlzLmdldExvbmdlc3RMaW5lKCkqKHRoaXMuY2hhcmFjdGVyV2lkdGgrdGhpcy5jdXN0b21TcGFjaW5nWCkscy5sZW5ndGgqKHRoaXMuY2hhcmFjdGVySGVpZ2h0K3RoaXMuY3VzdG9tU3BhY2luZ1kpLXRoaXMuY3VzdG9tU3BhY2luZ1ksITApO2Zvcih2YXIgbj0wO248cy5sZW5ndGg7bisrKXQ9MCx0aGlzLmFsaWduPT09aS5SZXRyb0ZvbnQuQUxJR05fUklHSFQ/dD10aGlzLndpZHRoLXNbbl0ubGVuZ3RoKih0aGlzLmNoYXJhY3RlcldpZHRoK3RoaXMuY3VzdG9tU3BhY2luZ1gpOnRoaXMuYWxpZ249PT1pLlJldHJvRm9udC5BTElHTl9DRU5URVImJih0PXRoaXMud2lkdGgvMi1zW25dLmxlbmd0aCoodGhpcy5jaGFyYWN0ZXJXaWR0aCt0aGlzLmN1c3RvbVNwYWNpbmdYKS8yLHQrPXRoaXMuY3VzdG9tU3BhY2luZ1gvMiksdDwwJiYodD0wKSx0aGlzLnBhc3RlTGluZShzW25dLHQsZSx0aGlzLmN1c3RvbVNwYWNpbmdYKSxlKz10aGlzLmNoYXJhY3RlckhlaWdodCt0aGlzLmN1c3RvbVNwYWNpbmdZfWVsc2UgdGhpcy5maXhlZFdpZHRoPjA/dGhpcy5yZXNpemUodGhpcy5maXhlZFdpZHRoLHRoaXMuY2hhcmFjdGVySGVpZ2h0LCEwKTp0aGlzLnJlc2l6ZSh0aGlzLl90ZXh0Lmxlbmd0aCoodGhpcy5jaGFyYWN0ZXJXaWR0aCt0aGlzLmN1c3RvbVNwYWNpbmdYKSx0aGlzLmNoYXJhY3RlckhlaWdodCwhMCksdD0wLHRoaXMuYWxpZ249PT1pLlJldHJvRm9udC5BTElHTl9SSUdIVD90PXRoaXMud2lkdGgtdGhpcy5fdGV4dC5sZW5ndGgqKHRoaXMuY2hhcmFjdGVyV2lkdGgrdGhpcy5jdXN0b21TcGFjaW5nWCk6dGhpcy5hbGlnbj09PWkuUmV0cm9Gb250LkFMSUdOX0NFTlRFUiYmKHQ9dGhpcy53aWR0aC8yLXRoaXMuX3RleHQubGVuZ3RoKih0aGlzLmNoYXJhY3RlcldpZHRoK3RoaXMuY3VzdG9tU3BhY2luZ1gpLzIsdCs9dGhpcy5jdXN0b21TcGFjaW5nWC8yKSx0PDAmJih0PTApLHRoaXMucGFzdGVMaW5lKHRoaXMuX3RleHQsdCwwLHRoaXMuY3VzdG9tU3BhY2luZ1gpO3RoaXMucmVxdWlyZXNSZVRpbnQ9ITB9LGkuUmV0cm9Gb250LnByb3RvdHlwZS5wYXN0ZUxpbmU9ZnVuY3Rpb24odCxlLGkscyl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspaWYoXCIgXCI9PT10LmNoYXJBdChuKSllKz10aGlzLmNoYXJhY3RlcldpZHRoK3M7ZWxzZSBpZih0aGlzLmdyYWJEYXRhW3QuY2hhckNvZGVBdChuKV0+PTAmJih0aGlzLnN0YW1wLmZyYW1lPXRoaXMuZ3JhYkRhdGFbdC5jaGFyQ29kZUF0KG4pXSx0aGlzLnJlbmRlclhZKHRoaXMuc3RhbXAsZSxpLCExKSwoZSs9dGhpcy5jaGFyYWN0ZXJXaWR0aCtzKT50aGlzLndpZHRoKSlicmVha30saS5SZXRyb0ZvbnQucHJvdG90eXBlLmdldExvbmdlc3RMaW5lPWZ1bmN0aW9uKCl7dmFyIHQ9MDtpZih0aGlzLl90ZXh0Lmxlbmd0aD4wKWZvcih2YXIgZT10aGlzLl90ZXh0LnNwbGl0KFwiXFxuXCIpLGk9MDtpPGUubGVuZ3RoO2krKyllW2ldLmxlbmd0aD50JiYodD1lW2ldLmxlbmd0aCk7cmV0dXJuIHR9LGkuUmV0cm9Gb250LnByb3RvdHlwZS5yZW1vdmVVbnN1cHBvcnRlZENoYXJhY3RlcnM9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPVwiXCIsaT0wO2k8dGhpcy5fdGV4dC5sZW5ndGg7aSsrKXt2YXIgcz10aGlzLl90ZXh0W2ldLG49cy5jaGFyQ29kZUF0KDApOyh0aGlzLmdyYWJEYXRhW25dPj0wfHwhdCYmXCJcXG5cIj09PXMpJiYoZT1lLmNvbmNhdChzKSl9cmV0dXJuIGV9LGkuUmV0cm9Gb250LnByb3RvdHlwZS51cGRhdGVPZmZzZXQ9ZnVuY3Rpb24odCxlKXtpZih0aGlzLm9mZnNldFghPT10fHx0aGlzLm9mZnNldFkhPT1lKXtmb3IodmFyIGk9dC10aGlzLm9mZnNldFgscz1lLXRoaXMub2Zmc2V0WSxuPXRoaXMuZ2FtZS5jYWNoZS5nZXRGcmFtZURhdGEodGhpcy5zdGFtcC5rZXkpLmdldEZyYW1lcygpLG89bi5sZW5ndGg7by0tOyluW29dLngrPWksbltvXS55Kz1zO3RoaXMuYnVpbGRSZXRyb0ZvbnRUZXh0KCl9fSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5SZXRyb0ZvbnQucHJvdG90eXBlLFwidGV4dFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdGV4dH0sc2V0OmZ1bmN0aW9uKHQpe3ZhciBlOyhlPXRoaXMuYXV0b1VwcGVyQ2FzZT90LnRvVXBwZXJDYXNlKCk6dCkhPT10aGlzLl90ZXh0JiYodGhpcy5fdGV4dD1lLHRoaXMucmVtb3ZlVW5zdXBwb3J0ZWRDaGFyYWN0ZXJzKHRoaXMubXVsdGlMaW5lKSx0aGlzLmJ1aWxkUmV0cm9Gb250VGV4dCgpKX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5SZXRyb0ZvbnQucHJvdG90eXBlLFwic21vb3RoZWRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RhbXAuc21vb3RoZWR9LHNldDpmdW5jdGlvbih0KXt0aGlzLnN0YW1wLnNtb290aGVkPXQsdGhpcy5idWlsZFJldHJvRm9udFRleHQoKX19KSxpLlJvcGU9ZnVuY3Rpb24odCxlLHMsbixvLHIpe3RoaXMucG9pbnRzPXJ8fFtdLHRoaXMuX2hhc1VwZGF0ZUFuaW1hdGlvbj0hMSx0aGlzLl91cGRhdGVBbmltYXRpb25DYWxsYmFjaz1udWxsLGU9ZXx8MCxzPXN8fDAsbj1ufHxudWxsLG89b3x8bnVsbCx0aGlzLnR5cGU9aS5ST1BFLFBJWEkuRGlzcGxheU9iamVjdENvbnRhaW5lci5jYWxsKHRoaXMpLHRoaXMudGV4dHVyZT1pLkNhY2hlLkRFRkFVTFQsdGhpcy51dnM9bmV3IEZsb2F0MzJBcnJheShbMCwxLDEsMSwxLDAsMCwxXSksdGhpcy52ZXJ0aWNlcz1uZXcgRmxvYXQzMkFycmF5KFswLDAsMTAwLDAsMTAwLDEwMCwwLDEwMF0pLHRoaXMuY29sb3JzPW5ldyBGbG9hdDMyQXJyYXkoWzEsMSwxLDFdKSx0aGlzLmluZGljZXM9bmV3IFVpbnQxNkFycmF5KFswLDEsMiwzXSksciYmKHRoaXMudmVydGljZXM9bmV3IEZsb2F0MzJBcnJheSg0KnIubGVuZ3RoKSx0aGlzLnV2cz1uZXcgRmxvYXQzMkFycmF5KDQqci5sZW5ndGgpLHRoaXMuY29sb3JzPW5ldyBGbG9hdDMyQXJyYXkoMipyLmxlbmd0aCksdGhpcy5pbmRpY2VzPW5ldyBVaW50MTZBcnJheSgyKnIubGVuZ3RoKSksdGhpcy5kaXJ0eT0hMCx0aGlzLmNhbnZhc1BhZGRpbmc9MCx0aGlzLmRyYXdNb2RlPWkuUm9wZS5UUklBTkdMRV9TVFJJUCxpLkNvbXBvbmVudC5Db3JlLmluaXQuY2FsbCh0aGlzLHQsZSxzLG4sbyksdGhpcy5yZWZyZXNoKCl9LGkuUm9wZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShQSVhJLkRpc3BsYXlPYmplY3RDb250YWluZXIucHJvdG90eXBlKSxpLlJvcGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWkuUm9wZSxpLkNvbXBvbmVudC5Db3JlLmluc3RhbGwuY2FsbChpLlJvcGUucHJvdG90eXBlLFtcIkFuZ2xlXCIsXCJBbmltYXRpb25cIixcIkF1dG9DdWxsXCIsXCJCb3VuZHNcIixcIkJyaW5nVG9Ub3BcIixcIkNyb3BcIixcIkRlbHRhXCIsXCJEZXN0cm95XCIsXCJGaXhlZFRvQ2FtZXJhXCIsXCJJbldvcmxkXCIsXCJMaWZlU3BhblwiLFwiTG9hZFRleHR1cmVcIixcIk92ZXJsYXBcIixcIlBoeXNpY3NCb2R5XCIsXCJSZXNldFwiLFwiU2NhbGVNaW5NYXhcIixcIlNtb290aGVkXCJdKSxpLlJvcGUucHJvdG90eXBlLnByZVVwZGF0ZVBoeXNpY3M9aS5Db21wb25lbnQuUGh5c2ljc0JvZHkucHJlVXBkYXRlLGkuUm9wZS5wcm90b3R5cGUucHJlVXBkYXRlTGlmZVNwYW49aS5Db21wb25lbnQuTGlmZVNwYW4ucHJlVXBkYXRlLGkuUm9wZS5wcm90b3R5cGUucHJlVXBkYXRlSW5Xb3JsZD1pLkNvbXBvbmVudC5JbldvcmxkLnByZVVwZGF0ZSxpLlJvcGUucHJvdG90eXBlLnByZVVwZGF0ZUNvcmU9aS5Db21wb25lbnQuQ29yZS5wcmVVcGRhdGUsaS5Sb3BlLlRSSUFOR0xFX1NUUklQPTAsaS5Sb3BlLlRSSUFOR0xFUz0xLGkuUm9wZS5wcm90b3R5cGUucHJlVXBkYXRlPWZ1bmN0aW9uKCl7cmV0dXJuISEodGhpcy5wcmVVcGRhdGVQaHlzaWNzKCkmJnRoaXMucHJlVXBkYXRlTGlmZVNwYW4oKSYmdGhpcy5wcmVVcGRhdGVJbldvcmxkKCkpJiZ0aGlzLnByZVVwZGF0ZUNvcmUoKX0saS5Sb3BlLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24oKXt0aGlzLl9oYXNVcGRhdGVBbmltYXRpb24mJnRoaXMudXBkYXRlQW5pbWF0aW9uLmNhbGwodGhpcyl9LGkuUm9wZS5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gaS5Db21wb25lbnQuUmVzZXQucHJvdG90eXBlLnJlc2V0LmNhbGwodGhpcyx0LGUpLHRoaXN9LGkuUm9wZS5wcm90b3R5cGUucmVmcmVzaD1mdW5jdGlvbigpe3ZhciB0PXRoaXMucG9pbnRzO2lmKCEodC5sZW5ndGg8MSkpe3ZhciBlPXRoaXMudXZzLGk9dGhpcy5pbmRpY2VzLHM9dGhpcy5jb2xvcnM7dGhpcy5jb3VudC09LjIsZVswXT0wLGVbMV09MCxlWzJdPTAsZVszXT0xLHNbMF09MSxzWzFdPTEsaVswXT0wLGlbMV09MTtmb3IodmFyIG4sbyxyPXQubGVuZ3RoLGE9MTthPHI7YSsrKW89YS8oci0xKSxlW249NCphXT1vLGVbbisxXT0wLGVbbisyXT1vLGVbbiszXT0xLHNbbj0yKmFdPTEsc1tuKzFdPTEsaVtuPTIqYV09bixpW24rMV09bisxfX0saS5Sb3BlLnByb3RvdHlwZS51cGRhdGVUcmFuc2Zvcm09ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnBvaW50cztpZighKHQubGVuZ3RoPDEpKXt2YXIgZSxpPXRbMF0scz17eDowLHk6MH07dGhpcy5jb3VudC09LjI7Zm9yKHZhciBuLG8scixhLGg9dGhpcy52ZXJ0aWNlcyxsPXQubGVuZ3RoLGM9MDtjPGw7YysrKW49dFtjXSxvPTQqYyxlPWM8dC5sZW5ndGgtMT90W2MrMV06bixzLnk9LShlLngtaS54KSxzLng9ZS55LWkueSwxMCooMS1jLyhsLTEpKT4xJiYxLHI9TWF0aC5zcXJ0KHMueCpzLngrcy55KnMueSksYT10aGlzLnRleHR1cmUuaGVpZ2h0LzIscy54Lz1yLHMueS89cixzLngqPWEscy55Kj1hLGhbb109bi54K3MueCxoW28rMV09bi55K3MueSxoW28rMl09bi54LXMueCxoW28rM109bi55LXMueSxpPW47UElYSS5EaXNwbGF5T2JqZWN0Q29udGFpbmVyLnByb3RvdHlwZS51cGRhdGVUcmFuc2Zvcm0uY2FsbCh0aGlzKX19LGkuUm9wZS5wcm90b3R5cGUuc2V0VGV4dHVyZT1mdW5jdGlvbih0KXt0aGlzLnRleHR1cmU9dH0saS5Sb3BlLnByb3RvdHlwZS5fcmVuZGVyV2ViR0w9ZnVuY3Rpb24odCl7IXRoaXMudmlzaWJsZXx8dGhpcy5hbHBoYTw9MHx8KHQuc3ByaXRlQmF0Y2guc3RvcCgpLHRoaXMuX3ZlcnRleEJ1ZmZlcnx8dGhpcy5faW5pdFdlYkdMKHQpLHQuc2hhZGVyTWFuYWdlci5zZXRTaGFkZXIodC5zaGFkZXJNYW5hZ2VyLnN0cmlwU2hhZGVyKSx0aGlzLl9yZW5kZXJTdHJpcCh0KSx0LnNwcml0ZUJhdGNoLnN0YXJ0KCkpfSxpLlJvcGUucHJvdG90eXBlLl9pbml0V2ViR0w9ZnVuY3Rpb24odCl7dmFyIGU9dC5nbDt0aGlzLl92ZXJ0ZXhCdWZmZXI9ZS5jcmVhdGVCdWZmZXIoKSx0aGlzLl9pbmRleEJ1ZmZlcj1lLmNyZWF0ZUJ1ZmZlcigpLHRoaXMuX3V2QnVmZmVyPWUuY3JlYXRlQnVmZmVyKCksdGhpcy5fY29sb3JCdWZmZXI9ZS5jcmVhdGVCdWZmZXIoKSxlLmJpbmRCdWZmZXIoZS5BUlJBWV9CVUZGRVIsdGhpcy5fdmVydGV4QnVmZmVyKSxlLmJ1ZmZlckRhdGEoZS5BUlJBWV9CVUZGRVIsdGhpcy52ZXJ0aWNlcyxlLkRZTkFNSUNfRFJBVyksZS5iaW5kQnVmZmVyKGUuQVJSQVlfQlVGRkVSLHRoaXMuX3V2QnVmZmVyKSxlLmJ1ZmZlckRhdGEoZS5BUlJBWV9CVUZGRVIsdGhpcy51dnMsZS5TVEFUSUNfRFJBVyksZS5iaW5kQnVmZmVyKGUuQVJSQVlfQlVGRkVSLHRoaXMuX2NvbG9yQnVmZmVyKSxlLmJ1ZmZlckRhdGEoZS5BUlJBWV9CVUZGRVIsdGhpcy5jb2xvcnMsZS5TVEFUSUNfRFJBVyksZS5iaW5kQnVmZmVyKGUuRUxFTUVOVF9BUlJBWV9CVUZGRVIsdGhpcy5faW5kZXhCdWZmZXIpLGUuYnVmZmVyRGF0YShlLkVMRU1FTlRfQVJSQVlfQlVGRkVSLHRoaXMuaW5kaWNlcyxlLlNUQVRJQ19EUkFXKX0saS5Sb3BlLnByb3RvdHlwZS5fcmVuZGVyU3RyaXA9ZnVuY3Rpb24odCl7dmFyIGU9dC5nbCxzPXQucHJvamVjdGlvbixuPXQub2Zmc2V0LG89dC5zaGFkZXJNYW5hZ2VyLnN0cmlwU2hhZGVyLHI9dGhpcy5kcmF3TW9kZT09PWkuUm9wZS5UUklBTkdMRV9TVFJJUD9lLlRSSUFOR0xFX1NUUklQOmUuVFJJQU5HTEVTO3QuYmxlbmRNb2RlTWFuYWdlci5zZXRCbGVuZE1vZGUodGhpcy5ibGVuZE1vZGUpLGUudW5pZm9ybU1hdHJpeDNmdihvLnRyYW5zbGF0aW9uTWF0cml4LCExLHRoaXMud29ybGRUcmFuc2Zvcm0udG9BcnJheSghMCkpLGUudW5pZm9ybTJmKG8ucHJvamVjdGlvblZlY3RvcixzLngsLXMueSksZS51bmlmb3JtMmYoby5vZmZzZXRWZWN0b3IsLW4ueCwtbi55KSxlLnVuaWZvcm0xZihvLmFscGhhLHRoaXMud29ybGRBbHBoYSksdGhpcy5kaXJ0eT8odGhpcy5kaXJ0eT0hMSxlLmJpbmRCdWZmZXIoZS5BUlJBWV9CVUZGRVIsdGhpcy5fdmVydGV4QnVmZmVyKSxlLmJ1ZmZlckRhdGEoZS5BUlJBWV9CVUZGRVIsdGhpcy52ZXJ0aWNlcyxlLlNUQVRJQ19EUkFXKSxlLnZlcnRleEF0dHJpYlBvaW50ZXIoby5hVmVydGV4UG9zaXRpb24sMixlLkZMT0FULCExLDAsMCksZS5iaW5kQnVmZmVyKGUuQVJSQVlfQlVGRkVSLHRoaXMuX3V2QnVmZmVyKSxlLmJ1ZmZlckRhdGEoZS5BUlJBWV9CVUZGRVIsdGhpcy51dnMsZS5TVEFUSUNfRFJBVyksZS52ZXJ0ZXhBdHRyaWJQb2ludGVyKG8uYVRleHR1cmVDb29yZCwyLGUuRkxPQVQsITEsMCwwKSxlLmFjdGl2ZVRleHR1cmUoZS5URVhUVVJFMCksdGhpcy50ZXh0dXJlLmJhc2VUZXh0dXJlLl9kaXJ0eVtlLmlkXT90LnJlbmRlcmVyLnVwZGF0ZVRleHR1cmUodGhpcy50ZXh0dXJlLmJhc2VUZXh0dXJlKTplLmJpbmRUZXh0dXJlKGUuVEVYVFVSRV8yRCx0aGlzLnRleHR1cmUuYmFzZVRleHR1cmUuX2dsVGV4dHVyZXNbZS5pZF0pLGUuYmluZEJ1ZmZlcihlLkVMRU1FTlRfQVJSQVlfQlVGRkVSLHRoaXMuX2luZGV4QnVmZmVyKSxlLmJ1ZmZlckRhdGEoZS5FTEVNRU5UX0FSUkFZX0JVRkZFUix0aGlzLmluZGljZXMsZS5TVEFUSUNfRFJBVykpOihlLmJpbmRCdWZmZXIoZS5BUlJBWV9CVUZGRVIsdGhpcy5fdmVydGV4QnVmZmVyKSxlLmJ1ZmZlclN1YkRhdGEoZS5BUlJBWV9CVUZGRVIsMCx0aGlzLnZlcnRpY2VzKSxlLnZlcnRleEF0dHJpYlBvaW50ZXIoby5hVmVydGV4UG9zaXRpb24sMixlLkZMT0FULCExLDAsMCksZS5iaW5kQnVmZmVyKGUuQVJSQVlfQlVGRkVSLHRoaXMuX3V2QnVmZmVyKSxlLnZlcnRleEF0dHJpYlBvaW50ZXIoby5hVGV4dHVyZUNvb3JkLDIsZS5GTE9BVCwhMSwwLDApLGUuYWN0aXZlVGV4dHVyZShlLlRFWFRVUkUwKSx0aGlzLnRleHR1cmUuYmFzZVRleHR1cmUuX2RpcnR5W2UuaWRdP3QucmVuZGVyZXIudXBkYXRlVGV4dHVyZSh0aGlzLnRleHR1cmUuYmFzZVRleHR1cmUpOmUuYmluZFRleHR1cmUoZS5URVhUVVJFXzJELHRoaXMudGV4dHVyZS5iYXNlVGV4dHVyZS5fZ2xUZXh0dXJlc1tlLmlkXSksZS5iaW5kQnVmZmVyKGUuRUxFTUVOVF9BUlJBWV9CVUZGRVIsdGhpcy5faW5kZXhCdWZmZXIpKSxlLmRyYXdFbGVtZW50cyhyLHRoaXMuaW5kaWNlcy5sZW5ndGgsZS5VTlNJR05FRF9TSE9SVCwwKX0saS5Sb3BlLnByb3RvdHlwZS5fcmVuZGVyQ2FudmFzPWZ1bmN0aW9uKHQpe3ZhciBlPXQuY29udGV4dCxzPXRoaXMud29ybGRUcmFuc2Zvcm0sbj1zLnR4KnQucmVzb2x1dGlvbit0LnNoYWtlWCxvPXMudHkqdC5yZXNvbHV0aW9uK3Quc2hha2VZO3Qucm91bmRQaXhlbHM/ZS5zZXRUcmFuc2Zvcm0ocy5hLHMuYixzLmMscy5kLDB8biwwfG8pOmUuc2V0VHJhbnNmb3JtKHMuYSxzLmIscy5jLHMuZCxuLG8pLHRoaXMuZHJhd01vZGU9PT1pLlJvcGUuVFJJQU5HTEVfU1RSSVA/dGhpcy5fcmVuZGVyQ2FudmFzVHJpYW5nbGVTdHJpcChlKTp0aGlzLl9yZW5kZXJDYW52YXNUcmlhbmdsZXMoZSl9LGkuUm9wZS5wcm90b3R5cGUuX3JlbmRlckNhbnZhc1RyaWFuZ2xlU3RyaXA9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy52ZXJ0aWNlcyxpPXRoaXMudXZzLHM9ZS5sZW5ndGgvMjt0aGlzLmNvdW50Kys7Zm9yKHZhciBuPTA7bjxzLTI7bisrKXt2YXIgbz0yKm47dGhpcy5fcmVuZGVyQ2FudmFzRHJhd1RyaWFuZ2xlKHQsZSxpLG8sbysyLG8rNCl9fSxpLlJvcGUucHJvdG90eXBlLl9yZW5kZXJDYW52YXNUcmlhbmdsZXM9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy52ZXJ0aWNlcyxpPXRoaXMudXZzLHM9dGhpcy5pbmRpY2VzLG49cy5sZW5ndGg7dGhpcy5jb3VudCsrO2Zvcih2YXIgbz0wO288bjtvKz0zKXt2YXIgcj0yKnNbb10sYT0yKnNbbysxXSxoPTIqc1tvKzJdO3RoaXMuX3JlbmRlckNhbnZhc0RyYXdUcmlhbmdsZSh0LGUsaSxyLGEsaCl9fSxpLlJvcGUucHJvdG90eXBlLl9yZW5kZXJDYW52YXNEcmF3VHJpYW5nbGU9ZnVuY3Rpb24odCxlLGkscyxuLG8pe3ZhciByPXRoaXMudGV4dHVyZS5iYXNlVGV4dHVyZS5zb3VyY2UsYT10aGlzLnRleHR1cmUud2lkdGgsaD10aGlzLnRleHR1cmUuaGVpZ2h0LGw9ZVtzXSxjPWVbbl0sdT1lW29dLGQ9ZVtzKzFdLHA9ZVtuKzFdLGY9ZVtvKzFdLG09aVtzXSphLGc9aVtuXSphLHk9aVtvXSphLHY9aVtzKzFdKmgseD1pW24rMV0qaCxiPWlbbysxXSpoO2lmKHRoaXMuY2FudmFzUGFkZGluZz4wKXt2YXIgXz10aGlzLmNhbnZhc1BhZGRpbmcvdGhpcy53b3JsZFRyYW5zZm9ybS5hLHc9dGhpcy5jYW52YXNQYWRkaW5nL3RoaXMud29ybGRUcmFuc2Zvcm0uZCxUPShsK2MrdSkvMyxQPShkK3ArZikvMyxDPWwtVCxTPWQtUCxrPU1hdGguc3FydChDKkMrUypTKTtsPVQrQy9rKihrK18pLGQ9UCtTL2sqKGsrdyksUz1wLVAsYz1UKyhDPWMtVCkvKGs9TWF0aC5zcXJ0KEMqQytTKlMpKSooaytfKSxwPVArUy9rKihrK3cpLFM9Zi1QLHU9VCsoQz11LVQpLyhrPU1hdGguc3FydChDKkMrUypTKSkqKGsrXyksZj1QK1Mvayooayt3KX10LnNhdmUoKSx0LmJlZ2luUGF0aCgpLHQubW92ZVRvKGwsZCksdC5saW5lVG8oYyxwKSx0LmxpbmVUbyh1LGYpLHQuY2xvc2VQYXRoKCksdC5jbGlwKCk7dmFyIEE9bSp4K3YqeStnKmIteCp5LXYqZy1tKmIsTT1sKngrdip1K2MqYi14KnUtdipjLWwqYixPPW0qYytsKnkrZyp1LWMqeS1sKmctbSp1LEk9bSp4KnUrdipjKnkrbCpnKmItbCp4KnktdipnKnUtbSpjKmIsRT1kKngrdipmK3AqYi14KmYtdipwLWQqYixSPW0qcCtkKnkrZypmLXAqeS1kKmctbSpmLEw9bSp4KmYrdipwKnkrZCpnKmItZCp4KnktdipnKmYtbSpwKmI7dC50cmFuc2Zvcm0oTS9BLEUvQSxPL0EsUi9BLEkvQSxML0EpLHQuZHJhd0ltYWdlKHIsMCwwKSx0LnJlc3RvcmUoKX0saS5Sb3BlLnByb3RvdHlwZS5yZW5kZXJTdHJpcEZsYXQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5jb250ZXh0LGk9dC52ZXJ0aWNlcyxzPWkubGVuZ3RoLzI7dGhpcy5jb3VudCsrLGUuYmVnaW5QYXRoKCk7Zm9yKHZhciBuPTE7bjxzLTI7bisrKXt2YXIgbz0yKm4scj1pW29dLGE9aVtvKzJdLGg9aVtvKzRdLGw9aVtvKzFdLGM9aVtvKzNdLHU9aVtvKzVdO2UubW92ZVRvKHIsbCksZS5saW5lVG8oYSxjKSxlLmxpbmVUbyhoLHUpfWUuZmlsbFN0eWxlPVwiI0ZGMDAwMFwiLGUuZmlsbCgpLGUuY2xvc2VQYXRoKCl9LGkuUm9wZS5wcm90b3R5cGUuZ2V0Qm91bmRzPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10fHx0aGlzLndvcmxkVHJhbnNmb3JtLGk9ZS5hLHM9ZS5iLG49ZS5jLG89ZS5kLHI9ZS50eCxhPWUudHksaD0tMS8wLGw9LTEvMCxjPTEvMCx1PTEvMCxkPXRoaXMudmVydGljZXMscD0wO3A8ZC5sZW5ndGg7cCs9Mil7dmFyIGY9ZFtwXSxtPWRbcCsxXSxnPWkqZituKm0rcix5PW8qbStzKmYrYTtjPWc8Yz9nOmMsdT15PHU/eTp1LGg9Zz5oP2c6aCxsPXk+bD95Omx9aWYoYz09PS0xLzB8fGw9PT0xLzApcmV0dXJuIFBJWEkuRW1wdHlSZWN0YW5nbGU7dmFyIHY9dGhpcy5fYm91bmRzO3JldHVybiB2Lng9Yyx2LndpZHRoPWgtYyx2Lnk9dSx2LmhlaWdodD1sLXUsdGhpcy5fY3VycmVudEJvdW5kcz12LHZ9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLlJvcGUucHJvdG90eXBlLFwidXBkYXRlQW5pbWF0aW9uXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl91cGRhdGVBbmltYXRpb259LHNldDpmdW5jdGlvbih0KXt0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB0Pyh0aGlzLl9oYXNVcGRhdGVBbmltYXRpb249ITAsdGhpcy5fdXBkYXRlQW5pbWF0aW9uPXQpOih0aGlzLl9oYXNVcGRhdGVBbmltYXRpb249ITEsdGhpcy5fdXBkYXRlQW5pbWF0aW9uPW51bGwpfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLlJvcGUucHJvdG90eXBlLFwic2VnbWVudHNcIix7Z2V0OmZ1bmN0aW9uKCl7Zm9yKHZhciB0LGUscyxuLG8scixhLGgsbD1bXSxjPTA7Yzx0aGlzLnBvaW50cy5sZW5ndGg7YysrKXQ9NCpjLGU9dGhpcy52ZXJ0aWNlc1t0XSp0aGlzLnNjYWxlLngscz10aGlzLnZlcnRpY2VzW3QrMV0qdGhpcy5zY2FsZS55LG49dGhpcy52ZXJ0aWNlc1t0KzRdKnRoaXMuc2NhbGUueCxvPXRoaXMudmVydGljZXNbdCszXSp0aGlzLnNjYWxlLnkscj1pLk1hdGguZGlmZmVyZW5jZShlLG4pLGE9aS5NYXRoLmRpZmZlcmVuY2UocyxvKSxlKz10aGlzLndvcmxkLngscys9dGhpcy53b3JsZC55LGg9bmV3IGkuUmVjdGFuZ2xlKGUscyxyLGEpLGwucHVzaChoKTtyZXR1cm4gbH19KSxpLlRpbGVTcHJpdGU9ZnVuY3Rpb24odCxlLHMsbixvLHIsYSl7ZT1lfHwwLHM9c3x8MCxuPW58fDI1NixvPW98fDI1NixyPXJ8fG51bGwsYT1hfHxudWxsLFBJWEkuU3ByaXRlLmNhbGwodGhpcyxuZXcgUElYSS5UZXh0dXJlKGkuQ2FjaGUuREVGQVVMVC5iYXNlVGV4dHVyZSksbixvKSx0aGlzLnR5cGU9aS5USUxFU1BSSVRFLHRoaXMucGh5c2ljc1R5cGU9aS5TUFJJVEUsdGhpcy5fc2Nyb2xsPW5ldyBpLlBvaW50LHRoaXMudGlsZVNjYWxlPW5ldyBpLlBvaW50KDEsMSksdGhpcy50aWxlU2NhbGVPZmZzZXQ9bmV3IGkuUG9pbnQoMSwxKSx0aGlzLnRpbGVQb3NpdGlvbj1uZXcgaS5Qb2ludCx0aGlzLnRleHR1cmVEZWJ1Zz0hMSx0aGlzLmNhbnZhc0J1ZmZlcj1udWxsLHRoaXMudGlsaW5nVGV4dHVyZT1udWxsLHRoaXMudGlsZVBhdHRlcm49bnVsbCx0aGlzLnJlZnJlc2hUZXh0dXJlPSEwLHRoaXMuZnJhbWVXaWR0aD0wLHRoaXMuZnJhbWVIZWlnaHQ9MCx0aGlzLl93aWR0aD1uLHRoaXMuX2hlaWdodD1vLGkuQ29tcG9uZW50LkNvcmUuaW5pdC5jYWxsKHRoaXMsdCxlLHMscixhKX0saS5UaWxlU3ByaXRlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKFBJWEkuU3ByaXRlLnByb3RvdHlwZSksaS5UaWxlU3ByaXRlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1pLlRpbGVTcHJpdGUsaS5Db21wb25lbnQuQ29yZS5pbnN0YWxsLmNhbGwoaS5UaWxlU3ByaXRlLnByb3RvdHlwZSxbXCJBbmdsZVwiLFwiQW5pbWF0aW9uXCIsXCJBdXRvQ3VsbFwiLFwiQm91bmRzXCIsXCJCcmluZ1RvVG9wXCIsXCJEZXN0cm95XCIsXCJGaXhlZFRvQ2FtZXJhXCIsXCJIZWFsdGhcIixcIkluQ2FtZXJhXCIsXCJJbnB1dEVuYWJsZWRcIixcIkluV29ybGRcIixcIkxpZmVTcGFuXCIsXCJMb2FkVGV4dHVyZVwiLFwiT3ZlcmxhcFwiLFwiUGh5c2ljc0JvZHlcIixcIlJlc2V0XCIsXCJTbW9vdGhlZFwiXSksaS5UaWxlU3ByaXRlLnByb3RvdHlwZS5wcmVVcGRhdGVQaHlzaWNzPWkuQ29tcG9uZW50LlBoeXNpY3NCb2R5LnByZVVwZGF0ZSxpLlRpbGVTcHJpdGUucHJvdG90eXBlLnByZVVwZGF0ZUxpZmVTcGFuPWkuQ29tcG9uZW50LkxpZmVTcGFuLnByZVVwZGF0ZSxpLlRpbGVTcHJpdGUucHJvdG90eXBlLnByZVVwZGF0ZUluV29ybGQ9aS5Db21wb25lbnQuSW5Xb3JsZC5wcmVVcGRhdGUsaS5UaWxlU3ByaXRlLnByb3RvdHlwZS5wcmVVcGRhdGVDb3JlPWkuQ29tcG9uZW50LkNvcmUucHJlVXBkYXRlLGkuVGlsZVNwcml0ZS5wcm90b3R5cGUucHJlVXBkYXRlPWZ1bmN0aW9uKCl7cmV0dXJuIDAhPT10aGlzLl9zY3JvbGwueCYmKHRoaXMudGlsZVBvc2l0aW9uLngrPXRoaXMuX3Njcm9sbC54KnRoaXMuZ2FtZS50aW1lLnBoeXNpY3NFbGFwc2VkKSwwIT09dGhpcy5fc2Nyb2xsLnkmJih0aGlzLnRpbGVQb3NpdGlvbi55Kz10aGlzLl9zY3JvbGwueSp0aGlzLmdhbWUudGltZS5waHlzaWNzRWxhcHNlZCksISEodGhpcy5wcmVVcGRhdGVQaHlzaWNzKCkmJnRoaXMucHJlVXBkYXRlTGlmZVNwYW4oKSYmdGhpcy5wcmVVcGRhdGVJbldvcmxkKCkpJiZ0aGlzLnByZVVwZGF0ZUNvcmUoKX0saS5UaWxlU3ByaXRlLnByb3RvdHlwZS5hdXRvU2Nyb2xsPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuX3Njcm9sbC5zZXQodCxlKSx0aGlzfSxpLlRpbGVTcHJpdGUucHJvdG90eXBlLnN0b3BTY3JvbGw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2Nyb2xsLnNldCgwLDApLHRoaXN9LGkuVGlsZVNwcml0ZS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbih0KXtpLkNvbXBvbmVudC5EZXN0cm95LnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyx0KSxQSVhJLlNwcml0ZS5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpLHRoaXMuY2FudmFzQnVmZmVyJiYodGhpcy5jYW52YXNCdWZmZXIuZGVzdHJveSgpLHRoaXMuY2FudmFzQnVmZmVyPW51bGwpLHRoaXMudGlsZVNjYWxlPW51bGwsdGhpcy50aWxlU2NhbGVPZmZzZXQ9bnVsbCx0aGlzLnRpbGVQb3NpdGlvbj1udWxsLHRoaXMudGlsaW5nVGV4dHVyZSYmKHRoaXMudGlsaW5nVGV4dHVyZS5kZXN0cm95KCEwKSx0aGlzLnRpbGluZ1RleHR1cmU9bnVsbCl9LGkuVGlsZVNwcml0ZS5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gaS5Db21wb25lbnQuUmVzZXQucHJvdG90eXBlLnJlc2V0LmNhbGwodGhpcyx0LGUpLHRoaXMudGlsZVBvc2l0aW9uLng9MCx0aGlzLnRpbGVQb3NpdGlvbi55PTAsdGhpc30saS5UaWxlU3ByaXRlLnByb3RvdHlwZS5zZXRUZXh0dXJlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnRleHR1cmUhPT10JiYodGhpcy50ZXh0dXJlPXQsdGhpcy5yZWZyZXNoVGV4dHVyZT0hMCx0aGlzLmNhY2hlZFRpbnQ9MTY3NzcyMTUpLHRoaXN9LGkuVGlsZVNwcml0ZS5wcm90b3R5cGUuX3JlbmRlcldlYkdMPWZ1bmN0aW9uKHQpe2lmKHRoaXMudmlzaWJsZSYmdGhpcy5yZW5kZXJhYmxlJiYwIT09dGhpcy5hbHBoYSl7aWYodGhpcy5fbWFzayYmKHQuc3ByaXRlQmF0Y2guc3RvcCgpLHQubWFza01hbmFnZXIucHVzaE1hc2sodGhpcy5tYXNrLHQpLHQuc3ByaXRlQmF0Y2guc3RhcnQoKSksdGhpcy5fZmlsdGVycyYmKHQuc3ByaXRlQmF0Y2guZmx1c2goKSx0LmZpbHRlck1hbmFnZXIucHVzaEZpbHRlcih0aGlzLl9maWx0ZXJCbG9jaykpLHRoaXMucmVmcmVzaFRleHR1cmUpe2lmKHRoaXMuZ2VuZXJhdGVUaWxpbmdUZXh0dXJlKCEwLHQpLCF0aGlzLnRpbGluZ1RleHR1cmUpcmV0dXJuO3RoaXMudGlsaW5nVGV4dHVyZS5uZWVkc1VwZGF0ZSYmKHRoaXMudGlsaW5nVGV4dHVyZS5iYXNlVGV4dHVyZS50ZXh0dXJlSW5kZXg9dGhpcy50ZXh0dXJlLmJhc2VUZXh0dXJlLnRleHR1cmVJbmRleCx0LnJlbmRlcmVyLnVwZGF0ZVRleHR1cmUodGhpcy50aWxpbmdUZXh0dXJlLmJhc2VUZXh0dXJlKSx0aGlzLnRpbGluZ1RleHR1cmUubmVlZHNVcGRhdGU9ITEpfXQuc3ByaXRlQmF0Y2gucmVuZGVyVGlsaW5nU3ByaXRlKHRoaXMpO2Zvcih2YXIgZT0wO2U8dGhpcy5jaGlsZHJlbi5sZW5ndGg7ZSsrKXRoaXMuY2hpbGRyZW5bZV0uX3JlbmRlcldlYkdMKHQpO3ZhciBpPSExO3RoaXMuX2ZpbHRlcnMmJihpPSEwLHQuc3ByaXRlQmF0Y2guc3RvcCgpLHQuZmlsdGVyTWFuYWdlci5wb3BGaWx0ZXIoKSksdGhpcy5fbWFzayYmKGl8fHQuc3ByaXRlQmF0Y2guc3RvcCgpLHQubWFza01hbmFnZXIucG9wTWFzayh0aGlzLl9tYXNrLHQpKSxpJiZ0LnNwcml0ZUJhdGNoLnN0YXJ0KCl9fSxpLlRpbGVTcHJpdGUucHJvdG90eXBlLl9yZW5kZXJDYW52YXM9ZnVuY3Rpb24odCl7aWYodGhpcy52aXNpYmxlJiZ0aGlzLnJlbmRlcmFibGUmJjAhPT10aGlzLmFscGhhKXt2YXIgZT10LmNvbnRleHQ7dGhpcy5fbWFzayYmdC5tYXNrTWFuYWdlci5wdXNoTWFzayh0aGlzLl9tYXNrLHQpLGUuZ2xvYmFsQWxwaGE9dGhpcy53b3JsZEFscGhhO3ZhciBpPXRoaXMud29ybGRUcmFuc2Zvcm0scz10LnJlc29sdXRpb24sbj1pLnR4KnMrdC5zaGFrZVgsbz1pLnR5KnMrdC5zaGFrZVk7aWYoZS5zZXRUcmFuc2Zvcm0oaS5hKnMsaS5iKnMsaS5jKnMsaS5kKnMsbixvKSwxNjc3NzIxNT09PXRoaXMudGludHx8IXRoaXMudGV4dHVyZS5yZXF1aXJlc1JlVGludCYmdGhpcy5jYWNoZWRUaW50PT09dGhpcy50aW50fHwodGhpcy50aW50ZWRUZXh0dXJlPVBJWEkuQ2FudmFzVGludGVyLmdldFRpbnRlZFRleHR1cmUodGhpcyx0aGlzLnRpbnQpLHRoaXMuY2FjaGVkVGludD10aGlzLnRpbnQsdGhpcy50ZXh0dXJlLnJlcXVpcmVzUmVUaW50PSExLHRoaXMucmVmcmVzaFRleHR1cmU9ITApLHRoaXMucmVmcmVzaFRleHR1cmUpe2lmKHRoaXMuZ2VuZXJhdGVUaWxpbmdUZXh0dXJlKCExLHQpLCF0aGlzLnRpbGluZ1RleHR1cmUpcmV0dXJuO3RoaXMudGlsZVBhdHRlcm49ZS5jcmVhdGVQYXR0ZXJuKHRoaXMudGlsaW5nVGV4dHVyZS5iYXNlVGV4dHVyZS5zb3VyY2UsXCJyZXBlYXRcIil9dmFyIHI9dC5jdXJyZW50QmxlbmRNb2RlO3RoaXMuYmxlbmRNb2RlIT09dC5jdXJyZW50QmxlbmRNb2RlJiYodC5jdXJyZW50QmxlbmRNb2RlPXRoaXMuYmxlbmRNb2RlLGUuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uPVBJWEkuYmxlbmRNb2Rlc0NhbnZhc1t0LmN1cnJlbnRCbGVuZE1vZGVdKTt2YXIgYT10aGlzLnRpbGVQb3NpdGlvbixoPXRoaXMudGlsZVNjYWxlO2EueCU9dGhpcy50aWxpbmdUZXh0dXJlLmJhc2VUZXh0dXJlLndpZHRoLGEueSU9dGhpcy50aWxpbmdUZXh0dXJlLmJhc2VUZXh0dXJlLmhlaWdodCxlLnNjYWxlKGgueCxoLnkpLGUudHJhbnNsYXRlKGEueCt0aGlzLmFuY2hvci54Ki10aGlzLl93aWR0aCxhLnkrdGhpcy5hbmNob3IueSotdGhpcy5faGVpZ2h0KSxlLmZpbGxTdHlsZT10aGlzLnRpbGVQYXR0ZXJuLG49LWEueCxvPS1hLnk7dmFyIGw9dGhpcy5fd2lkdGgvaC54LGM9dGhpcy5faGVpZ2h0L2gueTt0LnJvdW5kUGl4ZWxzJiYobnw9MCxvfD0wLGx8PTAsY3w9MCksZS5maWxsUmVjdChuLG8sbCxjKSxlLnNjYWxlKDEvaC54LDEvaC55KSxlLnRyYW5zbGF0ZSgtYS54K3RoaXMuYW5jaG9yLngqdGhpcy5fd2lkdGgsLWEueSt0aGlzLmFuY2hvci55KnRoaXMuX2hlaWdodCksdGhpcy5fbWFzayYmdC5tYXNrTWFuYWdlci5wb3BNYXNrKHQpO2Zvcih2YXIgdT0wO3U8dGhpcy5jaGlsZHJlbi5sZW5ndGg7dSsrKXRoaXMuY2hpbGRyZW5bdV0uX3JlbmRlckNhbnZhcyh0KTtyIT09dGhpcy5ibGVuZE1vZGUmJih0LmN1cnJlbnRCbGVuZE1vZGU9cixlLmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbj1QSVhJLmJsZW5kTW9kZXNDYW52YXNbcl0pfX0saS5UaWxlU3ByaXRlLnByb3RvdHlwZS5vblRleHR1cmVVcGRhdGU9ZnVuY3Rpb24oKXt9LGkuVGlsZVNwcml0ZS5wcm90b3R5cGUuZ2VuZXJhdGVUaWxpbmdUZXh0dXJlPWZ1bmN0aW9uKHQpe2lmKHRoaXMudGV4dHVyZS5iYXNlVGV4dHVyZS5oYXNMb2FkZWQpe3ZhciBlPXRoaXMudGV4dHVyZSxzPWUuZnJhbWUsbj10aGlzLl9mcmFtZS5zb3VyY2VTaXplV3x8dGhpcy5fZnJhbWUud2lkdGgsbz10aGlzLl9mcmFtZS5zb3VyY2VTaXplSHx8dGhpcy5fZnJhbWUuaGVpZ2h0LHI9MCxhPTA7dGhpcy5fZnJhbWUudHJpbW1lZCYmKHI9dGhpcy5fZnJhbWUuc3ByaXRlU291cmNlU2l6ZVgsYT10aGlzLl9mcmFtZS5zcHJpdGVTb3VyY2VTaXplWSksdCYmKG49aS5NYXRoLmdldE5leHRQb3dlck9mVHdvKG4pLG89aS5NYXRoLmdldE5leHRQb3dlck9mVHdvKG8pKSx0aGlzLmNhbnZhc0J1ZmZlcj8odGhpcy5jYW52YXNCdWZmZXIucmVzaXplKG4sbyksdGhpcy50aWxpbmdUZXh0dXJlLmJhc2VUZXh0dXJlLndpZHRoPW4sdGhpcy50aWxpbmdUZXh0dXJlLmJhc2VUZXh0dXJlLmhlaWdodD1vLHRoaXMudGlsaW5nVGV4dHVyZS5uZWVkc1VwZGF0ZT0hMCk6KHRoaXMuY2FudmFzQnVmZmVyPW5ldyBQSVhJLkNhbnZhc0J1ZmZlcihuLG8pLHRoaXMudGlsaW5nVGV4dHVyZT1QSVhJLlRleHR1cmUuZnJvbUNhbnZhcyh0aGlzLmNhbnZhc0J1ZmZlci5jYW52YXMpLHRoaXMudGlsaW5nVGV4dHVyZS5pc1RpbGluZz0hMCx0aGlzLnRpbGluZ1RleHR1cmUubmVlZHNVcGRhdGU9ITApLHRoaXMudGV4dHVyZURlYnVnJiYodGhpcy5jYW52YXNCdWZmZXIuY29udGV4dC5zdHJva2VTdHlsZT1cIiMwMGZmMDBcIix0aGlzLmNhbnZhc0J1ZmZlci5jb250ZXh0LnN0cm9rZVJlY3QoMCwwLG4sbykpO3ZhciBoPWUuY3JvcC53aWR0aCxsPWUuY3JvcC5oZWlnaHQ7aD09PW4mJmw9PT1vfHwoaD1uLGw9byk7dmFyIGM9dGhpcy50aW50ZWRUZXh0dXJlP3RoaXMudGludGVkVGV4dHVyZTplLmJhc2VUZXh0dXJlLnNvdXJjZTt0aGlzLmNhbnZhc0J1ZmZlci5jb250ZXh0LmRyYXdJbWFnZShjLGUuY3JvcC54LGUuY3JvcC55LGUuY3JvcC53aWR0aCxlLmNyb3AuaGVpZ2h0LHIsYSxoLGwpLHRoaXMudGlsZVNjYWxlT2Zmc2V0Lng9cy53aWR0aC9uLHRoaXMudGlsZVNjYWxlT2Zmc2V0Lnk9cy5oZWlnaHQvbyx0aGlzLnJlZnJlc2hUZXh0dXJlPSExLHRoaXMudGlsaW5nVGV4dHVyZS5iYXNlVGV4dHVyZS5fcG93ZXJPZjI9ITB9fSxpLlRpbGVTcHJpdGUucHJvdG90eXBlLmdldEJvdW5kcz1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX3dpZHRoLGU9dGhpcy5faGVpZ2h0LGk9dCooMS10aGlzLmFuY2hvci54KSxzPXQqLXRoaXMuYW5jaG9yLngsbj1lKigxLXRoaXMuYW5jaG9yLnkpLG89ZSotdGhpcy5hbmNob3IueSxyPXRoaXMud29ybGRUcmFuc2Zvcm0sYT1yLmEsaD1yLmIsbD1yLmMsYz1yLmQsdT1yLnR4LGQ9ci50eSxwPWEqcytsKm8rdSxmPWMqbytoKnMrZCxtPWEqaStsKm8rdSxnPWMqbytoKmkrZCx5PWEqaStsKm4rdSx2PWMqbitoKmkrZCx4PWEqcytsKm4rdSxiPWMqbitoKnMrZCxfPS0xLzAsdz0tMS8wLFQ9MS8wLFA9MS8wO1Q9eDwoVD15PChUPW08KFQ9cDxUP3A6VCk/bTpUKT95OlQpP3g6VCxQPWI8KFA9djwoUD1nPChQPWY8UD9mOlApP2c6UCk/djpQKT9iOlAsXz14PihfPXk+KF89bT4oXz1wPl8/cDpfKT9tOl8pP3k6Xyk/eDpfLHc9Yj4odz12Pih3PWc+KHc9Zj53P2Y6dyk/Zzp3KT92OncpP2I6dzt2YXIgQz10aGlzLl9ib3VuZHM7cmV0dXJuIEMueD1ULEMud2lkdGg9Xy1ULEMueT1QLEMuaGVpZ2h0PXctUCx0aGlzLl9jdXJyZW50Qm91bmRzPUMsQ30sT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuVGlsZVNwcml0ZS5wcm90b3R5cGUsXCJ3aWR0aFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fd2lkdGh9LHNldDpmdW5jdGlvbih0KXt0aGlzLl93aWR0aD10fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLlRpbGVTcHJpdGUucHJvdG90eXBlLFwiaGVpZ2h0XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9oZWlnaHR9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9oZWlnaHQ9dH19KSxpLkNhbnZhc1Bvb2w9e2NyZWF0ZTpmdW5jdGlvbih0LGUscyl7dmFyIG4sbz1pLkNhbnZhc1Bvb2wuZ2V0Rmlyc3QoKTtpZigtMT09PW8pe3ZhciByPXtwYXJlbnQ6dCxjYW52YXM6ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKX07aS5DYW52YXNQb29sLnBvb2wucHVzaChyKSxuPXIuY2FudmFzfWVsc2UgaS5DYW52YXNQb29sLnBvb2xbb10ucGFyZW50PXQsbj1pLkNhbnZhc1Bvb2wucG9vbFtvXS5jYW52YXM7cmV0dXJuIHZvaWQgMCE9PWUmJihuLndpZHRoPWUsbi5oZWlnaHQ9cyksbn0sZ2V0Rmlyc3Q6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9aS5DYW52YXNQb29sLnBvb2wsZT0wO2U8dC5sZW5ndGg7ZSsrKWlmKCF0W2VdLnBhcmVudClyZXR1cm4gZTtyZXR1cm4tMX0scmVtb3ZlOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1pLkNhbnZhc1Bvb2wucG9vbCxzPTA7czxlLmxlbmd0aDtzKyspZVtzXS5wYXJlbnQ9PT10JiYoZVtzXS5wYXJlbnQ9bnVsbCxlW3NdLmNhbnZhcy53aWR0aD0xLGVbc10uY2FudmFzLmhlaWdodD0xKX0scmVtb3ZlQnlDYW52YXM6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPWkuQ2FudmFzUG9vbC5wb29sLHM9MDtzPGUubGVuZ3RoO3MrKyllW3NdLmNhbnZhcz09PXQmJihlW3NdLnBhcmVudD1udWxsLGVbc10uY2FudmFzLndpZHRoPTEsZVtzXS5jYW52YXMuaGVpZ2h0PTEpfSxnZXRUb3RhbDpmdW5jdGlvbigpe2Zvcih2YXIgdD1pLkNhbnZhc1Bvb2wucG9vbCxlPTAscz0wO3M8dC5sZW5ndGg7cysrKXRbc10ucGFyZW50JiZlKys7cmV0dXJuIGV9LGdldEZyZWU6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9aS5DYW52YXNQb29sLnBvb2wsZT0wLHM9MDtzPHQubGVuZ3RoO3MrKyl0W3NdLnBhcmVudHx8ZSsrO3JldHVybiBlfSxsb2c6ZnVuY3Rpb24oKXtjb25zb2xlLmxvZyhcIkNhbnZhc1Bvb2w6ICVzIHVzZWQsICVzIGZyZWUsICVzIHRvdGFsXCIsdGhpcy5nZXRUb3RhbCgpLHRoaXMuZ2V0RnJlZSgpLHRoaXMucG9vbC5sZW5ndGgpfX0saS5DYW52YXNQb29sLnBvb2w9W10sT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuQ2FudmFzUG9vbCxcImxlbmd0aFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wb29sLmxlbmd0aH19KSxpLkRldmljZT1mdW5jdGlvbigpe3RoaXMuZGV2aWNlUmVhZHlBdD0wLHRoaXMuaW5pdGlhbGl6ZWQ9ITEsdGhpcy5kZXNrdG9wPSExLHRoaXMuaU9TPSExLHRoaXMuaU9TVmVyc2lvbj0wLHRoaXMuY29jb29uSlM9ITEsdGhpcy5jb2Nvb25KU0FwcD0hMSx0aGlzLmNvcmRvdmE9ITEsdGhpcy5ub2RlPSExLHRoaXMubm9kZVdlYmtpdD0hMSx0aGlzLmVsZWN0cm9uPSExLHRoaXMuZWplY3RhPSExLHRoaXMuY3Jvc3N3YWxrPSExLHRoaXMuYW5kcm9pZD0hMSx0aGlzLmNocm9tZU9TPSExLHRoaXMubGludXg9ITEsdGhpcy5tYWNPUz0hMSx0aGlzLndpbmRvd3M9ITEsdGhpcy53aW5kb3dzUGhvbmU9ITEsdGhpcy5jYW52YXM9ITEsdGhpcy5jYW52YXNCaXRCbHRTaGlmdD1udWxsLHRoaXMuY2FuSGFuZGxlQWxwaGE9ITEsdGhpcy5jYW5Vc2VNdWx0aXBseT0hMSx0aGlzLndlYkdMPSExLHRoaXMud2ViR0xFcnJvcj1udWxsLHRoaXMuZmlsZT0hMSx0aGlzLmZpbGVTeXN0ZW09ITEsdGhpcy5sb2NhbFN0b3JhZ2U9ITEsdGhpcy53b3JrZXI9ITEsdGhpcy5jc3MzRD0hMSx0aGlzLnBvaW50ZXJMb2NrPSExLHRoaXMudHlwZWRBcnJheT0hMSx0aGlzLnZpYnJhdGlvbj0hMSx0aGlzLmdldFVzZXJNZWRpYT0hMCx0aGlzLnF1aXJrc01vZGU9ITEsdGhpcy50b3VjaD0hMSx0aGlzLm1zcG9pbnRlcj0hMSx0aGlzLndoZWVsRXZlbnQ9bnVsbCx0aGlzLmFyb3JhPSExLHRoaXMuY2hyb21lPSExLHRoaXMuY2hyb21lVmVyc2lvbj0wLHRoaXMuZXBpcGhhbnk9ITEsdGhpcy5maXJlZm94PSExLHRoaXMuZmlyZWZveFZlcnNpb249MCx0aGlzLmllPSExLHRoaXMuaWVWZXJzaW9uPTAsdGhpcy50cmlkZW50PSExLHRoaXMudHJpZGVudFZlcnNpb249MCx0aGlzLmVkZ2U9ITEsdGhpcy5tb2JpbGVTYWZhcmk9ITEsdGhpcy5taWRvcmk9ITEsdGhpcy5vcGVyYT0hMSx0aGlzLnNhZmFyaT0hMSx0aGlzLnNhZmFyaVZlcnNpb249MCx0aGlzLndlYkFwcD0hMSx0aGlzLnNpbGs9ITEsdGhpcy5hdWRpb0RhdGE9ITEsdGhpcy53ZWJBdWRpbz0hMSx0aGlzLm9nZz0hMSx0aGlzLm9wdXM9ITEsdGhpcy5tcDM9ITEsdGhpcy53YXY9ITEsdGhpcy5tNGE9ITEsdGhpcy53ZWJtPSExLHRoaXMuZG9sYnk9ITEsdGhpcy5vZ2dWaWRlbz0hMSx0aGlzLmgyNjRWaWRlbz0hMSx0aGlzLm1wNFZpZGVvPSExLHRoaXMud2VibVZpZGVvPSExLHRoaXMudnA5VmlkZW89ITEsdGhpcy5obHNWaWRlbz0hMSx0aGlzLmlQaG9uZT0hMSx0aGlzLmlQaG9uZTQ9ITEsdGhpcy5pUGFkPSExLHRoaXMucGl4ZWxSYXRpbz0wLHRoaXMubGl0dGxlRW5kaWFuPSExLHRoaXMuTElUVExFX0VORElBTj0hMSx0aGlzLnN1cHBvcnQzMmJpdD0hMSx0aGlzLmZ1bGxzY3JlZW49ITEsdGhpcy5yZXF1ZXN0RnVsbHNjcmVlbj1cIlwiLHRoaXMuY2FuY2VsRnVsbHNjcmVlbj1cIlwiLHRoaXMuZnVsbHNjcmVlbktleWJvYXJkPSExfSxpLkRldmljZT1uZXcgaS5EZXZpY2UsaS5EZXZpY2Uub25Jbml0aWFsaXplZD1uZXcgaS5TaWduYWwsaS5EZXZpY2Uud2hlblJlYWR5PWZ1bmN0aW9uKHQsZSxpKXt2YXIgcz10aGlzLl9yZWFkeUNoZWNrO2lmKHRoaXMuZGV2aWNlUmVhZHlBdHx8IXMpdC5jYWxsKGUsdGhpcyk7ZWxzZSBpZihzLl9tb25pdG9yfHxpKXMuX3F1ZXVlPXMuX3F1ZXVlfHxbXSxzLl9xdWV1ZS5wdXNoKFt0LGVdKTtlbHNle3MuX21vbml0b3I9cy5iaW5kKHRoaXMpLHMuX3F1ZXVlPXMuX3F1ZXVlfHxbXSxzLl9xdWV1ZS5wdXNoKFt0LGVdKTt2YXIgbj12b2lkIDAhPT13aW5kb3cuY29yZG92YSxvPW5hdmlnYXRvci5pc0NvY29vbkpTO1wiY29tcGxldGVcIj09PWRvY3VtZW50LnJlYWR5U3RhdGV8fFwiaW50ZXJhY3RpdmVcIj09PWRvY3VtZW50LnJlYWR5U3RhdGU/d2luZG93LnNldFRpbWVvdXQocy5fbW9uaXRvciwwKTpuJiYhbz9kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiZGV2aWNlcmVhZHlcIixzLl9tb25pdG9yLCExKTooZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIixzLl9tb25pdG9yLCExKSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIixzLl9tb25pdG9yLCExKSl9fSxpLkRldmljZS5fcmVhZHlDaGVjaz1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX3JlYWR5Q2hlY2s7aWYoZG9jdW1lbnQuYm9keSl7aWYoIXRoaXMuZGV2aWNlUmVhZHlBdCl7dGhpcy5kZXZpY2VSZWFkeUF0PURhdGUubm93KCksZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImRldmljZXJlYWR5XCIsdC5fbW9uaXRvciksZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIix0Ll9tb25pdG9yKSx3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImxvYWRcIix0Ll9tb25pdG9yKSx0aGlzLl9pbml0aWFsaXplKCksdGhpcy5pbml0aWFsaXplZD0hMCx0aGlzLm9uSW5pdGlhbGl6ZWQuZGlzcGF0Y2godGhpcyk7Zm9yKHZhciBlO2U9dC5fcXVldWUuc2hpZnQoKTspe3ZhciBpPWVbMF0scz1lWzFdO2kuY2FsbChzLHRoaXMpfXRoaXMuX3JlYWR5Q2hlY2s9bnVsbCx0aGlzLl9pbml0aWFsaXplPW51bGwsdGhpcy5vbkluaXRpYWxpemVkPW51bGx9fWVsc2Ugd2luZG93LnNldFRpbWVvdXQodC5fbW9uaXRvciwyMCl9LGkuRGV2aWNlLl9pbml0aWFsaXplPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3ZhciB0PW5ldyBBcnJheUJ1ZmZlcig0KSxlPW5ldyBVaW50OEFycmF5KHQpLGk9bmV3IFVpbnQzMkFycmF5KHQpO3JldHVybiBlWzBdPTE2MSxlWzFdPTE3OCxlWzJdPTE5NSxlWzNdPTIxMiwzNTY5NTk1MDQxPT09aVswXXx8MjcxMjg0NzMxNiE9PWlbMF0mJm51bGx9ZnVuY3Rpb24gZSgpe2lmKHZvaWQgMD09PVVpbnQ4Q2xhbXBlZEFycmF5KXJldHVybiExO3ZhciB0PWkuQ2FudmFzUG9vbC5jcmVhdGUodGhpcywxLDEpLmdldENvbnRleHQoXCIyZFwiKTtpZighdClyZXR1cm4hMTt2YXIgZT10LmNyZWF0ZUltYWdlRGF0YSgxLDEpO3JldHVybiBpLkNhbnZhc1Bvb2wucmVtb3ZlKHRoaXMpLGUuZGF0YSBpbnN0YW5jZW9mIFVpbnQ4Q2xhbXBlZEFycmF5fXZhciBzPXRoaXM7IWZ1bmN0aW9uKCl7dmFyIHQ9bmF2aWdhdG9yLnVzZXJBZ2VudDsvUGxheXN0YXRpb24gVml0YS8udGVzdCh0KT9zLnZpdGE9ITA6L0tpbmRsZS8udGVzdCh0KXx8L1xcYktGW0EtWl1bQS1aXSsvLnRlc3QodCl8fC9TaWxrLipNb2JpbGUgU2FmYXJpLy50ZXN0KHQpP3Mua2luZGxlPSEwOi9BbmRyb2lkLy50ZXN0KHQpP3MuYW5kcm9pZD0hMDovQ3JPUy8udGVzdCh0KT9zLmNocm9tZU9TPSEwOi9pUFthb11kfGlQaG9uZS9pLnRlc3QodCk/KHMuaU9TPSEwLG5hdmlnYXRvci5hcHBWZXJzaW9uLm1hdGNoKC9PUyAoXFxkKykvKSxzLmlPU1ZlcnNpb249cGFyc2VJbnQoUmVnRXhwLiQxLDEwKSk6L0xpbnV4Ly50ZXN0KHQpP3MubGludXg9ITA6L01hYyBPUy8udGVzdCh0KT9zLm1hY09TPSEwOi9XaW5kb3dzLy50ZXN0KHQpJiYocy53aW5kb3dzPSEwKSwoL1dpbmRvd3MgUGhvbmUvaS50ZXN0KHQpfHwvSUVNb2JpbGUvaS50ZXN0KHQpKSYmKHMuYW5kcm9pZD0hMSxzLmlPUz0hMSxzLm1hY09TPSExLHMud2luZG93cz0hMCxzLndpbmRvd3NQaG9uZT0hMCk7dmFyIGU9L1NpbGsvLnRlc3QodCk7KHMud2luZG93c3x8cy5tYWNPU3x8cy5saW51eCYmIWV8fHMuY2hyb21lT1MpJiYocy5kZXNrdG9wPSEwKSwocy53aW5kb3dzUGhvbmV8fC9XaW5kb3dzIE5UL2kudGVzdCh0KSYmL1RvdWNoL2kudGVzdCh0KSkmJihzLmRlc2t0b3A9ITEpfSgpLGZ1bmN0aW9uKCl7dmFyIHQ9bmF2aWdhdG9yLnVzZXJBZ2VudDtpZigvQXJvcmEvLnRlc3QodCk/cy5hcm9yYT0hMDovRWRnZVxcL1xcZCsvLnRlc3QodCk/cy5lZGdlPSEwOi9DaHJvbWVcXC8oXFxkKykvLnRlc3QodCkmJiFzLndpbmRvd3NQaG9uZT8ocy5jaHJvbWU9ITAscy5jaHJvbWVWZXJzaW9uPXBhcnNlSW50KFJlZ0V4cC4kMSwxMCkpOi9FcGlwaGFueS8udGVzdCh0KT9zLmVwaXBoYW55PSEwOi9GaXJlZm94XFxEKyhcXGQrKS8udGVzdCh0KT8ocy5maXJlZm94PSEwLHMuZmlyZWZveFZlcnNpb249cGFyc2VJbnQoUmVnRXhwLiQxLDEwKSk6L0FwcGxlV2ViS2l0Ly50ZXN0KHQpJiZzLmlPUz9zLm1vYmlsZVNhZmFyaT0hMDovTVNJRSAoXFxkK1xcLlxcZCspOy8udGVzdCh0KT8ocy5pZT0hMCxzLmllVmVyc2lvbj1wYXJzZUludChSZWdFeHAuJDEsMTApKTovTWlkb3JpLy50ZXN0KHQpP3MubWlkb3JpPSEwOi9PcGVyYS8udGVzdCh0KT9zLm9wZXJhPSEwOi9TYWZhcmlcXC8oXFxkKykvLnRlc3QodCkmJiFzLndpbmRvd3NQaG9uZT8ocy5zYWZhcmk9ITAsL1ZlcnNpb25cXC8oXFxkKylcXC4vLnRlc3QodCkmJihzLnNhZmFyaVZlcnNpb249cGFyc2VJbnQoUmVnRXhwLiQxLDEwKSkpOi9UcmlkZW50XFwvKFxcZCtcXC5cXGQrKSguKilydjooXFxkK1xcLlxcZCspLy50ZXN0KHQpJiYocy5pZT0hMCxzLnRyaWRlbnQ9ITAscy50cmlkZW50VmVyc2lvbj1wYXJzZUludChSZWdFeHAuJDEsMTApLHMuaWVWZXJzaW9uPXBhcnNlSW50KFJlZ0V4cC4kMywxMCkpLC9TaWxrLy50ZXN0KHQpJiYocy5zaWxrPSEwKSxuYXZpZ2F0b3Iuc3RhbmRhbG9uZSYmKHMud2ViQXBwPSEwKSx2b2lkIDAhPT13aW5kb3cuY29yZG92YSYmKHMuY29yZG92YT0hMCksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHByb2Nlc3MmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiByZXF1aXJlJiYocy5ub2RlPSEwKSxzLm5vZGUmJlwib2JqZWN0XCI9PXR5cGVvZiBwcm9jZXNzLnZlcnNpb25zJiYocy5ub2RlV2Via2l0PSEhcHJvY2Vzcy52ZXJzaW9uc1tcIm5vZGUtd2Via2l0XCJdLHMuZWxlY3Ryb249ISFwcm9jZXNzLnZlcnNpb25zLmVsZWN0cm9uKSxuYXZpZ2F0b3IuaXNDb2Nvb25KUyYmKHMuY29jb29uSlM9ITApLHMuY29jb29uSlMpdHJ5e3MuY29jb29uSlNBcHA9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIENvY29vbkpTfWNhdGNoKHQpe3MuY29jb29uSlNBcHA9ITF9dm9pZCAwIT09d2luZG93LmVqZWN0YSYmKHMuZWplY3RhPSEwKSwvQ3Jvc3N3YWxrLy50ZXN0KHQpJiYocy5jcm9zc3dhbGs9ITApfSgpLGZ1bmN0aW9uKCl7cy5hdWRpb0RhdGE9ISF3aW5kb3cuQXVkaW8scy53ZWJBdWRpbz0hKCF3aW5kb3cuQXVkaW9Db250ZXh0JiYhd2luZG93LndlYmtpdEF1ZGlvQ29udGV4dCk7dmFyIHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImF1ZGlvXCIpO3RyeXtpZih0LmNhblBsYXlUeXBlJiYodC5jYW5QbGF5VHlwZSgnYXVkaW8vb2dnOyBjb2RlY3M9XCJ2b3JiaXNcIicpLnJlcGxhY2UoL15ubyQvLFwiXCIpJiYocy5vZ2c9ITApLCh0LmNhblBsYXlUeXBlKCdhdWRpby9vZ2c7IGNvZGVjcz1cIm9wdXNcIicpLnJlcGxhY2UoL15ubyQvLFwiXCIpfHx0LmNhblBsYXlUeXBlKFwiYXVkaW8vb3B1cztcIikucmVwbGFjZSgvXm5vJC8sXCJcIikpJiYocy5vcHVzPSEwKSx0LmNhblBsYXlUeXBlKFwiYXVkaW8vbXBlZztcIikucmVwbGFjZSgvXm5vJC8sXCJcIikmJihzLm1wMz0hMCksdC5jYW5QbGF5VHlwZSgnYXVkaW8vd2F2OyBjb2RlY3M9XCIxXCInKS5yZXBsYWNlKC9ebm8kLyxcIlwiKSYmKHMud2F2PSEwKSwodC5jYW5QbGF5VHlwZShcImF1ZGlvL3gtbTRhO1wiKXx8dC5jYW5QbGF5VHlwZShcImF1ZGlvL2FhYztcIikucmVwbGFjZSgvXm5vJC8sXCJcIikpJiYocy5tNGE9ITApLHQuY2FuUGxheVR5cGUoJ2F1ZGlvL3dlYm07IGNvZGVjcz1cInZvcmJpc1wiJykucmVwbGFjZSgvXm5vJC8sXCJcIikmJihzLndlYm09ITApLFwiXCIhPT10LmNhblBsYXlUeXBlKCdhdWRpby9tcDQ7Y29kZWNzPVwiZWMtM1wiJykpKWlmKHMuZWRnZSlzLmRvbGJ5PSEwO2Vsc2UgaWYocy5zYWZhcmkmJnMuc2FmYXJpVmVyc2lvbj49OSYmL01hYyBPUyBYIChcXGQrKV8oXFxkKykvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkpe3ZhciBlPXBhcnNlSW50KFJlZ0V4cC4kMSwxMCksaT1wYXJzZUludChSZWdFeHAuJDIsMTApOygxMD09PWUmJmk+PTExfHxlPjEwKSYmKHMuZG9sYnk9ITApfX1jYXRjaCh0KXt9fSgpLGZ1bmN0aW9uKCl7dmFyIHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInZpZGVvXCIpO3RyeXshIXQuY2FuUGxheVR5cGUmJih0LmNhblBsYXlUeXBlKCd2aWRlby9vZ2c7IGNvZGVjcz1cInRoZW9yYVwiJykucmVwbGFjZSgvXm5vJC8sXCJcIikmJihzLm9nZ1ZpZGVvPSEwKSx0LmNhblBsYXlUeXBlKCd2aWRlby9tcDQ7IGNvZGVjcz1cImF2YzEuNDJFMDFFXCInKS5yZXBsYWNlKC9ebm8kLyxcIlwiKSYmKHMuaDI2NFZpZGVvPSEwLHMubXA0VmlkZW89ITApLHQuY2FuUGxheVR5cGUoJ3ZpZGVvL3dlYm07IGNvZGVjcz1cInZwOCwgdm9yYmlzXCInKS5yZXBsYWNlKC9ebm8kLyxcIlwiKSYmKHMud2VibVZpZGVvPSEwKSx0LmNhblBsYXlUeXBlKCd2aWRlby93ZWJtOyBjb2RlY3M9XCJ2cDlcIicpLnJlcGxhY2UoL15ubyQvLFwiXCIpJiYocy52cDlWaWRlbz0hMCksdC5jYW5QbGF5VHlwZSgnYXBwbGljYXRpb24veC1tcGVnVVJMOyBjb2RlY3M9XCJhdmMxLjQyRTAxRVwiJykucmVwbGFjZSgvXm5vJC8sXCJcIikmJihzLmhsc1ZpZGVvPSEwKSl9Y2F0Y2godCl7fX0oKSxmdW5jdGlvbigpe3ZhciB0LGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIiksaT17d2Via2l0VHJhbnNmb3JtOlwiLXdlYmtpdC10cmFuc2Zvcm1cIixPVHJhbnNmb3JtOlwiLW8tdHJhbnNmb3JtXCIsbXNUcmFuc2Zvcm06XCItbXMtdHJhbnNmb3JtXCIsTW96VHJhbnNmb3JtOlwiLW1vei10cmFuc2Zvcm1cIix0cmFuc2Zvcm06XCJ0cmFuc2Zvcm1cIn07ZG9jdW1lbnQuYm9keS5pbnNlcnRCZWZvcmUoZSxudWxsKTtmb3IodmFyIG4gaW4gaSl2b2lkIDAhPT1lLnN0eWxlW25dJiYoZS5zdHlsZVtuXT1cInRyYW5zbGF0ZTNkKDFweCwxcHgsMXB4KVwiLHQ9d2luZG93LmdldENvbXB1dGVkU3R5bGUoZSkuZ2V0UHJvcGVydHlWYWx1ZShpW25dKSk7ZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChlKSxzLmNzczNEPXZvaWQgMCE9PXQmJnQubGVuZ3RoPjAmJlwibm9uZVwiIT09dH0oKSxzLnBpeGVsUmF0aW89d2luZG93LmRldmljZVBpeGVsUmF0aW98fDEscy5pUGhvbmU9LTEhPT1uYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkuaW5kZXhPZihcImlwaG9uZVwiKSxzLmlQaG9uZTQ9Mj09PXMucGl4ZWxSYXRpbyYmcy5pUGhvbmUscy5pUGFkPS0xIT09bmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLmluZGV4T2YoXCJpcGFkXCIpLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBJbnQ4QXJyYXk/cy50eXBlZEFycmF5PSEwOnMudHlwZWRBcnJheT0hMSxcInVuZGVmaW5lZFwiIT10eXBlb2YgQXJyYXlCdWZmZXImJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBVaW50OEFycmF5JiZcInVuZGVmaW5lZFwiIT10eXBlb2YgVWludDMyQXJyYXkmJihzLmxpdHRsZUVuZGlhbj10KCkscy5MSVRUTEVfRU5ESUFOPXMubGl0dGxlRW5kaWFuKSxzLnN1cHBvcnQzMmJpdD1cInVuZGVmaW5lZFwiIT10eXBlb2YgQXJyYXlCdWZmZXImJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBVaW50OENsYW1wZWRBcnJheSYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIEludDMyQXJyYXkmJm51bGwhPT1zLmxpdHRsZUVuZGlhbiYmZSgpLG5hdmlnYXRvci52aWJyYXRlPW5hdmlnYXRvci52aWJyYXRlfHxuYXZpZ2F0b3Iud2Via2l0VmlicmF0ZXx8bmF2aWdhdG9yLm1velZpYnJhdGV8fG5hdmlnYXRvci5tc1ZpYnJhdGUsbmF2aWdhdG9yLnZpYnJhdGUmJihzLnZpYnJhdGlvbj0hMCksZnVuY3Rpb24oKXtzLmNhbnZhcz0hIXdpbmRvdy5DYW52YXNSZW5kZXJpbmdDb250ZXh0MkR8fHMuY29jb29uSlM7dHJ5e3MubG9jYWxTdG9yYWdlPSEhbG9jYWxTdG9yYWdlLmdldEl0ZW19Y2F0Y2godCl7cy5sb2NhbFN0b3JhZ2U9ITF9cy5maWxlPSEhKHdpbmRvdy5GaWxlJiZ3aW5kb3cuRmlsZVJlYWRlciYmd2luZG93LkZpbGVMaXN0JiZ3aW5kb3cuQmxvYikscy5maWxlU3lzdGVtPSEhd2luZG93LnJlcXVlc3RGaWxlU3lzdGVtLHMud2ViR0w9ISFmdW5jdGlvbigpe2lmKCF3aW5kb3cuV2ViR0xSZW5kZXJpbmdDb250ZXh0KXJldHVybiExO3RyeXt2YXIgdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO3Quc2NyZWVuY2FudmFzPSExO3ZhciBlPXtzdGVuY2lsOiEwfTtyZXR1cm4gdC5nZXRDb250ZXh0KFwid2ViZ2xcIixlKXx8dC5nZXRDb250ZXh0KFwiZXhwZXJpbWVudGFsLXdlYmdsXCIsZSl9Y2F0Y2godCl7cmV0dXJuIHMud2ViR0xFcnJvcj10LCExfX0oKSxzLndvcmtlcj0hIXdpbmRvdy5Xb3JrZXIscy5wb2ludGVyTG9jaz1cInBvaW50ZXJMb2NrRWxlbWVudFwiaW4gZG9jdW1lbnR8fFwibW96UG9pbnRlckxvY2tFbGVtZW50XCJpbiBkb2N1bWVudHx8XCJ3ZWJraXRQb2ludGVyTG9ja0VsZW1lbnRcImluIGRvY3VtZW50LHMucXVpcmtzTW9kZT1cIkNTUzFDb21wYXRcIiE9PWRvY3VtZW50LmNvbXBhdE1vZGUsbmF2aWdhdG9yLmdldFVzZXJNZWRpYT1uYXZpZ2F0b3IuZ2V0VXNlck1lZGlhfHxuYXZpZ2F0b3Iud2Via2l0R2V0VXNlck1lZGlhfHxuYXZpZ2F0b3IubW96R2V0VXNlck1lZGlhfHxuYXZpZ2F0b3IubXNHZXRVc2VyTWVkaWF8fG5hdmlnYXRvci5vR2V0VXNlck1lZGlhLHdpbmRvdy5VUkw9d2luZG93LlVSTHx8d2luZG93LndlYmtpdFVSTHx8d2luZG93Lm1velVSTHx8d2luZG93Lm1zVVJMLHMuZ2V0VXNlck1lZGlhPXMuZ2V0VXNlck1lZGlhJiYhIW5hdmlnYXRvci5nZXRVc2VyTWVkaWEmJiEhd2luZG93LlVSTCxzLmZpcmVmb3gmJnMuZmlyZWZveFZlcnNpb248MjEmJihzLmdldFVzZXJNZWRpYT0hMSksIXMuaU9TJiYocy5pZXx8cy5maXJlZm94fHxzLmNocm9tZSkmJihzLmNhbnZhc0JpdEJsdFNoaWZ0PSEwKSwocy5zYWZhcml8fHMubW9iaWxlU2FmYXJpKSYmKHMuY2FudmFzQml0Qmx0U2hpZnQ9ITEpfSgpLGZ1bmN0aW9uKCl7dmFyIHQ9aS5DYW52YXNQb29sLmNyZWF0ZSh0aGlzLDYsMSksZT10LmdldENvbnRleHQoXCIyZFwiKTtlLmZpbGxTdHlsZT1cInJnYmEoMTAsIDIwLCAzMCwgMC41KVwiLGUuZmlsbFJlY3QoMCwwLDEsMSk7dmFyIG49ZS5nZXRJbWFnZURhdGEoMCwwLDEsMSk7aWYobil7ZS5wdXRJbWFnZURhdGEobiwxLDApO3ZhciBvPWUuZ2V0SW1hZ2VEYXRhKDEsMCwxLDEpO3MuY2FuSGFuZGxlQWxwaGE9by5kYXRhWzBdPT09bi5kYXRhWzBdJiZvLmRhdGFbMV09PT1uLmRhdGFbMV0mJm8uZGF0YVsyXT09PW4uZGF0YVsyXSYmby5kYXRhWzNdPT09bi5kYXRhWzNdfWUuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uPVwibXVsdGlwbHlcIixzLmNhblVzZU11bHRpcGx5PVwibXVsdGlwbHlcIj09PWUuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uLGkuQ2FudmFzUG9vbC5yZW1vdmVCeUNhbnZhcyh0KSxQSVhJLkNhbnZhc1RpbnRlci50aW50TWV0aG9kPXMuY2FuVXNlTXVsdGlwbHk/UElYSS5DYW52YXNUaW50ZXIudGludFdpdGhNdWx0aXBseTpQSVhJLkNhbnZhc1RpbnRlci50aW50V2l0aFBlclBpeGVsfSgpLGZ1bmN0aW9uKCl7Zm9yKHZhciB0PVtcInJlcXVlc3RGdWxsc2NyZWVuXCIsXCJyZXF1ZXN0RnVsbFNjcmVlblwiLFwid2Via2l0UmVxdWVzdEZ1bGxzY3JlZW5cIixcIndlYmtpdFJlcXVlc3RGdWxsU2NyZWVuXCIsXCJtc1JlcXVlc3RGdWxsc2NyZWVuXCIsXCJtc1JlcXVlc3RGdWxsU2NyZWVuXCIsXCJtb3pSZXF1ZXN0RnVsbFNjcmVlblwiLFwibW96UmVxdWVzdEZ1bGxzY3JlZW5cIl0sZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLGk9MDtpPHQubGVuZ3RoO2krKylpZihlW3RbaV1dKXtzLmZ1bGxzY3JlZW49ITAscy5yZXF1ZXN0RnVsbHNjcmVlbj10W2ldO2JyZWFrfXZhciBuPVtcImNhbmNlbEZ1bGxTY3JlZW5cIixcImV4aXRGdWxsc2NyZWVuXCIsXCJ3ZWJraXRDYW5jZWxGdWxsU2NyZWVuXCIsXCJ3ZWJraXRFeGl0RnVsbHNjcmVlblwiLFwibXNDYW5jZWxGdWxsU2NyZWVuXCIsXCJtc0V4aXRGdWxsc2NyZWVuXCIsXCJtb3pDYW5jZWxGdWxsU2NyZWVuXCIsXCJtb3pFeGl0RnVsbHNjcmVlblwiXTtpZihzLmZ1bGxzY3JlZW4pZm9yKGk9MDtpPG4ubGVuZ3RoO2krKylpZihkb2N1bWVudFtuW2ldXSl7cy5jYW5jZWxGdWxsc2NyZWVuPW5baV07YnJlYWt9d2luZG93LkVsZW1lbnQmJkVsZW1lbnQuQUxMT1dfS0VZQk9BUkRfSU5QVVQmJihzLmZ1bGxzY3JlZW5LZXlib2FyZD0hMCl9KCksKFwib250b3VjaHN0YXJ0XCJpbiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnR8fHdpbmRvdy5uYXZpZ2F0b3IubWF4VG91Y2hQb2ludHMmJndpbmRvdy5uYXZpZ2F0b3IubWF4VG91Y2hQb2ludHM+PTEpJiYocy50b3VjaD0hMCksKHdpbmRvdy5Qb2ludGVyRXZlbnR8fHdpbmRvdy5NU1BvaW50ZXJFdmVudHx8d2luZG93Lm5hdmlnYXRvci5tc1BvaW50ZXJFbmFibGVkfHx3aW5kb3cubmF2aWdhdG9yLnBvaW50ZXJFbmFibGVkKSYmKHMubXNwb2ludGVyPSEwKSxzLmNvY29vbkpTfHwoXCJvbndoZWVsXCJpbiB3aW5kb3d8fHMuaWUmJlwiV2hlZWxFdmVudFwiaW4gd2luZG93P3Mud2hlZWxFdmVudD1cIndoZWVsXCI6XCJvbm1vdXNld2hlZWxcImluIHdpbmRvdz9zLndoZWVsRXZlbnQ9XCJtb3VzZXdoZWVsXCI6cy5maXJlZm94JiZcIk1vdXNlU2Nyb2xsRXZlbnRcImluIHdpbmRvdyYmKHMud2hlZWxFdmVudD1cIkRPTU1vdXNlU2Nyb2xsXCIpKX0saS5EZXZpY2UuY2FuUGxheUF1ZGlvPWZ1bmN0aW9uKHQpe3JldHVybiEoXCJtcDNcIiE9PXR8fCF0aGlzLm1wMyl8fCghKFwib2dnXCIhPT10fHwhdGhpcy5vZ2cmJiF0aGlzLm9wdXMpfHwoIShcIm00YVwiIT09dHx8IXRoaXMubTRhKXx8KCEoXCJvcHVzXCIhPT10fHwhdGhpcy5vcHVzKXx8KCEoXCJ3YXZcIiE9PXR8fCF0aGlzLndhdil8fCghKFwid2VibVwiIT09dHx8IXRoaXMud2VibSl8fCEoXCJtcDRcIiE9PXR8fCF0aGlzLmRvbGJ5KSkpKSkpfSxpLkRldmljZS5jYW5QbGF5VmlkZW89ZnVuY3Rpb24odCl7cmV0dXJuIShcIndlYm1cIiE9PXR8fCF0aGlzLndlYm1WaWRlbyYmIXRoaXMudnA5VmlkZW8pfHwoIShcIm1wNFwiIT09dHx8IXRoaXMubXA0VmlkZW8mJiF0aGlzLmgyNjRWaWRlbyl8fCghKFwib2dnXCIhPT10JiZcIm9ndlwiIT09dHx8IXRoaXMub2dnVmlkZW8pfHwhKFwibXBlZ1wiIT09dHx8IXRoaXMuaGxzVmlkZW8pKSl9LGkuRGV2aWNlLm5lZWRzVG91Y2hVbmxvY2s9ZnVuY3Rpb24oKXtyZXR1cm4hISghdGhpcy5jb2Nvb25KUyYmKHRoaXMuaU9TfHx0aGlzLmFuZHJvaWQpfHx3aW5kb3cuUGhhc2VyR2xvYmFsJiZ3aW5kb3cuUGhhc2VyR2xvYmFsLmZha2VpT1NUb3VjaExvY2spfSxpLkRldmljZS5pc0NvbnNvbGVPcGVuPWZ1bmN0aW9uKCl7cmV0dXJuIGNvbnNvbGUud2FybihcIlBoYXNlci5EZXZpY2UuaXNDb25zb2xlT3BlbiBpcyBkZXByZWNhdGVkIGFuZCB3aWxsIGJlIHJlbW92ZWQuXCIpLCExfSxpLkRldmljZS5pc0FuZHJvaWRTdG9ja0Jyb3dzZXI9ZnVuY3Rpb24oKXt2YXIgdD13aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvQW5kcm9pZC4qQXBwbGVXZWJLaXRcXC8oW1xcZC5dKykvKTtyZXR1cm4gdCYmdFsxXTw1Mzd9LGkuQ2FudmFzPXtjcmVhdGU6ZnVuY3Rpb24odCxlLHMsbixvKXtlPWV8fDI1NixzPXN8fDI1Njt2YXIgcj1vP2RvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik6aS5DYW52YXNQb29sLmNyZWF0ZSh0LGUscyk7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIG4mJlwiXCIhPT1uJiYoci5pZD1uKSxyLndpZHRoPWUsci5oZWlnaHQ9cyxyLnN0eWxlLmRpc3BsYXk9XCJibG9ja1wiLHJ9LHNldEJhY2tncm91bmRDb2xvcjpmdW5jdGlvbih0LGUpe3JldHVybiBlPWV8fFwicmdiKDAsMCwwKVwiLHQuc3R5bGUuYmFja2dyb3VuZENvbG9yPWUsdH0sc2V0VG91Y2hBY3Rpb246ZnVuY3Rpb24odCxlKXtyZXR1cm4gZT1lfHxcIm5vbmVcIix0LnN0eWxlLm1zVG91Y2hBY3Rpb249ZSx0LnN0eWxlW1wibXMtdG91Y2gtYWN0aW9uXCJdPWUsdC5zdHlsZVtcInRvdWNoLWFjdGlvblwiXT1lLHR9LHNldFVzZXJTZWxlY3Q6ZnVuY3Rpb24odCxlKXtyZXR1cm4gZT1lfHxcIm5vbmVcIix0LnN0eWxlW1wiLXdlYmtpdC10b3VjaC1jYWxsb3V0XCJdPWUsdC5zdHlsZVtcIi13ZWJraXQtdXNlci1zZWxlY3RcIl09ZSx0LnN0eWxlW1wiLWtodG1sLXVzZXItc2VsZWN0XCJdPWUsdC5zdHlsZVtcIi1tb3otdXNlci1zZWxlY3RcIl09ZSx0LnN0eWxlW1wiLW1zLXVzZXItc2VsZWN0XCJdPWUsdC5zdHlsZVtcInVzZXItc2VsZWN0XCJdPWUsdC5zdHlsZVtcIi13ZWJraXQtdGFwLWhpZ2hsaWdodC1jb2xvclwiXT1cInJnYmEoMCwgMCwgMCwgMClcIix0fSxhZGRUb0RPTTpmdW5jdGlvbih0LGUsaSl7dmFyIHM7cmV0dXJuIHZvaWQgMD09PWkmJihpPSEwKSxlJiYoXCJzdHJpbmdcIj09dHlwZW9mIGU/cz1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChlKTpcIm9iamVjdFwiPT10eXBlb2YgZSYmMT09PWUubm9kZVR5cGUmJihzPWUpKSxzfHwocz1kb2N1bWVudC5ib2R5KSxpJiZzLnN0eWxlJiYocy5zdHlsZS5vdmVyZmxvdz1cImhpZGRlblwiKSxzLmFwcGVuZENoaWxkKHQpLHR9LHJlbW92ZUZyb21ET006ZnVuY3Rpb24odCl7dC5wYXJlbnROb2RlJiZ0LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodCl9LHNldFRyYW5zZm9ybTpmdW5jdGlvbih0LGUsaSxzLG4sbyxyKXtyZXR1cm4gdC5zZXRUcmFuc2Zvcm0ocyxvLHIsbixlLGkpLHR9LHNldFNtb290aGluZ0VuYWJsZWQ6ZnVuY3Rpb24odCxlKXt2YXIgcz1pLkNhbnZhcy5nZXRTbW9vdGhpbmdQcmVmaXgodCk7cmV0dXJuIHMmJih0W3NdPWUpLHR9LGdldFNtb290aGluZ1ByZWZpeDpmdW5jdGlvbih0KXt2YXIgZT1bXCJpXCIsXCJ3ZWJraXRJXCIsXCJtc0lcIixcIm1veklcIixcIm9JXCJdO2Zvcih2YXIgaSBpbiBlKXt2YXIgcz1lW2ldK1wibWFnZVNtb290aGluZ0VuYWJsZWRcIjtpZihzIGluIHQpcmV0dXJuIHN9cmV0dXJuIG51bGx9LGdldFNtb290aGluZ0VuYWJsZWQ6ZnVuY3Rpb24odCl7dmFyIGU9aS5DYW52YXMuZ2V0U21vb3RoaW5nUHJlZml4KHQpO2lmKGUpcmV0dXJuIHRbZV19LHNldEltYWdlUmVuZGVyaW5nQ3Jpc3A6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPVtcIm9wdGltaXplU3BlZWRcIixcImNyaXNwLWVkZ2VzXCIsXCItbW96LWNyaXNwLWVkZ2VzXCIsXCItd2Via2l0LW9wdGltaXplLWNvbnRyYXN0XCIsXCJvcHRpbWl6ZS1jb250cmFzdFwiLFwicGl4ZWxhdGVkXCJdLGk9MDtpPGUubGVuZ3RoO2krKyl0LnN0eWxlW1wiaW1hZ2UtcmVuZGVyaW5nXCJdPWVbaV07cmV0dXJuIHQuc3R5bGUubXNJbnRlcnBvbGF0aW9uTW9kZT1cIm5lYXJlc3QtbmVpZ2hib3JcIix0fSxzZXRJbWFnZVJlbmRlcmluZ0JpY3ViaWM6ZnVuY3Rpb24odCl7cmV0dXJuIHQuc3R5bGVbXCJpbWFnZS1yZW5kZXJpbmdcIl09XCJhdXRvXCIsdC5zdHlsZS5tc0ludGVycG9sYXRpb25Nb2RlPVwiYmljdWJpY1wiLHR9fSxpLlJlcXVlc3RBbmltYXRpb25GcmFtZT1mdW5jdGlvbih0LGUpe3ZvaWQgMD09PWUmJihlPSExKSx0aGlzLmdhbWU9dCx0aGlzLmlzUnVubmluZz0hMSx0aGlzLmZvcmNlU2V0VGltZU91dD1lO2Zvcih2YXIgaT1bXCJtc1wiLFwibW96XCIsXCJ3ZWJraXRcIixcIm9cIl0scz0wO3M8aS5sZW5ndGgmJiF3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lO3MrKyl3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lPXdpbmRvd1tpW3NdK1wiUmVxdWVzdEFuaW1hdGlvbkZyYW1lXCJdLHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZT13aW5kb3dbaVtzXStcIkNhbmNlbEFuaW1hdGlvbkZyYW1lXCJdfHx3aW5kb3dbaVtzXStcIkNhbmNlbFJlcXVlc3RBbmltYXRpb25GcmFtZVwiXTt0aGlzLl9pc1NldFRpbWVPdXQ9ITEsdGhpcy5fb25Mb29wPW51bGwsdGhpcy5fdGltZU91dElEPW51bGx9LGkuUmVxdWVzdEFuaW1hdGlvbkZyYW1lLnByb3RvdHlwZT17c3RhcnQ6ZnVuY3Rpb24oKXt0aGlzLmlzUnVubmluZz0hMDt2YXIgdD10aGlzOyF3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lfHx0aGlzLmZvcmNlU2V0VGltZU91dD8odGhpcy5faXNTZXRUaW1lT3V0PSEwLHRoaXMuX29uTG9vcD1mdW5jdGlvbigpe3JldHVybiB0LnVwZGF0ZVNldFRpbWVvdXQoKX0sdGhpcy5fdGltZU91dElEPXdpbmRvdy5zZXRUaW1lb3V0KHRoaXMuX29uTG9vcCwwKSk6KHRoaXMuX2lzU2V0VGltZU91dD0hMSx0aGlzLl9vbkxvb3A9ZnVuY3Rpb24oZSl7cmV0dXJuIHQudXBkYXRlUkFGKGUpfSx0aGlzLl90aW1lT3V0SUQ9d2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLl9vbkxvb3ApKX0sdXBkYXRlUkFGOmZ1bmN0aW9uKHQpe3RoaXMuaXNSdW5uaW5nJiYodGhpcy5nYW1lLnVwZGF0ZShNYXRoLmZsb29yKHQpKSx0aGlzLl90aW1lT3V0SUQ9d2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLl9vbkxvb3ApKX0sdXBkYXRlU2V0VGltZW91dDpmdW5jdGlvbigpe3RoaXMuaXNSdW5uaW5nJiYodGhpcy5nYW1lLnVwZGF0ZShEYXRlLm5vdygpKSx0aGlzLl90aW1lT3V0SUQ9d2luZG93LnNldFRpbWVvdXQodGhpcy5fb25Mb29wLHRoaXMuZ2FtZS50aW1lLnRpbWVUb0NhbGwpKX0sc3RvcDpmdW5jdGlvbigpe3RoaXMuX2lzU2V0VGltZU91dD9jbGVhclRpbWVvdXQodGhpcy5fdGltZU91dElEKTp3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUodGhpcy5fdGltZU91dElEKSx0aGlzLmlzUnVubmluZz0hMX0saXNTZXRUaW1lT3V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lzU2V0VGltZU91dH0saXNSQUY6ZnVuY3Rpb24oKXtyZXR1cm4hMT09PXRoaXMuX2lzU2V0VGltZU91dH19LGkuUmVxdWVzdEFuaW1hdGlvbkZyYW1lLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1pLlJlcXVlc3RBbmltYXRpb25GcmFtZSxpLk1hdGg9e1BJMjoyKk1hdGguUEksSEFMRl9QSTouNSpNYXRoLlBJLERFR19UT19SQUQ6TWF0aC5QSS8xODAsUkFEX1RPX0RFRzoxODAvTWF0aC5QSSxkZWdUb1JhZDpmdW5jdGlvbih0KXtyZXR1cm4gdCppLk1hdGguREVHX1RPX1JBRH0scmFkVG9EZWc6ZnVuY3Rpb24odCl7cmV0dXJuIHQqaS5NYXRoLlJBRF9UT19ERUd9LGdldE5leHRQb3dlck9mVHdvOmZ1bmN0aW9uKHQpe2lmKHQ+MCYmMD09KHQmdC0xKSlyZXR1cm4gdDtmb3IodmFyIGU9MTtlPHQ7KWU8PD0xO3JldHVybiBlfSxpc1Bvd2VyT2ZUd286ZnVuY3Rpb24odCxlKXtyZXR1cm4gdD4wJiYwPT0odCZ0LTEpJiZlPjAmJjA9PShlJmUtMSl9LHJhbmRvbTpmdW5jdGlvbih0LGUpe2lmKHZvaWQgMD09PXQmJih0PTApLHZvaWQgMD09PWUmJihlPTEpLHQ9PT1lKXJldHVybiB0O2lmKHQ+ZSl7dmFyIGk9dDt0PWUsZT1pfXJldHVybiBNYXRoLnJhbmRvbSgpKihlLXQpK3R9LGJldHdlZW46ZnVuY3Rpb24odCxlKXtpZih2b2lkIDA9PT10JiYodD0wKSx2b2lkIDA9PT1lJiYoZT0xKSx0PT09ZSlyZXR1cm4gdDtpZih0PmUpe3ZhciBpPXQ7dD1lLGU9aX1yZXR1cm4gdD1NYXRoLmNlaWwodCksZT1NYXRoLmZsb29yKGUpLE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSooZS10KzEpKSt0fSxmdXp6eUVxdWFsOmZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gdm9pZCAwPT09aSYmKGk9MWUtNCksTWF0aC5hYnModC1lKTxpfSxmdXp6eUxlc3NUaGFuOmZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gdm9pZCAwPT09aSYmKGk9MWUtNCksdDxlK2l9LGZ1enp5R3JlYXRlclRoYW46ZnVuY3Rpb24odCxlLGkpe3JldHVybiB2b2lkIDA9PT1pJiYoaT0xZS00KSx0PmUtaX0sZnV6enlDZWlsOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHZvaWQgMD09PWUmJihlPTFlLTQpLE1hdGguY2VpbCh0LWUpfSxmdXp6eUZsb29yOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHZvaWQgMD09PWUmJihlPTFlLTQpLE1hdGguZmxvb3IodCtlKX0sYXZlcmFnZTpmdW5jdGlvbigpe2Zvcih2YXIgdD0wLGU9YXJndW1lbnRzLmxlbmd0aCxpPTA7aTxlO2krKyl0Kz0rYXJndW1lbnRzW2ldO3JldHVybiB0L2V9LHNoZWFyOmZ1bmN0aW9uKHQpe3JldHVybiB0JTF9LHNuYXBUbzpmdW5jdGlvbih0LGUsaSl7cmV0dXJuIHZvaWQgMD09PWkmJihpPTApLDA9PT1lP3Q6KHQtPWksdD1lKk1hdGgucm91bmQodC9lKSxpK3QpfSxzbmFwVG9GbG9vcjpmdW5jdGlvbih0LGUsaSl7cmV0dXJuIHZvaWQgMD09PWkmJihpPTApLDA9PT1lP3Q6KHQtPWksdD1lKk1hdGguZmxvb3IodC9lKSxpK3QpfSxzbmFwVG9DZWlsOmZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gdm9pZCAwPT09aSYmKGk9MCksMD09PWU/dDoodC09aSx0PWUqTWF0aC5jZWlsKHQvZSksaSt0KX0scm91bmRUbzpmdW5jdGlvbih0LGUsaSl7dm9pZCAwPT09ZSYmKGU9MCksdm9pZCAwPT09aSYmKGk9MTApO3ZhciBzPU1hdGgucG93KGksLWUpO3JldHVybiBNYXRoLnJvdW5kKHQqcykvc30sZmxvb3JUbzpmdW5jdGlvbih0LGUsaSl7dm9pZCAwPT09ZSYmKGU9MCksdm9pZCAwPT09aSYmKGk9MTApO3ZhciBzPU1hdGgucG93KGksLWUpO3JldHVybiBNYXRoLmZsb29yKHQqcykvc30sY2VpbFRvOmZ1bmN0aW9uKHQsZSxpKXt2b2lkIDA9PT1lJiYoZT0wKSx2b2lkIDA9PT1pJiYoaT0xMCk7dmFyIHM9TWF0aC5wb3coaSwtZSk7cmV0dXJuIE1hdGguY2VpbCh0KnMpL3N9LHJvdGF0ZVRvQW5nbGU6ZnVuY3Rpb24odCxlLHMpe3JldHVybiB2b2lkIDA9PT1zJiYocz0uMDUpLHQ9PT1lP3Q6KE1hdGguYWJzKGUtdCk8PXN8fE1hdGguYWJzKGUtdCk+PWkuTWF0aC5QSTItcz90PWU6KE1hdGguYWJzKGUtdCk+TWF0aC5QSSYmKGU8dD9lKz1pLk1hdGguUEkyOmUtPWkuTWF0aC5QSTIpLGU+dD90Kz1zOmU8dCYmKHQtPXMpKSx0KX0sZ2V0U2hvcnRlc3RBbmdsZTpmdW5jdGlvbih0LGUpe3ZhciBpPWUtdDtyZXR1cm4gMD09PWk/MDppLTM2MCpNYXRoLmZsb29yKChpLSAtMTgwKS8zNjApfSxhbmdsZUJldHdlZW46ZnVuY3Rpb24odCxlLGkscyl7cmV0dXJuIE1hdGguYXRhbjIocy1lLGktdCl9LGFuZ2xlQmV0d2Vlblk6ZnVuY3Rpb24odCxlLGkscyl7cmV0dXJuIE1hdGguYXRhbjIoaS10LHMtZSl9LGFuZ2xlQmV0d2VlblBvaW50czpmdW5jdGlvbih0LGUpe3JldHVybiBNYXRoLmF0YW4yKGUueS10LnksZS54LXQueCl9LGFuZ2xlQmV0d2VlblBvaW50c1k6ZnVuY3Rpb24odCxlKXtyZXR1cm4gTWF0aC5hdGFuMihlLngtdC54LGUueS10LnkpfSxyZXZlcnNlQW5nbGU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMubm9ybWFsaXplQW5nbGUodCtNYXRoLlBJLCEwKX0sbm9ybWFsaXplQW5nbGU6ZnVuY3Rpb24odCl7cmV0dXJuKHQlPTIqTWF0aC5QSSk+PTA/dDp0KzIqTWF0aC5QSX0sbWF4QWRkOmZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gTWF0aC5taW4odCtlLGkpfSxtaW5TdWI6ZnVuY3Rpb24odCxlLGkpe3JldHVybiBNYXRoLm1heCh0LWUsaSl9LHdyYXA6ZnVuY3Rpb24odCxlLGkpe3ZhciBzPWktZTtpZihzPD0wKXJldHVybiAwO3ZhciBuPSh0LWUpJXM7cmV0dXJuIG48MCYmKG4rPXMpLG4rZX0sd3JhcFZhbHVlOmZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gdD1NYXRoLmFicyh0KSxlPU1hdGguYWJzKGUpLGk9TWF0aC5hYnMoaSksKHQrZSklaX0saXNPZGQ6ZnVuY3Rpb24odCl7cmV0dXJuISEoMSZ0KX0saXNFdmVuOmZ1bmN0aW9uKHQpe3JldHVybiEoMSZ0KX0sbWluOmZ1bmN0aW9uKCl7aWYoMT09PWFyZ3VtZW50cy5sZW5ndGgmJlwib2JqZWN0XCI9PXR5cGVvZiBhcmd1bWVudHNbMF0pdD1hcmd1bWVudHNbMF07ZWxzZSB2YXIgdD1hcmd1bWVudHM7Zm9yKHZhciBlPTEsaT0wLHM9dC5sZW5ndGg7ZTxzO2UrKyl0W2VdPHRbaV0mJihpPWUpO3JldHVybiB0W2ldfSxtYXg6ZnVuY3Rpb24oKXtpZigxPT09YXJndW1lbnRzLmxlbmd0aCYmXCJvYmplY3RcIj09dHlwZW9mIGFyZ3VtZW50c1swXSl0PWFyZ3VtZW50c1swXTtlbHNlIHZhciB0PWFyZ3VtZW50cztmb3IodmFyIGU9MSxpPTAscz10Lmxlbmd0aDtlPHM7ZSsrKXRbZV0+dFtpXSYmKGk9ZSk7cmV0dXJuIHRbaV19LG1pblByb3BlcnR5OmZ1bmN0aW9uKHQpe2lmKDI9PT1hcmd1bWVudHMubGVuZ3RoJiZcIm9iamVjdFwiPT10eXBlb2YgYXJndW1lbnRzWzFdKWU9YXJndW1lbnRzWzFdO2Vsc2UgdmFyIGU9YXJndW1lbnRzLnNsaWNlKDEpO2Zvcih2YXIgaT0xLHM9MCxuPWUubGVuZ3RoO2k8bjtpKyspZVtpXVt0XTxlW3NdW3RdJiYocz1pKTtyZXR1cm4gZVtzXVt0XX0sbWF4UHJvcGVydHk6ZnVuY3Rpb24odCl7aWYoMj09PWFyZ3VtZW50cy5sZW5ndGgmJlwib2JqZWN0XCI9PXR5cGVvZiBhcmd1bWVudHNbMV0pZT1hcmd1bWVudHNbMV07ZWxzZSB2YXIgZT1hcmd1bWVudHMuc2xpY2UoMSk7Zm9yKHZhciBpPTEscz0wLG49ZS5sZW5ndGg7aTxuO2krKyllW2ldW3RdPmVbc11bdF0mJihzPWkpO3JldHVybiBlW3NdW3RdfSx3cmFwQW5nbGU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gZT90aGlzLndyYXAodCwtTWF0aC5QSSxNYXRoLlBJKTp0aGlzLndyYXAodCwtMTgwLDE4MCl9LGxpbmVhckludGVycG9sYXRpb246ZnVuY3Rpb24odCxlKXt2YXIgaT10Lmxlbmd0aC0xLHM9aSplLG49TWF0aC5mbG9vcihzKTtyZXR1cm4gZTwwP3RoaXMubGluZWFyKHRbMF0sdFsxXSxzKTplPjE/dGhpcy5saW5lYXIodFtpXSx0W2ktMV0saS1zKTp0aGlzLmxpbmVhcih0W25dLHRbbisxPmk/aTpuKzFdLHMtbil9LGJlemllckludGVycG9sYXRpb246ZnVuY3Rpb24odCxlKXtmb3IodmFyIGk9MCxzPXQubGVuZ3RoLTEsbj0wO248PXM7bisrKWkrPU1hdGgucG93KDEtZSxzLW4pKk1hdGgucG93KGUsbikqdFtuXSp0aGlzLmJlcm5zdGVpbihzLG4pO3JldHVybiBpfSxjYXRtdWxsUm9tSW50ZXJwb2xhdGlvbjpmdW5jdGlvbih0LGUpe3ZhciBpPXQubGVuZ3RoLTEscz1pKmUsbj1NYXRoLmZsb29yKHMpO3JldHVybiB0WzBdPT09dFtpXT8oZTwwJiYobj1NYXRoLmZsb29yKHM9aSooMStlKSkpLHRoaXMuY2F0bXVsbFJvbSh0WyhuLTEraSklaV0sdFtuXSx0WyhuKzEpJWldLHRbKG4rMiklaV0scy1uKSk6ZTwwP3RbMF0tKHRoaXMuY2F0bXVsbFJvbSh0WzBdLHRbMF0sdFsxXSx0WzFdLC1zKS10WzBdKTplPjE/dFtpXS0odGhpcy5jYXRtdWxsUm9tKHRbaV0sdFtpXSx0W2ktMV0sdFtpLTFdLHMtaSktdFtpXSk6dGhpcy5jYXRtdWxsUm9tKHRbbj9uLTE6MF0sdFtuXSx0W2k8bisxP2k6bisxXSx0W2k8bisyP2k6bisyXSxzLW4pfSxsaW5lYXI6ZnVuY3Rpb24odCxlLGkpe3JldHVybihlLXQpKmkrdH0sYmVybnN0ZWluOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuZmFjdG9yaWFsKHQpL3RoaXMuZmFjdG9yaWFsKGUpL3RoaXMuZmFjdG9yaWFsKHQtZSl9LGZhY3RvcmlhbDpmdW5jdGlvbih0KXtpZigwPT09dClyZXR1cm4gMTtmb3IodmFyIGU9dDstLXQ7KWUqPXQ7cmV0dXJuIGV9LGNhdG11bGxSb206ZnVuY3Rpb24odCxlLGkscyxuKXt2YXIgbz0uNSooaS10KSxyPS41KihzLWUpLGE9bipuO3JldHVybigyKmUtMippK28rcikqKG4qYSkrKC0zKmUrMyppLTIqby1yKSphK28qbitlfSxkaWZmZXJlbmNlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIE1hdGguYWJzKHQtZSl9LHJvdW5kQXdheUZyb21aZXJvOmZ1bmN0aW9uKHQpe3JldHVybiB0PjA/TWF0aC5jZWlsKHQpOk1hdGguZmxvb3IodCl9LHNpbkNvc0dlbmVyYXRvcjpmdW5jdGlvbih0LGUsaSxzKXt2b2lkIDA9PT1lJiYoZT0xKSx2b2lkIDA9PT1pJiYoaT0xKSx2b2lkIDA9PT1zJiYocz0xKTtmb3IodmFyIG49ZSxvPWkscj1zKk1hdGguUEkvdCxhPVtdLGg9W10sbD0wO2w8dDtsKyspbis9KG8tPW4qcikqcixhW2xdPW8saFtsXT1uO3JldHVybntzaW46aCxjb3M6YSxsZW5ndGg6dH19LGh5cG90OmZ1bmN0aW9uKHQsZSl7cmV0dXJuIE1hdGguc3FydCh0KnQrZSplKX0sZGlzdGFuY2U6ZnVuY3Rpb24odCxlLGkscyl7dmFyIG49dC1pLG89ZS1zO3JldHVybiBNYXRoLnNxcnQobipuK28qbyl9LGRpc3RhbmNlU3E6ZnVuY3Rpb24odCxlLGkscyl7dmFyIG49dC1pLG89ZS1zO3JldHVybiBuKm4rbypvfSxkaXN0YW5jZVBvdzpmdW5jdGlvbih0LGUsaSxzLG4pe3JldHVybiB2b2lkIDA9PT1uJiYobj0yKSxNYXRoLnNxcnQoTWF0aC5wb3coaS10LG4pK01hdGgucG93KHMtZSxuKSl9LGNsYW1wOmZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gdDxlP2U6aTx0P2k6dH0sY2xhbXBCb3R0b206ZnVuY3Rpb24odCxlKXtyZXR1cm4gdDxlP2U6dH0sd2l0aGluOmZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gTWF0aC5hYnModC1lKTw9aX0sbWFwTGluZWFyOmZ1bmN0aW9uKHQsZSxpLHMsbil7cmV0dXJuIHMrKHQtZSkqKG4tcykvKGktZSl9LHNtb290aHN0ZXA6ZnVuY3Rpb24odCxlLGkpe3JldHVybih0PU1hdGgubWF4KDAsTWF0aC5taW4oMSwodC1lKS8oaS1lKSkpKSp0KigzLTIqdCl9LHNtb290aGVyc3RlcDpmdW5jdGlvbih0LGUsaSl7cmV0dXJuKHQ9TWF0aC5tYXgoMCxNYXRoLm1pbigxLCh0LWUpLyhpLWUpKSkpKnQqdCoodCooNip0LTE1KSsxMCl9LHNpZ246ZnVuY3Rpb24odCl7cmV0dXJuIHQ8MD8tMTp0PjA/MTowfSxwZXJjZW50OmZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gdm9pZCAwPT09aSYmKGk9MCksdD5lfHxpPmU/MTp0PGl8fGk+dD8wOih0LWkpL2V9fSxpLlJhbmRvbURhdGFHZW5lcmF0b3I9ZnVuY3Rpb24odCl7dm9pZCAwPT09dCYmKHQ9W10pLHRoaXMuYz0xLHRoaXMuczA9MCx0aGlzLnMxPTAsdGhpcy5zMj0wLFwic3RyaW5nXCI9PXR5cGVvZiB0P3RoaXMuc3RhdGUodCk6dGhpcy5zb3codCl9LGkuUmFuZG9tRGF0YUdlbmVyYXRvci5wcm90b3R5cGU9e3JuZDpmdW5jdGlvbigpe3ZhciB0PTIwOTE2MzkqdGhpcy5zMCsyLjMyODMwNjQzNjUzODY5NjNlLTEwKnRoaXMuYztyZXR1cm4gdGhpcy5jPTB8dCx0aGlzLnMwPXRoaXMuczEsdGhpcy5zMT10aGlzLnMyLHRoaXMuczI9dC10aGlzLmMsdGhpcy5zMn0sc293OmZ1bmN0aW9uKHQpe2lmKHRoaXMuczA9dGhpcy5oYXNoKFwiIFwiKSx0aGlzLnMxPXRoaXMuaGFzaCh0aGlzLnMwKSx0aGlzLnMyPXRoaXMuaGFzaCh0aGlzLnMxKSx0aGlzLmM9MSx0KWZvcih2YXIgZT0wO2U8dC5sZW5ndGgmJm51bGwhPXRbZV07ZSsrKXt2YXIgaT10W2VdO3RoaXMuczAtPXRoaXMuaGFzaChpKSx0aGlzLnMwKz1+fih0aGlzLnMwPDApLHRoaXMuczEtPXRoaXMuaGFzaChpKSx0aGlzLnMxKz1+fih0aGlzLnMxPDApLHRoaXMuczItPXRoaXMuaGFzaChpKSx0aGlzLnMyKz1+fih0aGlzLnMyPDApfX0saGFzaDpmdW5jdGlvbih0KXt2YXIgZSxpLHM7Zm9yKHM9NDAyMjg3MTE5Nyx0PXQudG9TdHJpbmcoKSxpPTA7aTx0Lmxlbmd0aDtpKyspZT0uMDI1MTk2MDMyODI0MTY5MzgqKHMrPXQuY2hhckNvZGVBdChpKSksZS09cz1lPj4+MCxzPShlKj1zKT4+PjAscys9NDI5NDk2NzI5NiooZS09cyk7cmV0dXJuIDIuMzI4MzA2NDM2NTM4Njk2M2UtMTAqKHM+Pj4wKX0saW50ZWdlcjpmdW5jdGlvbigpe3JldHVybiA0Mjk0OTY3Mjk2KnRoaXMucm5kLmFwcGx5KHRoaXMpfSxmcmFjOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucm5kLmFwcGx5KHRoaXMpKzEuMTEwMjIzMDI0NjI1MTU2NWUtMTYqKDIwOTcxNTIqdGhpcy5ybmQuYXBwbHkodGhpcyl8MCl9LHJlYWw6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbnRlZ2VyKCkrdGhpcy5mcmFjKCl9LGludGVnZXJJblJhbmdlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIE1hdGguZmxvb3IodGhpcy5yZWFsSW5SYW5nZSgwLGUtdCsxKSt0KX0sYmV0d2VlbjpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmludGVnZXJJblJhbmdlKHQsZSl9LHJlYWxJblJhbmdlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuZnJhYygpKihlLXQpK3R9LG5vcm1hbDpmdW5jdGlvbigpe3JldHVybiAxLTIqdGhpcy5mcmFjKCl9LHV1aWQ6ZnVuY3Rpb24oKXt2YXIgdD1cIlwiLGU9XCJcIjtmb3IoZT10PVwiXCI7dCsrPDM2O2UrPX50JTV8Myp0JjQ/KDE1XnQ/OF50aGlzLmZyYWMoKSooMjBedD8xNjo0KTo0KS50b1N0cmluZygxNik6XCItXCIpO3JldHVybiBlfSxwaWNrOmZ1bmN0aW9uKHQpe3JldHVybiB0W3RoaXMuaW50ZWdlckluUmFuZ2UoMCx0Lmxlbmd0aC0xKV19LHNpZ246ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5waWNrKFstMSwxXSl9LHdlaWdodGVkUGljazpmdW5jdGlvbih0KXtyZXR1cm4gdFt+fihNYXRoLnBvdyh0aGlzLmZyYWMoKSwyKSoodC5sZW5ndGgtMSkrLjUpXX0sdGltZXN0YW1wOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMucmVhbEluUmFuZ2UodHx8OTQ2Njg0OGU1LGV8fDE1Nzc4NjJlNil9LGFuZ2xlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW50ZWdlckluUmFuZ2UoLTE4MCwxODApfSxzdGF0ZTpmdW5jdGlvbih0KXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgdCYmdC5tYXRjaCgvXiFybmQvKSYmKHQ9dC5zcGxpdChcIixcIiksdGhpcy5jPXBhcnNlRmxvYXQodFsxXSksdGhpcy5zMD1wYXJzZUZsb2F0KHRbMl0pLHRoaXMuczE9cGFyc2VGbG9hdCh0WzNdKSx0aGlzLnMyPXBhcnNlRmxvYXQodFs0XSkpLFtcIiFybmRcIix0aGlzLmMsdGhpcy5zMCx0aGlzLnMxLHRoaXMuczJdLmpvaW4oXCIsXCIpfX0saS5SYW5kb21EYXRhR2VuZXJhdG9yLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1pLlJhbmRvbURhdGFHZW5lcmF0b3IsaS5RdWFkVHJlZT1mdW5jdGlvbih0LGUsaSxzLG4sbyxyKXt0aGlzLm1heE9iamVjdHM9MTAsdGhpcy5tYXhMZXZlbHM9NCx0aGlzLmxldmVsPTAsdGhpcy5ib3VuZHM9e30sdGhpcy5vYmplY3RzPVtdLHRoaXMubm9kZXM9W10sdGhpcy5fZW1wdHk9W10sdGhpcy5yZXNldCh0LGUsaSxzLG4sbyxyKX0saS5RdWFkVHJlZS5wcm90b3R5cGU9e3Jlc2V0OmZ1bmN0aW9uKHQsZSxpLHMsbixvLHIpe3RoaXMubWF4T2JqZWN0cz1ufHwxMCx0aGlzLm1heExldmVscz1vfHw0LHRoaXMubGV2ZWw9cnx8MCx0aGlzLmJvdW5kcz17eDpNYXRoLnJvdW5kKHQpLHk6TWF0aC5yb3VuZChlKSx3aWR0aDppLGhlaWdodDpzLHN1YldpZHRoOk1hdGguZmxvb3IoaS8yKSxzdWJIZWlnaHQ6TWF0aC5mbG9vcihzLzIpLHJpZ2h0Ok1hdGgucm91bmQodCkrTWF0aC5mbG9vcihpLzIpLGJvdHRvbTpNYXRoLnJvdW5kKGUpK01hdGguZmxvb3Iocy8yKX0sdGhpcy5vYmplY3RzLmxlbmd0aD0wLHRoaXMubm9kZXMubGVuZ3RoPTB9LHBvcHVsYXRlOmZ1bmN0aW9uKHQpe3QuZm9yRWFjaCh0aGlzLnBvcHVsYXRlSGFuZGxlcix0aGlzLCEwKX0scG9wdWxhdGVIYW5kbGVyOmZ1bmN0aW9uKHQpe3QuYm9keSYmdC5leGlzdHMmJnRoaXMuaW5zZXJ0KHQuYm9keSl9LHNwbGl0OmZ1bmN0aW9uKCl7dGhpcy5ub2Rlc1swXT1uZXcgaS5RdWFkVHJlZSh0aGlzLmJvdW5kcy5yaWdodCx0aGlzLmJvdW5kcy55LHRoaXMuYm91bmRzLnN1YldpZHRoLHRoaXMuYm91bmRzLnN1YkhlaWdodCx0aGlzLm1heE9iamVjdHMsdGhpcy5tYXhMZXZlbHMsdGhpcy5sZXZlbCsxKSx0aGlzLm5vZGVzWzFdPW5ldyBpLlF1YWRUcmVlKHRoaXMuYm91bmRzLngsdGhpcy5ib3VuZHMueSx0aGlzLmJvdW5kcy5zdWJXaWR0aCx0aGlzLmJvdW5kcy5zdWJIZWlnaHQsdGhpcy5tYXhPYmplY3RzLHRoaXMubWF4TGV2ZWxzLHRoaXMubGV2ZWwrMSksdGhpcy5ub2Rlc1syXT1uZXcgaS5RdWFkVHJlZSh0aGlzLmJvdW5kcy54LHRoaXMuYm91bmRzLmJvdHRvbSx0aGlzLmJvdW5kcy5zdWJXaWR0aCx0aGlzLmJvdW5kcy5zdWJIZWlnaHQsdGhpcy5tYXhPYmplY3RzLHRoaXMubWF4TGV2ZWxzLHRoaXMubGV2ZWwrMSksdGhpcy5ub2Rlc1szXT1uZXcgaS5RdWFkVHJlZSh0aGlzLmJvdW5kcy5yaWdodCx0aGlzLmJvdW5kcy5ib3R0b20sdGhpcy5ib3VuZHMuc3ViV2lkdGgsdGhpcy5ib3VuZHMuc3ViSGVpZ2h0LHRoaXMubWF4T2JqZWN0cyx0aGlzLm1heExldmVscyx0aGlzLmxldmVsKzEpfSxpbnNlcnQ6ZnVuY3Rpb24odCl7dmFyIGUsaT0wO2lmKG51bGw9PXRoaXMubm9kZXNbMF18fC0xPT09KGU9dGhpcy5nZXRJbmRleCh0KSkpe2lmKHRoaXMub2JqZWN0cy5wdXNoKHQpLHRoaXMub2JqZWN0cy5sZW5ndGg+dGhpcy5tYXhPYmplY3RzJiZ0aGlzLmxldmVsPHRoaXMubWF4TGV2ZWxzKWZvcihudWxsPT10aGlzLm5vZGVzWzBdJiZ0aGlzLnNwbGl0KCk7aTx0aGlzLm9iamVjdHMubGVuZ3RoOyktMSE9PShlPXRoaXMuZ2V0SW5kZXgodGhpcy5vYmplY3RzW2ldKSk/dGhpcy5ub2Rlc1tlXS5pbnNlcnQodGhpcy5vYmplY3RzLnNwbGljZShpLDEpWzBdKTppKyt9ZWxzZSB0aGlzLm5vZGVzW2VdLmluc2VydCh0KX0sZ2V0SW5kZXg6ZnVuY3Rpb24odCl7dmFyIGU9LTE7cmV0dXJuIHQueDx0aGlzLmJvdW5kcy5yaWdodCYmdC5yaWdodDx0aGlzLmJvdW5kcy5yaWdodD90Lnk8dGhpcy5ib3VuZHMuYm90dG9tJiZ0LmJvdHRvbTx0aGlzLmJvdW5kcy5ib3R0b20/ZT0xOnQueT50aGlzLmJvdW5kcy5ib3R0b20mJihlPTIpOnQueD50aGlzLmJvdW5kcy5yaWdodCYmKHQueTx0aGlzLmJvdW5kcy5ib3R0b20mJnQuYm90dG9tPHRoaXMuYm91bmRzLmJvdHRvbT9lPTA6dC55PnRoaXMuYm91bmRzLmJvdHRvbSYmKGU9MykpLGV9LHJldHJpZXZlOmZ1bmN0aW9uKHQpe2lmKHQgaW5zdGFuY2VvZiBpLlJlY3RhbmdsZSl2YXIgZT10aGlzLm9iamVjdHMscz10aGlzLmdldEluZGV4KHQpO2Vsc2V7aWYoIXQuYm9keSlyZXR1cm4gdGhpcy5fZW1wdHk7dmFyIGU9dGhpcy5vYmplY3RzLHM9dGhpcy5nZXRJbmRleCh0LmJvZHkpfXJldHVybiB0aGlzLm5vZGVzWzBdJiYoZT0tMSE9PXM/ZS5jb25jYXQodGhpcy5ub2Rlc1tzXS5yZXRyaWV2ZSh0KSk6KGU9KGU9KGU9ZS5jb25jYXQodGhpcy5ub2Rlc1swXS5yZXRyaWV2ZSh0KSkpLmNvbmNhdCh0aGlzLm5vZGVzWzFdLnJldHJpZXZlKHQpKSkuY29uY2F0KHRoaXMubm9kZXNbMl0ucmV0cmlldmUodCkpKS5jb25jYXQodGhpcy5ub2Rlc1szXS5yZXRyaWV2ZSh0KSkpLGV9LGNsZWFyOmZ1bmN0aW9uKCl7dGhpcy5vYmplY3RzLmxlbmd0aD0wO2Zvcih2YXIgdD10aGlzLm5vZGVzLmxlbmd0aDt0LS07KXRoaXMubm9kZXNbdF0uY2xlYXIoKSx0aGlzLm5vZGVzLnNwbGljZSh0LDEpO3RoaXMubm9kZXMubGVuZ3RoPTB9fSxpLlF1YWRUcmVlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1pLlF1YWRUcmVlLGkuTmV0PWZ1bmN0aW9uKHQpe3RoaXMuZ2FtZT10fSxpLk5ldC5wcm90b3R5cGU9e2dldEhvc3ROYW1lOmZ1bmN0aW9uKCl7cmV0dXJuIHdpbmRvdy5sb2NhdGlvbiYmd2luZG93LmxvY2F0aW9uLmhvc3RuYW1lP3dpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZTpudWxsfSxjaGVja0RvbWFpbk5hbWU6ZnVuY3Rpb24odCl7cmV0dXJuLTEhPT13aW5kb3cubG9jYXRpb24uaG9zdG5hbWUuaW5kZXhPZih0KX0sdXBkYXRlUXVlcnlTdHJpbmc6ZnVuY3Rpb24odCxlLGkscyl7dm9pZCAwPT09aSYmKGk9ITEpLHZvaWQgMCE9PXMmJlwiXCIhPT1zfHwocz13aW5kb3cubG9jYXRpb24uaHJlZik7dmFyIG49XCJcIixvPW5ldyBSZWdFeHAoXCIoWz98Jl0pXCIrdCtcIj0uKj8oJnwjfCQpKC4qKVwiLFwiZ2lcIik7aWYoby50ZXN0KHMpKW49dm9pZCAwIT09ZSYmbnVsbCE9PWU/cy5yZXBsYWNlKG8sXCIkMVwiK3QrXCI9XCIrZStcIiQyJDNcIik6cy5yZXBsYWNlKG8sXCIkMSQzXCIpLnJlcGxhY2UoLygmfFxcPykkLyxcIlwiKTtlbHNlIGlmKHZvaWQgMCE9PWUmJm51bGwhPT1lKXt2YXIgcj0tMSE9PXMuaW5kZXhPZihcIj9cIik/XCImXCI6XCI/XCIsYT1zLnNwbGl0KFwiI1wiKTtzPWFbMF0rcit0K1wiPVwiK2UsYVsxXSYmKHMrPVwiI1wiK2FbMV0pLG49c31lbHNlIG49cztpZighaSlyZXR1cm4gbjt3aW5kb3cubG9jYXRpb24uaHJlZj1ufSxnZXRRdWVyeVN0cmluZzpmdW5jdGlvbih0KXt2b2lkIDA9PT10JiYodD1cIlwiKTt2YXIgZT17fSxpPWxvY2F0aW9uLnNlYXJjaC5zdWJzdHJpbmcoMSkuc3BsaXQoXCImXCIpO2Zvcih2YXIgcyBpbiBpKXt2YXIgbj1pW3NdLnNwbGl0KFwiPVwiKTtpZihuLmxlbmd0aD4xKXtpZih0JiZ0PT09dGhpcy5kZWNvZGVVUkkoblswXSkpcmV0dXJuIHRoaXMuZGVjb2RlVVJJKG5bMV0pO2VbdGhpcy5kZWNvZGVVUkkoblswXSldPXRoaXMuZGVjb2RlVVJJKG5bMV0pfX1yZXR1cm4gZX0sZGVjb2RlVVJJOmZ1bmN0aW9uKHQpe3JldHVybiBkZWNvZGVVUklDb21wb25lbnQodC5yZXBsYWNlKC9cXCsvZyxcIiBcIikpfX0saS5OZXQucHJvdG90eXBlLmNvbnN0cnVjdG9yPWkuTmV0LGkuVHdlZW5NYW5hZ2VyPWZ1bmN0aW9uKHQpe3RoaXMuZ2FtZT10LHRoaXMuZnJhbWVCYXNlZD0hMSx0aGlzLl90d2VlbnM9W10sdGhpcy5fYWRkPVtdLHRoaXMuZWFzZU1hcD17UG93ZXIwOmkuRWFzaW5nLlBvd2VyMCxQb3dlcjE6aS5FYXNpbmcuUG93ZXIxLFBvd2VyMjppLkVhc2luZy5Qb3dlcjIsUG93ZXIzOmkuRWFzaW5nLlBvd2VyMyxQb3dlcjQ6aS5FYXNpbmcuUG93ZXI0LExpbmVhcjppLkVhc2luZy5MaW5lYXIuTm9uZSxRdWFkOmkuRWFzaW5nLlF1YWRyYXRpYy5PdXQsQ3ViaWM6aS5FYXNpbmcuQ3ViaWMuT3V0LFF1YXJ0OmkuRWFzaW5nLlF1YXJ0aWMuT3V0LFF1aW50OmkuRWFzaW5nLlF1aW50aWMuT3V0LFNpbmU6aS5FYXNpbmcuU2ludXNvaWRhbC5PdXQsRXhwbzppLkVhc2luZy5FeHBvbmVudGlhbC5PdXQsQ2lyYzppLkVhc2luZy5DaXJjdWxhci5PdXQsRWxhc3RpYzppLkVhc2luZy5FbGFzdGljLk91dCxCYWNrOmkuRWFzaW5nLkJhY2suT3V0LEJvdW5jZTppLkVhc2luZy5Cb3VuY2UuT3V0LFwiUXVhZC5lYXNlSW5cIjppLkVhc2luZy5RdWFkcmF0aWMuSW4sXCJDdWJpYy5lYXNlSW5cIjppLkVhc2luZy5DdWJpYy5JbixcIlF1YXJ0LmVhc2VJblwiOmkuRWFzaW5nLlF1YXJ0aWMuSW4sXCJRdWludC5lYXNlSW5cIjppLkVhc2luZy5RdWludGljLkluLFwiU2luZS5lYXNlSW5cIjppLkVhc2luZy5TaW51c29pZGFsLkluLFwiRXhwby5lYXNlSW5cIjppLkVhc2luZy5FeHBvbmVudGlhbC5JbixcIkNpcmMuZWFzZUluXCI6aS5FYXNpbmcuQ2lyY3VsYXIuSW4sXCJFbGFzdGljLmVhc2VJblwiOmkuRWFzaW5nLkVsYXN0aWMuSW4sXCJCYWNrLmVhc2VJblwiOmkuRWFzaW5nLkJhY2suSW4sXCJCb3VuY2UuZWFzZUluXCI6aS5FYXNpbmcuQm91bmNlLkluLFwiUXVhZC5lYXNlT3V0XCI6aS5FYXNpbmcuUXVhZHJhdGljLk91dCxcIkN1YmljLmVhc2VPdXRcIjppLkVhc2luZy5DdWJpYy5PdXQsXCJRdWFydC5lYXNlT3V0XCI6aS5FYXNpbmcuUXVhcnRpYy5PdXQsXCJRdWludC5lYXNlT3V0XCI6aS5FYXNpbmcuUXVpbnRpYy5PdXQsXCJTaW5lLmVhc2VPdXRcIjppLkVhc2luZy5TaW51c29pZGFsLk91dCxcIkV4cG8uZWFzZU91dFwiOmkuRWFzaW5nLkV4cG9uZW50aWFsLk91dCxcIkNpcmMuZWFzZU91dFwiOmkuRWFzaW5nLkNpcmN1bGFyLk91dCxcIkVsYXN0aWMuZWFzZU91dFwiOmkuRWFzaW5nLkVsYXN0aWMuT3V0LFwiQmFjay5lYXNlT3V0XCI6aS5FYXNpbmcuQmFjay5PdXQsXCJCb3VuY2UuZWFzZU91dFwiOmkuRWFzaW5nLkJvdW5jZS5PdXQsXCJRdWFkLmVhc2VJbk91dFwiOmkuRWFzaW5nLlF1YWRyYXRpYy5Jbk91dCxcIkN1YmljLmVhc2VJbk91dFwiOmkuRWFzaW5nLkN1YmljLkluT3V0LFwiUXVhcnQuZWFzZUluT3V0XCI6aS5FYXNpbmcuUXVhcnRpYy5Jbk91dCxcIlF1aW50LmVhc2VJbk91dFwiOmkuRWFzaW5nLlF1aW50aWMuSW5PdXQsXCJTaW5lLmVhc2VJbk91dFwiOmkuRWFzaW5nLlNpbnVzb2lkYWwuSW5PdXQsXCJFeHBvLmVhc2VJbk91dFwiOmkuRWFzaW5nLkV4cG9uZW50aWFsLkluT3V0LFwiQ2lyYy5lYXNlSW5PdXRcIjppLkVhc2luZy5DaXJjdWxhci5Jbk91dCxcIkVsYXN0aWMuZWFzZUluT3V0XCI6aS5FYXNpbmcuRWxhc3RpYy5Jbk91dCxcIkJhY2suZWFzZUluT3V0XCI6aS5FYXNpbmcuQmFjay5Jbk91dCxcIkJvdW5jZS5lYXNlSW5PdXRcIjppLkVhc2luZy5Cb3VuY2UuSW5PdXR9LHRoaXMuZ2FtZS5vblBhdXNlLmFkZCh0aGlzLl9wYXVzZUFsbCx0aGlzKSx0aGlzLmdhbWUub25SZXN1bWUuYWRkKHRoaXMuX3Jlc3VtZUFsbCx0aGlzKX0saS5Ud2Vlbk1hbmFnZXIucHJvdG90eXBlPXtnZXRBbGw6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdHdlZW5zfSxyZW1vdmVBbGw6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9MDt0PHRoaXMuX3R3ZWVucy5sZW5ndGg7dCsrKXRoaXMuX3R3ZWVuc1t0XS5wZW5kaW5nRGVsZXRlPSEwO3RoaXMuX2FkZD1bXX0scmVtb3ZlRnJvbTpmdW5jdGlvbih0LGUpe3ZvaWQgMD09PWUmJihlPSEwKTtpZihBcnJheS5pc0FycmF5KHQpKWZvcihzPTAsbj10Lmxlbmd0aDtzPG47cysrKXRoaXMucmVtb3ZlRnJvbSh0W3NdKTtlbHNlIGlmKHQudHlwZT09PWkuR1JPVVAmJmUpZm9yKHZhciBzPTAsbj10LmNoaWxkcmVuLmxlbmd0aDtzPG47cysrKXRoaXMucmVtb3ZlRnJvbSh0LmNoaWxkcmVuW3NdKTtlbHNle2ZvcihzPTAsbj10aGlzLl90d2VlbnMubGVuZ3RoO3M8bjtzKyspdD09PXRoaXMuX3R3ZWVuc1tzXS50YXJnZXQmJnRoaXMucmVtb3ZlKHRoaXMuX3R3ZWVuc1tzXSk7Zm9yKHM9MCxuPXRoaXMuX2FkZC5sZW5ndGg7czxuO3MrKyl0PT09dGhpcy5fYWRkW3NdLnRhcmdldCYmdGhpcy5yZW1vdmUodGhpcy5fYWRkW3NdKX19LGFkZDpmdW5jdGlvbih0KXt0Ll9tYW5hZ2VyPXRoaXMsdGhpcy5fYWRkLnB1c2godCl9LGNyZWF0ZTpmdW5jdGlvbih0KXtyZXR1cm4gbmV3IGkuVHdlZW4odCx0aGlzLmdhbWUsdGhpcyl9LHJlbW92ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLl90d2VlbnMuaW5kZXhPZih0KTstMSE9PWU/dGhpcy5fdHdlZW5zW2VdLnBlbmRpbmdEZWxldGU9ITA6LTEhPT0oZT10aGlzLl9hZGQuaW5kZXhPZih0KSkmJih0aGlzLl9hZGRbZV0ucGVuZGluZ0RlbGV0ZT0hMCl9LHVwZGF0ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX2FkZC5sZW5ndGgsZT10aGlzLl90d2VlbnMubGVuZ3RoO2lmKDA9PT1lJiYwPT09dClyZXR1cm4hMTtmb3IodmFyIGk9MDtpPGU7KXRoaXMuX3R3ZWVuc1tpXS51cGRhdGUodGhpcy5nYW1lLnRpbWUudGltZSk/aSsrOih0aGlzLl90d2VlbnMuc3BsaWNlKGksMSksZS0tKTtyZXR1cm4gdD4wJiYodGhpcy5fdHdlZW5zPXRoaXMuX3R3ZWVucy5jb25jYXQodGhpcy5fYWRkKSx0aGlzLl9hZGQubGVuZ3RoPTApLCEwfSxpc1R3ZWVuaW5nOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIGV8fChlPSExKSx0aGlzLl90d2VlbnMuc29tZShmdW5jdGlvbihpKXtyZXR1cm4gaS50YXJnZXQ9PT10JiYhZXx8aS5pc1J1bm5pbmcmJiFpLnBlbmRpbmdEZWxldGV9KX0sX3BhdXNlQWxsOmZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMuX3R3ZWVucy5sZW5ndGgtMTt0Pj0wO3QtLSl0aGlzLl90d2VlbnNbdF0uX3BhdXNlKCl9LF9yZXN1bWVBbGw6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy5fdHdlZW5zLmxlbmd0aC0xO3Q+PTA7dC0tKXRoaXMuX3R3ZWVuc1t0XS5fcmVzdW1lKCl9LHBhdXNlQWxsOmZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMuX3R3ZWVucy5sZW5ndGgtMTt0Pj0wO3QtLSl0aGlzLl90d2VlbnNbdF0ucGF1c2UoKX0scmVzdW1lQWxsOmZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMuX3R3ZWVucy5sZW5ndGgtMTt0Pj0wO3QtLSl0aGlzLl90d2VlbnNbdF0ucmVzdW1lKCEwKX19LGkuVHdlZW5NYW5hZ2VyLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1pLlR3ZWVuTWFuYWdlcixpLlR3ZWVuPWZ1bmN0aW9uKHQsZSxzKXt0aGlzLmdhbWU9ZSx0aGlzLnRhcmdldD10LHRoaXMubWFuYWdlcj1zLHRoaXMudGltZWxpbmU9W10sdGhpcy5yZXZlcnNlPSExLHRoaXMudGltZVNjYWxlPTEsdGhpcy5yZXBlYXRDb3VudGVyPTAsdGhpcy5wZW5kaW5nRGVsZXRlPSExLHRoaXMub25TdGFydD1uZXcgaS5TaWduYWwsdGhpcy5vbkxvb3A9bmV3IGkuU2lnbmFsLHRoaXMub25SZXBlYXQ9bmV3IGkuU2lnbmFsLHRoaXMub25DaGlsZENvbXBsZXRlPW5ldyBpLlNpZ25hbCx0aGlzLm9uQ29tcGxldGU9bmV3IGkuU2lnbmFsLHRoaXMuaXNSdW5uaW5nPSExLHRoaXMuY3VycmVudD0wLHRoaXMucHJvcGVydGllcz17fSx0aGlzLmNoYWluZWRUd2Vlbj1udWxsLHRoaXMuaXNQYXVzZWQ9ITEsdGhpcy5mcmFtZUJhc2VkPXMuZnJhbWVCYXNlZCx0aGlzLl9vblVwZGF0ZUNhbGxiYWNrPW51bGwsdGhpcy5fb25VcGRhdGVDYWxsYmFja0NvbnRleHQ9bnVsbCx0aGlzLl9wYXVzZWRUaW1lPTAsdGhpcy5fY29kZVBhdXNlZD0hMSx0aGlzLl9oYXNTdGFydGVkPSExfSxpLlR3ZWVuLnVwZGF0ZUNvbG9yPWZ1bmN0aW9uKHQpe2kuQ29sb3IudXBkYXRlQ29sb3IodC50YXJnZXQpfSxpLlR3ZWVuLnByb3RvdHlwZT17dG86ZnVuY3Rpb24odCxlLHMsbixvLHIsYSl7cmV0dXJuKHZvaWQgMD09PWV8fGU8PTApJiYoZT0xZTMpLHZvaWQgMCE9PXMmJm51bGwhPT1zfHwocz1pLkVhc2luZy5EZWZhdWx0KSx2b2lkIDA9PT1uJiYobj0hMSksdm9pZCAwPT09byYmKG89MCksdm9pZCAwPT09ciYmKHI9MCksdm9pZCAwPT09YSYmKGE9ITEpLFwic3RyaW5nXCI9PXR5cGVvZiBzJiZ0aGlzLm1hbmFnZXIuZWFzZU1hcFtzXSYmKHM9dGhpcy5tYW5hZ2VyLmVhc2VNYXBbc10pLHRoaXMuaXNSdW5uaW5nPyhjb25zb2xlLndhcm4oXCJQaGFzZXIuVHdlZW4udG8gY2Fubm90IGJlIGNhbGxlZCBhZnRlciBUd2Vlbi5zdGFydFwiKSx0aGlzKToodGhpcy50aW1lbGluZS5wdXNoKG5ldyBpLlR3ZWVuRGF0YSh0aGlzKS50byh0LGUscyxvLHIsYSkpLG4mJnRoaXMuc3RhcnQoKSx0aGlzKX0sZnJvbTpmdW5jdGlvbih0LGUscyxuLG8scixhKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9MWUzKSx2b2lkIDAhPT1zJiZudWxsIT09c3x8KHM9aS5FYXNpbmcuRGVmYXVsdCksdm9pZCAwPT09biYmKG49ITEpLHZvaWQgMD09PW8mJihvPTApLHZvaWQgMD09PXImJihyPTApLHZvaWQgMD09PWEmJihhPSExKSxcInN0cmluZ1wiPT10eXBlb2YgcyYmdGhpcy5tYW5hZ2VyLmVhc2VNYXBbc10mJihzPXRoaXMubWFuYWdlci5lYXNlTWFwW3NdKSx0aGlzLmlzUnVubmluZz8oY29uc29sZS53YXJuKFwiUGhhc2VyLlR3ZWVuLmZyb20gY2Fubm90IGJlIGNhbGxlZCBhZnRlciBUd2Vlbi5zdGFydFwiKSx0aGlzKToodGhpcy50aW1lbGluZS5wdXNoKG5ldyBpLlR3ZWVuRGF0YSh0aGlzKS5mcm9tKHQsZSxzLG8scixhKSksbiYmdGhpcy5zdGFydCgpLHRoaXMpfSxzdGFydDpmdW5jdGlvbih0KXtpZih2b2lkIDA9PT10JiYodD0wKSx0aGlzLnBlbmRpbmdEZWxldGUpcmV0dXJuIGNvbnNvbGUud2FybihcIlBoYXNlci5Ud2Vlbi5zdGFydCBjYW5ub3QgYmUgY2FsbGVkIGFmdGVyIFR3ZWVuLnN0b3BcIiksdGhpcztpZihudWxsPT09dGhpcy5nYW1lfHxudWxsPT09dGhpcy50YXJnZXR8fDA9PT10aGlzLnRpbWVsaW5lLmxlbmd0aHx8dGhpcy5pc1J1bm5pbmcpcmV0dXJuIHRoaXM7Zm9yKGk9MDtpPHRoaXMudGltZWxpbmUubGVuZ3RoO2krKylmb3IodmFyIGUgaW4gdGhpcy50aW1lbGluZVtpXS52RW5kKXRoaXMucHJvcGVydGllc1tlXT10aGlzLnRhcmdldFtlXXx8MCxBcnJheS5pc0FycmF5KHRoaXMucHJvcGVydGllc1tlXSl8fCh0aGlzLnByb3BlcnRpZXNbZV0qPTEpO2Zvcih2YXIgaT0wO2k8dGhpcy50aW1lbGluZS5sZW5ndGg7aSsrKXRoaXMudGltZWxpbmVbaV0ubG9hZFZhbHVlcygpO3JldHVybiB0aGlzLm1hbmFnZXIuYWRkKHRoaXMpLHRoaXMuaXNSdW5uaW5nPSEwLCh0PDB8fHQ+dGhpcy50aW1lbGluZS5sZW5ndGgtMSkmJih0PTApLHRoaXMuY3VycmVudD10LHRoaXMudGltZWxpbmVbdGhpcy5jdXJyZW50XS5zdGFydCgpLHRoaXN9LHN0b3A6ZnVuY3Rpb24odCl7cmV0dXJuIHZvaWQgMD09PXQmJih0PSExKSx0aGlzLmlzUnVubmluZz0hMSx0aGlzLl9vblVwZGF0ZUNhbGxiYWNrPW51bGwsdGhpcy5fb25VcGRhdGVDYWxsYmFja0NvbnRleHQ9bnVsbCx0JiYodGhpcy5vbkNvbXBsZXRlLmRpc3BhdGNoKHRoaXMudGFyZ2V0LHRoaXMpLHRoaXMuX2hhc1N0YXJ0ZWQ9ITEsdGhpcy5jaGFpbmVkVHdlZW4mJnRoaXMuY2hhaW5lZFR3ZWVuLnN0YXJ0KCkpLHRoaXMubWFuYWdlci5yZW1vdmUodGhpcyksdGhpc30sdXBkYXRlVHdlZW5EYXRhOmZ1bmN0aW9uKHQsZSxpKXtpZigwPT09dGhpcy50aW1lbGluZS5sZW5ndGgpcmV0dXJuIHRoaXM7aWYodm9pZCAwPT09aSYmKGk9MCksLTE9PT1pKWZvcih2YXIgcz0wO3M8dGhpcy50aW1lbGluZS5sZW5ndGg7cysrKXRoaXMudGltZWxpbmVbc11bdF09ZTtlbHNlIHRoaXMudGltZWxpbmVbaV1bdF09ZTtyZXR1cm4gdGhpc30sZGVsYXk6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy51cGRhdGVUd2VlbkRhdGEoXCJkZWxheVwiLHQsZSl9LHJlcGVhdDpmdW5jdGlvbih0LGUsaSl7cmV0dXJuIHZvaWQgMD09PWUmJihlPTApLHRoaXMudXBkYXRlVHdlZW5EYXRhKFwicmVwZWF0Q291bnRlclwiLHQsaSksdGhpcy51cGRhdGVUd2VlbkRhdGEoXCJyZXBlYXRUb3RhbFwiLHQsaSksdGhpcy51cGRhdGVUd2VlbkRhdGEoXCJyZXBlYXREZWxheVwiLGUsaSl9LHJlcGVhdERlbGF5OmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMudXBkYXRlVHdlZW5EYXRhKFwicmVwZWF0RGVsYXlcIix0LGUpfSx5b3lvOmZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9MCksdGhpcy51cGRhdGVUd2VlbkRhdGEoXCJ5b3lvXCIsdCxpKSx0aGlzLnVwZGF0ZVR3ZWVuRGF0YShcInlveW9EZWxheVwiLGUsaSl9LHlveW9EZWxheTpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLnVwZGF0ZVR3ZWVuRGF0YShcInlveW9EZWxheVwiLHQsZSl9LGVhc2luZzpmdW5jdGlvbih0LGUpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiB0JiZ0aGlzLm1hbmFnZXIuZWFzZU1hcFt0XSYmKHQ9dGhpcy5tYW5hZ2VyLmVhc2VNYXBbdF0pLHRoaXMudXBkYXRlVHdlZW5EYXRhKFwiZWFzaW5nRnVuY3Rpb25cIix0LGUpfSxpbnRlcnBvbGF0aW9uOmZ1bmN0aW9uKHQsZSxzKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9aS5NYXRoKSx0aGlzLnVwZGF0ZVR3ZWVuRGF0YShcImludGVycG9sYXRpb25GdW5jdGlvblwiLHQscyksdGhpcy51cGRhdGVUd2VlbkRhdGEoXCJpbnRlcnBvbGF0aW9uQ29udGV4dFwiLGUscyl9LHJlcGVhdEFsbDpmdW5jdGlvbih0KXtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9MCksdGhpcy5yZXBlYXRDb3VudGVyPXQsdGhpc30sY2hhaW46ZnVuY3Rpb24oKXtmb3IodmFyIHQ9YXJndW1lbnRzLmxlbmd0aDt0LS07KXQ+MD9hcmd1bWVudHNbdC0xXS5jaGFpbmVkVHdlZW49YXJndW1lbnRzW3RdOnRoaXMuY2hhaW5lZFR3ZWVuPWFyZ3VtZW50c1t0XTtyZXR1cm4gdGhpc30sbG9vcDpmdW5jdGlvbih0KXtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9ITApLHRoaXMucmVwZWF0Q291bnRlcj10Py0xOjAsdGhpc30sb25VcGRhdGVDYWxsYmFjazpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLl9vblVwZGF0ZUNhbGxiYWNrPXQsdGhpcy5fb25VcGRhdGVDYWxsYmFja0NvbnRleHQ9ZSx0aGlzfSxwYXVzZTpmdW5jdGlvbigpe3RoaXMuaXNQYXVzZWQ9ITAsdGhpcy5fY29kZVBhdXNlZD0hMCx0aGlzLl9wYXVzZWRUaW1lPXRoaXMuZ2FtZS50aW1lLnRpbWV9LF9wYXVzZTpmdW5jdGlvbigpe3RoaXMuX2NvZGVQYXVzZWR8fCh0aGlzLmlzUGF1c2VkPSEwLHRoaXMuX3BhdXNlZFRpbWU9dGhpcy5nYW1lLnRpbWUudGltZSl9LHJlc3VtZTpmdW5jdGlvbigpe2lmKHRoaXMuaXNQYXVzZWQpe3RoaXMuaXNQYXVzZWQ9ITEsdGhpcy5fY29kZVBhdXNlZD0hMTtmb3IodmFyIHQ9MDt0PHRoaXMudGltZWxpbmUubGVuZ3RoO3QrKyl0aGlzLnRpbWVsaW5lW3RdLmlzUnVubmluZ3x8KHRoaXMudGltZWxpbmVbdF0uc3RhcnRUaW1lKz10aGlzLmdhbWUudGltZS50aW1lLXRoaXMuX3BhdXNlZFRpbWUpfX0sX3Jlc3VtZTpmdW5jdGlvbigpe3RoaXMuX2NvZGVQYXVzZWR8fHRoaXMucmVzdW1lKCl9LHVwZGF0ZTpmdW5jdGlvbih0KXtpZih0aGlzLnBlbmRpbmdEZWxldGV8fCF0aGlzLnRhcmdldClyZXR1cm4hMTtpZih0aGlzLmlzUGF1c2VkKXJldHVybiEwO3ZhciBlPXRoaXMudGltZWxpbmVbdGhpcy5jdXJyZW50XS51cGRhdGUodCk7aWYoZT09PWkuVHdlZW5EYXRhLlBFTkRJTkcpcmV0dXJuITA7aWYoZT09PWkuVHdlZW5EYXRhLlJVTk5JTkcpcmV0dXJuIHRoaXMuX2hhc1N0YXJ0ZWR8fCh0aGlzLm9uU3RhcnQuZGlzcGF0Y2godGhpcy50YXJnZXQsdGhpcyksdGhpcy5faGFzU3RhcnRlZD0hMCksbnVsbCE9PXRoaXMuX29uVXBkYXRlQ2FsbGJhY2smJnRoaXMuX29uVXBkYXRlQ2FsbGJhY2suY2FsbCh0aGlzLl9vblVwZGF0ZUNhbGxiYWNrQ29udGV4dCx0aGlzLHRoaXMudGltZWxpbmVbdGhpcy5jdXJyZW50XS52YWx1ZSx0aGlzLnRpbWVsaW5lW3RoaXMuY3VycmVudF0pLHRoaXMuaXNSdW5uaW5nO2lmKGU9PT1pLlR3ZWVuRGF0YS5MT09QRUQpcmV0dXJuLTE9PT10aGlzLnRpbWVsaW5lW3RoaXMuY3VycmVudF0ucmVwZWF0Q291bnRlcj90aGlzLm9uTG9vcC5kaXNwYXRjaCh0aGlzLnRhcmdldCx0aGlzKTp0aGlzLm9uUmVwZWF0LmRpc3BhdGNoKHRoaXMudGFyZ2V0LHRoaXMpLCEwO2lmKGU9PT1pLlR3ZWVuRGF0YS5DT01QTEVURSl7dmFyIHM9ITE7cmV0dXJuIHRoaXMucmV2ZXJzZT8tLXRoaXMuY3VycmVudDwwJiYodGhpcy5jdXJyZW50PXRoaXMudGltZWxpbmUubGVuZ3RoLTEscz0hMCk6Kyt0aGlzLmN1cnJlbnQ9PT10aGlzLnRpbWVsaW5lLmxlbmd0aCYmKHRoaXMuY3VycmVudD0wLHM9ITApLHM/LTE9PT10aGlzLnJlcGVhdENvdW50ZXI/KHRoaXMudGltZWxpbmVbdGhpcy5jdXJyZW50XS5zdGFydCgpLHRoaXMub25Mb29wLmRpc3BhdGNoKHRoaXMudGFyZ2V0LHRoaXMpLCEwKTp0aGlzLnJlcGVhdENvdW50ZXI+MD8odGhpcy5yZXBlYXRDb3VudGVyLS0sdGhpcy50aW1lbGluZVt0aGlzLmN1cnJlbnRdLnN0YXJ0KCksdGhpcy5vblJlcGVhdC5kaXNwYXRjaCh0aGlzLnRhcmdldCx0aGlzKSwhMCk6KHRoaXMuaXNSdW5uaW5nPSExLHRoaXMub25Db21wbGV0ZS5kaXNwYXRjaCh0aGlzLnRhcmdldCx0aGlzKSx0aGlzLl9oYXNTdGFydGVkPSExLHRoaXMuY2hhaW5lZFR3ZWVuJiZ0aGlzLmNoYWluZWRUd2Vlbi5zdGFydCgpLCExKToodGhpcy5vbkNoaWxkQ29tcGxldGUuZGlzcGF0Y2godGhpcy50YXJnZXQsdGhpcyksdGhpcy50aW1lbGluZVt0aGlzLmN1cnJlbnRdLnN0YXJ0KCksITApfX0sZ2VuZXJhdGVEYXRhOmZ1bmN0aW9uKHQsZSl7aWYobnVsbD09PXRoaXMuZ2FtZXx8bnVsbD09PXRoaXMudGFyZ2V0KXJldHVybiBudWxsO3ZvaWQgMD09PXQmJih0PTYwKSx2b2lkIDA9PT1lJiYoZT1bXSk7Zm9yKHM9MDtzPHRoaXMudGltZWxpbmUubGVuZ3RoO3MrKylmb3IodmFyIGkgaW4gdGhpcy50aW1lbGluZVtzXS52RW5kKXRoaXMucHJvcGVydGllc1tpXT10aGlzLnRhcmdldFtpXXx8MCxBcnJheS5pc0FycmF5KHRoaXMucHJvcGVydGllc1tpXSl8fCh0aGlzLnByb3BlcnRpZXNbaV0qPTEpO2ZvcihzPTA7czx0aGlzLnRpbWVsaW5lLmxlbmd0aDtzKyspdGhpcy50aW1lbGluZVtzXS5sb2FkVmFsdWVzKCk7Zm9yKHZhciBzPTA7czx0aGlzLnRpbWVsaW5lLmxlbmd0aDtzKyspZT1lLmNvbmNhdCh0aGlzLnRpbWVsaW5lW3NdLmdlbmVyYXRlRGF0YSh0KSk7cmV0dXJuIGV9fSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5Ud2Vlbi5wcm90b3R5cGUsXCJ0b3RhbER1cmF0aW9uXCIse2dldDpmdW5jdGlvbigpe2Zvcih2YXIgdD0wLGU9MDtlPHRoaXMudGltZWxpbmUubGVuZ3RoO2UrKyl0Kz10aGlzLnRpbWVsaW5lW2VdLmR1cmF0aW9uO3JldHVybiB0fX0pLGkuVHdlZW4ucHJvdG90eXBlLmNvbnN0cnVjdG9yPWkuVHdlZW4saS5Ud2VlbkRhdGE9ZnVuY3Rpb24odCl7dGhpcy5wYXJlbnQ9dCx0aGlzLmdhbWU9dC5nYW1lLHRoaXMudlN0YXJ0PXt9LHRoaXMudlN0YXJ0Q2FjaGU9e30sdGhpcy52RW5kPXt9LHRoaXMudkVuZENhY2hlPXt9LHRoaXMuZHVyYXRpb249MWUzLHRoaXMucGVyY2VudD0wLHRoaXMudmFsdWU9MCx0aGlzLnJlcGVhdENvdW50ZXI9MCx0aGlzLnJlcGVhdERlbGF5PTAsdGhpcy5yZXBlYXRUb3RhbD0wLHRoaXMuaW50ZXJwb2xhdGU9ITEsdGhpcy55b3lvPSExLHRoaXMueW95b0RlbGF5PTAsdGhpcy5pblJldmVyc2U9ITEsdGhpcy5kZWxheT0wLHRoaXMuZHQ9MCx0aGlzLnN0YXJ0VGltZT1udWxsLHRoaXMuZWFzaW5nRnVuY3Rpb249aS5FYXNpbmcuRGVmYXVsdCx0aGlzLmludGVycG9sYXRpb25GdW5jdGlvbj1pLk1hdGgubGluZWFySW50ZXJwb2xhdGlvbix0aGlzLmludGVycG9sYXRpb25Db250ZXh0PWkuTWF0aCx0aGlzLmlzUnVubmluZz0hMSx0aGlzLmlzRnJvbT0hMX0saS5Ud2VlbkRhdGEuUEVORElORz0wLGkuVHdlZW5EYXRhLlJVTk5JTkc9MSxpLlR3ZWVuRGF0YS5MT09QRUQ9MixpLlR3ZWVuRGF0YS5DT01QTEVURT0zLGkuVHdlZW5EYXRhLnByb3RvdHlwZT17dG86ZnVuY3Rpb24odCxlLGkscyxuLG8pe3JldHVybiB0aGlzLnZFbmQ9dCx0aGlzLmR1cmF0aW9uPWUsdGhpcy5lYXNpbmdGdW5jdGlvbj1pLHRoaXMuZGVsYXk9cyx0aGlzLnJlcGVhdFRvdGFsPW4sdGhpcy55b3lvPW8sdGhpcy5pc0Zyb209ITEsdGhpc30sZnJvbTpmdW5jdGlvbih0LGUsaSxzLG4sbyl7cmV0dXJuIHRoaXMudkVuZD10LHRoaXMuZHVyYXRpb249ZSx0aGlzLmVhc2luZ0Z1bmN0aW9uPWksdGhpcy5kZWxheT1zLHRoaXMucmVwZWF0VG90YWw9bix0aGlzLnlveW89byx0aGlzLmlzRnJvbT0hMCx0aGlzfSxzdGFydDpmdW5jdGlvbigpe2lmKHRoaXMuc3RhcnRUaW1lPXRoaXMuZ2FtZS50aW1lLnRpbWUrdGhpcy5kZWxheSx0aGlzLnBhcmVudC5yZXZlcnNlP3RoaXMuZHQ9dGhpcy5kdXJhdGlvbjp0aGlzLmR0PTAsdGhpcy5kZWxheT4wP3RoaXMuaXNSdW5uaW5nPSExOnRoaXMuaXNSdW5uaW5nPSEwLHRoaXMuaXNGcm9tKWZvcih2YXIgdCBpbiB0aGlzLnZTdGFydENhY2hlKXRoaXMudlN0YXJ0W3RdPXRoaXMudkVuZENhY2hlW3RdLHRoaXMudkVuZFt0XT10aGlzLnZTdGFydENhY2hlW3RdLHRoaXMucGFyZW50LnRhcmdldFt0XT10aGlzLnZTdGFydFt0XTtyZXR1cm4gdGhpcy52YWx1ZT0wLHRoaXMucmVwZWF0Q291bnRlcj10aGlzLnJlcGVhdFRvdGFsLHRoaXN9LGxvYWRWYWx1ZXM6ZnVuY3Rpb24oKXtmb3IodmFyIHQgaW4gdGhpcy5wYXJlbnQucHJvcGVydGllcyl7aWYodGhpcy52U3RhcnRbdF09dGhpcy5wYXJlbnQucHJvcGVydGllc1t0XSxBcnJheS5pc0FycmF5KHRoaXMudkVuZFt0XSkpe2lmKDA9PT10aGlzLnZFbmRbdF0ubGVuZ3RoKWNvbnRpbnVlOzA9PT10aGlzLnBlcmNlbnQmJih0aGlzLnZFbmRbdF09W3RoaXMudlN0YXJ0W3RdXS5jb25jYXQodGhpcy52RW5kW3RdKSl9dm9pZCAwIT09dGhpcy52RW5kW3RdPyhcInN0cmluZ1wiPT10eXBlb2YgdGhpcy52RW5kW3RdJiYodGhpcy52RW5kW3RdPXRoaXMudlN0YXJ0W3RdK3BhcnNlRmxvYXQodGhpcy52RW5kW3RdLDEwKSksdGhpcy5wYXJlbnQucHJvcGVydGllc1t0XT10aGlzLnZFbmRbdF0pOnRoaXMudkVuZFt0XT10aGlzLnZTdGFydFt0XSx0aGlzLnZTdGFydENhY2hlW3RdPXRoaXMudlN0YXJ0W3RdLHRoaXMudkVuZENhY2hlW3RdPXRoaXMudkVuZFt0XX1yZXR1cm4gdGhpc30sdXBkYXRlOmZ1bmN0aW9uKHQpe2lmKHRoaXMuaXNSdW5uaW5nKXtpZih0PHRoaXMuc3RhcnRUaW1lKXJldHVybiBpLlR3ZWVuRGF0YS5SVU5OSU5HfWVsc2V7aWYoISh0Pj10aGlzLnN0YXJ0VGltZSkpcmV0dXJuIGkuVHdlZW5EYXRhLlBFTkRJTkc7dGhpcy5pc1J1bm5pbmc9ITB9dmFyIGU9dGhpcy5wYXJlbnQuZnJhbWVCYXNlZD90aGlzLmdhbWUudGltZS5waHlzaWNzRWxhcHNlZE1TOnRoaXMuZ2FtZS50aW1lLmVsYXBzZWRNUzt0aGlzLnBhcmVudC5yZXZlcnNlPyh0aGlzLmR0LT1lKnRoaXMucGFyZW50LnRpbWVTY2FsZSx0aGlzLmR0PU1hdGgubWF4KHRoaXMuZHQsMCkpOih0aGlzLmR0Kz1lKnRoaXMucGFyZW50LnRpbWVTY2FsZSx0aGlzLmR0PU1hdGgubWluKHRoaXMuZHQsdGhpcy5kdXJhdGlvbikpLHRoaXMucGVyY2VudD10aGlzLmR0L3RoaXMuZHVyYXRpb24sdGhpcy52YWx1ZT10aGlzLmVhc2luZ0Z1bmN0aW9uKHRoaXMucGVyY2VudCk7Zm9yKHZhciBzIGluIHRoaXMudkVuZCl7dmFyIG49dGhpcy52U3RhcnRbc10sbz10aGlzLnZFbmRbc107QXJyYXkuaXNBcnJheShvKT90aGlzLnBhcmVudC50YXJnZXRbc109dGhpcy5pbnRlcnBvbGF0aW9uRnVuY3Rpb24uY2FsbCh0aGlzLmludGVycG9sYXRpb25Db250ZXh0LG8sdGhpcy52YWx1ZSk6dGhpcy5wYXJlbnQudGFyZ2V0W3NdPW4rKG8tbikqdGhpcy52YWx1ZX1yZXR1cm4hdGhpcy5wYXJlbnQucmV2ZXJzZSYmMT09PXRoaXMucGVyY2VudHx8dGhpcy5wYXJlbnQucmV2ZXJzZSYmMD09PXRoaXMucGVyY2VudD90aGlzLnJlcGVhdCgpOmkuVHdlZW5EYXRhLlJVTk5JTkd9LGdlbmVyYXRlRGF0YTpmdW5jdGlvbih0KXt0aGlzLnBhcmVudC5yZXZlcnNlP3RoaXMuZHQ9dGhpcy5kdXJhdGlvbjp0aGlzLmR0PTA7dmFyIGU9W10saT0hMSxzPTEvdCoxZTM7ZG97dGhpcy5wYXJlbnQucmV2ZXJzZT8odGhpcy5kdC09cyx0aGlzLmR0PU1hdGgubWF4KHRoaXMuZHQsMCkpOih0aGlzLmR0Kz1zLHRoaXMuZHQ9TWF0aC5taW4odGhpcy5kdCx0aGlzLmR1cmF0aW9uKSksdGhpcy5wZXJjZW50PXRoaXMuZHQvdGhpcy5kdXJhdGlvbix0aGlzLnZhbHVlPXRoaXMuZWFzaW5nRnVuY3Rpb24odGhpcy5wZXJjZW50KTt2YXIgbj17fTtmb3IodmFyIG8gaW4gdGhpcy52RW5kKXt2YXIgcj10aGlzLnZTdGFydFtvXSxhPXRoaXMudkVuZFtvXTtBcnJheS5pc0FycmF5KGEpP25bb109dGhpcy5pbnRlcnBvbGF0aW9uRnVuY3Rpb24uY2FsbCh0aGlzLmludGVycG9sYXRpb25Db250ZXh0LGEsdGhpcy52YWx1ZSk6bltvXT1yKyhhLXIpKnRoaXMudmFsdWV9ZS5wdXNoKG4pLCghdGhpcy5wYXJlbnQucmV2ZXJzZSYmMT09PXRoaXMucGVyY2VudHx8dGhpcy5wYXJlbnQucmV2ZXJzZSYmMD09PXRoaXMucGVyY2VudCkmJihpPSEwKX13aGlsZSghaSk7aWYodGhpcy55b3lvKXt2YXIgaD1lLnNsaWNlKCk7aC5yZXZlcnNlKCksZT1lLmNvbmNhdChoKX1yZXR1cm4gZX0scmVwZWF0OmZ1bmN0aW9uKCl7aWYodGhpcy55b3lvKXtpZih0aGlzLmluUmV2ZXJzZSYmMD09PXRoaXMucmVwZWF0Q291bnRlcil7Zm9yKHZhciB0IGluIHRoaXMudlN0YXJ0Q2FjaGUpdGhpcy52U3RhcnRbdF09dGhpcy52U3RhcnRDYWNoZVt0XSx0aGlzLnZFbmRbdF09dGhpcy52RW5kQ2FjaGVbdF07cmV0dXJuIHRoaXMuaW5SZXZlcnNlPSExLGkuVHdlZW5EYXRhLkNPTVBMRVRFfXRoaXMuaW5SZXZlcnNlPSF0aGlzLmluUmV2ZXJzZX1lbHNlIGlmKDA9PT10aGlzLnJlcGVhdENvdW50ZXIpcmV0dXJuIGkuVHdlZW5EYXRhLkNPTVBMRVRFO2lmKHRoaXMuaW5SZXZlcnNlKWZvcih2YXIgdCBpbiB0aGlzLnZTdGFydENhY2hlKXRoaXMudlN0YXJ0W3RdPXRoaXMudkVuZENhY2hlW3RdLHRoaXMudkVuZFt0XT10aGlzLnZTdGFydENhY2hlW3RdO2Vsc2V7Zm9yKHZhciB0IGluIHRoaXMudlN0YXJ0Q2FjaGUpdGhpcy52U3RhcnRbdF09dGhpcy52U3RhcnRDYWNoZVt0XSx0aGlzLnZFbmRbdF09dGhpcy52RW5kQ2FjaGVbdF07dGhpcy5yZXBlYXRDb3VudGVyPjAmJnRoaXMucmVwZWF0Q291bnRlci0tfXJldHVybiB0aGlzLnN0YXJ0VGltZT10aGlzLmdhbWUudGltZS50aW1lLHRoaXMueW95byYmdGhpcy5pblJldmVyc2U/dGhpcy5zdGFydFRpbWUrPXRoaXMueW95b0RlbGF5OnRoaXMuaW5SZXZlcnNlfHwodGhpcy5zdGFydFRpbWUrPXRoaXMucmVwZWF0RGVsYXkpLHRoaXMucGFyZW50LnJldmVyc2U/dGhpcy5kdD10aGlzLmR1cmF0aW9uOnRoaXMuZHQ9MCxpLlR3ZWVuRGF0YS5MT09QRUR9fSxpLlR3ZWVuRGF0YS5wcm90b3R5cGUuY29uc3RydWN0b3I9aS5Ud2VlbkRhdGEsaS5FYXNpbmc9e0xpbmVhcjp7Tm9uZTpmdW5jdGlvbih0KXtyZXR1cm4gdH19LFF1YWRyYXRpYzp7SW46ZnVuY3Rpb24odCl7cmV0dXJuIHQqdH0sT3V0OmZ1bmN0aW9uKHQpe3JldHVybiB0KigyLXQpfSxJbk91dDpmdW5jdGlvbih0KXtyZXR1cm4odCo9Mik8MT8uNSp0KnQ6LS41KigtLXQqKHQtMiktMSl9fSxDdWJpYzp7SW46ZnVuY3Rpb24odCl7cmV0dXJuIHQqdCp0fSxPdXQ6ZnVuY3Rpb24odCl7cmV0dXJuLS10KnQqdCsxfSxJbk91dDpmdW5jdGlvbih0KXtyZXR1cm4odCo9Mik8MT8uNSp0KnQqdDouNSooKHQtPTIpKnQqdCsyKX19LFF1YXJ0aWM6e0luOmZ1bmN0aW9uKHQpe3JldHVybiB0KnQqdCp0fSxPdXQ6ZnVuY3Rpb24odCl7cmV0dXJuIDEtIC0tdCp0KnQqdH0sSW5PdXQ6ZnVuY3Rpb24odCl7cmV0dXJuKHQqPTIpPDE/LjUqdCp0KnQqdDotLjUqKCh0LT0yKSp0KnQqdC0yKX19LFF1aW50aWM6e0luOmZ1bmN0aW9uKHQpe3JldHVybiB0KnQqdCp0KnR9LE91dDpmdW5jdGlvbih0KXtyZXR1cm4tLXQqdCp0KnQqdCsxfSxJbk91dDpmdW5jdGlvbih0KXtyZXR1cm4odCo9Mik8MT8uNSp0KnQqdCp0KnQ6LjUqKCh0LT0yKSp0KnQqdCp0KzIpfX0sU2ludXNvaWRhbDp7SW46ZnVuY3Rpb24odCl7cmV0dXJuIDA9PT10PzA6MT09PXQ/MToxLU1hdGguY29zKHQqTWF0aC5QSS8yKX0sT3V0OmZ1bmN0aW9uKHQpe3JldHVybiAwPT09dD8wOjE9PT10PzE6TWF0aC5zaW4odCpNYXRoLlBJLzIpfSxJbk91dDpmdW5jdGlvbih0KXtyZXR1cm4gMD09PXQ/MDoxPT09dD8xOi41KigxLU1hdGguY29zKE1hdGguUEkqdCkpfX0sRXhwb25lbnRpYWw6e0luOmZ1bmN0aW9uKHQpe3JldHVybiAwPT09dD8wOk1hdGgucG93KDEwMjQsdC0xKX0sT3V0OmZ1bmN0aW9uKHQpe3JldHVybiAxPT09dD8xOjEtTWF0aC5wb3coMiwtMTAqdCl9LEluT3V0OmZ1bmN0aW9uKHQpe3JldHVybiAwPT09dD8wOjE9PT10PzE6KHQqPTIpPDE/LjUqTWF0aC5wb3coMTAyNCx0LTEpOi41KigyLU1hdGgucG93KDIsLTEwKih0LTEpKSl9fSxDaXJjdWxhcjp7SW46ZnVuY3Rpb24odCl7cmV0dXJuIDEtTWF0aC5zcXJ0KDEtdCp0KX0sT3V0OmZ1bmN0aW9uKHQpe3JldHVybiBNYXRoLnNxcnQoMS0gLS10KnQpfSxJbk91dDpmdW5jdGlvbih0KXtyZXR1cm4odCo9Mik8MT8tLjUqKE1hdGguc3FydCgxLXQqdCktMSk6LjUqKE1hdGguc3FydCgxLSh0LT0yKSp0KSsxKX19LEVsYXN0aWM6e0luOmZ1bmN0aW9uKHQpe3ZhciBlLGk9LjE7cmV0dXJuIDA9PT10PzA6MT09PXQ/MTooIWl8fGk8MT8oaT0xLGU9LjEpOmU9LjQqTWF0aC5hc2luKDEvaSkvKDIqTWF0aC5QSSksLWkqTWF0aC5wb3coMiwxMCoodC09MSkpKk1hdGguc2luKCh0LWUpKigyKk1hdGguUEkpLy40KSl9LE91dDpmdW5jdGlvbih0KXt2YXIgZSxpPS4xO3JldHVybiAwPT09dD8wOjE9PT10PzE6KCFpfHxpPDE/KGk9MSxlPS4xKTplPS40Kk1hdGguYXNpbigxL2kpLygyKk1hdGguUEkpLGkqTWF0aC5wb3coMiwtMTAqdCkqTWF0aC5zaW4oKHQtZSkqKDIqTWF0aC5QSSkvLjQpKzEpfSxJbk91dDpmdW5jdGlvbih0KXt2YXIgZSxpPS4xO3JldHVybiAwPT09dD8wOjE9PT10PzE6KCFpfHxpPDE/KGk9MSxlPS4xKTplPS40Kk1hdGguYXNpbigxL2kpLygyKk1hdGguUEkpLCh0Kj0yKTwxP2kqTWF0aC5wb3coMiwxMCoodC09MSkpKk1hdGguc2luKCh0LWUpKigyKk1hdGguUEkpLy40KSotLjU6aSpNYXRoLnBvdygyLC0xMCoodC09MSkpKk1hdGguc2luKCh0LWUpKigyKk1hdGguUEkpLy40KSouNSsxKX19LEJhY2s6e0luOmZ1bmN0aW9uKHQpe3ZhciBlPTEuNzAxNTg7cmV0dXJuIHQqdCooKGUrMSkqdC1lKX0sT3V0OmZ1bmN0aW9uKHQpe3ZhciBlPTEuNzAxNTg7cmV0dXJuLS10KnQqKChlKzEpKnQrZSkrMX0sSW5PdXQ6ZnVuY3Rpb24odCl7dmFyIGU9Mi41OTQ5MDk1O3JldHVybih0Kj0yKTwxP3QqdCooKGUrMSkqdC1lKSouNTouNSooKHQtPTIpKnQqKChlKzEpKnQrZSkrMil9fSxCb3VuY2U6e0luOmZ1bmN0aW9uKHQpe3JldHVybiAxLWkuRWFzaW5nLkJvdW5jZS5PdXQoMS10KX0sT3V0OmZ1bmN0aW9uKHQpe3JldHVybiB0PDEvMi43NT83LjU2MjUqdCp0OnQ8Mi8yLjc1PzcuNTYyNSoodC09MS41LzIuNzUpKnQrLjc1OnQ8Mi41LzIuNzU/Ny41NjI1Kih0LT0yLjI1LzIuNzUpKnQrLjkzNzU6Ny41NjI1Kih0LT0yLjYyNS8yLjc1KSp0Ky45ODQzNzV9LEluT3V0OmZ1bmN0aW9uKHQpe3JldHVybiB0PC41Py41KmkuRWFzaW5nLkJvdW5jZS5JbigyKnQpOi41KmkuRWFzaW5nLkJvdW5jZS5PdXQoMip0LTEpKy41fX19LGkuRWFzaW5nLkRlZmF1bHQ9aS5FYXNpbmcuTGluZWFyLk5vbmUsaS5FYXNpbmcuUG93ZXIwPWkuRWFzaW5nLkxpbmVhci5Ob25lLGkuRWFzaW5nLlBvd2VyMT1pLkVhc2luZy5RdWFkcmF0aWMuT3V0LGkuRWFzaW5nLlBvd2VyMj1pLkVhc2luZy5DdWJpYy5PdXQsaS5FYXNpbmcuUG93ZXIzPWkuRWFzaW5nLlF1YXJ0aWMuT3V0LGkuRWFzaW5nLlBvd2VyND1pLkVhc2luZy5RdWludGljLk91dCxpLlRpbWU9ZnVuY3Rpb24odCl7dGhpcy5nYW1lPXQsdGhpcy50aW1lPTAsdGhpcy5wcmV2VGltZT0wLHRoaXMubm93PTAsdGhpcy5lbGFwc2VkPTAsdGhpcy5lbGFwc2VkTVM9MCx0aGlzLnBoeXNpY3NFbGFwc2VkPTEvNjAsdGhpcy5waHlzaWNzRWxhcHNlZE1TPTEvNjAqMWUzLHRoaXMuZGVzaXJlZEZwc011bHQ9MS82MCx0aGlzLl9kZXNpcmVkRnBzPTYwLHRoaXMuc3VnZ2VzdGVkRnBzPXRoaXMuZGVzaXJlZEZwcyx0aGlzLnNsb3dNb3Rpb249MSx0aGlzLmFkdmFuY2VkVGltaW5nPSExLHRoaXMuZnJhbWVzPTAsdGhpcy5mcHM9MCx0aGlzLmZwc01pbj0xZTMsdGhpcy5mcHNNYXg9MCx0aGlzLm1zTWluPTFlMyx0aGlzLm1zTWF4PTAsdGhpcy5wYXVzZUR1cmF0aW9uPTAsdGhpcy50aW1lVG9DYWxsPTAsdGhpcy50aW1lRXhwZWN0ZWQ9MCx0aGlzLmV2ZW50cz1uZXcgaS5UaW1lcih0aGlzLmdhbWUsITEpLHRoaXMuX2ZyYW1lQ291bnQ9MCx0aGlzLl9lbGFwc2VkQWNjdW11bGF0b3I9MCx0aGlzLl9zdGFydGVkPTAsdGhpcy5fdGltZUxhc3RTZWNvbmQ9MCx0aGlzLl9wYXVzZVN0YXJ0ZWQ9MCx0aGlzLl9qdXN0UmVzdW1lZD0hMSx0aGlzLl90aW1lcnM9W119LGkuVGltZS5wcm90b3R5cGU9e2Jvb3Q6ZnVuY3Rpb24oKXt0aGlzLl9zdGFydGVkPURhdGUubm93KCksdGhpcy50aW1lPURhdGUubm93KCksdGhpcy5ldmVudHMuc3RhcnQoKSx0aGlzLnRpbWVFeHBlY3RlZD10aGlzLnRpbWV9LGFkZDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fdGltZXJzLnB1c2godCksdH0sY3JlYXRlOmZ1bmN0aW9uKHQpe3ZvaWQgMD09PXQmJih0PSEwKTt2YXIgZT1uZXcgaS5UaW1lcih0aGlzLmdhbWUsdCk7cmV0dXJuIHRoaXMuX3RpbWVycy5wdXNoKGUpLGV9LHJlbW92ZUFsbDpmdW5jdGlvbigpe2Zvcih2YXIgdD0wO3Q8dGhpcy5fdGltZXJzLmxlbmd0aDt0KyspdGhpcy5fdGltZXJzW3RdLmRlc3Ryb3koKTt0aGlzLl90aW1lcnM9W10sdGhpcy5ldmVudHMucmVtb3ZlQWxsKCl9LHJlZnJlc2g6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnRpbWU7dGhpcy50aW1lPURhdGUubm93KCksdGhpcy5lbGFwc2VkTVM9dGhpcy50aW1lLXR9LHVwZGF0ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLnRpbWU7dGhpcy50aW1lPURhdGUubm93KCksdGhpcy5lbGFwc2VkTVM9dGhpcy50aW1lLWUsdGhpcy5wcmV2VGltZT10aGlzLm5vdyx0aGlzLm5vdz10LHRoaXMuZWxhcHNlZD10aGlzLm5vdy10aGlzLnByZXZUaW1lLHRoaXMuZ2FtZS5yYWYuX2lzU2V0VGltZU91dCYmKHRoaXMudGltZVRvQ2FsbD1NYXRoLmZsb29yKE1hdGgubWF4KDAsMWUzL3RoaXMuX2Rlc2lyZWRGcHMtKHRoaXMudGltZUV4cGVjdGVkLXQpKSksdGhpcy50aW1lRXhwZWN0ZWQ9dCt0aGlzLnRpbWVUb0NhbGwpLHRoaXMuYWR2YW5jZWRUaW1pbmcmJnRoaXMudXBkYXRlQWR2YW5jZWRUaW1pbmcoKSx0aGlzLmdhbWUucGF1c2VkfHwodGhpcy5ldmVudHMudXBkYXRlKHRoaXMudGltZSksdGhpcy5fdGltZXJzLmxlbmd0aCYmdGhpcy51cGRhdGVUaW1lcnMoKSl9LHVwZGF0ZVRpbWVyczpmdW5jdGlvbigpe2Zvcih2YXIgdD0wLGU9dGhpcy5fdGltZXJzLmxlbmd0aDt0PGU7KXRoaXMuX3RpbWVyc1t0XS51cGRhdGUodGhpcy50aW1lKT90Kys6KHRoaXMuX3RpbWVycy5zcGxpY2UodCwxKSxlLS0pfSx1cGRhdGVBZHZhbmNlZFRpbWluZzpmdW5jdGlvbigpe3RoaXMuX2ZyYW1lQ291bnQrKyx0aGlzLl9lbGFwc2VkQWNjdW11bGF0b3IrPXRoaXMuZWxhcHNlZCx0aGlzLl9mcmFtZUNvdW50Pj0yKnRoaXMuX2Rlc2lyZWRGcHMmJih0aGlzLnN1Z2dlc3RlZEZwcz01Kk1hdGguZmxvb3IoMjAwLyh0aGlzLl9lbGFwc2VkQWNjdW11bGF0b3IvdGhpcy5fZnJhbWVDb3VudCkpLHRoaXMuX2ZyYW1lQ291bnQ9MCx0aGlzLl9lbGFwc2VkQWNjdW11bGF0b3I9MCksdGhpcy5tc01pbj1NYXRoLm1pbih0aGlzLm1zTWluLHRoaXMuZWxhcHNlZCksdGhpcy5tc01heD1NYXRoLm1heCh0aGlzLm1zTWF4LHRoaXMuZWxhcHNlZCksdGhpcy5mcmFtZXMrKyx0aGlzLm5vdz50aGlzLl90aW1lTGFzdFNlY29uZCsxZTMmJih0aGlzLmZwcz1NYXRoLnJvdW5kKDFlMyp0aGlzLmZyYW1lcy8odGhpcy5ub3ctdGhpcy5fdGltZUxhc3RTZWNvbmQpKSx0aGlzLmZwc01pbj1NYXRoLm1pbih0aGlzLmZwc01pbix0aGlzLmZwcyksdGhpcy5mcHNNYXg9TWF0aC5tYXgodGhpcy5mcHNNYXgsdGhpcy5mcHMpLHRoaXMuX3RpbWVMYXN0U2Vjb25kPXRoaXMubm93LHRoaXMuZnJhbWVzPTApfSxnYW1lUGF1c2VkOmZ1bmN0aW9uKCl7dGhpcy5fcGF1c2VTdGFydGVkPURhdGUubm93KCksdGhpcy5ldmVudHMucGF1c2UoKTtmb3IodmFyIHQ9dGhpcy5fdGltZXJzLmxlbmd0aDt0LS07KXRoaXMuX3RpbWVyc1t0XS5fcGF1c2UoKX0sZ2FtZVJlc3VtZWQ6ZnVuY3Rpb24oKXt0aGlzLnRpbWU9RGF0ZS5ub3coKSx0aGlzLnBhdXNlRHVyYXRpb249dGhpcy50aW1lLXRoaXMuX3BhdXNlU3RhcnRlZCx0aGlzLmV2ZW50cy5yZXN1bWUoKTtmb3IodmFyIHQ9dGhpcy5fdGltZXJzLmxlbmd0aDt0LS07KXRoaXMuX3RpbWVyc1t0XS5fcmVzdW1lKCl9LHRvdGFsRWxhcHNlZFNlY29uZHM6ZnVuY3Rpb24oKXtyZXR1cm4uMDAxKih0aGlzLnRpbWUtdGhpcy5fc3RhcnRlZCl9LGVsYXBzZWRTaW5jZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy50aW1lLXR9LGVsYXBzZWRTZWNvbmRzU2luY2U6ZnVuY3Rpb24odCl7cmV0dXJuLjAwMSoodGhpcy50aW1lLXQpfSxyZXNldDpmdW5jdGlvbigpe3RoaXMuX3N0YXJ0ZWQ9dGhpcy50aW1lLHRoaXMucmVtb3ZlQWxsKCl9fSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5UaW1lLnByb3RvdHlwZSxcImRlc2lyZWRGcHNcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2Rlc2lyZWRGcHN9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9kZXNpcmVkRnBzPXQsdGhpcy5waHlzaWNzRWxhcHNlZD0xL3QsdGhpcy5waHlzaWNzRWxhcHNlZE1TPTFlMyp0aGlzLnBoeXNpY3NFbGFwc2VkLHRoaXMuZGVzaXJlZEZwc011bHQ9MS90fX0pLGkuVGltZS5wcm90b3R5cGUuY29uc3RydWN0b3I9aS5UaW1lLGkuVGltZXI9ZnVuY3Rpb24odCxlKXt2b2lkIDA9PT1lJiYoZT0hMCksdGhpcy5nYW1lPXQsdGhpcy5ydW5uaW5nPSExLHRoaXMuYXV0b0Rlc3Ryb3k9ZSx0aGlzLmV4cGlyZWQ9ITEsdGhpcy5lbGFwc2VkPTAsdGhpcy5ldmVudHM9W10sdGhpcy5vbkNvbXBsZXRlPW5ldyBpLlNpZ25hbCx0aGlzLm5leHRUaWNrPTAsdGhpcy50aW1lQ2FwPTFlMyx0aGlzLnBhdXNlZD0hMSx0aGlzLl9jb2RlUGF1c2VkPSExLHRoaXMuX3N0YXJ0ZWQ9MCx0aGlzLl9wYXVzZVN0YXJ0ZWQ9MCx0aGlzLl9wYXVzZVRvdGFsPTAsdGhpcy5fbm93PURhdGUubm93KCksdGhpcy5fbGVuPTAsdGhpcy5fbWFya2VkPTAsdGhpcy5faT0wLHRoaXMuX2RpZmY9MCx0aGlzLl9uZXdUaWNrPTB9LGkuVGltZXIuTUlOVVRFPTZlNCxpLlRpbWVyLlNFQ09ORD0xZTMsaS5UaW1lci5IQUxGPTUwMCxpLlRpbWVyLlFVQVJURVI9MjUwLGkuVGltZXIucHJvdG90eXBlPXtjcmVhdGU6ZnVuY3Rpb24odCxlLHMsbixvLHIpe3ZhciBhPXQ9TWF0aC5yb3VuZCh0KTswPT09dGhpcy5fbm93P2ErPXRoaXMuZ2FtZS50aW1lLnRpbWU6YSs9dGhpcy5fbm93O3ZhciBoPW5ldyBpLlRpbWVyRXZlbnQodGhpcyx0LGEscyxlLG4sbyxyKTtyZXR1cm4gdGhpcy5ldmVudHMucHVzaChoKSx0aGlzLm9yZGVyKCksdGhpcy5leHBpcmVkPSExLGh9LGFkZDpmdW5jdGlvbih0LGUsaSl7cmV0dXJuIHRoaXMuY3JlYXRlKHQsITEsMCxlLGksQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDMpKX0scmVwZWF0OmZ1bmN0aW9uKHQsZSxpLHMpe3JldHVybiB0aGlzLmNyZWF0ZSh0LCExLGUsaSxzLEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyw0KSl9LGxvb3A6ZnVuY3Rpb24odCxlLGkpe3JldHVybiB0aGlzLmNyZWF0ZSh0LCEwLDAsZSxpLEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywzKSl9LHN0YXJ0OmZ1bmN0aW9uKHQpe2lmKCF0aGlzLnJ1bm5pbmcpe3RoaXMuX3N0YXJ0ZWQ9dGhpcy5nYW1lLnRpbWUudGltZSsodHx8MCksdGhpcy5ydW5uaW5nPSEwO2Zvcih2YXIgZT0wO2U8dGhpcy5ldmVudHMubGVuZ3RoO2UrKyl0aGlzLmV2ZW50c1tlXS50aWNrPXRoaXMuZXZlbnRzW2VdLmRlbGF5K3RoaXMuX3N0YXJ0ZWR9fSxzdG9wOmZ1bmN0aW9uKHQpe3RoaXMucnVubmluZz0hMSx2b2lkIDA9PT10JiYodD0hMCksdCYmKHRoaXMuZXZlbnRzLmxlbmd0aD0wKX0scmVtb3ZlOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wO2U8dGhpcy5ldmVudHMubGVuZ3RoO2UrKylpZih0aGlzLmV2ZW50c1tlXT09PXQpcmV0dXJuIHRoaXMuZXZlbnRzW2VdLnBlbmRpbmdEZWxldGU9ITAsITA7cmV0dXJuITF9LG9yZGVyOmZ1bmN0aW9uKCl7dGhpcy5ldmVudHMubGVuZ3RoPjAmJih0aGlzLmV2ZW50cy5zb3J0KHRoaXMuc29ydEhhbmRsZXIpLHRoaXMubmV4dFRpY2s9dGhpcy5ldmVudHNbMF0udGljayl9LHNvcnRIYW5kbGVyOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQudGljazxlLnRpY2s/LTE6dC50aWNrPmUudGljaz8xOjB9LGNsZWFyUGVuZGluZ0V2ZW50czpmdW5jdGlvbigpe2Zvcih0aGlzLl9pPXRoaXMuZXZlbnRzLmxlbmd0aDt0aGlzLl9pLS07KXRoaXMuZXZlbnRzW3RoaXMuX2ldLnBlbmRpbmdEZWxldGUmJnRoaXMuZXZlbnRzLnNwbGljZSh0aGlzLl9pLDEpO3RoaXMuX2xlbj10aGlzLmV2ZW50cy5sZW5ndGgsdGhpcy5faT0wfSx1cGRhdGU6ZnVuY3Rpb24odCl7aWYodGhpcy5wYXVzZWQpcmV0dXJuITA7aWYodGhpcy5lbGFwc2VkPXQtdGhpcy5fbm93LHRoaXMuX25vdz10LHRoaXMuZWxhcHNlZD50aGlzLnRpbWVDYXAmJnRoaXMuYWRqdXN0RXZlbnRzKHQtdGhpcy5lbGFwc2VkKSx0aGlzLl9tYXJrZWQ9MCx0aGlzLmNsZWFyUGVuZGluZ0V2ZW50cygpLHRoaXMucnVubmluZyYmdGhpcy5fbm93Pj10aGlzLm5leHRUaWNrJiZ0aGlzLl9sZW4+MCl7Zm9yKDt0aGlzLl9pPHRoaXMuX2xlbiYmdGhpcy5ydW5uaW5nOyl7dmFyIGU9dGhpcy5ldmVudHNbdGhpcy5faV07aWYoISh0aGlzLl9ub3c+PWUudGljayl8fGUucGVuZGluZ0RlbGV0ZSlicmVhazt0aGlzLl9uZXdUaWNrPXRoaXMuX25vdytlLmRlbGF5LSh0aGlzLl9ub3ctZS50aWNrKSx0aGlzLl9uZXdUaWNrPDAmJih0aGlzLl9uZXdUaWNrPXRoaXMuX25vdytlLmRlbGF5KSwhMD09PWUubG9vcD8oZS50aWNrPXRoaXMuX25ld1RpY2ssZS5jYWxsYmFjay5hcHBseShlLmNhbGxiYWNrQ29udGV4dCxlLmFyZ3MpKTplLnJlcGVhdENvdW50PjA/KGUucmVwZWF0Q291bnQtLSxlLnRpY2s9dGhpcy5fbmV3VGljayxlLmNhbGxiYWNrLmFwcGx5KGUuY2FsbGJhY2tDb250ZXh0LGUuYXJncykpOih0aGlzLl9tYXJrZWQrKyxlLnBlbmRpbmdEZWxldGU9ITAsZS5jYWxsYmFjay5hcHBseShlLmNhbGxiYWNrQ29udGV4dCxlLmFyZ3MpKSx0aGlzLl9pKyt9dGhpcy5ldmVudHMubGVuZ3RoPnRoaXMuX21hcmtlZD90aGlzLm9yZGVyKCk6KHRoaXMuZXhwaXJlZD0hMCx0aGlzLm9uQ29tcGxldGUuZGlzcGF0Y2godGhpcykpfXJldHVybiF0aGlzLmV4cGlyZWR8fCF0aGlzLmF1dG9EZXN0cm95fSxwYXVzZTpmdW5jdGlvbigpe3RoaXMucnVubmluZyYmKHRoaXMuX2NvZGVQYXVzZWQ9ITAsdGhpcy5wYXVzZWR8fCh0aGlzLl9wYXVzZVN0YXJ0ZWQ9dGhpcy5nYW1lLnRpbWUudGltZSx0aGlzLnBhdXNlZD0hMCkpfSxfcGF1c2U6ZnVuY3Rpb24oKXshdGhpcy5wYXVzZWQmJnRoaXMucnVubmluZyYmKHRoaXMuX3BhdXNlU3RhcnRlZD10aGlzLmdhbWUudGltZS50aW1lLHRoaXMucGF1c2VkPSEwKX0sYWRqdXN0RXZlbnRzOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wO2U8dGhpcy5ldmVudHMubGVuZ3RoO2UrKylpZighdGhpcy5ldmVudHNbZV0ucGVuZGluZ0RlbGV0ZSl7dmFyIGk9dGhpcy5ldmVudHNbZV0udGljay10O2k8MCYmKGk9MCksdGhpcy5ldmVudHNbZV0udGljaz10aGlzLl9ub3craX12YXIgcz10aGlzLm5leHRUaWNrLXQ7dGhpcy5uZXh0VGljaz1zPDA/dGhpcy5fbm93OnRoaXMuX25vdytzfSxyZXN1bWU6ZnVuY3Rpb24oKXtpZih0aGlzLnBhdXNlZCl7dmFyIHQ9dGhpcy5nYW1lLnRpbWUudGltZTt0aGlzLl9wYXVzZVRvdGFsKz10LXRoaXMuX25vdyx0aGlzLl9ub3c9dCx0aGlzLmFkanVzdEV2ZW50cyh0aGlzLl9wYXVzZVN0YXJ0ZWQpLHRoaXMucGF1c2VkPSExLHRoaXMuX2NvZGVQYXVzZWQ9ITF9fSxfcmVzdW1lOmZ1bmN0aW9uKCl7dGhpcy5fY29kZVBhdXNlZHx8dGhpcy5yZXN1bWUoKX0scmVtb3ZlQWxsOmZ1bmN0aW9uKCl7dGhpcy5vbkNvbXBsZXRlLnJlbW92ZUFsbCgpLHRoaXMuZXZlbnRzLmxlbmd0aD0wLHRoaXMuX2xlbj0wLHRoaXMuX2k9MH0sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMub25Db21wbGV0ZS5yZW1vdmVBbGwoKSx0aGlzLnJ1bm5pbmc9ITEsdGhpcy5leHBpcmVkPSEwLHRoaXMuZXZlbnRzPVtdLHRoaXMuX2xlbj0wLHRoaXMuX2k9MH19LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLlRpbWVyLnByb3RvdHlwZSxcIm5leHRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubmV4dFRpY2t9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuVGltZXIucHJvdG90eXBlLFwiZHVyYXRpb25cIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucnVubmluZyYmdGhpcy5uZXh0VGljaz50aGlzLl9ub3c/dGhpcy5uZXh0VGljay10aGlzLl9ub3c6MH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5UaW1lci5wcm90b3R5cGUsXCJsZW5ndGhcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZXZlbnRzLmxlbmd0aH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5UaW1lci5wcm90b3R5cGUsXCJtc1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ydW5uaW5nP3RoaXMuX25vdy10aGlzLl9zdGFydGVkLXRoaXMuX3BhdXNlVG90YWw6MH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5UaW1lci5wcm90b3R5cGUsXCJzZWNvbmRzXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnJ1bm5pbmc/LjAwMSp0aGlzLm1zOjB9fSksaS5UaW1lci5wcm90b3R5cGUuY29uc3RydWN0b3I9aS5UaW1lcixpLlRpbWVyRXZlbnQ9ZnVuY3Rpb24odCxlLGkscyxuLG8scixhKXt0aGlzLnRpbWVyPXQsdGhpcy5kZWxheT1lLHRoaXMudGljaz1pLHRoaXMucmVwZWF0Q291bnQ9cy0xLHRoaXMubG9vcD1uLHRoaXMuY2FsbGJhY2s9byx0aGlzLmNhbGxiYWNrQ29udGV4dD1yLHRoaXMuYXJncz1hLHRoaXMucGVuZGluZ0RlbGV0ZT0hMX0saS5UaW1lckV2ZW50LnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1pLlRpbWVyRXZlbnQsaS5BbmltYXRpb25NYW5hZ2VyPWZ1bmN0aW9uKHQpe3RoaXMuc3ByaXRlPXQsdGhpcy5nYW1lPXQuZ2FtZSx0aGlzLmN1cnJlbnRGcmFtZT1udWxsLHRoaXMuY3VycmVudEFuaW09bnVsbCx0aGlzLnVwZGF0ZUlmVmlzaWJsZT0hMCx0aGlzLmlzTG9hZGVkPSExLHRoaXMuX2ZyYW1lRGF0YT1udWxsLHRoaXMuX2FuaW1zPXt9LHRoaXMuX291dHB1dEZyYW1lcz1bXX0saS5BbmltYXRpb25NYW5hZ2VyLnByb3RvdHlwZT17bG9hZEZyYW1lRGF0YTpmdW5jdGlvbih0LGUpe2lmKHZvaWQgMD09PXQpcmV0dXJuITE7aWYodGhpcy5pc0xvYWRlZClmb3IodmFyIGkgaW4gdGhpcy5fYW5pbXMpdGhpcy5fYW5pbXNbaV0udXBkYXRlRnJhbWVEYXRhKHQpO3JldHVybiB0aGlzLl9mcmFtZURhdGE9dCx2b2lkIDA9PT1lfHxudWxsPT09ZT90aGlzLmZyYW1lPTA6XCJzdHJpbmdcIj09dHlwZW9mIGU/dGhpcy5mcmFtZU5hbWU9ZTp0aGlzLmZyYW1lPWUsdGhpcy5pc0xvYWRlZD0hMCwhMH0sY29weUZyYW1lRGF0YTpmdW5jdGlvbih0LGUpe2lmKHRoaXMuX2ZyYW1lRGF0YT10LmNsb25lKCksdGhpcy5pc0xvYWRlZClmb3IodmFyIGkgaW4gdGhpcy5fYW5pbXMpdGhpcy5fYW5pbXNbaV0udXBkYXRlRnJhbWVEYXRhKHRoaXMuX2ZyYW1lRGF0YSk7cmV0dXJuIHZvaWQgMD09PWV8fG51bGw9PT1lP3RoaXMuZnJhbWU9MDpcInN0cmluZ1wiPT10eXBlb2YgZT90aGlzLmZyYW1lTmFtZT1lOnRoaXMuZnJhbWU9ZSx0aGlzLmlzTG9hZGVkPSEwLCEwfSxhZGQ6ZnVuY3Rpb24odCxlLHMsbixvKXtyZXR1cm4gZT1lfHxbXSxzPXN8fDYwLHZvaWQgMD09PW4mJihuPSExKSx2b2lkIDA9PT1vJiYobz0hKCFlfHxcIm51bWJlclwiIT10eXBlb2YgZVswXSkpLHRoaXMuX291dHB1dEZyYW1lcz1bXSx0aGlzLl9mcmFtZURhdGEuZ2V0RnJhbWVJbmRleGVzKGUsbyx0aGlzLl9vdXRwdXRGcmFtZXMpLHRoaXMuX2FuaW1zW3RdPW5ldyBpLkFuaW1hdGlvbih0aGlzLmdhbWUsdGhpcy5zcHJpdGUsdCx0aGlzLl9mcmFtZURhdGEsdGhpcy5fb3V0cHV0RnJhbWVzLHMsbiksdGhpcy5jdXJyZW50QW5pbT10aGlzLl9hbmltc1t0XSx0aGlzLnNwcml0ZS50aWxpbmdUZXh0dXJlJiYodGhpcy5zcHJpdGUucmVmcmVzaFRleHR1cmU9ITApLHRoaXMuX2FuaW1zW3RdfSx2YWxpZGF0ZUZyYW1lczpmdW5jdGlvbih0LGUpe3ZvaWQgMD09PWUmJihlPSEwKTtmb3IodmFyIGk9MDtpPHQubGVuZ3RoO2krKylpZighMD09PWUpe2lmKHRbaV0+dGhpcy5fZnJhbWVEYXRhLnRvdGFsKXJldHVybiExfWVsc2UgaWYoITE9PT10aGlzLl9mcmFtZURhdGEuY2hlY2tGcmFtZU5hbWUodFtpXSkpcmV0dXJuITE7cmV0dXJuITB9LHBsYXk6ZnVuY3Rpb24odCxlLGkscyl7aWYodGhpcy5fYW5pbXNbdF0pcmV0dXJuIHRoaXMuY3VycmVudEFuaW09PT10aGlzLl9hbmltc1t0XT8hMT09PXRoaXMuY3VycmVudEFuaW0uaXNQbGF5aW5nPyh0aGlzLmN1cnJlbnRBbmltLnBhdXNlZD0hMSx0aGlzLmN1cnJlbnRBbmltLnBsYXkoZSxpLHMpKTp0aGlzLmN1cnJlbnRBbmltOih0aGlzLmN1cnJlbnRBbmltJiZ0aGlzLmN1cnJlbnRBbmltLmlzUGxheWluZyYmdGhpcy5jdXJyZW50QW5pbS5zdG9wKCksdGhpcy5jdXJyZW50QW5pbT10aGlzLl9hbmltc1t0XSx0aGlzLmN1cnJlbnRBbmltLnBhdXNlZD0hMSx0aGlzLmN1cnJlbnRGcmFtZT10aGlzLmN1cnJlbnRBbmltLmN1cnJlbnRGcmFtZSx0aGlzLmN1cnJlbnRBbmltLnBsYXkoZSxpLHMpKX0sc3RvcDpmdW5jdGlvbih0LGUpe3ZvaWQgMD09PWUmJihlPSExKSwhdGhpcy5jdXJyZW50QW5pbXx8XCJzdHJpbmdcIj09dHlwZW9mIHQmJnQhPT10aGlzLmN1cnJlbnRBbmltLm5hbWV8fHRoaXMuY3VycmVudEFuaW0uc3RvcChlKX0sdXBkYXRlOmZ1bmN0aW9uKCl7cmV0dXJuISh0aGlzLnVwZGF0ZUlmVmlzaWJsZSYmIXRoaXMuc3ByaXRlLnZpc2libGUpJiYoISghdGhpcy5jdXJyZW50QW5pbXx8IXRoaXMuY3VycmVudEFuaW0udXBkYXRlKCkpJiYodGhpcy5jdXJyZW50RnJhbWU9dGhpcy5jdXJyZW50QW5pbS5jdXJyZW50RnJhbWUsITApKX0sbmV4dDpmdW5jdGlvbih0KXt0aGlzLmN1cnJlbnRBbmltJiYodGhpcy5jdXJyZW50QW5pbS5uZXh0KHQpLHRoaXMuY3VycmVudEZyYW1lPXRoaXMuY3VycmVudEFuaW0uY3VycmVudEZyYW1lKX0scHJldmlvdXM6ZnVuY3Rpb24odCl7dGhpcy5jdXJyZW50QW5pbSYmKHRoaXMuY3VycmVudEFuaW0ucHJldmlvdXModCksdGhpcy5jdXJyZW50RnJhbWU9dGhpcy5jdXJyZW50QW5pbS5jdXJyZW50RnJhbWUpfSxnZXRBbmltYXRpb246ZnVuY3Rpb24odCl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIHQmJnRoaXMuX2FuaW1zW3RdP3RoaXMuX2FuaW1zW3RdOm51bGx9LHJlZnJlc2hGcmFtZTpmdW5jdGlvbigpe30sZGVzdHJveTpmdW5jdGlvbigpe3Q9bnVsbDtmb3IodmFyIHQgaW4gdGhpcy5fYW5pbXMpdGhpcy5fYW5pbXMuaGFzT3duUHJvcGVydHkodCkmJnRoaXMuX2FuaW1zW3RdLmRlc3Ryb3koKTt0aGlzLl9hbmltcz17fSx0aGlzLl9vdXRwdXRGcmFtZXM9W10sdGhpcy5fZnJhbWVEYXRhPW51bGwsdGhpcy5jdXJyZW50QW5pbT1udWxsLHRoaXMuY3VycmVudEZyYW1lPW51bGwsdGhpcy5zcHJpdGU9bnVsbCx0aGlzLmdhbWU9bnVsbH19LGkuQW5pbWF0aW9uTWFuYWdlci5wcm90b3R5cGUuY29uc3RydWN0b3I9aS5BbmltYXRpb25NYW5hZ2VyLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLkFuaW1hdGlvbk1hbmFnZXIucHJvdG90eXBlLFwiZnJhbWVEYXRhXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9mcmFtZURhdGF9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuQW5pbWF0aW9uTWFuYWdlci5wcm90b3R5cGUsXCJmcmFtZVRvdGFsXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9mcmFtZURhdGEudG90YWx9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuQW5pbWF0aW9uTWFuYWdlci5wcm90b3R5cGUsXCJwYXVzZWRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY3VycmVudEFuaW0uaXNQYXVzZWR9LHNldDpmdW5jdGlvbih0KXt0aGlzLmN1cnJlbnRBbmltLnBhdXNlZD10fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLkFuaW1hdGlvbk1hbmFnZXIucHJvdG90eXBlLFwibmFtZVwiLHtnZXQ6ZnVuY3Rpb24oKXtpZih0aGlzLmN1cnJlbnRBbmltKXJldHVybiB0aGlzLmN1cnJlbnRBbmltLm5hbWV9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuQW5pbWF0aW9uTWFuYWdlci5wcm90b3R5cGUsXCJmcmFtZVwiLHtnZXQ6ZnVuY3Rpb24oKXtpZih0aGlzLmN1cnJlbnRGcmFtZSlyZXR1cm4gdGhpcy5jdXJyZW50RnJhbWUuaW5kZXh9LHNldDpmdW5jdGlvbih0KXt2YXIgZTtcIm51bWJlclwiPT10eXBlb2YgdCYmdGhpcy5fZnJhbWVEYXRhJiYoZT10aGlzLl9mcmFtZURhdGEuZ2V0RnJhbWUodCkpJiYodGhpcy5jdXJyZW50RnJhbWU9ZSx0aGlzLnNwcml0ZS5zZXRGcmFtZSh0aGlzLmN1cnJlbnRGcmFtZSkpfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLkFuaW1hdGlvbk1hbmFnZXIucHJvdG90eXBlLFwiZnJhbWVOYW1lXCIse2dldDpmdW5jdGlvbigpe2lmKHRoaXMuY3VycmVudEZyYW1lKXJldHVybiB0aGlzLmN1cnJlbnRGcmFtZS5uYW1lfSxzZXQ6ZnVuY3Rpb24odCl7dmFyIGU7XCJzdHJpbmdcIj09dHlwZW9mIHQmJnRoaXMuX2ZyYW1lRGF0YSYmKGU9dGhpcy5fZnJhbWVEYXRhLmdldEZyYW1lQnlOYW1lKHQpKT8odGhpcy5jdXJyZW50RnJhbWU9ZSx0aGlzLl9mcmFtZUluZGV4PXRoaXMuY3VycmVudEZyYW1lLmluZGV4LHRoaXMuc3ByaXRlLnNldEZyYW1lKHRoaXMuY3VycmVudEZyYW1lKSk6Y29uc29sZS53YXJuKFwiQ2Fubm90IHNldCBmcmFtZU5hbWU6IFwiK3QpfX0pLGkuQW5pbWF0aW9uPWZ1bmN0aW9uKHQsZSxzLG4sbyxyLGEpe3ZvaWQgMD09PWEmJihhPSExKSx0aGlzLmdhbWU9dCx0aGlzLl9wYXJlbnQ9ZSx0aGlzLl9mcmFtZURhdGE9bix0aGlzLm5hbWU9cyx0aGlzLl9mcmFtZXM9W10sdGhpcy5fZnJhbWVzPXRoaXMuX2ZyYW1lcy5jb25jYXQobyksdGhpcy5kZWxheT0xZTMvcix0aGlzLmxvb3A9YSx0aGlzLmxvb3BDb3VudD0wLHRoaXMua2lsbE9uQ29tcGxldGU9ITEsdGhpcy5pc0ZpbmlzaGVkPSExLHRoaXMuaXNQbGF5aW5nPSExLHRoaXMuaXNQYXVzZWQ9ITEsdGhpcy5fcGF1c2VTdGFydFRpbWU9MCx0aGlzLl9mcmFtZUluZGV4PTAsdGhpcy5fZnJhbWVEaWZmPTAsdGhpcy5fZnJhbWVTa2lwPTEsdGhpcy5jdXJyZW50RnJhbWU9dGhpcy5fZnJhbWVEYXRhLmdldEZyYW1lKHRoaXMuX2ZyYW1lc1t0aGlzLl9mcmFtZUluZGV4XSksdGhpcy5vblN0YXJ0PW5ldyBpLlNpZ25hbCx0aGlzLm9uVXBkYXRlPW51bGwsdGhpcy5vbkNvbXBsZXRlPW5ldyBpLlNpZ25hbCx0aGlzLm9uTG9vcD1uZXcgaS5TaWduYWwsdGhpcy5pc1JldmVyc2VkPSExLHRoaXMuZ2FtZS5vblBhdXNlLmFkZCh0aGlzLm9uUGF1c2UsdGhpcyksdGhpcy5nYW1lLm9uUmVzdW1lLmFkZCh0aGlzLm9uUmVzdW1lLHRoaXMpfSxpLkFuaW1hdGlvbi5wcm90b3R5cGU9e3BsYXk6ZnVuY3Rpb24odCxlLGkpe3JldHVyblwibnVtYmVyXCI9PXR5cGVvZiB0JiYodGhpcy5kZWxheT0xZTMvdCksXCJib29sZWFuXCI9PXR5cGVvZiBlJiYodGhpcy5sb29wPWUpLHZvaWQgMCE9PWkmJih0aGlzLmtpbGxPbkNvbXBsZXRlPWkpLHRoaXMuaXNQbGF5aW5nPSEwLHRoaXMuaXNGaW5pc2hlZD0hMSx0aGlzLnBhdXNlZD0hMSx0aGlzLmxvb3BDb3VudD0wLHRoaXMuX3RpbWVMYXN0RnJhbWU9dGhpcy5nYW1lLnRpbWUudGltZSx0aGlzLl90aW1lTmV4dEZyYW1lPXRoaXMuZ2FtZS50aW1lLnRpbWUrdGhpcy5kZWxheSx0aGlzLl9mcmFtZUluZGV4PXRoaXMuaXNSZXZlcnNlZD90aGlzLl9mcmFtZXMubGVuZ3RoLTE6MCx0aGlzLnVwZGF0ZUN1cnJlbnRGcmFtZSghMSwhMCksdGhpcy5fcGFyZW50LmV2ZW50cy5vbkFuaW1hdGlvblN0YXJ0JGRpc3BhdGNoKHRoaXMuX3BhcmVudCx0aGlzKSx0aGlzLm9uU3RhcnQuZGlzcGF0Y2godGhpcy5fcGFyZW50LHRoaXMpLHRoaXMuX3BhcmVudC5hbmltYXRpb25zLmN1cnJlbnRBbmltPXRoaXMsdGhpcy5fcGFyZW50LmFuaW1hdGlvbnMuY3VycmVudEZyYW1lPXRoaXMuY3VycmVudEZyYW1lLHRoaXN9LHJlc3RhcnQ6ZnVuY3Rpb24oKXt0aGlzLmlzUGxheWluZz0hMCx0aGlzLmlzRmluaXNoZWQ9ITEsdGhpcy5wYXVzZWQ9ITEsdGhpcy5sb29wQ291bnQ9MCx0aGlzLl90aW1lTGFzdEZyYW1lPXRoaXMuZ2FtZS50aW1lLnRpbWUsdGhpcy5fdGltZU5leHRGcmFtZT10aGlzLmdhbWUudGltZS50aW1lK3RoaXMuZGVsYXksdGhpcy5fZnJhbWVJbmRleD0wLHRoaXMuY3VycmVudEZyYW1lPXRoaXMuX2ZyYW1lRGF0YS5nZXRGcmFtZSh0aGlzLl9mcmFtZXNbdGhpcy5fZnJhbWVJbmRleF0pLHRoaXMuX3BhcmVudC5zZXRGcmFtZSh0aGlzLmN1cnJlbnRGcmFtZSksdGhpcy5fcGFyZW50LmFuaW1hdGlvbnMuY3VycmVudEFuaW09dGhpcyx0aGlzLl9wYXJlbnQuYW5pbWF0aW9ucy5jdXJyZW50RnJhbWU9dGhpcy5jdXJyZW50RnJhbWUsdGhpcy5vblN0YXJ0LmRpc3BhdGNoKHRoaXMuX3BhcmVudCx0aGlzKX0scmV2ZXJzZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnJldmVyc2VkPSF0aGlzLnJldmVyc2VkLHRoaXN9LHJldmVyc2VPbmNlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub25Db21wbGV0ZS5hZGRPbmNlKHRoaXMucmV2ZXJzZSx0aGlzKSx0aGlzLnJldmVyc2UoKX0sc2V0RnJhbWU6ZnVuY3Rpb24odCxlKXt2YXIgaTtpZih2b2lkIDA9PT1lJiYoZT0hMSksXCJzdHJpbmdcIj09dHlwZW9mIHQpZm9yKHM9MDtzPHRoaXMuX2ZyYW1lcy5sZW5ndGg7cysrKXRoaXMuX2ZyYW1lRGF0YS5nZXRGcmFtZSh0aGlzLl9mcmFtZXNbc10pLm5hbWU9PT10JiYoaT1zKTtlbHNlIGlmKFwibnVtYmVyXCI9PXR5cGVvZiB0KWlmKGUpaT10O2Vsc2UgZm9yKHZhciBzPTA7czx0aGlzLl9mcmFtZXMubGVuZ3RoO3MrKyl0aGlzLl9mcmFtZXNbc109PT10JiYoaT1zKTtpZihpKXt2YXIgbj10aGlzLmlzUmV2ZXJzZWQ/LTE6MTt0aGlzLl9mcmFtZUluZGV4PWktbix0aGlzLl90aW1lTmV4dEZyYW1lPXRoaXMuZ2FtZS50aW1lLnRpbWUsdGhpcy51cGRhdGUoKX19LHN0b3A6ZnVuY3Rpb24odCxlKXt2b2lkIDA9PT10JiYodD0hMSksdm9pZCAwPT09ZSYmKGU9ITEpLHRoaXMuaXNQbGF5aW5nPSExLHRoaXMuaXNGaW5pc2hlZD0hMCx0aGlzLnBhdXNlZD0hMSx0JiYodGhpcy5jdXJyZW50RnJhbWU9dGhpcy5fZnJhbWVEYXRhLmdldEZyYW1lKHRoaXMuX2ZyYW1lc1swXSksdGhpcy5fcGFyZW50LnNldEZyYW1lKHRoaXMuY3VycmVudEZyYW1lKSksZSYmKHRoaXMuX3BhcmVudC5ldmVudHMub25BbmltYXRpb25Db21wbGV0ZSRkaXNwYXRjaCh0aGlzLl9wYXJlbnQsdGhpcyksdGhpcy5vbkNvbXBsZXRlLmRpc3BhdGNoKHRoaXMuX3BhcmVudCx0aGlzKSl9LG9uUGF1c2U6ZnVuY3Rpb24oKXt0aGlzLmlzUGxheWluZyYmKHRoaXMuX2ZyYW1lRGlmZj10aGlzLl90aW1lTmV4dEZyYW1lLXRoaXMuZ2FtZS50aW1lLnRpbWUpfSxvblJlc3VtZTpmdW5jdGlvbigpe3RoaXMuaXNQbGF5aW5nJiYodGhpcy5fdGltZU5leHRGcmFtZT10aGlzLmdhbWUudGltZS50aW1lK3RoaXMuX2ZyYW1lRGlmZil9LHVwZGF0ZTpmdW5jdGlvbigpe3JldHVybiF0aGlzLmlzUGF1c2VkJiYoISEodGhpcy5pc1BsYXlpbmcmJnRoaXMuZ2FtZS50aW1lLnRpbWU+PXRoaXMuX3RpbWVOZXh0RnJhbWUpJiYodGhpcy5fZnJhbWVTa2lwPTEsdGhpcy5fZnJhbWVEaWZmPXRoaXMuZ2FtZS50aW1lLnRpbWUtdGhpcy5fdGltZU5leHRGcmFtZSx0aGlzLl90aW1lTGFzdEZyYW1lPXRoaXMuZ2FtZS50aW1lLnRpbWUsdGhpcy5fZnJhbWVEaWZmPnRoaXMuZGVsYXk/KHRoaXMuX2ZyYW1lU2tpcD1NYXRoLmZsb29yKHRoaXMuX2ZyYW1lRGlmZi90aGlzLmRlbGF5KSx0aGlzLl9mcmFtZURpZmYtPXRoaXMuX2ZyYW1lU2tpcCp0aGlzLmRlbGF5KTp0aGlzLl9mcmFtZURpZmY9MCx0aGlzLl90aW1lTmV4dEZyYW1lPXRoaXMuZ2FtZS50aW1lLnRpbWUrKHRoaXMuZGVsYXktdGhpcy5fZnJhbWVEaWZmKSx0aGlzLmlzUmV2ZXJzZWQ/dGhpcy5fZnJhbWVJbmRleC09dGhpcy5fZnJhbWVTa2lwOnRoaXMuX2ZyYW1lSW5kZXgrPXRoaXMuX2ZyYW1lU2tpcCwhdGhpcy5pc1JldmVyc2VkJiZ0aGlzLl9mcmFtZUluZGV4Pj10aGlzLl9mcmFtZXMubGVuZ3RofHx0aGlzLmlzUmV2ZXJzZWQmJnRoaXMuX2ZyYW1lSW5kZXg8PS0xP3RoaXMubG9vcD8odGhpcy5fZnJhbWVJbmRleD1NYXRoLmFicyh0aGlzLl9mcmFtZUluZGV4KSV0aGlzLl9mcmFtZXMubGVuZ3RoLHRoaXMuaXNSZXZlcnNlZCYmKHRoaXMuX2ZyYW1lSW5kZXg9dGhpcy5fZnJhbWVzLmxlbmd0aC0xLXRoaXMuX2ZyYW1lSW5kZXgpLHRoaXMuY3VycmVudEZyYW1lPXRoaXMuX2ZyYW1lRGF0YS5nZXRGcmFtZSh0aGlzLl9mcmFtZXNbdGhpcy5fZnJhbWVJbmRleF0pLHRoaXMuY3VycmVudEZyYW1lJiZ0aGlzLl9wYXJlbnQuc2V0RnJhbWUodGhpcy5jdXJyZW50RnJhbWUpLHRoaXMubG9vcENvdW50KyssdGhpcy5fcGFyZW50LmV2ZW50cy5vbkFuaW1hdGlvbkxvb3AkZGlzcGF0Y2godGhpcy5fcGFyZW50LHRoaXMpLHRoaXMub25Mb29wLmRpc3BhdGNoKHRoaXMuX3BhcmVudCx0aGlzKSwhdGhpcy5vblVwZGF0ZXx8KHRoaXMub25VcGRhdGUuZGlzcGF0Y2godGhpcyx0aGlzLmN1cnJlbnRGcmFtZSksISF0aGlzLl9mcmFtZURhdGEpKToodGhpcy5jb21wbGV0ZSgpLCExKTp0aGlzLnVwZGF0ZUN1cnJlbnRGcmFtZSghMCkpKX0sdXBkYXRlQ3VycmVudEZyYW1lOmZ1bmN0aW9uKHQsZSl7aWYodm9pZCAwPT09ZSYmKGU9ITEpLCF0aGlzLl9mcmFtZURhdGEpcmV0dXJuITE7dmFyIGk9dGhpcy5jdXJyZW50RnJhbWUuaW5kZXg7cmV0dXJuIHRoaXMuY3VycmVudEZyYW1lPXRoaXMuX2ZyYW1lRGF0YS5nZXRGcmFtZSh0aGlzLl9mcmFtZXNbdGhpcy5fZnJhbWVJbmRleF0pLHRoaXMuY3VycmVudEZyYW1lJiYoZXx8IWUmJmkhPT10aGlzLmN1cnJlbnRGcmFtZS5pbmRleCkmJnRoaXMuX3BhcmVudC5zZXRGcmFtZSh0aGlzLmN1cnJlbnRGcmFtZSksIXRoaXMub25VcGRhdGV8fCF0fHwodGhpcy5vblVwZGF0ZS5kaXNwYXRjaCh0aGlzLHRoaXMuY3VycmVudEZyYW1lKSwhIXRoaXMuX2ZyYW1lRGF0YSl9LG5leHQ6ZnVuY3Rpb24odCl7dm9pZCAwPT09dCYmKHQ9MSk7dmFyIGU9dGhpcy5fZnJhbWVJbmRleCt0O2U+PXRoaXMuX2ZyYW1lcy5sZW5ndGgmJih0aGlzLmxvb3A/ZSU9dGhpcy5fZnJhbWVzLmxlbmd0aDplPXRoaXMuX2ZyYW1lcy5sZW5ndGgtMSksZSE9PXRoaXMuX2ZyYW1lSW5kZXgmJih0aGlzLl9mcmFtZUluZGV4PWUsdGhpcy51cGRhdGVDdXJyZW50RnJhbWUoITApKX0scHJldmlvdXM6ZnVuY3Rpb24odCl7dm9pZCAwPT09dCYmKHQ9MSk7dmFyIGU9dGhpcy5fZnJhbWVJbmRleC10O2U8MCYmKHRoaXMubG9vcD9lPXRoaXMuX2ZyYW1lcy5sZW5ndGgrZTplKyspLGUhPT10aGlzLl9mcmFtZUluZGV4JiYodGhpcy5fZnJhbWVJbmRleD1lLHRoaXMudXBkYXRlQ3VycmVudEZyYW1lKCEwKSl9LHVwZGF0ZUZyYW1lRGF0YTpmdW5jdGlvbih0KXt0aGlzLl9mcmFtZURhdGE9dCx0aGlzLmN1cnJlbnRGcmFtZT10aGlzLl9mcmFtZURhdGE/dGhpcy5fZnJhbWVEYXRhLmdldEZyYW1lKHRoaXMuX2ZyYW1lc1t0aGlzLl9mcmFtZUluZGV4JXRoaXMuX2ZyYW1lcy5sZW5ndGhdKTpudWxsfSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5fZnJhbWVEYXRhJiYodGhpcy5nYW1lLm9uUGF1c2UucmVtb3ZlKHRoaXMub25QYXVzZSx0aGlzKSx0aGlzLmdhbWUub25SZXN1bWUucmVtb3ZlKHRoaXMub25SZXN1bWUsdGhpcyksdGhpcy5nYW1lPW51bGwsdGhpcy5fcGFyZW50PW51bGwsdGhpcy5fZnJhbWVzPW51bGwsdGhpcy5fZnJhbWVEYXRhPW51bGwsdGhpcy5jdXJyZW50RnJhbWU9bnVsbCx0aGlzLmlzUGxheWluZz0hMSx0aGlzLm9uU3RhcnQuZGlzcG9zZSgpLHRoaXMub25Mb29wLmRpc3Bvc2UoKSx0aGlzLm9uQ29tcGxldGUuZGlzcG9zZSgpLHRoaXMub25VcGRhdGUmJnRoaXMub25VcGRhdGUuZGlzcG9zZSgpKX0sY29tcGxldGU6ZnVuY3Rpb24oKXt0aGlzLl9mcmFtZUluZGV4PXRoaXMuX2ZyYW1lcy5sZW5ndGgtMSx0aGlzLmN1cnJlbnRGcmFtZT10aGlzLl9mcmFtZURhdGEuZ2V0RnJhbWUodGhpcy5fZnJhbWVzW3RoaXMuX2ZyYW1lSW5kZXhdKSx0aGlzLmlzUGxheWluZz0hMSx0aGlzLmlzRmluaXNoZWQ9ITAsdGhpcy5wYXVzZWQ9ITEsdGhpcy5fcGFyZW50LmV2ZW50cy5vbkFuaW1hdGlvbkNvbXBsZXRlJGRpc3BhdGNoKHRoaXMuX3BhcmVudCx0aGlzKSx0aGlzLm9uQ29tcGxldGUuZGlzcGF0Y2godGhpcy5fcGFyZW50LHRoaXMpLHRoaXMua2lsbE9uQ29tcGxldGUmJnRoaXMuX3BhcmVudC5raWxsKCl9fSxpLkFuaW1hdGlvbi5wcm90b3R5cGUuY29uc3RydWN0b3I9aS5BbmltYXRpb24sT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuQW5pbWF0aW9uLnByb3RvdHlwZSxcInBhdXNlZFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc1BhdXNlZH0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuaXNQYXVzZWQ9dCx0P3RoaXMuX3BhdXNlU3RhcnRUaW1lPXRoaXMuZ2FtZS50aW1lLnRpbWU6dGhpcy5pc1BsYXlpbmcmJih0aGlzLl90aW1lTmV4dEZyYW1lPXRoaXMuZ2FtZS50aW1lLnRpbWUrdGhpcy5kZWxheSl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuQW5pbWF0aW9uLnByb3RvdHlwZSxcInJldmVyc2VkXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmlzUmV2ZXJzZWR9LHNldDpmdW5jdGlvbih0KXt0aGlzLmlzUmV2ZXJzZWQ9dH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5BbmltYXRpb24ucHJvdG90eXBlLFwiZnJhbWVUb3RhbFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZnJhbWVzLmxlbmd0aH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5BbmltYXRpb24ucHJvdG90eXBlLFwiZnJhbWVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG51bGwhPT10aGlzLmN1cnJlbnRGcmFtZT90aGlzLmN1cnJlbnRGcmFtZS5pbmRleDp0aGlzLl9mcmFtZUluZGV4fSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5jdXJyZW50RnJhbWU9dGhpcy5fZnJhbWVEYXRhLmdldEZyYW1lKHRoaXMuX2ZyYW1lc1t0XSksbnVsbCE9PXRoaXMuY3VycmVudEZyYW1lJiYodGhpcy5fZnJhbWVJbmRleD10LHRoaXMuX3BhcmVudC5zZXRGcmFtZSh0aGlzLmN1cnJlbnRGcmFtZSksdGhpcy5vblVwZGF0ZSYmdGhpcy5vblVwZGF0ZS5kaXNwYXRjaCh0aGlzLHRoaXMuY3VycmVudEZyYW1lKSl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuQW5pbWF0aW9uLnByb3RvdHlwZSxcInNwZWVkXCIse2dldDpmdW5jdGlvbigpe3JldHVybiAxZTMvdGhpcy5kZWxheX0sc2V0OmZ1bmN0aW9uKHQpe3Q+MCYmKHRoaXMuZGVsYXk9MWUzL3QpfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLkFuaW1hdGlvbi5wcm90b3R5cGUsXCJlbmFibGVVcGRhdGVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG51bGwhPT10aGlzLm9uVXBkYXRlfSxzZXQ6ZnVuY3Rpb24odCl7dCYmbnVsbD09PXRoaXMub25VcGRhdGU/dGhpcy5vblVwZGF0ZT1uZXcgaS5TaWduYWw6dHx8bnVsbD09PXRoaXMub25VcGRhdGV8fCh0aGlzLm9uVXBkYXRlLmRpc3Bvc2UoKSx0aGlzLm9uVXBkYXRlPW51bGwpfX0pLGkuQW5pbWF0aW9uLmdlbmVyYXRlRnJhbWVOYW1lcz1mdW5jdGlvbih0LGUscyxuLG8pe3ZvaWQgMD09PW4mJihuPVwiXCIpO3ZhciByPVtdLGE9XCJcIjtpZihlPHMpZm9yKGg9ZTtoPD1zO2grKylhPXQrKGE9XCJudW1iZXJcIj09dHlwZW9mIG8/aS5VdGlscy5wYWQoaC50b1N0cmluZygpLG8sXCIwXCIsMSk6aC50b1N0cmluZygpKStuLHIucHVzaChhKTtlbHNlIGZvcih2YXIgaD1lO2g+PXM7aC0tKWE9dCsoYT1cIm51bWJlclwiPT10eXBlb2Ygbz9pLlV0aWxzLnBhZChoLnRvU3RyaW5nKCksbyxcIjBcIiwxKTpoLnRvU3RyaW5nKCkpK24sci5wdXNoKGEpO3JldHVybiByfSxpLkZyYW1lPWZ1bmN0aW9uKHQsZSxzLG4sbyxyKXt0aGlzLmluZGV4PXQsdGhpcy54PWUsdGhpcy55PXMsdGhpcy53aWR0aD1uLHRoaXMuaGVpZ2h0PW8sMCE9PXRoaXMud2lkdGgmJjAhPT10aGlzLmhlaWdodHx8Y29uc29sZS53YXJuKCdQaGFzZXIuRnJhbWU6IEZyYW1lIFwiJyt0aGlzLm5hbWUrJ1wiIGhhcyBhIHdpZHRoIG9yIGhlaWdodCBvZiB6ZXJvJyksdGhpcy5uYW1lPXIsdGhpcy5jZW50ZXJYPU1hdGguZmxvb3Iobi8yKSx0aGlzLmNlbnRlclk9TWF0aC5mbG9vcihvLzIpLHRoaXMuZGlzdGFuY2U9aS5NYXRoLmRpc3RhbmNlKDAsMCxuLG8pLHRoaXMucm90YXRlZD0hMSx0aGlzLnRyaW1tZWQ9ITEsdGhpcy5zb3VyY2VTaXplVz1uLHRoaXMuc291cmNlU2l6ZUg9byx0aGlzLnNwcml0ZVNvdXJjZVNpemVYPTAsdGhpcy5zcHJpdGVTb3VyY2VTaXplWT0wLHRoaXMuc3ByaXRlU291cmNlU2l6ZVc9MCx0aGlzLnNwcml0ZVNvdXJjZVNpemVIPTAsdGhpcy5yaWdodD10aGlzLngrdGhpcy53aWR0aCx0aGlzLmJvdHRvbT10aGlzLnkrdGhpcy5oZWlnaHR9LGkuRnJhbWUucHJvdG90eXBlPXtyZXNpemU6ZnVuY3Rpb24odCxlKXt0aGlzLndpZHRoPXQsdGhpcy5oZWlnaHQ9ZSx0aGlzLmNlbnRlclg9TWF0aC5mbG9vcih0LzIpLHRoaXMuY2VudGVyWT1NYXRoLmZsb29yKGUvMiksdGhpcy5kaXN0YW5jZT1pLk1hdGguZGlzdGFuY2UoMCwwLHQsZSksdGhpcy5zb3VyY2VTaXplVz10LHRoaXMuc291cmNlU2l6ZUg9ZSx0aGlzLnJpZ2h0PXRoaXMueCt0LHRoaXMuYm90dG9tPXRoaXMueStlfSxzZXRUcmltOmZ1bmN0aW9uKHQsZSxpLHMsbixvLHIpe3RoaXMudHJpbW1lZD10LHQmJih0aGlzLnNvdXJjZVNpemVXPWUsdGhpcy5zb3VyY2VTaXplSD1pLHRoaXMuY2VudGVyWD1NYXRoLmZsb29yKGUvMiksdGhpcy5jZW50ZXJZPU1hdGguZmxvb3IoaS8yKSx0aGlzLnNwcml0ZVNvdXJjZVNpemVYPXMsdGhpcy5zcHJpdGVTb3VyY2VTaXplWT1uLHRoaXMuc3ByaXRlU291cmNlU2l6ZVc9byx0aGlzLnNwcml0ZVNvdXJjZVNpemVIPXIpfSxjbG9uZTpmdW5jdGlvbigpe3ZhciB0PW5ldyBpLkZyYW1lKHRoaXMuaW5kZXgsdGhpcy54LHRoaXMueSx0aGlzLndpZHRoLHRoaXMuaGVpZ2h0LHRoaXMubmFtZSk7Zm9yKHZhciBlIGluIHRoaXMpdGhpcy5oYXNPd25Qcm9wZXJ0eShlKSYmKHRbZV09dGhpc1tlXSk7cmV0dXJuIHR9LGdldFJlY3Q6ZnVuY3Rpb24odCl7cmV0dXJuIHZvaWQgMD09PXQ/dD1uZXcgaS5SZWN0YW5nbGUodGhpcy54LHRoaXMueSx0aGlzLndpZHRoLHRoaXMuaGVpZ2h0KTp0LnNldFRvKHRoaXMueCx0aGlzLnksdGhpcy53aWR0aCx0aGlzLmhlaWdodCksdH19LGkuRnJhbWUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWkuRnJhbWUsaS5GcmFtZURhdGE9ZnVuY3Rpb24oKXt0aGlzLl9mcmFtZXM9W10sdGhpcy5fZnJhbWVOYW1lcz1bXX0saS5GcmFtZURhdGEucHJvdG90eXBlPXthZGRGcmFtZTpmdW5jdGlvbih0KXtyZXR1cm4gdC5pbmRleD10aGlzLl9mcmFtZXMubGVuZ3RoLHRoaXMuX2ZyYW1lcy5wdXNoKHQpLFwiXCIhPT10Lm5hbWUmJih0aGlzLl9mcmFtZU5hbWVzW3QubmFtZV09dC5pbmRleCksdH0sZ2V0RnJhbWU6ZnVuY3Rpb24odCl7cmV0dXJuIHQ+PXRoaXMuX2ZyYW1lcy5sZW5ndGgmJih0PTApLHRoaXMuX2ZyYW1lc1t0XX0sZ2V0RnJhbWVCeU5hbWU6ZnVuY3Rpb24odCl7cmV0dXJuXCJudW1iZXJcIj09dHlwZW9mIHRoaXMuX2ZyYW1lTmFtZXNbdF0/dGhpcy5fZnJhbWVzW3RoaXMuX2ZyYW1lTmFtZXNbdF1dOm51bGx9LGNoZWNrRnJhbWVOYW1lOmZ1bmN0aW9uKHQpe3JldHVybiBudWxsIT10aGlzLl9mcmFtZU5hbWVzW3RdfSxjbG9uZTpmdW5jdGlvbigpe2Zvcih2YXIgdD1uZXcgaS5GcmFtZURhdGEsZT0wO2U8dGhpcy5fZnJhbWVzLmxlbmd0aDtlKyspdC5fZnJhbWVzLnB1c2godGhpcy5fZnJhbWVzW2VdLmNsb25lKCkpO2Zvcih2YXIgcyBpbiB0aGlzLl9mcmFtZU5hbWVzKXRoaXMuX2ZyYW1lTmFtZXMuaGFzT3duUHJvcGVydHkocykmJnQuX2ZyYW1lTmFtZXMucHVzaCh0aGlzLl9mcmFtZU5hbWVzW3NdKTtyZXR1cm4gdH0sZ2V0RnJhbWVSYW5nZTpmdW5jdGlvbih0LGUsaSl7dm9pZCAwPT09aSYmKGk9W10pO2Zvcih2YXIgcz10O3M8PWU7cysrKWkucHVzaCh0aGlzLl9mcmFtZXNbc10pO3JldHVybiBpfSxnZXRGcmFtZXM6ZnVuY3Rpb24odCxlLGkpe2lmKHZvaWQgMD09PWUmJihlPSEwKSx2b2lkIDA9PT1pJiYoaT1bXSksdm9pZCAwPT09dHx8MD09PXQubGVuZ3RoKWZvcihzPTA7czx0aGlzLl9mcmFtZXMubGVuZ3RoO3MrKylpLnB1c2godGhpcy5fZnJhbWVzW3NdKTtlbHNlIGZvcih2YXIgcz0wO3M8dC5sZW5ndGg7cysrKWU/aS5wdXNoKHRoaXMuZ2V0RnJhbWUodFtzXSkpOmkucHVzaCh0aGlzLmdldEZyYW1lQnlOYW1lKHRbc10pKTtyZXR1cm4gaX0sZ2V0RnJhbWVJbmRleGVzOmZ1bmN0aW9uKHQsZSxpKXtpZih2b2lkIDA9PT1lJiYoZT0hMCksdm9pZCAwPT09aSYmKGk9W10pLHZvaWQgMD09PXR8fDA9PT10Lmxlbmd0aClmb3Iocz0wO3M8dGhpcy5fZnJhbWVzLmxlbmd0aDtzKyspaS5wdXNoKHRoaXMuX2ZyYW1lc1tzXS5pbmRleCk7ZWxzZSBmb3IodmFyIHM9MDtzPHQubGVuZ3RoO3MrKyllJiZ0aGlzLl9mcmFtZXNbdFtzXV0/aS5wdXNoKHRoaXMuX2ZyYW1lc1t0W3NdXS5pbmRleCk6dGhpcy5nZXRGcmFtZUJ5TmFtZSh0W3NdKSYmaS5wdXNoKHRoaXMuZ2V0RnJhbWVCeU5hbWUodFtzXSkuaW5kZXgpO3JldHVybiBpfSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5fZnJhbWVzPW51bGwsdGhpcy5fZnJhbWVOYW1lcz1udWxsfX0saS5GcmFtZURhdGEucHJvdG90eXBlLmNvbnN0cnVjdG9yPWkuRnJhbWVEYXRhLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLkZyYW1lRGF0YS5wcm90b3R5cGUsXCJ0b3RhbFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZnJhbWVzLmxlbmd0aH19KSxpLkFuaW1hdGlvblBhcnNlcj17c3ByaXRlU2hlZXQ6ZnVuY3Rpb24odCxlLHMsbixvLHIsYSxoKXt2b2lkIDA9PT1vJiYobz0tMSksdm9pZCAwPT09ciYmKHI9MCksdm9pZCAwPT09YSYmKGE9MCksdm9pZCAwPT09aCYmKGg9MCk7dmFyIGw9ZTtpZihcInN0cmluZ1wiPT10eXBlb2YgZSYmKGw9dC5jYWNoZS5nZXRJbWFnZShlKSksbnVsbD09PWwpcmV0dXJuIG51bGw7dmFyIGM9bC53aWR0aCx1PWwuaGVpZ2h0O3M8PTAmJihzPU1hdGguZmxvb3IoLWMvTWF0aC5taW4oLTEscykpKSxuPD0wJiYobj1NYXRoLmZsb29yKC11L01hdGgubWluKC0xLG4pKSk7dmFyIGQ9TWF0aC5mbG9vcigoYy1yKS8ocythKSkqTWF0aC5mbG9vcigodS1yKS8obithKSk7aWYoaD5kfHxoPC1kKXJldHVybiBjb25zb2xlLndhcm4oXCJQaGFzZXIuQW5pbWF0aW9uUGFyc2VyLnNwcml0ZVNoZWV0OiBza2lwRnJhbWVzID0gXCIraC50b1N0cmluZygpK1wiIGlzIGxhcmdlciB0aGFuIHRvdGFsIHNwcml0ZSBudW1iZXIgXCIrZC50b1N0cmluZygpKSxudWxsO2lmKGg8MCYmKGg9ZCtoKSwtMSE9PW8mJihkPWgrbyksMD09PWN8fDA9PT11fHxjPHN8fHU8bnx8MD09PWQpcmV0dXJuIGNvbnNvbGUud2FybihcIlBoYXNlci5BbmltYXRpb25QYXJzZXIuc3ByaXRlU2hlZXQ6ICdcIitlK1wiJ3Mgd2lkdGgvaGVpZ2h0IHplcm8gb3Igd2lkdGgvaGVpZ2h0IDwgZ2l2ZW4gZnJhbWVXaWR0aC9mcmFtZUhlaWdodFwiKSxudWxsO2Zvcih2YXIgcD1uZXcgaS5GcmFtZURhdGEsZj1yLG09cixnPTA7ZzxkO2crKylwLmFkZEZyYW1lKG5ldyBpLkZyYW1lKGcsZixtLHMsbixcIlwiKSksKGYrPXMrYSkrcz5jJiYoZj1yLG0rPW4rYSk7cmV0dXJuIHB9LEpTT05EYXRhOmZ1bmN0aW9uKHQsZSl7aWYoIWUuZnJhbWVzKXJldHVybiBjb25zb2xlLndhcm4oXCJQaGFzZXIuQW5pbWF0aW9uUGFyc2VyLkpTT05EYXRhOiBJbnZhbGlkIFRleHR1cmUgQXRsYXMgSlNPTiBnaXZlbiwgbWlzc2luZyAnZnJhbWVzJyBhcnJheVwiKSx2b2lkIGNvbnNvbGUubG9nKGUpO2Zvcih2YXIgcyxuPW5ldyBpLkZyYW1lRGF0YSxvPWUuZnJhbWVzLHI9MDtyPG8ubGVuZ3RoO3IrKylzPW4uYWRkRnJhbWUobmV3IGkuRnJhbWUocixvW3JdLmZyYW1lLngsb1tyXS5mcmFtZS55LG9bcl0uZnJhbWUudyxvW3JdLmZyYW1lLmgsb1tyXS5maWxlbmFtZSkpLG9bcl0udHJpbW1lZCYmcy5zZXRUcmltKG9bcl0udHJpbW1lZCxvW3JdLnNvdXJjZVNpemUudyxvW3JdLnNvdXJjZVNpemUuaCxvW3JdLnNwcml0ZVNvdXJjZVNpemUueCxvW3JdLnNwcml0ZVNvdXJjZVNpemUueSxvW3JdLnNwcml0ZVNvdXJjZVNpemUudyxvW3JdLnNwcml0ZVNvdXJjZVNpemUuaCksb1tyXS5yb3RhdGVkJiYocy5yb3RhdGVkPSEwKTtyZXR1cm4gbn0sSlNPTkRhdGFQeXhlbDpmdW5jdGlvbih0LGUpe2lmKFtcImxheWVyc1wiLFwidGlsZXdpZHRoXCIsXCJ0aWxlaGVpZ2h0XCIsXCJ0aWxlc3dpZGVcIixcInRpbGVzaGlnaFwiXS5mb3JFYWNoKGZ1bmN0aW9uKHQpe2lmKCFlW3RdKXJldHVybiBjb25zb2xlLndhcm4oJ1BoYXNlci5BbmltYXRpb25QYXJzZXIuSlNPTkRhdGFQeXhlbDogSW52YWxpZCBQeXhlbCBUaWxlbWFwIEpTT04gZ2l2ZW4sIG1pc3NpbmcgXCInK3QrJ1wiIGtleS4nKSx2b2lkIGNvbnNvbGUubG9nKGUpfSksMSE9PWUubGF5ZXJzLmxlbmd0aClyZXR1cm4gY29uc29sZS53YXJuKFwiUGhhc2VyLkFuaW1hdGlvblBhcnNlci5KU09ORGF0YVB5eGVsOiBUb28gbWFueSBsYXllcnMsIHRoaXMgcGFyc2VyIG9ubHkgc3VwcG9ydHMgZmxhdCBUaWxlbWFwcy5cIiksdm9pZCBjb25zb2xlLmxvZyhlKTtmb3IodmFyIHM9bmV3IGkuRnJhbWVEYXRhLG49ZS50aWxlaGVpZ2h0LG89ZS50aWxld2lkdGgscj1lLmxheWVyc1swXS50aWxlcyxhPTA7YTxyLmxlbmd0aDthKyspcy5hZGRGcmFtZShuZXcgaS5GcmFtZShhLHJbYV0ueCxyW2FdLnksbyxuLFwiZnJhbWVfXCIrYSkpLnNldFRyaW0oITEpO3JldHVybiBzfSxKU09ORGF0YUhhc2g6ZnVuY3Rpb24odCxlKXtpZighZS5mcmFtZXMpcmV0dXJuIGNvbnNvbGUud2FybihcIlBoYXNlci5BbmltYXRpb25QYXJzZXIuSlNPTkRhdGFIYXNoOiBJbnZhbGlkIFRleHR1cmUgQXRsYXMgSlNPTiBnaXZlbiwgbWlzc2luZyAnZnJhbWVzJyBvYmplY3RcIiksdm9pZCBjb25zb2xlLmxvZyhlKTt2YXIgcyxuPW5ldyBpLkZyYW1lRGF0YSxvPWUuZnJhbWVzLHI9MDtmb3IodmFyIGEgaW4gbylzPW4uYWRkRnJhbWUobmV3IGkuRnJhbWUocixvW2FdLmZyYW1lLngsb1thXS5mcmFtZS55LG9bYV0uZnJhbWUudyxvW2FdLmZyYW1lLmgsYSkpLG9bYV0udHJpbW1lZCYmcy5zZXRUcmltKG9bYV0udHJpbW1lZCxvW2FdLnNvdXJjZVNpemUudyxvW2FdLnNvdXJjZVNpemUuaCxvW2FdLnNwcml0ZVNvdXJjZVNpemUueCxvW2FdLnNwcml0ZVNvdXJjZVNpemUueSxvW2FdLnNwcml0ZVNvdXJjZVNpemUudyxvW2FdLnNwcml0ZVNvdXJjZVNpemUuaCksb1thXS5yb3RhdGVkJiYocy5yb3RhdGVkPSEwKSxyKys7cmV0dXJuIG59LFhNTERhdGE6ZnVuY3Rpb24odCxlKXtpZihlLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiVGV4dHVyZUF0bGFzXCIpKXtmb3IodmFyIHMsbixvLHIsYSxoLGwsYyx1LGQscCxmPW5ldyBpLkZyYW1lRGF0YSxtPWUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJTdWJUZXh0dXJlXCIpLGc9MDtnPG0ubGVuZ3RoO2crKyluPShvPW1bZ10uYXR0cmlidXRlcykubmFtZS52YWx1ZSxyPXBhcnNlSW50KG8ueC52YWx1ZSwxMCksYT1wYXJzZUludChvLnkudmFsdWUsMTApLGg9cGFyc2VJbnQoby53aWR0aC52YWx1ZSwxMCksbD1wYXJzZUludChvLmhlaWdodC52YWx1ZSwxMCksYz1udWxsLHU9bnVsbCxvLmZyYW1lWCYmKGM9TWF0aC5hYnMocGFyc2VJbnQoby5mcmFtZVgudmFsdWUsMTApKSx1PU1hdGguYWJzKHBhcnNlSW50KG8uZnJhbWVZLnZhbHVlLDEwKSksZD1wYXJzZUludChvLmZyYW1lV2lkdGgudmFsdWUsMTApLHA9cGFyc2VJbnQoby5mcmFtZUhlaWdodC52YWx1ZSwxMCkpLHM9Zi5hZGRGcmFtZShuZXcgaS5GcmFtZShnLHIsYSxoLGwsbikpLG51bGw9PT1jJiZudWxsPT09dXx8cy5zZXRUcmltKCEwLGgsbCxjLHUsZCxwKTtyZXR1cm4gZn1jb25zb2xlLndhcm4oXCJQaGFzZXIuQW5pbWF0aW9uUGFyc2VyLlhNTERhdGE6IEludmFsaWQgVGV4dHVyZSBBdGxhcyBYTUwgZ2l2ZW4sIG1pc3NpbmcgPFRleHR1cmVBdGxhcz4gdGFnXCIpfX0saS5DYWNoZT1mdW5jdGlvbih0KXt0aGlzLmdhbWU9dCx0aGlzLmF1dG9SZXNvbHZlVVJMPSExLHRoaXMuX2NhY2hlPXtjYW52YXM6e30saW1hZ2U6e30sdGV4dHVyZTp7fSxzb3VuZDp7fSx2aWRlbzp7fSx0ZXh0Ont9LGpzb246e30seG1sOnt9LHBoeXNpY3M6e30sdGlsZW1hcDp7fSxiaW5hcnk6e30sYml0bWFwRGF0YTp7fSxiaXRtYXBGb250Ont9LHNoYWRlcjp7fSxyZW5kZXJUZXh0dXJlOnt9LGNvbXByZXNzZWRUZXh0dXJlOnt9fSx0aGlzLl91cmxNYXA9e30sdGhpcy5fdXJsUmVzb2x2ZXI9bmV3IEltYWdlLHRoaXMuX3VybFRlbXA9bnVsbCx0aGlzLm9uU291bmRVbmxvY2s9bmV3IGkuU2lnbmFsLHRoaXMuX2NhY2hlTWFwPVtdLHRoaXMuX2NhY2hlTWFwW2kuQ2FjaGUuQ0FOVkFTXT10aGlzLl9jYWNoZS5jYW52YXMsdGhpcy5fY2FjaGVNYXBbaS5DYWNoZS5JTUFHRV09dGhpcy5fY2FjaGUuaW1hZ2UsdGhpcy5fY2FjaGVNYXBbaS5DYWNoZS5URVhUVVJFXT10aGlzLl9jYWNoZS50ZXh0dXJlLHRoaXMuX2NhY2hlTWFwW2kuQ2FjaGUuU09VTkRdPXRoaXMuX2NhY2hlLnNvdW5kLHRoaXMuX2NhY2hlTWFwW2kuQ2FjaGUuVEVYVF09dGhpcy5fY2FjaGUudGV4dCx0aGlzLl9jYWNoZU1hcFtpLkNhY2hlLlBIWVNJQ1NdPXRoaXMuX2NhY2hlLnBoeXNpY3MsdGhpcy5fY2FjaGVNYXBbaS5DYWNoZS5USUxFTUFQXT10aGlzLl9jYWNoZS50aWxlbWFwLHRoaXMuX2NhY2hlTWFwW2kuQ2FjaGUuQklOQVJZXT10aGlzLl9jYWNoZS5iaW5hcnksdGhpcy5fY2FjaGVNYXBbaS5DYWNoZS5CSVRNQVBEQVRBXT10aGlzLl9jYWNoZS5iaXRtYXBEYXRhLHRoaXMuX2NhY2hlTWFwW2kuQ2FjaGUuQklUTUFQRk9OVF09dGhpcy5fY2FjaGUuYml0bWFwRm9udCx0aGlzLl9jYWNoZU1hcFtpLkNhY2hlLkpTT05dPXRoaXMuX2NhY2hlLmpzb24sdGhpcy5fY2FjaGVNYXBbaS5DYWNoZS5YTUxdPXRoaXMuX2NhY2hlLnhtbCx0aGlzLl9jYWNoZU1hcFtpLkNhY2hlLlZJREVPXT10aGlzLl9jYWNoZS52aWRlbyx0aGlzLl9jYWNoZU1hcFtpLkNhY2hlLlNIQURFUl09dGhpcy5fY2FjaGUuc2hhZGVyLHRoaXMuX2NhY2hlTWFwW2kuQ2FjaGUuUkVOREVSX1RFWFRVUkVdPXRoaXMuX2NhY2hlLnJlbmRlclRleHR1cmUsdGhpcy5fcGVuZGluZ0NvdW50PTAsdGhpcy5vblJlYWR5PW5ldyBpLlNpZ25hbCx0aGlzLl9hZGRJbWFnZXMoKX0saS5DYWNoZS5DQU5WQVM9MSxpLkNhY2hlLklNQUdFPTIsaS5DYWNoZS5URVhUVVJFPTMsaS5DYWNoZS5TT1VORD00LGkuQ2FjaGUuVEVYVD01LGkuQ2FjaGUuUEhZU0lDUz02LGkuQ2FjaGUuVElMRU1BUD03LGkuQ2FjaGUuQklOQVJZPTgsaS5DYWNoZS5CSVRNQVBEQVRBPTksaS5DYWNoZS5CSVRNQVBGT05UPTEwLGkuQ2FjaGUuSlNPTj0xMSxpLkNhY2hlLlhNTD0xMixpLkNhY2hlLlZJREVPPTEzLGkuQ2FjaGUuU0hBREVSPTE0LGkuQ2FjaGUuUkVOREVSX1RFWFRVUkU9MTUsaS5DYWNoZS5ERUZBVUxUPW51bGwsaS5DYWNoZS5ERUZBVUxUX0tFWT1cIl9fZGVmYXVsdFwiLGkuQ2FjaGUuREVGQVVMVF9TUkM9XCJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUNBQUFBQWdBUU1BQUFCSnRPaTNBQUFBQTFCTVZFWC8vLytueEJ2SUFBQUFBWFJTVGxNQVFPYllaZ0FBQUJWSlJFRlVlRjdOd0lFQUFBQUFnS0Q5cWRlb2NBTUFvQUFCbTNEa2NBQUFBQUJKUlU1RXJrSmdnZz09XCIsaS5DYWNoZS5NSVNTSU5HPW51bGwsaS5DYWNoZS5NSVNTSU5HX0tFWT1cIl9fbWlzc2luZ1wiLGkuQ2FjaGUuTUlTU0lOR19TUkM9XCJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUNBQUFBQWdDQUlBQUFEOEdPMmpBQUFBR1hSRldIUlRiMlowZDJGeVpRQkJaRzlpWlNCSmJXRm5aVkpsWVdSNWNjbGxQQUFBQUo5SlJFRlVlTnEwMXNzT3d5QU1SRkc0NnYvL010MUVTbWdoK0RGbUUyR1BPQkFSS2IyTlZqbysxN1BYTEQ4YTErcGw1K0Erd1NnRnlneW1XWUhCYjBGdHNLaEpEZFpsbmNHMkl6SjRheW9NRHYyMHdUbVNNekNsRWdiV1lOVEFrUTBaK09KK0EvZVduQWFSOStveENGNE9zMEg4aHRzTVVwK3B3Y2dCQmlNTm5Bd0Y4R3FJZ0wyaEF6YUdGRmdaYXVEUEtBQm1vd1o0R0wzNjkvMHJ3QUNwMnlBL3R0bXZzUUFBQUFCSlJVNUVya0pnZ2c9PVwiLGkuQ2FjaGUuUkVBRFlfVElNRU9VVD0xZTMsaS5DYWNoZS5wcm90b3R5cGU9e2FkZENvbXByZXNzZWRUZXh0dXJlTWV0YURhdGE6ZnVuY3Rpb24odCxlLHMsbil7dGhpcy5jaGVja0ltYWdlS2V5KHQpJiZ0aGlzLnJlbW92ZUltYWdlKHQpO3ZhciBvPXMgaW4gaS5Mb2FkZXJQYXJzZXI/aS5Mb2FkZXJQYXJzZXJbc10obik6bixyPXtrZXk6dCx1cmw6ZSxkYXRhOm8sYmFzZTpuZXcgUElYSS5CYXNlVGV4dHVyZShvLG51bGwsdGhpcy5nYW1lLnJlc29sdXRpb24pLGZyYW1lOm5ldyBpLkZyYW1lKDAsMCwwLG8ud2lkdGgsby5oZWlnaHQsdCksZnJhbWVEYXRhOm5ldyBpLkZyYW1lRGF0YSxmaWxlRm9ybWF0OnN9O3JldHVybiByLmZyYW1lRGF0YS5hZGRGcmFtZShuZXcgaS5GcmFtZSgwLDAsMCxvLndpZHRoLG8uaGVpZ2h0LGUpKSx0aGlzLl9jYWNoZS5pbWFnZVt0XT1yLHRoaXMuX3Jlc29sdmVVUkwoZSxyKSxyfSxhZGRDYW52YXM6ZnVuY3Rpb24odCxlLGkpe3ZvaWQgMD09PWkmJihpPWUuZ2V0Q29udGV4dChcIjJkXCIpKSx0aGlzLl9jYWNoZS5jYW52YXNbdF09e2NhbnZhczplLGNvbnRleHQ6aX19LGFkZEltYWdlOmZ1bmN0aW9uKHQsZSxzKXt0aGlzLmNoZWNrSW1hZ2VLZXkodCkmJnRoaXMucmVtb3ZlSW1hZ2UodCksITE9PT1zLmNvbXBsZXRlJiZjb25zb2xlLndhcm4oJ1BoYXNlci5DYWNoZS5hZGRJbWFnZTogSW1hZ2UgXCInK3QrXCJcXFwiIGhhc24ndCBiZWVuIHJldHJpZXZlZCB5ZXRcIik7dmFyIG49e2tleTp0LHVybDplLGRhdGE6cyxiYXNlOm5ldyBQSVhJLkJhc2VUZXh0dXJlKHMsbnVsbCx0aGlzLmdhbWUucmVzb2x1dGlvbiksZnJhbWU6bmV3IGkuRnJhbWUoMCwwLDAscy53aWR0aCxzLmhlaWdodCx0KSxmcmFtZURhdGE6bmV3IGkuRnJhbWVEYXRhfTtyZXR1cm4gbi5mcmFtZURhdGEuYWRkRnJhbWUobmV3IGkuRnJhbWUoMCwwLDAscy53aWR0aCxzLmhlaWdodCxlKSksdGhpcy5fY2FjaGUuaW1hZ2VbdF09bix0aGlzLl9yZXNvbHZlVVJMKGUsbiksXCJfX2RlZmF1bHRcIj09PXQ/aS5DYWNoZS5ERUZBVUxUPW5ldyBQSVhJLlRleHR1cmUobi5iYXNlKTpcIl9fbWlzc2luZ1wiPT09dCYmKGkuQ2FjaGUuTUlTU0lORz1uZXcgUElYSS5UZXh0dXJlKG4uYmFzZSkpLG59LGFkZEltYWdlQXN5bmM6ZnVuY3Rpb24odCxlLGkpe3ZhciBzPXRoaXMsbj1uZXcgSW1hZ2U7bi5vbmxvYWQ9ZnVuY3Rpb24oKXtpLmNhbGwodGhpcyxzLmFkZEltYWdlKHQsbnVsbCxuKSkscy5fcmVtb3ZlUGVuZGluZygpLG4ub25sb2FkPW51bGx9LHRoaXMuX2FkZFBlbmRpbmcoKSxuLnNyYz1lfSxhZGREZWZhdWx0SW1hZ2U6ZnVuY3Rpb24oKXt0aGlzLmFkZEltYWdlQXN5bmMoaS5DYWNoZS5ERUZBVUxUX0tFWSxpLkNhY2hlLkRFRkFVTFRfU1JDLGZ1bmN0aW9uKHQpe3QuYmFzZS5za2lwUmVuZGVyPSEwLGkuQ2FjaGUuREVGQVVMVD1uZXcgUElYSS5UZXh0dXJlKHQuYmFzZSl9KX0sYWRkTWlzc2luZ0ltYWdlOmZ1bmN0aW9uKCl7dGhpcy5hZGRJbWFnZUFzeW5jKGkuQ2FjaGUuTUlTU0lOR19LRVksaS5DYWNoZS5NSVNTSU5HX1NSQyxmdW5jdGlvbih0KXtpLkNhY2hlLk1JU1NJTkc9bmV3IFBJWEkuVGV4dHVyZSh0LmJhc2UpfSl9LGFkZFNvdW5kOmZ1bmN0aW9uKHQsZSxpLHMsbil7dm9pZCAwPT09cyYmKHM9ITAsbj0hMSksdm9pZCAwPT09biYmKHM9ITEsbj0hMCk7dmFyIG89ITE7biYmKG89ITApLHRoaXMuX2NhY2hlLnNvdW5kW3RdPXt1cmw6ZSxkYXRhOmksaXNEZWNvZGluZzohMSxkZWNvZGVkOm8sd2ViQXVkaW86cyxhdWRpb1RhZzpuLGxvY2tlZDp0aGlzLmdhbWUuc291bmQudG91Y2hMb2NrZWR9LHRoaXMuX3Jlc29sdmVVUkwoZSx0aGlzLl9jYWNoZS5zb3VuZFt0XSl9LGFkZFRleHQ6ZnVuY3Rpb24odCxlLGkpe3RoaXMuX2NhY2hlLnRleHRbdF09e3VybDplLGRhdGE6aX0sdGhpcy5fcmVzb2x2ZVVSTChlLHRoaXMuX2NhY2hlLnRleHRbdF0pfSxhZGRQaHlzaWNzRGF0YTpmdW5jdGlvbih0LGUsaSxzKXt0aGlzLl9jYWNoZS5waHlzaWNzW3RdPXt1cmw6ZSxkYXRhOmksZm9ybWF0OnN9LHRoaXMuX3Jlc29sdmVVUkwoZSx0aGlzLl9jYWNoZS5waHlzaWNzW3RdKX0sYWRkVGlsZW1hcDpmdW5jdGlvbih0LGUsaSxzKXt0aGlzLl9jYWNoZS50aWxlbWFwW3RdPXt1cmw6ZSxkYXRhOmksZm9ybWF0OnN9LHRoaXMuX3Jlc29sdmVVUkwoZSx0aGlzLl9jYWNoZS50aWxlbWFwW3RdKX0sYWRkQmluYXJ5OmZ1bmN0aW9uKHQsZSl7dGhpcy5fY2FjaGUuYmluYXJ5W3RdPWV9LGFkZEJpdG1hcERhdGE6ZnVuY3Rpb24odCxlLHMpe3JldHVybiBlLmtleT10LHZvaWQgMD09PXMmJihzPW5ldyBpLkZyYW1lRGF0YSkuYWRkRnJhbWUoZS50ZXh0dXJlRnJhbWUpLHRoaXMuX2NhY2hlLmJpdG1hcERhdGFbdF09e2RhdGE6ZSxmcmFtZURhdGE6c30sZX0sYWRkQml0bWFwRm9udDpmdW5jdGlvbih0LGUscyxuLG8scixhKXt2YXIgaD17dXJsOmUsZGF0YTpzLGZvbnQ6bnVsbCxiYXNlOm5ldyBQSVhJLkJhc2VUZXh0dXJlKHMsbnVsbCx0aGlzLmdhbWUucmVzb2x1dGlvbil9O3ZvaWQgMD09PXImJihyPTApLHZvaWQgMD09PWEmJihhPTApLGguZm9udD1cImpzb25cIj09PW8/aS5Mb2FkZXJQYXJzZXIuanNvbkJpdG1hcEZvbnQobixoLmJhc2UscixhLCExLHRoaXMuZ2FtZS5yZXNvbHV0aW9uKTppLkxvYWRlclBhcnNlci54bWxCaXRtYXBGb250KG4saC5iYXNlLHIsYSwhMSx0aGlzLmdhbWUucmVzb2x1dGlvbiksdGhpcy5fY2FjaGUuYml0bWFwRm9udFt0XT1oLHRoaXMuX3Jlc29sdmVVUkwoZSxoKX0sYWRkQml0bWFwRm9udEZyb21BdGxhczpmdW5jdGlvbih0LGUscyxuLG8scixhKXt2YXIgaD10aGlzLmdldEZyYW1lQnlOYW1lKGUscyk7aWYoaCl7dmFyIGw9e2ZvbnQ6bnVsbCxiYXNlOnRoaXMuZ2V0QmFzZVRleHR1cmUoZSksZnJhbWU6aH07dm9pZCAwPT09ciYmKHI9MCksdm9pZCAwPT09YSYmKGE9MCk7dmFyIGM7XCJqc29uXCI9PT1vPyhjPXRoaXMuZ2V0SlNPTihuKSxsLmZvbnQ9aS5Mb2FkZXJQYXJzZXIuanNvbkJpdG1hcEZvbnQoYyxsLmJhc2UscixhLGgsdGhpcy5nYW1lLnJlc29sdXRpb24pKTooYz10aGlzLmdldFhNTChuKSxsLmZvbnQ9aS5Mb2FkZXJQYXJzZXIueG1sQml0bWFwRm9udChjLGwuYmFzZSxyLGEsaCx0aGlzLmdhbWUucmVzb2x1dGlvbikpLHRoaXMuX2NhY2hlLmJpdG1hcEZvbnRbdF09bH19LGFkZEpTT046ZnVuY3Rpb24odCxlLGkpe3RoaXMuX2NhY2hlLmpzb25bdF09e3VybDplLGRhdGE6aX0sdGhpcy5fcmVzb2x2ZVVSTChlLHRoaXMuX2NhY2hlLmpzb25bdF0pfSxhZGRYTUw6ZnVuY3Rpb24odCxlLGkpe3RoaXMuX2NhY2hlLnhtbFt0XT17dXJsOmUsZGF0YTppfSx0aGlzLl9yZXNvbHZlVVJMKGUsdGhpcy5fY2FjaGUueG1sW3RdKX0sYWRkVmlkZW86ZnVuY3Rpb24odCxlLGkscyl7dGhpcy5fY2FjaGUudmlkZW9bdF09e3VybDplLGRhdGE6aSxpc0Jsb2I6cyxsb2NrZWQ6ITB9LHRoaXMuX3Jlc29sdmVVUkwoZSx0aGlzLl9jYWNoZS52aWRlb1t0XSl9LGFkZFNoYWRlcjpmdW5jdGlvbih0LGUsaSl7dGhpcy5fY2FjaGUuc2hhZGVyW3RdPXt1cmw6ZSxkYXRhOml9LHRoaXMuX3Jlc29sdmVVUkwoZSx0aGlzLl9jYWNoZS5zaGFkZXJbdF0pfSxhZGRSZW5kZXJUZXh0dXJlOmZ1bmN0aW9uKHQsZSl7dGhpcy5fY2FjaGUucmVuZGVyVGV4dHVyZVt0XT17dGV4dHVyZTplLGZyYW1lOm5ldyBpLkZyYW1lKDAsMCwwLGUud2lkdGgsZS5oZWlnaHQsXCJcIixcIlwiKX19LGFkZFNwcml0ZVNoZWV0OmZ1bmN0aW9uKHQsZSxzLG4sbyxyLGEsaCxsKXt2b2lkIDA9PT1yJiYocj0tMSksdm9pZCAwPT09YSYmKGE9MCksdm9pZCAwPT09aCYmKGg9MCk7dmFyIGM9e2tleTp0LHVybDplLGRhdGE6cyxmcmFtZVdpZHRoOm4sZnJhbWVIZWlnaHQ6byxtYXJnaW46YSxzcGFjaW5nOmgsYmFzZTpuZXcgUElYSS5CYXNlVGV4dHVyZShzLG51bGwsdGhpcy5nYW1lLnJlc29sdXRpb24pLGZyYW1lRGF0YTppLkFuaW1hdGlvblBhcnNlci5zcHJpdGVTaGVldCh0aGlzLmdhbWUscyxuLG8scixhLGgsbCl9O3RoaXMuX2NhY2hlLmltYWdlW3RdPWMsdGhpcy5fcmVzb2x2ZVVSTChlLGMpfSxhZGRUZXh0dXJlQXRsYXM6ZnVuY3Rpb24odCxlLHMsbixvKXt2YXIgcj17a2V5OnQsdXJsOmUsZGF0YTpzLGJhc2U6bmV3IFBJWEkuQmFzZVRleHR1cmUocyxudWxsLHRoaXMuZ2FtZS5yZXNvbHV0aW9uKX07bz09PWkuTG9hZGVyLlRFWFRVUkVfQVRMQVNfWE1MX1NUQVJMSU5HP3IuZnJhbWVEYXRhPWkuQW5pbWF0aW9uUGFyc2VyLlhNTERhdGEodGhpcy5nYW1lLG4sdCk6bz09PWkuTG9hZGVyLlRFWFRVUkVfQVRMQVNfSlNPTl9QWVhFTD9yLmZyYW1lRGF0YT1pLkFuaW1hdGlvblBhcnNlci5KU09ORGF0YVB5eGVsKHRoaXMuZ2FtZSxuLHQpOkFycmF5LmlzQXJyYXkobi5mcmFtZXMpP3IuZnJhbWVEYXRhPWkuQW5pbWF0aW9uUGFyc2VyLkpTT05EYXRhKHRoaXMuZ2FtZSxuLHQpOnIuZnJhbWVEYXRhPWkuQW5pbWF0aW9uUGFyc2VyLkpTT05EYXRhSGFzaCh0aGlzLmdhbWUsbix0KSx0aGlzLl9jYWNoZS5pbWFnZVt0XT1yLHRoaXMuX3Jlc29sdmVVUkwoZSxyKX0scmVsb2FkU291bmQ6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxpPXRoaXMuZ2V0U291bmQodCk7aSYmKGkuZGF0YS5zcmM9aS51cmwsaS5kYXRhLmFkZEV2ZW50TGlzdGVuZXIoXCJjYW5wbGF5dGhyb3VnaFwiLGZ1bmN0aW9uKCl7cmV0dXJuIGUucmVsb2FkU291bmRDb21wbGV0ZSh0KX0sITEpLGkuZGF0YS5sb2FkKCkpfSxyZWxvYWRTb3VuZENvbXBsZXRlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ2V0U291bmQodCk7ZSYmKGUubG9ja2VkPSExLHRoaXMub25Tb3VuZFVubG9jay5kaXNwYXRjaCh0KSl9LHVwZGF0ZVNvdW5kOmZ1bmN0aW9uKHQsZSxpKXt2YXIgcz10aGlzLmdldFNvdW5kKHQpO3MmJihzW2VdPWkpfSxkZWNvZGVkU291bmQ6ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLmdldFNvdW5kKHQpO2kuZGF0YT1lLGkuZGVjb2RlZD0hMCxpLmlzRGVjb2Rpbmc9ITF9LGlzU291bmREZWNvZGVkOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ2V0SXRlbSh0LGkuQ2FjaGUuU09VTkQsXCJpc1NvdW5kRGVjb2RlZFwiKTtpZihlKXJldHVybiBlLmRlY29kZWR9LGlzU291bmRSZWFkeTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmdldEl0ZW0odCxpLkNhY2hlLlNPVU5ELFwiaXNTb3VuZERlY29kZWRcIik7aWYoZSlyZXR1cm4gZS5kZWNvZGVkJiYhdGhpcy5nYW1lLnNvdW5kLnRvdWNoTG9ja2VkfSxjaGVja0tleTpmdW5jdGlvbih0LGUpe3JldHVybiEhdGhpcy5fY2FjaGVNYXBbdF1bZV19LGNoZWNrVVJMOmZ1bmN0aW9uKHQpe3JldHVybiEhdGhpcy5fdXJsTWFwW3RoaXMuX3Jlc29sdmVVUkwodCldfSxjaGVja0NhbnZhc0tleTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jaGVja0tleShpLkNhY2hlLkNBTlZBUyx0KX0sY2hlY2tJbWFnZUtleTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jaGVja0tleShpLkNhY2hlLklNQUdFLHQpfSxjaGVja1RleHR1cmVLZXk6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY2hlY2tLZXkoaS5DYWNoZS5URVhUVVJFLHQpfSxjaGVja1NvdW5kS2V5OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmNoZWNrS2V5KGkuQ2FjaGUuU09VTkQsdCl9LGNoZWNrVGV4dEtleTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jaGVja0tleShpLkNhY2hlLlRFWFQsdCl9LGNoZWNrUGh5c2ljc0tleTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jaGVja0tleShpLkNhY2hlLlBIWVNJQ1MsdCl9LGNoZWNrVGlsZW1hcEtleTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jaGVja0tleShpLkNhY2hlLlRJTEVNQVAsdCl9LGNoZWNrQmluYXJ5S2V5OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmNoZWNrS2V5KGkuQ2FjaGUuQklOQVJZLHQpfSxjaGVja0JpdG1hcERhdGFLZXk6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY2hlY2tLZXkoaS5DYWNoZS5CSVRNQVBEQVRBLHQpfSxjaGVja0JpdG1hcEZvbnRLZXk6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY2hlY2tLZXkoaS5DYWNoZS5CSVRNQVBGT05ULHQpfSxjaGVja0pTT05LZXk6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY2hlY2tLZXkoaS5DYWNoZS5KU09OLHQpfSxjaGVja1hNTEtleTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jaGVja0tleShpLkNhY2hlLlhNTCx0KX0sY2hlY2tWaWRlb0tleTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jaGVja0tleShpLkNhY2hlLlZJREVPLHQpfSxjaGVja1NoYWRlcktleTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jaGVja0tleShpLkNhY2hlLlNIQURFUix0KX0sY2hlY2tSZW5kZXJUZXh0dXJlS2V5OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmNoZWNrS2V5KGkuQ2FjaGUuUkVOREVSX1RFWFRVUkUsdCl9LGdldEl0ZW06ZnVuY3Rpb24odCxlLGkscyl7cmV0dXJuIHRoaXMuY2hlY2tLZXkoZSx0KT92b2lkIDA9PT1zP3RoaXMuX2NhY2hlTWFwW2VdW3RdOnRoaXMuX2NhY2hlTWFwW2VdW3RdW3NdOihpJiZjb25zb2xlLndhcm4oXCJQaGFzZXIuQ2FjaGUuXCIraSsnOiBLZXkgXCInK3QrJ1wiIG5vdCBmb3VuZCBpbiBDYWNoZS4nKSxudWxsKX0sZ2V0Q2FudmFzOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmdldEl0ZW0odCxpLkNhY2hlLkNBTlZBUyxcImdldENhbnZhc1wiLFwiY2FudmFzXCIpfSxnZXRJbWFnZTpmdW5jdGlvbih0LGUpe3ZvaWQgMCE9PXQmJm51bGwhPT10fHwodD1cIl9fZGVmYXVsdFwiKSx2b2lkIDA9PT1lJiYoZT0hMSk7dmFyIHM9dGhpcy5nZXRJdGVtKHQsaS5DYWNoZS5JTUFHRSxcImdldEltYWdlXCIpO3JldHVybiBudWxsPT09cyYmKHM9dGhpcy5nZXRJdGVtKFwiX19taXNzaW5nXCIsaS5DYWNoZS5JTUFHRSxcImdldEltYWdlXCIpKSxlP3M6cy5kYXRhfSxnZXRUZXh0dXJlRnJhbWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZ2V0SXRlbSh0LGkuQ2FjaGUuVEVYVFVSRSxcImdldFRleHR1cmVGcmFtZVwiLFwiZnJhbWVcIil9LGdldFNvdW5kOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmdldEl0ZW0odCxpLkNhY2hlLlNPVU5ELFwiZ2V0U291bmRcIil9LGdldFNvdW5kRGF0YTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5nZXRJdGVtKHQsaS5DYWNoZS5TT1VORCxcImdldFNvdW5kRGF0YVwiLFwiZGF0YVwiKX0sZ2V0VGV4dDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5nZXRJdGVtKHQsaS5DYWNoZS5URVhULFwiZ2V0VGV4dFwiLFwiZGF0YVwiKX0sZ2V0UGh5c2ljc0RhdGE6ZnVuY3Rpb24odCxlLHMpe3ZhciBuPXRoaXMuZ2V0SXRlbSh0LGkuQ2FjaGUuUEhZU0lDUyxcImdldFBoeXNpY3NEYXRhXCIsXCJkYXRhXCIpO2lmKG51bGw9PT1ufHx2b2lkIDA9PT1lfHxudWxsPT09ZSlyZXR1cm4gbjtpZihuW2VdKXt2YXIgbz1uW2VdO2lmKCFvfHwhcylyZXR1cm4gbztmb3IodmFyIHIgaW4gbylpZigocj1vW3JdKS5maXh0dXJlS2V5PT09cylyZXR1cm4gcjtjb25zb2xlLndhcm4oJ1BoYXNlci5DYWNoZS5nZXRQaHlzaWNzRGF0YTogQ291bGQgbm90IGZpbmQgZ2l2ZW4gZml4dHVyZUtleTogXCInK3MrXCIgaW4gXCIrdCsnXCInKX1lbHNlIGNvbnNvbGUud2FybignUGhhc2VyLkNhY2hlLmdldFBoeXNpY3NEYXRhOiBJbnZhbGlkIGtleS9vYmplY3Q6IFwiJyt0K1wiIC8gXCIrZSsnXCInKTtyZXR1cm4gbnVsbH0sZ2V0VGlsZW1hcERhdGE6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZ2V0SXRlbSh0LGkuQ2FjaGUuVElMRU1BUCxcImdldFRpbGVtYXBEYXRhXCIpfSxnZXRCaW5hcnk6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZ2V0SXRlbSh0LGkuQ2FjaGUuQklOQVJZLFwiZ2V0QmluYXJ5XCIpfSxnZXRCaXRtYXBEYXRhOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmdldEl0ZW0odCxpLkNhY2hlLkJJVE1BUERBVEEsXCJnZXRCaXRtYXBEYXRhXCIsXCJkYXRhXCIpfSxnZXRCaXRtYXBGb250OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmdldEl0ZW0odCxpLkNhY2hlLkJJVE1BUEZPTlQsXCJnZXRCaXRtYXBGb250XCIpfSxnZXRKU09OOmZ1bmN0aW9uKHQsZSl7dmFyIHM9dGhpcy5nZXRJdGVtKHQsaS5DYWNoZS5KU09OLFwiZ2V0SlNPTlwiLFwiZGF0YVwiKTtyZXR1cm4gcz9lP2kuVXRpbHMuZXh0ZW5kKCEwLEFycmF5LmlzQXJyYXkocyk/W106e30scyk6czpudWxsfSxnZXRYTUw6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZ2V0SXRlbSh0LGkuQ2FjaGUuWE1MLFwiZ2V0WE1MXCIsXCJkYXRhXCIpfSxnZXRWaWRlbzpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5nZXRJdGVtKHQsaS5DYWNoZS5WSURFTyxcImdldFZpZGVvXCIpfSxnZXRTaGFkZXI6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZ2V0SXRlbSh0LGkuQ2FjaGUuU0hBREVSLFwiZ2V0U2hhZGVyXCIsXCJkYXRhXCIpfSxnZXRSZW5kZXJUZXh0dXJlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmdldEl0ZW0odCxpLkNhY2hlLlJFTkRFUl9URVhUVVJFLFwiZ2V0UmVuZGVyVGV4dHVyZVwiKX0sZ2V0QmFzZVRleHR1cmU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9aS5DYWNoZS5JTUFHRSksdGhpcy5nZXRJdGVtKHQsZSxcImdldEJhc2VUZXh0dXJlXCIsXCJiYXNlXCIpfSxnZXRGcmFtZTpmdW5jdGlvbih0LGUpe3JldHVybiB2b2lkIDA9PT1lJiYoZT1pLkNhY2hlLklNQUdFKSx0aGlzLmdldEl0ZW0odCxlLFwiZ2V0RnJhbWVcIixcImZyYW1lXCIpfSxnZXRGcmFtZUNvdW50OmZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5nZXRGcmFtZURhdGEodCxlKTtyZXR1cm4gaT9pLnRvdGFsOjB9LGdldEZyYW1lRGF0YTpmdW5jdGlvbih0LGUpe3JldHVybiB2b2lkIDA9PT1lJiYoZT1pLkNhY2hlLklNQUdFKSx0aGlzLmdldEl0ZW0odCxlLFwiZ2V0RnJhbWVEYXRhXCIsXCJmcmFtZURhdGFcIil9LGhhc0ZyYW1lRGF0YTpmdW5jdGlvbih0LGUpe3JldHVybiB2b2lkIDA9PT1lJiYoZT1pLkNhY2hlLklNQUdFKSxudWxsIT09dGhpcy5nZXRJdGVtKHQsZSxcIlwiLFwiZnJhbWVEYXRhXCIpfSx1cGRhdGVGcmFtZURhdGE6ZnVuY3Rpb24odCxlLHMpe3ZvaWQgMD09PXMmJihzPWkuQ2FjaGUuSU1BR0UpLHRoaXMuX2NhY2hlTWFwW3NdW3RdJiYodGhpcy5fY2FjaGVNYXBbc11bdF0uZnJhbWVEYXRhPWUpfSxnZXRGcmFtZUJ5SW5kZXg6ZnVuY3Rpb24odCxlLGkpe3ZhciBzPXRoaXMuZ2V0RnJhbWVEYXRhKHQsaSk7cmV0dXJuIHM/cy5nZXRGcmFtZShlKTpudWxsfSxnZXRGcmFtZUJ5TmFtZTpmdW5jdGlvbih0LGUsaSl7dmFyIHM9dGhpcy5nZXRGcmFtZURhdGEodCxpKTtyZXR1cm4gcz9zLmdldEZyYW1lQnlOYW1lKGUpOm51bGx9LGdldFVSTDpmdW5jdGlvbih0KXtyZXR1cm4odD10aGlzLl9yZXNvbHZlVVJMKHQpKT90aGlzLl91cmxNYXBbdF06KGNvbnNvbGUud2FybignUGhhc2VyLkNhY2hlLmdldFVybDogSW52YWxpZCB1cmw6IFwiJyt0KydcIiBvciBDYWNoZS5hdXRvUmVzb2x2ZVVSTCB3YXMgZmFsc2UnKSxudWxsKX0sZ2V0S2V5czpmdW5jdGlvbih0KXt2b2lkIDA9PT10JiYodD1pLkNhY2hlLklNQUdFKTt2YXIgZT1bXTtpZih0aGlzLl9jYWNoZU1hcFt0XSlmb3IodmFyIHMgaW4gdGhpcy5fY2FjaGVNYXBbdF0pXCJfX2RlZmF1bHRcIiE9PXMmJlwiX19taXNzaW5nXCIhPT1zJiZlLnB1c2gocyk7cmV0dXJuIGV9LHJlbW92ZUNhbnZhczpmdW5jdGlvbih0KXtkZWxldGUgdGhpcy5fY2FjaGUuY2FudmFzW3RdfSxyZW1vdmVJbWFnZTpmdW5jdGlvbih0LGUpe3ZvaWQgMD09PWUmJihlPSEwKTt2YXIgaT10aGlzLmdldEltYWdlKHQsITApO2UmJmkuYmFzZSYmaS5iYXNlLmRlc3Ryb3koKSxkZWxldGUgdGhpcy5fY2FjaGUuaW1hZ2VbdF19LHJlbW92ZVNvdW5kOmZ1bmN0aW9uKHQpe2RlbGV0ZSB0aGlzLl9jYWNoZS5zb3VuZFt0XX0scmVtb3ZlVGV4dDpmdW5jdGlvbih0KXtkZWxldGUgdGhpcy5fY2FjaGUudGV4dFt0XX0scmVtb3ZlUGh5c2ljczpmdW5jdGlvbih0KXtkZWxldGUgdGhpcy5fY2FjaGUucGh5c2ljc1t0XX0scmVtb3ZlVGlsZW1hcDpmdW5jdGlvbih0KXtkZWxldGUgdGhpcy5fY2FjaGUudGlsZW1hcFt0XX0scmVtb3ZlQmluYXJ5OmZ1bmN0aW9uKHQpe2RlbGV0ZSB0aGlzLl9jYWNoZS5iaW5hcnlbdF19LHJlbW92ZUJpdG1hcERhdGE6ZnVuY3Rpb24odCl7ZGVsZXRlIHRoaXMuX2NhY2hlLmJpdG1hcERhdGFbdF19LHJlbW92ZUJpdG1hcEZvbnQ6ZnVuY3Rpb24odCl7ZGVsZXRlIHRoaXMuX2NhY2hlLmJpdG1hcEZvbnRbdF19LHJlbW92ZUpTT046ZnVuY3Rpb24odCl7ZGVsZXRlIHRoaXMuX2NhY2hlLmpzb25bdF19LHJlbW92ZVhNTDpmdW5jdGlvbih0KXtkZWxldGUgdGhpcy5fY2FjaGUueG1sW3RdfSxyZW1vdmVWaWRlbzpmdW5jdGlvbih0KXtkZWxldGUgdGhpcy5fY2FjaGUudmlkZW9bdF19LHJlbW92ZVNoYWRlcjpmdW5jdGlvbih0KXtkZWxldGUgdGhpcy5fY2FjaGUuc2hhZGVyW3RdfSxyZW1vdmVSZW5kZXJUZXh0dXJlOmZ1bmN0aW9uKHQpe2RlbGV0ZSB0aGlzLl9jYWNoZS5yZW5kZXJUZXh0dXJlW3RdfSxyZW1vdmVTcHJpdGVTaGVldDpmdW5jdGlvbih0KXtkZWxldGUgdGhpcy5fY2FjaGUuc3ByaXRlU2hlZXRbdF19LHJlbW92ZVRleHR1cmVBdGxhczpmdW5jdGlvbih0KXtkZWxldGUgdGhpcy5fY2FjaGUuaW1hZ2VbdF19LGNsZWFyR0xUZXh0dXJlczpmdW5jdGlvbigpe2Zvcih2YXIgdCBpbiB0aGlzLl9jYWNoZS5pbWFnZSl0aGlzLl9jYWNoZS5pbWFnZVt0XS5iYXNlLl9nbFRleHR1cmVzPVtdfSxfcmVzb2x2ZVVSTDpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmF1dG9SZXNvbHZlVVJMPyh0aGlzLl91cmxSZXNvbHZlci5zcmM9dGhpcy5nYW1lLmxvYWQuYmFzZVVSTCt0LHRoaXMuX3VybFRlbXA9dGhpcy5fdXJsUmVzb2x2ZXIuc3JjLHRoaXMuX3VybFJlc29sdmVyLnNyYz1cIlwiLGUmJih0aGlzLl91cmxNYXBbdGhpcy5fdXJsVGVtcF09ZSksdGhpcy5fdXJsVGVtcCk6bnVsbH0sZGVzdHJveTpmdW5jdGlvbigpe2Zvcih2YXIgdD0wO3Q8dGhpcy5fY2FjaGVNYXAubGVuZ3RoO3QrKyl7dmFyIGU9dGhpcy5fY2FjaGVNYXBbdF07Zm9yKHZhciBpIGluIGUpXCJfX2RlZmF1bHRcIiE9PWkmJlwiX19taXNzaW5nXCIhPT1pJiYodGhpcy5kZXN0cm95SXRlbShlW2ldKSxkZWxldGUgZVtpXSl9dGhpcy5fdXJsTWFwPW51bGwsdGhpcy5fdXJsUmVzb2x2ZXI9bnVsbCx0aGlzLl91cmxUZW1wPW51bGx9LGRlc3Ryb3lJdGVtOmZ1bmN0aW9uKHQpe3QuZGVzdHJveT90LmRlc3Ryb3koKToodC5iYXNlJiZ0LmJhc2UuZGVzdHJveSYmdC5iYXNlLmRlc3Ryb3koKSx0LmRhdGEmJnQuZGF0YS5kZXN0cm95JiZ0LmRhdGEuZGVzdHJveSgpLHQuZnJhbWVEYXRhJiZ0LmZyYW1lRGF0YS5kZXN0cm95JiZ0LmZyYW1lRGF0YS5kZXN0cm95KCksdC50ZXh0dXJlJiZ0LnRleHR1cmUuZGVzdHJveSYmdC50ZXh0dXJlLmRlc3Ryb3koITApKX0sX2FkZEltYWdlczpmdW5jdGlvbigpe3RoaXMuX3BlbmRpbmdDb3VudD0wLHRoaXMuYWRkRGVmYXVsdEltYWdlKCksdGhpcy5hZGRNaXNzaW5nSW1hZ2UoKTt2YXIgdD10aGlzLGU9aS5DYWNoZS5SRUFEWV9USU1FT1VUO2kuQ2FjaGUuUkVBRFlfVElNRU9VVD4wP3NldFRpbWVvdXQoZnVuY3Rpb24oKXt0LmlzUmVhZHl8fChjb25zb2xlLndhcm4oXCJQaGFzZXIuQ2FjaGU6IFN0aWxsIHdhaXRpbmcgZm9yIGltYWdlcyBhZnRlciAlcyBtcy5cIixlKSx0Ll9yZWFkeSgpKX0saS5DYWNoZS5SRUFEWV9USU1FT1VUKTp0aGlzLl9yZWFkeSgpfSxfYWRkUGVuZGluZzpmdW5jdGlvbigpe3RoaXMuX3BlbmRpbmdDb3VudCs9MX0sX3JlbW92ZVBlbmRpbmc6ZnVuY3Rpb24oKXt0aGlzLl9wZW5kaW5nQ291bnQtPTEsdGhpcy5fY2hlY2tSZWFkeSgpfSxfY2hlY2tSZWFkeTpmdW5jdGlvbigpe3RoaXMuaXNSZWFkeSYmdGhpcy5fcmVhZHkoKX0sX3JlYWR5OmZ1bmN0aW9uKCl7dGhpcy5fcGVuZGluZ0NvdW50PTAsdGhpcy5vblJlYWR5LmRpc3BhdGNoKHRoaXMpfX0saS5DYWNoZS5wcm90b3R5cGUuY29uc3RydWN0b3I9aS5DYWNoZSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5DYWNoZS5wcm90b3R5cGUsXCJpc1JlYWR5XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9wZW5kaW5nQ291bnQ8PTB9fSksaS5Mb2FkZXI9ZnVuY3Rpb24odCl7dGhpcy5nYW1lPXQsdGhpcy5jYWNoZT10LmNhY2hlLHRoaXMucmVzZXRMb2NrZWQ9ITEsdGhpcy5pc0xvYWRpbmc9ITEsdGhpcy5oYXNMb2FkZWQ9ITEsdGhpcy5wcmVsb2FkU3ByaXRlPW51bGwsdGhpcy5jcm9zc09yaWdpbj0hMSx0aGlzLmJhc2VVUkw9XCJcIix0aGlzLnBhdGg9XCJcIix0aGlzLmhlYWRlcnM9e3JlcXVlc3RlZFdpdGg6ITEsanNvbjpcImFwcGxpY2F0aW9uL2pzb25cIix4bWw6XCJhcHBsaWNhdGlvbi94bWxcIn0sdGhpcy5vbkxvYWRTdGFydD1uZXcgaS5TaWduYWwsdGhpcy5vbkxvYWRDb21wbGV0ZT1uZXcgaS5TaWduYWwsdGhpcy5vblBhY2tDb21wbGV0ZT1uZXcgaS5TaWduYWwsdGhpcy5vbkZpbGVTdGFydD1uZXcgaS5TaWduYWwsdGhpcy5vbkZpbGVDb21wbGV0ZT1uZXcgaS5TaWduYWwsdGhpcy5vbkZpbGVFcnJvcj1uZXcgaS5TaWduYWwsdGhpcy51c2VYRG9tYWluUmVxdWVzdD0hMSx0aGlzLl93YXJuZWRBYm91dFhEb21haW5SZXF1ZXN0PSExLHRoaXMuZW5hYmxlUGFyYWxsZWw9ITAsdGhpcy5tYXhQYXJhbGxlbERvd25sb2Fkcz00LHRoaXMuX3dpdGhTeW5jUG9pbnREZXB0aD0wLHRoaXMuX2ZpbGVMaXN0PVtdLHRoaXMuX2ZsaWdodFF1ZXVlPVtdLHRoaXMuX3Byb2Nlc3NpbmdIZWFkPTAsdGhpcy5fZmlsZUxvYWRTdGFydGVkPSExLHRoaXMuX3RvdGFsUGFja0NvdW50PTAsdGhpcy5fdG90YWxGaWxlQ291bnQ9MCx0aGlzLl9sb2FkZWRQYWNrQ291bnQ9MCx0aGlzLl9sb2FkZWRGaWxlQ291bnQ9MH0saS5Mb2FkZXIuVEVYVFVSRV9BVExBU19KU09OX0FSUkFZPTAsaS5Mb2FkZXIuVEVYVFVSRV9BVExBU19KU09OX0hBU0g9MSxpLkxvYWRlci5URVhUVVJFX0FUTEFTX1hNTF9TVEFSTElORz0yLGkuTG9hZGVyLlBIWVNJQ1NfTElNRV9DT1JPTkFfSlNPTj0zLGkuTG9hZGVyLlBIWVNJQ1NfUEhBU0VSX0pTT049NCxpLkxvYWRlci5URVhUVVJFX0FUTEFTX0pTT05fUFlYRUw9NSxpLkxvYWRlci5wcm90b3R5cGU9e3NldFByZWxvYWRTcHJpdGU6ZnVuY3Rpb24odCxlKXtlPWV8fDAsdGhpcy5wcmVsb2FkU3ByaXRlPXtzcHJpdGU6dCxkaXJlY3Rpb246ZSx3aWR0aDp0LndpZHRoLGhlaWdodDp0LmhlaWdodCxyZWN0Om51bGx9LHRoaXMucHJlbG9hZFNwcml0ZS5yZWN0PTA9PT1lP25ldyBpLlJlY3RhbmdsZSgwLDAsMSx0LmhlaWdodCk6bmV3IGkuUmVjdGFuZ2xlKDAsMCx0LndpZHRoLDEpLHQuY3JvcCh0aGlzLnByZWxvYWRTcHJpdGUucmVjdCksdC52aXNpYmxlPSEwfSxyZXNpemU6ZnVuY3Rpb24oKXt0aGlzLnByZWxvYWRTcHJpdGUmJnRoaXMucHJlbG9hZFNwcml0ZS5oZWlnaHQhPT10aGlzLnByZWxvYWRTcHJpdGUuc3ByaXRlLmhlaWdodCYmKHRoaXMucHJlbG9hZFNwcml0ZS5yZWN0LmhlaWdodD10aGlzLnByZWxvYWRTcHJpdGUuc3ByaXRlLmhlaWdodCl9LGNoZWNrS2V5RXhpc3RzOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuZ2V0QXNzZXRJbmRleCh0LGUpPi0xfSxnZXRBc3NldEluZGV4OmZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBpPS0xLHM9MDtzPHRoaXMuX2ZpbGVMaXN0Lmxlbmd0aDtzKyspe3ZhciBuPXRoaXMuX2ZpbGVMaXN0W3NdO2lmKG4udHlwZT09PXQmJm4ua2V5PT09ZSYmKGk9cywhbi5sb2FkZWQmJiFuLmxvYWRpbmcpKWJyZWFrfXJldHVybiBpfSxnZXRBc3NldDpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuZ2V0QXNzZXRJbmRleCh0LGUpO3JldHVybiBpPi0xJiZ7aW5kZXg6aSxmaWxlOnRoaXMuX2ZpbGVMaXN0W2ldfX0scmVzZXQ6ZnVuY3Rpb24odCxlKXt2b2lkIDA9PT1lJiYoZT0hMSksdGhpcy5yZXNldExvY2tlZHx8KHQmJih0aGlzLnByZWxvYWRTcHJpdGU9bnVsbCksdGhpcy5pc0xvYWRpbmc9ITEsdGhpcy5fcHJvY2Vzc2luZ0hlYWQ9MCx0aGlzLl9maWxlTGlzdC5sZW5ndGg9MCx0aGlzLl9mbGlnaHRRdWV1ZS5sZW5ndGg9MCx0aGlzLl9maWxlTG9hZFN0YXJ0ZWQ9ITEsdGhpcy5fdG90YWxGaWxlQ291bnQ9MCx0aGlzLl90b3RhbFBhY2tDb3VudD0wLHRoaXMuX2xvYWRlZFBhY2tDb3VudD0wLHRoaXMuX2xvYWRlZEZpbGVDb3VudD0wLGUmJih0aGlzLm9uTG9hZFN0YXJ0LnJlbW92ZUFsbCgpLHRoaXMub25Mb2FkQ29tcGxldGUucmVtb3ZlQWxsKCksdGhpcy5vblBhY2tDb21wbGV0ZS5yZW1vdmVBbGwoKSx0aGlzLm9uRmlsZVN0YXJ0LnJlbW92ZUFsbCgpLHRoaXMub25GaWxlQ29tcGxldGUucmVtb3ZlQWxsKCksdGhpcy5vbkZpbGVFcnJvci5yZW1vdmVBbGwoKSkpfSxhZGRUb0ZpbGVMaXN0OmZ1bmN0aW9uKHQsZSxpLHMsbixvKXtpZih2b2lkIDA9PT1uJiYobj0hMSksdm9pZCAwPT09ZXx8XCJcIj09PWUpcmV0dXJuIGNvbnNvbGUud2FybihcIlBoYXNlci5Mb2FkZXI6IEludmFsaWQgb3Igbm8ga2V5IGdpdmVuIG9mIHR5cGUgXCIrdCksdGhpcztpZih2b2lkIDA9PT1pfHxudWxsPT09aSl7aWYoIW8pcmV0dXJuIGNvbnNvbGUud2FybihcIlBoYXNlci5Mb2FkZXI6IE5vIFVSTCBnaXZlbiBmb3IgZmlsZSB0eXBlOiBcIit0K1wiIGtleTogXCIrZSksdGhpcztpPWUrb312YXIgcj17dHlwZTp0LGtleTplLHBhdGg6dGhpcy5wYXRoLHVybDppLHN5bmNQb2ludDp0aGlzLl93aXRoU3luY1BvaW50RGVwdGg+MCxkYXRhOm51bGwsbG9hZGluZzohMSxsb2FkZWQ6ITEsZXJyb3I6ITF9O2lmKHMpZm9yKHZhciBhIGluIHMpclthXT1zW2FdO3ZhciBoPXRoaXMuZ2V0QXNzZXRJbmRleCh0LGUpO2lmKG4mJmg+LTEpe3ZhciBsPXRoaXMuX2ZpbGVMaXN0W2hdO2wubG9hZGluZ3x8bC5sb2FkZWQ/KHRoaXMuX2ZpbGVMaXN0LnB1c2gociksdGhpcy5fdG90YWxGaWxlQ291bnQrKyk6dGhpcy5fZmlsZUxpc3RbaF09cn1lbHNlLTE9PT1oJiYodGhpcy5fZmlsZUxpc3QucHVzaChyKSx0aGlzLl90b3RhbEZpbGVDb3VudCsrKTtyZXR1cm4gdGhpc30scmVwbGFjZUluRmlsZUxpc3Q6ZnVuY3Rpb24odCxlLGkscyl7cmV0dXJuIHRoaXMuYWRkVG9GaWxlTGlzdCh0LGUsaSxzLCEwKX0scGFjazpmdW5jdGlvbih0LGUsaSxzKXtpZih2b2lkIDA9PT1lJiYoZT1udWxsKSx2b2lkIDA9PT1pJiYoaT1udWxsKSx2b2lkIDA9PT1zJiYocz1udWxsKSwhZSYmIWkpcmV0dXJuIGNvbnNvbGUud2FybihcIlBoYXNlci5Mb2FkZXIucGFjayAtIEJvdGggdXJsIGFuZCBkYXRhIGFyZSBudWxsLiBPbmUgbXVzdCBiZSBzZXQuXCIpLHRoaXM7dmFyIG49e3R5cGU6XCJwYWNrZmlsZVwiLGtleTp0LHVybDplLHBhdGg6dGhpcy5wYXRoLHN5bmNQb2ludDohMCxkYXRhOm51bGwsbG9hZGluZzohMSxsb2FkZWQ6ITEsZXJyb3I6ITEsY2FsbGJhY2tDb250ZXh0OnN9O2kmJihcInN0cmluZ1wiPT10eXBlb2YgaSYmKGk9SlNPTi5wYXJzZShpKSksbi5kYXRhPWl8fHt9LG4ubG9hZGVkPSEwKTtmb3IodmFyIG89MDtvPHRoaXMuX2ZpbGVMaXN0Lmxlbmd0aCsxO28rKyl7dmFyIHI9dGhpcy5fZmlsZUxpc3Rbb107aWYoIXJ8fCFyLmxvYWRlZCYmIXIubG9hZGluZyYmXCJwYWNrZmlsZVwiIT09ci50eXBlKXt0aGlzLl9maWxlTGlzdC5zcGxpY2UobywwLG4pLHRoaXMuX3RvdGFsUGFja0NvdW50Kys7YnJlYWt9fXJldHVybiB0aGlzfSxpbWFnZTpmdW5jdGlvbih0LGUsaSl7cmV0dXJuXCJvYmplY3RcIj09dHlwZW9mIGU/dGhpcy50ZXh0dXJlKHQsZSxpKTp0aGlzLmFkZFRvRmlsZUxpc3QoXCJpbWFnZVwiLHQsZSx2b2lkIDAsaSxcIi5wbmdcIil9LGltYWdlRnJvbUJpdG1hcERhdGE6ZnVuY3Rpb24odCxlLGkpe3JldHVybiB0aGlzLmltYWdlKHQsZS5jYW52YXMudG9EYXRhVVJMKFwiaW1hZ2UvcG5nXCIpLGkpfSxpbWFnZUZyb21HcmlkOmZ1bmN0aW9uKHQsZSxpLHMsbixvKXtyZXR1cm4gdGhpcy5pbWFnZUZyb21CaXRtYXBEYXRhKHQsdGhpcy5nYW1lLmNyZWF0ZS5ncmlkKHQsZSxpLHMsbixvLCExKSl9LGltYWdlRnJvbVRleHR1cmU6ZnVuY3Rpb24odCxlLGkscyxuKXtyZXR1cm4gdGhpcy5pbWFnZUZyb21CaXRtYXBEYXRhKHQsdGhpcy5nYW1lLmNyZWF0ZS50ZXh0dXJlKHQsZSxpLHMsbiwhMSkpfSx0ZXh0dXJlOmZ1bmN0aW9uKHQsZSxzKXtpZih0aGlzLmdhbWUucmVuZGVyVHlwZT09PWkuV0VCR0wpe3ZhciBuLG89dGhpcy5nYW1lLnJlbmRlcmVyLmV4dGVuc2lvbnMuY29tcHJlc3Npb247Zm9yKG4gaW4gZSlpZihuLnRvVXBwZXJDYXNlKClpbiBvKXJldHVybiB0aGlzLmFkZFRvRmlsZUxpc3QoXCJ0ZXh0dXJlXCIsdCxlW25dLHZvaWQgMCxzLFwiLnB2clwiKX1yZXR1cm4gZS50cnVlY29sb3ImJnRoaXMuYWRkVG9GaWxlTGlzdChcImltYWdlXCIsdCxlLnRydWVjb2xvcix2b2lkIDAscyxcIi5wbmdcIiksdGhpc30saW1hZ2VzOmZ1bmN0aW9uKHQsZSl7aWYoQXJyYXkuaXNBcnJheShlKSlmb3IoaT0wO2k8dC5sZW5ndGg7aSsrKXRoaXMuaW1hZ2UodFtpXSxlW2ldKTtlbHNlIGZvcih2YXIgaT0wO2k8dC5sZW5ndGg7aSsrKXRoaXMuaW1hZ2UodFtpXSk7cmV0dXJuIHRoaXN9LHRleHQ6ZnVuY3Rpb24odCxlLGkpe3JldHVybiB0aGlzLmFkZFRvRmlsZUxpc3QoXCJ0ZXh0XCIsdCxlLHZvaWQgMCxpLFwiLnR4dFwiKX0sanNvbjpmdW5jdGlvbih0LGUsaSl7cmV0dXJuIHRoaXMuYWRkVG9GaWxlTGlzdChcImpzb25cIix0LGUsdm9pZCAwLGksXCIuanNvblwiKX0sc2hhZGVyOmZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gdGhpcy5hZGRUb0ZpbGVMaXN0KFwic2hhZGVyXCIsdCxlLHZvaWQgMCxpLFwiLmZyYWdcIil9LHhtbDpmdW5jdGlvbih0LGUsaSl7cmV0dXJuIHRoaXMuYWRkVG9GaWxlTGlzdChcInhtbFwiLHQsZSx2b2lkIDAsaSxcIi54bWxcIil9LHNjcmlwdDpmdW5jdGlvbih0LGUsaSxzKXtyZXR1cm4gdm9pZCAwPT09aSYmKGk9ITEpLCExIT09aSYmdm9pZCAwPT09cyYmKHM9dGhpcyksdGhpcy5hZGRUb0ZpbGVMaXN0KFwic2NyaXB0XCIsdCxlLHtzeW5jUG9pbnQ6ITAsY2FsbGJhY2s6aSxjYWxsYmFja0NvbnRleHQ6c30sITEsXCIuanNcIil9LGJpbmFyeTpmdW5jdGlvbih0LGUsaSxzKXtyZXR1cm4gdm9pZCAwPT09aSYmKGk9ITEpLCExIT09aSYmdm9pZCAwPT09cyYmKHM9aSksdGhpcy5hZGRUb0ZpbGVMaXN0KFwiYmluYXJ5XCIsdCxlLHtjYWxsYmFjazppLGNhbGxiYWNrQ29udGV4dDpzfSwhMSxcIi5iaW5cIil9LHNwcml0ZXNoZWV0OmZ1bmN0aW9uKHQsZSxpLHMsbixvLHIsYSl7cmV0dXJuIHZvaWQgMD09PW4mJihuPS0xKSx2b2lkIDA9PT1vJiYobz0wKSx2b2lkIDA9PT1yJiYocj0wKSx2b2lkIDA9PT1hJiYoYT0wKSx0aGlzLmFkZFRvRmlsZUxpc3QoXCJzcHJpdGVzaGVldFwiLHQsZSx7ZnJhbWVXaWR0aDppLGZyYW1lSGVpZ2h0OnMsZnJhbWVNYXg6bixtYXJnaW46byxzcGFjaW5nOnIsc2tpcEZyYW1lczphfSwhMSxcIi5wbmdcIil9LGF1ZGlvOmZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gdGhpcy5nYW1lLnNvdW5kLm5vQXVkaW8/dGhpczoodm9pZCAwPT09aSYmKGk9ITApLFwic3RyaW5nXCI9PXR5cGVvZiBlJiYoZT1bZV0pLHRoaXMuYWRkVG9GaWxlTGlzdChcImF1ZGlvXCIsdCxlLHtidWZmZXI6bnVsbCxhdXRvRGVjb2RlOml9KSl9LGF1ZGlvU3ByaXRlOmZ1bmN0aW9uKHQsZSxpLHMsbil7cmV0dXJuIHRoaXMuZ2FtZS5zb3VuZC5ub0F1ZGlvP3RoaXM6KHZvaWQgMD09PWkmJihpPW51bGwpLHZvaWQgMD09PXMmJihzPW51bGwpLHZvaWQgMD09PW4mJihuPSEwKSx0aGlzLmF1ZGlvKHQsZSxuKSxpP3RoaXMuanNvbih0K1wiLWF1ZGlvYXRsYXNcIixpKTpzPyhcInN0cmluZ1wiPT10eXBlb2YgcyYmKHM9SlNPTi5wYXJzZShzKSksdGhpcy5jYWNoZS5hZGRKU09OKHQrXCItYXVkaW9hdGxhc1wiLFwiXCIscykpOmNvbnNvbGUud2FybihcIlBoYXNlci5Mb2FkZXIuYXVkaW9zcHJpdGUgLSBZb3UgbXVzdCBzcGVjaWZ5IGVpdGhlciBhIGpzb25VUkwgb3IgcHJvdmlkZSBhIGpzb25EYXRhIG9iamVjdFwiKSx0aGlzKX0sYXVkaW9zcHJpdGU6ZnVuY3Rpb24odCxlLGkscyxuKXtyZXR1cm4gdGhpcy5hdWRpb1Nwcml0ZSh0LGUsaSxzLG4pfSx2aWRlbzpmdW5jdGlvbih0LGUsaSxzKXtyZXR1cm4gdm9pZCAwPT09aSYmKGk9dGhpcy5nYW1lLmRldmljZS5maXJlZm94P1wibG9hZGVkZGF0YVwiOlwiY2FucGxheXRocm91Z2hcIiksdm9pZCAwPT09cyYmKHM9ITEpLFwic3RyaW5nXCI9PXR5cGVvZiBlJiYoZT1bZV0pLHRoaXMuYWRkVG9GaWxlTGlzdChcInZpZGVvXCIsdCxlLHtidWZmZXI6bnVsbCxhc0Jsb2I6cyxsb2FkRXZlbnQ6aX0pfSx0aWxlbWFwOmZ1bmN0aW9uKHQsZSxzLG4pe2lmKHZvaWQgMD09PWUmJihlPW51bGwpLHZvaWQgMD09PXMmJihzPW51bGwpLHZvaWQgMD09PW4mJihuPWkuVGlsZW1hcC5DU1YpLGV8fHN8fChlPW49PT1pLlRpbGVtYXAuQ1NWP3QrXCIuY3N2XCI6dCtcIi5qc29uXCIpLHMpe3N3aXRjaChuKXtjYXNlIGkuVGlsZW1hcC5DU1Y6YnJlYWs7Y2FzZSBpLlRpbGVtYXAuVElMRURfSlNPTjpcInN0cmluZ1wiPT10eXBlb2YgcyYmKHM9SlNPTi5wYXJzZShzKSl9dGhpcy5jYWNoZS5hZGRUaWxlbWFwKHQsbnVsbCxzLG4pfWVsc2UgdGhpcy5hZGRUb0ZpbGVMaXN0KFwidGlsZW1hcFwiLHQsZSx7Zm9ybWF0Om59KTtyZXR1cm4gdGhpc30scGh5c2ljczpmdW5jdGlvbih0LGUscyxuKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9bnVsbCksdm9pZCAwPT09cyYmKHM9bnVsbCksdm9pZCAwPT09biYmKG49aS5QaHlzaWNzLkxJTUVfQ09ST05BX0pTT04pLGV8fHN8fChlPXQrXCIuanNvblwiKSxzPyhcInN0cmluZ1wiPT10eXBlb2YgcyYmKHM9SlNPTi5wYXJzZShzKSksdGhpcy5jYWNoZS5hZGRQaHlzaWNzRGF0YSh0LG51bGwscyxuKSk6dGhpcy5hZGRUb0ZpbGVMaXN0KFwicGh5c2ljc1wiLHQsZSx7Zm9ybWF0Om59KSx0aGlzfSxiaXRtYXBGb250OmZ1bmN0aW9uKHQsZSxpLHMsbixvKXtpZih2b2lkIDAhPT1lJiZudWxsIT09ZXx8KGU9dCtcIi5wbmdcIiksdm9pZCAwPT09aSYmKGk9bnVsbCksdm9pZCAwPT09cyYmKHM9bnVsbCksbnVsbD09PWkmJm51bGw9PT1zJiYoaT10K1wiLnhtbFwiKSx2b2lkIDA9PT1uJiYobj0wKSx2b2lkIDA9PT1vJiYobz0wKSxpKXRoaXMuYWRkVG9GaWxlTGlzdChcImJpdG1hcGZvbnRcIix0LGUse2F0bGFzVVJMOmkseFNwYWNpbmc6bix5U3BhY2luZzpvfSk7ZWxzZSBpZihcInN0cmluZ1wiPT10eXBlb2Ygcyl7dmFyIHIsYTt0cnl7cj1KU09OLnBhcnNlKHMpfWNhdGNoKHQpe2E9dGhpcy5wYXJzZVhtbChzKX1pZighYSYmIXIpdGhyb3cgbmV3IEVycm9yKFwiUGhhc2VyLkxvYWRlci4gSW52YWxpZCBCaXRtYXAgRm9udCBhdGxhcyBnaXZlblwiKTt0aGlzLmFkZFRvRmlsZUxpc3QoXCJiaXRtYXBmb250XCIsdCxlLHthdGxhc1VSTDpudWxsLGF0bGFzRGF0YTpyfHxhLGF0bGFzVHlwZTpyP1wianNvblwiOlwieG1sXCIseFNwYWNpbmc6bix5U3BhY2luZzpvfSl9cmV0dXJuIHRoaXN9LGF0bGFzSlNPTkFycmF5OmZ1bmN0aW9uKHQsZSxzLG4pe3JldHVybiB0aGlzLmF0bGFzKHQsZSxzLG4saS5Mb2FkZXIuVEVYVFVSRV9BVExBU19KU09OX0FSUkFZKX0sYXRsYXNKU09OSGFzaDpmdW5jdGlvbih0LGUscyxuKXtyZXR1cm4gdGhpcy5hdGxhcyh0LGUscyxuLGkuTG9hZGVyLlRFWFRVUkVfQVRMQVNfSlNPTl9IQVNIKX0sYXRsYXNYTUw6ZnVuY3Rpb24odCxlLHMsbil7cmV0dXJuIHZvaWQgMD09PXMmJihzPW51bGwpLHZvaWQgMD09PW4mJihuPW51bGwpLHN8fG58fChzPXQrXCIueG1sXCIpLHRoaXMuYXRsYXModCxlLHMsbixpLkxvYWRlci5URVhUVVJFX0FUTEFTX1hNTF9TVEFSTElORyl9LGF0bGFzOmZ1bmN0aW9uKHQsZSxzLG4sbyl7aWYodm9pZCAwIT09ZSYmbnVsbCE9PWV8fChlPXQrXCIucG5nXCIpLHZvaWQgMD09PXMmJihzPW51bGwpLHZvaWQgMD09PW4mJihuPW51bGwpLHZvaWQgMD09PW8mJihvPWkuTG9hZGVyLlRFWFRVUkVfQVRMQVNfSlNPTl9BUlJBWSksc3x8bnx8KHM9bz09PWkuTG9hZGVyLlRFWFRVUkVfQVRMQVNfWE1MX1NUQVJMSU5HP3QrXCIueG1sXCI6dCtcIi5qc29uXCIpLHMpdGhpcy5hZGRUb0ZpbGVMaXN0KFwidGV4dHVyZWF0bGFzXCIsdCxlLHthdGxhc1VSTDpzLGZvcm1hdDpvfSk7ZWxzZXtzd2l0Y2gobyl7Y2FzZSBpLkxvYWRlci5URVhUVVJFX0FUTEFTX0pTT05fQVJSQVk6XCJzdHJpbmdcIj09dHlwZW9mIG4mJihuPUpTT04ucGFyc2UobikpO2JyZWFrO2Nhc2UgaS5Mb2FkZXIuVEVYVFVSRV9BVExBU19YTUxfU1RBUkxJTkc6aWYoXCJzdHJpbmdcIj09dHlwZW9mIG4pe3ZhciByPXRoaXMucGFyc2VYbWwobik7aWYoIXIpdGhyb3cgbmV3IEVycm9yKFwiUGhhc2VyLkxvYWRlci4gSW52YWxpZCBUZXh0dXJlIEF0bGFzIFhNTCBnaXZlblwiKTtuPXJ9fXRoaXMuYWRkVG9GaWxlTGlzdChcInRleHR1cmVhdGxhc1wiLHQsZSx7YXRsYXNVUkw6bnVsbCxhdGxhc0RhdGE6bixmb3JtYXQ6b30pfXJldHVybiB0aGlzfSx3aXRoU3luY1BvaW50OmZ1bmN0aW9uKHQsZSl7dGhpcy5fd2l0aFN5bmNQb2ludERlcHRoKys7dHJ5e3QuY2FsbChlfHx0aGlzLHRoaXMpfWZpbmFsbHl7dGhpcy5fd2l0aFN5bmNQb2ludERlcHRoLS19cmV0dXJuIHRoaXN9LGFkZFN5bmNQb2ludDpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuZ2V0QXNzZXQodCxlKTtyZXR1cm4gaSYmKGkuZmlsZS5zeW5jUG9pbnQ9ITApLHRoaXN9LHJlbW92ZUZpbGU6ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLmdldEFzc2V0KHQsZSk7aSYmKGkubG9hZGVkfHxpLmxvYWRpbmd8fHRoaXMuX2ZpbGVMaXN0LnNwbGljZShpLmluZGV4LDEpKX0scmVtb3ZlQWxsOmZ1bmN0aW9uKCl7dGhpcy5fZmlsZUxpc3QubGVuZ3RoPTAsdGhpcy5fZmxpZ2h0UXVldWUubGVuZ3RoPTB9LHN0YXJ0OmZ1bmN0aW9uKCl7dGhpcy5pc0xvYWRpbmd8fCh0aGlzLmhhc0xvYWRlZD0hMSx0aGlzLmlzTG9hZGluZz0hMCx0aGlzLnVwZGF0ZVByb2dyZXNzKCksdGhpcy5wcm9jZXNzTG9hZFF1ZXVlKCkpfSxwcm9jZXNzTG9hZFF1ZXVlOmZ1bmN0aW9uKCl7aWYoIXRoaXMuaXNMb2FkaW5nKXJldHVybiBjb25zb2xlLndhcm4oXCJQaGFzZXIuTG9hZGVyIC0gYWN0aXZlIGxvYWRpbmcgY2FuY2VsZWQgLyByZXNldFwiKSx2b2lkIHRoaXMuZmluaXNoZWRMb2FkaW5nKCEwKTtmb3IoaT0wO2k8dGhpcy5fZmxpZ2h0UXVldWUubGVuZ3RoO2krKykoKHM9dGhpcy5fZmxpZ2h0UXVldWVbaV0pLmxvYWRlZHx8cy5lcnJvcikmJih0aGlzLl9mbGlnaHRRdWV1ZS5zcGxpY2UoaSwxKSxpLS0scy5sb2FkaW5nPSExLHMucmVxdWVzdFVybD1udWxsLHMucmVxdWVzdE9iamVjdD1udWxsLHMuZXJyb3ImJnRoaXMub25GaWxlRXJyb3IuZGlzcGF0Y2gocy5rZXkscyksXCJwYWNrZmlsZVwiIT09cy50eXBlPyh0aGlzLl9sb2FkZWRGaWxlQ291bnQrKyx0aGlzLm9uRmlsZUNvbXBsZXRlLmRpc3BhdGNoKHRoaXMucHJvZ3Jlc3Mscy5rZXksIXMuZXJyb3IsdGhpcy5fbG9hZGVkRmlsZUNvdW50LHRoaXMuX3RvdGFsRmlsZUNvdW50KSk6XCJwYWNrZmlsZVwiPT09cy50eXBlJiZzLmVycm9yJiYodGhpcy5fbG9hZGVkUGFja0NvdW50KyssdGhpcy5vblBhY2tDb21wbGV0ZS5kaXNwYXRjaChzLmtleSwhcy5lcnJvcix0aGlzLl9sb2FkZWRQYWNrQ291bnQsdGhpcy5fdG90YWxQYWNrQ291bnQpKSk7Zm9yKHZhciB0PSExLGU9dGhpcy5lbmFibGVQYXJhbGxlbD9NYXRoLm1heCgxLHRoaXMubWF4UGFyYWxsZWxEb3dubG9hZHMpOjEsaT10aGlzLl9wcm9jZXNzaW5nSGVhZDtpPHRoaXMuX2ZpbGVMaXN0Lmxlbmd0aDtpKyspe3ZhciBzPXRoaXMuX2ZpbGVMaXN0W2ldO2lmKFwicGFja2ZpbGVcIj09PXMudHlwZSYmIXMuZXJyb3ImJnMubG9hZGVkJiZpPT09dGhpcy5fcHJvY2Vzc2luZ0hlYWQmJih0aGlzLnByb2Nlc3NQYWNrKHMpLHRoaXMuX2xvYWRlZFBhY2tDb3VudCsrLHRoaXMub25QYWNrQ29tcGxldGUuZGlzcGF0Y2gocy5rZXksIXMuZXJyb3IsdGhpcy5fbG9hZGVkUGFja0NvdW50LHRoaXMuX3RvdGFsUGFja0NvdW50KSkscy5sb2FkZWR8fHMuZXJyb3I/aT09PXRoaXMuX3Byb2Nlc3NpbmdIZWFkJiYodGhpcy5fcHJvY2Vzc2luZ0hlYWQ9aSsxKTohcy5sb2FkaW5nJiZ0aGlzLl9mbGlnaHRRdWV1ZS5sZW5ndGg8ZSYmKFwicGFja2ZpbGVcIiE9PXMudHlwZXx8cy5kYXRhP3R8fCh0aGlzLl9maWxlTG9hZFN0YXJ0ZWR8fCh0aGlzLl9maWxlTG9hZFN0YXJ0ZWQ9ITAsdGhpcy5vbkxvYWRTdGFydC5kaXNwYXRjaCgpKSx0aGlzLl9mbGlnaHRRdWV1ZS5wdXNoKHMpLHMubG9hZGluZz0hMCx0aGlzLm9uRmlsZVN0YXJ0LmRpc3BhdGNoKHRoaXMucHJvZ3Jlc3Mscy5rZXkscy51cmwpLHRoaXMubG9hZEZpbGUocykpOih0aGlzLl9mbGlnaHRRdWV1ZS5wdXNoKHMpLHMubG9hZGluZz0hMCx0aGlzLmxvYWRGaWxlKHMpKSksIXMubG9hZGVkJiZzLnN5bmNQb2ludCYmKHQ9ITApLHRoaXMuX2ZsaWdodFF1ZXVlLmxlbmd0aD49ZXx8dCYmdGhpcy5fbG9hZGVkUGFja0NvdW50PT09dGhpcy5fdG90YWxQYWNrQ291bnQpYnJlYWt9aWYodGhpcy51cGRhdGVQcm9ncmVzcygpLHRoaXMuX3Byb2Nlc3NpbmdIZWFkPj10aGlzLl9maWxlTGlzdC5sZW5ndGgpdGhpcy5maW5pc2hlZExvYWRpbmcoKTtlbHNlIGlmKCF0aGlzLl9mbGlnaHRRdWV1ZS5sZW5ndGgpe2NvbnNvbGUud2FybihcIlBoYXNlci5Mb2FkZXIgLSBhYm9ydGluZzogcHJvY2Vzc2luZyBxdWV1ZSBlbXB0eSwgbG9hZGluZyBtYXkgaGF2ZSBzdGFsbGVkXCIpO3ZhciBuPXRoaXM7c2V0VGltZW91dChmdW5jdGlvbigpe24uZmluaXNoZWRMb2FkaW5nKCEwKX0sMmUzKX19LGZpbmlzaGVkTG9hZGluZzpmdW5jdGlvbih0KXt0aGlzLmhhc0xvYWRlZHx8KHRoaXMuaGFzTG9hZGVkPSEwLHRoaXMuaXNMb2FkaW5nPSExLHR8fHRoaXMuX2ZpbGVMb2FkU3RhcnRlZHx8KHRoaXMuX2ZpbGVMb2FkU3RhcnRlZD0hMCx0aGlzLm9uTG9hZFN0YXJ0LmRpc3BhdGNoKCkpLHRoaXMucmVzZXQoKSx0aGlzLm9uTG9hZENvbXBsZXRlLmRpc3BhdGNoKCksdGhpcy5nYW1lLnN0YXRlJiZ0aGlzLmdhbWUuc3RhdGUubG9hZENvbXBsZXRlKCkpfSxhc3luY0NvbXBsZXRlOmZ1bmN0aW9uKHQsZSl7dm9pZCAwPT09ZSYmKGU9XCJcIiksdC5sb2FkZWQ9ITAsdC5lcnJvcj0hIWUsZSYmKHQuZXJyb3JNZXNzYWdlPWUsY29uc29sZS53YXJuKFwiUGhhc2VyLkxvYWRlciAtIFwiK3QudHlwZStcIltcIit0LmtleStcIl06IFwiK2UpKSx0aGlzLnByb2Nlc3NMb2FkUXVldWUoKX0scHJvY2Vzc1BhY2s6ZnVuY3Rpb24odCl7dmFyIGU9dC5kYXRhW3Qua2V5XTtpZihlKWZvcih2YXIgcz0wO3M8ZS5sZW5ndGg7cysrKXt2YXIgbj1lW3NdO3N3aXRjaChuLnR5cGUpe2Nhc2VcImltYWdlXCI6dGhpcy5pbWFnZShuLmtleSxuLnVybCxuLm92ZXJ3cml0ZSk7YnJlYWs7Y2FzZVwidGV4dFwiOnRoaXMudGV4dChuLmtleSxuLnVybCxuLm92ZXJ3cml0ZSk7YnJlYWs7Y2FzZVwianNvblwiOnRoaXMuanNvbihuLmtleSxuLnVybCxuLm92ZXJ3cml0ZSk7YnJlYWs7Y2FzZVwieG1sXCI6dGhpcy54bWwobi5rZXksbi51cmwsbi5vdmVyd3JpdGUpO2JyZWFrO2Nhc2VcInNjcmlwdFwiOnRoaXMuc2NyaXB0KG4ua2V5LG4udXJsLG4uY2FsbGJhY2ssdC5jYWxsYmFja0NvbnRleHR8fHRoaXMpO2JyZWFrO2Nhc2VcImJpbmFyeVwiOnRoaXMuYmluYXJ5KG4ua2V5LG4udXJsLG4uY2FsbGJhY2ssdC5jYWxsYmFja0NvbnRleHR8fHRoaXMpO2JyZWFrO2Nhc2VcInNwcml0ZXNoZWV0XCI6dGhpcy5zcHJpdGVzaGVldChuLmtleSxuLnVybCxuLmZyYW1lV2lkdGgsbi5mcmFtZUhlaWdodCxuLmZyYW1lTWF4LG4ubWFyZ2luLG4uc3BhY2luZyxuLnNraXBGcmFtZXMpO2JyZWFrO2Nhc2VcInZpZGVvXCI6dGhpcy52aWRlbyhuLmtleSxuLnVybHMpO2JyZWFrO2Nhc2VcImF1ZGlvXCI6dGhpcy5hdWRpbyhuLmtleSxuLnVybHMsbi5hdXRvRGVjb2RlKTticmVhaztjYXNlXCJhdWRpb3Nwcml0ZVwiOnRoaXMuYXVkaW9zcHJpdGUobi5rZXksbi51cmxzLG4uanNvblVSTCxuLmpzb25EYXRhLG4uYXV0b0RlY29kZSk7YnJlYWs7Y2FzZVwidGlsZW1hcFwiOnRoaXMudGlsZW1hcChuLmtleSxuLnVybCxuLmRhdGEsaS5UaWxlbWFwW24uZm9ybWF0XSk7YnJlYWs7Y2FzZVwicGh5c2ljc1wiOnRoaXMucGh5c2ljcyhuLmtleSxuLnVybCxuLmRhdGEsaS5Mb2FkZXJbbi5mb3JtYXRdKTticmVhaztjYXNlXCJiaXRtYXBGb250XCI6dGhpcy5iaXRtYXBGb250KG4ua2V5LG4udGV4dHVyZVVSTCxuLmF0bGFzVVJMLG4uYXRsYXNEYXRhLG4ueFNwYWNpbmcsbi55U3BhY2luZyk7YnJlYWs7Y2FzZVwiYXRsYXNKU09OQXJyYXlcIjp0aGlzLmF0bGFzSlNPTkFycmF5KG4ua2V5LG4udGV4dHVyZVVSTCxuLmF0bGFzVVJMLG4uYXRsYXNEYXRhKTticmVhaztjYXNlXCJhdGxhc0pTT05IYXNoXCI6dGhpcy5hdGxhc0pTT05IYXNoKG4ua2V5LG4udGV4dHVyZVVSTCxuLmF0bGFzVVJMLG4uYXRsYXNEYXRhKTticmVhaztjYXNlXCJhdGxhc1hNTFwiOnRoaXMuYXRsYXNYTUwobi5rZXksbi50ZXh0dXJlVVJMLG4uYXRsYXNVUkwsbi5hdGxhc0RhdGEpO2JyZWFrO2Nhc2VcImF0bGFzXCI6dGhpcy5hdGxhcyhuLmtleSxuLnRleHR1cmVVUkwsbi5hdGxhc1VSTCxuLmF0bGFzRGF0YSxpLkxvYWRlcltuLmZvcm1hdF0pO2JyZWFrO2Nhc2VcInNoYWRlclwiOnRoaXMuc2hhZGVyKG4ua2V5LG4udXJsLG4ub3ZlcndyaXRlKX19ZWxzZSBjb25zb2xlLndhcm4oXCJQaGFzZXIuTG9hZGVyIC0gXCIrdC5rZXkrXCI6IHBhY2sgaGFzIGRhdGEsIGJ1dCBub3QgZm9yIHBhY2sga2V5XCIpfSx0cmFuc2Zvcm1Vcmw6ZnVuY3Rpb24odCxlKXtyZXR1cm4hIXQmJih0Lm1hdGNoKC9eKD86YmxvYjp8ZGF0YTp8aHR0cDpcXC9cXC98aHR0cHM6XFwvXFwvfFxcL1xcLykvKT90OnRoaXMuYmFzZVVSTCtlLnBhdGgrdCl9LGxvYWRGaWxlOmZ1bmN0aW9uKHQpe3N3aXRjaCh0LnR5cGUpe2Nhc2VcInBhY2tmaWxlXCI6dGhpcy54aHJMb2FkKHQsdGhpcy50cmFuc2Zvcm1VcmwodC51cmwsdCksXCJ0ZXh0XCIsdGhpcy5maWxlQ29tcGxldGUpO2JyZWFrO2Nhc2VcImltYWdlXCI6Y2FzZVwic3ByaXRlc2hlZXRcIjpjYXNlXCJ0ZXh0dXJlYXRsYXNcIjpjYXNlXCJiaXRtYXBmb250XCI6dGhpcy5sb2FkSW1hZ2VUYWcodCk7YnJlYWs7Y2FzZVwiYXVkaW9cIjp0LnVybD10aGlzLmdldEF1ZGlvVVJMKHQudXJsKSx0LnVybD90aGlzLmdhbWUuc291bmQudXNpbmdXZWJBdWRpbz90aGlzLnhockxvYWQodCx0aGlzLnRyYW5zZm9ybVVybCh0LnVybCx0KSxcImFycmF5YnVmZmVyXCIsdGhpcy5maWxlQ29tcGxldGUpOnRoaXMuZ2FtZS5zb3VuZC51c2luZ0F1ZGlvVGFnJiZ0aGlzLmxvYWRBdWRpb1RhZyh0KTp0aGlzLmZpbGVFcnJvcih0LG51bGwsXCJObyBzdXBwb3J0ZWQgYXVkaW8gVVJMIHNwZWNpZmllZCBvciBkZXZpY2UgZG9lcyBub3QgaGF2ZSBhdWRpbyBwbGF5YmFjayBzdXBwb3J0XCIpO2JyZWFrO2Nhc2VcInZpZGVvXCI6dC51cmw9dGhpcy5nZXRWaWRlb1VSTCh0LnVybCksdC51cmw/dC5hc0Jsb2I/dGhpcy54aHJMb2FkKHQsdGhpcy50cmFuc2Zvcm1VcmwodC51cmwsdCksXCJibG9iXCIsdGhpcy5maWxlQ29tcGxldGUpOnRoaXMubG9hZFZpZGVvVGFnKHQpOnRoaXMuZmlsZUVycm9yKHQsbnVsbCxcIk5vIHN1cHBvcnRlZCB2aWRlbyBVUkwgc3BlY2lmaWVkIG9yIGRldmljZSBkb2VzIG5vdCBoYXZlIHZpZGVvIHBsYXliYWNrIHN1cHBvcnRcIik7YnJlYWs7Y2FzZVwianNvblwiOnRoaXMueGhyTG9hZCh0LHRoaXMudHJhbnNmb3JtVXJsKHQudXJsLHQpLFwidGV4dFwiLHRoaXMuanNvbkxvYWRDb21wbGV0ZSk7YnJlYWs7Y2FzZVwieG1sXCI6dGhpcy54aHJMb2FkKHQsdGhpcy50cmFuc2Zvcm1VcmwodC51cmwsdCksXCJ0ZXh0XCIsdGhpcy54bWxMb2FkQ29tcGxldGUpO2JyZWFrO2Nhc2VcInRpbGVtYXBcIjp0LmZvcm1hdD09PWkuVGlsZW1hcC5USUxFRF9KU09OP3RoaXMueGhyTG9hZCh0LHRoaXMudHJhbnNmb3JtVXJsKHQudXJsLHQpLFwidGV4dFwiLHRoaXMuanNvbkxvYWRDb21wbGV0ZSk6dC5mb3JtYXQ9PT1pLlRpbGVtYXAuQ1NWP3RoaXMueGhyTG9hZCh0LHRoaXMudHJhbnNmb3JtVXJsKHQudXJsLHQpLFwidGV4dFwiLHRoaXMuY3N2TG9hZENvbXBsZXRlKTp0aGlzLmFzeW5jQ29tcGxldGUodCxcImludmFsaWQgVGlsZW1hcCBmb3JtYXQ6IFwiK3QuZm9ybWF0KTticmVhaztjYXNlXCJ0ZXh0XCI6Y2FzZVwic2NyaXB0XCI6Y2FzZVwic2hhZGVyXCI6Y2FzZVwicGh5c2ljc1wiOnRoaXMueGhyTG9hZCh0LHRoaXMudHJhbnNmb3JtVXJsKHQudXJsLHQpLFwidGV4dFwiLHRoaXMuZmlsZUNvbXBsZXRlKTticmVhaztjYXNlXCJ0ZXh0dXJlXCI6XCJ0cnVlY29sb3JcIj09PXQua2V5LnNwbGl0KFwiX1wiKS5wb3AoKT90aGlzLmxvYWRJbWFnZVRhZyh0KTp0aGlzLnhockxvYWQodCx0aGlzLnRyYW5zZm9ybVVybCh0LnVybCx0KSxcImFycmF5YnVmZmVyXCIsdGhpcy5maWxlQ29tcGxldGUpO2JyZWFrO2Nhc2VcImJpbmFyeVwiOnRoaXMueGhyTG9hZCh0LHRoaXMudHJhbnNmb3JtVXJsKHQudXJsLHQpLFwiYXJyYXlidWZmZXJcIix0aGlzLmZpbGVDb21wbGV0ZSl9fSxsb2FkSW1hZ2VUYWc6ZnVuY3Rpb24odCl7dmFyIGU9dGhpczt0LmRhdGE9bmV3IEltYWdlLHQuZGF0YS5uYW1lPXQua2V5LHRoaXMuY3Jvc3NPcmlnaW4mJih0LmRhdGEuY3Jvc3NPcmlnaW49dGhpcy5jcm9zc09yaWdpbiksdC5kYXRhLm9ubG9hZD1mdW5jdGlvbigpe3QuZGF0YS5vbmxvYWQmJih0LmRhdGEub25sb2FkPW51bGwsdC5kYXRhLm9uZXJyb3I9bnVsbCxlLmZpbGVDb21wbGV0ZSh0KSl9LHQuZGF0YS5vbmVycm9yPWZ1bmN0aW9uKCl7dC5kYXRhLm9ubG9hZCYmKHQuZGF0YS5vbmxvYWQ9bnVsbCx0LmRhdGEub25lcnJvcj1udWxsLGUuZmlsZUVycm9yKHQpKX0sdC5kYXRhLnNyYz10aGlzLnRyYW5zZm9ybVVybCh0LnVybCx0KSwhdGhpcy5nYW1lLmRldmljZS5maXJlZm94JiZ0LmRhdGEuY29tcGxldGUmJnQuZGF0YS53aWR0aCYmdC5kYXRhLmhlaWdodCYmKHQuZGF0YS5vbmxvYWQ9bnVsbCx0LmRhdGEub25lcnJvcj1udWxsLHRoaXMuZmlsZUNvbXBsZXRlKHQpKX0sbG9hZFZpZGVvVGFnOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7dC5kYXRhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ2aWRlb1wiKSx0LmRhdGEubmFtZT10LmtleSx0LmRhdGEuY29udHJvbHM9ITEsdC5kYXRhLmF1dG9wbGF5PSExO3ZhciBzPWZ1bmN0aW9uKCl7dC5kYXRhLnJlbW92ZUV2ZW50TGlzdGVuZXIodC5sb2FkRXZlbnQscywhMSksdC5kYXRhLm9uZXJyb3I9bnVsbCx0LmRhdGEuY2FucGxheT0hMCxpLkdBTUVTW2UuZ2FtZS5pZF0ubG9hZC5maWxlQ29tcGxldGUodCl9O3QuZGF0YS5vbmVycm9yPWZ1bmN0aW9uKCl7dC5kYXRhLnJlbW92ZUV2ZW50TGlzdGVuZXIodC5sb2FkRXZlbnQscywhMSksdC5kYXRhLm9uZXJyb3I9bnVsbCx0LmRhdGEuY2FucGxheT0hMSxlLmZpbGVFcnJvcih0KX0sdC5kYXRhLmFkZEV2ZW50TGlzdGVuZXIodC5sb2FkRXZlbnQscywhMSksdC5kYXRhLnNyYz10aGlzLnRyYW5zZm9ybVVybCh0LnVybCx0KSx0LmRhdGEubG9hZCgpfSxsb2FkQXVkaW9UYWc6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztpZih0aGlzLmdhbWUuc291bmQudG91Y2hMb2NrZWQpdC5kYXRhPW5ldyBBdWRpbyx0LmRhdGEubmFtZT10LmtleSx0LmRhdGEucHJlbG9hZD1cImF1dG9cIix0LmRhdGEuc3JjPXRoaXMudHJhbnNmb3JtVXJsKHQudXJsLHQpLHRoaXMuZmlsZUNvbXBsZXRlKHQpO2Vsc2V7dC5kYXRhPW5ldyBBdWRpbyx0LmRhdGEubmFtZT10LmtleTt2YXIgaT1mdW5jdGlvbigpe3QuZGF0YS5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2FucGxheXRocm91Z2hcIixpLCExKSx0LmRhdGEub25lcnJvcj1udWxsLGUuZmlsZUNvbXBsZXRlKHQpfTt0LmRhdGEub25lcnJvcj1mdW5jdGlvbigpe3QuZGF0YS5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2FucGxheXRocm91Z2hcIixpLCExKSx0LmRhdGEub25lcnJvcj1udWxsLGUuZmlsZUVycm9yKHQpfSx0LmRhdGEucHJlbG9hZD1cImF1dG9cIix0LmRhdGEuc3JjPXRoaXMudHJhbnNmb3JtVXJsKHQudXJsLHQpLHQuZGF0YS5hZGRFdmVudExpc3RlbmVyKFwiY2FucGxheXRocm91Z2hcIixpLCExKSx0LmRhdGEubG9hZCgpfX0seGhyTG9hZDpmdW5jdGlvbih0LGUsaSxzLG4pe2lmKHRoaXMudXNlWERvbWFpblJlcXVlc3QmJndpbmRvdy5YRG9tYWluUmVxdWVzdCl0aGlzLnhockxvYWRXaXRoWERSKHQsZSxpLHMsbik7ZWxzZXt2YXIgbz1uZXcgWE1MSHR0cFJlcXVlc3Q7by5vcGVuKFwiR0VUXCIsZSwhMCksby5yZXNwb25zZVR5cGU9aSwhMSE9PXRoaXMuaGVhZGVycy5yZXF1ZXN0ZWRXaXRoJiZvLnNldFJlcXVlc3RIZWFkZXIoXCJYLVJlcXVlc3RlZC1XaXRoXCIsdGhpcy5oZWFkZXJzLnJlcXVlc3RlZFdpdGgpLHRoaXMuaGVhZGVyc1t0LnR5cGVdJiZvLnNldFJlcXVlc3RIZWFkZXIoXCJBY2NlcHRcIix0aGlzLmhlYWRlcnNbdC50eXBlXSksbj1ufHx0aGlzLmZpbGVFcnJvcjt2YXIgcj10aGlzO28ub25sb2FkPWZ1bmN0aW9uKCl7dHJ5e3JldHVybiA0PT09by5yZWFkeVN0YXRlJiZvLnN0YXR1cz49NDAwJiZvLnN0YXR1czw9NTk5P24uY2FsbChyLHQsbyk6cy5jYWxsKHIsdCxvKX1jYXRjaChlKXtyLmhhc0xvYWRlZD93aW5kb3cuY29uc29sZSYmY29uc29sZS5lcnJvcihlKTpyLmFzeW5jQ29tcGxldGUodCxlLm1lc3NhZ2V8fFwiRXhjZXB0aW9uXCIpfX0sby5vbmVycm9yPWZ1bmN0aW9uKCl7dHJ5e3JldHVybiBuLmNhbGwocix0LG8pfWNhdGNoKGUpe3IuaGFzTG9hZGVkP3dpbmRvdy5jb25zb2xlJiZjb25zb2xlLmVycm9yKGUpOnIuYXN5bmNDb21wbGV0ZSh0LGUubWVzc2FnZXx8XCJFeGNlcHRpb25cIil9fSx0LnJlcXVlc3RPYmplY3Q9byx0LnJlcXVlc3RVcmw9ZSxvLnNlbmQoKX19LHhockxvYWRXaXRoWERSOmZ1bmN0aW9uKHQsZSxpLHMsbil7dGhpcy5fd2FybmVkQWJvdXRYRG9tYWluUmVxdWVzdHx8dGhpcy5nYW1lLmRldmljZS5pZSYmISh0aGlzLmdhbWUuZGV2aWNlLmllVmVyc2lvbj49MTApfHwodGhpcy5fd2FybmVkQWJvdXRYRG9tYWluUmVxdWVzdD0hMCxjb25zb2xlLndhcm4oXCJQaGFzZXIuTG9hZGVyIC0gdXNpbmcgWERvbWFpblJlcXVlc3Qgb3V0c2lkZSBvZiBJRSA5XCIpKTt2YXIgbz1uZXcgd2luZG93LlhEb21haW5SZXF1ZXN0O28ub3BlbihcIkdFVFwiLGUsITApLG8ucmVzcG9uc2VUeXBlPWksby50aW1lb3V0PTNlMyxuPW58fHRoaXMuZmlsZUVycm9yO3ZhciByPXRoaXM7by5vbmVycm9yPWZ1bmN0aW9uKCl7dHJ5e3JldHVybiBuLmNhbGwocix0LG8pfWNhdGNoKGUpe3IuYXN5bmNDb21wbGV0ZSh0LGUubWVzc2FnZXx8XCJFeGNlcHRpb25cIil9fSxvLm9udGltZW91dD1mdW5jdGlvbigpe3RyeXtyZXR1cm4gbi5jYWxsKHIsdCxvKX1jYXRjaChlKXtyLmFzeW5jQ29tcGxldGUodCxlLm1lc3NhZ2V8fFwiRXhjZXB0aW9uXCIpfX0sby5vbnByb2dyZXNzPWZ1bmN0aW9uKCl7fSxvLm9ubG9hZD1mdW5jdGlvbigpe3RyeXtyZXR1cm4gND09PW8ucmVhZHlTdGF0ZSYmby5zdGF0dXM+PTQwMCYmby5zdGF0dXM8PTU5OT9uLmNhbGwocix0LG8pOnMuY2FsbChyLHQsbyl9Y2F0Y2goZSl7ci5hc3luY0NvbXBsZXRlKHQsZS5tZXNzYWdlfHxcIkV4Y2VwdGlvblwiKX19LHQucmVxdWVzdE9iamVjdD1vLHQucmVxdWVzdFVybD1lLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtvLnNlbmQoKX0sMCl9LGdldFZpZGVvVVJMOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wO2U8dC5sZW5ndGg7ZSsrKXt2YXIgaSxzPXRbZV07aWYocy51cmkpe2lmKGk9cy50eXBlLHM9cy51cmksdGhpcy5nYW1lLmRldmljZS5jYW5QbGF5VmlkZW8oaSkpcmV0dXJuIHN9ZWxzZXtpZigwPT09cy5pbmRleE9mKFwiYmxvYjpcIil8fDA9PT1zLmluZGV4T2YoXCJkYXRhOlwiKSlyZXR1cm4gcztpZihzLmluZGV4T2YoXCI/XCIpPj0wJiYocz1zLnN1YnN0cigwLHMuaW5kZXhPZihcIj9cIikpKSxpPXMuc3Vic3RyKChNYXRoLm1heCgwLHMubGFzdEluZGV4T2YoXCIuXCIpKXx8MS8wKSsxKS50b0xvd2VyQ2FzZSgpLHRoaXMuZ2FtZS5kZXZpY2UuY2FuUGxheVZpZGVvKGkpKXJldHVybiB0W2VdfX1yZXR1cm4gbnVsbH0sZ2V0QXVkaW9VUkw6ZnVuY3Rpb24odCl7aWYodGhpcy5nYW1lLnNvdW5kLm5vQXVkaW8pcmV0dXJuIG51bGw7Zm9yKHZhciBlPTA7ZTx0Lmxlbmd0aDtlKyspe3ZhciBpLHM9dFtlXTtpZihzLnVyaSl7aWYoaT1zLnR5cGUscz1zLnVyaSx0aGlzLmdhbWUuZGV2aWNlLmNhblBsYXlBdWRpbyhpKSlyZXR1cm4gc31lbHNle2lmKDA9PT1zLmluZGV4T2YoXCJibG9iOlwiKXx8MD09PXMuaW5kZXhPZihcImRhdGE6XCIpKXJldHVybiBzO2lmKHMuaW5kZXhPZihcIj9cIik+PTAmJihzPXMuc3Vic3RyKDAscy5pbmRleE9mKFwiP1wiKSkpLGk9cy5zdWJzdHIoKE1hdGgubWF4KDAscy5sYXN0SW5kZXhPZihcIi5cIikpfHwxLzApKzEpLnRvTG93ZXJDYXNlKCksdGhpcy5nYW1lLmRldmljZS5jYW5QbGF5QXVkaW8oaSkpcmV0dXJuIHRbZV19fXJldHVybiBudWxsfSxmaWxlRXJyb3I6ZnVuY3Rpb24odCxlLGkpe3ZhciBzPVwiZXJyb3IgbG9hZGluZyBhc3NldCBmcm9tIFVSTCBcIisodC5yZXF1ZXN0VXJsfHx0aGlzLnRyYW5zZm9ybVVybCh0LnVybCx0KSk7IWkmJmUmJihpPWUuc3RhdHVzKSxpJiYocz1zK1wiIChcIitpK1wiKVwiKSx0aGlzLmFzeW5jQ29tcGxldGUodCxzKX0sZmlsZUNvbXBsZXRlOmZ1bmN0aW9uKHQsZSl7dmFyIHM9ITA7c3dpdGNoKHQudHlwZSl7Y2FzZVwicGFja2ZpbGVcIjpvPUpTT04ucGFyc2UoZS5yZXNwb25zZVRleHQpO3QuZGF0YT1vfHx7fTticmVhaztjYXNlXCJ0ZXh0dXJlXCI6dmFyIG49L1xcLihbXi5dKykkLy5leGVjKHQudXJsLnNwbGl0KFwiP1wiLDEpWzBdKVsxXS50b0xvd2VyQ2FzZSgpO251bGwhPT10LmRhdGE/dGhpcy5jYWNoZS5hZGRDb21wcmVzc2VkVGV4dHVyZU1ldGFEYXRhKHQua2V5LHQudXJsLG4sdC5kYXRhKTp0aGlzLmNhY2hlLmFkZENvbXByZXNzZWRUZXh0dXJlTWV0YURhdGEodC5rZXksdC51cmwsbixlLnJlc3BvbnNlKTticmVhaztjYXNlXCJpbWFnZVwiOnRoaXMuY2FjaGUuYWRkSW1hZ2UodC5rZXksdC51cmwsdC5kYXRhKTticmVhaztjYXNlXCJzcHJpdGVzaGVldFwiOnRoaXMuY2FjaGUuYWRkU3ByaXRlU2hlZXQodC5rZXksdC51cmwsdC5kYXRhLHQuZnJhbWVXaWR0aCx0LmZyYW1lSGVpZ2h0LHQuZnJhbWVNYXgsdC5tYXJnaW4sdC5zcGFjaW5nLHQuc2tpcEZyYW1lcyk7YnJlYWs7Y2FzZVwidGV4dHVyZWF0bGFzXCI6aWYobnVsbD09dC5hdGxhc1VSTCl0aGlzLmNhY2hlLmFkZFRleHR1cmVBdGxhcyh0LmtleSx0LnVybCx0LmRhdGEsdC5hdGxhc0RhdGEsdC5mb3JtYXQpO2Vsc2UgaWYocz0hMSx0LmZvcm1hdD09PWkuTG9hZGVyLlRFWFRVUkVfQVRMQVNfSlNPTl9BUlJBWXx8dC5mb3JtYXQ9PT1pLkxvYWRlci5URVhUVVJFX0FUTEFTX0pTT05fSEFTSHx8dC5mb3JtYXQ9PT1pLkxvYWRlci5URVhUVVJFX0FUTEFTX0pTT05fUFlYRUwpdGhpcy54aHJMb2FkKHQsdGhpcy50cmFuc2Zvcm1VcmwodC5hdGxhc1VSTCx0KSxcInRleHRcIix0aGlzLmpzb25Mb2FkQ29tcGxldGUpO2Vsc2V7aWYodC5mb3JtYXQhPT1pLkxvYWRlci5URVhUVVJFX0FUTEFTX1hNTF9TVEFSTElORyl0aHJvdyBuZXcgRXJyb3IoXCJQaGFzZXIuTG9hZGVyLiBJbnZhbGlkIFRleHR1cmUgQXRsYXMgZm9ybWF0OiBcIit0LmZvcm1hdCk7dGhpcy54aHJMb2FkKHQsdGhpcy50cmFuc2Zvcm1VcmwodC5hdGxhc1VSTCx0KSxcInRleHRcIix0aGlzLnhtbExvYWRDb21wbGV0ZSl9YnJlYWs7Y2FzZVwiYml0bWFwZm9udFwiOnQuYXRsYXNVUkw/KHM9ITEsdGhpcy54aHJMb2FkKHQsdGhpcy50cmFuc2Zvcm1VcmwodC5hdGxhc1VSTCx0KSxcInRleHRcIixmdW5jdGlvbih0LGUpe3ZhciBpO3RyeXtpPUpTT04ucGFyc2UoZS5yZXNwb25zZVRleHQpfWNhdGNoKHQpe31pPyh0LmF0bGFzVHlwZT1cImpzb25cIix0aGlzLmpzb25Mb2FkQ29tcGxldGUodCxlKSk6KHQuYXRsYXNUeXBlPVwieG1sXCIsdGhpcy54bWxMb2FkQ29tcGxldGUodCxlKSl9KSk6dGhpcy5jYWNoZS5hZGRCaXRtYXBGb250KHQua2V5LHQudXJsLHQuZGF0YSx0LmF0bGFzRGF0YSx0LmF0bGFzVHlwZSx0LnhTcGFjaW5nLHQueVNwYWNpbmcpO2JyZWFrO2Nhc2VcInZpZGVvXCI6aWYodC5hc0Jsb2IpdHJ5e3QuZGF0YT1lLnJlc3BvbnNlfWNhdGNoKGUpe3Rocm93IG5ldyBFcnJvcihcIlBoYXNlci5Mb2FkZXIuIFVuYWJsZSB0byBwYXJzZSB2aWRlbyBmaWxlIGFzIEJsb2I6IFwiK3Qua2V5KX10aGlzLmNhY2hlLmFkZFZpZGVvKHQua2V5LHQudXJsLHQuZGF0YSx0LmFzQmxvYik7YnJlYWs7Y2FzZVwiYXVkaW9cIjp0aGlzLmdhbWUuc291bmQudXNpbmdXZWJBdWRpbz8odC5kYXRhPWUucmVzcG9uc2UsdGhpcy5jYWNoZS5hZGRTb3VuZCh0LmtleSx0LnVybCx0LmRhdGEsITAsITEpLHQuYXV0b0RlY29kZSYmdGhpcy5nYW1lLnNvdW5kLmRlY29kZSh0LmtleSkpOnRoaXMuY2FjaGUuYWRkU291bmQodC5rZXksdC51cmwsdC5kYXRhLCExLCEwKTticmVhaztjYXNlXCJ0ZXh0XCI6dC5kYXRhPWUucmVzcG9uc2VUZXh0LHRoaXMuY2FjaGUuYWRkVGV4dCh0LmtleSx0LnVybCx0LmRhdGEpO2JyZWFrO2Nhc2VcInNoYWRlclwiOnQuZGF0YT1lLnJlc3BvbnNlVGV4dCx0aGlzLmNhY2hlLmFkZFNoYWRlcih0LmtleSx0LnVybCx0LmRhdGEpO2JyZWFrO2Nhc2VcInBoeXNpY3NcIjp2YXIgbz1KU09OLnBhcnNlKGUucmVzcG9uc2VUZXh0KTt0aGlzLmNhY2hlLmFkZFBoeXNpY3NEYXRhKHQua2V5LHQudXJsLG8sdC5mb3JtYXQpO2JyZWFrO2Nhc2VcInNjcmlwdFwiOnQuZGF0YT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpLHQuZGF0YS5sYW5ndWFnZT1cImphdmFzY3JpcHRcIix0LmRhdGEudHlwZT1cInRleHQvamF2YXNjcmlwdFwiLHQuZGF0YS5kZWZlcj0hMSx0LmRhdGEudGV4dD1lLnJlc3BvbnNlVGV4dCxkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHQuZGF0YSksdC5jYWxsYmFjayYmKHQuZGF0YT10LmNhbGxiYWNrLmNhbGwodC5jYWxsYmFja0NvbnRleHQsdC5rZXksZS5yZXNwb25zZVRleHQpKTticmVhaztjYXNlXCJiaW5hcnlcIjp0LmNhbGxiYWNrP3QuZGF0YT10LmNhbGxiYWNrLmNhbGwodC5jYWxsYmFja0NvbnRleHQsdC5rZXksZS5yZXNwb25zZSk6dC5kYXRhPWUucmVzcG9uc2UsdGhpcy5jYWNoZS5hZGRCaW5hcnkodC5rZXksdC5kYXRhKX1zJiZ0aGlzLmFzeW5jQ29tcGxldGUodCl9LGpzb25Mb2FkQ29tcGxldGU6ZnVuY3Rpb24odCxlKXt2YXIgaT1KU09OLnBhcnNlKGUucmVzcG9uc2VUZXh0KTtcInRpbGVtYXBcIj09PXQudHlwZT90aGlzLmNhY2hlLmFkZFRpbGVtYXAodC5rZXksdC51cmwsaSx0LmZvcm1hdCk6XCJiaXRtYXBmb250XCI9PT10LnR5cGU/dGhpcy5jYWNoZS5hZGRCaXRtYXBGb250KHQua2V5LHQudXJsLHQuZGF0YSxpLHQuYXRsYXNUeXBlLHQueFNwYWNpbmcsdC55U3BhY2luZyk6XCJqc29uXCI9PT10LnR5cGU/dGhpcy5jYWNoZS5hZGRKU09OKHQua2V5LHQudXJsLGkpOnRoaXMuY2FjaGUuYWRkVGV4dHVyZUF0bGFzKHQua2V5LHQudXJsLHQuZGF0YSxpLHQuZm9ybWF0KSx0aGlzLmFzeW5jQ29tcGxldGUodCl9LGNzdkxvYWRDb21wbGV0ZTpmdW5jdGlvbih0LGUpe3ZhciBpPWUucmVzcG9uc2VUZXh0O3RoaXMuY2FjaGUuYWRkVGlsZW1hcCh0LmtleSx0LnVybCxpLHQuZm9ybWF0KSx0aGlzLmFzeW5jQ29tcGxldGUodCl9LHhtbExvYWRDb21wbGV0ZTpmdW5jdGlvbih0LGUpe3ZhciBpPWUucmVzcG9uc2VUZXh0LHM9dGhpcy5wYXJzZVhtbChpKTtpZighcyl7dmFyIG49ZS5yZXNwb25zZVR5cGV8fGUuY29udGVudFR5cGU7cmV0dXJuIGNvbnNvbGUud2FybihcIlBoYXNlci5Mb2FkZXIgLSBcIit0LmtleStcIjogaW52YWxpZCBYTUwgKFwiK24rXCIpXCIpLHZvaWQgdGhpcy5hc3luY0NvbXBsZXRlKHQsXCJpbnZhbGlkIFhNTFwiKX1cImJpdG1hcGZvbnRcIj09PXQudHlwZT90aGlzLmNhY2hlLmFkZEJpdG1hcEZvbnQodC5rZXksdC51cmwsdC5kYXRhLHMsdC5hdGxhc1R5cGUsdC54U3BhY2luZyx0LnlTcGFjaW5nKTpcInRleHR1cmVhdGxhc1wiPT09dC50eXBlP3RoaXMuY2FjaGUuYWRkVGV4dHVyZUF0bGFzKHQua2V5LHQudXJsLHQuZGF0YSxzLHQuZm9ybWF0KTpcInhtbFwiPT09dC50eXBlJiZ0aGlzLmNhY2hlLmFkZFhNTCh0LmtleSx0LnVybCxzKSx0aGlzLmFzeW5jQ29tcGxldGUodCl9LHBhcnNlWG1sOmZ1bmN0aW9uKHQpe3ZhciBlO3RyeXtpZih3aW5kb3cuRE9NUGFyc2VyKXt2YXIgaT1uZXcgRE9NUGFyc2VyO2U9aS5wYXJzZUZyb21TdHJpbmcodCxcInRleHQveG1sXCIpfWVsc2UoZT1uZXcgQWN0aXZlWE9iamVjdChcIk1pY3Jvc29mdC5YTUxET01cIikpLmFzeW5jPVwiZmFsc2VcIixlLmxvYWRYTUwodCl9Y2F0Y2godCl7ZT1udWxsfXJldHVybiBlJiZlLmRvY3VtZW50RWxlbWVudCYmIWUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJwYXJzZXJlcnJvclwiKS5sZW5ndGg/ZTpudWxsfSx1cGRhdGVQcm9ncmVzczpmdW5jdGlvbigpe3RoaXMucHJlbG9hZFNwcml0ZSYmKDA9PT10aGlzLnByZWxvYWRTcHJpdGUuZGlyZWN0aW9uP3RoaXMucHJlbG9hZFNwcml0ZS5yZWN0LndpZHRoPU1hdGguZmxvb3IodGhpcy5wcmVsb2FkU3ByaXRlLndpZHRoLzEwMCp0aGlzLnByb2dyZXNzKTp0aGlzLnByZWxvYWRTcHJpdGUucmVjdC5oZWlnaHQ9TWF0aC5mbG9vcih0aGlzLnByZWxvYWRTcHJpdGUuaGVpZ2h0LzEwMCp0aGlzLnByb2dyZXNzKSx0aGlzLnByZWxvYWRTcHJpdGUuc3ByaXRlP3RoaXMucHJlbG9hZFNwcml0ZS5zcHJpdGUudXBkYXRlQ3JvcCgpOnRoaXMucHJlbG9hZFNwcml0ZT1udWxsKX0sdG90YWxMb2FkZWRGaWxlczpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9sb2FkZWRGaWxlQ291bnR9LHRvdGFsUXVldWVkRmlsZXM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdG90YWxGaWxlQ291bnQtdGhpcy5fbG9hZGVkRmlsZUNvdW50fSx0b3RhbExvYWRlZFBhY2tzOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RvdGFsUGFja0NvdW50fSx0b3RhbFF1ZXVlZFBhY2tzOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RvdGFsUGFja0NvdW50LXRoaXMuX2xvYWRlZFBhY2tDb3VudH19LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLkxvYWRlci5wcm90b3R5cGUsXCJwcm9ncmVzc0Zsb2F0XCIse2dldDpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX2xvYWRlZEZpbGVDb3VudC90aGlzLl90b3RhbEZpbGVDb3VudCoxMDA7cmV0dXJuIGkuTWF0aC5jbGFtcCh0fHwwLDAsMTAwKX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5Mb2FkZXIucHJvdG90eXBlLFwicHJvZ3Jlc3NcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIE1hdGgucm91bmQodGhpcy5wcm9ncmVzc0Zsb2F0KX19KSxpLkxvYWRlci5wcm90b3R5cGUuY29uc3RydWN0b3I9aS5Mb2FkZXIsaS5Mb2FkZXJQYXJzZXI9e2JpdG1hcEZvbnQ6ZnVuY3Rpb24odCxlLGkscyxuLG8pe3JldHVybiB0aGlzLnhtbEJpdG1hcEZvbnQodCxlLGkscyxuLG8pfSx4bWxCaXRtYXBGb250OmZ1bmN0aW9uKHQsZSxpLHMsbixvKXtudWxsPT1vJiYobz0xKTt2YXIgcj17fSxhPXQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJpbmZvXCIpWzBdLGg9dC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImNvbW1vblwiKVswXTtyLmZvbnQ9YS5nZXRBdHRyaWJ1dGUoXCJmYWNlXCIpLHIuc2l6ZT1wYXJzZUludChhLmdldEF0dHJpYnV0ZShcInNpemVcIiksMTApLHIubGluZUhlaWdodD1wYXJzZUludChoLmdldEF0dHJpYnV0ZShcImxpbmVIZWlnaHRcIiksMTApK3Msci5jaGFycz17fTtmb3IodmFyIGw9dC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImNoYXJcIiksYz1uP24ueDowLHU9bj9uLnk6MCxkPTA7ZDxsLmxlbmd0aDtkKyspe3ZhciBwPXBhcnNlSW50KGxbZF0uZ2V0QXR0cmlidXRlKFwiaWRcIiksMTApO3IuY2hhcnNbcF09e3g6YytwYXJzZUludChsW2RdLmdldEF0dHJpYnV0ZShcInhcIiksMTApLHk6dStwYXJzZUludChsW2RdLmdldEF0dHJpYnV0ZShcInlcIiksMTApLHdpZHRoOnBhcnNlSW50KGxbZF0uZ2V0QXR0cmlidXRlKFwid2lkdGhcIiksMTApLGhlaWdodDpwYXJzZUludChsW2RdLmdldEF0dHJpYnV0ZShcImhlaWdodFwiKSwxMCkseE9mZnNldDpwYXJzZUludChsW2RdLmdldEF0dHJpYnV0ZShcInhvZmZzZXRcIiksMTApL28seU9mZnNldDpwYXJzZUludChsW2RdLmdldEF0dHJpYnV0ZShcInlvZmZzZXRcIiksMTApL28seEFkdmFuY2U6KHBhcnNlSW50KGxbZF0uZ2V0QXR0cmlidXRlKFwieGFkdmFuY2VcIiksMTApK2kpL28sa2VybmluZzp7fX19dmFyIGY9dC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImtlcm5pbmdcIik7Zm9yKGQ9MDtkPGYubGVuZ3RoO2QrKyl7dmFyIG09cGFyc2VJbnQoZltkXS5nZXRBdHRyaWJ1dGUoXCJmaXJzdFwiKSwxMCksZz1wYXJzZUludChmW2RdLmdldEF0dHJpYnV0ZShcInNlY29uZFwiKSwxMCkseT1wYXJzZUludChmW2RdLmdldEF0dHJpYnV0ZShcImFtb3VudFwiKSwxMCkvbztyLmNoYXJzW2ddLmtlcm5pbmdbbV09eX1yZXR1cm4gdGhpcy5maW5hbGl6ZUJpdG1hcEZvbnQoZSxyKX0sanNvbkJpdG1hcEZvbnQ6ZnVuY3Rpb24odCxlLGkscyxuLG8pe251bGw9PW8mJihvPTEpO3ZhciByPXtmb250OnQuZm9udC5pbmZvLl9mYWNlLHNpemU6cGFyc2VJbnQodC5mb250LmluZm8uX3NpemUsMTApLGxpbmVIZWlnaHQ6cGFyc2VJbnQodC5mb250LmNvbW1vbi5fbGluZUhlaWdodCwxMCkrcyxjaGFyczp7fX0sYT1uP24ueDowLGg9bj9uLnk6MDtyZXR1cm4gdC5mb250LmNoYXJzLmNoYXIuZm9yRWFjaChmdW5jdGlvbih0KXt2YXIgZT1wYXJzZUludCh0Ll9pZCwxMCk7ci5jaGFyc1tlXT17eDphK3BhcnNlSW50KHQuX3gsMTApLHk6aCtwYXJzZUludCh0Ll95LDEwKSx3aWR0aDpwYXJzZUludCh0Ll93aWR0aCwxMCksaGVpZ2h0OnBhcnNlSW50KHQuX2hlaWdodCwxMCkseE9mZnNldDpwYXJzZUludCh0Ll94b2Zmc2V0LDEwKS9vLHlPZmZzZXQ6cGFyc2VJbnQodC5feW9mZnNldCwxMCkvbyx4QWR2YW5jZToocGFyc2VJbnQodC5feGFkdmFuY2UsMTApK2kpL28sa2VybmluZzp7fX19KSx0LmZvbnQua2VybmluZ3MmJnQuZm9udC5rZXJuaW5ncy5rZXJuaW5nJiZ0LmZvbnQua2VybmluZ3Mua2VybmluZy5mb3JFYWNoKGZ1bmN0aW9uKHQpe3IuY2hhcnNbdC5fc2Vjb25kXS5rZXJuaW5nW3QuX2ZpcnN0XT1wYXJzZUludCh0Ll9hbW91bnQsMTApL299KSx0aGlzLmZpbmFsaXplQml0bWFwRm9udChlLHIpfSxmaW5hbGl6ZUJpdG1hcEZvbnQ6ZnVuY3Rpb24odCxlKXtyZXR1cm4gT2JqZWN0LmtleXMoZS5jaGFycykuZm9yRWFjaChmdW5jdGlvbihzKXt2YXIgbj1lLmNoYXJzW3NdO24udGV4dHVyZT1uZXcgUElYSS5UZXh0dXJlKHQsbmV3IGkuUmVjdGFuZ2xlKG4ueCxuLnksbi53aWR0aCxuLmhlaWdodCkpfSksZX0scHZyOmZ1bmN0aW9uKHQpe3ZhciBlLGk9bmV3IFVpbnQzMkFycmF5KHQuc2xpY2UoMCw1MikpLHM9bmV3IFVpbnQ4QXJyYXkodCksbj1udWxsLG89aVszXTw8MzJ8aVsyXSxyPTA7aWYoNTU3Mjc2OTY9PT1pWzBdJiZbMCwxLDIsMyw2LDcsOSwxMV0uaW5kZXhPZihvKT49MCl7c3dpdGNoKG8+PTAmJm88PTM/ZT1cIlBWUlRDXCI6bz49NyYmbzw9MTE/ZT1cIlMzVENcIjo2PT09byYmKGU9XCJFVEMxXCIpLG8pe2Nhc2UgMDpyPTM1ODQxO2JyZWFrO2Nhc2UgMTpyPTM1ODQzO2JyZWFrO2Nhc2UgMjpyPTM1ODQwO2JyZWFrO2Nhc2UgMzpyPTM1ODQyO2JyZWFrO2Nhc2UgNjpyPTM2MTk2O2JyZWFrO2Nhc2UgNzpyPTMzNzc3O2JyZWFrO2Nhc2UgOTpyPTMzNzc4O2JyZWFrO2Nhc2UgMTE6cj0zMzc3OTticmVhaztkZWZhdWx0OnI9LTF9bj17Y29tcGxldGU6ITAsZmlsZUZvcm1hdDpcIlBWUlwiLGNvbXByZXNzaW9uQWxnb3JpdGhtOmUsZmxhZ3M6aVsxXSxwaXhlbEZvcm1hdDpvLGNvbG9yU3BhY2U6aVs0XSxjaGFubmVsVHlwZTppWzVdLGhlaWdodDppWzZdLHdpZHRoOmlbN10sZGVwdGg6aVs4XSxudW1iZXJPZlN1cmZhY2VzOmlbOV0sbnVtYmVyT2ZGYWNlczppWzEwXSxudW1iZXJPZk1pcG1hcHM6aVsxMV0sbWV0YURhdGFTaXplOmlbMTJdLHRleHR1cmVEYXRhOnMuc3ViYXJyYXkoNTIraVsxMl0scy5ieXRlTGVuZ3RoKSxnbEV4dGVuc2lvbkZvcm1hdDpyfX1yZXR1cm4gbn0sZGRzOmZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBVaW50OEFycmF5KHQpLGk9bmV3IFVpbnQzMkFycmF5KHQpLHM9bnVsbDtyZXR1cm4gNjg9PT1lWzBdJiY2OD09PWVbMV0mJjgzPT09ZVsyXSYmMzI9PT1lWzNdJiZcIkRYMTBcIj09PShzPXtjb21wbGV0ZTohMCxmaWxlRm9ybWF0OlwiRERTXCIsY29tcHJlc3Npb25BbGdvcml0aG06XCJTM1RDXCIsc2l6ZTppWzFdLGZsYWdzOmlbMl0saGVpZ2h0OmlbM10sd2lkdGg6aVs0XSxwaXRjaDppWzVdLGRlcHRoOmlbNl0sbWlwbWFwQ291bnQ6aVs3XSxmb3JtYXRTaXplOmlbMTldLGZvcm1hdEZsYWc6aVsxOV0sZm9ybWF0Rm91ckNDOltTdHJpbmcuZnJvbUNoYXJDb2RlKGVbODRdKSxTdHJpbmcuZnJvbUNoYXJDb2RlKGVbODVdKSxTdHJpbmcuZnJvbUNoYXJDb2RlKGVbODZdKSxTdHJpbmcuZnJvbUNoYXJDb2RlKGVbODddKV0uam9pbihcIlwiKSxmb3JtYXRCaXRDb3VudDppWzIxXSxmb3JtYXRSQml0TWFzazppWzIyXSxmb3JtYXRHQml0TWFzazppWzIzXSxmb3JtYXRCQml0TWFzazppWzI0XSxmb3JtYXRBQml0TWFzazppWzI1XSxjYXBzMTppWzI2XSxjYXBzMjppWzI3XSxjYXBzMzppWzI4XSxjYXBzNDppWzI5XSxyZXNlcnZlZDI6aVszMF0sRFhHSUZvcm1hdDpudWxsLHJlc291cmNlRGltZW5zaW9uOm51bGwsbWlzY0ZsYWc6bnVsbCxhcnJheVNpemU6bnVsbCx0ZXh0dXJlRGF0YTplLnN1YmFycmF5KGlbMV0rNCxlLmJ5dGVMZW5ndGgpfSkuZm9ybWF0Rm91ckNDJiYocy5EWEdJRm9ybWF0PWlbMzFdLHMucmVzb3VyY2VEaW1lbnNpb249aVszMl0scy5taXNjRmxhZz1pWzMzXSxzLmFycmF5U2l6ZT1pWzM0XSxzLm1pc2NGbGFnPWlbMzVdKSxzfSxrdHg6ZnVuY3Rpb24odCl7dmFyIGU9bmV3IFVpbnQ4QXJyYXkodCksaT1uZXcgVWludDMyQXJyYXkodCkscz1udWxsLG49MTYraVsxNV0vNHwwLG89aVtuXSxyPWlbN10sYT0wO2lmKDE3MT09PWVbMF0mJjc1PT09ZVsxXSYmODQ9PT1lWzJdJiY4OD09PWVbM10mJjMyPT09ZVs0XSYmNDk9PT1lWzVdJiY0OT09PWVbNl0mJjE4Nz09PWVbN10mJjEzPT09ZVs4XSYmMTA9PT1lWzldJiYyNj09PWVbMTBdJiYxMD09PWVbMTFdJiZbMzYxOTYsMzU4NDAsMzU4NDEsMzU4NDIsMzU4NDMsMzM3NzYsMzM3NzcsMzM3NzgsMzM3NzldLmluZGV4T2Yocik+PTApe3N3aXRjaChyKXtjYXNlIDM2MTk2OmE9XCJFVEMxXCI7YnJlYWs7Y2FzZSAzNTg0MDpjYXNlIDM1ODQxOmNhc2UgMzU4NDI6Y2FzZSAzNTg0MzphPVwiUFZSVENcIjticmVhaztjYXNlIDMzNzc2OmNhc2UgMzM3Nzc6Y2FzZSAzMzc3ODpjYXNlIDMzNzc5OmE9XCJTM1RDXCJ9cz17Y29tcGxldGU6ITAsZmlsZUZvcm1hdDpcIktUWFwiLGNvbXByZXNzaW9uQWxnb3JpdGhtOmEsZW5kaWFubmVzczppWzNdLGdsVHlwZTppWzRdLGdsVHlwZVNpemU6aVs1XSxnbEZvcm1hdDppWzZdLGdsSW50ZXJuYWxGb3JtYXQ6aVs3XSxnbEJhc2VJbnRlcm5hbEZvcm1hdDppWzhdLHdpZHRoOmlbOV0saGVpZ2h0OmlbMTBdLHBpeGVsRGVwdGg6aVsxMV0sbnVtYmVyT2ZBcnJheUVsZW1lbnRzOmlbMTJdLG51bWJlck9mRmFjZXM6aVsxM10sbnVtYmVyT2ZNaXBtYXBMZXZlbHM6aVsxNF0sYnl0ZXNPZktleVZhbHVlRGF0YTppWzE1XSxrZXlBbmRWYWx1ZUJ5dGVTaXplOmlbMTZdLGltYWdlU2l6ZTpvLHRleHR1cmVEYXRhOmUuc3ViYXJyYXkoNCoobisxKSxvKzEwMCl9fXJldHVybiBzfSxwa206ZnVuY3Rpb24odCl7dmFyIGU9bmV3IFVpbnQ4QXJyYXkodCksaT1udWxsO3JldHVybiA4MD09PWVbMF0mJjc1PT09ZVsxXSYmNzc9PT1lWzJdJiYzMj09PWVbM10mJihpPXtjb21wbGV0ZTohMCxmaWxlRm9ybWF0OlwiUEtNXCIsY29tcHJlc3Npb25BbGdvcml0aG06XCJFVEMxXCIsZm9ybWF0OjY1NTM1JihlWzZdPDw4fGVbN10pLHdpZHRoOjY1NTM1JihlWzhdPDw4fGVbOV0pLGhlaWdodDo2NTUzNSYoZVsxMF08PDh8ZVsxMV0pLG9yaWdpbmFsV2lkdGg6NjU1MzUmKGVbMTJdPDw4fGVbMTNdKSxvcmlnaW5hbEhlaWdodDo2NTUzNSYoZVsxNF08PDh8ZVsxNV0pLHRleHR1cmVEYXRhOmUuc3ViYXJyYXkoMTYsZS5sZW5ndGgpfSksaX19LGkuQXVkaW9TcHJpdGU9ZnVuY3Rpb24odCxlKXt0aGlzLmdhbWU9dCx0aGlzLmtleT1lLHRoaXMuY29uZmlnPXRoaXMuZ2FtZS5jYWNoZS5nZXRKU09OKGUrXCItYXVkaW9hdGxhc1wiKSx0aGlzLmF1dG9wbGF5S2V5PW51bGwsdGhpcy5hdXRvcGxheT0hMSx0aGlzLnNvdW5kcz17fTtmb3IodmFyIGkgaW4gdGhpcy5jb25maWcuc3ByaXRlbWFwKXt2YXIgcz10aGlzLmNvbmZpZy5zcHJpdGVtYXBbaV0sbj10aGlzLmdhbWUuYWRkLnNvdW5kKHRoaXMua2V5KTtuLmFkZE1hcmtlcihpLHMuc3RhcnQscy5lbmQtcy5zdGFydCxudWxsLHMubG9vcCksdGhpcy5zb3VuZHNbaV09bn10aGlzLmNvbmZpZy5hdXRvcGxheSYmKHRoaXMuYXV0b3BsYXlLZXk9dGhpcy5jb25maWcuYXV0b3BsYXksdGhpcy5wbGF5KHRoaXMuYXV0b3BsYXlLZXkpLHRoaXMuYXV0b3BsYXk9dGhpcy5zb3VuZHNbdGhpcy5hdXRvcGxheUtleV0pfSxpLkF1ZGlvU3ByaXRlLnByb3RvdHlwZT17cGxheTpmdW5jdGlvbih0LGUpe3JldHVybiB2b2lkIDA9PT1lJiYoZT0xKSx0aGlzLnNvdW5kc1t0XS5wbGF5KHQsbnVsbCxlKX0sc3RvcDpmdW5jdGlvbih0KXtpZih0KXRoaXMuc291bmRzW3RdLnN0b3AoKTtlbHNlIGZvcih2YXIgZSBpbiB0aGlzLnNvdW5kcyl0aGlzLnNvdW5kc1tlXS5zdG9wKCl9LGdldDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5zb3VuZHNbdF19fSxpLkF1ZGlvU3ByaXRlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1pLkF1ZGlvU3ByaXRlLGkuU291bmQ9ZnVuY3Rpb24odCxlLHMsbixvKXt2b2lkIDA9PT1zJiYocz0xKSx2b2lkIDA9PT1uJiYobj0hMSksdm9pZCAwPT09byYmKG89dC5zb3VuZC5jb25uZWN0VG9NYXN0ZXIpLHRoaXMuZ2FtZT10LHRoaXMubmFtZT1lLHRoaXMua2V5PWUsdGhpcy5sb29wPW4sdGhpcy5tYXJrZXJzPXt9LHRoaXMuY29udGV4dD1udWxsLHRoaXMuYXV0b3BsYXk9ITEsdGhpcy50b3RhbER1cmF0aW9uPTAsdGhpcy5zdGFydFRpbWU9MCx0aGlzLmN1cnJlbnRUaW1lPTAsdGhpcy5kdXJhdGlvbj0wLHRoaXMuZHVyYXRpb25NUz0wLHRoaXMucG9zaXRpb249MCx0aGlzLnN0b3BUaW1lPTAsdGhpcy5wYXVzZWQ9ITEsdGhpcy5wYXVzZWRQb3NpdGlvbj0wLHRoaXMucGF1c2VkVGltZT0wLHRoaXMuaXNQbGF5aW5nPSExLHRoaXMuY3VycmVudE1hcmtlcj1cIlwiLHRoaXMuZmFkZVR3ZWVuPW51bGwsdGhpcy5wZW5kaW5nUGxheWJhY2s9ITEsdGhpcy5vdmVycmlkZT0hMSx0aGlzLmFsbG93TXVsdGlwbGU9ITEsdGhpcy51c2luZ1dlYkF1ZGlvPXRoaXMuZ2FtZS5zb3VuZC51c2luZ1dlYkF1ZGlvLHRoaXMudXNpbmdBdWRpb1RhZz10aGlzLmdhbWUuc291bmQudXNpbmdBdWRpb1RhZyx0aGlzLmV4dGVybmFsTm9kZT1udWxsLHRoaXMubWFzdGVyR2Fpbk5vZGU9bnVsbCx0aGlzLmdhaW5Ob2RlPW51bGwsdGhpcy5fc291bmQ9bnVsbCx0aGlzLl9nbG9iYWxWb2x1bWU9MSx0aGlzLl9tYXJrZWRUb0RlbGV0ZT0hMSx0aGlzLl9yZW1vdmVGcm9tU291bmRNYW5hZ2VyPSExLHRoaXMudXNpbmdXZWJBdWRpbz8odGhpcy5jb250ZXh0PXRoaXMuZ2FtZS5zb3VuZC5jb250ZXh0LHRoaXMubWFzdGVyR2Fpbk5vZGU9dGhpcy5nYW1lLnNvdW5kLm1hc3RlckdhaW4sdm9pZCAwPT09dGhpcy5jb250ZXh0LmNyZWF0ZUdhaW4/dGhpcy5nYWluTm9kZT10aGlzLmNvbnRleHQuY3JlYXRlR2Fpbk5vZGUoKTp0aGlzLmdhaW5Ob2RlPXRoaXMuY29udGV4dC5jcmVhdGVHYWluKCksdGhpcy5nYWluTm9kZS5nYWluLnZhbHVlPXMqdGhpcy5nYW1lLnNvdW5kLnZvbHVtZSxvJiZ0aGlzLmdhaW5Ob2RlLmNvbm5lY3QodGhpcy5tYXN0ZXJHYWluTm9kZSkpOnRoaXMudXNpbmdBdWRpb1RhZyYmKHRoaXMuZ2FtZS5jYWNoZS5nZXRTb3VuZChlKSYmdGhpcy5nYW1lLmNhY2hlLmlzU291bmRSZWFkeShlKT8odGhpcy5fc291bmQ9dGhpcy5nYW1lLmNhY2hlLmdldFNvdW5kRGF0YShlKSx0aGlzLnRvdGFsRHVyYXRpb249MCx0aGlzLl9zb3VuZC5kdXJhdGlvbiYmKHRoaXMudG90YWxEdXJhdGlvbj10aGlzLl9zb3VuZC5kdXJhdGlvbikpOnRoaXMuZ2FtZS5jYWNoZS5vblNvdW5kVW5sb2NrLmFkZCh0aGlzLnNvdW5kSGFzVW5sb2NrZWQsdGhpcykpLHRoaXMub25EZWNvZGVkPW5ldyBpLlNpZ25hbCx0aGlzLm9uUGxheT1uZXcgaS5TaWduYWwsdGhpcy5vblBhdXNlPW5ldyBpLlNpZ25hbCx0aGlzLm9uUmVzdW1lPW5ldyBpLlNpZ25hbCx0aGlzLm9uTG9vcD1uZXcgaS5TaWduYWwsdGhpcy5vblN0b3A9bmV3IGkuU2lnbmFsLHRoaXMub25NdXRlPW5ldyBpLlNpZ25hbCx0aGlzLm9uTWFya2VyQ29tcGxldGU9bmV3IGkuU2lnbmFsLHRoaXMub25GYWRlQ29tcGxldGU9bmV3IGkuU2lnbmFsLHRoaXMuX3ZvbHVtZT1zLHRoaXMuX2J1ZmZlcj1udWxsLHRoaXMuX211dGVkPSExLHRoaXMuX3RlbXBNYXJrZXI9MCx0aGlzLl90ZW1wUG9zaXRpb249MCx0aGlzLl90ZW1wVm9sdW1lPTAsdGhpcy5fdGVtcFBhdXNlPTAsdGhpcy5fbXV0ZVZvbHVtZT0wLHRoaXMuX3RlbXBMb29wPTAsdGhpcy5fcGF1c2VkPSExLHRoaXMuX29uRGVjb2RlZEV2ZW50RGlzcGF0Y2hlZD0hMX0saS5Tb3VuZC5wcm90b3R5cGU9e3NvdW5kSGFzVW5sb2NrZWQ6ZnVuY3Rpb24odCl7dD09PXRoaXMua2V5JiYodGhpcy5fc291bmQ9dGhpcy5nYW1lLmNhY2hlLmdldFNvdW5kRGF0YSh0aGlzLmtleSksdGhpcy50b3RhbER1cmF0aW9uPXRoaXMuX3NvdW5kLmR1cmF0aW9uKX0sYWRkTWFya2VyOmZ1bmN0aW9uKHQsZSxpLHMsbil7dm9pZCAwIT09aSYmbnVsbCE9PWl8fChpPTEpLHZvaWQgMCE9PXMmJm51bGwhPT1zfHwocz0xKSx2b2lkIDA9PT1uJiYobj0hMSksdGhpcy5tYXJrZXJzW3RdPXtuYW1lOnQsc3RhcnQ6ZSxzdG9wOmUraSx2b2x1bWU6cyxkdXJhdGlvbjppLGR1cmF0aW9uTVM6MWUzKmksbG9vcDpufX0scmVtb3ZlTWFya2VyOmZ1bmN0aW9uKHQpe2RlbGV0ZSB0aGlzLm1hcmtlcnNbdF19LG9uRW5kZWRIYW5kbGVyOmZ1bmN0aW9uKCl7dGhpcy5fc291bmQub25lbmRlZD1udWxsLHRoaXMuaXNQbGF5aW5nPSExLHRoaXMuY3VycmVudFRpbWU9dGhpcy5kdXJhdGlvbk1TLHRoaXMuc3RvcCgpLHRoaXMuX21hcmtlZFRvRGVsZXRlJiYodGhpcy5leHRlcm5hbE5vZGU/dGhpcy5fc291bmQuZGlzY29ubmVjdCh0aGlzLmV4dGVybmFsTm9kZSk6dGhpcy5nYWluTm9kZSYmdGhpcy5fc291bmQuZGlzY29ubmVjdCh0aGlzLmdhaW5Ob2RlKSx0aGlzLl9yZW1vdmVGcm9tU291bmRNYW5hZ2VyP3RoaXMuZ2FtZS5zb3VuZC5yZW1vdmUodGhpcyk6KHRoaXMubWFya2Vycz17fSx0aGlzLmNvbnRleHQ9bnVsbCx0aGlzLl9idWZmZXI9bnVsbCx0aGlzLmV4dGVybmFsTm9kZT1udWxsLHRoaXMub25EZWNvZGVkLmRpc3Bvc2UoKSx0aGlzLm9uUGxheS5kaXNwb3NlKCksdGhpcy5vblBhdXNlLmRpc3Bvc2UoKSx0aGlzLm9uUmVzdW1lLmRpc3Bvc2UoKSx0aGlzLm9uTG9vcC5kaXNwb3NlKCksdGhpcy5vblN0b3AuZGlzcG9zZSgpLHRoaXMub25NdXRlLmRpc3Bvc2UoKSx0aGlzLm9uTWFya2VyQ29tcGxldGUuZGlzcG9zZSgpKSl9LHVwZGF0ZTpmdW5jdGlvbigpe3RoaXMuZ2FtZS5jYWNoZS5jaGVja1NvdW5kS2V5KHRoaXMua2V5KT8odGhpcy5pc0RlY29kZWQmJiF0aGlzLl9vbkRlY29kZWRFdmVudERpc3BhdGNoZWQmJih0aGlzLm9uRGVjb2RlZC5kaXNwYXRjaCh0aGlzKSx0aGlzLl9vbkRlY29kZWRFdmVudERpc3BhdGNoZWQ9ITApLHRoaXMucGVuZGluZ1BsYXliYWNrJiZ0aGlzLmdhbWUuY2FjaGUuaXNTb3VuZFJlYWR5KHRoaXMua2V5KSYmKHRoaXMucGVuZGluZ1BsYXliYWNrPSExLHRoaXMucGxheSh0aGlzLl90ZW1wTWFya2VyLHRoaXMuX3RlbXBQb3NpdGlvbix0aGlzLl90ZW1wVm9sdW1lLHRoaXMuX3RlbXBMb29wKSksdGhpcy5pc1BsYXlpbmcmJih0aGlzLmN1cnJlbnRUaW1lPXRoaXMuZ2FtZS50aW1lLnRpbWUtdGhpcy5zdGFydFRpbWUsdGhpcy5jdXJyZW50VGltZT49dGhpcy5kdXJhdGlvbk1TJiYodGhpcy51c2luZ1dlYkF1ZGlvP3RoaXMubG9vcD8odGhpcy5vbkxvb3AuZGlzcGF0Y2godGhpcyksdGhpcy5pc1BsYXlpbmc9ITEsXCJcIj09PXRoaXMuY3VycmVudE1hcmtlcj8odGhpcy5jdXJyZW50VGltZT0wLHRoaXMuc3RhcnRUaW1lPXRoaXMuZ2FtZS50aW1lLnRpbWUsdGhpcy5pc1BsYXlpbmc9ITApOih0aGlzLm9uTWFya2VyQ29tcGxldGUuZGlzcGF0Y2godGhpcy5jdXJyZW50TWFya2VyLHRoaXMpLHRoaXMucGxheSh0aGlzLmN1cnJlbnRNYXJrZXIsMCx0aGlzLnZvbHVtZSwhMCwhMCkpKTpcIlwiIT09dGhpcy5jdXJyZW50TWFya2VyJiZ0aGlzLnN0b3AoKTp0aGlzLmxvb3A/KHRoaXMub25Mb29wLmRpc3BhdGNoKHRoaXMpLFwiXCI9PT10aGlzLmN1cnJlbnRNYXJrZXImJih0aGlzLmN1cnJlbnRUaW1lPTAsdGhpcy5zdGFydFRpbWU9dGhpcy5nYW1lLnRpbWUudGltZSksdGhpcy5pc1BsYXlpbmc9ITEsdGhpcy5wbGF5KHRoaXMuY3VycmVudE1hcmtlciwwLHRoaXMudm9sdW1lLCEwLCEwKSk6dGhpcy5zdG9wKCkpKSk6dGhpcy5kZXN0cm95KCl9LGxvb3BGdWxsOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnBsYXkobnVsbCwwLHQsITApfSxwbGF5OmZ1bmN0aW9uKHQsZSxpLHMsbil7aWYodm9pZCAwIT09dCYmITEhPT10JiZudWxsIT09dHx8KHQ9XCJcIiksdm9pZCAwPT09biYmKG49ITApLHRoaXMuaXNQbGF5aW5nJiYhdGhpcy5hbGxvd011bHRpcGxlJiYhbiYmIXRoaXMub3ZlcnJpZGUpcmV0dXJuIHRoaXM7aWYodGhpcy5fc291bmQmJnRoaXMuaXNQbGF5aW5nJiYhdGhpcy5hbGxvd011bHRpcGxlJiYodGhpcy5vdmVycmlkZXx8bikpe2lmKHRoaXMudXNpbmdXZWJBdWRpbyl7aWYodm9pZCAwPT09dGhpcy5fc291bmQuc3RvcCl0aGlzLl9zb3VuZC5ub3RlT2ZmKDApO2Vsc2UgdHJ5e3RoaXMuX3NvdW5kLnN0b3AoMCl9Y2F0Y2godCl7fXRoaXMuZXh0ZXJuYWxOb2RlP3RoaXMuX3NvdW5kLmRpc2Nvbm5lY3QodGhpcy5leHRlcm5hbE5vZGUpOnRoaXMuZ2Fpbk5vZGUmJnRoaXMuX3NvdW5kLmRpc2Nvbm5lY3QodGhpcy5nYWluTm9kZSl9ZWxzZSB0aGlzLnVzaW5nQXVkaW9UYWcmJih0aGlzLl9zb3VuZC5wYXVzZSgpLHRoaXMuX3NvdW5kLmN1cnJlbnRUaW1lPTApO3RoaXMuaXNQbGF5aW5nPSExfWlmKFwiXCI9PT10JiZPYmplY3Qua2V5cyh0aGlzLm1hcmtlcnMpLmxlbmd0aD4wKXJldHVybiB0aGlzO2lmKFwiXCIhPT10KXtpZighdGhpcy5tYXJrZXJzW3RdKXJldHVybiBjb25zb2xlLndhcm4oXCJQaGFzZXIuU291bmQucGxheTogYXVkaW8gbWFya2VyIFwiK3QrXCIgZG9lc24ndCBleGlzdFwiKSx0aGlzO3RoaXMuY3VycmVudE1hcmtlcj10LHRoaXMucG9zaXRpb249dGhpcy5tYXJrZXJzW3RdLnN0YXJ0LHRoaXMudm9sdW1lPXRoaXMubWFya2Vyc1t0XS52b2x1bWUsdGhpcy5sb29wPXRoaXMubWFya2Vyc1t0XS5sb29wLHRoaXMuZHVyYXRpb249dGhpcy5tYXJrZXJzW3RdLmR1cmF0aW9uLHRoaXMuZHVyYXRpb25NUz10aGlzLm1hcmtlcnNbdF0uZHVyYXRpb25NUyx2b2lkIDAhPT1pJiYodGhpcy52b2x1bWU9aSksdm9pZCAwIT09cyYmKHRoaXMubG9vcD1zKSx0aGlzLl90ZW1wTWFya2VyPXQsdGhpcy5fdGVtcFBvc2l0aW9uPXRoaXMucG9zaXRpb24sdGhpcy5fdGVtcFZvbHVtZT10aGlzLnZvbHVtZSx0aGlzLl90ZW1wTG9vcD10aGlzLmxvb3B9ZWxzZSBlPWV8fDAsdm9pZCAwPT09aSYmKGk9dGhpcy5fdm9sdW1lKSx2b2lkIDA9PT1zJiYocz10aGlzLmxvb3ApLHRoaXMucG9zaXRpb249TWF0aC5tYXgoMCxlKSx0aGlzLnZvbHVtZT1pLHRoaXMubG9vcD1zLHRoaXMuZHVyYXRpb249MCx0aGlzLmR1cmF0aW9uTVM9MCx0aGlzLl90ZW1wTWFya2VyPXQsdGhpcy5fdGVtcFBvc2l0aW9uPWUsdGhpcy5fdGVtcFZvbHVtZT1pLHRoaXMuX3RlbXBMb29wPXM7cmV0dXJuIHRoaXMudXNpbmdXZWJBdWRpbz90aGlzLmdhbWUuY2FjaGUuaXNTb3VuZERlY29kZWQodGhpcy5rZXkpPyh0aGlzLl9zb3VuZD10aGlzLmNvbnRleHQuY3JlYXRlQnVmZmVyU291cmNlKCksdGhpcy5leHRlcm5hbE5vZGU/dGhpcy5fc291bmQuY29ubmVjdCh0aGlzLmV4dGVybmFsTm9kZSk6dGhpcy5fc291bmQuY29ubmVjdCh0aGlzLmdhaW5Ob2RlKSx0aGlzLl9idWZmZXI9dGhpcy5nYW1lLmNhY2hlLmdldFNvdW5kRGF0YSh0aGlzLmtleSksdGhpcy5fc291bmQuYnVmZmVyPXRoaXMuX2J1ZmZlcix0aGlzLmxvb3AmJlwiXCI9PT10JiYodGhpcy5fc291bmQubG9vcD0hMCksdGhpcy5sb29wfHxcIlwiIT09dHx8KHRoaXMuX3NvdW5kLm9uZW5kZWQ9dGhpcy5vbkVuZGVkSGFuZGxlci5iaW5kKHRoaXMpKSx0aGlzLnRvdGFsRHVyYXRpb249dGhpcy5fc291bmQuYnVmZmVyLmR1cmF0aW9uLDA9PT10aGlzLmR1cmF0aW9uJiYodGhpcy5kdXJhdGlvbj10aGlzLnRvdGFsRHVyYXRpb24sdGhpcy5kdXJhdGlvbk1TPU1hdGguY2VpbCgxZTMqdGhpcy50b3RhbER1cmF0aW9uKSksdm9pZCAwPT09dGhpcy5fc291bmQuc3RhcnQ/dGhpcy5fc291bmQubm90ZUdyYWluT24oMCx0aGlzLnBvc2l0aW9uLHRoaXMuZHVyYXRpb24pOnRoaXMubG9vcCYmXCJcIj09PXQ/dGhpcy5fc291bmQuc3RhcnQoMCwwKTp0aGlzLl9zb3VuZC5zdGFydCgwLHRoaXMucG9zaXRpb24sdGhpcy5kdXJhdGlvbiksdGhpcy5pc1BsYXlpbmc9ITAsdGhpcy5zdGFydFRpbWU9dGhpcy5nYW1lLnRpbWUudGltZSx0aGlzLmN1cnJlbnRUaW1lPTAsdGhpcy5zdG9wVGltZT10aGlzLnN0YXJ0VGltZSt0aGlzLmR1cmF0aW9uTVMsdGhpcy5vblBsYXkuZGlzcGF0Y2godGhpcykpOih0aGlzLnBlbmRpbmdQbGF5YmFjaz0hMCx0aGlzLmdhbWUuY2FjaGUuZ2V0U291bmQodGhpcy5rZXkpJiYhMT09PXRoaXMuZ2FtZS5jYWNoZS5nZXRTb3VuZCh0aGlzLmtleSkuaXNEZWNvZGluZyYmdGhpcy5nYW1lLnNvdW5kLmRlY29kZSh0aGlzLmtleSx0aGlzKSk6dGhpcy5nYW1lLmNhY2hlLmdldFNvdW5kKHRoaXMua2V5KSYmdGhpcy5nYW1lLmNhY2hlLmdldFNvdW5kKHRoaXMua2V5KS5sb2NrZWQ/KHRoaXMuZ2FtZS5jYWNoZS5yZWxvYWRTb3VuZCh0aGlzLmtleSksdGhpcy5wZW5kaW5nUGxheWJhY2s9ITApOnRoaXMuX3NvdW5kJiYodGhpcy5nYW1lLmRldmljZS5jb2Nvb25KU3x8ND09PXRoaXMuX3NvdW5kLnJlYWR5U3RhdGUpPyh0aGlzLl9zb3VuZC5wbGF5KCksdGhpcy50b3RhbER1cmF0aW9uPXRoaXMuX3NvdW5kLmR1cmF0aW9uLDA9PT10aGlzLmR1cmF0aW9uJiYodGhpcy5kdXJhdGlvbj10aGlzLnRvdGFsRHVyYXRpb24sdGhpcy5kdXJhdGlvbk1TPTFlMyp0aGlzLnRvdGFsRHVyYXRpb24pLHRoaXMuX3NvdW5kLmN1cnJlbnRUaW1lPXRoaXMucG9zaXRpb24sdGhpcy5fc291bmQubXV0ZWQ9dGhpcy5fbXV0ZWQsdGhpcy5fbXV0ZWR8fHRoaXMuZ2FtZS5zb3VuZC5tdXRlP3RoaXMuX3NvdW5kLnZvbHVtZT0wOnRoaXMuX3NvdW5kLnZvbHVtZT10aGlzLl92b2x1bWUsdGhpcy5pc1BsYXlpbmc9ITAsdGhpcy5zdGFydFRpbWU9dGhpcy5nYW1lLnRpbWUudGltZSx0aGlzLmN1cnJlbnRUaW1lPTAsdGhpcy5zdG9wVGltZT10aGlzLnN0YXJ0VGltZSt0aGlzLmR1cmF0aW9uTVMsdGhpcy5vblBsYXkuZGlzcGF0Y2godGhpcykpOnRoaXMucGVuZGluZ1BsYXliYWNrPSEwLHRoaXN9LHJlc3RhcnQ6ZnVuY3Rpb24odCxlLGkscyl7dD10fHxcIlwiLGU9ZXx8MCxpPWl8fDEsdm9pZCAwPT09cyYmKHM9ITEpLHRoaXMucGxheSh0LGUsaSxzLCEwKX0scGF1c2U6ZnVuY3Rpb24oKXt0aGlzLmlzUGxheWluZyYmdGhpcy5fc291bmQmJih0aGlzLnBhdXNlZD0hMCx0aGlzLnBhdXNlZFBvc2l0aW9uPXRoaXMuY3VycmVudFRpbWUsdGhpcy5wYXVzZWRUaW1lPXRoaXMuZ2FtZS50aW1lLnRpbWUsdGhpcy5fdGVtcFBhdXNlPXRoaXMuX3NvdW5kLmN1cnJlbnRUaW1lLHRoaXMub25QYXVzZS5kaXNwYXRjaCh0aGlzKSx0aGlzLnN0b3AoKSl9LHJlc3VtZTpmdW5jdGlvbigpe2lmKHRoaXMucGF1c2VkJiZ0aGlzLl9zb3VuZCl7aWYodGhpcy51c2luZ1dlYkF1ZGlvKXt2YXIgdD1NYXRoLm1heCgwLHRoaXMucG9zaXRpb24rdGhpcy5wYXVzZWRQb3NpdGlvbi8xZTMpO3RoaXMuX3NvdW5kPXRoaXMuY29udGV4dC5jcmVhdGVCdWZmZXJTb3VyY2UoKSx0aGlzLl9zb3VuZC5idWZmZXI9dGhpcy5fYnVmZmVyLHRoaXMuZXh0ZXJuYWxOb2RlP3RoaXMuX3NvdW5kLmNvbm5lY3QodGhpcy5leHRlcm5hbE5vZGUpOnRoaXMuX3NvdW5kLmNvbm5lY3QodGhpcy5nYWluTm9kZSksdGhpcy5sb29wJiYodGhpcy5fc291bmQubG9vcD0hMCksdGhpcy5sb29wfHxcIlwiIT09dGhpcy5jdXJyZW50TWFya2VyfHwodGhpcy5fc291bmQub25lbmRlZD10aGlzLm9uRW5kZWRIYW5kbGVyLmJpbmQodGhpcykpO3ZhciBlPXRoaXMuZHVyYXRpb24tdGhpcy5wYXVzZWRQb3NpdGlvbi8xZTM7dm9pZCAwPT09dGhpcy5fc291bmQuc3RhcnQ/dGhpcy5fc291bmQubm90ZUdyYWluT24oMCx0LGUpOnRoaXMubG9vcCYmdGhpcy5nYW1lLmRldmljZS5jaHJvbWU/NDI9PT10aGlzLmdhbWUuZGV2aWNlLmNocm9tZVZlcnNpb24/dGhpcy5fc291bmQuc3RhcnQoMCk6dGhpcy5fc291bmQuc3RhcnQoMCx0KTp0aGlzLl9zb3VuZC5zdGFydCgwLHQsZSl9ZWxzZSB0aGlzLl9zb3VuZC5jdXJyZW50VGltZT10aGlzLl90ZW1wUGF1c2UsdGhpcy5fc291bmQucGxheSgpO3RoaXMuaXNQbGF5aW5nPSEwLHRoaXMucGF1c2VkPSExLHRoaXMuc3RhcnRUaW1lKz10aGlzLmdhbWUudGltZS50aW1lLXRoaXMucGF1c2VkVGltZSx0aGlzLm9uUmVzdW1lLmRpc3BhdGNoKHRoaXMpfX0sc3RvcDpmdW5jdGlvbigpe2lmKHRoaXMuaXNQbGF5aW5nJiZ0aGlzLl9zb3VuZClpZih0aGlzLnVzaW5nV2ViQXVkaW8pe2lmKHZvaWQgMD09PXRoaXMuX3NvdW5kLnN0b3ApdGhpcy5fc291bmQubm90ZU9mZigwKTtlbHNlIHRyeXt0aGlzLl9zb3VuZC5zdG9wKDApfWNhdGNoKHQpe310aGlzLmV4dGVybmFsTm9kZT90aGlzLl9zb3VuZC5kaXNjb25uZWN0KHRoaXMuZXh0ZXJuYWxOb2RlKTp0aGlzLmdhaW5Ob2RlJiZ0aGlzLl9zb3VuZC5kaXNjb25uZWN0KHRoaXMuZ2Fpbk5vZGUpfWVsc2UgdGhpcy51c2luZ0F1ZGlvVGFnJiYodGhpcy5fc291bmQucGF1c2UoKSx0aGlzLl9zb3VuZC5jdXJyZW50VGltZT0wKTtpZih0aGlzLnBlbmRpbmdQbGF5YmFjaz0hMSx0aGlzLmlzUGxheWluZz0hMSwhdGhpcy5wYXVzZWQpe3ZhciB0PXRoaXMuY3VycmVudE1hcmtlcjtcIlwiIT09dGhpcy5jdXJyZW50TWFya2VyJiZ0aGlzLm9uTWFya2VyQ29tcGxldGUuZGlzcGF0Y2godGhpcy5jdXJyZW50TWFya2VyLHRoaXMpLHRoaXMuY3VycmVudE1hcmtlcj1cIlwiLG51bGwhPT10aGlzLmZhZGVUd2VlbiYmdGhpcy5mYWRlVHdlZW4uc3RvcCgpLHRoaXMub25TdG9wLmRpc3BhdGNoKHRoaXMsdCl9fSxmYWRlSW46ZnVuY3Rpb24odCxlLGkpe3ZvaWQgMD09PWUmJihlPSExKSx2b2lkIDA9PT1pJiYoaT10aGlzLmN1cnJlbnRNYXJrZXIpLHRoaXMucGF1c2VkfHwodGhpcy5wbGF5KGksMCwwLGUpLHRoaXMuZmFkZVRvKHQsMSkpfSxmYWRlT3V0OmZ1bmN0aW9uKHQpe3RoaXMuZmFkZVRvKHQsMCl9LGZhZGVUbzpmdW5jdGlvbih0LGUpe3RoaXMuaXNQbGF5aW5nJiYhdGhpcy5wYXVzZWQmJmUhPT10aGlzLnZvbHVtZSYmKHZvaWQgMD09PXQmJih0PTFlMyksdm9pZCAwIT09ZT8odGhpcy5mYWRlVHdlZW49dGhpcy5nYW1lLmFkZC50d2Vlbih0aGlzKS50byh7dm9sdW1lOmV9LHQsaS5FYXNpbmcuTGluZWFyLk5vbmUsITApLHRoaXMuZmFkZVR3ZWVuLm9uQ29tcGxldGUuYWRkKHRoaXMuZmFkZUNvbXBsZXRlLHRoaXMpKTpjb25zb2xlLndhcm4oXCJQaGFzZXIuU291bmQuZmFkZVRvOiBObyBWb2x1bWUgU3BlY2lmaWVkLlwiKSl9LGZhZGVDb21wbGV0ZTpmdW5jdGlvbigpe3RoaXMub25GYWRlQ29tcGxldGUuZGlzcGF0Y2godGhpcyx0aGlzLnZvbHVtZSksMD09PXRoaXMudm9sdW1lJiZ0aGlzLnN0b3AoKX0sdXBkYXRlR2xvYmFsVm9sdW1lOmZ1bmN0aW9uKHQpe3RoaXMudXNpbmdBdWRpb1RhZyYmdGhpcy5fc291bmQmJih0aGlzLl9nbG9iYWxWb2x1bWU9dCx0aGlzLl9zb3VuZC52b2x1bWU9dGhpcy5fZ2xvYmFsVm9sdW1lKnRoaXMuX3ZvbHVtZSl9LGRlc3Ryb3k6ZnVuY3Rpb24odCl7dm9pZCAwPT09dCYmKHQ9ITApLHRoaXMuX21hcmtlZFRvRGVsZXRlPSEwLHRoaXMuX3JlbW92ZUZyb21Tb3VuZE1hbmFnZXI9dCx0aGlzLnN0b3AoKSx0P3RoaXMuZ2FtZS5zb3VuZC5yZW1vdmUodGhpcyk6KHRoaXMubWFya2Vycz17fSx0aGlzLmNvbnRleHQ9bnVsbCx0aGlzLl9idWZmZXI9bnVsbCx0aGlzLmV4dGVybmFsTm9kZT1udWxsLHRoaXMub25EZWNvZGVkLmRpc3Bvc2UoKSx0aGlzLm9uUGxheS5kaXNwb3NlKCksdGhpcy5vblBhdXNlLmRpc3Bvc2UoKSx0aGlzLm9uUmVzdW1lLmRpc3Bvc2UoKSx0aGlzLm9uTG9vcC5kaXNwb3NlKCksdGhpcy5vblN0b3AuZGlzcG9zZSgpLHRoaXMub25NdXRlLmRpc3Bvc2UoKSx0aGlzLm9uTWFya2VyQ29tcGxldGUuZGlzcG9zZSgpKX19LGkuU291bmQucHJvdG90eXBlLmNvbnN0cnVjdG9yPWkuU291bmQsT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuU291bmQucHJvdG90eXBlLFwiaXNEZWNvZGluZ1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nYW1lLmNhY2hlLmdldFNvdW5kKHRoaXMua2V5KS5pc0RlY29kaW5nfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLlNvdW5kLnByb3RvdHlwZSxcImlzRGVjb2RlZFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nYW1lLmNhY2hlLmlzU291bmREZWNvZGVkKHRoaXMua2V5KX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5Tb3VuZC5wcm90b3R5cGUsXCJtdXRlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9tdXRlZHx8dGhpcy5nYW1lLnNvdW5kLm11dGV9LHNldDpmdW5jdGlvbih0KXsodD10fHwhMSkhPT10aGlzLl9tdXRlZCYmKHQ/KHRoaXMuX211dGVkPSEwLHRoaXMuX211dGVWb2x1bWU9dGhpcy5fdGVtcFZvbHVtZSx0aGlzLnVzaW5nV2ViQXVkaW8/dGhpcy5nYWluTm9kZS5nYWluLnZhbHVlPTA6dGhpcy51c2luZ0F1ZGlvVGFnJiZ0aGlzLl9zb3VuZCYmKHRoaXMuX3NvdW5kLnZvbHVtZT0wKSk6KHRoaXMuX211dGVkPSExLHRoaXMudXNpbmdXZWJBdWRpbz90aGlzLmdhaW5Ob2RlLmdhaW4udmFsdWU9dGhpcy5fbXV0ZVZvbHVtZTp0aGlzLnVzaW5nQXVkaW9UYWcmJnRoaXMuX3NvdW5kJiYodGhpcy5fc291bmQudm9sdW1lPXRoaXMuX211dGVWb2x1bWUpKSx0aGlzLm9uTXV0ZS5kaXNwYXRjaCh0aGlzKSl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuU291bmQucHJvdG90eXBlLFwidm9sdW1lXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl92b2x1bWV9LHNldDpmdW5jdGlvbih0KXt0aGlzLnVzaW5nQXVkaW9UYWcmJih0PXRoaXMuZ2FtZS5tYXRoLmNsYW1wKHQsMCwxKSksdGhpcy5fbXV0ZWQ/dGhpcy5fbXV0ZVZvbHVtZT10Oih0aGlzLl90ZW1wVm9sdW1lPXQsdGhpcy5fdm9sdW1lPXQsdGhpcy51c2luZ1dlYkF1ZGlvP3RoaXMuZ2Fpbk5vZGUuZ2Fpbi52YWx1ZT10OnRoaXMudXNpbmdBdWRpb1RhZyYmdGhpcy5fc291bmQmJih0aGlzLl9zb3VuZC52b2x1bWU9dGhpcy5fZ2xvYmFsVm9sdW1lKnQpKX19KSxpLlNvdW5kTWFuYWdlcj1mdW5jdGlvbih0KXt0aGlzLmdhbWU9dCx0aGlzLm9uU291bmREZWNvZGU9bmV3IGkuU2lnbmFsLHRoaXMub25Wb2x1bWVDaGFuZ2U9bmV3IGkuU2lnbmFsLHRoaXMub25NdXRlPW5ldyBpLlNpZ25hbCx0aGlzLm9uVW5NdXRlPW5ldyBpLlNpZ25hbCx0aGlzLmNvbnRleHQ9bnVsbCx0aGlzLnVzaW5nV2ViQXVkaW89ITEsdGhpcy51c2luZ0F1ZGlvVGFnPSExLHRoaXMubm9BdWRpbz0hMSx0aGlzLmNvbm5lY3RUb01hc3Rlcj0hMCx0aGlzLnRvdWNoTG9ja2VkPSExLHRoaXMuY2hhbm5lbHM9MzIsdGhpcy5tdXRlT25QYXVzZT0hMCx0aGlzLl9jb2RlTXV0ZWQ9ITEsdGhpcy5fbXV0ZWQ9ITEsdGhpcy5fdW5sb2NrU291cmNlPW51bGwsdGhpcy5fdm9sdW1lPTEsdGhpcy5fc291bmRzPVtdLHRoaXMuX3dhdGNoTGlzdD1uZXcgaS5BcnJheVNldCx0aGlzLl93YXRjaGluZz0hMSx0aGlzLl93YXRjaENhbGxiYWNrPW51bGwsdGhpcy5fd2F0Y2hDb250ZXh0PW51bGx9LGkuU291bmRNYW5hZ2VyLnByb3RvdHlwZT17Ym9vdDpmdW5jdGlvbigpe2lmKHRoaXMuZ2FtZS5kZXZpY2UuaU9TJiYhMT09PXRoaXMuZ2FtZS5kZXZpY2Uud2ViQXVkaW8mJih0aGlzLmNoYW5uZWxzPTEpLHdpbmRvdy5QaGFzZXJHbG9iYWwpe2lmKCEwPT09d2luZG93LlBoYXNlckdsb2JhbC5kaXNhYmxlQXVkaW8pcmV0dXJuIHRoaXMubm9BdWRpbz0hMCx2b2lkKHRoaXMudG91Y2hMb2NrZWQ9ITEpO2lmKCEwPT09d2luZG93LlBoYXNlckdsb2JhbC5kaXNhYmxlV2ViQXVkaW8pcmV0dXJuIHRoaXMudXNpbmdBdWRpb1RhZz0hMCx2b2lkKHRoaXMudG91Y2hMb2NrZWQ9ITEpfWlmKHdpbmRvdy5QaGFzZXJHbG9iYWwmJndpbmRvdy5QaGFzZXJHbG9iYWwuYXVkaW9Db250ZXh0KXRoaXMuY29udGV4dD13aW5kb3cuUGhhc2VyR2xvYmFsLmF1ZGlvQ29udGV4dDtlbHNlIGlmKHdpbmRvdy5BdWRpb0NvbnRleHQpdHJ5e3RoaXMuY29udGV4dD1uZXcgd2luZG93LkF1ZGlvQ29udGV4dH1jYXRjaCh0KXt0aGlzLmNvbnRleHQ9bnVsbCx0aGlzLnVzaW5nV2ViQXVkaW89ITEsdGhpcy50b3VjaExvY2tlZD0hMX1lbHNlIGlmKHdpbmRvdy53ZWJraXRBdWRpb0NvbnRleHQpdHJ5e3RoaXMuY29udGV4dD1uZXcgd2luZG93LndlYmtpdEF1ZGlvQ29udGV4dH1jYXRjaCh0KXt0aGlzLmNvbnRleHQ9bnVsbCx0aGlzLnVzaW5nV2ViQXVkaW89ITEsdGhpcy50b3VjaExvY2tlZD0hMX1pZihudWxsPT09dGhpcy5jb250ZXh0KXtpZih2b2lkIDA9PT13aW5kb3cuQXVkaW8pcmV0dXJuIHZvaWQodGhpcy5ub0F1ZGlvPSEwKTt0aGlzLnVzaW5nQXVkaW9UYWc9ITB9ZWxzZSB0aGlzLnVzaW5nV2ViQXVkaW89ITAsdm9pZCAwPT09dGhpcy5jb250ZXh0LmNyZWF0ZUdhaW4/dGhpcy5tYXN0ZXJHYWluPXRoaXMuY29udGV4dC5jcmVhdGVHYWluTm9kZSgpOnRoaXMubWFzdGVyR2Fpbj10aGlzLmNvbnRleHQuY3JlYXRlR2FpbigpLHRoaXMuX3NldEdhaW4oMSksdGhpcy5tYXN0ZXJHYWluLmNvbm5lY3QodGhpcy5jb250ZXh0LmRlc3RpbmF0aW9uKTt0aGlzLm5vQXVkaW98fHRoaXMuZ2FtZS5kZXZpY2UubmVlZHNUb3VjaFVubG9jaygpJiZ0aGlzLnNldFRvdWNoTG9jaygpfSxzZXRUb3VjaExvY2s6ZnVuY3Rpb24oKXt0aGlzLm5vQXVkaW98fHdpbmRvdy5QaGFzZXJHbG9iYWwmJiEwPT09d2luZG93LlBoYXNlckdsb2JhbC5kaXNhYmxlQXVkaW98fCh0aGlzLmdhbWUuaW5wdXQuYWRkVG91Y2hMb2NrQ2FsbGJhY2sodGhpcy51bmxvY2ssdGhpcywhMCksdGhpcy50b3VjaExvY2tlZD0hMCl9LHVubG9jazpmdW5jdGlvbigpe2lmKHRoaXMubm9BdWRpb3x8IXRoaXMudG91Y2hMb2NrZWR8fG51bGwhPT10aGlzLl91bmxvY2tTb3VyY2UpcmV0dXJuITA7aWYodGhpcy51c2luZ0F1ZGlvVGFnKXRoaXMudG91Y2hMb2NrZWQ9ITEsdGhpcy5fdW5sb2NrU291cmNlPW51bGw7ZWxzZSBpZih0aGlzLnVzaW5nV2ViQXVkaW8pe3ZhciB0PXRoaXMuY29udGV4dC5jcmVhdGVCdWZmZXIoMSwxLDIyMDUwKTt0aGlzLl91bmxvY2tTb3VyY2U9dGhpcy5jb250ZXh0LmNyZWF0ZUJ1ZmZlclNvdXJjZSgpLHRoaXMuX3VubG9ja1NvdXJjZS5idWZmZXI9dCx0aGlzLl91bmxvY2tTb3VyY2UuY29ubmVjdCh0aGlzLmNvbnRleHQuZGVzdGluYXRpb24pLHZvaWQgMD09PXRoaXMuX3VubG9ja1NvdXJjZS5zdGFydD90aGlzLl91bmxvY2tTb3VyY2Uubm90ZU9uKDApOnRoaXMuX3VubG9ja1NvdXJjZS5zdGFydCgwKSxcInN1c3BlbmRlZFwiPT09dGhpcy5fdW5sb2NrU291cmNlLmNvbnRleHQuc3RhdGUmJnRoaXMuX3VubG9ja1NvdXJjZS5jb250ZXh0LnJlc3VtZSgpfXJldHVybiEwfSxzdG9wQWxsOmZ1bmN0aW9uKCl7aWYoIXRoaXMubm9BdWRpbylmb3IodmFyIHQ9MDt0PHRoaXMuX3NvdW5kcy5sZW5ndGg7dCsrKXRoaXMuX3NvdW5kc1t0XSYmdGhpcy5fc291bmRzW3RdLnN0b3AoKX0scGF1c2VBbGw6ZnVuY3Rpb24oKXtpZighdGhpcy5ub0F1ZGlvKWZvcih2YXIgdD0wO3Q8dGhpcy5fc291bmRzLmxlbmd0aDt0KyspdGhpcy5fc291bmRzW3RdJiZ0aGlzLl9zb3VuZHNbdF0ucGF1c2UoKX0scmVzdW1lQWxsOmZ1bmN0aW9uKCl7aWYoIXRoaXMubm9BdWRpbylmb3IodmFyIHQ9MDt0PHRoaXMuX3NvdW5kcy5sZW5ndGg7dCsrKXRoaXMuX3NvdW5kc1t0XSYmdGhpcy5fc291bmRzW3RdLnJlc3VtZSgpfSxkZWNvZGU6ZnVuY3Rpb24odCxlKXtlPWV8fG51bGw7dmFyIGk9dGhpcy5nYW1lLmNhY2hlLmdldFNvdW5kRGF0YSh0KTtpZihpJiYhMT09PXRoaXMuZ2FtZS5jYWNoZS5pc1NvdW5kRGVjb2RlZCh0KSl7dGhpcy5nYW1lLmNhY2hlLnVwZGF0ZVNvdW5kKHQsXCJpc0RlY29kaW5nXCIsITApO3ZhciBzPXRoaXM7dHJ5e3RoaXMuY29udGV4dC5kZWNvZGVBdWRpb0RhdGEoaSxmdW5jdGlvbihpKXtpJiYocy5nYW1lLmNhY2hlLmRlY29kZWRTb3VuZCh0LGkpLHMub25Tb3VuZERlY29kZS5kaXNwYXRjaCh0LGUpKX0pfWNhdGNoKHQpe319fSxzZXREZWNvZGVkQ2FsbGJhY2s6ZnVuY3Rpb24odCxlLHMpe1wic3RyaW5nXCI9PXR5cGVvZiB0JiYodD1bdF0pLHRoaXMuX3dhdGNoTGlzdC5yZXNldCgpO2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXRbbl1pbnN0YW5jZW9mIGkuU291bmQ/dGhpcy5nYW1lLmNhY2hlLmlzU291bmREZWNvZGVkKHRbbl0ua2V5KXx8dGhpcy5fd2F0Y2hMaXN0LmFkZCh0W25dLmtleSk6dGhpcy5nYW1lLmNhY2hlLmlzU291bmREZWNvZGVkKHRbbl0pfHx0aGlzLl93YXRjaExpc3QuYWRkKHRbbl0pOzA9PT10aGlzLl93YXRjaExpc3QudG90YWw/KHRoaXMuX3dhdGNoaW5nPSExLGUuY2FsbChzKSk6KHRoaXMuX3dhdGNoaW5nPSEwLHRoaXMuX3dhdGNoQ2FsbGJhY2s9ZSx0aGlzLl93YXRjaENvbnRleHQ9cyl9LHVwZGF0ZTpmdW5jdGlvbigpe2lmKCF0aGlzLm5vQXVkaW8peyF0aGlzLnRvdWNoTG9ja2VkfHxudWxsPT09dGhpcy5fdW5sb2NrU291cmNlfHx0aGlzLl91bmxvY2tTb3VyY2UucGxheWJhY2tTdGF0ZSE9PXRoaXMuX3VubG9ja1NvdXJjZS5QTEFZSU5HX1NUQVRFJiZ0aGlzLl91bmxvY2tTb3VyY2UucGxheWJhY2tTdGF0ZSE9PXRoaXMuX3VubG9ja1NvdXJjZS5GSU5JU0hFRF9TVEFURXx8KHRoaXMudG91Y2hMb2NrZWQ9ITEsdGhpcy5fdW5sb2NrU291cmNlPW51bGwpO2Zvcih2YXIgdD0wO3Q8dGhpcy5fc291bmRzLmxlbmd0aDt0KyspdGhpcy5fc291bmRzW3RdLnVwZGF0ZSgpO2lmKHRoaXMuX3dhdGNoaW5nKXtmb3IodmFyIGU9dGhpcy5fd2F0Y2hMaXN0LmZpcnN0O2U7KXRoaXMuZ2FtZS5jYWNoZS5pc1NvdW5kRGVjb2RlZChlKSYmdGhpcy5fd2F0Y2hMaXN0LnJlbW92ZShlKSxlPXRoaXMuX3dhdGNoTGlzdC5uZXh0OzA9PT10aGlzLl93YXRjaExpc3QudG90YWwmJih0aGlzLl93YXRjaGluZz0hMSx0aGlzLl93YXRjaENhbGxiYWNrLmNhbGwodGhpcy5fd2F0Y2hDb250ZXh0KSl9fX0sYWRkOmZ1bmN0aW9uKHQsZSxzLG4pe3ZvaWQgMD09PWUmJihlPTEpLHZvaWQgMD09PXMmJihzPSExKSx2b2lkIDA9PT1uJiYobj10aGlzLmNvbm5lY3RUb01hc3Rlcik7dmFyIG89bmV3IGkuU291bmQodGhpcy5nYW1lLHQsZSxzLG4pO3JldHVybiB0aGlzLl9zb3VuZHMucHVzaChvKSxvfSxhZGRTcHJpdGU6ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBpLkF1ZGlvU3ByaXRlKHRoaXMuZ2FtZSx0KX0scmVtb3ZlOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLl9zb3VuZHMubGVuZ3RoO2UtLTspaWYodGhpcy5fc291bmRzW2VdPT09dClyZXR1cm4gdGhpcy5fc291bmRzW2VdLmRlc3Ryb3koITEpLHRoaXMuX3NvdW5kcy5zcGxpY2UoZSwxKSwhMDtyZXR1cm4hMX0scmVtb3ZlQnlLZXk6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMuX3NvdW5kcy5sZW5ndGgsaT0wO2UtLTspdGhpcy5fc291bmRzW2VdLmtleT09PXQmJih0aGlzLl9zb3VuZHNbZV0uZGVzdHJveSghMSksdGhpcy5fc291bmRzLnNwbGljZShlLDEpLGkrKyk7cmV0dXJuIGl9LHBsYXk6ZnVuY3Rpb24odCxlLGkpe2lmKCF0aGlzLm5vQXVkaW8pe3ZhciBzPXRoaXMuYWRkKHQsZSxpKTtyZXR1cm4gcy5wbGF5KCksc319LHNldE11dGU6ZnVuY3Rpb24oKXtpZighdGhpcy5fbXV0ZWQpe3RoaXMuX211dGVkPSEwLHRoaXMudXNpbmdXZWJBdWRpbyYmKHRoaXMuX211dGVWb2x1bWU9dGhpcy5tYXN0ZXJHYWluLmdhaW4udmFsdWUsdGhpcy5fc2V0R2FpbigwKSk7Zm9yKHZhciB0PTA7dDx0aGlzLl9zb3VuZHMubGVuZ3RoO3QrKyl0aGlzLl9zb3VuZHNbdF0udXNpbmdBdWRpb1RhZyYmKHRoaXMuX3NvdW5kc1t0XS5tdXRlPSEwKTt0aGlzLm9uTXV0ZS5kaXNwYXRjaCgpfX0sdW5zZXRNdXRlOmZ1bmN0aW9uKCl7aWYodGhpcy5fbXV0ZWQmJiF0aGlzLl9jb2RlTXV0ZWQpe3RoaXMuX211dGVkPSExLHRoaXMudXNpbmdXZWJBdWRpbyYmdGhpcy5fc2V0R2Fpbih0aGlzLl9tdXRlVm9sdW1lKTtmb3IodmFyIHQ9MDt0PHRoaXMuX3NvdW5kcy5sZW5ndGg7dCsrKXRoaXMuX3NvdW5kc1t0XS51c2luZ0F1ZGlvVGFnJiYodGhpcy5fc291bmRzW3RdLm11dGU9ITEpO3RoaXMub25Vbk11dGUuZGlzcGF0Y2goKX19LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLnN0b3BBbGwoKTtmb3IodmFyIHQ9MDt0PHRoaXMuX3NvdW5kcy5sZW5ndGg7dCsrKXRoaXMuX3NvdW5kc1t0XSYmdGhpcy5fc291bmRzW3RdLmRlc3Ryb3koKTt0aGlzLl9zb3VuZHM9W10sdGhpcy5vblNvdW5kRGVjb2RlLmRpc3Bvc2UoKSx0aGlzLmNvbnRleHQmJih3aW5kb3cuUGhhc2VyR2xvYmFsP3dpbmRvdy5QaGFzZXJHbG9iYWwuYXVkaW9Db250ZXh0PXRoaXMuY29udGV4dDp0aGlzLmNvbnRleHQuY2xvc2UmJnRoaXMuY29udGV4dC5jbG9zZSgpKX0sX3NldEdhaW46ZnVuY3Rpb24odCl7dGhpcy5tYXN0ZXJHYWluLmdhaW4uc2V0VGFyZ2V0QXRUaW1lKHQsMCwuMDEpfX0saS5Tb3VuZE1hbmFnZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yPWkuU291bmRNYW5hZ2VyLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLlNvdW5kTWFuYWdlci5wcm90b3R5cGUsXCJtdXRlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9tdXRlZH0sc2V0OmZ1bmN0aW9uKHQpe2lmKHQ9dHx8ITEpe2lmKHRoaXMuX211dGVkKXJldHVybjt0aGlzLl9jb2RlTXV0ZWQ9ITAsdGhpcy5zZXRNdXRlKCl9ZWxzZXtpZighdGhpcy5fbXV0ZWQpcmV0dXJuO3RoaXMuX2NvZGVNdXRlZD0hMSx0aGlzLnVuc2V0TXV0ZSgpfX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5Tb3VuZE1hbmFnZXIucHJvdG90eXBlLFwidm9sdW1lXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl92b2x1bWV9LHNldDpmdW5jdGlvbih0KXtpZih0PDA/dD0wOnQ+MSYmKHQ9MSksdGhpcy5fdm9sdW1lIT09dCl7aWYodGhpcy5fdm9sdW1lPXQsdGhpcy51c2luZ1dlYkF1ZGlvKXRoaXMuX3NldEdhaW4odCk7ZWxzZSBmb3IodmFyIGU9MDtlPHRoaXMuX3NvdW5kcy5sZW5ndGg7ZSsrKXRoaXMuX3NvdW5kc1tlXS51c2luZ0F1ZGlvVGFnJiZ0aGlzLl9zb3VuZHNbZV0udXBkYXRlR2xvYmFsVm9sdW1lKHQpO3RoaXMub25Wb2x1bWVDaGFuZ2UuZGlzcGF0Y2godCl9fX0pLGkuU2NhbGVNYW5hZ2VyPWZ1bmN0aW9uKHQsZSxzKXt0aGlzLmdhbWU9dCx0aGlzLmRvbT1pLkRPTSx0aGlzLmdyaWQ9bnVsbCx0aGlzLndpZHRoPTAsdGhpcy5oZWlnaHQ9MCx0aGlzLm1pbldpZHRoPW51bGwsdGhpcy5tYXhXaWR0aD1udWxsLHRoaXMubWluSGVpZ2h0PW51bGwsdGhpcy5tYXhIZWlnaHQ9bnVsbCx0aGlzLm9mZnNldD1uZXcgaS5Qb2ludCx0aGlzLmZvcmNlTGFuZHNjYXBlPSExLHRoaXMuZm9yY2VQb3J0cmFpdD0hMSx0aGlzLmluY29ycmVjdE9yaWVudGF0aW9uPSExLHRoaXMuX3BhZ2VBbGlnbkhvcml6b250YWxseT0hMSx0aGlzLl9wYWdlQWxpZ25WZXJ0aWNhbGx5PSExLHRoaXMub25PcmllbnRhdGlvbkNoYW5nZT1uZXcgaS5TaWduYWwsdGhpcy5lbnRlckluY29ycmVjdE9yaWVudGF0aW9uPW5ldyBpLlNpZ25hbCx0aGlzLmxlYXZlSW5jb3JyZWN0T3JpZW50YXRpb249bmV3IGkuU2lnbmFsLHRoaXMuaGFzUGhhc2VyU2V0RnVsbFNjcmVlbj0hMSx0aGlzLmZ1bGxTY3JlZW5UYXJnZXQ9bnVsbCx0aGlzLl9jcmVhdGVkRnVsbFNjcmVlblRhcmdldD1udWxsLHRoaXMub25GdWxsU2NyZWVuSW5pdD1uZXcgaS5TaWduYWwsdGhpcy5vbkZ1bGxTY3JlZW5DaGFuZ2U9bmV3IGkuU2lnbmFsLHRoaXMub25GdWxsU2NyZWVuRXJyb3I9bmV3IGkuU2lnbmFsLHRoaXMuc2NyZWVuT3JpZW50YXRpb249dGhpcy5kb20uZ2V0U2NyZWVuT3JpZW50YXRpb24oKSx0aGlzLnNjYWxlRmFjdG9yPW5ldyBpLlBvaW50KDEsMSksdGhpcy5zY2FsZUZhY3RvckludmVyc2VkPW5ldyBpLlBvaW50KDEsMSksdGhpcy5tYXJnaW49e2xlZnQ6MCx0b3A6MCxyaWdodDowLGJvdHRvbTowLHg6MCx5OjB9LHRoaXMuYm91bmRzPW5ldyBpLlJlY3RhbmdsZSx0aGlzLmFzcGVjdFJhdGlvPTAsdGhpcy5zb3VyY2VBc3BlY3RSYXRpbz0wLHRoaXMuZXZlbnQ9bnVsbCx0aGlzLndpbmRvd0NvbnN0cmFpbnRzPXtyaWdodDpcImxheW91dFwiLGJvdHRvbTpcIlwifSx0aGlzLmNvbXBhdGliaWxpdHk9e3N1cHBvcnRzRnVsbFNjcmVlbjohMSxvcmllbnRhdGlvbkZhbGxiYWNrOm51bGwsbm9NYXJnaW5zOiExLHNjcm9sbFRvOm51bGwsZm9yY2VNaW5pbXVtRG9jdW1lbnRIZWlnaHQ6ITEsY2FuRXhwYW5kUGFyZW50OiEwLGNsaWNrVHJhbXBvbGluZTpcIlwifSx0aGlzLl9zY2FsZU1vZGU9aS5TY2FsZU1hbmFnZXIuTk9fU0NBTEUsdGhpcy5fZnVsbFNjcmVlblNjYWxlTW9kZT1pLlNjYWxlTWFuYWdlci5OT19TQ0FMRSx0aGlzLnBhcmVudElzV2luZG93PSExLHRoaXMucGFyZW50Tm9kZT1udWxsLHRoaXMucGFyZW50U2NhbGVGYWN0b3I9bmV3IGkuUG9pbnQoMSwxKSx0aGlzLnRyYWNrUGFyZW50SW50ZXJ2YWw9MmUzLHRoaXMub25TaXplQ2hhbmdlPW5ldyBpLlNpZ25hbCx0aGlzLm9uUmVzaXplPW51bGwsdGhpcy5vblJlc2l6ZUNvbnRleHQ9bnVsbCx0aGlzLl9wZW5kaW5nU2NhbGVNb2RlPW51bGwsdGhpcy5fZnVsbFNjcmVlblJlc3RvcmU9bnVsbCx0aGlzLl9nYW1lU2l6ZT1uZXcgaS5SZWN0YW5nbGUsdGhpcy5fdXNlclNjYWxlRmFjdG9yPW5ldyBpLlBvaW50KDEsMSksdGhpcy5fdXNlclNjYWxlVHJpbT1uZXcgaS5Qb2ludCgwLDApLHRoaXMuX2xhc3RVcGRhdGU9MCx0aGlzLl91cGRhdGVUaHJvdHRsZT0wLHRoaXMuX3VwZGF0ZVRocm90dGxlUmVzZXQ9MTAwLHRoaXMuX3BhcmVudEJvdW5kcz1uZXcgaS5SZWN0YW5nbGUsdGhpcy5fdGVtcEJvdW5kcz1uZXcgaS5SZWN0YW5nbGUsdGhpcy5fbGFzdFJlcG9ydGVkQ2FudmFzU2l6ZT1uZXcgaS5SZWN0YW5nbGUsdGhpcy5fbGFzdFJlcG9ydGVkR2FtZVNpemU9bmV3IGkuUmVjdGFuZ2xlLHRoaXMuX2Jvb3RlZD0hMSx0LmNvbmZpZyYmdGhpcy5wYXJzZUNvbmZpZyh0LmNvbmZpZyksdGhpcy5zZXR1cFNjYWxlKGUscyl9LGkuU2NhbGVNYW5hZ2VyLkVYQUNUX0ZJVD0wLGkuU2NhbGVNYW5hZ2VyLk5PX1NDQUxFPTEsaS5TY2FsZU1hbmFnZXIuU0hPV19BTEw9MixpLlNjYWxlTWFuYWdlci5SRVNJWkU9MyxpLlNjYWxlTWFuYWdlci5VU0VSX1NDQUxFPTQsaS5TY2FsZU1hbmFnZXIucHJvdG90eXBlPXtib290OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5jb21wYXRpYmlsaXR5O3Quc3VwcG9ydHNGdWxsU2NyZWVuPXRoaXMuZ2FtZS5kZXZpY2UuZnVsbHNjcmVlbiYmIXRoaXMuZ2FtZS5kZXZpY2UuY29jb29uSlMsdGhpcy5nYW1lLmRldmljZS5pUGFkfHx0aGlzLmdhbWUuZGV2aWNlLndlYkFwcHx8dGhpcy5nYW1lLmRldmljZS5kZXNrdG9wfHwodGhpcy5nYW1lLmRldmljZS5hbmRyb2lkJiYhdGhpcy5nYW1lLmRldmljZS5jaHJvbWU/dC5zY3JvbGxUbz1uZXcgaS5Qb2ludCgwLDEpOnQuc2Nyb2xsVG89bmV3IGkuUG9pbnQoMCwwKSksdGhpcy5nYW1lLmRldmljZS5kZXNrdG9wPyh0Lm9yaWVudGF0aW9uRmFsbGJhY2s9XCJzY3JlZW5cIix0LmNsaWNrVHJhbXBvbGluZT1cIndoZW4tbm90LW1vdXNlXCIpOih0Lm9yaWVudGF0aW9uRmFsbGJhY2s9XCJcIix0LmNsaWNrVHJhbXBvbGluZT1cIlwiKTt2YXIgZT10aGlzO3RoaXMuX29yaWVudGF0aW9uQ2hhbmdlPWZ1bmN0aW9uKHQpe3JldHVybiBlLm9yaWVudGF0aW9uQ2hhbmdlKHQpfSx0aGlzLl93aW5kb3dSZXNpemU9ZnVuY3Rpb24odCl7cmV0dXJuIGUud2luZG93UmVzaXplKHQpfSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm9yaWVudGF0aW9uY2hhbmdlXCIsdGhpcy5fb3JpZW50YXRpb25DaGFuZ2UsITEpLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsdGhpcy5fd2luZG93UmVzaXplLCExKSx0aGlzLmNvbXBhdGliaWxpdHkuc3VwcG9ydHNGdWxsU2NyZWVuJiYodGhpcy5fZnVsbFNjcmVlbkNoYW5nZT1mdW5jdGlvbih0KXtyZXR1cm4gZS5mdWxsU2NyZWVuQ2hhbmdlKHQpfSx0aGlzLl9mdWxsU2NyZWVuRXJyb3I9ZnVuY3Rpb24odCl7cmV0dXJuIGUuZnVsbFNjcmVlbkVycm9yKHQpfSxkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwid2Via2l0ZnVsbHNjcmVlbmNoYW5nZVwiLHRoaXMuX2Z1bGxTY3JlZW5DaGFuZ2UsITEpLGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3pmdWxsc2NyZWVuY2hhbmdlXCIsdGhpcy5fZnVsbFNjcmVlbkNoYW5nZSwhMSksZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIk1TRnVsbHNjcmVlbkNoYW5nZVwiLHRoaXMuX2Z1bGxTY3JlZW5DaGFuZ2UsITEpLGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJmdWxsc2NyZWVuY2hhbmdlXCIsdGhpcy5fZnVsbFNjcmVlbkNoYW5nZSwhMSksZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIndlYmtpdGZ1bGxzY3JlZW5lcnJvclwiLHRoaXMuX2Z1bGxTY3JlZW5FcnJvciwhMSksZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vemZ1bGxzY3JlZW5lcnJvclwiLHRoaXMuX2Z1bGxTY3JlZW5FcnJvciwhMSksZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIk1TRnVsbHNjcmVlbkVycm9yXCIsdGhpcy5fZnVsbFNjcmVlbkVycm9yLCExKSxkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiZnVsbHNjcmVlbmVycm9yXCIsdGhpcy5fZnVsbFNjcmVlbkVycm9yLCExKSksdGhpcy5nYW1lLm9uUmVzdW1lLmFkZCh0aGlzLl9nYW1lUmVzdW1lZCx0aGlzKSx0aGlzLmRvbS5nZXRPZmZzZXQodGhpcy5nYW1lLmNhbnZhcyx0aGlzLm9mZnNldCksdGhpcy5ib3VuZHMuc2V0VG8odGhpcy5vZmZzZXQueCx0aGlzLm9mZnNldC55LHRoaXMud2lkdGgsdGhpcy5oZWlnaHQpLHRoaXMuc2V0R2FtZVNpemUodGhpcy5nYW1lLndpZHRoLHRoaXMuZ2FtZS5oZWlnaHQpLHRoaXMuc2NyZWVuT3JpZW50YXRpb249dGhpcy5kb20uZ2V0U2NyZWVuT3JpZW50YXRpb24odGhpcy5jb21wYXRpYmlsaXR5Lm9yaWVudGF0aW9uRmFsbGJhY2spLGkuRmxleEdyaWQmJih0aGlzLmdyaWQ9bmV3IGkuRmxleEdyaWQodGhpcyx0aGlzLndpZHRoLHRoaXMuaGVpZ2h0KSksdGhpcy5fYm9vdGVkPSEwLG51bGwhPT10aGlzLl9wZW5kaW5nU2NhbGVNb2RlJiYodGhpcy5zY2FsZU1vZGU9dGhpcy5fcGVuZGluZ1NjYWxlTW9kZSx0aGlzLl9wZW5kaW5nU2NhbGVNb2RlPW51bGwpfSxwYXJzZUNvbmZpZzpmdW5jdGlvbih0KXt2b2lkIDAhPT10LnNjYWxlTW9kZSYmKHRoaXMuX2Jvb3RlZD90aGlzLnNjYWxlTW9kZT10LnNjYWxlTW9kZTp0aGlzLl9wZW5kaW5nU2NhbGVNb2RlPXQuc2NhbGVNb2RlKSx2b2lkIDAhPT10LmZ1bGxTY3JlZW5TY2FsZU1vZGUmJih0aGlzLmZ1bGxTY3JlZW5TY2FsZU1vZGU9dC5mdWxsU2NyZWVuU2NhbGVNb2RlKSx0LmZ1bGxTY3JlZW5UYXJnZXQmJih0aGlzLmZ1bGxTY3JlZW5UYXJnZXQ9dC5mdWxsU2NyZWVuVGFyZ2V0KX0sc2V0dXBTY2FsZTpmdW5jdGlvbih0LGUpe3ZhciBzLG49bmV3IGkuUmVjdGFuZ2xlO1wiXCIhPT10aGlzLmdhbWUucGFyZW50JiYoXCJzdHJpbmdcIj09dHlwZW9mIHRoaXMuZ2FtZS5wYXJlbnQ/cz1kb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLmdhbWUucGFyZW50KTp0aGlzLmdhbWUucGFyZW50JiYxPT09dGhpcy5nYW1lLnBhcmVudC5ub2RlVHlwZSYmKHM9dGhpcy5nYW1lLnBhcmVudCkpLHM/KHRoaXMucGFyZW50Tm9kZT1zLHRoaXMucGFyZW50SXNXaW5kb3c9ITEsdGhpcy5nZXRQYXJlbnRCb3VuZHModGhpcy5fcGFyZW50Qm91bmRzKSxuLndpZHRoPXRoaXMuX3BhcmVudEJvdW5kcy53aWR0aCxuLmhlaWdodD10aGlzLl9wYXJlbnRCb3VuZHMuaGVpZ2h0LHRoaXMub2Zmc2V0LnNldCh0aGlzLl9wYXJlbnRCb3VuZHMueCx0aGlzLl9wYXJlbnRCb3VuZHMueSkpOih0aGlzLnBhcmVudE5vZGU9bnVsbCx0aGlzLnBhcmVudElzV2luZG93PSEwLG4ud2lkdGg9dGhpcy5kb20udmlzdWFsQm91bmRzLndpZHRoLG4uaGVpZ2h0PXRoaXMuZG9tLnZpc3VhbEJvdW5kcy5oZWlnaHQsdGhpcy5vZmZzZXQuc2V0KDAsMCkpO3ZhciBvPTAscj0wO1wibnVtYmVyXCI9PXR5cGVvZiB0P289dDoodGhpcy5wYXJlbnRTY2FsZUZhY3Rvci54PXBhcnNlSW50KHQsMTApLzEwMCxvPW4ud2lkdGgqdGhpcy5wYXJlbnRTY2FsZUZhY3Rvci54KSxcIm51bWJlclwiPT10eXBlb2YgZT9yPWU6KHRoaXMucGFyZW50U2NhbGVGYWN0b3IueT1wYXJzZUludChlLDEwKS8xMDAscj1uLmhlaWdodCp0aGlzLnBhcmVudFNjYWxlRmFjdG9yLnkpLG89TWF0aC5mbG9vcihvKSxyPU1hdGguZmxvb3IociksdGhpcy5fZ2FtZVNpemUuc2V0VG8oMCwwLG8sciksdGhpcy51cGRhdGVEaW1lbnNpb25zKG8sciwhMSl9LF9nYW1lUmVzdW1lZDpmdW5jdGlvbigpe3RoaXMucXVldWVVcGRhdGUoITApfSxzZXRHYW1lU2l6ZTpmdW5jdGlvbih0LGUpe3RoaXMuX2dhbWVTaXplLnNldFRvKDAsMCx0LGUpLHRoaXMuY3VycmVudFNjYWxlTW9kZSE9PWkuU2NhbGVNYW5hZ2VyLlJFU0laRSYmdGhpcy51cGRhdGVEaW1lbnNpb25zKHQsZSwhMCksdGhpcy5xdWV1ZVVwZGF0ZSghMCl9LHNldFVzZXJTY2FsZTpmdW5jdGlvbih0LGUsaSxzLG4sbyl7dGhpcy5fdXNlclNjYWxlRmFjdG9yLnNldFRvKHQsZSksdGhpcy5fdXNlclNjYWxlVHJpbS5zZXRUbygwfGksMHxzKSx2b2lkIDA9PT1uJiYobj0hMCksdm9pZCAwPT09byYmKG89ITApLG4mJnRoaXMucXVldWVVcGRhdGUobyl9LHNldFJlc2l6ZUNhbGxiYWNrOmZ1bmN0aW9uKHQsZSl7dGhpcy5vblJlc2l6ZT10LHRoaXMub25SZXNpemVDb250ZXh0PWV9LHNpZ25hbFNpemVDaGFuZ2U6ZnVuY3Rpb24oKXtpZighaS5SZWN0YW5nbGUuc2FtZURpbWVuc2lvbnModGhpcyx0aGlzLl9sYXN0UmVwb3J0ZWRDYW52YXNTaXplKXx8IWkuUmVjdGFuZ2xlLnNhbWVEaW1lbnNpb25zKHRoaXMuZ2FtZSx0aGlzLl9sYXN0UmVwb3J0ZWRHYW1lU2l6ZSkpe3ZhciB0PXRoaXMud2lkdGgsZT10aGlzLmhlaWdodDt0aGlzLl9sYXN0UmVwb3J0ZWRDYW52YXNTaXplLnNldFRvKDAsMCx0LGUpLHRoaXMuX2xhc3RSZXBvcnRlZEdhbWVTaXplLnNldFRvKDAsMCx0aGlzLmdhbWUud2lkdGgsdGhpcy5nYW1lLmhlaWdodCksdGhpcy5ncmlkJiZ0aGlzLmdyaWQub25SZXNpemUodCxlKSx0aGlzLm9uU2l6ZUNoYW5nZS5kaXNwYXRjaCh0aGlzLHQsZSksdGhpcy5jdXJyZW50U2NhbGVNb2RlPT09aS5TY2FsZU1hbmFnZXIuUkVTSVpFJiYodGhpcy5nYW1lLnN0YXRlLnJlc2l6ZSh0LGUpLHRoaXMuZ2FtZS5sb2FkLnJlc2l6ZSh0LGUpKX19LHNldE1pbk1heDpmdW5jdGlvbih0LGUsaSxzKXt0aGlzLm1pbldpZHRoPXQsdGhpcy5taW5IZWlnaHQ9ZSx2b2lkIDAhPT1pJiYodGhpcy5tYXhXaWR0aD1pKSx2b2lkIDAhPT1zJiYodGhpcy5tYXhIZWlnaHQ9cyl9LHByZVVwZGF0ZTpmdW5jdGlvbigpe2lmKCEodGhpcy5nYW1lLnRpbWUudGltZTx0aGlzLl9sYXN0VXBkYXRlK3RoaXMuX3VwZGF0ZVRocm90dGxlKSl7dmFyIHQ9dGhpcy5fdXBkYXRlVGhyb3R0bGU7dGhpcy5fdXBkYXRlVGhyb3R0bGVSZXNldD10Pj00MDA/MDoxMDAsdGhpcy5kb20uZ2V0T2Zmc2V0KHRoaXMuZ2FtZS5jYW52YXMsdGhpcy5vZmZzZXQpO3ZhciBlPXRoaXMuX3BhcmVudEJvdW5kcy53aWR0aCxzPXRoaXMuX3BhcmVudEJvdW5kcy5oZWlnaHQsbj10aGlzLmdldFBhcmVudEJvdW5kcyh0aGlzLl9wYXJlbnRCb3VuZHMpLG89bi53aWR0aCE9PWV8fG4uaGVpZ2h0IT09cyxyPXRoaXMudXBkYXRlT3JpZW50YXRpb25TdGF0ZSgpOyhvfHxyKSYmKHRoaXMub25SZXNpemUmJnRoaXMub25SZXNpemUuY2FsbCh0aGlzLm9uUmVzaXplQ29udGV4dCx0aGlzLG4pLHRoaXMudXBkYXRlTGF5b3V0KCksdGhpcy5zaWduYWxTaXplQ2hhbmdlKCkpO3ZhciBhPTIqdGhpcy5fdXBkYXRlVGhyb3R0bGU7dGhpcy5fdXBkYXRlVGhyb3R0bGU8dCYmKGE9TWF0aC5taW4odCx0aGlzLl91cGRhdGVUaHJvdHRsZVJlc2V0KSksdGhpcy5fdXBkYXRlVGhyb3R0bGU9aS5NYXRoLmNsYW1wKGEsMjUsdGhpcy50cmFja1BhcmVudEludGVydmFsKSx0aGlzLl9sYXN0VXBkYXRlPXRoaXMuZ2FtZS50aW1lLnRpbWV9fSxwYXVzZVVwZGF0ZTpmdW5jdGlvbigpe3RoaXMucHJlVXBkYXRlKCksdGhpcy5fdXBkYXRlVGhyb3R0bGU9dGhpcy50cmFja1BhcmVudEludGVydmFsfSx1cGRhdGVEaW1lbnNpb25zOmZ1bmN0aW9uKHQsZSxpKXt0aGlzLndpZHRoPXQqdGhpcy5wYXJlbnRTY2FsZUZhY3Rvci54LHRoaXMuaGVpZ2h0PWUqdGhpcy5wYXJlbnRTY2FsZUZhY3Rvci55LHRoaXMuZ2FtZS53aWR0aD10aGlzLndpZHRoLHRoaXMuZ2FtZS5oZWlnaHQ9dGhpcy5oZWlnaHQsdGhpcy5zb3VyY2VBc3BlY3RSYXRpbz10aGlzLndpZHRoL3RoaXMuaGVpZ2h0LHRoaXMudXBkYXRlU2NhbGluZ0FuZEJvdW5kcygpLGkmJih0aGlzLmdhbWUucmVuZGVyZXIucmVzaXplKHRoaXMud2lkdGgsdGhpcy5oZWlnaHQpLHRoaXMuZ2FtZS5jYW1lcmEuc2V0U2l6ZSh0aGlzLndpZHRoLHRoaXMuaGVpZ2h0KSx0aGlzLmdhbWUud29ybGQucmVzaXplKHRoaXMud2lkdGgsdGhpcy5oZWlnaHQpKX0sdXBkYXRlU2NhbGluZ0FuZEJvdW5kczpmdW5jdGlvbigpe3RoaXMuc2NhbGVGYWN0b3IueD10aGlzLmdhbWUud2lkdGgvdGhpcy53aWR0aCx0aGlzLnNjYWxlRmFjdG9yLnk9dGhpcy5nYW1lLmhlaWdodC90aGlzLmhlaWdodCx0aGlzLnNjYWxlRmFjdG9ySW52ZXJzZWQueD10aGlzLndpZHRoL3RoaXMuZ2FtZS53aWR0aCx0aGlzLnNjYWxlRmFjdG9ySW52ZXJzZWQueT10aGlzLmhlaWdodC90aGlzLmdhbWUuaGVpZ2h0LHRoaXMuYXNwZWN0UmF0aW89dGhpcy53aWR0aC90aGlzLmhlaWdodCx0aGlzLmdhbWUuY2FudmFzJiZ0aGlzLmRvbS5nZXRPZmZzZXQodGhpcy5nYW1lLmNhbnZhcyx0aGlzLm9mZnNldCksdGhpcy5ib3VuZHMuc2V0VG8odGhpcy5vZmZzZXQueCx0aGlzLm9mZnNldC55LHRoaXMud2lkdGgsdGhpcy5oZWlnaHQpLHRoaXMuZ2FtZS5pbnB1dCYmdGhpcy5nYW1lLmlucHV0LnNjYWxlJiZ0aGlzLmdhbWUuaW5wdXQuc2NhbGUuc2V0VG8odGhpcy5zY2FsZUZhY3Rvci54LHRoaXMuc2NhbGVGYWN0b3IueSl9LGZvcmNlT3JpZW50YXRpb246ZnVuY3Rpb24odCxlKXt2b2lkIDA9PT1lJiYoZT0hMSksITAhPT10fHwhMCE9PWU/KHRoaXMuZm9yY2VMYW5kc2NhcGU9dCx0aGlzLmZvcmNlUG9ydHJhaXQ9ZSx0aGlzLnF1ZXVlVXBkYXRlKCEwKSk6Y29uc29sZS53YXJuKFwiUGhhc2VyLlNjYWxlTWFuYWdlcjogZm9yY2VMYW5kc2NhcGUgYW5kIGZvcmNlUG9ydHJhaXQgY2Fubm90IGJvdGggYmUgdHJ1ZS5cIil9LGNsYXNzaWZ5T3JpZW50YXRpb246ZnVuY3Rpb24odCl7cmV0dXJuXCJwb3J0cmFpdC1wcmltYXJ5XCI9PT10fHxcInBvcnRyYWl0LXNlY29uZGFyeVwiPT09dD9cInBvcnRyYWl0XCI6XCJsYW5kc2NhcGUtcHJpbWFyeVwiPT09dHx8XCJsYW5kc2NhcGUtc2Vjb25kYXJ5XCI9PT10P1wibGFuZHNjYXBlXCI6bnVsbH0sdXBkYXRlT3JpZW50YXRpb25TdGF0ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuc2NyZWVuT3JpZW50YXRpb24sZT10aGlzLmluY29ycmVjdE9yaWVudGF0aW9uO3RoaXMuc2NyZWVuT3JpZW50YXRpb249dGhpcy5kb20uZ2V0U2NyZWVuT3JpZW50YXRpb24odGhpcy5jb21wYXRpYmlsaXR5Lm9yaWVudGF0aW9uRmFsbGJhY2spLHRoaXMuaW5jb3JyZWN0T3JpZW50YXRpb249dGhpcy5mb3JjZUxhbmRzY2FwZSYmIXRoaXMuaXNMYW5kc2NhcGV8fHRoaXMuZm9yY2VQb3J0cmFpdCYmIXRoaXMuaXNQb3J0cmFpdDt2YXIgaT10IT09dGhpcy5zY3JlZW5PcmllbnRhdGlvbixzPWUhPT10aGlzLmluY29ycmVjdE9yaWVudGF0aW9uO3JldHVybiBzJiYodGhpcy5pbmNvcnJlY3RPcmllbnRhdGlvbj90aGlzLmVudGVySW5jb3JyZWN0T3JpZW50YXRpb24uZGlzcGF0Y2goKTp0aGlzLmxlYXZlSW5jb3JyZWN0T3JpZW50YXRpb24uZGlzcGF0Y2goKSksKGl8fHMpJiZ0aGlzLm9uT3JpZW50YXRpb25DaGFuZ2UuZGlzcGF0Y2godGhpcyx0LGUpLGl8fHN9LG9yaWVudGF0aW9uQ2hhbmdlOmZ1bmN0aW9uKHQpe3RoaXMuZXZlbnQ9dCx0aGlzLnF1ZXVlVXBkYXRlKCEwKX0sd2luZG93UmVzaXplOmZ1bmN0aW9uKHQpe3RoaXMuZXZlbnQ9dCx0aGlzLnF1ZXVlVXBkYXRlKCEwKX0sc2Nyb2xsVG9wOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5jb21wYXRpYmlsaXR5LnNjcm9sbFRvO3QmJndpbmRvdy5zY3JvbGxUbyh0LngsdC55KX0scmVmcmVzaDpmdW5jdGlvbigpe3RoaXMuc2Nyb2xsVG9wKCksdGhpcy5xdWV1ZVVwZGF0ZSghMCl9LHVwZGF0ZUxheW91dDpmdW5jdGlvbigpe3ZhciB0PXRoaXMuY3VycmVudFNjYWxlTW9kZTtpZih0IT09aS5TY2FsZU1hbmFnZXIuUkVTSVpFKXtpZih0aGlzLnNjcm9sbFRvcCgpLHRoaXMuY29tcGF0aWJpbGl0eS5mb3JjZU1pbmltdW1Eb2N1bWVudEhlaWdodCYmKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5taW5IZWlnaHQ9d2luZG93LmlubmVySGVpZ2h0K1wicHhcIiksdGhpcy5pbmNvcnJlY3RPcmllbnRhdGlvbj90aGlzLnNldE1heGltdW0oKTp0PT09aS5TY2FsZU1hbmFnZXIuRVhBQ1RfRklUP3RoaXMuc2V0RXhhY3RGaXQoKTp0PT09aS5TY2FsZU1hbmFnZXIuU0hPV19BTEw/IXRoaXMuaXNGdWxsU2NyZWVuJiZ0aGlzLmJvdW5kaW5nUGFyZW50JiZ0aGlzLmNvbXBhdGliaWxpdHkuY2FuRXhwYW5kUGFyZW50Pyh0aGlzLnNldFNob3dBbGwoITApLHRoaXMucmVzZXRDYW52YXMoKSx0aGlzLnNldFNob3dBbGwoKSk6dGhpcy5zZXRTaG93QWxsKCk6dD09PWkuU2NhbGVNYW5hZ2VyLk5PX1NDQUxFPyh0aGlzLndpZHRoPXRoaXMuZ2FtZS53aWR0aCx0aGlzLmhlaWdodD10aGlzLmdhbWUuaGVpZ2h0KTp0PT09aS5TY2FsZU1hbmFnZXIuVVNFUl9TQ0FMRSYmKHRoaXMud2lkdGg9dGhpcy5nYW1lLndpZHRoKnRoaXMuX3VzZXJTY2FsZUZhY3Rvci54LXRoaXMuX3VzZXJTY2FsZVRyaW0ueCx0aGlzLmhlaWdodD10aGlzLmdhbWUuaGVpZ2h0KnRoaXMuX3VzZXJTY2FsZUZhY3Rvci55LXRoaXMuX3VzZXJTY2FsZVRyaW0ueSksIXRoaXMuY29tcGF0aWJpbGl0eS5jYW5FeHBhbmRQYXJlbnQmJih0PT09aS5TY2FsZU1hbmFnZXIuU0hPV19BTEx8fHQ9PT1pLlNjYWxlTWFuYWdlci5VU0VSX1NDQUxFKSl7dmFyIGU9dGhpcy5nZXRQYXJlbnRCb3VuZHModGhpcy5fdGVtcEJvdW5kcyk7dGhpcy53aWR0aD1NYXRoLm1pbih0aGlzLndpZHRoLGUud2lkdGgpLHRoaXMuaGVpZ2h0PU1hdGgubWluKHRoaXMuaGVpZ2h0LGUuaGVpZ2h0KX10aGlzLndpZHRoPTB8dGhpcy53aWR0aCx0aGlzLmhlaWdodD0wfHRoaXMuaGVpZ2h0LHRoaXMucmVmbG93Q2FudmFzKCl9ZWxzZSB0aGlzLnJlZmxvd0dhbWUoKX0sZ2V0UGFyZW50Qm91bmRzOmZ1bmN0aW9uKHQpe3ZhciBlPXR8fG5ldyBpLlJlY3RhbmdsZSxzPXRoaXMuYm91bmRpbmdQYXJlbnQsbj10aGlzLmRvbS52aXN1YWxCb3VuZHMsbz10aGlzLmRvbS5sYXlvdXRCb3VuZHM7aWYocyl7dmFyIHI9cy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxhPXMub2Zmc2V0UGFyZW50P3Mub2Zmc2V0UGFyZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOnMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7ZS5zZXRUbyhyLmxlZnQtYS5sZWZ0LHIudG9wLWEudG9wLHIud2lkdGgsci5oZWlnaHQpO3ZhciBoPXRoaXMud2luZG93Q29uc3RyYWludHM7aWYoaC5yaWdodCl7bD1cImxheW91dFwiPT09aC5yaWdodD9vOm47ZS5yaWdodD1NYXRoLm1pbihlLnJpZ2h0LGwud2lkdGgpfWlmKGguYm90dG9tKXt2YXIgbD1cImxheW91dFwiPT09aC5ib3R0b20/bzpuO2UuYm90dG9tPU1hdGgubWluKGUuYm90dG9tLGwuaGVpZ2h0KX19ZWxzZSBlLnNldFRvKDAsMCxuLndpZHRoLG4uaGVpZ2h0KTtyZXR1cm4gZS5zZXRUbyhNYXRoLnJvdW5kKGUueCksTWF0aC5yb3VuZChlLnkpLE1hdGgucm91bmQoZS53aWR0aCksTWF0aC5yb3VuZChlLmhlaWdodCkpLGV9LGFsaWduOmZ1bmN0aW9uKHQsZSl7bnVsbCE9dCYmKHRoaXMucGFnZUFsaWduSG9yaXpvbnRhbGx5PXQpLG51bGwhPWUmJih0aGlzLnBhZ2VBbGlnblZlcnRpY2FsbHk9ZSl9LGFsaWduQ2FudmFzOmZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5nZXRQYXJlbnRCb3VuZHModGhpcy5fdGVtcEJvdW5kcykscz10aGlzLmdhbWUuY2FudmFzLG49dGhpcy5tYXJnaW47aWYodCl7bi5sZWZ0PW4ucmlnaHQ9MDtoPXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7aWYodGhpcy53aWR0aDxpLndpZHRoJiYhdGhpcy5pbmNvcnJlY3RPcmllbnRhdGlvbil7dmFyIG89aC5sZWZ0LWkueCxyPWkud2lkdGgvMi10aGlzLndpZHRoLzIsYT0ocj1NYXRoLm1heChyLDApKS1vO24ubGVmdD1NYXRoLnJvdW5kKGEpfXMuc3R5bGUubWFyZ2luTGVmdD1uLmxlZnQrXCJweFwiLDAhPT1uLmxlZnQmJihuLnJpZ2h0PS0oaS53aWR0aC1oLndpZHRoLW4ubGVmdCkscy5zdHlsZS5tYXJnaW5SaWdodD1uLnJpZ2h0K1wicHhcIil9aWYoZSl7bi50b3A9bi5ib3R0b209MDt2YXIgaD1zLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO2lmKHRoaXMuaGVpZ2h0PGkuaGVpZ2h0JiYhdGhpcy5pbmNvcnJlY3RPcmllbnRhdGlvbil7dmFyIG89aC50b3AtaS55LHI9aS5oZWlnaHQvMi10aGlzLmhlaWdodC8yLGE9KHI9TWF0aC5tYXgociwwKSktbztuLnRvcD1NYXRoLnJvdW5kKGEpfXMuc3R5bGUubWFyZ2luVG9wPW4udG9wK1wicHhcIiwwIT09bi50b3AmJihuLmJvdHRvbT0tKGkuaGVpZ2h0LWguaGVpZ2h0LW4udG9wKSxzLnN0eWxlLm1hcmdpbkJvdHRvbT1uLmJvdHRvbStcInB4XCIpfW4ueD1uLmxlZnQsbi55PW4udG9wfSxyZWZsb3dHYW1lOmZ1bmN0aW9uKCl7dGhpcy5yZXNldENhbnZhcyhcIlwiLFwiXCIpO3ZhciB0PXRoaXMuZ2V0UGFyZW50Qm91bmRzKHRoaXMuX3RlbXBCb3VuZHMpO3RoaXMudXBkYXRlRGltZW5zaW9ucyh0LndpZHRoLHQuaGVpZ2h0LCEwKX0scmVmbG93Q2FudmFzOmZ1bmN0aW9uKCl7dGhpcy5pbmNvcnJlY3RPcmllbnRhdGlvbnx8KHRoaXMud2lkdGg9aS5NYXRoLmNsYW1wKHRoaXMud2lkdGgsdGhpcy5taW5XaWR0aHx8MCx0aGlzLm1heFdpZHRofHx0aGlzLndpZHRoKSx0aGlzLmhlaWdodD1pLk1hdGguY2xhbXAodGhpcy5oZWlnaHQsdGhpcy5taW5IZWlnaHR8fDAsdGhpcy5tYXhIZWlnaHR8fHRoaXMuaGVpZ2h0KSksdGhpcy5yZXNldENhbnZhcygpLHRoaXMuY29tcGF0aWJpbGl0eS5ub01hcmdpbnN8fCh0aGlzLmlzRnVsbFNjcmVlbiYmdGhpcy5fY3JlYXRlZEZ1bGxTY3JlZW5UYXJnZXQ/dGhpcy5hbGlnbkNhbnZhcyghMCwhMCk6dGhpcy5hbGlnbkNhbnZhcyh0aGlzLnBhZ2VBbGlnbkhvcml6b250YWxseSx0aGlzLnBhZ2VBbGlnblZlcnRpY2FsbHkpKSx0aGlzLnVwZGF0ZVNjYWxpbmdBbmRCb3VuZHMoKX0scmVzZXRDYW52YXM6ZnVuY3Rpb24odCxlKXt2b2lkIDA9PT10JiYodD10aGlzLndpZHRoK1wicHhcIiksdm9pZCAwPT09ZSYmKGU9dGhpcy5oZWlnaHQrXCJweFwiKTt2YXIgaT10aGlzLmdhbWUuY2FudmFzO3RoaXMuY29tcGF0aWJpbGl0eS5ub01hcmdpbnN8fChpLnN0eWxlLm1hcmdpbkxlZnQ9XCJcIixpLnN0eWxlLm1hcmdpblRvcD1cIlwiLGkuc3R5bGUubWFyZ2luUmlnaHQ9XCJcIixpLnN0eWxlLm1hcmdpbkJvdHRvbT1cIlwiKSxpLnN0eWxlLndpZHRoPXQsaS5zdHlsZS5oZWlnaHQ9ZX0scXVldWVVcGRhdGU6ZnVuY3Rpb24odCl7dCYmKHRoaXMuX3BhcmVudEJvdW5kcy53aWR0aD0wLHRoaXMuX3BhcmVudEJvdW5kcy5oZWlnaHQ9MCksdGhpcy5fdXBkYXRlVGhyb3R0bGU9dGhpcy5fdXBkYXRlVGhyb3R0bGVSZXNldH0scmVzZXQ6ZnVuY3Rpb24odCl7dCYmdGhpcy5ncmlkJiZ0aGlzLmdyaWQucmVzZXQoKX0sc2V0TWF4aW11bTpmdW5jdGlvbigpe3RoaXMud2lkdGg9dGhpcy5kb20udmlzdWFsQm91bmRzLndpZHRoLHRoaXMuaGVpZ2h0PXRoaXMuZG9tLnZpc3VhbEJvdW5kcy5oZWlnaHR9LHNldFNob3dBbGw6ZnVuY3Rpb24odCl7dmFyIGUsaT10aGlzLmdldFBhcmVudEJvdW5kcyh0aGlzLl90ZW1wQm91bmRzKSxzPWkud2lkdGgsbj1pLmhlaWdodDtlPXQ/TWF0aC5tYXgobi90aGlzLmdhbWUuaGVpZ2h0LHMvdGhpcy5nYW1lLndpZHRoKTpNYXRoLm1pbihuL3RoaXMuZ2FtZS5oZWlnaHQscy90aGlzLmdhbWUud2lkdGgpLHRoaXMud2lkdGg9TWF0aC5yb3VuZCh0aGlzLmdhbWUud2lkdGgqZSksdGhpcy5oZWlnaHQ9TWF0aC5yb3VuZCh0aGlzLmdhbWUuaGVpZ2h0KmUpfSxzZXRFeGFjdEZpdDpmdW5jdGlvbigpe3ZhciB0PXRoaXMuZ2V0UGFyZW50Qm91bmRzKHRoaXMuX3RlbXBCb3VuZHMpO3RoaXMud2lkdGg9dC53aWR0aCx0aGlzLmhlaWdodD10LmhlaWdodCx0aGlzLmlzRnVsbFNjcmVlbnx8KHRoaXMubWF4V2lkdGgmJih0aGlzLndpZHRoPU1hdGgubWluKHRoaXMud2lkdGgsdGhpcy5tYXhXaWR0aCkpLHRoaXMubWF4SGVpZ2h0JiYodGhpcy5oZWlnaHQ9TWF0aC5taW4odGhpcy5oZWlnaHQsdGhpcy5tYXhIZWlnaHQpKSl9LGNyZWF0ZUZ1bGxTY3JlZW5UYXJnZXQ6ZnVuY3Rpb24oKXt2YXIgdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO3JldHVybiB0LnN0eWxlLm1hcmdpbj1cIjBcIix0LnN0eWxlLnBhZGRpbmc9XCIwXCIsdC5zdHlsZS5iYWNrZ3JvdW5kPVwiIzAwMFwiLHR9LHN0YXJ0RnVsbFNjcmVlbjpmdW5jdGlvbih0LGUpe2lmKHRoaXMuaXNGdWxsU2NyZWVuKXJldHVybiExO3tpZih0aGlzLmNvbXBhdGliaWxpdHkuc3VwcG9ydHNGdWxsU2NyZWVuKXtpZihcIndoZW4tbm90LW1vdXNlXCI9PT10aGlzLmNvbXBhdGliaWxpdHkuY2xpY2tUcmFtcG9saW5lKXt2YXIgcz10aGlzLmdhbWUuaW5wdXQ7aWYocy5hY3RpdmVQb2ludGVyJiZzLmFjdGl2ZVBvaW50ZXIhPT1zLm1vdXNlUG9pbnRlciYmKGV8fCExIT09ZSkpcmV0dXJuIHZvaWQgcy5hY3RpdmVQb2ludGVyLmFkZENsaWNrVHJhbXBvbGluZShcInN0YXJ0RnVsbFNjcmVlblwiLHRoaXMuc3RhcnRGdWxsU2NyZWVuLHRoaXMsW3QsITFdKX12b2lkIDAhPT10JiZ0aGlzLmdhbWUucmVuZGVyVHlwZT09PWkuQ0FOVkFTJiYodGhpcy5nYW1lLnN0YWdlLnNtb290aGVkPXQpO3ZhciBuPXRoaXMuZnVsbFNjcmVlblRhcmdldDtufHwodGhpcy5jbGVhbnVwQ3JlYXRlZFRhcmdldCgpLHRoaXMuX2NyZWF0ZWRGdWxsU2NyZWVuVGFyZ2V0PXRoaXMuY3JlYXRlRnVsbFNjcmVlblRhcmdldCgpLG49dGhpcy5fY3JlYXRlZEZ1bGxTY3JlZW5UYXJnZXQpO3ZhciBvPXt0YXJnZXRFbGVtZW50Om59O2lmKHRoaXMuaGFzUGhhc2VyU2V0RnVsbFNjcmVlbj0hMCx0aGlzLm9uRnVsbFNjcmVlbkluaXQuZGlzcGF0Y2godGhpcyxvKSx0aGlzLl9jcmVhdGVkRnVsbFNjcmVlblRhcmdldCl7dmFyIHI9dGhpcy5nYW1lLmNhbnZhcztyLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKG4sciksbi5hcHBlbmRDaGlsZChyKX1yZXR1cm4gdGhpcy5nYW1lLmRldmljZS5mdWxsc2NyZWVuS2V5Ym9hcmQ/blt0aGlzLmdhbWUuZGV2aWNlLnJlcXVlc3RGdWxsc2NyZWVuXShFbGVtZW50LkFMTE9XX0tFWUJPQVJEX0lOUFVUKTpuW3RoaXMuZ2FtZS5kZXZpY2UucmVxdWVzdEZ1bGxzY3JlZW5dKCksITB9dmFyIGE9dGhpcztzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YS5mdWxsU2NyZWVuRXJyb3IoKX0sMTApfX0sc3RvcEZ1bGxTY3JlZW46ZnVuY3Rpb24oKXtyZXR1cm4hKCF0aGlzLmlzRnVsbFNjcmVlbnx8IXRoaXMuY29tcGF0aWJpbGl0eS5zdXBwb3J0c0Z1bGxTY3JlZW4pJiYodGhpcy5oYXNQaGFzZXJTZXRGdWxsU2NyZWVuPSExLGRvY3VtZW50W3RoaXMuZ2FtZS5kZXZpY2UuY2FuY2VsRnVsbHNjcmVlbl0oKSwhMCl9LGNsZWFudXBDcmVhdGVkVGFyZ2V0OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fY3JlYXRlZEZ1bGxTY3JlZW5UYXJnZXQ7aWYodCYmdC5wYXJlbnROb2RlKXt2YXIgZT10LnBhcmVudE5vZGU7ZS5pbnNlcnRCZWZvcmUodGhpcy5nYW1lLmNhbnZhcyx0KSxlLnJlbW92ZUNoaWxkKHQpfXRoaXMuX2NyZWF0ZWRGdWxsU2NyZWVuVGFyZ2V0PW51bGx9LHByZXBTY3JlZW5Nb2RlOmZ1bmN0aW9uKHQpe3ZhciBlPSEhdGhpcy5fY3JlYXRlZEZ1bGxTY3JlZW5UYXJnZXQscz10aGlzLl9jcmVhdGVkRnVsbFNjcmVlblRhcmdldHx8dGhpcy5mdWxsU2NyZWVuVGFyZ2V0O3Q/KGV8fHRoaXMuZnVsbFNjcmVlblNjYWxlTW9kZT09PWkuU2NhbGVNYW5hZ2VyLkVYQUNUX0ZJVCkmJnMhPT10aGlzLmdhbWUuY2FudmFzJiYodGhpcy5fZnVsbFNjcmVlblJlc3RvcmU9e3RhcmdldFdpZHRoOnMuc3R5bGUud2lkdGgsdGFyZ2V0SGVpZ2h0OnMuc3R5bGUuaGVpZ2h0fSxzLnN0eWxlLndpZHRoPVwiMTAwJVwiLHMuc3R5bGUuaGVpZ2h0PVwiMTAwJVwiKToodGhpcy5fZnVsbFNjcmVlblJlc3RvcmUmJihzLnN0eWxlLndpZHRoPXRoaXMuX2Z1bGxTY3JlZW5SZXN0b3JlLnRhcmdldFdpZHRoLHMuc3R5bGUuaGVpZ2h0PXRoaXMuX2Z1bGxTY3JlZW5SZXN0b3JlLnRhcmdldEhlaWdodCx0aGlzLl9mdWxsU2NyZWVuUmVzdG9yZT1udWxsKSx0aGlzLnVwZGF0ZURpbWVuc2lvbnModGhpcy5fZ2FtZVNpemUud2lkdGgsdGhpcy5fZ2FtZVNpemUuaGVpZ2h0LCEwKSx0aGlzLnJlc2V0Q2FudmFzKCkpfSxmdWxsU2NyZWVuQ2hhbmdlOmZ1bmN0aW9uKHQpe3RoaXMuZXZlbnQ9dCx0aGlzLmlzRnVsbFNjcmVlbj8odGhpcy5wcmVwU2NyZWVuTW9kZSghMCksdGhpcy51cGRhdGVMYXlvdXQoKSx0aGlzLnF1ZXVlVXBkYXRlKCEwKSk6KHRoaXMucHJlcFNjcmVlbk1vZGUoITEpLHRoaXMuY2xlYW51cENyZWF0ZWRUYXJnZXQoKSx0aGlzLnVwZGF0ZUxheW91dCgpLHRoaXMucXVldWVVcGRhdGUoITApKSx0aGlzLm9uRnVsbFNjcmVlbkNoYW5nZS5kaXNwYXRjaCh0aGlzLHRoaXMud2lkdGgsdGhpcy5oZWlnaHQpfSxmdWxsU2NyZWVuRXJyb3I6ZnVuY3Rpb24odCl7dGhpcy5ldmVudD10LHRoaXMuY2xlYW51cENyZWF0ZWRUYXJnZXQoKSxjb25zb2xlLndhcm4oXCJQaGFzZXIuU2NhbGVNYW5hZ2VyOiByZXF1ZXN0RnVsbHNjcmVlbiBmYWlsZWQgb3IgZGV2aWNlIGRvZXMgbm90IHN1cHBvcnQgdGhlIEZ1bGxzY3JlZW4gQVBJXCIpLHRoaXMub25GdWxsU2NyZWVuRXJyb3IuZGlzcGF0Y2godGhpcyl9LHNjYWxlU3ByaXRlOmZ1bmN0aW9uKHQsZSxpLHMpe2lmKHZvaWQgMD09PWUmJihlPXRoaXMud2lkdGgpLHZvaWQgMD09PWkmJihpPXRoaXMuaGVpZ2h0KSx2b2lkIDA9PT1zJiYocz0hMSksIXR8fCF0LnNjYWxlKXJldHVybiB0O2lmKHQuc2NhbGUueD0xLHQuc2NhbGUueT0xLHQud2lkdGg8PTB8fHQuaGVpZ2h0PD0wfHxlPD0wfHxpPD0wKXJldHVybiB0O3ZhciBuPWUsbz10LmhlaWdodCplL3Qud2lkdGgscj10LndpZHRoKmkvdC5oZWlnaHQsYT1pLGg9cj5lO3JldHVybihoPWg/czohcyk/KHQud2lkdGg9TWF0aC5mbG9vcihuKSx0LmhlaWdodD1NYXRoLmZsb29yKG8pKToodC53aWR0aD1NYXRoLmZsb29yKHIpLHQuaGVpZ2h0PU1hdGguZmxvb3IoYSkpLHR9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLmdhbWUub25SZXN1bWUucmVtb3ZlKHRoaXMuX2dhbWVSZXN1bWVkLHRoaXMpLHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwib3JpZW50YXRpb25jaGFuZ2VcIix0aGlzLl9vcmllbnRhdGlvbkNoYW5nZSwhMSksd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIix0aGlzLl93aW5kb3dSZXNpemUsITEpLHRoaXMuY29tcGF0aWJpbGl0eS5zdXBwb3J0c0Z1bGxTY3JlZW4mJihkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwid2Via2l0ZnVsbHNjcmVlbmNoYW5nZVwiLHRoaXMuX2Z1bGxTY3JlZW5DaGFuZ2UsITEpLGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3pmdWxsc2NyZWVuY2hhbmdlXCIsdGhpcy5fZnVsbFNjcmVlbkNoYW5nZSwhMSksZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIk1TRnVsbHNjcmVlbkNoYW5nZVwiLHRoaXMuX2Z1bGxTY3JlZW5DaGFuZ2UsITEpLGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJmdWxsc2NyZWVuY2hhbmdlXCIsdGhpcy5fZnVsbFNjcmVlbkNoYW5nZSwhMSksZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIndlYmtpdGZ1bGxzY3JlZW5lcnJvclwiLHRoaXMuX2Z1bGxTY3JlZW5FcnJvciwhMSksZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vemZ1bGxzY3JlZW5lcnJvclwiLHRoaXMuX2Z1bGxTY3JlZW5FcnJvciwhMSksZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIk1TRnVsbHNjcmVlbkVycm9yXCIsdGhpcy5fZnVsbFNjcmVlbkVycm9yLCExKSxkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwiZnVsbHNjcmVlbmVycm9yXCIsdGhpcy5fZnVsbFNjcmVlbkVycm9yLCExKSl9fSxpLlNjYWxlTWFuYWdlci5wcm90b3R5cGUuY29uc3RydWN0b3I9aS5TY2FsZU1hbmFnZXIsT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuU2NhbGVNYW5hZ2VyLnByb3RvdHlwZSxcImJvdW5kaW5nUGFyZW50XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnBhcmVudElzV2luZG93fHx0aGlzLmlzRnVsbFNjcmVlbiYmdGhpcy5oYXNQaGFzZXJTZXRGdWxsU2NyZWVuJiYhdGhpcy5fY3JlYXRlZEZ1bGxTY3JlZW5UYXJnZXQ/bnVsbDp0aGlzLmdhbWUuY2FudmFzJiZ0aGlzLmdhbWUuY2FudmFzLnBhcmVudE5vZGV8fG51bGx9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuU2NhbGVNYW5hZ2VyLnByb3RvdHlwZSxcInNjYWxlTW9kZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2NhbGVNb2RlfSxzZXQ6ZnVuY3Rpb24odCl7cmV0dXJuIHQhPT10aGlzLl9zY2FsZU1vZGUmJih0aGlzLmlzRnVsbFNjcmVlbnx8KHRoaXMudXBkYXRlRGltZW5zaW9ucyh0aGlzLl9nYW1lU2l6ZS53aWR0aCx0aGlzLl9nYW1lU2l6ZS5oZWlnaHQsITApLHRoaXMucXVldWVVcGRhdGUoITApKSx0aGlzLl9zY2FsZU1vZGU9dCksdGhpcy5fc2NhbGVNb2RlfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLlNjYWxlTWFuYWdlci5wcm90b3R5cGUsXCJmdWxsU2NyZWVuU2NhbGVNb2RlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9mdWxsU2NyZWVuU2NhbGVNb2RlfSxzZXQ6ZnVuY3Rpb24odCl7cmV0dXJuIHQhPT10aGlzLl9mdWxsU2NyZWVuU2NhbGVNb2RlJiYodGhpcy5pc0Z1bGxTY3JlZW4/KHRoaXMucHJlcFNjcmVlbk1vZGUoITEpLHRoaXMuX2Z1bGxTY3JlZW5TY2FsZU1vZGU9dCx0aGlzLnByZXBTY3JlZW5Nb2RlKCEwKSx0aGlzLnF1ZXVlVXBkYXRlKCEwKSk6dGhpcy5fZnVsbFNjcmVlblNjYWxlTW9kZT10KSx0aGlzLl9mdWxsU2NyZWVuU2NhbGVNb2RlfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLlNjYWxlTWFuYWdlci5wcm90b3R5cGUsXCJjdXJyZW50U2NhbGVNb2RlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmlzRnVsbFNjcmVlbj90aGlzLl9mdWxsU2NyZWVuU2NhbGVNb2RlOnRoaXMuX3NjYWxlTW9kZX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5TY2FsZU1hbmFnZXIucHJvdG90eXBlLFwicGFnZUFsaWduSG9yaXpvbnRhbGx5XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9wYWdlQWxpZ25Ib3Jpem9udGFsbHl9LHNldDpmdW5jdGlvbih0KXt0IT09dGhpcy5fcGFnZUFsaWduSG9yaXpvbnRhbGx5JiYodGhpcy5fcGFnZUFsaWduSG9yaXpvbnRhbGx5PXQsdGhpcy5xdWV1ZVVwZGF0ZSghMCkpfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLlNjYWxlTWFuYWdlci5wcm90b3R5cGUsXCJwYWdlQWxpZ25WZXJ0aWNhbGx5XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9wYWdlQWxpZ25WZXJ0aWNhbGx5fSxzZXQ6ZnVuY3Rpb24odCl7dCE9PXRoaXMuX3BhZ2VBbGlnblZlcnRpY2FsbHkmJih0aGlzLl9wYWdlQWxpZ25WZXJ0aWNhbGx5PXQsdGhpcy5xdWV1ZVVwZGF0ZSghMCkpfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLlNjYWxlTWFuYWdlci5wcm90b3R5cGUsXCJpc0Z1bGxTY3JlZW5cIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuISEoZG9jdW1lbnQuZnVsbHNjcmVlbkVsZW1lbnR8fGRvY3VtZW50LndlYmtpdEZ1bGxzY3JlZW5FbGVtZW50fHxkb2N1bWVudC5tb3pGdWxsU2NyZWVuRWxlbWVudHx8ZG9jdW1lbnQubXNGdWxsc2NyZWVuRWxlbWVudCl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuU2NhbGVNYW5hZ2VyLnByb3RvdHlwZSxcImlzUG9ydHJhaXRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuXCJwb3J0cmFpdFwiPT09dGhpcy5jbGFzc2lmeU9yaWVudGF0aW9uKHRoaXMuc2NyZWVuT3JpZW50YXRpb24pfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLlNjYWxlTWFuYWdlci5wcm90b3R5cGUsXCJpc0xhbmRzY2FwZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm5cImxhbmRzY2FwZVwiPT09dGhpcy5jbGFzc2lmeU9yaWVudGF0aW9uKHRoaXMuc2NyZWVuT3JpZW50YXRpb24pfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLlNjYWxlTWFuYWdlci5wcm90b3R5cGUsXCJpc0dhbWVQb3J0cmFpdFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5oZWlnaHQ+dGhpcy53aWR0aH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5TY2FsZU1hbmFnZXIucHJvdG90eXBlLFwiaXNHYW1lTGFuZHNjYXBlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLndpZHRoPnRoaXMuaGVpZ2h0fX0pLGkuVXRpbHMuRGVidWc9ZnVuY3Rpb24odCl7dGhpcy5nYW1lPXQsdGhpcy5zcHJpdGU9bnVsbCx0aGlzLmJtZD1udWxsLHRoaXMuY2FudmFzPW51bGwsdGhpcy5jb250ZXh0PW51bGwsdGhpcy5mb250PVwiMTRweCBDb3VyaWVyXCIsdGhpcy5jb2x1bW5XaWR0aD0xMDAsdGhpcy5saW5lSGVpZ2h0PTE2LHRoaXMubGluZVdpZHRoPTEsdGhpcy5yZW5kZXJTaGFkb3c9ITAsdGhpcy5jdXJyZW50Q29sb3I9bnVsbCx0aGlzLmN1cnJlbnRYPTAsdGhpcy5jdXJyZW50WT0wLHRoaXMuY3VycmVudEFscGhhPTEsdGhpcy5kaXJ0eT0hMSx0aGlzLmlzRGlzYWJsZWQ9ITEsdGhpcy5fbGluZT1udWxsLHRoaXMuX3JlY3Q9bnVsbH0saS5VdGlscy5EZWJ1Zy5wcm90b3R5cGU9e2Jvb3Q6ZnVuY3Rpb24oKXt0aGlzLmdhbWUucmVuZGVyVHlwZT09PWkuQ0FOVkFTP3RoaXMuY29udGV4dD10aGlzLmdhbWUuY29udGV4dDoodGhpcy5ibWQ9bmV3IGkuQml0bWFwRGF0YSh0aGlzLmdhbWUsXCJfX0RFQlVHXCIsdGhpcy5nYW1lLndpZHRoLHRoaXMuZ2FtZS5oZWlnaHQsITApLHRoaXMuc3ByaXRlPXRoaXMuZ2FtZS5tYWtlLmltYWdlKDAsMCx0aGlzLmJtZCksdGhpcy5nYW1lLnN0YWdlLmFkZENoaWxkKHRoaXMuc3ByaXRlKSx0aGlzLmdhbWUuc2NhbGUub25TaXplQ2hhbmdlLmFkZCh0aGlzLnJlc2l6ZSx0aGlzKSx0aGlzLmNhbnZhcz1pLkNhbnZhc1Bvb2wuY3JlYXRlKHRoaXMsdGhpcy5nYW1lLndpZHRoLHRoaXMuZ2FtZS5oZWlnaHQpLHRoaXMuY29udGV4dD10aGlzLmNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIikpLHRoaXMuX2xpbmU9bmV3IGkuTGluZSx0aGlzLl9yZWN0PW5ldyBpLlJlY3RhbmdsZX0scmVzaXplOmZ1bmN0aW9uKCl7dGhpcy5ibWQucmVzaXplKHRoaXMuZ2FtZS53aWR0aCx0aGlzLmdhbWUuaGVpZ2h0KSx0aGlzLmNhbnZhcy53aWR0aD10aGlzLmdhbWUud2lkdGgsdGhpcy5jYW52YXMuaGVpZ2h0PXRoaXMuZ2FtZS5oZWlnaHR9LHByZVVwZGF0ZTpmdW5jdGlvbigpe3RoaXMuZGlydHkmJnRoaXMuc3ByaXRlJiYodGhpcy5ibWQuY2xlYXIoKSx0aGlzLmJtZC5kcmF3KHRoaXMuY2FudmFzLDAsMCksdGhpcy5jb250ZXh0LmNsZWFyUmVjdCgwLDAsdGhpcy5nYW1lLndpZHRoLHRoaXMuZ2FtZS5oZWlnaHQpLHRoaXMuZGlydHk9ITEpfSxyZXNldDpmdW5jdGlvbigpe3RoaXMuY29udGV4dCYmdGhpcy5jb250ZXh0LmNsZWFyUmVjdCgwLDAsdGhpcy5nYW1lLndpZHRoLHRoaXMuZ2FtZS5oZWlnaHQpLHRoaXMuc3ByaXRlJiZ0aGlzLmJtZC5jbGVhcigpfSxzdGFydDpmdW5jdGlvbih0LGUsaSxzKXtcIm51bWJlclwiIT10eXBlb2YgdCYmKHQ9MCksXCJudW1iZXJcIiE9dHlwZW9mIGUmJihlPTApLGk9aXx8XCJyZ2IoMjU1LDI1NSwyNTUpXCIsdm9pZCAwPT09cyYmKHM9MCksdGhpcy5jdXJyZW50WD10LHRoaXMuY3VycmVudFk9ZSx0aGlzLmN1cnJlbnRDb2xvcj1pLHRoaXMuY29sdW1uV2lkdGg9cyx0aGlzLmRpcnR5PSEwLHRoaXMuY29udGV4dC5zYXZlKCksdGhpcy5jb250ZXh0LnNldFRyYW5zZm9ybSgxLDAsMCwxLDAsMCksdGhpcy5jb250ZXh0LnN0cm9rZVN0eWxlPWksdGhpcy5jb250ZXh0LmZpbGxTdHlsZT1pLHRoaXMuY29udGV4dC5mb250PXRoaXMuZm9udCx0aGlzLmNvbnRleHQuZ2xvYmFsQWxwaGE9dGhpcy5jdXJyZW50QWxwaGF9LHN0b3A6ZnVuY3Rpb24oKXt0aGlzLmNvbnRleHQucmVzdG9yZSgpfSxsaW5lOmZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMuY3VycmVudFgsZT0wO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspdGhpcy5yZW5kZXJTaGFkb3cmJih0aGlzLmNvbnRleHQuZmlsbFN0eWxlPVwicmdiKDAsMCwwKVwiLHRoaXMuY29udGV4dC5maWxsVGV4dChhcmd1bWVudHNbZV0sdCsxLHRoaXMuY3VycmVudFkrMSksdGhpcy5jb250ZXh0LmZpbGxTdHlsZT10aGlzLmN1cnJlbnRDb2xvciksdGhpcy5jb250ZXh0LmZpbGxUZXh0KGFyZ3VtZW50c1tlXSx0LHRoaXMuY3VycmVudFkpLHQrPXRoaXMuY29sdW1uV2lkdGg7dGhpcy5jdXJyZW50WSs9dGhpcy5saW5lSGVpZ2h0fSxzb3VuZEluZm86ZnVuY3Rpb24odCxlLGkscyl7dGhpcy5zdGFydChlLGkscyksdGhpcy5saW5lKFwiU291bmQ6IFwiK3Qua2V5K1wiIExvY2tlZDogXCIrdC5nYW1lLnNvdW5kLnRvdWNoTG9ja2VkKSx0aGlzLmxpbmUoXCJJcyBSZWFkeT86IFwiK3RoaXMuZ2FtZS5jYWNoZS5pc1NvdW5kUmVhZHkodC5rZXkpK1wiIFBlbmRpbmcgUGxheWJhY2s6IFwiK3QucGVuZGluZ1BsYXliYWNrKSx0aGlzLmxpbmUoXCJEZWNvZGVkOiBcIit0LmlzRGVjb2RlZCtcIiBEZWNvZGluZzogXCIrdC5pc0RlY29kaW5nKSx0aGlzLmxpbmUoXCJUb3RhbCBEdXJhdGlvbjogXCIrdC50b3RhbER1cmF0aW9uK1wiIFBsYXlpbmc6IFwiK3QuaXNQbGF5aW5nKSx0aGlzLmxpbmUoXCJUaW1lOiBcIit0LmN1cnJlbnRUaW1lKSx0aGlzLmxpbmUoXCJWb2x1bWU6IFwiK3Qudm9sdW1lK1wiIE11dGVkOiBcIit0Lm11dGUpLHRoaXMubGluZShcIldlYkF1ZGlvOiBcIit0LnVzaW5nV2ViQXVkaW8rXCIgQXVkaW86IFwiK3QudXNpbmdBdWRpb1RhZyksXCJcIiE9PXQuY3VycmVudE1hcmtlciYmKHRoaXMubGluZShcIk1hcmtlcjogXCIrdC5jdXJyZW50TWFya2VyK1wiIER1cmF0aW9uOiBcIit0LmR1cmF0aW9uK1wiIChtczogXCIrdC5kdXJhdGlvbk1TK1wiKVwiKSx0aGlzLmxpbmUoXCJTdGFydDogXCIrdC5tYXJrZXJzW3QuY3VycmVudE1hcmtlcl0uc3RhcnQrXCIgU3RvcDogXCIrdC5tYXJrZXJzW3QuY3VycmVudE1hcmtlcl0uc3RvcCksdGhpcy5saW5lKFwiUG9zaXRpb246IFwiK3QucG9zaXRpb24pKSx0aGlzLnN0b3AoKX0sY2FtZXJhOmZ1bmN0aW9uKHQsZSxpKXt2YXIgcz10LmRlYWR6b25lLG49dC50YXJnZXQsbz10LnZpZXc7cyYmKHRoaXMuX3JlY3Quc2V0VG8oby54K3MueCxvLnkrcy55LHMud2lkdGgscy5oZWlnaHQpLHRoaXMucmVjdGFuZ2xlKHRoaXMuX3JlY3QsZSxpKSksbiYmKHRoaXMuX2xpbmUuc2V0VG8oby5jZW50ZXJYLG8uY2VudGVyWSxuLngsbi55KSx0aGlzLmdlb20odGhpcy5fbGluZSxlLGkpLHRoaXMuZ2VvbShuLGUsITEsMykpfSxjYW1lcmFJbmZvOmZ1bmN0aW9uKHQsZSxpLHMpe3ZhciBuPXQuYm91bmRzLG89dC5kZWFkem9uZSxyPXQudGFyZ2V0LGE9dC52aWV3O3RoaXMuc3RhcnQoZSxpLHMpLHRoaXMubGluZShcIkNhbWVyYSAoXCIrdC53aWR0aCtcIiB4IFwiK3QuaGVpZ2h0K1wiKVwiKSx0aGlzLmxpbmUoXCJ4OiBcIit0LngrXCIgeTogXCIrdC55KSxuJiZ0aGlzLmxpbmUoXCJCb3VuZHMgeDogXCIrbi54K1wiIHk6IFwiK24ueStcIiB3OiBcIituLndpZHRoK1wiIGg6IFwiK24uaGVpZ2h0KSx0aGlzLmxpbmUoXCJWaWV3IHg6IFwiK2EueCtcIiB5OiBcIithLnkrXCIgdzogXCIrYS53aWR0aCtcIiBoOiBcIithLmhlaWdodCksdGhpcy5saW5lKFwiRGVhZHpvbmU6IFwiKyhvP1wieDogXCIrby54K1wiIHk6IFwiK28ueStcIiB3OiBcIitvLndpZHRoK1wiIGg6IFwiK28uaGVpZ2h0Om8pKSx0aGlzLmxpbmUoXCJUb3RhbCBpbiB2aWV3OiBcIit0LnRvdGFsSW5WaWV3KSx0aGlzLmxpbmUoXCJBdCBsaW1pdDogeDogXCIrdC5hdExpbWl0LngrXCIgeTogXCIrdC5hdExpbWl0LnkpLHRoaXMubGluZShcIlRhcmdldDogXCIrKHI/ci5uYW1lfHxyOnIpKSx0aGlzLnN0b3AoKX0sdGltZXI6ZnVuY3Rpb24odCxlLGkscyl7dGhpcy5zdGFydChlLGkscyksdGhpcy5saW5lKFwiVGltZXIgKHJ1bm5pbmc6IFwiK3QucnVubmluZytcIiBleHBpcmVkOiBcIit0LmV4cGlyZWQrXCIpXCIpLHRoaXMubGluZShcIk5leHQgVGljazogXCIrdC5uZXh0K1wiIER1cmF0aW9uOiBcIit0LmR1cmF0aW9uKSx0aGlzLmxpbmUoXCJQYXVzZWQ6IFwiK3QucGF1c2VkK1wiIExlbmd0aDogXCIrdC5sZW5ndGgpLHRoaXMuc3RvcCgpfSxwb2ludGVyOmZ1bmN0aW9uKHQsZSxpLHMsbil7bnVsbCE9dCYmKHZvaWQgMD09PWUmJihlPSExKSxpPWl8fFwicmdiYSgwLDI1NSwwLDAuNSlcIixzPXN8fFwicmdiYSgyNTUsMCwwLDAuNSlcIiwhMD09PWUmJiEwPT09dC5pc1VwfHwodGhpcy5zdGFydCh0LngsdC55LTEwMCxuKSx0aGlzLmNvbnRleHQuYmVnaW5QYXRoKCksdGhpcy5jb250ZXh0LmFyYyh0LngsdC55LHQuY2lyY2xlLnJhZGl1cywwLDIqTWF0aC5QSSksdC5hY3RpdmU/dGhpcy5jb250ZXh0LmZpbGxTdHlsZT1pOnRoaXMuY29udGV4dC5maWxsU3R5bGU9cyx0aGlzLmNvbnRleHQuZmlsbCgpLHRoaXMuY29udGV4dC5jbG9zZVBhdGgoKSx0aGlzLmNvbnRleHQuYmVnaW5QYXRoKCksdGhpcy5jb250ZXh0Lm1vdmVUbyh0LnBvc2l0aW9uRG93bi54LHQucG9zaXRpb25Eb3duLnkpLHRoaXMuY29udGV4dC5saW5lVG8odC5wb3NpdGlvbi54LHQucG9zaXRpb24ueSksdGhpcy5jb250ZXh0LmxpbmVXaWR0aD0yLHRoaXMuY29udGV4dC5zdHJva2UoKSx0aGlzLmNvbnRleHQuY2xvc2VQYXRoKCksdGhpcy5saW5lKFwiSUQ6IFwiK3QuaWQrXCIgQWN0aXZlOiBcIit0LmFjdGl2ZSksdGhpcy5saW5lKFwiV29ybGQgWDogXCIrdC53b3JsZFgrXCIgV29ybGQgWTogXCIrdC53b3JsZFkpLHRoaXMubGluZShcIlNjcmVlbiBYOiBcIit0LngrXCIgU2NyZWVuIFk6IFwiK3QueStcIiBJbjogXCIrdC53aXRoaW5HYW1lKSx0aGlzLmxpbmUoXCJEdXJhdGlvbjogXCIrdC5kdXJhdGlvbitcIiBtc1wiKSx0aGlzLmxpbmUoXCJpcyBEb3duOiBcIit0LmlzRG93bitcIiBpcyBVcDogXCIrdC5pc1VwKSx0aGlzLnN0b3AoKSkpfSxzcHJpdGVJbnB1dEluZm86ZnVuY3Rpb24odCxlLGkscyl7dGhpcy5zdGFydChlLGkscyksdGhpcy5saW5lKFwiU3ByaXRlIElucHV0OiAoXCIrdC53aWR0aCtcIiB4IFwiK3QuaGVpZ2h0K1wiKVwiKSx0aGlzLmxpbmUoXCJ4OiBcIit0LmlucHV0LnBvaW50ZXJYKCkudG9GaXhlZCgxKStcIiB5OiBcIit0LmlucHV0LnBvaW50ZXJZKCkudG9GaXhlZCgxKSksdGhpcy5saW5lKFwib3ZlcjogXCIrdC5pbnB1dC5wb2ludGVyT3ZlcigpK1wiIGR1cmF0aW9uOiBcIit0LmlucHV0Lm92ZXJEdXJhdGlvbigpLnRvRml4ZWQoMCkpLHRoaXMubGluZShcImRvd246IFwiK3QuaW5wdXQucG9pbnRlckRvd24oKStcIiBkdXJhdGlvbjogXCIrdC5pbnB1dC5kb3duRHVyYXRpb24oKS50b0ZpeGVkKDApKSx0aGlzLmxpbmUoXCJqdXN0IG92ZXI6IFwiK3QuaW5wdXQuanVzdE92ZXIoKStcIiBqdXN0IG91dDogXCIrdC5pbnB1dC5qdXN0T3V0KCkpLHRoaXMuc3RvcCgpfSxrZXk6ZnVuY3Rpb24odCxlLGkscyl7dGhpcy5zdGFydChlLGkscywxNTApLHRoaXMubGluZShcIktleTpcIix0LmtleUNvZGUsXCJpc0Rvd246XCIsdC5pc0Rvd24pLHRoaXMubGluZShcImp1c3REb3duOlwiLHQuanVzdERvd24sXCJqdXN0VXA6XCIsdC5qdXN0VXApLHRoaXMubGluZShcIlRpbWUgRG93bjpcIix0LnRpbWVEb3duLnRvRml4ZWQoMCksXCJkdXJhdGlvbjpcIix0LmR1cmF0aW9uLnRvRml4ZWQoMCkpLHRoaXMuc3RvcCgpfSxpbnB1dEluZm86ZnVuY3Rpb24odCxlLGkpe3RoaXMuc3RhcnQodCxlLGkpLHRoaXMubGluZShcIklucHV0XCIpLHRoaXMubGluZShcIlg6IFwiK3RoaXMuZ2FtZS5pbnB1dC54K1wiIFk6IFwiK3RoaXMuZ2FtZS5pbnB1dC55KSx0aGlzLmxpbmUoXCJXb3JsZCBYOiBcIit0aGlzLmdhbWUuaW5wdXQud29ybGRYK1wiIFdvcmxkIFk6IFwiK3RoaXMuZ2FtZS5pbnB1dC53b3JsZFkpLHRoaXMubGluZShcIlNjYWxlIFg6IFwiK3RoaXMuZ2FtZS5pbnB1dC5zY2FsZS54LnRvRml4ZWQoMSkrXCIgU2NhbGUgWTogXCIrdGhpcy5nYW1lLmlucHV0LnNjYWxlLngudG9GaXhlZCgxKSksdGhpcy5saW5lKFwiU2NyZWVuIFg6IFwiK3RoaXMuZ2FtZS5pbnB1dC5hY3RpdmVQb2ludGVyLnNjcmVlblgrXCIgU2NyZWVuIFk6IFwiK3RoaXMuZ2FtZS5pbnB1dC5hY3RpdmVQb2ludGVyLnNjcmVlblkpLHRoaXMuc3RvcCgpfSxzcHJpdGVCb3VuZHM6ZnVuY3Rpb24odCxlLGkpe3ZhciBzPXQuZ2V0Qm91bmRzKCk7cy54Kz10aGlzLmdhbWUuY2FtZXJhLngscy55Kz10aGlzLmdhbWUuY2FtZXJhLnksdGhpcy5yZWN0YW5nbGUocyxlLGkpfSxyb3BlU2VnbWVudHM6ZnVuY3Rpb24odCxlLGkpe3ZhciBzPXRoaXM7dC5zZWdtZW50cy5mb3JFYWNoKGZ1bmN0aW9uKHQpe3MucmVjdGFuZ2xlKHQsZSxpKX0sdGhpcyl9LHNwcml0ZUluZm86ZnVuY3Rpb24odCxlLGkscyl7dGhpcy5zdGFydChlLGkscyksdGhpcy5saW5lKFwiU3ByaXRlOiAgKFwiK3Qud2lkdGgrXCIgeCBcIit0LmhlaWdodCtcIikgYW5jaG9yOiBcIit0LmFuY2hvci54K1wiIHggXCIrdC5hbmNob3IueSksdGhpcy5saW5lKFwieDogXCIrdC54LnRvRml4ZWQoMSkrXCIgeTogXCIrdC55LnRvRml4ZWQoMSkpLHRoaXMubGluZShcImFuZ2xlOiBcIit0LmFuZ2xlLnRvRml4ZWQoMSkrXCIgcm90YXRpb246IFwiK3Qucm90YXRpb24udG9GaXhlZCgxKSksdGhpcy5saW5lKFwidmlzaWJsZTogXCIrdC52aXNpYmxlK1wiIGluIGNhbWVyYTogXCIrdC5pbkNhbWVyYSksdGhpcy5saW5lKFwiYm91bmRzIHg6IFwiK3QuX2JvdW5kcy54LnRvRml4ZWQoMSkrXCIgeTogXCIrdC5fYm91bmRzLnkudG9GaXhlZCgxKStcIiB3OiBcIit0Ll9ib3VuZHMud2lkdGgudG9GaXhlZCgxKStcIiBoOiBcIit0Ll9ib3VuZHMuaGVpZ2h0LnRvRml4ZWQoMSkpLHRoaXMuc3RvcCgpfSxzcHJpdGVDb29yZHM6ZnVuY3Rpb24odCxlLGkscyl7dGhpcy5zdGFydChlLGkscywxMDApLHQubmFtZSYmdGhpcy5saW5lKHQubmFtZSksdGhpcy5saW5lKFwieDpcIix0LngudG9GaXhlZCgyKSxcInk6XCIsdC55LnRvRml4ZWQoMikpLHRoaXMubGluZShcInBvcyB4OlwiLHQucG9zaXRpb24ueC50b0ZpeGVkKDIpLFwicG9zIHk6XCIsdC5wb3NpdGlvbi55LnRvRml4ZWQoMikpLHRoaXMubGluZShcIndvcmxkIHg6XCIsdC53b3JsZC54LnRvRml4ZWQoMiksXCJ3b3JsZCB5OlwiLHQud29ybGQueS50b0ZpeGVkKDIpKSx0aGlzLnN0b3AoKX0sbGluZUluZm86ZnVuY3Rpb24odCxlLGkscyl7dGhpcy5zdGFydChlLGkscyw4MCksdGhpcy5saW5lKFwic3RhcnQueDpcIix0LnN0YXJ0LngudG9GaXhlZCgyKSxcInN0YXJ0Lnk6XCIsdC5zdGFydC55LnRvRml4ZWQoMikpLHRoaXMubGluZShcImVuZC54OlwiLHQuZW5kLngudG9GaXhlZCgyKSxcImVuZC55OlwiLHQuZW5kLnkudG9GaXhlZCgyKSksdGhpcy5saW5lKFwibGVuZ3RoOlwiLHQubGVuZ3RoLnRvRml4ZWQoMiksXCJhbmdsZTpcIix0LmFuZ2xlKSx0aGlzLnN0b3AoKX0scGl4ZWw6ZnVuY3Rpb24odCxlLGkscyl7cz1zfHwyLHRoaXMuc3RhcnQoKSx0aGlzLmNvbnRleHQuZmlsbFN0eWxlPWksdGhpcy5jb250ZXh0LmZpbGxSZWN0KHQsZSxzLHMpLHRoaXMuc3RvcCgpfSxnZW9tOmZ1bmN0aW9uKHQsZSxzLG4pe3ZvaWQgMD09PXMmJihzPSEwKSx2b2lkIDA9PT1uJiYobj0wKSxlPWV8fFwicmdiYSgwLDI1NSwwLDAuNClcIix0aGlzLnN0YXJ0KCksdGhpcy5jb250ZXh0LmZpbGxTdHlsZT1lLHRoaXMuY29udGV4dC5zdHJva2VTdHlsZT1lLHRoaXMuY29udGV4dC5saW5lV2lkdGg9dGhpcy5saW5lV2lkdGgsdCBpbnN0YW5jZW9mIGkuUmVjdGFuZ2xlfHwxPT09bj9zP3RoaXMuY29udGV4dC5maWxsUmVjdCh0LngtdGhpcy5nYW1lLmNhbWVyYS54LHQueS10aGlzLmdhbWUuY2FtZXJhLnksdC53aWR0aCx0LmhlaWdodCk6dGhpcy5jb250ZXh0LnN0cm9rZVJlY3QodC54LXRoaXMuZ2FtZS5jYW1lcmEueCx0LnktdGhpcy5nYW1lLmNhbWVyYS55LHQud2lkdGgsdC5oZWlnaHQpOnQgaW5zdGFuY2VvZiBpLkNpcmNsZXx8Mj09PW4/KHRoaXMuY29udGV4dC5iZWdpblBhdGgoKSx0aGlzLmNvbnRleHQuYXJjKHQueC10aGlzLmdhbWUuY2FtZXJhLngsdC55LXRoaXMuZ2FtZS5jYW1lcmEueSx0LnJhZGl1cywwLDIqTWF0aC5QSSwhMSksdGhpcy5jb250ZXh0LmNsb3NlUGF0aCgpLHM/dGhpcy5jb250ZXh0LmZpbGwoKTp0aGlzLmNvbnRleHQuc3Ryb2tlKCkpOnQgaW5zdGFuY2VvZiBpLlBvaW50fHwzPT09bj90aGlzLmNvbnRleHQuZmlsbFJlY3QodC54LXRoaXMuZ2FtZS5jYW1lcmEueCx0LnktdGhpcy5nYW1lLmNhbWVyYS55LDQsNCk6dCBpbnN0YW5jZW9mIGkuTGluZXx8ND09PW4/KHRoaXMuY29udGV4dC5iZWdpblBhdGgoKSx0aGlzLmNvbnRleHQubW92ZVRvKHQuc3RhcnQueCsuNS10aGlzLmdhbWUuY2FtZXJhLngsdC5zdGFydC55Ky41LXRoaXMuZ2FtZS5jYW1lcmEueSksdGhpcy5jb250ZXh0LmxpbmVUbyh0LmVuZC54Ky41LXRoaXMuZ2FtZS5jYW1lcmEueCx0LmVuZC55Ky41LXRoaXMuZ2FtZS5jYW1lcmEueSksdGhpcy5jb250ZXh0LmNsb3NlUGF0aCgpLHRoaXMuY29udGV4dC5zdHJva2UoKSk6KHQgaW5zdGFuY2VvZiBpLkVsbGlwc2V8fDU9PT1uKSYmKHRoaXMuY29udGV4dC5iZWdpblBhdGgoKSx0aGlzLmNvbnRleHQuZWxsaXBzZSh0LngtdGhpcy5nYW1lLmNhbWVyYS54LHQueS10aGlzLmdhbWUuY2FtZXJhLnksdC53aWR0aC8yLHQuaGVpZ2h0LzIsMCwyKk1hdGguUEksITEpLHRoaXMuY29udGV4dC5jbG9zZVBhdGgoKSxzP3RoaXMuY29udGV4dC5maWxsKCk6dGhpcy5jb250ZXh0LnN0cm9rZSgpKSx0aGlzLnN0b3AoKX0scmVjdGFuZ2xlOmZ1bmN0aW9uKHQsZSxpKXt2b2lkIDA9PT1pJiYoaT0hMCksZT1lfHxcInJnYmEoMCwgMjU1LCAwLCAwLjQpXCIsdGhpcy5zdGFydCgpLGk/KHRoaXMuY29udGV4dC5maWxsU3R5bGU9ZSx0aGlzLmNvbnRleHQuZmlsbFJlY3QodC54LXRoaXMuZ2FtZS5jYW1lcmEueCx0LnktdGhpcy5nYW1lLmNhbWVyYS55LHQud2lkdGgsdC5oZWlnaHQpKToodGhpcy5jb250ZXh0LmxpbmVXaWR0aD10aGlzLmxpbmVXaWR0aCx0aGlzLmNvbnRleHQuc3Ryb2tlU3R5bGU9ZSx0aGlzLmNvbnRleHQuc3Ryb2tlUmVjdCh0LngtdGhpcy5nYW1lLmNhbWVyYS54LHQueS10aGlzLmdhbWUuY2FtZXJhLnksdC53aWR0aCx0LmhlaWdodCkpLHRoaXMuc3RvcCgpfSx0ZXh0OmZ1bmN0aW9uKHQsZSxpLHMsbil7cz1zfHxcInJnYigyNTUsMjU1LDI1NSlcIixuPW58fFwiMTZweCBDb3VyaWVyXCIsdGhpcy5zdGFydCgpLHRoaXMuY29udGV4dC5mb250PW4sdGhpcy5yZW5kZXJTaGFkb3cmJih0aGlzLmNvbnRleHQuZmlsbFN0eWxlPVwicmdiKDAsMCwwKVwiLHRoaXMuY29udGV4dC5maWxsVGV4dCh0LGUrMSxpKzEpKSx0aGlzLmNvbnRleHQuZmlsbFN0eWxlPXMsdGhpcy5jb250ZXh0LmZpbGxUZXh0KHQsZSxpKSx0aGlzLnN0b3AoKX0scXVhZFRyZWU6ZnVuY3Rpb24odCxlKXtlPWV8fFwicmdiYSgyNTUsMCwwLDAuMylcIix0aGlzLnN0YXJ0KCk7dmFyIGk9dC5ib3VuZHM7aWYoMD09PXQubm9kZXMubGVuZ3RoKXt0aGlzLmNvbnRleHQuc3Ryb2tlU3R5bGU9ZSx0aGlzLmNvbnRleHQuc3Ryb2tlUmVjdChpLngsaS55LGkud2lkdGgsaS5oZWlnaHQpLHRoaXMudGV4dChcInNpemU6IFwiK3Qub2JqZWN0cy5sZW5ndGgsaS54KzQsaS55KzE2LFwicmdiKDAsMjAwLDApXCIsXCIxMnB4IENvdXJpZXJcIiksdGhpcy5jb250ZXh0LnN0cm9rZVN0eWxlPVwicmdiKDAsMjU1LDApXCI7Zm9yKHM9MDtzPHQub2JqZWN0cy5sZW5ndGg7cysrKXRoaXMuY29udGV4dC5zdHJva2VSZWN0KHQub2JqZWN0c1tzXS54LHQub2JqZWN0c1tzXS55LHQub2JqZWN0c1tzXS53aWR0aCx0Lm9iamVjdHNbc10uaGVpZ2h0KX1lbHNlIGZvcih2YXIgcz0wO3M8dC5ub2Rlcy5sZW5ndGg7cysrKXRoaXMucXVhZFRyZWUodC5ub2Rlc1tzXSk7dGhpcy5zdG9wKCl9LGJvZHk6ZnVuY3Rpb24odCxlLHMpe3QuYm9keSYmKHRoaXMuc3RhcnQoKSx0LmJvZHkudHlwZT09PWkuUGh5c2ljcy5BUkNBREU/aS5QaHlzaWNzLkFyY2FkZS5Cb2R5LnJlbmRlcih0aGlzLmNvbnRleHQsdC5ib2R5LGUscyx0aGlzLmxpbmVXaWR0aCk6dC5ib2R5LnR5cGU9PT1pLlBoeXNpY3MuTklOSkE/aS5QaHlzaWNzLk5pbmphLkJvZHkucmVuZGVyKHRoaXMuY29udGV4dCx0LmJvZHksZSxzKTp0LmJvZHkudHlwZT09PWkuUGh5c2ljcy5CT1gyRCYmaS5QaHlzaWNzLkJveDJELnJlbmRlckJvZHkodGhpcy5jb250ZXh0LHQuYm9keSxlKSx0aGlzLnN0b3AoKSl9LGJvZHlJbmZvOmZ1bmN0aW9uKHQsZSxzLG4pe3QuYm9keSYmKHRoaXMuc3RhcnQoZSxzLG4sMjEwKSx0LmJvZHkudHlwZT09PWkuUGh5c2ljcy5BUkNBREU/aS5QaHlzaWNzLkFyY2FkZS5Cb2R5LnJlbmRlckJvZHlJbmZvKHRoaXMsdC5ib2R5KTp0LmJvZHkudHlwZT09PWkuUGh5c2ljcy5CT1gyRCYmdGhpcy5nYW1lLnBoeXNpY3MuYm94MmQucmVuZGVyQm9keUluZm8odGhpcyx0LmJvZHkpLHRoaXMuc3RvcCgpKX0sYm94MmRXb3JsZDpmdW5jdGlvbigpe3RoaXMuc3RhcnQoKSx0aGlzLmNvbnRleHQudHJhbnNsYXRlKC10aGlzLmdhbWUuY2FtZXJhLnZpZXcueCwtdGhpcy5nYW1lLmNhbWVyYS52aWV3LnksMCksdGhpcy5nYW1lLnBoeXNpY3MuYm94MmQucmVuZGVyRGVidWdEcmF3KHRoaXMuY29udGV4dCksdGhpcy5zdG9wKCl9LGJveDJkQm9keTpmdW5jdGlvbih0LGUpe3RoaXMuc3RhcnQoKSxpLlBoeXNpY3MuQm94MkQucmVuZGVyQm9keSh0aGlzLmNvbnRleHQsdCxlKSx0aGlzLnN0b3AoKX0sZGlzcGxheUxpc3Q6ZnVuY3Rpb24odCl7aWYodm9pZCAwPT09dCYmKHQ9dGhpcy5nYW1lLndvcmxkKSx0Lmhhc093blByb3BlcnR5KFwicmVuZGVyT3JkZXJJRFwiKT9jb25zb2xlLmxvZyhcIltcIit0LnJlbmRlck9yZGVySUQrXCJdXCIsdCk6Y29uc29sZS5sb2coXCJbXVwiLHQpLHQuY2hpbGRyZW4mJnQuY2hpbGRyZW4ubGVuZ3RoPjApZm9yKHZhciBlPTA7ZTx0LmNoaWxkcmVuLmxlbmd0aDtlKyspdGhpcy5nYW1lLmRlYnVnLmRpc3BsYXlMaXN0KHQuY2hpbGRyZW5bZV0pfSxyZW5kZXJlcjpmdW5jdGlvbih0LGUsaSl7dmFyIHM9dGhpcy5nYW1lLnJlbmRlcmVyLG49cy5yZW5kZXJTZXNzaW9uO2lmKHRoaXMuc3RhcnQodCxlLGkpLHRoaXMubGluZSgocy5nbD9cIldlYkdMXCI6XCJDYW52YXNcIikrXCIgUmVuZGVyZXIgKFwiK3Mud2lkdGgrXCIgeCBcIitzLmhlaWdodCtcIilcIiksdGhpcy5saW5lKFwiYXV0b1Jlc2l6ZTogXCIrcy5hdXRvUmVzaXplKSx0aGlzLmxpbmUoXCJjbGVhckJlZm9yZVJlbmRlcjogXCIrcy5jbGVhckJlZm9yZVJlbmRlciksdGhpcy5saW5lKFwicmVzb2x1dGlvbjogXCIrcy5yZXNvbHV0aW9uKSx0aGlzLmxpbmUoXCJ0cmFuc3BhcmVudDogXCIrcy50cmFuc3BhcmVudCksdGhpcy5saW5lKFwicmVuZGVyU2Vzc2lvbjpcIikscy5nbCl7dGhpcy5saW5lKFwiICBjdXJyZW50QmF0Y2hlZFRleHR1cmVzOiAoXCIrcy5jdXJyZW50QmF0Y2hlZFRleHR1cmVzLmxlbmd0aCtcIilcIik7Zm9yKHZhciBvPTA7bzxzLmN1cnJlbnRCYXRjaGVkVGV4dHVyZXMubGVuZ3RoO28rKyl0aGlzLmxpbmUoXCIgICAgXCIrcy5jdXJyZW50QmF0Y2hlZFRleHR1cmVzW29dKTt0aGlzLmxpbmUoXCIgIGRyYXdDb3VudDogXCIrbi5kcmF3Q291bnQpLHRoaXMubGluZShcIiAgbWF4VGV4dHVyZXM6IFwiK3MubWF4VGV4dHVyZXMpLHRoaXMubGluZShcIiAgbWF4VGV4dHVyZVNpemU6IFwiK3MubWF4VGV4dHVyZVNpemUpLHRoaXMubGluZShcIiAgbWF4VGV4dHVyZUF2YWlsYWJsZVNwYWNlOiBcIituLm1heFRleHR1cmVBdmFpbGFibGVTcGFjZSksdGhpcy5saW5lKFwiICByb3VuZFBpeGVsczogXCIrbi5yb3VuZFBpeGVscyl9ZWxzZSB0aGlzLmxpbmUoXCIgIHJvdW5kUGl4ZWxzOiBcIituLnJvdW5kUGl4ZWxzKSx0aGlzLmxpbmUoXCIgIHNjYWxlTW9kZTogXCIrKDA9PT1uLnNjYWxlTW9kZT9cIkxJTkVBUlwiOjE9PT1uLnNjYWxlTW9kZT9cIk5FQVJFU1RcIjpuLnNjYWxlTW9kZSkpO3RoaXMuc3RvcCgpfSxjYW52YXNQb29sOmZ1bmN0aW9uKHQsZSxzLG4pe3ZhciBvPWkuQ2FudmFzUG9vbDt0aGlzLnN0YXJ0KHQsZSxzLG58fDEwMCksdGhpcy5saW5lKFwiQ2FudmFzIFBvb2xcIiksdGhpcy5saW5lKFwiVXNlZDpcIixvLmdldFRvdGFsKCkpLHRoaXMubGluZShcIkZyZWU6XCIsby5nZXRGcmVlKCkpLHRoaXMubGluZShcIlRvdGFsOlwiLG8ubGVuZ3RoKSx0aGlzLnN0b3AoKX0scGh5c2ljc0dyb3VwOmZ1bmN0aW9uKHQsZSxpLHMpe3QuZm9yRWFjaCh0aGlzLmJvZHksdGhpcyxzLGUsaSl9LHBoYXNlcjpmdW5jdGlvbih0LGUscyl7dGhpcy50ZXh0KFwiUGhhc2VyIHZcIitpLlZFUlNJT04rXCIgXCIrKHRoaXMuZ2FtZS5yZW5kZXJUeXBlPT09aS5XRUJHTD9cIldlYkdMXCI6XCJDYW52YXNcIikrXCIgXCIrKHRoaXMuZ2FtZS5kZXZpY2Uud2ViQXVkaW8/XCJXZWJBdWRpb1wiOlwiSFRNTCBBdWRpb1wiKSx0LGUscyx0aGlzLmZvbnQpfSxkZXN0cm95OmZ1bmN0aW9uKCl7aS5DYW52YXNQb29sLnJlbW92ZSh0aGlzKX19LGkuVXRpbHMuRGVidWcucHJvdG90eXBlLmNvbnN0cnVjdG9yPWkuVXRpbHMuRGVidWcsaS5ET009e2dldE9mZnNldDpmdW5jdGlvbih0LGUpe2U9ZXx8bmV3IGkuUG9pbnQ7dmFyIHM9dC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxuPWkuRE9NLnNjcm9sbFksbz1pLkRPTS5zY3JvbGxYLHI9ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFRvcCxhPWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRMZWZ0O3JldHVybiBlLng9cy5sZWZ0K28tYSxlLnk9cy50b3Arbi1yLGV9LGdldEJvdW5kczpmdW5jdGlvbih0LGUpe3JldHVybiB2b2lkIDA9PT1lJiYoZT0wKSwhKCEodD10JiYhdC5ub2RlVHlwZT90WzBdOnQpfHwxIT09dC5ub2RlVHlwZSkmJnRoaXMuY2FsaWJyYXRlKHQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksZSl9LGNhbGlicmF0ZTpmdW5jdGlvbih0LGUpe2U9K2V8fDA7dmFyIGk9e3dpZHRoOjAsaGVpZ2h0OjAsbGVmdDowLHJpZ2h0OjAsdG9wOjAsYm90dG9tOjB9O3JldHVybiBpLndpZHRoPShpLnJpZ2h0PXQucmlnaHQrZSktKGkubGVmdD10LmxlZnQtZSksaS5oZWlnaHQ9KGkuYm90dG9tPXQuYm90dG9tK2UpLShpLnRvcD10LnRvcC1lKSxpfSxnZXRBc3BlY3RSYXRpbzpmdW5jdGlvbih0KXt2YXIgZT0odD1udWxsPT10P3RoaXMudmlzdWFsQm91bmRzOjE9PT10Lm5vZGVUeXBlP3RoaXMuZ2V0Qm91bmRzKHQpOnQpLndpZHRoLGk9dC5oZWlnaHQ7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgZSYmKGU9ZS5jYWxsKHQpKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBpJiYoaT1pLmNhbGwodCkpLGUvaX0saW5MYXlvdXRWaWV3cG9ydDpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuZ2V0Qm91bmRzKHQsZSk7cmV0dXJuISFpJiZpLmJvdHRvbT49MCYmaS5yaWdodD49MCYmaS50b3A8PXRoaXMubGF5b3V0Qm91bmRzLndpZHRoJiZpLmxlZnQ8PXRoaXMubGF5b3V0Qm91bmRzLmhlaWdodH0sZ2V0U2NyZWVuT3JpZW50YXRpb246ZnVuY3Rpb24odCl7dmFyIGU9d2luZG93LnNjcmVlbixpPWUub3JpZW50YXRpb258fGUubW96T3JpZW50YXRpb258fGUubXNPcmllbnRhdGlvbjtpZihpJiZcInN0cmluZ1wiPT10eXBlb2YgaS50eXBlKXJldHVybiBpLnR5cGU7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGkpcmV0dXJuIGk7dmFyIHM9XCJwb3J0cmFpdC1wcmltYXJ5XCIsbj1cImxhbmRzY2FwZS1wcmltYXJ5XCI7aWYoXCJzY3JlZW5cIj09PXQpcmV0dXJuIGUuaGVpZ2h0PmUud2lkdGg/czpuO2lmKFwidmlld3BvcnRcIj09PXQpcmV0dXJuIHRoaXMudmlzdWFsQm91bmRzLmhlaWdodD50aGlzLnZpc3VhbEJvdW5kcy53aWR0aD9zOm47aWYoXCJ3aW5kb3cub3JpZW50YXRpb25cIj09PXQmJlwibnVtYmVyXCI9PXR5cGVvZiB3aW5kb3cub3JpZW50YXRpb24pcmV0dXJuIDA9PT13aW5kb3cub3JpZW50YXRpb258fDE4MD09PXdpbmRvdy5vcmllbnRhdGlvbj9zOm47aWYod2luZG93Lm1hdGNoTWVkaWEpe2lmKHdpbmRvdy5tYXRjaE1lZGlhKFwiKG9yaWVudGF0aW9uOiBwb3J0cmFpdClcIikubWF0Y2hlcylyZXR1cm4gcztpZih3aW5kb3cubWF0Y2hNZWRpYShcIihvcmllbnRhdGlvbjogbGFuZHNjYXBlKVwiKS5tYXRjaGVzKXJldHVybiBufXJldHVybiB0aGlzLnZpc3VhbEJvdW5kcy5oZWlnaHQ+dGhpcy52aXN1YWxCb3VuZHMud2lkdGg/czpufSx2aXN1YWxCb3VuZHM6bmV3IGkuUmVjdGFuZ2xlLGxheW91dEJvdW5kczpuZXcgaS5SZWN0YW5nbGUsZG9jdW1lbnRCb3VuZHM6bmV3IGkuUmVjdGFuZ2xlfSxpLkRldmljZS53aGVuUmVhZHkoZnVuY3Rpb24odCl7dmFyIGU9d2luZG93JiZcInBhZ2VYT2Zmc2V0XCJpbiB3aW5kb3c/ZnVuY3Rpb24oKXtyZXR1cm4gd2luZG93LnBhZ2VYT2Zmc2V0fTpmdW5jdGlvbigpe3JldHVybiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdH0scz13aW5kb3cmJlwicGFnZVlPZmZzZXRcImluIHdpbmRvdz9mdW5jdGlvbigpe3JldHVybiB3aW5kb3cucGFnZVlPZmZzZXR9OmZ1bmN0aW9uKCl7cmV0dXJuIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3B9O2lmKE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLkRPTSxcInNjcm9sbFhcIix7Z2V0OmV9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5ET00sXCJzY3JvbGxZXCIse2dldDpzfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuRE9NLnZpc3VhbEJvdW5kcyxcInhcIix7Z2V0OmV9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5ET00udmlzdWFsQm91bmRzLFwieVwiLHtnZXQ6c30pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLkRPTS5sYXlvdXRCb3VuZHMsXCJ4XCIse3ZhbHVlOjB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5ET00ubGF5b3V0Qm91bmRzLFwieVwiLHt2YWx1ZTowfSksdC5kZXNrdG9wJiZkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGg8PXdpbmRvdy5pbm5lcldpZHRoJiZkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0PD13aW5kb3cuaW5uZXJIZWlnaHQpe3ZhciBuPWZ1bmN0aW9uKCl7cmV0dXJuIE1hdGgubWF4KHdpbmRvdy5pbm5lcldpZHRoLGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCl9LG89ZnVuY3Rpb24oKXtyZXR1cm4gTWF0aC5tYXgod2luZG93LmlubmVySGVpZ2h0LGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQpfTtPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5ET00udmlzdWFsQm91bmRzLFwid2lkdGhcIix7Z2V0Om59KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5ET00udmlzdWFsQm91bmRzLFwiaGVpZ2h0XCIse2dldDpvfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuRE9NLmxheW91dEJvdW5kcyxcIndpZHRoXCIse2dldDpufSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuRE9NLmxheW91dEJvdW5kcyxcImhlaWdodFwiLHtnZXQ6b30pfWVsc2UgT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuRE9NLnZpc3VhbEJvdW5kcyxcIndpZHRoXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB3aW5kb3cuaW5uZXJXaWR0aH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5ET00udmlzdWFsQm91bmRzLFwiaGVpZ2h0XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB3aW5kb3cuaW5uZXJIZWlnaHR9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuRE9NLmxheW91dEJvdW5kcyxcIndpZHRoXCIse2dldDpmdW5jdGlvbigpe3ZhciB0PWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCxlPXdpbmRvdy5pbm5lcldpZHRoO3JldHVybiB0PGU/ZTp0fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLkRPTS5sYXlvdXRCb3VuZHMsXCJoZWlnaHRcIix7Z2V0OmZ1bmN0aW9uKCl7dmFyIHQ9ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCxlPXdpbmRvdy5pbm5lckhlaWdodDtyZXR1cm4gdDxlP2U6dH19KTtPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5ET00uZG9jdW1lbnRCb3VuZHMsXCJ4XCIse3ZhbHVlOjB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5ET00uZG9jdW1lbnRCb3VuZHMsXCJ5XCIse3ZhbHVlOjB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5ET00uZG9jdW1lbnRCb3VuZHMsXCJ3aWR0aFwiLHtnZXQ6ZnVuY3Rpb24oKXt2YXIgdD1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7cmV0dXJuIE1hdGgubWF4KHQuY2xpZW50V2lkdGgsdC5vZmZzZXRXaWR0aCx0LnNjcm9sbFdpZHRoKX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5ET00uZG9jdW1lbnRCb3VuZHMsXCJoZWlnaHRcIix7Z2V0OmZ1bmN0aW9uKCl7dmFyIHQ9ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O3JldHVybiBNYXRoLm1heCh0LmNsaWVudEhlaWdodCx0Lm9mZnNldEhlaWdodCx0LnNjcm9sbEhlaWdodCl9fSl9LG51bGwsITApLGkuQXJyYXlTZXQ9ZnVuY3Rpb24odCl7dGhpcy5wb3NpdGlvbj0wLHRoaXMubGlzdD10fHxbXX0saS5BcnJheVNldC5wcm90b3R5cGU9e2FkZDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5leGlzdHModCl8fHRoaXMubGlzdC5wdXNoKHQpLHR9LGdldEluZGV4OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmxpc3QuaW5kZXhPZih0KX0sZ2V0QnlLZXk6ZnVuY3Rpb24odCxlKXtmb3IodmFyIGk9dGhpcy5saXN0Lmxlbmd0aDtpLS07KWlmKHRoaXMubGlzdFtpXVt0XT09PWUpcmV0dXJuIHRoaXMubGlzdFtpXTtyZXR1cm4gbnVsbH0sZXhpc3RzOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmxpc3QuaW5kZXhPZih0KT4tMX0scmVzZXQ6ZnVuY3Rpb24oKXt0aGlzLmxpc3QubGVuZ3RoPTB9LHJlbW92ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmxpc3QuaW5kZXhPZih0KTtpZihlPi0xKXJldHVybiB0aGlzLmxpc3Quc3BsaWNlKGUsMSksdH0sc2V0QWxsOmZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBpPXRoaXMubGlzdC5sZW5ndGg7aS0tOyl0aGlzLmxpc3RbaV0mJih0aGlzLmxpc3RbaV1bdF09ZSl9LGNhbGxBbGw6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKSxpPXRoaXMubGlzdC5sZW5ndGg7aS0tOyl0aGlzLmxpc3RbaV0mJnRoaXMubGlzdFtpXVt0XSYmdGhpcy5saXN0W2ldW3RdLmFwcGx5KHRoaXMubGlzdFtpXSxlKX0scmVtb3ZlQWxsOmZ1bmN0aW9uKHQpe3ZvaWQgMD09PXQmJih0PSExKTtmb3IodmFyIGU9dGhpcy5saXN0Lmxlbmd0aDtlLS07KWlmKHRoaXMubGlzdFtlXSl7dmFyIGk9dGhpcy5yZW1vdmUodGhpcy5saXN0W2VdKTt0JiZpLmRlc3Ryb3koKX10aGlzLnBvc2l0aW9uPTAsdGhpcy5saXN0PVtdfX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuQXJyYXlTZXQucHJvdG90eXBlLFwidG90YWxcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubGlzdC5sZW5ndGh9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuQXJyYXlTZXQucHJvdG90eXBlLFwiZmlyc3RcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucG9zaXRpb249MCx0aGlzLmxpc3QubGVuZ3RoPjA/dGhpcy5saXN0WzBdOm51bGx9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuQXJyYXlTZXQucHJvdG90eXBlLFwibmV4dFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wb3NpdGlvbjx0aGlzLmxpc3QubGVuZ3RoPyh0aGlzLnBvc2l0aW9uKyssdGhpcy5saXN0W3RoaXMucG9zaXRpb25dKTpudWxsfX0pLGkuQXJyYXlTZXQucHJvdG90eXBlLmNvbnN0cnVjdG9yPWkuQXJyYXlTZXQsaS5BcnJheVV0aWxzPXtnZXRSYW5kb21JdGVtOmZ1bmN0aW9uKHQsZSxpKXtpZihudWxsPT09dClyZXR1cm4gbnVsbDt2b2lkIDA9PT1lJiYoZT0wKSx2b2lkIDA9PT1pJiYoaT10Lmxlbmd0aCk7dmFyIHM9ZStNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqaSk7cmV0dXJuIHZvaWQgMD09PXRbc10/bnVsbDp0W3NdfSxyZW1vdmVSYW5kb21JdGVtOmZ1bmN0aW9uKHQsZSxpKXtpZihudWxsPT10KXJldHVybiBudWxsO3ZvaWQgMD09PWUmJihlPTApLHZvaWQgMD09PWkmJihpPXQubGVuZ3RoKTt2YXIgcz1lK01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSppKTtpZihzPHQubGVuZ3RoKXt2YXIgbj10LnNwbGljZShzLDEpO3JldHVybiB2b2lkIDA9PT1uWzBdP251bGw6blswXX1yZXR1cm4gbnVsbH0scmVtb3ZlOmZ1bmN0aW9uKHQsZSxpKXt2YXIgcz10Lmxlbmd0aDtpZighKGU+PXN8fDA9PT1pKSl7bnVsbD09aSYmKGk9MSk7Zm9yKHZhciBuPXMtaSxvPWU7bzxuOysrbyl0W29dPXRbbytpXTt0Lmxlbmd0aD1ufX0sc2h1ZmZsZTpmdW5jdGlvbih0KXtmb3IodmFyIGU9dC5sZW5ndGgtMTtlPjA7ZS0tKXt2YXIgaT1NYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqKGUrMSkpLHM9dFtlXTt0W2VdPXRbaV0sdFtpXT1zfXJldHVybiB0fSx0cmFuc3Bvc2VNYXRyaXg6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXQubGVuZ3RoLGk9dFswXS5sZW5ndGgscz1uZXcgQXJyYXkoaSksbj0wO248aTtuKyspe3Nbbl09bmV3IEFycmF5KGUpO2Zvcih2YXIgbz1lLTE7bz4tMTtvLS0pc1tuXVtvXT10W29dW25dfXJldHVybiBzfSxyb3RhdGVNYXRyaXg6ZnVuY3Rpb24odCxlKXtpZihcInN0cmluZ1wiIT10eXBlb2YgZSYmKGU9KGUlMzYwKzM2MCklMzYwKSw5MD09PWV8fC0yNzA9PT1lfHxcInJvdGF0ZUxlZnRcIj09PWUpdD0odD1pLkFycmF5VXRpbHMudHJhbnNwb3NlTWF0cml4KHQpKS5yZXZlcnNlKCk7ZWxzZSBpZigtOTA9PT1lfHwyNzA9PT1lfHxcInJvdGF0ZVJpZ2h0XCI9PT1lKXQ9dC5yZXZlcnNlKCksdD1pLkFycmF5VXRpbHMudHJhbnNwb3NlTWF0cml4KHQpO2Vsc2UgaWYoMTgwPT09TWF0aC5hYnMoZSl8fFwicm90YXRlMTgwXCI9PT1lKXtmb3IodmFyIHM9MDtzPHQubGVuZ3RoO3MrKyl0W3NdLnJldmVyc2UoKTt0PXQucmV2ZXJzZSgpfXJldHVybiB0fSxmaW5kQ2xvc2VzdDpmdW5jdGlvbih0LGUpe2lmKCFlLmxlbmd0aClyZXR1cm4gTmFOO2lmKDE9PT1lLmxlbmd0aHx8dDxlWzBdKXJldHVybiBlWzBdO2Zvcih2YXIgaT0xO2VbaV08dDspaSsrO3ZhciBzPWVbaS0xXSxuPWk8ZS5sZW5ndGg/ZVtpXTpOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7cmV0dXJuIG4tdDw9dC1zP246c30scm90YXRlUmlnaHQ6ZnVuY3Rpb24odCl7dmFyIGU9dC5wb3AoKTtyZXR1cm4gdC51bnNoaWZ0KGUpLGV9LHJvdGF0ZUxlZnQ6ZnVuY3Rpb24odCl7dmFyIGU9dC5zaGlmdCgpO3JldHVybiB0LnB1c2goZSksZX0scm90YXRlOmZ1bmN0aW9uKHQpe3ZhciBlPXQuc2hpZnQoKTtyZXR1cm4gdC5wdXNoKGUpLGV9LG51bWJlckFycmF5OmZ1bmN0aW9uKHQsZSl7dm9pZCAwIT09ZSYmbnVsbCE9PWV8fChlPXQsdD0wKTtmb3IodmFyIGk9W10scz10O3M8PWU7cysrKWkucHVzaChzKTtyZXR1cm4gaX0sbnVtYmVyQXJyYXlTdGVwOmZ1bmN0aW9uKHQsZSxzKXt2b2lkIDAhPT10JiZudWxsIT09dHx8KHQ9MCksdm9pZCAwIT09ZSYmbnVsbCE9PWV8fChlPXQsdD0wKSx2b2lkIDA9PT1zJiYocz0xKTtmb3IodmFyIG49W10sbz1NYXRoLm1heChpLk1hdGgucm91bmRBd2F5RnJvbVplcm8oKGUtdCkvKHN8fDEpKSwwKSxyPTA7cjxvO3IrKyluLnB1c2godCksdCs9cztyZXR1cm4gbn19LGkuTGlua2VkTGlzdD1mdW5jdGlvbigpe3RoaXMubmV4dD1udWxsLHRoaXMucHJldj1udWxsLHRoaXMuZmlyc3Q9bnVsbCx0aGlzLmxhc3Q9bnVsbCx0aGlzLnRvdGFsPTB9LGkuTGlua2VkTGlzdC5wcm90b3R5cGU9e2FkZDpmdW5jdGlvbih0KXtyZXR1cm4gMD09PXRoaXMudG90YWwmJm51bGw9PT10aGlzLmZpcnN0JiZudWxsPT09dGhpcy5sYXN0Pyh0aGlzLmZpcnN0PXQsdGhpcy5sYXN0PXQsdGhpcy5uZXh0PXQsdC5wcmV2PXRoaXMsdGhpcy50b3RhbCsrLHQpOih0aGlzLmxhc3QubmV4dD10LHQucHJldj10aGlzLmxhc3QsdGhpcy5sYXN0PXQsdGhpcy50b3RhbCsrLHQpfSxyZXNldDpmdW5jdGlvbigpe3RoaXMuZmlyc3Q9bnVsbCx0aGlzLmxhc3Q9bnVsbCx0aGlzLm5leHQ9bnVsbCx0aGlzLnByZXY9bnVsbCx0aGlzLnRvdGFsPTB9LHJlbW92ZTpmdW5jdGlvbih0KXtpZigxPT09dGhpcy50b3RhbClyZXR1cm4gdGhpcy5yZXNldCgpLHZvaWQodC5uZXh0PXQucHJldj1udWxsKTt0PT09dGhpcy5maXJzdD90aGlzLmZpcnN0PXRoaXMuZmlyc3QubmV4dDp0PT09dGhpcy5sYXN0JiYodGhpcy5sYXN0PXRoaXMubGFzdC5wcmV2KSx0LnByZXYmJih0LnByZXYubmV4dD10Lm5leHQpLHQubmV4dCYmKHQubmV4dC5wcmV2PXQucHJldiksdC5uZXh0PXQucHJldj1udWxsLG51bGw9PT10aGlzLmZpcnN0JiYodGhpcy5sYXN0PW51bGwpLHRoaXMudG90YWwtLX0sY2FsbEFsbDpmdW5jdGlvbih0KXtpZih0aGlzLmZpcnN0JiZ0aGlzLmxhc3Qpe3ZhciBlPXRoaXMuZmlyc3Q7ZG97ZSYmZVt0XSYmZVt0XS5jYWxsKGUpLGU9ZS5uZXh0fXdoaWxlKGUhPT10aGlzLmxhc3QubmV4dCl9fX0saS5MaW5rZWRMaXN0LnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1pLkxpbmtlZExpc3QsaS5DcmVhdGU9ZnVuY3Rpb24odCl7dGhpcy5nYW1lPXQsdGhpcy5ibWQ9bnVsbCx0aGlzLmNhbnZhcz1udWxsLHRoaXMuY3R4PW51bGwsdGhpcy5wYWxldHRlcz1bezA6XCIjMDAwXCIsMTpcIiM5RDlEOURcIiwyOlwiI0ZGRlwiLDM6XCIjQkUyNjMzXCIsNDpcIiNFMDZGOEJcIiw1OlwiIzQ5M0MyQlwiLDY6XCIjQTQ2NDIyXCIsNzpcIiNFQjg5MzFcIiw4OlwiI0Y3RTI2QlwiLDk6XCIjMkY0ODRFXCIsQTpcIiM0NDg5MUFcIixCOlwiI0EzQ0UyN1wiLEM6XCIjMUIyNjMyXCIsRDpcIiMwMDU3ODRcIixFOlwiIzMxQTJGMlwiLEY6XCIjQjJEQ0VGXCJ9LHswOlwiIzAwMFwiLDE6XCIjMTkxMDI4XCIsMjpcIiM0NmFmNDVcIiwzOlwiI2ExZDY4NVwiLDQ6XCIjNDUzZTc4XCIsNTpcIiM3NjY0ZmVcIiw2OlwiIzgzMzEyOVwiLDc6XCIjOWVjMmU4XCIsODpcIiNkYzUzNGJcIiw5OlwiI2UxOGQ3OVwiLEE6XCIjZDZiOTdiXCIsQjpcIiNlOWQ4YTFcIixDOlwiIzIxNmM0YlwiLEQ6XCIjZDM2NWM4XCIsRTpcIiNhZmFhYjlcIixGOlwiI2Y1ZjRlYlwifSx7MDpcIiMwMDBcIiwxOlwiIzIyMzRkMVwiLDI6XCIjMGM3ZTQ1XCIsMzpcIiM0NGFhY2NcIiw0OlwiIzhhMzYyMlwiLDU6XCIjNWMyZTc4XCIsNjpcIiNhYTVjM2RcIiw3OlwiI2I1YjViNVwiLDg6XCIjNWU2MDZlXCIsOTpcIiM0YzgxZmJcIixBOlwiIzZjZDk0N1wiLEI6XCIjN2JlMmY5XCIsQzpcIiNlYjhhNjBcIixEOlwiI2UyM2Q2OVwiLEU6XCIjZmZkOTNmXCIsRjpcIiNmZmZcIn0sezA6XCIjMDAwXCIsMTpcIiNmZmZcIiwyOlwiIzhiNDEzMVwiLDM6XCIjN2JiZGM1XCIsNDpcIiM4YjQxYWNcIiw1OlwiIzZhYWM0MVwiLDY6XCIjMzkzMWE0XCIsNzpcIiNkNWRlNzNcIiw4OlwiIzk0NWEyMFwiLDk6XCIjNWE0MTAwXCIsQTpcIiNiZDczNmFcIixCOlwiIzUyNTI1MlwiLEM6XCIjODM4MzgzXCIsRDpcIiNhY2VlOGJcIixFOlwiIzdiNzNkZVwiLEY6XCIjYWNhY2FjXCJ9LHswOlwiIzAwMFwiLDE6XCIjMTkxMDI4XCIsMjpcIiM0NmFmNDVcIiwzOlwiI2ExZDY4NVwiLDQ6XCIjNDUzZTc4XCIsNTpcIiM3NjY0ZmVcIiw2OlwiIzgzMzEyOVwiLDc6XCIjOWVjMmU4XCIsODpcIiNkYzUzNGJcIiw5OlwiI2UxOGQ3OVwiLEE6XCIjZDZiOTdiXCIsQjpcIiNlOWQ4YTFcIixDOlwiIzIxNmM0YlwiLEQ6XCIjZDM2NWM4XCIsRTpcIiNhZmFhYjlcIixGOlwiI2ZmZlwifV19LGkuQ3JlYXRlLlBBTEVUVEVfQVJORT0wLGkuQ3JlYXRlLlBBTEVUVEVfSk1QPTEsaS5DcmVhdGUuUEFMRVRURV9DR0E9MixpLkNyZWF0ZS5QQUxFVFRFX0M2ND0zLGkuQ3JlYXRlLlBBTEVUVEVfSkFQQU5FU0VfTUFDSElORT00LGkuQ3JlYXRlLnByb3RvdHlwZT17dGV4dHVyZTpmdW5jdGlvbih0LGUsaSxzLG4sbyxyLGEpe3ZvaWQgMD09PWkmJihpPTgpLHZvaWQgMD09PXMmJihzPWkpLHZvaWQgMD09PW4mJihuPTApLHZvaWQgMD09PW8mJihvPSEwKTt2YXIgaD1lWzBdLmxlbmd0aCppLGw9ZS5sZW5ndGgqcztudWxsPT09dGhpcy5ibWQmJih0aGlzLmJtZD10aGlzLmdhbWUubWFrZS5iaXRtYXBEYXRhKCksdGhpcy5jYW52YXM9dGhpcy5ibWQuY2FudmFzLHRoaXMuY3R4PXRoaXMuYm1kLmNvbnRleHQpLHRoaXMuYm1kLnJlc2l6ZShoLGwpLHRoaXMuYm1kLmNsZWFyKCk7Zm9yKHZhciBjPTA7YzxlLmxlbmd0aDtjKyspZm9yKHZhciB1PWVbY10sZD0wO2Q8dS5sZW5ndGg7ZCsrKXt2YXIgcD11W2RdO1wiLlwiIT09cCYmXCIgXCIhPT1wJiYodGhpcy5jdHguZmlsbFN0eWxlPXRoaXMucGFsZXR0ZXNbbl1bcF0sdGhpcy5jdHguZmlsbFJlY3QoZCppLGMqcyxpLHMpKX1yZXR1cm4gbz90aGlzLmJtZC5nZW5lcmF0ZVRleHR1cmUodCxyLGEpOnRoaXMuY29weSgpfSxncmlkOmZ1bmN0aW9uKHQsZSxpLHMsbixvLHIsYSxoKXt2b2lkIDA9PT1yJiYocj0hMCksbnVsbD09PXRoaXMuYm1kJiYodGhpcy5ibWQ9dGhpcy5nYW1lLm1ha2UuYml0bWFwRGF0YSgpLHRoaXMuY2FudmFzPXRoaXMuYm1kLmNhbnZhcyx0aGlzLmN0eD10aGlzLmJtZC5jb250ZXh0KSx0aGlzLmJtZC5yZXNpemUoZSxpKSx0aGlzLmN0eC5maWxsU3R5bGU9bztmb3IodmFyIGw9MDtsPGk7bCs9bil0aGlzLmN0eC5maWxsUmVjdCgwLGwsZSwxKTtmb3IodmFyIGM9MDtjPGU7Yys9cyl0aGlzLmN0eC5maWxsUmVjdChjLDAsMSxpKTtyZXR1cm4gcj90aGlzLmJtZC5nZW5lcmF0ZVRleHR1cmUodCxhLGgpOnRoaXMuY29weSgpfSxjb3B5OmZ1bmN0aW9uKHQsZSxpLHMsbixvLHIpe3JldHVybiBudWxsPT10JiYodD10aGlzLmdhbWUubWFrZS5iaXRtYXBEYXRhKCkpLHQucmVzaXplKHRoaXMuYm1kLndpZHRoLHRoaXMuYm1kLmhlaWdodCksdC5kcmF3KHRoaXMuYm1kLGUsaSxzLG4sbyxyKX19LGkuQ3JlYXRlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1pLkNyZWF0ZSxpLkZsZXhHcmlkPWZ1bmN0aW9uKHQsZSxzKXt0aGlzLmdhbWU9dC5nYW1lLHRoaXMubWFuYWdlcj10LHRoaXMud2lkdGg9ZSx0aGlzLmhlaWdodD1zLHRoaXMuYm91bmRzQ3VzdG9tPW5ldyBpLlJlY3RhbmdsZSgwLDAsZSxzKSx0aGlzLmJvdW5kc0ZsdWlkPW5ldyBpLlJlY3RhbmdsZSgwLDAsZSxzKSx0aGlzLmJvdW5kc0Z1bGw9bmV3IGkuUmVjdGFuZ2xlKDAsMCxlLHMpLHRoaXMuYm91bmRzTm9uZT1uZXcgaS5SZWN0YW5nbGUoMCwwLGUscyksdGhpcy5wb3NpdGlvbkN1c3RvbT1uZXcgaS5Qb2ludCgwLDApLHRoaXMucG9zaXRpb25GbHVpZD1uZXcgaS5Qb2ludCgwLDApLHRoaXMucG9zaXRpb25GdWxsPW5ldyBpLlBvaW50KDAsMCksdGhpcy5wb3NpdGlvbk5vbmU9bmV3IGkuUG9pbnQoMCwwKSx0aGlzLnNjYWxlQ3VzdG9tPW5ldyBpLlBvaW50KDEsMSksdGhpcy5zY2FsZUZsdWlkPW5ldyBpLlBvaW50KDEsMSksdGhpcy5zY2FsZUZsdWlkSW52ZXJzZWQ9bmV3IGkuUG9pbnQoMSwxKSx0aGlzLnNjYWxlRnVsbD1uZXcgaS5Qb2ludCgxLDEpLHRoaXMuc2NhbGVOb25lPW5ldyBpLlBvaW50KDEsMSksdGhpcy5jdXN0b21XaWR0aD0wLHRoaXMuY3VzdG9tSGVpZ2h0PTAsdGhpcy5jdXN0b21PZmZzZXRYPTAsdGhpcy5jdXN0b21PZmZzZXRZPTAsdGhpcy5yYXRpb0g9ZS9zLHRoaXMucmF0aW9WPXMvZSx0aGlzLm11bHRpcGxpZXI9MCx0aGlzLmxheWVycz1bXX0saS5GbGV4R3JpZC5wcm90b3R5cGU9e3NldFNpemU6ZnVuY3Rpb24odCxlKXt0aGlzLndpZHRoPXQsdGhpcy5oZWlnaHQ9ZSx0aGlzLnJhdGlvSD10L2UsdGhpcy5yYXRpb1Y9ZS90LHRoaXMuc2NhbGVOb25lPW5ldyBpLlBvaW50KDEsMSksdGhpcy5ib3VuZHNOb25lLndpZHRoPXRoaXMud2lkdGgsdGhpcy5ib3VuZHNOb25lLmhlaWdodD10aGlzLmhlaWdodCx0aGlzLnJlZnJlc2goKX0sY3JlYXRlQ3VzdG9tTGF5ZXI6ZnVuY3Rpb24odCxlLHMsbil7dm9pZCAwPT09biYmKG49ITApLHRoaXMuY3VzdG9tV2lkdGg9dCx0aGlzLmN1c3RvbUhlaWdodD1lLHRoaXMuYm91bmRzQ3VzdG9tLndpZHRoPXQsdGhpcy5ib3VuZHNDdXN0b20uaGVpZ2h0PWU7dmFyIG89bmV3IGkuRmxleExheWVyKHRoaXMsdGhpcy5wb3NpdGlvbkN1c3RvbSx0aGlzLmJvdW5kc0N1c3RvbSx0aGlzLnNjYWxlQ3VzdG9tKTtyZXR1cm4gbiYmdGhpcy5nYW1lLndvcmxkLmFkZChvKSx0aGlzLmxheWVycy5wdXNoKG8pLHZvaWQgMCE9PXMmJm51bGwhPT10eXBlb2YgcyYmby5hZGRNdWx0aXBsZShzKSxvfSxjcmVhdGVGbHVpZExheWVyOmZ1bmN0aW9uKHQsZSl7dm9pZCAwPT09ZSYmKGU9ITApO3ZhciBzPW5ldyBpLkZsZXhMYXllcih0aGlzLHRoaXMucG9zaXRpb25GbHVpZCx0aGlzLmJvdW5kc0ZsdWlkLHRoaXMuc2NhbGVGbHVpZCk7cmV0dXJuIGUmJnRoaXMuZ2FtZS53b3JsZC5hZGQocyksdGhpcy5sYXllcnMucHVzaChzKSx2b2lkIDAhPT10JiZudWxsIT09dHlwZW9mIHQmJnMuYWRkTXVsdGlwbGUodCksc30sY3JlYXRlRnVsbExheWVyOmZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBpLkZsZXhMYXllcih0aGlzLHRoaXMucG9zaXRpb25GdWxsLHRoaXMuYm91bmRzRnVsbCx0aGlzLnNjYWxlRmx1aWQpO3JldHVybiB0aGlzLmdhbWUud29ybGQuYWRkKGUpLHRoaXMubGF5ZXJzLnB1c2goZSksdm9pZCAwIT09dCYmZS5hZGRNdWx0aXBsZSh0KSxlfSxjcmVhdGVGaXhlZExheWVyOmZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBpLkZsZXhMYXllcih0aGlzLHRoaXMucG9zaXRpb25Ob25lLHRoaXMuYm91bmRzTm9uZSx0aGlzLnNjYWxlTm9uZSk7cmV0dXJuIHRoaXMuZ2FtZS53b3JsZC5hZGQoZSksdGhpcy5sYXllcnMucHVzaChlKSx2b2lkIDAhPT10JiZlLmFkZE11bHRpcGxlKHQpLGV9LHJlc2V0OmZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMubGF5ZXJzLmxlbmd0aDt0LS07KXRoaXMubGF5ZXJzW3RdLnBlcnNpc3R8fCh0aGlzLmxheWVyc1t0XS5wb3NpdGlvbj1udWxsLHRoaXMubGF5ZXJzW3RdLnNjYWxlPW51bGwsdGhpcy5sYXllcnMuc2xpY2UodCwxKSl9LG9uUmVzaXplOmZ1bmN0aW9uKHQsZSl7dGhpcy5yYXRpb0g9dC9lLHRoaXMucmF0aW9WPWUvdCx0aGlzLnJlZnJlc2godCxlKX0scmVmcmVzaDpmdW5jdGlvbigpe3RoaXMubXVsdGlwbGllcj1NYXRoLm1pbih0aGlzLm1hbmFnZXIuaGVpZ2h0L3RoaXMuaGVpZ2h0LHRoaXMubWFuYWdlci53aWR0aC90aGlzLndpZHRoKSx0aGlzLmJvdW5kc0ZsdWlkLndpZHRoPU1hdGgucm91bmQodGhpcy53aWR0aCp0aGlzLm11bHRpcGxpZXIpLHRoaXMuYm91bmRzRmx1aWQuaGVpZ2h0PU1hdGgucm91bmQodGhpcy5oZWlnaHQqdGhpcy5tdWx0aXBsaWVyKSx0aGlzLnNjYWxlRmx1aWQuc2V0KHRoaXMuYm91bmRzRmx1aWQud2lkdGgvdGhpcy53aWR0aCx0aGlzLmJvdW5kc0ZsdWlkLmhlaWdodC90aGlzLmhlaWdodCksdGhpcy5zY2FsZUZsdWlkSW52ZXJzZWQuc2V0KHRoaXMud2lkdGgvdGhpcy5ib3VuZHNGbHVpZC53aWR0aCx0aGlzLmhlaWdodC90aGlzLmJvdW5kc0ZsdWlkLmhlaWdodCksdGhpcy5zY2FsZUZ1bGwuc2V0KHRoaXMuYm91bmRzRnVsbC53aWR0aC90aGlzLndpZHRoLHRoaXMuYm91bmRzRnVsbC5oZWlnaHQvdGhpcy5oZWlnaHQpLHRoaXMuYm91bmRzRnVsbC53aWR0aD1NYXRoLnJvdW5kKHRoaXMubWFuYWdlci53aWR0aCp0aGlzLnNjYWxlRmx1aWRJbnZlcnNlZC54KSx0aGlzLmJvdW5kc0Z1bGwuaGVpZ2h0PU1hdGgucm91bmQodGhpcy5tYW5hZ2VyLmhlaWdodCp0aGlzLnNjYWxlRmx1aWRJbnZlcnNlZC55KSx0aGlzLmJvdW5kc0ZsdWlkLmNlbnRlck9uKHRoaXMubWFuYWdlci5ib3VuZHMuY2VudGVyWCx0aGlzLm1hbmFnZXIuYm91bmRzLmNlbnRlclkpLHRoaXMuYm91bmRzTm9uZS5jZW50ZXJPbih0aGlzLm1hbmFnZXIuYm91bmRzLmNlbnRlclgsdGhpcy5tYW5hZ2VyLmJvdW5kcy5jZW50ZXJZKSx0aGlzLnBvc2l0aW9uRmx1aWQuc2V0KHRoaXMuYm91bmRzRmx1aWQueCx0aGlzLmJvdW5kc0ZsdWlkLnkpLHRoaXMucG9zaXRpb25Ob25lLnNldCh0aGlzLmJvdW5kc05vbmUueCx0aGlzLmJvdW5kc05vbmUueSl9LGZpdFNwcml0ZTpmdW5jdGlvbih0KXt0aGlzLm1hbmFnZXIuc2NhbGVTcHJpdGUodCksdC54PXRoaXMubWFuYWdlci5ib3VuZHMuY2VudGVyWCx0Lnk9dGhpcy5tYW5hZ2VyLmJvdW5kcy5jZW50ZXJZfSxkZWJ1ZzpmdW5jdGlvbigpe3RoaXMuZ2FtZS5kZWJ1Zy50ZXh0KHRoaXMuYm91bmRzRmx1aWQud2lkdGgrXCIgeCBcIit0aGlzLmJvdW5kc0ZsdWlkLmhlaWdodCx0aGlzLmJvdW5kc0ZsdWlkLngrNCx0aGlzLmJvdW5kc0ZsdWlkLnkrMTYpLHRoaXMuZ2FtZS5kZWJ1Zy5nZW9tKHRoaXMuYm91bmRzRmx1aWQsXCJyZ2JhKDI1NSwwLDAsMC45XCIsITEpfX0saS5GbGV4R3JpZC5wcm90b3R5cGUuY29uc3RydWN0b3I9aS5GbGV4R3JpZCxpLkZsZXhMYXllcj1mdW5jdGlvbih0LGUscyxuKXtpLkdyb3VwLmNhbGwodGhpcyx0LmdhbWUsbnVsbCxcIl9fZmxleExheWVyXCIrdC5nYW1lLnJuZC51dWlkKCksITEpLHRoaXMubWFuYWdlcj10Lm1hbmFnZXIsdGhpcy5ncmlkPXQsdGhpcy5wZXJzaXN0PSExLHRoaXMucG9zaXRpb249ZSx0aGlzLmJvdW5kcz1zLHRoaXMuc2NhbGU9bix0aGlzLnRvcExlZnQ9cy50b3BMZWZ0LHRoaXMudG9wTWlkZGxlPW5ldyBpLlBvaW50KHMuaGFsZldpZHRoLDApLHRoaXMudG9wUmlnaHQ9cy50b3BSaWdodCx0aGlzLmJvdHRvbUxlZnQ9cy5ib3R0b21MZWZ0LHRoaXMuYm90dG9tTWlkZGxlPW5ldyBpLlBvaW50KHMuaGFsZldpZHRoLHMuYm90dG9tKSx0aGlzLmJvdHRvbVJpZ2h0PXMuYm90dG9tUmlnaHR9LGkuRmxleExheWVyLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGkuR3JvdXAucHJvdG90eXBlKSxpLkZsZXhMYXllci5wcm90b3R5cGUuY29uc3RydWN0b3I9aS5GbGV4TGF5ZXIsaS5GbGV4TGF5ZXIucHJvdG90eXBlLnJlc2l6ZT1mdW5jdGlvbigpe30saS5GbGV4TGF5ZXIucHJvdG90eXBlLmRlYnVnPWZ1bmN0aW9uKCl7dGhpcy5nYW1lLmRlYnVnLnRleHQodGhpcy5ib3VuZHMud2lkdGgrXCIgeCBcIit0aGlzLmJvdW5kcy5oZWlnaHQsdGhpcy5ib3VuZHMueCs0LHRoaXMuYm91bmRzLnkrMTYpLHRoaXMuZ2FtZS5kZWJ1Zy5nZW9tKHRoaXMuYm91bmRzLFwicmdiYSgwLDAsMjU1LDAuOVwiLCExKSx0aGlzLmdhbWUuZGVidWcuZ2VvbSh0aGlzLnRvcExlZnQsXCJyZ2JhKDI1NSwyNTUsMjU1LDAuOVwiKSx0aGlzLmdhbWUuZGVidWcuZ2VvbSh0aGlzLnRvcE1pZGRsZSxcInJnYmEoMjU1LDI1NSwyNTUsMC45XCIpLHRoaXMuZ2FtZS5kZWJ1Zy5nZW9tKHRoaXMudG9wUmlnaHQsXCJyZ2JhKDI1NSwyNTUsMjU1LDAuOVwiKX0saS5Db2xvcj17cGFja1BpeGVsOmZ1bmN0aW9uKHQsZSxzLG4pe3JldHVybiBpLkRldmljZS5MSVRUTEVfRU5ESUFOPyhuPDwyNHxzPDwxNnxlPDw4fHQpPj4+MDoodDw8MjR8ZTw8MTZ8czw8OHxuKT4+PjB9LHVucGFja1BpeGVsOmZ1bmN0aW9uKHQsZSxzLG4pe3JldHVybiB2b2lkIDAhPT1lJiZudWxsIT09ZXx8KGU9aS5Db2xvci5jcmVhdGVDb2xvcigpKSx2b2lkIDAhPT1zJiZudWxsIT09c3x8KHM9ITEpLHZvaWQgMCE9PW4mJm51bGwhPT1ufHwobj0hMSksaS5EZXZpY2UuTElUVExFX0VORElBTj8oZS5hPSg0Mjc4MTkwMDgwJnQpPj4+MjQsZS5iPSgxNjcxMTY4MCZ0KT4+PjE2LGUuZz0oNjUyODAmdCk+Pj44LGUucj0yNTUmdCk6KGUucj0oNDI3ODE5MDA4MCZ0KT4+PjI0LGUuZz0oMTY3MTE2ODAmdCk+Pj4xNixlLmI9KDY1MjgwJnQpPj4+OCxlLmE9MjU1JnQpLGUuY29sb3I9dCxlLnJnYmE9XCJyZ2JhKFwiK2UucitcIixcIitlLmcrXCIsXCIrZS5iK1wiLFwiK2UuYS8yNTUrXCIpXCIscyYmaS5Db2xvci5SR0J0b0hTTChlLnIsZS5nLGUuYixlKSxuJiZpLkNvbG9yLlJHQnRvSFNWKGUucixlLmcsZS5iLGUpLGV9LGZyb21SR0JBOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIGV8fChlPWkuQ29sb3IuY3JlYXRlQ29sb3IoKSksZS5yPSg0Mjc4MTkwMDgwJnQpPj4+MjQsZS5nPSgxNjcxMTY4MCZ0KT4+PjE2LGUuYj0oNjUyODAmdCk+Pj44LGUuYT0yNTUmdCxlLnJnYmE9XCJyZ2JhKFwiK2UucitcIixcIitlLmcrXCIsXCIrZS5iK1wiLFwiK2UuYStcIilcIixlfSx0b1JHQkE6ZnVuY3Rpb24odCxlLGkscyl7cmV0dXJuIHQ8PDI0fGU8PDE2fGk8PDh8c30sdG9BQkdSOmZ1bmN0aW9uKHQsZSxpLHMpe3JldHVybihzPDwyNHxpPDwxNnxlPDw4fHQpPj4+MH0saGV4VG9SR0JBcnJheTpmdW5jdGlvbih0KXtyZXR1cm5bKHQ+PjE2JjI1NSkvMjU1LCh0Pj44JjI1NSkvMjU1LCgyNTUmdCkvMjU1XX0sUkdCQXJyYXlUb0hleDpmdW5jdGlvbih0KXtyZXR1cm4oMjU1KnRbMF08PDE2KSsoMjU1KnRbMV08PDgpKzI1NSp0WzJdfSxSR0J0b0hTTDpmdW5jdGlvbih0LGUscyxuKXtufHwobj1pLkNvbG9yLmNyZWF0ZUNvbG9yKHQsZSxzLDEpKSx0Lz0yNTUsZS89MjU1LHMvPTI1NTt2YXIgbz1NYXRoLm1pbih0LGUscykscj1NYXRoLm1heCh0LGUscyk7aWYobi5oPTAsbi5zPTAsbi5sPShyK28pLzIsciE9PW8pe3ZhciBhPXItbztuLnM9bi5sPi41P2EvKDItci1vKTphLyhyK28pLHI9PT10P24uaD0oZS1zKS9hKyhlPHM/NjowKTpyPT09ZT9uLmg9KHMtdCkvYSsyOnI9PT1zJiYobi5oPSh0LWUpL2ErNCksbi5oLz02fXJldHVybiBufSxIU0x0b1JHQjpmdW5jdGlvbih0LGUscyxuKXtpZihuPyhuLnI9cyxuLmc9cyxuLmI9cyk6bj1pLkNvbG9yLmNyZWF0ZUNvbG9yKHMscyxzKSwwIT09ZSl7dmFyIG89czwuNT9zKigxK2UpOnMrZS1zKmUscj0yKnMtbztuLnI9aS5Db2xvci5odWVUb0NvbG9yKHIsbyx0KzEvMyksbi5nPWkuQ29sb3IuaHVlVG9Db2xvcihyLG8sdCksbi5iPWkuQ29sb3IuaHVlVG9Db2xvcihyLG8sdC0xLzMpfXJldHVybiBuLnI9TWF0aC5mbG9vcigyNTUqbi5yfDApLG4uZz1NYXRoLmZsb29yKDI1NSpuLmd8MCksbi5iPU1hdGguZmxvb3IoMjU1Km4uYnwwKSxpLkNvbG9yLnVwZGF0ZUNvbG9yKG4pLG59LFJHQnRvSFNWOmZ1bmN0aW9uKHQsZSxzLG4pe258fChuPWkuQ29sb3IuY3JlYXRlQ29sb3IodCxlLHMsMjU1KSksdC89MjU1LGUvPTI1NSxzLz0yNTU7dmFyIG89TWF0aC5taW4odCxlLHMpLHI9TWF0aC5tYXgodCxlLHMpLGE9ci1vO3JldHVybiBuLmg9MCxuLnM9MD09PXI/MDphL3Isbi52PXIsciE9PW8mJihyPT09dD9uLmg9KGUtcykvYSsoZTxzPzY6MCk6cj09PWU/bi5oPShzLXQpL2ErMjpyPT09cyYmKG4uaD0odC1lKS9hKzQpLG4uaC89Niksbn0sSFNWdG9SR0I6ZnVuY3Rpb24odCxlLHMsbil7dm9pZCAwPT09biYmKG49aS5Db2xvci5jcmVhdGVDb2xvcigwLDAsMCwxLHQsZSwwLHMpKTt2YXIgbyxyLGEsaD1NYXRoLmZsb29yKDYqdCksbD02KnQtaCxjPXMqKDEtZSksdT1zKigxLWwqZSksZD1zKigxLSgxLWwpKmUpO3N3aXRjaChoJTYpe2Nhc2UgMDpvPXMscj1kLGE9YzticmVhaztjYXNlIDE6bz11LHI9cyxhPWM7YnJlYWs7Y2FzZSAyOm89YyxyPXMsYT1kO2JyZWFrO2Nhc2UgMzpvPWMscj11LGE9czticmVhaztjYXNlIDQ6bz1kLHI9YyxhPXM7YnJlYWs7Y2FzZSA1Om89cyxyPWMsYT11fXJldHVybiBuLnI9TWF0aC5mbG9vcigyNTUqbyksbi5nPU1hdGguZmxvb3IoMjU1KnIpLG4uYj1NYXRoLmZsb29yKDI1NSphKSxpLkNvbG9yLnVwZGF0ZUNvbG9yKG4pLG59LGh1ZVRvQ29sb3I6ZnVuY3Rpb24odCxlLGkpe3JldHVybiBpPDAmJihpKz0xKSxpPjEmJihpLT0xKSxpPDEvNj90KzYqKGUtdCkqaTppPC41P2U6aTwyLzM/dCsoZS10KSooMi8zLWkpKjY6dH0sY3JlYXRlQ29sb3I6ZnVuY3Rpb24odCxlLHMsbixvLHIsYSxoKXt2YXIgbD17cjp0fHwwLGc6ZXx8MCxiOnN8fDAsYTpufHwxLGg6b3x8MCxzOnJ8fDAsbDphfHwwLHY6aHx8MCxjb2xvcjowLGNvbG9yMzI6MCxyZ2JhOlwiXCJ9O3JldHVybiBpLkNvbG9yLnVwZGF0ZUNvbG9yKGwpfSx1cGRhdGVDb2xvcjpmdW5jdGlvbih0KXtyZXR1cm4gdC5yZ2JhPVwicmdiYShcIit0LnIudG9GaXhlZCgpK1wiLFwiK3QuZy50b0ZpeGVkKCkrXCIsXCIrdC5iLnRvRml4ZWQoKStcIixcIit0LmEudG9TdHJpbmcoKStcIilcIix0LmNvbG9yPWkuQ29sb3IuZ2V0Q29sb3IodC5yLHQuZyx0LmIpLHQuY29sb3IzMj1pLkNvbG9yLmdldENvbG9yMzIoMjU1KnQuYSx0LnIsdC5nLHQuYiksdH0sZ2V0Q29sb3IzMjpmdW5jdGlvbih0LGUsaSxzKXtyZXR1cm4gdDw8MjR8ZTw8MTZ8aTw8OHxzfSxnZXRDb2xvcjpmdW5jdGlvbih0LGUsaSl7cmV0dXJuIHQ8PDE2fGU8PDh8aX0sUkdCdG9TdHJpbmc6ZnVuY3Rpb24odCxlLHMsbixvKXtyZXR1cm4gdm9pZCAwPT09biYmKG49MjU1KSx2b2lkIDA9PT1vJiYobz1cIiNcIiksXCIjXCI9PT1vP1wiI1wiKygoMTw8MjQpKyh0PDwxNikrKGU8PDgpK3MpLnRvU3RyaW5nKDE2KS5zbGljZSgxKTpcIjB4XCIraS5Db2xvci5jb21wb25lbnRUb0hleChuKStpLkNvbG9yLmNvbXBvbmVudFRvSGV4KHQpK2kuQ29sb3IuY29tcG9uZW50VG9IZXgoZSkraS5Db2xvci5jb21wb25lbnRUb0hleChzKX0saGV4VG9SR0I6ZnVuY3Rpb24odCl7dmFyIGU9aS5Db2xvci5oZXhUb0NvbG9yKHQpO2lmKGUpcmV0dXJuIGkuQ29sb3IuZ2V0Q29sb3IzMihlLmEsZS5yLGUuZyxlLmIpfSxoZXhUb0NvbG9yOmZ1bmN0aW9uKHQsZSl7dD10LnJlcGxhY2UoL14oPzojfDB4KT8oW2EtZlxcZF0pKFthLWZcXGRdKShbYS1mXFxkXSkkL2ksZnVuY3Rpb24odCxlLGkscyl7cmV0dXJuIGUrZStpK2krcytzfSk7dmFyIHM9L14oPzojfDB4KT8oW2EtZlxcZF17Mn0pKFthLWZcXGRdezJ9KShbYS1mXFxkXXsyfSkkL2kuZXhlYyh0KTtpZihzKXt2YXIgbj1wYXJzZUludChzWzFdLDE2KSxvPXBhcnNlSW50KHNbMl0sMTYpLHI9cGFyc2VJbnQoc1szXSwxNik7ZT8oZS5yPW4sZS5nPW8sZS5iPXIpOmU9aS5Db2xvci5jcmVhdGVDb2xvcihuLG8scil9cmV0dXJuIGV9LHdlYlRvQ29sb3I6ZnVuY3Rpb24odCxlKXtlfHwoZT1pLkNvbG9yLmNyZWF0ZUNvbG9yKCkpO3ZhciBzPS9ecmdiYT9cXChcXHMqKFxcZCspXFxzKixcXHMqKFxcZCspXFxzKixcXHMqKFxcZCspXFxzKig/OixcXHMqKFxcZCsoPzpcXC5cXGQrKT8pKT9cXHMqXFwpJC8uZXhlYyh0KTtyZXR1cm4gcyYmKGUucj1+fk51bWJlcihzWzFdKSxlLmc9fn5OdW1iZXIoc1syXSksZS5iPX5+TnVtYmVyKHNbM10pLGUuYT12b2lkIDAhPT1zWzRdP051bWJlcihzWzRdKToxLGkuQ29sb3IudXBkYXRlQ29sb3IoZSkpLGV9LHZhbHVlVG9Db2xvcjpmdW5jdGlvbih0LGUpe2lmKGV8fChlPWkuQ29sb3IuY3JlYXRlQ29sb3IoKSksXCJzdHJpbmdcIj09dHlwZW9mIHQpcmV0dXJuIDA9PT10LmluZGV4T2YoXCJyZ2JcIik/aS5Db2xvci53ZWJUb0NvbG9yKHQsZSk6KGUuYT0xLGkuQ29sb3IuaGV4VG9Db2xvcih0LGUpKTtpZihcIm51bWJlclwiPT10eXBlb2YgdCl7dmFyIHM9aS5Db2xvci5nZXRSR0IodCk7cmV0dXJuIGUucj1zLnIsZS5nPXMuZyxlLmI9cy5iLGUuYT1zLmEvMjU1LGV9cmV0dXJuIGV9LGNvbXBvbmVudFRvSGV4OmZ1bmN0aW9uKHQpe3ZhciBlPXQudG9TdHJpbmcoMTYpO3JldHVybiAxPT09ZS5sZW5ndGg/XCIwXCIrZTplfSxIU1ZDb2xvcldoZWVsOmZ1bmN0aW9uKHQsZSl7dm9pZCAwPT09dCYmKHQ9MSksdm9pZCAwPT09ZSYmKGU9MSk7Zm9yKHZhciBzPVtdLG49MDtuPD0zNTk7bisrKXMucHVzaChpLkNvbG9yLkhTVnRvUkdCKG4vMzU5LHQsZSkpO3JldHVybiBzfSxIU0xDb2xvcldoZWVsOmZ1bmN0aW9uKHQsZSl7dm9pZCAwPT09dCYmKHQ9LjUpLHZvaWQgMD09PWUmJihlPS41KTtmb3IodmFyIHM9W10sbj0wO248PTM1OTtuKyspcy5wdXNoKGkuQ29sb3IuSFNMdG9SR0Iobi8zNTksdCxlKSk7cmV0dXJuIHN9LGludGVycG9sYXRlQ29sb3I6ZnVuY3Rpb24odCxlLHMsbixvLHIpe3ZvaWQgMD09PW8mJihvPTI1NSksdm9pZCAwPT09ciYmKHI9MCk7dmFyIGE9aS5Db2xvci5nZXRSR0IodCksaD1pLkNvbG9yLmdldFJHQihlKTtpZigwPT09cil2YXIgbD0oaC5yZWQtYS5yZWQpKm4vcythLnJlZCxjPShoLmdyZWVuLWEuZ3JlZW4pKm4vcythLmdyZWVuLHU9KGguYmx1ZS1hLmJsdWUpKm4vcythLmJsdWU7aWYoMT09PXIpe3ZhciBkLHA9aS5Db2xvci5SR0J0b0hTVihhLnIsYS5nLGEuYiksZj1pLkNvbG9yLlJHQnRvSFNWKGgucixoLmcsaC5iKSxtPWYuaC1wLmg7aWYocC5oPmYuaCl7dmFyIGc9Zi5oO2YuaD1wLmgscC5oPWcsbT0tbSxuPXMtbn1tPi41JiYocC5oPXAuaCsxLGQ9KChmLmgtcC5oKSpuL3MrcC5oKSUxKSxtPD0uNSYmKGQ9KGYuaC1wLmgpKm4vcytwLmgpO3ZhciB5PShmLnMtcC5zKSpuL3MrcC5zLHY9KGYudi1wLnYpKm4vcytwLnYseD1pLkNvbG9yLkhTVnRvUkdCKGQseSx2LHgpLGw9eC5yLGM9eC5nLHU9eC5ifXJldHVybiBpLkNvbG9yLmdldENvbG9yMzIobyxsLGMsdSl9LGludGVycG9sYXRlQ29sb3JXaXRoUkdCOmZ1bmN0aW9uKHQsZSxzLG4sbyxyKXt2YXIgYT1pLkNvbG9yLmdldFJHQih0KSxoPShlLWEucmVkKSpyL28rYS5yZWQsbD0ocy1hLmdyZWVuKSpyL28rYS5ncmVlbixjPShuLWEuYmx1ZSkqci9vK2EuYmx1ZTtyZXR1cm4gaS5Db2xvci5nZXRDb2xvcihoLGwsYyl9LGludGVycG9sYXRlUkdCOmZ1bmN0aW9uKHQsZSxzLG4sbyxyLGEsaCl7dmFyIGw9KG4tdCkqaC9hK3QsYz0oby1lKSpoL2ErZSx1PShyLXMpKmgvYStzO3JldHVybiBpLkNvbG9yLmdldENvbG9yKGwsYyx1KX0sbGluZWFyOmZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gdGhpcy5pbnRlcnBvbGF0ZUNvbG9yKHQsZSwxLGkpfSxsaW5lYXJJbnRlcnBvbGF0aW9uOmZ1bmN0aW9uKHQsZSl7dmFyIHM9aS5NYXRoLmxpbmVhcigwLHQubGVuZ3RoLTEsZSksbj10W01hdGguZmxvb3IocyldLG89dFtNYXRoLmNlaWwocyldO3JldHVybiB0aGlzLmxpbmVhcihuLG8scyUxKX0sZ2V0UmFuZG9tQ29sb3I6ZnVuY3Rpb24odCxlLHMpe2lmKHZvaWQgMD09PXQmJih0PTApLHZvaWQgMD09PWUmJihlPTI1NSksdm9pZCAwPT09cyYmKHM9MjU1KSxlPjI1NXx8dD5lKXJldHVybiBpLkNvbG9yLmdldENvbG9yKDI1NSwyNTUsMjU1KTt2YXIgbj10K01hdGgucm91bmQoTWF0aC5yYW5kb20oKSooZS10KSksbz10K01hdGgucm91bmQoTWF0aC5yYW5kb20oKSooZS10KSkscj10K01hdGgucm91bmQoTWF0aC5yYW5kb20oKSooZS10KSk7cmV0dXJuIGkuQ29sb3IuZ2V0Q29sb3IzMihzLG4sbyxyKX0sZ2V0UkdCOmZ1bmN0aW9uKHQpe3JldHVybiB0PjE2Nzc3MjE1P3thbHBoYTp0Pj4+MjQscmVkOnQ+PjE2JjI1NSxncmVlbjp0Pj44JjI1NSxibHVlOjI1NSZ0LGE6dD4+PjI0LHI6dD4+MTYmMjU1LGc6dD4+OCYyNTUsYjoyNTUmdH06e2FscGhhOjI1NSxyZWQ6dD4+MTYmMjU1LGdyZWVuOnQ+PjgmMjU1LGJsdWU6MjU1JnQsYToyNTUscjp0Pj4xNiYyNTUsZzp0Pj44JjI1NSxiOjI1NSZ0fX0sZ2V0V2ViUkdCOmZ1bmN0aW9uKHQpe2lmKFwib2JqZWN0XCI9PXR5cGVvZiB0KXJldHVyblwicmdiYShcIit0LnIudG9TdHJpbmcoKStcIixcIit0LmcudG9TdHJpbmcoKStcIixcIit0LmIudG9TdHJpbmcoKStcIixcIisodC5hLzI1NSkudG9TdHJpbmcoKStcIilcIjt2YXIgZT1pLkNvbG9yLmdldFJHQih0KTtyZXR1cm5cInJnYmEoXCIrZS5yLnRvU3RyaW5nKCkrXCIsXCIrZS5nLnRvU3RyaW5nKCkrXCIsXCIrZS5iLnRvU3RyaW5nKCkrXCIsXCIrKGUuYS8yNTUpLnRvU3RyaW5nKCkrXCIpXCJ9LGdldEFscGhhOmZ1bmN0aW9uKHQpe3JldHVybiB0Pj4+MjR9LGdldEFscGhhRmxvYXQ6ZnVuY3Rpb24odCl7cmV0dXJuKHQ+Pj4yNCkvMjU1fSxnZXRSZWQ6ZnVuY3Rpb24odCl7cmV0dXJuIHQ+PjE2JjI1NX0sZ2V0R3JlZW46ZnVuY3Rpb24odCl7cmV0dXJuIHQ+PjgmMjU1fSxnZXRCbHVlOmZ1bmN0aW9uKHQpe3JldHVybiAyNTUmdH0sYmxlbmROb3JtYWw6ZnVuY3Rpb24odCl7cmV0dXJuIHR9LGJsZW5kTGlnaHRlbjpmdW5jdGlvbih0LGUpe3JldHVybiBlPnQ/ZTp0fSxibGVuZERhcmtlbjpmdW5jdGlvbih0LGUpe3JldHVybiBlPnQ/dDplfSxibGVuZE11bHRpcGx5OmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQqZS8yNTV9LGJsZW5kQXZlcmFnZTpmdW5jdGlvbih0LGUpe3JldHVybih0K2UpLzJ9LGJsZW5kQWRkOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIE1hdGgubWluKDI1NSx0K2UpfSxibGVuZFN1YnRyYWN0OmZ1bmN0aW9uKHQsZSl7cmV0dXJuIE1hdGgubWF4KDAsdCtlLTI1NSl9LGJsZW5kRGlmZmVyZW5jZTpmdW5jdGlvbih0LGUpe3JldHVybiBNYXRoLmFicyh0LWUpfSxibGVuZE5lZ2F0aW9uOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIDI1NS1NYXRoLmFicygyNTUtdC1lKX0sYmxlbmRTY3JlZW46ZnVuY3Rpb24odCxlKXtyZXR1cm4gMjU1LSgoMjU1LXQpKigyNTUtZSk+PjgpfSxibGVuZEV4Y2x1c2lvbjpmdW5jdGlvbih0LGUpe3JldHVybiB0K2UtMip0KmUvMjU1fSxibGVuZE92ZXJsYXk6ZnVuY3Rpb24odCxlKXtyZXR1cm4gZTwxMjg/Mip0KmUvMjU1OjI1NS0yKigyNTUtdCkqKDI1NS1lKS8yNTV9LGJsZW5kU29mdExpZ2h0OmZ1bmN0aW9uKHQsZSl7cmV0dXJuIGU8MTI4PzIqKDY0Kyh0Pj4xKSkqKGUvMjU1KToyNTUtMiooMjU1LSg2NCsodD4+MSkpKSooMjU1LWUpLzI1NX0sYmxlbmRIYXJkTGlnaHQ6ZnVuY3Rpb24odCxlKXtyZXR1cm4gaS5Db2xvci5ibGVuZE92ZXJsYXkoZSx0KX0sYmxlbmRDb2xvckRvZGdlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIDI1NT09PWU/ZTpNYXRoLm1pbigyNTUsKHQ8PDgpLygyNTUtZSkpfSxibGVuZENvbG9yQnVybjpmdW5jdGlvbih0LGUpe3JldHVybiAwPT09ZT9lOk1hdGgubWF4KDAsMjU1LSgyNTUtdDw8OCkvZSl9LGJsZW5kTGluZWFyRG9kZ2U6ZnVuY3Rpb24odCxlKXtyZXR1cm4gaS5Db2xvci5ibGVuZEFkZCh0LGUpfSxibGVuZExpbmVhckJ1cm46ZnVuY3Rpb24odCxlKXtyZXR1cm4gaS5Db2xvci5ibGVuZFN1YnRyYWN0KHQsZSl9LGJsZW5kTGluZWFyTGlnaHQ6ZnVuY3Rpb24odCxlKXtyZXR1cm4gZTwxMjg/aS5Db2xvci5ibGVuZExpbmVhckJ1cm4odCwyKmUpOmkuQ29sb3IuYmxlbmRMaW5lYXJEb2RnZSh0LDIqKGUtMTI4KSl9LGJsZW5kVml2aWRMaWdodDpmdW5jdGlvbih0LGUpe3JldHVybiBlPDEyOD9pLkNvbG9yLmJsZW5kQ29sb3JCdXJuKHQsMiplKTppLkNvbG9yLmJsZW5kQ29sb3JEb2RnZSh0LDIqKGUtMTI4KSl9LGJsZW5kUGluTGlnaHQ6ZnVuY3Rpb24odCxlKXtyZXR1cm4gZTwxMjg/aS5Db2xvci5ibGVuZERhcmtlbih0LDIqZSk6aS5Db2xvci5ibGVuZExpZ2h0ZW4odCwyKihlLTEyOCkpfSxibGVuZEhhcmRNaXg6ZnVuY3Rpb24odCxlKXtyZXR1cm4gaS5Db2xvci5ibGVuZFZpdmlkTGlnaHQodCxlKTwxMjg/MDoyNTV9LGJsZW5kUmVmbGVjdDpmdW5jdGlvbih0LGUpe3JldHVybiAyNTU9PT1lP2U6TWF0aC5taW4oMjU1LHQqdC8oMjU1LWUpKX0sYmxlbmRHbG93OmZ1bmN0aW9uKHQsZSl7cmV0dXJuIGkuQ29sb3IuYmxlbmRSZWZsZWN0KGUsdCl9LGJsZW5kUGhvZW5peDpmdW5jdGlvbih0LGUpe3JldHVybiBNYXRoLm1pbih0LGUpLU1hdGgubWF4KHQsZSkrMjU1fX0saS5QaHlzaWNzPWZ1bmN0aW9uKHQsZSl7ZT1lfHx7fSx0aGlzLmdhbWU9dCx0aGlzLmNvbmZpZz1lLHRoaXMuYXJjYWRlPW51bGwsdGhpcy5wMj1udWxsLHRoaXMubmluamE9bnVsbCx0aGlzLmJveDJkPW51bGwsdGhpcy5jaGlwbXVuaz1udWxsLHRoaXMubWF0dGVyPW51bGwsdGhpcy5wYXJzZUNvbmZpZygpfSxpLlBoeXNpY3MuQVJDQURFPTAsaS5QaHlzaWNzLlAySlM9MSxpLlBoeXNpY3MuTklOSkE9MixpLlBoeXNpY3MuQk9YMkQ9MyxpLlBoeXNpY3MuQ0hJUE1VTks9NCxpLlBoeXNpY3MuTUFUVEVSSlM9NSxpLlBoeXNpY3MucHJvdG90eXBlPXtwYXJzZUNvbmZpZzpmdW5jdGlvbigpe3RoaXMuY29uZmlnLmhhc093blByb3BlcnR5KFwiYXJjYWRlXCIpJiYhMCE9PXRoaXMuY29uZmlnLmFyY2FkZXx8IWkuUGh5c2ljcy5oYXNPd25Qcm9wZXJ0eShcIkFyY2FkZVwiKXx8KHRoaXMuYXJjYWRlPW5ldyBpLlBoeXNpY3MuQXJjYWRlKHRoaXMuZ2FtZSkpLHRoaXMuY29uZmlnLmhhc093blByb3BlcnR5KFwibmluamFcIikmJiEwPT09dGhpcy5jb25maWcubmluamEmJmkuUGh5c2ljcy5oYXNPd25Qcm9wZXJ0eShcIk5pbmphXCIpJiYodGhpcy5uaW5qYT1uZXcgaS5QaHlzaWNzLk5pbmphKHRoaXMuZ2FtZSkpLHRoaXMuY29uZmlnLmhhc093blByb3BlcnR5KFwicDJcIikmJiEwPT09dGhpcy5jb25maWcucDImJmkuUGh5c2ljcy5oYXNPd25Qcm9wZXJ0eShcIlAyXCIpJiYodGhpcy5wMj1uZXcgaS5QaHlzaWNzLlAyKHRoaXMuZ2FtZSx0aGlzLmNvbmZpZykpLHRoaXMuY29uZmlnLmhhc093blByb3BlcnR5KFwiYm94MmRcIikmJiEwPT09dGhpcy5jb25maWcuYm94MmQmJmkuUGh5c2ljcy5oYXNPd25Qcm9wZXJ0eShcIkJPWDJEXCIpJiYodGhpcy5ib3gyZD1uZXcgaS5QaHlzaWNzLkJPWDJEKHRoaXMuZ2FtZSx0aGlzLmNvbmZpZykpLHRoaXMuY29uZmlnLmhhc093blByb3BlcnR5KFwibWF0dGVyXCIpJiYhMD09PXRoaXMuY29uZmlnLm1hdHRlciYmaS5QaHlzaWNzLmhhc093blByb3BlcnR5KFwiTWF0dGVyXCIpJiYodGhpcy5tYXR0ZXI9bmV3IGkuUGh5c2ljcy5NYXR0ZXIodGhpcy5nYW1lLHRoaXMuY29uZmlnKSl9LHN0YXJ0U3lzdGVtOmZ1bmN0aW9uKHQpe3Q9PT1pLlBoeXNpY3MuQVJDQURFP3RoaXMuYXJjYWRlPW5ldyBpLlBoeXNpY3MuQXJjYWRlKHRoaXMuZ2FtZSk6dD09PWkuUGh5c2ljcy5QMkpTP251bGw9PT10aGlzLnAyP3RoaXMucDI9bmV3IGkuUGh5c2ljcy5QMih0aGlzLmdhbWUsdGhpcy5jb25maWcpOnRoaXMucDIucmVzZXQoKTp0PT09aS5QaHlzaWNzLk5JTkpBP3RoaXMubmluamE9bmV3IGkuUGh5c2ljcy5OaW5qYSh0aGlzLmdhbWUpOnQ9PT1pLlBoeXNpY3MuQk9YMkQ/bnVsbD09PXRoaXMuYm94MmQ/dGhpcy5ib3gyZD1uZXcgaS5QaHlzaWNzLkJveDJEKHRoaXMuZ2FtZSx0aGlzLmNvbmZpZyk6dGhpcy5ib3gyZC5yZXNldCgpOnQ9PT1pLlBoeXNpY3MuTUFUVEVSSlMmJihudWxsPT09dGhpcy5tYXR0ZXI/dGhpcy5tYXR0ZXI9bmV3IGkuUGh5c2ljcy5NYXR0ZXIodGhpcy5nYW1lLHRoaXMuY29uZmlnKTp0aGlzLm1hdHRlci5yZXNldCgpKX0sZW5hYmxlOmZ1bmN0aW9uKHQsZSxzKXt2b2lkIDA9PT1lJiYoZT1pLlBoeXNpY3MuQVJDQURFKSx2b2lkIDA9PT1zJiYocz0hMSksZT09PWkuUGh5c2ljcy5BUkNBREU/dGhpcy5hcmNhZGUuZW5hYmxlKHQpOmU9PT1pLlBoeXNpY3MuUDJKUyYmdGhpcy5wMj90aGlzLnAyLmVuYWJsZSh0LHMpOmU9PT1pLlBoeXNpY3MuTklOSkEmJnRoaXMubmluamE/dGhpcy5uaW5qYS5lbmFibGVBQUJCKHQpOmU9PT1pLlBoeXNpY3MuQk9YMkQmJnRoaXMuYm94MmQ/dGhpcy5ib3gyZC5lbmFibGUodCk6ZT09PWkuUGh5c2ljcy5NQVRURVJKUyYmdGhpcy5tYXR0ZXI/dGhpcy5tYXR0ZXIuZW5hYmxlKHQpOmNvbnNvbGUud2Fybih0LmtleStcIiBpcyBhdHRlbXB0aW5nIHRvIGVuYWJsZSBhIHBoeXNpY3MgYm9keSB1c2luZyBhbiB1bmtub3duIHBoeXNpY3Mgc3lzdGVtLlwiKX0scHJlVXBkYXRlOmZ1bmN0aW9uKCl7dGhpcy5wMiYmdGhpcy5wMi5wcmVVcGRhdGUoKSx0aGlzLmJveDJkJiZ0aGlzLmJveDJkLnByZVVwZGF0ZSgpLHRoaXMubWF0dGVyJiZ0aGlzLm1hdHRlci5wcmVVcGRhdGUoKX0sdXBkYXRlOmZ1bmN0aW9uKCl7dGhpcy5wMiYmdGhpcy5wMi51cGRhdGUoKSx0aGlzLmJveDJkJiZ0aGlzLmJveDJkLnVwZGF0ZSgpLHRoaXMubWF0dGVyJiZ0aGlzLm1hdHRlci51cGRhdGUoKX0sc2V0Qm91bmRzVG9Xb3JsZDpmdW5jdGlvbigpe3RoaXMuYXJjYWRlJiZ0aGlzLmFyY2FkZS5zZXRCb3VuZHNUb1dvcmxkKCksdGhpcy5uaW5qYSYmdGhpcy5uaW5qYS5zZXRCb3VuZHNUb1dvcmxkKCksdGhpcy5wMiYmdGhpcy5wMi5zZXRCb3VuZHNUb1dvcmxkKCksdGhpcy5ib3gyZCYmdGhpcy5ib3gyZC5zZXRCb3VuZHNUb1dvcmxkKCksdGhpcy5tYXR0ZXImJnRoaXMubWF0dGVyLnNldEJvdW5kc1RvV29ybGQoKX0sY2xlYXI6ZnVuY3Rpb24oKXt0aGlzLnAyJiZ0aGlzLnAyLmNsZWFyKCksdGhpcy5ib3gyZCYmdGhpcy5ib3gyZC5jbGVhcigpLHRoaXMubWF0dGVyJiZ0aGlzLm1hdHRlci5jbGVhcigpfSxyZXNldDpmdW5jdGlvbigpe3RoaXMucDImJnRoaXMucDIucmVzZXQoKSx0aGlzLmJveDJkJiZ0aGlzLmJveDJkLnJlc2V0KCksdGhpcy5tYXR0ZXImJnRoaXMubWF0dGVyLnJlc2V0KCl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLnAyJiZ0aGlzLnAyLmRlc3Ryb3koKSx0aGlzLmJveDJkJiZ0aGlzLmJveDJkLmRlc3Ryb3koKSx0aGlzLm1hdHRlciYmdGhpcy5tYXR0ZXIuZGVzdHJveSgpLHRoaXMuYXJjYWRlPW51bGwsdGhpcy5uaW5qYT1udWxsLHRoaXMucDI9bnVsbCx0aGlzLmJveDJkPW51bGwsdGhpcy5tYXR0ZXI9bnVsbH19LGkuUGh5c2ljcy5wcm90b3R5cGUuY29uc3RydWN0b3I9aS5QaHlzaWNzLGkuUGh5c2ljcy5BcmNhZGU9ZnVuY3Rpb24odCl7dGhpcy5nYW1lPXQsdGhpcy5ncmF2aXR5PW5ldyBpLlBvaW50LHRoaXMuYm91bmRzPW5ldyBpLlJlY3RhbmdsZSgwLDAsdC53b3JsZC53aWR0aCx0LndvcmxkLmhlaWdodCksdGhpcy5jaGVja0NvbGxpc2lvbj17dXA6ITAsZG93bjohMCxsZWZ0OiEwLHJpZ2h0OiEwfSx0aGlzLm1heE9iamVjdHM9MTAsdGhpcy5tYXhMZXZlbHM9NCx0aGlzLk9WRVJMQVBfQklBUz00LHRoaXMuZm9yY2VYPSExLHRoaXMuc29ydERpcmVjdGlvbj1pLlBoeXNpY3MuQXJjYWRlLkxFRlRfUklHSFQsdGhpcy5za2lwUXVhZFRyZWU9ITAsdGhpcy5pc1BhdXNlZD0hMSx0aGlzLnF1YWRUcmVlPW5ldyBpLlF1YWRUcmVlKHRoaXMuZ2FtZS53b3JsZC5ib3VuZHMueCx0aGlzLmdhbWUud29ybGQuYm91bmRzLnksdGhpcy5nYW1lLndvcmxkLmJvdW5kcy53aWR0aCx0aGlzLmdhbWUud29ybGQuYm91bmRzLmhlaWdodCx0aGlzLm1heE9iamVjdHMsdGhpcy5tYXhMZXZlbHMpLHRoaXMuX3RvdGFsPTAsdGhpcy5zZXRCb3VuZHNUb1dvcmxkKCl9LGkuUGh5c2ljcy5BcmNhZGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWkuUGh5c2ljcy5BcmNhZGUsaS5QaHlzaWNzLkFyY2FkZS5TT1JUX05PTkU9MCxpLlBoeXNpY3MuQXJjYWRlLkxFRlRfUklHSFQ9MSxpLlBoeXNpY3MuQXJjYWRlLlJJR0hUX0xFRlQ9MixpLlBoeXNpY3MuQXJjYWRlLlRPUF9CT1RUT009MyxpLlBoeXNpY3MuQXJjYWRlLkJPVFRPTV9UT1A9NCxpLlBoeXNpY3MuQXJjYWRlLnByb3RvdHlwZT17c2V0Qm91bmRzOmZ1bmN0aW9uKHQsZSxpLHMpe3RoaXMuYm91bmRzLnNldFRvKHQsZSxpLHMpfSxzZXRCb3VuZHNUb1dvcmxkOmZ1bmN0aW9uKCl7dGhpcy5ib3VuZHMuY29weUZyb20odGhpcy5nYW1lLndvcmxkLmJvdW5kcyl9LGVuYWJsZTpmdW5jdGlvbih0LGUpe3ZvaWQgMD09PWUmJihlPSEwKTt2YXIgcz0xO2lmKEFycmF5LmlzQXJyYXkodCkpZm9yKHM9dC5sZW5ndGg7cy0tOyl0W3NdaW5zdGFuY2VvZiBpLkdyb3VwP3RoaXMuZW5hYmxlKHRbc10uY2hpbGRyZW4sZSk6KHRoaXMuZW5hYmxlQm9keSh0W3NdKSxlJiZ0W3NdLmhhc093blByb3BlcnR5KFwiY2hpbGRyZW5cIikmJnRbc10uY2hpbGRyZW4ubGVuZ3RoPjAmJnRoaXMuZW5hYmxlKHRbc10sITApKTtlbHNlIHQgaW5zdGFuY2VvZiBpLkdyb3VwP3RoaXMuZW5hYmxlKHQuY2hpbGRyZW4sZSk6KHRoaXMuZW5hYmxlQm9keSh0KSxlJiZ0Lmhhc093blByb3BlcnR5KFwiY2hpbGRyZW5cIikmJnQuY2hpbGRyZW4ubGVuZ3RoPjAmJnRoaXMuZW5hYmxlKHQuY2hpbGRyZW4sITApKX0sZW5hYmxlQm9keTpmdW5jdGlvbih0KXt0Lmhhc093blByb3BlcnR5KFwiYm9keVwiKSYmbnVsbD09PXQuYm9keSYmKHQuYm9keT1uZXcgaS5QaHlzaWNzLkFyY2FkZS5Cb2R5KHQpLHQucGFyZW50JiZ0LnBhcmVudCBpbnN0YW5jZW9mIGkuR3JvdXAmJnQucGFyZW50LmFkZFRvSGFzaCh0KSl9LHVwZGF0ZU1vdGlvbjpmdW5jdGlvbih0KXtpZih0LmFsbG93Um90YXRpb24pe3ZhciBlPXRoaXMuY29tcHV0ZVZlbG9jaXR5KDAsdCx0LmFuZ3VsYXJWZWxvY2l0eSx0LmFuZ3VsYXJBY2NlbGVyYXRpb24sdC5hbmd1bGFyRHJhZyx0Lm1heEFuZ3VsYXIpLXQuYW5ndWxhclZlbG9jaXR5O3QuYW5ndWxhclZlbG9jaXR5Kz1lLHQucm90YXRpb24rPXQuYW5ndWxhclZlbG9jaXR5KnRoaXMuZ2FtZS50aW1lLnBoeXNpY3NFbGFwc2VkfXQudmVsb2NpdHkueD10aGlzLmNvbXB1dGVWZWxvY2l0eSgxLHQsdC52ZWxvY2l0eS54LHQuYWNjZWxlcmF0aW9uLngsdC5kcmFnLngsdC5tYXhWZWxvY2l0eS54KSx0LnZlbG9jaXR5Lnk9dGhpcy5jb21wdXRlVmVsb2NpdHkoMix0LHQudmVsb2NpdHkueSx0LmFjY2VsZXJhdGlvbi55LHQuZHJhZy55LHQubWF4VmVsb2NpdHkueSl9LGNvbXB1dGVWZWxvY2l0eTpmdW5jdGlvbih0LGUsaSxzLG4sbyl7cmV0dXJuIHZvaWQgMD09PW8mJihvPTFlNCksMT09PXQmJmUuYWxsb3dHcmF2aXR5P2krPSh0aGlzLmdyYXZpdHkueCtlLmdyYXZpdHkueCkqdGhpcy5nYW1lLnRpbWUucGh5c2ljc0VsYXBzZWQ6Mj09PXQmJmUuYWxsb3dHcmF2aXR5JiYoaSs9KHRoaXMuZ3Jhdml0eS55K2UuZ3Jhdml0eS55KSp0aGlzLmdhbWUudGltZS5waHlzaWNzRWxhcHNlZCkscz9pKz1zKnRoaXMuZ2FtZS50aW1lLnBoeXNpY3NFbGFwc2VkOm4mJmUuYWxsb3dEcmFnJiYoaS0obio9dGhpcy5nYW1lLnRpbWUucGh5c2ljc0VsYXBzZWQpPjA/aS09bjppK248MD9pKz1uOmk9MCksaT5vP2k9bzppPC1vJiYoaT0tbyksaX0sb3ZlcmxhcDpmdW5jdGlvbih0LGUsaSxzLG4pe3JldHVybiBpPWl8fG51bGwscz1zfHxudWxsLG49bnx8aSx0aGlzLl90b3RhbD0wLHRoaXMuY29sbGlkZU9iamVjdHModCxlLGkscyxuLCEwKSx0aGlzLl90b3RhbD4wfSxjb2xsaWRlOmZ1bmN0aW9uKHQsZSxpLHMsbil7cmV0dXJuIGk9aXx8bnVsbCxzPXN8fG51bGwsbj1ufHxpLHRoaXMuX3RvdGFsPTAsdGhpcy5jb2xsaWRlT2JqZWN0cyh0LGUsaSxzLG4sITEpLHRoaXMuX3RvdGFsPjB9LHNvcnRMZWZ0UmlnaHQ6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5ib2R5JiZlLmJvZHk/dC5ib2R5LngtZS5ib2R5Lng6MH0sc29ydFJpZ2h0TGVmdDpmdW5jdGlvbih0LGUpe3JldHVybiB0LmJvZHkmJmUuYm9keT9lLmJvZHkueC10LmJvZHkueDowfSxzb3J0VG9wQm90dG9tOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuYm9keSYmZS5ib2R5P3QuYm9keS55LWUuYm9keS55OjB9LHNvcnRCb3R0b21Ub3A6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5ib2R5JiZlLmJvZHk/ZS5ib2R5LnktdC5ib2R5Lnk6MH0sc29ydDpmdW5jdGlvbih0LGUpe251bGwhPT10LnBoeXNpY3NTb3J0RGlyZWN0aW9uP2U9dC5waHlzaWNzU29ydERpcmVjdGlvbjp2b2lkIDA9PT1lJiYoZT10aGlzLnNvcnREaXJlY3Rpb24pLGU9PT1pLlBoeXNpY3MuQXJjYWRlLkxFRlRfUklHSFQ/dC5oYXNoLnNvcnQodGhpcy5zb3J0TGVmdFJpZ2h0KTplPT09aS5QaHlzaWNzLkFyY2FkZS5SSUdIVF9MRUZUP3QuaGFzaC5zb3J0KHRoaXMuc29ydFJpZ2h0TGVmdCk6ZT09PWkuUGh5c2ljcy5BcmNhZGUuVE9QX0JPVFRPTT90Lmhhc2guc29ydCh0aGlzLnNvcnRUb3BCb3R0b20pOmU9PT1pLlBoeXNpY3MuQXJjYWRlLkJPVFRPTV9UT1AmJnQuaGFzaC5zb3J0KHRoaXMuc29ydEJvdHRvbVRvcCl9LGNvbGxpZGVPYmplY3RzOmZ1bmN0aW9uKHQsZSxpLHMsbixvKXtpZighQXJyYXkuaXNBcnJheSh0KSYmQXJyYXkuaXNBcnJheShlKSlmb3Iocj0wO3I8ZS5sZW5ndGg7cisrKWVbcl0mJnRoaXMuY29sbGlkZUhhbmRsZXIodCxlW3JdLGkscyxuLG8pO2Vsc2UgaWYoQXJyYXkuaXNBcnJheSh0KSYmIUFycmF5LmlzQXJyYXkoZSkpZm9yKHI9MDtyPHQubGVuZ3RoO3IrKyl0W3JdJiZ0aGlzLmNvbGxpZGVIYW5kbGVyKHRbcl0sZSxpLHMsbixvKTtlbHNlIGlmKEFycmF5LmlzQXJyYXkodCkmJkFycmF5LmlzQXJyYXkoZSkpe2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKWlmKHRbcl0pZm9yKHZhciBhPTA7YTxlLmxlbmd0aDthKyspZVthXSYmdGhpcy5jb2xsaWRlSGFuZGxlcih0W3JdLGVbYV0saSxzLG4sbyl9ZWxzZSB0aGlzLmNvbGxpZGVIYW5kbGVyKHQsZSxpLHMsbixvKX0sY29sbGlkZUhhbmRsZXI6ZnVuY3Rpb24odCxlLHMsbixvLHIpe2lmKHZvaWQgMD09PWUmJnQucGh5c2ljc1R5cGU9PT1pLkdST1VQKXJldHVybiB0aGlzLnNvcnQodCksdm9pZCB0aGlzLmNvbGxpZGVHcm91cFZzU2VsZih0LHMsbixvLHIpO3QmJmUmJnQuZXhpc3RzJiZlLmV4aXN0cyYmKHRoaXMuc29ydERpcmVjdGlvbiE9PWkuUGh5c2ljcy5BcmNhZGUuU09SVF9OT05FJiYodC5waHlzaWNzVHlwZT09PWkuR1JPVVAmJnRoaXMuc29ydCh0KSxlLnBoeXNpY3NUeXBlPT09aS5HUk9VUCYmdGhpcy5zb3J0KGUpKSx0LnBoeXNpY3NUeXBlPT09aS5TUFJJVEU/ZS5waHlzaWNzVHlwZT09PWkuU1BSSVRFP3RoaXMuY29sbGlkZVNwcml0ZVZzU3ByaXRlKHQsZSxzLG4sbyxyKTplLnBoeXNpY3NUeXBlPT09aS5HUk9VUD90aGlzLmNvbGxpZGVTcHJpdGVWc0dyb3VwKHQsZSxzLG4sbyxyKTplLnBoeXNpY3NUeXBlPT09aS5USUxFTUFQTEFZRVImJnRoaXMuY29sbGlkZVNwcml0ZVZzVGlsZW1hcExheWVyKHQsZSxzLG4sbyxyKTp0LnBoeXNpY3NUeXBlPT09aS5HUk9VUD9lLnBoeXNpY3NUeXBlPT09aS5TUFJJVEU/dGhpcy5jb2xsaWRlU3ByaXRlVnNHcm91cChlLHQscyxuLG8scik6ZS5waHlzaWNzVHlwZT09PWkuR1JPVVA/dGhpcy5jb2xsaWRlR3JvdXBWc0dyb3VwKHQsZSxzLG4sbyxyKTplLnBoeXNpY3NUeXBlPT09aS5USUxFTUFQTEFZRVImJnRoaXMuY29sbGlkZUdyb3VwVnNUaWxlbWFwTGF5ZXIodCxlLHMsbixvLHIpOnQucGh5c2ljc1R5cGU9PT1pLlRJTEVNQVBMQVlFUiYmKGUucGh5c2ljc1R5cGU9PT1pLlNQUklURT90aGlzLmNvbGxpZGVTcHJpdGVWc1RpbGVtYXBMYXllcihlLHQscyxuLG8scik6ZS5waHlzaWNzVHlwZT09PWkuR1JPVVAmJnRoaXMuY29sbGlkZUdyb3VwVnNUaWxlbWFwTGF5ZXIoZSx0LHMsbixvLHIpKSl9LGNvbGxpZGVTcHJpdGVWc1Nwcml0ZTpmdW5jdGlvbih0LGUsaSxzLG4sbyl7cmV0dXJuISghdC5ib2R5fHwhZS5ib2R5KSYmKHRoaXMuc2VwYXJhdGUodC5ib2R5LGUuYm9keSxzLG4sbykmJihpJiZpLmNhbGwobix0LGUpLHRoaXMuX3RvdGFsKyspLCEwKX0sY29sbGlkZVNwcml0ZVZzR3JvdXA6ZnVuY3Rpb24odCxlLHMsbixvLHIpe2lmKDAhPT1lLmxlbmd0aCYmdC5ib2R5KWlmKHRoaXMuc2tpcFF1YWRUcmVlfHx0LmJvZHkuc2tpcFF1YWRUcmVlKWZvcih2YXIgYT17fSxoPTA7aDxlLmhhc2gubGVuZ3RoO2grKyl7dmFyIGw9ZS5oYXNoW2hdO2lmKGwmJmwuZXhpc3RzJiZsLmJvZHkpe2lmKGE9bC5ib2R5LmdldEJvdW5kcyhhKSx0aGlzLnNvcnREaXJlY3Rpb249PT1pLlBoeXNpY3MuQXJjYWRlLkxFRlRfUklHSFQpe2lmKHQuYm9keS5yaWdodDxhLngpYnJlYWs7aWYoYS5yaWdodDx0LmJvZHkueCljb250aW51ZX1lbHNlIGlmKHRoaXMuc29ydERpcmVjdGlvbj09PWkuUGh5c2ljcy5BcmNhZGUuUklHSFRfTEVGVCl7aWYodC5ib2R5Lng+YS5yaWdodClicmVhaztpZihhLng+dC5ib2R5LnJpZ2h0KWNvbnRpbnVlfWVsc2UgaWYodGhpcy5zb3J0RGlyZWN0aW9uPT09aS5QaHlzaWNzLkFyY2FkZS5UT1BfQk9UVE9NKXtpZih0LmJvZHkuYm90dG9tPGEueSlicmVhaztpZihhLmJvdHRvbTx0LmJvZHkueSljb250aW51ZX1lbHNlIGlmKHRoaXMuc29ydERpcmVjdGlvbj09PWkuUGh5c2ljcy5BcmNhZGUuQk9UVE9NX1RPUCl7aWYodC5ib2R5Lnk+YS5ib3R0b20pYnJlYWs7aWYoYS55PnQuYm9keS5ib3R0b20pY29udGludWV9dGhpcy5jb2xsaWRlU3ByaXRlVnNTcHJpdGUodCxsLHMsbixvLHIpfX1lbHNle3RoaXMucXVhZFRyZWUuY2xlYXIoKSx0aGlzLnF1YWRUcmVlLnJlc2V0KHRoaXMuZ2FtZS53b3JsZC5ib3VuZHMueCx0aGlzLmdhbWUud29ybGQuYm91bmRzLnksdGhpcy5nYW1lLndvcmxkLmJvdW5kcy53aWR0aCx0aGlzLmdhbWUud29ybGQuYm91bmRzLmhlaWdodCx0aGlzLm1heE9iamVjdHMsdGhpcy5tYXhMZXZlbHMpLHRoaXMucXVhZFRyZWUucG9wdWxhdGUoZSk7Zm9yKHZhciBjPXRoaXMucXVhZFRyZWUucmV0cmlldmUodCksaD0wO2g8Yy5sZW5ndGg7aCsrKXRoaXMuc2VwYXJhdGUodC5ib2R5LGNbaF0sbixvLHIpJiYocyYmcy5jYWxsKG8sdCxjW2hdLnNwcml0ZSksdGhpcy5fdG90YWwrKyl9fSxjb2xsaWRlR3JvdXBWc1NlbGY6ZnVuY3Rpb24odCxlLHMsbixvKXtpZigwIT09dC5sZW5ndGgpZm9yKHZhciByPTA7cjx0Lmhhc2gubGVuZ3RoO3IrKyl7dmFyIGE9e30saD10Lmhhc2hbcl07aWYoaCYmaC5leGlzdHMmJmguYm9keSl7YT1oLmJvZHkuZ2V0Qm91bmRzKGEpO2Zvcih2YXIgbD1yKzE7bDx0Lmhhc2gubGVuZ3RoO2wrKyl7dmFyIGM9e30sdT10Lmhhc2hbbF07aWYodSYmdS5leGlzdHMmJnUuYm9keSl7aWYoYz11LmJvZHkuZ2V0Qm91bmRzKGMpLHRoaXMuc29ydERpcmVjdGlvbj09PWkuUGh5c2ljcy5BcmNhZGUuTEVGVF9SSUdIVCl7aWYoYS5yaWdodDxjLngpYnJlYWs7aWYoYy5yaWdodDxhLngpY29udGludWV9ZWxzZSBpZih0aGlzLnNvcnREaXJlY3Rpb249PT1pLlBoeXNpY3MuQXJjYWRlLlJJR0hUX0xFRlQpe2lmKGEueD5jLnJpZ2h0KWNvbnRpbnVlO2lmKGMueD5hLnJpZ2h0KWJyZWFrfWVsc2UgaWYodGhpcy5zb3J0RGlyZWN0aW9uPT09aS5QaHlzaWNzLkFyY2FkZS5UT1BfQk9UVE9NKXtpZihhLmJvdHRvbTxjLnkpY29udGludWU7aWYoYy5ib3R0b208YS55KWJyZWFrfWVsc2UgaWYodGhpcy5zb3J0RGlyZWN0aW9uPT09aS5QaHlzaWNzLkFyY2FkZS5CT1RUT01fVE9QKXtpZihhLnk+Yy5ib3R0b20pY29udGludWU7aWYoYy55PmguYm9keS5ib3R0b20pYnJlYWt9dGhpcy5jb2xsaWRlU3ByaXRlVnNTcHJpdGUoaCx1LGUscyxuLG8pfX19fX0sY29sbGlkZUdyb3VwVnNHcm91cDpmdW5jdGlvbih0LGUscyxuLG8scil7aWYoMCE9PXQubGVuZ3RoJiYwIT09ZS5sZW5ndGgpZm9yKHZhciBhPTA7YTx0LmNoaWxkcmVuLmxlbmd0aDthKyspdC5jaGlsZHJlblthXS5leGlzdHMmJih0LmNoaWxkcmVuW2FdLnBoeXNpY3NUeXBlPT09aS5HUk9VUD90aGlzLmNvbGxpZGVHcm91cFZzR3JvdXAodC5jaGlsZHJlblthXSxlLHMsbixvLHIpOnRoaXMuY29sbGlkZVNwcml0ZVZzR3JvdXAodC5jaGlsZHJlblthXSxlLHMsbixvLHIpKX0sc2VwYXJhdGU6ZnVuY3Rpb24odCxlLGkscyxuKXtpZighdC5lbmFibGV8fCFlLmVuYWJsZXx8dC5jaGVja0NvbGxpc2lvbi5ub25lfHxlLmNoZWNrQ29sbGlzaW9uLm5vbmV8fCF0aGlzLmludGVyc2VjdHModCxlKSlyZXR1cm4hMTtpZihpJiYhMT09PWkuY2FsbChzLHQuc3ByaXRlLGUuc3ByaXRlKSlyZXR1cm4hMTtpZih0LmlzQ2lyY2xlJiZlLmlzQ2lyY2xlKXJldHVybiB0aGlzLnNlcGFyYXRlQ2lyY2xlKHQsZSxuKTtpZih0LmlzQ2lyY2xlIT09ZS5pc0NpcmNsZSl7dmFyIG89dC5pc0NpcmNsZT9lOnQscj10LmlzQ2lyY2xlP3Q6ZSxhPXt4Om8ueCx5Om8ueSxyaWdodDpvLnJpZ2h0LGJvdHRvbTpvLmJvdHRvbX0saD1yLmNlbnRlcjtpZigoaC55PGEueXx8aC55PmEuYm90dG9tKSYmKGgueDxhLnh8fGgueD5hLnJpZ2h0KSlyZXR1cm4gdGhpcy5zZXBhcmF0ZUNpcmNsZSh0LGUsbil9dmFyIGw9ITEsYz0hMTt0aGlzLmZvcmNlWHx8TWF0aC5hYnModGhpcy5ncmF2aXR5LnkrdC5ncmF2aXR5LnkpPE1hdGguYWJzKHRoaXMuZ3Jhdml0eS54K3QuZ3Jhdml0eS54KT8obD10aGlzLnNlcGFyYXRlWCh0LGUsbiksdGhpcy5pbnRlcnNlY3RzKHQsZSkmJihjPXRoaXMuc2VwYXJhdGVZKHQsZSxuKSkpOihjPXRoaXMuc2VwYXJhdGVZKHQsZSxuKSx0aGlzLmludGVyc2VjdHModCxlKSYmKGw9dGhpcy5zZXBhcmF0ZVgodCxlLG4pKSk7dmFyIHU9bHx8YztyZXR1cm4gdSYmKG4/KHQub25PdmVybGFwJiZ0Lm9uT3ZlcmxhcC5kaXNwYXRjaCh0LnNwcml0ZSxlLnNwcml0ZSksZS5vbk92ZXJsYXAmJmUub25PdmVybGFwLmRpc3BhdGNoKGUuc3ByaXRlLHQuc3ByaXRlKSk6KHQub25Db2xsaWRlJiZ0Lm9uQ29sbGlkZS5kaXNwYXRjaCh0LnNwcml0ZSxlLnNwcml0ZSksZS5vbkNvbGxpZGUmJmUub25Db2xsaWRlLmRpc3BhdGNoKGUuc3ByaXRlLHQuc3ByaXRlKSkpLHV9LGludGVyc2VjdHM6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdCE9PWUmJih0LmlzQ2lyY2xlP2UuaXNDaXJjbGU/aS5NYXRoLmRpc3RhbmNlKHQuY2VudGVyLngsdC5jZW50ZXIueSxlLmNlbnRlci54LGUuY2VudGVyLnkpPD10LmhhbGZXaWR0aCtlLmhhbGZXaWR0aDp0aGlzLmNpcmNsZUJvZHlJbnRlcnNlY3RzKHQsZSk6ZS5pc0NpcmNsZT90aGlzLmNpcmNsZUJvZHlJbnRlcnNlY3RzKGUsdCk6ISh0LnJpZ2h0PD1lLnBvc2l0aW9uLngpJiYoISh0LmJvdHRvbTw9ZS5wb3NpdGlvbi55KSYmKCEodC5wb3NpdGlvbi54Pj1lLnJpZ2h0KSYmISh0LnBvc2l0aW9uLnk+PWUuYm90dG9tKSkpKX0sY2lyY2xlQm9keUludGVyc2VjdHM6ZnVuY3Rpb24odCxlKXt2YXIgcz1pLk1hdGguY2xhbXAodC5jZW50ZXIueCxlLmxlZnQsZS5yaWdodCksbj1pLk1hdGguY2xhbXAodC5jZW50ZXIueSxlLnRvcCxlLmJvdHRvbSk7cmV0dXJuKHQuY2VudGVyLngtcykqKHQuY2VudGVyLngtcykrKHQuY2VudGVyLnktbikqKHQuY2VudGVyLnktbik8PXQuaGFsZldpZHRoKnQuaGFsZldpZHRofSxzZXBhcmF0ZUNpcmNsZTpmdW5jdGlvbih0LGUscyl7dGhpcy5nZXRPdmVybGFwWCh0LGUpLHRoaXMuZ2V0T3ZlcmxhcFkodCxlKTt2YXIgbj1lLmNlbnRlci54LXQuY2VudGVyLngsbz1lLmNlbnRlci55LXQuY2VudGVyLnkscj1NYXRoLmF0YW4yKG8sbiksYT0wO2lmKHQuaXNDaXJjbGUhPT1lLmlzQ2lyY2xlKXt2YXIgaD17eDplLmlzQ2lyY2xlP3QucG9zaXRpb24ueDplLnBvc2l0aW9uLngseTplLmlzQ2lyY2xlP3QucG9zaXRpb24ueTplLnBvc2l0aW9uLnkscmlnaHQ6ZS5pc0NpcmNsZT90LnJpZ2h0OmUucmlnaHQsYm90dG9tOmUuaXNDaXJjbGU/dC5ib3R0b206ZS5ib3R0b219LGw9e3g6dC5pc0NpcmNsZT90LmNlbnRlci54OmUuY2VudGVyLngseTp0LmlzQ2lyY2xlP3QuY2VudGVyLnk6ZS5jZW50ZXIueSxyYWRpdXM6dC5pc0NpcmNsZT90LmhhbGZXaWR0aDplLmhhbGZXaWR0aH07bC55PGgueT9sLng8aC54P2E9aS5NYXRoLmRpc3RhbmNlKGwueCxsLnksaC54LGgueSktbC5yYWRpdXM6bC54PmgucmlnaHQmJihhPWkuTWF0aC5kaXN0YW5jZShsLngsbC55LGgucmlnaHQsaC55KS1sLnJhZGl1cyk6bC55PmguYm90dG9tJiYobC54PGgueD9hPWkuTWF0aC5kaXN0YW5jZShsLngsbC55LGgueCxoLmJvdHRvbSktbC5yYWRpdXM6bC54PmgucmlnaHQmJihhPWkuTWF0aC5kaXN0YW5jZShsLngsbC55LGgucmlnaHQsaC5ib3R0b20pLWwucmFkaXVzKSksYSo9LTF9ZWxzZSBhPXQuaGFsZldpZHRoK2UuaGFsZldpZHRoLWkuTWF0aC5kaXN0YW5jZSh0LmNlbnRlci54LHQuY2VudGVyLnksZS5jZW50ZXIueCxlLmNlbnRlci55KTtpZihzfHwwPT09YXx8dC5pbW1vdmFibGUmJmUuaW1tb3ZhYmxlfHx0LmN1c3RvbVNlcGFyYXRlWHx8ZS5jdXN0b21TZXBhcmF0ZVgpcmV0dXJuIDAhPT1hJiYodC5vbk92ZXJsYXAmJnQub25PdmVybGFwLmRpc3BhdGNoKHQuc3ByaXRlLGUuc3ByaXRlKSxlLm9uT3ZlcmxhcCYmZS5vbk92ZXJsYXAuZGlzcGF0Y2goZS5zcHJpdGUsdC5zcHJpdGUpKSwwIT09YTt2YXIgYz17eDp0LnZlbG9jaXR5LngqTWF0aC5jb3MocikrdC52ZWxvY2l0eS55Kk1hdGguc2luKHIpLHk6dC52ZWxvY2l0eS54Kk1hdGguc2luKHIpLXQudmVsb2NpdHkueSpNYXRoLmNvcyhyKX0sdT17eDplLnZlbG9jaXR5LngqTWF0aC5jb3MocikrZS52ZWxvY2l0eS55Kk1hdGguc2luKHIpLHk6ZS52ZWxvY2l0eS54Kk1hdGguc2luKHIpLWUudmVsb2NpdHkueSpNYXRoLmNvcyhyKX0sZD0oKHQubWFzcy1lLm1hc3MpKmMueCsyKmUubWFzcyp1LngpLyh0Lm1hc3MrZS5tYXNzKSxwPSgyKnQubWFzcypjLngrKGUubWFzcy10Lm1hc3MpKnUueCkvKHQubWFzcytlLm1hc3MpO3JldHVybiB0LmltbW92YWJsZXx8KHQudmVsb2NpdHkueD0oZCpNYXRoLmNvcyhyKS1jLnkqTWF0aC5zaW4ocikpKnQuYm91bmNlLngsdC52ZWxvY2l0eS55PShjLnkqTWF0aC5jb3MocikrZCpNYXRoLnNpbihyKSkqdC5ib3VuY2UueSksZS5pbW1vdmFibGV8fChlLnZlbG9jaXR5Lng9KHAqTWF0aC5jb3MociktdS55Kk1hdGguc2luKHIpKSplLmJvdW5jZS54LGUudmVsb2NpdHkueT0odS55Kk1hdGguY29zKHIpK3AqTWF0aC5zaW4ocikpKmUuYm91bmNlLnkpLE1hdGguYWJzKHIpPE1hdGguUEkvMj90LnZlbG9jaXR5Lng+MCYmIXQuaW1tb3ZhYmxlJiZlLnZlbG9jaXR5Lng+dC52ZWxvY2l0eS54P3QudmVsb2NpdHkueCo9LTE6ZS52ZWxvY2l0eS54PDAmJiFlLmltbW92YWJsZSYmdC52ZWxvY2l0eS54PGUudmVsb2NpdHkueD9lLnZlbG9jaXR5LngqPS0xOnQudmVsb2NpdHkueT4wJiYhdC5pbW1vdmFibGUmJmUudmVsb2NpdHkueT50LnZlbG9jaXR5Lnk/dC52ZWxvY2l0eS55Kj0tMTplLnZlbG9jaXR5Lnk8MCYmIWUuaW1tb3ZhYmxlJiZ0LnZlbG9jaXR5Lnk8ZS52ZWxvY2l0eS55JiYoZS52ZWxvY2l0eS55Kj0tMSk6TWF0aC5hYnMocik+TWF0aC5QSS8yJiYodC52ZWxvY2l0eS54PDAmJiF0LmltbW92YWJsZSYmZS52ZWxvY2l0eS54PHQudmVsb2NpdHkueD90LnZlbG9jaXR5LngqPS0xOmUudmVsb2NpdHkueD4wJiYhZS5pbW1vdmFibGUmJnQudmVsb2NpdHkueD5lLnZlbG9jaXR5Lng/ZS52ZWxvY2l0eS54Kj0tMTp0LnZlbG9jaXR5Lnk8MCYmIXQuaW1tb3ZhYmxlJiZlLnZlbG9jaXR5Lnk8dC52ZWxvY2l0eS55P3QudmVsb2NpdHkueSo9LTE6ZS52ZWxvY2l0eS55PjAmJiFlLmltbW92YWJsZSYmdC52ZWxvY2l0eS54PmUudmVsb2NpdHkueSYmKGUudmVsb2NpdHkueSo9LTEpKSx0LmltbW92YWJsZXx8KHQueCs9dC52ZWxvY2l0eS54KnRoaXMuZ2FtZS50aW1lLnBoeXNpY3NFbGFwc2VkLWEqTWF0aC5jb3MociksdC55Kz10LnZlbG9jaXR5LnkqdGhpcy5nYW1lLnRpbWUucGh5c2ljc0VsYXBzZWQtYSpNYXRoLnNpbihyKSksZS5pbW1vdmFibGV8fChlLngrPWUudmVsb2NpdHkueCp0aGlzLmdhbWUudGltZS5waHlzaWNzRWxhcHNlZCthKk1hdGguY29zKHIpLGUueSs9ZS52ZWxvY2l0eS55KnRoaXMuZ2FtZS50aW1lLnBoeXNpY3NFbGFwc2VkK2EqTWF0aC5zaW4ocikpLHQub25Db2xsaWRlJiZ0Lm9uQ29sbGlkZS5kaXNwYXRjaCh0LnNwcml0ZSxlLnNwcml0ZSksZS5vbkNvbGxpZGUmJmUub25Db2xsaWRlLmRpc3BhdGNoKGUuc3ByaXRlLHQuc3ByaXRlKSwhMH0sZ2V0T3ZlcmxhcFg6ZnVuY3Rpb24odCxlLGkpe3ZhciBzPTAsbj10LmRlbHRhQWJzWCgpK2UuZGVsdGFBYnNYKCkrdGhpcy5PVkVSTEFQX0JJQVM7cmV0dXJuIDA9PT10LmRlbHRhWCgpJiYwPT09ZS5kZWx0YVgoKT8odC5lbWJlZGRlZD0hMCxlLmVtYmVkZGVkPSEwKTp0LmRlbHRhWCgpPmUuZGVsdGFYKCk/KHM9dC5yaWdodC1lLngpPm4mJiFpfHwhMT09PXQuY2hlY2tDb2xsaXNpb24ucmlnaHR8fCExPT09ZS5jaGVja0NvbGxpc2lvbi5sZWZ0P3M9MDoodC50b3VjaGluZy5ub25lPSExLHQudG91Y2hpbmcucmlnaHQ9ITAsZS50b3VjaGluZy5ub25lPSExLGUudG91Y2hpbmcubGVmdD0hMCk6dC5kZWx0YVgoKTxlLmRlbHRhWCgpJiYoLShzPXQueC1lLndpZHRoLWUueCk+biYmIWl8fCExPT09dC5jaGVja0NvbGxpc2lvbi5sZWZ0fHwhMT09PWUuY2hlY2tDb2xsaXNpb24ucmlnaHQ/cz0wOih0LnRvdWNoaW5nLm5vbmU9ITEsdC50b3VjaGluZy5sZWZ0PSEwLGUudG91Y2hpbmcubm9uZT0hMSxlLnRvdWNoaW5nLnJpZ2h0PSEwKSksdC5vdmVybGFwWD1zLGUub3ZlcmxhcFg9cyxzfSxnZXRPdmVybGFwWTpmdW5jdGlvbih0LGUsaSl7dmFyIHM9MCxuPXQuZGVsdGFBYnNZKCkrZS5kZWx0YUFic1koKSt0aGlzLk9WRVJMQVBfQklBUztyZXR1cm4gMD09PXQuZGVsdGFZKCkmJjA9PT1lLmRlbHRhWSgpPyh0LmVtYmVkZGVkPSEwLGUuZW1iZWRkZWQ9ITApOnQuZGVsdGFZKCk+ZS5kZWx0YVkoKT8ocz10LmJvdHRvbS1lLnkpPm4mJiFpfHwhMT09PXQuY2hlY2tDb2xsaXNpb24uZG93bnx8ITE9PT1lLmNoZWNrQ29sbGlzaW9uLnVwP3M9MDoodC50b3VjaGluZy5ub25lPSExLHQudG91Y2hpbmcuZG93bj0hMCxlLnRvdWNoaW5nLm5vbmU9ITEsZS50b3VjaGluZy51cD0hMCk6dC5kZWx0YVkoKTxlLmRlbHRhWSgpJiYoLShzPXQueS1lLmJvdHRvbSk+biYmIWl8fCExPT09dC5jaGVja0NvbGxpc2lvbi51cHx8ITE9PT1lLmNoZWNrQ29sbGlzaW9uLmRvd24/cz0wOih0LnRvdWNoaW5nLm5vbmU9ITEsdC50b3VjaGluZy51cD0hMCxlLnRvdWNoaW5nLm5vbmU9ITEsZS50b3VjaGluZy5kb3duPSEwKSksdC5vdmVybGFwWT1zLGUub3ZlcmxhcFk9cyxzfSxzZXBhcmF0ZVg6ZnVuY3Rpb24odCxlLGkpe3ZhciBzPXRoaXMuZ2V0T3ZlcmxhcFgodCxlLGkpO2lmKGl8fDA9PT1zfHx0LmltbW92YWJsZSYmZS5pbW1vdmFibGV8fHQuY3VzdG9tU2VwYXJhdGVYfHxlLmN1c3RvbVNlcGFyYXRlWClyZXR1cm4gMCE9PXN8fHQuZW1iZWRkZWQmJmUuZW1iZWRkZWQ7dmFyIG49dC52ZWxvY2l0eS54LG89ZS52ZWxvY2l0eS54O2lmKHQuaW1tb3ZhYmxlfHxlLmltbW92YWJsZSl0LmltbW92YWJsZT8oZS54Kz1zLGUudmVsb2NpdHkueD1uLW8qZS5ib3VuY2UueCx0Lm1vdmVzJiYoZS55Kz0odC55LXQucHJldi55KSp0LmZyaWN0aW9uLnkpKToodC54LT1zLHQudmVsb2NpdHkueD1vLW4qdC5ib3VuY2UueCxlLm1vdmVzJiYodC55Kz0oZS55LWUucHJldi55KSplLmZyaWN0aW9uLnkpKTtlbHNle3MqPS41LHQueC09cyxlLngrPXM7dmFyIHI9TWF0aC5zcXJ0KG8qbyplLm1hc3MvdC5tYXNzKSoobz4wPzE6LTEpLGE9TWF0aC5zcXJ0KG4qbip0Lm1hc3MvZS5tYXNzKSoobj4wPzE6LTEpLGg9LjUqKHIrYSk7ci09aCxhLT1oLHQudmVsb2NpdHkueD1oK3IqdC5ib3VuY2UueCxlLnZlbG9jaXR5Lng9aCthKmUuYm91bmNlLnh9cmV0dXJuITB9LHNlcGFyYXRlWTpmdW5jdGlvbih0LGUsaSl7dmFyIHM9dGhpcy5nZXRPdmVybGFwWSh0LGUsaSk7aWYoaXx8MD09PXN8fHQuaW1tb3ZhYmxlJiZlLmltbW92YWJsZXx8dC5jdXN0b21TZXBhcmF0ZVl8fGUuY3VzdG9tU2VwYXJhdGVZKXJldHVybiAwIT09c3x8dC5lbWJlZGRlZCYmZS5lbWJlZGRlZDt2YXIgbj10LnZlbG9jaXR5Lnksbz1lLnZlbG9jaXR5Lnk7aWYodC5pbW1vdmFibGV8fGUuaW1tb3ZhYmxlKXQuaW1tb3ZhYmxlPyhlLnkrPXMsZS52ZWxvY2l0eS55PW4tbyplLmJvdW5jZS55LHQubW92ZXMmJihlLngrPSh0LngtdC5wcmV2LngpKnQuZnJpY3Rpb24ueCkpOih0LnktPXMsdC52ZWxvY2l0eS55PW8tbip0LmJvdW5jZS55LGUubW92ZXMmJih0LngrPShlLngtZS5wcmV2LngpKmUuZnJpY3Rpb24ueCkpO2Vsc2V7cyo9LjUsdC55LT1zLGUueSs9czt2YXIgcj1NYXRoLnNxcnQobypvKmUubWFzcy90Lm1hc3MpKihvPjA/MTotMSksYT1NYXRoLnNxcnQobipuKnQubWFzcy9lLm1hc3MpKihuPjA/MTotMSksaD0uNSoocithKTtyLT1oLGEtPWgsdC52ZWxvY2l0eS55PWgrcip0LmJvdW5jZS55LGUudmVsb2NpdHkueT1oK2EqZS5ib3VuY2UueX1yZXR1cm4hMH0sZ2V0T2JqZWN0c1VuZGVyUG9pbnRlcjpmdW5jdGlvbih0LGUsaSxzKXtpZigwIT09ZS5sZW5ndGgmJnQuZXhpc3RzKXJldHVybiB0aGlzLmdldE9iamVjdHNBdExvY2F0aW9uKHQueCx0LnksZSxpLHMsdCl9LGdldE9iamVjdHNBdExvY2F0aW9uOmZ1bmN0aW9uKHQsZSxzLG4sbyxyKXt0aGlzLnF1YWRUcmVlLmNsZWFyKCksdGhpcy5xdWFkVHJlZS5yZXNldCh0aGlzLmdhbWUud29ybGQuYm91bmRzLngsdGhpcy5nYW1lLndvcmxkLmJvdW5kcy55LHRoaXMuZ2FtZS53b3JsZC5ib3VuZHMud2lkdGgsdGhpcy5nYW1lLndvcmxkLmJvdW5kcy5oZWlnaHQsdGhpcy5tYXhPYmplY3RzLHRoaXMubWF4TGV2ZWxzKSx0aGlzLnF1YWRUcmVlLnBvcHVsYXRlKHMpO2Zvcih2YXIgYT1uZXcgaS5SZWN0YW5nbGUodCxlLDEsMSksaD1bXSxsPXRoaXMucXVhZFRyZWUucmV0cmlldmUoYSksYz0wO2M8bC5sZW5ndGg7YysrKWxbY10uaGl0VGVzdCh0LGUpJiYobiYmbi5jYWxsKG8scixsW2NdLnNwcml0ZSksaC5wdXNoKGxbY10uc3ByaXRlKSk7cmV0dXJuIGh9LG1vdmVUb09iamVjdDpmdW5jdGlvbih0LGUscyxuKXt2b2lkIDA9PT1zJiYocz02MCksdm9pZCAwPT09biYmKG49MCk7dmFyIG89aS5Qb2ludC5hbmdsZShlLHQpO3JldHVybiBuPjAmJihzPXRoaXMuZGlzdGFuY2VCZXR3ZWVuKHQsZSkvKG4vMWUzKSksdC5ib2R5LnZlbG9jaXR5LnNldFRvUG9sYXIobyxzKSxvfSxtb3ZlVG9Qb2ludGVyOmZ1bmN0aW9uKHQsZSxpLHMpe3ZvaWQgMD09PWUmJihlPTYwKSxpPWl8fHRoaXMuZ2FtZS5pbnB1dC5hY3RpdmVQb2ludGVyLHZvaWQgMD09PXMmJihzPTApO3ZhciBuPXRoaXMuYW5nbGVUb1BvaW50ZXIodCxpKTtyZXR1cm4gcz4wJiYoZT10aGlzLmRpc3RhbmNlVG9Qb2ludGVyKHQsaSkvKHMvMWUzKSksdC5ib2R5LnZlbG9jaXR5LnNldFRvUG9sYXIobixlKSxufSxtb3ZlVG9YWTpmdW5jdGlvbih0LGUsaSxzLG4pe3ZvaWQgMD09PXMmJihzPTYwKSx2b2lkIDA9PT1uJiYobj0wKTt2YXIgbz1NYXRoLmF0YW4yKGktdC55LGUtdC54KTtyZXR1cm4gbj4wJiYocz10aGlzLmRpc3RhbmNlVG9YWSh0LGUsaSkvKG4vMWUzKSksdC5ib2R5LnZlbG9jaXR5LnNldFRvUG9sYXIobyxzKSxvfSx2ZWxvY2l0eUZyb21BbmdsZTpmdW5jdGlvbih0LGUscyl7cmV0dXJuIHZvaWQgMD09PWUmJihlPTYwKSwocz1zfHxuZXcgaS5Qb2ludCkuc2V0VG9Qb2xhcih0LGUsITApfSx2ZWxvY2l0eUZyb21Sb3RhdGlvbjpmdW5jdGlvbih0LGUscyl7cmV0dXJuIHZvaWQgMD09PWUmJihlPTYwKSwocz1zfHxuZXcgaS5Qb2ludCkuc2V0VG9Qb2xhcih0LGUpfSxhY2NlbGVyYXRpb25Gcm9tUm90YXRpb246ZnVuY3Rpb24odCxlLHMpe3JldHVybiB2b2lkIDA9PT1lJiYoZT02MCksKHM9c3x8bmV3IGkuUG9pbnQpLnNldFRvUG9sYXIodCxlKX0sYWNjZWxlcmF0ZVRvT2JqZWN0OmZ1bmN0aW9uKHQsZSxpLHMsbil7dm9pZCAwPT09aSYmKGk9NjApLHZvaWQgMD09PXMmJihzPTFlMyksdm9pZCAwPT09biYmKG49MWUzKTt2YXIgbz10aGlzLmFuZ2xlQmV0d2Vlbih0LGUpO3JldHVybiB0LmJvZHkuYWNjZWxlcmF0aW9uLnNldFRvUG9sYXIobyxpKSx0LmJvZHkubWF4VmVsb2NpdHkuc2V0VG8ocyxuKSxvfSxhY2NlbGVyYXRlVG9Qb2ludGVyOmZ1bmN0aW9uKHQsZSxpLHMsbil7dm9pZCAwPT09aSYmKGk9NjApLHZvaWQgMD09PWUmJihlPXRoaXMuZ2FtZS5pbnB1dC5hY3RpdmVQb2ludGVyKSx2b2lkIDA9PT1zJiYocz0xZTMpLHZvaWQgMD09PW4mJihuPTFlMyk7dmFyIG89dGhpcy5hbmdsZVRvUG9pbnRlcih0LGUpO3JldHVybiB0LmJvZHkuYWNjZWxlcmF0aW9uLnNldFRvUG9sYXIobyxpKSx0LmJvZHkubWF4VmVsb2NpdHkuc2V0VG8ocyxuKSxvfSxhY2NlbGVyYXRlVG9YWTpmdW5jdGlvbih0LGUsaSxzLG4sbyl7dm9pZCAwPT09cyYmKHM9NjApLHZvaWQgMD09PW4mJihuPTFlMyksdm9pZCAwPT09byYmKG89MWUzKTt2YXIgcj10aGlzLmFuZ2xlVG9YWSh0LGUsaSk7cmV0dXJuIHQuYm9keS5hY2NlbGVyYXRpb24uc2V0VG8ocixzKSx0LmJvZHkubWF4VmVsb2NpdHkuc2V0VG8obixvKSxyfSxkaXN0YW5jZUJldHdlZW46ZnVuY3Rpb24odCxlLGkscyl7dm9pZCAwPT09aSYmKGk9ITEpO3ZhciBuLG87cmV0dXJuIHM/KG49dC5jZW50ZXJYLWUuY2VudGVyWCxvPXQuY2VudGVyWS1lLmNlbnRlclkpOmk/KG49dC53b3JsZC54LWUud29ybGQueCxvPXQud29ybGQueS1lLndvcmxkLnkpOihuPXQueC1lLngsbz10LnktZS55KSxNYXRoLnNxcnQobipuK28qbyl9LGRpc3RhbmNlVG9YWTpmdW5jdGlvbih0LGUsaSxzKXt2b2lkIDA9PT1zJiYocz0hMSk7dmFyIG49cz90LndvcmxkLngtZTp0LngtZSxvPXM/dC53b3JsZC55LWk6dC55LWk7cmV0dXJuIE1hdGguc3FydChuKm4rbypvKX0sZGlzdGFuY2VUb1BvaW50ZXI6ZnVuY3Rpb24odCxlLGkpe3ZvaWQgMD09PWUmJihlPXRoaXMuZ2FtZS5pbnB1dC5hY3RpdmVQb2ludGVyKSx2b2lkIDA9PT1pJiYoaT0hMSk7dmFyIHM9aT90LndvcmxkLngtZS53b3JsZFg6dC54LWUud29ybGRYLG49aT90LndvcmxkLnktZS53b3JsZFk6dC55LWUud29ybGRZO3JldHVybiBNYXRoLnNxcnQocypzK24qbil9LGNsb3Nlc3Q6ZnVuY3Rpb24odCxlLGkscyl7Zm9yKHZhciBuPTEvMCxvPW51bGwscj0wLGE9ZS5sZW5ndGg7cjxhO3IrKyl7dmFyIGg9ZVtyXSxsPXRoaXMuZGlzdGFuY2VCZXR3ZWVuKHQsaCxpLHMpO2w8biYmKG89aCxuPWwpfXJldHVybiBvfSxmYXJ0aGVzdDpmdW5jdGlvbih0LGUsaSxzKXtmb3IodmFyIG49LTEsbz1udWxsLHI9MCxhPWUubGVuZ3RoO3I8YTtyKyspe3ZhciBoPWVbcl0sbD10aGlzLmRpc3RhbmNlQmV0d2Vlbih0LGgsaSxzKTtsPm4mJihvPWgsbj1sKX1yZXR1cm4gb30sYW5nbGVCZXR3ZWVuOmZ1bmN0aW9uKHQsZSxzKXtyZXR1cm4gdm9pZCAwPT09cyYmKHM9ITEpLHM/aS5Qb2ludC5hbmdsZShlLndvcmxkLHQud29ybGQpOmkuUG9pbnQuYW5nbGUoZSx0KX0sYW5nbGVCZXR3ZWVuQ2VudGVyczpmdW5jdGlvbih0LGUpe3ZhciBpPWUuY2VudGVyWC10LmNlbnRlclgscz1lLmNlbnRlclktdC5jZW50ZXJZO3JldHVybiBNYXRoLmF0YW4yKHMsaSl9LGFuZ2xlVG9YWTpmdW5jdGlvbih0LGUsaSxzKXtyZXR1cm4gdm9pZCAwPT09cyYmKHM9ITEpLHM/TWF0aC5hdGFuMihpLXQud29ybGQueSxlLXQud29ybGQueCk6TWF0aC5hdGFuMihpLXQueSxlLXQueCl9LGFuZ2xlVG9Qb2ludGVyOmZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9dGhpcy5nYW1lLmlucHV0LmFjdGl2ZVBvaW50ZXIpLHZvaWQgMD09PWkmJihpPSExKSxpP01hdGguYXRhbjIoZS53b3JsZFktdC53b3JsZC55LGUud29ybGRYLXQud29ybGQueCk6TWF0aC5hdGFuMihlLndvcmxkWS10LnksZS53b3JsZFgtdC54KX0sd29ybGRBbmdsZVRvUG9pbnRlcjpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmFuZ2xlVG9Qb2ludGVyKHQsZSwhMCl9fSxpLlBoeXNpY3MuQXJjYWRlLkJvZHk9ZnVuY3Rpb24odCl7dGhpcy5zcHJpdGU9dCx0aGlzLmdhbWU9dC5nYW1lLHRoaXMudHlwZT1pLlBoeXNpY3MuQVJDQURFLHRoaXMuZW5hYmxlPSEwLHRoaXMuaXNDaXJjbGU9ITEsdGhpcy5yYWRpdXM9MCx0aGlzLm9mZnNldD1uZXcgaS5Qb2ludCx0aGlzLnBvc2l0aW9uPW5ldyBpLlBvaW50KHQueCx0LnkpLHRoaXMucHJldj1uZXcgaS5Qb2ludCh0aGlzLnBvc2l0aW9uLngsdGhpcy5wb3NpdGlvbi55KSx0aGlzLmFsbG93Um90YXRpb249ITAsdGhpcy5yb3RhdGlvbj10LmFuZ2xlLHRoaXMucHJlUm90YXRpb249dC5hbmdsZSx0aGlzLndpZHRoPXQud2lkdGgsdGhpcy5oZWlnaHQ9dC5oZWlnaHQsdGhpcy5zb3VyY2VXaWR0aD10LndpZHRoLHRoaXMuc291cmNlSGVpZ2h0PXQuaGVpZ2h0LHQudGV4dHVyZSYmKHRoaXMuc291cmNlV2lkdGg9dC50ZXh0dXJlLmZyYW1lLndpZHRoLHRoaXMuc291cmNlSGVpZ2h0PXQudGV4dHVyZS5mcmFtZS5oZWlnaHQpLHRoaXMuaGFsZldpZHRoPU1hdGguYWJzKHQud2lkdGgvMiksdGhpcy5oYWxmSGVpZ2h0PU1hdGguYWJzKHQuaGVpZ2h0LzIpLHRoaXMuY2VudGVyPW5ldyBpLlBvaW50KHQueCt0aGlzLmhhbGZXaWR0aCx0LnkrdGhpcy5oYWxmSGVpZ2h0KSx0aGlzLnZlbG9jaXR5PW5ldyBpLlBvaW50LHRoaXMubmV3VmVsb2NpdHk9bmV3IGkuUG9pbnQsdGhpcy5kZWx0YU1heD1uZXcgaS5Qb2ludCx0aGlzLmFjY2VsZXJhdGlvbj1uZXcgaS5Qb2ludCx0aGlzLmFsbG93RHJhZz0hMCx0aGlzLmRyYWc9bmV3IGkuUG9pbnQsdGhpcy5hbGxvd0dyYXZpdHk9ITAsdGhpcy5ncmF2aXR5PW5ldyBpLlBvaW50LHRoaXMuYm91bmNlPW5ldyBpLlBvaW50LHRoaXMud29ybGRCb3VuY2U9bnVsbCx0aGlzLm9uV29ybGRCb3VuZHM9bnVsbCx0aGlzLm9uQ29sbGlkZT1udWxsLHRoaXMub25PdmVybGFwPW51bGwsdGhpcy5tYXhWZWxvY2l0eT1uZXcgaS5Qb2ludCgxZTQsMWU0KSx0aGlzLmZyaWN0aW9uPW5ldyBpLlBvaW50KDEsMCksdGhpcy5hbmd1bGFyVmVsb2NpdHk9MCx0aGlzLmFuZ3VsYXJBY2NlbGVyYXRpb249MCx0aGlzLmFuZ3VsYXJEcmFnPTAsdGhpcy5tYXhBbmd1bGFyPTFlMyx0aGlzLm1hc3M9MSx0aGlzLmFuZ2xlPTAsdGhpcy5zcGVlZD0wLHRoaXMuZmFjaW5nPWkuTk9ORSx0aGlzLmltbW92YWJsZT0hMSx0aGlzLm1vdmVzPSEwLHRoaXMuY3VzdG9tU2VwYXJhdGVYPSExLHRoaXMuY3VzdG9tU2VwYXJhdGVZPSExLHRoaXMub3ZlcmxhcFg9MCx0aGlzLm92ZXJsYXBZPTAsdGhpcy5vdmVybGFwUj0wLHRoaXMuZW1iZWRkZWQ9ITEsdGhpcy5jb2xsaWRlV29ybGRCb3VuZHM9ITEsdGhpcy5jaGVja0NvbGxpc2lvbj17bm9uZTohMSx1cDohMCxkb3duOiEwLGxlZnQ6ITAscmlnaHQ6ITB9LHRoaXMudG91Y2hpbmc9e25vbmU6ITAsdXA6ITEsZG93bjohMSxsZWZ0OiExLHJpZ2h0OiExfSx0aGlzLndhc1RvdWNoaW5nPXtub25lOiEwLHVwOiExLGRvd246ITEsbGVmdDohMSxyaWdodDohMX0sdGhpcy5ibG9ja2VkPXtub25lOiEwLHVwOiExLGRvd246ITEsbGVmdDohMSxyaWdodDohMX0sdGhpcy50aWxlUGFkZGluZz1uZXcgaS5Qb2ludCx0aGlzLmRpcnR5PSExLHRoaXMuc2tpcFF1YWRUcmVlPSExLHRoaXMuc3luY0JvdW5kcz0hMSx0aGlzLmlzTW92aW5nPSExLHRoaXMuc3RvcFZlbG9jaXR5T25Db2xsaWRlPSEwLHRoaXMubW92ZVRpbWVyPTAsdGhpcy5tb3ZlRGlzdGFuY2U9MCx0aGlzLm1vdmVEdXJhdGlvbj0wLHRoaXMubW92ZVRhcmdldD1udWxsLHRoaXMubW92ZUVuZD1udWxsLHRoaXMub25Nb3ZlQ29tcGxldGU9bmV3IGkuU2lnbmFsLHRoaXMubW92ZW1lbnRDYWxsYmFjaz1udWxsLHRoaXMubW92ZW1lbnRDYWxsYmFja0NvbnRleHQ9bnVsbCx0aGlzLl9yZXNldD0hMCx0aGlzLl9zeD10LnNjYWxlLngsdGhpcy5fc3k9dC5zY2FsZS55LHRoaXMuX2R4PTAsdGhpcy5fZHk9MH0saS5QaHlzaWNzLkFyY2FkZS5Cb2R5LnByb3RvdHlwZT17dXBkYXRlQm91bmRzOmZ1bmN0aW9uKCl7aWYodGhpcy5zeW5jQm91bmRzKXt2YXIgdD10aGlzLnNwcml0ZS5nZXRCb3VuZHMoKTt0LmNlaWxBbGwoKSx0LndpZHRoPT09dGhpcy53aWR0aCYmdC5oZWlnaHQ9PT10aGlzLmhlaWdodHx8KHRoaXMud2lkdGg9dC53aWR0aCx0aGlzLmhlaWdodD10LmhlaWdodCx0aGlzLl9yZXNldD0hMCl9ZWxzZXt2YXIgZT1NYXRoLmFicyh0aGlzLnNwcml0ZS5zY2FsZS54KSxpPU1hdGguYWJzKHRoaXMuc3ByaXRlLnNjYWxlLnkpO2U9PT10aGlzLl9zeCYmaT09PXRoaXMuX3N5fHwodGhpcy53aWR0aD10aGlzLnNvdXJjZVdpZHRoKmUsdGhpcy5oZWlnaHQ9dGhpcy5zb3VyY2VIZWlnaHQqaSx0aGlzLl9zeD1lLHRoaXMuX3N5PWksdGhpcy5fcmVzZXQ9ITApfXRoaXMuX3Jlc2V0JiYodGhpcy5oYWxmV2lkdGg9TWF0aC5mbG9vcih0aGlzLndpZHRoLzIpLHRoaXMuaGFsZkhlaWdodD1NYXRoLmZsb29yKHRoaXMuaGVpZ2h0LzIpLHRoaXMudXBkYXRlQ2VudGVyKCkpfSx1cGRhdGVDZW50ZXI6ZnVuY3Rpb24oKXt0aGlzLmNlbnRlci5zZXRUbyh0aGlzLnBvc2l0aW9uLngrdGhpcy5oYWxmV2lkdGgsdGhpcy5wb3NpdGlvbi55K3RoaXMuaGFsZkhlaWdodCl9LHByZVVwZGF0ZTpmdW5jdGlvbigpe3RoaXMuZW5hYmxlJiYhdGhpcy5nYW1lLnBoeXNpY3MuYXJjYWRlLmlzUGF1c2VkJiYodGhpcy5kaXJ0eT0hMCx0aGlzLndhc1RvdWNoaW5nLm5vbmU9dGhpcy50b3VjaGluZy5ub25lLHRoaXMud2FzVG91Y2hpbmcudXA9dGhpcy50b3VjaGluZy51cCx0aGlzLndhc1RvdWNoaW5nLmRvd249dGhpcy50b3VjaGluZy5kb3duLHRoaXMud2FzVG91Y2hpbmcubGVmdD10aGlzLnRvdWNoaW5nLmxlZnQsdGhpcy53YXNUb3VjaGluZy5yaWdodD10aGlzLnRvdWNoaW5nLnJpZ2h0LHRoaXMudG91Y2hpbmcubm9uZT0hMCx0aGlzLnRvdWNoaW5nLnVwPSExLHRoaXMudG91Y2hpbmcuZG93bj0hMSx0aGlzLnRvdWNoaW5nLmxlZnQ9ITEsdGhpcy50b3VjaGluZy5yaWdodD0hMSx0aGlzLmJsb2NrZWQubm9uZT0hMCx0aGlzLmJsb2NrZWQudXA9ITEsdGhpcy5ibG9ja2VkLmRvd249ITEsdGhpcy5ibG9ja2VkLmxlZnQ9ITEsdGhpcy5ibG9ja2VkLnJpZ2h0PSExLHRoaXMub3ZlcmxhcFI9MCx0aGlzLm92ZXJsYXBYPTAsdGhpcy5vdmVybGFwWT0wLHRoaXMuZW1iZWRkZWQ9ITEsdGhpcy51cGRhdGVCb3VuZHMoKSx0aGlzLnBvc2l0aW9uLng9dGhpcy5zcHJpdGUud29ybGQueC10aGlzLnNwcml0ZS5hbmNob3IueCp0aGlzLnNwcml0ZS53aWR0aCt0aGlzLnNwcml0ZS5zY2FsZS54KnRoaXMub2Zmc2V0LngsdGhpcy5wb3NpdGlvbi54LT10aGlzLnNwcml0ZS5zY2FsZS54PDA/dGhpcy53aWR0aDowLHRoaXMucG9zaXRpb24ueT10aGlzLnNwcml0ZS53b3JsZC55LXRoaXMuc3ByaXRlLmFuY2hvci55KnRoaXMuc3ByaXRlLmhlaWdodCt0aGlzLnNwcml0ZS5zY2FsZS55KnRoaXMub2Zmc2V0LnksdGhpcy5wb3NpdGlvbi55LT10aGlzLnNwcml0ZS5zY2FsZS55PDA/dGhpcy5oZWlnaHQ6MCx0aGlzLnVwZGF0ZUNlbnRlcigpLHRoaXMucm90YXRpb249dGhpcy5zcHJpdGUuYW5nbGUsdGhpcy5wcmVSb3RhdGlvbj10aGlzLnJvdGF0aW9uLCh0aGlzLl9yZXNldHx8dGhpcy5zcHJpdGUuZnJlc2gpJiYodGhpcy5wcmV2Lng9dGhpcy5wb3NpdGlvbi54LHRoaXMucHJldi55PXRoaXMucG9zaXRpb24ueSksdGhpcy5tb3ZlcyYmKHRoaXMuZ2FtZS5waHlzaWNzLmFyY2FkZS51cGRhdGVNb3Rpb24odGhpcyksdGhpcy5uZXdWZWxvY2l0eS5zZXQodGhpcy52ZWxvY2l0eS54KnRoaXMuZ2FtZS50aW1lLnBoeXNpY3NFbGFwc2VkLHRoaXMudmVsb2NpdHkueSp0aGlzLmdhbWUudGltZS5waHlzaWNzRWxhcHNlZCksdGhpcy5wb3NpdGlvbi54Kz10aGlzLm5ld1ZlbG9jaXR5LngsdGhpcy5wb3NpdGlvbi55Kz10aGlzLm5ld1ZlbG9jaXR5LnksdGhpcy51cGRhdGVDZW50ZXIoKSx0aGlzLnBvc2l0aW9uLng9PT10aGlzLnByZXYueCYmdGhpcy5wb3NpdGlvbi55PT09dGhpcy5wcmV2Lnl8fCh0aGlzLmFuZ2xlPXRoaXMudmVsb2NpdHkuYXRhbigpKSx0aGlzLnNwZWVkPU1hdGguc3FydCh0aGlzLnZlbG9jaXR5LngqdGhpcy52ZWxvY2l0eS54K3RoaXMudmVsb2NpdHkueSp0aGlzLnZlbG9jaXR5LnkpLHRoaXMuY29sbGlkZVdvcmxkQm91bmRzJiZ0aGlzLmNoZWNrV29ybGRCb3VuZHMoKSYmdGhpcy5vbldvcmxkQm91bmRzJiZ0aGlzLm9uV29ybGRCb3VuZHMuZGlzcGF0Y2godGhpcy5zcHJpdGUsdGhpcy5ibG9ja2VkLnVwLHRoaXMuYmxvY2tlZC5kb3duLHRoaXMuYmxvY2tlZC5sZWZ0LHRoaXMuYmxvY2tlZC5yaWdodCkpLHRoaXMuX2R4PXRoaXMuZGVsdGFYKCksdGhpcy5fZHk9dGhpcy5kZWx0YVkoKSx0aGlzLl9yZXNldD0hMSl9LHVwZGF0ZU1vdmVtZW50OmZ1bmN0aW9uKCl7dmFyIHQ9MCxlPTAhPT10aGlzLm92ZXJsYXBYfHwwIT09dGhpcy5vdmVybGFwWTtpZih0aGlzLm1vdmVEdXJhdGlvbj4wPyh0aGlzLm1vdmVUaW1lcis9dGhpcy5nYW1lLnRpbWUuZWxhcHNlZE1TLHQ9dGhpcy5tb3ZlVGltZXIvdGhpcy5tb3ZlRHVyYXRpb24pOih0aGlzLm1vdmVUYXJnZXQuZW5kLnNldCh0aGlzLnBvc2l0aW9uLngsdGhpcy5wb3NpdGlvbi55KSx0PXRoaXMubW92ZVRhcmdldC5sZW5ndGgvdGhpcy5tb3ZlRGlzdGFuY2UpLHRoaXMubW92ZW1lbnRDYWxsYmFjayl2YXIgaT10aGlzLm1vdmVtZW50Q2FsbGJhY2suY2FsbCh0aGlzLm1vdmVtZW50Q2FsbGJhY2tDb250ZXh0LHRoaXMsdGhpcy52ZWxvY2l0eSx0KTtyZXR1cm4hKGV8fHQ+PTF8fHZvaWQgMCE9PWkmJiEwIT09aSl8fCh0aGlzLnN0b3BNb3ZlbWVudCh0Pj0xfHx0aGlzLnN0b3BWZWxvY2l0eU9uQ29sbGlkZSYmZSksITEpfSxzdG9wTW92ZW1lbnQ6ZnVuY3Rpb24odCl7dGhpcy5pc01vdmluZyYmKHRoaXMuaXNNb3Zpbmc9ITEsdCYmdGhpcy52ZWxvY2l0eS5zZXQoMCksdGhpcy5vbk1vdmVDb21wbGV0ZS5kaXNwYXRjaCh0aGlzLnNwcml0ZSwwIT09dGhpcy5vdmVybGFwWHx8MCE9PXRoaXMub3ZlcmxhcFkpKX0scG9zdFVwZGF0ZTpmdW5jdGlvbigpe3RoaXMuZW5hYmxlJiZ0aGlzLmRpcnR5JiYodGhpcy5pc01vdmluZyYmdGhpcy51cGRhdGVNb3ZlbWVudCgpLHRoaXMuZGlydHk9ITEsdGhpcy5kZWx0YVgoKTwwP3RoaXMuZmFjaW5nPWkuTEVGVDp0aGlzLmRlbHRhWCgpPjAmJih0aGlzLmZhY2luZz1pLlJJR0hUKSx0aGlzLmRlbHRhWSgpPDA/dGhpcy5mYWNpbmc9aS5VUDp0aGlzLmRlbHRhWSgpPjAmJih0aGlzLmZhY2luZz1pLkRPV04pLHRoaXMubW92ZXMmJih0aGlzLl9keD10aGlzLmRlbHRhWCgpLHRoaXMuX2R5PXRoaXMuZGVsdGFZKCksMCE9PXRoaXMuZGVsdGFNYXgueCYmMCE9PXRoaXMuX2R4JiYodGhpcy5fZHg8MCYmdGhpcy5fZHg8LXRoaXMuZGVsdGFNYXgueD90aGlzLl9keD0tdGhpcy5kZWx0YU1heC54OnRoaXMuX2R4PjAmJnRoaXMuX2R4PnRoaXMuZGVsdGFNYXgueCYmKHRoaXMuX2R4PXRoaXMuZGVsdGFNYXgueCkpLDAhPT10aGlzLmRlbHRhTWF4LnkmJjAhPT10aGlzLl9keSYmKHRoaXMuX2R5PDAmJnRoaXMuX2R5PC10aGlzLmRlbHRhTWF4Lnk/dGhpcy5fZHk9LXRoaXMuZGVsdGFNYXgueTp0aGlzLl9keT4wJiZ0aGlzLl9keT50aGlzLmRlbHRhTWF4LnkmJih0aGlzLl9keT10aGlzLmRlbHRhTWF4LnkpKSx0aGlzLnNwcml0ZS5wb3NpdGlvbi54Kz10aGlzLl9keCx0aGlzLnNwcml0ZS5wb3NpdGlvbi55Kz10aGlzLl9keSx0aGlzLl9yZXNldD0hMCksdGhpcy51cGRhdGVDZW50ZXIoKSx0aGlzLmFsbG93Um90YXRpb24mJih0aGlzLnNwcml0ZS5hbmdsZSs9dGhpcy5kZWx0YVooKSksdGhpcy5wcmV2Lng9dGhpcy5wb3NpdGlvbi54LHRoaXMucHJldi55PXRoaXMucG9zaXRpb24ueSl9LGNoZWNrV29ybGRCb3VuZHM6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnBvc2l0aW9uLGU9dGhpcy5nYW1lLnBoeXNpY3MuYXJjYWRlLmJvdW5kcyxpPXRoaXMuZ2FtZS5waHlzaWNzLmFyY2FkZS5jaGVja0NvbGxpc2lvbixzPXRoaXMud29ybGRCb3VuY2U/LXRoaXMud29ybGRCb3VuY2UueDotdGhpcy5ib3VuY2UueCxuPXRoaXMud29ybGRCb3VuY2U/LXRoaXMud29ybGRCb3VuY2UueTotdGhpcy5ib3VuY2UueTtyZXR1cm4gdC54PGUueCYmaS5sZWZ0Pyh0Lng9ZS54LHRoaXMudmVsb2NpdHkueCo9cyx0aGlzLmJsb2NrZWQubGVmdD0hMCx0aGlzLmJsb2NrZWQubm9uZT0hMSk6dGhpcy5yaWdodD5lLnJpZ2h0JiZpLnJpZ2h0JiYodC54PWUucmlnaHQtdGhpcy53aWR0aCx0aGlzLnZlbG9jaXR5LngqPXMsdGhpcy5ibG9ja2VkLnJpZ2h0PSEwLHRoaXMuYmxvY2tlZC5ub25lPSExKSx0Lnk8ZS55JiZpLnVwPyh0Lnk9ZS55LHRoaXMudmVsb2NpdHkueSo9bix0aGlzLmJsb2NrZWQudXA9ITAsdGhpcy5ibG9ja2VkLm5vbmU9ITEpOnRoaXMuYm90dG9tPmUuYm90dG9tJiZpLmRvd24mJih0Lnk9ZS5ib3R0b20tdGhpcy5oZWlnaHQsdGhpcy52ZWxvY2l0eS55Kj1uLHRoaXMuYmxvY2tlZC5kb3duPSEwLHRoaXMuYmxvY2tlZC5ub25lPSExKSwhdGhpcy5ibG9ja2VkLm5vbmV9LG1vdmVGcm9tOmZ1bmN0aW9uKHQsZSxpKXtpZih2b2lkIDA9PT1lJiYoZT10aGlzLnNwZWVkKSwwPT09ZSlyZXR1cm4hMTt2YXIgcztyZXR1cm4gdm9pZCAwPT09aT8ocz10aGlzLmFuZ2xlLGk9dGhpcy5nYW1lLm1hdGgucmFkVG9EZWcocykpOnM9dGhpcy5nYW1lLm1hdGguZGVnVG9SYWQoaSksdGhpcy5tb3ZlVGltZXI9MCx0aGlzLm1vdmVEdXJhdGlvbj10LDA9PT1pfHwxODA9PT1pP3RoaXMudmVsb2NpdHkuc2V0KE1hdGguY29zKHMpKmUsMCk6OTA9PT1pfHwyNzA9PT1pP3RoaXMudmVsb2NpdHkuc2V0KDAsTWF0aC5zaW4ocykqZSk6dGhpcy52ZWxvY2l0eS5zZXRUb1BvbGFyKHMsZSksdGhpcy5pc01vdmluZz0hMCwhMH0sbW92ZVRvOmZ1bmN0aW9uKHQsZSxzKXt2YXIgbj1lLyh0LzFlMyk7aWYoMD09PW4pcmV0dXJuITE7dmFyIG87cmV0dXJuIHZvaWQgMD09PXM/KG89dGhpcy5hbmdsZSxzPXRoaXMuZ2FtZS5tYXRoLnJhZFRvRGVnKG8pKTpvPXRoaXMuZ2FtZS5tYXRoLmRlZ1RvUmFkKHMpLGU9TWF0aC5hYnMoZSksdGhpcy5tb3ZlRHVyYXRpb249MCx0aGlzLm1vdmVEaXN0YW5jZT1lLG51bGw9PT10aGlzLm1vdmVUYXJnZXQmJih0aGlzLm1vdmVUYXJnZXQ9bmV3IGkuTGluZSx0aGlzLm1vdmVFbmQ9bmV3IGkuUG9pbnQpLHRoaXMubW92ZVRhcmdldC5mcm9tQW5nbGUodGhpcy54LHRoaXMueSxvLGUpLHRoaXMubW92ZUVuZC5zZXQodGhpcy5tb3ZlVGFyZ2V0LmVuZC54LHRoaXMubW92ZVRhcmdldC5lbmQueSksdGhpcy5tb3ZlVGFyZ2V0LnNldFRvKHRoaXMueCx0aGlzLnksdGhpcy54LHRoaXMueSksMD09PXN8fDE4MD09PXM/dGhpcy52ZWxvY2l0eS5zZXQoTWF0aC5jb3MobykqbiwwKTo5MD09PXN8fDI3MD09PXM/dGhpcy52ZWxvY2l0eS5zZXQoMCxNYXRoLnNpbihvKSpuKTp0aGlzLnZlbG9jaXR5LnNldFRvUG9sYXIobyxuKSx0aGlzLmlzTW92aW5nPSEwLCEwfSxzZXRTaXplOmZ1bmN0aW9uKHQsZSxpLHMpe3ZvaWQgMD09PWkmJihpPXRoaXMub2Zmc2V0LngpLHZvaWQgMD09PXMmJihzPXRoaXMub2Zmc2V0LnkpLHRoaXMuc291cmNlV2lkdGg9dCx0aGlzLnNvdXJjZUhlaWdodD1lLHRoaXMud2lkdGg9dGhpcy5zb3VyY2VXaWR0aCp0aGlzLl9zeCx0aGlzLmhlaWdodD10aGlzLnNvdXJjZUhlaWdodCp0aGlzLl9zeSx0aGlzLmhhbGZXaWR0aD1NYXRoLmZsb29yKHRoaXMud2lkdGgvMiksdGhpcy5oYWxmSGVpZ2h0PU1hdGguZmxvb3IodGhpcy5oZWlnaHQvMiksdGhpcy5vZmZzZXQuc2V0VG8oaSxzKSx0aGlzLnVwZGF0ZUNlbnRlcigpLHRoaXMuaXNDaXJjbGU9ITEsdGhpcy5yYWRpdXM9MH0sc2V0Q2lyY2xlOmZ1bmN0aW9uKHQsZSxpKXt2b2lkIDA9PT1lJiYoZT10aGlzLm9mZnNldC54KSx2b2lkIDA9PT1pJiYoaT10aGlzLm9mZnNldC55KSx0PjA/KHRoaXMuaXNDaXJjbGU9ITAsdGhpcy5yYWRpdXM9dCx0aGlzLnNvdXJjZVdpZHRoPTIqdCx0aGlzLnNvdXJjZUhlaWdodD0yKnQsdGhpcy53aWR0aD10aGlzLnNvdXJjZVdpZHRoKnRoaXMuX3N4LHRoaXMuaGVpZ2h0PXRoaXMuc291cmNlSGVpZ2h0KnRoaXMuX3N5LHRoaXMuaGFsZldpZHRoPU1hdGguZmxvb3IodGhpcy53aWR0aC8yKSx0aGlzLmhhbGZIZWlnaHQ9TWF0aC5mbG9vcih0aGlzLmhlaWdodC8yKSx0aGlzLm9mZnNldC5zZXRUbyhlLGkpLHRoaXMudXBkYXRlQ2VudGVyKCkpOnRoaXMuaXNDaXJjbGU9ITF9LHJlc2V0OmZ1bmN0aW9uKHQsZSl7dGhpcy5zdG9wKCksdGhpcy5wb3NpdGlvbi54PXQtdGhpcy5zcHJpdGUuYW5jaG9yLngqdGhpcy5zcHJpdGUud2lkdGgrdGhpcy5zcHJpdGUuc2NhbGUueCp0aGlzLm9mZnNldC54LHRoaXMucG9zaXRpb24ueC09dGhpcy5zcHJpdGUuc2NhbGUueDwwP3RoaXMud2lkdGg6MCx0aGlzLnBvc2l0aW9uLnk9ZS10aGlzLnNwcml0ZS5hbmNob3IueSp0aGlzLnNwcml0ZS5oZWlnaHQrdGhpcy5zcHJpdGUuc2NhbGUueSp0aGlzLm9mZnNldC55LHRoaXMucG9zaXRpb24ueS09dGhpcy5zcHJpdGUuc2NhbGUueTwwP3RoaXMuaGVpZ2h0OjAsdGhpcy5wcmV2Lng9dGhpcy5wb3NpdGlvbi54LHRoaXMucHJldi55PXRoaXMucG9zaXRpb24ueSx0aGlzLnJvdGF0aW9uPXRoaXMuc3ByaXRlLmFuZ2xlLHRoaXMucHJlUm90YXRpb249dGhpcy5yb3RhdGlvbix0aGlzLnVwZGF0ZUJvdW5kcygpLHRoaXMudXBkYXRlQ2VudGVyKCl9LHN0b3A6ZnVuY3Rpb24oKXt0aGlzLnZlbG9jaXR5LnNldCgwKSx0aGlzLmFjY2VsZXJhdGlvbi5zZXQoMCksdGhpcy5zcGVlZD0wLHRoaXMuYW5ndWxhclZlbG9jaXR5PTAsdGhpcy5hbmd1bGFyQWNjZWxlcmF0aW9uPTB9LGdldEJvdW5kczpmdW5jdGlvbih0KXtyZXR1cm4gdC54PXRoaXMueCx0Lnk9dGhpcy55LHQucmlnaHQ9dGhpcy5yaWdodCx0LmJvdHRvbT10aGlzLmJvdHRvbSx0fSxoaXRUZXN0OmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuaXNDaXJjbGU/aS5DaXJjbGUuY29udGFpbnModGhpcyx0LGUpOmkuUmVjdGFuZ2xlLmNvbnRhaW5zKHRoaXMsdCxlKX0sb25GbG9vcjpmdW5jdGlvbigpe3JldHVybiB0aGlzLmJsb2NrZWQuZG93bn0sb25DZWlsaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYmxvY2tlZC51cH0sb25XYWxsOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYmxvY2tlZC5sZWZ0fHx0aGlzLmJsb2NrZWQucmlnaHR9LGRlbHRhQWJzWDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRlbHRhWCgpPjA/dGhpcy5kZWx0YVgoKTotdGhpcy5kZWx0YVgoKX0sZGVsdGFBYnNZOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGVsdGFZKCk+MD90aGlzLmRlbHRhWSgpOi10aGlzLmRlbHRhWSgpfSxkZWx0YVg6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wb3NpdGlvbi54LXRoaXMucHJldi54fSxkZWx0YVk6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wb3NpdGlvbi55LXRoaXMucHJldi55fSxkZWx0YVo6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yb3RhdGlvbi10aGlzLnByZVJvdGF0aW9ufSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5zcHJpdGUucGFyZW50JiZ0aGlzLnNwcml0ZS5wYXJlbnQgaW5zdGFuY2VvZiBpLkdyb3VwJiZ0aGlzLnNwcml0ZS5wYXJlbnQucmVtb3ZlRnJvbUhhc2godGhpcy5zcHJpdGUpLHRoaXMuc3ByaXRlLmJvZHk9bnVsbCx0aGlzLnNwcml0ZT1udWxsfX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuUGh5c2ljcy5BcmNhZGUuQm9keS5wcm90b3R5cGUsXCJsZWZ0XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnBvc2l0aW9uLnh9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuUGh5c2ljcy5BcmNhZGUuQm9keS5wcm90b3R5cGUsXCJyaWdodFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wb3NpdGlvbi54K3RoaXMud2lkdGh9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuUGh5c2ljcy5BcmNhZGUuQm9keS5wcm90b3R5cGUsXCJ0b3BcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucG9zaXRpb24ueX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5QaHlzaWNzLkFyY2FkZS5Cb2R5LnByb3RvdHlwZSxcImJvdHRvbVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wb3NpdGlvbi55K3RoaXMuaGVpZ2h0fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLlBoeXNpY3MuQXJjYWRlLkJvZHkucHJvdG90eXBlLFwieFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wb3NpdGlvbi54fSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5wb3NpdGlvbi54PXR9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuUGh5c2ljcy5BcmNhZGUuQm9keS5wcm90b3R5cGUsXCJ5XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnBvc2l0aW9uLnl9LHNldDpmdW5jdGlvbih0KXt0aGlzLnBvc2l0aW9uLnk9dH19KSxpLlBoeXNpY3MuQXJjYWRlLkJvZHkucmVuZGVyPWZ1bmN0aW9uKHQsZSxpLHMsbil7dm9pZCAwPT09cyYmKHM9ITApLGk9aXx8XCJyZ2JhKDAsMjU1LDAsMC40KVwiLHQuZmlsbFN0eWxlPWksdC5zdHJva2VTdHlsZT1pLHQubGluZVdpZHRoPW58fDEsZS5pc0NpcmNsZT8odC5iZWdpblBhdGgoKSx0LmFyYyhlLmNlbnRlci54LWUuZ2FtZS5jYW1lcmEueCxlLmNlbnRlci55LWUuZ2FtZS5jYW1lcmEueSxlLmhhbGZXaWR0aCwwLDIqTWF0aC5QSSkscz90LmZpbGwoKTp0LnN0cm9rZSgpKTpzP3QuZmlsbFJlY3QoZS5wb3NpdGlvbi54LWUuZ2FtZS5jYW1lcmEueCxlLnBvc2l0aW9uLnktZS5nYW1lLmNhbWVyYS55LGUud2lkdGgsZS5oZWlnaHQpOnQuc3Ryb2tlUmVjdChlLnBvc2l0aW9uLngtZS5nYW1lLmNhbWVyYS54LGUucG9zaXRpb24ueS1lLmdhbWUuY2FtZXJhLnksZS53aWR0aCxlLmhlaWdodCl9LGkuUGh5c2ljcy5BcmNhZGUuQm9keS5yZW5kZXJCb2R5SW5mbz1mdW5jdGlvbih0LGUpe3QubGluZShcIng6IFwiK2UueC50b0ZpeGVkKDIpLFwieTogXCIrZS55LnRvRml4ZWQoMiksXCJ3aWR0aDogXCIrZS53aWR0aCxcImhlaWdodDogXCIrZS5oZWlnaHQpLHQubGluZShcInZlbG9jaXR5IHg6IFwiK2UudmVsb2NpdHkueC50b0ZpeGVkKDIpLFwieTogXCIrZS52ZWxvY2l0eS55LnRvRml4ZWQoMiksXCJkZWx0YVg6IFwiK2UuX2R4LnRvRml4ZWQoMiksXCJkZWx0YVk6IFwiK2UuX2R5LnRvRml4ZWQoMikpLHQubGluZShcImFjY2VsZXJhdGlvbiB4OiBcIitlLmFjY2VsZXJhdGlvbi54LnRvRml4ZWQoMiksXCJ5OiBcIitlLmFjY2VsZXJhdGlvbi55LnRvRml4ZWQoMiksXCJzcGVlZDogXCIrZS5zcGVlZC50b0ZpeGVkKDIpLFwiYW5nbGU6IFwiK2UuYW5nbGUudG9GaXhlZCgyKSksdC5saW5lKFwiZ3Jhdml0eSB4OiBcIitlLmdyYXZpdHkueCxcInk6IFwiK2UuZ3Jhdml0eS55LFwiYm91bmNlIHg6IFwiK2UuYm91bmNlLngudG9GaXhlZCgyKSxcInk6IFwiK2UuYm91bmNlLnkudG9GaXhlZCgyKSksdC5saW5lKFwidG91Y2hpbmcgbGVmdDogXCIrZS50b3VjaGluZy5sZWZ0LFwicmlnaHQ6IFwiK2UudG91Y2hpbmcucmlnaHQsXCJ1cDogXCIrZS50b3VjaGluZy51cCxcImRvd246IFwiK2UudG91Y2hpbmcuZG93biksdC5saW5lKFwiYmxvY2tlZCBsZWZ0OiBcIitlLmJsb2NrZWQubGVmdCxcInJpZ2h0OiBcIitlLmJsb2NrZWQucmlnaHQsXCJ1cDogXCIrZS5ibG9ja2VkLnVwLFwiZG93bjogXCIrZS5ibG9ja2VkLmRvd24pfSxpLlBoeXNpY3MuQXJjYWRlLkJvZHkucHJvdG90eXBlLmNvbnN0cnVjdG9yPWkuUGh5c2ljcy5BcmNhZGUuQm9keSxpLlBoeXNpY3MuQXJjYWRlLlRpbGVtYXBDb2xsaXNpb249ZnVuY3Rpb24oKXt9LGkuUGh5c2ljcy5BcmNhZGUuVGlsZW1hcENvbGxpc2lvbi5wcm90b3R5cGU9e1RJTEVfQklBUzoxNixjb2xsaWRlU3ByaXRlVnNUaWxlbWFwTGF5ZXI6ZnVuY3Rpb24odCxlLGkscyxuLG8pe2lmKHQuYm9keSl7dmFyIHI9ZS5nZXRUaWxlcyh0LmJvZHkucG9zaXRpb24ueC10LmJvZHkudGlsZVBhZGRpbmcueC1lLmdldFRpbGVPZmZzZXRYKCksdC5ib2R5LnBvc2l0aW9uLnktdC5ib2R5LnRpbGVQYWRkaW5nLnktZS5nZXRUaWxlT2Zmc2V0WSgpLHQuYm9keS53aWR0aCt0LmJvZHkudGlsZVBhZGRpbmcueCx0LmJvZHkuaGVpZ2h0K3QuYm9keS50aWxlUGFkZGluZy55LCExLCExKTtpZigwIT09ci5sZW5ndGgpZm9yKHZhciBhPTA7YTxyLmxlbmd0aDthKyspcz9zLmNhbGwobix0LHJbYV0pJiZ0aGlzLnNlcGFyYXRlVGlsZShhLHQuYm9keSxyW2FdLGUsbykmJih0aGlzLl90b3RhbCsrLGkmJmkuY2FsbChuLHQsclthXSkpOnRoaXMuc2VwYXJhdGVUaWxlKGEsdC5ib2R5LHJbYV0sZSxvKSYmKHRoaXMuX3RvdGFsKyssaSYmaS5jYWxsKG4sdCxyW2FdKSl9fSxjb2xsaWRlR3JvdXBWc1RpbGVtYXBMYXllcjpmdW5jdGlvbih0LGUsaSxzLG4sbyl7aWYoMCE9PXQubGVuZ3RoKWZvcih2YXIgcj0wO3I8dC5jaGlsZHJlbi5sZW5ndGg7cisrKXQuY2hpbGRyZW5bcl0uZXhpc3RzJiZ0aGlzLmNvbGxpZGVTcHJpdGVWc1RpbGVtYXBMYXllcih0LmNoaWxkcmVuW3JdLGUsaSxzLG4sbyl9LHNlcGFyYXRlVGlsZTpmdW5jdGlvbih0LGUsaSxzLG4pe2lmKCFlLmVuYWJsZSlyZXR1cm4hMTt2YXIgbz1zLmdldFRpbGVPZmZzZXRYKCkscj1zLmdldFRpbGVPZmZzZXRZKCk7aWYoIWkuaW50ZXJzZWN0cyhlLnBvc2l0aW9uLngtbyxlLnBvc2l0aW9uLnktcixlLnJpZ2h0LW8sZS5ib3R0b20tcikpcmV0dXJuITE7aWYobilyZXR1cm4hMDtpZihpLmNvbGxpc2lvbkNhbGxiYWNrJiYhaS5jb2xsaXNpb25DYWxsYmFjay5jYWxsKGkuY29sbGlzaW9uQ2FsbGJhY2tDb250ZXh0LGUuc3ByaXRlLGkpKXJldHVybiExO2lmKHZvaWQgMCE9PWkubGF5ZXIuY2FsbGJhY2tzJiZpLmxheWVyLmNhbGxiYWNrc1tpLmluZGV4XSYmIWkubGF5ZXIuY2FsbGJhY2tzW2kuaW5kZXhdLmNhbGxiYWNrLmNhbGwoaS5sYXllci5jYWxsYmFja3NbaS5pbmRleF0uY2FsbGJhY2tDb250ZXh0LGUuc3ByaXRlLGkpKXJldHVybiExO2lmKCEoaS5mYWNlTGVmdHx8aS5mYWNlUmlnaHR8fGkuZmFjZVRvcHx8aS5mYWNlQm90dG9tKSlyZXR1cm4hMTt2YXIgYT0wLGg9MCxsPTAsYz0xO2lmKGUuZGVsdGFBYnNYKCk+ZS5kZWx0YUFic1koKT9sPS0xOmUuZGVsdGFBYnNYKCk8ZS5kZWx0YUFic1koKSYmKGM9LTEpLDAhPT1lLmRlbHRhWCgpJiYwIT09ZS5kZWx0YVkoKSYmKGkuZmFjZUxlZnR8fGkuZmFjZVJpZ2h0KSYmKGkuZmFjZVRvcHx8aS5mYWNlQm90dG9tKSYmKGw9TWF0aC5taW4oTWF0aC5hYnMoZS5wb3NpdGlvbi54LW8taS5yaWdodCksTWF0aC5hYnMoZS5yaWdodC1vLWkubGVmdCkpLGM9TWF0aC5taW4oTWF0aC5hYnMoZS5wb3NpdGlvbi55LXItaS5ib3R0b20pLE1hdGguYWJzKGUuYm90dG9tLXItaS50b3ApKSksbDxjKXtpZigoaS5mYWNlTGVmdHx8aS5mYWNlUmlnaHQpJiYwIT09KGE9dGhpcy50aWxlQ2hlY2tYKGUsaSxzKSkmJiFpLmludGVyc2VjdHMoZS5wb3NpdGlvbi54LW8sZS5wb3NpdGlvbi55LXIsZS5yaWdodC1vLGUuYm90dG9tLXIpKXJldHVybiEwOyhpLmZhY2VUb3B8fGkuZmFjZUJvdHRvbSkmJihoPXRoaXMudGlsZUNoZWNrWShlLGkscykpfWVsc2V7aWYoKGkuZmFjZVRvcHx8aS5mYWNlQm90dG9tKSYmMCE9PShoPXRoaXMudGlsZUNoZWNrWShlLGkscykpJiYhaS5pbnRlcnNlY3RzKGUucG9zaXRpb24ueC1vLGUucG9zaXRpb24ueS1yLGUucmlnaHQtbyxlLmJvdHRvbS1yKSlyZXR1cm4hMDsoaS5mYWNlTGVmdHx8aS5mYWNlUmlnaHQpJiYoYT10aGlzLnRpbGVDaGVja1goZSxpLHMpKX1yZXR1cm4gMCE9PWF8fDAhPT1ofSx0aWxlQ2hlY2tYOmZ1bmN0aW9uKHQsZSxpKXt2YXIgcz0wLG49aS5nZXRUaWxlT2Zmc2V0WCgpO3JldHVybiB0LmRlbHRhWCgpPDAmJiF0LmJsb2NrZWQubGVmdCYmZS5jb2xsaWRlUmlnaHQmJnQuY2hlY2tDb2xsaXNpb24ubGVmdD9lLmZhY2VSaWdodCYmdC54LW48ZS5yaWdodCYmKHM9dC54LW4tZS5yaWdodCk8LXRoaXMuVElMRV9CSUFTJiYocz0wKTp0LmRlbHRhWCgpPjAmJiF0LmJsb2NrZWQucmlnaHQmJmUuY29sbGlkZUxlZnQmJnQuY2hlY2tDb2xsaXNpb24ucmlnaHQmJmUuZmFjZUxlZnQmJnQucmlnaHQtbj5lLmxlZnQmJihzPXQucmlnaHQtbi1lLmxlZnQpPnRoaXMuVElMRV9CSUFTJiYocz0wKSwwIT09cyYmKHQuY3VzdG9tU2VwYXJhdGVYP3Qub3ZlcmxhcFg9czp0aGlzLnByb2Nlc3NUaWxlU2VwYXJhdGlvblgodCxzKSksc30sdGlsZUNoZWNrWTpmdW5jdGlvbih0LGUsaSl7dmFyIHM9MCxuPWkuZ2V0VGlsZU9mZnNldFkoKTtyZXR1cm4gdC5kZWx0YVkoKTwwJiYhdC5ibG9ja2VkLnVwJiZlLmNvbGxpZGVEb3duJiZ0LmNoZWNrQ29sbGlzaW9uLnVwP2UuZmFjZUJvdHRvbSYmdC55LW48ZS5ib3R0b20mJihzPXQueS1uLWUuYm90dG9tKTwtdGhpcy5USUxFX0JJQVMmJihzPTApOnQuZGVsdGFZKCk+MCYmIXQuYmxvY2tlZC5kb3duJiZlLmNvbGxpZGVVcCYmdC5jaGVja0NvbGxpc2lvbi5kb3duJiZlLmZhY2VUb3AmJnQuYm90dG9tLW4+ZS50b3AmJihzPXQuYm90dG9tLW4tZS50b3ApPnRoaXMuVElMRV9CSUFTJiYocz0wKSwwIT09cyYmKHQuY3VzdG9tU2VwYXJhdGVZP3Qub3ZlcmxhcFk9czp0aGlzLnByb2Nlc3NUaWxlU2VwYXJhdGlvblkodCxzKSksc30scHJvY2Vzc1RpbGVTZXBhcmF0aW9uWDpmdW5jdGlvbih0LGUpe2U8MD8odC5ibG9ja2VkLmxlZnQ9ITAsdC5ibG9ja2VkLm5vbmU9ITEpOmU+MCYmKHQuYmxvY2tlZC5yaWdodD0hMCx0LmJsb2NrZWQubm9uZT0hMSksdC5wb3NpdGlvbi54LT1lLDA9PT10LmJvdW5jZS54P3QudmVsb2NpdHkueD0wOnQudmVsb2NpdHkueD0tdC52ZWxvY2l0eS54KnQuYm91bmNlLnh9LHByb2Nlc3NUaWxlU2VwYXJhdGlvblk6ZnVuY3Rpb24odCxlKXtlPDA/KHQuYmxvY2tlZC51cD0hMCx0LmJsb2NrZWQubm9uZT0hMSk6ZT4wJiYodC5ibG9ja2VkLmRvd249ITAsdC5ibG9ja2VkLm5vbmU9ITEpLHQucG9zaXRpb24ueS09ZSwwPT09dC5ib3VuY2UueT90LnZlbG9jaXR5Lnk9MDp0LnZlbG9jaXR5Lnk9LXQudmVsb2NpdHkueSp0LmJvdW5jZS55fX0saS5VdGlscy5taXhpblByb3RvdHlwZShpLlBoeXNpY3MuQXJjYWRlLnByb3RvdHlwZSxpLlBoeXNpY3MuQXJjYWRlLlRpbGVtYXBDb2xsaXNpb24ucHJvdG90eXBlKSxwMi5Cb2R5LnByb3RvdHlwZS5wYXJlbnQ9bnVsbCxwMi5TcHJpbmcucHJvdG90eXBlLnBhcmVudD1udWxsLGkuUGh5c2ljcy5QMj1mdW5jdGlvbih0LGUpe3RoaXMuZ2FtZT10LHZvaWQgMD09PWU/ZT17Z3Jhdml0eTpbMCwwXSxicm9hZHBoYXNlOm5ldyBwMi5TQVBCcm9hZHBoYXNlfTooZS5oYXNPd25Qcm9wZXJ0eShcImdyYXZpdHlcIil8fChlLmdyYXZpdHk9WzAsMF0pLGUuaGFzT3duUHJvcGVydHkoXCJicm9hZHBoYXNlXCIpfHwoZS5icm9hZHBoYXNlPW5ldyBwMi5TQVBCcm9hZHBoYXNlKSksdGhpcy5jb25maWc9ZSx0aGlzLndvcmxkPW5ldyBwMi5Xb3JsZCh0aGlzLmNvbmZpZyksdGhpcy5mcmFtZVJhdGU9MS82MCx0aGlzLnVzZUVsYXBzZWRUaW1lPSExLHRoaXMucGF1c2VkPSExLHRoaXMubWF0ZXJpYWxzPVtdLHRoaXMuZ3Jhdml0eT1uZXcgaS5QaHlzaWNzLlAyLkludmVyc2VQb2ludFByb3h5KHRoaXMsdGhpcy53b3JsZC5ncmF2aXR5KSx0aGlzLndhbGxzPXtsZWZ0Om51bGwscmlnaHQ6bnVsbCx0b3A6bnVsbCxib3R0b206bnVsbH0sdGhpcy5vbkJvZHlBZGRlZD1uZXcgaS5TaWduYWwsdGhpcy5vbkJvZHlSZW1vdmVkPW5ldyBpLlNpZ25hbCx0aGlzLm9uU3ByaW5nQWRkZWQ9bmV3IGkuU2lnbmFsLHRoaXMub25TcHJpbmdSZW1vdmVkPW5ldyBpLlNpZ25hbCx0aGlzLm9uQ29uc3RyYWludEFkZGVkPW5ldyBpLlNpZ25hbCx0aGlzLm9uQ29uc3RyYWludFJlbW92ZWQ9bmV3IGkuU2lnbmFsLHRoaXMub25Db250YWN0TWF0ZXJpYWxBZGRlZD1uZXcgaS5TaWduYWwsdGhpcy5vbkNvbnRhY3RNYXRlcmlhbFJlbW92ZWQ9bmV3IGkuU2lnbmFsLHRoaXMucG9zdEJyb2FkcGhhc2VDYWxsYmFjaz1udWxsLHRoaXMuY2FsbGJhY2tDb250ZXh0PW51bGwsdGhpcy5vbkJlZ2luQ29udGFjdD1uZXcgaS5TaWduYWwsdGhpcy5vbkVuZENvbnRhY3Q9bmV3IGkuU2lnbmFsLGUuaGFzT3duUHJvcGVydHkoXCJtcHhcIikmJmUuaGFzT3duUHJvcGVydHkoXCJweG1cIikmJmUuaGFzT3duUHJvcGVydHkoXCJtcHhpXCIpJiZlLmhhc093blByb3BlcnR5KFwicHhtaVwiKSYmKHRoaXMubXB4PWUubXB4LHRoaXMubXB4aT1lLm1weGksdGhpcy5weG09ZS5weG0sdGhpcy5weG1pPWUucHhtaSksdGhpcy53b3JsZC5vbihcImJlZ2luQ29udGFjdFwiLHRoaXMuYmVnaW5Db250YWN0SGFuZGxlcix0aGlzKSx0aGlzLndvcmxkLm9uKFwiZW5kQ29udGFjdFwiLHRoaXMuZW5kQ29udGFjdEhhbmRsZXIsdGhpcyksdGhpcy5jb2xsaXNpb25Hcm91cHM9W10sdGhpcy5ub3RoaW5nQ29sbGlzaW9uR3JvdXA9bmV3IGkuUGh5c2ljcy5QMi5Db2xsaXNpb25Hcm91cCgxKSx0aGlzLmJvdW5kc0NvbGxpc2lvbkdyb3VwPW5ldyBpLlBoeXNpY3MuUDIuQ29sbGlzaW9uR3JvdXAoMiksdGhpcy5ldmVyeXRoaW5nQ29sbGlzaW9uR3JvdXA9bmV3IGkuUGh5c2ljcy5QMi5Db2xsaXNpb25Hcm91cCgyMTQ3NDgzNjQ4KSx0aGlzLmJvdW5kc0NvbGxpZGVzV2l0aD1bXSx0aGlzLl90b1JlbW92ZT1bXSx0aGlzLl9jb2xsaXNpb25Hcm91cElEPTIsdGhpcy5fYm91bmRzTGVmdD0hMCx0aGlzLl9ib3VuZHNSaWdodD0hMCx0aGlzLl9ib3VuZHNUb3A9ITAsdGhpcy5fYm91bmRzQm90dG9tPSEwLHRoaXMuX2JvdW5kc093bkdyb3VwPSExLHRoaXMuc2V0Qm91bmRzVG9Xb3JsZCghMCwhMCwhMCwhMCwhMSl9LGkuUGh5c2ljcy5QMi5wcm90b3R5cGU9e3JlbW92ZUJvZHlOZXh0U3RlcDpmdW5jdGlvbih0KXt0aGlzLl90b1JlbW92ZS5wdXNoKHQpfSxwcmVVcGRhdGU6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy5fdG9SZW1vdmUubGVuZ3RoO3QtLTspdGhpcy5yZW1vdmVCb2R5KHRoaXMuX3RvUmVtb3ZlW3RdKTt0aGlzLl90b1JlbW92ZS5sZW5ndGg9MH0sZW5hYmxlOmZ1bmN0aW9uKHQsZSxzKXt2b2lkIDA9PT1lJiYoZT0hMSksdm9pZCAwPT09cyYmKHM9ITApO3ZhciBuPTE7aWYoQXJyYXkuaXNBcnJheSh0KSlmb3Iobj10Lmxlbmd0aDtuLS07KXRbbl1pbnN0YW5jZW9mIGkuR3JvdXA/dGhpcy5lbmFibGUodFtuXS5jaGlsZHJlbixlLHMpOih0aGlzLmVuYWJsZUJvZHkodFtuXSxlKSxzJiZ0W25dLmhhc093blByb3BlcnR5KFwiY2hpbGRyZW5cIikmJnRbbl0uY2hpbGRyZW4ubGVuZ3RoPjAmJnRoaXMuZW5hYmxlKHRbbl0sZSwhMCkpO2Vsc2UgdCBpbnN0YW5jZW9mIGkuR3JvdXA/dGhpcy5lbmFibGUodC5jaGlsZHJlbixlLHMpOih0aGlzLmVuYWJsZUJvZHkodCxlKSxzJiZ0Lmhhc093blByb3BlcnR5KFwiY2hpbGRyZW5cIikmJnQuY2hpbGRyZW4ubGVuZ3RoPjAmJnRoaXMuZW5hYmxlKHQuY2hpbGRyZW4sZSwhMCkpfSxlbmFibGVCb2R5OmZ1bmN0aW9uKHQsZSl7dC5oYXNPd25Qcm9wZXJ0eShcImJvZHlcIikmJm51bGw9PT10LmJvZHkmJih0LmJvZHk9bmV3IGkuUGh5c2ljcy5QMi5Cb2R5KHRoaXMuZ2FtZSx0LHQueCx0LnksMSksdC5ib2R5LmRlYnVnPWUsdm9pZCAwIT09dC5hbmNob3ImJnQuYW5jaG9yLnNldCguNSkpfSxzZXRJbXBhY3RFdmVudHM6ZnVuY3Rpb24odCl7dD90aGlzLndvcmxkLm9uKFwiaW1wYWN0XCIsdGhpcy5pbXBhY3RIYW5kbGVyLHRoaXMpOnRoaXMud29ybGQub2ZmKFwiaW1wYWN0XCIsdGhpcy5pbXBhY3RIYW5kbGVyLHRoaXMpfSxzZXRQb3N0QnJvYWRwaGFzZUNhbGxiYWNrOmZ1bmN0aW9uKHQsZSl7dGhpcy5wb3N0QnJvYWRwaGFzZUNhbGxiYWNrPXQsdGhpcy5jYWxsYmFja0NvbnRleHQ9ZSxudWxsIT09dD90aGlzLndvcmxkLm9uKFwicG9zdEJyb2FkcGhhc2VcIix0aGlzLnBvc3RCcm9hZHBoYXNlSGFuZGxlcix0aGlzKTp0aGlzLndvcmxkLm9mZihcInBvc3RCcm9hZHBoYXNlXCIsdGhpcy5wb3N0QnJvYWRwaGFzZUhhbmRsZXIsdGhpcyl9LHBvc3RCcm9hZHBoYXNlSGFuZGxlcjpmdW5jdGlvbih0KXtpZih0aGlzLnBvc3RCcm9hZHBoYXNlQ2FsbGJhY2smJjAhPT10LnBhaXJzLmxlbmd0aClmb3IodmFyIGU9dC5wYWlycy5sZW5ndGgtMjtlPj0wO2UtPTIpdC5wYWlyc1tlXS5wYXJlbnQmJnQucGFpcnNbZSsxXS5wYXJlbnQmJiF0aGlzLnBvc3RCcm9hZHBoYXNlQ2FsbGJhY2suY2FsbCh0aGlzLmNhbGxiYWNrQ29udGV4dCx0LnBhaXJzW2VdLnBhcmVudCx0LnBhaXJzW2UrMV0ucGFyZW50KSYmdC5wYWlycy5zcGxpY2UoZSwyKX0saW1wYWN0SGFuZGxlcjpmdW5jdGlvbih0KXtpZih0LmJvZHlBLnBhcmVudCYmdC5ib2R5Qi5wYXJlbnQpe3ZhciBlPXQuYm9keUEucGFyZW50LGk9dC5ib2R5Qi5wYXJlbnQ7ZS5fYm9keUNhbGxiYWNrc1t0LmJvZHlCLmlkXSYmZS5fYm9keUNhbGxiYWNrc1t0LmJvZHlCLmlkXS5jYWxsKGUuX2JvZHlDYWxsYmFja0NvbnRleHRbdC5ib2R5Qi5pZF0sZSxpLHQuc2hhcGVBLHQuc2hhcGVCKSxpLl9ib2R5Q2FsbGJhY2tzW3QuYm9keUEuaWRdJiZpLl9ib2R5Q2FsbGJhY2tzW3QuYm9keUEuaWRdLmNhbGwoaS5fYm9keUNhbGxiYWNrQ29udGV4dFt0LmJvZHlBLmlkXSxpLGUsdC5zaGFwZUIsdC5zaGFwZUEpLGUuX2dyb3VwQ2FsbGJhY2tzW3Quc2hhcGVCLmNvbGxpc2lvbkdyb3VwXSYmZS5fZ3JvdXBDYWxsYmFja3NbdC5zaGFwZUIuY29sbGlzaW9uR3JvdXBdLmNhbGwoZS5fZ3JvdXBDYWxsYmFja0NvbnRleHRbdC5zaGFwZUIuY29sbGlzaW9uR3JvdXBdLGUsaSx0LnNoYXBlQSx0LnNoYXBlQiksaS5fZ3JvdXBDYWxsYmFja3NbdC5zaGFwZUEuY29sbGlzaW9uR3JvdXBdJiZpLl9ncm91cENhbGxiYWNrc1t0LnNoYXBlQS5jb2xsaXNpb25Hcm91cF0uY2FsbChpLl9ncm91cENhbGxiYWNrQ29udGV4dFt0LnNoYXBlQS5jb2xsaXNpb25Hcm91cF0saSxlLHQuc2hhcGVCLHQuc2hhcGVBKX19LGJlZ2luQ29udGFjdEhhbmRsZXI6ZnVuY3Rpb24odCl7dC5ib2R5QSYmdC5ib2R5QiYmKHRoaXMub25CZWdpbkNvbnRhY3QuZGlzcGF0Y2godC5ib2R5QSx0LmJvZHlCLHQuc2hhcGVBLHQuc2hhcGVCLHQuY29udGFjdEVxdWF0aW9ucyksdC5ib2R5QS5wYXJlbnQmJnQuYm9keUEucGFyZW50Lm9uQmVnaW5Db250YWN0LmRpc3BhdGNoKHQuYm9keUIucGFyZW50LHQuYm9keUIsdC5zaGFwZUEsdC5zaGFwZUIsdC5jb250YWN0RXF1YXRpb25zKSx0LmJvZHlCLnBhcmVudCYmdC5ib2R5Qi5wYXJlbnQub25CZWdpbkNvbnRhY3QuZGlzcGF0Y2godC5ib2R5QS5wYXJlbnQsdC5ib2R5QSx0LnNoYXBlQix0LnNoYXBlQSx0LmNvbnRhY3RFcXVhdGlvbnMpKX0sZW5kQ29udGFjdEhhbmRsZXI6ZnVuY3Rpb24odCl7dC5ib2R5QSYmdC5ib2R5QiYmKHRoaXMub25FbmRDb250YWN0LmRpc3BhdGNoKHQuYm9keUEsdC5ib2R5Qix0LnNoYXBlQSx0LnNoYXBlQiksdC5ib2R5QS5wYXJlbnQmJnQuYm9keUEucGFyZW50Lm9uRW5kQ29udGFjdC5kaXNwYXRjaCh0LmJvZHlCLnBhcmVudCx0LmJvZHlCLHQuc2hhcGVBLHQuc2hhcGVCKSx0LmJvZHlCLnBhcmVudCYmdC5ib2R5Qi5wYXJlbnQub25FbmRDb250YWN0LmRpc3BhdGNoKHQuYm9keUEucGFyZW50LHQuYm9keUEsdC5zaGFwZUIsdC5zaGFwZUEpKX0sc2V0Qm91bmRzVG9Xb3JsZDpmdW5jdGlvbih0LGUsaSxzLG4pe3RoaXMuc2V0Qm91bmRzKHRoaXMuZ2FtZS53b3JsZC5ib3VuZHMueCx0aGlzLmdhbWUud29ybGQuYm91bmRzLnksdGhpcy5nYW1lLndvcmxkLmJvdW5kcy53aWR0aCx0aGlzLmdhbWUud29ybGQuYm91bmRzLmhlaWdodCx0LGUsaSxzLG4pfSxzZXRXb3JsZE1hdGVyaWFsOmZ1bmN0aW9uKHQsZSxpLHMsbil7dm9pZCAwPT09ZSYmKGU9ITApLHZvaWQgMD09PWkmJihpPSEwKSx2b2lkIDA9PT1zJiYocz0hMCksdm9pZCAwPT09biYmKG49ITApLGUmJnRoaXMud2FsbHMubGVmdCYmKHRoaXMud2FsbHMubGVmdC5zaGFwZXNbMF0ubWF0ZXJpYWw9dCksaSYmdGhpcy53YWxscy5yaWdodCYmKHRoaXMud2FsbHMucmlnaHQuc2hhcGVzWzBdLm1hdGVyaWFsPXQpLHMmJnRoaXMud2FsbHMudG9wJiYodGhpcy53YWxscy50b3Auc2hhcGVzWzBdLm1hdGVyaWFsPXQpLG4mJnRoaXMud2FsbHMuYm90dG9tJiYodGhpcy53YWxscy5ib3R0b20uc2hhcGVzWzBdLm1hdGVyaWFsPXQpfSx1cGRhdGVCb3VuZHNDb2xsaXNpb25Hcm91cDpmdW5jdGlvbih0KXt2b2lkIDA9PT10JiYodD0hMCk7dmFyIGU9dD90aGlzLmJvdW5kc0NvbGxpc2lvbkdyb3VwLm1hc2s6dGhpcy5ldmVyeXRoaW5nQ29sbGlzaW9uR3JvdXAubWFzazt0aGlzLndhbGxzLmxlZnQmJih0aGlzLndhbGxzLmxlZnQuc2hhcGVzWzBdLmNvbGxpc2lvbkdyb3VwPWUpLHRoaXMud2FsbHMucmlnaHQmJih0aGlzLndhbGxzLnJpZ2h0LnNoYXBlc1swXS5jb2xsaXNpb25Hcm91cD1lKSx0aGlzLndhbGxzLnRvcCYmKHRoaXMud2FsbHMudG9wLnNoYXBlc1swXS5jb2xsaXNpb25Hcm91cD1lKSx0aGlzLndhbGxzLmJvdHRvbSYmKHRoaXMud2FsbHMuYm90dG9tLnNoYXBlc1swXS5jb2xsaXNpb25Hcm91cD1lKSx0aGlzLl9ib3VuZHNPd25Hcm91cD10fSxzZXRCb3VuZHM6ZnVuY3Rpb24odCxlLGkscyxuLG8scixhLGgpe3ZvaWQgMD09PW4mJihuPXRoaXMuX2JvdW5kc0xlZnQpLHZvaWQgMD09PW8mJihvPXRoaXMuX2JvdW5kc1JpZ2h0KSx2b2lkIDA9PT1yJiYocj10aGlzLl9ib3VuZHNUb3ApLHZvaWQgMD09PWEmJihhPXRoaXMuX2JvdW5kc0JvdHRvbSksdm9pZCAwPT09aCYmKGg9dGhpcy5fYm91bmRzT3duR3JvdXApLHRoaXMuc2V0dXBXYWxsKG4sXCJsZWZ0XCIsdCxlLDEuNTcwNzk2MzI2Nzk0ODk2NixoKSx0aGlzLnNldHVwV2FsbChvLFwicmlnaHRcIix0K2ksZSwtMS41NzA3OTYzMjY3OTQ4OTY2LGgpLHRoaXMuc2V0dXBXYWxsKHIsXCJ0b3BcIix0LGUsLTMuMTQxNTkyNjUzNTg5NzkzLGgpLHRoaXMuc2V0dXBXYWxsKGEsXCJib3R0b21cIix0LGUrcywwLGgpLHRoaXMuX2JvdW5kc0xlZnQ9bix0aGlzLl9ib3VuZHNSaWdodD1vLHRoaXMuX2JvdW5kc1RvcD1yLHRoaXMuX2JvdW5kc0JvdHRvbT1hLHRoaXMuX2JvdW5kc093bkdyb3VwPWh9LHNldHVwV2FsbDpmdW5jdGlvbih0LGUsaSxzLG4sbyl7dD8odGhpcy53YWxsc1tlXT90aGlzLndhbGxzW2VdLnBvc2l0aW9uPVt0aGlzLnB4bWkoaSksdGhpcy5weG1pKHMpXToodGhpcy53YWxsc1tlXT1uZXcgcDIuQm9keSh7bWFzczowLHBvc2l0aW9uOlt0aGlzLnB4bWkoaSksdGhpcy5weG1pKHMpXSxhbmdsZTpufSksdGhpcy53YWxsc1tlXS5hZGRTaGFwZShuZXcgcDIuUGxhbmUpLHRoaXMud29ybGQuYWRkQm9keSh0aGlzLndhbGxzW2VdKSksbyYmKHRoaXMud2FsbHNbZV0uc2hhcGVzWzBdLmNvbGxpc2lvbkdyb3VwPXRoaXMuYm91bmRzQ29sbGlzaW9uR3JvdXAubWFzaykpOnRoaXMud2FsbHNbZV0mJih0aGlzLndvcmxkLnJlbW92ZUJvZHkodGhpcy53YWxsc1tlXSksdGhpcy53YWxsc1tlXT1udWxsKX0scGF1c2U6ZnVuY3Rpb24oKXt0aGlzLnBhdXNlZD0hMH0scmVzdW1lOmZ1bmN0aW9uKCl7dGhpcy5wYXVzZWQ9ITF9LHVwZGF0ZTpmdW5jdGlvbigpe3RoaXMucGF1c2VkfHwodGhpcy51c2VFbGFwc2VkVGltZT90aGlzLndvcmxkLnN0ZXAodGhpcy5nYW1lLnRpbWUucGh5c2ljc0VsYXBzZWQpOnRoaXMud29ybGQuc3RlcCh0aGlzLmZyYW1lUmF0ZSkpfSxyZXNldDpmdW5jdGlvbigpe3RoaXMud29ybGQub24oXCJiZWdpbkNvbnRhY3RcIix0aGlzLmJlZ2luQ29udGFjdEhhbmRsZXIsdGhpcyksdGhpcy53b3JsZC5vbihcImVuZENvbnRhY3RcIix0aGlzLmVuZENvbnRhY3RIYW5kbGVyLHRoaXMpLHRoaXMubm90aGluZ0NvbGxpc2lvbkdyb3VwPW5ldyBpLlBoeXNpY3MuUDIuQ29sbGlzaW9uR3JvdXAoMSksdGhpcy5ib3VuZHNDb2xsaXNpb25Hcm91cD1uZXcgaS5QaHlzaWNzLlAyLkNvbGxpc2lvbkdyb3VwKDIpLHRoaXMuZXZlcnl0aGluZ0NvbGxpc2lvbkdyb3VwPW5ldyBpLlBoeXNpY3MuUDIuQ29sbGlzaW9uR3JvdXAoMjE0NzQ4MzY0OCksdGhpcy5fY29sbGlzaW9uR3JvdXBJRD0yLHRoaXMuc2V0Qm91bmRzVG9Xb3JsZCghMCwhMCwhMCwhMCwhMSl9LGNsZWFyOmZ1bmN0aW9uKCl7dGhpcy53b3JsZC50aW1lPTAsdGhpcy53b3JsZC5maXhlZFN0ZXBUaW1lPTAsdGhpcy53b3JsZC5zb2x2ZXImJnRoaXMud29ybGQuc29sdmVyLmVxdWF0aW9ucy5sZW5ndGgmJnRoaXMud29ybGQuc29sdmVyLnJlbW92ZUFsbEVxdWF0aW9ucygpO2Zvcih2YXIgdD10aGlzLndvcmxkLmNvbnN0cmFpbnRzLGU9dC5sZW5ndGgtMTtlPj0wO2UtLSl0aGlzLndvcmxkLnJlbW92ZUNvbnN0cmFpbnQodFtlXSk7Zm9yKHZhciBpPXRoaXMud29ybGQuYm9kaWVzLGU9aS5sZW5ndGgtMTtlPj0wO2UtLSl0aGlzLndvcmxkLnJlbW92ZUJvZHkoaVtlXSk7Zm9yKHZhciBzPXRoaXMud29ybGQuc3ByaW5ncyxlPXMubGVuZ3RoLTE7ZT49MDtlLS0pdGhpcy53b3JsZC5yZW1vdmVTcHJpbmcoc1tlXSk7Zm9yKHZhciBuPXRoaXMud29ybGQuY29udGFjdE1hdGVyaWFscyxlPW4ubGVuZ3RoLTE7ZT49MDtlLS0pdGhpcy53b3JsZC5yZW1vdmVDb250YWN0TWF0ZXJpYWwobltlXSk7dGhpcy53b3JsZC5vZmYoXCJiZWdpbkNvbnRhY3RcIix0aGlzLmJlZ2luQ29udGFjdEhhbmRsZXIsdGhpcyksdGhpcy53b3JsZC5vZmYoXCJlbmRDb250YWN0XCIsdGhpcy5lbmRDb250YWN0SGFuZGxlcix0aGlzKSx0aGlzLnBvc3RCcm9hZHBoYXNlQ2FsbGJhY2s9bnVsbCx0aGlzLmNhbGxiYWNrQ29udGV4dD1udWxsLHRoaXMuaW1wYWN0Q2FsbGJhY2s9bnVsbCx0aGlzLmNvbGxpc2lvbkdyb3Vwcz1bXSx0aGlzLl90b1JlbW92ZT1bXSx0aGlzLmJvdW5kc0NvbGxpZGVzV2l0aD1bXSx0aGlzLndhbGxzPXtsZWZ0Om51bGwscmlnaHQ6bnVsbCx0b3A6bnVsbCxib3R0b206bnVsbH19LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLmNsZWFyKCksdGhpcy5nYW1lPW51bGx9LGFkZEJvZHk6ZnVuY3Rpb24odCl7cmV0dXJuIXQuZGF0YS53b3JsZCYmKHRoaXMud29ybGQuYWRkQm9keSh0LmRhdGEpLHRoaXMub25Cb2R5QWRkZWQuZGlzcGF0Y2godCksITApfSxyZW1vdmVCb2R5OmZ1bmN0aW9uKHQpe3JldHVybiB0LmRhdGEud29ybGQ9PT10aGlzLndvcmxkJiYodGhpcy53b3JsZC5yZW1vdmVCb2R5KHQuZGF0YSksdGhpcy5vbkJvZHlSZW1vdmVkLmRpc3BhdGNoKHQpKSx0fSxhZGRTcHJpbmc6ZnVuY3Rpb24odCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBpLlBoeXNpY3MuUDIuU3ByaW5nfHx0IGluc3RhbmNlb2YgaS5QaHlzaWNzLlAyLlJvdGF0aW9uYWxTcHJpbmc/dGhpcy53b3JsZC5hZGRTcHJpbmcodC5kYXRhKTp0aGlzLndvcmxkLmFkZFNwcmluZyh0KSx0aGlzLm9uU3ByaW5nQWRkZWQuZGlzcGF0Y2godCksdH0scmVtb3ZlU3ByaW5nOmZ1bmN0aW9uKHQpe3JldHVybiB0IGluc3RhbmNlb2YgaS5QaHlzaWNzLlAyLlNwcmluZ3x8dCBpbnN0YW5jZW9mIGkuUGh5c2ljcy5QMi5Sb3RhdGlvbmFsU3ByaW5nP3RoaXMud29ybGQucmVtb3ZlU3ByaW5nKHQuZGF0YSk6dGhpcy53b3JsZC5yZW1vdmVTcHJpbmcodCksdGhpcy5vblNwcmluZ1JlbW92ZWQuZGlzcGF0Y2godCksdH0sY3JlYXRlRGlzdGFuY2VDb25zdHJhaW50OmZ1bmN0aW9uKHQsZSxzLG4sbyxyKXtpZih0PXRoaXMuZ2V0Qm9keSh0KSxlPXRoaXMuZ2V0Qm9keShlKSx0JiZlKXJldHVybiB0aGlzLmFkZENvbnN0cmFpbnQobmV3IGkuUGh5c2ljcy5QMi5EaXN0YW5jZUNvbnN0cmFpbnQodGhpcyx0LGUscyxuLG8scikpO2NvbnNvbGUud2FybihcIkNhbm5vdCBjcmVhdGUgQ29uc3RyYWludCwgaW52YWxpZCBib2R5IG9iamVjdHMgZ2l2ZW5cIil9LGNyZWF0ZUdlYXJDb25zdHJhaW50OmZ1bmN0aW9uKHQsZSxzLG4pe2lmKHQ9dGhpcy5nZXRCb2R5KHQpLGU9dGhpcy5nZXRCb2R5KGUpLHQmJmUpcmV0dXJuIHRoaXMuYWRkQ29uc3RyYWludChuZXcgaS5QaHlzaWNzLlAyLkdlYXJDb25zdHJhaW50KHRoaXMsdCxlLHMsbikpO2NvbnNvbGUud2FybihcIkNhbm5vdCBjcmVhdGUgQ29uc3RyYWludCwgaW52YWxpZCBib2R5IG9iamVjdHMgZ2l2ZW5cIil9LGNyZWF0ZVJldm9sdXRlQ29uc3RyYWludDpmdW5jdGlvbih0LGUscyxuLG8scil7aWYodD10aGlzLmdldEJvZHkodCkscz10aGlzLmdldEJvZHkocyksdCYmcylyZXR1cm4gdGhpcy5hZGRDb25zdHJhaW50KG5ldyBpLlBoeXNpY3MuUDIuUmV2b2x1dGVDb25zdHJhaW50KHRoaXMsdCxlLHMsbixvLHIpKTtjb25zb2xlLndhcm4oXCJDYW5ub3QgY3JlYXRlIENvbnN0cmFpbnQsIGludmFsaWQgYm9keSBvYmplY3RzIGdpdmVuXCIpfSxjcmVhdGVMb2NrQ29uc3RyYWludDpmdW5jdGlvbih0LGUscyxuLG8pe2lmKHQ9dGhpcy5nZXRCb2R5KHQpLGU9dGhpcy5nZXRCb2R5KGUpLHQmJmUpcmV0dXJuIHRoaXMuYWRkQ29uc3RyYWludChuZXcgaS5QaHlzaWNzLlAyLkxvY2tDb25zdHJhaW50KHRoaXMsdCxlLHMsbixvKSk7Y29uc29sZS53YXJuKFwiQ2Fubm90IGNyZWF0ZSBDb25zdHJhaW50LCBpbnZhbGlkIGJvZHkgb2JqZWN0cyBnaXZlblwiKX0sY3JlYXRlUHJpc21hdGljQ29uc3RyYWludDpmdW5jdGlvbih0LGUscyxuLG8scixhKXtpZih0PXRoaXMuZ2V0Qm9keSh0KSxlPXRoaXMuZ2V0Qm9keShlKSx0JiZlKXJldHVybiB0aGlzLmFkZENvbnN0cmFpbnQobmV3IGkuUGh5c2ljcy5QMi5QcmlzbWF0aWNDb25zdHJhaW50KHRoaXMsdCxlLHMsbixvLHIsYSkpO2NvbnNvbGUud2FybihcIkNhbm5vdCBjcmVhdGUgQ29uc3RyYWludCwgaW52YWxpZCBib2R5IG9iamVjdHMgZ2l2ZW5cIil9LGFkZENvbnN0cmFpbnQ6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMud29ybGQuYWRkQ29uc3RyYWludCh0KSx0aGlzLm9uQ29uc3RyYWludEFkZGVkLmRpc3BhdGNoKHQpLHR9LHJlbW92ZUNvbnN0cmFpbnQ6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMud29ybGQucmVtb3ZlQ29uc3RyYWludCh0KSx0aGlzLm9uQ29uc3RyYWludFJlbW92ZWQuZGlzcGF0Y2godCksdH0sYWRkQ29udGFjdE1hdGVyaWFsOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLndvcmxkLmFkZENvbnRhY3RNYXRlcmlhbCh0KSx0aGlzLm9uQ29udGFjdE1hdGVyaWFsQWRkZWQuZGlzcGF0Y2godCksdH0scmVtb3ZlQ29udGFjdE1hdGVyaWFsOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLndvcmxkLnJlbW92ZUNvbnRhY3RNYXRlcmlhbCh0KSx0aGlzLm9uQ29udGFjdE1hdGVyaWFsUmVtb3ZlZC5kaXNwYXRjaCh0KSx0fSxnZXRDb250YWN0TWF0ZXJpYWw6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy53b3JsZC5nZXRDb250YWN0TWF0ZXJpYWwodCxlKX0sc2V0TWF0ZXJpYWw6ZnVuY3Rpb24odCxlKXtmb3IodmFyIGk9ZS5sZW5ndGg7aS0tOyllW2ldLnNldE1hdGVyaWFsKHQpfSxjcmVhdGVNYXRlcmlhbDpmdW5jdGlvbih0LGUpe3Q9dHx8XCJcIjt2YXIgcz1uZXcgaS5QaHlzaWNzLlAyLk1hdGVyaWFsKHQpO3JldHVybiB0aGlzLm1hdGVyaWFscy5wdXNoKHMpLHZvaWQgMCE9PWUmJmUuc2V0TWF0ZXJpYWwocyksc30sY3JlYXRlQ29udGFjdE1hdGVyaWFsOmZ1bmN0aW9uKHQsZSxzKXt2b2lkIDA9PT10JiYodD10aGlzLmNyZWF0ZU1hdGVyaWFsKCkpLHZvaWQgMD09PWUmJihlPXRoaXMuY3JlYXRlTWF0ZXJpYWwoKSk7dmFyIG49bmV3IGkuUGh5c2ljcy5QMi5Db250YWN0TWF0ZXJpYWwodCxlLHMpO3JldHVybiB0aGlzLmFkZENvbnRhY3RNYXRlcmlhbChuKX0sZ2V0Qm9kaWVzOmZ1bmN0aW9uKCl7Zm9yKHZhciB0PVtdLGU9dGhpcy53b3JsZC5ib2RpZXMubGVuZ3RoO2UtLTspdC5wdXNoKHRoaXMud29ybGQuYm9kaWVzW2VdLnBhcmVudCk7cmV0dXJuIHR9LGdldEJvZHk6ZnVuY3Rpb24odCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBwMi5Cb2R5P3Q6dCBpbnN0YW5jZW9mIGkuUGh5c2ljcy5QMi5Cb2R5P3QuZGF0YTp0LmJvZHkmJnQuYm9keS50eXBlPT09aS5QaHlzaWNzLlAySlM/dC5ib2R5LmRhdGE6bnVsbH0sZ2V0U3ByaW5nczpmdW5jdGlvbigpe2Zvcih2YXIgdD1bXSxlPXRoaXMud29ybGQuc3ByaW5ncy5sZW5ndGg7ZS0tOyl0LnB1c2godGhpcy53b3JsZC5zcHJpbmdzW2VdLnBhcmVudCk7cmV0dXJuIHR9LGdldENvbnN0cmFpbnRzOmZ1bmN0aW9uKCl7Zm9yKHZhciB0PVtdLGU9dGhpcy53b3JsZC5jb25zdHJhaW50cy5sZW5ndGg7ZS0tOyl0LnB1c2godGhpcy53b3JsZC5jb25zdHJhaW50c1tlXSk7cmV0dXJuIHR9LGhpdFRlc3Q6ZnVuY3Rpb24odCxlLHMsbil7dm9pZCAwPT09ZSYmKGU9dGhpcy53b3JsZC5ib2RpZXMpLHZvaWQgMD09PXMmJihzPTUpLHZvaWQgMD09PW4mJihuPSExKTtmb3IodmFyIG89W3RoaXMucHhtaSh0LngpLHRoaXMucHhtaSh0LnkpXSxyPVtdLGE9ZS5sZW5ndGg7YS0tOyllW2FdaW5zdGFuY2VvZiBpLlBoeXNpY3MuUDIuQm9keSYmKCFufHxlW2FdLmRhdGEudHlwZSE9PXAyLkJvZHkuU1RBVElDKT9yLnB1c2goZVthXS5kYXRhKTplW2FdaW5zdGFuY2VvZiBwMi5Cb2R5JiZlW2FdLnBhcmVudCYmKCFufHxlW2FdLnR5cGUhPT1wMi5Cb2R5LlNUQVRJQyk/ci5wdXNoKGVbYV0pOmVbYV1pbnN0YW5jZW9mIGkuU3ByaXRlJiZlW2FdLmhhc093blByb3BlcnR5KFwiYm9keVwiKSYmKCFufHxlW2FdLmJvZHkuZGF0YS50eXBlIT09cDIuQm9keS5TVEFUSUMpJiZyLnB1c2goZVthXS5ib2R5LmRhdGEpO3JldHVybiB0aGlzLndvcmxkLmhpdFRlc3QobyxyLHMpfSx0b0pTT046ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy53b3JsZC50b0pTT04oKX0sY3JlYXRlQ29sbGlzaW9uR3JvdXA6ZnVuY3Rpb24odCl7dmFyIGU9TWF0aC5wb3coMix0aGlzLl9jb2xsaXNpb25Hcm91cElEKTt0aGlzLndhbGxzLmxlZnQmJih0aGlzLndhbGxzLmxlZnQuc2hhcGVzWzBdLmNvbGxpc2lvbk1hc2s9dGhpcy53YWxscy5sZWZ0LnNoYXBlc1swXS5jb2xsaXNpb25NYXNrfGUpLHRoaXMud2FsbHMucmlnaHQmJih0aGlzLndhbGxzLnJpZ2h0LnNoYXBlc1swXS5jb2xsaXNpb25NYXNrPXRoaXMud2FsbHMucmlnaHQuc2hhcGVzWzBdLmNvbGxpc2lvbk1hc2t8ZSksdGhpcy53YWxscy50b3AmJih0aGlzLndhbGxzLnRvcC5zaGFwZXNbMF0uY29sbGlzaW9uTWFzaz10aGlzLndhbGxzLnRvcC5zaGFwZXNbMF0uY29sbGlzaW9uTWFza3xlKSx0aGlzLndhbGxzLmJvdHRvbSYmKHRoaXMud2FsbHMuYm90dG9tLnNoYXBlc1swXS5jb2xsaXNpb25NYXNrPXRoaXMud2FsbHMuYm90dG9tLnNoYXBlc1swXS5jb2xsaXNpb25NYXNrfGUpLHRoaXMuX2NvbGxpc2lvbkdyb3VwSUQrKzt2YXIgcz1uZXcgaS5QaHlzaWNzLlAyLkNvbGxpc2lvbkdyb3VwKGUpO3JldHVybiB0aGlzLmNvbGxpc2lvbkdyb3Vwcy5wdXNoKHMpLHQmJnRoaXMuc2V0Q29sbGlzaW9uR3JvdXAodCxzKSxzfSxzZXRDb2xsaXNpb25Hcm91cDpmdW5jdGlvbih0LGUpe2lmKHQgaW5zdGFuY2VvZiBpLkdyb3VwKWZvcih2YXIgcz0wO3M8dC50b3RhbDtzKyspdC5jaGlsZHJlbltzXS5ib2R5JiZ0LmNoaWxkcmVuW3NdLmJvZHkudHlwZT09PWkuUGh5c2ljcy5QMkpTJiZ0LmNoaWxkcmVuW3NdLmJvZHkuc2V0Q29sbGlzaW9uR3JvdXAoZSk7ZWxzZSB0LmJvZHkuc2V0Q29sbGlzaW9uR3JvdXAoZSl9LGNyZWF0ZVNwcmluZzpmdW5jdGlvbih0LGUscyxuLG8scixhLGgsbCl7aWYodD10aGlzLmdldEJvZHkodCksZT10aGlzLmdldEJvZHkoZSksdCYmZSlyZXR1cm4gdGhpcy5hZGRTcHJpbmcobmV3IGkuUGh5c2ljcy5QMi5TcHJpbmcodGhpcyx0LGUscyxuLG8scixhLGgsbCkpO2NvbnNvbGUud2FybihcIkNhbm5vdCBjcmVhdGUgU3ByaW5nLCBpbnZhbGlkIGJvZHkgb2JqZWN0cyBnaXZlblwiKX0sY3JlYXRlUm90YXRpb25hbFNwcmluZzpmdW5jdGlvbih0LGUscyxuLG8pe2lmKHQ9dGhpcy5nZXRCb2R5KHQpLGU9dGhpcy5nZXRCb2R5KGUpLHQmJmUpcmV0dXJuIHRoaXMuYWRkU3ByaW5nKG5ldyBpLlBoeXNpY3MuUDIuUm90YXRpb25hbFNwcmluZyh0aGlzLHQsZSxzLG4sbykpO2NvbnNvbGUud2FybihcIkNhbm5vdCBjcmVhdGUgUm90YXRpb25hbCBTcHJpbmcsIGludmFsaWQgYm9keSBvYmplY3RzIGdpdmVuXCIpfSxjcmVhdGVCb2R5OmZ1bmN0aW9uKHQsZSxzLG4sbyxyKXt2b2lkIDA9PT1uJiYobj0hMSk7dmFyIGE9bmV3IGkuUGh5c2ljcy5QMi5Cb2R5KHRoaXMuZ2FtZSxudWxsLHQsZSxzKTtyZXR1cm4hKHImJiFhLmFkZFBvbHlnb24obyxyKSkmJihuJiZ0aGlzLndvcmxkLmFkZEJvZHkoYS5kYXRhKSxhKX0sY3JlYXRlUGFydGljbGU6ZnVuY3Rpb24odCxlLHMsbixvLHIpe3ZvaWQgMD09PW4mJihuPSExKTt2YXIgYT1uZXcgaS5QaHlzaWNzLlAyLkJvZHkodGhpcy5nYW1lLG51bGwsdCxlLHMpO3JldHVybiEociYmIWEuYWRkUG9seWdvbihvLHIpKSYmKG4mJnRoaXMud29ybGQuYWRkQm9keShhLmRhdGEpLGEpfSxjb252ZXJ0Q29sbGlzaW9uT2JqZWN0czpmdW5jdGlvbih0LGUsaSl7dm9pZCAwPT09aSYmKGk9ITApO2Zvcih2YXIgcz1bXSxuPTAsbz10LmNvbGxpc2lvbltlXS5sZW5ndGg7bjxvO24rKyl7dmFyIHI9dC5jb2xsaXNpb25bZV1bbl0sYT1yLnBvbHlsaW5lfHxyLnBvbHlnb247aWYoYSl2YXIgaD10aGlzLmNyZWF0ZUJvZHkoci54LHIueSwwLGkse30sYSk7ZWxzZSByLnJlY3RhbmdsZSYmKGg9dGhpcy5jcmVhdGVCb2R5KHIueCxyLnksMCxpKSkuYWRkUmVjdGFuZ2xlKHIud2lkdGgsci5oZWlnaHQsci53aWR0aC8yLHIuaGVpZ2h0LzIpO2gmJnMucHVzaChoKX1yZXR1cm4gc30sY2xlYXJUaWxlbWFwTGF5ZXJCb2RpZXM6ZnVuY3Rpb24odCxlKXtlPXQuZ2V0TGF5ZXIoZSk7Zm9yKHZhciBpPXQubGF5ZXJzW2VdLmJvZGllcy5sZW5ndGg7aS0tOyl0LmxheWVyc1tlXS5ib2RpZXNbaV0uZGVzdHJveSgpO3QubGF5ZXJzW2VdLmJvZGllcy5sZW5ndGg9MH0sY29udmVydFRpbGVtYXA6ZnVuY3Rpb24odCxlLGkscyl7ZT10LmdldExheWVyKGUpLHZvaWQgMD09PWkmJihpPSEwKSx2b2lkIDA9PT1zJiYocz0hMCksdGhpcy5jbGVhclRpbGVtYXBMYXllckJvZGllcyh0LGUpO2Zvcih2YXIgbj0wLG89MCxyPTAsYT0wLGg9dC5sYXllcnNbZV0uaGVpZ2h0O2E8aDthKyspe249MDtmb3IodmFyIGw9MCxjPXQubGF5ZXJzW2VdLndpZHRoO2w8YztsKyspe3ZhciB1PXQubGF5ZXJzW2VdLmRhdGFbYV1bbF07aWYodSYmdS5pbmRleD4tMSYmdS5jb2xsaWRlcylpZihzKXt2YXIgZD10LmdldFRpbGVSaWdodChlLGwsYSk7MD09PW4mJihvPXUueCp1LndpZHRoLHI9dS55KnUuaGVpZ2h0LG49dS53aWR0aCksZCYmZC5jb2xsaWRlcz9uKz11LndpZHRoOigocD10aGlzLmNyZWF0ZUJvZHkobyxyLDAsITEpKS5hZGRSZWN0YW5nbGUobix1LmhlaWdodCxuLzIsdS5oZWlnaHQvMiwwKSxpJiZ0aGlzLmFkZEJvZHkocCksdC5sYXllcnNbZV0uYm9kaWVzLnB1c2gocCksbj0wKX1lbHNle3ZhciBwPXRoaXMuY3JlYXRlQm9keSh1LngqdS53aWR0aCx1LnkqdS5oZWlnaHQsMCwhMSk7cC5hZGRSZWN0YW5nbGUodS53aWR0aCx1LmhlaWdodCx1LndpZHRoLzIsdS5oZWlnaHQvMiwwKSxpJiZ0aGlzLmFkZEJvZHkocCksdC5sYXllcnNbZV0uYm9kaWVzLnB1c2gocCl9fX1yZXR1cm4gdC5sYXllcnNbZV0uYm9kaWVzfSxtcHg6ZnVuY3Rpb24odCl7cmV0dXJuIHQqPTIwfSxweG06ZnVuY3Rpb24odCl7cmV0dXJuLjA1KnR9LG1weGk6ZnVuY3Rpb24odCl7cmV0dXJuIHQqPS0yMH0scHhtaTpmdW5jdGlvbih0KXtyZXR1cm4tLjA1KnR9fSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5QaHlzaWNzLlAyLnByb3RvdHlwZSxcImZyaWN0aW9uXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLndvcmxkLmRlZmF1bHRDb250YWN0TWF0ZXJpYWwuZnJpY3Rpb259LHNldDpmdW5jdGlvbih0KXt0aGlzLndvcmxkLmRlZmF1bHRDb250YWN0TWF0ZXJpYWwuZnJpY3Rpb249dH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5QaHlzaWNzLlAyLnByb3RvdHlwZSxcInJlc3RpdHV0aW9uXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLndvcmxkLmRlZmF1bHRDb250YWN0TWF0ZXJpYWwucmVzdGl0dXRpb259LHNldDpmdW5jdGlvbih0KXt0aGlzLndvcmxkLmRlZmF1bHRDb250YWN0TWF0ZXJpYWwucmVzdGl0dXRpb249dH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5QaHlzaWNzLlAyLnByb3RvdHlwZSxcImNvbnRhY3RNYXRlcmlhbFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy53b3JsZC5kZWZhdWx0Q29udGFjdE1hdGVyaWFsfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy53b3JsZC5kZWZhdWx0Q29udGFjdE1hdGVyaWFsPXR9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuUGh5c2ljcy5QMi5wcm90b3R5cGUsXCJhcHBseVNwcmluZ0ZvcmNlc1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy53b3JsZC5hcHBseVNwcmluZ0ZvcmNlc30sc2V0OmZ1bmN0aW9uKHQpe3RoaXMud29ybGQuYXBwbHlTcHJpbmdGb3JjZXM9dH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5QaHlzaWNzLlAyLnByb3RvdHlwZSxcImFwcGx5RGFtcGluZ1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy53b3JsZC5hcHBseURhbXBpbmd9LHNldDpmdW5jdGlvbih0KXt0aGlzLndvcmxkLmFwcGx5RGFtcGluZz10fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLlBoeXNpY3MuUDIucHJvdG90eXBlLFwiYXBwbHlHcmF2aXR5XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLndvcmxkLmFwcGx5R3Jhdml0eX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMud29ybGQuYXBwbHlHcmF2aXR5PXR9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuUGh5c2ljcy5QMi5wcm90b3R5cGUsXCJzb2x2ZUNvbnN0cmFpbnRzXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLndvcmxkLnNvbHZlQ29uc3RyYWludHN9LHNldDpmdW5jdGlvbih0KXt0aGlzLndvcmxkLnNvbHZlQ29uc3RyYWludHM9dH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5QaHlzaWNzLlAyLnByb3RvdHlwZSxcInRpbWVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMud29ybGQudGltZX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5QaHlzaWNzLlAyLnByb3RvdHlwZSxcImVtaXRJbXBhY3RFdmVudFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy53b3JsZC5lbWl0SW1wYWN0RXZlbnR9LHNldDpmdW5jdGlvbih0KXt0aGlzLndvcmxkLmVtaXRJbXBhY3RFdmVudD10fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLlBoeXNpY3MuUDIucHJvdG90eXBlLFwic2xlZXBNb2RlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLndvcmxkLnNsZWVwTW9kZX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMud29ybGQuc2xlZXBNb2RlPXR9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuUGh5c2ljcy5QMi5wcm90b3R5cGUsXCJ0b3RhbFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy53b3JsZC5ib2RpZXMubGVuZ3RofX0pLGkuUGh5c2ljcy5QMi5GaXh0dXJlTGlzdD1mdW5jdGlvbih0KXtBcnJheS5pc0FycmF5KHQpfHwodD1bdF0pLHRoaXMucmF3TGlzdD10LHRoaXMuaW5pdCgpLHRoaXMucGFyc2UodGhpcy5yYXdMaXN0KX0saS5QaHlzaWNzLlAyLkZpeHR1cmVMaXN0LnByb3RvdHlwZT17aW5pdDpmdW5jdGlvbigpe3RoaXMubmFtZWRGaXh0dXJlcz17fSx0aGlzLmdyb3VwZWRGaXh0dXJlcz1bXSx0aGlzLmFsbEZpeHR1cmVzPVtdfSxzZXRDYXRlZ29yeTpmdW5jdGlvbih0LGUpe3RoaXMuZ2V0Rml4dHVyZXMoZSkuZm9yRWFjaChmdW5jdGlvbihlKXtlLmNvbGxpc2lvbkdyb3VwPXR9KX0sc2V0TWFzazpmdW5jdGlvbih0LGUpe3RoaXMuZ2V0Rml4dHVyZXMoZSkuZm9yRWFjaChmdW5jdGlvbihlKXtlLmNvbGxpc2lvbk1hc2s9dH0pfSxzZXRTZW5zb3I6ZnVuY3Rpb24odCxlKXt0aGlzLmdldEZpeHR1cmVzKGUpLmZvckVhY2goZnVuY3Rpb24oZSl7ZS5zZW5zb3I9dH0pfSxzZXRNYXRlcmlhbDpmdW5jdGlvbih0LGUpe3RoaXMuZ2V0Rml4dHVyZXMoZSkuZm9yRWFjaChmdW5jdGlvbihlKXtlLm1hdGVyaWFsPXR9KX0sZ2V0Rml4dHVyZXM6ZnVuY3Rpb24odCl7dmFyIGU9W107aWYodCl7dCBpbnN0YW5jZW9mIEFycmF5fHwodD1bdF0pO3ZhciBpPXRoaXM7cmV0dXJuIHQuZm9yRWFjaChmdW5jdGlvbih0KXtpLm5hbWVkRml4dHVyZXNbdF0mJmUucHVzaChpLm5hbWVkRml4dHVyZXNbdF0pfSksdGhpcy5mbGF0dGVuKGUpfXJldHVybiB0aGlzLmFsbEZpeHR1cmVzfSxnZXRGaXh0dXJlQnlLZXk6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMubmFtZWRGaXh0dXJlc1t0XX0sZ2V0R3JvdXA6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZ3JvdXBlZEZpeHR1cmVzW3RdfSxwYXJzZTpmdW5jdGlvbigpe3ZhciB0LGUsaSxzO2k9dGhpcy5yYXdMaXN0LHM9W107Zm9yKHQgaW4gaSllPWlbdF0saXNOYU4odC0wKT90aGlzLm5hbWVkRml4dHVyZXNbdF09dGhpcy5mbGF0dGVuKGUpOih0aGlzLmdyb3VwZWRGaXh0dXJlc1t0XT10aGlzLmdyb3VwZWRGaXh0dXJlc1t0XXx8W10sdGhpcy5ncm91cGVkRml4dHVyZXNbdF09dGhpcy5ncm91cGVkRml4dHVyZXNbdF0uY29uY2F0KGUpKSxzLnB1c2godGhpcy5hbGxGaXh0dXJlcz10aGlzLmZsYXR0ZW4odGhpcy5ncm91cGVkRml4dHVyZXMpKX0sZmxhdHRlbjpmdW5jdGlvbih0KXt2YXIgZSxpO3JldHVybiBlPVtdLGk9YXJndW1lbnRzLmNhbGxlZSx0LmZvckVhY2goZnVuY3Rpb24odCl7cmV0dXJuIEFycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KGUsQXJyYXkuaXNBcnJheSh0KT9pKHQpOlt0XSl9KSxlfX0saS5QaHlzaWNzLlAyLlBvaW50UHJveHk9ZnVuY3Rpb24odCxlKXt0aGlzLndvcmxkPXQsdGhpcy5kZXN0aW5hdGlvbj1lfSxpLlBoeXNpY3MuUDIuUG9pbnRQcm94eS5wcm90b3R5cGUuY29uc3RydWN0b3I9aS5QaHlzaWNzLlAyLlBvaW50UHJveHksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuUGh5c2ljcy5QMi5Qb2ludFByb3h5LnByb3RvdHlwZSxcInhcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMud29ybGQubXB4KHRoaXMuZGVzdGluYXRpb25bMF0pfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5kZXN0aW5hdGlvblswXT10aGlzLndvcmxkLnB4bSh0KX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5QaHlzaWNzLlAyLlBvaW50UHJveHkucHJvdG90eXBlLFwieVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy53b3JsZC5tcHgodGhpcy5kZXN0aW5hdGlvblsxXSl9LHNldDpmdW5jdGlvbih0KXt0aGlzLmRlc3RpbmF0aW9uWzFdPXRoaXMud29ybGQucHhtKHQpfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLlBoeXNpY3MuUDIuUG9pbnRQcm94eS5wcm90b3R5cGUsXCJteFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kZXN0aW5hdGlvblswXX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuZGVzdGluYXRpb25bMF09dH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5QaHlzaWNzLlAyLlBvaW50UHJveHkucHJvdG90eXBlLFwibXlcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGVzdGluYXRpb25bMV19LHNldDpmdW5jdGlvbih0KXt0aGlzLmRlc3RpbmF0aW9uWzFdPXR9fSksaS5QaHlzaWNzLlAyLkludmVyc2VQb2ludFByb3h5PWZ1bmN0aW9uKHQsZSl7dGhpcy53b3JsZD10LHRoaXMuZGVzdGluYXRpb249ZX0saS5QaHlzaWNzLlAyLkludmVyc2VQb2ludFByb3h5LnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1pLlBoeXNpY3MuUDIuSW52ZXJzZVBvaW50UHJveHksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuUGh5c2ljcy5QMi5JbnZlcnNlUG9pbnRQcm94eS5wcm90b3R5cGUsXCJ4XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLndvcmxkLm1weGkodGhpcy5kZXN0aW5hdGlvblswXSl9LHNldDpmdW5jdGlvbih0KXt0aGlzLmRlc3RpbmF0aW9uWzBdPXRoaXMud29ybGQucHhtaSh0KX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5QaHlzaWNzLlAyLkludmVyc2VQb2ludFByb3h5LnByb3RvdHlwZSxcInlcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMud29ybGQubXB4aSh0aGlzLmRlc3RpbmF0aW9uWzFdKX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuZGVzdGluYXRpb25bMV09dGhpcy53b3JsZC5weG1pKHQpfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLlBoeXNpY3MuUDIuSW52ZXJzZVBvaW50UHJveHkucHJvdG90eXBlLFwibXhcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGVzdGluYXRpb25bMF19LHNldDpmdW5jdGlvbih0KXt0aGlzLmRlc3RpbmF0aW9uWzBdPS10fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLlBoeXNpY3MuUDIuSW52ZXJzZVBvaW50UHJveHkucHJvdG90eXBlLFwibXlcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGVzdGluYXRpb25bMV19LHNldDpmdW5jdGlvbih0KXt0aGlzLmRlc3RpbmF0aW9uWzFdPS10fX0pLGkuUGh5c2ljcy5QMi5Cb2R5PWZ1bmN0aW9uKHQsZSxzLG4sbyl7ZT1lfHxudWxsLHM9c3x8MCxuPW58fDAsdm9pZCAwPT09byYmKG89MSksdGhpcy5nYW1lPXQsdGhpcy53b3JsZD10LnBoeXNpY3MucDIsdGhpcy5zcHJpdGU9ZSx0aGlzLnR5cGU9aS5QaHlzaWNzLlAySlMsdGhpcy5vZmZzZXQ9bmV3IGkuUG9pbnQsdGhpcy5kYXRhPW5ldyBwMi5Cb2R5KHtwb3NpdGlvbjpbdGhpcy53b3JsZC5weG1pKHMpLHRoaXMud29ybGQucHhtaShuKV0sbWFzczpvfSksdGhpcy5kYXRhLnBhcmVudD10aGlzLHRoaXMudmVsb2NpdHk9bmV3IGkuUGh5c2ljcy5QMi5JbnZlcnNlUG9pbnRQcm94eSh0aGlzLndvcmxkLHRoaXMuZGF0YS52ZWxvY2l0eSksdGhpcy5mb3JjZT1uZXcgaS5QaHlzaWNzLlAyLkludmVyc2VQb2ludFByb3h5KHRoaXMud29ybGQsdGhpcy5kYXRhLmZvcmNlKSx0aGlzLmdyYXZpdHk9bmV3IGkuUG9pbnQsdGhpcy5vbkJlZ2luQ29udGFjdD1uZXcgaS5TaWduYWwsdGhpcy5vbkVuZENvbnRhY3Q9bmV3IGkuU2lnbmFsLHRoaXMuY29sbGlkZXNXaXRoPVtdLHRoaXMucmVtb3ZlTmV4dFN0ZXA9ITEsdGhpcy5kZWJ1Z0JvZHk9bnVsbCx0aGlzLmRpcnR5PSExLHRoaXMuX2NvbGxpZGVXb3JsZEJvdW5kcz0hMCx0aGlzLl9ib2R5Q2FsbGJhY2tzPXt9LHRoaXMuX2JvZHlDYWxsYmFja0NvbnRleHQ9e30sdGhpcy5fZ3JvdXBDYWxsYmFja3M9e30sdGhpcy5fZ3JvdXBDYWxsYmFja0NvbnRleHQ9e30sdGhpcy5fcmVzZXQ9ITEsZSYmKHRoaXMuc2V0UmVjdGFuZ2xlRnJvbVNwcml0ZShlKSxlLmV4aXN0cyYmdGhpcy5nYW1lLnBoeXNpY3MucDIuYWRkQm9keSh0aGlzKSl9LGkuUGh5c2ljcy5QMi5Cb2R5LnByb3RvdHlwZT17Y3JlYXRlQm9keUNhbGxiYWNrOmZ1bmN0aW9uKHQsZSxpKXt2YXIgcz0tMTt0LmlkP3M9dC5pZDp0LmJvZHkmJihzPXQuYm9keS5pZCkscz4tMSYmKG51bGw9PT1lPyhkZWxldGUgdGhpcy5fYm9keUNhbGxiYWNrc1tzXSxkZWxldGUgdGhpcy5fYm9keUNhbGxiYWNrQ29udGV4dFtzXSk6KHRoaXMuX2JvZHlDYWxsYmFja3Nbc109ZSx0aGlzLl9ib2R5Q2FsbGJhY2tDb250ZXh0W3NdPWkpKX0sY3JlYXRlR3JvdXBDYWxsYmFjazpmdW5jdGlvbih0LGUsaSl7bnVsbD09PWU/KGRlbGV0ZSB0aGlzLl9ncm91cENhbGxiYWNrc1t0Lm1hc2tdLGRlbGV0ZSB0aGlzLl9ncm91cENhbGxiYWNrQ29udGV4dFt0Lm1hc2tdKToodGhpcy5fZ3JvdXBDYWxsYmFja3NbdC5tYXNrXT1lLHRoaXMuX2dyb3VwQ2FsbGJhY2tDb250ZXh0W3QubWFza109aSl9LGdldENvbGxpc2lvbk1hc2s6ZnVuY3Rpb24oKXt2YXIgdD0wO3RoaXMuX2NvbGxpZGVXb3JsZEJvdW5kcyYmKHQ9dGhpcy5nYW1lLnBoeXNpY3MucDIuYm91bmRzQ29sbGlzaW9uR3JvdXAubWFzayk7Zm9yKHZhciBlPTA7ZTx0aGlzLmNvbGxpZGVzV2l0aC5sZW5ndGg7ZSsrKXR8PXRoaXMuY29sbGlkZXNXaXRoW2VdLm1hc2s7cmV0dXJuIHR9LHVwZGF0ZUNvbGxpc2lvbk1hc2s6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5nZXRDb2xsaXNpb25NYXNrKCk7aWYodm9pZCAwPT09dClmb3IodmFyIGk9dGhpcy5kYXRhLnNoYXBlcy5sZW5ndGgtMTtpPj0wO2ktLSl0aGlzLmRhdGEuc2hhcGVzW2ldLmNvbGxpc2lvbk1hc2s9ZTtlbHNlIHQuY29sbGlzaW9uTWFzaz1lfSxzZXRDb2xsaXNpb25Hcm91cDpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuZ2V0Q29sbGlzaW9uTWFzaygpO2lmKHZvaWQgMD09PWUpZm9yKHZhciBzPXRoaXMuZGF0YS5zaGFwZXMubGVuZ3RoLTE7cz49MDtzLS0pdGhpcy5kYXRhLnNoYXBlc1tzXS5jb2xsaXNpb25Hcm91cD10Lm1hc2ssdGhpcy5kYXRhLnNoYXBlc1tzXS5jb2xsaXNpb25NYXNrPWk7ZWxzZSBlLmNvbGxpc2lvbkdyb3VwPXQubWFzayxlLmNvbGxpc2lvbk1hc2s9aX0sY2xlYXJDb2xsaXNpb246ZnVuY3Rpb24odCxlLGkpe2lmKHZvaWQgMD09PXQmJih0PSEwKSx2b2lkIDA9PT1lJiYoZT0hMCksdm9pZCAwPT09aSlmb3IodmFyIHM9dGhpcy5kYXRhLnNoYXBlcy5sZW5ndGgtMTtzPj0wO3MtLSl0JiYodGhpcy5kYXRhLnNoYXBlc1tzXS5jb2xsaXNpb25Hcm91cD1udWxsKSxlJiYodGhpcy5kYXRhLnNoYXBlc1tzXS5jb2xsaXNpb25NYXNrPW51bGwpO2Vsc2UgdCYmKGkuY29sbGlzaW9uR3JvdXA9bnVsbCksZSYmKGkuY29sbGlzaW9uTWFzaz1udWxsKTt0JiYodGhpcy5jb2xsaWRlc1dpdGgubGVuZ3RoPTApfSxyZW1vdmVDb2xsaXNpb25Hcm91cDpmdW5jdGlvbih0LGUsaSl7dm9pZCAwPT09ZSYmKGU9ITApO3ZhciBzO2lmKEFycmF5LmlzQXJyYXkodCkpZm9yKG89MDtvPHQubGVuZ3RoO28rKykocz10aGlzLmNvbGxpZGVzV2l0aC5pbmRleE9mKHRbb10pKT4tMSYmKHRoaXMuY29sbGlkZXNXaXRoLnNwbGljZShzLDEpLGUmJihkZWxldGUgdGhpcy5fZ3JvdXBDYWxsYmFja3NbdC5tYXNrXSxkZWxldGUgdGhpcy5fZ3JvdXBDYWxsYmFja0NvbnRleHRbdC5tYXNrXSkpO2Vsc2Uocz10aGlzLmNvbGxpZGVzV2l0aC5pbmRleE9mKHQpKT4tMSYmKHRoaXMuY29sbGlkZXNXaXRoLnNwbGljZShzLDEpLGUmJihkZWxldGUgdGhpcy5fZ3JvdXBDYWxsYmFja3NbdC5tYXNrXSxkZWxldGUgdGhpcy5fZ3JvdXBDYWxsYmFja0NvbnRleHRbdC5tYXNrXSkpO3ZhciBuPXRoaXMuZ2V0Q29sbGlzaW9uTWFzaygpO2lmKHZvaWQgMD09PWkpZm9yKHZhciBvPXRoaXMuZGF0YS5zaGFwZXMubGVuZ3RoLTE7bz49MDtvLS0pdGhpcy5kYXRhLnNoYXBlc1tvXS5jb2xsaXNpb25NYXNrPW47ZWxzZSBpLmNvbGxpc2lvbk1hc2s9bn0sY29sbGlkZXM6ZnVuY3Rpb24odCxlLGkscyl7aWYoQXJyYXkuaXNBcnJheSh0KSlmb3Iobz0wO288dC5sZW5ndGg7bysrKS0xPT09dGhpcy5jb2xsaWRlc1dpdGguaW5kZXhPZih0W29dKSYmKHRoaXMuY29sbGlkZXNXaXRoLnB1c2godFtvXSksZSYmdGhpcy5jcmVhdGVHcm91cENhbGxiYWNrKHRbb10sZSxpKSk7ZWxzZS0xPT09dGhpcy5jb2xsaWRlc1dpdGguaW5kZXhPZih0KSYmKHRoaXMuY29sbGlkZXNXaXRoLnB1c2godCksZSYmdGhpcy5jcmVhdGVHcm91cENhbGxiYWNrKHQsZSxpKSk7dmFyIG49dGhpcy5nZXRDb2xsaXNpb25NYXNrKCk7aWYodm9pZCAwPT09cylmb3IodmFyIG89dGhpcy5kYXRhLnNoYXBlcy5sZW5ndGgtMTtvPj0wO28tLSl0aGlzLmRhdGEuc2hhcGVzW29dLmNvbGxpc2lvbk1hc2s9bjtlbHNlIHMuY29sbGlzaW9uTWFzaz1ufSxhZGp1c3RDZW50ZXJPZk1hc3M6ZnVuY3Rpb24oKXt0aGlzLmRhdGEuYWRqdXN0Q2VudGVyT2ZNYXNzKCksdGhpcy5zaGFwZUNoYW5nZWQoKX0sZ2V0VmVsb2NpdHlBdFBvaW50OmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuZGF0YS5nZXRWZWxvY2l0eUF0UG9pbnQodCxlKX0sYXBwbHlEYW1waW5nOmZ1bmN0aW9uKHQpe3RoaXMuZGF0YS5hcHBseURhbXBpbmcodCl9LGFwcGx5SW1wdWxzZTpmdW5jdGlvbih0LGUsaSl7dGhpcy5kYXRhLmFwcGx5SW1wdWxzZSh0LFt0aGlzLndvcmxkLnB4bWkoZSksdGhpcy53b3JsZC5weG1pKGkpXSl9LGFwcGx5SW1wdWxzZUxvY2FsOmZ1bmN0aW9uKHQsZSxpKXt0aGlzLmRhdGEuYXBwbHlJbXB1bHNlTG9jYWwodCxbdGhpcy53b3JsZC5weG1pKGUpLHRoaXMud29ybGQucHhtaShpKV0pfSxhcHBseUZvcmNlOmZ1bmN0aW9uKHQsZSxpKXt0aGlzLmRhdGEuYXBwbHlGb3JjZSh0LFt0aGlzLndvcmxkLnB4bWkoZSksdGhpcy53b3JsZC5weG1pKGkpXSl9LHNldFplcm9Gb3JjZTpmdW5jdGlvbigpe3RoaXMuZGF0YS5zZXRaZXJvRm9yY2UoKX0sc2V0WmVyb1JvdGF0aW9uOmZ1bmN0aW9uKCl7dGhpcy5kYXRhLmFuZ3VsYXJWZWxvY2l0eT0wfSxzZXRaZXJvVmVsb2NpdHk6ZnVuY3Rpb24oKXt0aGlzLmRhdGEudmVsb2NpdHlbMF09MCx0aGlzLmRhdGEudmVsb2NpdHlbMV09MH0sc2V0WmVyb0RhbXBpbmc6ZnVuY3Rpb24oKXt0aGlzLmRhdGEuZGFtcGluZz0wLHRoaXMuZGF0YS5hbmd1bGFyRGFtcGluZz0wfSx0b0xvY2FsRnJhbWU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5kYXRhLnRvTG9jYWxGcmFtZSh0LGUpfSx0b1dvcmxkRnJhbWU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5kYXRhLnRvV29ybGRGcmFtZSh0LGUpfSxyb3RhdGVMZWZ0OmZ1bmN0aW9uKHQpe3RoaXMuZGF0YS5hbmd1bGFyVmVsb2NpdHk9dGhpcy53b3JsZC5weG0oLXQpfSxyb3RhdGVSaWdodDpmdW5jdGlvbih0KXt0aGlzLmRhdGEuYW5ndWxhclZlbG9jaXR5PXRoaXMud29ybGQucHhtKHQpfSxtb3ZlRm9yd2FyZDpmdW5jdGlvbih0KXt2YXIgZT10aGlzLndvcmxkLnB4bWkoLXQpLGk9dGhpcy5kYXRhLmFuZ2xlK01hdGguUEkvMjt0aGlzLmRhdGEudmVsb2NpdHlbMF09ZSpNYXRoLmNvcyhpKSx0aGlzLmRhdGEudmVsb2NpdHlbMV09ZSpNYXRoLnNpbihpKX0sbW92ZUJhY2t3YXJkOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMud29ybGQucHhtaSgtdCksaT10aGlzLmRhdGEuYW5nbGUrTWF0aC5QSS8yO3RoaXMuZGF0YS52ZWxvY2l0eVswXT0tZSpNYXRoLmNvcyhpKSx0aGlzLmRhdGEudmVsb2NpdHlbMV09LWUqTWF0aC5zaW4oaSl9LHRocnVzdDpmdW5jdGlvbih0KXt2YXIgZT10aGlzLndvcmxkLnB4bWkoLXQpLGk9dGhpcy5kYXRhLmFuZ2xlK01hdGguUEkvMjt0aGlzLmRhdGEuZm9yY2VbMF0rPWUqTWF0aC5jb3MoaSksdGhpcy5kYXRhLmZvcmNlWzFdKz1lKk1hdGguc2luKGkpfSx0aHJ1c3RMZWZ0OmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMud29ybGQucHhtaSgtdCksaT10aGlzLmRhdGEuYW5nbGU7dGhpcy5kYXRhLmZvcmNlWzBdKz1lKk1hdGguY29zKGkpLHRoaXMuZGF0YS5mb3JjZVsxXSs9ZSpNYXRoLnNpbihpKX0sdGhydXN0UmlnaHQ6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy53b3JsZC5weG1pKC10KSxpPXRoaXMuZGF0YS5hbmdsZTt0aGlzLmRhdGEuZm9yY2VbMF0tPWUqTWF0aC5jb3MoaSksdGhpcy5kYXRhLmZvcmNlWzFdLT1lKk1hdGguc2luKGkpfSxyZXZlcnNlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMud29ybGQucHhtaSgtdCksaT10aGlzLmRhdGEuYW5nbGUrTWF0aC5QSS8yO3RoaXMuZGF0YS5mb3JjZVswXS09ZSpNYXRoLmNvcyhpKSx0aGlzLmRhdGEuZm9yY2VbMV0tPWUqTWF0aC5zaW4oaSl9LG1vdmVMZWZ0OmZ1bmN0aW9uKHQpe3RoaXMuZGF0YS52ZWxvY2l0eVswXT10aGlzLndvcmxkLnB4bWkoLXQpfSxtb3ZlUmlnaHQ6ZnVuY3Rpb24odCl7dGhpcy5kYXRhLnZlbG9jaXR5WzBdPXRoaXMud29ybGQucHhtaSh0KX0sbW92ZVVwOmZ1bmN0aW9uKHQpe3RoaXMuZGF0YS52ZWxvY2l0eVsxXT10aGlzLndvcmxkLnB4bWkoLXQpfSxtb3ZlRG93bjpmdW5jdGlvbih0KXt0aGlzLmRhdGEudmVsb2NpdHlbMV09dGhpcy53b3JsZC5weG1pKHQpfSxwcmVVcGRhdGU6ZnVuY3Rpb24oKXt0aGlzLmRpcnR5PSEwLHRoaXMucmVtb3ZlTmV4dFN0ZXAmJih0aGlzLnJlbW92ZUZyb21Xb3JsZCgpLHRoaXMucmVtb3ZlTmV4dFN0ZXA9ITEpfSxwb3N0VXBkYXRlOmZ1bmN0aW9uKCl7dGhpcy5zcHJpdGUueD10aGlzLndvcmxkLm1weGkodGhpcy5kYXRhLnBvc2l0aW9uWzBdKSt0aGlzLm9mZnNldC54LHRoaXMuc3ByaXRlLnk9dGhpcy53b3JsZC5tcHhpKHRoaXMuZGF0YS5wb3NpdGlvblsxXSkrdGhpcy5vZmZzZXQueSx0aGlzLmZpeGVkUm90YXRpb258fCh0aGlzLnNwcml0ZS5yb3RhdGlvbj10aGlzLmRhdGEuYW5nbGUpLHRoaXMuZGVidWdCb2R5JiZ0aGlzLmRlYnVnQm9keS51cGRhdGVTcHJpdGVUcmFuc2Zvcm0oKSx0aGlzLmRpcnR5PSExfSxyZXNldDpmdW5jdGlvbih0LGUsaSxzKXt2b2lkIDA9PT1pJiYoaT0hMSksdm9pZCAwPT09cyYmKHM9ITEpLHRoaXMuc2V0WmVyb0ZvcmNlKCksdGhpcy5zZXRaZXJvVmVsb2NpdHkoKSx0aGlzLnNldFplcm9Sb3RhdGlvbigpLGkmJnRoaXMuc2V0WmVyb0RhbXBpbmcoKSxzJiYodGhpcy5tYXNzPTEpLHRoaXMueD10LHRoaXMueT1lfSxhZGRUb1dvcmxkOmZ1bmN0aW9uKCl7aWYodGhpcy5nYW1lLnBoeXNpY3MucDIuX3RvUmVtb3ZlKWZvcih2YXIgdD0wO3Q8dGhpcy5nYW1lLnBoeXNpY3MucDIuX3RvUmVtb3ZlLmxlbmd0aDt0KyspdGhpcy5nYW1lLnBoeXNpY3MucDIuX3RvUmVtb3ZlW3RdPT09dGhpcyYmdGhpcy5nYW1lLnBoeXNpY3MucDIuX3RvUmVtb3ZlLnNwbGljZSh0LDEpO3RoaXMuZGF0YS53b3JsZCE9PXRoaXMuZ2FtZS5waHlzaWNzLnAyLndvcmxkJiZ0aGlzLmdhbWUucGh5c2ljcy5wMi5hZGRCb2R5KHRoaXMpfSxyZW1vdmVGcm9tV29ybGQ6ZnVuY3Rpb24oKXt0aGlzLmRhdGEud29ybGQ9PT10aGlzLmdhbWUucGh5c2ljcy5wMi53b3JsZCYmdGhpcy5nYW1lLnBoeXNpY3MucDIucmVtb3ZlQm9keU5leHRTdGVwKHRoaXMpfSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5yZW1vdmVGcm9tV29ybGQoKSx0aGlzLmNsZWFyU2hhcGVzKCksdGhpcy5fYm9keUNhbGxiYWNrcz17fSx0aGlzLl9ib2R5Q2FsbGJhY2tDb250ZXh0PXt9LHRoaXMuX2dyb3VwQ2FsbGJhY2tzPXt9LHRoaXMuX2dyb3VwQ2FsbGJhY2tDb250ZXh0PXt9LHRoaXMuZGVidWdCb2R5JiZ0aGlzLmRlYnVnQm9keS5kZXN0cm95KCEwLCEwKSx0aGlzLmRlYnVnQm9keT1udWxsLHRoaXMuc3ByaXRlJiYodGhpcy5zcHJpdGUuYm9keT1udWxsLHRoaXMuc3ByaXRlPW51bGwpfSxjbGVhclNoYXBlczpmdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLmRhdGEuc2hhcGVzLmxlbmd0aDt0LS07KXRoaXMuZGF0YS5yZW1vdmVTaGFwZSh0aGlzLmRhdGEuc2hhcGVzW3RdKTt0aGlzLnNoYXBlQ2hhbmdlZCgpfSxhZGRTaGFwZTpmdW5jdGlvbih0LGUsaSxzKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9MCksdm9pZCAwPT09aSYmKGk9MCksdm9pZCAwPT09cyYmKHM9MCksdGhpcy5kYXRhLmFkZFNoYXBlKHQsW3RoaXMud29ybGQucHhtaShlKSx0aGlzLndvcmxkLnB4bWkoaSldLHMpLHRoaXMuc2hhcGVDaGFuZ2VkKCksdH0sYWRkQ2lyY2xlOmZ1bmN0aW9uKHQsZSxpLHMpe3ZhciBuPW5ldyBwMi5DaXJjbGUoe3JhZGl1czp0aGlzLndvcmxkLnB4bSh0KX0pO3JldHVybiB0aGlzLmFkZFNoYXBlKG4sZSxpLHMpfSxhZGRSZWN0YW5nbGU6ZnVuY3Rpb24odCxlLGkscyxuKXt2YXIgbz1uZXcgcDIuQm94KHt3aWR0aDp0aGlzLndvcmxkLnB4bSh0KSxoZWlnaHQ6dGhpcy53b3JsZC5weG0oZSl9KTtyZXR1cm4gdGhpcy5hZGRTaGFwZShvLGkscyxuKX0sYWRkUGxhbmU6ZnVuY3Rpb24odCxlLGkpe3ZhciBzPW5ldyBwMi5QbGFuZTtyZXR1cm4gdGhpcy5hZGRTaGFwZShzLHQsZSxpKX0sYWRkUGFydGljbGU6ZnVuY3Rpb24odCxlLGkpe3ZhciBzPW5ldyBwMi5QYXJ0aWNsZTtyZXR1cm4gdGhpcy5hZGRTaGFwZShzLHQsZSxpKX0sYWRkTGluZTpmdW5jdGlvbih0LGUsaSxzKXt2YXIgbj1uZXcgcDIuTGluZSh7bGVuZ3RoOnRoaXMud29ybGQucHhtKHQpfSk7cmV0dXJuIHRoaXMuYWRkU2hhcGUobixlLGkscyl9LGFkZENhcHN1bGU6ZnVuY3Rpb24odCxlLGkscyxuKXt2YXIgbz1uZXcgcDIuQ2Fwc3VsZSh7bGVuZ3RoOnRoaXMud29ybGQucHhtKHQpLHJhZGl1czp0aGlzLndvcmxkLnB4bShlKX0pO3JldHVybiB0aGlzLmFkZFNoYXBlKG8saSxzLG4pfSxhZGRQb2x5Z29uOmZ1bmN0aW9uKHQsZSl7dD10fHx7fSxBcnJheS5pc0FycmF5KGUpfHwoZT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSkpO3ZhciBpPVtdO2lmKDE9PT1lLmxlbmd0aCYmQXJyYXkuaXNBcnJheShlWzBdKSlpPWVbMF0uc2xpY2UoMCk7ZWxzZSBpZihBcnJheS5pc0FycmF5KGVbMF0pKWk9ZS5zbGljZSgpO2Vsc2UgaWYoXCJudW1iZXJcIj09dHlwZW9mIGVbMF0pZm9yKHZhciBzPTAsbj1lLmxlbmd0aDtzPG47cys9MilpLnB1c2goW2Vbc10sZVtzKzFdXSk7dmFyIG89aS5sZW5ndGgtMTtpW29dWzBdPT09aVswXVswXSYmaVtvXVsxXT09PWlbMF1bMV0mJmkucG9wKCk7Zm9yKHZhciByPTA7cjxpLmxlbmd0aDtyKyspaVtyXVswXT10aGlzLndvcmxkLnB4bWkoaVtyXVswXSksaVtyXVsxXT10aGlzLndvcmxkLnB4bWkoaVtyXVsxXSk7dmFyIGE9dGhpcy5kYXRhLmZyb21Qb2x5Z29uKGksdCk7cmV0dXJuIHRoaXMuc2hhcGVDaGFuZ2VkKCksYX0scmVtb3ZlU2hhcGU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5kYXRhLnJlbW92ZVNoYXBlKHQpO3JldHVybiB0aGlzLnNoYXBlQ2hhbmdlZCgpLGV9LHNldENpcmNsZTpmdW5jdGlvbih0LGUsaSxzKXtyZXR1cm4gdGhpcy5jbGVhclNoYXBlcygpLHRoaXMuYWRkQ2lyY2xlKHQsZSxpLHMpfSxzZXRSZWN0YW5nbGU6ZnVuY3Rpb24odCxlLGkscyxuKXtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9MTYpLHZvaWQgMD09PWUmJihlPTE2KSx0aGlzLmNsZWFyU2hhcGVzKCksdGhpcy5hZGRSZWN0YW5nbGUodCxlLGkscyxuKX0sc2V0UmVjdGFuZ2xlRnJvbVNwcml0ZTpmdW5jdGlvbih0KXtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9dGhpcy5zcHJpdGUpLHRoaXMuY2xlYXJTaGFwZXMoKSx0aGlzLmFkZFJlY3RhbmdsZSh0LndpZHRoLHQuaGVpZ2h0LDAsMCx0LnJvdGF0aW9uKX0sc2V0TWF0ZXJpYWw6ZnVuY3Rpb24odCxlKXtpZih2b2lkIDA9PT1lKWZvcih2YXIgaT10aGlzLmRhdGEuc2hhcGVzLmxlbmd0aC0xO2k+PTA7aS0tKXRoaXMuZGF0YS5zaGFwZXNbaV0ubWF0ZXJpYWw9dDtlbHNlIGUubWF0ZXJpYWw9dH0sc2hhcGVDaGFuZ2VkOmZ1bmN0aW9uKCl7dGhpcy5kZWJ1Z0JvZHkmJnRoaXMuZGVidWdCb2R5LmRyYXcoKX0sYWRkUGhhc2VyUG9seWdvbjpmdW5jdGlvbih0LGUpe2Zvcih2YXIgaT10aGlzLmdhbWUuY2FjaGUuZ2V0UGh5c2ljc0RhdGEodCxlKSxzPVtdLG49MDtuPGkubGVuZ3RoO24rKyl7dmFyIG89aVtuXSxyPXRoaXMuYWRkRml4dHVyZShvKTtzW28uZmlsdGVyLmdyb3VwXT1zW28uZmlsdGVyLmdyb3VwXXx8W10sc1tvLmZpbHRlci5ncm91cF09c1tvLmZpbHRlci5ncm91cF0uY29uY2F0KHIpLG8uZml4dHVyZUtleSYmKHNbby5maXh0dXJlS2V5XT1yKX1yZXR1cm4gdGhpcy5kYXRhLmFhYmJOZWVkc1VwZGF0ZT0hMCx0aGlzLnNoYXBlQ2hhbmdlZCgpLHN9LGFkZEZpeHR1cmU6ZnVuY3Rpb24odCl7dmFyIGU9W107aWYodC5jaXJjbGUpeyhsPW5ldyBwMi5DaXJjbGUoe3JhZGl1czp0aGlzLndvcmxkLnB4bSh0LmNpcmNsZS5yYWRpdXMpfSkpLmNvbGxpc2lvbkdyb3VwPXQuZmlsdGVyLmNhdGVnb3J5Qml0cyxsLmNvbGxpc2lvbk1hc2s9dC5maWx0ZXIubWFza0JpdHMsbC5zZW5zb3I9dC5pc1NlbnNvcjt2YXIgaT1wMi52ZWMyLmNyZWF0ZSgpO2lbMF09dGhpcy53b3JsZC5weG1pKHQuY2lyY2xlLnBvc2l0aW9uWzBdLXRoaXMuc3ByaXRlLndpZHRoLzIpLGlbMV09dGhpcy53b3JsZC5weG1pKHQuY2lyY2xlLnBvc2l0aW9uWzFdLXRoaXMuc3ByaXRlLmhlaWdodC8yKSx0aGlzLmRhdGEuYWRkU2hhcGUobCxpKSxlLnB1c2gobCl9ZWxzZSBmb3IodmFyIHM9dC5wb2x5Z29ucyxuPXAyLnZlYzIuY3JlYXRlKCksbz0wO288cy5sZW5ndGg7bysrKXtmb3IodmFyIHI9c1tvXSxhPVtdLGg9MDtoPHIubGVuZ3RoO2grPTIpYS5wdXNoKFt0aGlzLndvcmxkLnB4bWkocltoXSksdGhpcy53b3JsZC5weG1pKHJbaCsxXSldKTtmb3IodmFyIGw9bmV3IHAyLkNvbnZleCh7dmVydGljZXM6YX0pLGM9MDtjIT09bC52ZXJ0aWNlcy5sZW5ndGg7YysrKXt2YXIgdT1sLnZlcnRpY2VzW2NdO3AyLnZlYzIuc3ViKHUsdSxsLmNlbnRlck9mTWFzcyl9cDIudmVjMi5zY2FsZShuLGwuY2VudGVyT2ZNYXNzLDEpLG5bMF0tPXRoaXMud29ybGQucHhtaSh0aGlzLnNwcml0ZS53aWR0aC8yKSxuWzFdLT10aGlzLndvcmxkLnB4bWkodGhpcy5zcHJpdGUuaGVpZ2h0LzIpLGwudXBkYXRlVHJpYW5nbGVzKCksbC51cGRhdGVDZW50ZXJPZk1hc3MoKSxsLnVwZGF0ZUJvdW5kaW5nUmFkaXVzKCksbC5jb2xsaXNpb25Hcm91cD10LmZpbHRlci5jYXRlZ29yeUJpdHMsbC5jb2xsaXNpb25NYXNrPXQuZmlsdGVyLm1hc2tCaXRzLGwuc2Vuc29yPXQuaXNTZW5zb3IsdGhpcy5kYXRhLmFkZFNoYXBlKGwsbiksZS5wdXNoKGwpfXJldHVybiBlfSxsb2FkUG9seWdvbjpmdW5jdGlvbih0LGUsaSl7aWYobnVsbD09PXQpcz1lO2Vsc2UgdmFyIHM9dGhpcy5nYW1lLmNhY2hlLmdldFBoeXNpY3NEYXRhKHQsZSk7XCJudW1iZXJcIiE9dHlwZW9mIGkmJihpPTEpO2Zvcih2YXIgbj1wMi52ZWMyLmNyZWF0ZSgpLG89MDtvPHMubGVuZ3RoO28rKyl7Zm9yKHZhciByPVtdLGE9MDthPHNbb10uc2hhcGUubGVuZ3RoO2ErPTIpci5wdXNoKFt0aGlzLndvcmxkLnB4bWkoc1tvXS5zaGFwZVthXSppKSx0aGlzLndvcmxkLnB4bWkoc1tvXS5zaGFwZVthKzFdKmkpXSk7Zm9yKHZhciBoPW5ldyBwMi5Db252ZXgoe3ZlcnRpY2VzOnJ9KSxsPTA7bCE9PWgudmVydGljZXMubGVuZ3RoO2wrKyl7dmFyIGM9aC52ZXJ0aWNlc1tsXTtwMi52ZWMyLnN1YihjLGMsaC5jZW50ZXJPZk1hc3MpfXAyLnZlYzIuc2NhbGUobixoLmNlbnRlck9mTWFzcywxKSxuWzBdLT10aGlzLndvcmxkLnB4bWkodGhpcy5zcHJpdGUud2lkdGgvMiksblsxXS09dGhpcy53b3JsZC5weG1pKHRoaXMuc3ByaXRlLmhlaWdodC8yKSxoLnVwZGF0ZVRyaWFuZ2xlcygpLGgudXBkYXRlQ2VudGVyT2ZNYXNzKCksaC51cGRhdGVCb3VuZGluZ1JhZGl1cygpLHRoaXMuZGF0YS5hZGRTaGFwZShoLG4pfXJldHVybiB0aGlzLmRhdGEuYWFiYk5lZWRzVXBkYXRlPSEwLHRoaXMuc2hhcGVDaGFuZ2VkKCksITB9fSxpLlBoeXNpY3MuUDIuQm9keS5wcm90b3R5cGUuY29uc3RydWN0b3I9aS5QaHlzaWNzLlAyLkJvZHksaS5QaHlzaWNzLlAyLkJvZHkuRFlOQU1JQz0xLGkuUGh5c2ljcy5QMi5Cb2R5LlNUQVRJQz0yLGkuUGh5c2ljcy5QMi5Cb2R5LktJTkVNQVRJQz00LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLlBoeXNpY3MuUDIuQm9keS5wcm90b3R5cGUsXCJzdGF0aWNcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGF0YS50eXBlPT09aS5QaHlzaWNzLlAyLkJvZHkuU1RBVElDfSxzZXQ6ZnVuY3Rpb24odCl7dCYmdGhpcy5kYXRhLnR5cGUhPT1pLlBoeXNpY3MuUDIuQm9keS5TVEFUSUM/KHRoaXMuZGF0YS50eXBlPWkuUGh5c2ljcy5QMi5Cb2R5LlNUQVRJQyx0aGlzLm1hc3M9MCk6dHx8dGhpcy5kYXRhLnR5cGUhPT1pLlBoeXNpY3MuUDIuQm9keS5TVEFUSUN8fCh0aGlzLmRhdGEudHlwZT1pLlBoeXNpY3MuUDIuQm9keS5EWU5BTUlDLHRoaXMubWFzcz0xKX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5QaHlzaWNzLlAyLkJvZHkucHJvdG90eXBlLFwiZHluYW1pY1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kYXRhLnR5cGU9PT1pLlBoeXNpY3MuUDIuQm9keS5EWU5BTUlDfSxzZXQ6ZnVuY3Rpb24odCl7dCYmdGhpcy5kYXRhLnR5cGUhPT1pLlBoeXNpY3MuUDIuQm9keS5EWU5BTUlDPyh0aGlzLmRhdGEudHlwZT1pLlBoeXNpY3MuUDIuQm9keS5EWU5BTUlDLHRoaXMubWFzcz0xKTp0fHx0aGlzLmRhdGEudHlwZSE9PWkuUGh5c2ljcy5QMi5Cb2R5LkRZTkFNSUN8fCh0aGlzLmRhdGEudHlwZT1pLlBoeXNpY3MuUDIuQm9keS5TVEFUSUMsdGhpcy5tYXNzPTApfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLlBoeXNpY3MuUDIuQm9keS5wcm90b3R5cGUsXCJraW5lbWF0aWNcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGF0YS50eXBlPT09aS5QaHlzaWNzLlAyLkJvZHkuS0lORU1BVElDfSxzZXQ6ZnVuY3Rpb24odCl7dCYmdGhpcy5kYXRhLnR5cGUhPT1pLlBoeXNpY3MuUDIuQm9keS5LSU5FTUFUSUM/KHRoaXMuZGF0YS50eXBlPWkuUGh5c2ljcy5QMi5Cb2R5LktJTkVNQVRJQyx0aGlzLm1hc3M9NCk6dHx8dGhpcy5kYXRhLnR5cGUhPT1pLlBoeXNpY3MuUDIuQm9keS5LSU5FTUFUSUN8fCh0aGlzLmRhdGEudHlwZT1pLlBoeXNpY3MuUDIuQm9keS5TVEFUSUMsdGhpcy5tYXNzPTApfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLlBoeXNpY3MuUDIuQm9keS5wcm90b3R5cGUsXCJhbGxvd1NsZWVwXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRhdGEuYWxsb3dTbGVlcH0sc2V0OmZ1bmN0aW9uKHQpe3QhPT10aGlzLmRhdGEuYWxsb3dTbGVlcCYmKHRoaXMuZGF0YS5hbGxvd1NsZWVwPXQpfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLlBoeXNpY3MuUDIuQm9keS5wcm90b3R5cGUsXCJhbmdsZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaS5NYXRoLndyYXBBbmdsZShpLk1hdGgucmFkVG9EZWcodGhpcy5kYXRhLmFuZ2xlKSl9LHNldDpmdW5jdGlvbih0KXt0aGlzLmRhdGEuYW5nbGU9aS5NYXRoLmRlZ1RvUmFkKGkuTWF0aC53cmFwQW5nbGUodCkpfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLlBoeXNpY3MuUDIuQm9keS5wcm90b3R5cGUsXCJhbmd1bGFyRGFtcGluZ1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kYXRhLmFuZ3VsYXJEYW1waW5nfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5kYXRhLmFuZ3VsYXJEYW1waW5nPXR9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuUGh5c2ljcy5QMi5Cb2R5LnByb3RvdHlwZSxcImFuZ3VsYXJGb3JjZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kYXRhLmFuZ3VsYXJGb3JjZX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuZGF0YS5hbmd1bGFyRm9yY2U9dH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5QaHlzaWNzLlAyLkJvZHkucHJvdG90eXBlLFwiYW5ndWxhclZlbG9jaXR5XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRhdGEuYW5ndWxhclZlbG9jaXR5fSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5kYXRhLmFuZ3VsYXJWZWxvY2l0eT10fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLlBoeXNpY3MuUDIuQm9keS5wcm90b3R5cGUsXCJkYW1waW5nXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRhdGEuZGFtcGluZ30sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuZGF0YS5kYW1waW5nPXR9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuUGh5c2ljcy5QMi5Cb2R5LnByb3RvdHlwZSxcImZpeGVkUm90YXRpb25cIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGF0YS5maXhlZFJvdGF0aW9ufSxzZXQ6ZnVuY3Rpb24odCl7dCE9PXRoaXMuZGF0YS5maXhlZFJvdGF0aW9uJiYodGhpcy5kYXRhLmZpeGVkUm90YXRpb249dCl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuUGh5c2ljcy5QMi5Cb2R5LnByb3RvdHlwZSxcImluZXJ0aWFcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGF0YS5pbmVydGlhfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5kYXRhLmluZXJ0aWE9dH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5QaHlzaWNzLlAyLkJvZHkucHJvdG90eXBlLFwibWFzc1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kYXRhLm1hc3N9LHNldDpmdW5jdGlvbih0KXt0IT09dGhpcy5kYXRhLm1hc3MmJih0aGlzLmRhdGEubWFzcz10LHRoaXMuZGF0YS51cGRhdGVNYXNzUHJvcGVydGllcygpKX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5QaHlzaWNzLlAyLkJvZHkucHJvdG90eXBlLFwibW90aW9uU3RhdGVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGF0YS50eXBlfSxzZXQ6ZnVuY3Rpb24odCl7dCE9PXRoaXMuZGF0YS50eXBlJiYodGhpcy5kYXRhLnR5cGU9dCl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuUGh5c2ljcy5QMi5Cb2R5LnByb3RvdHlwZSxcInJvdGF0aW9uXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRhdGEuYW5nbGV9LHNldDpmdW5jdGlvbih0KXt0aGlzLmRhdGEuYW5nbGU9dH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5QaHlzaWNzLlAyLkJvZHkucHJvdG90eXBlLFwic2xlZXBTcGVlZExpbWl0XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRhdGEuc2xlZXBTcGVlZExpbWl0fSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5kYXRhLnNsZWVwU3BlZWRMaW1pdD10fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLlBoeXNpY3MuUDIuQm9keS5wcm90b3R5cGUsXCJ4XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLndvcmxkLm1weGkodGhpcy5kYXRhLnBvc2l0aW9uWzBdKX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuZGF0YS5wb3NpdGlvblswXT10aGlzLndvcmxkLnB4bWkodCl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuUGh5c2ljcy5QMi5Cb2R5LnByb3RvdHlwZSxcInlcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMud29ybGQubXB4aSh0aGlzLmRhdGEucG9zaXRpb25bMV0pfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5kYXRhLnBvc2l0aW9uWzFdPXRoaXMud29ybGQucHhtaSh0KX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5QaHlzaWNzLlAyLkJvZHkucHJvdG90eXBlLFwiaWRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGF0YS5pZH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5QaHlzaWNzLlAyLkJvZHkucHJvdG90eXBlLFwiZGVidWdcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG51bGwhPT10aGlzLmRlYnVnQm9keX0sc2V0OmZ1bmN0aW9uKHQpe3QmJiF0aGlzLmRlYnVnQm9keT90aGlzLmRlYnVnQm9keT1uZXcgaS5QaHlzaWNzLlAyLkJvZHlEZWJ1Zyh0aGlzLmdhbWUsdGhpcy5kYXRhKTohdCYmdGhpcy5kZWJ1Z0JvZHkmJih0aGlzLmRlYnVnQm9keS5kZXN0cm95KCksdGhpcy5kZWJ1Z0JvZHk9bnVsbCl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuUGh5c2ljcy5QMi5Cb2R5LnByb3RvdHlwZSxcImNvbGxpZGVXb3JsZEJvdW5kc1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY29sbGlkZVdvcmxkQm91bmRzfSxzZXQ6ZnVuY3Rpb24odCl7dCYmIXRoaXMuX2NvbGxpZGVXb3JsZEJvdW5kcz8odGhpcy5fY29sbGlkZVdvcmxkQm91bmRzPSEwLHRoaXMudXBkYXRlQ29sbGlzaW9uTWFzaygpKTohdCYmdGhpcy5fY29sbGlkZVdvcmxkQm91bmRzJiYodGhpcy5fY29sbGlkZVdvcmxkQm91bmRzPSExLHRoaXMudXBkYXRlQ29sbGlzaW9uTWFzaygpKX19KSxpLlBoeXNpY3MuUDIuQm9keURlYnVnPWZ1bmN0aW9uKHQsZSxzKXtpLkdyb3VwLmNhbGwodGhpcyx0KTt2YXIgbj17cGl4ZWxzUGVyTGVuZ3RoVW5pdDp0LnBoeXNpY3MucDIubXB4KDEpLGRlYnVnUG9seWdvbnM6ITEsbGluZVdpZHRoOjEsYWxwaGE6LjV9O3RoaXMuc2V0dGluZ3M9T2JqZWN0LmFzc2lnbihuLHMpLHRoaXMucHB1PXRoaXMuc2V0dGluZ3MucGl4ZWxzUGVyTGVuZ3RoVW5pdCx0aGlzLnBwdT0tMSp0aGlzLnBwdSx0aGlzLmJvZHk9ZSx0aGlzLmNhbnZhcz1uZXcgaS5HcmFwaGljcyh0KSx0aGlzLmNhbnZhcy5hbHBoYT10aGlzLnNldHRpbmdzLmFscGhhLHRoaXMuYWRkKHRoaXMuY2FudmFzKSx0aGlzLmRyYXcoKSx0aGlzLnVwZGF0ZVNwcml0ZVRyYW5zZm9ybSgpfSxpLlBoeXNpY3MuUDIuQm9keURlYnVnLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGkuR3JvdXAucHJvdG90eXBlKSxpLlBoeXNpY3MuUDIuQm9keURlYnVnLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1pLlBoeXNpY3MuUDIuQm9keURlYnVnLE9iamVjdC5hc3NpZ24oaS5QaHlzaWNzLlAyLkJvZHlEZWJ1Zy5wcm90b3R5cGUse3VwZGF0ZVNwcml0ZVRyYW5zZm9ybTpmdW5jdGlvbigpe3RoaXMucG9zaXRpb24ueD10aGlzLmJvZHkucG9zaXRpb25bMF0qdGhpcy5wcHUsdGhpcy5wb3NpdGlvbi55PXRoaXMuYm9keS5wb3NpdGlvblsxXSp0aGlzLnBwdSx0aGlzLnJvdGF0aW9uPXRoaXMuYm9keS5hbmdsZX0sZHJhdzpmdW5jdGlvbigpe3ZhciB0LGUsaSxzLG4sbyxyLGEsaCxsLGMsdSxkLHA7aWYocj10aGlzLmJvZHksKGg9dGhpcy5jYW52YXMpLmNsZWFyKCksaT1wYXJzZUludCh0aGlzLnJhbmRvbVBhc3RlbEhleCgpLDE2KSwxNjcxMTY4MCxvPXRoaXMubGluZVdpZHRoLHIgaW5zdGFuY2VvZiBwMi5Cb2R5JiZyLnNoYXBlcy5sZW5ndGgpe3ZhciBmPXIuc2hhcGVzLmxlbmd0aDtmb3Iocz0wO3MhPT1mOyl7aWYoZT1yLnNoYXBlc1tzXSxhPWUucG9zaXRpb258fDAsdD1lLmFuZ2xlfHwwLGUgaW5zdGFuY2VvZiBwMi5DaXJjbGUpdGhpcy5kcmF3Q2lyY2xlKGgsYVswXSp0aGlzLnBwdSxhWzFdKnRoaXMucHB1LHQsZS5yYWRpdXMqdGhpcy5wcHUsaSxvKTtlbHNlIGlmKGUgaW5zdGFuY2VvZiBwMi5DYXBzdWxlKXRoaXMuZHJhd0NhcHN1bGUoaCxhWzBdKnRoaXMucHB1LGFbMV0qdGhpcy5wcHUsdCxlLmxlbmd0aCp0aGlzLnBwdSxlLnJhZGl1cyp0aGlzLnBwdSwxNjcxMTY4MCxpLG8pO2Vsc2UgaWYoZSBpbnN0YW5jZW9mIHAyLlBsYW5lKXRoaXMuZHJhd1BsYW5lKGgsYVswXSp0aGlzLnBwdSwtYVsxXSp0aGlzLnBwdSxpLDE2NzExNjgwLDUqbywxMCpvLDEwKm8sMTAwKnRoaXMucHB1LHQpO2Vsc2UgaWYoZSBpbnN0YW5jZW9mIHAyLkxpbmUpdGhpcy5kcmF3TGluZShoLGUubGVuZ3RoKnRoaXMucHB1LDE2NzExNjgwLG8pO2Vsc2UgaWYoZSBpbnN0YW5jZW9mIHAyLkJveCl0aGlzLmRyYXdSZWN0YW5nbGUoaCxhWzBdKnRoaXMucHB1LGFbMV0qdGhpcy5wcHUsdCxlLndpZHRoKnRoaXMucHB1LGUuaGVpZ2h0KnRoaXMucHB1LDE2NzExNjgwLGksbyk7ZWxzZSBpZihlIGluc3RhbmNlb2YgcDIuQ29udmV4KXtmb3IoYz1bXSx1PXAyLnZlYzIuY3JlYXRlKCksbj1kPTAscD1lLnZlcnRpY2VzLmxlbmd0aDswPD1wP2Q8cDpkPnA7bj0wPD1wPysrZDotLWQpbD1lLnZlcnRpY2VzW25dLHAyLnZlYzIucm90YXRlKHUsbCx0KSxjLnB1c2goWyh1WzBdK2FbMF0pKnRoaXMucHB1LC0odVsxXSthWzFdKSp0aGlzLnBwdV0pO3RoaXMuZHJhd0NvbnZleChoLGMsZS50cmlhbmdsZXMsMTY3MTE2ODAsaSxvLHRoaXMuc2V0dGluZ3MuZGVidWdQb2x5Z29ucyxbYVswXSp0aGlzLnBwdSwtYVsxXSp0aGlzLnBwdV0pfXMrK319fSxkcmF3UmVjdGFuZ2xlOmZ1bmN0aW9uKHQsZSxpLHMsbixvLHIsYSxoKXt2b2lkIDA9PT1oJiYoaD0xKSx2b2lkIDA9PT1yJiYocj0wKSx0LmxpbmVTdHlsZShoLHIsMSksdC5iZWdpbkZpbGwoYSksdC5kcmF3UmVjdChlLW4vMixpLW8vMixuLG8pfSxkcmF3Q2lyY2xlOmZ1bmN0aW9uKHQsZSxpLHMsbixvLHIpe3ZvaWQgMD09PXImJihyPTEpLHZvaWQgMD09PW8mJihvPTE2Nzc3MjE1KSx0LmxpbmVTdHlsZShyLDAsMSksdC5iZWdpbkZpbGwobywxKSx0LmRyYXdDaXJjbGUoZSxpLDIqLW4pLHQuZW5kRmlsbCgpLHQubW92ZVRvKGUsaSksdC5saW5lVG8oZStuKk1hdGguY29zKC1zKSxpK24qTWF0aC5zaW4oLXMpKX0sZHJhd0xpbmU6ZnVuY3Rpb24odCxlLGkscyl7dm9pZCAwPT09cyYmKHM9MSksdm9pZCAwPT09aSYmKGk9MCksdC5saW5lU3R5bGUoNSpzLGksMSksdC5tb3ZlVG8oLWUvMiwwKSx0LmxpbmVUbyhlLzIsMCl9LGRyYXdDb252ZXg6ZnVuY3Rpb24odCxlLGkscyxuLG8scixhKXt2YXIgaCxsLGMsdSxkLHAsZixtLGcseSx2O2lmKHZvaWQgMD09PW8mJihvPTEpLHZvaWQgMD09PXMmJihzPTApLHIpe2ZvcihoPVsxNjcxMTY4MCw2NTI4MCwyNTVdLGw9MDtsIT09ZS5sZW5ndGgrMTspdT1lW2wlZS5sZW5ndGhdLGQ9ZVsobCsxKSVlLmxlbmd0aF0sZj11WzBdLHk9dVsxXSxtPWRbMF0sdj1kWzFdLHQubGluZVN0eWxlKG8saFtsJWgubGVuZ3RoXSwxKSx0Lm1vdmVUbyhmLC15KSx0LmxpbmVUbyhtLC12KSx0LmRyYXdDaXJjbGUoZiwteSwyKm8pLGwrKztyZXR1cm4gdC5saW5lU3R5bGUobywwLDEpLHQuZHJhd0NpcmNsZShhWzBdLGFbMV0sMipvKX1mb3IodC5saW5lU3R5bGUobyxzLDEpLHQuYmVnaW5GaWxsKG4pLGw9MDtsIT09ZS5sZW5ndGg7KXA9KGM9ZVtsXSlbMF0sZz1jWzFdLDA9PT1sP3QubW92ZVRvKHAsLWcpOnQubGluZVRvKHAsLWcpLGwrKztpZih0LmVuZEZpbGwoKSxlLmxlbmd0aD4yKXJldHVybiB0Lm1vdmVUbyhlW2UubGVuZ3RoLTFdWzBdLC1lW2UubGVuZ3RoLTFdWzFdKSx0LmxpbmVUbyhlWzBdWzBdLC1lWzBdWzFdKX0sZHJhd1BhdGg6ZnVuY3Rpb24odCxlLGkscyxuKXt2YXIgbyxyLGEsaCxsLGMsdSxkLHAsZixtO2Zvcih2b2lkIDA9PT1uJiYobj0xKSx2b2lkIDA9PT1pJiYoaT0wKSx0LmxpbmVTdHlsZShuLGksMSksXCJudW1iZXJcIj09dHlwZW9mIHMmJnQuYmVnaW5GaWxsKHMpLHI9bnVsbCxhPW51bGwsbz0wO288ZS5sZW5ndGg7KWY9KHA9ZVtvXSlbMF0sbT1wWzFdLGY9PT1yJiZtPT09YXx8KDA9PT1vP3QubW92ZVRvKGYsbSk6KGg9cixsPWEsYz1mLHU9bSxkPWVbKG8rMSklZS5sZW5ndGhdWzBdLDAhPT0oYy1oKSooZVsobysxKSVlLmxlbmd0aF1bMV0tbCktKGQtaCkqKHUtbCkmJnQubGluZVRvKGYsbSkpLHI9ZixhPW0pLG8rKztcIm51bWJlclwiPT10eXBlb2YgcyYmdC5lbmRGaWxsKCksZS5sZW5ndGg+MiYmXCJudW1iZXJcIj09dHlwZW9mIHMmJih0Lm1vdmVUbyhlW2UubGVuZ3RoLTFdWzBdLGVbZS5sZW5ndGgtMV1bMV0pLHQubGluZVRvKGVbMF1bMF0sZVswXVsxXSkpfSxkcmF3UGxhbmU6ZnVuY3Rpb24odCxlLGkscyxuLG8scixhLGgsbCl7dmFyIGMsdTt2b2lkIDA9PT1vJiYobz0xKSx2b2lkIDA9PT1zJiYocz0xNjc3NzIxNSksdC5saW5lU3R5bGUobyxuLDExKSx0LmJlZ2luRmlsbChzKSx0Lm1vdmVUbyhlLC1pKSxjPWUrTWF0aC5jb3MobCkqdGhpcy5nYW1lLndpZHRoLHU9aStNYXRoLnNpbihsKSp0aGlzLmdhbWUuaGVpZ2h0LHQubGluZVRvKGMsLXUpLHQubW92ZVRvKGUsLWkpLGM9ZStNYXRoLmNvcyhsKSotdGhpcy5nYW1lLndpZHRoLHU9aStNYXRoLnNpbihsKSotdGhpcy5nYW1lLmhlaWdodCx0LmxpbmVUbyhjLC11KX0sZHJhd0NhcHN1bGU6ZnVuY3Rpb24odCxlLGkscyxuLG8scixhLGgpe3ZvaWQgMD09PWgmJihoPTEpLHZvaWQgMD09PXImJihyPTApLHQubGluZVN0eWxlKGgsciwxKTt2YXIgbD1NYXRoLmNvcyhzKSxjPU1hdGguc2luKHMpO3QuYmVnaW5GaWxsKGEsMSksdC5kcmF3Q2lyY2xlKC1uLzIqbCtlLC1uLzIqYytpLDIqLW8pLHQuZHJhd0NpcmNsZShuLzIqbCtlLG4vMipjK2ksMiotbyksdC5lbmRGaWxsKCksdC5saW5lU3R5bGUoaCxyLDApLHQuYmVnaW5GaWxsKGEsMSksdC5tb3ZlVG8oLW4vMipsK28qYytlLC1uLzIqYytvKmwraSksdC5saW5lVG8obi8yKmwrbypjK2Usbi8yKmMrbypsK2kpLHQubGluZVRvKG4vMipsLW8qYytlLG4vMipjLW8qbCtpKSx0LmxpbmVUbygtbi8yKmwtbypjK2UsLW4vMipjLW8qbCtpKSx0LmVuZEZpbGwoKSx0LmxpbmVTdHlsZShoLHIsMSksdC5tb3ZlVG8oLW4vMipsK28qYytlLC1uLzIqYytvKmwraSksdC5saW5lVG8obi8yKmwrbypjK2Usbi8yKmMrbypsK2kpLHQubW92ZVRvKC1uLzIqbC1vKmMrZSwtbi8yKmMtbypsK2kpLHQubGluZVRvKG4vMipsLW8qYytlLG4vMipjLW8qbCtpKX0scmFuZG9tUGFzdGVsSGV4OmZ1bmN0aW9uKCl7dmFyIHQsZSxpLHM7cmV0dXJuIGk9WzI1NSwyNTUsMjU1XSxzPU1hdGguZmxvb3IoMjU2Kk1hdGgucmFuZG9tKCkpLGU9TWF0aC5mbG9vcigyNTYqTWF0aC5yYW5kb20oKSksdD1NYXRoLmZsb29yKDI1NipNYXRoLnJhbmRvbSgpKSxzPU1hdGguZmxvb3IoKHMrMyppWzBdKS80KSxlPU1hdGguZmxvb3IoKGUrMyppWzFdKS80KSx0PU1hdGguZmxvb3IoKHQrMyppWzJdKS80KSx0aGlzLnJnYlRvSGV4KHMsZSx0KX0scmdiVG9IZXg6ZnVuY3Rpb24odCxlLGkpe3JldHVybiB0aGlzLmNvbXBvbmVudFRvSGV4KHQpK3RoaXMuY29tcG9uZW50VG9IZXgoZSkrdGhpcy5jb21wb25lbnRUb0hleChpKX0sY29tcG9uZW50VG9IZXg6ZnVuY3Rpb24odCl7dmFyIGU7cmV0dXJuIDI9PT0oZT10LnRvU3RyaW5nKDE2KSkubGVuZ3RoP2U6ZStcIjBcIn19KSxpLlBoeXNpY3MuUDIuU3ByaW5nPWZ1bmN0aW9uKHQsZSxpLHMsbixvLHIsYSxoLGwpe3RoaXMuZ2FtZT10LmdhbWUsdGhpcy53b3JsZD10LHZvaWQgMD09PXMmJihzPTEpLHZvaWQgMD09PW4mJihuPTEwMCksdm9pZCAwPT09byYmKG89MSk7dmFyIGM9e3Jlc3RMZW5ndGg6cz10LnB4bShzKSxzdGlmZm5lc3M6bixkYW1waW5nOm99O3ZvaWQgMCE9PXImJm51bGwhPT1yJiYoYy53b3JsZEFuY2hvckE9W3QucHhtKHJbMF0pLHQucHhtKHJbMV0pXSksdm9pZCAwIT09YSYmbnVsbCE9PWEmJihjLndvcmxkQW5jaG9yQj1bdC5weG0oYVswXSksdC5weG0oYVsxXSldKSx2b2lkIDAhPT1oJiZudWxsIT09aCYmKGMubG9jYWxBbmNob3JBPVt0LnB4bShoWzBdKSx0LnB4bShoWzFdKV0pLHZvaWQgMCE9PWwmJm51bGwhPT1sJiYoYy5sb2NhbEFuY2hvckI9W3QucHhtKGxbMF0pLHQucHhtKGxbMV0pXSksdGhpcy5kYXRhPW5ldyBwMi5MaW5lYXJTcHJpbmcoZSxpLGMpLHRoaXMuZGF0YS5wYXJlbnQ9dGhpc30saS5QaHlzaWNzLlAyLlNwcmluZy5wcm90b3R5cGUuY29uc3RydWN0b3I9aS5QaHlzaWNzLlAyLlNwcmluZyxpLlBoeXNpY3MuUDIuUm90YXRpb25hbFNwcmluZz1mdW5jdGlvbih0LGUsaSxzLG4sbyl7dGhpcy5nYW1lPXQuZ2FtZSx0aGlzLndvcmxkPXQsdm9pZCAwPT09cyYmKHM9bnVsbCksdm9pZCAwPT09biYmKG49MTAwKSx2b2lkIDA9PT1vJiYobz0xKSxzJiYocz10LnB4bShzKSk7dmFyIHI9e3Jlc3RBbmdsZTpzLHN0aWZmbmVzczpuLGRhbXBpbmc6b307dGhpcy5kYXRhPW5ldyBwMi5Sb3RhdGlvbmFsU3ByaW5nKGUsaSxyKSx0aGlzLmRhdGEucGFyZW50PXRoaXN9LGkuUGh5c2ljcy5QMi5TcHJpbmcucHJvdG90eXBlLmNvbnN0cnVjdG9yPWkuUGh5c2ljcy5QMi5TcHJpbmcsaS5QaHlzaWNzLlAyLk1hdGVyaWFsPWZ1bmN0aW9uKHQpe3RoaXMubmFtZT10LHAyLk1hdGVyaWFsLmNhbGwodGhpcyl9LGkuUGh5c2ljcy5QMi5NYXRlcmlhbC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShwMi5NYXRlcmlhbC5wcm90b3R5cGUpLGkuUGh5c2ljcy5QMi5NYXRlcmlhbC5wcm90b3R5cGUuY29uc3RydWN0b3I9aS5QaHlzaWNzLlAyLk1hdGVyaWFsLGkuUGh5c2ljcy5QMi5Db250YWN0TWF0ZXJpYWw9ZnVuY3Rpb24odCxlLGkpe3AyLkNvbnRhY3RNYXRlcmlhbC5jYWxsKHRoaXMsdCxlLGkpfSxpLlBoeXNpY3MuUDIuQ29udGFjdE1hdGVyaWFsLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHAyLkNvbnRhY3RNYXRlcmlhbC5wcm90b3R5cGUpLGkuUGh5c2ljcy5QMi5Db250YWN0TWF0ZXJpYWwucHJvdG90eXBlLmNvbnN0cnVjdG9yPWkuUGh5c2ljcy5QMi5Db250YWN0TWF0ZXJpYWwsaS5QaHlzaWNzLlAyLkNvbGxpc2lvbkdyb3VwPWZ1bmN0aW9uKHQpe3RoaXMubWFzaz10fSxpLlBoeXNpY3MuUDIuRGlzdGFuY2VDb25zdHJhaW50PWZ1bmN0aW9uKHQsZSxpLHMsbixvLHIpe3ZvaWQgMD09PXMmJihzPTEwMCksdm9pZCAwPT09biYmKG49WzAsMF0pLHZvaWQgMD09PW8mJihvPVswLDBdKSx2b2lkIDA9PT1yJiYocj1OdW1iZXIuTUFYX1ZBTFVFKSx0aGlzLmdhbWU9dC5nYW1lLHRoaXMud29ybGQ9dDt2YXIgYT17ZGlzdGFuY2U6cz10LnB4bShzKSxsb2NhbEFuY2hvckE6bj1bdC5weG1pKG5bMF0pLHQucHhtaShuWzFdKV0sbG9jYWxBbmNob3JCOm89W3QucHhtaShvWzBdKSx0LnB4bWkob1sxXSldLG1heEZvcmNlOnJ9O3AyLkRpc3RhbmNlQ29uc3RyYWludC5jYWxsKHRoaXMsZSxpLGEpfSxpLlBoeXNpY3MuUDIuRGlzdGFuY2VDb25zdHJhaW50LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHAyLkRpc3RhbmNlQ29uc3RyYWludC5wcm90b3R5cGUpLGkuUGh5c2ljcy5QMi5EaXN0YW5jZUNvbnN0cmFpbnQucHJvdG90eXBlLmNvbnN0cnVjdG9yPWkuUGh5c2ljcy5QMi5EaXN0YW5jZUNvbnN0cmFpbnQsaS5QaHlzaWNzLlAyLkdlYXJDb25zdHJhaW50PWZ1bmN0aW9uKHQsZSxpLHMsbil7dm9pZCAwPT09cyYmKHM9MCksdm9pZCAwPT09biYmKG49MSksdGhpcy5nYW1lPXQuZ2FtZSx0aGlzLndvcmxkPXQ7dmFyIG89e2FuZ2xlOnMscmF0aW86bn07cDIuR2VhckNvbnN0cmFpbnQuY2FsbCh0aGlzLGUsaSxvKX0saS5QaHlzaWNzLlAyLkdlYXJDb25zdHJhaW50LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHAyLkdlYXJDb25zdHJhaW50LnByb3RvdHlwZSksaS5QaHlzaWNzLlAyLkdlYXJDb25zdHJhaW50LnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1pLlBoeXNpY3MuUDIuR2VhckNvbnN0cmFpbnQsaS5QaHlzaWNzLlAyLkxvY2tDb25zdHJhaW50PWZ1bmN0aW9uKHQsZSxpLHMsbixvKXt2b2lkIDA9PT1zJiYocz1bMCwwXSksdm9pZCAwPT09biYmKG49MCksdm9pZCAwPT09byYmKG89TnVtYmVyLk1BWF9WQUxVRSksdGhpcy5nYW1lPXQuZ2FtZSx0aGlzLndvcmxkPXQ7dmFyIHI9e2xvY2FsT2Zmc2V0QjpzPVt0LnB4bShzWzBdKSx0LnB4bShzWzFdKV0sbG9jYWxBbmdsZUI6bixtYXhGb3JjZTpvfTtwMi5Mb2NrQ29uc3RyYWludC5jYWxsKHRoaXMsZSxpLHIpfSxpLlBoeXNpY3MuUDIuTG9ja0NvbnN0cmFpbnQucHJvdG90eXBlPU9iamVjdC5jcmVhdGUocDIuTG9ja0NvbnN0cmFpbnQucHJvdG90eXBlKSxpLlBoeXNpY3MuUDIuTG9ja0NvbnN0cmFpbnQucHJvdG90eXBlLmNvbnN0cnVjdG9yPWkuUGh5c2ljcy5QMi5Mb2NrQ29uc3RyYWludCxpLlBoeXNpY3MuUDIuUHJpc21hdGljQ29uc3RyYWludD1mdW5jdGlvbih0LGUsaSxzLG4sbyxyLGEpe3ZvaWQgMD09PXMmJihzPSEwKSx2b2lkIDA9PT1uJiYobj1bMCwwXSksdm9pZCAwPT09byYmKG89WzAsMF0pLHZvaWQgMD09PXImJihyPVswLDBdKSx2b2lkIDA9PT1hJiYoYT1OdW1iZXIuTUFYX1ZBTFVFKSx0aGlzLmdhbWU9dC5nYW1lLHRoaXMud29ybGQ9dDt2YXIgaD17bG9jYWxBbmNob3JBOm49W3QucHhtaShuWzBdKSx0LnB4bWkoblsxXSldLGxvY2FsQW5jaG9yQjpvPVt0LnB4bWkob1swXSksdC5weG1pKG9bMV0pXSxsb2NhbEF4aXNBOnIsbWF4Rm9yY2U6YSxkaXNhYmxlUm90YXRpb25hbExvY2s6IXN9O3AyLlByaXNtYXRpY0NvbnN0cmFpbnQuY2FsbCh0aGlzLGUsaSxoKX0saS5QaHlzaWNzLlAyLlByaXNtYXRpY0NvbnN0cmFpbnQucHJvdG90eXBlPU9iamVjdC5jcmVhdGUocDIuUHJpc21hdGljQ29uc3RyYWludC5wcm90b3R5cGUpLGkuUGh5c2ljcy5QMi5QcmlzbWF0aWNDb25zdHJhaW50LnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1pLlBoeXNpY3MuUDIuUHJpc21hdGljQ29uc3RyYWludCxpLlBoeXNpY3MuUDIuUmV2b2x1dGVDb25zdHJhaW50PWZ1bmN0aW9uKHQsZSxpLHMsbixvLHIpe3ZvaWQgMD09PW8mJihvPU51bWJlci5NQVhfVkFMVUUpLHZvaWQgMD09PXImJihyPW51bGwpLHRoaXMuZ2FtZT10LmdhbWUsdGhpcy53b3JsZD10LGk9W3QucHhtaShpWzBdKSx0LnB4bWkoaVsxXSldLG49W3QucHhtaShuWzBdKSx0LnB4bWkoblsxXSldLHImJihyPVt0LnB4bWkoclswXSksdC5weG1pKHJbMV0pXSk7dmFyIGE9e3dvcmxkUGl2b3Q6cixsb2NhbFBpdm90QTppLGxvY2FsUGl2b3RCOm4sbWF4Rm9yY2U6b307cDIuUmV2b2x1dGVDb25zdHJhaW50LmNhbGwodGhpcyxlLHMsYSl9LGkuUGh5c2ljcy5QMi5SZXZvbHV0ZUNvbnN0cmFpbnQucHJvdG90eXBlPU9iamVjdC5jcmVhdGUocDIuUmV2b2x1dGVDb25zdHJhaW50LnByb3RvdHlwZSksaS5QaHlzaWNzLlAyLlJldm9sdXRlQ29uc3RyYWludC5wcm90b3R5cGUuY29uc3RydWN0b3I9aS5QaHlzaWNzLlAyLlJldm9sdXRlQ29uc3RyYWludCxpLkltYWdlQ29sbGVjdGlvbj1mdW5jdGlvbih0LGUsaSxzLG4sbyxyKXsodm9pZCAwPT09aXx8aTw9MCkmJihpPTMyKSwodm9pZCAwPT09c3x8czw9MCkmJihzPTMyKSx2b2lkIDA9PT1uJiYobj0wKSx2b2lkIDA9PT1vJiYobz0wKSx0aGlzLm5hbWU9dCx0aGlzLmZpcnN0Z2lkPTB8ZSx0aGlzLmltYWdlV2lkdGg9MHxpLHRoaXMuaW1hZ2VIZWlnaHQ9MHxzLHRoaXMuaW1hZ2VNYXJnaW49MHxuLHRoaXMuaW1hZ2VTcGFjaW5nPTB8byx0aGlzLnByb3BlcnRpZXM9cnx8e30sdGhpcy5pbWFnZXM9W10sdGhpcy50b3RhbD0wfSxpLkltYWdlQ29sbGVjdGlvbi5wcm90b3R5cGU9e2NvbnRhaW5zSW1hZ2VJbmRleDpmdW5jdGlvbih0KXtyZXR1cm4gdD49dGhpcy5maXJzdGdpZCYmdDx0aGlzLmZpcnN0Z2lkK3RoaXMudG90YWx9LGFkZEltYWdlOmZ1bmN0aW9uKHQsZSl7dGhpcy5pbWFnZXMucHVzaCh7Z2lkOnQsaW1hZ2U6ZX0pLHRoaXMudG90YWwrK319LGkuSW1hZ2VDb2xsZWN0aW9uLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1pLkltYWdlQ29sbGVjdGlvbixpLlRpbGU9ZnVuY3Rpb24odCxlLGkscyxuLG8pe3RoaXMubGF5ZXI9dCx0aGlzLmluZGV4PWUsdGhpcy54PWksdGhpcy55PXMsdGhpcy5yb3RhdGlvbj0wLHRoaXMuZmxpcHBlZD0hMSx0aGlzLndvcmxkWD1pKm4sdGhpcy53b3JsZFk9cypvLHRoaXMud2lkdGg9bix0aGlzLmhlaWdodD1vLHRoaXMuY2VudGVyWD1NYXRoLmFicyhuLzIpLHRoaXMuY2VudGVyWT1NYXRoLmFicyhvLzIpLHRoaXMuYWxwaGE9MSx0aGlzLnByb3BlcnRpZXM9e30sdGhpcy5zY2FubmVkPSExLHRoaXMuZmFjZVRvcD0hMSx0aGlzLmZhY2VCb3R0b209ITEsdGhpcy5mYWNlTGVmdD0hMSx0aGlzLmZhY2VSaWdodD0hMSx0aGlzLmNvbGxpZGVMZWZ0PSExLHRoaXMuY29sbGlkZVJpZ2h0PSExLHRoaXMuY29sbGlkZVVwPSExLHRoaXMuY29sbGlkZURvd249ITEsdGhpcy5jb2xsaXNpb25DYWxsYmFjaz1udWxsLHRoaXMuY29sbGlzaW9uQ2FsbGJhY2tDb250ZXh0PXRoaXN9LGkuVGlsZS5wcm90b3R5cGU9e2NvbnRhaW5zUG9pbnQ6ZnVuY3Rpb24odCxlKXtyZXR1cm4hKHQ8dGhpcy53b3JsZFh8fGU8dGhpcy53b3JsZFl8fHQ+dGhpcy5yaWdodHx8ZT50aGlzLmJvdHRvbSl9LGludGVyc2VjdHM6ZnVuY3Rpb24odCxlLGkscyl7cmV0dXJuIShpPD10aGlzLndvcmxkWCkmJighKHM8PXRoaXMud29ybGRZKSYmKCEodD49dGhpcy53b3JsZFgrdGhpcy53aWR0aCkmJiEoZT49dGhpcy53b3JsZFkrdGhpcy5oZWlnaHQpKSl9LHNldENvbGxpc2lvbkNhbGxiYWNrOmZ1bmN0aW9uKHQsZSl7dGhpcy5jb2xsaXNpb25DYWxsYmFjaz10LHRoaXMuY29sbGlzaW9uQ2FsbGJhY2tDb250ZXh0PWV9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLmNvbGxpc2lvbkNhbGxiYWNrPW51bGwsdGhpcy5jb2xsaXNpb25DYWxsYmFja0NvbnRleHQ9bnVsbCx0aGlzLnByb3BlcnRpZXM9bnVsbH0sc2V0Q29sbGlzaW9uOmZ1bmN0aW9uKHQsZSxpLHMpe3RoaXMuY29sbGlkZUxlZnQ9dCx0aGlzLmNvbGxpZGVSaWdodD1lLHRoaXMuY29sbGlkZVVwPWksdGhpcy5jb2xsaWRlRG93bj1zLHRoaXMuZmFjZUxlZnQ9dCx0aGlzLmZhY2VSaWdodD1lLHRoaXMuZmFjZVRvcD1pLHRoaXMuZmFjZUJvdHRvbT1zfSxyZXNldENvbGxpc2lvbjpmdW5jdGlvbigpe3RoaXMuY29sbGlkZUxlZnQ9ITEsdGhpcy5jb2xsaWRlUmlnaHQ9ITEsdGhpcy5jb2xsaWRlVXA9ITEsdGhpcy5jb2xsaWRlRG93bj0hMSx0aGlzLmZhY2VUb3A9ITEsdGhpcy5mYWNlQm90dG9tPSExLHRoaXMuZmFjZUxlZnQ9ITEsdGhpcy5mYWNlUmlnaHQ9ITF9LGlzSW50ZXJlc3Rpbmc6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdCYmZT90aGlzLmNvbGxpZGVMZWZ0fHx0aGlzLmNvbGxpZGVSaWdodHx8dGhpcy5jb2xsaWRlVXB8fHRoaXMuY29sbGlkZURvd258fHRoaXMuZmFjZVRvcHx8dGhpcy5mYWNlQm90dG9tfHx0aGlzLmZhY2VMZWZ0fHx0aGlzLmZhY2VSaWdodHx8dGhpcy5jb2xsaXNpb25DYWxsYmFjazp0P3RoaXMuY29sbGlkZUxlZnR8fHRoaXMuY29sbGlkZVJpZ2h0fHx0aGlzLmNvbGxpZGVVcHx8dGhpcy5jb2xsaWRlRG93bjohIWUmJih0aGlzLmZhY2VUb3B8fHRoaXMuZmFjZUJvdHRvbXx8dGhpcy5mYWNlTGVmdHx8dGhpcy5mYWNlUmlnaHQpfSxjb3B5OmZ1bmN0aW9uKHQpe3RoaXMuaW5kZXg9dC5pbmRleCx0aGlzLmFscGhhPXQuYWxwaGEsdGhpcy5wcm9wZXJ0aWVzPXQucHJvcGVydGllcyx0aGlzLmNvbGxpZGVVcD10LmNvbGxpZGVVcCx0aGlzLmNvbGxpZGVEb3duPXQuY29sbGlkZURvd24sdGhpcy5jb2xsaWRlTGVmdD10LmNvbGxpZGVMZWZ0LHRoaXMuY29sbGlkZVJpZ2h0PXQuY29sbGlkZVJpZ2h0LHRoaXMuY29sbGlzaW9uQ2FsbGJhY2s9dC5jb2xsaXNpb25DYWxsYmFjayx0aGlzLmNvbGxpc2lvbkNhbGxiYWNrQ29udGV4dD10LmNvbGxpc2lvbkNhbGxiYWNrQ29udGV4dH19LGkuVGlsZS5wcm90b3R5cGUuY29uc3RydWN0b3I9aS5UaWxlLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLlRpbGUucHJvdG90eXBlLFwiY29sbGlkZXNcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29sbGlkZUxlZnR8fHRoaXMuY29sbGlkZVJpZ2h0fHx0aGlzLmNvbGxpZGVVcHx8dGhpcy5jb2xsaWRlRG93bn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5UaWxlLnByb3RvdHlwZSxcImNhbkNvbGxpZGVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29sbGlkZUxlZnR8fHRoaXMuY29sbGlkZVJpZ2h0fHx0aGlzLmNvbGxpZGVVcHx8dGhpcy5jb2xsaWRlRG93bnx8dGhpcy5jb2xsaXNpb25DYWxsYmFja319KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5UaWxlLnByb3RvdHlwZSxcImxlZnRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMud29ybGRYfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLlRpbGUucHJvdG90eXBlLFwicmlnaHRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMud29ybGRYK3RoaXMud2lkdGh9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuVGlsZS5wcm90b3R5cGUsXCJ0b3BcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMud29ybGRZfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLlRpbGUucHJvdG90eXBlLFwiYm90dG9tXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLndvcmxkWSt0aGlzLmhlaWdodH19KSxpLlRpbGVtYXA9ZnVuY3Rpb24odCxlLHMsbixvLHIpe3RoaXMuZ2FtZT10LHRoaXMua2V5PWU7dmFyIGE9aS5UaWxlbWFwUGFyc2VyLnBhcnNlKHRoaXMuZ2FtZSxlLHMsbixvLHIpO251bGwhPT1hJiYodGhpcy53aWR0aD1hLndpZHRoLHRoaXMuaGVpZ2h0PWEuaGVpZ2h0LHRoaXMudGlsZVdpZHRoPWEudGlsZVdpZHRoLHRoaXMudGlsZUhlaWdodD1hLnRpbGVIZWlnaHQsdGhpcy5vcmllbnRhdGlvbj1hLm9yaWVudGF0aW9uLHRoaXMuZm9ybWF0PWEuZm9ybWF0LHRoaXMudmVyc2lvbj1hLnZlcnNpb24sdGhpcy5wcm9wZXJ0aWVzPWEucHJvcGVydGllcyx0aGlzLndpZHRoSW5QaXhlbHM9YS53aWR0aEluUGl4ZWxzLHRoaXMuaGVpZ2h0SW5QaXhlbHM9YS5oZWlnaHRJblBpeGVscyx0aGlzLmxheWVycz1hLmxheWVycyx0aGlzLnRpbGVzZXRzPWEudGlsZXNldHMsdGhpcy5pbWFnZWNvbGxlY3Rpb25zPWEuaW1hZ2Vjb2xsZWN0aW9ucyx0aGlzLnRpbGVzPWEudGlsZXMsdGhpcy5vYmplY3RzPWEub2JqZWN0cyx0aGlzLmNvbGxpZGVJbmRleGVzPVtdLHRoaXMuY29sbGlzaW9uPWEuY29sbGlzaW9uLHRoaXMuaW1hZ2VzPWEuaW1hZ2VzLHRoaXMuZW5hYmxlRGVidWc9ITEsdGhpcy5jdXJyZW50TGF5ZXI9MCx0aGlzLmRlYnVnTWFwPVtdLHRoaXMuX3Jlc3VsdHM9W10sdGhpcy5fdGVtcEE9MCx0aGlzLl90ZW1wQj0wKX0saS5UaWxlbWFwLkNTVj0wLGkuVGlsZW1hcC5USUxFRF9KU09OPTEsaS5UaWxlbWFwLk5PUlRIPTAsaS5UaWxlbWFwLkVBU1Q9MSxpLlRpbGVtYXAuU09VVEg9MixpLlRpbGVtYXAuV0VTVD0zLGkuVGlsZW1hcC5wcm90b3R5cGU9e2NyZWF0ZTpmdW5jdGlvbih0LGUsaSxzLG4sbyl7cmV0dXJuIHZvaWQgMD09PW8mJihvPXRoaXMuZ2FtZS53b3JsZCksdGhpcy53aWR0aD1lLHRoaXMuaGVpZ2h0PWksdGhpcy5zZXRUaWxlU2l6ZShzLG4pLHRoaXMubGF5ZXJzLmxlbmd0aD0wLHRoaXMuY3JlYXRlQmxhbmtMYXllcih0LGUsaSxzLG4sbyl9LHNldFRpbGVTaXplOmZ1bmN0aW9uKHQsZSl7dGhpcy50aWxlV2lkdGg9dCx0aGlzLnRpbGVIZWlnaHQ9ZSx0aGlzLndpZHRoSW5QaXhlbHM9dGhpcy53aWR0aCp0LHRoaXMuaGVpZ2h0SW5QaXhlbHM9dGhpcy5oZWlnaHQqZX0sYWRkVGlsZXNldEltYWdlOmZ1bmN0aW9uKHQsZSxzLG4sbyxyLGEpe2lmKHZvaWQgMD09PXQpcmV0dXJuIG51bGw7dm9pZCAwPT09cyYmKHM9dGhpcy50aWxlV2lkdGgpLHZvaWQgMD09PW4mJihuPXRoaXMudGlsZUhlaWdodCksdm9pZCAwPT09byYmKG89MCksdm9pZCAwPT09ciYmKHI9MCksdm9pZCAwPT09YSYmKGE9MCksMD09PXMmJihzPTMyKSwwPT09biYmKG49MzIpO3ZhciBoPW51bGw7aWYodm9pZCAwIT09ZSYmbnVsbCE9PWV8fChlPXQpLGUgaW5zdGFuY2VvZiBpLkJpdG1hcERhdGEpaD1lLmNhbnZhcztlbHNle2lmKCF0aGlzLmdhbWUuY2FjaGUuY2hlY2tJbWFnZUtleShlKSlyZXR1cm4gY29uc29sZS53YXJuKCdQaGFzZXIuVGlsZW1hcC5hZGRUaWxlc2V0SW1hZ2U6IEludmFsaWQgaW1hZ2Uga2V5IGdpdmVuOiBcIicrZSsnXCInKSxudWxsO2g9dGhpcy5nYW1lLmNhY2hlLmdldEltYWdlKGUpfXZhciBsPXRoaXMuZ2V0VGlsZXNldEluZGV4KHQpO2lmKG51bGw9PT1sJiZ0aGlzLmZvcm1hdD09PWkuVGlsZW1hcC5USUxFRF9KU09OKXJldHVybiBjb25zb2xlLndhcm4oJ1BoYXNlci5UaWxlbWFwLmFkZFRpbGVzZXRJbWFnZTogTm8gZGF0YSBmb3VuZCBpbiB0aGUgSlNPTiBtYXRjaGluZyB0aGUgdGlsZXNldCBuYW1lOiBcIicrdCsnXCInKSxjb25zb2xlLmxvZyhcIlRpbGVzZXRzOiBcIix0aGlzLnRpbGVzZXRzKSxudWxsO2lmKHRoaXMudGlsZXNldHNbbF0pcmV0dXJuIHRoaXMudGlsZXNldHNbbF0uc2V0SW1hZ2UoaCksdGhpcy50aWxlc2V0c1tsXTt2YXIgYz1uZXcgaS5UaWxlc2V0KHQsYSxzLG4sbyxyLHt9KTtjLnNldEltYWdlKGgpLHRoaXMudGlsZXNldHMucHVzaChjKTtmb3IodmFyIHU9dGhpcy50aWxlc2V0cy5sZW5ndGgtMSxkPW8scD1vLGY9MCxtPTAsZz0wLHk9YTt5PGErYy50b3RhbCYmKHRoaXMudGlsZXNbeV09W2QscCx1XSxkKz1zK3IsKytmIT09Yy50b3RhbCkmJigrK20hPT1jLmNvbHVtbnN8fChkPW8scCs9bityLG09MCwrK2chPT1jLnJvd3MpKTt5KyspO3JldHVybiBjfSxjcmVhdGVGcm9tT2JqZWN0czpmdW5jdGlvbih0LGUscyxuLG8scixhLGgsbCxjKXtpZih2b2lkIDA9PT1vJiYobz0hMCksdm9pZCAwPT09ciYmKHI9ITEpLHZvaWQgMD09PWEmJihhPXRoaXMuZ2FtZS53b3JsZCksdm9pZCAwPT09aCYmKGg9aS5TcHJpdGUpLHZvaWQgMD09PWwmJihsPSEwKSx2b2lkIDA9PT1jJiYoYz0hMCksIXRoaXMub2JqZWN0c1t0XSlyZXR1cm4gY29uc29sZS53YXJuKFwiVGlsZW1hcC5jcmVhdGVGcm9tT2JqZWN0czogSW52YWxpZCBvYmplY3Rncm91cCBuYW1lIGdpdmVuOiBcIit0KSx2b2lkIGNvbnNvbGUubG9nKFwiT2JqZWN0czogXCIsdGhpcy5vYmplY3RzKTtmb3IodmFyIHU9MDt1PHRoaXMub2JqZWN0c1t0XS5sZW5ndGg7dSsrKXt2YXIgZD0hMSxwPXRoaXMub2JqZWN0c1t0XVt1XTtpZih2b2lkIDAhPT1wLmdpZCYmXCJudW1iZXJcIj09dHlwZW9mIGUmJnAuZ2lkPT09ZT9kPSEwOnZvaWQgMCE9PXAuaWQmJlwibnVtYmVyXCI9PXR5cGVvZiBlJiZwLmlkPT09ZT9kPSEwOnZvaWQgMCE9PXAubmFtZSYmXCJzdHJpbmdcIj09dHlwZW9mIGUmJnAubmFtZT09PWUmJihkPSEwKSxkKXt2YXIgZj1uZXcgaCh0aGlzLmdhbWUscGFyc2VGbG9hdChwLngsMTApLHBhcnNlRmxvYXQocC55LDEwKSxzLG4pO2YubmFtZT1wLm5hbWUsZi5hdXRvQ3VsbD1yLGYuZXhpc3RzPW8sZi52aXNpYmxlPXAudmlzaWJsZSxjJiYocC53aWR0aCYmKGYud2lkdGg9cC53aWR0aCkscC5oZWlnaHQmJihmLmhlaWdodD1wLmhlaWdodCkpLHAucm90YXRpb24mJihmLmFuZ2xlPXAucm90YXRpb24pLGwmJihmLnktPWYuaGVpZ2h0KSxhLmFkZChmKTtmb3IodmFyIG0gaW4gcC5wcm9wZXJ0aWVzKWEuc2V0KGYsbSxwLnByb3BlcnRpZXNbbV0sITEsITEsMCwhMCl9fX0sY3JlYXRlRnJvbVRpbGVzOmZ1bmN0aW9uKHQsZSxzLG4sbyxyKXtcIm51bWJlclwiPT10eXBlb2YgdCYmKHQ9W3RdKSx2b2lkIDA9PT1lfHxudWxsPT09ZT9lPVtdOlwibnVtYmVyXCI9PXR5cGVvZiBlJiYoZT1bZV0pLG49dGhpcy5nZXRMYXllcihuKSx2b2lkIDA9PT1vJiYobz10aGlzLmdhbWUud29ybGQpLHZvaWQgMD09PXImJihyPXt9KSx2b2lkIDA9PT1yLmN1c3RvbUNsYXNzJiYoci5jdXN0b21DbGFzcz1pLlNwcml0ZSksdm9pZCAwPT09ci5hZGp1c3RZJiYoci5hZGp1c3RZPSEwKTt2YXIgYT10aGlzLmxheWVyc1tuXS53aWR0aCxoPXRoaXMubGF5ZXJzW25dLmhlaWdodDtpZih0aGlzLmNvcHkoMCwwLGEsaCxuKSx0aGlzLl9yZXN1bHRzLmxlbmd0aDwyKXJldHVybiAwO2Zvcih2YXIgbCxjPTAsdT0xLGQ9dGhpcy5fcmVzdWx0cy5sZW5ndGg7dTxkO3UrKylpZigtMSE9PXQuaW5kZXhPZih0aGlzLl9yZXN1bHRzW3VdLmluZGV4KSl7bD1uZXcgci5jdXN0b21DbGFzcyh0aGlzLmdhbWUsdGhpcy5fcmVzdWx0c1t1XS53b3JsZFgsdGhpcy5fcmVzdWx0c1t1XS53b3JsZFkscyk7Zm9yKHZhciBwIGluIHIpbFtwXT1yW3BdO28uYWRkKGwpLGMrK31pZigxPT09ZS5sZW5ndGgpZm9yKHU9MDt1PHQubGVuZ3RoO3UrKyl0aGlzLnJlcGxhY2UodFt1XSxlWzBdLDAsMCxhLGgsbik7ZWxzZSBpZihlLmxlbmd0aD4xKWZvcih1PTA7dTx0Lmxlbmd0aDt1KyspdGhpcy5yZXBsYWNlKHRbdV0sZVt1XSwwLDAsYSxoLG4pO3JldHVybiBjfSxjcmVhdGVMYXllcjpmdW5jdGlvbih0LGUscyxuKXt2b2lkIDA9PT1lJiYoZT10aGlzLmdhbWUud2lkdGgpLHZvaWQgMD09PXMmJihzPXRoaXMuZ2FtZS5oZWlnaHQpLHZvaWQgMD09PW4mJihuPXRoaXMuZ2FtZS53b3JsZCk7dmFyIG89dDtpZihcInN0cmluZ1wiPT10eXBlb2YgdCYmKG89dGhpcy5nZXRMYXllckluZGV4KHQpKSxudWxsPT09b3x8bz50aGlzLmxheWVycy5sZW5ndGgpcmV0dXJuIGNvbnNvbGUud2FybignVGlsZW1hcC5jcmVhdGVMYXllcjogSW52YWxpZCBsYXllciBJRCBnaXZlbjogXCInK3QrJ1wiJyksdm9pZCBjb25zb2xlLmxvZyhcIkxheWVyczogXCIsdGhpcy5sYXllcnMpO3ZvaWQgMD09PWV8fGU8PTA/ZT1NYXRoLm1pbih0aGlzLmdhbWUud2lkdGgsdGhpcy5sYXllcnNbb10ud2lkdGhJblBpeGVscyk6ZT50aGlzLmdhbWUud2lkdGgmJihlPXRoaXMuZ2FtZS53aWR0aCksdm9pZCAwPT09c3x8czw9MD9zPU1hdGgubWluKHRoaXMuZ2FtZS5oZWlnaHQsdGhpcy5sYXllcnNbb10uaGVpZ2h0SW5QaXhlbHMpOnM+dGhpcy5nYW1lLmhlaWdodCYmKHM9dGhpcy5nYW1lLmhlaWdodCksdGhpcy5lbmFibGVEZWJ1ZyYmKGNvbnNvbGUuZ3JvdXAoXCJUaWxlbWFwLmNyZWF0ZUxheWVyXCIpLGNvbnNvbGUubG9nKFwiTmFtZTpcIix0aGlzLmxheWVyc1tvXS5uYW1lKSxjb25zb2xlLmxvZyhcIlNpemU6XCIsZSxcInhcIixzKSxjb25zb2xlLmxvZyhcIlRpbGVzZXQ6XCIsdGhpcy50aWxlc2V0c1swXS5uYW1lLFwiaW5kZXg6XCIsbykpO3ZhciByPW4uYWRkKG5ldyBpLlRpbGVtYXBMYXllcih0aGlzLmdhbWUsdGhpcyxvLGUscykpO3JldHVybiB0aGlzLmVuYWJsZURlYnVnJiZjb25zb2xlLmdyb3VwRW5kKCkscn0sY3JlYXRlQmxhbmtMYXllcjpmdW5jdGlvbih0LGUscyxuLG8scil7dm9pZCAwPT09ciYmKHI9dGhpcy5nYW1lLndvcmxkKTt7aWYobnVsbD09PXRoaXMuZ2V0TGF5ZXJJbmRleCh0KSl7Zm9yKHZhciBhLGg9e25hbWU6dCx4OjAseTowLHdpZHRoOmUsaGVpZ2h0OnMsd2lkdGhJblBpeGVsczplKm4saGVpZ2h0SW5QaXhlbHM6cypvLGFscGhhOjEsdmlzaWJsZTohMCxwcm9wZXJ0aWVzOnt9LGluZGV4ZXM6W10sY2FsbGJhY2tzOltdLGJvZGllczpbXSxkYXRhOm51bGx9LGw9W10sYz0wO2M8cztjKyspe2E9W107Zm9yKHZhciB1PTA7dTxlO3UrKylhLnB1c2gobmV3IGkuVGlsZShoLC0xLHUsYyxuLG8pKTtsLnB1c2goYSl9aC5kYXRhPWwsdGhpcy5sYXllcnMucHVzaChoKSx0aGlzLmN1cnJlbnRMYXllcj10aGlzLmxheWVycy5sZW5ndGgtMTt2YXIgZD1oLndpZHRoSW5QaXhlbHMscD1oLmhlaWdodEluUGl4ZWxzO3JldHVybiBkPnRoaXMuZ2FtZS53aWR0aCYmKGQ9dGhpcy5nYW1lLndpZHRoKSxwPnRoaXMuZ2FtZS5oZWlnaHQmJihwPXRoaXMuZ2FtZS5oZWlnaHQpLChsPW5ldyBpLlRpbGVtYXBMYXllcih0aGlzLmdhbWUsdGhpcyx0aGlzLmxheWVycy5sZW5ndGgtMSxkLHApKS5uYW1lPXQsci5hZGQobCl9Y29uc29sZS53YXJuKFwiVGlsZW1hcC5jcmVhdGVCbGFua0xheWVyOiBMYXllciB3aXRoIG1hdGNoaW5nIG5hbWUgYWxyZWFkeSBleGlzdHM6IFwiK3QpfX0sZ2V0SW5kZXg6ZnVuY3Rpb24odCxlKXtmb3IodmFyIGk9MDtpPHQubGVuZ3RoO2krKylpZih0W2ldLm5hbWU9PT1lKXJldHVybiBpO3JldHVybiBudWxsfSxnZXRMYXllckluZGV4OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmdldEluZGV4KHRoaXMubGF5ZXJzLHQpfSxnZXRUaWxlc2V0SW5kZXg6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZ2V0SW5kZXgodGhpcy50aWxlc2V0cyx0KX0sZ2V0SW1hZ2VJbmRleDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5nZXRJbmRleCh0aGlzLmltYWdlcyx0KX0sc2V0VGlsZUluZGV4Q2FsbGJhY2s6ZnVuY3Rpb24odCxlLGkscyl7aWYocz10aGlzLmdldExheWVyKHMpLFwibnVtYmVyXCI9PXR5cGVvZiB0KW51bGw9PT1lP2RlbGV0ZSB0aGlzLmxheWVyc1tzXS5jYWxsYmFja3NbdF06dGhpcy5sYXllcnNbc10uY2FsbGJhY2tzW3RdPXtjYWxsYmFjazplLGNhbGxiYWNrQ29udGV4dDppfTtlbHNlIGZvcih2YXIgbj0wLG89dC5sZW5ndGg7bjxvO24rKyludWxsPT09ZT9kZWxldGUgdGhpcy5sYXllcnNbc10uY2FsbGJhY2tzW3Rbbl1dOnRoaXMubGF5ZXJzW3NdLmNhbGxiYWNrc1t0W25dXT17Y2FsbGJhY2s6ZSxjYWxsYmFja0NvbnRleHQ6aX19LHNldFRpbGVMb2NhdGlvbkNhbGxiYWNrOmZ1bmN0aW9uKHQsZSxpLHMsbixvLHIpe2lmKHI9dGhpcy5nZXRMYXllcihyKSx0aGlzLmNvcHkodCxlLGkscyxyKSwhKHRoaXMuX3Jlc3VsdHMubGVuZ3RoPDIpKWZvcih2YXIgYT0xO2E8dGhpcy5fcmVzdWx0cy5sZW5ndGg7YSsrKXRoaXMuX3Jlc3VsdHNbYV0uc2V0Q29sbGlzaW9uQ2FsbGJhY2sobixvKX0sc2V0Q29sbGlzaW9uOmZ1bmN0aW9uKHQsZSxpLHMpe2lmKHZvaWQgMD09PWUmJihlPSEwKSx2b2lkIDA9PT1zJiYocz0hMCksaT10aGlzLmdldExheWVyKGkpLFwibnVtYmVyXCI9PXR5cGVvZiB0KXJldHVybiB0aGlzLnNldENvbGxpc2lvbkJ5SW5kZXgodCxlLGksITApO2lmKEFycmF5LmlzQXJyYXkodCkpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXRoaXMuc2V0Q29sbGlzaW9uQnlJbmRleCh0W25dLGUsaSwhMSk7cyYmdGhpcy5jYWxjdWxhdGVGYWNlcyhpKX19LHNldENvbGxpc2lvbkJldHdlZW46ZnVuY3Rpb24odCxlLGkscyxuKXtpZih2b2lkIDA9PT1pJiYoaT0hMCksdm9pZCAwPT09biYmKG49ITApLHM9dGhpcy5nZXRMYXllcihzKSwhKHQ+ZSkpe2Zvcih2YXIgbz10O288PWU7bysrKXRoaXMuc2V0Q29sbGlzaW9uQnlJbmRleChvLGkscywhMSk7biYmdGhpcy5jYWxjdWxhdGVGYWNlcyhzKX19LHNldENvbGxpc2lvbkJ5RXhjbHVzaW9uOmZ1bmN0aW9uKHQsZSxpLHMpe3ZvaWQgMD09PWUmJihlPSEwKSx2b2lkIDA9PT1zJiYocz0hMCksaT10aGlzLmdldExheWVyKGkpO2Zvcih2YXIgbj0wLG89dGhpcy50aWxlcy5sZW5ndGg7bjxvO24rKyktMT09PXQuaW5kZXhPZihuKSYmdGhpcy5zZXRDb2xsaXNpb25CeUluZGV4KG4sZSxpLCExKTtzJiZ0aGlzLmNhbGN1bGF0ZUZhY2VzKGkpfSxzZXRDb2xsaXNpb25CeUluZGV4OmZ1bmN0aW9uKHQsZSxpLHMpe2lmKHZvaWQgMD09PWUmJihlPSEwKSx2b2lkIDA9PT1pJiYoaT10aGlzLmN1cnJlbnRMYXllciksdm9pZCAwPT09cyYmKHM9ITApLGUpdGhpcy5jb2xsaWRlSW5kZXhlcy5wdXNoKHQpO2Vsc2V7dmFyIG49dGhpcy5jb2xsaWRlSW5kZXhlcy5pbmRleE9mKHQpO24+LTEmJnRoaXMuY29sbGlkZUluZGV4ZXMuc3BsaWNlKG4sMSl9Zm9yKHZhciBvPTA7bzx0aGlzLmxheWVyc1tpXS5oZWlnaHQ7bysrKWZvcih2YXIgcj0wO3I8dGhpcy5sYXllcnNbaV0ud2lkdGg7cisrKXt2YXIgYT10aGlzLmxheWVyc1tpXS5kYXRhW29dW3JdO2EmJmEuaW5kZXg9PT10JiYoZT9hLnNldENvbGxpc2lvbighMCwhMCwhMCwhMCk6YS5yZXNldENvbGxpc2lvbigpLGEuZmFjZVRvcD1lLGEuZmFjZUJvdHRvbT1lLGEuZmFjZUxlZnQ9ZSxhLmZhY2VSaWdodD1lKX1yZXR1cm4gcyYmdGhpcy5jYWxjdWxhdGVGYWNlcyhpKSxpfSxnZXRMYXllcjpmdW5jdGlvbih0KXtpZih2b2lkIDA9PT10KXQ9dGhpcy5jdXJyZW50TGF5ZXI7ZWxzZSBpZihcInN0cmluZ1wiPT10eXBlb2YgdCl7dmFyIGU9dDsodD10aGlzLmdldExheWVySW5kZXgodCkpfHxjb25zb2xlLndhcm4oXCJObyBzdWNoIGxheWVyIG5hbWU6IFwiK2UpfWVsc2UgdCBpbnN0YW5jZW9mIGkuVGlsZW1hcExheWVyJiYodD10LmluZGV4KTtyZXR1cm4gdH0sc2V0UHJldmVudFJlY2FsY3VsYXRlOmZ1bmN0aW9uKHQpe2lmKCEwPT09dCYmITAhPT10aGlzLnByZXZlbnRpbmdSZWNhbGN1bGF0ZSYmKHRoaXMucHJldmVudGluZ1JlY2FsY3VsYXRlPSEwLHRoaXMubmVlZFRvUmVjYWxjdWxhdGU9e30pLCExPT09dCYmITA9PT10aGlzLnByZXZlbnRpbmdSZWNhbGN1bGF0ZSl7dGhpcy5wcmV2ZW50aW5nUmVjYWxjdWxhdGU9ITE7Zm9yKHZhciBlIGluIHRoaXMubmVlZFRvUmVjYWxjdWxhdGUpdGhpcy5jYWxjdWxhdGVGYWNlcyhlKTt0aGlzLm5lZWRUb1JlY2FsY3VsYXRlPSExfX0sY2FsY3VsYXRlRmFjZXM6ZnVuY3Rpb24odCl7aWYodGhpcy5wcmV2ZW50aW5nUmVjYWxjdWxhdGUpdGhpcy5uZWVkVG9SZWNhbGN1bGF0ZVt0XT0hMDtlbHNlIGZvcih2YXIgZT1udWxsLGk9bnVsbCxzPW51bGwsbj1udWxsLG89MCxyPXRoaXMubGF5ZXJzW3RdLmhlaWdodDtvPHI7bysrKWZvcih2YXIgYT0wLGg9dGhpcy5sYXllcnNbdF0ud2lkdGg7YTxoO2ErKyl7dmFyIGw9dGhpcy5sYXllcnNbdF0uZGF0YVtvXVthXTtsJiYoZT10aGlzLmdldFRpbGVBYm92ZSh0LGEsbyksaT10aGlzLmdldFRpbGVCZWxvdyh0LGEsbykscz10aGlzLmdldFRpbGVMZWZ0KHQsYSxvKSxuPXRoaXMuZ2V0VGlsZVJpZ2h0KHQsYSxvKSxsLmNvbGxpZGVzJiYobC5mYWNlVG9wPSEwLGwuZmFjZUJvdHRvbT0hMCxsLmZhY2VMZWZ0PSEwLGwuZmFjZVJpZ2h0PSEwKSxlJiZlLmNvbGxpZGVzJiYobC5mYWNlVG9wPSExKSxpJiZpLmNvbGxpZGVzJiYobC5mYWNlQm90dG9tPSExKSxzJiZzLmNvbGxpZGVzJiYobC5mYWNlTGVmdD0hMSksbiYmbi5jb2xsaWRlcyYmKGwuZmFjZVJpZ2h0PSExKSl9fSxnZXRUaWxlQWJvdmU6ZnVuY3Rpb24odCxlLGkpe3JldHVybiBpPjA/dGhpcy5sYXllcnNbdF0uZGF0YVtpLTFdW2VdOm51bGx9LGdldFRpbGVCZWxvdzpmdW5jdGlvbih0LGUsaSl7cmV0dXJuIGk8dGhpcy5sYXllcnNbdF0uaGVpZ2h0LTE/dGhpcy5sYXllcnNbdF0uZGF0YVtpKzFdW2VdOm51bGx9LGdldFRpbGVMZWZ0OmZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gZT4wP3RoaXMubGF5ZXJzW3RdLmRhdGFbaV1bZS0xXTpudWxsfSxnZXRUaWxlUmlnaHQ6ZnVuY3Rpb24odCxlLGkpe3JldHVybiBlPHRoaXMubGF5ZXJzW3RdLndpZHRoLTE/dGhpcy5sYXllcnNbdF0uZGF0YVtpXVtlKzFdOm51bGx9LHNldExheWVyOmZ1bmN0aW9uKHQpe3Q9dGhpcy5nZXRMYXllcih0KSx0aGlzLmxheWVyc1t0XSYmKHRoaXMuY3VycmVudExheWVyPXQpfSxoYXNUaWxlOmZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gaT10aGlzLmdldExheWVyKGkpLHZvaWQgMCE9PXRoaXMubGF5ZXJzW2ldLmRhdGFbZV0mJnZvaWQgMCE9PXRoaXMubGF5ZXJzW2ldLmRhdGFbZV1bdF0mJnRoaXMubGF5ZXJzW2ldLmRhdGFbZV1bdF0uaW5kZXg+LTF9LHJlbW92ZVRpbGU6ZnVuY3Rpb24odCxlLHMpe2lmKHM9dGhpcy5nZXRMYXllcihzKSx0Pj0wJiZ0PHRoaXMubGF5ZXJzW3NdLndpZHRoJiZlPj0wJiZlPHRoaXMubGF5ZXJzW3NdLmhlaWdodCYmdGhpcy5oYXNUaWxlKHQsZSxzKSl7dmFyIG49dGhpcy5sYXllcnNbc10uZGF0YVtlXVt0XTtyZXR1cm4gdGhpcy5sYXllcnNbc10uZGF0YVtlXVt0XT1uZXcgaS5UaWxlKHRoaXMubGF5ZXJzW3NdLC0xLHQsZSx0aGlzLnRpbGVXaWR0aCx0aGlzLnRpbGVIZWlnaHQpLHRoaXMubGF5ZXJzW3NdLmRpcnR5PSEwLHRoaXMuY2FsY3VsYXRlRmFjZXMocyksbn19LHJlbW92ZVRpbGVXb3JsZFhZOmZ1bmN0aW9uKHQsZSxpLHMsbil7cmV0dXJuIG49dGhpcy5nZXRMYXllcihuKSx0PXRoaXMuZ2FtZS5tYXRoLnNuYXBUb0Zsb29yKHQsaSkvaSxlPXRoaXMuZ2FtZS5tYXRoLnNuYXBUb0Zsb29yKGUscykvcyx0aGlzLnJlbW92ZVRpbGUodCxlLG4pfSxwdXRUaWxlOmZ1bmN0aW9uKHQsZSxzLG4pe2lmKG51bGw9PT10KXJldHVybiB0aGlzLnJlbW92ZVRpbGUoZSxzLG4pO2lmKG49dGhpcy5nZXRMYXllcihuKSxlPj0wJiZlPHRoaXMubGF5ZXJzW25dLndpZHRoJiZzPj0wJiZzPHRoaXMubGF5ZXJzW25dLmhlaWdodCl7dmFyIG87cmV0dXJuIHQgaW5zdGFuY2VvZiBpLlRpbGU/KG89dC5pbmRleCx0aGlzLmhhc1RpbGUoZSxzLG4pP3RoaXMubGF5ZXJzW25dLmRhdGFbc11bZV0uY29weSh0KTp0aGlzLmxheWVyc1tuXS5kYXRhW3NdW2VdPW5ldyBpLlRpbGUobixvLGUscyx0LndpZHRoLHQuaGVpZ2h0KSk6KG89dCx0aGlzLmhhc1RpbGUoZSxzLG4pP3RoaXMubGF5ZXJzW25dLmRhdGFbc11bZV0uaW5kZXg9bzp0aGlzLmxheWVyc1tuXS5kYXRhW3NdW2VdPW5ldyBpLlRpbGUodGhpcy5sYXllcnNbbl0sbyxlLHMsdGhpcy50aWxlV2lkdGgsdGhpcy50aWxlSGVpZ2h0KSksdGhpcy5jb2xsaWRlSW5kZXhlcy5pbmRleE9mKG8pPi0xP3RoaXMubGF5ZXJzW25dLmRhdGFbc11bZV0uc2V0Q29sbGlzaW9uKCEwLCEwLCEwLCEwKTp0aGlzLmxheWVyc1tuXS5kYXRhW3NdW2VdLnJlc2V0Q29sbGlzaW9uKCksdGhpcy5sYXllcnNbbl0uZGlydHk9ITAsdGhpcy5jYWxjdWxhdGVGYWNlcyhuKSx0aGlzLmxheWVyc1tuXS5kYXRhW3NdW2VdfXJldHVybiBudWxsfSxwdXRUaWxlV29ybGRYWTpmdW5jdGlvbih0LGUsaSxzLG4sbyl7cmV0dXJuIG89dGhpcy5nZXRMYXllcihvKSxlPXRoaXMuZ2FtZS5tYXRoLnNuYXBUb0Zsb29yKGUscykvcyxpPXRoaXMuZ2FtZS5tYXRoLnNuYXBUb0Zsb29yKGksbikvbix0aGlzLnB1dFRpbGUodCxlLGksbyl9LHNlYXJjaFRpbGVJbmRleDpmdW5jdGlvbih0LGUsaSxzKXt2b2lkIDA9PT1lJiYoZT0wKSx2b2lkIDA9PT1pJiYoaT0hMSkscz10aGlzLmdldExheWVyKHMpO3ZhciBuPTA7aWYoaSl7Zm9yKG89dGhpcy5sYXllcnNbc10uaGVpZ2h0LTE7bz49MDtvLS0pZm9yKHI9dGhpcy5sYXllcnNbc10ud2lkdGgtMTtyPj0wO3ItLSlpZih0aGlzLmxheWVyc1tzXS5kYXRhW29dW3JdLmluZGV4PT09dCl7aWYobj09PWUpcmV0dXJuIHRoaXMubGF5ZXJzW3NdLmRhdGFbb11bcl07bisrfX1lbHNlIGZvcih2YXIgbz0wO288dGhpcy5sYXllcnNbc10uaGVpZ2h0O28rKylmb3IodmFyIHI9MDtyPHRoaXMubGF5ZXJzW3NdLndpZHRoO3IrKylpZih0aGlzLmxheWVyc1tzXS5kYXRhW29dW3JdLmluZGV4PT09dCl7aWYobj09PWUpcmV0dXJuIHRoaXMubGF5ZXJzW3NdLmRhdGFbb11bcl07bisrfXJldHVybiBudWxsfSxnZXRUaWxlOmZ1bmN0aW9uKHQsZSxpLHMpe3JldHVybiB2b2lkIDA9PT1zJiYocz0hMSksaT10aGlzLmdldExheWVyKGkpLHQ+PTAmJnQ8dGhpcy5sYXllcnNbaV0ud2lkdGgmJmU+PTAmJmU8dGhpcy5sYXllcnNbaV0uaGVpZ2h0Py0xPT09dGhpcy5sYXllcnNbaV0uZGF0YVtlXVt0XS5pbmRleD9zP3RoaXMubGF5ZXJzW2ldLmRhdGFbZV1bdF06bnVsbDp0aGlzLmxheWVyc1tpXS5kYXRhW2VdW3RdOm51bGx9LGdldFRpbGVXb3JsZFhZOmZ1bmN0aW9uKHQsZSxpLHMsbixvKXtyZXR1cm4gdm9pZCAwPT09aSYmKGk9dGhpcy50aWxlV2lkdGgpLHZvaWQgMD09PXMmJihzPXRoaXMudGlsZUhlaWdodCksbj10aGlzLmdldExheWVyKG4pLHQ9dGhpcy5nYW1lLm1hdGguc25hcFRvRmxvb3IodCxpKS9pLGU9dGhpcy5nYW1lLm1hdGguc25hcFRvRmxvb3IoZSxzKS9zLHRoaXMuZ2V0VGlsZSh0LGUsbixvKX0sY29weTpmdW5jdGlvbih0LGUsaSxzLG4pe249dGhpcy5nZXRMYXllcihuKTt7aWYodGhpcy5sYXllcnNbbl0pe3ZvaWQgMD09PXQmJih0PTApLHZvaWQgMD09PWUmJihlPTApLHZvaWQgMD09PWkmJihpPXRoaXMubGF5ZXJzW25dLndpZHRoKSx2b2lkIDA9PT1zJiYocz10aGlzLmxheWVyc1tuXS5oZWlnaHQpLHQ8MCYmKHQ9MCksZTwwJiYoZT0wKSxpPnRoaXMubGF5ZXJzW25dLndpZHRoJiYoaT10aGlzLmxheWVyc1tuXS53aWR0aCkscz50aGlzLmxheWVyc1tuXS5oZWlnaHQmJihzPXRoaXMubGF5ZXJzW25dLmhlaWdodCksdGhpcy5fcmVzdWx0cy5sZW5ndGg9MCx0aGlzLl9yZXN1bHRzLnB1c2goe3g6dCx5OmUsd2lkdGg6aSxoZWlnaHQ6cyxsYXllcjpufSk7Zm9yKHZhciBvPWU7bzxlK3M7bysrKWZvcih2YXIgcj10O3I8dCtpO3IrKyl0aGlzLl9yZXN1bHRzLnB1c2godGhpcy5sYXllcnNbbl0uZGF0YVtvXVtyXSk7cmV0dXJuIHRoaXMuX3Jlc3VsdHN9dGhpcy5fcmVzdWx0cy5sZW5ndGg9MH19LHBhc3RlOmZ1bmN0aW9uKHQsZSxpLHMpe2lmKHZvaWQgMD09PXQmJih0PTApLHZvaWQgMD09PWUmJihlPTApLHM9dGhpcy5nZXRMYXllcihzKSxpJiYhKGkubGVuZ3RoPDIpKXtmb3IodmFyIG49dC1pWzFdLngsbz1lLWlbMV0ueSxyPTE7cjxpLmxlbmd0aDtyKyspdGhpcy5sYXllcnNbc10uZGF0YVtvK2lbcl0ueV1bbitpW3JdLnhdLmNvcHkoaVtyXSk7dGhpcy5sYXllcnNbc10uZGlydHk9ITAsdGhpcy5jYWxjdWxhdGVGYWNlcyhzKX19LHN3YXA6ZnVuY3Rpb24odCxlLGkscyxuLG8scil7cj10aGlzLmdldExheWVyKHIpLHRoaXMuY29weShpLHMsbixvLHIpLHRoaXMuX3Jlc3VsdHMubGVuZ3RoPDJ8fCh0aGlzLl90ZW1wQT10LHRoaXMuX3RlbXBCPWUsdGhpcy5fcmVzdWx0cy5mb3JFYWNoKHRoaXMuc3dhcEhhbmRsZXIsdGhpcyksdGhpcy5wYXN0ZShpLHMsdGhpcy5fcmVzdWx0cyxyKSl9LHN3YXBIYW5kbGVyOmZ1bmN0aW9uKHQpe3QuaW5kZXg9PT10aGlzLl90ZW1wQT90LmluZGV4PXRoaXMuX3RlbXBCOnQuaW5kZXg9PT10aGlzLl90ZW1wQiYmKHQuaW5kZXg9dGhpcy5fdGVtcEEpfSxmb3JFYWNoOmZ1bmN0aW9uKHQsZSxpLHMsbixvLHIpe3I9dGhpcy5nZXRMYXllcihyKSx0aGlzLmNvcHkoaSxzLG4sbyxyKSx0aGlzLl9yZXN1bHRzLmxlbmd0aDwyfHwodGhpcy5fcmVzdWx0cy5mb3JFYWNoKHQsZSksdGhpcy5wYXN0ZShpLHMsdGhpcy5fcmVzdWx0cyxyKSl9LHJlcGxhY2U6ZnVuY3Rpb24odCxlLGkscyxuLG8scil7aWYocj10aGlzLmdldExheWVyKHIpLHRoaXMuY29weShpLHMsbixvLHIpLCEodGhpcy5fcmVzdWx0cy5sZW5ndGg8Mikpe2Zvcih2YXIgYT0xO2E8dGhpcy5fcmVzdWx0cy5sZW5ndGg7YSsrKXRoaXMuX3Jlc3VsdHNbYV0uaW5kZXg9PT10JiYodGhpcy5fcmVzdWx0c1thXS5pbmRleD1lKTt0aGlzLnBhc3RlKGkscyx0aGlzLl9yZXN1bHRzLHIpfX0scmFuZG9tOmZ1bmN0aW9uKHQsZSxpLHMsbil7aWYobj10aGlzLmdldExheWVyKG4pLHRoaXMuY29weSh0LGUsaSxzLG4pLCEodGhpcy5fcmVzdWx0cy5sZW5ndGg8Mikpe2Zvcih2YXIgbz1bXSxyPTE7cjx0aGlzLl9yZXN1bHRzLmxlbmd0aDtyKyspaWYodGhpcy5fcmVzdWx0c1tyXS5pbmRleCl7dmFyIGE9dGhpcy5fcmVzdWx0c1tyXS5pbmRleDstMT09PW8uaW5kZXhPZihhKSYmby5wdXNoKGEpfWZvcih2YXIgaD0xO2g8dGhpcy5fcmVzdWx0cy5sZW5ndGg7aCsrKXRoaXMuX3Jlc3VsdHNbaF0uaW5kZXg9dGhpcy5nYW1lLnJuZC5waWNrKG8pO3RoaXMucGFzdGUodCxlLHRoaXMuX3Jlc3VsdHMsbil9fSxzaHVmZmxlOmZ1bmN0aW9uKHQsZSxzLG4sbyl7aWYobz10aGlzLmdldExheWVyKG8pLHRoaXMuY29weSh0LGUscyxuLG8pLCEodGhpcy5fcmVzdWx0cy5sZW5ndGg8Mikpe2Zvcih2YXIgcj1bXSxhPTE7YTx0aGlzLl9yZXN1bHRzLmxlbmd0aDthKyspdGhpcy5fcmVzdWx0c1thXS5pbmRleCYmci5wdXNoKHRoaXMuX3Jlc3VsdHNbYV0uaW5kZXgpO2kuQXJyYXlVdGlscy5zaHVmZmxlKHIpO2Zvcih2YXIgaD0xO2g8dGhpcy5fcmVzdWx0cy5sZW5ndGg7aCsrKXRoaXMuX3Jlc3VsdHNbaF0uaW5kZXg9cltoLTFdO3RoaXMucGFzdGUodCxlLHRoaXMuX3Jlc3VsdHMsbyl9fSxmaWxsOmZ1bmN0aW9uKHQsZSxpLHMsbixvKXtpZihvPXRoaXMuZ2V0TGF5ZXIobyksdGhpcy5jb3B5KGUsaSxzLG4sbyksISh0aGlzLl9yZXN1bHRzLmxlbmd0aDwyKSl7Zm9yKHZhciByPTE7cjx0aGlzLl9yZXN1bHRzLmxlbmd0aDtyKyspdGhpcy5fcmVzdWx0c1tyXS5pbmRleD10O3RoaXMucGFzdGUoZSxpLHRoaXMuX3Jlc3VsdHMsbyl9fSxyZW1vdmVBbGxMYXllcnM6ZnVuY3Rpb24oKXt0aGlzLmxheWVycy5sZW5ndGg9MCx0aGlzLmN1cnJlbnRMYXllcj0wfSxkdW1wOmZ1bmN0aW9uKCl7Zm9yKHZhciB0PVwiXCIsZT1bXCJcIl0saT0wO2k8dGhpcy5sYXllcnNbdGhpcy5jdXJyZW50TGF5ZXJdLmhlaWdodDtpKyspe2Zvcih2YXIgcz0wO3M8dGhpcy5sYXllcnNbdGhpcy5jdXJyZW50TGF5ZXJdLndpZHRoO3MrKyl0Kz1cIiVjICBcIix0aGlzLmxheWVyc1t0aGlzLmN1cnJlbnRMYXllcl0uZGF0YVtpXVtzXT4xP3RoaXMuZGVidWdNYXBbdGhpcy5sYXllcnNbdGhpcy5jdXJyZW50TGF5ZXJdLmRhdGFbaV1bc11dP2UucHVzaChcImJhY2tncm91bmQ6IFwiK3RoaXMuZGVidWdNYXBbdGhpcy5sYXllcnNbdGhpcy5jdXJyZW50TGF5ZXJdLmRhdGFbaV1bc11dKTplLnB1c2goXCJiYWNrZ3JvdW5kOiAjZmZmZmZmXCIpOmUucHVzaChcImJhY2tncm91bmQ6IHJnYigwLCAwLCAwKVwiKTt0Kz1cIlxcblwifWVbMF09dCxjb25zb2xlLmxvZy5hcHBseShjb25zb2xlLGUpfSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5yZW1vdmVBbGxMYXllcnMoKSx0aGlzLmRhdGE9W10sdGhpcy5nYW1lPW51bGx9fSxpLlRpbGVtYXAucHJvdG90eXBlLmNvbnN0cnVjdG9yPWkuVGlsZW1hcCxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5UaWxlbWFwLnByb3RvdHlwZSxcImxheWVyXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmxheWVyc1t0aGlzLmN1cnJlbnRMYXllcl19LHNldDpmdW5jdGlvbih0KXt0IT09dGhpcy5jdXJyZW50TGF5ZXImJnRoaXMuc2V0TGF5ZXIodCl9fSksaS5UaWxlbWFwTGF5ZXI9ZnVuY3Rpb24odCxlLHMsbixvKXtufD0wLG98PTAsaS5TcHJpdGUuY2FsbCh0aGlzLHQsMCwwKSx0aGlzLm1hcD1lLHRoaXMuaW5kZXg9cyx0aGlzLmxheWVyPWUubGF5ZXJzW3NdLHRoaXMuY2FudmFzPWkuQ2FudmFzUG9vbC5jcmVhdGUodGhpcyxuLG8pLHRoaXMuY29udGV4dD10aGlzLmNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIiksdGhpcy5zZXRUZXh0dXJlKG5ldyBQSVhJLlRleHR1cmUobmV3IFBJWEkuQmFzZVRleHR1cmUodGhpcy5jYW52YXMsbnVsbCx0aGlzLmdhbWUucmVzb2x1dGlvbikpKSx0aGlzLnR5cGU9aS5USUxFTUFQTEFZRVIsdGhpcy5waHlzaWNzVHlwZT1pLlRJTEVNQVBMQVlFUix0aGlzLnJlbmRlclNldHRpbmdzPXtlbmFibGVTY3JvbGxEZWx0YTohMCxvdmVyZHJhd1JhdGlvOi4yLGNvcHlDYW52YXM6bnVsbH0sdGhpcy5kZWJ1Zz0hMSx0aGlzLmV4aXN0cz0hMCx0aGlzLmRlYnVnU2V0dGluZ3M9e21pc3NpbmdJbWFnZUZpbGw6XCJyZ2IoMjU1LDI1NSwyNTUpXCIsZGVidWdnZWRUaWxlT3ZlcmZpbGw6XCJyZ2JhKDAsMjU1LDAsMC40KVwiLGZvcmNlRnVsbFJlZHJhdzohMCxkZWJ1Z0FscGhhOi41LGZhY2luZ0VkZ2VTdHJva2U6XCJyZ2JhKDAsMjU1LDAsMSlcIixjb2xsaWRpbmdUaWxlT3ZlcmZpbGw6XCJyZ2JhKDAsMjU1LDAsMC4yKVwifSx0aGlzLnNjcm9sbEZhY3Rvclg9MSx0aGlzLnNjcm9sbEZhY3Rvclk9MSx0aGlzLmRpcnR5PSEwLHRoaXMucmF5U3RlcFJhdGU9NCx0aGlzLl93cmFwPSExLHRoaXMuX21jPXtzY3JvbGxYOjAsc2Nyb2xsWTowLHJlbmRlcldpZHRoOjAscmVuZGVySGVpZ2h0OjAsdGlsZVdpZHRoOmUudGlsZVdpZHRoLHRpbGVIZWlnaHQ6ZS50aWxlSGVpZ2h0LGN3OmUudGlsZVdpZHRoLGNoOmUudGlsZUhlaWdodCx0aWxlc2V0czpbXX0sdGhpcy5fc2Nyb2xsWD0wLHRoaXMuX3Njcm9sbFk9MCx0aGlzLnRpbGVPZmZzZXQ9bmV3IGkuUG9pbnQodGhpcy5sYXllci5vZmZzZXRYfHwwLHRoaXMubGF5ZXIub2Zmc2V0WXx8MCksdGhpcy5fcmVzdWx0cz1bXSx0LmRldmljZS5jYW52YXNCaXRCbHRTaGlmdHx8KHRoaXMucmVuZGVyU2V0dGluZ3MuY29weUNhbnZhcz1pLlRpbGVtYXBMYXllci5lbnN1cmVTaGFyZWRDb3B5Q2FudmFzKCkpLHRoaXMuZml4ZWRUb0NhbWVyYT0hMH0saS5UaWxlbWFwTGF5ZXIucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoaS5TcHJpdGUucHJvdG90eXBlKSxpLlRpbGVtYXBMYXllci5wcm90b3R5cGUuY29uc3RydWN0b3I9aS5UaWxlbWFwTGF5ZXIsaS5UaWxlbWFwTGF5ZXIucHJvdG90eXBlLnByZVVwZGF0ZUNvcmU9aS5Db21wb25lbnQuQ29yZS5wcmVVcGRhdGUsaS5UaWxlbWFwTGF5ZXIuc2hhcmVkQ29weUNhbnZhcz1udWxsLGkuVGlsZW1hcExheWVyLmVuc3VyZVNoYXJlZENvcHlDYW52YXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zaGFyZWRDb3B5Q2FudmFzfHwodGhpcy5zaGFyZWRDb3B5Q2FudmFzPWkuQ2FudmFzUG9vbC5jcmVhdGUodGhpcywyLDIpKSx0aGlzLnNoYXJlZENvcHlDYW52YXN9LGkuVGlsZW1hcExheWVyLnByb3RvdHlwZS5wcmVVcGRhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wcmVVcGRhdGVDb3JlKCl9LGkuVGlsZW1hcExheWVyLnByb3RvdHlwZS5wb3N0VXBkYXRlPWZ1bmN0aW9uKCl7dGhpcy5maXhlZFRvQ2FtZXJhJiYodGhpcy5wb3NpdGlvbi54PSh0aGlzLmdhbWUuY2FtZXJhLnZpZXcueCt0aGlzLmNhbWVyYU9mZnNldC54KS90aGlzLmdhbWUuY2FtZXJhLnNjYWxlLngsdGhpcy5wb3NpdGlvbi55PSh0aGlzLmdhbWUuY2FtZXJhLnZpZXcueSt0aGlzLmNhbWVyYU9mZnNldC55KS90aGlzLmdhbWUuY2FtZXJhLnNjYWxlLnkpLHRoaXMuX3Njcm9sbFg9KHRoaXMuZ2FtZS5jYW1lcmEudmlldy54LXRoaXMudGlsZU9mZnNldC54KSp0aGlzLnNjcm9sbEZhY3RvclgvdGhpcy5zY2FsZS54LHRoaXMuX3Njcm9sbFk9KHRoaXMuZ2FtZS5jYW1lcmEudmlldy55LXRoaXMudGlsZU9mZnNldC55KSp0aGlzLnNjcm9sbEZhY3RvclkvdGhpcy5zY2FsZS55fSxpLlRpbGVtYXBMYXllci5wcm90b3R5cGUuX3JlbmRlckNhbnZhcz1mdW5jdGlvbih0KXt0aGlzLmZpeGVkVG9DYW1lcmEmJih0aGlzLnBvc2l0aW9uLng9KHRoaXMuZ2FtZS5jYW1lcmEudmlldy54K3RoaXMuY2FtZXJhT2Zmc2V0LngpL3RoaXMuZ2FtZS5jYW1lcmEuc2NhbGUueCx0aGlzLnBvc2l0aW9uLnk9KHRoaXMuZ2FtZS5jYW1lcmEudmlldy55K3RoaXMuY2FtZXJhT2Zmc2V0LnkpL3RoaXMuZ2FtZS5jYW1lcmEuc2NhbGUueSksdGhpcy5fc2Nyb2xsWD0odGhpcy5nYW1lLmNhbWVyYS52aWV3LngtdGhpcy50aWxlT2Zmc2V0LngpKnRoaXMuc2Nyb2xsRmFjdG9yWC90aGlzLnNjYWxlLngsdGhpcy5fc2Nyb2xsWT0odGhpcy5nYW1lLmNhbWVyYS52aWV3LnktdGhpcy50aWxlT2Zmc2V0LnkpKnRoaXMuc2Nyb2xsRmFjdG9yWS90aGlzLnNjYWxlLnksdGhpcy5yZW5kZXIoKSxQSVhJLlNwcml0ZS5wcm90b3R5cGUuX3JlbmRlckNhbnZhcy5jYWxsKHRoaXMsdCl9LGkuVGlsZW1hcExheWVyLnByb3RvdHlwZS5fcmVuZGVyV2ViR0w9ZnVuY3Rpb24odCl7dGhpcy5maXhlZFRvQ2FtZXJhJiYodGhpcy5wb3NpdGlvbi54PSh0aGlzLmdhbWUuY2FtZXJhLnZpZXcueCt0aGlzLmNhbWVyYU9mZnNldC54KS90aGlzLmdhbWUuY2FtZXJhLnNjYWxlLngsdGhpcy5wb3NpdGlvbi55PSh0aGlzLmdhbWUuY2FtZXJhLnZpZXcueSt0aGlzLmNhbWVyYU9mZnNldC55KS90aGlzLmdhbWUuY2FtZXJhLnNjYWxlLnkpLHRoaXMuX3Njcm9sbFg9KHRoaXMuZ2FtZS5jYW1lcmEudmlldy54LXRoaXMudGlsZU9mZnNldC54KSp0aGlzLnNjcm9sbEZhY3RvclgvdGhpcy5zY2FsZS54LHRoaXMuX3Njcm9sbFk9KHRoaXMuZ2FtZS5jYW1lcmEudmlldy55LXRoaXMudGlsZU9mZnNldC55KSp0aGlzLnNjcm9sbEZhY3RvclkvdGhpcy5zY2FsZS55LHRoaXMucmVuZGVyKCksUElYSS5TcHJpdGUucHJvdG90eXBlLl9yZW5kZXJXZWJHTC5jYWxsKHRoaXMsdCl9LGkuVGlsZW1hcExheWVyLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7aS5DYW52YXNQb29sLnJlbW92ZSh0aGlzKSxpLkNvbXBvbmVudC5EZXN0cm95LnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyl9LGkuVGlsZW1hcExheWVyLnByb3RvdHlwZS5yZXNpemU9ZnVuY3Rpb24odCxlKXt0aGlzLmNhbnZhcy53aWR0aD10LHRoaXMuY2FudmFzLmhlaWdodD1lLHRoaXMudGV4dHVyZS5mcmFtZS5yZXNpemUodCxlKSx0aGlzLnRleHR1cmUud2lkdGg9dCx0aGlzLnRleHR1cmUuaGVpZ2h0PWUsdGhpcy50ZXh0dXJlLmNyb3Aud2lkdGg9dCx0aGlzLnRleHR1cmUuY3JvcC5oZWlnaHQ9ZSx0aGlzLnRleHR1cmUuYmFzZVRleHR1cmUud2lkdGg9dCx0aGlzLnRleHR1cmUuYmFzZVRleHR1cmUuaGVpZ2h0PWUsdGhpcy50ZXh0dXJlLmJhc2VUZXh0dXJlLmRpcnR5KCksdGhpcy50ZXh0dXJlLnJlcXVpcmVzVXBkYXRlPSEwLHRoaXMudGV4dHVyZS5fdXBkYXRlVXZzKCksdGhpcy5kaXJ0eT0hMH0saS5UaWxlbWFwTGF5ZXIucHJvdG90eXBlLnJlc2l6ZVdvcmxkPWZ1bmN0aW9uKCl7dGhpcy5nYW1lLndvcmxkLnNldEJvdW5kcygwLDAsdGhpcy5sYXllci53aWR0aEluUGl4ZWxzKnRoaXMuc2NhbGUueCx0aGlzLmxheWVyLmhlaWdodEluUGl4ZWxzKnRoaXMuc2NhbGUueSl9LGkuVGlsZW1hcExheWVyLnByb3RvdHlwZS5nZXRUaWxlT2Zmc2V0WD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRpbGVPZmZzZXQueHx8KHRoaXMuZml4ZWRUb0NhbWVyYT8wOnRoaXMucG9zaXRpb24ueCl9LGkuVGlsZW1hcExheWVyLnByb3RvdHlwZS5nZXRUaWxlT2Zmc2V0WT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRpbGVPZmZzZXQueXx8KHRoaXMuZml4ZWRUb0NhbWVyYT8wOnRoaXMucG9zaXRpb24ueSl9LGkuVGlsZW1hcExheWVyLnByb3RvdHlwZS5fZml4WD1mdW5jdGlvbih0KXtyZXR1cm4gMT09PXRoaXMuc2Nyb2xsRmFjdG9yWHx8MD09PXRoaXMuc2Nyb2xsRmFjdG9yWCYmMD09PXRoaXMucG9zaXRpb24ueD90OjA9PT10aGlzLnNjcm9sbEZhY3RvclgmJjAhPT10aGlzLnBvc2l0aW9uLng/dC10aGlzLnBvc2l0aW9uLng6dGhpcy5fc2Nyb2xsWCsodC10aGlzLl9zY3JvbGxYL3RoaXMuc2Nyb2xsRmFjdG9yWCl9LGkuVGlsZW1hcExheWVyLnByb3RvdHlwZS5fdW5maXhYPWZ1bmN0aW9uKHQpe3JldHVybiAxPT09dGhpcy5zY3JvbGxGYWN0b3JYP3Q6dGhpcy5fc2Nyb2xsWC90aGlzLnNjcm9sbEZhY3RvclgrKHQtdGhpcy5fc2Nyb2xsWCl9LGkuVGlsZW1hcExheWVyLnByb3RvdHlwZS5fZml4WT1mdW5jdGlvbih0KXtyZXR1cm4gMT09PXRoaXMuc2Nyb2xsRmFjdG9yWXx8MD09PXRoaXMuc2Nyb2xsRmFjdG9yWSYmMD09PXRoaXMucG9zaXRpb24ueT90OjA9PT10aGlzLnNjcm9sbEZhY3RvclkmJjAhPT10aGlzLnBvc2l0aW9uLnk/dC10aGlzLnBvc2l0aW9uLnk6dGhpcy5fc2Nyb2xsWSsodC10aGlzLl9zY3JvbGxZL3RoaXMuc2Nyb2xsRmFjdG9yWSl9LGkuVGlsZW1hcExheWVyLnByb3RvdHlwZS5fdW5maXhZPWZ1bmN0aW9uKHQpe3JldHVybiAxPT09dGhpcy5zY3JvbGxGYWN0b3JZP3Q6dGhpcy5fc2Nyb2xsWS90aGlzLnNjcm9sbEZhY3RvclkrKHQtdGhpcy5fc2Nyb2xsWSl9LGkuVGlsZW1hcExheWVyLnByb3RvdHlwZS5nZXRUaWxlWD1mdW5jdGlvbih0KXtyZXR1cm4gTWF0aC5mbG9vcih0aGlzLl9maXhYKHQpL3RoaXMuX21jLnRpbGVXaWR0aCl9LGkuVGlsZW1hcExheWVyLnByb3RvdHlwZS5nZXRUaWxlWT1mdW5jdGlvbih0KXtyZXR1cm4gTWF0aC5mbG9vcih0aGlzLl9maXhZKHQpL3RoaXMuX21jLnRpbGVIZWlnaHQpfSxpLlRpbGVtYXBMYXllci5wcm90b3R5cGUuZ2V0VGlsZVhZPWZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gaS54PXRoaXMuZ2V0VGlsZVgodCksaS55PXRoaXMuZ2V0VGlsZVkoZSksaX0saS5UaWxlbWFwTGF5ZXIucHJvdG90eXBlLmdldFJheUNhc3RUaWxlcz1mdW5jdGlvbih0LGUsaSxzKXtlfHwoZT10aGlzLnJheVN0ZXBSYXRlKSx2b2lkIDA9PT1pJiYoaT0hMSksdm9pZCAwPT09cyYmKHM9ITEpO3ZhciBuPXRoaXMuZ2V0VGlsZXModC54LHQueSx0LndpZHRoLHQuaGVpZ2h0LGkscyk7aWYoMD09PW4ubGVuZ3RoKXJldHVybltdO2Zvcih2YXIgbz10LmNvb3JkaW5hdGVzT25MaW5lKGUpLHI9W10sYT0wO2E8bi5sZW5ndGg7YSsrKWZvcih2YXIgaD0wO2g8by5sZW5ndGg7aCsrKXt2YXIgbD1uW2FdLGM9b1toXTtpZihsLmNvbnRhaW5zUG9pbnQoY1swXSxjWzFdKSl7ci5wdXNoKGwpO2JyZWFrfX1yZXR1cm4gcn0saS5UaWxlbWFwTGF5ZXIucHJvdG90eXBlLmdldFRpbGVzPWZ1bmN0aW9uKHQsZSxpLHMsbixvKXt2b2lkIDA9PT1uJiYobj0hMSksdm9pZCAwPT09byYmKG89ITEpO3ZhciByPSEobnx8byk7dD10aGlzLl9maXhYKHQpLGU9dGhpcy5fZml4WShlKTtmb3IodmFyIGE9TWF0aC5mbG9vcih0Lyh0aGlzLl9tYy5jdyp0aGlzLnNjYWxlLngpKSxoPU1hdGguZmxvb3IoZS8odGhpcy5fbWMuY2gqdGhpcy5zY2FsZS55KSksbD1NYXRoLmNlaWwoKHQraSkvKHRoaXMuX21jLmN3KnRoaXMuc2NhbGUueCkpLWEsYz1NYXRoLmNlaWwoKGUrcykvKHRoaXMuX21jLmNoKnRoaXMuc2NhbGUueSkpLWg7dGhpcy5fcmVzdWx0cy5sZW5ndGg7KXRoaXMuX3Jlc3VsdHMucG9wKCk7Zm9yKHZhciB1PWg7dTxoK2M7dSsrKWZvcih2YXIgZD1hO2Q8YStsO2QrKyl7dmFyIHA9dGhpcy5sYXllci5kYXRhW3VdO3AmJnBbZF0mJihyfHxwW2RdLmlzSW50ZXJlc3RpbmcobixvKSkmJnRoaXMuX3Jlc3VsdHMucHVzaChwW2RdKX1yZXR1cm4gdGhpcy5fcmVzdWx0cy5zbGljZSgpfSxpLlRpbGVtYXBMYXllci5wcm90b3R5cGUucmVzb2x2ZVRpbGVzZXQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fbWMudGlsZXNldHM7aWYodDwyZTMpZm9yKDtlLmxlbmd0aDx0OyllLnB1c2godm9pZCAwKTt2YXIgaT10aGlzLm1hcC50aWxlc1t0XSYmdGhpcy5tYXAudGlsZXNbdF1bMl07aWYobnVsbCE9PWkpe3ZhciBzPXRoaXMubWFwLnRpbGVzZXRzW2ldO2lmKHMmJnMuY29udGFpbnNUaWxlSW5kZXgodCkpcmV0dXJuIGVbdF09c31yZXR1cm4gZVt0XT1udWxsfSxpLlRpbGVtYXBMYXllci5wcm90b3R5cGUucmVzZXRUaWxlc2V0Q2FjaGU9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy5fbWMudGlsZXNldHM7dC5sZW5ndGg7KXQucG9wKCl9LGkuVGlsZW1hcExheWVyLnByb3RvdHlwZS5zZXRTY2FsZT1mdW5jdGlvbih0LGUpe3Q9dHx8MSxlPWV8fHQ7Zm9yKHZhciBpPTA7aTx0aGlzLmxheWVyLmRhdGEubGVuZ3RoO2krKylmb3IodmFyIHM9dGhpcy5sYXllci5kYXRhW2ldLG49MDtuPHMubGVuZ3RoO24rKyl7dmFyIG89c1tuXTtvLndpZHRoPXRoaXMubWFwLnRpbGVXaWR0aCp0LG8uaGVpZ2h0PXRoaXMubWFwLnRpbGVIZWlnaHQqZSxvLndvcmxkWD1vLngqby53aWR0aCxvLndvcmxkWT1vLnkqby5oZWlnaHR9dGhpcy5zY2FsZS5zZXRUbyh0LGUpfSxpLlRpbGVtYXBMYXllci5wcm90b3R5cGUuc2hpZnRDYW52YXM9ZnVuY3Rpb24odCxlLGkpe3ZhciBzPXQuY2FudmFzLG49cy53aWR0aC1NYXRoLmFicyhlKSxvPXMuaGVpZ2h0LU1hdGguYWJzKGkpLHI9MCxhPTAsaD1lLGw9aTtlPDAmJihyPS1lLGg9MCksaTwwJiYoYT0taSxsPTApO3ZhciBjPXRoaXMucmVuZGVyU2V0dGluZ3MuY29weUNhbnZhcztpZihjKXsoYy53aWR0aDxufHxjLmhlaWdodDxvKSYmKGMud2lkdGg9bixjLmhlaWdodD1vKTt2YXIgdT1jLmdldENvbnRleHQoXCIyZFwiKTt1LmNsZWFyUmVjdCgwLDAsbixvKSx1LmRyYXdJbWFnZShzLHIsYSxuLG8sMCwwLG4sbyksdC5jbGVhclJlY3QoaCxsLG4sbyksdC5kcmF3SW1hZ2UoYywwLDAsbixvLGgsbCxuLG8pfWVsc2UgdC5zYXZlKCksdC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb249XCJjb3B5XCIsdC5kcmF3SW1hZ2UocyxyLGEsbixvLGgsbCxuLG8pLHQucmVzdG9yZSgpfSxpLlRpbGVtYXBMYXllci5wcm90b3R5cGUucmVuZGVyUmVnaW9uPWZ1bmN0aW9uKHQsZSxpLHMsbixvKXt2YXIgcj10aGlzLmNvbnRleHQsYT10aGlzLmxheWVyLndpZHRoLGg9dGhpcy5sYXllci5oZWlnaHQsbD10aGlzLl9tYy50aWxlV2lkdGgsYz10aGlzLl9tYy50aWxlSGVpZ2h0LHU9dGhpcy5fbWMudGlsZXNldHMsZD1OYU47dGhpcy5fd3JhcHx8KGk8PW4mJihpPU1hdGgubWF4KDAsaSksbj1NYXRoLm1pbihhLTEsbikpLHM8PW8mJihzPU1hdGgubWF4KDAscyksbz1NYXRoLm1pbihoLTEsbykpKTt2YXIgcCxmLG0sZyx5LHYseD1pKmwtdCxiPShpKygxPDwyMCkqYSklYTtmb3IoZz0ocysoMTw8MjApKmgpJWgsdj1vLXMsZj1zKmMtZTt2Pj0wO2crKyx2LS0sZis9Yyl7Zz49aCYmKGctPWgpO3ZhciBfPXRoaXMubGF5ZXIuZGF0YVtnXTtmb3IobT1iLHk9bi1pLHA9eDt5Pj0wO20rKyx5LS0scCs9bCl7bT49YSYmKG0tPWEpO3ZhciB3PV9bbV07aWYodyYmISh3LmluZGV4PDApKXt2YXIgVD13LmluZGV4LFA9dVtUXTt2b2lkIDA9PT1QJiYoUD10aGlzLnJlc29sdmVUaWxlc2V0KFQpKSx3LmFscGhhPT09ZHx8dGhpcy5kZWJ1Z3x8KHIuZ2xvYmFsQWxwaGE9dy5hbHBoYSxkPXcuYWxwaGEpLFA/dy5yb3RhdGlvbnx8dy5mbGlwcGVkPyhyLnNhdmUoKSxyLnRyYW5zbGF0ZShwK3cuY2VudGVyWCxmK3cuY2VudGVyWSksci5yb3RhdGUody5yb3RhdGlvbiksdy5mbGlwcGVkJiZyLnNjYWxlKC0xLDEpLFAuZHJhdyhyLC13LmNlbnRlclgsLXcuY2VudGVyWSxUKSxyLnJlc3RvcmUoKSk6UC5kcmF3KHIscCxmLFQpOnRoaXMuZGVidWdTZXR0aW5ncy5taXNzaW5nSW1hZ2VGaWxsJiYoci5maWxsU3R5bGU9dGhpcy5kZWJ1Z1NldHRpbmdzLm1pc3NpbmdJbWFnZUZpbGwsci5maWxsUmVjdChwLGYsbCxjKSksdy5kZWJ1ZyYmdGhpcy5kZWJ1Z1NldHRpbmdzLmRlYnVnZ2VkVGlsZU92ZXJmaWxsJiYoci5maWxsU3R5bGU9dGhpcy5kZWJ1Z1NldHRpbmdzLmRlYnVnZ2VkVGlsZU92ZXJmaWxsLHIuZmlsbFJlY3QocCxmLGwsYykpfX19fSxpLlRpbGVtYXBMYXllci5wcm90b3R5cGUucmVuZGVyRGVsdGFTY3JvbGw9ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLl9tYy5zY3JvbGxYLHM9dGhpcy5fbWMuc2Nyb2xsWSxuPXRoaXMuY2FudmFzLndpZHRoLG89dGhpcy5jYW52YXMuaGVpZ2h0LHI9dGhpcy5fbWMudGlsZVdpZHRoLGE9dGhpcy5fbWMudGlsZUhlaWdodCxoPTAsbD0tcixjPTAsdT0tYTtpZih0PDA/KGg9bit0LGw9bi0xKTp0PjAmJihsPXQpLGU8MD8oYz1vK2UsdT1vLTEpOmU+MCYmKHU9ZSksdGhpcy5zaGlmdENhbnZhcyh0aGlzLmNvbnRleHQsdCxlKSxoPU1hdGguZmxvb3IoKGgraSkvciksbD1NYXRoLmZsb29yKChsK2kpL3IpLGM9TWF0aC5mbG9vcigoYytzKS9hKSx1PU1hdGguZmxvb3IoKHUrcykvYSksaDw9bCl7dGhpcy5jb250ZXh0LmNsZWFyUmVjdChoKnItaSwwLChsLWgrMSkqcixvKTt2YXIgZD1NYXRoLmZsb29yKCgwK3MpL2EpLHA9TWF0aC5mbG9vcigoby0xK3MpL2EpO3RoaXMucmVuZGVyUmVnaW9uKGkscyxoLGQsbCxwKX1pZihjPD11KXt0aGlzLmNvbnRleHQuY2xlYXJSZWN0KDAsYyphLXMsbiwodS1jKzEpKmEpO3ZhciBmPU1hdGguZmxvb3IoKDAraSkvciksbT1NYXRoLmZsb29yKChuLTEraSkvcik7dGhpcy5yZW5kZXJSZWdpb24oaSxzLGYsYyxtLHUpfX0saS5UaWxlbWFwTGF5ZXIucHJvdG90eXBlLnJlbmRlckZ1bGw9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9tYy5zY3JvbGxYLGU9dGhpcy5fbWMuc2Nyb2xsWSxpPXRoaXMuY2FudmFzLndpZHRoLHM9dGhpcy5jYW52YXMuaGVpZ2h0LG49dGhpcy5fbWMudGlsZVdpZHRoLG89dGhpcy5fbWMudGlsZUhlaWdodCxyPU1hdGguZmxvb3IodC9uKSxhPU1hdGguZmxvb3IoKGktMSt0KS9uKSxoPU1hdGguZmxvb3IoZS9vKSxsPU1hdGguZmxvb3IoKHMtMStlKS9vKTt0aGlzLmNvbnRleHQuY2xlYXJSZWN0KDAsMCxpLHMpLHRoaXMucmVuZGVyUmVnaW9uKHQsZSxyLGgsYSxsKX0saS5UaWxlbWFwTGF5ZXIucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbigpe3ZhciB0PSExO2lmKHRoaXMudmlzaWJsZSl7KHRoaXMuZGlydHl8fHRoaXMubGF5ZXIuZGlydHkpJiYodGhpcy5sYXllci5kaXJ0eT0hMSx0PSEwKTt2YXIgZT10aGlzLmNhbnZhcy53aWR0aCxpPXRoaXMuY2FudmFzLmhlaWdodCxzPTB8dGhpcy5fc2Nyb2xsWCxuPTB8dGhpcy5fc2Nyb2xsWSxvPXRoaXMuX21jLHI9by5zY3JvbGxYLXMsYT1vLnNjcm9sbFktbjtpZih0fHwwIT09cnx8MCE9PWF8fG8ucmVuZGVyV2lkdGghPT1lfHxvLnJlbmRlckhlaWdodCE9PWkpcmV0dXJuIHRoaXMuY29udGV4dC5zYXZlKCksby5zY3JvbGxYPXMsby5zY3JvbGxZPW4sby5yZW5kZXJXaWR0aD09PWUmJm8ucmVuZGVySGVpZ2h0PT09aXx8KG8ucmVuZGVyV2lkdGg9ZSxvLnJlbmRlckhlaWdodD1pKSx0aGlzLmRlYnVnJiYodGhpcy5jb250ZXh0Lmdsb2JhbEFscGhhPXRoaXMuZGVidWdTZXR0aW5ncy5kZWJ1Z0FscGhhLHRoaXMuZGVidWdTZXR0aW5ncy5mb3JjZUZ1bGxSZWRyYXcmJih0PSEwKSksIXQmJnRoaXMucmVuZGVyU2V0dGluZ3MuZW5hYmxlU2Nyb2xsRGVsdGEmJk1hdGguYWJzKHIpK01hdGguYWJzKGEpPE1hdGgubWluKGUsaSk/dGhpcy5yZW5kZXJEZWx0YVNjcm9sbChyLGEpOnRoaXMucmVuZGVyRnVsbCgpLHRoaXMuZGVidWcmJih0aGlzLmNvbnRleHQuZ2xvYmFsQWxwaGE9MSx0aGlzLnJlbmRlckRlYnVnKCkpLHRoaXMudGV4dHVyZS5iYXNlVGV4dHVyZS5kaXJ0eSgpLHRoaXMuZGlydHk9ITEsdGhpcy5jb250ZXh0LnJlc3RvcmUoKSwhMH19LGkuVGlsZW1hcExheWVyLnByb3RvdHlwZS5yZW5kZXJEZWJ1Zz1mdW5jdGlvbigpe3ZhciB0LGUsaSxzLG4sbyxyPXRoaXMuX21jLnNjcm9sbFgsYT10aGlzLl9tYy5zY3JvbGxZLGg9dGhpcy5jb250ZXh0LGw9dGhpcy5jYW52YXMud2lkdGgsYz10aGlzLmNhbnZhcy5oZWlnaHQsdT10aGlzLmxheWVyLndpZHRoLGQ9dGhpcy5sYXllci5oZWlnaHQscD10aGlzLl9tYy50aWxlV2lkdGgsZj10aGlzLl9tYy50aWxlSGVpZ2h0LG09TWF0aC5mbG9vcihyL3ApLGc9TWF0aC5mbG9vcigobC0xK3IpL3ApLHk9TWF0aC5mbG9vcihhL2YpLHY9TWF0aC5mbG9vcigoYy0xK2EpL2YpLHg9bSpwLXIsYj15KmYtYSxfPShtKygxPDwyMCkqdSkldSx3PSh5KygxPDwyMCkqZCklZDtmb3IoaC5zdHJva2VTdHlsZT10aGlzLmRlYnVnU2V0dGluZ3MuZmFjaW5nRWRnZVN0cm9rZSxzPXcsbz12LXksZT1iO28+PTA7cysrLG8tLSxlKz1mKXtzPj1kJiYocy09ZCk7dmFyIFQ9dGhpcy5sYXllci5kYXRhW3NdO2ZvcihpPV8sbj1nLW0sdD14O24+PTA7aSsrLG4tLSx0Kz1wKXtpPj11JiYoaS09dSk7dmFyIFA9VFtpXTshUHx8UC5pbmRleDwwfHwhUC5jb2xsaWRlc3x8KHRoaXMuZGVidWdTZXR0aW5ncy5jb2xsaWRpbmdUaWxlT3ZlcmZpbGwmJihoLmZpbGxTdHlsZT10aGlzLmRlYnVnU2V0dGluZ3MuY29sbGlkaW5nVGlsZU92ZXJmaWxsLGguZmlsbFJlY3QodCxlLHRoaXMuX21jLmN3LHRoaXMuX21jLmNoKSksdGhpcy5kZWJ1Z1NldHRpbmdzLmZhY2luZ0VkZ2VTdHJva2UmJihoLmJlZ2luUGF0aCgpLFAuZmFjZVRvcCYmKGgubW92ZVRvKHQsZSksaC5saW5lVG8odCt0aGlzLl9tYy5jdyxlKSksUC5mYWNlQm90dG9tJiYoaC5tb3ZlVG8odCxlK3RoaXMuX21jLmNoKSxoLmxpbmVUbyh0K3RoaXMuX21jLmN3LGUrdGhpcy5fbWMuY2gpKSxQLmZhY2VMZWZ0JiYoaC5tb3ZlVG8odCxlKSxoLmxpbmVUbyh0LGUrdGhpcy5fbWMuY2gpKSxQLmZhY2VSaWdodCYmKGgubW92ZVRvKHQrdGhpcy5fbWMuY3csZSksaC5saW5lVG8odCt0aGlzLl9tYy5jdyxlK3RoaXMuX21jLmNoKSksaC5jbG9zZVBhdGgoKSxoLnN0cm9rZSgpKSl9fX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuVGlsZW1hcExheWVyLnByb3RvdHlwZSxcIndyYXBcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3dyYXB9LHNldDpmdW5jdGlvbih0KXt0aGlzLl93cmFwPXQsdGhpcy5kaXJ0eT0hMH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5UaWxlbWFwTGF5ZXIucHJvdG90eXBlLFwic2Nyb2xsWFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2Nyb2xsWH0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3Njcm9sbFg9dH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5UaWxlbWFwTGF5ZXIucHJvdG90eXBlLFwic2Nyb2xsWVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2Nyb2xsWX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3Njcm9sbFk9dH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5UaWxlbWFwTGF5ZXIucHJvdG90eXBlLFwiY29sbGlzaW9uV2lkdGhcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21jLmN3fSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fbWMuY3c9MHx0LHRoaXMuZGlydHk9ITB9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuVGlsZW1hcExheWVyLnByb3RvdHlwZSxcImNvbGxpc2lvbkhlaWdodFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbWMuY2h9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9tYy5jaD0wfHQsdGhpcy5kaXJ0eT0hMH19KSxpLlRpbGVtYXBQYXJzZXI9e0lOU0VSVF9OVUxMOiExLHBhcnNlOmZ1bmN0aW9uKHQsZSxzLG4sbyxyKXtpZih2b2lkIDA9PT1zJiYocz0zMiksdm9pZCAwPT09biYmKG49MzIpLHZvaWQgMD09PW8mJihvPTEwKSx2b2lkIDA9PT1yJiYocj0xMCksdm9pZCAwPT09ZSlyZXR1cm4gdGhpcy5nZXRFbXB0eURhdGEoKTtpZihudWxsPT09ZSlyZXR1cm4gdGhpcy5nZXRFbXB0eURhdGEocyxuLG8scik7dmFyIGE9dC5jYWNoZS5nZXRUaWxlbWFwRGF0YShlKTtpZihhKXtpZihhLmZvcm1hdD09PWkuVGlsZW1hcC5DU1YpcmV0dXJuIHRoaXMucGFyc2VDU1YoZSxhLmRhdGEscyxuKTtpZighYS5mb3JtYXR8fGEuZm9ybWF0PT09aS5UaWxlbWFwLlRJTEVEX0pTT04pcmV0dXJuIHRoaXMucGFyc2VUaWxlZEpTT04oYS5kYXRhKX1lbHNlIGNvbnNvbGUud2FybihcIlBoYXNlci5UaWxlbWFwUGFyc2VyLnBhcnNlIC0gTm8gbWFwIGRhdGEgZm91bmQgZm9yIGtleSBcIitlKX0scGFyc2VDU1Y6ZnVuY3Rpb24odCxlLHMsbil7Zm9yKHZhciBvPXRoaXMuZ2V0RW1wdHlEYXRhKCkscj1bXSxhPShlPWUudHJpbSgpKS5zcGxpdChcIlxcblwiKSxoPWEubGVuZ3RoLGw9MCxjPTA7YzxhLmxlbmd0aDtjKyspe3JbY109W107Zm9yKHZhciB1PWFbY10uc3BsaXQoXCIsXCIpLGQ9MDtkPHUubGVuZ3RoO2QrKylyW2NdW2RdPW5ldyBpLlRpbGUoby5sYXllcnNbMF0scGFyc2VJbnQodVtkXSwxMCksZCxjLHMsbik7MD09PWwmJihsPXUubGVuZ3RoKX1yZXR1cm4gby5mb3JtYXQ9aS5UaWxlbWFwLkNTVixvLm5hbWU9dCxvLndpZHRoPWwsby5oZWlnaHQ9aCxvLnRpbGVXaWR0aD1zLG8udGlsZUhlaWdodD1uLG8ud2lkdGhJblBpeGVscz1sKnMsby5oZWlnaHRJblBpeGVscz1oKm4sby5sYXllcnNbMF0ud2lkdGg9bCxvLmxheWVyc1swXS5oZWlnaHQ9aCxvLmxheWVyc1swXS53aWR0aEluUGl4ZWxzPW8ud2lkdGhJblBpeGVscyxvLmxheWVyc1swXS5oZWlnaHRJblBpeGVscz1vLmhlaWdodEluUGl4ZWxzLG8ubGF5ZXJzWzBdLmRhdGE9cixvfSxnZXRFbXB0eURhdGE6ZnVuY3Rpb24odCxlLGkscyl7cmV0dXJue3dpZHRoOnZvaWQgMCE9PWkmJm51bGwhPT1pP2k6MCxoZWlnaHQ6dm9pZCAwIT09cyYmbnVsbCE9PXM/czowLHRpbGVXaWR0aDp2b2lkIDAhPT10JiZudWxsIT09dD90OjAsdGlsZUhlaWdodDp2b2lkIDAhPT1lJiZudWxsIT09ZT9lOjAsb3JpZW50YXRpb246XCJvcnRob2dvbmFsXCIsdmVyc2lvbjpcIjFcIixwcm9wZXJ0aWVzOnt9LHdpZHRoSW5QaXhlbHM6MCxoZWlnaHRJblBpeGVsczowLGxheWVyczpbe25hbWU6XCJsYXllclwiLHg6MCx5OjAsd2lkdGg6MCxoZWlnaHQ6MCx3aWR0aEluUGl4ZWxzOjAsaGVpZ2h0SW5QaXhlbHM6MCxhbHBoYToxLHZpc2libGU6ITAscHJvcGVydGllczp7fSxpbmRleGVzOltdLGNhbGxiYWNrczpbXSxib2RpZXM6W10sZGF0YTpbXX1dLGltYWdlczpbXSxvYmplY3RzOnt9LGNvbGxpc2lvbjp7fSx0aWxlc2V0czpbXSx0aWxlczpbXX19LF9zbGljZTpmdW5jdGlvbih0LGUpe3ZhciBpPXt9O2Zvcih2YXIgcyBpbiBlKXt2YXIgbj1lW3NdO3ZvaWQgMCE9PXRbbl0mJihpW25dPXRbbl0pfXJldHVybiBpfSxwYXJzZU9iamVjdEdyb3VwOmZ1bmN0aW9uKHQsZSxpLHMsbil7dmFyIHM9c3x8dC5uYW1lLG49bnx8e3g6MCx5OjB9LG89dGhpcy5fc2xpY2U7c3x8Y29uc29sZS53YXJuKFwiTm8gbmFtZSBmb3VuZCBmb3Igb2JqZWN0R3JvdXBcIix0KSx2b2lkIDAhPT1uLngmJnZvaWQgMCE9PW4ueXx8Y29uc29sZS53YXJuKFwiTWFsZm9ybWVkIHh5IHByb3BlcnRpZXMgaW4gcmVsYXRpdmVQb3NpdGlvblwiLG4pLGVbc109ZVtzXXx8W10saVtzXT1pW3NdfHxbXTtmb3IodmFyIHI9MCxhPXQub2JqZWN0cy5sZW5ndGg7cjxhO3IrKyl7dmFyIGg9dC5vYmplY3RzW3JdO2lmKGguZ2lkKXtsPXtnaWQ6aC5naWQsbmFtZTpoLm5hbWUsdHlwZTpoLnR5cGV8fFwiXCIseDpoLngrbi54LHk6aC55K24ueSx3aWR0aDpoLndpZHRoLGhlaWdodDpoLmhlaWdodCx2aXNpYmxlOmgudmlzaWJsZSxwcm9wZXJ0aWVzOmgucHJvcGVydGllc307aC5yb3RhdGlvbiYmKGwucm90YXRpb249aC5yb3RhdGlvbiksZVtzXS5wdXNoKGwpfWVsc2UgaWYoaC5wb2x5bGluZSl7dmFyIGw9e25hbWU6aC5uYW1lLHR5cGU6aC50eXBlLHg6aC54K24ueCx5OmgueStuLnksd2lkdGg6aC53aWR0aCxoZWlnaHQ6aC5oZWlnaHQsdmlzaWJsZTpoLnZpc2libGUscHJvcGVydGllczpoLnByb3BlcnRpZXN9O2gucm90YXRpb24mJihsLnJvdGF0aW9uPWgucm90YXRpb24pLGwucG9seWxpbmU9W107Zm9yKGM9MDtjPGgucG9seWxpbmUubGVuZ3RoO2MrKylsLnBvbHlsaW5lLnB1c2goW2gucG9seWxpbmVbY10ueCxoLnBvbHlsaW5lW2NdLnldKTtpW3NdLnB1c2gobCksZVtzXS5wdXNoKGwpfWVsc2UgaWYoaC5wb2x5Z29uKXsobD1vKGgsW1wibmFtZVwiLFwidHlwZVwiLFwieFwiLFwieVwiLFwidmlzaWJsZVwiLFwicm90YXRpb25cIixcInByb3BlcnRpZXNcIl0pKS54Kz1uLngsbC55Kz1uLnksbC5wb2x5Z29uPVtdO2Zvcih2YXIgYz0wO2M8aC5wb2x5Z29uLmxlbmd0aDtjKyspbC5wb2x5Z29uLnB1c2goW2gucG9seWdvbltjXS54LGgucG9seWdvbltjXS55XSk7aVtzXS5wdXNoKGwpLGVbc10ucHVzaChsKX1lbHNlIGguZWxsaXBzZT8oKGw9byhoLFtcIm5hbWVcIixcInR5cGVcIixcImVsbGlwc2VcIixcInhcIixcInlcIixcIndpZHRoXCIsXCJoZWlnaHRcIixcInZpc2libGVcIixcInJvdGF0aW9uXCIsXCJwcm9wZXJ0aWVzXCJdKSkueCs9bi54LGwueSs9bi55LGlbc10ucHVzaChsKSxlW3NdLnB1c2gobCkpOigobD1vKGgsW1wibmFtZVwiLFwidHlwZVwiLFwieFwiLFwieVwiLFwid2lkdGhcIixcImhlaWdodFwiLFwidmlzaWJsZVwiLFwicm90YXRpb25cIixcInByb3BlcnRpZXNcIl0pKS54Kz1uLngsbC55Kz1uLnksbC5yZWN0YW5nbGU9ITAsaVtzXS5wdXNoKGwpLGVbc10ucHVzaChsKSl9cmV0dXJue29iamVjdHNDb2xsZWN0aW9uOmUsY29sbGlzaW9uQ29sbGVjdGlvbjppfX0scGFyc2VUaWxlZEpTT046ZnVuY3Rpb24odCl7aWYoXCJvcnRob2dvbmFsXCIhPT10Lm9yaWVudGF0aW9uKXJldHVybiBjb25zb2xlLndhcm4oXCJUaWxlbWFwUGFyc2VyLnBhcnNlVGlsZWRKU09OIC0gT25seSBvcnRob2dvbmFsIG1hcCB0eXBlcyBhcmUgc3VwcG9ydGVkIGluIHRoaXMgdmVyc2lvbiBvZiBQaGFzZXJcIiksbnVsbDtmb3IodmFyIGU9e3dpZHRoOnQud2lkdGgsaGVpZ2h0OnQuaGVpZ2h0LHRpbGVXaWR0aDp0LnRpbGV3aWR0aCx0aWxlSGVpZ2h0OnQudGlsZWhlaWdodCxvcmllbnRhdGlvbjp0Lm9yaWVudGF0aW9uLGZvcm1hdDppLlRpbGVtYXAuVElMRURfSlNPTix2ZXJzaW9uOnQudmVyc2lvbixwcm9wZXJ0aWVzOnQucHJvcGVydGllcyx3aWR0aEluUGl4ZWxzOnQud2lkdGgqdC50aWxld2lkdGgsaGVpZ2h0SW5QaXhlbHM6dC5oZWlnaHQqdC50aWxlaGVpZ2h0fSxzPVtdLG49MDtuPHQubGF5ZXJzLmxlbmd0aDtuKyspaWYoXCJ0aWxlbGF5ZXJcIj09PXQubGF5ZXJzW25dLnR5cGUpe3ZhciBvPXQubGF5ZXJzW25dO2lmKCFvLmNvbXByZXNzaW9uJiZvLmVuY29kaW5nJiZcImJhc2U2NFwiPT09by5lbmNvZGluZyl7Zm9yKHZhciByPXdpbmRvdy5hdG9iKG8uZGF0YSksYT1yLmxlbmd0aCxoPW5ldyBBcnJheShhKSxsPTA7bDxhO2wrPTQpaFtsLzRdPShyLmNoYXJDb2RlQXQobCl8ci5jaGFyQ29kZUF0KGwrMSk8PDh8ci5jaGFyQ29kZUF0KGwrMik8PDE2fHIuY2hhckNvZGVBdChsKzMpPDwyNCk+Pj4wO28uZGF0YT1oLGRlbGV0ZSBvLmVuY29kaW5nfWVsc2UgaWYoby5jb21wcmVzc2lvbil7Y29uc29sZS53YXJuKFwiVGlsZW1hcFBhcnNlci5wYXJzZVRpbGVkSlNPTiAtIExheWVyIGNvbXByZXNzaW9uIGlzIHVuc3VwcG9ydGVkLCBza2lwcGluZyBsYXllciAnXCIrby5uYW1lK1wiJ1wiKTtjb250aW51ZX1EPXtuYW1lOm8ubmFtZSx4Om8ueCx5Om8ueSx3aWR0aDpvLndpZHRoLGhlaWdodDpvLmhlaWdodCx3aWR0aEluUGl4ZWxzOm8ud2lkdGgqdC50aWxld2lkdGgsaGVpZ2h0SW5QaXhlbHM6by5oZWlnaHQqdC50aWxlaGVpZ2h0LGFscGhhOm8ub3BhY2l0eSxvZmZzZXRYOm8ub2Zmc2V0eCxvZmZzZXRZOm8ub2Zmc2V0eSx2aXNpYmxlOm8udmlzaWJsZSxwcm9wZXJ0aWVzOnt9LGluZGV4ZXM6W10sY2FsbGJhY2tzOltdLGJvZGllczpbXX07by5wcm9wZXJ0aWVzJiYoRC5wcm9wZXJ0aWVzPW8ucHJvcGVydGllcyk7Zm9yKHZhciBjLHUsZCxwPTAsZj1bXSxtPVtdLGc9MCxhPW8uZGF0YS5sZW5ndGg7ZzxhO2crKyl7aWYoYz0wLHU9ITEsaz1vLmRhdGFbZ10sZD0wLGs+NTM2ODcwOTEyKXN3aXRjaChrPjIxNDc0ODM2NDgmJihrLT0yMTQ3NDgzNjQ4LGQrPTQpLGs+MTA3Mzc0MTgyNCYmKGstPTEwNzM3NDE4MjQsZCs9Miksaz41MzY4NzA5MTImJihrLT01MzY4NzA5MTIsZCs9MSksZCl7Y2FzZSA1OmM9TWF0aC5QSS8yO2JyZWFrO2Nhc2UgNjpjPU1hdGguUEk7YnJlYWs7Y2FzZSAzOmM9MypNYXRoLlBJLzI7YnJlYWs7Y2FzZSA0OmM9MCx1PSEwO2JyZWFrO2Nhc2UgNzpjPU1hdGguUEkvMix1PSEwO2JyZWFrO2Nhc2UgMjpjPU1hdGguUEksdT0hMDticmVhaztjYXNlIDE6Yz0zKk1hdGguUEkvMix1PSEwfWs+MD8oKEI9bmV3IGkuVGlsZShELGsscCxtLmxlbmd0aCx0LnRpbGV3aWR0aCx0LnRpbGVoZWlnaHQpKS5yb3RhdGlvbj1jLEIuZmxpcHBlZD11LDAhPT1kJiYoQi5mbGlwcGVkVmFsPWQpLGYucHVzaChCKSk6aS5UaWxlbWFwUGFyc2VyLklOU0VSVF9OVUxMP2YucHVzaChudWxsKTpmLnB1c2gobmV3IGkuVGlsZShELC0xLHAsbS5sZW5ndGgsdC50aWxld2lkdGgsdC50aWxlaGVpZ2h0KSksKytwPT09by53aWR0aCYmKG0ucHVzaChmKSxwPTAsZj1bXSl9RC5kYXRhPW0scy5wdXNoKEQpfWUubGF5ZXJzPXM7Zm9yKHZhciB5PVtdLG49MDtuPHQubGF5ZXJzLmxlbmd0aDtuKyspaWYoXCJpbWFnZWxheWVyXCI9PT10LmxheWVyc1tuXS50eXBlKXt2YXIgdj10LmxheWVyc1tuXSx4PXtuYW1lOnYubmFtZSxpbWFnZTp2LmltYWdlLHg6di54LHk6di55LGFscGhhOnYub3BhY2l0eSx2aXNpYmxlOnYudmlzaWJsZSxwcm9wZXJ0aWVzOnt9fTt2LnByb3BlcnRpZXMmJih4LnByb3BlcnRpZXM9di5wcm9wZXJ0aWVzKSx5LnB1c2goeCl9ZS5pbWFnZXM9eTtmb3IodmFyIGI9W10sXz17fSx3PVtdLFQ9bnVsbCxuPTA7bjx0LnRpbGVzZXRzLmxlbmd0aDtuKyspe2lmKChVPXQudGlsZXNldHNbbl0pLnNvdXJjZSljb25zb2xlLndhcm4oXCJQaGFzZXIuVGlsZW1hcFBhcnNlciAtIFBoYXNlciBjYW4ndCBsb2FkIGV4dGVybmFsIHRpbGVzZXRzICglcykuIFVzZSB0aGUgRW1iZWQgVGlsZXNldCBidXR0b24gYW5kIHRoZW4gZXhwb3J0IHRoZSBtYXAgYWdhaW4uXCIsVS5zb3VyY2UpO2Vsc2UgaWYoVS5pbWFnZSl7dmFyIFA9bmV3IGkuVGlsZXNldChVLm5hbWUsVS5maXJzdGdpZCxVLnRpbGV3aWR0aCxVLnRpbGVoZWlnaHQsVS5tYXJnaW4sVS5zcGFjaW5nLFUucHJvcGVydGllcyk7VS50aWxlcHJvcGVydGllcyYmKFAudGlsZVByb3BlcnRpZXM9VS50aWxlcHJvcGVydGllcyksUC51cGRhdGVUaWxlRGF0YShVLmltYWdld2lkdGgsVS5pbWFnZWhlaWdodCksYi5wdXNoKFApfWVsc2V7aWYoIVUudGlsZXMpdGhyb3cgbmV3IEVycm9yKFwiVGlsZXNldCBcIitVLm5hbWUrXCIgaGFzIG5vIGBpbWFnZWAgb3IgYHRpbGVzYCBwcm9wZXJ0eS5cIik7dmFyIEM9bmV3IGkuSW1hZ2VDb2xsZWN0aW9uKFUubmFtZSxVLmZpcnN0Z2lkLFUudGlsZXdpZHRoLFUudGlsZWhlaWdodCxVLm1hcmdpbixVLnNwYWNpbmcsVS5wcm9wZXJ0aWVzKTtmb3IodmFyIFMgaW4gVS50aWxlcyl7dmFyIHg9VS50aWxlc1tTXS5pbWFnZSxrPVUuZmlyc3RnaWQrcGFyc2VJbnQoUywxMCk7Qy5hZGRJbWFnZShrLHgpfXcucHVzaChDKX1mb3IodmFyIFMgaW4gVS50aWxlcykoTz1VLnRpbGVzW1NdLm9iamVjdGdyb3VwKSYmKF9bcGFyc2VJbnQoUywxMCkrVS5maXJzdGdpZF09Tyk7VCYmKFQubGFzdGdpZD1VLmZpcnN0Z2lkLTEpLFQ9VX1pZigwPT09Yi5sZW5ndGgmJjA9PT13Lmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJUaGlzIHRpbGVtYXAgaGFzIG5vIHRpbGVzZXRzLlwiKTtlLnRpbGVzZXRzPWIsZS5pbWFnZWNvbGxlY3Rpb25zPXc7Zm9yKHZhciBBPXt9LE09e30sbj0wO248dC5sYXllcnMubGVuZ3RoO24rKylpZihcIm9iamVjdGdyb3VwXCI9PT10LmxheWVyc1tuXS50eXBlKXt2YXIgTz10LmxheWVyc1tuXTt0aGlzLnBhcnNlT2JqZWN0R3JvdXAoTyxBLE0pfWUub2JqZWN0cz1BLGUuY29sbGlzaW9uPU0sZS50aWxlcz1bXTtmb3Iobj0wO248ZS50aWxlc2V0cy5sZW5ndGg7bisrKWZvcih2YXIgcD0oVT1lLnRpbGVzZXRzW25dKS50aWxlTWFyZ2luLEk9VS50aWxlTWFyZ2luLEU9MCxSPTAsTD0wLGc9VS5maXJzdGdpZDtnPFUuZmlyc3RnaWQrVS50b3RhbCYmKGUudGlsZXNbZ109W3AsSSxuXSxwKz1VLnRpbGVXaWR0aCtVLnRpbGVTcGFjaW5nLCsrRSE9PVUudG90YWwpJiYoKytSIT09VS5jb2x1bW5zfHwocD1VLnRpbGVNYXJnaW4sSSs9VS50aWxlSGVpZ2h0K1UudGlsZVNwYWNpbmcsUj0wLCsrTCE9PVUucm93cykpO2crKyk7Zm9yKHZhciBELEIsRixVLG49MDtuPGUubGF5ZXJzLmxlbmd0aDtuKyspe01bKEQ9ZS5sYXllcnNbbl0pLm5hbWVdPVtdLFU9bnVsbDtmb3IobD0wO2w8RC5kYXRhLmxlbmd0aDtsKyspe2Y9RC5kYXRhW2xdO2Zvcih2YXIgRz0wO0c8Zi5sZW5ndGg7RysrKW51bGw9PT0oQj1mW0ddKXx8Qi5pbmRleDwwfHwoRj1lLnRpbGVzW0IuaW5kZXhdWzJdLChVPWUudGlsZXNldHNbRl0pLnRpbGVQcm9wZXJ0aWVzJiZVLnRpbGVQcm9wZXJ0aWVzW0IuaW5kZXgtVS5maXJzdGdpZF0mJihCLnByb3BlcnRpZXM9aS5VdGlscy5taXhpbihVLnRpbGVQcm9wZXJ0aWVzW0IuaW5kZXgtVS5maXJzdGdpZF0sQi5wcm9wZXJ0aWVzKSksKE89X1tCLmluZGV4XSkmJnRoaXMucGFyc2VPYmplY3RHcm91cChPLGUub2JqZWN0cyxlLmNvbGxpc2lvbixCLmxheWVyLm5hbWUse3g6Qi53b3JsZFgrTy54LHk6Qi53b3JsZFkrTy55fSkpfX1yZXR1cm4gZX19LGkuVGlsZXNldD1mdW5jdGlvbih0LGUsaSxzLG4sbyxyKXsodm9pZCAwPT09aXx8aTw9MCkmJihpPTMyKSwodm9pZCAwPT09c3x8czw9MCkmJihzPTMyKSx2b2lkIDA9PT1uJiYobj0wKSx2b2lkIDA9PT1vJiYobz0wKSx0aGlzLm5hbWU9dCx0aGlzLmZpcnN0Z2lkPTB8ZSx0aGlzLnRpbGVXaWR0aD0wfGksdGhpcy50aWxlSGVpZ2h0PTB8cyx0aGlzLnRpbGVNYXJnaW49MHxuLHRoaXMudGlsZVNwYWNpbmc9MHxvLHRoaXMucHJvcGVydGllcz1yfHx7fSx0aGlzLmltYWdlPW51bGwsdGhpcy5yb3dzPTAsdGhpcy5jb2x1bW5zPTAsdGhpcy50b3RhbD0wLHRoaXMuZHJhd0Nvb3Jkcz1bXX0saS5UaWxlc2V0LnByb3RvdHlwZT17ZHJhdzpmdW5jdGlvbih0LGUsaSxzKXt2YXIgbj1zLXRoaXMuZmlyc3RnaWQ8PDE7bj49MCYmbisxPHRoaXMuZHJhd0Nvb3Jkcy5sZW5ndGgmJnQuZHJhd0ltYWdlKHRoaXMuaW1hZ2UsdGhpcy5kcmF3Q29vcmRzW25dLHRoaXMuZHJhd0Nvb3Jkc1tuKzFdLHRoaXMudGlsZVdpZHRoLHRoaXMudGlsZUhlaWdodCxlLGksdGhpcy50aWxlV2lkdGgsdGhpcy50aWxlSGVpZ2h0KX0sY29udGFpbnNUaWxlSW5kZXg6ZnVuY3Rpb24odCl7cmV0dXJuIHQ+PXRoaXMuZmlyc3RnaWQmJnQ8dGhpcy5maXJzdGdpZCt0aGlzLnRvdGFsfSxzZXRJbWFnZTpmdW5jdGlvbih0KXt0aGlzLmltYWdlPXQsdGhpcy51cGRhdGVUaWxlRGF0YSh0LndpZHRoLHQuaGVpZ2h0KX0sc2V0U3BhY2luZzpmdW5jdGlvbih0LGUpe3RoaXMudGlsZU1hcmdpbj0wfHQsdGhpcy50aWxlU3BhY2luZz0wfGUsdGhpcy5pbWFnZSYmdGhpcy51cGRhdGVUaWxlRGF0YSh0aGlzLmltYWdlLndpZHRoLHRoaXMuaW1hZ2UuaGVpZ2h0KX0sdXBkYXRlVGlsZURhdGE6ZnVuY3Rpb24odCxlKXt2YXIgaT0oZS0yKnRoaXMudGlsZU1hcmdpbit0aGlzLnRpbGVTcGFjaW5nKS8odGhpcy50aWxlSGVpZ2h0K3RoaXMudGlsZVNwYWNpbmcpLHM9KHQtMip0aGlzLnRpbGVNYXJnaW4rdGhpcy50aWxlU3BhY2luZykvKHRoaXMudGlsZVdpZHRoK3RoaXMudGlsZVNwYWNpbmcpO2klMT09MCYmcyUxPT0wfHxjb25zb2xlLndhcm4oXCJQaGFzZXIuVGlsZXNldCAtICclcycgaW1hZ2UgdGlsZSBhcmVhICglcyB4ICVzKSBpcyBub3QgYSB3aG9sZSBtdWx0aXBsZSBvZiB0aWxlIHNpemUgKCVzIHggJXMgKyAlcyArICVzKVwiLHRoaXMubmFtZSx0LGUsdGhpcy50aWxlV2lkdGgsdGhpcy50aWxlSGVpZ2h0LHRoaXMudGlsZU1hcmdpbix0aGlzLnRpbGVTcGFjaW5nKSxpPU1hdGguZmxvb3IoaSkscz1NYXRoLmZsb29yKHMpLCh0aGlzLnJvd3MmJnRoaXMucm93cyE9PWl8fHRoaXMuY29sdW1ucyYmdGhpcy5jb2x1bW5zIT09cykmJmNvbnNvbGUud2FybihcIlBoYXNlci5UaWxlc2V0IC0gVGlsZSBsYXlvdXQgZnJvbSBpbWFnZSAnJXMnICglcyByb3dzIGJ5ICVzIGNvbHVtbnMpIGRpZmZlcnMgZnJvbSB0aWxlc2V0ICclcycgKCVzIHJvd3MgYnkgJXMgY29sdW1ucylcIix0aGlzLmltYWdlLm5hbWUscyxpLHRoaXMubmFtZSx0aGlzLmNvbHVtbnMsdGhpcy5yb3dzKSx0aGlzLnJvd3M9aSx0aGlzLmNvbHVtbnM9cyx0aGlzLnRvdGFsPWkqcyx0aGlzLmRyYXdDb29yZHMubGVuZ3RoPTA7Zm9yKHZhciBuPXRoaXMudGlsZU1hcmdpbixvPXRoaXMudGlsZU1hcmdpbixyPTA7cjx0aGlzLnJvd3M7cisrKXtmb3IodmFyIGE9MDthPHRoaXMuY29sdW1uczthKyspdGhpcy5kcmF3Q29vcmRzLnB1c2gobiksdGhpcy5kcmF3Q29vcmRzLnB1c2gobyksbis9dGhpcy50aWxlV2lkdGgrdGhpcy50aWxlU3BhY2luZztuPXRoaXMudGlsZU1hcmdpbixvKz10aGlzLnRpbGVIZWlnaHQrdGhpcy50aWxlU3BhY2luZ319fSxpLlRpbGVzZXQucHJvdG90eXBlLmNvbnN0cnVjdG9yPWkuVGlsZXNldCxpLlBhcnRpY2xlPWZ1bmN0aW9uKHQsZSxzLG4sbyl7aS5TcHJpdGUuY2FsbCh0aGlzLHQsZSxzLG4sbyksdGhpcy5hdXRvU2NhbGU9ITEsdGhpcy5zY2FsZURhdGE9bnVsbCx0aGlzLl9zPTAsdGhpcy5hdXRvQWxwaGE9ITEsdGhpcy5hbHBoYURhdGE9bnVsbCx0aGlzLl9hPTB9LGkuUGFydGljbGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoaS5TcHJpdGUucHJvdG90eXBlKSxpLlBhcnRpY2xlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1pLlBhcnRpY2xlLGkuUGFydGljbGUucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbigpe3RoaXMuYXV0b1NjYWxlJiYoLS10aGlzLl9zP3RoaXMuc2NhbGUuc2V0KHRoaXMuc2NhbGVEYXRhW3RoaXMuX3NdLngsdGhpcy5zY2FsZURhdGFbdGhpcy5fc10ueSk6dGhpcy5hdXRvU2NhbGU9ITEpLHRoaXMuYXV0b0FscGhhJiYoLS10aGlzLl9hP3RoaXMuYWxwaGE9dGhpcy5hbHBoYURhdGFbdGhpcy5fYV0udjp0aGlzLmF1dG9BbHBoYT0hMSl9LGkuUGFydGljbGUucHJvdG90eXBlLm9uRW1pdD1mdW5jdGlvbigpe30saS5QYXJ0aWNsZS5wcm90b3R5cGUuc2V0QWxwaGFEYXRhPWZ1bmN0aW9uKHQpe3RoaXMuYWxwaGFEYXRhPXQsdGhpcy5fYT10Lmxlbmd0aC0xLHRoaXMuYWxwaGE9dGhpcy5hbHBoYURhdGFbdGhpcy5fYV0udix0aGlzLmF1dG9BbHBoYT0hMH0saS5QYXJ0aWNsZS5wcm90b3R5cGUuc2V0U2NhbGVEYXRhPWZ1bmN0aW9uKHQpe3RoaXMuc2NhbGVEYXRhPXQsdGhpcy5fcz10Lmxlbmd0aC0xLHRoaXMuc2NhbGUuc2V0KHRoaXMuc2NhbGVEYXRhW3RoaXMuX3NdLngsdGhpcy5zY2FsZURhdGFbdGhpcy5fc10ueSksdGhpcy5hdXRvU2NhbGU9ITB9LGkuUGFydGljbGUucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKHQsZSxzKXtyZXR1cm4gaS5Db21wb25lbnQuUmVzZXQucHJvdG90eXBlLnJlc2V0LmNhbGwodGhpcyx0LGUscyksdGhpcy5hbHBoYT0xLHRoaXMuc2NhbGUuc2V0KDEpLHRoaXMuYXV0b1NjYWxlPSExLHRoaXMuYXV0b0FscGhhPSExLHRoaXN9LGkuUGFydGljbGVzPWZ1bmN0aW9uKHQpe3RoaXMuZ2FtZT10LHRoaXMuZW1pdHRlcnM9e30sdGhpcy5JRD0wfSxpLlBhcnRpY2xlcy5wcm90b3R5cGU9e2FkZDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5lbWl0dGVyc1t0LmlkXT10LHR9LHJlbW92ZTpmdW5jdGlvbih0KXtkZWxldGUgdGhpcy5lbWl0dGVyc1t0LmlkXX0sdXBkYXRlOmZ1bmN0aW9uKCl7Zm9yKHZhciB0IGluIHRoaXMuZW1pdHRlcnMpdGhpcy5lbWl0dGVyc1t0XS5leGlzdHMmJnRoaXMuZW1pdHRlcnNbdF0udXBkYXRlKCl9fSxpLlBhcnRpY2xlcy5wcm90b3R5cGUuY29uc3RydWN0b3I9aS5QYXJ0aWNsZXMsaS5QYXJ0aWNsZXMuQXJjYWRlPXt9LGkuUGFydGljbGVzLkFyY2FkZS5FbWl0dGVyPWZ1bmN0aW9uKHQsZSxzLG4pe3RoaXMubWF4UGFydGljbGVzPW58fDUwLGkuR3JvdXAuY2FsbCh0aGlzLHQpLHRoaXMuX2lkPXRoaXMuZ2FtZS5wYXJ0aWNsZXMuSUQrKyx0aGlzLm5hbWU9XCJlbWl0dGVyXCIrdGhpcy5pZCx0aGlzLnR5cGU9aS5FTUlUVEVSLHRoaXMucGh5c2ljc1R5cGU9aS5HUk9VUCx0aGlzLmFyZWE9bmV3IGkuUmVjdGFuZ2xlKGUscywxLDEpLHRoaXMubWluQW5nbGU9bnVsbCx0aGlzLm1heEFuZ2xlPW51bGwsdGhpcy5taW5TcGVlZD0wLHRoaXMubWF4U3BlZWQ9MTAwLHRoaXMubWluUGFydGljbGVTcGVlZD1uZXcgaS5Qb2ludCgtMTAwLC0xMDApLHRoaXMubWF4UGFydGljbGVTcGVlZD1uZXcgaS5Qb2ludCgxMDAsMTAwKSx0aGlzLm1pblBhcnRpY2xlU2NhbGU9MSx0aGlzLm1heFBhcnRpY2xlU2NhbGU9MSx0aGlzLnNjYWxlRGF0YT1udWxsLHRoaXMubWluUm90YXRpb249LTM2MCx0aGlzLm1heFJvdGF0aW9uPTM2MCx0aGlzLm1pblBhcnRpY2xlQWxwaGE9MSx0aGlzLm1heFBhcnRpY2xlQWxwaGE9MSx0aGlzLmFscGhhRGF0YT1udWxsLHRoaXMucGFydGljbGVDbGFzcz1pLlBhcnRpY2xlLHRoaXMucGFydGljbGVEcmFnPW5ldyBpLlBvaW50LHRoaXMuYW5ndWxhckRyYWc9MCx0aGlzLmZyZXF1ZW5jeT0xMDAsdGhpcy5saWZlc3Bhbj0yZTMsdGhpcy5ib3VuY2U9bmV3IGkuUG9pbnQsdGhpcy5vbj0hMSx0aGlzLnBhcnRpY2xlQW5jaG9yPW5ldyBpLlBvaW50KC41LC41KSx0aGlzLmJsZW5kTW9kZT1pLmJsZW5kTW9kZXMuTk9STUFMLHRoaXMuZW1pdFg9ZSx0aGlzLmVtaXRZPXMsdGhpcy5hdXRvU2NhbGU9ITEsdGhpcy5hdXRvQWxwaGE9ITEsdGhpcy5wYXJ0aWNsZUJyaW5nVG9Ub3A9ITEsdGhpcy5wYXJ0aWNsZVNlbmRUb0JhY2s9ITEsdGhpcy5jb3VudHM9e2VtaXR0ZWQ6MCxmYWlsZWQ6MCx0b3RhbEVtaXR0ZWQ6MCx0b3RhbEZhaWxlZDowfSx0aGlzLl9ncmF2aXR5PW5ldyBpLlBvaW50KDAsMTAwKSx0aGlzLl9taW5QYXJ0aWNsZVNjYWxlPW5ldyBpLlBvaW50KDEsMSksdGhpcy5fbWF4UGFydGljbGVTY2FsZT1uZXcgaS5Qb2ludCgxLDEpLHRoaXMuX3RvdGFsPTAsdGhpcy5fdGltZXI9MCx0aGlzLl9jb3VudGVyPTAsdGhpcy5fZmxvd1F1YW50aXR5PTAsdGhpcy5fZmxvd1RvdGFsPTAsdGhpcy5fZXhwbG9kZT0hMCx0aGlzLl9mcmFtZXM9bnVsbH0saS5QYXJ0aWNsZXMuQXJjYWRlLkVtaXR0ZXIucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoaS5Hcm91cC5wcm90b3R5cGUpLGkuUGFydGljbGVzLkFyY2FkZS5FbWl0dGVyLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1pLlBhcnRpY2xlcy5BcmNhZGUuRW1pdHRlcixpLlBhcnRpY2xlcy5BcmNhZGUuRW1pdHRlci5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKCl7aWYodGhpcy5jb3VudHMuZW1pdHRlZD0wLHRoaXMuY291bnRzLmZhaWxlZD0wLHRoaXMub24mJnRoaXMuZ2FtZS50aW1lLnRpbWU+PXRoaXMuX3RpbWVyKWlmKHRoaXMuX3RpbWVyPXRoaXMuZ2FtZS50aW1lLnRpbWUrdGhpcy5mcmVxdWVuY3kqdGhpcy5nYW1lLnRpbWUuc2xvd01vdGlvbiwwIT09dGhpcy5fZmxvd1RvdGFsKWlmKHRoaXMuX2Zsb3dRdWFudGl0eT4wKXtmb3IodD0wO3Q8dGhpcy5fZmxvd1F1YW50aXR5O3QrKylpZih0aGlzLmVtaXRQYXJ0aWNsZSgpJiYodGhpcy5fY291bnRlcisrLC0xIT09dGhpcy5fZmxvd1RvdGFsJiZ0aGlzLl9jb3VudGVyPj10aGlzLl9mbG93VG90YWwpKXt0aGlzLm9uPSExO2JyZWFrfX1lbHNlIHRoaXMuZW1pdFBhcnRpY2xlKCkmJih0aGlzLl9jb3VudGVyKyssLTEhPT10aGlzLl9mbG93VG90YWwmJnRoaXMuX2NvdW50ZXI+PXRoaXMuX2Zsb3dUb3RhbCYmKHRoaXMub249ITEpKTtlbHNlIHRoaXMuZW1pdFBhcnRpY2xlKCkmJih0aGlzLl9jb3VudGVyKyssdGhpcy5fdG90YWw+MCYmdGhpcy5fY291bnRlcj49dGhpcy5fdG90YWwmJih0aGlzLm9uPSExKSk7Zm9yKHZhciB0PXRoaXMuY2hpbGRyZW4ubGVuZ3RoO3QtLTspdGhpcy5jaGlsZHJlblt0XS5leGlzdHMmJnRoaXMuY2hpbGRyZW5bdF0udXBkYXRlKCl9LGkuUGFydGljbGVzLkFyY2FkZS5FbWl0dGVyLnByb3RvdHlwZS5tYWtlUGFydGljbGVzPWZ1bmN0aW9uKHQsZSxpLHMsbixvKXt2b2lkIDA9PT1lJiYoZT0wKSx2b2lkIDA9PT1pJiYoaT10aGlzLm1heFBhcnRpY2xlcyksdm9pZCAwPT09cyYmKHM9ITEpLHZvaWQgMD09PW4mJihuPSExKSx2b2lkIDA9PT1vJiYobz1udWxsKTt2YXIgcixhPTAsaD10LGw9ZTtmb3IodGhpcy5fZnJhbWVzPWUsaT50aGlzLm1heFBhcnRpY2xlcyYmKHRoaXMubWF4UGFydGljbGVzPWkpO2E8aTspQXJyYXkuaXNBcnJheSh0KSYmKGg9dGhpcy5nYW1lLnJuZC5waWNrKHQpKSxBcnJheS5pc0FycmF5KGUpJiYobD10aGlzLmdhbWUucm5kLnBpY2soZSkpLHI9bmV3IHRoaXMucGFydGljbGVDbGFzcyh0aGlzLmdhbWUsMCwwLGgsbCxvKSx0aGlzLmdhbWUucGh5c2ljcy5hcmNhZGUuZW5hYmxlKHIsITEpLHIuYm9keS5jaGVja0NvbGxpc2lvbi5ub25lPSFzLHIuYm9keS5jb2xsaWRlV29ybGRCb3VuZHM9bixyLmJvZHkuc2tpcFF1YWRUcmVlPSEwLHIuZXhpc3RzPSExLHIudmlzaWJsZT0hMSxyLmFuY2hvci5jb3B5RnJvbSh0aGlzLnBhcnRpY2xlQW5jaG9yKSx0aGlzLmFkZChyKSxhKys7cmV0dXJuIHRoaXN9LGkuUGFydGljbGVzLkFyY2FkZS5FbWl0dGVyLnByb3RvdHlwZS5raWxsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub249ITEsdGhpcy5hbGl2ZT0hMSx0aGlzLmV4aXN0cz0hMSx0aGlzfSxpLlBhcnRpY2xlcy5BcmNhZGUuRW1pdHRlci5wcm90b3R5cGUucmV2aXZlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYWxpdmU9ITAsdGhpcy5leGlzdHM9ITAsdGhpc30saS5QYXJ0aWNsZXMuQXJjYWRlLkVtaXR0ZXIucHJvdG90eXBlLmV4cGxvZGU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9dGhpcy5tYXhQYXJ0aWNsZXMpLHRoaXMuX2Zsb3dUb3RhbD0wLHRoaXMuc3RhcnQoITAsdCwwLGUsITEpLHRoaXN9LGkuUGFydGljbGVzLkFyY2FkZS5FbWl0dGVyLnByb3RvdHlwZS5mbG93PWZ1bmN0aW9uKHQsZSxpLHMsbil7cmV0dXJuIHZvaWQgMCE9PWUmJm51bGwhPT1lfHwoZT0yNTApLHZvaWQgMCE9PWkmJjAhPT1pfHwoaT0xKSx2b2lkIDA9PT1zJiYocz0tMSksdm9pZCAwPT09biYmKG49ITApLGk+dGhpcy5tYXhQYXJ0aWNsZXMmJihpPXRoaXMubWF4UGFydGljbGVzKSx0aGlzLl9jb3VudGVyPTAsdGhpcy5fZmxvd1F1YW50aXR5PWksdGhpcy5fZmxvd1RvdGFsPXMsbj8odGhpcy5zdGFydCghMCx0LGUsaSksdGhpcy5fY291bnRlcis9aSx0aGlzLm9uPSEwLHRoaXMuX3RpbWVyPXRoaXMuZ2FtZS50aW1lLnRpbWUrZSp0aGlzLmdhbWUudGltZS5zbG93TW90aW9uKTp0aGlzLnN0YXJ0KCExLHQsZSxpKSx0aGlzfSxpLlBhcnRpY2xlcy5BcmNhZGUuRW1pdHRlci5wcm90b3R5cGUuc3RhcnQ9ZnVuY3Rpb24odCxlLGkscyxuKXtpZih2b2lkIDA9PT10JiYodD0hMCksdm9pZCAwPT09ZSYmKGU9MCksdm9pZCAwIT09aSYmbnVsbCE9PWl8fChpPTI1MCksdm9pZCAwPT09cyYmKHM9MCksdm9pZCAwPT09biYmKG49ITEpLHM+dGhpcy5tYXhQYXJ0aWNsZXMmJihzPXRoaXMubWF4UGFydGljbGVzKSx0aGlzLnJldml2ZSgpLHRoaXMudmlzaWJsZT0hMCx0aGlzLmxpZmVzcGFuPWUsdGhpcy5mcmVxdWVuY3k9aSx0fHxuKWZvcih2YXIgbz0wO288cztvKyspdGhpcy5lbWl0UGFydGljbGUoKTtlbHNlIHRoaXMub249ITAsdGhpcy5fdG90YWw9cyx0aGlzLl9jb3VudGVyPTAsdGhpcy5fdGltZXI9dGhpcy5nYW1lLnRpbWUudGltZStpKnRoaXMuZ2FtZS50aW1lLnNsb3dNb3Rpb247cmV0dXJuIHRoaXN9LGkuUGFydGljbGVzLkFyY2FkZS5FbWl0dGVyLnByb3RvdHlwZS5lbWl0UGFydGljbGU9ZnVuY3Rpb24odCxlLGkscyl7dm9pZCAwPT09dCYmKHQ9bnVsbCksdm9pZCAwPT09ZSYmKGU9bnVsbCk7dmFyIG49dGhpcy5nZXROZXh0UGFydGljbGUoKTtpZihudWxsPT09bilyZXR1cm4gdGhpcy5jb3VudHMuZmFpbGVkKyssdGhpcy5jb3VudHMudG90YWxGYWlsZWQrKywhMTt0aGlzLmNvdW50cy5lbWl0dGVkKyssdGhpcy5jb3VudHMudG90YWxFbWl0dGVkKys7dmFyIG89dGhpcy5nYW1lLnJuZDt2b2lkIDAhPT1pJiZ2b2lkIDAhPT1zP24ubG9hZFRleHR1cmUoaSxzKTp2b2lkIDAhPT1pJiYobi5sb2FkVGV4dHVyZShpKSxuLmZyYW1lPUFycmF5LmlzQXJyYXkodGhpcy5fZnJhbWVzKT9vLnBpY2sodGhpcy5fZnJhbWVzKTp0aGlzLl9mcmFtZXMpO3ZhciByPXRoaXMuZW1pdFgsYT10aGlzLmVtaXRZO3JldHVybiBudWxsIT09dD9yPXQ6dGhpcy53aWR0aD4xJiYocj1vLmJldHdlZW4odGhpcy5sZWZ0LHRoaXMucmlnaHQpKSxudWxsIT09ZT9hPWU6dGhpcy5oZWlnaHQ+MSYmKGE9by5iZXR3ZWVuKHRoaXMudG9wLHRoaXMuYm90dG9tKSksdGhpcy5yZXNldFBhcnRpY2xlKG4scixhKSwhMH0saS5QYXJ0aWNsZXMuQXJjYWRlLkVtaXR0ZXIucHJvdG90eXBlLmdldE5leHRQYXJ0aWNsZT1mdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLmxlbmd0aDt0LS07KXt2YXIgZT10aGlzLm5leHQoKTtpZighZS5leGlzdHMpcmV0dXJuIGV9cmV0dXJuIG51bGx9LGkuUGFydGljbGVzLkFyY2FkZS5FbWl0dGVyLnByb3RvdHlwZS5yZXNldFBhcnRpY2xlPWZ1bmN0aW9uKHQsZSxpKXt2YXIgcz10aGlzLmdhbWUucm5kO3QucmVzZXQoZSxpKSx0LmFuZ2xlPTAsdC5saWZlc3Bhbj10aGlzLmxpZmVzcGFuLHRoaXMucGFydGljbGVCcmluZ1RvVG9wP3RoaXMuYnJpbmdUb1RvcCh0KTp0aGlzLnBhcnRpY2xlU2VuZFRvQmFjayYmdGhpcy5zZW5kVG9CYWNrKHQpLHRoaXMuYXV0b1NjYWxlP3Quc2V0U2NhbGVEYXRhKHRoaXMuc2NhbGVEYXRhKToxIT09dGhpcy5taW5QYXJ0aWNsZVNjYWxlfHwxIT09dGhpcy5tYXhQYXJ0aWNsZVNjYWxlP3Quc2NhbGUuc2V0KHMucmVhbEluUmFuZ2UodGhpcy5taW5QYXJ0aWNsZVNjYWxlLHRoaXMubWF4UGFydGljbGVTY2FsZSkpOnRoaXMuX21pblBhcnRpY2xlU2NhbGUueCE9PXRoaXMuX21heFBhcnRpY2xlU2NhbGUueHx8dGhpcy5fbWluUGFydGljbGVTY2FsZS55IT09dGhpcy5fbWF4UGFydGljbGVTY2FsZS55P3Quc2NhbGUuc2V0KHMucmVhbEluUmFuZ2UodGhpcy5fbWluUGFydGljbGVTY2FsZS54LHRoaXMuX21heFBhcnRpY2xlU2NhbGUueCkscy5yZWFsSW5SYW5nZSh0aGlzLl9taW5QYXJ0aWNsZVNjYWxlLnksdGhpcy5fbWF4UGFydGljbGVTY2FsZS55KSk6dC5zY2FsZS5zZXQodGhpcy5fbWluUGFydGljbGVTY2FsZS54LHRoaXMuX21pblBhcnRpY2xlU2NhbGUueSksdGhpcy5hdXRvQWxwaGE/dC5zZXRBbHBoYURhdGEodGhpcy5hbHBoYURhdGEpOnQuYWxwaGE9cy5yZWFsSW5SYW5nZSh0aGlzLm1pblBhcnRpY2xlQWxwaGEsdGhpcy5tYXhQYXJ0aWNsZUFscGhhKSx0LmJsZW5kTW9kZT10aGlzLmJsZW5kTW9kZTt2YXIgbj10LmJvZHk7bi51cGRhdGVCb3VuZHMoKSxuLmJvdW5jZS5jb3B5RnJvbSh0aGlzLmJvdW5jZSksbi5kcmFnLmNvcHlGcm9tKHRoaXMucGFydGljbGVEcmFnKSxudWxsIT10aGlzLm1pbkFuZ2xlJiZudWxsIT10aGlzLm1heEFuZ2xlP3RoaXMuZ2FtZS5waHlzaWNzLmFyY2FkZS52ZWxvY2l0eUZyb21BbmdsZSh0aGlzLm1pbkFuZ2xlPT09dGhpcy5tYXhBbmdsZT90aGlzLm1pbkFuZ2xlOnMuYmV0d2Vlbih0aGlzLm1pbkFuZ2xlLHRoaXMubWF4QW5nbGUpLHRoaXMubWluU3BlZWQ9PT10aGlzLm1heFNwZWVkP3RoaXMubWluU3BlZWQ6cy5iZXR3ZWVuKHRoaXMubWluU3BlZWQsdGhpcy5tYXhTcGVlZCksbi52ZWxvY2l0eSk6KG4udmVsb2NpdHkueD1zLmJldHdlZW4odGhpcy5taW5QYXJ0aWNsZVNwZWVkLngsdGhpcy5tYXhQYXJ0aWNsZVNwZWVkLngpLG4udmVsb2NpdHkueT1zLmJldHdlZW4odGhpcy5taW5QYXJ0aWNsZVNwZWVkLnksdGhpcy5tYXhQYXJ0aWNsZVNwZWVkLnkpKSxuLmFuZ3VsYXJWZWxvY2l0eT1zLmJldHdlZW4odGhpcy5taW5Sb3RhdGlvbix0aGlzLm1heFJvdGF0aW9uKSxuLmdyYXZpdHkuY29weUZyb20odGhpcy5ncmF2aXR5KSxuLmFuZ3VsYXJEcmFnPXRoaXMuYW5ndWxhckRyYWcsdC5vbkVtaXQoKX0saS5QYXJ0aWNsZXMuQXJjYWRlLkVtaXR0ZXIucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmdhbWUucGFydGljbGVzLnJlbW92ZSh0aGlzKSxpLkdyb3VwLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcywhMCwhMSl9LGkuUGFydGljbGVzLkFyY2FkZS5FbWl0dGVyLnByb3RvdHlwZS5zZXRTaXplPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuYXJlYS53aWR0aD10LHRoaXMuYXJlYS5oZWlnaHQ9ZSx0aGlzfSxpLlBhcnRpY2xlcy5BcmNhZGUuRW1pdHRlci5wcm90b3R5cGUuc2V0WFNwZWVkPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQ9dHx8MCxlPWV8fDAsdGhpcy5taW5QYXJ0aWNsZVNwZWVkLng9dCx0aGlzLm1heFBhcnRpY2xlU3BlZWQueD1lLHRoaXN9LGkuUGFydGljbGVzLkFyY2FkZS5FbWl0dGVyLnByb3RvdHlwZS5zZXRZU3BlZWQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdD10fHwwLGU9ZXx8MCx0aGlzLm1pblBhcnRpY2xlU3BlZWQueT10LHRoaXMubWF4UGFydGljbGVTcGVlZC55PWUsdGhpc30saS5QYXJ0aWNsZXMuQXJjYWRlLkVtaXR0ZXIucHJvdG90eXBlLnNldFJvdGF0aW9uPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQ9dHx8MCxlPWV8fDAsdGhpcy5taW5Sb3RhdGlvbj10LHRoaXMubWF4Um90YXRpb249ZSx0aGlzfSxpLlBhcnRpY2xlcy5BcmNhZGUuRW1pdHRlci5wcm90b3R5cGUuc2V0QWxwaGE9ZnVuY3Rpb24odCxlLHMsbixvKXtpZih2b2lkIDA9PT10JiYodD0xKSx2b2lkIDA9PT1lJiYoZT0xKSx2b2lkIDA9PT1zJiYocz0wKSx2b2lkIDA9PT1uJiYobj1pLkVhc2luZy5MaW5lYXIuTm9uZSksdm9pZCAwPT09byYmKG89ITEpLHRoaXMubWluUGFydGljbGVBbHBoYT10LHRoaXMubWF4UGFydGljbGVBbHBoYT1lLHRoaXMuYXV0b0FscGhhPSExLHM+MCYmdCE9PWUpe3ZhciByPXt2OnR9LGE9dGhpcy5nYW1lLm1ha2UudHdlZW4ocikudG8oe3Y6ZX0scyxuKTthLnlveW8obyksdGhpcy5hbHBoYURhdGE9YS5nZW5lcmF0ZURhdGEoNjApLHRoaXMuYWxwaGFEYXRhLnJldmVyc2UoKSx0aGlzLmF1dG9BbHBoYT0hMH1yZXR1cm4gdGhpc30saS5QYXJ0aWNsZXMuQXJjYWRlLkVtaXR0ZXIucHJvdG90eXBlLnNldFNjYWxlPWZ1bmN0aW9uKHQsZSxzLG4sbyxyLGEpe2lmKHZvaWQgMD09PXQmJih0PTEpLHZvaWQgMD09PWUmJihlPTEpLHZvaWQgMD09PXMmJihzPTEpLHZvaWQgMD09PW4mJihuPTEpLHZvaWQgMD09PW8mJihvPTApLHZvaWQgMD09PXImJihyPWkuRWFzaW5nLkxpbmVhci5Ob25lKSx2b2lkIDA9PT1hJiYoYT0hMSksdGhpcy5taW5QYXJ0aWNsZVNjYWxlPTEsdGhpcy5tYXhQYXJ0aWNsZVNjYWxlPTEsdGhpcy5fbWluUGFydGljbGVTY2FsZS5zZXQodCxzKSx0aGlzLl9tYXhQYXJ0aWNsZVNjYWxlLnNldChlLG4pLHRoaXMuYXV0b1NjYWxlPSExLG8+MCYmKHQhPT1lfHxzIT09bikpe3ZhciBoPXt4OnQseTpzfSxsPXRoaXMuZ2FtZS5tYWtlLnR3ZWVuKGgpLnRvKHt4OmUseTpufSxvLHIpO2wueW95byhhKSx0aGlzLnNjYWxlRGF0YT1sLmdlbmVyYXRlRGF0YSg2MCksdGhpcy5zY2FsZURhdGEucmV2ZXJzZSgpLHRoaXMuYXV0b1NjYWxlPSEwfXJldHVybiB0aGlzfSxpLlBhcnRpY2xlcy5BcmNhZGUuRW1pdHRlci5wcm90b3R5cGUuc2V0QW5nbGU9ZnVuY3Rpb24odCxlLGkscyl7cmV0dXJuIHRoaXMubWluQW5nbGU9dCx0aGlzLm1heEFuZ2xlPWUsbnVsbCE9aSYmKHRoaXMubWluU3BlZWQ9aSksbnVsbCE9cyYmKHRoaXMubWF4U3BlZWQ9cyksdGhpc30saS5QYXJ0aWNsZXMuQXJjYWRlLkVtaXR0ZXIucHJvdG90eXBlLmF0PWZ1bmN0aW9uKHQpe3JldHVybiB0LmNlbnRlcj8odGhpcy5lbWl0WD10LmNlbnRlci54LHRoaXMuZW1pdFk9dC5jZW50ZXIueSk6KHRoaXMuZW1pdFg9dC53b3JsZC54K3QuYW5jaG9yLngqdC53aWR0aCx0aGlzLmVtaXRZPXQud29ybGQueSt0LmFuY2hvci55KnQuaGVpZ2h0KSx0aGlzfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5QYXJ0aWNsZXMuQXJjYWRlLkVtaXR0ZXIucHJvdG90eXBlLFwiZ3Jhdml0eVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ3Jhdml0eX0sc2V0OmZ1bmN0aW9uKHQpe1wibnVtYmVyXCI9PXR5cGVvZiB0P3RoaXMuX2dyYXZpdHkueT10OnRoaXMuX2dyYXZpdHk9dH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5QYXJ0aWNsZXMuQXJjYWRlLkVtaXR0ZXIucHJvdG90eXBlLFwiaWRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lkfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLlBhcnRpY2xlcy5BcmNhZGUuRW1pdHRlci5wcm90b3R5cGUsXCJ3aWR0aFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hcmVhLndpZHRofSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5hcmVhLndpZHRoPXR9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuUGFydGljbGVzLkFyY2FkZS5FbWl0dGVyLnByb3RvdHlwZSxcImhlaWdodFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hcmVhLmhlaWdodH0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuYXJlYS5oZWlnaHQ9dH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5QYXJ0aWNsZXMuQXJjYWRlLkVtaXR0ZXIucHJvdG90eXBlLFwieFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbWl0WH0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuZW1pdFg9dH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5QYXJ0aWNsZXMuQXJjYWRlLkVtaXR0ZXIucHJvdG90eXBlLFwieVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbWl0WX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuZW1pdFk9dH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5QYXJ0aWNsZXMuQXJjYWRlLkVtaXR0ZXIucHJvdG90eXBlLFwibGVmdFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gTWF0aC5mbG9vcih0aGlzLngtdGhpcy5hcmVhLndpZHRoLzIpfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLlBhcnRpY2xlcy5BcmNhZGUuRW1pdHRlci5wcm90b3R5cGUsXCJyaWdodFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gTWF0aC5mbG9vcih0aGlzLngrdGhpcy5hcmVhLndpZHRoLzIpfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLlBhcnRpY2xlcy5BcmNhZGUuRW1pdHRlci5wcm90b3R5cGUsXCJ0b3BcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIE1hdGguZmxvb3IodGhpcy55LXRoaXMuYXJlYS5oZWlnaHQvMil9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuUGFydGljbGVzLkFyY2FkZS5FbWl0dGVyLnByb3RvdHlwZSxcImJvdHRvbVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gTWF0aC5mbG9vcih0aGlzLnkrdGhpcy5hcmVhLmhlaWdodC8yKX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5QYXJ0aWNsZXMuQXJjYWRlLkVtaXR0ZXIucHJvdG90eXBlLFwib3V0cHV0XCIse2dldDpmdW5jdGlvbigpe3JldHVybiAxZTMqdGhpcy5fZmxvd1F1YW50aXR5L3RoaXMuZnJlcXVlbmN5fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLlBhcnRpY2xlcy5BcmNhZGUuRW1pdHRlci5wcm90b3R5cGUsXCJsaWZlc3Bhbk91dHB1dFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4oMD09PXRoaXMubGlmZXNwYW4/MS8wOnRoaXMubGlmZXNwYW4pKnRoaXMuX2Zsb3dRdWFudGl0eS90aGlzLmZyZXF1ZW5jeX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5QYXJ0aWNsZXMuQXJjYWRlLkVtaXR0ZXIucHJvdG90eXBlLFwicmVtYWluZGVyXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1heFBhcnRpY2xlcy10aGlzLmxpZmVzcGFuT3V0cHV0fX0pLGkuV2VhcG9uPWZ1bmN0aW9uKHQsZSl7aS5QbHVnaW4uY2FsbCh0aGlzLHQsZSksdGhpcy5idWxsZXRzPW51bGwsdGhpcy5hdXRvRXhwYW5kQnVsbGV0c0dyb3VwPSExLHRoaXMuYXV0b2ZpcmU9ITEsdGhpcy5zaG90cz0wLHRoaXMuZmlyZUxpbWl0PTAsdGhpcy5maXJlUmF0ZT0xMDAsdGhpcy5maXJlUmF0ZVZhcmlhbmNlPTAsdGhpcy5maXJlRnJvbT1uZXcgaS5SZWN0YW5nbGUoMCwwLDEsMSksdGhpcy5maXJlQW5nbGU9aS5BTkdMRV9VUCx0aGlzLmJ1bGxldEluaGVyaXRTcHJpdGVTcGVlZD0hMSx0aGlzLmJ1bGxldEFuaW1hdGlvbj1cIlwiLHRoaXMuYnVsbGV0RnJhbWVSYW5kb209ITEsdGhpcy5idWxsZXRGcmFtZUN5Y2xlPSExLHRoaXMuYnVsbGV0V29ybGRXcmFwPSExLHRoaXMuYnVsbGV0V29ybGRXcmFwUGFkZGluZz0wLHRoaXMuYnVsbGV0QW5nbGVPZmZzZXQ9MCx0aGlzLmJ1bGxldEFuZ2xlVmFyaWFuY2U9MCx0aGlzLmJ1bGxldFNwZWVkPTIwMCx0aGlzLmJ1bGxldFNwZWVkVmFyaWFuY2U9MCx0aGlzLmJ1bGxldExpZmVzcGFuPTAsdGhpcy5idWxsZXRLaWxsRGlzdGFuY2U9MCx0aGlzLmJ1bGxldEdyYXZpdHk9bmV3IGkuUG9pbnQoMCwwKSx0aGlzLmJ1bGxldFJvdGF0ZVRvVmVsb2NpdHk9ITEsdGhpcy5idWxsZXRLZXk9XCJcIix0aGlzLmJ1bGxldEZyYW1lPVwiXCIsdGhpcy5fYnVsbGV0Q2xhc3M9aS5CdWxsZXQsdGhpcy5fYnVsbGV0Q29sbGlkZVdvcmxkQm91bmRzPSExLHRoaXMuX2J1bGxldEtpbGxUeXBlPWkuV2VhcG9uLktJTExfV09STERfQk9VTkRTLHRoaXMuX2RhdGE9e2N1c3RvbUJvZHk6ITEsd2lkdGg6MCxoZWlnaHQ6MCxvZmZzZXRYOjAsb2Zmc2V0WTowfSx0aGlzLmJvdW5kcz1uZXcgaS5SZWN0YW5nbGUsdGhpcy5idWxsZXRCb3VuZHM9dC53b3JsZC5ib3VuZHMsdGhpcy5idWxsZXRGcmFtZXM9W10sdGhpcy5idWxsZXRGcmFtZUluZGV4PTAsdGhpcy5hbmltcz17fSx0aGlzLm9uRmlyZT1uZXcgaS5TaWduYWwsdGhpcy5vbktpbGw9bmV3IGkuU2lnbmFsLHRoaXMub25GaXJlTGltaXQ9bmV3IGkuU2lnbmFsLHRoaXMudHJhY2tlZFNwcml0ZT1udWxsLHRoaXMudHJhY2tlZFBvaW50ZXI9bnVsbCx0aGlzLm11bHRpRmlyZT0hMSx0aGlzLl9oYXNGaXJlZD0hMSx0aGlzLnRyYWNrUm90YXRpb249ITEsdGhpcy50cmFja09mZnNldD1uZXcgaS5Qb2ludCx0aGlzLl9uZXh0RmlyZT0wLHRoaXMuX3RlbXBOZXh0RmlyZT0wLHRoaXMuX3JvdGF0ZWRQb2ludD1uZXcgaS5Qb2ludH0saS5XZWFwb24ucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoaS5QbHVnaW4ucHJvdG90eXBlKSxpLldlYXBvbi5wcm90b3R5cGUuY29uc3RydWN0b3I9aS5XZWFwb24saS5XZWFwb24uS0lMTF9ORVZFUj0wLGkuV2VhcG9uLktJTExfTElGRVNQQU49MSxpLldlYXBvbi5LSUxMX0RJU1RBTkNFPTIsaS5XZWFwb24uS0lMTF9XRUFQT05fQk9VTkRTPTMsaS5XZWFwb24uS0lMTF9DQU1FUkFfQk9VTkRTPTQsaS5XZWFwb24uS0lMTF9XT1JMRF9CT1VORFM9NSxpLldlYXBvbi5LSUxMX1NUQVRJQ19CT1VORFM9NixpLldlYXBvbi5wcm90b3R5cGUuY3JlYXRlQnVsbGV0cz1mdW5jdGlvbih0LGUscyxuKXtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9MSksdm9pZCAwPT09biYmKG49dGhpcy5nYW1lLndvcmxkKSx0aGlzLmJ1bGxldHMmJiF0aGlzLmJ1bGxldHMuZ2FtZSYmKHRoaXMuYnVsbGV0cz1udWxsKSx0aGlzLmJ1bGxldHN8fCh0aGlzLmJ1bGxldHM9dGhpcy5nYW1lLmFkZC5waHlzaWNzR3JvdXAoaS5QaHlzaWNzLkFSQ0FERSxuKSx0aGlzLmJ1bGxldHMuY2xhc3NUeXBlPXRoaXMuX2J1bGxldENsYXNzKSwwIT09dCYmKC0xPT09dCYmKHRoaXMuYXV0b0V4cGFuZEJ1bGxldHNHcm91cD0hMCx0PTEpLHRoaXMuYnVsbGV0cy5jcmVhdGVNdWx0aXBsZSh0LGUscyksdGhpcy5idWxsZXRzLnNldEFsbChcImRhdGEuYnVsbGV0TWFuYWdlclwiLHRoaXMpLHRoaXMuYnVsbGV0S2V5PWUsdGhpcy5idWxsZXRGcmFtZT1zKSx0aGlzfSxpLldlYXBvbi5wcm90b3R5cGUuZm9yRWFjaD1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmJ1bGxldHMuZm9yRWFjaEV4aXN0cyh0LGUsYXJndW1lbnRzKSx0aGlzfSxpLldlYXBvbi5wcm90b3R5cGUucGF1c2VBbGw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5idWxsZXRzLnNldEFsbChcImJvZHkuZW5hYmxlXCIsITEpLHRoaXN9LGkuV2VhcG9uLnByb3RvdHlwZS5yZXN1bWVBbGw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5idWxsZXRzLnNldEFsbChcImJvZHkuZW5hYmxlXCIsITApLHRoaXN9LGkuV2VhcG9uLnByb3RvdHlwZS5raWxsQWxsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYnVsbGV0cy5jYWxsQWxsRXhpc3RzKFwia2lsbFwiLCEwKSx0aGlzLmJ1bGxldHMuc2V0QWxsKFwiYm9keS5lbmFibGVcIiwhMCksdGhpc30saS5XZWFwb24ucHJvdG90eXBlLnJlc2V0U2hvdHM9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuc2hvdHM9MCx2b2lkIDAhPT10JiYodGhpcy5maXJlTGltaXQ9dCksdGhpc30saS5XZWFwb24ucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLnBhcmVudC5yZW1vdmUodGhpcywhMSksdGhpcy5idWxsZXRzLmRlc3Ryb3koKSx0aGlzLmdhbWU9bnVsbCx0aGlzLnBhcmVudD1udWxsLHRoaXMuYWN0aXZlPSExLHRoaXMudmlzaWJsZT0hMX0saS5XZWFwb24ucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbigpe3RoaXMuX2J1bGxldEtpbGxUeXBlPT09aS5XZWFwb24uS0lMTF9XRUFQT05fQk9VTkRTJiYodGhpcy50cmFja2VkU3ByaXRlPyh0aGlzLnRyYWNrZWRTcHJpdGUudXBkYXRlVHJhbnNmb3JtKCksdGhpcy5ib3VuZHMuY2VudGVyT24odGhpcy50cmFja2VkU3ByaXRlLndvcmxkUG9zaXRpb24ueCx0aGlzLnRyYWNrZWRTcHJpdGUud29ybGRQb3NpdGlvbi55KSk6dGhpcy50cmFja2VkUG9pbnRlciYmdGhpcy5ib3VuZHMuY2VudGVyT24odGhpcy50cmFja2VkUG9pbnRlci53b3JsZFgsdGhpcy50cmFja2VkUG9pbnRlci53b3JsZFkpKSx0aGlzLmF1dG9maXJlJiZ0aGlzLmZpcmUoKX0saS5XZWFwb24ucHJvdG90eXBlLnBvc3RSZW5kZXI9ZnVuY3Rpb24oKXt0aGlzLm11bHRpRmlyZSYmdGhpcy5faGFzRmlyZWQmJih0aGlzLl9oYXNGaXJlZD0hMSx0aGlzLl9uZXh0RmlyZT10aGlzLl90ZW1wTmV4dEZpcmUpfSxpLldlYXBvbi5wcm90b3R5cGUudHJhY2tTcHJpdGU9ZnVuY3Rpb24odCxlLGkscyl7cmV0dXJuIHZvaWQgMD09PWUmJihlPTApLHZvaWQgMD09PWkmJihpPTApLHZvaWQgMD09PXMmJihzPSExKSx0aGlzLnRyYWNrZWRQb2ludGVyPW51bGwsdGhpcy50cmFja2VkU3ByaXRlPXQsdGhpcy50cmFja1JvdGF0aW9uPXMsdGhpcy50cmFja09mZnNldC5zZXQoZSxpKSx0aGlzfSxpLldlYXBvbi5wcm90b3R5cGUudHJhY2tQb2ludGVyPWZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9dGhpcy5nYW1lLmlucHV0LmFjdGl2ZVBvaW50ZXIpLHZvaWQgMD09PWUmJihlPTApLHZvaWQgMD09PWkmJihpPTApLHRoaXMudHJhY2tlZFBvaW50ZXI9dCx0aGlzLnRyYWNrZWRTcHJpdGU9bnVsbCx0aGlzLnRyYWNrUm90YXRpb249ITEsdGhpcy50cmFja09mZnNldC5zZXQoZSxpKSx0aGlzfSxpLldlYXBvbi5wcm90b3R5cGUuZmlyZU1hbnk9ZnVuY3Rpb24odCxlKXt0aGlzLm11bHRpRmlyZT0hMDt2YXIgaT1bXSxzPXRoaXM7cmV0dXJuIGV8fHRoaXMudHJhY2tlZFNwcml0ZXx8dGhpcy50cmFja2VkUG9pbnRlcj90LmZvckVhY2goZnVuY3Rpb24odCl7aS5wdXNoKHMuZmlyZShlLG51bGwsbnVsbCx0LngsdC55KSl9KTp0LmZvckVhY2goZnVuY3Rpb24odCl7aS5wdXNoKHMuZmlyZSh0KSl9KSxpfSxpLldlYXBvbi5wcm90b3R5cGUuZmlyZU9mZnNldD1mdW5jdGlvbih0LGUpe3JldHVybiB2b2lkIDA9PT10JiYodD0wKSx2b2lkIDA9PT1lJiYoZT0wKSx0aGlzLmZpcmUobnVsbCxudWxsLG51bGwsdCxlKX0saS5XZWFwb24ucHJvdG90eXBlLmZpcmU9ZnVuY3Rpb24odCxlLHMsbixvKXtpZih2b2lkIDA9PT1lJiYoZT1udWxsKSx2b2lkIDA9PT1zJiYocz1udWxsKSx0aGlzLmdhbWUudGltZS5ub3c8dGhpcy5fbmV4dEZpcmV8fHRoaXMuZmlyZUxpbWl0PjAmJnRoaXMuc2hvdHM9PT10aGlzLmZpcmVMaW1pdClyZXR1cm4gbnVsbDt2YXIgcj10aGlzLmJ1bGxldFNwZWVkOzAhPT10aGlzLmJ1bGxldFNwZWVkVmFyaWFuY2UmJihyKz1pLk1hdGguYmV0d2VlbigtdGhpcy5idWxsZXRTcGVlZFZhcmlhbmNlLHRoaXMuYnVsbGV0U3BlZWRWYXJpYW5jZSkpLHQ/dGhpcy5maXJlRnJvbS53aWR0aD4xP3RoaXMuZmlyZUZyb20uY2VudGVyT24odC54LHQueSk6KHRoaXMuZmlyZUZyb20ueD10LngsdGhpcy5maXJlRnJvbS55PXQueSk6dGhpcy50cmFja2VkU3ByaXRlPyh0aGlzLnRyYWNrUm90YXRpb24/KHRoaXMuX3JvdGF0ZWRQb2ludC5zZXQodGhpcy50cmFja2VkU3ByaXRlLndvcmxkLngrdGhpcy50cmFja09mZnNldC54LHRoaXMudHJhY2tlZFNwcml0ZS53b3JsZC55K3RoaXMudHJhY2tPZmZzZXQueSksdGhpcy5fcm90YXRlZFBvaW50LnJvdGF0ZSh0aGlzLnRyYWNrZWRTcHJpdGUud29ybGQueCx0aGlzLnRyYWNrZWRTcHJpdGUud29ybGQueSx0aGlzLnRyYWNrZWRTcHJpdGUud29ybGRSb3RhdGlvbiksdGhpcy5maXJlRnJvbS53aWR0aD4xP3RoaXMuZmlyZUZyb20uY2VudGVyT24odGhpcy5fcm90YXRlZFBvaW50LngsdGhpcy5fcm90YXRlZFBvaW50LnkpOih0aGlzLmZpcmVGcm9tLng9dGhpcy5fcm90YXRlZFBvaW50LngsdGhpcy5maXJlRnJvbS55PXRoaXMuX3JvdGF0ZWRQb2ludC55KSk6dGhpcy5maXJlRnJvbS53aWR0aD4xP3RoaXMuZmlyZUZyb20uY2VudGVyT24odGhpcy50cmFja2VkU3ByaXRlLndvcmxkLngrdGhpcy50cmFja09mZnNldC54LHRoaXMudHJhY2tlZFNwcml0ZS53b3JsZC55K3RoaXMudHJhY2tPZmZzZXQueSk6KHRoaXMuZmlyZUZyb20ueD10aGlzLnRyYWNrZWRTcHJpdGUud29ybGQueCt0aGlzLnRyYWNrT2Zmc2V0LngsdGhpcy5maXJlRnJvbS55PXRoaXMudHJhY2tlZFNwcml0ZS53b3JsZC55K3RoaXMudHJhY2tPZmZzZXQueSksdGhpcy5idWxsZXRJbmhlcml0U3ByaXRlU3BlZWQmJihyKz10aGlzLnRyYWNrZWRTcHJpdGUuYm9keS5zcGVlZCkpOnRoaXMudHJhY2tlZFBvaW50ZXImJih0aGlzLmZpcmVGcm9tLndpZHRoPjE/dGhpcy5maXJlRnJvbS5jZW50ZXJPbih0aGlzLnRyYWNrZWRQb2ludGVyLndvcmxkLngrdGhpcy50cmFja09mZnNldC54LHRoaXMudHJhY2tlZFBvaW50ZXIud29ybGQueSt0aGlzLnRyYWNrT2Zmc2V0LnkpOih0aGlzLmZpcmVGcm9tLng9dGhpcy50cmFja2VkUG9pbnRlci53b3JsZC54K3RoaXMudHJhY2tPZmZzZXQueCx0aGlzLmZpcmVGcm9tLnk9dGhpcy50cmFja2VkUG9pbnRlci53b3JsZC55K3RoaXMudHJhY2tPZmZzZXQueSkpLHZvaWQgMCE9PW4mJih0aGlzLmZpcmVGcm9tLngrPW4pLHZvaWQgMCE9PW8mJih0aGlzLmZpcmVGcm9tLnkrPW8pO3ZhciBhPXRoaXMuZmlyZUZyb20ud2lkdGg+MT90aGlzLmZpcmVGcm9tLnJhbmRvbVg6dGhpcy5maXJlRnJvbS54LGg9dGhpcy5maXJlRnJvbS5oZWlnaHQ+MT90aGlzLmZpcmVGcm9tLnJhbmRvbVk6dGhpcy5maXJlRnJvbS55LGw9dGhpcy50cmFja1JvdGF0aW9uP3RoaXMudHJhY2tlZFNwcml0ZS5hbmdsZTp0aGlzLmZpcmVBbmdsZTtudWxsIT09ZSYmbnVsbCE9PXMmJihsPXRoaXMuZ2FtZS5tYXRoLnJhZFRvRGVnKE1hdGguYXRhbjIocy1oLGUtYSkpKSwwIT09dGhpcy5idWxsZXRBbmdsZVZhcmlhbmNlJiYobCs9aS5NYXRoLmJldHdlZW4oLXRoaXMuYnVsbGV0QW5nbGVWYXJpYW5jZSx0aGlzLmJ1bGxldEFuZ2xlVmFyaWFuY2UpKTt2YXIgYz0wLHU9MDswPT09bHx8MTgwPT09bD9jPU1hdGguY29zKHRoaXMuZ2FtZS5tYXRoLmRlZ1RvUmFkKGwpKSpyOjkwPT09bHx8MjcwPT09bD91PU1hdGguc2luKHRoaXMuZ2FtZS5tYXRoLmRlZ1RvUmFkKGwpKSpyOihjPU1hdGguY29zKHRoaXMuZ2FtZS5tYXRoLmRlZ1RvUmFkKGwpKSpyLHU9TWF0aC5zaW4odGhpcy5nYW1lLm1hdGguZGVnVG9SYWQobCkpKnIpO3ZhciBkPW51bGw7aWYodGhpcy5hdXRvRXhwYW5kQnVsbGV0c0dyb3VwPyhkPXRoaXMuYnVsbGV0cy5nZXRGaXJzdEV4aXN0cyghMSwhMCxhLGgsdGhpcy5idWxsZXRLZXksdGhpcy5idWxsZXRGcmFtZSkpLmRhdGEuYnVsbGV0TWFuYWdlcj10aGlzOmQ9dGhpcy5idWxsZXRzLmdldEZpcnN0RXhpc3RzKCExKSxkKXtpZihkLnJlc2V0KGEsaCksZC5kYXRhLmZyb21YPWEsZC5kYXRhLmZyb21ZPWgsZC5kYXRhLmtpbGxUeXBlPXRoaXMuYnVsbGV0S2lsbFR5cGUsZC5kYXRhLmtpbGxEaXN0YW5jZT10aGlzLmJ1bGxldEtpbGxEaXN0YW5jZSxkLmRhdGEucm90YXRlVG9WZWxvY2l0eT10aGlzLmJ1bGxldFJvdGF0ZVRvVmVsb2NpdHksdGhpcy5idWxsZXRLaWxsVHlwZT09PWkuV2VhcG9uLktJTExfTElGRVNQQU4mJihkLmxpZmVzcGFuPXRoaXMuYnVsbGV0TGlmZXNwYW4pLGQuYW5nbGU9bCt0aGlzLmJ1bGxldEFuZ2xlT2Zmc2V0LFwiXCIhPT10aGlzLmJ1bGxldEFuaW1hdGlvbil7aWYobnVsbD09PWQuYW5pbWF0aW9ucy5nZXRBbmltYXRpb24odGhpcy5idWxsZXRBbmltYXRpb24pKXt2YXIgcD10aGlzLmFuaW1zW3RoaXMuYnVsbGV0QW5pbWF0aW9uXTtkLmFuaW1hdGlvbnMuYWRkKHAubmFtZSxwLmZyYW1lcyxwLmZyYW1lUmF0ZSxwLmxvb3AscC51c2VOdW1lcmljSW5kZXgpfWQuYW5pbWF0aW9ucy5wbGF5KHRoaXMuYnVsbGV0QW5pbWF0aW9uKX1lbHNlIHRoaXMuYnVsbGV0RnJhbWVDeWNsZT8oZC5mcmFtZT10aGlzLmJ1bGxldEZyYW1lc1t0aGlzLmJ1bGxldEZyYW1lSW5kZXhdLCsrdGhpcy5idWxsZXRGcmFtZUluZGV4Pj10aGlzLmJ1bGxldEZyYW1lcy5sZW5ndGgmJih0aGlzLmJ1bGxldEZyYW1lSW5kZXg9MCkpOnRoaXMuYnVsbGV0RnJhbWVSYW5kb20mJihkLmZyYW1lPXRoaXMuYnVsbGV0RnJhbWVzW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSp0aGlzLmJ1bGxldEZyYW1lcy5sZW5ndGgpXSk7ZC5kYXRhLmJvZHlEaXJ0eSYmKHRoaXMuX2RhdGEuY3VzdG9tQm9keSYmZC5ib2R5LnNldFNpemUodGhpcy5fZGF0YS53aWR0aCx0aGlzLl9kYXRhLmhlaWdodCx0aGlzLl9kYXRhLm9mZnNldFgsdGhpcy5fZGF0YS5vZmZzZXRZKSxkLmJvZHkuY29sbGlkZVdvcmxkQm91bmRzPXRoaXMuYnVsbGV0Q29sbGlkZVdvcmxkQm91bmRzLGQuZGF0YS5ib2R5RGlydHk9ITEpLGQuYm9keS52ZWxvY2l0eS5zZXQoYyx1KSxkLmJvZHkuZ3Jhdml0eS5zZXQodGhpcy5idWxsZXRHcmF2aXR5LngsdGhpcy5idWxsZXRHcmF2aXR5LnkpO3ZhciBmPTA7aWYoMCE9PXRoaXMuYnVsbGV0U3BlZWRWYXJpYW5jZSl7dmFyIG09dGhpcy5maXJlUmF0ZTsobSs9aS5NYXRoLmJldHdlZW4oLXRoaXMuZmlyZVJhdGVWYXJpYW5jZSx0aGlzLmZpcmVSYXRlVmFyaWFuY2UpKTwwJiYobT0wKSxmPXRoaXMuZ2FtZS50aW1lLm5vdyttfWVsc2UgZj10aGlzLmdhbWUudGltZS5ub3crdGhpcy5maXJlUmF0ZTt0aGlzLm11bHRpRmlyZT90aGlzLl9oYXNGaXJlZHx8KHRoaXMuX2hhc0ZpcmVkPSEwLHRoaXMuX3RlbXBOZXh0RmlyZT1mLHRoaXMuc2hvdHMrKyk6KHRoaXMuX25leHRGaXJlPWYsdGhpcy5zaG90cysrKSx0aGlzLm9uRmlyZS5kaXNwYXRjaChkLHRoaXMsciksdGhpcy5maXJlTGltaXQ+MCYmdGhpcy5zaG90cz09PXRoaXMuZmlyZUxpbWl0JiZ0aGlzLm9uRmlyZUxpbWl0LmRpc3BhdGNoKHRoaXMsdGhpcy5maXJlTGltaXQpfXJldHVybiBkfSxpLldlYXBvbi5wcm90b3R5cGUuZmlyZUF0UG9pbnRlcj1mdW5jdGlvbih0KXtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9dGhpcy5nYW1lLmlucHV0LmFjdGl2ZVBvaW50ZXIpLHRoaXMuZmlyZShudWxsLHQud29ybGRYLHQud29ybGRZKX0saS5XZWFwb24ucHJvdG90eXBlLmZpcmVBdFNwcml0ZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5maXJlKG51bGwsdC53b3JsZC54LHQud29ybGQueSl9LGkuV2VhcG9uLnByb3RvdHlwZS5maXJlQXRYWT1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmZpcmUobnVsbCx0LGUpfSxpLldlYXBvbi5wcm90b3R5cGUuc2V0QnVsbGV0Qm9keU9mZnNldD1mdW5jdGlvbih0LGUsaSxzKXtyZXR1cm4gdm9pZCAwPT09aSYmKGk9MCksdm9pZCAwPT09cyYmKHM9MCksdGhpcy5fZGF0YS5jdXN0b21Cb2R5PSEwLHRoaXMuX2RhdGEud2lkdGg9dCx0aGlzLl9kYXRhLmhlaWdodD1lLHRoaXMuX2RhdGEub2Zmc2V0WD1pLHRoaXMuX2RhdGEub2Zmc2V0WT1zLHRoaXMuYnVsbGV0cy5jYWxsQWxsKFwiYm9keS5zZXRTaXplXCIsXCJib2R5XCIsdCxlLGkscyksdGhpcy5idWxsZXRzLnNldEFsbChcImRhdGEuYm9keURpcnR5XCIsITEpLHRoaXN9LGkuV2VhcG9uLnByb3RvdHlwZS5zZXRCdWxsZXRGcmFtZXM9ZnVuY3Rpb24odCxlLHMsbil7cmV0dXJuIHZvaWQgMD09PXMmJihzPSEwKSx2b2lkIDA9PT1uJiYobj0hMSksdGhpcy5idWxsZXRGcmFtZXM9aS5BcnJheVV0aWxzLm51bWJlckFycmF5KHQsZSksdGhpcy5idWxsZXRGcmFtZUluZGV4PTAsdGhpcy5idWxsZXRGcmFtZUN5Y2xlPXMsdGhpcy5idWxsZXRGcmFtZVJhbmRvbT1uLHRoaXN9LGkuV2VhcG9uLnByb3RvdHlwZS5hZGRCdWxsZXRBbmltYXRpb249ZnVuY3Rpb24odCxlLGkscyxuKXtyZXR1cm4gdGhpcy5hbmltc1t0XT17bmFtZTp0LGZyYW1lczplLGZyYW1lUmF0ZTppLGxvb3A6cyx1c2VOdW1lcmljSW5kZXg6bn0sdGhpcy5idWxsZXRzLmNhbGxBbGwoXCJhbmltYXRpb25zLmFkZFwiLFwiYW5pbWF0aW9uc1wiLHQsZSxpLHMsbiksdGhpcy5idWxsZXRBbmltYXRpb249dCx0aGlzfSxpLldlYXBvbi5wcm90b3R5cGUuZGVidWc9ZnVuY3Rpb24odCxlLGkpe3ZvaWQgMD09PXQmJih0PTE2KSx2b2lkIDA9PT1lJiYoZT0zMiksdm9pZCAwPT09aSYmKGk9ITEpLHRoaXMuZ2FtZS5kZWJ1Zy50ZXh0KFwiV2VhcG9uIFBsdWdpblwiLHQsZSksdGhpcy5nYW1lLmRlYnVnLnRleHQoXCJCdWxsZXRzIEFsaXZlOiBcIit0aGlzLmJ1bGxldHMudG90YWwrXCIgLSBUb3RhbDogXCIrdGhpcy5idWxsZXRzLmxlbmd0aCx0LGUrMjQpLGkmJnRoaXMuYnVsbGV0cy5mb3JFYWNoRXhpc3RzKHRoaXMuZ2FtZS5kZWJ1Zy5ib2R5LHRoaXMuZ2FtZS5kZWJ1ZyxcInJnYmEoMjU1LCAwLCAyNTUsIDAuOClcIil9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLldlYXBvbi5wcm90b3R5cGUsXCJidWxsZXRDbGFzc1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYnVsbGV0Q2xhc3N9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9idWxsZXRDbGFzcz10LHRoaXMuYnVsbGV0cyYmKHRoaXMuYnVsbGV0cy5jbGFzc1R5cGU9dGhpcy5fYnVsbGV0Q2xhc3MpfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLldlYXBvbi5wcm90b3R5cGUsXCJidWxsZXRLaWxsVHlwZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYnVsbGV0S2lsbFR5cGV9LHNldDpmdW5jdGlvbih0KXtzd2l0Y2godCl7Y2FzZSBpLldlYXBvbi5LSUxMX1NUQVRJQ19CT1VORFM6Y2FzZSBpLldlYXBvbi5LSUxMX1dFQVBPTl9CT1VORFM6dGhpcy5idWxsZXRCb3VuZHM9dGhpcy5ib3VuZHM7YnJlYWs7Y2FzZSBpLldlYXBvbi5LSUxMX0NBTUVSQV9CT1VORFM6dGhpcy5idWxsZXRCb3VuZHM9dGhpcy5nYW1lLmNhbWVyYS52aWV3O2JyZWFrO2Nhc2UgaS5XZWFwb24uS0lMTF9XT1JMRF9CT1VORFM6dGhpcy5idWxsZXRCb3VuZHM9dGhpcy5nYW1lLndvcmxkLmJvdW5kc310aGlzLl9idWxsZXRLaWxsVHlwZT10fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLldlYXBvbi5wcm90b3R5cGUsXCJidWxsZXRDb2xsaWRlV29ybGRCb3VuZHNcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2J1bGxldENvbGxpZGVXb3JsZEJvdW5kc30sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2J1bGxldENvbGxpZGVXb3JsZEJvdW5kcz10LHRoaXMuYnVsbGV0cy5zZXRBbGwoXCJib2R5LmNvbGxpZGVXb3JsZEJvdW5kc1wiLHQpLHRoaXMuYnVsbGV0cy5zZXRBbGwoXCJkYXRhLmJvZHlEaXJ0eVwiLCExKX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5XZWFwb24ucHJvdG90eXBlLFwieFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5maXJlRnJvbS54fSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5maXJlRnJvbS54PXR9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuV2VhcG9uLnByb3RvdHlwZSxcInlcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZmlyZUZyb20ueX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuZmlyZUZyb20ueT10fX0pLGkuQnVsbGV0PWZ1bmN0aW9uKHQsZSxzLG4sbyl7aS5TcHJpdGUuY2FsbCh0aGlzLHQsZSxzLG4sbyksdGhpcy5hbmNob3Iuc2V0KC41KSx0aGlzLmRhdGE9e2J1bGxldE1hbmFnZXI6bnVsbCxmcm9tWDowLGZyb21ZOjAsYm9keURpcnR5OiEwLHJvdGF0ZVRvVmVsb2NpdHk6ITEsa2lsbFR5cGU6MCxraWxsRGlzdGFuY2U6MH19LGkuQnVsbGV0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGkuU3ByaXRlLnByb3RvdHlwZSksaS5CdWxsZXQucHJvdG90eXBlLmNvbnN0cnVjdG9yPWkuQnVsbGV0LGkuQnVsbGV0LnByb3RvdHlwZS5raWxsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYWxpdmU9ITEsdGhpcy5leGlzdHM9ITEsdGhpcy52aXNpYmxlPSExLHRoaXMuZGF0YS5idWxsZXRNYW5hZ2VyLm9uS2lsbC5kaXNwYXRjaCh0aGlzKSx0aGlzfSxpLkJ1bGxldC5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKCl7dGhpcy5leGlzdHMmJih0aGlzLmRhdGEua2lsbFR5cGU+aS5XZWFwb24uS0lMTF9MSUZFU1BBTiYmKHRoaXMuZGF0YS5raWxsVHlwZT09PWkuV2VhcG9uLktJTExfRElTVEFOQ0U/dGhpcy5nYW1lLnBoeXNpY3MuYXJjYWRlLmRpc3RhbmNlVG9YWSh0aGlzLHRoaXMuZGF0YS5mcm9tWCx0aGlzLmRhdGEuZnJvbVksITApPnRoaXMuZGF0YS5raWxsRGlzdGFuY2UmJnRoaXMua2lsbCgpOnRoaXMuZGF0YS5idWxsZXRNYW5hZ2VyLmJ1bGxldEJvdW5kcy5pbnRlcnNlY3RzKHRoaXMpfHx0aGlzLmtpbGwoKSksdGhpcy5kYXRhLnJvdGF0ZVRvVmVsb2NpdHkmJih0aGlzLnJvdGF0aW9uPXRoaXMuYm9keS52ZWxvY2l0eS5hdGFuKCkpLHRoaXMuZGF0YS5idWxsZXRNYW5hZ2VyLmJ1bGxldFdvcmxkV3JhcCYmdGhpcy5nYW1lLndvcmxkLndyYXAodGhpcyx0aGlzLmRhdGEuYnVsbGV0TWFuYWdlci5idWxsZXRXb3JsZFdyYXBQYWRkaW5nKSl9LGkuVmlkZW89ZnVuY3Rpb24odCxlLHMpe2lmKHZvaWQgMD09PWUmJihlPW51bGwpLHZvaWQgMD09PXMmJihzPW51bGwpLHRoaXMuZ2FtZT10LHRoaXMua2V5PWUsdGhpcy53aWR0aD0wLHRoaXMuaGVpZ2h0PTAsdGhpcy50eXBlPWkuVklERU8sdGhpcy5kaXNhYmxlVGV4dHVyZVVwbG9hZD0hMSx0aGlzLnRvdWNoTG9ja2VkPSExLHRoaXMub25QbGF5PW5ldyBpLlNpZ25hbCx0aGlzLm9uQ2hhbmdlU291cmNlPW5ldyBpLlNpZ25hbCx0aGlzLm9uQ29tcGxldGU9bmV3IGkuU2lnbmFsLHRoaXMub25BY2Nlc3M9bmV3IGkuU2lnbmFsLHRoaXMub25FcnJvcj1uZXcgaS5TaWduYWwsdGhpcy5vblRpbWVvdXQ9bmV3IGkuU2lnbmFsLHRoaXMudGltZW91dD0xNWUzLHRoaXMuX3RpbWVPdXRJRD1udWxsLHRoaXMudmlkZW89bnVsbCx0aGlzLnZpZGVvU3RyZWFtPW51bGwsdGhpcy5pc1N0cmVhbWluZz0hMSx0aGlzLnJldHJ5TGltaXQ9MjAsdGhpcy5yZXRyeT0wLHRoaXMucmV0cnlJbnRlcnZhbD01MDAsdGhpcy5fcmV0cnlJRD1udWxsLHRoaXMuX2NvZGVNdXRlZD0hMSx0aGlzLl9tdXRlZD0hMSx0aGlzLl9jb2RlUGF1c2VkPSExLHRoaXMuX3BhdXNlZD0hMSx0aGlzLl9wZW5kaW5nPSExLHRoaXMuX3BlbmRpbmdDaGFuZ2VTb3VyY2U9ITEsdGhpcy5fYXV0b3BsYXk9ITEsdGhpcy5fZW5kQ2FsbGJhY2s9bnVsbCx0aGlzLl9wbGF5Q2FsbGJhY2s9bnVsbCxlJiZ0aGlzLmdhbWUuY2FjaGUuY2hlY2tWaWRlb0tleShlKSl7dmFyIG49dGhpcy5nYW1lLmNhY2hlLmdldFZpZGVvKGUpO24uaXNCbG9iP3RoaXMuY3JlYXRlVmlkZW9Gcm9tQmxvYihuLmRhdGEpOnRoaXMudmlkZW89bi5kYXRhLHRoaXMud2lkdGg9dGhpcy52aWRlby52aWRlb1dpZHRoLHRoaXMuaGVpZ2h0PXRoaXMudmlkZW8udmlkZW9IZWlnaHR9ZWxzZSBzJiZ0aGlzLmNyZWF0ZVZpZGVvRnJvbVVSTChzLCExKTt0aGlzLnZpZGVvJiYhcz8odGhpcy5iYXNlVGV4dHVyZT1uZXcgUElYSS5CYXNlVGV4dHVyZSh0aGlzLnZpZGVvLG51bGwsdGhpcy5nYW1lLnJlc29sdXRpb24pLHRoaXMuYmFzZVRleHR1cmUuZm9yY2VMb2FkZWQodGhpcy53aWR0aCx0aGlzLmhlaWdodCkpOih0aGlzLmJhc2VUZXh0dXJlPW5ldyBQSVhJLkJhc2VUZXh0dXJlKGkuQ2FjaGUuREVGQVVMVC5iYXNlVGV4dHVyZS5zb3VyY2UsbnVsbCx0aGlzLmdhbWUucmVzb2x1dGlvbiksdGhpcy5iYXNlVGV4dHVyZS5mb3JjZUxvYWRlZCh0aGlzLndpZHRoLHRoaXMuaGVpZ2h0KSksdGhpcy50ZXh0dXJlPW5ldyBQSVhJLlRleHR1cmUodGhpcy5iYXNlVGV4dHVyZSksdGhpcy50ZXh0dXJlRnJhbWU9bmV3IGkuRnJhbWUoMCwwLDAsdGhpcy53aWR0aCx0aGlzLmhlaWdodCxcInZpZGVvXCIpLHRoaXMudGV4dHVyZS5zZXRGcmFtZSh0aGlzLnRleHR1cmVGcmFtZSksdGhpcy50ZXh0dXJlLnZhbGlkPSExLG51bGwhPT1lJiZ0aGlzLnZpZGVvJiYodGhpcy50ZXh0dXJlLnZhbGlkPXRoaXMudmlkZW8uY2FucGxheSksdGhpcy5zbmFwc2hvdD1udWxsLGkuQml0bWFwRGF0YSYmKHRoaXMuc25hcHNob3Q9bmV3IGkuQml0bWFwRGF0YSh0aGlzLmdhbWUsXCJcIix0aGlzLndpZHRoLHRoaXMuaGVpZ2h0KSksdGhpcy5nYW1lLmRldmljZS5uZWVkc1RvdWNoVW5sb2NrKCk/dGhpcy5zZXRUb3VjaExvY2soKTpuJiYobi5sb2NrZWQ9ITEpfSxpLlZpZGVvLnByb3RvdHlwZT17Y29ubmVjdFRvTWVkaWFTdHJlYW06ZnVuY3Rpb24odCxlKXtyZXR1cm4gdCYmZSYmKHRoaXMudmlkZW89dCx0aGlzLnZpZGVvU3RyZWFtPWUsdGhpcy5pc1N0cmVhbWluZz0hMCx0aGlzLmJhc2VUZXh0dXJlLnNvdXJjZT10aGlzLnZpZGVvLHRoaXMudXBkYXRlVGV4dHVyZShudWxsLHRoaXMudmlkZW8udmlkZW9XaWR0aCx0aGlzLnZpZGVvLnZpZGVvSGVpZ2h0KSx0aGlzLm9uQWNjZXNzLmRpc3BhdGNoKHRoaXMpKSx0aGlzfSxzdGFydE1lZGlhU3RyZWFtOmZ1bmN0aW9uKHQsZSxpKXtpZih2b2lkIDA9PT10JiYodD0hMSksdm9pZCAwPT09ZSYmKGU9bnVsbCksdm9pZCAwPT09aSYmKGk9bnVsbCksIXRoaXMuZ2FtZS5kZXZpY2UuZ2V0VXNlck1lZGlhKXJldHVybiB0aGlzLm9uRXJyb3IuZGlzcGF0Y2godGhpcyxcIk5vIGdldFVzZXJNZWRpYVwiKSwhMTtudWxsIT09dGhpcy52aWRlb1N0cmVhbSYmKHRoaXMudmlkZW9TdHJlYW0uYWN0aXZlP3RoaXMudmlkZW9TdHJlYW0uYWN0aXZlPSExOnRoaXMudmlkZW9TdHJlYW0uc3RvcCgpKSx0aGlzLnJlbW92ZVZpZGVvRWxlbWVudCgpLHRoaXMudmlkZW89ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInZpZGVvXCIpLHRoaXMudmlkZW8uc2V0QXR0cmlidXRlKFwiYXV0b3BsYXlcIixcImF1dG9wbGF5XCIpLG51bGwhPT1lJiYodGhpcy52aWRlby53aWR0aD1lKSxudWxsIT09aSYmKHRoaXMudmlkZW8uaGVpZ2h0PWkpLHRoaXMuX3RpbWVPdXRJRD13aW5kb3cuc2V0VGltZW91dCh0aGlzLmdldFVzZXJNZWRpYVRpbWVvdXQuYmluZCh0aGlzKSx0aGlzLnRpbWVvdXQpO3RyeXtuYXZpZ2F0b3IuZ2V0VXNlck1lZGlhKHthdWRpbzp0LHZpZGVvOiEwfSx0aGlzLmdldFVzZXJNZWRpYVN1Y2Nlc3MuYmluZCh0aGlzKSx0aGlzLmdldFVzZXJNZWRpYUVycm9yLmJpbmQodGhpcykpfWNhdGNoKHQpe3RoaXMuZ2V0VXNlck1lZGlhRXJyb3IodCl9cmV0dXJuIHRoaXN9LGdldFVzZXJNZWRpYVRpbWVvdXQ6ZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQodGhpcy5fdGltZU91dElEKSx0aGlzLm9uVGltZW91dC5kaXNwYXRjaCh0aGlzKX0sZ2V0VXNlck1lZGlhRXJyb3I6ZnVuY3Rpb24odCl7Y2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVPdXRJRCksdGhpcy5vbkVycm9yLmRpc3BhdGNoKHRoaXMsdCl9LGdldFVzZXJNZWRpYVN1Y2Nlc3M6ZnVuY3Rpb24odCl7Y2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVPdXRJRCksdGhpcy52aWRlb1N0cmVhbT10LHZvaWQgMCE9PXRoaXMudmlkZW8ubW96U3JjT2JqZWN0P3RoaXMudmlkZW8ubW96U3JjT2JqZWN0PXQ6dGhpcy52aWRlby5zcmM9d2luZG93LlVSTCYmd2luZG93LlVSTC5jcmVhdGVPYmplY3RVUkwodCl8fHQ7dmFyIGU9dGhpczt0aGlzLnZpZGVvLm9ubG9hZGVkZGF0YT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXtpZihpPjApaWYoZS52aWRlby52aWRlb1dpZHRoPjApe3ZhciBzPWUudmlkZW8udmlkZW9XaWR0aCxuPWUudmlkZW8udmlkZW9IZWlnaHQ7aXNOYU4oZS52aWRlby52aWRlb0hlaWdodCkmJihuPXMvKDQvMykpLGUudmlkZW8ucGxheSgpLGUuaXNTdHJlYW1pbmc9ITAsZS5iYXNlVGV4dHVyZS5zb3VyY2U9ZS52aWRlbyxlLnVwZGF0ZVRleHR1cmUobnVsbCxzLG4pLGUub25BY2Nlc3MuZGlzcGF0Y2goZSl9ZWxzZSB3aW5kb3cuc2V0VGltZW91dCh0LDUwMCk7ZWxzZSBjb25zb2xlLndhcm4oXCJVbmFibGUgdG8gY29ubmVjdCB0byB2aWRlbyBzdHJlYW0uIFdlYmNhbSBlcnJvcj9cIik7aS0tfXZhciBpPTEwO3QoKX19LGNyZWF0ZVZpZGVvRnJvbUJsb2I6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztyZXR1cm4gdGhpcy52aWRlbz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidmlkZW9cIiksdGhpcy52aWRlby5jb250cm9scz0hMSx0aGlzLnZpZGVvLnNldEF0dHJpYnV0ZShcImF1dG9wbGF5XCIsXCJhdXRvcGxheVwiKSx0aGlzLnZpZGVvLmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkZWRkYXRhXCIsZnVuY3Rpb24odCl7ZS51cGRhdGVUZXh0dXJlKHQpfSwhMCksdGhpcy52aWRlby5zcmM9d2luZG93LlVSTC5jcmVhdGVPYmplY3RVUkwodCksdGhpcy52aWRlby5jYW5wbGF5PSEwLHRoaXN9LGNyZWF0ZVZpZGVvRnJvbVVSTDpmdW5jdGlvbih0LGUpe3JldHVybiB2b2lkIDA9PT1lJiYoZT0hMSksdGhpcy50ZXh0dXJlJiYodGhpcy50ZXh0dXJlLnZhbGlkPSExKSx0aGlzLnZpZGVvPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ2aWRlb1wiKSx0aGlzLnZpZGVvLmNvbnRyb2xzPSExLGUmJnRoaXMudmlkZW8uc2V0QXR0cmlidXRlKFwiYXV0b3BsYXlcIixcImF1dG9wbGF5XCIpLHRoaXMudmlkZW8uc3JjPXQsdGhpcy52aWRlby5jYW5wbGF5PSEwLHRoaXMudmlkZW8ubG9hZCgpLHRoaXMucmV0cnk9dGhpcy5yZXRyeUxpbWl0LHRoaXMuX3JldHJ5SUQ9d2luZG93LnNldFRpbWVvdXQodGhpcy5jaGVja1ZpZGVvUHJvZ3Jlc3MuYmluZCh0aGlzKSx0aGlzLnJldHJ5SW50ZXJ2YWwpLHRoaXMua2V5PXQsdGhpc30sdXBkYXRlVGV4dHVyZTpmdW5jdGlvbih0LGUsaSl7dmFyIHM9ITE7dm9pZCAwIT09ZSYmbnVsbCE9PWV8fChlPXRoaXMudmlkZW8udmlkZW9XaWR0aCxzPSEwKSx2b2lkIDAhPT1pJiZudWxsIT09aXx8KGk9dGhpcy52aWRlby52aWRlb0hlaWdodCksdGhpcy53aWR0aD1lLHRoaXMuaGVpZ2h0PWksdGhpcy5iYXNlVGV4dHVyZS5zb3VyY2UhPT10aGlzLnZpZGVvJiYodGhpcy5iYXNlVGV4dHVyZS5zb3VyY2U9dGhpcy52aWRlbyksdGhpcy5iYXNlVGV4dHVyZS5mb3JjZUxvYWRlZChlLGkpLHRoaXMudGV4dHVyZS5mcmFtZS5yZXNpemUoZSxpKSx0aGlzLnRleHR1cmUud2lkdGg9ZSx0aGlzLnRleHR1cmUuaGVpZ2h0PWksdGhpcy50ZXh0dXJlLnZhbGlkPSEwLHRoaXMuc25hcHNob3QmJnRoaXMuc25hcHNob3QucmVzaXplKGUsaSkscyYmbnVsbCE9PXRoaXMua2V5JiYodGhpcy5vbkNoYW5nZVNvdXJjZS5kaXNwYXRjaCh0aGlzLGUsaSksdGhpcy5fYXV0b3BsYXkmJih0aGlzLnZpZGVvLnBsYXkoKSx0aGlzLm9uUGxheS5kaXNwYXRjaCh0aGlzLHRoaXMubG9vcCx0aGlzLnBsYXliYWNrUmF0ZSkpKX0sY29tcGxldGU6ZnVuY3Rpb24oKXt0aGlzLm9uQ29tcGxldGUuZGlzcGF0Y2godGhpcyl9LHBsYXk6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5fcGVuZGluZ0NoYW5nZVNvdXJjZT90aGlzOih2b2lkIDA9PT10JiYodD0hMSksdm9pZCAwPT09ZSYmKGU9MSksdGhpcy5nYW1lLnNvdW5kLm9uTXV0ZSYmKHRoaXMuZ2FtZS5zb3VuZC5vbk11dGUuYWRkKHRoaXMuc2V0TXV0ZSx0aGlzKSx0aGlzLmdhbWUuc291bmQub25Vbk11dGUuYWRkKHRoaXMudW5zZXRNdXRlLHRoaXMpLHRoaXMuZ2FtZS5zb3VuZC5tdXRlJiZ0aGlzLnNldE11dGUoKSksdGhpcy5nYW1lLm9uUGF1c2UuYWRkKHRoaXMuc2V0UGF1c2UsdGhpcyksdGhpcy5nYW1lLm9uUmVzdW1lLmFkZCh0aGlzLnNldFJlc3VtZSx0aGlzKSx0aGlzLl9lbmRDYWxsYmFjaz10aGlzLmNvbXBsZXRlLmJpbmQodGhpcyksdGhpcy52aWRlby5hZGRFdmVudExpc3RlbmVyKFwiZW5kZWRcIix0aGlzLl9lbmRDYWxsYmFjaywhMCksdGhpcy52aWRlby5hZGRFdmVudExpc3RlbmVyKFwid2Via2l0ZW5kZnVsbHNjcmVlblwiLHRoaXMuX2VuZENhbGxiYWNrLCEwKSx0aGlzLnZpZGVvLmxvb3A9dD9cImxvb3BcIjpcIlwiLHRoaXMudmlkZW8ucGxheWJhY2tSYXRlPWUsdGhpcy50b3VjaExvY2tlZD90aGlzLl9wZW5kaW5nPSEwOih0aGlzLl9wZW5kaW5nPSExLG51bGwhPT10aGlzLmtleSYmKDQhPT10aGlzLnZpZGVvLnJlYWR5U3RhdGU/KHRoaXMucmV0cnk9dGhpcy5yZXRyeUxpbWl0LHRoaXMuX3JldHJ5SUQ9d2luZG93LnNldFRpbWVvdXQodGhpcy5jaGVja1ZpZGVvUHJvZ3Jlc3MuYmluZCh0aGlzKSx0aGlzLnJldHJ5SW50ZXJ2YWwpKToodGhpcy5fcGxheUNhbGxiYWNrPXRoaXMucGxheUhhbmRsZXIuYmluZCh0aGlzKSx0aGlzLnZpZGVvLmFkZEV2ZW50TGlzdGVuZXIoXCJwbGF5aW5nXCIsdGhpcy5fcGxheUNhbGxiYWNrLCEwKSkpLHRoaXMudmlkZW8ucGxheSgpLHRoaXMub25QbGF5LmRpc3BhdGNoKHRoaXMsdCxlKSksdGhpcyl9LHBsYXlIYW5kbGVyOmZ1bmN0aW9uKCl7dGhpcy52aWRlby5yZW1vdmVFdmVudExpc3RlbmVyKFwicGxheWluZ1wiLHRoaXMuX3BsYXlDYWxsYmFjaywhMCksdGhpcy51cGRhdGVUZXh0dXJlKCl9LHN0b3A6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nYW1lLnNvdW5kLm9uTXV0ZSYmKHRoaXMuZ2FtZS5zb3VuZC5vbk11dGUucmVtb3ZlKHRoaXMuc2V0TXV0ZSx0aGlzKSx0aGlzLmdhbWUuc291bmQub25Vbk11dGUucmVtb3ZlKHRoaXMudW5zZXRNdXRlLHRoaXMpKSx0aGlzLmdhbWUub25QYXVzZS5yZW1vdmUodGhpcy5zZXRQYXVzZSx0aGlzKSx0aGlzLmdhbWUub25SZXN1bWUucmVtb3ZlKHRoaXMuc2V0UmVzdW1lLHRoaXMpLHRoaXMuaXNTdHJlYW1pbmc/KHRoaXMudmlkZW8ubW96U3JjT2JqZWN0Pyh0aGlzLnZpZGVvLm1velNyY09iamVjdC5zdG9wKCksdGhpcy52aWRlby5zcmM9bnVsbCk6KHRoaXMudmlkZW8uc3JjPVwiXCIsdGhpcy52aWRlb1N0cmVhbS5hY3RpdmU/dGhpcy52aWRlb1N0cmVhbS5hY3RpdmU9ITE6dGhpcy52aWRlb1N0cmVhbS5nZXRUcmFja3M/dGhpcy52aWRlb1N0cmVhbS5nZXRUcmFja3MoKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3Quc3RvcCgpfSk6dGhpcy52aWRlb1N0cmVhbS5zdG9wKCkpLHRoaXMudmlkZW9TdHJlYW09bnVsbCx0aGlzLmlzU3RyZWFtaW5nPSExKToodGhpcy52aWRlby5yZW1vdmVFdmVudExpc3RlbmVyKFwiZW5kZWRcIix0aGlzLl9lbmRDYWxsYmFjaywhMCksdGhpcy52aWRlby5yZW1vdmVFdmVudExpc3RlbmVyKFwid2Via2l0ZW5kZnVsbHNjcmVlblwiLHRoaXMuX2VuZENhbGxiYWNrLCEwKSx0aGlzLnZpZGVvLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJwbGF5aW5nXCIsdGhpcy5fcGxheUNhbGxiYWNrLCEwKSx0aGlzLnRvdWNoTG9ja2VkP3RoaXMuX3BlbmRpbmc9ITE6dGhpcy52aWRlby5wYXVzZSgpKSx0aGlzfSxhZGQ6ZnVuY3Rpb24odCl7aWYoQXJyYXkuaXNBcnJheSh0KSlmb3IodmFyIGU9MDtlPHQubGVuZ3RoO2UrKyl0W2VdLmxvYWRUZXh0dXJlJiZ0W2VdLmxvYWRUZXh0dXJlKHRoaXMpO2Vsc2UgdC5sb2FkVGV4dHVyZSh0aGlzKTtyZXR1cm4gdGhpc30sYWRkVG9Xb3JsZDpmdW5jdGlvbih0LGUsaSxzLG4sbyl7bj1ufHwxLG89b3x8MTt2YXIgcj10aGlzLmdhbWUuYWRkLmltYWdlKHQsZSx0aGlzKTtyZXR1cm4gci5hbmNob3Iuc2V0KGkscyksci5zY2FsZS5zZXQobixvKSxyfSxyZW5kZXI6ZnVuY3Rpb24oKXshdGhpcy5kaXNhYmxlVGV4dHVyZVVwbG9hZCYmdGhpcy5wbGF5aW5nJiZ0aGlzLmJhc2VUZXh0dXJlLmRpcnR5KCl9LHNldE11dGU6ZnVuY3Rpb24oKXt0aGlzLl9tdXRlZHx8KHRoaXMuX211dGVkPSEwLHRoaXMudmlkZW8ubXV0ZWQ9ITApfSx1bnNldE11dGU6ZnVuY3Rpb24oKXt0aGlzLl9tdXRlZCYmIXRoaXMuX2NvZGVNdXRlZCYmKHRoaXMuX211dGVkPSExLHRoaXMudmlkZW8ubXV0ZWQ9ITEpfSxzZXRQYXVzZTpmdW5jdGlvbigpe3RoaXMuX3BhdXNlZHx8dGhpcy50b3VjaExvY2tlZHx8KHRoaXMuX3BhdXNlZD0hMCx0aGlzLnZpZGVvLnBhdXNlKCkpfSxzZXRSZXN1bWU6ZnVuY3Rpb24oKXshdGhpcy5fcGF1c2VkfHx0aGlzLl9jb2RlUGF1c2VkfHx0aGlzLnRvdWNoTG9ja2VkfHwodGhpcy5fcGF1c2VkPSExLHRoaXMudmlkZW8uZW5kZWR8fHRoaXMudmlkZW8ucGxheSgpKX0sY2hhbmdlU291cmNlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHZvaWQgMD09PWUmJihlPSEwKSx0aGlzLnRleHR1cmUudmFsaWQ9ITEsdGhpcy52aWRlby5wYXVzZSgpLHRoaXMuX3BlbmRpbmdDaGFuZ2VTb3VyY2U9ITAsdGhpcy5yZXRyeT10aGlzLnJldHJ5TGltaXQsdGhpcy5fcmV0cnlJRD13aW5kb3cuc2V0VGltZW91dCh0aGlzLmNoZWNrVmlkZW9Qcm9ncmVzcy5iaW5kKHRoaXMpLHRoaXMucmV0cnlJbnRlcnZhbCksdGhpcy52aWRlby5zcmM9dCx0aGlzLnZpZGVvLmxvYWQoKSx0aGlzLl9hdXRvcGxheT1lLGV8fCh0aGlzLnBhdXNlZD0hMCksdGhpc30sY2hlY2tWaWRlb1Byb2dyZXNzOmZ1bmN0aW9uKCl7ND09PXRoaXMudmlkZW8ucmVhZHlTdGF0ZT8odGhpcy5fcGVuZGluZ0NoYW5nZVNvdXJjZT0hMSx0aGlzLnVwZGF0ZVRleHR1cmUoKSk6LS10aGlzLnJldHJ5PjA/dGhpcy5fcmV0cnlJRD13aW5kb3cuc2V0VGltZW91dCh0aGlzLmNoZWNrVmlkZW9Qcm9ncmVzcy5iaW5kKHRoaXMpLHRoaXMucmV0cnlJbnRlcnZhbCk6Y29uc29sZS53YXJuKFwiUGhhc2VyLlZpZGVvOiBVbmFibGUgdG8gc3RhcnQgZG93bmxvYWRpbmcgdmlkZW8gaW4gdGltZVwiLHRoaXMuaXNTdHJlYW1pbmcpfSxzZXRUb3VjaExvY2s6ZnVuY3Rpb24oKXt0aGlzLmdhbWUuaW5wdXQuYWRkVG91Y2hMb2NrQ2FsbGJhY2sodGhpcy51bmxvY2ssdGhpcywhMCksdGhpcy50b3VjaExvY2tlZD0hMH0sdW5sb2NrOmZ1bmN0aW9uKCl7aWYodGhpcy50b3VjaExvY2tlZD0hMSx0aGlzLnZpZGVvLnBsYXkoKSx0aGlzLm9uUGxheS5kaXNwYXRjaCh0aGlzLHRoaXMubG9vcCx0aGlzLnBsYXliYWNrUmF0ZSksdGhpcy5rZXkpe3ZhciB0PXRoaXMuZ2FtZS5jYWNoZS5nZXRWaWRlbyh0aGlzLmtleSk7dCYmIXQuaXNCbG9iJiYodC5sb2NrZWQ9ITEpfXJldHVybiEwfSxncmFiOmZ1bmN0aW9uKHQsZSxpKXtpZih2b2lkIDA9PT10JiYodD0hMSksdm9pZCAwPT09ZSYmKGU9MSksdm9pZCAwPT09aSYmKGk9bnVsbCksbnVsbCE9PXRoaXMuc25hcHNob3QpcmV0dXJuIHQmJnRoaXMuc25hcHNob3QuY2xzKCksdGhpcy5zbmFwc2hvdC5jb3B5KHRoaXMudmlkZW8sMCwwLHRoaXMud2lkdGgsdGhpcy5oZWlnaHQsMCwwLHRoaXMud2lkdGgsdGhpcy5oZWlnaHQsMCwwLDAsMSwxLGUsaSksdGhpcy5zbmFwc2hvdDtjb25zb2xlLndhcm4oXCJWaWRlby5ncmFiIGNhbm5vdCBydW4gYmVjYXVzZSBQaGFzZXIuQml0bWFwRGF0YSBpcyB1bmF2YWlsYWJsZVwiKX0scmVtb3ZlVmlkZW9FbGVtZW50OmZ1bmN0aW9uKCl7aWYodGhpcy52aWRlbyl7Zm9yKHRoaXMudmlkZW8ucGFyZW50Tm9kZSYmdGhpcy52aWRlby5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMudmlkZW8pO3RoaXMudmlkZW8uaGFzQ2hpbGROb2RlcygpOyl0aGlzLnZpZGVvLnJlbW92ZUNoaWxkKHRoaXMudmlkZW8uZmlyc3RDaGlsZCk7dGhpcy52aWRlby5yZW1vdmVBdHRyaWJ1dGUoXCJhdXRvcGxheVwiKSx0aGlzLnZpZGVvLnJlbW92ZUF0dHJpYnV0ZShcInNyY1wiKSx0aGlzLnZpZGVvPW51bGx9fSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5zdG9wKCksdGhpcy5yZW1vdmVWaWRlb0VsZW1lbnQoKSx0aGlzLnRvdWNoTG9ja2VkJiZ0aGlzLmdhbWUuaW5wdXQudG91Y2gucmVtb3ZlVG91Y2hMb2NrQ2FsbGJhY2sodGhpcy51bmxvY2ssdGhpcyksdGhpcy5fcmV0cnlJRCYmd2luZG93LmNsZWFyVGltZW91dCh0aGlzLl9yZXRyeUlEKX19LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLlZpZGVvLnByb3RvdHlwZSxcImN1cnJlbnRUaW1lXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnZpZGVvP3RoaXMudmlkZW8uY3VycmVudFRpbWU6MH0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMudmlkZW8uY3VycmVudFRpbWU9dH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5WaWRlby5wcm90b3R5cGUsXCJkdXJhdGlvblwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52aWRlbz90aGlzLnZpZGVvLmR1cmF0aW9uOjB9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuVmlkZW8ucHJvdG90eXBlLFwicHJvZ3Jlc3NcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudmlkZW8/dGhpcy52aWRlby5jdXJyZW50VGltZS90aGlzLnZpZGVvLmR1cmF0aW9uOjB9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuVmlkZW8ucHJvdG90eXBlLFwibXV0ZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbXV0ZWR9LHNldDpmdW5jdGlvbih0KXtpZih0PXR8fG51bGwpe2lmKHRoaXMuX211dGVkKXJldHVybjt0aGlzLl9jb2RlTXV0ZWQ9ITAsdGhpcy5zZXRNdXRlKCl9ZWxzZXtpZighdGhpcy5fbXV0ZWQpcmV0dXJuO3RoaXMuX2NvZGVNdXRlZD0hMSx0aGlzLnVuc2V0TXV0ZSgpfX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5WaWRlby5wcm90b3R5cGUsXCJwYXVzZWRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BhdXNlZH0sc2V0OmZ1bmN0aW9uKHQpe2lmKHQ9dHx8bnVsbCwhdGhpcy50b3VjaExvY2tlZClpZih0KXtpZih0aGlzLl9wYXVzZWQpcmV0dXJuO3RoaXMuX2NvZGVQYXVzZWQ9ITAsdGhpcy5zZXRQYXVzZSgpfWVsc2V7aWYoIXRoaXMuX3BhdXNlZClyZXR1cm47dGhpcy5fY29kZVBhdXNlZD0hMSx0aGlzLnNldFJlc3VtZSgpfX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5WaWRlby5wcm90b3R5cGUsXCJ2b2x1bWVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudmlkZW8/dGhpcy52aWRlby52b2x1bWU6MX0sc2V0OmZ1bmN0aW9uKHQpe3Q8MD90PTA6dD4xJiYodD0xKSx0aGlzLnZpZGVvJiYodGhpcy52aWRlby52b2x1bWU9dCl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuVmlkZW8ucHJvdG90eXBlLFwicGxheWJhY2tSYXRlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnZpZGVvP3RoaXMudmlkZW8ucGxheWJhY2tSYXRlOjF9LHNldDpmdW5jdGlvbih0KXt0aGlzLnZpZGVvJiYodGhpcy52aWRlby5wbGF5YmFja1JhdGU9dCl9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuVmlkZW8ucHJvdG90eXBlLFwibG9vcFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4hIXRoaXMudmlkZW8mJnRoaXMudmlkZW8ubG9vcH0sc2V0OmZ1bmN0aW9uKHQpe3QmJnRoaXMudmlkZW8/dGhpcy52aWRlby5sb29wPVwibG9vcFwiOnRoaXMudmlkZW8mJih0aGlzLnZpZGVvLmxvb3A9XCJcIil9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkuVmlkZW8ucHJvdG90eXBlLFwicGxheWluZ1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4hIXRoaXMudmlkZW8mJiEodGhpcy52aWRlby5wYXVzZWQmJnRoaXMudmlkZW8uZW5kZWQpfX0pLGkuVmlkZW8ucHJvdG90eXBlLmNvbnN0cnVjdG9yPWkuVmlkZW8sdm9pZCAwPT09UElYSS5ibGVuZE1vZGVzJiYoUElYSS5ibGVuZE1vZGVzPWkuYmxlbmRNb2Rlcyksdm9pZCAwPT09UElYSS5zY2FsZU1vZGVzJiYoUElYSS5zY2FsZU1vZGVzPWkuc2NhbGVNb2Rlcyksdm9pZCAwPT09UElYSS5UZXh0dXJlLmVtcHR5VGV4dHVyZSYmKFBJWEkuVGV4dHVyZS5lbXB0eVRleHR1cmU9bmV3IFBJWEkuVGV4dHVyZShuZXcgUElYSS5CYXNlVGV4dHVyZSkpLHZvaWQgMD09PVBJWEkuRGlzcGxheU9iamVjdC5fdGVtcE1hdHJpeCYmKFBJWEkuRGlzcGxheU9iamVjdC5fdGVtcE1hdHJpeD1uZXcgaS5NYXRyaXgpLFBJWEkuVGV4dHVyZVNpbGVudEZhaWw9ITAsUElYSS5jYW5Vc2VOZXdDYW52YXNCbGVuZE1vZGVzPWZ1bmN0aW9uKCl7cmV0dXJuIGkuRGV2aWNlLmNhblVzZU11bHRpcGx5fSxcInVuZGVmaW5lZFwiIT10eXBlb2YgZXhwb3J0cz8oXCJ1bmRlZmluZWRcIiE9dHlwZW9mIG1vZHVsZSYmbW9kdWxlLmV4cG9ydHMmJihleHBvcnRzPW1vZHVsZS5leHBvcnRzPWkpLGV4cG9ydHMuUGhhc2VyPWkpOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFwiUGhhc2VyXCIsZS5QaGFzZXI9aSk6ZS5QaGFzZXI9aSxpfSkuY2FsbCh0aGlzKTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGhhc2VyLXNwbGl0Lm1hcFxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3BoYXNlci1jZS9idWlsZC9jdXN0b20vcGhhc2VyLXNwbGl0Lm1pbi5qc1xuLy8gbW9kdWxlIGlkID0gMTFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLy8gc2hpbSBmb3IgdXNpbmcgcHJvY2VzcyBpbiBicm93c2VyXHJcbnZhciBwcm9jZXNzID0gbW9kdWxlLmV4cG9ydHMgPSB7fTtcclxuXHJcbi8vIGNhY2hlZCBmcm9tIHdoYXRldmVyIGdsb2JhbCBpcyBwcmVzZW50IHNvIHRoYXQgdGVzdCBydW5uZXJzIHRoYXQgc3R1YiBpdFxyXG4vLyBkb24ndCBicmVhayB0aGluZ3MuICBCdXQgd2UgbmVlZCB0byB3cmFwIGl0IGluIGEgdHJ5IGNhdGNoIGluIGNhc2UgaXQgaXNcclxuLy8gd3JhcHBlZCBpbiBzdHJpY3QgbW9kZSBjb2RlIHdoaWNoIGRvZXNuJ3QgZGVmaW5lIGFueSBnbG9iYWxzLiAgSXQncyBpbnNpZGUgYVxyXG4vLyBmdW5jdGlvbiBiZWNhdXNlIHRyeS9jYXRjaGVzIGRlb3B0aW1pemUgaW4gY2VydGFpbiBlbmdpbmVzLlxyXG5cclxudmFyIGNhY2hlZFNldFRpbWVvdXQ7XHJcbnZhciBjYWNoZWRDbGVhclRpbWVvdXQ7XHJcblxyXG5mdW5jdGlvbiBkZWZhdWx0U2V0VGltb3V0KCkge1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKCdzZXRUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XHJcbn1cclxuZnVuY3Rpb24gZGVmYXVsdENsZWFyVGltZW91dCAoKSB7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2NsZWFyVGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xyXG59XHJcbihmdW5jdGlvbiAoKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGlmICh0eXBlb2Ygc2V0VGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcclxuICAgICAgICB9XHJcbiAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XHJcbiAgICB9XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGlmICh0eXBlb2YgY2xlYXJUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xyXG4gICAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xyXG4gICAgfVxyXG59ICgpKVxyXG5mdW5jdGlvbiBydW5UaW1lb3V0KGZ1bikge1xyXG4gICAgaWYgKGNhY2hlZFNldFRpbWVvdXQgPT09IHNldFRpbWVvdXQpIHtcclxuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcclxuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xyXG4gICAgfVxyXG4gICAgLy8gaWYgc2V0VGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcclxuICAgIGlmICgoY2FjaGVkU2V0VGltZW91dCA9PT0gZGVmYXVsdFNldFRpbW91dCB8fCAhY2FjaGVkU2V0VGltZW91dCkgJiYgc2V0VGltZW91dCkge1xyXG4gICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xyXG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XHJcbiAgICB9XHJcbiAgICB0cnkge1xyXG4gICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3NcclxuICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dChmdW4sIDApO1xyXG4gICAgfSBjYXRjaChlKXtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcclxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbChudWxsLCBmdW4sIDApO1xyXG4gICAgICAgIH0gY2F0Y2goZSl7XHJcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yXHJcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwodGhpcywgZnVuLCAwKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxufVxyXG5mdW5jdGlvbiBydW5DbGVhclRpbWVvdXQobWFya2VyKSB7XHJcbiAgICBpZiAoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBjbGVhclRpbWVvdXQpIHtcclxuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcclxuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XHJcbiAgICB9XHJcbiAgICAvLyBpZiBjbGVhclRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXHJcbiAgICBpZiAoKGNhY2hlZENsZWFyVGltZW91dCA9PT0gZGVmYXVsdENsZWFyVGltZW91dCB8fCAhY2FjaGVkQ2xlYXJUaW1lb3V0KSAmJiBjbGVhclRpbWVvdXQpIHtcclxuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XHJcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xyXG4gICAgfVxyXG4gICAgdHJ5IHtcclxuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXHJcbiAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dChtYXJrZXIpO1xyXG4gICAgfSBjYXRjaCAoZSl7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0ICB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxyXG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwobnVsbCwgbWFya2VyKTtcclxuICAgICAgICB9IGNhdGNoIChlKXtcclxuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3IuXHJcbiAgICAgICAgICAgIC8vIFNvbWUgdmVyc2lvbnMgb2YgSS5FLiBoYXZlIGRpZmZlcmVudCBydWxlcyBmb3IgY2xlYXJUaW1lb3V0IHZzIHNldFRpbWVvdXRcclxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKHRoaXMsIG1hcmtlcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcblxyXG59XHJcbnZhciBxdWV1ZSA9IFtdO1xyXG52YXIgZHJhaW5pbmcgPSBmYWxzZTtcclxudmFyIGN1cnJlbnRRdWV1ZTtcclxudmFyIHF1ZXVlSW5kZXggPSAtMTtcclxuXHJcbmZ1bmN0aW9uIGNsZWFuVXBOZXh0VGljaygpIHtcclxuICAgIGlmICghZHJhaW5pbmcgfHwgIWN1cnJlbnRRdWV1ZSkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGRyYWluaW5nID0gZmFsc2U7XHJcbiAgICBpZiAoY3VycmVudFF1ZXVlLmxlbmd0aCkge1xyXG4gICAgICAgIHF1ZXVlID0gY3VycmVudFF1ZXVlLmNvbmNhdChxdWV1ZSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcclxuICAgIH1cclxuICAgIGlmIChxdWV1ZS5sZW5ndGgpIHtcclxuICAgICAgICBkcmFpblF1ZXVlKCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGRyYWluUXVldWUoKSB7XHJcbiAgICBpZiAoZHJhaW5pbmcpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICB2YXIgdGltZW91dCA9IHJ1blRpbWVvdXQoY2xlYW5VcE5leHRUaWNrKTtcclxuICAgIGRyYWluaW5nID0gdHJ1ZTtcclxuXHJcbiAgICB2YXIgbGVuID0gcXVldWUubGVuZ3RoO1xyXG4gICAgd2hpbGUobGVuKSB7XHJcbiAgICAgICAgY3VycmVudFF1ZXVlID0gcXVldWU7XHJcbiAgICAgICAgcXVldWUgPSBbXTtcclxuICAgICAgICB3aGlsZSAoKytxdWV1ZUluZGV4IDwgbGVuKSB7XHJcbiAgICAgICAgICAgIGlmIChjdXJyZW50UXVldWUpIHtcclxuICAgICAgICAgICAgICAgIGN1cnJlbnRRdWV1ZVtxdWV1ZUluZGV4XS5ydW4oKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XHJcbiAgICAgICAgbGVuID0gcXVldWUubGVuZ3RoO1xyXG4gICAgfVxyXG4gICAgY3VycmVudFF1ZXVlID0gbnVsbDtcclxuICAgIGRyYWluaW5nID0gZmFsc2U7XHJcbiAgICBydW5DbGVhclRpbWVvdXQodGltZW91dCk7XHJcbn1cclxuXHJcbnByb2Nlc3MubmV4dFRpY2sgPSBmdW5jdGlvbiAoZnVuKSB7XHJcbiAgICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSk7XHJcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcclxuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBxdWV1ZS5wdXNoKG5ldyBJdGVtKGZ1biwgYXJncykpO1xyXG4gICAgaWYgKHF1ZXVlLmxlbmd0aCA9PT0gMSAmJiAhZHJhaW5pbmcpIHtcclxuICAgICAgICBydW5UaW1lb3V0KGRyYWluUXVldWUpO1xyXG4gICAgfVxyXG59O1xyXG5cclxuLy8gdjggbGlrZXMgcHJlZGljdGlibGUgb2JqZWN0c1xyXG5mdW5jdGlvbiBJdGVtKGZ1biwgYXJyYXkpIHtcclxuICAgIHRoaXMuZnVuID0gZnVuO1xyXG4gICAgdGhpcy5hcnJheSA9IGFycmF5O1xyXG59XHJcbkl0ZW0ucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHRoaXMuZnVuLmFwcGx5KG51bGwsIHRoaXMuYXJyYXkpO1xyXG59O1xyXG5wcm9jZXNzLnRpdGxlID0gJ2Jyb3dzZXInO1xyXG5wcm9jZXNzLmJyb3dzZXIgPSB0cnVlO1xyXG5wcm9jZXNzLmVudiA9IHt9O1xyXG5wcm9jZXNzLmFyZ3YgPSBbXTtcclxucHJvY2Vzcy52ZXJzaW9uID0gJyc7IC8vIGVtcHR5IHN0cmluZyB0byBhdm9pZCByZWdleHAgaXNzdWVzXHJcbnByb2Nlc3MudmVyc2lvbnMgPSB7fTtcclxuXHJcbmZ1bmN0aW9uIG5vb3AoKSB7fVxyXG5cclxucHJvY2Vzcy5vbiA9IG5vb3A7XHJcbnByb2Nlc3MuYWRkTGlzdGVuZXIgPSBub29wO1xyXG5wcm9jZXNzLm9uY2UgPSBub29wO1xyXG5wcm9jZXNzLm9mZiA9IG5vb3A7XHJcbnByb2Nlc3MucmVtb3ZlTGlzdGVuZXIgPSBub29wO1xyXG5wcm9jZXNzLnJlbW92ZUFsbExpc3RlbmVycyA9IG5vb3A7XHJcbnByb2Nlc3MuZW1pdCA9IG5vb3A7XHJcbnByb2Nlc3MucHJlcGVuZExpc3RlbmVyID0gbm9vcDtcclxucHJvY2Vzcy5wcmVwZW5kT25jZUxpc3RlbmVyID0gbm9vcDtcclxuXHJcbnByb2Nlc3MubGlzdGVuZXJzID0gZnVuY3Rpb24gKG5hbWUpIHsgcmV0dXJuIFtdIH1cclxuXHJcbnByb2Nlc3MuYmluZGluZyA9IGZ1bmN0aW9uIChuYW1lKSB7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkJyk7XHJcbn07XHJcblxyXG5wcm9jZXNzLmN3ZCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuICcvJyB9O1xyXG5wcm9jZXNzLmNoZGlyID0gZnVuY3Rpb24gKGRpcikge1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWQnKTtcclxufTtcclxucHJvY2Vzcy51bWFzayA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gMDsgfTtcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vbm9kZV9tb2R1bGVzL3Byb2Nlc3MvYnJvd3Nlci5qcyIsImltcG9ydCAncGl4aSc7XHJcbmltcG9ydCAncDInO1xyXG5pbXBvcnQgJ3BoYXNlcic7XHJcblxyXG5pbXBvcnQgeyBWaWV3IH0gZnJvbSAnLi92aWV3JztcclxuaW1wb3J0IHsgU2NobGFuZ2UgfSBmcm9tICcuL3NjaGxhbmdlJztcclxuaW1wb3J0IHsgRWluemVsb2JqZWt0fSBmcm9tICcuL2VpbnplbG9iamVrdCc7XHJcbmltcG9ydCB7IEdlZ25lciB9IGZyb20gJy4vZ2VnbmVyJztcclxuXHJcbi8qKlxyXG4qIENvbnRyb2xsZXJcclxuKiBTdGV1ZXJ0IGRpZSBPYmpla3RlXHJcbiovXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENvbnRyb2xsZXIge1xyXG5cclxuICAgIC8qKlxyXG4gICAgKiBDb25zdHJ1Y3RvclxyXG4gICAgKiBAcGFyYW0gZ2FtZSA6IFBoYXNlci5HYW1lLU9iamVrdFxyXG4gICAgKiBAcGFyYW0gdmlldyA6IFZpZXctT2JqZWt0XHJcbiAgICAqIEBwYXJhbSBjYW52YXNXaWR0aCA6IENhbnZhcy1CcmVpdGVcclxuICAgICogQHBhcmFtIGNhbnZhc0hlaWdodCA6IENhbnZhcy1Iw7ZoZVxyXG4gICAgKi9cclxuXHRjb25zdHJ1Y3RvcihnYW1lLCB2aWV3LCBjYW52YXNXaWR0aCwgY2FudmFzSGVpZ2h0KSB7XHJcblxyXG4gICAgICAgIC8qKiBcclxuICAgICAgICAqIFBoYXNlci5HYW1lIE9iamVrdCBcclxuICAgICAgICAqIFdpcmQgYmVuw7Z0aWd0IHVtIGF1ZiBqZWdsaWNoZSBGdW5rdGlvbmVuIGRlcyBGcmFtZXdvcmtzIHp1enVncmVpZmVuLlxyXG4gICAgICAgICovXHJcbiAgICAgICAgdGhpcy5nYW1lID0gZ2FtZTtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgKiBWaWV3LU9iamVrdFxyXG4gICAgICAgICovXHJcblx0XHQgIHRoaXMudmlldyA9IHZpZXc7XHJcblx0XHRcclxuICAgICAgICAvKipcclxuICAgICAgICAqIEdyw7bDn2UgZWluZXMgRWluemVsb2JqZWt0ZXNcclxuICAgICAgICAqL1xyXG5cdCAgXHQgIHRoaXMub2JqZWt0R3JvZXNzZSA9IDYwOyAvLyBpbmNyZW1lbnQgdW0gNjBcclxuICAgICAgICBcclxuICAgICAgICAvKiogU3BpZWxzdGFuZCAqL1xyXG4gICAgICAgIHRoaXMuc2NvcmUgPSAwO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8qKyBTcGllbGRhdWVyIGluIFNla3VuZGVuKi9cclxuICAgICAgICB0aGlzLnNlY29uZHMgPSAwO1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAqIENhbnZhcyBIw7ZoZSB1bmQgQnJlaXRlXHJcbiAgICAgICAgKi9cclxuXHRcdCAgdGhpcy5jYW52YXNXaWR0aCA9IGNhbnZhc1dpZHRoL3RoaXMub2JqZWt0R3JvZXNzZTtcclxuXHRcdCAgdGhpcy5jYW52YXNIZWlnaHQgPSBjYW52YXNIZWlnaHQvdGhpcy5vYmpla3RHcm9lc3NlO1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAqIFJpY2h0dW5nXHJcbiAgICAgICAgKi9cclxuXHRcdCAgdGhpcy5yaWNodHVuZ2VuID0gT2JqZWN0LmZyZWV6ZSh7dXA6IDAsIGRvd246IDEsIHJpZ2h0OiAyLCBsZWZ0OiAzfSk7IC8vIGZyZWV6ZTogdmVyaGluZGVydCBkYXMgSGluenVmw7xnZW4gdm9uIG5ldWVuIEVpZ2Vuc2NoYWZ0ZW4genVtIE9iamVrdFxyXG5cdFx0XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgKiBMYXVmcmljaHR1bmcgZGVyIFNjaGxhbmdlXHJcbiAgICAgICAgKi9cclxuICAgICAgICB0aGlzLmxhdWZyaWNodHVuZztcclxuXHRcdFxyXG5cdFx0XHQvKipcclxuXHRcdFx0KiBTY2hsYW5nZW5PYmpla3QgKi9cclxuXHRcdCAgbGV0IFNjaGxhbmdlID0gcmVxdWlyZSgnLi9zY2hsYW5nZS5qcycpLmRlZmF1bHQ7XHJcblx0XHQgIHRoaXMuc2NobGFuZ2UgPSBuZXcgU2NobGFuZ2UoKTtcclxuXHRcdCAgLy90aGlzLnNjaGxhbmdlLmluaXRTY2hsYW5nZSgpO1xyXG5cdFx0XHJcblx0XHRcdC8qKlxyXG5cdFx0XHRPYmpla3RlYmVow6RsdGVyIEFycmF5IGbDvHIgR2VnbmVyICovXHJcblx0XHQgICBsZXQgR2VnbmVyID0gcmVxdWlyZSgnLi9nZWduZXIuanMnKS5kZWZhdWx0O1xyXG5cdFx0XHR0aGlzLmdlZ25lciA9IG5ldyBHZWduZXIodGhpcy5jYW52YXNXaWR0aCwgdGhpcy5jYW52YXNIZWlnaHQsICdzdGVpbicpO1xyXG5cdFx0XHJcblx0XHRcdC8qKlxyXG5cdFx0XHQqIE9iamVrdGViZWjDpGx0ZXIgZsO8ciBVcGdyYWRlcyAqL1xyXG5cdFx0XHQvL3RoaXMuYm9vbnMgPSBuZXcgR2VnbmVyKHRoaXMuY2FudmFzV2lkdGgsIHRoaXMuY2FudmFzSGVpZ2h0LCAnJyk7XHJcblx0XHRcclxuXHRcdCAgIC8qKlxyXG5cdFx0XHQqIE9iamVrdGViZWjDpGx0ZXIgUGlja3VwICovXHJcblx0XHQgICB0aGlzLnBpY2t1cCA9IG5ldyBHZWduZXIodGhpcy5jYW52YXNXaWR0aCwgdGhpcy5jYW52YXNIZWlnaHQsICdpdGVtJyk7XHJcblx0XHRcclxuICAgICAgICAvKipcclxuICAgICAgICAqIHgtIHVuZCB5LUtvb3JkaW5hdGVcclxuICAgICAgICAqL1xyXG5cdFx0ICAvL3RoaXMueCA9IHRoaXMudmlldy5zdGFydFggKyAoMiAqIHRoaXMub2JqZWt0R3JvZXNzZSk7XHJcblx0XHQgIC8vdGhpcy55ID0gdGhpcy52aWV3LnN0YXJ0WTtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgKiBTcGVpY2hlcnQgZWluZSBaYWhsIGplIG5hY2ggZGVyemVpdGlnZXIgTGF1ZnJpY2h0dW5nXHJcbiAgICAgICAgKi9cclxuICAgICAgICAvL3RoaXMuY2hhbmdlSWQ7XHJcblxyXG4gICAgfS8vRW5kZSBjb25zdHJ1Y3RvclxyXG4gICAgXHJcbiAgICBcclxuICAgIC8vLy8gVElNRVIgLy8vL1xyXG4gICAgLypjYWxjdWxhdGVTZWNvbmRzKCl7XHJcbiAgICAgICAgdGhpcy5zZWNvbmRzKys7XHJcbiAgICAgICAgd2luZG93LnNldFRpbWVvdXQoXCJjYWxjdWxhdGVTZWNvbmRzKClcIiwgMTAwKTtcclxuICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnNlY29uZHMpO1xyXG4gICAgfSovXHJcbiAgICBcclxuICAgIHVwZGF0ZVNlY29uZHMoKXtcclxuICAgICAgICB2YXIgZWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidGltZVwiKTtcclxuICAgICAgICB0aGlzLnNlY29uZHMgKz0gMTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgdXBkYXRlUG9pbnRzKCl7XHJcbiAgICAgICAgLy9TY2hsYW5nZSBhdXNsZXNlblxyXG4gICAgICAgIHZhciBlbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwb2ludHNcIik7XHJcblx0XHR2YXIgc2NobGFuZ2VuaW5mbyA9IHRoaXMuc2NobGFuZ2UuZ2V0SW5mbygpO1xyXG4gICAgICAgIGlmKHNjaGxhbmdlbmluZm8ubGVuZ3RoLTEgPD0gMyl7XHJcbiAgICAgICAgICAgIHRoaXMuc2NvcmUgKz0gMztcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgdGhpcy5zY29yZSArPSAxO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgY2FsY3VsYXRlU2Vjb25kcygpe1xyXG4gICAgICAgIHNldEludGVydmFsKFwidXBkYXRlU2Vjb25kcygpXCIsIDEwMCk7XHJcbiAgICAgICAgc2V0SW50ZXJ2YWwoXCJ1cGRhdGVTY29yZSgpXCIsIDEwMCk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIFxyXG4gICAgXHJcbiAgICBcclxuICAgIFxyXG4gICAgLy8vLyBCRVdFR1VORyBERVIgU0NITEFOR0UgLy8vL1xyXG5cclxuICAgIC8qKiBHZXR0ZXIgZsO8ciBkaWUgQ3Vyc29yIEtleXMgKi9cclxuICAgIGdldEN1cnNvcigpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nYW1lLmlucHV0LmtleWJvYXJkLmNyZWF0ZUN1cnNvcktleXMoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKiogw4RuZGVydCBkaWUgTGF1ZnJpY2h0dW5nICovXHJcbiAgICB1cGRhdGVMYXVmcmljaHR1bmcoKSB7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmdldEN1cnNvcigpLnJpZ2h0LmlzRG93biAmJiB0aGlzLmxhdWZyaWNodHVuZyAhPSB0aGlzLnJpY2h0dW5nZW4ubGVmdCkge1xyXG5cclxuICAgICAgICAgICAgdGhpcy5sYXVmcmljaHR1bmcgPSB0aGlzLnJpY2h0dW5nZW4ucmlnaHQ7IC8vIHJpY2h0dW5nIHJlY2h0c1xyXG5cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuZ2V0Q3Vyc29yKCkubGVmdC5pc0Rvd24gJiYgdGhpcy5sYXVmcmljaHR1bmcgIT0gdGhpcy5yaWNodHVuZ2VuLnJpZ2h0KSB7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmxhdWZyaWNodHVuZyA9IHRoaXMucmljaHR1bmdlbi5sZWZ0OyAvLyByaWNodHVuZyBsaW5rc1xyXG5cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuZ2V0Q3Vyc29yKCkudXAuaXNEb3duICYmIHRoaXMubGF1ZnJpY2h0dW5nICE9IHRoaXMucmljaHR1bmdlbi5kb3duKSB7IFxyXG5cclxuICAgICAgICAgICAgdGhpcy5sYXVmcmljaHR1bmcgPSB0aGlzLnJpY2h0dW5nZW4udXA7IC8vIHJpY2h0dW5nIG9iZW5cclxuXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmdldEN1cnNvcigpLmRvd24uaXNEb3duICYmIHRoaXMubGF1ZnJpY2h0dW5nICE9IHRoaXMucmljaHR1bmdlbi51cCkgeyBcclxuXHJcbiAgICAgICAgICAgIHRoaXMubGF1ZnJpY2h0dW5nID0gdGhpcy5yaWNodHVuZ2VuLmRvd247IC8vIHJpY2h0dW5nIHVudGVuXHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgLyoqIFxyXG4gICAgKiBBdXMgZGVyIGRlcnplaXRpZ2VuIFBvc2l0aW9uIHdlcmRlbiBuZXVlIEtvb3JkaW5hdGVuIGJlcmVjaG5ldCAodm9uIDEgU2Nocml0dCB3ZWl0ZXIpXHJcbiAgICAqIHVuZCBhbiBkZXIgbmV1IGJlcmVjaG5ldGVuIFBvc2l0aW9uIGVpbiBuZXVlciBLb3BmIGVyemV1Z3QuXHJcbiAgICAqL1xyXG4gICAgYmV3ZWdlU2NobGFuZ2UoKXtcclxuXHRcdCBcclxuXHRcdCAvL0hvbCBpbmZvcm1hdGlvbmVuIGRlcyBLb3BmZXNcclxuXHRcdCB2YXIga29wZiA9IHRoaXMuc2NobGFuZ2UuZ2V0SW5mbygpWzBdO1xyXG5cclxuICAgICAgICAvKiogQmVyZWNobnVuZyBkZXIgbmV1ZW4gS29vcmRpbmF0ZW4gKi9cclxuICAgICAgICBpZiAodGhpcy5sYXVmcmljaHR1bmcgPT0gdGhpcy5yaWNodHVuZ2VuLnJpZ2h0KSB7IC8vIHdlbm4gcmljaHR1bmcgcmVjaHRzIGlzdFxyXG5cclxuXHRcdFx0ICB0aGlzLnNjaGxhbmdlLm1vdmUoa29wZi5wb3NpdGlvblggKyAxLCBrb3BmLnBvc2l0aW9uWSk7XHJcblx0XHRcdCAgXHJcblxyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5sYXVmcmljaHR1bmcgPT0gdGhpcy5yaWNodHVuZ2VuLmxlZnQpIHsgLy8gd2VubiByaWNodHVuZyBsaW5rcyBpc3RcclxuXHJcbiAgICAgICAgICAgIHRoaXMuc2NobGFuZ2UubW92ZShrb3BmLnBvc2l0aW9uWCAtIDEsIGtvcGYucG9zaXRpb25ZKTtcclxuXHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmxhdWZyaWNodHVuZyA9PSB0aGlzLnJpY2h0dW5nZW4udXApIHsgLy8gd2VubiByaWNodHVuZyBvYmVuIGlzdFxyXG5cclxuICAgICAgICAgICAgdGhpcy5zY2hsYW5nZS5tb3ZlKGtvcGYucG9zaXRpb25YLCBrb3BmLnBvc2l0aW9uWSAtIDEpO1xyXG5cclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMubGF1ZnJpY2h0dW5nID09IHRoaXMucmljaHR1bmdlbi5kb3duKSB7IC8vIHdlbm4gcmljaHR1bmcgdW50ZW4gaXN0XHJcblxyXG4gICAgICAgICAgICB0aGlzLnNjaGxhbmdlLm1vdmUoa29wZi5wb3NpdGlvblgsIGtvcGYucG9zaXRpb25ZICsgMSk7XHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgKiBTY2hsYW5nZSBsw6R1ZnQgZ2VnZW4gZGVuIFJhbmQgZGVzIENhbnZhcyB1bmQga29tbXQgXHJcbiAgICAgICAgKiBhbiBkZXIgYW5kZXJlbiBTZWl0ZSB3aWVkZXIgcmF1cy5cclxuICAgICAgICAqIEJyYXVjaGVuIHdpciBuaWNodCB3ZW5uIHdpciBlaW5lIFdhbmQgbWFjaGVuLCBcclxuICAgICAgICAqIGRhbm4gd2lyZCBlaW5lIEtvbGxpc2lvbiBzdGF0dGRlc3NlbiBpbXBsZW1lbnRpZXJ0LlxyXG4gICAgICAgICovXHJcbiAgICAgICAgaWYgKGtvcGYucG9zaXRpb25YIDw9IDAgLSAxKSB7IC8vIHdlbm4geCBwb3NpdGlvbiBrbGVpbmVyL2dsZWljaCAwIC0gc3BpZWxlcmJyZWl0ZSBpc3RcclxuXHJcbiAgICAgICAgICAgIGtvcGYucG9zaXRpb25YID0gdGhpcy5jYW52YXNXaWR0aCAtIDE7IC8vIHBvc2l0aW9uIHggPSBjYW52YXMtYnJlaXRlIC0gc3BpZWxlcmJyZWl0ZVxyXG5cclxuICAgICAgICB9IGVsc2UgaWYgKGtvcGYucG9zaXRpb25YID49IHRoaXMuY2FudmFzV2lkdGgpIHsgLy8gd2VubiBwb3NpdGlvbiB4IGdyw7bDn2VyIGFscyBjYW52YXMtYnJlaXRlXHJcblxyXG4gICAgICAgICAgICBrb3BmLnBvc2l0aW9uWCA9IDA7XHJcblxyXG4gICAgICAgIH0gZWxzZSBpZiAoa29wZi5wb3NpdGlvblkgPD0gMCAtIDEpIHsgLy8gd2VubiBwb3NpdGlvbiB5IGtsZWluZXIvZ2xlaWNoIDAgLSBzcGllbGVyaMO2aGUgaXN0XHJcblxyXG4gICAgICAgICAgICBrb3BmLnBvc2l0aW9uWSA9IHRoaXMuY2FudmFzSGVpZ2h0IC0gMTsgLy8gcG9zaXRpb24geSA9IGNhbnZhcyBow7ZoZSAtIHNwaWVsZXJow7ZoZVxyXG5cclxuICAgICAgICB9IGVsc2UgaWYgKGtvcGYucG9zaXRpb25ZID49IHRoaXMuY2FudmFzSGVpZ2h0KSB7IC8vIHdlbm4gcG9zaXRpb24geSBncsO2w59lciBhbHMgY2FudmFzLWjDtmhlIGlzdFxyXG5cclxuICAgICAgICAgICAga29wZi5wb3NpdGlvblkgPSAwOyAvLyB5ID0gMFxyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIC8vLy8gS09MTElTSU9ORU4gLy8vL1xyXG5cdFxyXG5cdC8qKiBCZWZlaGwgZsO8ciBkYXMgU3Bhd25lbiBlaW5lcyBHZWdlbnN0YW5kZXMgKEdlZ25lcilcclxuXHRAcGFyYW0gQW56YWhsKi9cclxuXHRlcmhvZWhlR2VnbmVyemFobCgpe1xyXG5cdFx0dmFyIHBpY2t1cGtvbCA9IHRoaXMucGlja3VwLmdldEluZm8oKTtcclxuXHRcdHBpY2t1cGtvbCA9IHBpY2t1cGtvbFswXTtcclxuXHRcdHRoaXMuZ2VnbmVyLmFkZChwaWNrdXBrb2wpO1xyXG5cdH1cclxuXHRcclxuXHQvKiogU2V0enQgYmVpIFBpY2t1cCBhbGxlIE9iamVrdGUgZGllIG5ldSB2ZXJ0ZWlsdCB3ZXJkZW4gc29sbGVuIGF1ZiBuZXVlIFBvc2l0aW9uZW4qL1xyXG5cdHJlc3Bhd25BbGwoKXtcclxuXHRcdHZhciBrb3BmID0gdGhpcy5zY2hsYW5nZS5nZXRJbmZvKCk7XHJcblx0XHRrb3BmID0ga29wZlswXTtcclxuXHRcdHRoaXMucGlja3VwLnJlc3Bhd24oa29wZik7XHJcblx0XHR2YXIgcGlja3Vwa29sID0gdGhpcy5waWNrdXAuZ2V0SW5mbygpO1xyXG5cdFx0cGlja3Vwa29sID0gcGlja3Vwa29sWzBdO1xyXG5cdFx0dGhpcy5nZWduZXIucmVzcGF3bihwaWNrdXBrb2wpO1x0XHRcclxuXHR9XHJcblx0XHJcblx0LyoqIEtvbGxpc2lvbnNhYmZyYWdlbiBtaXQgZGVtIEtvcGYgZGVyIFNjaGxhbmdlXHJcblx0KkAgcmV0dXJuIGdpYnQgdHlwZW4gZGVyIEtvbGxpc2lvbiBhbHMgU3RyaW5nIHdpZWRlclxyXG5cdFx0OiBwaWNrdXAsIGZlaW5kKHNvd2llIHZlcmZvbGdlciBhbHMgYXVjaCBzdGVpbiksIGJvb24odXBncmFkZSlcclxuXHRcdGZhbGxzIGVpbmUgS29sbGlzaW9uIHN0YXR0ZmluZGV0XHJcblx0XHQ6IGZyZWlcclxuXHRcdGZhbGxzIGtlaW5lIEtvbGxpc2lvbiBzdGF0dGZpbmRldCovXHJcblx0a29sbGlzaW9uKCl7XHJcblx0XHQvL3NjaGxhbmdlbmluZm8gaG9sZW5cclxuXHRcdHZhciBzY2hsYW5nZW5pbmZvID0gdGhpcy5zY2hsYW5nZS5nZXRJbmZvKCk7XHJcblx0XHQvL2R1cmNoIFNjaGxhbmdlIGl0ZXJpZXJlblxyXG5cdFx0Zm9yKHZhciBpID0gMjsgaSA8IHNjaGxhbmdlbmluZm8ubGVuZ3RoOyBpKyspe1xyXG5cdFx0XHQvL0tvcGYgbWl0IEvDtnJwZXJ0ZWlsUG9zaXRpb24gdGVzdGVuLCBoaWVyYmVpIG11c3MgZXJzdCBiZWltIDMuIGFuZ2VmYW5nZW4gd2VyZGVuXHJcblx0XHRcdGlmKHNjaGxhbmdlbmluZm9bMF0uZ2V0UG9zaXRpb25YKCkgPT0gc2NobGFuZ2VuaW5mb1tpXS5nZXRQb3NpdGlvblgoKSl7XHJcblx0XHRcdFx0Ly9mYWxscyBYIHdlcnQgU3RpbW10IFkgd2VydCDDvGJlcnByw7xmZW5cclxuXHRcdFx0XHRpZihzY2hsYW5nZW5pbmZvWzBdLmdldFBvc2l0aW9uWSgpID09IHNjaGxhbmdlbmluZm9baV0uZ2V0UG9zaXRpb25ZKCkpe1xyXG5cdFx0XHRcdFx0Y29uc29sZS5sb2coJ0vDtnJwZXJ0ZWlsS29sbGlzaW9uIEFuIEvDtnJwZXJ0ZWlsOiAnICsgaSk7XHJcblx0XHRcdFx0XHRyZXR1cm4gJ2ZlaW5kJztcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdFxyXG5cdFx0Ly9kdXJjaCBHZWduZXIgSXRlcmllcmVuXHJcblx0XHR2YXIgZ2VnbmVyaW5mbyA9IHRoaXMuZ2VnbmVyLmdldEluZm8oKTtcclxuXHRcdGZvcih2YXIgaSA9IDA7IGkgPCBnZWduZXJpbmZvLmxlbmd0aDsgaSsrKXtcclxuXHRcdFx0Ly9Lb3BmIG1pdCBHZWduZXJuXHJcblx0XHRcdGlmKHNjaGxhbmdlbmluZm9bMF0uZ2V0UG9zaXRpb25YKCkgPT0gZ2VnbmVyaW5mb1tpXS5nZXRQb3NpdGlvblgoKSl7XHJcblx0XHRcdFx0Ly9mYWxscyBYIHdlcnQgU3RpbW10IFkgd2VydCDDvGJlcnByw7xmZW5cclxuXHRcdFx0XHRpZihzY2hsYW5nZW5pbmZvWzBdLmdldFBvc2l0aW9uWSgpID09IGdlZ25lcmluZm9baV0uZ2V0UG9zaXRpb25ZKCkpe1xyXG5cdFx0XHRcdFx0Y29uc29sZS5sb2coJ0dlZ25lcmtvbGxpc2lvbiBhbiBHZWduZXI6ICcgKyBpKTtcclxuXHRcdFx0XHRcdHJldHVybiAnZmVpbmQnO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0XHJcblx0XHQvL1BpY2t1cCB0ZXN0ZW5cclxuXHRcdHZhciBwaWNrdXBpbmZvID0gdGhpcy5waWNrdXAuZ2V0SW5mbygpO1xyXG5cdFx0aWYoc2NobGFuZ2VuaW5mb1swXS5nZXRQb3NpdGlvblgoKSA9PSBwaWNrdXBpbmZvWzBdLmdldFBvc2l0aW9uWCgpKXtcclxuXHRcdFx0aWYoc2NobGFuZ2VuaW5mb1swXS5nZXRQb3NpdGlvblkoKSA9PSBwaWNrdXBpbmZvWzBdLmdldFBvc2l0aW9uWSgpKXtcclxuXHRcdFx0XHRcdGNvbnNvbGUubG9nKCdQaWNrdXAgd3VyZGUgYXVmZ2Vob2JlbicgKyBpKTtcclxuXHRcdFx0XHRcdHJldHVybiAncGlja3VwJztcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0XHJcblx0XHQvL2ZhbGxzIG5pY2h0cyB6dXRyaWZmdCBmcmVpIHdpZWRlcmdlYmVuXHJcblx0XHRyZXR1cm4gJ2ZyZWknO1xyXG5cdH1cclxuXHRcclxuXHQvKiogVmVyZ3LDtsOfZXJ0IGRpZSBTY2hsYW5nZSAqL1xyXG5cdHZlcmdyb2Vzc2VyZVNjaGxhbmdlKCl7XHJcblx0XHR0aGlzLnNjaGxhbmdlLmFkZCgpO1xyXG5cdH1cclxuXHRcclxuXHQvKiogVmVya2xlaW5lcnQgZGllIFNjaGxhbmdlICovXHJcblx0dmVya3VlcnplU2NobGFuZ2UoKXtcclxuXHRcdHZhciB6dXRvZXRlbiA9IHRoaXMuc2NobGFuZ2UuZGVsZXRlKDApO1xyXG5cdFx0aWYoenV0b2V0ZW4gIT0gdW5kZWZpbmVkKXtcclxuXHRcdFx0dGhpcy52aWV3LmRyYXcoenV0b2V0ZW4sIHRydWUpO1xyXG5cdFx0fVxyXG4gICAgICAgIC8vZXJow7ZoZSBTcGllbHN0YW5kXHJcbiAgICAgICAgdGhpcy5zY29yZSArPSAxMDtcclxuXHR9XHJcblx0XHJcbiAgICBcclxuICAgIC8vLy8gVklFVy1VUERBVEUgLy8vL1xyXG5cdFxyXG5cdC8qKiBaZWljaG5lIE9iamVrdGUgKi9cclxuXHR6ZWljaG5lT2JqZWt0ZSgpe1xyXG5cdFx0Ly9adW7DpGNoc3QgU2NobGFuZ2VuIHplaWNobnVuZyBiZWF1ZnRyYWdlblxyXG5cdFx0dmFyIHNjaGxhbmdlbmluZm8gPSB0aGlzLnNjaGxhbmdlLmdldEluZm8oKTtcclxuXHRcdC8vdXBkYXRlIEhUTUwtRmVsZGVyOlxyXG4gICAgICAgIC8vTMOkbmdlIGRlciBTY2hsYW5nZSAob2huZSBkZW4gS29wZilcclxuXHRcdHRoaXMudmlldy5sYWVuZ2VuQW56ZWlnZShzY2hsYW5nZW5pbmZvLmxlbmd0aC0xKTtcclxuICAgICAgICAvL1NwaWVsc3RhbmRcclxuICAgICAgICB0aGlzLnZpZXcucHVua3RlQW56ZWlnZSh0aGlzLnNjb3JlKTtcclxuICAgICAgICAvL1RpbWVyXHJcbiAgICAgICAgdGhpcy52aWV3LnplaXRBbnplaWdlKHRoaXMuc2Vjb25kcyk7XHJcbiAgICAgICAgXHJcblx0XHRmb3IodmFyIGkgPSAwOyBpIDwgc2NobGFuZ2VuaW5mby5sZW5ndGg7IGkrKyl7XHJcblx0XHRcdHRoaXMudmlldy5kcmF3KHNjaGxhbmdlbmluZm9baV0sIGZhbHNlKTtcclxuXHRcdH1cclxuXHRcdHZhciBnZWduZXJpbmZvID0gdGhpcy5nZWduZXIuZ2V0SW5mbygpO1xyXG5cdFx0Zm9yKHZhciBpID0gMDsgaSA8IGdlZ25lcmluZm8ubGVuZ3RoOyBpKyspe1xyXG5cdFx0XHR0aGlzLnZpZXcuZHJhdyhnZWduZXJpbmZvW2ldLCBmYWxzZSk7XHJcblx0XHR9XHJcblx0XHR2YXIgcGlja3VwaW5mbyA9IHRoaXMucGlja3VwLmdldEluZm8oKTtcclxuXHRcdGZvcih2YXIgaSA9IDA7IGkgPCBwaWNrdXBpbmZvLmxlbmd0aDsgaSsrKXtcclxuXHRcdFx0dGhpcy52aWV3LmRyYXcocGlja3VwaW5mb1tpXSwgZmFsc2UpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9qc1Byb3RvL2NvbnRyb2xsZXIuanMiXSwic291cmNlUm9vdCI6IiJ9